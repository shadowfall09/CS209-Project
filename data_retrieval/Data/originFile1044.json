{"items":[{"tags":["java","split"],"answers":[{"tags":[],"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662921860,"creation_date":1662921860,"answer_id":73681830,"question_id":73681645,"body_markdown":"With your code , it would throw index out of bound exception because `matcher.start()+matcher.end()` is incorrect . It will be out of bound. You need to have last inserted position of , and reduce from it.\r\n\r\nYou can try below code.\r\n\r\n        StringBuffer inputText2 = new StringBuffer(&quot;ramy&amp;hanyfrank&amp;gerry&quot;);\r\n        int usernameLength = 0;\r\n        Pattern pattern = Pattern.compile(&quot;&amp;&quot;);\r\n        Matcher matcher = pattern.matcher(inputText2);\r\n        boolean found = false;\r\n        int a= 0;\r\n        while (matcher.find()) {\r\n            System.out.println(&quot;I found &quot; + matcher.group() + &quot; starting at index &quot; +\r\n                    matcher.start() + &quot; and ending at index &quot; + matcher.end());\r\n\r\n            usernameLength = matcher.start()-a+matcher.end();\r\n            System.out.println(usernameLength);\r\n            if (usernameLength&lt;inputText2.length())\r\n            inputText2.insert(usernameLength, &quot;,&quot;);\r\n            a= usernameLength+1;\r\n            System.out.println(inputText2);\r\n            found = true;\r\n        }\r\n        System.out.println(inputText2);\r\n        if (!found) {\r\n            System.out.println(&quot;No match found.&quot;);\r\n        }\r\n","title":"How to insert comma in specific index in string using java?","body":"<p>With your code , it would throw index out of bound exception because <code>matcher.start()+matcher.end()</code> is incorrect . It will be out of bound. You need to have last inserted position of , and reduce from it.</p>\n<p>You can try below code.</p>\n<pre><code>    StringBuffer inputText2 = new StringBuffer(&quot;ramy&amp;hanyfrank&amp;gerry&quot;);\n    int usernameLength = 0;\n    Pattern pattern = Pattern.compile(&quot;&amp;&quot;);\n    Matcher matcher = pattern.matcher(inputText2);\n    boolean found = false;\n    int a= 0;\n    while (matcher.find()) {\n        System.out.println(&quot;I found &quot; + matcher.group() + &quot; starting at index &quot; +\n                matcher.start() + &quot; and ending at index &quot; + matcher.end());\n\n        usernameLength = matcher.start()-a+matcher.end();\n        System.out.println(usernameLength);\n        if (usernameLength&lt;inputText2.length())\n        inputText2.insert(usernameLength, &quot;,&quot;);\n        a= usernameLength+1;\n        System.out.println(inputText2);\n        found = true;\n    }\n    System.out.println(inputText2);\n    if (!found) {\n        System.out.println(&quot;No match found.&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":20346939,"reputation":45,"user_id":14924539,"display_name":"mostafa2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73681830,"answer_count":1,"score":-2,"last_activity_date":1662921860,"creation_date":1662920278,"question_id":73681645,"body_markdown":"My problem is that I have a line with multiple usernames and I want to separate each username with a comma. Each username contains first name and last name and also &quot;&amp;&quot; symbol between them.\r\n\r\nThe first name and last name with same criteria and long for both\r\n\r\nI know the way to follow, which is that I have to find the number of letters of the first name (before the symbol &quot;&amp;&quot;) and after the symbol I get the same number of letters of the first name (that will be the second name) and therefore I add the comma here.\r\n\r\n***For Example:*** \r\n\r\n**The input line like this:**\r\n\r\nramy&amp;hanyfrank&amp;gerry\r\n\r\n**The output should be like this:**\r\n\r\n\r\nramy&amp;hany,frank&amp;gerry\r\n\r\n======\r\n\r\nI tried to implement it, but doesn&#39;t work with me as following:\r\n\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    \r\n    public class one {\r\n        public static void main(String[] args) {\r\n            // String inputText = &quot;ramy&amp;hanyfrank&amp;gerry&quot;;\r\n            StringBuffer inputText2 = new StringBuffer(&quot;ramy&amp;hanyfrank&amp;gerry&quot;);\r\n            int usernameLength = 0;\r\n            Pattern pattern = Pattern.compile(&quot;&amp;&quot;);\r\n            Matcher matcher = pattern.matcher(inputText2);\r\n            boolean found = false;\r\n            while (matcher.find()) {\r\n                System.out.println(&quot;I found &quot; + matcher.group() + &quot; starting at index &quot; +\r\n                        matcher.start() + &quot; and ending at index &quot; + matcher.end());\r\n    \r\n                usernameLength = matcher.start() + matcher.end();\r\n                System.out.println(usernameLength);\r\n    \r\n                inputText2.insert(usernameLength, &quot;,&quot;);\r\n                found = true;\r\n            }\r\n            System.out.println(inputText2);\r\n            if (!found) {\r\n                System.out.println(&quot;No match found.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to insert comma in specific index in string using java?","body":"<p>My problem is that I have a line with multiple usernames and I want to separate each username with a comma. Each username contains first name and last name and also &quot;&amp;&quot; symbol between them.</p>\n<p>The first name and last name with same criteria and long for both</p>\n<p>I know the way to follow, which is that I have to find the number of letters of the first name (before the symbol &quot;&amp;&quot;) and after the symbol I get the same number of letters of the first name (that will be the second name) and therefore I add the comma here.</p>\n<p><em><strong>For Example:</strong></em></p>\n<p><strong>The input line like this:</strong></p>\n<p>ramy&amp;hanyfrank&amp;gerry</p>\n<p><strong>The output should be like this:</strong></p>\n<p>ramy&amp;hany,frank&amp;gerry</p>\n<p>======</p>\n<p>I tried to implement it, but doesn't work with me as following:</p>\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class one {\n    public static void main(String[] args) {\n        // String inputText = &quot;ramy&amp;hanyfrank&amp;gerry&quot;;\n        StringBuffer inputText2 = new StringBuffer(&quot;ramy&amp;hanyfrank&amp;gerry&quot;);\n        int usernameLength = 0;\n        Pattern pattern = Pattern.compile(&quot;&amp;&quot;);\n        Matcher matcher = pattern.matcher(inputText2);\n        boolean found = false;\n        while (matcher.find()) {\n            System.out.println(&quot;I found &quot; + matcher.group() + &quot; starting at index &quot; +\n                    matcher.start() + &quot; and ending at index &quot; + matcher.end());\n\n            usernameLength = matcher.start() + matcher.end();\n            System.out.println(usernameLength);\n\n            inputText2.insert(usernameLength, &quot;,&quot;);\n            found = true;\n        }\n        System.out.println(inputText2);\n        if (!found) {\n            System.out.println(&quot;No match found.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","nullpointerexception","equals","hashcode"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1362120749,"post_id":15152145,"comment_id":21334237,"body_markdown":"Your hashCode implementation breaks the [`Object#hashCode`](http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()) contract: *Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.*","body":"Your hashCode implementation breaks the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object#hashCode</code></a> contract: <i>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.</i>"},{"owner":{"account_id":19220,"reputation":114617,"user_id":44853,"accept_rate":77,"display_name":"lc."},"score":5,"creation_date":1362120814,"post_id":15152145,"comment_id":21334252,"body_markdown":"If you are to throw an exception I would be more inclined to throw an `IllegalStateException` rather than just let the `NullPointerException` bubble up. To me a `NullPointerException` in someone else&#39;s code smells of a bug, but an `IllegalStateException` tells me &quot;you&#39;re not allowed to do that (yet), *by design*&quot;.","body":"If you are to throw an exception I would be more inclined to throw an <code>IllegalStateException</code> rather than just let the <code>NullPointerException</code> bubble up. To me a <code>NullPointerException</code> in someone else&#39;s code smells of a bug, but an <code>IllegalStateException</code> tells me &quot;you&#39;re not allowed to do that (yet), <i>by design</i>&quot;."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1362120826,"post_id":15152145,"comment_id":21334260,"body_markdown":"@LuiggiMendoza: Information used by the equals comparison *would* change if the id is changed though. Are you talking about the number returned, or the exception?","body":"@LuiggiMendoza: Information used by the equals comparison <i>would</i> change if the id is changed though. Are you talking about the number returned, or the exception?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362120868,"post_id":15152145,"comment_id":21334268,"body_markdown":"@JonSkeet about the number returned, since this implementation would return the `id.hashCode()` sometimes and `0` in others.","body":"@JonSkeet about the number returned, since this implementation would return the <code>id.hashCode()</code> sometimes and <code>0</code> in others."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1362120978,"post_id":15152145,"comment_id":21334302,"body_markdown":"@LuiggiMendoza: But so long as `id` is also used in `equals`, it doesn&#39;t violate the contract. What *exact* scenario are you considering which would break the contract, assuming that `equals` *does* use `id`?","body":"@LuiggiMendoza: But so long as <code>id</code> is also used in <code>equals</code>, it doesn&#39;t violate the contract. What <i>exact</i> scenario are you considering which would break the contract, assuming that <code>equals</code> <i>does</i> use <code>id</code>?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362121183,"post_id":15152145,"comment_id":21334362,"body_markdown":"@JonSkeet so I can have `int x = entity.hashCode(); //0... entity.setId(someClassInstance.createId()); int y = entity.hashCode; if (x != y) { System.out.println(&quot;this is fine!&quot;); }` assuming that `someClassInstance.createId()` would return a non-null id for the entity, and this would be good? By the way, I understand it could be legal.","body":"@JonSkeet so I can have <code>int x = entity.hashCode(); &#47;&#47;0... entity.setId(someClassInstance.createId()); int y = entity.hashCode; if (x != y) { System.out.println(&quot;this is fine!&quot;); }</code> assuming that <code>someClassInstance.createId()</code> would return a non-null id for the entity, and this would be good? By the way, I understand it could be legal."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1362121669,"post_id":15152145,"comment_id":21334528,"body_markdown":"Yes, that&#39;s fine - and explicitly covered in the contract you stated: &quot;the hashCode method must consistently return the same integer, **provided no information used in equals comparisons on the object is modified**&quot;. The information used in equals comparisons has been modified, so it&#39;s fine for the hash code to change.","body":"Yes, that&#39;s fine - and explicitly covered in the contract you stated: &quot;the hashCode method must consistently return the same integer, <b>provided no information used in equals comparisons on the object is modified</b>&quot;. The information used in equals comparisons has been modified, so it&#39;s fine for the hash code to change."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362121754,"post_id":15152145,"comment_id":21334557,"body_markdown":"@JonSkeet what about *Whenever it is invoked **on the same object more than once** during an execution of a Java application* part before the text you pulled out?","body":"@JonSkeet what about <i>Whenever it is invoked <b>on the same object more than once</b> during an execution of a Java application</i> part before the text you pulled out?"},{"owner":{"account_id":19220,"reputation":114617,"user_id":44853,"accept_rate":77,"display_name":"lc."},"score":0,"creation_date":1362121825,"post_id":15152145,"comment_id":21334579,"body_markdown":"@LuiggiMendoza Assuming that `equals` uses `id` to do a comparison, by changing the `id` you have semantically changed the object to be a different one, even though the physical object in memory is the same. IMHO, the problem really comes from being able to change `id` in the first place.","body":"@LuiggiMendoza Assuming that <code>equals</code> uses <code>id</code> to do a comparison, by changing the <code>id</code> you have semantically changed the object to be a different one, even though the physical object in memory is the same. IMHO, the problem really comes from being able to change <code>id</code> in the first place."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362121950,"post_id":15152145,"comment_id":21334639,"body_markdown":"@lc. so if I use this `Entity` as key for a `Map` and I change the `id` attribute value after setting the same `Entity` instance as key in the `Map`, doesn&#39;t that make the `Map` to have an odd behavior?","body":"@lc. so if I use this <code>Entity</code> as key for a <code>Map</code> and I change the <code>id</code> attribute value after setting the same <code>Entity</code> instance as key in the <code>Map</code>, doesn&#39;t that make the <code>Map</code> to have an odd behavior?"},{"owner":{"account_id":19220,"reputation":114617,"user_id":44853,"accept_rate":77,"display_name":"lc."},"score":0,"creation_date":1362122041,"post_id":15152145,"comment_id":21334674,"body_markdown":"@LuiggiMendoza Oh yeah, it does. That&#39;s why I said the problem comes from being able to change `id` after it&#39;s been set.","body":"@LuiggiMendoza Oh yeah, it does. That&#39;s why I said the problem comes from being able to change <code>id</code> after it&#39;s been set."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362122082,"post_id":15152145,"comment_id":21334692,"body_markdown":"@lc. then this is not a valid implementation for `hashCode` =\\ , it&#39;s legal but not valid.","body":"@lc. then this is not a valid implementation for <code>hashCode</code> =\\ , it&#39;s legal but not valid."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1362122395,"post_id":15152145,"comment_id":21334833,"body_markdown":"@LuiggiMendoza: Yes, it *is*. It *doesn&#39;t* violate the rules for `hashCode`. If you change the `id` after putting it into the map, *you&#39;re* violating the rules for what you do with keys.","body":"@LuiggiMendoza: Yes, it <i>is</i>. It <i>doesn&#39;t</i> violate the rules for <code>hashCode</code>. If you change the <code>id</code> after putting it into the map, <i>you&#39;re</i> violating the rules for what you do with keys."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1362122493,"post_id":15152145,"comment_id":21334874,"body_markdown":"@LuiggiMendoza: That&#39;s still covered by the &quot;provided no information...&quot; clause which you&#39;re completely ignoring. Basically, if you change information used by `equals` between two calls to `hashCode`, all bets are off.","body":"@LuiggiMendoza: That&#39;s still covered by the &quot;provided no information...&quot; clause which you&#39;re completely ignoring. Basically, if you change information used by <code>equals</code> between two calls to <code>hashCode</code>, all bets are off."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1362124121,"post_id":15152145,"comment_id":21335583,"body_markdown":"@JonSkeet after searching this on the net, I found that I didn&#39;t understand the whole concept. IMO [this blog entry](http://eclipsesource.com/blogs/2012/09/04/the-3-things-you-should-know-about-hashcode/) points an interesting resource that explains this. Thanks for helping me out.","body":"@JonSkeet after searching this on the net, I found that I didn&#39;t understand the whole concept. IMO <a href=\"http://eclipsesource.com/blogs/2012/09/04/the-3-things-you-should-know-about-hashcode/\" rel=\"nofollow noreferrer\">this blog entry</a> points an interesting resource that explains this. Thanks for helping me out."}],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362121177,"creation_date":1362120789,"answer_id":15152189,"question_id":15152145,"body_markdown":"For validating the state of the object you should use [Bean validation framework][1] to make sure the state of the object is valid.\r\n\r\n**No** hashcode and equals method should **not throw** Exceptions.\r\n\r\n`equals` method **must** have checks for nullity. And when the object is created it is creators responsibility to make sure that the object is in valid state, so `hashCode` would never have to throw an exception. For that bean validation can be used. IMO.\r\n\r\n**UPDATE**: As you are using bean frameworks which create beans for you, you have to rely on bean validation. But otherwise it MUST be the responsibility of the `Factory` that creates the object to make sure that **only a valid instance is created**.\r\n\r\n\r\n  [1]: http://www.hibernate.org/subprojects/validator.html","title":"Are exceptions in hashCode and equals methods allowed and acceptable in Java?","body":"<p>For validating the state of the object you should use <a href=\"http://www.hibernate.org/subprojects/validator.html\" rel=\"nofollow\">Bean validation framework</a> to make sure the state of the object is valid.</p>\n\n<p><strong>No</strong> hashcode and equals method should <strong>not throw</strong> Exceptions.</p>\n\n<p><code>equals</code> method <strong>must</strong> have checks for nullity. And when the object is created it is creators responsibility to make sure that the object is in valid state, so <code>hashCode</code> would never have to throw an exception. For that bean validation can be used. IMO.</p>\n\n<p><strong>UPDATE</strong>: As you are using bean frameworks which create beans for you, you have to rely on bean validation. But otherwise it MUST be the responsibility of the <code>Factory</code> that creates the object to make sure that <strong>only a valid instance is created</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1362120935,"creation_date":1362120935,"answer_id":15152237,"question_id":15152145,"body_markdown":"You never want a null pointer exception in your code. **Never**. Especially in functions heavily-used outside your own code. `hashcode` `equals` `toString` should never throw exceptions.\r\n\r\nBTW: you can always just return id as the hashcode.","title":"Are exceptions in hashCode and equals methods allowed and acceptable in Java?","body":"<p>You never want a null pointer exception in your code. <strong>Never</strong>. Especially in functions heavily-used outside your own code. <code>hashcode</code> <code>equals</code> <code>toString</code> should never throw exceptions.</p>\n\n<p>BTW: you can always just return id as the hashcode.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1362120938,"creation_date":1362120938,"answer_id":15152238,"question_id":15152145,"body_markdown":"I would personally check for nullity and make the methods always return with no exceptions.\r\n\r\nWhile runtime exceptions often aren&#39;t documented and can be thrown anywhere, I think it would be generally poor for them to be thrown by `equals` and `hashCode`. On the one hand, I can definitely see your point about being put in maps before being fully populated... but on the other hand it&#39;s hard to really know where `equals` will be called.\r\n\r\nAs lc says in comments, if you really want to throw an exception, it would be much better to throw an `IllegalStateException` to make it crystal clear that this was deliberate, than to let a `NullReferenceException` be thrown &quot;by default&quot; which makes it look like you just didn&#39;t think about the null scenario.","title":"Are exceptions in hashCode and equals methods allowed and acceptable in Java?","body":"<p>I would personally check for nullity and make the methods always return with no exceptions.</p>\n\n<p>While runtime exceptions often aren't documented and can be thrown anywhere, I think it would be generally poor for them to be thrown by <code>equals</code> and <code>hashCode</code>. On the one hand, I can definitely see your point about being put in maps before being fully populated... but on the other hand it's hard to really know where <code>equals</code> will be called.</p>\n\n<p>As lc says in comments, if you really want to throw an exception, it would be much better to throw an <code>IllegalStateException</code> to make it crystal clear that this was deliberate, than to let a <code>NullReferenceException</code> be thrown \"by default\" which makes it look like you just didn't think about the null scenario.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1362130610,"creation_date":1362121958,"answer_id":15152484,"question_id":15152145,"body_markdown":"In general, the answer is &quot;it depends&quot;.\r\n\r\n - If you should *never* see instances of the class with `null` for that field, then it is reasonable to allow an NPE to be thrown.  The NPE indicates a bug; i.e. a situation where your informal invariant is broken.\r\n\r\n - If there are circumstances where an instance with a `null` could reasonably expected, then you should deal with the `null` case without throwing an exception.\r\n\r\n----------------------------\r\n\r\nIn this particular case, you are apparently dealing with objects where the `id` field can be null if the object hasn&#39;t been persisted yet.  This presents a tricky problem:\r\n\r\n  - If you don&#39;t allow `null` for the `id`, then you have to be careful not to put non-persistent objects into a hash table.\r\n\r\n  - If you do allow `null` for the `id`, then you have the problem that if you add an object to a hash table and THEN persist it, the `hashcode` may change leading to breakage of the hash table.  So, now you need to defend against THAT ... by memoising the object&#39;s hashcode value in a transient field.  And roughly the same problem occurs with `equals`.  If equality changes when an object is persisted, then you had better not mix persisted and non-persisted keys in the same hash table.\r\n\r\nTaking all of that into account, I&#39;d advise to either throw that NPE, or not use the `id` fields in `equals` / `hashcode`.","title":"Are exceptions in hashCode and equals methods allowed and acceptable in Java?","body":"<p>In general, the answer is \"it depends\".</p>\n\n<ul>\n<li><p>If you should <em>never</em> see instances of the class with <code>null</code> for that field, then it is reasonable to allow an NPE to be thrown.  The NPE indicates a bug; i.e. a situation where your informal invariant is broken.</p></li>\n<li><p>If there are circumstances where an instance with a <code>null</code> could reasonably expected, then you should deal with the <code>null</code> case without throwing an exception.</p></li>\n</ul>\n\n<hr>\n\n<p>In this particular case, you are apparently dealing with objects where the <code>id</code> field can be null if the object hasn't been persisted yet.  This presents a tricky problem:</p>\n\n<ul>\n<li><p>If you don't allow <code>null</code> for the <code>id</code>, then you have to be careful not to put non-persistent objects into a hash table.</p></li>\n<li><p>If you do allow <code>null</code> for the <code>id</code>, then you have the problem that if you add an object to a hash table and THEN persist it, the <code>hashcode</code> may change leading to breakage of the hash table.  So, now you need to defend against THAT ... by memoising the object's hashcode value in a transient field.  And roughly the same problem occurs with <code>equals</code>.  If equality changes when an object is persisted, then you had better not mix persisted and non-persisted keys in the same hash table.</p></li>\n</ul>\n\n<p>Taking all of that into account, I'd advise to either throw that NPE, or not use the <code>id</code> fields in <code>equals</code> / <code>hashcode</code>.</p>\n"}],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6893,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":15152484,"answer_count":4,"score":14,"last_activity_date":1662920905,"creation_date":1362120544,"question_id":15152145,"body_markdown":"Some classes filled by frameworks (like beans). So you can&#39;t guaranty that all fields set.\r\n\r\nLook to example: classes marked as `@Entity` usually have `Integer id` field. `hashCode` can be written as:\r\n\r\n    public int hashCode() {\r\n        return id.hashCode();\r\n    }\r\n\r\nbut defensive code may look like:\r\n\r\n    public int hashCode() {\r\n        return (id != null) ? id.hashCode() : 0;\r\n    }\r\n\r\nDo I need write checks for null or surround code with `try { ... } catch (Exception e)` in `hashCode` and `equals` functions?\r\n\r\nI have no arguments for defencive coding is such case because it hide putting inconsistent objects to collections and lead to late errors. Am I wrong in this position?\r\n\r\n**UPDATE** I wrote such code:\r\n\r\n    import java.util.*;\r\n\r\n    class ExceptionInHashcode {\r\n\r\n        String name;\r\n\r\n        ExceptionInHashcode() { }\r\n        ExceptionInHashcode(String name) { this.name = name; }\r\n\r\n        public int hashCode() {\r\n            // throw new IllegalStateException(&quot;xxx&quot;);\r\n            return this.name.hashCode();\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            Hashtable list = new Hashtable();\r\n            list.put(new ExceptionInHashcode(&quot;ok&quot;), 1);\r\n            list.put(new ExceptionInHashcode(), 2); // fail\r\n            System.out.println(&quot;list.size(): &quot; + list.size());\r\n        }\r\n    }\r\n\r\nand run it:\r\n\r\n    java -classpath . ExceptionInHashcode\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at ExceptionInHashcode.hashCode(ExceptionInHashcode.java:12)\r\n            at java.util.Hashtable.hash(Hashtable.java:262)\r\n            at java.util.Hashtable.put(Hashtable.java:547)\r\n            at ExceptionInHashcode.main(ExceptionInHashcode.java:18)\r\n\r\nI think that I can find error early instead of returning zero if object is in wrong state...","title":"Are exceptions in hashCode and equals methods allowed and acceptable in Java?","body":"<p>Some classes filled by frameworks (like beans). So you can't guaranty that all fields set.</p>\n<p>Look to example: classes marked as <code>@Entity</code> usually have <code>Integer id</code> field. <code>hashCode</code> can be written as:</p>\n<pre><code>public int hashCode() {\n    return id.hashCode();\n}\n</code></pre>\n<p>but defensive code may look like:</p>\n<pre><code>public int hashCode() {\n    return (id != null) ? id.hashCode() : 0;\n}\n</code></pre>\n<p>Do I need write checks for null or surround code with <code>try { ... } catch (Exception e)</code> in <code>hashCode</code> and <code>equals</code> functions?</p>\n<p>I have no arguments for defencive coding is such case because it hide putting inconsistent objects to collections and lead to late errors. Am I wrong in this position?</p>\n<p><strong>UPDATE</strong> I wrote such code:</p>\n<pre><code>import java.util.*;\n\nclass ExceptionInHashcode {\n\n    String name;\n\n    ExceptionInHashcode() { }\n    ExceptionInHashcode(String name) { this.name = name; }\n\n    public int hashCode() {\n        // throw new IllegalStateException(&quot;xxx&quot;);\n        return this.name.hashCode();\n    }\n\n    public static void main(String args[]) {\n        Hashtable list = new Hashtable();\n        list.put(new ExceptionInHashcode(&quot;ok&quot;), 1);\n        list.put(new ExceptionInHashcode(), 2); // fail\n        System.out.println(&quot;list.size(): &quot; + list.size());\n    }\n}\n</code></pre>\n<p>and run it:</p>\n<pre><code>java -classpath . ExceptionInHashcode\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at ExceptionInHashcode.hashCode(ExceptionInHashcode.java:12)\n        at java.util.Hashtable.hash(Hashtable.java:262)\n        at java.util.Hashtable.put(Hashtable.java:547)\n        at ExceptionInHashcode.main(ExceptionInHashcode.java:18)\n</code></pre>\n<p>I think that I can find error early instead of returning zero if object is in wrong state...</p>\n"},{"tags":["java","kotlin","redis","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662920759,"creation_date":1662920759,"answer_id":73681694,"question_id":73679145,"body_markdown":"Your usage of react client is not correct, you should not return `Mono.empty()` from `saveAuthorizedClient`, you should return `Mono&lt;Boolean&gt; ` and subscribe to it. You can ignore the return value if you do not need the result, but you must subscribe it so that it will execute the business logic. ","title":"ReactiveRedisTemplate opsForValue().set not working","body":"<p>Your usage of react client is not correct, you should not return <code>Mono.empty()</code> from <code>saveAuthorizedClient</code>, you should return <code>Mono&lt;Boolean&gt; </code> and subscribe to it. You can ignore the return value if you do not need the result, but you must subscribe it so that it will execute the business logic.</p>\n"}],"owner":{"account_id":8902878,"reputation":296,"user_id":6645767,"accept_rate":64,"display_name":"matrixguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662920759,"creation_date":1662898204,"question_id":73679145,"body_markdown":"I am trying to save oauth login credentials in redis . Using spring oauth2 library, and spring redis.\r\n\r\n\r\nMy saveAuthorizedClient method should be saving the key/val pair in redis, but nothing is being saved. Have attached a debugger and the key value pairs are correctly assigned, its the **reactiveOauthRedisTemplate.opsForValue().set(key, authorizedClient)** which seems to be not doing anything.\r\n \r\n```\r\n\r\nclass CustomClientService(\r\n        val reactiveClientRegistrationRepository: ReactiveClientRegistrationRepository,\r\n        val reactiveOauthRedisTemplate: ReactiveRedisTemplate&lt;String, OAuth2AuthorizedClient&gt;\r\n) : ReactiveOAuth2AuthorizedClientService {\r\n\r\n\r\n    override fun &lt;T : OAuth2AuthorizedClient&gt; loadAuthorizedClient(clientRegistrationId: String, principalName: String): Mono&lt;T&gt; {\r\n        Assert.hasText(clientRegistrationId, &quot;clientRegistrationId cannot be empty&quot;)\r\n        Assert.hasText(principalName, &quot;principalName cannot be empty&quot;)\r\n        return clientRegistrationRepository.findByRegistrationId(clientRegistrationId)\r\n                .map { rediskey(clientRegistrationId, principalName) }\r\n                .flatMap { key: String -&gt;\r\n                    reactiveOauthRedisTemplate.opsForValue().get(key) as Mono&lt;T&gt;\r\n                }\r\n    }\r\n\r\n    override fun saveAuthorizedClient(authorizedClient: OAuth2AuthorizedClient, principal: Authentication): Mono&lt;Void&gt; {\r\n        val key = rediskey(authorizedClient.clientRegistration.registrationId, principal.name)\r\n        reactiveOauthRedisTemplate.opsForValue().set(key, authorizedClient)\r\n                .let {\r\n                    val x = reactiveOauthRedisTemplate.opsForValue().get(key)\r\n                    println(&quot;my redis data is $x&quot;)\r\n                    x.map {\r\n                        println(&quot;my data value is $it&quot;)\r\n                        val token = x as OAuth2AuthorizedClient\r\n                    }\r\n                }\r\n\r\n        return Mono.empty()\r\n    }\r\n\r\n    private fun rediskey(clientRegistrationId: String, principalName: String): String {\r\n        return &quot;something...&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s my redis config\r\n\r\n```\r\n@Configuration\r\nclass RedisConfig {\r\n    @Bean\r\n    fun reactiveOauthRedisTemplate(reactiveRedisConnectionFactory: ReactiveRedisConnectionFactory,\r\n                                   resourceLoader: ResourceLoader): ReactiveRedisTemplate&lt;String, OAuth2AuthorizedClient&gt; {\r\n        val keySerializer: RedisSerializer&lt;String&gt; = StringRedisSerializer()\r\n        val defaultSerializer = JdkSerializationRedisSerializer(resourceLoader.classLoader)\r\n        val serializationContext = RedisSerializationContext\r\n                .newSerializationContext&lt;String, OAuth2AuthorizedClient&gt;(defaultSerializer).key(keySerializer).hashKey(keySerializer)\r\n                .build()\r\n        return ReactiveRedisTemplate(reactiveRedisConnectionFactory, serializationContext)\r\n    }\r\n}\r\n```\r\n\r\n\r\nredis yaml config\r\n```\r\nspring:\r\n  redis:\r\n    host: localhost\r\n```\r\n\r\nFrom debugger , the redis connect has host and port correct.  Any help here is appreciated.\r\n\r\n\r\nHere&#39;s my redis client object from debugger\r\n\r\n```\r\nredisURI = {RedisURI@12018} &quot;redis://127.0.0.1&quot;\r\n host = &quot;127.0.0.1&quot;\r\n socket = null\r\n sentinelMasterId = null\r\n port = 6379\r\n database = 0\r\n clientName = null\r\n username = null\r\n password = null\r\n ssl = false\r\n verifyMode = {SslVerifyMode@12033} &quot;FULL&quot;\r\n startTls = false\r\n timeout = {Duration@12010} &quot;PT1M&quot;\r\n sentinels = {ArrayList@12034}  size = 0\r\n```","title":"ReactiveRedisTemplate opsForValue().set not working","body":"<p>I am trying to save oauth login credentials in redis . Using spring oauth2 library, and spring redis.</p>\n<p>My saveAuthorizedClient method should be saving the key/val pair in redis, but nothing is being saved. Have attached a debugger and the key value pairs are correctly assigned, its the <strong>reactiveOauthRedisTemplate.opsForValue().set(key, authorizedClient)</strong> which seems to be not doing anything.</p>\n<pre><code>\nclass CustomClientService(\n        val reactiveClientRegistrationRepository: ReactiveClientRegistrationRepository,\n        val reactiveOauthRedisTemplate: ReactiveRedisTemplate&lt;String, OAuth2AuthorizedClient&gt;\n) : ReactiveOAuth2AuthorizedClientService {\n\n\n    override fun &lt;T : OAuth2AuthorizedClient&gt; loadAuthorizedClient(clientRegistrationId: String, principalName: String): Mono&lt;T&gt; {\n        Assert.hasText(clientRegistrationId, &quot;clientRegistrationId cannot be empty&quot;)\n        Assert.hasText(principalName, &quot;principalName cannot be empty&quot;)\n        return clientRegistrationRepository.findByRegistrationId(clientRegistrationId)\n                .map { rediskey(clientRegistrationId, principalName) }\n                .flatMap { key: String -&gt;\n                    reactiveOauthRedisTemplate.opsForValue().get(key) as Mono&lt;T&gt;\n                }\n    }\n\n    override fun saveAuthorizedClient(authorizedClient: OAuth2AuthorizedClient, principal: Authentication): Mono&lt;Void&gt; {\n        val key = rediskey(authorizedClient.clientRegistration.registrationId, principal.name)\n        reactiveOauthRedisTemplate.opsForValue().set(key, authorizedClient)\n                .let {\n                    val x = reactiveOauthRedisTemplate.opsForValue().get(key)\n                    println(&quot;my redis data is $x&quot;)\n                    x.map {\n                        println(&quot;my data value is $it&quot;)\n                        val token = x as OAuth2AuthorizedClient\n                    }\n                }\n\n        return Mono.empty()\n    }\n\n    private fun rediskey(clientRegistrationId: String, principalName: String): String {\n        return &quot;something...&quot;\n    }\n}\n</code></pre>\n<p>Here's my redis config</p>\n<pre><code>@Configuration\nclass RedisConfig {\n    @Bean\n    fun reactiveOauthRedisTemplate(reactiveRedisConnectionFactory: ReactiveRedisConnectionFactory,\n                                   resourceLoader: ResourceLoader): ReactiveRedisTemplate&lt;String, OAuth2AuthorizedClient&gt; {\n        val keySerializer: RedisSerializer&lt;String&gt; = StringRedisSerializer()\n        val defaultSerializer = JdkSerializationRedisSerializer(resourceLoader.classLoader)\n        val serializationContext = RedisSerializationContext\n                .newSerializationContext&lt;String, OAuth2AuthorizedClient&gt;(defaultSerializer).key(keySerializer).hashKey(keySerializer)\n                .build()\n        return ReactiveRedisTemplate(reactiveRedisConnectionFactory, serializationContext)\n    }\n}\n</code></pre>\n<p>redis yaml config</p>\n<pre><code>spring:\n  redis:\n    host: localhost\n</code></pre>\n<p>From debugger , the redis connect has host and port correct.  Any help here is appreciated.</p>\n<p>Here's my redis client object from debugger</p>\n<pre><code>redisURI = {RedisURI@12018} &quot;redis://127.0.0.1&quot;\n host = &quot;127.0.0.1&quot;\n socket = null\n sentinelMasterId = null\n port = 6379\n database = 0\n clientName = null\n username = null\n password = null\n ssl = false\n verifyMode = {SslVerifyMode@12033} &quot;FULL&quot;\n startTls = false\n timeout = {Duration@12010} &quot;PT1M&quot;\n sentinels = {ArrayList@12034}  size = 0\n</code></pre>\n"},{"tags":["java","docker","publish-subscribe","hazelcast"],"comments":[{"owner":{"account_id":17127425,"reputation":256,"user_id":12394291,"display_name":"mdumandag"},"score":0,"creation_date":1662366588,"post_id":73592224,"comment_id":129981243,"body_markdown":"Can you share a simple reproducer? I am able to publish and receive the topic messages (both reliable and normal) in the same client application.","body":"Can you share a simple reproducer? I am able to publish and receive the topic messages (both reliable and normal) in the same client application."},{"owner":{"account_id":4626103,"reputation":83,"user_id":3749888,"display_name":"Shandilya"},"score":0,"creation_date":1662920537,"post_id":73592224,"comment_id":130112597,"body_markdown":"@mdumandag Thanks for your response but this issue got resolved.","body":"@mdumandag Thanks for your response but this issue got resolved."}],"answers":[{"tags":[],"owner":{"account_id":4626103,"reputation":83,"user_id":3749888,"display_name":"Shandilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662920728,"creation_date":1662920728,"answer_id":73681690,"question_id":73592224,"body_markdown":"We resolved this issue by replacing hazelcast-5.3.1 jar with hazelcast-client-4.x jar in our client app docker image.\r\n\r\nPosting an answer here just in case if someone faces similar issue.","title":"Hazelcast client subscriber not receiving message","body":"<p>We resolved this issue by replacing hazelcast-5.3.1 jar with hazelcast-client-4.x jar in our client app docker image.</p>\n<p>Posting an answer here just in case if someone faces similar issue.</p>\n"}],"owner":{"account_id":4626103,"reputation":83,"user_id":3749888,"display_name":"Shandilya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662920728,"creation_date":1662207919,"question_id":73592224,"body_markdown":"We are running Hazelcast Java client app in one docker container &amp; hazelcast server with single member in other container on same machine. \r\n\r\nOur client app is able to connect to hz server container &amp; play around with data but pub/sub is not working.\r\n\r\nBoth pub/sub threads are running in client app itself. Data is getting published as it can be seen in Hazelcast management center but it&#39;s not getting received.\r\n\r\nDoes anyone have any idea about this?\r\n\r\nPS: We are using hazelcast v5.1.3 with default server &amp; client config.","title":"Hazelcast client subscriber not receiving message","body":"<p>We are running Hazelcast Java client app in one docker container &amp; hazelcast server with single member in other container on same machine.</p>\n<p>Our client app is able to connect to hz server container &amp; play around with data but pub/sub is not working.</p>\n<p>Both pub/sub threads are running in client app itself. Data is getting published as it can be seen in Hazelcast management center but it's not getting received.</p>\n<p>Does anyone have any idea about this?</p>\n<p>PS: We are using hazelcast v5.1.3 with default server &amp; client config.</p>\n"},{"tags":["java","spring-boot","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662920273,"creation_date":1605956935,"answer_id":64942361,"question_id":64939159,"body_markdown":"Quoting from the [doc][1]\r\n\r\n&gt; `jedis.pool.max-active` Maximum number of connections that can be\r\n&gt; allocated by the pool at a given time. Use a negative value for no\r\n&gt; limit.\r\n&gt; \r\n&gt; `jedis.pool.max-idle` Maximum number of &quot;idle&quot; connections in the\r\n&gt; pool. Use a negative value to indicate an unlimited number of idle\r\n&gt; connections.\r\n&gt; \r\n&gt; `jedis.pool.max-wait` Maximum amount of time a connection allocation\r\n&gt; should block before throwing an exception when the pool is exhausted.\r\n&gt; Use a negative value to block indefinitely.\r\n&gt; \r\n&gt; \r\n&gt; `jedis.pool.min-idle` Target for the minimum number of idle\r\n&gt; connections to maintain in the pool. This setting only has an effect\r\n&gt; if both it and time between eviction runs are positive.\r\n&gt; \r\n&gt; `jedis.pool.time-between-eviction-runs` Time between runs of the idle\r\n&gt; object evictor thread. When positive, the idle object evictor thread\r\n&gt; starts, otherwise no idle object eviction is performed.\r\n\r\n\r\nIncreasing `max-active`/`max-idle` just means that you&#39;re going to have some additional connections. As you&#39;ve increased the connection count to 8 from 5 so you can send 3 other requests in parallel. On another side, you have set `max-wait` to -1 so you could be potentially waiting indefinitely. \r\n\r\nIdle connection: When a connection is taken from the connection pool, once its usage is over it&#39;s put back in the connection pool. Connection pooling uses two parameters to decide whether the connection would be disposed of or can be used later. Based on the eviction timeout an active connection would be closed after the eviction timeout, for example, if the eviction timeout is 5 seconds and the connection was created 10 seconds ago then this connection can be closed to reach the `max-idle` connections. If the number of active connections is below the `max-idle` then this connection can be retained and reused. \r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties","title":"Can the redis template throw a connectimeout exception when executing a redis operation?","body":"<p>Quoting from the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties\" rel=\"nofollow noreferrer\">doc</a></p>\n<blockquote>\n<p><code>jedis.pool.max-active</code> Maximum number of connections that can be\nallocated by the pool at a given time. Use a negative value for no\nlimit.</p>\n<p><code>jedis.pool.max-idle</code> Maximum number of &quot;idle&quot; connections in the\npool. Use a negative value to indicate an unlimited number of idle\nconnections.</p>\n<p><code>jedis.pool.max-wait</code> Maximum amount of time a connection allocation\nshould block before throwing an exception when the pool is exhausted.\nUse a negative value to block indefinitely.</p>\n<p><code>jedis.pool.min-idle</code> Target for the minimum number of idle\nconnections to maintain in the pool. This setting only has an effect\nif both it and time between eviction runs are positive.</p>\n<p><code>jedis.pool.time-between-eviction-runs</code> Time between runs of the idle\nobject evictor thread. When positive, the idle object evictor thread\nstarts, otherwise no idle object eviction is performed.</p>\n</blockquote>\n<p>Increasing <code>max-active</code>/<code>max-idle</code> just means that you're going to have some additional connections. As you've increased the connection count to 8 from 5 so you can send 3 other requests in parallel. On another side, you have set <code>max-wait</code> to -1 so you could be potentially waiting indefinitely.</p>\n<p>Idle connection: When a connection is taken from the connection pool, once its usage is over it's put back in the connection pool. Connection pooling uses two parameters to decide whether the connection would be disposed of or can be used later. Based on the eviction timeout an active connection would be closed after the eviction timeout, for example, if the eviction timeout is 5 seconds and the connection was created 10 seconds ago then this connection can be closed to reach the <code>max-idle</code> connections. If the number of active connections is below the <code>max-idle</code> then this connection can be retained and reused.</p>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662920273,"creation_date":1605924588,"question_id":64939159,"body_markdown":"I am a bit confused about the difference between connect timeout and read timeout. I understand that redis may throw a connect timeout exception when the application starts and sets the initial connection. My questions is can redis throw a connect timeout after the application has started when executing a redis transaction?.\r\n\r\nThe way connection pooling works is that the running transaction request a redis connection from the connection pool. Will that be considered as the event where a connect timeout can be thrown if no connection is provided on time?. Then once the transaction has the connection, it will execute the redis operation and that&#39;s when the read timeout may arise.\r\n\r\nAn explanation on the following jedis elements relating to exceptions would be helpful:\r\n\r\n \r\n\r\n  \r\n\r\n       jedis:\r\n              pool:\r\n                max-active: 5\r\n                max-idle: 5\r\n                max-wait: -1ms\r\n                min-idle: 3\r\n\r\nI switched to the following default settings and the http requests seem to be executed faster in average from postman:\r\n\r\n    jedis:\r\n          pool:\r\n            max-active: 8\r\n            max-idle: 8\r\n            max-wait: -1ms\r\n            min-idle: 0\r\nwhy does that happen?\r\n\r\nwhat is the definition of an idle and active connections?","title":"Can the redis template throw a connectimeout exception when executing a redis operation?","body":"<p>I am a bit confused about the difference between connect timeout and read timeout. I understand that redis may throw a connect timeout exception when the application starts and sets the initial connection. My questions is can redis throw a connect timeout after the application has started when executing a redis transaction?.</p>\n<p>The way connection pooling works is that the running transaction request a redis connection from the connection pool. Will that be considered as the event where a connect timeout can be thrown if no connection is provided on time?. Then once the transaction has the connection, it will execute the redis operation and that's when the read timeout may arise.</p>\n<p>An explanation on the following jedis elements relating to exceptions would be helpful:</p>\n<pre><code>   jedis:\n          pool:\n            max-active: 5\n            max-idle: 5\n            max-wait: -1ms\n            min-idle: 3\n</code></pre>\n<p>I switched to the following default settings and the http requests seem to be executed faster in average from postman:</p>\n<pre><code>jedis:\n      pool:\n        max-active: 8\n        max-idle: 8\n        max-wait: -1ms\n        min-idle: 0\n</code></pre>\n<p>why does that happen?</p>\n<p>what is the definition of an idle and active connections?</p>\n"},{"tags":["java","docker","javafx"],"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1544796765,"post_id":53779802,"comment_id":94414037,"body_markdown":"So far I am using docker _airdock/oracle-jdk:jdk-8u112_ which contains javafx.","body":"So far I am using docker <i>airdock/oracle-jdk:jdk-8u112</i> which contains javafx."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1593623713,"creation_date":1544792037,"answer_id":53780205,"question_id":53779802,"body_markdown":"If you want to use an OpenJDK 8 build which contains JavaFX you might want to have a look at [Amazon Corretto][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/docker-install.html","title":"Docker OpenJDK-8 JavaFx","body":"<p>If you want to use an OpenJDK 8 build which contains JavaFX you might want to have a look at <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/docker-install.html\" rel=\"nofollow noreferrer\">Amazon Corretto</a>.</p>\n"},{"tags":[],"owner":{"account_id":2436902,"reputation":938,"user_id":10506185,"display_name":"sirain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662919888,"creation_date":1662919888,"answer_id":73681605,"question_id":53779802,"body_markdown":"I got it to work by using [Zulu][1]:\r\n```docker\r\nFROM debian:bullseye\r\n\r\nRUN  apt-get -q update &amp;&amp; \\\r\n     apt-get -yq install curl x11-apps &amp;&amp; \\\r\n     curl -O https://cdn.azul.com/zulu/bin/zulu8.64.0.19-ca-fx-jdk8.0.345-linux_amd64.deb &amp;&amp; \\\r\n     dpkg -i /zulu8.64.0.19-ca-fx-jdk8.0.345-linux_amd64.deb ; \\\r\n     apt-get -yq install -f\r\n```\r\nThis is for Java 8, but Zulu also offers other Java versions.\r\n\r\n  [1]: https://www.azul.com/downloads/?package=jdk-fx","title":"Docker OpenJDK-8 JavaFx","body":"<p>I got it to work by using <a href=\"https://www.azul.com/downloads/?package=jdk-fx\" rel=\"nofollow noreferrer\">Zulu</a>:</p>\n<pre><code>FROM debian:bullseye\n\nRUN  apt-get -q update &amp;&amp; \\\n     apt-get -yq install curl x11-apps &amp;&amp; \\\n     curl -O https://cdn.azul.com/zulu/bin/zulu8.64.0.19-ca-fx-jdk8.0.345-linux_amd64.deb &amp;&amp; \\\n     dpkg -i /zulu8.64.0.19-ca-fx-jdk8.0.345-linux_amd64.deb ; \\\n     apt-get -yq install -f\n</code></pre>\n<p>This is for Java 8, but Zulu also offers other Java versions.</p>\n"}],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662919888,"creation_date":1544790543,"question_id":53779802,"body_markdown":"I am trying to run a java application as JAR within a Dockercontainer using the openjdk.  \r\nNow I got stuck missing the javafx dependencies.\r\n\r\n    docker run --rm -v `pwd`/:/mnt -v `pwd`/logs:/logs --rm --network=&quot;host&quot; openjdk:8-jdk java -jar /mnt/MyJar.jar /mnt/application-localdocker.properties\r\n\r\nThe used openjdk 8 version is this:  \r\n8/jdk/Dockerfile from https://hub.docker.com/_/openjdk/  \r\n(https://github.com/docker-library/openjdk/blob/7a33416016b60c045cf0ba99e82617ed6c130595/8/jdk/Dockerfile)\r\n\r\nI was reading why it is excluded and different more complex ways to use it.  \r\nBut that does not really help me since I do not want to build my own docker image.  \r\nI think there must be an easier way to do it. All the docs I have read so far exclude the one or other aspect but never combine them.\r\n\r\nI would appreciate any help here...  \r\n\r\n(For the people asking why using openjdk instead of jre; I do have a database hibernate issue and I want all environments to most likely be the same. Since locally it does not occur but occurs in a dockerized Java-8-JRE environment: Spring @Schedule @Transactional on database access issue.)","title":"Docker OpenJDK-8 JavaFx","body":"<p>I am trying to run a java application as JAR within a Dockercontainer using the openjdk.<br>\nNow I got stuck missing the javafx dependencies.</p>\n\n<pre><code>docker run --rm -v `pwd`/:/mnt -v `pwd`/logs:/logs --rm --network=\"host\" openjdk:8-jdk java -jar /mnt/MyJar.jar /mnt/application-localdocker.properties\n</code></pre>\n\n<p>The used openjdk 8 version is this:<br>\n8/jdk/Dockerfile from <a href=\"https://hub.docker.com/_/openjdk/\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/openjdk/</a><br>\n(<a href=\"https://github.com/docker-library/openjdk/blob/7a33416016b60c045cf0ba99e82617ed6c130595/8/jdk/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/docker-library/openjdk/blob/7a33416016b60c045cf0ba99e82617ed6c130595/8/jdk/Dockerfile</a>)</p>\n\n<p>I was reading why it is excluded and different more complex ways to use it.<br>\nBut that does not really help me since I do not want to build my own docker image.<br>\nI think there must be an easier way to do it. All the docs I have read so far exclude the one or other aspect but never combine them.</p>\n\n<p>I would appreciate any help here...  </p>\n\n<p>(For the people asking why using openjdk instead of jre; I do have a database hibernate issue and I want all environments to most likely be the same. Since locally it does not occur but occurs in a dockerized Java-8-JRE environment: Spring @Schedule @Transactional on database access issue.)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1662914904,"post_id":73680943,"comment_id":130111411,"body_markdown":"how you are calling `createArray` method, please share that","body":"how you are calling <code>createArray</code> method, please share that"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662914907,"post_id":73680943,"comment_id":130111412,"body_markdown":"Hi&amp; Welcome! Please better describe the problem/expectations! ..since the &quot;array filling&quot; &quot;looks ok&quot;","body":"Hi&amp; Welcome! Please better describe the problem/expectations! ..since the &quot;array filling&quot; &quot;looks ok&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16909157,"reputation":163,"user_id":12228688,"display_name":"Skerdi Velo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662918759,"creation_date":1662918759,"answer_id":73681475,"question_id":73680943,"body_markdown":"Illegal modifier for the local class CreateNewArray; only abstract or final is permitted.\r\n\r\nWell just remove the public.\r\n\r\n    class CreateNewArray {\r\n      public static int[] createArray() {\r\n        int numbers[] = new int[5];\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            numbers[i] = i + 1;\r\n        }return numbers;\r\n      }\r\n    }\r\nHope this helps.","title":"java.lang.AssertionError. How correctly fill an array through the loop. I do not know why my code does not work","body":"<p>Illegal modifier for the local class CreateNewArray; only abstract or final is permitted.</p>\n<p>Well just remove the public.</p>\n<pre><code>class CreateNewArray {\n  public static int[] createArray() {\n    int numbers[] = new int[5];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        numbers[i] = i + 1;\n    }return numbers;\n  }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26306921,"reputation":1,"user_id":19971213,"display_name":"Andrii-Yaroelav "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662918759,"creation_date":1662914399,"question_id":73680943,"body_markdown":"    public class CreateNewArray {\r\n    public static int[] createArray() {\r\n    int numbers[] = new int[5];\r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n    numbers[i] = i + 1;\r\n    }return numbers;\r\n    }\r\n    }\r\n The code does not work, please, help me to fix it.","title":"java.lang.AssertionError. How correctly fill an array through the loop. I do not know why my code does not work","body":"<pre><code>public class CreateNewArray {\npublic static int[] createArray() {\nint numbers[] = new int[5];\nfor (int i = 0; i &lt; numbers.length; i++) {\nnumbers[i] = i + 1;\n}return numbers;\n}\n}\n</code></pre>\n<p>The code does not work, please, help me to fix it.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8656744,"reputation":424,"user_id":6480749,"display_name":"J11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579112311,"creation_date":1579112311,"answer_id":59757403,"question_id":59755383,"body_markdown":"Indeed, without specifying the bean name it will fail to start with the following message:\r\n\r\n**The bean &#39;b&#39;, defined in class path resource**\r\n\r\n\r\nHere&#39;s a way, which is counter intuitive because if the subclass extender doesn&#39;t call `super.b()`, then some important logic would never be executed.\r\n\r\nBut for the sake of answering your specific question:\r\n\r\n\r\nC superclass\r\n\r\n\r\n    public abstract class C&lt;B&gt; {\r\n\r\n      protected B b() {\r\n       return a();\r\n      }\r\n\r\n      protected abstract B a();\r\n    }\r\n\r\nExtending subclasses\r\n\r\n    @Configuration\r\n    public class E extends C&lt;X&gt; {\r\n\r\n      @Bean(&quot;X)// Bean name qualifier\r\n      @Override\r\n      protected X b() {\r\n        return super.b();\r\n      }\r\n\r\n      @Override\r\n      protected X a() {\r\n        return new X();\r\n      }\r\n    }\r\n\r\n\r\n    @Configuration\r\n    public class F extends C&lt;Y&gt; {\r\n\r\n      @Bean(&quot;Y&quot;) // Bean name qualifier\r\n      @Override\r\n      protected Y b() {\r\n        return super.b();\r\n      }\r\n\r\n      @Override\r\n      protected Y a() {\r\n        return new Y();\r\n      }\r\n    }\r\n\r\nSpring component\r\n\r\n    @Component\r\n    public class Bean {\r\n      private final X x;\r\n      private final Y y;\r\n\r\n      public Bean(X x, Y y) {\r\n        this.x = x;\r\n        this.y = y;\r\n      }\r\n    }\r\n\r\nHope this helps","title":"@Bean: unique bean name in subclasses","body":"<p>Indeed, without specifying the bean name it will fail to start with the following message:</p>\n\n<p><strong>The bean 'b', defined in class path resource</strong></p>\n\n<p>Here's a way, which is counter intuitive because if the subclass extender doesn't call <code>super.b()</code>, then some important logic would never be executed.</p>\n\n<p>But for the sake of answering your specific question:</p>\n\n<p>C superclass</p>\n\n<pre><code>public abstract class C&lt;B&gt; {\n\n  protected B b() {\n   return a();\n  }\n\n  protected abstract B a();\n}\n</code></pre>\n\n<p>Extending subclasses</p>\n\n<pre><code>@Configuration\npublic class E extends C&lt;X&gt; {\n\n  @Bean(\"X)// Bean name qualifier\n  @Override\n  protected X b() {\n    return super.b();\n  }\n\n  @Override\n  protected X a() {\n    return new X();\n  }\n}\n\n\n@Configuration\npublic class F extends C&lt;Y&gt; {\n\n  @Bean(\"Y\") // Bean name qualifier\n  @Override\n  protected Y b() {\n    return super.b();\n  }\n\n  @Override\n  protected Y a() {\n    return new Y();\n  }\n}\n</code></pre>\n\n<p>Spring component</p>\n\n<pre><code>@Component\npublic class Bean {\n  private final X x;\n  private final Y y;\n\n  public Bean(X x, Y y) {\n    this.x = x;\n    this.y = y;\n  }\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":15364362,"reputation":91,"user_id":11084336,"display_name":"sirjoga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662917842,"creation_date":1662917842,"answer_id":73681378,"question_id":59755383,"body_markdown":"Seems there is no way to override naming strategy of `@Bean` beans.\r\n\r\nBut you can create your custom annotation, for example `@UniqueNamedBean`, and register your custom BeanFactoryPostProcessor that scans methods of existing bean definition classes and creates additional bean definitions. \r\n\r\nThis is kotlin, not pure java, but hope it helps.\r\n\r\n```kotlin\r\n@Component\r\nclass UniqueNamedBeanPostProcessor : BeanFactoryPostProcessor {\r\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\r\n        for (name in beanFactory.beanDefinitionNames) {\r\n            val def = beanFactory.getBeanDefinition(name) as? AnnotatedBeanDefinition ?: continue\r\n            val className = def.beanClassName\r\n            if (className == null || def.factoryMethodName != null) continue\r\n            val metadata = def.metadata\r\n            for (method in metadata.getAnnotatedMethods(UniqueNamedBean::class.java.name)) {\r\n                val beanDef = GenericBeanDefinition()\r\n                beanDef.factoryBeanName = name\r\n                beanDef.factoryMethodName = method.methodName\r\n                method.getAnnotationAttributes(Scope::class.qualifiedName!!)?.let {\r\n                    beanDef.scope = it[&quot;value&quot;]!! as String\r\n                }\r\n                beanDef.autowireMode = AbstractBeanDefinition.AUTOWIRE_CONSTRUCTOR\r\n                (beanFactory as DefaultListableBeanFactory).registerBeanDefinition(\r\n                    className + &quot;_&quot; + method.methodName, beanDef\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"@Bean: unique bean name in subclasses","body":"<p>Seems there is no way to override naming strategy of <code>@Bean</code> beans.</p>\n<p>But you can create your custom annotation, for example <code>@UniqueNamedBean</code>, and register your custom BeanFactoryPostProcessor that scans methods of existing bean definition classes and creates additional bean definitions.</p>\n<p>This is kotlin, not pure java, but hope it helps.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass UniqueNamedBeanPostProcessor : BeanFactoryPostProcessor {\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\n        for (name in beanFactory.beanDefinitionNames) {\n            val def = beanFactory.getBeanDefinition(name) as? AnnotatedBeanDefinition ?: continue\n            val className = def.beanClassName\n            if (className == null || def.factoryMethodName != null) continue\n            val metadata = def.metadata\n            for (method in metadata.getAnnotatedMethods(UniqueNamedBean::class.java.name)) {\n                val beanDef = GenericBeanDefinition()\n                beanDef.factoryBeanName = name\n                beanDef.factoryMethodName = method.methodName\n                method.getAnnotationAttributes(Scope::class.qualifiedName!!)?.let {\n                    beanDef.scope = it[&quot;value&quot;]!! as String\n                }\n                beanDef.autowireMode = AbstractBeanDefinition.AUTOWIRE_CONSTRUCTOR\n                (beanFactory as DefaultListableBeanFactory).registerBeanDefinition(\n                    className + &quot;_&quot; + method.methodName, beanDef\n                )\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11643394,"reputation":1124,"user_id":8527109,"display_name":"L&#225;szl&#243; Stahorszki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59757403,"answer_count":2,"score":5,"last_activity_date":1662917842,"creation_date":1579104644,"question_id":59755383,"body_markdown":"I have an abstract configuration class in a Spring 4 based project. The class looks something like this:\r\n\r\n```\r\npublic abstract class C&lt;B&gt; {\r\n    @Bean\r\n    public B b() {\r\n        return a();\r\n    }\r\n\r\n    protected abstract B a();\r\n}\r\n```\r\n\r\nOf course, this is not the actual class, but let&#39;s work with this theoretical class, that involves the most important parts of the real problematic class.\r\n\r\nThis class `C` is extended by multiple classes. For example:\r\n```\r\n@Configuration\r\npublic class E extends C&lt;X&gt; {\r\n\r\n    @Override\r\n    protected X a() { return new X(); }\r\n}\r\n\r\n@Configuration\r\npublic class F extends C&lt;Y&gt; {\r\n\r\n    @Override\r\n    protected Y a() { return new Y(); }\r\n}\r\n```\r\n\r\nThe goal is to let every extending class instantiate and set up the bean the way they are intended to be and to expose the instance as a Spring bean to be injected into other beans. In other words, all of the fields should have a bean instance injected in the following bean:\r\n\r\n```\r\n@Component\r\npublic class Bean {\r\n    private final X x;\r\n    private final Y y;\r\n\r\n    public Bean(X x, Y y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the bean created by `b()` will always have a name of `b`, which means that even if I have more than 1 extension of `C`, only one of the beans will be available. In the above example, it would mean that either `x`, or `y` field is null (or would throw an exception).\r\n\r\nHow can I give unique names to these beans, so that all of the extensions of `C` can expose its own bean instance without overlap?","title":"@Bean: unique bean name in subclasses","body":"<p>I have an abstract configuration class in a Spring 4 based project. The class looks something like this:</p>\n\n<pre><code>public abstract class C&lt;B&gt; {\n    @Bean\n    public B b() {\n        return a();\n    }\n\n    protected abstract B a();\n}\n</code></pre>\n\n<p>Of course, this is not the actual class, but let's work with this theoretical class, that involves the most important parts of the real problematic class.</p>\n\n<p>This class <code>C</code> is extended by multiple classes. For example:</p>\n\n<pre><code>@Configuration\npublic class E extends C&lt;X&gt; {\n\n    @Override\n    protected X a() { return new X(); }\n}\n\n@Configuration\npublic class F extends C&lt;Y&gt; {\n\n    @Override\n    protected Y a() { return new Y(); }\n}\n</code></pre>\n\n<p>The goal is to let every extending class instantiate and set up the bean the way they are intended to be and to expose the instance as a Spring bean to be injected into other beans. In other words, all of the fields should have a bean instance injected in the following bean:</p>\n\n<pre><code>@Component\npublic class Bean {\n    private final X x;\n    private final Y y;\n\n    public Bean(X x, Y y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n\n<p>The problem is that the bean created by <code>b()</code> will always have a name of <code>b</code>, which means that even if I have more than 1 extension of <code>C</code>, only one of the beans will be available. In the above example, it would mean that either <code>x</code>, or <code>y</code> field is null (or would throw an exception).</p>\n\n<p>How can I give unique names to these beans, so that all of the extensions of <code>C</code> can expose its own bean instance without overlap?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1662913898,"post_id":73679935,"comment_id":130111177,"body_markdown":"Your current code will always put the new paragraphs at the end. Why not try with https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewParagraph-org.apache.xmlbeans.XmlCursor- ?","body":"Your current code will always put the new paragraphs at the end. Why not try with <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewParagraph-org.apache.xmlbeans.XmlCursor-\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/&hellip;</a> ?"}],"owner":{"account_id":20763560,"reputation":11,"user_id":19807539,"display_name":"progJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662915510,"creation_date":1662905333,"question_id":73679935,"body_markdown":"I need to insert new paragraphs in diferents positiins in docx.\r\n\r\nMy code insert new paragraph but not in determinate position\r\n\r\n    XWFParagraph. \r\n    para=docx.createParagraph();\r\n\r\n    XWPFRun run =para.createRun();\r\n\r\n    run.setText(&quot;example \r\n     paragraph&quot;);","title":"How to create new paragraph in determinate position with Apache poi?","body":"<p>I need to insert new paragraphs in diferents positiins in docx.</p>\n<p>My code insert new paragraph but not in determinate position</p>\n<pre><code>XWFParagraph. \npara=docx.createParagraph();\n\nXWPFRun run =para.createRun();\n\nrun.setText(&quot;example \n paragraph&quot;);\n</code></pre>\n"},{"tags":["java","hibernate","testcontainers","quarkus-panache"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662914060,"post_id":73680863,"comment_id":130111205,"body_markdown":"What is (the value of) `user.id`? (...what is the id generation strategy?...:)","body":"What is (the value of) <code>user.id</code>? (...what is the id generation strategy?...:)"},{"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"score":1,"creation_date":1662915077,"post_id":73680863,"comment_id":130111455,"body_markdown":"1 and @GeneratedValue(strategy = GenerationType.IDENTITY)","body":"1 and @GeneratedValue(strategy = GenerationType.IDENTITY)"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1663056966,"post_id":73680863,"comment_id":130143341,"body_markdown":"Did you implement `QuarkusTransactionalTest` as described [here](https://quarkus.io/guides/getting-started-testing#applying-interceptors-to-tests)?","body":"Did you implement <code>QuarkusTransactionalTest</code> as described <a href=\"https://quarkus.io/guides/getting-started-testing#applying-interceptors-to-tests\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"score":0,"creation_date":1663084485,"post_id":73680863,"comment_id":130154056,"body_markdown":"Yep, I have `QuarkusTransactionalTest` in the question","body":"Yep, I have <code>QuarkusTransactionalTest</code> in the question"}],"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662913605,"creation_date":1662913605,"question_id":73680863,"body_markdown":"I have an app running on a Quarkus server. I have a Postgres DB using hibernate and implement `PanacheRepositoryBase`. When the app runs, things runs smoothly but when I try to run integration tests, the db doesn&#39;t get populated. \r\n\r\nI have a beforeEach call and here I add a record in the Company table, but then in the test I try to add a user and that table is empty. The thing that confuses me is when I persist the object I return `findById()` and it returns an object, but yet the table is empty. I am really confused by this...\r\n\r\n```\r\n@ApplicationScoped\r\npublic class UserRepository implements PanacheRepositoryBase&lt;UserEntity, Long&gt; {\r\n\r\n    @Transactional\r\n    public UserEntity persistUser(UserEntity user) {\r\n        persist(user);\r\n        return findById(user.getId());\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@QuarkusTransactionalTest\r\n@QuarkusTestResource(PostgresResource.class)\r\npublic class UserRepositoryIntegrationTest {\r\n\r\n    @Inject\r\n    UserRepository repository;\r\n\r\n    @Inject\r\n    CompanyRepository companyRepo;\r\n\r\n    private CompanyEntity company;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        company = companyRepo.persistCompany(createCompany()); // Added to DB\r\n    }\r\n\r\n    @AfterEach\r\n    void cleanup() {\r\n        repository.deleteAll();\r\n        companyRepo.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    void test_persistUser() {\r\n        // UserEntity is returned\r\n        UserEntity user = repository.persistUser(createUser(company, true, true)); \r\n        assertNotNull(user);\r\n\r\n        UserEntity user2 = reposiitory.findById(user.getId());\r\n        assertNotNull(user2); // This fails as it is null\r\n    }\r\n}\r\n```","title":"Persisting object in a test does not save it to the DB","body":"<p>I have an app running on a Quarkus server. I have a Postgres DB using hibernate and implement <code>PanacheRepositoryBase</code>. When the app runs, things runs smoothly but when I try to run integration tests, the db doesn't get populated.</p>\n<p>I have a beforeEach call and here I add a record in the Company table, but then in the test I try to add a user and that table is empty. The thing that confuses me is when I persist the object I return <code>findById()</code> and it returns an object, but yet the table is empty. I am really confused by this...</p>\n<pre><code>@ApplicationScoped\npublic class UserRepository implements PanacheRepositoryBase&lt;UserEntity, Long&gt; {\n\n    @Transactional\n    public UserEntity persistUser(UserEntity user) {\n        persist(user);\n        return findById(user.getId());\n    }\n}\n</code></pre>\n<pre><code>@QuarkusTransactionalTest\n@QuarkusTestResource(PostgresResource.class)\npublic class UserRepositoryIntegrationTest {\n\n    @Inject\n    UserRepository repository;\n\n    @Inject\n    CompanyRepository companyRepo;\n\n    private CompanyEntity company;\n\n    @BeforeEach\n    void setup() {\n        company = companyRepo.persistCompany(createCompany()); // Added to DB\n    }\n\n    @AfterEach\n    void cleanup() {\n        repository.deleteAll();\n        companyRepo.deleteAll();\n    }\n\n    @Test\n    void test_persistUser() {\n        // UserEntity is returned\n        UserEntity user = repository.persistUser(createUser(company, true, true)); \n        assertNotNull(user);\n\n        UserEntity user2 = reposiitory.findById(user.getId());\n        assertNotNull(user2); // This fails as it is null\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","sorting","uuid"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349636230,"creation_date":1349636230,"answer_id":12771812,"question_id":12771737,"body_markdown":"There is a class in JDK dedicated to the management of UUIDs, called `java.util.UUID`. There&#39;s a static method `fromString` in it that should fit your goal. As far as I can see, you can use instances of UUID in JDBC insert statements.","title":"Conversion String to UUID in Postgres and Java","body":"<p>There is a class in JDK dedicated to the management of UUIDs, called <code>java.util.UUID</code>. There's a static method <code>fromString</code> in it that should fit your goal. As far as I can see, you can use instances of UUID in JDBC insert statements.</p>\n"},{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349637674,"creation_date":1349637674,"answer_id":12772025,"question_id":12771737,"body_markdown":"At [oVirt][1] open source project, we use the PostgreSQL uuid type to store our Primary keys and Foreign keys. &lt;BR&gt;\r\nWe have build a wrapper called Guid that uses the java.util.UUID class to hold the read data from the DB. &lt;BR&gt;\r\nWhen retrieving a ResultSet (we use spring-jdbc) we use the getString method in order to get the UUID value as String, and then use the fromString method of java.util.UUID. &lt;BR&gt;\r\nYou can git clone our project and look at ovirt-engine/backend/manager/modules/dal (our data access layer) project for more information.\r\n\r\n\r\n  [1]: http://www.ovirt.org","title":"Conversion String to UUID in Postgres and Java","body":"<p>At <a href=\"http://www.ovirt.org\" rel=\"nofollow\">oVirt</a> open source project, we use the PostgreSQL uuid type to store our Primary keys and Foreign keys. <BR>\nWe have build a wrapper called Guid that uses the java.util.UUID class to hold the read data from the DB. <BR>\nWhen retrieving a ResultSet (we use spring-jdbc) we use the getString method in order to get the UUID value as String, and then use the fromString method of java.util.UUID. <BR>\nYou can git clone our project and look at ovirt-engine/backend/manager/modules/dal (our data access layer) project for more information.</p>\n"},{"tags":[],"owner":{"account_id":2211284,"reputation":2132,"user_id":1953056,"display_name":"Popeye"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1662912796,"creation_date":1452161871,"answer_id":34652560,"question_id":12771737,"body_markdown":"In PostgresSQL&#39;s SQL grammar\r\nUsing \r\n\r\n```sql\r\nconcat(UUID,&#39;&#39;)\r\n```\r\n\r\n\r\nreturns a text result. Using \r\n\r\n```sql\r\nuuid(text)\r\n```\r\n\r\nreturns a UUID result.","title":"Conversion String to UUID in Postgres and Java","body":"<p>In PostgresSQL's SQL grammar\nUsing</p>\n<pre class=\"lang-sql prettyprint-override\"><code>concat(UUID,'')\n</code></pre>\n<p>returns a text result. Using</p>\n<pre class=\"lang-sql prettyprint-override\"><code>uuid(text)\n</code></pre>\n<p>returns a UUID result.</p>\n"},{"tags":[],"owner":{"account_id":2397256,"reputation":1414,"user_id":2537328,"accept_rate":25,"display_name":"dodbrian"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1597219470,"creation_date":1597219470,"answer_id":63372330,"question_id":12771737,"body_markdown":"In PostgreSQL, apart from using `uuid()`, it&#39;s also possible to specify the type explicitly like `::uuid`:\r\n\r\n```sql\r\nwith myconst (__ef_filter__id_0, __filter_workitemid_0, __filter_projectid_1, __id_2) as (\r\nvalues ( &#39;fcb8284c-1bd4-4d50-b5df-09a091b01d8c&#39;::uuid, &#39;9e4b70a7-c222-47dd-87cb-fbbaaf396ccd&#39;::uuid, uuid(&#39;2b10c0a5-e35d-425d-a71a-9e473924ac4c&#39;), uuid(&#39;3fa85f64-5717-4562-b3fc-2c963f66afa6&#39;)) )\r\nselect ...\r\n```","title":"Conversion String to UUID in Postgres and Java","body":"<p>In PostgreSQL, apart from using <code>uuid()</code>, it's also possible to specify the type explicitly like <code>::uuid</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>with myconst (__ef_filter__id_0, __filter_workitemid_0, __filter_projectid_1, __id_2) as (\nvalues ( 'fcb8284c-1bd4-4d50-b5df-09a091b01d8c'::uuid, '9e4b70a7-c222-47dd-87cb-fbbaaf396ccd'::uuid, uuid('2b10c0a5-e35d-425d-a71a-9e473924ac4c'), uuid('3fa85f64-5717-4562-b3fc-2c963f66afa6')) )\nselect ...\n</code></pre>\n"}],"owner":{"account_id":1330510,"reputation":589,"user_id":1274531,"display_name":"javalonde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81656,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":4,"score":45,"last_activity_date":1662912796,"creation_date":1349635677,"question_id":12771737,"body_markdown":"I need to convert String ( text ) to UUID ( Postgres ) and keep the same sorting like for a String. Is it possible? I saw the UUID base on the time, so maybe it&#39;s not possible?","title":"Conversion String to UUID in Postgres and Java","body":"<p>I need to convert String ( text ) to UUID ( Postgres ) and keep the same sorting like for a String. Is it possible? I saw the UUID base on the time, so maybe it's not possible?</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662585489,"post_id":73641353,"comment_id":130042872,"body_markdown":"You ignore exceptions and return a 404. Log these exceptions and see what is happening.","body":"You ignore exceptions and return a 404. Log these exceptions and see what is happening."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1662587599,"post_id":73641353,"comment_id":130043334,"body_markdown":"Use your debugger to step through the controller.  This should tell you what has and hasn&#39;t been mocked, as well as exactly what gets executed and why.  Throwing away exceptions is generally a bad thing to do - stack traces can tell you so much about what went wrong.  And returning a 404 response to mean &quot;something went wrong&quot; is just plain incorrect.","body":"Use your debugger to step through the controller.  This should tell you what has and hasn&#39;t been mocked, as well as exactly what gets executed and why.  Throwing away exceptions is generally a bad thing to do - stack traces can tell you so much about what went wrong.  And returning a 404 response to mean &quot;something went wrong&quot; is just plain incorrect."},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1662840326,"post_id":73641353,"comment_id":130100688,"body_markdown":"Maybe I don&#39;t understand the mock :( I used the debbugger : so : If this line :when(safetyNetServiceInterface.postPerson(person)).thenReturn(listPersons); in debugger I have safetyNetServiceInterface.postPerson(person)\nLinkedList@107 size=0 If line after safetyNetServiceInterface.postPerson(person)\nArrayList@65 size=1 and listPersons is &quot;[Persons{firstName=&#39;TEST999_FirstName&#39;, lastName=&#39;TEST999_LastName&#39;, address=&#39;TEST999_address&#39;, city=&#39;city&#39;, zip=&#39;zip&#39;, phone=&#39;phone&#39;, email=&#39;email&#39;}]&quot; but :","body":"Maybe I don&#39;t understand the mock :( I used the debbugger : so : If this line :when(safetyNetServiceInterface.postPerson(person)).thenRetu&zwnj;&#8203;rn(listPersons); in debugger I have safetyNetServiceInterface.postPerson(person) LinkedList@107 size=0 If line after safetyNetServiceInterface.postPerson(person) ArrayList@65 size=1 and listPersons is &quot;[Persons{firstName=&#39;TEST999_FirstName&#39;, lastName=&#39;TEST999_LastName&#39;, address=&#39;TEST999_address&#39;, city=&#39;city&#39;, zip=&#39;zip&#39;, phone=&#39;phone&#39;, email=&#39;email&#39;}]&quot; but :"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1662840633,"post_id":73641353,"comment_id":130100735,"body_markdown":"...but when I arrive in controller and I tet listPersons.toString() I have the message  listPersons.toString()\n&quot;[]&quot; so the list is Empty","body":"...but when I arrive in controller and I tet listPersons.toString() I have the message  listPersons.toString() &quot;[]&quot; so the list is Empty"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1662840679,"post_id":73641353,"comment_id":130100742,"body_markdown":"why the list is empty ?","body":"why the list is empty ?"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1662913015,"post_id":73641353,"comment_id":130110979,"body_markdown":"Sorry. I added my controller //post a person So when I make debugg afert the line : listP = repositoryElementJson.getPersons(&quot;persons&quot;); I have my listPersons - so the mock is ok but after the line listP = repositorySafetyNetInterface.postPerson(person); my listP is empty","body":"Sorry. I added my controller //post a person So when I make debugg afert the line : listP = repositoryElementJson.getPersons(&quot;persons&quot;); I have my listPersons - so the mock is ok but after the line listP = repositorySafetyNetInterface.postPerson(person); my listP is empty"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662913370,"post_id":73641353,"comment_id":130111060,"body_markdown":"Hi&amp;Welcome!&#128521; Does `Person` have `equals/hashCode` methods? Another approach: `when(safetyNetServiceInterface.postPerson(any(Person.class)...` I think here is the problem/mockito can&#39;t match the argument;)","body":"Hi&amp;Welcome!😉 Does <code>Person</code> have <code>equals&#47;hashCode</code> methods? Another approach: <code>when(safetyNetServiceInterface.postPerson(any(Person.class).&zwnj;&#8203;..</code> I think here is the problem/mockito can&#39;t match the argument;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662913632,"post_id":73641353,"comment_id":130111108,"body_markdown":"So `any(Person.class)` instead of (concrete) `person`...but better: correct/consistent `equals/hashCode`! ...then mockito can also match `person` (based on these two methods evaluating to `true`)","body":"So <code>any(Person.class)</code> instead of (concrete) <code>person</code>...but better: correct/consistent <code>equals&#47;hashCode</code>! ...then mockito can also match <code>person</code> (based on these two methods evaluating to <code>true</code>)"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1663271877,"post_id":73641353,"comment_id":130206693,"body_markdown":"Hi ! thank you very much ! you are wonderfull on this site ! Thank you #tgdavies,   #Dawood ibn Kareem","body":"Hi ! thank you very much ! you are wonderfull on this site ! Thank you #tgdavies,   #Dawood ibn Kareem"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1663272176,"post_id":73641353,"comment_id":130206782,"body_markdown":"Thank you @xerx593 ! it&#39;s ok now. when(safetyNetServiceInterface.postPerson(any(Person.class) works very good ! Thank you very much to you","body":"Thank you @xerx593 ! it&#39;s ok now. when(safetyNetServiceInterface.postPerson(any(Person.class) works very good ! Thank you very much to you"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1663272398,"post_id":73641353,"comment_id":130206847,"body_markdown":"So any(Person.class) it&#39;s ok. but I don&#39;t undersand why equals/hachCode should works too ? what is the connection between when...by mockito and equals/hashCode ?","body":"So any(Person.class) it&#39;s ok. but I don&#39;t undersand why equals/hachCode should works too ? what is the connection between when...by mockito and equals/hashCode ?"},{"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"score":0,"creation_date":1663272444,"post_id":73641353,"comment_id":130206856,"body_markdown":"I genereted the equals and hashCode into class Persons, but does not works.","body":"I genereted the equals and hashCode into class Persons, but does not works."}],"owner":{"account_id":26275046,"reputation":9,"user_id":19944354,"display_name":"Claudiu"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662912731,"creation_date":1662584062,"question_id":73641353,"body_markdown":"I have a Spring Boot Application in Java and I want to test the controller class. The controller class use a service class. I created a listPerson in the test, I mocked the service class and I use the when(.getAPerson).thenReturn(listPersons) and it&#39;s ok I have the list of persons created in my test. If I use anotherMethod in the same class the mock not working and I have a empty list.  \r\n\r\nMy Controller is :\r\n\r\n   \r\n\r\n    // get a person\r\n        @GetMapping(value = &quot;person/{firstNamelastName}&quot;)\r\n        public ResponseEntity&lt;List&lt;Persons&gt;&gt; getAPerson(@PathVariable String firstNamelastName, HttpServletRequest request,\r\n                HttpServletResponse response) {\r\n    \r\n            String elemjson = &quot;persons&quot;;\r\n            List&lt;Persons&gt; listP = new ArrayList&lt;&gt;();\r\n            try {\r\n                listP = repositorySafetyNetInterface.getAPerson(firstNamelastName, elemjson);\r\n                if (listP.isEmpty()) {\r\n                    response.setStatus(204);\r\n                    messagelogger = &quot;No Content. The person does not exist.&quot;\r\n                            + loggerApiNewSafetyNet.loggerInfo(request, response, firstNamelastName);\r\n                    LOGGER.info(messagelogger);\r\n                    return ResponseEntity.status(response.getStatus()).build();\r\n                }\r\n            } catch (IOException e) {\r\n                response.setStatus(404);\r\n                return ResponseEntity.status(response.getStatus()).build();\r\n            } catch (NullPointerException nulle) {\r\n                response.setStatus(404);\r\n                return null;\r\n            }\r\n    \r\n            messagelogger = &quot;OK&quot; + loggerApiNewSafetyNet.loggerInfo(request, response, firstNamelastName);\r\n            LOGGER.info(messagelogger);\r\n            return new ResponseEntity&lt;&gt;(listP, HttpStatus.valueOf(response.getStatus()));\r\n        }\r\n\r\n\r\n // add a person\r\n    @PostMapping(value = &quot;/person&quot;)\r\n    public ResponseEntity&lt;Persons&gt; addPerson(@RequestBody Persons person, HttpServletRequest request,\r\n            HttpServletResponse response) {\r\n\r\n        List&lt;Persons&gt; listP = new ArrayList&lt;&gt;();\r\n        try {\r\n            listP = repositoryElementJson.getPersons(&quot;persons&quot;);\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        listP = repositorySafetyNetInterface.postPerson(person);\r\n\r\n        if (listP.isEmpty()) {\r\n            response.setStatus(404);\r\n            messagelogger = &quot;No persons added. &quot; + RESPONSSTATUS + response.getStatus() + &quot;:&quot;\r\n                    + loggerApiNewSafetyNet.loggerInfo(request, response, &quot;&quot;);\r\n            LOGGER.info(messagelogger);\r\n            return ResponseEntity.status(response.getStatus()).build();\r\n        }\r\n\r\n        response.setStatus(201);\r\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{firstName+lastName}&quot;)\r\n                .buildAndExpand(person.getFirstName() + person.getLastName()).toUri();\r\n        messagelogger = &quot;A new person is added successful. The URL is : &quot; + location;\r\n        LOGGER.info(messagelogger);\r\n        messagelogger = &quot;Created &quot; + loggerApiNewSafetyNet.loggerInfo(request, response, &quot;&quot;);\r\n        LOGGER.info(messagelogger);\r\n        // c&#39;est quoi la diff&#233;rence entre les 2 lignes suivantes created(location).build\r\n        // et\r\n        // https.valuesOf(response.getstatus):\r\n        return new ResponseEntity&lt;&gt;(person, HttpStatus.valueOf(response.getStatus()));\r\n    }\r\n\r\n\r\nMy class service :\r\n\r\n    @Override\r\n    public List&lt;Persons&gt; getAPerson(String firstNamelastName, String elemjson) throws IOException {\r\n        List&lt;Persons&gt; listPersons = new ArrayList&lt;&gt;();\r\n        List&lt;Persons&gt; listP = listPersons;\r\n        listPersons = getListsElementsJsonRepository.getPersons(elemjson); // here we have a list of objects Persons\r\n                                                                           // from json\r\n\r\n        for (Persons element : listPersons) {\r\n            if ((element.getFirstName().trim() + element.getLastName().trim()).equalsIgnoreCase(firstNamelastName)) {\r\n                listP.add(element);\r\n            }\r\n        }\r\n        LOGGER.debug(&quot;Get the person is ok.&quot;);\r\n        return listP;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Persons&gt; postPerson(Persons person) {\r\n\r\n        if (LOGGER.isDebugEnabled()) {\r\n            LOGGER.debug(loggerApiNewSafetyNet.loggerDebug(person.toString()));\r\n        }\r\n\r\n        // read the Json File\r\n        List&lt;Persons&gt; listPersons;\r\n        listPersons = createListPersons();\r\n\r\n        if (LOGGER.isDebugEnabled()) {\r\n            messageLogger = &quot;The persons are: &quot; + listPersons;\r\n            LOGGER.debug(messageLogger);\r\n        }\r\n\r\n        // verify if the persons is exist in the persons if not = add\r\n        boolean findperson = false;\r\n        for (Persons element : listPersons) {\r\n            if ((element.getFirstName() + element.getLastName())\r\n                    .equals(person.getFirstName() + person.getLastName())) {\r\n                findperson = true;\r\n\r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(&quot;This person is already in the list.&quot;);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!findperson) {\r\n            Boolean filecreated = false;\r\n            // add the persons if find_persons is false\r\n            listPersons.add(person); // add the body\r\n\r\n            if (LOGGER.isDebugEnabled()) {\r\n                messageLogger = &quot;The person is added in the list: &quot; + listPersons;\r\n                LOGGER.debug(messageLogger);\r\n            }\r\n\r\n            // create the new file json\r\n            // create list fire stations\r\n            List&lt;Firestations&gt; listFirestations;\r\n            listFirestations = createListFirestations();\r\n            // create list medical records\r\n            List&lt;Medicalrecords&gt; listMedicalrecords;\r\n            listMedicalrecords = createListMedicalrecords();\r\n            newFileJson.createNewFileJson(listPersons, listFirestations, listMedicalrecords, person.toString());\r\n            filecreated = newFileJson.isFileCreated();\r\n            if (Boolean.TRUE.equals(filecreated)) { // return the person from file\r\n                List&lt;Persons&gt; listP;\r\n                listP = verifyIfTheNewPersonInTheFile(person);\r\n                return listP;\r\n            }\r\n        }\r\n        return Collections.emptyList();\r\n    }\r\n\r\nAnd my test :\r\n\r\n    @WebMvcTest(controllers = NewSafetyAlertController.class)\r\n    public class NewSafetyAlertControllerTests {\r\n    \r\n        // R&#233;cup&#233;ration de notre logger.\r\n        private static final Logger LOGGER = LogManager.getLogger(NewSafetyAlertControllerTests.class);\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private SafetyNetInterface safetyNetServiceInterface;\r\n    \r\n    \r\n      @Test\r\n        void testAddPerson() throws Exception {\r\n            String firstName = &quot;TEST999_FirstName&quot;;\r\n            String lastName = &quot;TEST999_LastName&quot;;\r\n            String elemjson = &quot;persons&quot;;\r\n            List&lt;Persons&gt; listPersons;\r\n            Persons person;\r\n            person = createPerson(firstName, lastName);\r\n            listPersons = createListPersonsTest(firstName, lastName, person);\r\n    \r\n            String body = &quot;{\\r\\n&quot; + &quot;\\&quot;firstName\\&quot;: \\&quot;&quot; + firstName + &quot;\\&quot;,\\r\\n&quot; + &quot;\\&quot;lastName\\&quot;: \\&quot;&quot; + lastName\r\n                    + &quot;\\&quot;,\\r\\n&quot; + &quot;\\&quot;address\\&quot;: \\&quot;1509 Culver St\\&quot;,\\r\\n&quot; + &quot;\\&quot;city\\&quot;: \\&quot;Culver\\&quot;,\\r\\n&quot;\r\n                    + &quot;\\&quot;zip\\&quot;: \\&quot;97451\\&quot;,\\r\\n&quot; + &quot;\\&quot;phone\\&quot;: \\&quot;841-874-6512\\&quot;,\\r\\n&quot; + &quot;\\&quot;email\\&quot;: \\&quot;jaboyd@email.com\\&quot;\\r\\n&quot;\r\n                    + &quot;}&quot;;\r\n            when(safetyNetServiceInterface.postPerson(person)).thenReturn(listPersons);\r\n            when(safetyNetServiceInterface.getAPerson(firstName + lastName, elemjson)).thenReturn(listPersons);\r\n    \r\n            mockMvc.perform(post(&quot;/person&quot;).content(body).contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().is(201));\r\n    \r\n        }\r\n\r\n\r\nThe test is wrong because Expected 201 but was 404. \r\n\r\nI use the 2 when...thenReturn because I want see you that the method getAPerson() running but the method addPerson not working. \r\n\r\nI don&#39;t undestand the mock is ok because the mock run to method getAPerson but it&#39;s not orking to the method addPerson.\r\n\r\nThnak you very much\r\nClaudiu \r\n\r\n","title":"Why a method testing with mockito run (mock ok) but another method in the same class no mock","body":"<p>I have a Spring Boot Application in Java and I want to test the controller class. The controller class use a service class. I created a listPerson in the test, I mocked the service class and I use the when(.getAPerson).thenReturn(listPersons) and it's ok I have the list of persons created in my test. If I use anotherMethod in the same class the mock not working and I have a empty list.</p>\n<p>My Controller is :</p>\n<pre><code>// get a person\n    @GetMapping(value = &quot;person/{firstNamelastName}&quot;)\n    public ResponseEntity&lt;List&lt;Persons&gt;&gt; getAPerson(@PathVariable String firstNamelastName, HttpServletRequest request,\n            HttpServletResponse response) {\n\n        String elemjson = &quot;persons&quot;;\n        List&lt;Persons&gt; listP = new ArrayList&lt;&gt;();\n        try {\n            listP = repositorySafetyNetInterface.getAPerson(firstNamelastName, elemjson);\n            if (listP.isEmpty()) {\n                response.setStatus(204);\n                messagelogger = &quot;No Content. The person does not exist.&quot;\n                        + loggerApiNewSafetyNet.loggerInfo(request, response, firstNamelastName);\n                LOGGER.info(messagelogger);\n                return ResponseEntity.status(response.getStatus()).build();\n            }\n        } catch (IOException e) {\n            response.setStatus(404);\n            return ResponseEntity.status(response.getStatus()).build();\n        } catch (NullPointerException nulle) {\n            response.setStatus(404);\n            return null;\n        }\n\n        messagelogger = &quot;OK&quot; + loggerApiNewSafetyNet.loggerInfo(request, response, firstNamelastName);\n        LOGGER.info(messagelogger);\n        return new ResponseEntity&lt;&gt;(listP, HttpStatus.valueOf(response.getStatus()));\n    }\n</code></pre>\n<p>// add a person\n@PostMapping(value = &quot;/person&quot;)\npublic ResponseEntity addPerson(@RequestBody Persons person, HttpServletRequest request,\nHttpServletResponse response) {</p>\n<pre><code>    List&lt;Persons&gt; listP = new ArrayList&lt;&gt;();\n    try {\n        listP = repositoryElementJson.getPersons(&quot;persons&quot;);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    listP = repositorySafetyNetInterface.postPerson(person);\n\n    if (listP.isEmpty()) {\n        response.setStatus(404);\n        messagelogger = &quot;No persons added. &quot; + RESPONSSTATUS + response.getStatus() + &quot;:&quot;\n                + loggerApiNewSafetyNet.loggerInfo(request, response, &quot;&quot;);\n        LOGGER.info(messagelogger);\n        return ResponseEntity.status(response.getStatus()).build();\n    }\n\n    response.setStatus(201);\n    URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{firstName+lastName}&quot;)\n            .buildAndExpand(person.getFirstName() + person.getLastName()).toUri();\n    messagelogger = &quot;A new person is added successful. The URL is : &quot; + location;\n    LOGGER.info(messagelogger);\n    messagelogger = &quot;Created &quot; + loggerApiNewSafetyNet.loggerInfo(request, response, &quot;&quot;);\n    LOGGER.info(messagelogger);\n    // c'est quoi la différence entre les 2 lignes suivantes created(location).build\n    // et\n    // https.valuesOf(response.getstatus):\n    return new ResponseEntity&lt;&gt;(person, HttpStatus.valueOf(response.getStatus()));\n}\n</code></pre>\n<p>My class service :</p>\n<pre><code>@Override\npublic List&lt;Persons&gt; getAPerson(String firstNamelastName, String elemjson) throws IOException {\n    List&lt;Persons&gt; listPersons = new ArrayList&lt;&gt;();\n    List&lt;Persons&gt; listP = listPersons;\n    listPersons = getListsElementsJsonRepository.getPersons(elemjson); // here we have a list of objects Persons\n                                                                       // from json\n\n    for (Persons element : listPersons) {\n        if ((element.getFirstName().trim() + element.getLastName().trim()).equalsIgnoreCase(firstNamelastName)) {\n            listP.add(element);\n        }\n    }\n    LOGGER.debug(&quot;Get the person is ok.&quot;);\n    return listP;\n}\n\n@Override\npublic List&lt;Persons&gt; postPerson(Persons person) {\n\n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(loggerApiNewSafetyNet.loggerDebug(person.toString()));\n    }\n\n    // read the Json File\n    List&lt;Persons&gt; listPersons;\n    listPersons = createListPersons();\n\n    if (LOGGER.isDebugEnabled()) {\n        messageLogger = &quot;The persons are: &quot; + listPersons;\n        LOGGER.debug(messageLogger);\n    }\n\n    // verify if the persons is exist in the persons if not = add\n    boolean findperson = false;\n    for (Persons element : listPersons) {\n        if ((element.getFirstName() + element.getLastName())\n                .equals(person.getFirstName() + person.getLastName())) {\n            findperson = true;\n\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(&quot;This person is already in the list.&quot;);\n            }\n            break;\n        }\n    }\n\n    if (!findperson) {\n        Boolean filecreated = false;\n        // add the persons if find_persons is false\n        listPersons.add(person); // add the body\n\n        if (LOGGER.isDebugEnabled()) {\n            messageLogger = &quot;The person is added in the list: &quot; + listPersons;\n            LOGGER.debug(messageLogger);\n        }\n\n        // create the new file json\n        // create list fire stations\n        List&lt;Firestations&gt; listFirestations;\n        listFirestations = createListFirestations();\n        // create list medical records\n        List&lt;Medicalrecords&gt; listMedicalrecords;\n        listMedicalrecords = createListMedicalrecords();\n        newFileJson.createNewFileJson(listPersons, listFirestations, listMedicalrecords, person.toString());\n        filecreated = newFileJson.isFileCreated();\n        if (Boolean.TRUE.equals(filecreated)) { // return the person from file\n            List&lt;Persons&gt; listP;\n            listP = verifyIfTheNewPersonInTheFile(person);\n            return listP;\n        }\n    }\n    return Collections.emptyList();\n}\n</code></pre>\n<p>And my test :</p>\n<pre><code>@WebMvcTest(controllers = NewSafetyAlertController.class)\npublic class NewSafetyAlertControllerTests {\n\n    // Récupération de notre logger.\n    private static final Logger LOGGER = LogManager.getLogger(NewSafetyAlertControllerTests.class);\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private SafetyNetInterface safetyNetServiceInterface;\n\n\n  @Test\n    void testAddPerson() throws Exception {\n        String firstName = &quot;TEST999_FirstName&quot;;\n        String lastName = &quot;TEST999_LastName&quot;;\n        String elemjson = &quot;persons&quot;;\n        List&lt;Persons&gt; listPersons;\n        Persons person;\n        person = createPerson(firstName, lastName);\n        listPersons = createListPersonsTest(firstName, lastName, person);\n\n        String body = &quot;{\\r\\n&quot; + &quot;\\&quot;firstName\\&quot;: \\&quot;&quot; + firstName + &quot;\\&quot;,\\r\\n&quot; + &quot;\\&quot;lastName\\&quot;: \\&quot;&quot; + lastName\n                + &quot;\\&quot;,\\r\\n&quot; + &quot;\\&quot;address\\&quot;: \\&quot;1509 Culver St\\&quot;,\\r\\n&quot; + &quot;\\&quot;city\\&quot;: \\&quot;Culver\\&quot;,\\r\\n&quot;\n                + &quot;\\&quot;zip\\&quot;: \\&quot;97451\\&quot;,\\r\\n&quot; + &quot;\\&quot;phone\\&quot;: \\&quot;841-874-6512\\&quot;,\\r\\n&quot; + &quot;\\&quot;email\\&quot;: \\&quot;jaboyd@email.com\\&quot;\\r\\n&quot;\n                + &quot;}&quot;;\n        when(safetyNetServiceInterface.postPerson(person)).thenReturn(listPersons);\n        when(safetyNetServiceInterface.getAPerson(firstName + lastName, elemjson)).thenReturn(listPersons);\n\n        mockMvc.perform(post(&quot;/person&quot;).content(body).contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().is(201));\n\n    }\n</code></pre>\n<p>The test is wrong because Expected 201 but was 404.</p>\n<p>I use the 2 when...thenReturn because I want see you that the method getAPerson() running but the method addPerson not working.</p>\n<p>I don't undestand the mock is ok because the mock run to method getAPerson but it's not orking to the method addPerson.</p>\n<p>Thnak you very much\nClaudiu</p>\n"},{"tags":["java","keycloak","auth0","micronaut"],"answers":[{"tags":[],"owner":{"account_id":19275718,"reputation":284,"user_id":14088796,"display_name":"tim117"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662864210,"creation_date":1662777612,"answer_id":73668939,"question_id":73667019,"body_markdown":"Auth0 has documentation on how to do authentication through their [authentication code flow][1] which can work well for REST APIs. It uses jwts, but gives you an easy way to verify the jwts and get the token info using their [get user info][2] api.\r\n\r\nIf this is not what you’re looking for, I would recommend checking out the [Auth0 authentication API docs][3]. It walks you through setting up many different kinds of complex authentication flows and (in my opinion) makes them pretty easy to implement. Hope that helps!\r\n\r\n  [1]: https://auth0.com/docs/api/authentication#get-token\r\n  [2]: https://auth0.com/docs/api/authentication#get-user-info\r\n  [3]: https://auth0.com/docs/api/authentication#introduction","title":"How can I use something like Auth0 when my front-end and back-end are separate?","body":"<p>Auth0 has documentation on how to do authentication through their <a href=\"https://auth0.com/docs/api/authentication#get-token\" rel=\"nofollow noreferrer\">authentication code flow</a> which can work well for REST APIs. It uses jwts, but gives you an easy way to verify the jwts and get the token info using their <a href=\"https://auth0.com/docs/api/authentication#get-user-info\" rel=\"nofollow noreferrer\">get user info</a> api.</p>\n<p>If this is not what you’re looking for, I would recommend checking out the <a href=\"https://auth0.com/docs/api/authentication#introduction\" rel=\"nofollow noreferrer\">Auth0 authentication API docs</a>. It walks you through setting up many different kinds of complex authentication flows and (in my opinion) makes them pretty easy to implement. Hope that helps!</p>\n"}],"owner":{"account_id":25900156,"reputation":59,"user_id":19626177,"display_name":"JavaStan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73668939,"answer_count":1,"score":1,"last_activity_date":1662912664,"creation_date":1662753954,"question_id":73667019,"body_markdown":"I have been working on an app where the front-end (React) and back-end (Micronaut) are separate. They currently communicate via REST use Micronaut&#39;s built-in JWT authentication. I&#39;d like to use something like Auth0 or Keycloak to avoid having to implement user management code.\r\n\r\nIs that possible given the separation of my front-end and back-end? If so, are there any resources I can use? I haven&#39;t found many concrete answers to that question, but have been looking into OAuth&#39;s [Client Credentials Flow](https://guides.micronaut.io/latest/micronaut-oauth2-client-credentials-auth0-maven-java.html). Is that what I want in this case?\r\n\r\n","title":"How can I use something like Auth0 when my front-end and back-end are separate?","body":"<p>I have been working on an app where the front-end (React) and back-end (Micronaut) are separate. They currently communicate via REST use Micronaut's built-in JWT authentication. I'd like to use something like Auth0 or Keycloak to avoid having to implement user management code.</p>\n<p>Is that possible given the separation of my front-end and back-end? If so, are there any resources I can use? I haven't found many concrete answers to that question, but have been looking into OAuth's <a href=\"https://guides.micronaut.io/latest/micronaut-oauth2-client-credentials-auth0-maven-java.html\" rel=\"nofollow noreferrer\">Client Credentials Flow</a>. Is that what I want in this case?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1662852254,"post_id":73675755,"comment_id":130102502,"body_markdown":"What is your version of `spring boot`?","body":"What is your version of <code>spring boot</code>?"},{"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"score":0,"creation_date":1662858981,"post_id":73675755,"comment_id":130103171,"body_markdown":"Spring boot start parent is 2.6.6  (spring version 5.3.18)","body":"Spring boot start parent is 2.6.6  (spring version 5.3.18)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1662875578,"post_id":73675755,"comment_id":130104702,"body_markdown":"Edit Question to add details, rather than post Comments.","body":"Edit Question to add details, rather than post Comments."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662912131,"post_id":73675755,"comment_id":130110811,"body_markdown":"Annotations by themself do nothing, so likely your project didn&#39;t have a validator before, and now one is loaded and configured, and it causes issues because things don&#39;t validate. However, to make this really answerable, you need to provide a [mre].","body":"Annotations by themself do nothing, so likely your project didn&#39;t have a validator before, and now one is loaded and configured, and it causes issues because things don&#39;t validate. However, to make this really answerable, you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662912042,"creation_date":1662851244,"question_id":73675755,"body_markdown":"I took over a Spring Boot project that had a lot of POJO fields annotated with `@NotBlank` (from `javax.validation.constraints`).  \r\n\r\nI added validations to my new POJO and added a dependency to my `pom.xml` which was not there - `org.springframework.boot` =&gt; `spring-boot-starter-validation` \r\n\r\nWell, pulling in that dependency broke a bunch of tests for other classes that had fields annotated with `@Notblank`\r\n\r\nSo my question is: Does `@NotBlank` have any effect if that validation dependency jar is not pulled in?\r\n\r\nThe Spring Boot version is 2.6.6 (Spring version 5.3.18)","title":"Adding bean validation dependency jar broke my project &amp; tests","body":"<p>I took over a Spring Boot project that had a lot of POJO fields annotated with <code>@NotBlank</code> (from <code>javax.validation.constraints</code>).</p>\n<p>I added validations to my new POJO and added a dependency to my <code>pom.xml</code> which was not there - <code>org.springframework.boot</code> =&gt; <code>spring-boot-starter-validation</code></p>\n<p>Well, pulling in that dependency broke a bunch of tests for other classes that had fields annotated with <code>@Notblank</code></p>\n<p>So my question is: Does <code>@NotBlank</code> have any effect if that validation dependency jar is not pulled in?</p>\n<p>The Spring Boot version is 2.6.6 (Spring version 5.3.18)</p>\n"},{"tags":["java","maven","pom.xml","maven-surefire-plugin"],"comments":[{"owner":{"account_id":378731,"reputation":3103,"user_id":731636,"accept_rate":94,"display_name":"robx"},"score":1,"creation_date":1474995060,"post_id":39730203,"comment_id":66757900,"body_markdown":"Do you have a target output file generated? Should be in there somewhere. If not, then it may be that you have not configured an output directory for the report.","body":"Do you have a target output file generated? Should be in there somewhere. If not, then it may be that you have not configured an output directory for the report."},{"owner":{"account_id":2035950,"reputation":519,"user_id":1818298,"accept_rate":25,"display_name":"user1818298"},"score":0,"creation_date":1474995402,"post_id":39730203,"comment_id":66758119,"body_markdown":"I did try messing around with output directories a little bit but I still couldn&#39;t find anything. I first attempted to add the output to just the desktop so I could see if it was working. Here is what it looked like: &lt;outputDirectory&gt;C:\\Users\\username\\Desktop&lt;/outputDirectory&gt;","body":"I did try messing around with output directories a little bit but I still couldn&#39;t find anything. I first attempted to add the output to just the desktop so I could see if it was working. Here is what it looked like: &lt;outputDirectory&gt;C:\\Users\\username\\Desktop&lt;/outputDirectory&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2068077,"reputation":1070,"user_id":1843183,"accept_rate":83,"display_name":"Dan King"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1474995702,"creation_date":1474995702,"answer_id":39730459,"question_id":39730203,"body_markdown":"The default report should be located in ${basedir}/target/site/surefire-report.html\r\n\r\nI believe you might need to include maven-surefire-plugin and junit in the plugins/dependencies respectively.\r\n\r\nThe surefire report plugin will automatically parse the files matching TEST-*.xml in ${basedir}/target/surefire-reports but I believe you need the maven-surefire-plugin in order to generate the TEST-*.xml files\r\n\r\nHere is the documentation to the plugin. One way might be to run the build and see if the TEST-*.xml files are being generated.\r\n\r\nhttp://maven.apache.org/surefire/maven-surefire-plugin/index.html","title":"Report not being generated with Maven-Surefire-Report plugin","body":"<p>The default report should be located in ${basedir}/target/site/surefire-report.html</p>\n\n<p>I believe you might need to include maven-surefire-plugin and junit in the plugins/dependencies respectively.</p>\n\n<p>The surefire report plugin will automatically parse the files matching TEST-<em>.xml in ${basedir}/target/surefire-reports but I believe you need the maven-surefire-plugin in order to generate the TEST-</em>.xml files</p>\n\n<p>Here is the documentation to the plugin. One way might be to run the build and see if the TEST-*.xml files are being generated.</p>\n\n<p><a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/index.html\" rel=\"nofollow\">http://maven.apache.org/surefire/maven-surefire-plugin/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":8974109,"reputation":2049,"user_id":6691599,"display_name":"Arunakiran Nulu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474998184,"creation_date":1474995716,"answer_id":39730462,"question_id":39730203,"body_markdown":"configure as below\r\n\r\n    &lt;configuration&gt;\r\n    &lt;outputDirectory&gt;${basedir}/target/newsite&lt;/outputDirectory&gt;\r\n    &lt;/configuration&gt;\r\n\r\nusing stand alone tool you can change the path like below\r\n\r\n    mvn surefire-report:report -DoutputDirectory=newpath\r\n\r\n","title":"Report not being generated with Maven-Surefire-Report plugin","body":"<p>configure as below</p>\n\n<pre><code>&lt;configuration&gt;\n&lt;outputDirectory&gt;${basedir}/target/newsite&lt;/outputDirectory&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>using stand alone tool you can change the path like below</p>\n\n<pre><code>mvn surefire-report:report -DoutputDirectory=newpath\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9496671,"reputation":41,"user_id":7059429,"display_name":"Mahadev Vyavahare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604731297,"creation_date":1604731297,"answer_id":64725154,"question_id":39730203,"body_markdown":"By default surfire plugin will create XML and txt files report in `{base-dir}/target/surfire-reports`.\r\nto generate HTML report you can use\r\n\r\n    mvn surefire-report:report-only\r\nabove command will use XML files and will create HTML report at `{base-dir/target/site/surefire-report.html}`","title":"Report not being generated with Maven-Surefire-Report plugin","body":"<p>By default surfire plugin will create XML and txt files report in <code>{base-dir}/target/surfire-reports</code>.\nto generate HTML report you can use</p>\n<pre><code>mvn surefire-report:report-only\n</code></pre>\n<p>above command will use XML files and will create HTML report at <code>{base-dir/target/site/surefire-report.html}</code></p>\n"},{"tags":[],"owner":{"account_id":26300617,"reputation":1,"user_id":19966080,"display_name":"Souranu Maji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662911733,"creation_date":1662911608,"answer_id":73680643,"question_id":39730203,"body_markdown":"Check if you have added your Runner-class inside Surefire plugin of the POM file:-\r\n\r\n[Check the attached screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ldw9q.jpg","title":"Report not being generated with Maven-Surefire-Report plugin","body":"<p>Check if you have added your Runner-class inside Surefire plugin of the POM file:-</p>\n<p><a href=\"https://i.stack.imgur.com/Ldw9q.jpg\" rel=\"nofollow noreferrer\">Check the attached screenshot</a></p>\n"}],"owner":{"account_id":2035950,"reputation":519,"user_id":1818298,"accept_rate":25,"display_name":"user1818298"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36952,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":39730459,"answer_count":4,"score":12,"last_activity_date":1662911733,"creation_date":1474994833,"question_id":39730203,"body_markdown":"As the title suggests, I&#39;m trying to generate an HTML report of the JUnit results when my maven project executes. I was told to check out maven-surefire-report plugin by another person and it looks like it has what I&#39;m wanting but I just can&#39;t seem to get the HTML file to generate. I&#39;m looking to ONLY generate an HTML file that I could then put into an email for my bosses. I&#39;m not really wanting to go down the road of having the results post to a site (at least not at the moment).\r\n\r\nHere is what my pom section looks like for surefire (don&#39;t worry about missing tags. I&#39;m copying and pasting the relevant sections, and trying not to paste company info, but know I have the proper opening / closing tags):\r\n\r\n**EDIT**: Added full pom.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;myGroup&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myArtifact&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;myName&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jtds/jtds --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;reporting&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/site/surefire-report.html&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;!--&lt;configuration&gt;--&gt;\r\n    \t\t\t\t\t&lt;!--&lt;outputDirectory&gt;C:\\Users\\ab66378\\Desktop&lt;/outputDirectory&gt;--&gt;\r\n    \t\t\t\t&lt;!--&lt;/configuration&gt;--&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/reporting&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n    \r\n\r\nAs far as I know, and according to the guides and what not I&#39;ve looked at, this is all I need. Just the pom dependency and the reporting plugin section but I&#39;m still not seeing an HTML file generated.\r\n\r\nI have a feeling the part that I&#39;m missing is going to be very minimal but I just can&#39;t seem to find it.","title":"Report not being generated with Maven-Surefire-Report plugin","body":"<p>As the title suggests, I'm trying to generate an HTML report of the JUnit results when my maven project executes. I was told to check out maven-surefire-report plugin by another person and it looks like it has what I'm wanting but I just can't seem to get the HTML file to generate. I'm looking to ONLY generate an HTML file that I could then put into an email for my bosses. I'm not really wanting to go down the road of having the results post to a site (at least not at the moment).</p>\n\n<p>Here is what my pom section looks like for surefire (don't worry about missing tags. I'm copying and pasting the relevant sections, and trying not to paste company info, but know I have the proper opening / closing tags):</p>\n\n<p><strong>EDIT</strong>: Added full pom.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;myGroup&lt;/groupId&gt;\n    &lt;artifactId&gt;myArtifact&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;myName&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jtds/jtds --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/target/site/surefire-report.html&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;!--&lt;configuration&gt;--&gt;\n                    &lt;!--&lt;outputDirectory&gt;C:\\Users\\ab66378\\Desktop&lt;/outputDirectory&gt;--&gt;\n                &lt;!--&lt;/configuration&gt;--&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>As far as I know, and according to the guides and what not I've looked at, this is all I need. Just the pom dependency and the reporting plugin section but I'm still not seeing an HTML file generated.</p>\n\n<p>I have a feeling the part that I'm missing is going to be very minimal but I just can't seem to find it.</p>\n"},{"tags":["java","arrays","multidimensional-array","arraylist"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1662910470,"post_id":73680507,"comment_id":130110512,"body_markdown":"Please read: [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Please read: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1662910608,"post_id":73680507,"comment_id":130110532,"body_markdown":"As an aside: Java does not have a notion of &quot;multidimensional arrays&quot; per-se. A two-dimensional array, for example, is only an array of arrays. The &quot;outer array&quot; holds reference to the &quot;inner arrays&quot;.","body":"As an aside: Java does not have a notion of &quot;multidimensional arrays&quot; per-se. A two-dimensional array, for example, is only an array of arrays. The &quot;outer array&quot; holds reference to the &quot;inner arrays&quot;."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662910611,"post_id":73680507,"comment_id":130110535,"body_markdown":"You&#39;re printing `tmp1` twice.","body":"You&#39;re printing <code>tmp1</code> twice."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662910812,"post_id":73680507,"comment_id":130110568,"body_markdown":"As @Turing85 said, in fact there&#39;s no &quot;multidimensional arrays&quot; in Java. You can create an array containing other array, which in turn can contain other arrays. That&#39;s called *nested array*.","body":"As @Turing85 said, in fact there&#39;s no &quot;multidimensional arrays&quot; in Java. You can create an array containing other array, which in turn can contain other arrays. That&#39;s called <i>nested array</i>."}],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662911714,"creation_date":1662910939,"answer_id":73680579,"question_id":73680507,"body_markdown":"Your example should output: \r\n\r\n    tmp1 :[[a, b], [c, d, e]]\r\n    tmp2 :[[Ljava.lang.Object;@5442a311, [Ljava.lang.Object;@548e7350]\r\n\r\nThe `Array.toString` does the loop over the (first dimension of the) array, and call `toString()` for each element. It is equivalent to :\r\n\r\n    System.out.print(&quot;[&quot; + dimX[0].toString() + &quot;,&quot; + dimX[1].toString() + (...) + &quot;]&quot;);\r\n\r\nFor `dim1`, each element is a `java.util.ArrayList`, for which toString returns something like `[a,b]`.\r\n\r\nFor `dim2`, each element is a 1 dimension array, for which toString returns something like `[Ljava.lang.Object;@5442a311`.\r\n\r\n\r\n\r\n","title":"A one-dimensional array and a two-dimensional array with the same behavior","body":"<p>Your example should output:</p>\n<pre><code>tmp1 :[[a, b], [c, d, e]]\ntmp2 :[[Ljava.lang.Object;@5442a311, [Ljava.lang.Object;@548e7350]\n</code></pre>\n<p>The <code>Array.toString</code> does the loop over the (first dimension of the) array, and call <code>toString()</code> for each element. It is equivalent to :</p>\n<pre><code>System.out.print(&quot;[&quot; + dimX[0].toString() + &quot;,&quot; + dimX[1].toString() + (...) + &quot;]&quot;);\n</code></pre>\n<p>For <code>dim1</code>, each element is a <code>java.util.ArrayList</code>, for which toString returns something like <code>[a,b]</code>.</p>\n<p>For <code>dim2</code>, each element is a 1 dimension array, for which toString returns something like <code>[Ljava.lang.Object;@5442a311</code>.</p>\n"}],"owner":{"account_id":26306033,"reputation":11,"user_id":19970504,"display_name":"hosein javid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1662911714,"creation_date":1662910199,"question_id":73680507,"body_markdown":" ```\r\npackage hosein.testFile;\r\n\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\n/**\r\n *\r\n * @author hosein\r\n */\r\npublic class Main2 implements Serializable {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // part 1 ----------------------------------------------------\r\n        ArrayList s = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; d = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; b = new ArrayList&lt;&gt;();\r\n        d.add(&quot;a&quot;);\r\n        d.add(&quot;b&quot;);\r\n\r\n        b.add(&quot;c&quot;);\r\n        b.add(&quot;d&quot;);\r\n        b.add(&quot;e&quot;);\r\n\r\n        Collections.addAll(s, d, b);\r\n        Object[] tmp1 = s.toArray();\r\n        System.out.println(&quot;tmp1 :&quot; + Arrays.toString(tmp1));\r\n        // part 2 ----------------------------------------------------\r\n        Object[][] tmp2 = new Object[2][];\r\n        tmp2[0] = new Object[2];\r\n        tmp2[1] = new Object[3];\r\n        Object[] dTmp = d.toArray();\r\n        Object[] bTmp = b.toArray();\r\n        for (int i = 0; i &lt; tmp2.length; i++) {\r\n            for (int j = 0; j &lt; tmp2[i].length; j++) {\r\n                if (i == 0) {\r\n                    tmp2[i][j] = dTmp[j];\r\n                }\r\n                if (i == 1) {\r\n                    tmp2[i][j] = bTmp[j];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;tmp2 :&quot; + Arrays.toString(tmp1));\r\n\r\n    }\r\n\r\n}\r\n```\r\n`tmp1` is defined as a one-dimensional array\r\nand `tmp2` is defined as a two-dimensional array\r\nBut this behavior is two nights together. What is the reason?\r\n \r\nAnd the output of this code:\r\n```\r\nrun:\r\ntmp1 :[[a, b], [c, d, e]]\r\ntmp2 :[[a, b], [c, d, e]]\r\nBUILD SUCCESSFUL (total time: 0 seconds)\r\n```","title":"A one-dimensional array and a two-dimensional array with the same behavior","body":"<pre><code>package hosein.testFile;\n\nimport java.util.*;\nimport java.io.*;\n\n/**\n*\n* @author hosein\n*/\npublic class Main2 implements Serializable {\n\n   /**\n    * @param args the command line arguments\n    */\n   public static void main(String[] args) {\n       // part 1 ----------------------------------------------------\n       ArrayList s = new ArrayList&lt;&gt;();\n       ArrayList&lt;String&gt; d = new ArrayList&lt;&gt;();\n       ArrayList&lt;String&gt; b = new ArrayList&lt;&gt;();\n       d.add(&quot;a&quot;);\n       d.add(&quot;b&quot;);\n\n       b.add(&quot;c&quot;);\n       b.add(&quot;d&quot;);\n       b.add(&quot;e&quot;);\n\n       Collections.addAll(s, d, b);\n       Object[] tmp1 = s.toArray();\n       System.out.println(&quot;tmp1 :&quot; + Arrays.toString(tmp1));\n       // part 2 ----------------------------------------------------\n       Object[][] tmp2 = new Object[2][];\n       tmp2[0] = new Object[2];\n       tmp2[1] = new Object[3];\n       Object[] dTmp = d.toArray();\n       Object[] bTmp = b.toArray();\n       for (int i = 0; i &lt; tmp2.length; i++) {\n           for (int j = 0; j &lt; tmp2[i].length; j++) {\n               if (i == 0) {\n                   tmp2[i][j] = dTmp[j];\n               }\n               if (i == 1) {\n                   tmp2[i][j] = bTmp[j];\n               }\n           }\n       }\n       System.out.println(&quot;tmp2 :&quot; + Arrays.toString(tmp1));\n\n   }\n\n}\n</code></pre>\n<p><code>tmp1</code> is defined as a one-dimensional array\nand <code>tmp2</code> is defined as a two-dimensional array\nBut this behavior is two nights together. What is the reason?</p>\n<p>And the output of this code:</p>\n<pre><code>run:\ntmp1 :[[a, b], [c, d, e]]\ntmp2 :[[a, b], [c, d, e]]\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","authentication","spring-mvc","spring-security","autowired"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1662851018,"post_id":73675474,"comment_id":130102354,"body_markdown":"Add ```@Component``` to ```LoginDAO```, I don&#39;t believe ```Transactional``` annotation makes it a Spring managed bean.","body":"Add <code>@Component</code> to <code>LoginDAO</code>, I don&#39;t believe <code>Transactional</code> annotation makes it a Spring managed bean."},{"owner":{"account_id":12352638,"reputation":1,"user_id":9010436,"display_name":"Syed Murtaza"},"score":0,"creation_date":1662911289,"post_id":73675474,"comment_id":130110641,"body_markdown":"**Got same error after adding @Component annotation over LoginDAO class.\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.wusuq.dao.LoginDAO&#39; available: expected at least 1 bean which qualifies as autowire candidate.**","body":"<b>Got same error after adding @Component annotation over LoginDAO class. Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;com.wusuq.dao.LoginDAO&#39; available: expected at least 1 bean which qualifies as autowire candidate.</b>"}],"owner":{"account_id":12352638,"reputation":1,"user_id":9010436,"display_name":"Syed Murtaza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662911508,"creation_date":1662847678,"question_id":73675474,"body_markdown":"[The project structure is][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2NGDp.jpg\r\nActually, I am integeration the Spring Security  in my Spring MVC project. Simpley I want to do is to add the LoginDAO in the customAuthenticationProvider class. But I am getting this exception.\r\n\r\n***Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.wusuq.dao.LoginDAO&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n\t... 93 more***\r\nThe CustomAuthenticationProvider class code is\r\n\r\n    package com.wusuq.security;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import com.wusuq.dao.LoginDAO;\r\n    \r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n    \t\r\n    @Autowired\r\n    private LoginDAO login;\r\n    \t\r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException\r\n    \t{\r\n    \t\t\tString userName = authentication.getName();\r\n    \t\t\tString password = authentication.getCredentials().toString();\r\n    \r\n    \t\t\tif (authorizedUser(userName, password))\r\n    \t\t\t{\r\n    \t\t\t\t\tList&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n    \t\t\t\t\tgrantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_ADMINN&quot;));\r\n    \t\t\t\t\tAuthentication auth = new UsernamePasswordAuthenticationToken(userName, password, grantedAuths);\r\n    \t\t\t\t\tSystem.out.println(auth.getAuthorities());\r\n    \t\t\t\t\treturn auth;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\t\tthrow new AuthenticationCredentialsNotFoundException(&quot;Invalid Credentials!&quot;);\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean authorizedUser(String userName, String password)\r\n    \t{\r\n    \t\t\tSystem.out.println(&quot;username is :&quot; + userName+&quot; and password is &quot;+password );\r\n    \t\t\tif(&quot;Chandan&quot;.equals(userName) &amp;&amp; &quot;Chandan&quot;.equals(password))\r\n    \t\t\t\t\treturn true;\r\n    \t\t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication)\r\n    \t{\r\n    \t\t\treturn UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    \t}\r\n    \r\n    \tpublic LoginDAO getLogin() {\r\n    \t\treturn login;\r\n    \t}\r\n    \r\n    \tpublic void setLogin(LoginDAO login) {\r\n    \t\tthis.login = login;\r\n    \t}\r\n    \r\n    }\r\n\r\nLoginDAO class code is\r\n\r\n\r\n         @Transactional\r\n    public class LoginDAO {\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \tSession session = null;\r\n    \tCriteria criteria = null;\r\n    \tTransaction tx = null;\r\n    \r\n    \tpublic LoginDAO() {\r\n    \t\tsuper();\r\n    \t}\r\n    }\r\n\r\nsecirity-config.xml file \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:sec=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;\r\n          http://www.springframework.org/schema/security\r\n          http://www.springframework.org/schema/security/spring-security-4.0.xsd\r\n          http://www.springframework.org/schema/beans\r\n          http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n          http://www.springframework.org/schema/context\r\n    \t  http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n    \t  \r\n    \t  \r\n    \r\n    \r\n    \t&lt;sec:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\r\n    \t\t&lt;sec:form-login login-page=&quot;/&quot;\r\n    \t\t\tlogin-processing-url=&quot;/authenticateUser&quot; \r\n    \t\t\tauthentication-failure-url=&quot;/login&quot; username-parameter=&quot;username&quot;\r\n    \t\t\tpassword-parameter=&quot;password&quot;\r\n    \t\t\tdefault-target-url=&quot;/menu&quot;\r\n    \t\t\talways-use-default-target=&quot;true&quot;\r\n    \t\t\t /&gt;\r\n    \t\t\t\r\n    \t\t&lt;sec:access-denied-handler error-page=&quot;/jsp/403.jsp&quot; /&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;sec:intercept-url pattern=&quot;/&quot; access=&quot;permitAll&quot; /&gt;\r\n    \t\t &lt;sec:intercept-url pattern=&quot;/JS/**&quot; access=&quot;permitAll&quot; /&gt; \r\n    \t\t &lt;sec:intercept-url pattern=&quot;/img/**&quot; access=&quot;permitAll&quot; /&gt; \r\n    \t\t&lt;!--  &lt;sec:intercept-url pattern=&quot;/JS/**&quot; access=&quot;permitAll&quot; /&gt; --&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;sec:intercept-url pattern=&quot;/**&quot; access=&quot;hasAuthority(&#39;ROLE_ADMINN&#39;)&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;sec:session-management invalid-session-url=&quot;/login&quot; /&gt;\r\n    \t\t&lt;sec:logout delete-cookies=&quot;JSESSIONID&quot; logout-url=&quot;/logout&quot; /&gt;\r\n    \t&lt;/sec:http&gt;\r\n    \t\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;com.wusuq.security&quot; /&gt;\r\n    \r\n    \t&lt;sec:authentication-manager&gt;\r\n    \t\t&lt;authentication-provider ref=&quot;customAuthenticationProvider&quot; /&gt;\r\n    \t\t\r\n    \t&lt;/sec:authentication-manager&gt;\r\n    \t\r\n    \t\r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\nCan some please guide me how to fix this issue I want to Autowire the LoginDAO in CustomAuthentionProvider class to authenticate the user from Databbase. Help will be appreciated. Thanks\r\n\r\n\r\n\r\n\r\n\r\n","title":"@Autowired - No qualifying bean of type &#39;com.wusuq.dao.LoginDAO&#39; available","body":"<p><a href=\"https://i.stack.imgur.com/2NGDp.jpg\" rel=\"nofollow noreferrer\">The project structure is</a></p>\n<p>Actually, I am integeration the Spring Security  in my Spring MVC project. Simpley I want to do is to add the LoginDAO in the customAuthenticationProvider class. But I am getting this exception.</p>\n<p><em><strong>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.wusuq.dao.LoginDAO' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n... 93 more</strong></em>\nThe CustomAuthenticationProvider class code is</p>\n<pre><code>package com.wusuq.security;\nimport java.util.ArrayList;\nimport java.util.List;\nimport com.wusuq.dao.LoginDAO;\n\n@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n    \n@Autowired\nprivate LoginDAO login;\n    \n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException\n    {\n            String userName = authentication.getName();\n            String password = authentication.getCredentials().toString();\n\n            if (authorizedUser(userName, password))\n            {\n                    List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n                    grantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_ADMINN&quot;));\n                    Authentication auth = new UsernamePasswordAuthenticationToken(userName, password, grantedAuths);\n                    System.out.println(auth.getAuthorities());\n                    return auth;\n            }\n            else\n            {\n                    throw new AuthenticationCredentialsNotFoundException(&quot;Invalid Credentials!&quot;);\n            }\n    }\n\n    private boolean authorizedUser(String userName, String password)\n    {\n            System.out.println(&quot;username is :&quot; + userName+&quot; and password is &quot;+password );\n            if(&quot;Chandan&quot;.equals(userName) &amp;&amp; &quot;Chandan&quot;.equals(password))\n                    return true;\n            return false;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication)\n    {\n            return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n    public LoginDAO getLogin() {\n        return login;\n    }\n\n    public void setLogin(LoginDAO login) {\n        this.login = login;\n    }\n\n}\n</code></pre>\n<p>LoginDAO class code is</p>\n<pre><code>     @Transactional\npublic class LoginDAO {\n    @Autowired\n    private SessionFactory sessionFactory;\n    Session session = null;\n    Criteria criteria = null;\n    Transaction tx = null;\n\n    public LoginDAO() {\n        super();\n    }\n}\n</code></pre>\n<p>secirity-config.xml file</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:sec=&quot;http://www.springframework.org/schema/security&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;\n      http://www.springframework.org/schema/security\n      http://www.springframework.org/schema/security/spring-security-4.0.xsd\n      http://www.springframework.org/schema/beans\n      http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n      http://www.springframework.org/schema/context\n      http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\n      \n      \n\n\n    &lt;sec:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\n        &lt;sec:form-login login-page=&quot;/&quot;\n            login-processing-url=&quot;/authenticateUser&quot; \n            authentication-failure-url=&quot;/login&quot; username-parameter=&quot;username&quot;\n            password-parameter=&quot;password&quot;\n            default-target-url=&quot;/menu&quot;\n            always-use-default-target=&quot;true&quot;\n             /&gt;\n            \n        &lt;sec:access-denied-handler error-page=&quot;/jsp/403.jsp&quot; /&gt;\n        \n        \n        &lt;sec:intercept-url pattern=&quot;/&quot; access=&quot;permitAll&quot; /&gt;\n         &lt;sec:intercept-url pattern=&quot;/JS/**&quot; access=&quot;permitAll&quot; /&gt; \n         &lt;sec:intercept-url pattern=&quot;/img/**&quot; access=&quot;permitAll&quot; /&gt; \n        &lt;!--  &lt;sec:intercept-url pattern=&quot;/JS/**&quot; access=&quot;permitAll&quot; /&gt; --&gt;\n        \n        \n        &lt;sec:intercept-url pattern=&quot;/**&quot; access=&quot;hasAuthority('ROLE_ADMINN')&quot; /&gt;\n        \n        &lt;sec:session-management invalid-session-url=&quot;/login&quot; /&gt;\n        &lt;sec:logout delete-cookies=&quot;JSESSIONID&quot; logout-url=&quot;/logout&quot; /&gt;\n    &lt;/sec:http&gt;\n    \n    \n    &lt;context:component-scan base-package=&quot;com.wusuq.security&quot; /&gt;\n\n    &lt;sec:authentication-manager&gt;\n        &lt;authentication-provider ref=&quot;customAuthenticationProvider&quot; /&gt;\n        \n    &lt;/sec:authentication-manager&gt;\n    \n    \n\n&lt;/beans:beans&gt;\n</code></pre>\n<p>Can some please guide me how to fix this issue I want to Autowire the LoginDAO in CustomAuthentionProvider class to authenticate the user from Databbase. Help will be appreciated. Thanks</p>\n"},{"tags":["java","spring","spring-boot","deployment","wildfly"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1662624447,"post_id":73645241,"comment_id":130049961,"body_markdown":"The issue is in your formContentFilter bean. it seems to use jackson somehow but I think the versions don&#39;t match.","body":"The issue is in your formContentFilter bean. it seems to use jackson somehow but I think the versions don&#39;t match."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662625656,"post_id":73645241,"comment_id":130050330,"body_markdown":"And the error is???","body":"And the error is???"},{"owner":{"account_id":18699787,"reputation":47,"user_id":13632228,"display_name":"karan siddhu"},"score":0,"creation_date":1662625701,"post_id":73645241,"comment_id":130050342,"body_markdown":"please press the error image","body":"please press the error image"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1662627042,"post_id":73645241,"comment_id":130050789,"body_markdown":"Wildfly 10 is over 6 years old. Can you use a more up-to-date version?","body":"Wildfly 10 is over 6 years old. Can you use a more up-to-date version?"},{"owner":{"account_id":18699787,"reputation":47,"user_id":13632228,"display_name":"karan siddhu"},"score":0,"creation_date":1662633807,"post_id":73645241,"comment_id":130053288,"body_markdown":"I cant actually its an requirement","body":"I cant actually its an requirement"},{"owner":{"account_id":18699787,"reputation":47,"user_id":13632228,"display_name":"karan siddhu"},"score":0,"creation_date":1662633838,"post_id":73645241,"comment_id":130053301,"body_markdown":"I just solved this problem I will update the ques","body":"I just solved this problem I will update the ques"},{"owner":{"account_id":12693973,"reputation":1543,"user_id":9222996,"display_name":"CKE"},"score":1,"creation_date":1662792269,"post_id":73645241,"comment_id":130092204,"body_markdown":"Could you write your solution as an answer, please? And leave the question as a question.","body":"Could you write your solution as an answer, please? And leave the question as a question."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662911122,"post_id":73645241,"comment_id":130110611,"body_markdown":"I have rolled back your edit that edited a solution into your question. If you managed to solve your own problem, then please post an **answer** with that solution, and accept it after the time out. Do not add solutions to the question.","body":"I have rolled back your edit that edited a solution into your question. If you managed to solve your own problem, then please post an <b>answer</b> with that solution, and accept it after the time out. Do not add solutions to the question."},{"owner":{"account_id":18699787,"reputation":47,"user_id":13632228,"display_name":"karan siddhu"},"score":0,"creation_date":1663670230,"post_id":73645241,"comment_id":130289381,"body_markdown":"@MarkRotteveel I will write a answer and sorry for causing a confusion.","body":"@MarkRotteveel I will write a answer and sorry for causing a confusion."}],"owner":{"account_id":18699787,"reputation":47,"user_id":13632228,"display_name":"karan siddhu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662911061,"creation_date":1662622272,"question_id":73645241,"body_markdown":"I am facing this problem from past 7 days. It would be really helpful if anyone can help me.\r\n\r\nsteps I follow:- \r\n\r\n - 1st created a simple spring boot app using start.spring.io \r\n - 2nd created a rest controller \r\n - 3rd installed wildlfly software and created a user and stated the management console \r\n - 4th created a war file using mvn clean install ( which also deploy in the wildfly console )\r\n\r\nhere is my pom.xml \r\n\r\n   \r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;warehouse_connection&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;warehouse_connection&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;deploy.wildfly.host&gt;127.0.0.1&lt;/deploy.wildfly.host&gt;\r\n\t\t&lt;deploy.wildfly.port&gt;9990&lt;/deploy.wildfly.port&gt;\r\n\t\t&lt;deploy.wildfly.username&gt;USERNAME&lt;/deploy.wildfly.username&gt;\r\n\t\t&lt;deploy.wildfly.password&gt;PASSWORD&lt;/deploy.wildfly.password&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;deploy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;filename&gt;${project.build.finalName}.war&lt;/filename&gt;\r\n\t\t\t\t\t&lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\r\n\t\t\t\t\t&lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\r\n\t\t\t\t\t&lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\r\n\t\t\t\t\t&lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n Here is the error I am getting when I use mvn clean install to crate war file and deploy in wildfly.\r\n\r\n[Errors image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NjUON.png","title":"Error while deploying Spring boot ( Version - 2.7.3 in wildfly ( version 10.0.0 ) || Java version 8","body":"<p>I am facing this problem from past 7 days. It would be really helpful if anyone can help me.</p>\n<p>steps I follow:-</p>\n<ul>\n<li>1st created a simple spring boot app using start.spring.io</li>\n<li>2nd created a rest controller</li>\n<li>3rd installed wildlfly software and created a user and stated the management console</li>\n<li>4th created a war file using mvn clean install ( which also deploy in the wildfly console )</li>\n</ul>\n<p>here is my pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;warehouse_connection&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;warehouse_connection&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;deploy.wildfly.host&gt;127.0.0.1&lt;/deploy.wildfly.host&gt;\n    &lt;deploy.wildfly.port&gt;9990&lt;/deploy.wildfly.port&gt;\n    &lt;deploy.wildfly.username&gt;USERNAME&lt;/deploy.wildfly.username&gt;\n    &lt;deploy.wildfly.password&gt;PASSWORD&lt;/deploy.wildfly.password&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2.Final&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;deploy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;filename&gt;${project.build.finalName}.war&lt;/filename&gt;\n                &lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\n                &lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\n                &lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\n                &lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Here is the error I am getting when I use mvn clean install to crate war file and deploy in wildfly.</p>\n<p><a href=\"https://i.stack.imgur.com/NjUON.png\" rel=\"nofollow noreferrer\">Errors image</a></p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1531449768,"post_id":51316960,"comment_id":89610024,"body_markdown":"You forgot some parentheses:  `(refererURL.getPath() + &quot;?&quot; + refererURL.getQuery()).equals(PATH)`","body":"You forgot some parentheses:  <code>(refererURL.getPath() + &quot;?&quot; + refererURL.getQuery()).equals(PATH)</code>"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1531449810,"creation_date":1531449810,"answer_id":51316974,"question_id":51316960,"body_markdown":"Change \r\n\r\n    refererURL.getPath() + &quot;?&quot; + refererURL.getQuery().equals(PATH)\r\n\r\nto\r\n\r\n    (refererURL.getPath() + &quot;?&quot; + refererURL.getQuery()).equals(PATH)","title":"The operator &amp;&amp; is undefined for the argument type(s) boolean, String","body":"<p>Change </p>\n\n<pre><code>refererURL.getPath() + \"?\" + refererURL.getQuery().equals(PATH)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>(refererURL.getPath() + \"?\" + refererURL.getQuery()).equals(PATH)\n</code></pre>\n"}],"owner":{"account_id":1537685,"reputation":731,"user_id":1433208,"accept_rate":56,"display_name":"looneytunes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2800,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":51316974,"answer_count":1,"score":0,"last_activity_date":1662910236,"creation_date":1531449675,"question_id":51316960,"body_markdown":"I am trying to check if all the conditions below return a true and then validate, but the compiler fails saying:\r\n&gt; The operator &amp;&amp; is undefined for the argument type(s) boolean, String\r\n\r\nI come from JS background an not Java, so any help would be appreciated.\r\n\r\n    String refererHeader = httprequest.getHeader(&quot;referer&quot;);\r\n    URL refererURL = new URL(refererHeader);\r\n\r\n    String requestUrl = httprequest.getRequestURL().toString();\r\n    \r\n    String refererHost = refererURL.getHost();\r\n    int refererPort = refererURL.getPort();\r\n    \r\n    String serverName = httprequest.getServerName();\r\n    int serverPort = httprequest.getServerPort();\r\n    \r\n\r\n    if (refererHeader == null) {\r\n        httpresponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n        return;\r\n    }\r\n    //Only if the refererhost , port match with server name and port and if the pathinfo matches\r\n    if(refererHeader.equals(requestUrl) &amp;&amp;\r\n     refererHost.equals(serverName) &amp;&amp;\r\n      serverPort == refererPort &amp;&amp;\r\n       refererURL.getPath() + &quot;?&quot; + refererURL.getQuery().equals(PATH)) {\r\n        chain.doFilter(request, response);\r\n    } ","title":"The operator &amp;&amp; is undefined for the argument type(s) boolean, String","body":"<p>I am trying to check if all the conditions below return a true and then validate, but the compiler fails saying:</p>\n<blockquote>\n<p>The operator &amp;&amp; is undefined for the argument type(s) boolean, String</p>\n</blockquote>\n<p>I come from JS background an not Java, so any help would be appreciated.</p>\n<pre><code>String refererHeader = httprequest.getHeader(&quot;referer&quot;);\nURL refererURL = new URL(refererHeader);\n\nString requestUrl = httprequest.getRequestURL().toString();\n\nString refererHost = refererURL.getHost();\nint refererPort = refererURL.getPort();\n\nString serverName = httprequest.getServerName();\nint serverPort = httprequest.getServerPort();\n\n\nif (refererHeader == null) {\n    httpresponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n    return;\n}\n//Only if the refererhost , port match with server name and port and if the pathinfo matches\nif(refererHeader.equals(requestUrl) &amp;&amp;\n refererHost.equals(serverName) &amp;&amp;\n  serverPort == refererPort &amp;&amp;\n   refererURL.getPath() + &quot;?&quot; + refererURL.getQuery().equals(PATH)) {\n    chain.doFilter(request, response);\n} \n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1516950558,"post_id":48456881,"comment_id":83906643,"body_markdown":"Please post exception/error details too.","body":"Please post exception/error details too."},{"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"score":0,"creation_date":1516951004,"post_id":48456881,"comment_id":83906779,"body_markdown":"Column name mapping is wrong and i get common error in oracle java.sql.SQLSyntaxErrorException: ORA-00904\nResultSet.getInt(type4_18_0_) is calling when hibernate is trying to parse type column","body":"Column name mapping is wrong and i get common error in oracle java.sql.SQLSyntaxErrorException: ORA-00904 ResultSet.getInt(type4_18_0_) is calling when hibernate is trying to parse type column"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1516951301,"post_id":48456881,"comment_id":83906879,"body_markdown":"Please post `ExternalLoginType` too.","body":"Please post <code>ExternalLoginType</code> too."},{"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"score":0,"creation_date":1516951432,"post_id":48456881,"comment_id":83906927,"body_markdown":"added in question","body":"added in question"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1516951587,"post_id":48456881,"comment_id":83906993,"body_markdown":"Can you add `@Enumerated(EnumType.STRING)` first and on next `@Column(name = &quot;type&quot;)` and see whether that removes the error?","body":"Can you add <code>@Enumerated(EnumType.STRING)</code> first and on next <code>@Column(name = &quot;type&quot;)</code> and see whether that removes the error?"},{"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"score":0,"creation_date":1516951792,"post_id":48456881,"comment_id":83907053,"body_markdown":"It doesn&#39;t help","body":"It doesn&#39;t help"},{"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"score":0,"creation_date":1516951840,"post_id":48456881,"comment_id":83907069,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/163924/discussion-between-yegor-babarykin-and-rahul-raj).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/163924/discussion-between-yegor-babarykin-and-rahul-raj\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":426601,"reputation":961,"user_id":807890,"display_name":"Anton Tupy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516960298,"creation_date":1516960298,"answer_id":48458981,"question_id":48456881,"body_markdown":"You misuse annotation *@Embeddable*. See description in oracle docs https://docs.oracle.com/javaee/6/api/javax/persistence/Embeddable.html\r\n\r\n&gt;Defines a class whose instances are stored as an intrinsic part of an owning entity and share the identity of the entity. Each of the persistent properties or fields of the embedded object is mapped to the database table for the entit\r\n\r\n*@Embeddable* annotation makes sense only for singular assotiation fields. Annotating list fields as *@Embeddable* is wrong.\r\n\r\nJust replace\r\n\r\n    @Embeddable\r\n    public class ExternalLogin {\r\n\r\nto\r\n\r\n    @Entity\r\n    public class ExternalLogin {","title":"@Column and @Enumerated doesn&#39;t work in embeded entity","body":"<p>You misuse annotation <em>@Embeddable</em>. See description in oracle docs <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/Embeddable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/api/javax/persistence/Embeddable.html</a></p>\n\n<blockquote>\n  <p>Defines a class whose instances are stored as an intrinsic part of an owning entity and share the identity of the entity. Each of the persistent properties or fields of the embedded object is mapped to the database table for the entit</p>\n</blockquote>\n\n<p><em>@Embeddable</em> annotation makes sense only for singular assotiation fields. Annotating list fields as <em>@Embeddable</em> is wrong.</p>\n\n<p>Just replace</p>\n\n<pre><code>@Embeddable\npublic class ExternalLogin {\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Entity\npublic class ExternalLogin {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26306479,"reputation":11,"user_id":19970855,"display_name":"Roel Mangelschots"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662910040,"creation_date":1662910040,"answer_id":73680492,"question_id":48456881,"body_markdown":"I had exactly the same issue just now.\r\nThe solution for me ended up being adding\r\n\r\n    @Access(FIELD)\r\nTo the Embeddable object.","title":"@Column and @Enumerated doesn&#39;t work in embeded entity","body":"<p>I had exactly the same issue just now.\nThe solution for me ended up being adding</p>\n<pre><code>@Access(FIELD)\n</code></pre>\n<p>To the Embeddable object.</p>\n"}],"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662910040,"creation_date":1516949712,"question_id":48456881,"body_markdown":"I have main entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;partners&quot;)\r\n    public class Partner {\r\n        @ElementCollection\r\n        @CollectionTable(\r\n                name = &quot;external_login&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;partner_id&quot;)\r\n        )\r\n        private List&lt;ExternalLogin&gt; externalLogins;\r\n    ...\r\n    }\r\n\r\nAnd ExternalLogin is embeded entity\r\n\r\n    @Embeddable\r\n    public class ExternalLogin {\r\n        @Column(name = &quot;type&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private ExternalLoginType type;\r\n        @Column(name = &quot;login&quot;)\r\n        private String login;\r\n        @Column(name = &quot;password_value&quot;)\r\n        private String passwordValue;\r\n    }\r\n\r\n    public enum ExternalLoginType {\r\n        ABC;\r\n    }\r\n\r\n`@Column` and `@Enumerated` not works in `ExternalLogin` entity.\r\n\r\nFor example in query will be `external_login.passwordValue` instead of `external_login.password_value`.\r\n\r\n`@Enumerated(value = EnumType.STRING)` doesn&#39;t work too. Hibernate is trying to get `int` value of filed instead `string`.\r\n\r\nCan anyone help me?","title":"@Column and @Enumerated doesn&#39;t work in embeded entity","body":"<p>I have main entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"partners\")\npublic class Partner {\n    @ElementCollection\n    @CollectionTable(\n            name = \"external_login\",\n            joinColumns = @JoinColumn(name = \"partner_id\")\n    )\n    private List&lt;ExternalLogin&gt; externalLogins;\n...\n}\n</code></pre>\n\n<p>And ExternalLogin is embeded entity</p>\n\n<pre><code>@Embeddable\npublic class ExternalLogin {\n    @Column(name = \"type\")\n    @Enumerated(value = EnumType.STRING)\n    private ExternalLoginType type;\n    @Column(name = \"login\")\n    private String login;\n    @Column(name = \"password_value\")\n    private String passwordValue;\n}\n\npublic enum ExternalLoginType {\n    ABC;\n}\n</code></pre>\n\n<p><code>@Column</code> and <code>@Enumerated</code> not works in <code>ExternalLogin</code> entity.</p>\n\n<p>For example in query will be <code>external_login.passwordValue</code> instead of <code>external_login.password_value</code>.</p>\n\n<p><code>@Enumerated(value = EnumType.STRING)</code> doesn't work too. Hibernate is trying to get <code>int</code> value of filed instead <code>string</code>.</p>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","image","image-processing"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":4,"creation_date":1662912174,"post_id":73680479,"comment_id":130110824,"body_markdown":"you need to use multiple calls to do this. do not expect this to be as trivial as calling a single function. -- you need to convert to a suitable color space (HSV/HSL), then change the saturation of every pixel according to its hue (leave red ones, desaturate others), and convert back for storage/display. this may involve a &quot;mask&quot; (binary image), or you can modulate the amount of desaturation according to *how red* a pixel is (smooth fade, not binary decision). -- you really should use OpenCV for that. don&#39;t touch pixels yourself. that&#39;s slow and error-prone.","body":"you need to use multiple calls to do this. do not expect this to be as trivial as calling a single function. -- you need to convert to a suitable color space (HSV/HSL), then change the saturation of every pixel according to its hue (leave red ones, desaturate others), and convert back for storage/display. this may involve a &quot;mask&quot; (binary image), or you can modulate the amount of desaturation according to <i>how red</i> a pixel is (smooth fade, not binary decision). -- you really should use OpenCV for that. don&#39;t touch pixels yourself. that&#39;s slow and error-prone."}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1662909925,"creation_date":1662909925,"question_id":73680479,"body_markdown":"I would like to know how to **isolate** a certain **color** in an image and set the rest to gray using java.\r\n\r\nSo far I managed to do so, but in a **hardcode** way by looping through all the **pixels** of the image and then checking the **RGB** values.\r\nI am using **BufferedImage** to load the image and the **Color** class to deal with RGB values.\r\n\r\nThe **isColorRed** checks if the color is red or not.\r\n\r\n    private static boolean isColorRed(Color color) {\r\n        int red = color.getRed();\r\n        int green = color.getGreen();\r\n        int blue = color.getBlue();\r\n\r\n        return ((red &gt;= 70 &amp;&amp; red &lt;= 255) &amp;&amp; (green &gt;= 0 &amp;&amp; green &lt;= 80) &amp;&amp; (blue &gt;= 0 &amp;&amp; blue &lt;= 80));\r\n    }\r\n\r\nThe **isolateColor** method is responsible to set all pixels to grey except for the red ones.\r\n\r\n    private static void isolateColor(BufferedImage image) {\r\n\r\n        int width = image.getWidth();\r\n        int height = image.getHeight();\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n\r\n                Color c = new Color(image.getRGB(x, y));\r\n\r\n                if (!isColorRed(c)) {\r\n                    int red = (int) (c.getRed() * 0.3);\r\n                    int green = (int) (c.getGreen() * 0.587);\r\n                    int blue = (int) (c.getBlue() * 0.114);\r\n\r\n                    int gray = red + green + blue;\r\n\r\n                    Color newColor = new Color(gray, gray, gray);\r\n                    image.setRGB(x, y, newColor.getRGB());\r\n                } else {\r\n                    Color newColor = new Color(c.getRed(), c.getGreen(), c.getBlue());\r\n                    image.setRGB(x, y, newColor.getRGB());\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        File file;\r\n        try {\r\n            file = new File(&quot;src/grey.png&quot;);\r\n            ImageIO.write(image, &quot;png&quot;, file);\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\nThe original image :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter the treatment : \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs there any API **built-in** or **external** that can isolate **one color or more** in a single image\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gJNnC.jpg\r\n  [2]: https://i.stack.imgur.com/o2N6I.jpg","title":"How make &quot;color isolation&quot; effect like in photoshop with java","body":"<p>I would like to know how to <strong>isolate</strong> a certain <strong>color</strong> in an image and set the rest to gray using java.</p>\n<p>So far I managed to do so, but in a <strong>hardcode</strong> way by looping through all the <strong>pixels</strong> of the image and then checking the <strong>RGB</strong> values.\nI am using <strong>BufferedImage</strong> to load the image and the <strong>Color</strong> class to deal with RGB values.</p>\n<p>The <strong>isColorRed</strong> checks if the color is red or not.</p>\n<pre><code>private static boolean isColorRed(Color color) {\n    int red = color.getRed();\n    int green = color.getGreen();\n    int blue = color.getBlue();\n\n    return ((red &gt;= 70 &amp;&amp; red &lt;= 255) &amp;&amp; (green &gt;= 0 &amp;&amp; green &lt;= 80) &amp;&amp; (blue &gt;= 0 &amp;&amp; blue &lt;= 80));\n}\n</code></pre>\n<p>The <strong>isolateColor</strong> method is responsible to set all pixels to grey except for the red ones.</p>\n<pre><code>private static void isolateColor(BufferedImage image) {\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n\n    for (int y = 0; y &lt; height; y++) {\n        for (int x = 0; x &lt; width; x++) {\n\n            Color c = new Color(image.getRGB(x, y));\n\n            if (!isColorRed(c)) {\n                int red = (int) (c.getRed() * 0.3);\n                int green = (int) (c.getGreen() * 0.587);\n                int blue = (int) (c.getBlue() * 0.114);\n\n                int gray = red + green + blue;\n\n                Color newColor = new Color(gray, gray, gray);\n                image.setRGB(x, y, newColor.getRGB());\n            } else {\n                Color newColor = new Color(c.getRed(), c.getGreen(), c.getBlue());\n                image.setRGB(x, y, newColor.getRGB());\n            }\n\n        }\n    }\n\n    File file;\n    try {\n        file = new File(&quot;src/grey.png&quot;);\n        ImageIO.write(image, &quot;png&quot;, file);\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>The original image :</p>\n<p><a href=\"https://i.stack.imgur.com/gJNnC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJNnC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After the treatment :</p>\n<p><a href=\"https://i.stack.imgur.com/o2N6I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o2N6I.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there any API <strong>built-in</strong> or <strong>external</strong> that can isolate <strong>one color or more</strong> in a single image</p>\n"},{"tags":["java","windows","administrator"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662905288,"post_id":73679902,"comment_id":130109513,"body_markdown":"Open a cmd as admin and rub the program in it.","body":"Open a cmd as admin and rub the program in it."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662908529,"creation_date":1662908529,"answer_id":73680317,"question_id":73679902,"body_markdown":"Hopefully, you can&#39;t do it from _within_ java code silently, as that would be a rather gaping security issue if an app can just upgrade its own access rights like that. You have 3 broad options. 2 of which are based on the notion of:\r\n\r\n_Make the app pop up a prompt, asking the user to allow it (if they are admin) or to provide admin credentials and then allow it._\r\n\r\n* Java is platform agnostic, but just about every platform imaginable does have &#39;users with different privilege levels&#39; as a concept baked into it, and they all have the concept of &#39;any given app runs as a given user&#39; baked into it. Thus, one can imagine a java method that you can call to ask to &#39;upgrade&#39; your privilege level, which should cause the method to cause a popup to appear, on any OS that supports this, failing with an exception if the user cancels the dialog, or the platform does not support this idea.\r\n* Given that you&#39;re specifically caring about Windows11 and nothing else, a &#39;simpler&#39; more direct method that works on windows and pops up a UAC prompt to elevate this app&#39;s access, and fails on any other platform.\r\n* Instead of writing code, just run the app with the right access level in the first place. Some OSes do not let apps escalate like this; an app starts under a given user and cannot be modified. Hence, this concept (don&#39;t switch users mid-app, start the app the right way immediately) works on more platforms.\r\n\r\nAs far as I know, option 1 simply does not exist. It could exist, and I bet one would find it in the `java.awt.Desktop` class if it did. Option 2 could be done with a DLL and native bridging; you may want to search the web, such a thing could exist too, but I&#39;m not aware of one either.\r\n\r\nThat leaves option 3. Which is easy enough, but it means you have to do it / you have to write a manual so your users know how to do it / you have to write an installer that sets up scripts or whatnot to do this.\r\n\r\nA few strategies are available to accomplish this. The 2 most obvious ones:\r\n\r\n## Shortcut\r\n\r\nRight click on the desktop, create a new shortcut. The command you&#39;re looking for is something like `C:\\Program Files\\Java\\JDK1.11\\bin\\java.exe -jar C:\\myapp\\myapp.jar` - replacing both of those paths with where your JDK is actually at, and where your app is actually at. In the &#39;advanced&#39; tab of this &#39;create shortcut&#39; dialog, you can tick the box with &#39;run as administrator&#39;. Now run this shortcut and voila - your entire java app now runs as administrator and will be allowed to access that folder.\r\n\r\n## Run directly\r\n\r\nHit Win+X, pick &#39;run command line as admin&#39;. Alternatively, just go for windows run (Win+R), type &#39;cmd&#39;, tick the &#39;run as admin&#39; box, or just hit Windows key, type cmd, right click the &#39;cmd.exe&#39; search result that pops up, and pick &#39;run as administrator&#39;. Many ways to end up with an admin-level command line box.\r\n\r\nOnce you have that, just run `C:\\Program Files\\Java\\JDK1.11\\bin\\java.exe -jar C:\\myapp\\myapp.jar` - replacing the paths as appropriate. The java you start will inherit the admin rights that the cmd box is running under.\r\n","title":"How to run Java code as admin on Windows 11?","body":"<p>Hopefully, you can't do it from <em>within</em> java code silently, as that would be a rather gaping security issue if an app can just upgrade its own access rights like that. You have 3 broad options. 2 of which are based on the notion of:</p>\n<p><em>Make the app pop up a prompt, asking the user to allow it (if they are admin) or to provide admin credentials and then allow it.</em></p>\n<ul>\n<li>Java is platform agnostic, but just about every platform imaginable does have 'users with different privilege levels' as a concept baked into it, and they all have the concept of 'any given app runs as a given user' baked into it. Thus, one can imagine a java method that you can call to ask to 'upgrade' your privilege level, which should cause the method to cause a popup to appear, on any OS that supports this, failing with an exception if the user cancels the dialog, or the platform does not support this idea.</li>\n<li>Given that you're specifically caring about Windows11 and nothing else, a 'simpler' more direct method that works on windows and pops up a UAC prompt to elevate this app's access, and fails on any other platform.</li>\n<li>Instead of writing code, just run the app with the right access level in the first place. Some OSes do not let apps escalate like this; an app starts under a given user and cannot be modified. Hence, this concept (don't switch users mid-app, start the app the right way immediately) works on more platforms.</li>\n</ul>\n<p>As far as I know, option 1 simply does not exist. It could exist, and I bet one would find it in the <code>java.awt.Desktop</code> class if it did. Option 2 could be done with a DLL and native bridging; you may want to search the web, such a thing could exist too, but I'm not aware of one either.</p>\n<p>That leaves option 3. Which is easy enough, but it means you have to do it / you have to write a manual so your users know how to do it / you have to write an installer that sets up scripts or whatnot to do this.</p>\n<p>A few strategies are available to accomplish this. The 2 most obvious ones:</p>\n<h2>Shortcut</h2>\n<p>Right click on the desktop, create a new shortcut. The command you're looking for is something like <code>C:\\Program Files\\Java\\JDK1.11\\bin\\java.exe -jar C:\\myapp\\myapp.jar</code> - replacing both of those paths with where your JDK is actually at, and where your app is actually at. In the 'advanced' tab of this 'create shortcut' dialog, you can tick the box with 'run as administrator'. Now run this shortcut and voila - your entire java app now runs as administrator and will be allowed to access that folder.</p>\n<h2>Run directly</h2>\n<p>Hit Win+X, pick 'run command line as admin'. Alternatively, just go for windows run (Win+R), type 'cmd', tick the 'run as admin' box, or just hit Windows key, type cmd, right click the 'cmd.exe' search result that pops up, and pick 'run as administrator'. Many ways to end up with an admin-level command line box.</p>\n<p>Once you have that, just run <code>C:\\Program Files\\Java\\JDK1.11\\bin\\java.exe -jar C:\\myapp\\myapp.jar</code> - replacing the paths as appropriate. The java you start will inherit the admin rights that the cmd box is running under.</p>\n"}],"owner":{"account_id":15730263,"reputation":1,"user_id":17399367,"display_name":"Коля Волков"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662908982,"creation_date":1662905046,"question_id":73679902,"body_markdown":"I have the following code:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Test2 {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Files.walk(Paths.get(&quot;C:\\\\Documents and Settings&quot;))\r\n                    .filter(Files::isRegularFile)\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nWhen I run it, I get an exception: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: C:\\Documents and Settings\r\n\r\nHow to take access to resources which need administrator access?","title":"How to run Java code as admin on Windows 11?","body":"<p>I have the following code:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class Test2 {\n    public static void main(String[] args) throws IOException {\n\n        Files.walk(Paths.get(&quot;C:\\\\Documents and Settings&quot;))\n                .filter(Files::isRegularFile)\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>When I run it, I get an exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: C:\\Documents and Settings</p>\n</blockquote>\n<p>How to take access to resources which need administrator access?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":8,"creation_date":1540421976,"post_id":52979033,"comment_id":92864508,"body_markdown":"It&#39;s in a JAR. You can&#39;t edit JARs.","body":"It&#39;s in a JAR. You can&#39;t edit JARs."},{"owner":{"account_id":10811092,"reputation":151,"user_id":7951655,"display_name":"NEWBIEHERE"},"score":0,"creation_date":1540422103,"post_id":52979033,"comment_id":92864543,"body_markdown":"What do I do to edit the class then?","body":"What do I do to edit the class then?"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":3,"creation_date":1540422149,"post_id":52979033,"comment_id":92864555,"body_markdown":"You need to download the actual source code and edit it, then include that. Look up how to add modules to Android Studio.","body":"You need to download the actual source code and edit it, then include that. Look up how to add modules to Android Studio."}],"answers":[{"tags":[],"owner":{"display_name":"user10536157"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1540427748,"creation_date":1540427748,"answer_id":52979724,"question_id":52979033,"body_markdown":"Try this: Go to the file in the Windows explorer and make an rightclick and then click on properties. Uncheck write protect! If this not function try to start Andruid Studio as adminstrator.","title":"Android Studio - File is read only","body":"<p>Try this: Go to the file in the Windows explorer and make an rightclick and then click on properties. Uncheck write protect! If this not function try to start Andruid Studio as adminstrator.</p>\n"},{"tags":[],"owner":{"account_id":17287975,"reputation":91,"user_id":12520169,"display_name":"Satyam Goyal"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1587668308,"creation_date":1587668308,"answer_id":61394992,"question_id":52979033,"body_markdown":" - Close Android Studio.\r\n - Save .idea folder for future restore (if something happend)\r\n - Remove .idea folder\r\n - Start Android Studio and open project.\r\n\r\n","title":"Android Studio - File is read only","body":"<ul>\n<li>Close Android Studio.</li>\n<li>Save .idea folder for future restore (if something happend)</li>\n<li>Remove .idea folder</li>\n<li>Start Android Studio and open project.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1628588116,"creation_date":1628588116,"answer_id":68724369,"question_id":52979033,"body_markdown":"\r\nI think, the file is locked as READ-ONLY. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can click on the lock icon to toggle the READ-ONLY Option.The option can be found at the BOTTOM-RIGHT Corner of the Android Studio.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rB5EQ.png","title":"Android Studio - File is read only","body":"<p>I think, the file is locked as READ-ONLY.</p>\n<p><a href=\"https://i.stack.imgur.com/rB5EQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rB5EQ.png\" alt=\"enter image description here\" /></a></p>\n<p>You can click on the lock icon to toggle the READ-ONLY Option.The option can be found at the BOTTOM-RIGHT Corner of the Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":17880167,"reputation":11,"user_id":12989179,"display_name":"Amateur_coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659941720,"creation_date":1659413417,"answer_id":73201884,"question_id":52979033,"body_markdown":"I used Mac OS X and coded used Flutter:\r\n\r\nafter I didn&#39;t see the file explorer on the right side. I went to: \r\n\r\nProject Structure -&gt; Modules -&gt; &#39;+&#39; -&gt; APK -&gt; Apply. \r\n\r\nThen all files were shown in read-only mode, I don&#39;t know why. \r\n\r\nThen I deleted the `.idea` folder in the root folder and it returned to normal(in Mac OS X: press CMD + Shift + &#39;.&#39; to show hidden files)","title":"Android Studio - File is read only","body":"<p>I used Mac OS X and coded used Flutter:</p>\n<p>after I didn't see the file explorer on the right side. I went to:</p>\n<p>Project Structure -&gt; Modules -&gt; '+' -&gt; APK -&gt; Apply.</p>\n<p>Then all files were shown in read-only mode, I don't know why.</p>\n<p>Then I deleted the <code>.idea</code> folder in the root folder and it returned to normal(in Mac OS X: press CMD + Shift + '.' to show hidden files)</p>\n"}],"owner":{"account_id":10811092,"reputation":151,"user_id":7951655,"display_name":"NEWBIEHERE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29233,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1662908500,"creation_date":1540421946,"question_id":52979033,"body_markdown":"I&#39;ve downloaded a library from github and I would like to edit the class to suit my needs. But Android Studio won&#39;t allow me saying &quot;File is read only&quot; when I try to type and edit the class.\r\n\r\n![linked image so you can see what I mean][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fLy7o.png","title":"Android Studio - File is read only","body":"<p>I've downloaded a library from github and I would like to edit the class to suit my needs. But Android Studio won't allow me saying &quot;File is read only&quot; when I try to type and edit the class.</p>\n<p><img src=\"https://i.stack.imgur.com/fLy7o.png\" alt=\"linked image so you can see what I mean\" /></p>\n"},{"tags":["java","spring-boot","cmd","log4j2","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662909747,"post_id":73680223,"comment_id":130110349,"body_markdown":"Try ```java -Dlog4j2.configurationFile=file:/C:/myApp/CONF/log4j2.properties -jar myApp-0.0.1-SNAPSHOT.jar```","body":"Try <code>java -Dlog4j2.configurationFile=file:&#47;C:&#47;myApp&#47;CONF&#47;log4j2.proper&zwnj;&#8203;ties -jar myApp-0.0.1-SNAPSHOT.jar</code>"},{"owner":{"account_id":3780161,"reputation":631,"user_id":3212238,"accept_rate":40,"display_name":"yan"},"score":0,"creation_date":1662910165,"post_id":73680223,"comment_id":130110445,"body_markdown":"@g00se Tried it, and it is not working :/  Are my file contents correct or am I missing something somewhere?","body":"@g00se Tried it, and it is not working :/  Are my file contents correct or am I missing something somewhere?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662910425,"post_id":73680223,"comment_id":130110505,"body_markdown":"I don&#39;t use this kind of logging but *property.filename = C:\\\\mytest-logs\\\\debug.log* doesn&#39;t look quite right: https://springframework.guru/log4j-2-configuration-using-properties-file/ Theirs looks like a *directory* which is then referenced using *${filename}* - all very confusing and I strongly suspect an xml config is preferable","body":"I don&#39;t use this kind of logging but <i>property.filename = C:\\\\mytest-logs\\\\debug.log</i> doesn&#39;t look quite right: <a href=\"https://springframework.guru/log4j-2-configuration-using-properties-file/\" rel=\"nofollow noreferrer\">springframework.guru/&hellip;</a> Theirs looks like a <i>directory</i> which is then referenced using <i>${filename}</i> - all very confusing and I strongly suspect an xml config is preferable"}],"owner":{"account_id":3780161,"reputation":631,"user_id":3212238,"accept_rate":40,"display_name":"yan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662908366,"creation_date":1662907814,"question_id":73680223,"body_markdown":"I have an issue in getting to export the log file of log4j2 if I am running it via the command line.\r\n\r\nI have an executable jar file that does not contain any other `.properties` files, other than `application.properties` (this file is empty). In my case, I am running my command line as follows:\r\n\r\n`java -Dlog4j2.configurationFile=//file:/C:/myApp/CONF/log4j2.properties -jar myApp-0.0.1-SNAPSHOT.jar`\r\n\r\nHowever, in my terminal, no errors are shown, and during the execution, no log file is generated.\r\nInstead, the log file only seems to be exported and generated only if I commented out `SpringApplication.run(App.class, args);` in my main application.\r\n\r\nEven so, I believe I need this line to run the spring framework/ architecture side of things (I&#39;m new to spring stuff). \r\nI have tried placing the same `log4j2.properties` within the jar file and it does works (ie. generated the log file however this is not what I intended for)\r\n\r\nA sample of my program is as follows:\r\n\r\n**Main File - App.java**\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    \r\n    \r\n    @SpringBootApplication (exclude (DataSourceAutoConfiguration.class })\r\n    public class App implements CommandLineRunner {\r\n    \tprivate static final Logger logger = LogManager.getLogger(App.class);\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t// File is generated if only the following line is commented out\r\n    \t\t// SpringApplication.run(App.class, args);\r\n    \r\n    \t\tlogger.debug(&quot;This is debug&quot;);\r\n    \t\tlogger.info(&quot;This is info&quot;); \r\n    \t\tlogger.error(&quot;This is error&quot;);\r\n    \t}\r\n    \t\t\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception { \r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    }\r\n\r\n**Pom.xml - To enable the export of log4j2 log file**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt; &lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-core&lt;/artifactId&gt; &lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;!-- Excluding logback dependencies to use 14j2 --&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**log4j2.properties**\r\n\r\n    status = error\r\n    property.filename = C:\\\\mytest-logs\\\\debug.log\r\n    \r\n    filters = threshold\r\n    filter.threshold.type = ThresholdFilter filter.threshold.level=debug\r\n    appenders = rolling\r\n    appender.rolling.type = RollingFile \r\n    appender.rolling.name = RollingFile\r\n    appender.rolling.fileName = ${filename}\r\n    appender.rolling.filePattern = C:\\\\logs\\\\Previous\\\\debug-backup-%d{MM-dd-yy-HH-mm-ss}-xi.log.gz \r\n    appender.rolling.layout.type = PatternLayout\r\n    appender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c(1):%L - %m%n \r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.policies.time.type = TimeBasedTriggeringPolicy \r\n    appender.rolling.policies.time.interval = 1\r\n    appender.rolling.policies.time.modulate = true\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy \r\n    appender.rolling.policies.size.size=10MB\r\n    appender.rolling.strategy.type = DefaultRolloverStrategy \r\n    appender.rolling.strategy.max = 20\r\n    \r\n    loggers = rolling\r\n    logger.rolling.name = mytesting.test_log4js\r\n    logger.rolling.level = debug\r\n    logger.rolling.additivity = true\r\n    logger.rolling.appenderRef.rolling.ref= RollingFile\r\n\r\nI am using Java version 1.8 and spring boot version 2.2.13.\r\n\r\nAppreciate in advance for any insights.","title":"Java jar -Dlog4j2.configurationFile does not generate log file when running via command line","body":"<p>I have an issue in getting to export the log file of log4j2 if I am running it via the command line.</p>\n<p>I have an executable jar file that does not contain any other <code>.properties</code> files, other than <code>application.properties</code> (this file is empty). In my case, I am running my command line as follows:</p>\n<p><code>java -Dlog4j2.configurationFile=//file:/C:/myApp/CONF/log4j2.properties -jar myApp-0.0.1-SNAPSHOT.jar</code></p>\n<p>However, in my terminal, no errors are shown, and during the execution, no log file is generated.\nInstead, the log file only seems to be exported and generated only if I commented out <code>SpringApplication.run(App.class, args);</code> in my main application.</p>\n<p>Even so, I believe I need this line to run the spring framework/ architecture side of things (I'm new to spring stuff).\nI have tried placing the same <code>log4j2.properties</code> within the jar file and it does works (ie. generated the log file however this is not what I intended for)</p>\n<p>A sample of my program is as follows:</p>\n<p><strong>Main File - App.java</strong></p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n\n@SpringBootApplication (exclude (DataSourceAutoConfiguration.class })\npublic class App implements CommandLineRunner {\n    private static final Logger logger = LogManager.getLogger(App.class);\n    \n    public static void main(String[] args) {\n\n        // File is generated if only the following line is commented out\n        // SpringApplication.run(App.class, args);\n\n        logger.debug(&quot;This is debug&quot;);\n        logger.info(&quot;This is info&quot;); \n        logger.error(&quot;This is error&quot;);\n    }\n        \n    @Override\n    public void run(String... args) throws Exception { \n        // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n<p><strong>Pom.xml - To enable the export of log4j2 log file</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt; &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-core&lt;/artifactId&gt; &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;!-- Excluding logback dependencies to use 14j2 --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j2.properties</strong></p>\n<pre><code>status = error\nproperty.filename = C:\\\\mytest-logs\\\\debug.log\n\nfilters = threshold\nfilter.threshold.type = ThresholdFilter filter.threshold.level=debug\nappenders = rolling\nappender.rolling.type = RollingFile \nappender.rolling.name = RollingFile\nappender.rolling.fileName = ${filename}\nappender.rolling.filePattern = C:\\\\logs\\\\Previous\\\\debug-backup-%d{MM-dd-yy-HH-mm-ss}-xi.log.gz \nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c(1):%L - %m%n \nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy \nappender.rolling.policies.time.interval = 1\nappender.rolling.policies.time.modulate = true\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy \nappender.rolling.policies.size.size=10MB\nappender.rolling.strategy.type = DefaultRolloverStrategy \nappender.rolling.strategy.max = 20\n\nloggers = rolling\nlogger.rolling.name = mytesting.test_log4js\nlogger.rolling.level = debug\nlogger.rolling.additivity = true\nlogger.rolling.appenderRef.rolling.ref= RollingFile\n</code></pre>\n<p>I am using Java version 1.8 and spring boot version 2.2.13.</p>\n<p>Appreciate in advance for any insights.</p>\n"},{"tags":["java","server","stream","minecraft","packet"],"comments":[{"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"score":0,"creation_date":1662908023,"post_id":73678077,"comment_id":130110005,"body_markdown":"&quot;it has put the authentication stuff after receiving the login success packet&quot;. The location of the authentication section on the page is somewhat misleading. Client authentication does happen before the encryption response.","body":"&quot;it has put the authentication stuff after receiving the login success packet&quot;. The location of the authentication section on the page is somewhat misleading. Client authentication does happen before the encryption response."}],"answers":[{"tags":[],"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662907595,"creation_date":1662907595,"answer_id":73680201,"question_id":73678077,"body_markdown":"**tldr** authenticate before sending the encryption response and decrypt all packets from the server after sending the encryption response.\r\n\r\nThe client must authenticate before sending the encryption response as shown [here](https://wiki.vg/Protocol_Encryption#Overview).\r\n\r\n&gt; C-&gt;S : Handshake State=2  \r\n&gt; C-&gt;S : Login Start  \r\n&gt; S-&gt;C : Encryption Key Request  \r\n&gt; (Client Auth)  \r\n&gt; C-&gt;S : Encryption Key Response  \r\n&gt; (Server Auth, Both enable encryption)  \r\n&gt; S-&gt;C : Login Success\r\n\r\nFollow the authentication process specified [here](https://wiki.vg/Protocol_Encryption#Client).\r\n\r\nYou&#39;re seeing a random garbage packet id because it is encrypted. All packets after the encryption response are encrypted and must be decrypted as specified [here](https://wiki.vg/Protocol_Encryption#Symmetric_Encryption).\r\n&gt; Similarly, the client will also enable encryption upon sending Encryption Response. From this point forward, everything is encrypted. Note: the entire packet is encrypted, including the length fields and the packet&#39;s data.\r\nThe Login Success packet is sent encrypted.","title":"Minecraft server responding with weird packets after sending Encryption response","body":"<p><strong>tldr</strong> authenticate before sending the encryption response and decrypt all packets from the server after sending the encryption response.</p>\n<p>The client must authenticate before sending the encryption response as shown <a href=\"https://wiki.vg/Protocol_Encryption#Overview\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>C-&gt;S : Handshake State=2<br />\nC-&gt;S : Login Start<br />\nS-&gt;C : Encryption Key Request<br />\n(Client Auth)<br />\nC-&gt;S : Encryption Key Response<br />\n(Server Auth, Both enable encryption)<br />\nS-&gt;C : Login Success</p>\n</blockquote>\n<p>Follow the authentication process specified <a href=\"https://wiki.vg/Protocol_Encryption#Client\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You're seeing a random garbage packet id because it is encrypted. All packets after the encryption response are encrypted and must be decrypted as specified <a href=\"https://wiki.vg/Protocol_Encryption#Symmetric_Encryption\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Similarly, the client will also enable encryption upon sending Encryption Response. From this point forward, everything is encrypted. Note: the entire packet is encrypted, including the length fields and the packet's data.\nThe Login Success packet is sent encrypted.</p>\n</blockquote>\n"}],"owner":{"account_id":26299240,"reputation":15,"user_id":19964959,"display_name":"EnderPoint"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73680201,"answer_count":1,"score":1,"last_activity_date":1662907595,"creation_date":1662887409,"question_id":73678077,"body_markdown":"I am trying to make a java program to be able to login to a minecraft server.\r\nFrom [this][1] and help of some other related posts like [this][2] I have been able to deal with the [Handshake][3], [Login Start][4], [Encryption Request][5] and [Encryption Response][6] packets. Now, I expect the server to respond with a [Login Success][7] but instead it responds with a packet id of something random (i.e. a random number (now i may be doing something wrong trying to read it or mistaking it for something else)).\r\n\r\nThe code i use to read the packet:\r\n```java\r\n// S-&gt;C Login Success\r\n        int loginPacketSize = readVarInt(input); // packet size\r\n        int loginPacketId = readVarInt(input); // packet id\r\n\r\n        if(loginPacketId != 0x02) { // We want login success\r\n            System.out.println(&quot;Bad packet id: &quot; + loginPacketId);\r\n            \r\n            if(loginPacketId == 0x00) { // If it&#39;s a disconnect packet\r\n                disconnected(input);\r\n            }\r\n        }\r\n```\r\nreadVarInt method (i got this from [this][2])\r\n```java\r\npublic static int readVarInt(DataInputStream in) throws IOException {\r\n        int i = 0;\r\n        int j = 0;\r\n        while (true) {\r\n            int k = in.readByte();\r\n            i |= (k &amp; 0x7F) &lt;&lt; j++ * 7;\r\n            if (j &gt; 5) throw new RuntimeException(&quot;VarInt too big&quot;);\r\n            if ((k &amp; 0x80) != 128) break;\r\n        }\r\n        return i;\r\n    }\r\n```\r\n\r\nthis outputs something different every time it is run\r\n\r\n&gt; Bad packet id: 134\r\n\r\n&gt; Bad packet id: 3757\r\n\r\n&gt; Bad packet id: 9673\r\n\r\n\r\nmore information on this can be found [here][1]\r\n\r\nhttps://github.com/EnderPoint07/Fake-Minecraft-Client/blob/master/src/LoginToServer.java is all of the code of my program\r\n\r\n\r\nedit: Ok so I ran this on my own server running from my computer to get the logs and the server logs this (EnderPoint_07 being my minecraft username):\r\n\r\n&gt; [14:41:32 ERROR]: Username &#39;EnderPoint_07&#39; tried to join with an invalid session\r\n[14:41:32 INFO]: /127.0.0.1:54157 lost connection: Failed to verify username!\r\n\r\ncan somebody explain to me why am i not receiving Login Success cause over at wiki.vg/Protocol_Encryption (i dont have rep to post more than 8 links) it has put the authentication stuff after receiving the login success packet\r\n\r\n\r\n  [1]: https://wiki.vg/Protocol_Encryption\r\n  [2]: https://stackoverflow.com/questions/30768091/java-sending-handshake-packets-to-minecraft-server\r\n  [3]: https://wiki.vg/Protocol#Handshake\r\n  [4]: https://wiki.vg/Protocol#Login_Start\r\n  [5]: https://wiki.vg/Protocol#Encryption_Request\r\n  [6]: https://wiki.vg/Protocol#Encryption_Response\r\n  [7]: https://wiki.vg/Protocol#Login_Success","title":"Minecraft server responding with weird packets after sending Encryption response","body":"<p>I am trying to make a java program to be able to login to a minecraft server.\nFrom <a href=\"https://wiki.vg/Protocol_Encryption\" rel=\"nofollow noreferrer\">this</a> and help of some other related posts like <a href=\"https://stackoverflow.com/questions/30768091/java-sending-handshake-packets-to-minecraft-server\">this</a> I have been able to deal with the <a href=\"https://wiki.vg/Protocol#Handshake\" rel=\"nofollow noreferrer\">Handshake</a>, <a href=\"https://wiki.vg/Protocol#Login_Start\" rel=\"nofollow noreferrer\">Login Start</a>, <a href=\"https://wiki.vg/Protocol#Encryption_Request\" rel=\"nofollow noreferrer\">Encryption Request</a> and <a href=\"https://wiki.vg/Protocol#Encryption_Response\" rel=\"nofollow noreferrer\">Encryption Response</a> packets. Now, I expect the server to respond with a <a href=\"https://wiki.vg/Protocol#Login_Success\" rel=\"nofollow noreferrer\">Login Success</a> but instead it responds with a packet id of something random (i.e. a random number (now i may be doing something wrong trying to read it or mistaking it for something else)).</p>\n<p>The code i use to read the packet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// S-&gt;C Login Success\n        int loginPacketSize = readVarInt(input); // packet size\n        int loginPacketId = readVarInt(input); // packet id\n\n        if(loginPacketId != 0x02) { // We want login success\n            System.out.println(&quot;Bad packet id: &quot; + loginPacketId);\n            \n            if(loginPacketId == 0x00) { // If it's a disconnect packet\n                disconnected(input);\n            }\n        }\n</code></pre>\n<p>readVarInt method (i got this from <a href=\"https://stackoverflow.com/questions/30768091/java-sending-handshake-packets-to-minecraft-server\">this</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int readVarInt(DataInputStream in) throws IOException {\n        int i = 0;\n        int j = 0;\n        while (true) {\n            int k = in.readByte();\n            i |= (k &amp; 0x7F) &lt;&lt; j++ * 7;\n            if (j &gt; 5) throw new RuntimeException(&quot;VarInt too big&quot;);\n            if ((k &amp; 0x80) != 128) break;\n        }\n        return i;\n    }\n</code></pre>\n<p>this outputs something different every time it is run</p>\n<blockquote>\n<p>Bad packet id: 134</p>\n</blockquote>\n<blockquote>\n<p>Bad packet id: 3757</p>\n</blockquote>\n<blockquote>\n<p>Bad packet id: 9673</p>\n</blockquote>\n<p>more information on this can be found <a href=\"https://wiki.vg/Protocol_Encryption\" rel=\"nofollow noreferrer\">here</a></p>\n<p><a href=\"https://github.com/EnderPoint07/Fake-Minecraft-Client/blob/master/src/LoginToServer.java\" rel=\"nofollow noreferrer\">https://github.com/EnderPoint07/Fake-Minecraft-Client/blob/master/src/LoginToServer.java</a> is all of the code of my program</p>\n<p>edit: Ok so I ran this on my own server running from my computer to get the logs and the server logs this (EnderPoint_07 being my minecraft username):</p>\n<blockquote>\n<p>[14:41:32 ERROR]: Username 'EnderPoint_07' tried to join with an invalid session\n[14:41:32 INFO]: /127.0.0.1:54157 lost connection: Failed to verify username!</p>\n</blockquote>\n<p>can somebody explain to me why am i not receiving Login Success cause over at wiki.vg/Protocol_Encryption (i dont have rep to post more than 8 links) it has put the authentication stuff after receiving the login success packet</p>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1620930377,"post_id":67523816,"comment_id":119351179,"body_markdown":"Because not all responses have a body, I presume the main status to check is the one on the response. Being able to read the status in the body handler could be just to prevent waste.","body":"Because not all responses have a body, I presume the main status to check is the one on the response. Being able to read the status in the body handler could be just to prevent waste."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1644895728,"post_id":67523816,"comment_id":125720487,"body_markdown":"Do we have any solution other than the accepted answer?","body":"Do we have any solution other than the accepted answer?"}],"answers":[{"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1620988528,"creation_date":1620988528,"answer_id":67532905,"question_id":67523816,"body_markdown":"The `HttpClient` attempts to do a good job at catching exceptions thrown by user code - but this is not the recommended way of dealing with non 200 status. You&#39;d be relying on unspecified behavior (though it would probably do what you expect).\r\n\r\nIf you want to return an exception in case of a status which is != 200, then my recommendation would be to write a body subscriber that:\r\n\r\n 1. Return a failed CompletionStage (which you would have completed exceptionally with your exception)\r\n 2. Cancel the subscription (or forwards it to a BodySubscribers.discarding() subscriber)\r\n\r\nOn the other hand - if you want a different result type for the case where status != 200 you could write a `BodyHandler` that returns a tuple (response, error) where response is of one type and error is of another type. Something like this:\r\n\r\n    record Response&lt;R,T&gt;(R response, T error) {}\r\n    static class ErrorBodyHandler&lt;R,T&gt; implements BodyHandler&lt;Response&lt;R,T&gt;&gt; {\r\n        final BodyHandler&lt;R&gt; responseHandler;\r\n        final BodyHandler&lt;T&gt; errorHandler;\r\n        public ErrorBodyHandler(BodyHandler&lt;R&gt; responseHandler, BodyHandler&lt;T&gt; errorHandler) {\r\n            this.responseHandler = responseHandler;\r\n            this.errorHandler = errorHandler;\r\n        }\r\n        @Override\r\n        public BodySubscriber&lt;Response&lt;R, T&gt;&gt; apply(ResponseInfo responseInfo) {\r\n            if (responseInfo.statusCode() == 200) {\r\n                return BodySubscribers.mapping(responseHandler.apply(responseInfo),\r\n                        (r) -&gt; new Response&lt;&gt;(r, null));\r\n            } else {\r\n                return BodySubscribers.mapping(errorHandler.apply(responseInfo),\r\n                        (t) -&gt; new Response&lt;&gt;(null, t));\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        var client = HttpClient.newHttpClient();\r\n        var handler = new ErrorBodyHandler&lt;&gt;(BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;)),\r\n                BodyHandlers.ofString());\r\n        var request = HttpRequest\r\n                .newBuilder(URI.create(&quot;http://host:port/&quot;))\r\n                .build();\r\n        var httpResponse = \r\n                client.send(request, handler);\r\n        if (httpResponse.statusCode() == 200) {\r\n            Path path = httpResponse.body().response();\r\n        } else {\r\n            String error = httpResponse.body().error();\r\n        }\r\n    }\r\n\r\n\r\n ","title":"How / where to check for java.net.http.HttpClient HTTP response status codes","body":"<p>The <code>HttpClient</code> attempts to do a good job at catching exceptions thrown by user code - but this is not the recommended way of dealing with non 200 status. You'd be relying on unspecified behavior (though it would probably do what you expect).</p>\n<p>If you want to return an exception in case of a status which is != 200, then my recommendation would be to write a body subscriber that:</p>\n<ol>\n<li>Return a failed CompletionStage (which you would have completed exceptionally with your exception)</li>\n<li>Cancel the subscription (or forwards it to a BodySubscribers.discarding() subscriber)</li>\n</ol>\n<p>On the other hand - if you want a different result type for the case where status != 200 you could write a <code>BodyHandler</code> that returns a tuple (response, error) where response is of one type and error is of another type. Something like this:</p>\n<pre><code>record Response&lt;R,T&gt;(R response, T error) {}\nstatic class ErrorBodyHandler&lt;R,T&gt; implements BodyHandler&lt;Response&lt;R,T&gt;&gt; {\n    final BodyHandler&lt;R&gt; responseHandler;\n    final BodyHandler&lt;T&gt; errorHandler;\n    public ErrorBodyHandler(BodyHandler&lt;R&gt; responseHandler, BodyHandler&lt;T&gt; errorHandler) {\n        this.responseHandler = responseHandler;\n        this.errorHandler = errorHandler;\n    }\n    @Override\n    public BodySubscriber&lt;Response&lt;R, T&gt;&gt; apply(ResponseInfo responseInfo) {\n        if (responseInfo.statusCode() == 200) {\n            return BodySubscribers.mapping(responseHandler.apply(responseInfo),\n                    (r) -&gt; new Response&lt;&gt;(r, null));\n        } else {\n            return BodySubscribers.mapping(errorHandler.apply(responseInfo),\n                    (t) -&gt; new Response&lt;&gt;(null, t));\n        }\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    var client = HttpClient.newHttpClient();\n    var handler = new ErrorBodyHandler&lt;&gt;(BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;)),\n            BodyHandlers.ofString());\n    var request = HttpRequest\n            .newBuilder(URI.create(&quot;http://host:port/&quot;))\n            .build();\n    var httpResponse = \n            client.send(request, handler);\n    if (httpResponse.statusCode() == 200) {\n        Path path = httpResponse.body().response();\n    } else {\n        String error = httpResponse.body().error();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662907214,"creation_date":1662907214,"answer_id":73680159,"question_id":67523816,"body_markdown":"I&#39;m astounded that the JDK documentation could be so vague on such a common and necessary use case: correctly detecting failure for an HTTP request.\r\n\r\nAfter reading the API docs, poring over the discussion here, and digging into the source code; I&#39;ve determined that the appropriate logic might be as simple as this:\r\n\r\n```java\r\nfinal BodyHandler&lt;Path&gt; bodyHandler = responseInfo -&gt; {\r\n  final BodySubscriber&lt;Path&gt; bodySubscriber;\r\n  final int statusCode = responseInfo.statusCode();\r\n  if(statusCode == 200) {\r\n    bodySubscriber = BodySubscribers.ofFile(toFile);\r\n  } else {\r\n    bodySubscriber = BodySubscribers.replacing(null);\r\n    bodySubscriber.onError(new IOException(&quot;HTTP request failed with response status code &quot;\r\n        + statusCode + &quot;.&quot;));\r\n  }\r\n  return bodySubscriber;\r\n};\r\ngetHttpClient().send(httpRequest, bodyHandler);\r\n```\r\n\r\nDoes that seem right? Am I using the API correctly? Basically I just want to discard the body, return a `null` `Path` if someone asks for it (indicating the body was not saved in a file), and result in a failed completion stage.\r\n\r\n(The JDK really needs a better approach to this, including some pre-made classes at the very least.)","title":"How / where to check for java.net.http.HttpClient HTTP response status codes","body":"<p>I'm astounded that the JDK documentation could be so vague on such a common and necessary use case: correctly detecting failure for an HTTP request.</p>\n<p>After reading the API docs, poring over the discussion here, and digging into the source code; I've determined that the appropriate logic might be as simple as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BodyHandler&lt;Path&gt; bodyHandler = responseInfo -&gt; {\n  final BodySubscriber&lt;Path&gt; bodySubscriber;\n  final int statusCode = responseInfo.statusCode();\n  if(statusCode == 200) {\n    bodySubscriber = BodySubscribers.ofFile(toFile);\n  } else {\n    bodySubscriber = BodySubscribers.replacing(null);\n    bodySubscriber.onError(new IOException(&quot;HTTP request failed with response status code &quot;\n        + statusCode + &quot;.&quot;));\n  }\n  return bodySubscriber;\n};\ngetHttpClient().send(httpRequest, bodyHandler);\n</code></pre>\n<p>Does that seem right? Am I using the API correctly? Basically I just want to discard the body, return a <code>null</code> <code>Path</code> if someone asks for it (indicating the body was not saved in a file), and result in a failed completion stage.</p>\n<p>(The JDK really needs a better approach to this, including some pre-made classes at the very least.)</p>\n"}],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5038,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":67532905,"answer_count":2,"score":9,"last_activity_date":1662907214,"creation_date":1620927882,"question_id":67523816,"body_markdown":"Java 11&#39;s `java.net.http.HttpClient` does not seem to check the HTTP status code, except for redirects (if enabled). And all examples found in the [wiki](https://openjdk.java.net/groups/net/httpclient/recipes.html) and in the Java API documentation always assume that HTTP requests are successful, i.e. they never seem to check the status code of the response.\r\n\r\nThis is most likely never the desired behavior because an error page from an HTTP 500 (server error) response has probably a different, or no format and can therefore not be handled by the application.\r\n\r\nWhere should the check for the HTTP status code occur?\r\n\r\nThe [documentation of `HttpResponse.BodyHandler`](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodyHandler.html) contains the following example snippet:\r\n```java\r\nBodyHandler&lt;Path&gt; bodyHandler = (rspInfo) -&gt; rspInfo.statusCode() == 200\r\n    ? BodySubscribers.ofFile(Paths.get(&quot;/tmp/f&quot;))\r\n    : BodySubscribers.replacing(Paths.get(&quot;/NULL&quot;));\r\n```\r\n\r\nHowever, then you would have to check twice for the status code, once in the `BodyHandler` shown above, and once when handling the response (since trying to read the body from `&quot;/NULL&quot;` would fail).\r\n\r\nTo me it seems most reasonable to perform the HTTP status code check in the `BodyHandler` only, e.g.:\r\n```java\r\nBodyHandler&lt;Path&gt; bodyHandler = (rspInfo) -&gt; {\r\n    if (rspInfo.statusCode() == 200) {\r\n        return BodySubscribers.ofFile(Paths.get(&quot;/tmp/f&quot;));\r\n    } else {\r\n        throw new RuntimeException(&quot;Request failed&quot;);\r\n    }\r\n};\r\n```\r\nHowever, the `BodyHandler` documentation does not mention whether it is allowed to throw exceptions, or how `HttpClient` would behave in that case.\r\n\r\nIt is also surprises me that the JDK does not seem to offer functionality for handling unsuccessful HTTP responses out of the box, or am I overlooking something?","title":"How / where to check for java.net.http.HttpClient HTTP response status codes","body":"<p>Java 11's <code>java.net.http.HttpClient</code> does not seem to check the HTTP status code, except for redirects (if enabled). And all examples found in the <a href=\"https://openjdk.java.net/groups/net/httpclient/recipes.html\" rel=\"noreferrer\">wiki</a> and in the Java API documentation always assume that HTTP requests are successful, i.e. they never seem to check the status code of the response.</p>\n<p>This is most likely never the desired behavior because an error page from an HTTP 500 (server error) response has probably a different, or no format and can therefore not be handled by the application.</p>\n<p>Where should the check for the HTTP status code occur?</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.BodyHandler.html\" rel=\"noreferrer\">documentation of <code>HttpResponse.BodyHandler</code></a> contains the following example snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BodyHandler&lt;Path&gt; bodyHandler = (rspInfo) -&gt; rspInfo.statusCode() == 200\n    ? BodySubscribers.ofFile(Paths.get(&quot;/tmp/f&quot;))\n    : BodySubscribers.replacing(Paths.get(&quot;/NULL&quot;));\n</code></pre>\n<p>However, then you would have to check twice for the status code, once in the <code>BodyHandler</code> shown above, and once when handling the response (since trying to read the body from <code>&quot;/NULL&quot;</code> would fail).</p>\n<p>To me it seems most reasonable to perform the HTTP status code check in the <code>BodyHandler</code> only, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BodyHandler&lt;Path&gt; bodyHandler = (rspInfo) -&gt; {\n    if (rspInfo.statusCode() == 200) {\n        return BodySubscribers.ofFile(Paths.get(&quot;/tmp/f&quot;));\n    } else {\n        throw new RuntimeException(&quot;Request failed&quot;);\n    }\n};\n</code></pre>\n<p>However, the <code>BodyHandler</code> documentation does not mention whether it is allowed to throw exceptions, or how <code>HttpClient</code> would behave in that case.</p>\n<p>It is also surprises me that the JDK does not seem to offer functionality for handling unsuccessful HTTP responses out of the box, or am I overlooking something?</p>\n"},{"tags":["java","jsp","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":16638979,"reputation":13,"user_id":12024998,"display_name":"Sahil Mambilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662907084,"creation_date":1662907084,"answer_id":73680148,"question_id":73663634,"body_markdown":"SOLVED!\r\n\r\nThere&#39;s a problem when trying to work with the latest Jakarta EE and Tomcat 9 server (which I was using at that time).\r\nThe newer 10.0 version solves it.","title":"JSP - Error instantiating servlet class [com.example.demo.HelloServlet]","body":"<p>SOLVED!</p>\n<p>There's a problem when trying to work with the latest Jakarta EE and Tomcat 9 server (which I was using at that time).\nThe newer 10.0 version solves it.</p>\n"}],"owner":{"account_id":16638979,"reputation":13,"user_id":12024998,"display_name":"Sahil Mambilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662907084,"creation_date":1662733471,"question_id":73663634,"body_markdown":"Getting started with JSP, still a begineer to Java though.\r\n\r\nThe error is as mentioned in the title.\r\nA few more lines from the error message:\r\n\r\n*\r\n```\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Error instantiating servlet class [com.example.demo.HelloServlet]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServlet\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2472)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\nRoot Cause\r\n\r\njava.lang.ClassNotFoundException: jakarta.servlet.http.HttpServlet\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2472)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n```\r\n*\r\n\r\n*index.jsp*\r\n\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;JSP - Hello World&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;\r\n&lt;/h1&gt;\r\n&lt;br/&gt;\r\n&lt;a href=&quot;hello-servlet&quot;&gt;Hello Servlet&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n*web.xml*\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.demo.HelloServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/hello-servlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n*HelloServlet.java*\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.io.*;\r\n\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;, urlPatterns = {&quot;/hello-servlet&quot;}, loadOnStartup = 1)\r\npublic class HelloServlet extends HttpServlet {\r\n    private String message;\r\n\r\n    public HelloServlet(){\r\n\r\n    }\r\n\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\nI added the `urlPatterns = ..., loadOnStartup` in the @WebServlet used in the java file - after looking at some solutions on StackOverflow, but nothing seems to be working.\r\n\r\n![Project Structure](https://i.stack.imgur.com/mE2bT.png)\r\n\r\nAny working solutions?\r\n\r\nTried adding a constructor to the Java class, edited the web.xml by adding the servlet tag, also the @WebServlet line in the java class, but nothing works.\r\n\r\nDid everything keeping the project structure in mind, still no solution.\r\nUsed only one web mapping - either @WebServlet or web.xml, doesnt work. Also used both, still doesn&#39;t work.\r\n\r\nI am using IntelliJ ultimate edition.","title":"JSP - Error instantiating servlet class [com.example.demo.HelloServlet]","body":"<p>Getting started with JSP, still a begineer to Java though.</p>\n<p>The error is as mentioned in the title.\nA few more lines from the error message:</p>\n<p>*</p>\n<pre><code>Description The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Error instantiating servlet class [com.example.demo.HelloServlet]\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\njava.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServlet\n    java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2472)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\njava.lang.ClassNotFoundException: jakarta.servlet.http.HttpServlet\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2472)\n    org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p><em>index.jsp</em></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;JSP - Hello World&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;\n&lt;/h1&gt;\n&lt;br/&gt;\n&lt;a href=&quot;hello-servlet&quot;&gt;Hello Servlet&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><em>web.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.example.demo.HelloServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/hello-servlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><em>HelloServlet.java</em></p>\n<pre><code>package com.example.demo;\n\nimport java.io.*;\n\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;, urlPatterns = {&quot;/hello-servlet&quot;}, loadOnStartup = 1)\npublic class HelloServlet extends HttpServlet {\n    private String message;\n\n    public HelloServlet(){\n\n    }\n\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>I added the <code>urlPatterns = ..., loadOnStartup</code> in the @WebServlet used in the java file - after looking at some solutions on StackOverflow, but nothing seems to be working.</p>\n<p><img src=\"https://i.stack.imgur.com/mE2bT.png\" alt=\"Project Structure\" /></p>\n<p>Any working solutions?</p>\n<p>Tried adding a constructor to the Java class, edited the web.xml by adding the servlet tag, also the @WebServlet line in the java class, but nothing works.</p>\n<p>Did everything keeping the project structure in mind, still no solution.\nUsed only one web mapping - either @WebServlet or web.xml, doesnt work. Also used both, still doesn't work.</p>\n<p>I am using IntelliJ ultimate edition.</p>\n"},{"tags":["java","security","tomcat","coyote"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661342424,"post_id":73470563,"comment_id":129748326,"body_markdown":"What talking about a vulnerability you should always name it (e.g. by CVE number). It would also be helpful if you could include the version of tomcat you were using before updating (because of the vulnerability) and now after.","body":"What talking about a vulnerability you should always name it (e.g. by CVE number). It would also be helpful if you could include the version of tomcat you were using before updating (because of the vulnerability) and now after."},{"owner":{"account_id":18436874,"reputation":19,"user_id":13430466,"display_name":"Sachin Naik"},"score":0,"creation_date":1661402986,"post_id":73470563,"comment_id":129764831,"body_markdown":"I don&#39;t have a CVE number, this vulnerability was reported as part of Nessus scan. I&#39;m using Tomcat 9.0.65 but upgrading the version will not solve this issue, we have to hide the server details to address the issue, which is what i&#39;m doing in the second code snippet i shared, and that&#39;s causing the issue.","body":"I don&#39;t have a CVE number, this vulnerability was reported as part of Nessus scan. I&#39;m using Tomcat 9.0.65 but upgrading the version will not solve this issue, we have to hide the server details to address the issue, which is what i&#39;m doing in the second code snippet i shared, and that&#39;s causing the issue."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661412103,"post_id":73470563,"comment_id":129767142,"body_markdown":"If the vulnerability was reported by nessus why don&#39;t you include that in your post?","body":"If the vulnerability was reported by nessus why don&#39;t you include that in your post?"}],"answers":[{"tags":[],"owner":{"account_id":18436874,"reputation":19,"user_id":13430466,"display_name":"Sachin Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662906466,"creation_date":1662906466,"answer_id":73680084,"question_id":73470563,"body_markdown":"Here when you do ```_tomcat.getConnector()``` a connector instance is called which is not yet initialized, and it uses default values and listens at port 8080 which is default port for a tomcat Connector instance. \r\n\r\ninstead of performing ```setXpoweredBy(false)``` and ```setProperty(&quot;server&quot;, &quot;&quot;)``` on defualt instance of connector, move this part to where you are creating tomcat Connector instance. something like \r\n\r\n```\r\nConnector connector = new Connector();\r\nconnector.setPort(port); \r\nconnector.setXpoweredBy(false);\r\nconnector.setProperty(&quot;server&quot;, &quot;&quot;);\r\n```\r\n\r\nand then set this connector to tomcat server\r\n\r\n```\r\n_tomcat.setConnector(connector);\r\n```","title":"Apache coyote vulnerability fixes are causing wrong port usage","body":"<p>Here when you do <code>_tomcat.getConnector()</code> a connector instance is called which is not yet initialized, and it uses default values and listens at port 8080 which is default port for a tomcat Connector instance.</p>\n<p>instead of performing <code>setXpoweredBy(false)</code> and <code>setProperty(&quot;server&quot;, &quot;&quot;)</code> on defualt instance of connector, move this part to where you are creating tomcat Connector instance. something like</p>\n<pre><code>Connector connector = new Connector();\nconnector.setPort(port); \nconnector.setXpoweredBy(false);\nconnector.setProperty(&quot;server&quot;, &quot;&quot;);\n</code></pre>\n<p>and then set this connector to tomcat server</p>\n<pre><code>_tomcat.setConnector(connector);\n</code></pre>\n"}],"owner":{"account_id":18436874,"reputation":19,"user_id":13430466,"display_name":"Sachin Naik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73680084,"answer_count":1,"score":1,"last_activity_date":1662906466,"creation_date":1661332757,"question_id":73470563,"body_markdown":"I&#39;m using an embedded tomcat server in one of my java project. the creation of server looks like \r\n```\r\nTomcat _tomcat = new Tomcat();\r\n```\r\n\r\ni have configured the Tomcat server to use port numbers from 9001\r\neverything was working fine.\r\n\r\n\r\n**Problem statement**\r\n\r\nTo address the Apache coyote vulnerability which was addressed in a nessus scan i have modified the tomcat server creation to \r\n```\r\nTomcat _tomcat = new Tomcat();\r\n_tomcat.getConnector().setXpoweredBy(false);\r\n_tomcat.getConnector().setProperty(&quot;server&quot;, &quot;&quot;);\r\n```\r\n\r\nafter doing this change tomcat server is binding to port number 8080, which i have not configured anywhere, this is causing issue when i try to run two instances at once. gives the below error. [Tomcat server unable to bind error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ft5gz.png\r\n\r\n\r\n**Question**\r\n\r\nHow to avoid tomcat server from using port 8080 with apache coyote vulnerability fixes?","title":"Apache coyote vulnerability fixes are causing wrong port usage","body":"<p>I'm using an embedded tomcat server in one of my java project. the creation of server looks like</p>\n<pre><code>Tomcat _tomcat = new Tomcat();\n</code></pre>\n<p>i have configured the Tomcat server to use port numbers from 9001\neverything was working fine.</p>\n<p><strong>Problem statement</strong></p>\n<p>To address the Apache coyote vulnerability which was addressed in a nessus scan i have modified the tomcat server creation to</p>\n<pre><code>Tomcat _tomcat = new Tomcat();\n_tomcat.getConnector().setXpoweredBy(false);\n_tomcat.getConnector().setProperty(&quot;server&quot;, &quot;&quot;);\n</code></pre>\n<p>after doing this change tomcat server is binding to port number 8080, which i have not configured anywhere, this is causing issue when i try to run two instances at once. gives the below error. <a href=\"https://i.stack.imgur.com/ft5gz.png\" rel=\"nofollow noreferrer\">Tomcat server unable to bind error</a></p>\n<p><strong>Question</strong></p>\n<p>How to avoid tomcat server from using port 8080 with apache coyote vulnerability fixes?</p>\n"},{"tags":["java","jsp","pdf","itext"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660838070,"post_id":73404202,"comment_id":129633152,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16272723,"reputation":601,"user_id":11750807,"display_name":"shihabudheenk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662904784,"creation_date":1662904784,"answer_id":73679876,"question_id":73404202,"body_markdown":"I guess you are using iText PdfPTable for this. Add the first cell as a header to this table and then enable it as the table&#39;s header using the below. \r\n\r\n    PdfPTable table = new PdfPTable(1);\r\n    table.addCell(addColumnHeader()); //add header labels here\r\n    table.setHeaderRows(1); //set first row as header of table\r\n\r\nThis way, if your table is split upon reaching the next page, the header will be automatically rendered as the first row on the next page","title":"Adding sub header if content exceeds page in itext pdf","body":"<p>I guess you are using iText PdfPTable for this. Add the first cell as a header to this table and then enable it as the table's header using the below.</p>\n<pre><code>PdfPTable table = new PdfPTable(1);\ntable.addCell(addColumnHeader()); //add header labels here\ntable.setHeaderRows(1); //set first row as header of table\n</code></pre>\n<p>This way, if your table is split upon reaching the next page, the header will be automatically rendered as the first row on the next page</p>\n"}],"owner":{"account_id":10763603,"reputation":1,"user_id":10791543,"display_name":"user682312"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662904784,"creation_date":1660830445,"question_id":73404202,"body_markdown":"See below screenshots of itext pdf created using java and jsp. \r\n[First Page][1]\r\n\r\n\r\n[second page][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zzgdy.png\r\n  [2]: https://i.stack.imgur.com/mCiiz.png\r\n\r\nNow I want the headings CBC (Haemogram) and headings \r\nInvestigation, Result, Units, Biological Reference Interval on second page. The condition is that these headings to be added only if the content goes to second page and not if it only requires one page. How can I do this using itext pdf and java.","title":"Adding sub header if content exceeds page in itext pdf","body":"<p>See below screenshots of itext pdf created using java and jsp.\n<a href=\"https://i.stack.imgur.com/Zzgdy.png\" rel=\"nofollow noreferrer\">First Page</a></p>\n<p><a href=\"https://i.stack.imgur.com/mCiiz.png\" rel=\"nofollow noreferrer\">second page</a></p>\n<p>Now I want the headings CBC (Haemogram) and headings\nInvestigation, Result, Units, Biological Reference Interval on second page. The condition is that these headings to be added only if the content goes to second page and not if it only requires one page. How can I do this using itext pdf and java.</p>\n"},{"tags":["java","android","fonts","itext","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1661809599,"post_id":73508541,"comment_id":129855640,"body_markdown":"Please follow basic StackOverflow guidelines: post the code you have tried, explain the problem you faced. On your screenshot the problem is obviously that Java cannot find the font at the given path","body":"Please follow basic StackOverflow guidelines: post the code you have tried, explain the problem you faced. On your screenshot the problem is obviously that Java cannot find the font at the given path"}],"answers":[{"tags":[],"owner":{"account_id":16272723,"reputation":601,"user_id":11750807,"display_name":"shihabudheenk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662904304,"creation_date":1662904304,"answer_id":73679818,"question_id":73508541,"body_markdown":"You are providing a relative font file location. Try placing the file inside it or provide the absolute full path as an argument to createFont method","title":"How to generate pdf in arabic language in android","body":"<p>You are providing a relative font file location. Try placing the file inside it or provide the absolute full path as an argument to createFont method</p>\n"}],"owner":{"account_id":20614028,"reputation":11,"user_id":15132567,"display_name":"Milad heydarloo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662904304,"creation_date":1661577154,"question_id":73508541,"body_markdown":"How to add Persian font &lt; if I become successful in adding the font, it will be shown in a messy way\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yo4LS.png","title":"How to generate pdf in arabic language in android","body":"<p>How to add Persian font &lt; if I become successful in adding the font, it will be shown in a messy way</p>\n<p><img src=\"https://i.stack.imgur.com/yo4LS.png\" alt=\"1\" /></p>\n"},{"tags":["java","log4j","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1659717170,"post_id":73250866,"comment_id":129368889,"body_markdown":"I recall needing `log4j-api-2.17.2.jar`; see the _Component Map_ cited [here](https://stackoverflow.com/a/72839258/230513).","body":"I recall needing <code>log4j-api-2.17.2.jar</code>; see the <i>Component Map</i> cited <a href=\"https://stackoverflow.com/a/72839258/230513\">here</a>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":3,"creation_date":1659852346,"post_id":73250866,"comment_id":129390317,"body_markdown":"Is the list of dependencies you gave complete? You probably have `log4j-core` version `2.18.0` and `log4j-api` version `2.17.2`. The version of the Log4j2 API must be at least equal to the version of Log4j2 Core.","body":"Is the list of dependencies you gave complete? You probably have <code>log4j-core</code> version <code>2.18.0</code> and <code>log4j-api</code> version <code>2.17.2</code>. The version of the Log4j2 API must be at least equal to the version of Log4j2 Core."}],"answers":[{"tags":[],"owner":{"account_id":26257119,"reputation":41,"user_id":19929023,"display_name":"Bear"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662904001,"creation_date":1662449890,"answer_id":73618348,"question_id":73250866,"body_markdown":"Add the library log4j-api.jar to the classpath. \r\n\r\nTo make your project work you have to remove all jars starting with log4j-1.x.\r\n\r\nI made the same mistake, because when I downloaded the log4j dependency package, I didn&#39;t know which files I needed, so I added all of them. But by doing so, for whatever reason, now log4j 1 is used instead of log4j 2.","title":"ERROR StatusLogger Unable to create Lookup for ctx","body":"<p>Add the library log4j-api.jar to the classpath.</p>\n<p>To make your project work you have to remove all jars starting with log4j-1.x.</p>\n<p>I made the same mistake, because when I downloaded the log4j dependency package, I didn't know which files I needed, so I added all of them. But by doing so, for whatever reason, now log4j 1 is used instead of log4j 2.</p>\n"}],"owner":{"account_id":21088223,"reputation":103,"user_id":19013678,"display_name":"user19013678"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10422,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1662904001,"creation_date":1659707503,"question_id":73250866,"body_markdown":"I have this error when i run my project : \r\n\r\n    ERROR StatusLogger Unable to create Lookup for ctx\r\n\r\nHere is the whole stacktrace : \r\n\r\n&gt; ERROR StatusLogger Unable to create Lookup for ctx\r\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\r\n\tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\r\n\tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\r\n\tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\r\n\tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\r\n\tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n\tat org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\r\n\tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:81)\r\n\tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:100)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\r\n\tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n\tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n\tat CreateDocumentSimple.main(CreateDocumentSimple.java:88)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.util.ServiceLoaderUtil\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 27 more\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.impl.ThreadContextDataInjector\r\n\tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\r\n\tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\r\n\tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n\tat org.apache.logging.log4j.core.impl.ReusableLogEventFactory.&lt;init&gt;(ReusableLogEventFactory.java:42)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.&lt;clinit&gt;(LoggerConfig.java:101)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:138)\r\n\tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n\tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n\tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n\tat CreateDocumentSimple.main(CreateDocumentSimple.java:88)\r\n\r\n\r\nI don&#39;t know where this come from since i don&#39;t user any logger in my whole projet. If you need more information please feel free to ask. \r\n\r\nHere is my pom.xml : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestPoi&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n       \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;","title":"ERROR StatusLogger Unable to create Lookup for ctx","body":"<p>I have this error when i run my project :</p>\n<pre><code>ERROR StatusLogger Unable to create Lookup for ctx\n</code></pre>\n<p>Here is the whole stacktrace :</p>\n<blockquote>\n<p>ERROR StatusLogger Unable to create Lookup for ctx\njava.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\nat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\nat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.(ThreadContextDataInjector.java:64)\nat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.(ThreadContextDataInjector.java:211)\nat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\nat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\nat org.apache.logging.log4j.core.lookup.ContextMapLookup.(ContextMapLookup.java:34)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\nat org.apache.logging.log4j.core.lookup.Interpolator.(Interpolator.java:81)\nat org.apache.logging.log4j.core.lookup.Interpolator.(Interpolator.java:100)\nat org.apache.logging.log4j.core.config.AbstractConfiguration.(AbstractConfiguration.java:135)\nat org.apache.logging.log4j.core.config.NullConfiguration.(NullConfiguration.java:32)\nat org.apache.logging.log4j.core.LoggerContext.(LoggerContext.java:74)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\nat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\nat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\nat org.apache.poi.ooxml.POIXMLDocumentPart.(POIXMLDocumentPart.java:56)\nat CreateDocumentSimple.main(CreateDocumentSimple.java:88)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.util.ServiceLoaderUtil\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 27 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.impl.ThreadContextDataInjector\nat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.(ThreadContextDataInjector.java:211)\nat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\nat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\nat org.apache.logging.log4j.core.impl.ReusableLogEventFactory.(ReusableLogEventFactory.java:42)\nat org.apache.logging.log4j.core.config.LoggerConfig.(LoggerConfig.java:101)\nat org.apache.logging.log4j.core.config.AbstractConfiguration.(AbstractConfiguration.java:138)\nat org.apache.logging.log4j.core.config.NullConfiguration.(NullConfiguration.java:32)\nat org.apache.logging.log4j.core.LoggerContext.(LoggerContext.java:74)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\nat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\nat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\nat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\nat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\nat org.apache.poi.ooxml.POIXMLDocumentPart.(POIXMLDocumentPart.java:56)\nat CreateDocumentSimple.main(CreateDocumentSimple.java:88)</p>\n</blockquote>\n<p>I don't know where this come from since i don't user any logger in my whole projet. If you need more information please feel free to ask.</p>\n<p>Here is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestPoi&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n\n        &lt;/dependency&gt;\n   \n\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":4091211,"reputation":362,"user_id":3359134,"display_name":"Yomal"},"score":0,"creation_date":1662880135,"post_id":73677298,"comment_id":130105242,"body_markdown":"If the rollback should not happen to the SP invocation, shouldn&#39;t that be outside the transaction?","body":"If the rollback should not happen to the SP invocation, shouldn&#39;t that be outside the transaction?"},{"owner":{"account_id":19459980,"reputation":11,"user_id":14234492,"display_name":"Anish Chatterjee"},"score":0,"creation_date":1662880487,"post_id":73677298,"comment_id":130105288,"body_markdown":"Yes I can move the SP outside the the transaction, but is there a way to handle this exception and let Spring know that the transaction should not be rolled back.","body":"Yes I can move the SP outside the the transaction, but is there a way to handle this exception and let Spring know that the transaction should not be rolled back."},{"owner":{"account_id":19459980,"reputation":11,"user_id":14234492,"display_name":"Anish Chatterjee"},"score":0,"creation_date":1662880809,"post_id":73677298,"comment_id":130105342,"body_markdown":"The queries inside the Stored Procedure needs to be a part of the transaction managed by Spring ( in Java Code). But the Spring transaction should not fail even if the SP throes exception.","body":"The queries inside the Stored Procedure needs to be a part of the transaction managed by Spring ( in Java Code). But the Spring transaction should not fail even if the SP throes exception."},{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":1,"creation_date":1662904146,"post_id":73677298,"comment_id":130109318,"body_markdown":"@AnishChatterjee didn&#39;t you already achieve this by wrapping the SP call into `try...catch`?","body":"@AnishChatterjee didn&#39;t you already achieve this by wrapping the SP call into <code>try...catch</code>?"},{"owner":{"account_id":19459980,"reputation":11,"user_id":14234492,"display_name":"Anish Chatterjee"},"score":0,"creation_date":1663009832,"post_id":73677298,"comment_id":130134066,"body_markdown":"Yes it was, but PersistenceException was always causing the rollback to happen, exception translation phase.","body":"Yes it was, but PersistenceException was always causing the rollback to happen, exception translation phase."}],"owner":{"account_id":19459980,"reputation":11,"user_id":14234492,"display_name":"Anish Chatterjee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662903679,"creation_date":1662878058,"question_id":73677298,"body_markdown":"I have a service class marked with @Transactional. after saving the entities I invoke a Stored Procedure with ApplicationEventPublisher. The Listener is annotated with @TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT). Now the event listener throws an exception while invoking the Stored Procedure, and it rollbacks the entire transaction. Is there a way to prevent this rollback from happening?\r\n\r\nI need to execute the entity saving and stored procedure in the same transaction. How can this be achieved?\r\n\r\n\r\nMy Service Class Method, I need this service class method to commit the transaction, even if the stored proc execution fails. When I don&#39;t invoke the SP its works as expected.\r\n\r\n    @Transactional\r\n    void saveAndInvokeSP() {\r\n       repo.save(entity);\r\n       applicationEventPublisher.publishEvent(new SPInvocationEvent());\r\n    }\r\n\r\nMy Event Listener Class\r\n\r\n    class EventListener {\r\n    \r\n    \tfinal EntityManager entityManager;\r\n    \r\n    \t@TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT)\r\n    \tpublic void handleCustom(SPInvocationEvent event) {\r\n    \t    entityManager.flush();\r\n    \t    invokeStoreProcedure(OUTBOUND_STORED_PROC, event);\r\n    \t}\r\n    \r\n    \tvoid invokeStoreProcedure(String outProcName, SPInvocationEvent event) {\r\n    \t    StoredProcedureQuery outsumSP = entityManager.createStoredProcedureQuery(outProcName);\r\n    \t        \r\n    \t    try {\t       \r\n    \t    \toutsumSP.execute();\t            \r\n    \t    } catch (Exception e) {\r\n    \t       log.error(e.getMessage());\r\n    \t    }\r\n    \t}\r\n    }","title":"Prevent Transaction to be rolled back even if the Stored Procedure invocation fails","body":"<p>I have a service class marked with @Transactional. after saving the entities I invoke a Stored Procedure with ApplicationEventPublisher. The Listener is annotated with @TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT). Now the event listener throws an exception while invoking the Stored Procedure, and it rollbacks the entire transaction. Is there a way to prevent this rollback from happening?</p>\n<p>I need to execute the entity saving and stored procedure in the same transaction. How can this be achieved?</p>\n<p>My Service Class Method, I need this service class method to commit the transaction, even if the stored proc execution fails. When I don't invoke the SP its works as expected.</p>\n<pre><code>@Transactional\nvoid saveAndInvokeSP() {\n   repo.save(entity);\n   applicationEventPublisher.publishEvent(new SPInvocationEvent());\n}\n</code></pre>\n<p>My Event Listener Class</p>\n<pre><code>class EventListener {\n\n    final EntityManager entityManager;\n\n    @TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT)\n    public void handleCustom(SPInvocationEvent event) {\n        entityManager.flush();\n        invokeStoreProcedure(OUTBOUND_STORED_PROC, event);\n    }\n\n    void invokeStoreProcedure(String outProcName, SPInvocationEvent event) {\n        StoredProcedureQuery outsumSP = entityManager.createStoredProcedureQuery(outProcName);\n            \n        try {          \n            outsumSP.execute();             \n        } catch (Exception e) {\n           log.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":1,"creation_date":1368523167,"post_id":16539238,"comment_id":23754299,"body_markdown":"Possible duplicate -  http://stackoverflow.com/questions/1568091/why-use-getters-and-setters","body":"Possible duplicate -  <a href=\"http://stackoverflow.com/questions/1568091/why-use-getters-and-setters\" title=\"why use getters and setters\">stackoverflow.com/questions/1568091/why-use-getters-and-sett&zwnj;&#8203;ers</a>"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1368523339,"post_id":16539238,"comment_id":23754408,"body_markdown":"Getters and setters are required if you try to use `DI` frameworks like `Spring` or something like `jsp:useBean` etc !!!","body":"Getters and setters are required if you try to use <code>DI</code> frameworks like <code>Spring</code> or something like <code>jsp:useBean</code> etc !!!"},{"owner":{"account_id":1113646,"reputation":4327,"user_id":1103571,"accept_rate":89,"display_name":"Lilienthal"},"score":0,"creation_date":1368528014,"post_id":16539238,"comment_id":23757108,"body_markdown":"@sanbhat: some of the reasons given in the accepted answer to that question apply here but not all. A DTO&#39;s scope and behaviour is different from a generic class so I was wondering if different &quot;rules&quot; would apply here.","body":"@sanbhat: some of the reasons given in the accepted answer to that question apply here but not all. A DTO&#39;s scope and behaviour is different from a generic class so I was wondering if different &quot;rules&quot; would apply here."}],"answers":[{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368523136,"creation_date":1368523136,"answer_id":16539369,"question_id":16539238,"body_markdown":"I do not think it terribly bad practice to have a &#39;settings&#39; or &#39;theme&#39; or &#39;style&#39; class with public attributes.\r\n\r\nModern IDEs with refactoring tools make it trivial to promote an attribute to getter/setter if you want to do any complicated calculations or checks on values at set-time.\r\n\r\nOften in your &#39;setTheme&#39; or whatever function that consumes these settings classes is a good clean place to do validation.\r\n\r\nWhen setting settings like this it is usually appropriate to do a deep copied object rather than retaining a reference to a mutable class.","title":"Public fields in a Data Transfer Object","body":"<p>I do not think it terribly bad practice to have a 'settings' or 'theme' or 'style' class with public attributes.</p>\n\n<p>Modern IDEs with refactoring tools make it trivial to promote an attribute to getter/setter if you want to do any complicated calculations or checks on values at set-time.</p>\n\n<p>Often in your 'setTheme' or whatever function that consumes these settings classes is a good clean place to do validation.</p>\n\n<p>When setting settings like this it is usually appropriate to do a deep copied object rather than retaining a reference to a mutable class.</p>\n"},{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1368529965,"creation_date":1368523545,"answer_id":16539506,"question_id":16539238,"body_markdown":"Most programmers will default to private fields with getters/setters without thinking about it.  But like any cargo-cult thing, it&#39;s better to make a conscious decision.\r\n\r\nThe main reason for using a getter/setter combination instead of a public field is that you can change the definition.  So, if your DTO is part of an interface between components, best to use getters.  If you change the inner workings, you can adapt the getter to mimic the old behaviour and maintain compatibility.\r\n\r\nAnother reason is that you can make read-only fields.  Often for DTOs, read-only and immutable is a good choice.\r\n\r\nA third reason could be that your DTO needs to be a javabean because you intend to use it in some tool that requires it.\r\n\r\nIf none of these properties go for you, there&#39;s no reason not to use public fields.\r\n\r\nDon&#39;t expect much of a performance difference though :)","title":"Public fields in a Data Transfer Object","body":"<p>Most programmers will default to private fields with getters/setters without thinking about it.  But like any cargo-cult thing, it's better to make a conscious decision.</p>\n\n<p>The main reason for using a getter/setter combination instead of a public field is that you can change the definition.  So, if your DTO is part of an interface between components, best to use getters.  If you change the inner workings, you can adapt the getter to mimic the old behaviour and maintain compatibility.</p>\n\n<p>Another reason is that you can make read-only fields.  Often for DTOs, read-only and immutable is a good choice.</p>\n\n<p>A third reason could be that your DTO needs to be a javabean because you intend to use it in some tool that requires it.</p>\n\n<p>If none of these properties go for you, there's no reason not to use public fields.</p>\n\n<p>Don't expect much of a performance difference though :)</p>\n"},{"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1617112702,"creation_date":1617112702,"answer_id":66872379,"question_id":16539238,"body_markdown":"There is a difference between DataStructure and Object. \r\n\r\n**Data structure should expose its innards and not behavior.** \r\n\r\n**An Object should not expose its innards but it should expose its behavior, which is also  known as the Law of Demeter** \r\n\r\nso, DTOs are basically Data structures. They should only expose their data, they don&#39;t need Getter and Setters. Validation is the behavior, it should not be part of DTO. It must have a different Object i.e. Validation object.\r\n\r\nInspired by **Clean Code** by Robert C. Martin(Uncle Bob)\r\n\r\n\r\n","title":"Public fields in a Data Transfer Object","body":"<p>There is a difference between DataStructure and Object.</p>\n<p><strong>Data structure should expose its innards and not behavior.</strong></p>\n<p><strong>An Object should not expose its innards but it should expose its behavior, which is also  known as the Law of Demeter</strong></p>\n<p>so, DTOs are basically Data structures. They should only expose their data, they don't need Getter and Setters. Validation is the behavior, it should not be part of DTO. It must have a different Object i.e. Validation object.</p>\n<p>Inspired by <strong>Clean Code</strong> by Robert C. Martin(Uncle Bob)</p>\n"},{"tags":[],"owner":{"account_id":5942896,"reputation":51,"user_id":4673449,"display_name":"William Walsh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662903663,"creation_date":1662903025,"answer_id":73679673,"question_id":16539238,"body_markdown":"A data structure is a class that exposes data, without any business logic e.g.:\r\n```java\r\nclass Name {\r\n   public String firstName;\r\n   public String lastName;\r\n}\r\n```\r\nThis data structure:\r\n- doesn&#39;t have any getters/setters.\r\n- is not immutable.\r\n\r\n----\r\n\r\nAn immutable data structure:\r\n- is a class that exposes data also.\r\n- has an all argument constructor.\r\n- has all final fields.\r\n- exposes its data through getters.\r\n- has no setters.\r\n\r\ne.g.:\r\n```java\r\nclass Name {\r\n    private final String firstName;\r\n    private final String lastName;\r\n\r\n    public Name(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return this.firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return this.lastName;\r\n    }   \r\n}\r\n```\r\n----\r\n\r\nA Data Transfer Object:\r\n- is used for transferring data.\r\n- is a pattern for saving round trips to a server.\r\n- contain serialisation/deserialisation info.\r\n  This information is normally taken from javax.validation library.\r\n- normally is composed of 2 different objects.\r\n- doesn&#39;t contain any business logic.\r\n\r\ne.g.:\r\n```java\r\nimport javax.validation.Valid;\r\n\r\nclass UserDto {\r\n\r\n    @Valid\r\n    Name userName;\r\n    @Valid\r\n    Address userAddress;\r\n\r\n    public UserDto(Name userName, Address userAddress) {\r\n        this.userName = userName;\r\n        this.userAddress = userAddress;\r\n    }   \r\n}\r\n```\r\n----\r\n\r\nSo now that I have clarified each of the terms Data Structure, Immutable Data Structure &amp; DTO, I can summarise.\r\n\r\nA DTO is used to transfer data.   \r\nThe data shouldn&#39;t be changed in transit.  \r\nSo DTO&#39;s should be immutable.\r\ne.g.\r\n```java\r\nimport javax.validation.Valid;\r\n\r\nclass UserDto {\r\n\r\n    @Valid\r\n    private final Name userName;\r\n    @Valid\r\n    private final Address userAddress;\r\n\r\n    public UserDto(Name userName, Address userAddress) {\r\n        this.userName = userName;\r\n        this.userAddress = userAddress;\r\n    }\r\n\r\n    public Name getUserName() {\r\n        return this.userName;\r\n    }\r\n\r\n    public Address getUserAddress() {\r\n        return this.userAddress;\r\n    }\r\n}\r\n```\r\n----\r\nJust a note about non-primitives like Integer, String, Boolean, etc. these are all immutable classes.  \r\nOnce they are constructed they cannot be mutated.  \r\nSo if you make these fields final their references cannot be updated to point to different object and their values cannot be mutated using the Java API.\r\n\r\n\r\n\r\n","title":"Public fields in a Data Transfer Object","body":"<p>A data structure is a class that exposes data, without any business logic e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Name {\n   public String firstName;\n   public String lastName;\n}\n</code></pre>\n<p>This data structure:</p>\n<ul>\n<li>doesn't have any getters/setters.</li>\n<li>is not immutable.</li>\n</ul>\n<hr />\n<p>An immutable data structure:</p>\n<ul>\n<li>is a class that exposes data also.</li>\n<li>has an all argument constructor.</li>\n<li>has all final fields.</li>\n<li>exposes its data through getters.</li>\n<li>has no setters.</li>\n</ul>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Name {\n    private final String firstName;\n    private final String lastName;\n\n    public Name(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return this.firstName;\n    }\n\n    public String getLastName() {\n        return this.lastName;\n    }   \n}\n</code></pre>\n<hr />\n<p>A Data Transfer Object:</p>\n<ul>\n<li>is used for transferring data.</li>\n<li>is a pattern for saving round trips to a server.</li>\n<li>contain serialisation/deserialisation info.\nThis information is normally taken from javax.validation library.</li>\n<li>normally is composed of 2 different objects.</li>\n<li>doesn't contain any business logic.</li>\n</ul>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.Valid;\n\nclass UserDto {\n\n    @Valid\n    Name userName;\n    @Valid\n    Address userAddress;\n\n    public UserDto(Name userName, Address userAddress) {\n        this.userName = userName;\n        this.userAddress = userAddress;\n    }   \n}\n</code></pre>\n<hr />\n<p>So now that I have clarified each of the terms Data Structure, Immutable Data Structure &amp; DTO, I can summarise.</p>\n<p>A DTO is used to transfer data.<br />\nThe data shouldn't be changed in transit.<br />\nSo DTO's should be immutable.\ne.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.Valid;\n\nclass UserDto {\n\n    @Valid\n    private final Name userName;\n    @Valid\n    private final Address userAddress;\n\n    public UserDto(Name userName, Address userAddress) {\n        this.userName = userName;\n        this.userAddress = userAddress;\n    }\n\n    public Name getUserName() {\n        return this.userName;\n    }\n\n    public Address getUserAddress() {\n        return this.userAddress;\n    }\n}\n</code></pre>\n<hr />\n<p>Just a note about non-primitives like Integer, String, Boolean, etc. these are all immutable classes.<br />\nOnce they are constructed they cannot be mutated.<br />\nSo if you make these fields final their references cannot be updated to point to different object and their values cannot be mutated using the Java API.</p>\n"}],"owner":{"account_id":1113646,"reputation":4327,"user_id":1103571,"accept_rate":89,"display_name":"Lilienthal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15550,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"closed_date":1662981755,"accepted_answer_id":16539506,"answer_count":4,"score":36,"last_activity_date":1662903663,"creation_date":1368522805,"question_id":16539238,"body_markdown":"In my years of programming I&#39;ve often made classes that simply group a few variables with their setters and getters. I&#39;ve seen these types of objects referred to as value objects, domain objects or model objects depending on the context in which they are used. The most fitting term for generic usage seems to be Data Transfer Object (DTO). This describes a POJO that only contains accessors and mutators.\r\n\r\nI&#39;ve just written one such object that contains about fifty fields used to set theme parameters on a chart. Now I&#39;m wondering if instead of generating a hundred getters and setters I should just declare these fields as public. Doing so goes against everything my programming instincts tell me yet I can&#39;t deny that it would greatly increase my code&#39;s legibility and reduce the amount of boilerplate code in the class.\r\n\r\nThe only reason I can see **not** to use public fields would be if I needed to perform any sort of validation on these fields. If we assume that type validation is sufficient for my purposes, is using public fields in this scenario an acceptable break from object-oriented design? Will a public DTO perform better in large batch operations?","title":"Public fields in a Data Transfer Object","body":"<p>In my years of programming I've often made classes that simply group a few variables with their setters and getters. I've seen these types of objects referred to as value objects, domain objects or model objects depending on the context in which they are used. The most fitting term for generic usage seems to be Data Transfer Object (DTO). This describes a POJO that only contains accessors and mutators.</p>\n\n<p>I've just written one such object that contains about fifty fields used to set theme parameters on a chart. Now I'm wondering if instead of generating a hundred getters and setters I should just declare these fields as public. Doing so goes against everything my programming instincts tell me yet I can't deny that it would greatly increase my code's legibility and reduce the amount of boilerplate code in the class.</p>\n\n<p>The only reason I can see <strong>not</strong> to use public fields would be if I needed to perform any sort of validation on these fields. If we assume that type validation is sufficient for my purposes, is using public fields in this scenario an acceptable break from object-oriented design? Will a public DTO perform better in large batch operations?</p>\n"},{"tags":["java","spring","annotations","spring-aop"],"comments":[{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1662903371,"post_id":73679682,"comment_id":130109152,"body_markdown":"that&#39;s how proxy-based aspects work. the reason is that `mapToCustomerDocument` is called in `getCustomerDocument`. pls check this:\nhttps://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method","body":"that&#39;s how proxy-based aspects work. the reason is that <code>mapToCustomerDocument</code> is called in <code>getCustomerDocument</code>. pls check this: <a href=\"https://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method\" title=\"spring aop not working for method call inside another method\">stackoverflow.com/questions/13564627/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1662962441,"post_id":73679682,"comment_id":130118422,"body_markdown":"Moreover, I do not believe that the aspect works as shown here, because the advice method returns `void`, but in fact is must return something, either generally `Object` or in this specific case `CustomerDocument`. I.e., you want to return the result of `proceed()`.","body":"Moreover, I do not believe that the aspect works as shown here, because the advice method returns <code>void</code>, but in fact is must return something, either generally <code>Object</code> or in this specific case <code>CustomerDocument</code>. I.e., you want to return the result of <code>proceed()</code>."}],"owner":{"account_id":6960022,"reputation":178,"user_id":5339816,"accept_rate":25,"display_name":"iftekhar khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662962316,"answer_count":0,"score":0,"last_activity_date":1662903083,"creation_date":1662903083,"question_id":73679682,"body_markdown":" I have created a custom annotation to log the time taken by a method to execute.\r\n    \r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface InterceptExecutionTime {\r\n        String action() default &quot;&quot;;\r\n    }\r\n\r\n    @Around(&quot;@annotation(InterceptExecutionTime) &amp;&amp; execution(* *(..))&quot;)\r\n        public void logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            String action = null;\r\n            try {\r\n                final MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n                final InterceptExecutionTime annotation = signature.getMethod().getAnnotation(InterceptExecutionTime.class);\r\n                action = annotation.action();\r\n    \r\n                long startTimeInMills = System.currentTimeMillis();\r\n                joinPoint.proceed();\r\n    \r\n                long endTimeInMills = System.currentTimeMillis();\r\n                long executionTime = endTimeInMills - startTimeInMills;\r\n                log.info(String.format(&quot;Time taken to execute actions %s is %s (in milliseconds)&quot;, action, executionTime));\r\n    \r\n            }\r\n            catch (Exception exception) {\r\n                log.error(String.format(&quot;unable to log execution time for actions %s&quot;, action));\r\n            }\r\n        }\r\n\r\nNow when I am using this annotation on a method like this:-\r\n\r\n    @Component\r\n    public class CustomerQueryHandler {\r\n    \r\n        public CustomerDocument getCustomerDocument(int userId, String documentType) throws JsonProcessingException {\r\n            CustomerDocument.DocumentType customerDocumentType = CustomerDocument.DocumentType.fromString(documentType);\r\n    \r\n            CustomerDocument customerDocument = customerDocumentRepository.findByUserIdAndDocumentTypeAndIsDeletedFalse(userId, customerDocumentType);\r\n    \r\n            if (customerDocument == null) {\r\n                throw new NoSuchCustomerDocumentException(String.format(&quot;No %s document found for userId %s&quot;, documentType, userId));\r\n            }\r\n    \r\n            return mapToCustomerDocument(customerDocument);\r\n        }\r\n    \r\n        @InterceptExecutionTime(action = &quot;fetch customer document&quot;)\r\n        public CustomerDocument mapToCustomerDocument(CustomerDocument customerDocument) throws JsonProcessingException {\r\n            return new CustomerDocument(customerDocument.getVerificationType() != null ?\r\n                    customerDocument.getVerificationType().name() : null,\r\n                    null);\r\n        }\r\n    }\r\n\r\nThis is not working. But when i use the annotation on the method - getCustomerDocument(). It is working perfectly fine. \r\n\r\n    @Component\r\n    public class CustomerQueryHandler {\r\n    \r\n        @InterceptExecutionTime(action = &quot;Decrypt customer document&quot;)\r\n        public CustomerDocument getCustomerDocument(int userId, String documentType) throws JsonProcessingException {\r\n            CustomerDocument.DocumentType customerDocumentType = CustomerDocument.DocumentType.fromString(documentType);\r\n    \r\n            CustomerDocument customerDocument = customerDocumentRepository.findByUserIdAndDocumentTypeAndIsDeletedFalse(userId, customerDocumentType);\r\n    \r\n            if (customerDocument == null) {\r\n                throw new NoSuchCustomerDocumentException(String.format(&quot;No %s document found for userId %s&quot;, documentType, userId));\r\n            }\r\n    \r\n            return mapToCustomerDocument(customerDocument);\r\n        }\r\n    \r\n       \r\n        public CustomerDocument mapToCustomerDocument(CustomerDocument customerDocument) throws JsonProcessingException {\r\n            return new CustomerDocument(customerDocument.getVerificationType() != null ?\r\n                    customerDocument.getVerificationType().name() : null,\r\n                    null);\r\n        }\r\n    }\r\n\r\nCan anyone please help what am i doing wrong here ?","title":"Custom annotation is not working when applied on invoked method","body":"<p>I have created a custom annotation to log the time taken by a method to execute.</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface InterceptExecutionTime {\n    String action() default &quot;&quot;;\n}\n\n@Around(&quot;@annotation(InterceptExecutionTime) &amp;&amp; execution(* *(..))&quot;)\n    public void logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        String action = null;\n        try {\n            final MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n            final InterceptExecutionTime annotation = signature.getMethod().getAnnotation(InterceptExecutionTime.class);\n            action = annotation.action();\n\n            long startTimeInMills = System.currentTimeMillis();\n            joinPoint.proceed();\n\n            long endTimeInMills = System.currentTimeMillis();\n            long executionTime = endTimeInMills - startTimeInMills;\n            log.info(String.format(&quot;Time taken to execute actions %s is %s (in milliseconds)&quot;, action, executionTime));\n\n        }\n        catch (Exception exception) {\n            log.error(String.format(&quot;unable to log execution time for actions %s&quot;, action));\n        }\n    }\n</code></pre>\n<p>Now when I am using this annotation on a method like this:-</p>\n<pre><code>@Component\npublic class CustomerQueryHandler {\n\n    public CustomerDocument getCustomerDocument(int userId, String documentType) throws JsonProcessingException {\n        CustomerDocument.DocumentType customerDocumentType = CustomerDocument.DocumentType.fromString(documentType);\n\n        CustomerDocument customerDocument = customerDocumentRepository.findByUserIdAndDocumentTypeAndIsDeletedFalse(userId, customerDocumentType);\n\n        if (customerDocument == null) {\n            throw new NoSuchCustomerDocumentException(String.format(&quot;No %s document found for userId %s&quot;, documentType, userId));\n        }\n\n        return mapToCustomerDocument(customerDocument);\n    }\n\n    @InterceptExecutionTime(action = &quot;fetch customer document&quot;)\n    public CustomerDocument mapToCustomerDocument(CustomerDocument customerDocument) throws JsonProcessingException {\n        return new CustomerDocument(customerDocument.getVerificationType() != null ?\n                customerDocument.getVerificationType().name() : null,\n                null);\n    }\n}\n</code></pre>\n<p>This is not working. But when i use the annotation on the method - getCustomerDocument(). It is working perfectly fine.</p>\n<pre><code>@Component\npublic class CustomerQueryHandler {\n\n    @InterceptExecutionTime(action = &quot;Decrypt customer document&quot;)\n    public CustomerDocument getCustomerDocument(int userId, String documentType) throws JsonProcessingException {\n        CustomerDocument.DocumentType customerDocumentType = CustomerDocument.DocumentType.fromString(documentType);\n\n        CustomerDocument customerDocument = customerDocumentRepository.findByUserIdAndDocumentTypeAndIsDeletedFalse(userId, customerDocumentType);\n\n        if (customerDocument == null) {\n            throw new NoSuchCustomerDocumentException(String.format(&quot;No %s document found for userId %s&quot;, documentType, userId));\n        }\n\n        return mapToCustomerDocument(customerDocument);\n    }\n\n   \n    public CustomerDocument mapToCustomerDocument(CustomerDocument customerDocument) throws JsonProcessingException {\n        return new CustomerDocument(customerDocument.getVerificationType() != null ?\n                customerDocument.getVerificationType().name() : null,\n                null);\n    }\n}\n</code></pre>\n<p>Can anyone please help what am i doing wrong here ?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1647296830,"post_id":71474720,"comment_id":126331777,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1647297006,"post_id":71474720,"comment_id":126331817,"body_markdown":"Are you using Google Cloud Identity by any chance? If so, this may mean that sign **up** is disallowed, and only sign-in is allowed.","body":"Are you using Google Cloud Identity by any chance? If so, this may mean that sign <b>up</b> is disallowed, and only sign-in is allowed."},{"owner":{"account_id":21138414,"reputation":122,"user_id":15541389,"display_name":"avs"},"score":0,"creation_date":1647297944,"post_id":71474720,"comment_id":126332003,"body_markdown":"Thanks for the answer, but not what I was looking for.","body":"Thanks for the answer, but not what I was looking for."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647322163,"post_id":71474720,"comment_id":126335837,"body_markdown":"If you consider at some point in time to try using [Kotlin](https://kotlinlang.org/), here you can find a useful [article](https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8).","body":"If you consider at some point in time to try using <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a>, here you can find a useful <a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">article</a>."}],"answers":[{"tags":[],"owner":{"account_id":18031145,"reputation":747,"user_id":13105735,"display_name":"Ahmad Iqbal  Bhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662902954,"creation_date":1662902954,"answer_id":73679664,"question_id":71474720,"body_markdown":"To login anonymously using Firebase you have to enable the anonymous authentication option from the Firebase console.\r\n\r\n[![Solution to Anonymous Authentication - Firebase - Android][1]][1]\r\n\r\nTo enable anonymous authentication, follow these steps:\r\n\r\n 1. Go to Firebse Console &amp; login to your account.\r\n 2. Head over to the Authentication tab as shown above.\r\n 3. Click on **Add new provider** button, you&#39;ll see a pop up:\r\n\r\n[![Solution to Anonymous Authentication - Firebase - Android][2]][2]\r\n\r\n 4. Click on **Anonymous** option, again you&#39;ll see a pop up:\r\n\r\n[![Solution to Anonymous Authentication - Firebase - Android][3]][3]\r\n\r\n 5. Now click on **toggle** button to enable authentication\r\n 6. Click on **Save** button\r\n\r\nAfter saving, you&#39;ll see the **Anonymous authentication** will be in **authencation list** as shown in the image below.\r\n\r\n[![Solution to Anonymous Authentication - Firebase - Android][4]][4]\r\n \r\n\r\n**This procedure works for me.**\r\n\r\n  [1]: https://i.stack.imgur.com/B2PpP.png\r\n  [2]: https://i.stack.imgur.com/USPTB.png\r\n  [3]: https://i.stack.imgur.com/3W0r6.png\r\n  [4]: https://i.stack.imgur.com/YBJe7.png","title":"Admin only - Anonymous Authentication - Firebase - Android","body":"<p>To login anonymously using Firebase you have to enable the anonymous authentication option from the Firebase console.</p>\n<p><a href=\"https://i.stack.imgur.com/B2PpP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2PpP.png\" alt=\"Solution to Anonymous Authentication - Firebase - Android\" /></a></p>\n<p>To enable anonymous authentication, follow these steps:</p>\n<ol>\n<li>Go to Firebse Console &amp; login to your account.</li>\n<li>Head over to the Authentication tab as shown above.</li>\n<li>Click on <strong>Add new provider</strong> button, you'll see a pop up:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/USPTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USPTB.png\" alt=\"Solution to Anonymous Authentication - Firebase - Android\" /></a></p>\n<ol start=\"4\">\n<li>Click on <strong>Anonymous</strong> option, again you'll see a pop up:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3W0r6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3W0r6.png\" alt=\"Solution to Anonymous Authentication - Firebase - Android\" /></a></p>\n<ol start=\"5\">\n<li>Now click on <strong>toggle</strong> button to enable authentication</li>\n<li>Click on <strong>Save</strong> button</li>\n</ol>\n<p>After saving, you'll see the <strong>Anonymous authentication</strong> will be in <strong>authencation list</strong> as shown in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/YBJe7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YBJe7.png\" alt=\"Solution to Anonymous Authentication - Firebase - Android\" /></a></p>\n<p><strong>This procedure works for me.</strong></p>\n"}],"owner":{"account_id":21138414,"reputation":122,"user_id":15541389,"display_name":"avs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73679664,"answer_count":1,"score":0,"last_activity_date":1662902954,"creation_date":1647295301,"question_id":71474720,"body_markdown":"I am trying to add anonymous authentication to my app using Firebase. But this error keeps repeating:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qrKKe.png\r\n\r\nThis is my code:\r\n\r\n    firebaseAuth.signInAnonymously()\r\n        .addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                // Sign in success, update UI with the signed-in user&#39;s information\r\n                FirebaseUser user = firebaseAuth.getCurrentUser();\r\n                updateUI(user);\r\n            } else {\r\n                // If sign in fails, display a message to the user.\r\n                Toast.makeText(AnonymousLoginActivity.this, task.getException().getMessage(),\r\n                        Toast.LENGTH_SHORT).show();\r\n                updateUI(null);\r\n            }\r\n        });\r\n\r\nHow can I fix this?","title":"Admin only - Anonymous Authentication - Firebase - Android","body":"<p>I am trying to add anonymous authentication to my app using Firebase. But this error keeps repeating:</p>\n<p><a href=\"https://i.stack.imgur.com/qrKKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrKKe.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code:</p>\n<pre><code>firebaseAuth.signInAnonymously()\n    .addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            // Sign in success, update UI with the signed-in user's information\n            FirebaseUser user = firebaseAuth.getCurrentUser();\n            updateUI(user);\n        } else {\n            // If sign in fails, display a message to the user.\n            Toast.makeText(AnonymousLoginActivity.this, task.getException().getMessage(),\n                    Toast.LENGTH_SHORT).show();\n            updateUI(null);\n        }\n    });\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","email","spring-boot","office365"],"comments":[{"owner":{"account_id":2297089,"reputation":3607,"user_id":2018278,"accept_rate":53,"display_name":"The KNVB"},"score":1,"creation_date":1537473083,"post_id":52432252,"comment_id":91808314,"body_markdown":"I hope the following link can you to fix the problem.\nhttps://answers.microsoft.com/en-us/msoffice/forum/msoffice_o365admin-mso_exchon-mso_o365b/configuring-javamail-to-send-mail-to-o365-exchange/46c6870c-4d7e-47c3-99f6-a6d19299e57d","body":"I hope the following link can you to fix the problem. <a href=\"https://answers.microsoft.com/en-us/msoffice/forum/msoffice_o365admin-mso_exchon-mso_o365b/configuring-javamail-to-send-mail-to-o365-exchange/46c6870c-4d7e-47c3-99f6-a6d19299e57d\" rel=\"nofollow noreferrer\">answers.microsoft.com/en-us/msoffice/forum/&hellip;</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1537473113,"post_id":52432252,"comment_id":91808335,"body_markdown":"`SendAsDeniedException` you are not logged in with an account that has authorization to send as the designated &quot;From&quot; address.","body":"<code>SendAsDeniedException</code> you are not logged in with an account that has authorization to send as the designated &quot;From&quot; address."}],"answers":[{"tags":[],"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1542905742,"creation_date":1542905742,"answer_id":53435444,"question_id":52432252,"body_markdown":"I had the same problem, and solved it:\r\n\r\nThe above mentioned error happened because I was sending email from the email account with &#39;usernameX&#39; but the sent email had property &#39;From&#39; with different value than &#39;usernameX&#39;.\r\nAfter I set email &#39;From&#39; field to &#39;usernameX&#39; .... the email was sent successfully.","title":"Java Mail using office365 account","body":"<p>I had the same problem, and solved it:</p>\n\n<p>The above mentioned error happened because I was sending email from the email account with 'usernameX' but the sent email had property 'From' with different value than 'usernameX'.\nAfter I set email 'From' field to 'usernameX' .... the email was sent successfully.</p>\n"},{"tags":[],"owner":{"account_id":11414523,"reputation":281,"user_id":8367678,"display_name":"Rajesh Narayanan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568727985,"creation_date":1568725775,"answer_id":57974964,"question_id":52432252,"body_markdown":"I had the same issue. I add `set` to resolve the problem.\r\n\r\n    SimpleMailMessage msg = new SimpleMailMessage();\r\n\tmsg.setTo(&quot;XXXXXXX&quot;, &quot;XXXXXXXX&quot;);\r\n\tmsg.setFrom(&quot;XXXXXXXX&quot;); // missed line\r\n\tmsg.setSubject(&quot;Testing from Spring Boot&quot;);\r\n\tmsg.setText(&quot;Hello World \\n Spring Boot Email&quot;);\r\n\tjavaMailSender.send(msg);","title":"Java Mail using office365 account","body":"<p>I had the same issue. I add <code>set</code> to resolve the problem.</p>\n\n<pre><code>SimpleMailMessage msg = new SimpleMailMessage();\nmsg.setTo(\"XXXXXXX\", \"XXXXXXXX\");\nmsg.setFrom(\"XXXXXXXX\"); // missed line\nmsg.setSubject(\"Testing from Spring Boot\");\nmsg.setText(\"Hello World \\n Spring Boot Email\");\njavaMailSender.send(msg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26305874,"reputation":1,"user_id":19970377,"display_name":"Saba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662902766,"creation_date":1662902766,"answer_id":73679648,"question_id":52432252,"body_markdown":"I had a same issue while sending mail..\r\n\r\n54 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000,  4.30158:DC040000\r\n\r\nwhen try to login the outlook , it denied as your password get expired.\r\nCheck whether your mail password has expired or not..\r\nIt cleared , once set the new password..\r\n","title":"Java Mail using office365 account","body":"<p>I had a same issue while sending mail..</p>\n<p>54 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000,  4.30158:DC040000</p>\n<p>when try to login the outlook , it denied as your password get expired.\nCheck whether your mail password has expired or not..\nIt cleared , once set the new password..</p>\n"}],"owner":{"account_id":14387604,"reputation":51,"user_id":10393136,"display_name":"Vishrut Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11417,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1662902766,"creation_date":1537472696,"question_id":52432252,"body_markdown":"Following is the error trace \r\n\r\n    554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000,  4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\r\n    DEBUG SMTP: got response code 554, with response: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000, 4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\r\n    \r\n    RSET\r\n    250 2.0.0 Resetting\r\n    DEBUG SMTP: MessagingException while sending, THROW: \r\n    com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000, 4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\r\n    \r\n    \tat com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)\r\n    \tat com.sun.mail.smtp.SMTPTransport.finishData(SMTPTransport.java:2110)\r\n    \tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1316)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:462)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:321)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:310)\r\n    \tat com.hltcapital.virtualsecretaryapi.core.JavaEmailService.sendSimpleMessage(JavaEmailService.java:22)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication.dataSource(DemoApplication.java:57)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.CGLIB$dataSource$0(&lt;generated&gt;)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4$$FastClassBySpringCGLIB$$ad34c0c5.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.dataSource(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:392)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:364)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.dataSource(&lt;generated&gt;)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication.localContainerEntityManagerFactoryBean(DemoApplication.java:76)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.CGLIB$localContainerEntityManagerFactoryBean$1(&lt;generated&gt;)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4$$FastClassBySpringCGLIB$$ad34c0c5.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.localContainerEntityManagerFactoryBean(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:330)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1258)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\r\n    \tat com.hltcapital.virtualsecretaryapi.DemoApplication.main(DemoApplication.java:111)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    QUIT\r\n    221 2.0.0 Service closing transmission channel\r\n\r\n\r\n    \r\nI am trying to send the email using java spring boot email, \r\nBelow are the code blocks for the same.\r\n\r\n1) Configuration File\r\n    \r\n    @Configuration\r\n    public class EmailSendConfiguration{\r\n\r\n    @Bean\r\n\tpublic JavaMailSender getJavaMailSender() {\r\n\t\tJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n\t\tmailSender.setHost(&quot;m.outlook.com&quot;);\r\n\t\tmailSender.setPort(587);\r\n\t\t\r\n\t\tmailSender.setUsername(&quot;zzzz@company.com&quot;);\r\n\t\tmailSender.setPassword(&quot;password&quot;);\r\n\t\t\r\n\t\tProperties props = mailSender.getJavaMailProperties();\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\treturn mailSender;\r\n\t}\r\n\r\n    }\r\n\r\n2) File which is used to send email\r\n    \r\n    @Service\r\n    public class JavaEmailService{\r\n  \r\n    @Autowired\r\n    public JavaMailSender emailSender;\r\n \r\n    public void sendSimpleMessage(String to, String subject, String text) {\r\n\r\n        SimpleMailMessage message = new SimpleMailMessage(); \r\n        message.setTo(to); \r\n        message.setSubject(subject); \r\n        message.setText(text);\r\n        EmailSendConfiguration esc = new EmailSendConfiguration();\r\n        esc.getJavaMailSender().send(message);\r\n    }\r\n    }\r\n\r\nCan anyone please let me know the source of error?","title":"Java Mail using office365 account","body":"<p>Following is the error trace </p>\n\n<pre><code>554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000,  4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\nDEBUG SMTP: got response code 554, with response: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000, 4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\n\nRSET\n250 2.0.0 Resetting\nDEBUG SMTP: MessagingException while sending, THROW: \ncom.sun.mail.smtp.SMTPSendFailedException: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:7B140000, 4.30158:DC040000 [Hostname=MWHPR22MB0815.namprd22.prod.outlook.com]\n\n    at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2358)\n    at com.sun.mail.smtp.SMTPTransport.finishData(SMTPTransport.java:2110)\n    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1316)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:462)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:321)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:310)\n    at com.hltcapital.virtualsecretaryapi.core.JavaEmailService.sendSimpleMessage(JavaEmailService.java:22)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication.dataSource(DemoApplication.java:57)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.CGLIB$dataSource$0(&lt;generated&gt;)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4$$FastClassBySpringCGLIB$$ad34c0c5.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.dataSource(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:392)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:364)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.dataSource(&lt;generated&gt;)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication.localContainerEntityManagerFactoryBean(DemoApplication.java:76)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.CGLIB$localContainerEntityManagerFactoryBean$1(&lt;generated&gt;)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4$$FastClassBySpringCGLIB$$ad34c0c5.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication$$EnhancerBySpringCGLIB$$256155c4.localContainerEntityManagerFactoryBean(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\n    at com.hltcapital.virtualsecretaryapi.DemoApplication.main(DemoApplication.java:111)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nQUIT\n221 2.0.0 Service closing transmission channel\n</code></pre>\n\n<p>I am trying to send the email using java spring boot email, \nBelow are the code blocks for the same.</p>\n\n<p>1) Configuration File</p>\n\n<pre><code>@Configuration\npublic class EmailSendConfiguration{\n\n@Bean\npublic JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(\"m.outlook.com\");\n    mailSender.setPort(587);\n\n    mailSender.setUsername(\"zzzz@company.com\");\n    mailSender.setPassword(\"password\");\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(\"mail.transport.protocol\", \"smtp\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.debug\", \"true\");\n\n    return mailSender;\n}\n\n}\n</code></pre>\n\n<p>2) File which is used to send email</p>\n\n<pre><code>@Service\npublic class JavaEmailService{\n\n@Autowired\npublic JavaMailSender emailSender;\n\npublic void sendSimpleMessage(String to, String subject, String text) {\n\n    SimpleMailMessage message = new SimpleMailMessage(); \n    message.setTo(to); \n    message.setSubject(subject); \n    message.setText(text);\n    EmailSendConfiguration esc = new EmailSendConfiguration();\n    esc.getJavaMailSender().send(message);\n}\n}\n</code></pre>\n\n<p>Can anyone please let me know the source of error?</p>\n"},{"tags":["java","visualization","vega-lite","vega","language-binding"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662910042,"post_id":73679551,"comment_id":130110416,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2754706,"reputation":331,"user_id":2373145,"display_name":"user2373145"},"score":0,"creation_date":1662973716,"post_id":73679551,"comment_id":130121447,"body_markdown":"Can&#39;t you just generate the JSON?","body":"Can&#39;t you just generate the JSON?"},{"owner":{"account_id":15206249,"reputation":1,"user_id":10972594,"display_name":"javaGeek"},"score":0,"creation_date":1664197200,"post_id":73679551,"comment_id":130409204,"body_markdown":"@user2373145: Thx for your return-question. Yes, I can create json from java, that wouldn&#39;t be a problem. But I&#39;d much prefer a more coupled *binding* to d3/vega, as I want to display dynamic data whilst being generated (adding and subtracting json-nodes). Also, I&#39;m expecting large amounts of data, in bursts (some idle time, then some burst, etc.). So accessing the json-structure for modification is really the only option, hence my question. I can create mostly anything on the java-side of things, but I&#39;m rather new to d3/vega, so I&#39;m not sure, how to connect the 2 to a common data-structure.","body":"@user2373145: Thx for your return-question. Yes, I can create json from java, that wouldn&#39;t be a problem. But I&#39;d much prefer a more coupled <i>binding</i> to d3/vega, as I want to display dynamic data whilst being generated (adding and subtracting json-nodes). Also, I&#39;m expecting large amounts of data, in bursts (some idle time, then some burst, etc.). So accessing the json-structure for modification is really the only option, hence my question. I can create mostly anything on the java-side of things, but I&#39;m rather new to d3/vega, so I&#39;m not sure, how to connect the 2 to a common data-structure."},{"owner":{"account_id":2754706,"reputation":331,"user_id":2373145,"display_name":"user2373145"},"score":0,"creation_date":1664342707,"post_id":73679551,"comment_id":130446569,"body_markdown":"I don&#39;t know whether a binding between the Vega Javascript APIs and Java exists.","body":"I don&#39;t know whether a binding between the Vega Javascript APIs and Java exists."},{"owner":{"account_id":2754706,"reputation":331,"user_id":2373145,"display_name":"user2373145"},"score":0,"creation_date":1664342800,"post_id":73679551,"comment_id":130446582,"body_markdown":"Actually, there&#39;s a list of language bindings here, and Java isn&#39;t on the list: https://vega.github.io/vega-lite/ecosystem.html#bindings-for-programming-languages","body":"Actually, there&#39;s a list of language bindings here, and Java isn&#39;t on the list: <a href=\"https://vega.github.io/vega-lite/ecosystem.html#bindings-for-programming-languages\" rel=\"nofollow noreferrer\">vega.github.io/vega-lite/&hellip;</a>"}],"owner":{"account_id":15206249,"reputation":1,"user_id":10972594,"display_name":"javaGeek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662901794,"creation_date":1662901794,"question_id":73679551,"body_markdown":"I have recently evaluated freely available software-packages / frameworks for producing complex, flexible and high quality graphics of statistical data for displaying such data in a machine-learning - environment, which I am currently developing in java.\r\n\r\nThe most promising framework for my use-case seems to be the **vega(-lite)** one. However, I was stunned, when I couldn&#39;t find any **binding** to the **java** programming-language, as it seems to be widely used with existing bindings to python, R, julia and many other languages...\r\n\r\n...did I miss something?","title":"Is there a way to generate a vega(-lite) graph from java (other than programming one, from scratch)?","body":"<p>I have recently evaluated freely available software-packages / frameworks for producing complex, flexible and high quality graphics of statistical data for displaying such data in a machine-learning - environment, which I am currently developing in java.</p>\n<p>The most promising framework for my use-case seems to be the <strong>vega(-lite)</strong> one. However, I was stunned, when I couldn't find any <strong>binding</strong> to the <strong>java</strong> programming-language, as it seems to be widely used with existing bindings to python, R, julia and many other languages...</p>\n<p>...did I miss something?</p>\n"},{"tags":["java","android","android-emulator","apk"],"comments":[{"owner":{"account_id":236423,"reputation":15157,"user_id":503900,"accept_rate":88,"display_name":"bigstones"},"score":0,"creation_date":1303296170,"post_id":5728903,"comment_id":6552212,"body_markdown":"this should work for manifest too: http://stackoverflow.com/questions/3868768/extracting-android-apk-and-reading-contents-of-xml-file-in-res-layout","body":"this should work for manifest too: <a href=\"http://stackoverflow.com/questions/3868768/extracting-android-apk-and-reading-contents-of-xml-file-in-res-layout\" title=\"extracting android apk and reading contents of xml file in res layout\">stackoverflow.com/questions/3868768/&hellip;</a>"},{"owner":{"account_id":740326,"reputation":93,"user_id":716955,"display_name":"Smith"},"score":0,"creation_date":1303297764,"post_id":5728903,"comment_id":6552553,"body_markdown":"I want to do this programatically, will this be still useful?","body":"I want to do this programatically, will this be still useful?"}],"answers":[{"tags":[],"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1303301538,"creation_date":1303301538,"answer_id":5730032,"question_id":5728903,"body_markdown":"You can use the PackageManager method [getPackageArchiveInfo][1] to retrieve the information from an APK file. Assuming your APK lives in the root of your SD card, you can use this code:\r\n\r\n        String apkPath = Environment.getExternalStorageDirectory().getAbsolutePath() \r\n                       + &quot;/MyApp.apk&quot;;\r\n        PackageManager pm = getPackageManager();\r\n        \r\n        PackageInfo info = pm.getPackageArchiveInfo(apkPath, \r\n                               PackageManager.GET_ACTIVITIES);\r\n        //Log.i(&quot;ActivityInfo&quot;, &quot;Package name is &quot; + info.packageName);\r\n        \r\n        for (android.content.pm.ActivityInfo a : info.activities) {\r\n        \tLog.i(&quot;ActivityInfo&quot;, a.name);\r\n        }\r\n\r\nThere is plenty of additional information you can find in the ActivityInfo and PackageInfo objects.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/pm/PackageManager.html#getPackageArchiveInfo%28java.lang.String,%20int%29","title":"Reading Activity names from apk file in Android","body":"<p>You can use the PackageManager method <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#getPackageArchiveInfo%28java.lang.String,%20int%29\" rel=\"noreferrer\">getPackageArchiveInfo</a> to retrieve the information from an APK file. Assuming your APK lives in the root of your SD card, you can use this code:</p>\n\n<pre><code>    String apkPath = Environment.getExternalStorageDirectory().getAbsolutePath() \n                   + \"/MyApp.apk\";\n    PackageManager pm = getPackageManager();\n\n    PackageInfo info = pm.getPackageArchiveInfo(apkPath, \n                           PackageManager.GET_ACTIVITIES);\n    //Log.i(\"ActivityInfo\", \"Package name is \" + info.packageName);\n\n    for (android.content.pm.ActivityInfo a : info.activities) {\n        Log.i(\"ActivityInfo\", a.name);\n    }\n</code></pre>\n\n<p>There is plenty of additional information you can find in the ActivityInfo and PackageInfo objects.</p>\n"},{"tags":[],"owner":{"account_id":220957,"reputation":4200,"user_id":478673,"display_name":"Albin"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1315473652,"creation_date":1315473652,"answer_id":7345809,"question_id":5728903,"body_markdown":"If you just want to list them from the command line you can use\r\n\r\n    aapt dump xmltree &lt;apk-file&gt; AndroidManifest.xml\r\n\r\nThe format is a bit perplexing at first, but all the info is there.\r\n\r\nYou need the Android SDK installed to do this, of course.","title":"Reading Activity names from apk file in Android","body":"<p>If you just want to list them from the command line you can use</p>\n\n<pre><code>aapt dump xmltree &lt;apk-file&gt; AndroidManifest.xml\n</code></pre>\n\n<p>The format is a bit perplexing at first, but all the info is there.</p>\n\n<p>You need the Android SDK installed to do this, of course.</p>\n"},{"tags":[],"owner":{"account_id":1211108,"reputation":1,"user_id":1179614,"display_name":"user1179614"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661875812,"creation_date":1338183529,"answer_id":10779803,"question_id":5728903,"body_markdown":"You don&#39;t have to use the full path to the APK, just call the following directly from inside an Activity.\r\n\r\n    PackageManager manager = getPackageManager();\r\n    PackageInfo packageInfo = manager.getPackageInfo(&quot;your package name&quot;, PackageManager.GET_UNINSTALLED_PACKAGES);\r\n\r\n","title":"Reading Activity names from apk file in Android","body":"<p>You don't have to use the full path to the APK, just call the following directly from inside an Activity.</p>\n<pre><code>PackageManager manager = getPackageManager();\nPackageInfo packageInfo = manager.getPackageInfo(&quot;your package name&quot;, PackageManager.GET_UNINSTALLED_PACKAGES);\n</code></pre>\n"}],"owner":{"account_id":740326,"reputation":93,"user_id":716955,"display_name":"Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11624,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5730032,"answer_count":3,"score":9,"last_activity_date":1662900885,"creation_date":1303295579,"question_id":5728903,"body_markdown":"I want to extract all the `activities` names from an android apk file.\r\nAny idea how possibly it can be done?\r\n","title":"Reading Activity names from apk file in Android","body":"<p>I want to extract all the <code>activities</code> names from an android apk file.\nAny idea how possibly it can be done?</p>\n"},{"tags":["java","callback","notify","executor"],"answers":[{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1241548346,"creation_date":1241547675,"answer_id":826245,"question_id":826212,"body_markdown":"Use a [**`CountDownLatch`**][1].\r\n\r\nIt&#39;s from `java.util.concurrent` and it&#39;s exactly the way to wait for several threads to complete execution before continuing.\r\n\r\nIn order to achieve the callback effect you&#39;re looking after, that does require a little additional extra work. Namely, handling this by yourself in a separate thread which uses the `CountDownLatch` and does wait on it, then goes on about notifying whatever it is you need to notify. There is no native support for callback, or anything similar to that effect.\r\n\r\n&lt;hr&gt;\r\n\r\n**EDIT:** now that I further understand your question, I think you are reaching too far, unnecessarily. If you take a regular [**`SingleThreadExecutor`**][2], give it all the tasks, and it will do the queueing natively.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Use a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\"><strong><code>CountDownLatch</code></strong></a>.</p>\n\n<p>It's from <code>java.util.concurrent</code> and it's exactly the way to wait for several threads to complete execution before continuing.</p>\n\n<p>In order to achieve the callback effect you're looking after, that does require a little additional extra work. Namely, handling this by yourself in a separate thread which uses the <code>CountDownLatch</code> and does wait on it, then goes on about notifying whatever it is you need to notify. There is no native support for callback, or anything similar to that effect.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> now that I further understand your question, I think you are reaching too far, unnecessarily. If you take a regular <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\" rel=\"noreferrer\"><strong><code>SingleThreadExecutor</code></strong></a>, give it all the tasks, and it will do the queueing natively.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":175,"is_accepted":true,"score":175,"last_activity_date":1502989072,"creation_date":1241548113,"answer_id":826283,"question_id":826212,"body_markdown":"Define a callback interface to receive whatever parameters you want to pass along in the completion notification. Then invoke it at the end of the task. \r\n\r\nYou could even write a general wrapper for Runnable tasks, and submit these to `ExecutorService`. Or, see below for a mechanism built into Java 8.\r\n\r\n    class CallbackTask implements Runnable {\r\n    \r\n      private final Runnable task;\r\n    \r\n      private final Callback callback;\r\n    \r\n      CallbackTask(Runnable task, Callback callback) {\r\n        this.task = task;\r\n        this.callback = callback;\r\n      }\r\n    \r\n      public void run() {\r\n        task.run();\r\n        callback.complete();\r\n      }\r\n    \r\n    }\r\n\r\n-----\r\n\r\nWith [`CompletableFuture`][1], Java 8 included a more elaborate means to compose pipelines where processes can be completed asynchronously and conditionally. Here&#39;s a contrived but complete example of notification.\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class GetTaskNotificationWithoutBlocking {\r\n    \r\n      public static void main(String... argv) throws Exception {\r\n        ExampleService svc = new ExampleService();\r\n        GetTaskNotificationWithoutBlocking listener = new GetTaskNotificationWithoutBlocking();\r\n        CompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(svc::work);\r\n        f.thenAccept(listener::notify);\r\n        System.out.println(&quot;Exiting main()&quot;);\r\n      }\r\n    \r\n      void notify(String msg) {\r\n        System.out.println(&quot;Received message: &quot; + msg);\r\n      }\r\n    \r\n    }\r\n    \r\n    class ExampleService {\r\n        \r\n      String work() {\r\n        sleep(7000, TimeUnit.MILLISECONDS); /* Pretend to be busy... */\r\n        char[] str = new char[5];\r\n        ThreadLocalRandom current = ThreadLocalRandom.current();\r\n        for (int idx = 0; idx &lt; str.length; ++idx)\r\n          str[idx] = (char) (&#39;A&#39; + current.nextInt(26));\r\n        String msg = new String(str);\r\n        System.out.println(&quot;Generated message: &quot; + msg);\r\n        return msg;\r\n      }\r\n    \r\n      public static void sleep(long average, TimeUnit unit) {\r\n        String name = Thread.currentThread().getName();\r\n        long timeout = Math.min(exponential(average), Math.multiplyExact(10, average));\r\n        System.out.printf(&quot;%s sleeping %d %s...%n&quot;, name, timeout, unit);\r\n        try {\r\n          unit.sleep(timeout);\r\n          System.out.println(name + &quot; awoke.&quot;);\r\n        } catch (InterruptedException abort) {\r\n          Thread.currentThread().interrupt();\r\n          System.out.println(name + &quot; interrupted.&quot;);\r\n        }\r\n      }\r\n    \r\n      public static long exponential(long avg) {\r\n        return (long) (avg * -Math.log(1 - ThreadLocalRandom.current().nextDouble()));\r\n      }\r\n    \r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Define a callback interface to receive whatever parameters you want to pass along in the completion notification. Then invoke it at the end of the task. </p>\n\n<p>You could even write a general wrapper for Runnable tasks, and submit these to <code>ExecutorService</code>. Or, see below for a mechanism built into Java 8.</p>\n\n<pre><code>class CallbackTask implements Runnable {\n\n  private final Runnable task;\n\n  private final Callback callback;\n\n  CallbackTask(Runnable task, Callback callback) {\n    this.task = task;\n    this.callback = callback;\n  }\n\n  public void run() {\n    task.run();\n    callback.complete();\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<p>With <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\"><code>CompletableFuture</code></a>, Java 8 included a more elaborate means to compose pipelines where processes can be completed asynchronously and conditionally. Here's a contrived but complete example of notification.</p>\n\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.TimeUnit;\n\npublic class GetTaskNotificationWithoutBlocking {\n\n  public static void main(String... argv) throws Exception {\n    ExampleService svc = new ExampleService();\n    GetTaskNotificationWithoutBlocking listener = new GetTaskNotificationWithoutBlocking();\n    CompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(svc::work);\n    f.thenAccept(listener::notify);\n    System.out.println(\"Exiting main()\");\n  }\n\n  void notify(String msg) {\n    System.out.println(\"Received message: \" + msg);\n  }\n\n}\n\nclass ExampleService {\n\n  String work() {\n    sleep(7000, TimeUnit.MILLISECONDS); /* Pretend to be busy... */\n    char[] str = new char[5];\n    ThreadLocalRandom current = ThreadLocalRandom.current();\n    for (int idx = 0; idx &lt; str.length; ++idx)\n      str[idx] = (char) ('A' + current.nextInt(26));\n    String msg = new String(str);\n    System.out.println(\"Generated message: \" + msg);\n    return msg;\n  }\n\n  public static void sleep(long average, TimeUnit unit) {\n    String name = Thread.currentThread().getName();\n    long timeout = Math.min(exponential(average), Math.multiplyExact(10, average));\n    System.out.printf(\"%s sleeping %d %s...%n\", name, timeout, unit);\n    try {\n      unit.sleep(timeout);\n      System.out.println(name + \" awoke.\");\n    } catch (InterruptedException abort) {\n      Thread.currentThread().interrupt();\n      System.out.println(name + \" interrupted.\");\n    }\n  }\n\n  public static long exponential(long avg) {\n    return (long) (avg * -Math.log(1 - ThreadLocalRandom.current().nextDouble()));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1241548140,"creation_date":1241548140,"answer_id":826285,"question_id":826212,"body_markdown":"If you want to make sure that no tasks will run at the same time then use a [SingleThreadedExecutor][1]. The tasks will be processed in the order the are submitted. You don&#39;t even need to hold the tasks, just submit them to the exec.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor()","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>If you want to make sure that no tasks will run at the same time then use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor()\" rel=\"noreferrer\">SingleThreadedExecutor</a>. The tasks will be processed in the order the are submitted. You don't even need to hold the tasks, just submit them to the exec.</p>\n"},{"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1500658049,"creation_date":1241553170,"answer_id":826633,"question_id":826212,"body_markdown":"`ThreadPoolExecutor` also has `beforeExecute` and `afterExecute` hook methods that you can override and make use of. Here is the description from `ThreadPoolExecutor`&#39;s [Javadocs][1].\r\n\r\n&gt;###Hook methods\r\nThis class provides protected overridable [`beforeExecute(java.lang.Thread, java.lang.Runnable)`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#beforeExecute-java.lang.Thread-java.lang.Runnable-) and [`afterExecute(java.lang.Runnable, java.lang.Throwable)`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute-java.lang.Runnable-java.lang.Throwable-) methods that are called before and after execution of each task. These can be used to manipulate the execution environment; for example, reinitializing `ThreadLocals`, gathering statistics, or adding log entries. Additionally, method [`terminated()`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#terminated--) can be overridden to perform any special processing that needs to be done once the `Executor` has fully terminated. If hook or callback methods throw exceptions, internal worker threads may in turn fail and abruptly terminate.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p><code>ThreadPoolExecutor</code> also has <code>beforeExecute</code> and <code>afterExecute</code> hook methods that you can override and make use of. Here is the description from <code>ThreadPoolExecutor</code>'s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">Javadocs</a>.</p>\n\n<blockquote>\n  <h3>Hook methods</h3>\n  \n  <p>This class provides protected overridable <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#beforeExecute-java.lang.Thread-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>beforeExecute(java.lang.Thread, java.lang.Runnable)</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute-java.lang.Runnable-java.lang.Throwable-\" rel=\"nofollow noreferrer\"><code>afterExecute(java.lang.Runnable, java.lang.Throwable)</code></a> methods that are called before and after execution of each task. These can be used to manipulate the execution environment; for example, reinitializing <code>ThreadLocals</code>, gathering statistics, or adding log entries. Additionally, method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#terminated--\" rel=\"nofollow noreferrer\"><code>terminated()</code></a> can be overridden to perform any special processing that needs to be done once the <code>Executor</code> has fully terminated. If hook or callback methods throw exceptions, internal worker threads may in turn fail and abruptly terminate.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1257161,"reputation":541,"user_id":1216393,"display_name":"Auguste"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1451331493,"creation_date":1329495144,"answer_id":9331669,"question_id":826212,"body_markdown":"You could extend `FutureTask` class, and override the `done()` method, then add the `FutureTask` object to the `ExecutorService`, so the `done()` method will invoke when the `FutureTask` completed immediately.","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>You could extend <code>FutureTask</code> class, and override the <code>done()</code> method, then add the <code>FutureTask</code> object to the <code>ExecutorService</code>, so the <code>done()</code> method will invoke when the <code>FutureTask</code> completed immediately.</p>\n"},{"tags":[],"owner":{"account_id":973046,"reputation":1495,"user_id":995156,"display_name":"Pierre-Henri"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1509362102,"creation_date":1352838709,"answer_id":13368281,"question_id":826212,"body_markdown":"Use [Guava&#39;s listenable future API][1] and add a callback. Cf. from the website :\r\n\r\n    ListeningExecutorService service = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(10));\r\n    ListenableFuture&lt;Explosion&gt; explosion = service.submit(new Callable&lt;Explosion&gt;() {\r\n      public Explosion call() {\r\n        return pushBigRedButton();\r\n      }\r\n    });\r\n    Futures.addCallback(explosion, new FutureCallback&lt;Explosion&gt;() {\r\n      // we want this handler to run immediately after we push the big red button!\r\n      public void onSuccess(Explosion explosion) {\r\n        walkAwayFrom(explosion);\r\n      }\r\n      public void onFailure(Throwable thrown) {\r\n        battleArchNemesis(); // escaped the explosion!\r\n      }\r\n    });\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ListenableFutureExplained","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Use <a href=\"https://github.com/google/guava/wiki/ListenableFutureExplained\" rel=\"noreferrer\">Guava's listenable future API</a> and add a callback. Cf. from the website :</p>\n\n<pre><code>ListeningExecutorService service = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(10));\nListenableFuture&lt;Explosion&gt; explosion = service.submit(new Callable&lt;Explosion&gt;() {\n  public Explosion call() {\n    return pushBigRedButton();\n  }\n});\nFutures.addCallback(explosion, new FutureCallback&lt;Explosion&gt;() {\n  // we want this handler to run immediately after we push the big red button!\n  public void onSuccess(Explosion explosion) {\n    walkAwayFrom(explosion);\n  }\n  public void onFailure(Throwable thrown) {\n    battleArchNemesis(); // escaped the explosion!\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12128,"reputation":5338,"user_id":23723,"accept_rate":85,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1472480402,"creation_date":1394656612,"answer_id":22363245,"question_id":826212,"body_markdown":"In Java 8 you can use [CompletableFuture][1]. Here&#39;s an example I had in my code where I&#39;m using it to fetch users from my user service, map them to my view objects and then update my view or show an error dialog (this is a GUI application): \r\n\r\n        CompletableFuture.supplyAsync(\r\n                userService::listUsers\r\n        ).thenApply(\r\n                this::mapUsersToUserViews\r\n        ).thenAccept(\r\n                this::updateView\r\n        ).exceptionally(\r\n                throwable -&gt; { showErrorDialogFor(throwable); return null; }\r\n        );\r\n\r\nIt executes asynchronously. I&#39;m using two private methods: `mapUsersToUserViews` and `updateView`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>In Java 8 you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\">CompletableFuture</a>. Here's an example I had in my code where I'm using it to fetch users from my user service, map them to my view objects and then update my view or show an error dialog (this is a GUI application): </p>\n\n<pre><code>    CompletableFuture.supplyAsync(\n            userService::listUsers\n    ).thenApply(\n            this::mapUsersToUserViews\n    ).thenAccept(\n            this::updateView\n    ).exceptionally(\n            throwable -&gt; { showErrorDialogFor(throwable); return null; }\n    );\n</code></pre>\n\n<p>It executes asynchronously. I'm using two private methods: <code>mapUsersToUserViews</code> and <code>updateView</code>.</p>\n"},{"tags":[],"owner":{"account_id":2525473,"reputation":21,"user_id":2194944,"display_name":"Old Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440851998,"creation_date":1440851998,"answer_id":32286149,"question_id":826212,"body_markdown":"Just to add to Matt&#39;s answer, which helped, here is a more fleshed-out example to show the use of a callback.\r\n\r\n    private static Primes primes = new Primes();\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        getPrimeAsync((p) -&gt;\r\n            System.out.println(&quot;onPrimeListener; p=&quot; + p));\r\n\r\n        System.out.println(&quot;Adios mi amigito&quot;);\r\n    }\r\n    public interface OnPrimeListener {\r\n        void onPrime(int prime);\r\n    }\r\n    public static void getPrimeAsync(OnPrimeListener listener) {\r\n        CompletableFuture.supplyAsync(primes::getNextPrime)\r\n            .thenApply((prime) -&gt; {\r\n                System.out.println(&quot;getPrimeAsync(); prime=&quot; + prime);\r\n                if (listener != null) {\r\n                    listener.onPrime(prime);\r\n                }\r\n                return prime;\r\n            });\r\n    }\r\n\r\nThe output is:\r\n\r\n        getPrimeAsync(); prime=241\r\n        onPrimeListener; p=241\r\n        Adios mi amigito","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Just to add to Matt's answer, which helped, here is a more fleshed-out example to show the use of a callback.</p>\n\n<pre><code>private static Primes primes = new Primes();\n\npublic static void main(String[] args) throws InterruptedException {\n    getPrimeAsync((p) -&gt;\n        System.out.println(\"onPrimeListener; p=\" + p));\n\n    System.out.println(\"Adios mi amigito\");\n}\npublic interface OnPrimeListener {\n    void onPrime(int prime);\n}\npublic static void getPrimeAsync(OnPrimeListener listener) {\n    CompletableFuture.supplyAsync(primes::getNextPrime)\n        .thenApply((prime) -&gt; {\n            System.out.println(\"getPrimeAsync(); prime=\" + prime);\n            if (listener != null) {\n                listener.onPrime(prime);\n            }\n            return prime;\n        });\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>    getPrimeAsync(); prime=241\n    onPrimeListener; p=241\n    Adios mi amigito\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391391,"reputation":305,"user_id":2846148,"display_name":"Deepika Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452362459,"creation_date":1452362459,"answer_id":34697008,"question_id":826212,"body_markdown":"You may use a implementation of Callable such that \r\n\r\n    public class MyAsyncCallable&lt;V&gt; implements Callable&lt;V&gt; {\r\n    \t\r\n    \tCallbackInterface ci;\r\n    \t\r\n    \tpublic MyAsyncCallable(CallbackInterface ci) {\r\n    \t\tthis.ci = ci;\r\n    \t}\r\n    \r\n    \tpublic V call() throws Exception {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Call of MyCallable invoked&quot;);\r\n    \t\tSystem.out.println(&quot;Result = &quot; + this.ci.doSomething(10, 20));\r\n    \t\treturn (V) &quot;Good job&quot;;\r\n    \t}\r\n    }\r\n\r\nwhere CallbackInterface is something very basic like \r\n\r\n    public interface CallbackInterface {\r\n    \tpublic int doSomething(int a, int b);\r\n    }\r\n\r\nand now the main class will look like this \r\n\r\n    ExecutorService ex = Executors.newFixedThreadPool(2);\r\n    \t\t\r\n    MyAsyncCallable&lt;String&gt; mac = new MyAsyncCallable&lt;String&gt;((a, b) -&gt; a + b);\r\n    ex.submit(mac);","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>You may use a implementation of Callable such that </p>\n\n<pre><code>public class MyAsyncCallable&lt;V&gt; implements Callable&lt;V&gt; {\n\n    CallbackInterface ci;\n\n    public MyAsyncCallable(CallbackInterface ci) {\n        this.ci = ci;\n    }\n\n    public V call() throws Exception {\n\n        System.out.println(\"Call of MyCallable invoked\");\n        System.out.println(\"Result = \" + this.ci.doSomething(10, 20));\n        return (V) \"Good job\";\n    }\n}\n</code></pre>\n\n<p>where CallbackInterface is something very basic like </p>\n\n<pre><code>public interface CallbackInterface {\n    public int doSomething(int a, int b);\n}\n</code></pre>\n\n<p>and now the main class will look like this </p>\n\n<pre><code>ExecutorService ex = Executors.newFixedThreadPool(2);\n\nMyAsyncCallable&lt;String&gt; mac = new MyAsyncCallable&lt;String&gt;((a, b) -&gt; a + b);\nex.submit(mac);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1350411,"reputation":45928,"user_id":1290264,"accept_rate":81,"display_name":"bcorso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517205361,"creation_date":1458408612,"answer_id":36104840,"question_id":826212,"body_markdown":"This is an extension to Pache&#39;s answer using Guava&#39;s `ListenableFuture`.\r\n\r\nIn particular, `Futures.transform()` returns `ListenableFuture` so can be used to chain async calls. `Futures.addCallback()` returns `void`, so cannot be used for chaining, but is good for handling success/failure on an async completion.\r\n\r\n    // ListenableFuture1: Open Database\r\n    ListenableFuture&lt;Database&gt; database = service.submit(() -&gt; openDatabase());\r\n\r\n    // ListenableFuture2: Query Database for Cursor rows\r\n    ListenableFuture&lt;Cursor&gt; cursor =\r\n        Futures.transform(database, database -&gt; database.query(table, ...));\r\n\r\n    // ListenableFuture3: Convert Cursor rows to List&lt;Foo&gt;\r\n    ListenableFuture&lt;List&lt;Foo&gt;&gt; fooList =\r\n        Futures.transform(cursor, cursor -&gt; cursorToFooList(cursor));\r\n\r\n    // Final Callback: Handle the success/errors when final future completes\r\n    Futures.addCallback(fooList, new FutureCallback&lt;List&lt;Foo&gt;&gt;() {\r\n      public void onSuccess(List&lt;Foo&gt; foos) {\r\n        doSomethingWith(foos);\r\n      }\r\n      public void onFailure(Throwable thrown) {\r\n        log.error(thrown);\r\n      }\r\n    });\r\n\r\n**NOTE:** In addition to chaining async tasks, `Futures.transform()` also allows you to schedule each task on a separate executor (Not shown in this example).","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>This is an extension to Pache's answer using Guava's <code>ListenableFuture</code>.</p>\n\n<p>In particular, <code>Futures.transform()</code> returns <code>ListenableFuture</code> so can be used to chain async calls. <code>Futures.addCallback()</code> returns <code>void</code>, so cannot be used for chaining, but is good for handling success/failure on an async completion.</p>\n\n<pre><code>// ListenableFuture1: Open Database\nListenableFuture&lt;Database&gt; database = service.submit(() -&gt; openDatabase());\n\n// ListenableFuture2: Query Database for Cursor rows\nListenableFuture&lt;Cursor&gt; cursor =\n    Futures.transform(database, database -&gt; database.query(table, ...));\n\n// ListenableFuture3: Convert Cursor rows to List&lt;Foo&gt;\nListenableFuture&lt;List&lt;Foo&gt;&gt; fooList =\n    Futures.transform(cursor, cursor -&gt; cursorToFooList(cursor));\n\n// Final Callback: Handle the success/errors when final future completes\nFutures.addCallback(fooList, new FutureCallback&lt;List&lt;Foo&gt;&gt;() {\n  public void onSuccess(List&lt;Foo&gt; foos) {\n    doSomethingWith(foos);\n  }\n  public void onFailure(Throwable thrown) {\n    log.error(thrown);\n  }\n});\n</code></pre>\n\n<p><strong>NOTE:</strong> In addition to chaining async tasks, <code>Futures.transform()</code> also allows you to schedule each task on a separate executor (Not shown in this example).</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459960906,"creation_date":1459957469,"answer_id":36456012,"question_id":826212,"body_markdown":"Simple code to implement `Callback` mechanism using `ExecutorService`\r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.*;\r\n    \r\n    public class CallBackDemo{\r\n    \tpublic CallBackDemo(){\r\n    \t\tSystem.out.println(&quot;creating service&quot;);\r\n    \t\tExecutorService service = Executors.newFixedThreadPool(5);\r\n    \t\r\n    \t\ttry{\r\n    \t\t\tfor ( int i=0; i&lt;5; i++){\r\n    \t\t\t\tCallback callback = new Callback(i+1);\r\n    \t\t\t\tMyCallable myCallable = new MyCallable((long)i+1,callback);\r\n    \t\t\t\tFuture&lt;Long&gt; future = service.submit(myCallable);\r\n    \t\t\t\t//System.out.println(&quot;future status:&quot;+future.get()+&quot;:&quot;+future.isDone());\r\n    \t\t\t}\r\n    \t\t}catch(Exception err){\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t\tservice.shutdown();\r\n    \t}\r\n    \tpublic static void main(String args[]){\r\n    \t\tCallBackDemo demo = new CallBackDemo();\r\n    \t}\r\n    }\r\n    class MyCallable implements Callable&lt;Long&gt;{\r\n    \tLong id = 0L;\r\n    \tCallback callback;\r\n    \tpublic MyCallable(Long val,Callback obj){\r\n    \t\tthis.id = val;\r\n    \t\tthis.callback = obj;\r\n    \t}\r\n    \tpublic Long call(){\r\n    \t\t//Add your business logic\r\n    \t\tSystem.out.println(&quot;Callable:&quot;+id+&quot;:&quot;+Thread.currentThread().getName());\r\n    \t\tcallback.callbackMethod();\r\n    \t\treturn id;\r\n    \t}\r\n    }\r\n    class Callback {\r\n    \tprivate int i;\r\n    \tpublic Callback(int i){\r\n    \t\tthis.i = i;\r\n    \t}\r\n    \tpublic void callbackMethod(){\r\n    \t\tSystem.out.println(&quot;Call back:&quot;+i);\r\n    \t\t// Add your business logic\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    creating service\r\n    Callable:1:pool-1-thread-1\r\n    Call back:1\r\n    Callable:3:pool-1-thread-3\r\n    Callable:2:pool-1-thread-2\r\n    Call back:2\r\n    Callable:5:pool-1-thread-5\r\n    Call back:5\r\n    Call back:3\r\n    Callable:4:pool-1-thread-4\r\n    Call back:4\r\n\r\n\r\nKey notes:\r\n\r\n1. If you want process tasks in sequence in FIFO order, replace `newFixedThreadPool(5)`  with `newFixedThreadPool(1)` \r\n2. If you want to process next task after analysing the result from `callback` of previous task,just un-comment below line\r\n\r\n        //System.out.println(&quot;future status:&quot;+future.get()+&quot;:&quot;+future.isDone());\r\n\r\n3. You can replace `newFixedThreadPool()` with one of \r\n\r\n\t    Executors.newCachedThreadPool()\r\n        Executors.newWorkStealingPool()\r\n        ThreadPoolExecutor\r\n\r\n    depending on your use case. \r\n4. If you want to handle callback method asynchronously\r\n\r\n       a. Pass a shared `ExecutorService or  ThreadPoolExecutor` to Callable task\r\n \r\n       b. Convert your `Callable` method to `Callable/Runnable` task\r\n\r\n       c. Push callback task to  `ExecutorService or  ThreadPoolExecutor`","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Simple code to implement <code>Callback</code> mechanism using <code>ExecutorService</code></p>\n\n<pre><code>import java.util.concurrent.*;\nimport java.util.*;\n\npublic class CallBackDemo{\n    public CallBackDemo(){\n        System.out.println(\"creating service\");\n        ExecutorService service = Executors.newFixedThreadPool(5);\n\n        try{\n            for ( int i=0; i&lt;5; i++){\n                Callback callback = new Callback(i+1);\n                MyCallable myCallable = new MyCallable((long)i+1,callback);\n                Future&lt;Long&gt; future = service.submit(myCallable);\n                //System.out.println(\"future status:\"+future.get()+\":\"+future.isDone());\n            }\n        }catch(Exception err){\n            err.printStackTrace();\n        }\n        service.shutdown();\n    }\n    public static void main(String args[]){\n        CallBackDemo demo = new CallBackDemo();\n    }\n}\nclass MyCallable implements Callable&lt;Long&gt;{\n    Long id = 0L;\n    Callback callback;\n    public MyCallable(Long val,Callback obj){\n        this.id = val;\n        this.callback = obj;\n    }\n    public Long call(){\n        //Add your business logic\n        System.out.println(\"Callable:\"+id+\":\"+Thread.currentThread().getName());\n        callback.callbackMethod();\n        return id;\n    }\n}\nclass Callback {\n    private int i;\n    public Callback(int i){\n        this.i = i;\n    }\n    public void callbackMethod(){\n        System.out.println(\"Call back:\"+i);\n        // Add your business logic\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>creating service\nCallable:1:pool-1-thread-1\nCall back:1\nCallable:3:pool-1-thread-3\nCallable:2:pool-1-thread-2\nCall back:2\nCallable:5:pool-1-thread-5\nCall back:5\nCall back:3\nCallable:4:pool-1-thread-4\nCall back:4\n</code></pre>\n\n<p>Key notes:</p>\n\n<ol>\n<li>If you want process tasks in sequence in FIFO order, replace <code>newFixedThreadPool(5)</code>  with <code>newFixedThreadPool(1)</code> </li>\n<li><p>If you want to process next task after analysing the result from <code>callback</code> of previous task,just un-comment below line</p>\n\n<pre><code>//System.out.println(\"future status:\"+future.get()+\":\"+future.isDone());\n</code></pre></li>\n<li><p>You can replace <code>newFixedThreadPool()</code> with one of </p>\n\n<pre><code>Executors.newCachedThreadPool()\nExecutors.newWorkStealingPool()\nThreadPoolExecutor\n</code></pre>\n\n<p>depending on your use case. </p></li>\n<li><p>If you want to handle callback method asynchronously</p>\n\n<p>a. Pass a shared <code>ExecutorService or  ThreadPoolExecutor</code> to Callable task</p>\n\n<p>b. Convert your <code>Callable</code> method to <code>Callable/Runnable</code> task</p>\n\n<p>c. Push callback task to  <code>ExecutorService or  ThreadPoolExecutor</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5412976,"reputation":1,"user_id":4309095,"display_name":"Devesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662899929,"creation_date":1662899929,"answer_id":73679350,"question_id":826212,"body_markdown":"You can implement future tasks in java executors that returns the callback on the completion of the tasks.\r\n\r\n - Use callable for tasks instead of runnable\r\n - Can perform non related tasks when execution of threads are in progress asynchronously\r\n - Multiple tasks can be executed and can get result of each one\r\n\r\nFollwoing is the class that returns random integer values from a task and printed on main thread\r\n\r\n    public class ExecutorCallable {\r\n    \r\n        public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n    \r\n            //fix number of threads\r\n            //blocking queue-thread safe\r\n            ExecutorService service = Executors.newFixedThreadPool(100);\r\n    \r\n            //submit the tasks for execution\r\n            Future&lt;Integer&gt; result = service.submit(new Task());\r\n    \r\n            //*** perform some unrelated operations\r\n    \r\n            System.out.println(&quot;Result of submitted task is : &quot; + result.get());//blocks until the future is ready after completion\r\n    \r\n            System.out.println(&quot;Thread name &quot; + Thread.currentThread().getName());\r\n        }\r\n    \r\n        static class Task implements Callable&lt;Integer&gt; {\r\n    \r\n            @Override\r\n            public Integer call() throws Exception {\r\n                return new Random().nextInt();\r\n            }\r\n        }\r\n     }\r\n\r\n\r\nThe Output is:\r\n\r\n    Result of submitted task is : 16645418\r\n    Thread name main","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>You can implement future tasks in java executors that returns the callback on the completion of the tasks.</p>\n<ul>\n<li>Use callable for tasks instead of runnable</li>\n<li>Can perform non related tasks when execution of threads are in progress asynchronously</li>\n<li>Multiple tasks can be executed and can get result of each one</li>\n</ul>\n<p>Follwoing is the class that returns random integer values from a task and printed on main thread</p>\n<pre><code>public class ExecutorCallable {\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n\n        //fix number of threads\n        //blocking queue-thread safe\n        ExecutorService service = Executors.newFixedThreadPool(100);\n\n        //submit the tasks for execution\n        Future&lt;Integer&gt; result = service.submit(new Task());\n\n        //*** perform some unrelated operations\n\n        System.out.println(&quot;Result of submitted task is : &quot; + result.get());//blocks until the future is ready after completion\n\n        System.out.println(&quot;Thread name &quot; + Thread.currentThread().getName());\n    }\n\n    static class Task implements Callable&lt;Integer&gt; {\n\n        @Override\n        public Integer call() throws Exception {\n            return new Random().nextInt();\n        }\n    }\n }\n</code></pre>\n<p>The Output is:</p>\n<pre><code>Result of submitted task is : 16645418\nThread name main\n</code></pre>\n"}],"owner":{"account_id":19827,"reputation":10445,"user_id":46799,"accept_rate":69,"display_name":"Shahbaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167053,"favorite_count":0,"down_vote_count":0,"up_vote_count":191,"accepted_answer_id":826283,"answer_count":12,"score":191,"last_activity_date":1662899929,"creation_date":1241547236,"question_id":826212,"body_markdown":"Say I have a queue full of tasks which I need to submit to an executor service.  I want them processed one at a time.  The simplest way I can think of is to:\r\n\r\n1. Take a task from the queue\r\n2. Submit it to the executor\r\n3. Call .get on the returned Future and block until a result is available\r\n4. Take another task from the queue...\r\n\r\nHowever, I am trying to avoid blocking completely.  If I have 10,000 such queues, which need their tasks processed one at a time, I&#39;ll run out of stack space because most of them will be holding on to blocked threads.  \r\n\r\nWhat I would like is to submit a task and provide a call-back which is called when the task is complete.  I&#39;ll use that call-back notification as a flag to send the next task. (functionaljava and jetlang apparently use such non-blocking algorithms, but I can&#39;t understand their code)\r\n\r\nHow can I do that using JDK&#39;s java.util.concurrent, short of writing my own executor service?\r\n\r\n(the queue which feeds me these tasks may itself block, but that is an issue to be tackled later)","title":"Java executors: how to be notified, without blocking, when a task completes?","body":"<p>Say I have a queue full of tasks which I need to submit to an executor service.  I want them processed one at a time.  The simplest way I can think of is to:</p>\n\n<ol>\n<li>Take a task from the queue</li>\n<li>Submit it to the executor</li>\n<li>Call .get on the returned Future and block until a result is available</li>\n<li>Take another task from the queue...</li>\n</ol>\n\n<p>However, I am trying to avoid blocking completely.  If I have 10,000 such queues, which need their tasks processed one at a time, I'll run out of stack space because most of them will be holding on to blocked threads.  </p>\n\n<p>What I would like is to submit a task and provide a call-back which is called when the task is complete.  I'll use that call-back notification as a flag to send the next task. (functionaljava and jetlang apparently use such non-blocking algorithms, but I can't understand their code)</p>\n\n<p>How can I do that using JDK's java.util.concurrent, short of writing my own executor service?</p>\n\n<p>(the queue which feeds me these tasks may itself block, but that is an issue to be tackled later)</p>\n"},{"tags":["java","datetime","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662914464,"post_id":73678691,"comment_id":130111302,"body_markdown":"Don’t use `SimpleDateFormat`. It was a notoriously troublesome class and is fortunately long outdated. Use java.time, the modern java date and time API.","body":"Don’t use <code>SimpleDateFormat</code>. It was a notoriously troublesome class and is fortunately long outdated. Use java.time, the modern java date and time API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662914602,"post_id":73678691,"comment_id":130111327,"body_markdown":"Under the linked original question i am immodest enough to recommend [my own answer](https://stackoverflow.com/a/48205424/5772882).","body":"Under the linked original question i am immodest enough to recommend <a href=\"https://stackoverflow.com/a/48205424/5772882\">my own answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662894809,"creation_date":1662894809,"answer_id":73678782,"question_id":73678691,"body_markdown":"You need to use &quot;X&quot; 3 times for this format according the [docs][1].\r\n&gt; Offset X and x: This formats the offset based on the number of pattern letters. One letter outputs just the hour, such as &#39;+01&#39;, unless the minute is non-zero in which case the minute is also output, such as &#39;+0130&#39;. Two letters outputs the hour and minute, without a colon, such as &#39;+0130&#39;. Three letters outputs the hour and minute, with a colon, such as &#39;+01:30&#39;. Four letters outputs the hour and minute and optional second, without a colon, such as &#39;+013015&#39;. Five letters outputs the hour and minute and optional second, with a colon, such as &#39;+01:30:15&#39;. Six or more letters throws IllegalArgumentException. Pattern letter &#39;X&#39; (upper case) will output &#39;Z&#39; when the offset to be output would be zero, whereas pattern letter &#39;x&#39; (lower case) will output &#39;+00&#39;, &#39;+0000&#39;, or &#39;+00:00&#39;.\r\n\r\n    java.util.Date epoch = new java.text.SimpleDateFormat(&quot;E MMM dd hh:mm:ss XXX yyyy&quot;).parse(dateStr);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Unable to format string-date of format `Sun Apr 10 21:26:54 +05:30 2022` in java","body":"<p>You need to use &quot;X&quot; 3 times for this format according the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<blockquote>\n<p>Offset X and x: This formats the offset based on the number of pattern letters. One letter outputs just the hour, such as '+01', unless the minute is non-zero in which case the minute is also output, such as '+0130'. Two letters outputs the hour and minute, without a colon, such as '+0130'. Three letters outputs the hour and minute, with a colon, such as '+01:30'. Four letters outputs the hour and minute and optional second, without a colon, such as '+013015'. Five letters outputs the hour and minute and optional second, with a colon, such as '+01:30:15'. Six or more letters throws IllegalArgumentException. Pattern letter 'X' (upper case) will output 'Z' when the offset to be output would be zero, whereas pattern letter 'x' (lower case) will output '+00', '+0000', or '+00:00'.</p>\n</blockquote>\n<pre><code>java.util.Date epoch = new java.text.SimpleDateFormat(&quot;E MMM dd hh:mm:ss XXX yyyy&quot;).parse(dateStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662899488,"creation_date":1662899488,"answer_id":73679295,"question_id":73678691,"body_markdown":"`SimpleDateDormat` is very outdated and bug prone class. It is deprecated. I strongly recommend not to use it. (The same goes for class `Date`) Please switch to `java.time` package available since java 8. Read about and use class [DateTimeFormatter][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Unable to format string-date of format `Sun Apr 10 21:26:54 +05:30 2022` in java","body":"<p><code>SimpleDateDormat</code> is very outdated and bug prone class. It is deprecated. I strongly recommend not to use it. (The same goes for class <code>Date</code>) Please switch to <code>java.time</code> package available since java 8. Read about and use class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></p>\n"}],"owner":{"account_id":14595960,"reputation":7,"user_id":10770017,"display_name":"NothingIsIrrational"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662914558,"accepted_answer_id":73678782,"answer_count":2,"score":-1,"last_activity_date":1662899488,"creation_date":1662893927,"question_id":73678691,"body_markdown":"In java,\r\n\r\n**Unable to parse date-Strings of this format `Sun Apr 10 21:26:54 +05:30 2022`.**\r\n\r\nI am using `java.text.SimpleDateFormat` to parse this String.\r\n\r\nThe pattern that i&#39;m using : `E MMM dd hh:mm:ss X yyyy`\r\n\r\nI&#39;m mainly unable to work if the timezone (+05:30) is present before the year-value.\r\n\r\n`X` seems to work only if it is at the end of the String.\r\n\r\nI have tried `Z`, but it doesn&#39;t work.\r\n\r\nSample code :\r\n```\r\nString dateStr = &quot;Sun Apr 10 21:26:54 +05:30 2022&quot;;\r\njava.util.Date epoch = new java.text.SimpleDateFormat(&quot;E MMM dd hh:mm:ss X yyyy&quot;)\r\n                .parse(dateStr);\r\n```\r\n\r\nError im getting : \r\n\r\n```\r\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Sun Apr 10 21:26:54 +05:30 2022&quot;\r\n\tat java.text.DateFormat.parse(DateFormat.java:366)\r\n\tat com.company.ExifDataExtractor.main(ExifDataExtractor.java:51)\r\n\r\n```","title":"Unable to format string-date of format `Sun Apr 10 21:26:54 +05:30 2022` in java","body":"<p>In java,</p>\n<p><strong>Unable to parse date-Strings of this format <code>Sun Apr 10 21:26:54 +05:30 2022</code>.</strong></p>\n<p>I am using <code>java.text.SimpleDateFormat</code> to parse this String.</p>\n<p>The pattern that i'm using : <code>E MMM dd hh:mm:ss X yyyy</code></p>\n<p>I'm mainly unable to work if the timezone (+05:30) is present before the year-value.</p>\n<p><code>X</code> seems to work only if it is at the end of the String.</p>\n<p>I have tried <code>Z</code>, but it doesn't work.</p>\n<p>Sample code :</p>\n<pre><code>String dateStr = &quot;Sun Apr 10 21:26:54 +05:30 2022&quot;;\njava.util.Date epoch = new java.text.SimpleDateFormat(&quot;E MMM dd hh:mm:ss X yyyy&quot;)\n                .parse(dateStr);\n</code></pre>\n<p>Error im getting :</p>\n<pre><code>Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Sun Apr 10 21:26:54 +05:30 2022&quot;\n    at java.text.DateFormat.parse(DateFormat.java:366)\n    at com.company.ExifDataExtractor.main(ExifDataExtractor.java:51)\n\n</code></pre>\n"},{"tags":["java","android","string","text","format"],"answers":[{"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1297075238,"creation_date":1297075238,"answer_id":4920303,"question_id":4920228,"body_markdown":"I think writing this yourself instead of waiting for an answer here would be faster :-)\r\n\r\nYou could do something like (pseudocode):\r\n\r\n    StringBuilder out = new StringBuilder();\r\n    int j=0;\r\n    for (int i = 0; i&lt; mask.lenght ;  i++) {\r\n       if (mask[i] == &#39;X&#39;) {\r\n           out.append(producNumber[j];\r\n           j++;\r\n       }\r\n       else {\r\n           out.append(&#39;.&#39;);\r\n           i++;\r\n       }\r\n    }\r\n    return out.toString();","title":"Android - Format string with mask","body":"<p>I think writing this yourself instead of waiting for an answer here would be faster :-)</p>\n\n<p>You could do something like (pseudocode):</p>\n\n<pre><code>StringBuilder out = new StringBuilder();\nint j=0;\nfor (int i = 0; i&lt; mask.lenght ;  i++) {\n   if (mask[i] == 'X') {\n       out.append(producNumber[j];\n       j++;\n   }\n   else {\n       out.append('.');\n       i++;\n   }\n}\nreturn out.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662899196,"creation_date":1662899196,"answer_id":73679262,"question_id":4920228,"body_markdown":"for others who have the same problem, here is full solution:\r\n\r\n    public String getMaskedText(String rawText, String mask, char variableChar, char constChar) {\r\n        StringBuilder out = new StringBuilder();\r\n    \r\n        for (int i = 0, j = 0; i &lt; mask.length() &amp;&amp; j &lt; rawText.length(); i++) {\r\n            if (mask.charAt(i) == variableChar) {\r\n                out.append(rawText.charAt(j));\r\n                j++;\r\n            } else {\r\n                out.append(constChar);\r\n            }\r\n        }\r\n    \r\n        return out.toString();\r\n    }\r\n\r\nSo you can use it like this:\r\n\r\n    String result = getMaskedText(&quot;123456789&quot;, &quot;##-###-###&quot;,&#39;#&#39;,&#39;-&#39;);","title":"Android - Format string with mask","body":"<p>for others who have the same problem, here is full solution:</p>\n<pre><code>public String getMaskedText(String rawText, String mask, char variableChar, char constChar) {\n    StringBuilder out = new StringBuilder();\n\n    for (int i = 0, j = 0; i &lt; mask.length() &amp;&amp; j &lt; rawText.length(); i++) {\n        if (mask.charAt(i) == variableChar) {\n            out.append(rawText.charAt(j));\n            j++;\n        } else {\n            out.append(constChar);\n        }\n    }\n\n    return out.toString();\n}\n</code></pre>\n<p>So you can use it like this:</p>\n<pre><code>String result = getMaskedText(&quot;123456789&quot;, &quot;##-###-###&quot;,'#','-');\n</code></pre>\n"}],"owner":{"account_id":695182,"reputation":53,"user_id":574243,"display_name":"Janus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4559,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4920303,"answer_count":2,"score":5,"last_activity_date":1662899196,"creation_date":1297074714,"question_id":4920228,"body_markdown":"I have a product number which I would like to format using a mask.\r\n\r\nExample:\r\n\r\n    String productNumber = &quot;0913014316&quot;;\r\n    String mask = &quot;XX.XXX.XXX.XXX&quot;;\r\n\r\nHow do I get this following output: `09.13.014.316`?\r\n\r\nCan I use `String.format()`? Or maybe something else on the Android?\r\n\r\nThank you\r\n","title":"Android - Format string with mask","body":"<p>I have a product number which I would like to format using a mask.</p>\n\n<p>Example:</p>\n\n<pre><code>String productNumber = \"0913014316\";\nString mask = \"XX.XXX.XXX.XXX\";\n</code></pre>\n\n<p>How do I get this following output: <code>09.13.014.316</code>?</p>\n\n<p>Can I use <code>String.format()</code>? Or maybe something else on the Android?</p>\n\n<p>Thank you</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19019262,"reputation":31,"user_id":13883643,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594136110,"creation_date":1594136110,"answer_id":62778837,"question_id":62772913,"body_markdown":"Excluding &quot;test&quot; folder from jar packaging of the libModule solved this problem.  From my side, I&#39;m happy with this approach and no further details needed now.","title":"Boot layer java.lang.LayerInstantiationException when package exists in two modules","body":"<p>Excluding &quot;test&quot; folder from jar packaging of the libModule solved this problem.  From my side, I'm happy with this approach and no further details needed now.</p>\n"},{"tags":[],"owner":{"account_id":5464906,"reputation":1,"user_id":4345995,"display_name":"MOHK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662898633,"creation_date":1662898633,"answer_id":73679196,"question_id":62772913,"body_markdown":"I was running with following command to run the module app:\r\n\r\n    D:\\work\\mymodapp&gt; java --module-path appmodules --module appstart/appstart.mymodappdemo.MyModAppDemo\r\n    \r\n    Error occurred during initialization of boot layer\r\n    java.lang.LayerInstantiationException: Package appstart.mymodappdemo in both module appstart and module appfuncs\r\n\r\nthis was error caused, I resolved it with this command:\r\n\r\n    D:\\work\\mymodapp&gt;java --module-path appmodules -m appfuncs/appstart.mymodappdemo.MyModAppDemo\r\n    2 is factor of 10\r\n    Simple factor common to both 35 and 105 is: 5\r\n    Largest factor common to both 35 and 105 is: 35\r\n\r\nI followed java complete reference 11e, there was mistake there and corrected it this way:\r\n\r\nYou need to create 2 modules:\r\n[Directory structure for simple modules][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A67aT.png\r\n\r\n    D:\\work\\mymodapp&gt;javac -d appmodules\\appfuncs appsrc\\appfuncs\\appfuncs\\simplefuncs\\SimpleMathFuncs.java\r\n    \r\n    D:\\work\\mymodapp&gt;javac -d appmodules\\appfuncs appsrc\\appfuncs\\module-info.java\r\n    \r\n    D:\\work\\mymodapp&gt;javac --module-path appmodules -d appmodules\\appstart appsrc\\appstart\\module-info.java appsrc\\appstart\\appstart\\mymodappdemo\\MyModAppDemo.java\r\n    \r\n    D:\\work\\mymodapp&gt;java --module-path appmodules -m appfuncs/appstart.mymodappdemo.MyModAppDemo\r\n\r\nCode:\r\n//MyModAppDemo.java:\r\n\r\n    package appstart.mymodappdemo;\r\n    \r\n    \r\n    import appfuncs.simplefuncs.SimpleMathFuncs;\r\n    \r\n    public class MyModAppDemo {\r\n    \t\tpublic static void main(String[] args){\r\n    \t\t\tif(SimpleMathFuncs.isFactor(2, 10)){\r\n    \t\t\t\tSystem.out.println(&quot;2 is factor of 10&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Simple factor common to both 35 and 105 is: &quot;+SimpleMathFuncs.lcf(35, 105));\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Largest factor common to both 35 and 105 is: &quot;+SimpleMathFuncs.gcf(35, 105));\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    }\r\n\r\n------------------------------------------------------\r\n\r\n    //SimpleMathFuncs.java:\r\n    \r\n    package appfuncs.simplefuncs;\r\n    \r\n    public class SimpleMathFuncs {\r\n    \t//Determine if a is factor of b\r\n    \tpublic static boolean isFactor(int a, int b){\r\n    \t\tif((b % a) == 0) return true;\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic static int lcf(int a, int b){\r\n    \t\t//factor using positive values:\r\n    \t\ta = Math.abs(a);\r\n    \t\tb = Math.abs(b);\r\n    \t\t\r\n    \t\tint min = a &lt; b ? a : b;\r\n    \t\t\r\n    \t\tfor(int i = 2;i &lt;= min/2; i++ ){\r\n    \t\t\tif(isFactor(i, a) &amp;&amp; isFactor(i, b))\r\n    \t\t\t\treturn i;\r\n    \t\t}\r\n    \t\treturn 1;\r\n    \t}\r\n    \t\r\n    \tpublic static int gcf(int a, int b){\r\n    \t\t//factor using positive values:\r\n    \t\ta = Math.abs(a);\r\n    \t\tb = Math.abs(b);\r\n    \t\t\r\n    \t\tint min = a &lt; b ? a : b;\r\n    \t\t\r\n    \t\tfor(int i = min/2;i &gt;= 2; i++ ){\r\n    \t\t\tif(isFactor(i, a) &amp;&amp; isFactor(i, b))\r\n    \t\t\t\treturn i;\r\n    \t\t}\r\n    \t\treturn 1;\r\n    \t}\r\n    }\r\n\r\n-----------------------------------------------------------\r\n//module-info.java, at appstart module:\r\n\r\n    module appstart {\r\n    \t//Requires the module appfuncs\r\n    \trequires appfuncs;\r\n    }\r\n-----------------------------------------------------------\r\n    //module-info.java, at appfuncs module:\r\n\r\n    module appfuncs {\r\n        \t//Exports the package appfuncs.simplefuncs\r\n        \texports appfuncs.simplefuncs;\r\n        }\r\n\r\nHopefully this complete example helps.\r\n","title":"Boot layer java.lang.LayerInstantiationException when package exists in two modules","body":"<p>I was running with following command to run the module app:</p>\n<pre><code>D:\\work\\mymodapp&gt; java --module-path appmodules --module appstart/appstart.mymodappdemo.MyModAppDemo\n\nError occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package appstart.mymodappdemo in both module appstart and module appfuncs\n</code></pre>\n<p>this was error caused, I resolved it with this command:</p>\n<pre><code>D:\\work\\mymodapp&gt;java --module-path appmodules -m appfuncs/appstart.mymodappdemo.MyModAppDemo\n2 is factor of 10\nSimple factor common to both 35 and 105 is: 5\nLargest factor common to both 35 and 105 is: 35\n</code></pre>\n<p>I followed java complete reference 11e, there was mistake there and corrected it this way:</p>\n<p>You need to create 2 modules:\n<a href=\"https://i.stack.imgur.com/A67aT.png\" rel=\"nofollow noreferrer\">Directory structure for simple modules</a></p>\n<pre><code>D:\\work\\mymodapp&gt;javac -d appmodules\\appfuncs appsrc\\appfuncs\\appfuncs\\simplefuncs\\SimpleMathFuncs.java\n\nD:\\work\\mymodapp&gt;javac -d appmodules\\appfuncs appsrc\\appfuncs\\module-info.java\n\nD:\\work\\mymodapp&gt;javac --module-path appmodules -d appmodules\\appstart appsrc\\appstart\\module-info.java appsrc\\appstart\\appstart\\mymodappdemo\\MyModAppDemo.java\n\nD:\\work\\mymodapp&gt;java --module-path appmodules -m appfuncs/appstart.mymodappdemo.MyModAppDemo\n</code></pre>\n<p>Code:\n//MyModAppDemo.java:</p>\n<pre><code>package appstart.mymodappdemo;\n\n\nimport appfuncs.simplefuncs.SimpleMathFuncs;\n\npublic class MyModAppDemo {\n        public static void main(String[] args){\n            if(SimpleMathFuncs.isFactor(2, 10)){\n                System.out.println(&quot;2 is factor of 10&quot;);\n            }\n            \n            System.out.println(&quot;Simple factor common to both 35 and 105 is: &quot;+SimpleMathFuncs.lcf(35, 105));\n            \n            System.out.println(&quot;Largest factor common to both 35 and 105 is: &quot;+SimpleMathFuncs.gcf(35, 105));\n            \n        }\n\n}\n</code></pre>\n<hr />\n<pre><code>//SimpleMathFuncs.java:\n\npackage appfuncs.simplefuncs;\n\npublic class SimpleMathFuncs {\n    //Determine if a is factor of b\n    public static boolean isFactor(int a, int b){\n        if((b % a) == 0) return true;\n        return false;\n    }\n    \n    public static int lcf(int a, int b){\n        //factor using positive values:\n        a = Math.abs(a);\n        b = Math.abs(b);\n        \n        int min = a &lt; b ? a : b;\n        \n        for(int i = 2;i &lt;= min/2; i++ ){\n            if(isFactor(i, a) &amp;&amp; isFactor(i, b))\n                return i;\n        }\n        return 1;\n    }\n    \n    public static int gcf(int a, int b){\n        //factor using positive values:\n        a = Math.abs(a);\n        b = Math.abs(b);\n        \n        int min = a &lt; b ? a : b;\n        \n        for(int i = min/2;i &gt;= 2; i++ ){\n            if(isFactor(i, a) &amp;&amp; isFactor(i, b))\n                return i;\n        }\n        return 1;\n    }\n}\n</code></pre>\n<hr />\n<p>//module-info.java, at appstart module:</p>\n<pre><code>module appstart {\n    //Requires the module appfuncs\n    requires appfuncs;\n}\n</code></pre>\n<hr />\n<pre><code>//module-info.java, at appfuncs module:\n\nmodule appfuncs {\n        //Exports the package appfuncs.simplefuncs\n        exports appfuncs.simplefuncs;\n    }\n</code></pre>\n<p>Hopefully this complete example helps.</p>\n"}],"owner":{"account_id":19019262,"reputation":31,"user_id":13883643,"display_name":"Sachin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662898633,"creation_date":1594116729,"question_id":62772913,"body_markdown":"Getting below error while running main application or JUnit5 test case -\r\n\r\n&quot;**Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package test in both module mainAppModule and libModule**&quot;\r\n\r\nThis error is reported when &quot;resources&quot; folder has a **non-empty** &quot;**test**&quot; folder under it.  If &quot;**test**&quot; folder is **empty**, or **doesnt exist**, this **error** is **not reported**.\r\n\r\nSetup is:\r\n1) Env - Windows 10, OpenJDK 13, Eclipse 2020-03, Maven is 3.6.3.\r\n2) libModule has src/main/java and src/test/java folders.  &quot;resources&quot; folder is at the level of &quot;src&quot; folder.\r\n3) &quot;resources&quot; folder has properties.xml file.\r\n4) libModule has a dummy main class.  It refers properties file from &quot;resources&quot; and works correctly.  \r\n5) libModule has JUnit5 test class too.  properties.xml for JUnit5 test case is kept under &quot;resource/test&quot; folder.  This JUnit5 test case runs correctly.\r\n\r\nThings are good upto this point.  Lets look at setup of main app module.\r\n\r\nmainAppModule uses libModule.  module-info.java of mainAppModule contains &quot;requires libModule&quot;.  mainAppModule has same setup of src, test and resources folder as that of libModule, ie &quot;src/main/java&quot; for java source, &quot;src/test/java&quot; for JUnit5 test cases and &quot;resources&quot; for resource files.\r\n\r\nmain app in mainAppModule populates properties from xml file under its &quot;resources&quot; folder and invokes libModule class.  This works when &quot;test&quot; folder doesnt exist under &quot;resources&quot; or even if exists, it is empty.\r\n\r\nAs soon as non-empty &quot;test&quot; folder is created under &quot;resources&quot; folder, above error is reported.  \r\n\r\nLike main app, JUnit5 test case from mainAppModule fails for the exact same reason.  Test case too succeeds if &quot;test&quot; folder doesnt exist under &quot;resources&quot; or if exists, it is empty.\r\n\r\nAbove error is reported even before hitting main () method.  Questions are:\r\n1) What&#39;s wrong with non-empty &quot;test&quot; folder under &quot;resources&quot;?\r\n2) How to debug such scenario where exception occurs before reaching main ()?\r\n\r\nWorkaround to this is to use any folder name other than &quot;test&quot;.   Functionality works correctly if &quot;test&quot; is renamed to anything else.  \r\n","title":"Boot layer java.lang.LayerInstantiationException when package exists in two modules","body":"<p>Getting below error while running main application or JUnit5 test case -</p>\n<p>&quot;<strong>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package test in both module mainAppModule and libModule</strong>&quot;</p>\n<p>This error is reported when &quot;resources&quot; folder has a <strong>non-empty</strong> &quot;<strong>test</strong>&quot; folder under it.  If &quot;<strong>test</strong>&quot; folder is <strong>empty</strong>, or <strong>doesnt exist</strong>, this <strong>error</strong> is <strong>not reported</strong>.</p>\n<p>Setup is:</p>\n<ol>\n<li>Env - Windows 10, OpenJDK 13, Eclipse 2020-03, Maven is 3.6.3.</li>\n<li>libModule has src/main/java and src/test/java folders.  &quot;resources&quot; folder is at the level of &quot;src&quot; folder.</li>\n<li>&quot;resources&quot; folder has properties.xml file.</li>\n<li>libModule has a dummy main class.  It refers properties file from &quot;resources&quot; and works correctly.</li>\n<li>libModule has JUnit5 test class too.  properties.xml for JUnit5 test case is kept under &quot;resource/test&quot; folder.  This JUnit5 test case runs correctly.</li>\n</ol>\n<p>Things are good upto this point.  Lets look at setup of main app module.</p>\n<p>mainAppModule uses libModule.  module-info.java of mainAppModule contains &quot;requires libModule&quot;.  mainAppModule has same setup of src, test and resources folder as that of libModule, ie &quot;src/main/java&quot; for java source, &quot;src/test/java&quot; for JUnit5 test cases and &quot;resources&quot; for resource files.</p>\n<p>main app in mainAppModule populates properties from xml file under its &quot;resources&quot; folder and invokes libModule class.  This works when &quot;test&quot; folder doesnt exist under &quot;resources&quot; or even if exists, it is empty.</p>\n<p>As soon as non-empty &quot;test&quot; folder is created under &quot;resources&quot; folder, above error is reported.</p>\n<p>Like main app, JUnit5 test case from mainAppModule fails for the exact same reason.  Test case too succeeds if &quot;test&quot; folder doesnt exist under &quot;resources&quot; or if exists, it is empty.</p>\n<p>Above error is reported even before hitting main () method.  Questions are:</p>\n<ol>\n<li>What's wrong with non-empty &quot;test&quot; folder under &quot;resources&quot;?</li>\n<li>How to debug such scenario where exception occurs before reaching main ()?</li>\n</ol>\n<p>Workaround to this is to use any folder name other than &quot;test&quot;.   Functionality works correctly if &quot;test&quot; is renamed to anything else.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"score":0,"creation_date":1662897969,"post_id":73679103,"comment_id":130108084,"body_markdown":"This is the result I got!","body":"This is the result I got!"},{"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"score":0,"creation_date":1662897988,"post_id":73679103,"comment_id":130108086,"body_markdown":"[1, 2]\n[[1, 2]]\n[[3], [3]]","body":"[1, 2] [[1, 2]] [[3], [3]]"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1662898349,"post_id":73679103,"comment_id":130108157,"body_markdown":"You&#39;ve added an object to the wList ArrayList, and then *modify* the same object added. Your result is not surprising in this light. If you want a new ArrayList,  you must first create a ***new*** ArrayList. So not, `sList.clear();` but rather `sList = new ArrayList&lt;String&gt;();`","body":"You&#39;ve added an object to the wList ArrayList, and then <i>modify</i> the same object added. Your result is not surprising in this light. If you want a new ArrayList,  you must first create a <b><i>new</i></b> ArrayList. So not, <code>sList.clear();</code> but rather <code>sList = new ArrayList&lt;String&gt;();</code>"},{"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"score":0,"creation_date":1662901246,"post_id":73679103,"comment_id":130108730,"body_markdown":"It works, Thanks a lot! Below is my new code.","body":"It works, Thanks a lot! Below is my new code."},{"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"score":0,"creation_date":1662901443,"post_id":73679103,"comment_id":130108778,"body_markdown":"public static void main(String[] args) {\t\t\n\t\tArrayList&lt;ArrayList&lt;String&gt;&gt; wList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\t\tArrayList&lt;String&gt; sList;\n\t\tfor (int i=0; i&lt;10; i++) {\n\t\t\tsList = new ArrayList&lt;String&gt;();\n\t\t\tsList.add(String.valueOf(i));\t\t\t\t\t\n\t\t\twList.add(sList);\t\n\t\t}\n\t\tSystem.out.println(wList);\n\t}","body":"public static void main(String[] args) {\t\t \t\tArrayList&lt;ArrayList&lt;String&gt;&gt; wList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;(); \t\tArrayList&lt;String&gt; sList; \t\tfor (int i=0; i&lt;10; i++) { \t\t\tsList = new ArrayList&lt;String&gt;(); \t\t\tsList.add(String.valueOf(i));\t\t\t\t\t \t\t\twList.add(sList);\t \t\t} \t\tSystem.out.println(wList); \t}"},{"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"score":0,"creation_date":1662901700,"post_id":73679103,"comment_id":130108838,"body_markdown":"[[0], [1], [2], [3], [4], [5], [6], [7], [8], [9]]","body":"[[0], [1], [2], [3], [4], [5], [6], [7], [8], [9]]"}],"owner":{"account_id":26305333,"reputation":1,"user_id":19969937,"display_name":"Frankie Chiu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662898278,"answer_count":0,"score":0,"last_activity_date":1662898497,"creation_date":1662897831,"question_id":73679103,"body_markdown":"Below is my java code, but eventually I&#39;m going to create 2-D ArrayList in for-loop, that&#39;s why I test it first to use same ArrayList(sList). \r\n\r\n```\r\npackage fc;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AppendList03 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;ArrayList&lt;String&gt;&gt; wList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\t\tArrayList&lt;String&gt; sList = new ArrayList&lt;String&gt;();\r\n\t\tsList.add(&quot;1&quot;);\r\n\t\tsList.add(&quot;2&quot;);\t\t\r\n\t\tSystem.out.println(sList); \r\n\t\t\r\n\t\twList.add(sList);\r\n\t\tSystem.out.println(wList);\r\n\t\t\r\n\t\tsList.clear();\r\n\t\tsList.add(&quot;3&quot;);\r\n\t\twList.add(sList);\r\n\t\tSystem.out.println(wList);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"I&#39;m trying to add ArrayList twice(with different content) to 2-D ArrayList, but 2-D ArrayList got same content?","body":"<p>Below is my java code, but eventually I'm going to create 2-D ArrayList in for-loop, that's why I test it first to use same ArrayList(sList).</p>\n<pre><code>package fc;\n\nimport java.util.ArrayList;\n\npublic class AppendList03 {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;ArrayList&lt;String&gt;&gt; wList = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n        ArrayList&lt;String&gt; sList = new ArrayList&lt;String&gt;();\n        sList.add(&quot;1&quot;);\n        sList.add(&quot;2&quot;);     \n        System.out.println(sList); \n        \n        wList.add(sList);\n        System.out.println(wList);\n        \n        sList.clear();\n        sList.add(&quot;3&quot;);\n        wList.add(sList);\n        System.out.println(wList);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","servlet-filters","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662897991,"creation_date":1662897991,"answer_id":73679124,"question_id":73617497,"body_markdown":"Asynchronous dispatch cannot be disabled with a simple property and it is not advised, as GraphQL Java uses the `AsyncExecutionStrategy` by default. I&#39;d say this is quite central in a GraphQL approach, where parts of the schema can be resolved from multiple sources (data stores, web APIs, etc) and the engine optimizes that.\r\n\r\nIf you&#39;re getting this error, this means you&#39;ve configured a custom filter that is not configured for async support (and still mapped for ASYNC dispatch). In general, you should review your entire filters/Servlet/container arrangement to check for that. Ideally, you could start from a new https://start.spring.io and add custom filters and config one by one.\r\n","title":"Enable or disable async mode in Spring for GraphQL (WebMvc)","body":"<p>Asynchronous dispatch cannot be disabled with a simple property and it is not advised, as GraphQL Java uses the <code>AsyncExecutionStrategy</code> by default. I'd say this is quite central in a GraphQL approach, where parts of the schema can be resolved from multiple sources (data stores, web APIs, etc) and the engine optimizes that.</p>\n<p>If you're getting this error, this means you've configured a custom filter that is not configured for async support (and still mapped for ASYNC dispatch). In general, you should review your entire filters/Servlet/container arrangement to check for that. Ideally, you could start from a new <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> and add custom filters and config one by one.</p>\n"}],"owner":{"account_id":23182820,"reputation":43,"user_id":17280412,"display_name":"Stephan Prat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73679124,"answer_count":1,"score":1,"last_activity_date":1662897991,"creation_date":1662445133,"question_id":73617497,"body_markdown":"Using `org.springframework.boot:spring-boot-starter-graphql` and WebMvc, I have the following error while running the query:\r\n`Caused by: java.lang.IllegalStateException: Async support must be enabled on a servlet and for all filters involved in async request processing. This is done in Java code using the Servlet API or by adding &quot;&lt;async-supported&gt;true&lt;/async-supported&gt;&quot; to servlet and filter declarations in web.xml.`\r\n\r\n 1. Can we disable async mode in Spring for GraphQL?\r\n 2. In case not, how to enable `async-supported` in Spring for the GraphQL endpoint?","title":"Enable or disable async mode in Spring for GraphQL (WebMvc)","body":"<p>Using <code>org.springframework.boot:spring-boot-starter-graphql</code> and WebMvc, I have the following error while running the query:\n<code>Caused by: java.lang.IllegalStateException: Async support must be enabled on a servlet and for all filters involved in async request processing. This is done in Java code using the Servlet API or by adding &quot;&lt;async-supported&gt;true&lt;/async-supported&gt;&quot; to servlet and filter declarations in web.xml.</code></p>\n<ol>\n<li>Can we disable async mode in Spring for GraphQL?</li>\n<li>In case not, how to enable <code>async-supported</code> in Spring for the GraphQL endpoint?</li>\n</ol>\n"},{"tags":["java","netbeans","scenebuilder","gluon-desktop"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1511364923,"post_id":47438327,"comment_id":81831640,"body_markdown":"Find out the path where you have installed Gluon Scene Builder and make sure that NetBeans (8.2?) options point to it.","body":"Find out the path where you have installed Gluon Scene Builder and make sure that NetBeans (8.2?) options point to it."},{"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"score":1,"creation_date":1511748930,"post_id":47438327,"comment_id":81961967,"body_markdown":"Gluon is definitely installed in the /opt/SceneBuilder directory. Still, it doenst&#39;t open from within NetBeans. Running /opt/SceneBuilder/SceneBuilder from the command line runs it smoothly ...","body":"Gluon is definitely installed in the /opt/SceneBuilder directory. Still, it doenst&#39;t open from within NetBeans. Running /opt/SceneBuilder/SceneBuilder from the command line runs it smoothly ..."},{"owner":{"account_id":3527550,"reputation":14141,"user_id":2948212,"accept_rate":56,"display_name":"diegosasw"},"score":0,"creation_date":1612459175,"post_id":47438327,"comment_id":116779892,"body_markdown":"Having the same problem with NetBeans and Scene Builder in Ubuntu. My installation is also in /opt/SceneBuilder but Netbeans does not like that path. Did you figure it out? (I know it was ages ago though)","body":"Having the same problem with NetBeans and Scene Builder in Ubuntu. My installation is also in /opt/SceneBuilder but Netbeans does not like that path. Did you figure it out? (I know it was ages ago though)"}],"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662897242,"creation_date":1511364298,"question_id":47438327,"body_markdown":"I have installed the Gluon Scene Builder in Ubuntu 17.04, to use it with NetBeans. \r\n\r\nGluon works normally outside NetBeans and the Oracle Scene Builder also worked fine before installing Gluon. \r\n\r\nAfter installing Gluon, the right-click option on the fxml file still has the option &quot;Open&quot;, but clicking on it doesn&#39;t open the Gluon Scene Builder. \r\n\r\nIn the System Monitor, I can see that the process is actually running, but inside NetBeans, the Gluon Window does not open. Killing the process and clicking on the Scene Builder icon the application list (outside NetBeans) does open Gluon. \r\n\r\nThere are no error messages. \r\n\r\nIn NetBeans options, the Scene Builder Home is defined as Default (opt/SceneBuilder). This seems to be correct, since the process in the System Monitor points to this location. \r\n\r\nAny idea what I am missing? A hint would be appreciated. \r\n\r\nThis is the stacktrace :\r\n\r\n\r\n    INFO: Start exploring JAR /home/rainer/.scenebuilder/Library/charm-0.0.2.jar\r\n    nov 26, 2017 11:14:03 PM com.oracle.javafx.scenebuilder.app.SceneBuilderApp$SceneBuilderUncaughtExceptionHandler uncaughtException\r\n    SEVERE: An exception was thrown:\r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89)\r\n\tat java.util.Collections$UnmodifiableList.get(Collections.java:1309)\r\n\tat com.oracle.javafx.scenebuilder.app.SceneBuilderApp.lambda$handleLaunch$5(SceneBuilderApp.java:409)\r\n\tat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.exploreAndUpdateLibrary(LibraryFolderWatcher.java:356)\r\n\tat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.runDiscovery(LibraryFolderWatcher.java:138)\r\n\tat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.run(LibraryFolderWatcher.java:92)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n    nov 26, 2017 11:14:06 PM com.oracle.javafx.scenebuilder.app.SceneBuilderApp logTimestamp\r\n    INFO: JavaFX Scene Builder started\r\n","title":"Gluon Scene Builder installed but not opening in NetBeans","body":"<p>I have installed the Gluon Scene Builder in Ubuntu 17.04, to use it with NetBeans. </p>\n\n<p>Gluon works normally outside NetBeans and the Oracle Scene Builder also worked fine before installing Gluon. </p>\n\n<p>After installing Gluon, the right-click option on the fxml file still has the option \"Open\", but clicking on it doesn't open the Gluon Scene Builder. </p>\n\n<p>In the System Monitor, I can see that the process is actually running, but inside NetBeans, the Gluon Window does not open. Killing the process and clicking on the Scene Builder icon the application list (outside NetBeans) does open Gluon. </p>\n\n<p>There are no error messages. </p>\n\n<p>In NetBeans options, the Scene Builder Home is defined as Default (opt/SceneBuilder). This seems to be correct, since the process in the System Monitor points to this location. </p>\n\n<p>Any idea what I am missing? A hint would be appreciated. </p>\n\n<p>This is the stacktrace :</p>\n\n<pre><code>INFO: Start exploring JAR /home/rainer/.scenebuilder/Library/charm-0.0.2.jar\nnov 26, 2017 11:14:03 PM com.oracle.javafx.scenebuilder.app.SceneBuilderApp$SceneBuilderUncaughtExceptionHandler uncaughtException\nSEVERE: An exception was thrown:\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\nat java.util.ArrayList.rangeCheck(ArrayList.java:653)\nat java.util.ArrayList.get(ArrayList.java:429)\nat com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89)\nat java.util.Collections$UnmodifiableList.get(Collections.java:1309)\nat com.oracle.javafx.scenebuilder.app.SceneBuilderApp.lambda$handleLaunch$5(SceneBuilderApp.java:409)\nat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.exploreAndUpdateLibrary(LibraryFolderWatcher.java:356)\nat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.runDiscovery(LibraryFolderWatcher.java:138)\nat com.oracle.javafx.scenebuilder.kit.library.user.LibraryFolderWatcher.run(LibraryFolderWatcher.java:92)\nat java.lang.Thread.run(Thread.java:748)\n\nnov 26, 2017 11:14:06 PM com.oracle.javafx.scenebuilder.app.SceneBuilderApp logTimestamp\nINFO: JavaFX Scene Builder started\n</code></pre>\n"},{"tags":["java","android","components","custom-component"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662728398,"post_id":73655628,"comment_id":130079370,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"score":0,"creation_date":1662839914,"post_id":73655628,"comment_id":130100618,"body_markdown":"I&#39;m just looking for a button like in the picture.\n\n\n```\n\n&lt;Button\n                android:id=&quot;@+id/button&quot;\n                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:backgroundTint=&quot;@android: color/transparent&quot;\n                android: gravity=&quot;center_vertical&quot;\n                android:text=&quot;על סמך הפעילות האחרונה שלך&quot;\n                android:textColor=&quot;#000000&quot;\n                android:textSize=&quot;20sp&quot; /&gt;\n\n```","body":"I&#39;m just looking for a button like in the picture.   ```  &lt;Button                 android:id=&quot;@+id/button&quot;                 style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;                 android:layout_width=&quot;match_parent&quot;                 android:layout_height=&quot;wrap_content&quot;                 android:backgroundTint=&quot;@android: color/transparent&quot;                 android: gravity=&quot;center_vertical&quot;                 android:text=&quot;על סמך הפעילות האחרונה שלך&quot;                 android:textColor=&quot;#000000&quot;                 android:textSize=&quot;20sp&quot; /&gt;  ```"}],"answers":[{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662770975,"creation_date":1662770975,"answer_id":73668590,"question_id":73655628,"body_markdown":"Your question is not so clear, but here is [how you can create custom or style Button][1]\r\n\r\n\r\n  [1]: https://www.google.com/amp/s/mobikul.com/styling-and-theming-in-android/amp/","title":"Is there a button component with a transparent background or can you create one?","body":"<p>Your question is not so clear, but here is <a href=\"https://www.google.com/amp/s/mobikul.com/styling-and-theming-in-android/amp/\" rel=\"nofollow noreferrer\">how you can create custom or style Button</a></p>\n"},{"tags":[],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662896767,"creation_date":1662896438,"answer_id":73678954,"question_id":73655628,"body_markdown":"I succeeded.\r\nThe solution is:\r\n\r\nxml(button_category_template):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Button\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n    android:textSize=&quot;20sp&quot;\r\n     /&gt;\r\n\r\njava(MainActivity):\r\n\r\n    public class startActivity extends AppCompatActivity{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_start);\r\n\r\n        Button btn = (Button)getLayoutInflater().inflate(R.layout.button_category_template, null);\r\n        lnr = findViewById(R.id.layoutApp);\r\n            lnr.addView(btn);\r\n       }\r\n    }\r\n\r\n\r\nIt may be possible to do it in a simpler way, but in my project I used it this way.","title":"Is there a button component with a transparent background or can you create one?","body":"<p>I succeeded.\nThe solution is:</p>\n<p>xml(button_category_template):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Button\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nstyle=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:gravity=&quot;center_vertical&quot;\nandroid:textColor=&quot;#000000&quot;\nandroid:textSize=&quot;20sp&quot;\n /&gt;\n</code></pre>\n<p>java(MainActivity):</p>\n<pre><code>public class startActivity extends AppCompatActivity{\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_start);\n\n    Button btn = (Button)getLayoutInflater().inflate(R.layout.button_category_template, null);\n    lnr = findViewById(R.id.layoutApp);\n        lnr.addView(btn);\n   }\n}\n</code></pre>\n<p>It may be possible to do it in a simpler way, but in my project I used it this way.</p>\n"}],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1662896767,"creation_date":1662676751,"question_id":73655628,"body_markdown":"I&#39;m looking for a button just like this (transparent background and when clicked it becomes gray):[Image of the component][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hBw3T.png","title":"Is there a button component with a transparent background or can you create one?","body":"<p>I'm looking for a button just like this (transparent background and when clicked it becomes gray):<a href=\"https://i.stack.imgur.com/hBw3T.png\" rel=\"nofollow noreferrer\">Image of the component</a></p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1662894184,"post_id":73678699,"comment_id":130107418,"body_markdown":"`if (n == 0) return 1` ?","body":"<code>if (n == 0) return 1</code> ?"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1662895400,"post_id":73678699,"comment_id":130107649,"body_markdown":"Why is this tagged with `dsa`?","body":"Why is this tagged with <code>dsa</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662896215,"creation_date":1662895742,"answer_id":73678879,"question_id":73678699,"body_markdown":"This is an understandable issue. On the one hand we have the case where a single digit is passed as `n`, and then the recursive call for `n/10` should return 0 (as it does now).\r\n\r\nOn the other hand, if the value `n` is 0 *from the start*, it should return 1.\r\n\r\nThis is a contradiction that you can solve by making 0 a special case in the `main` program. But this is solved more elegantly by stopping the recursion *one step earlier*, so not when all digits are gone, but when there is *one* digit. This you can implement by changing:\r\n\r\n    if(n==0)\r\n        return n;\r\n\r\n...to:\r\n\r\n    if(n&lt;10)  // Only 1 digit?\r\n        return 1;\r\n\r\nThis way the function can never return 0, so even for 0 it will return 1.\r\n\r\n\r\n### Remark\r\n\r\nIt is bit overkill to have the `count` variable. You can just add 1 to what the recursive call returns:\r\n\r\n    return 1 + countDigits(n/10);\r\n\r\nWith a conditional operator, both the base case and the recursive case can be combined in one expression:\r\n\r\n    public static int countDigits(int n)\r\n    {\r\n        return n &lt; 10 ? 1 : 1 + countDigits(n/10);\r\n    }","title":"Count Total Digits in a Number useing recursion and when n is 0 then count it&#39;s and print 1 . and my question is how to count 0 as digits and print 1?","body":"<p>This is an understandable issue. On the one hand we have the case where a single digit is passed as <code>n</code>, and then the recursive call for <code>n/10</code> should return 0 (as it does now).</p>\n<p>On the other hand, if the value <code>n</code> is 0 <em>from the start</em>, it should return 1.</p>\n<p>This is a contradiction that you can solve by making 0 a special case in the <code>main</code> program. But this is solved more elegantly by stopping the recursion <em>one step earlier</em>, so not when all digits are gone, but when there is <em>one</em> digit. This you can implement by changing:</p>\n<pre><code>if(n==0)\n    return n;\n</code></pre>\n<p>...to:</p>\n<pre><code>if(n&lt;10)  // Only 1 digit?\n    return 1;\n</code></pre>\n<p>This way the function can never return 0, so even for 0 it will return 1.</p>\n<h3>Remark</h3>\n<p>It is bit overkill to have the <code>count</code> variable. You can just add 1 to what the recursive call returns:</p>\n<pre><code>return 1 + countDigits(n/10);\n</code></pre>\n<p>With a conditional operator, both the base case and the recursive case can be combined in one expression:</p>\n<pre><code>public static int countDigits(int n)\n{\n    return n &lt; 10 ? 1 : 1 + countDigits(n/10);\n}\n</code></pre>\n"}],"owner":{"account_id":25529747,"reputation":1,"user_id":19318009,"display_name":"Saiyed Mohammad Adnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662896215,"creation_date":1662893997,"question_id":73678699,"body_markdown":"    public class CountNumberRecursion \r\n    {\r\n    \t\r\n        public static int countDigits(int n)\r\n    \t{\r\n    \t\tint count=0;\r\n    \t\t\r\n    \t\tif(n==0)\r\n    \t    \treturn n;\r\n    \t\t\r\n    \t\treturn ++count + countDigits(n/10);\r\n        }\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t System.out.println(countDigits(0));\r\n    \t}\r\n    \r\n    }\r\n\r\nIn this example run, I want to count 0 as digits and print 1 in output, but it prints 0.\r\n","title":"Count Total Digits in a Number useing recursion and when n is 0 then count it&#39;s and print 1 . and my question is how to count 0 as digits and print 1?","body":"<pre><code>public class CountNumberRecursion \n{\n    \n    public static int countDigits(int n)\n    {\n        int count=0;\n        \n        if(n==0)\n            return n;\n        \n        return ++count + countDigits(n/10);\n    }\n\n    public static void main(String[] args) \n    {\n         System.out.println(countDigits(0));\n    }\n\n}\n</code></pre>\n<p>In this example run, I want to count 0 as digits and print 1 in output, but it prints 0.</p>\n"},{"tags":["java","spring","spring-boot","email","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25607850,"reputation":1,"user_id":19381674,"display_name":"Hicham ALAGAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662896091,"creation_date":1662896091,"answer_id":73678921,"question_id":73678833,"body_markdown":"Resolved by adding this line in the main application of spring boot:\r\n\r\njava.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);\r\n","title":"No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException:","body":"<p>Resolved by adding this line in the main application of spring boot:</p>\n<p>java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);</p>\n"}],"owner":{"account_id":25607850,"reputation":1,"user_id":19381674,"display_name":"Hicham ALAGAD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662896091,"creation_date":1662895265,"question_id":73678833,"body_markdown":"I&#39;m trying to implement the spring boot mail sender from my locale application based on smtp.gmail.com host but i get this error: \r\n\r\nPlease help me with this. I have searched many blogs, my configurations seems to be fine. Let me know If I need to change or add something.\r\n\r\nThanks in advance!\r\n```\r\n2022-09-11 12:17:31,499 [DEBUG] from org.springframework.web.servlet.DispatcherServlet in http-nio-1995-exec-1 - Failed to complete request: org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate); message exceptions (1) are:\r\nFailed message 1: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n2022-09-11 12:17:31,500 [DEBUG] from org.springframework.security.web.context.SecurityContextPersistenceFilter in http-nio-1995-exec-1 - Cleared SecurityContextHolder to complete request\r\n2022-09-11 12:17:31,501 [ERROR] from org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServlet] in http-nio-1995-exec-1 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate); message exceptions (1) are:\r\nFailed message 1: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)] with root cause\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n        at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\r\n```\r\nMail configuration class:\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n    \r\n        @Bean\r\n        public JavaMailSender getJavaMailSender() {\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n            mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n            mailSender.setPort(587);\r\n    \r\n            mailSender.setUsername(MyConstants.MY_EMAIL);\r\n            mailSender.setPassword(MyConstants.MY_PASSWORD);\r\n    \r\n            Properties props = mailSender.getJavaMailProperties();\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n            return mailSender;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nConstants class:\r\n\r\n    public class MyConstants {\r\n    \r\n        public static final String MY_EMAIL = &quot;myMail@gmail.com&quot;;\r\n        public static final String MY_PASSWORD = &quot;passwordGeneretedFromGmail&quot;;\r\n        public static final String FRIEND_EMAIL = &quot;senderToMail@gmail.com&quot;;\r\n    \r\n    }\r\n\r\n\r\nMy Controller class:\r\n\r\n   \r\n\r\n     @Controller\r\n        @RequestMapping(&quot;/api&quot;)\r\n        public class SimpleEmailExampleController {\r\n        \r\n            @Autowired\r\n            public JavaMailSender emailSender;\r\n        \r\n            @ResponseBody\r\n            @RequestMapping(&quot;/sendSimpleEmail&quot;)\r\n            public String sendSimpleEmail() {\r\n        \r\n                // Create a Simple MailMessage.\r\n                SimpleMailMessage message = new SimpleMailMessage();\r\n        \r\n                message.setTo(MyConstants.FRIEND_EMAIL);\r\n                message.setSubject(&quot;Test Simple Email&quot;);\r\n                message.setText(&quot;Hello, Im testing Simple Email&quot;);\r\n        \r\n                // Send Message!\r\n                this.emailSender.send(message);\r\n        \r\n                return &quot;Email Sent!&quot;;\r\n            }\r\n        \r\n        }","title":"No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException:","body":"<p>I'm trying to implement the spring boot mail sender from my locale application based on smtp.gmail.com host but i get this error:</p>\n<p>Please help me with this. I have searched many blogs, my configurations seems to be fine. Let me know If I need to change or add something.</p>\n<p>Thanks in advance!</p>\n<pre><code>2022-09-11 12:17:31,499 [DEBUG] from org.springframework.web.servlet.DispatcherServlet in http-nio-1995-exec-1 - Failed to complete request: org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate); message exceptions (1) are:\nFailed message 1: javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n2022-09-11 12:17:31,500 [DEBUG] from org.springframework.security.web.context.SecurityContextPersistenceFilter in http-nio-1995-exec-1 - Cleared SecurityContextHolder to complete request\n2022-09-11 12:17:31,501 [ERROR] from org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServlet] in http-nio-1995-exec-1 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate); message exceptions (1) are:\nFailed message 1: javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n        javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)] with root cause\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n        at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\n</code></pre>\n<p>Mail configuration class:</p>\n<pre><code>@Configuration\npublic class MailConfig {\n\n    @Bean\n    public JavaMailSender getJavaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\n        mailSender.setPort(587);\n\n        mailSender.setUsername(MyConstants.MY_EMAIL);\n        mailSender.setPassword(MyConstants.MY_PASSWORD);\n\n        Properties props = mailSender.getJavaMailProperties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n        return mailSender;\n    }\n\n}\n</code></pre>\n<p>Constants class:</p>\n<pre><code>public class MyConstants {\n\n    public static final String MY_EMAIL = &quot;myMail@gmail.com&quot;;\n    public static final String MY_PASSWORD = &quot;passwordGeneretedFromGmail&quot;;\n    public static final String FRIEND_EMAIL = &quot;senderToMail@gmail.com&quot;;\n\n}\n</code></pre>\n<p>My Controller class:</p>\n<pre><code> @Controller\n    @RequestMapping(&quot;/api&quot;)\n    public class SimpleEmailExampleController {\n    \n        @Autowired\n        public JavaMailSender emailSender;\n    \n        @ResponseBody\n        @RequestMapping(&quot;/sendSimpleEmail&quot;)\n        public String sendSimpleEmail() {\n    \n            // Create a Simple MailMessage.\n            SimpleMailMessage message = new SimpleMailMessage();\n    \n            message.setTo(MyConstants.FRIEND_EMAIL);\n            message.setSubject(&quot;Test Simple Email&quot;);\n            message.setText(&quot;Hello, Im testing Simple Email&quot;);\n    \n            // Send Message!\n            this.emailSender.send(message);\n    \n            return &quot;Email Sent!&quot;;\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662886410,"post_id":73677987,"comment_id":130106161,"body_markdown":"If the final thread runs first, the rest will wait indefinitely. That&#39;s why you&#39;re supposed to check a logical condition before waiting.","body":"If the final thread runs first, the rest will wait indefinitely. That&#39;s why you&#39;re supposed to check a logical condition before waiting."},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662886511,"post_id":73677987,"comment_id":130106182,"body_markdown":"@shmosel, I have posted an image,it will print some characters and then stopped","body":"@shmosel, I have posted an image,it will print some characters and then stopped"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662886681,"post_id":73677987,"comment_id":130106207,"body_markdown":"I guess they&#39;re cycling until they all happen to enter `wait()` at the same time.","body":"I guess they&#39;re cycling until they all happen to enter <code>wait()</code> at the same time."},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662886744,"post_id":73677987,"comment_id":130106217,"body_markdown":"@shmosel,so can you post an answer for it?","body":"@shmosel,so can you post an answer for it?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1662886836,"post_id":73677987,"comment_id":130106237,"body_markdown":"You should check out Mutex and especially the Semaphore class. Both save you from a ton of sync problems.","body":"You should check out Mutex and especially the Semaphore class. Both save you from a ton of sync problems."},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662886991,"post_id":73677987,"comment_id":130106261,"body_markdown":"@JayC667 I just want to use  `wait` and `notifyAll`","body":"@JayC667 I just want to use  <code>wait</code> and <code>notifyAll</code>"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662887295,"post_id":73677987,"comment_id":130106306,"body_markdown":"@Abra Can you provide a more detail explantion for why it&#39;s deadlock,thanks in advance!","body":"@Abra Can you provide a more detail explantion for why it&#39;s deadlock,thanks in advance!"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662887752,"post_id":73677987,"comment_id":130106369,"body_markdown":"@Abra Thanks for post link for `deadlock`,but I still do not undertand I have invoke `notifyAll`,why it can form a deadlock?","body":"@Abra Thanks for post link for <code>deadlock</code>,but I still do not undertand I have invoke <code>notifyAll</code>,why it can form a deadlock?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662887852,"post_id":73677987,"comment_id":130106377,"body_markdown":"There&#39;s no thread to call `notifyAll()` while they&#39;re all stuck at `wait()`. Adding a loop to the final thread should &quot;fix&quot; it.","body":"There&#39;s no thread to call <code>notifyAll()</code> while they&#39;re all stuck at <code>wait()</code>. Adding a loop to the final thread should &quot;fix&quot; it."},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662888741,"post_id":73677987,"comment_id":130106519,"body_markdown":"@Abra I have read it several month ago,now I just want to know why","body":"@Abra I have read it several month ago,now I just want to know why"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662888783,"post_id":73677987,"comment_id":130106529,"body_markdown":"@shmosel In my post code,I add a trigger thread to let it `notifyAll` after a period of time","body":"@shmosel In my post code,I add a trigger thread to let it <code>notifyAll</code> after a period of time"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662945661,"post_id":73677987,"comment_id":130116227,"body_markdown":"But it only runs once.","body":"But it only runs once."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662895751,"creation_date":1662889360,"answer_id":73678251,"question_id":73677987,"body_markdown":"Your problem is that you are calling `notifyAll()` immediately after calling `wait()`. You get to a deadlock situation where each thread is waiting. When all the threads are waiting, none of them can be notified, hence your program comes to a standstill.\r\n\r\nAccording to the [Concurrency][1] tutorial, you need to `wait()` for a certain condition to occur. Once the condition occurs, you perform the required action (which, in your code, is printing the current time) then you call `notifyAll()` to inform the waiting threads that you have completed performing the required action and that they can try to perform their required action.\r\n\r\nExplanations after the code.\r\n```java\r\nimport java.time.LocalTime;\r\n\r\npublic class ThreadPrint4Test {\r\n    private volatile boolean canPrint;\r\n\r\n    public void testPrint() {\r\n        Object lock = new Object();\r\n        new Thread(new PrintThread(&quot;A&quot;, lock), &quot;thread-A&quot;).start();\r\n        new Thread(new PrintThread(&quot;B&quot;, lock), &quot;thread-B&quot;).start();\r\n        new Thread(new PrintThread(&quot;C&quot;, lock), &quot;thread-C&quot;).start();\r\n    }\r\n\r\n    class PrintThread implements Runnable {\r\n        private Object lock;\r\n        private String value;\r\n\r\n        public PrintThread(String value, Object lock) {\r\n            this.value = value;\r\n            this.lock = lock;\r\n            canPrint = true;\r\n        }\r\n\r\n        public void run() {\r\n            while (true) {\r\n                while (!canPrint) {\r\n                    try {\r\n                        synchronized (lock) {\r\n                            System.out.printf(&quot;[%s] Waiting...%n&quot;, value);\r\n                            lock.wait();\r\n                        }\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                synchronized (lock) {\r\n                    canPrint = false;\r\n                    System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\r\n                    canPrint = true;\r\n                    lock.notifyAll();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        new ThreadPrint4Test().testPrint();\r\n        try {\r\n            Thread.sleep(2000);\r\n        }\r\n        catch (InterruptedException x) {\r\n            x.printStackTrace();\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n* I added a `canPrint` flag. When it is true, then the thread can print the current time. When it is false, the thread must wait.\r\n* When the thread can print the current time, it first sets the flag to false so that no other thread can print.\r\n* After the thread has printed the current time, it sets the flag back to true and calls method `notifyAll()` which causes all waiting threads to stop waiting and re-check the `canPrint` flag.\r\n* The first thread to awake after `canPrint` has been set to true, sets the flag to false which causes all other threads to wait.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html","title":"Threads stopped print characters and all of them are waiting for lock","body":"<p>Your problem is that you are calling <code>notifyAll()</code> immediately after calling <code>wait()</code>. You get to a deadlock situation where each thread is waiting. When all the threads are waiting, none of them can be notified, hence your program comes to a standstill.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> tutorial, you need to <code>wait()</code> for a certain condition to occur. Once the condition occurs, you perform the required action (which, in your code, is printing the current time) then you call <code>notifyAll()</code> to inform the waiting threads that you have completed performing the required action and that they can try to perform their required action.</p>\n<p>Explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalTime;\n\npublic class ThreadPrint4Test {\n    private volatile boolean canPrint;\n\n    public void testPrint() {\n        Object lock = new Object();\n        new Thread(new PrintThread(&quot;A&quot;, lock), &quot;thread-A&quot;).start();\n        new Thread(new PrintThread(&quot;B&quot;, lock), &quot;thread-B&quot;).start();\n        new Thread(new PrintThread(&quot;C&quot;, lock), &quot;thread-C&quot;).start();\n    }\n\n    class PrintThread implements Runnable {\n        private Object lock;\n        private String value;\n\n        public PrintThread(String value, Object lock) {\n            this.value = value;\n            this.lock = lock;\n            canPrint = true;\n        }\n\n        public void run() {\n            while (true) {\n                while (!canPrint) {\n                    try {\n                        synchronized (lock) {\n                            System.out.printf(&quot;[%s] Waiting...%n&quot;, value);\n                            lock.wait();\n                        }\n                    }\n                    catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                synchronized (lock) {\n                    canPrint = false;\n                    System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\n                    canPrint = true;\n                    lock.notifyAll();\n                }\n            }\n        }\n    }\n    public static void main(String[] args) {\n        new ThreadPrint4Test().testPrint();\n        try {\n            Thread.sleep(2000);\n        }\n        catch (InterruptedException x) {\n            x.printStackTrace();\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<ul>\n<li>I added a <code>canPrint</code> flag. When it is true, then the thread can print the current time. When it is false, the thread must wait.</li>\n<li>When the thread can print the current time, it first sets the flag to false so that no other thread can print.</li>\n<li>After the thread has printed the current time, it sets the flag back to true and calls method <code>notifyAll()</code> which causes all waiting threads to stop waiting and re-check the <code>canPrint</code> flag.</li>\n<li>The first thread to awake after <code>canPrint</code> has been set to true, sets the flag to false which causes all other threads to wait.</li>\n</ul>\n"}],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73678251,"answer_count":1,"score":0,"last_activity_date":1662895751,"creation_date":1662886226,"question_id":73677987,"body_markdown":"I want to use 3 threads to print `A`、`B`、`C` randomly,so I wrote code as below:\r\n\r\n    public class ThreadPrint4Test {\r\n    \r\n        public static void main(String[] args) {\r\n            new ThreadPrint4Test().testPrint();\r\n        }\r\n    \r\n        public void testPrint() {\r\n            Object lock = new Object();\r\n            new Thread(new PrintThread(&quot;A&quot;,lock),&quot;thread-A&quot;).start();\r\n            new Thread(new PrintThread(&quot;B&quot;,lock),&quot;thread-B&quot;).start();\r\n            new Thread(new PrintThread(&quot;C&quot;,lock),&quot;thread-C&quot;).start();\r\n            try {\r\n                TimeUnit.SECONDS.sleep(1);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            new Thread(() -&gt; {\r\n                synchronized (lock) {\r\n                    lock.notifyAll();\r\n                }\r\n            }).start();\r\n        }\r\n    \r\n        class PrintThread implements Runnable {\r\n    \r\n            private Object lock;\r\n            private String value;\r\n    \r\n            public PrintThread(String value, Object lock) {\r\n                this.value = value;\r\n                this.lock = lock;\r\n            }\r\n    \r\n            public void run() {\r\n                while (true) {\r\n                    try {\r\n                        synchronized (lock) {\r\n                            lock.wait();\r\n                            System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\r\n                            lock.notifyAll();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nBut when I test the program,it stoppted print characters after a few seconds\r\n[![enter image description here][1]][1]\r\n\r\nUsing `jps` and `jstack` I found all the 3 threads are `WAITING` the object lock\r\n[![enter image description here][2]][2]\r\n\r\nI tested it for serveral times,and this phenomenon occurs every time.\r\n\r\nI do not know why **all the 3 threads are waiting object lock at same time**\r\n\r\nBased on my knowledge,each time one of the 3 threads will be awake and have the chance to exeute,then it will awake all the 3 threads randomly by invoking `lock.notifyAll();`. So the program should run continuous theoretically,But now each time I test it,it will stop print characters after a few seconds.\r\n\r\nCould someone help analysis why this happen? Thanks in advance!\r\n\r\n            while (true) {\r\n                try {\r\n                    synchronized (lock) {\r\n                        lock.wait();\r\n                        System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\r\n                        lock.notifyAll();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n  [1]: https://i.stack.imgur.com/jOCQr.png\r\n  [2]: https://i.stack.imgur.com/Z9zCP.png","title":"Threads stopped print characters and all of them are waiting for lock","body":"<p>I want to use 3 threads to print <code>A</code>、<code>B</code>、<code>C</code> randomly,so I wrote code as below:</p>\n<pre><code>public class ThreadPrint4Test {\n\n    public static void main(String[] args) {\n        new ThreadPrint4Test().testPrint();\n    }\n\n    public void testPrint() {\n        Object lock = new Object();\n        new Thread(new PrintThread(&quot;A&quot;,lock),&quot;thread-A&quot;).start();\n        new Thread(new PrintThread(&quot;B&quot;,lock),&quot;thread-B&quot;).start();\n        new Thread(new PrintThread(&quot;C&quot;,lock),&quot;thread-C&quot;).start();\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        new Thread(() -&gt; {\n            synchronized (lock) {\n                lock.notifyAll();\n            }\n        }).start();\n    }\n\n    class PrintThread implements Runnable {\n\n        private Object lock;\n        private String value;\n\n        public PrintThread(String value, Object lock) {\n            this.value = value;\n            this.lock = lock;\n        }\n\n        public void run() {\n            while (true) {\n                try {\n                    synchronized (lock) {\n                        lock.wait();\n                        System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\n                        lock.notifyAll();\n                    }\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>But when I test the program,it stoppted print characters after a few seconds\n<a href=\"https://i.stack.imgur.com/jOCQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOCQr.png\" alt=\"enter image description here\" /></a></p>\n<p>Using <code>jps</code> and <code>jstack</code> I found all the 3 threads are <code>WAITING</code> the object lock\n<a href=\"https://i.stack.imgur.com/Z9zCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9zCP.png\" alt=\"enter image description here\" /></a></p>\n<p>I tested it for serveral times,and this phenomenon occurs every time.</p>\n<p>I do not know why <strong>all the 3 threads are waiting object lock at same time</strong></p>\n<p>Based on my knowledge,each time one of the 3 threads will be awake and have the chance to exeute,then it will awake all the 3 threads randomly by invoking <code>lock.notifyAll();</code>. So the program should run continuous theoretically,But now each time I test it,it will stop print characters after a few seconds.</p>\n<p>Could someone help analysis why this happen? Thanks in advance!</p>\n<pre><code>        while (true) {\n            try {\n                synchronized (lock) {\n                    lock.wait();\n                    System.out.println(LocalTime.now() + &quot;\\t&quot; + value);\n                    lock.notifyAll();\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7910446,"reputation":2755,"user_id":5974659,"display_name":"Anas Mehar"},"score":0,"creation_date":1563288557,"post_id":57059899,"comment_id":100645543,"body_markdown":"Use &quot;ur&quot; language ISO 639-1 Code instead &quot;Urdu&quot;","body":"Use &quot;ur&quot; language ISO 639-1 Code instead &quot;Urdu&quot;"},{"owner":{"account_id":13241878,"reputation":153,"user_id":9562104,"display_name":"Faran Tariq"},"score":0,"creation_date":1563350144,"post_id":57059899,"comment_id":100666013,"body_markdown":"Dear @AnasMehar i have tried &quot;ur&quot; still getting the same result.","body":"Dear @AnasMehar i have tried &quot;ur&quot; still getting the same result."},{"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"score":0,"creation_date":1616969971,"post_id":57059899,"comment_id":118162412,"body_markdown":"have u got the answer?","body":"have u got the answer?"}],"answers":[{"tags":[],"owner":{"account_id":15335045,"reputation":1,"user_id":11063672,"display_name":"M Arslan Sarwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662895336,"creation_date":1662895307,"answer_id":73678838,"question_id":57059899,"body_markdown":"use it like this:\r\n\r\n        speechRecognizer = SpeechRecognizer.createSpeechRecognizer(getContext());\r\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;ur&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, true);\r\n\r\n","title":"Urdu to urdu using SpeechRecognizer and RecognitionListener","body":"<p>use it like this:</p>\n<pre><code>    speechRecognizer = SpeechRecognizer.createSpeechRecognizer(getContext());\n    speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;ur&quot;);\n    speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, true);\n</code></pre>\n"}],"owner":{"account_id":13241878,"reputation":153,"user_id":9562104,"display_name":"Faran Tariq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662895336,"creation_date":1563288180,"question_id":57059899,"body_markdown":"I am working on urdu to urdu speech recognition. But all i have get roman urdu in return.\r\n\r\n    private void startListening() {\r\n        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n\r\n        intent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, &quot;Urdu&quot;);\r\n        final SpeechRecognizer recognizer = SpeechRecognizer\r\n                .createSpeechRecognizer(this.getApplicationContext());\r\n        RecognitionListener listener = new RecognitionListener() {\r\n            @Override\r\n            public void onResults(Bundle results) {\r\n                ArrayList&lt;String&gt; voiceResults = results\r\n                        .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n                if (voiceResults != null) {\r\n                    tv_output2.setText(voiceResults.get(0));\r\n                }\r\n                if (voiceResults == null) {\r\n                    System.out.println(&quot;No voice results&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Printing matches: &quot;);\r\n                    for (String match : voiceResults) {\r\n                        System.out.println(match);\r\n                    }\r\n                }\r\n            }\r\n\r\n        \r\n        };\r\n        recognizer.setRecognitionListener(listener);\r\n        recognizer.startListening(intent);\r\n\r\nI getting response &quot;tum kaisa hoa&quot; instead of &quot;تم کیسی ہو&quot;","title":"Urdu to urdu using SpeechRecognizer and RecognitionListener","body":"<p>I am working on urdu to urdu speech recognition. But all i have get roman urdu in return.</p>\n\n<pre><code>private void startListening() {\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n\n    intent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, \"Urdu\");\n    final SpeechRecognizer recognizer = SpeechRecognizer\n            .createSpeechRecognizer(this.getApplicationContext());\n    RecognitionListener listener = new RecognitionListener() {\n        @Override\n        public void onResults(Bundle results) {\n            ArrayList&lt;String&gt; voiceResults = results\n                    .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n            if (voiceResults != null) {\n                tv_output2.setText(voiceResults.get(0));\n            }\n            if (voiceResults == null) {\n                System.out.println(\"No voice results\");\n            } else {\n                System.out.println(\"Printing matches: \");\n                for (String match : voiceResults) {\n                    System.out.println(match);\n                }\n            }\n        }\n\n\n    };\n    recognizer.setRecognitionListener(listener);\n    recognizer.startListening(intent);\n</code></pre>\n\n<p>I getting response \"tum kaisa hoa\" instead of \"تم کیسی ہو\"</p>\n"},{"tags":["java","algorithm","math","optimization","arraylist"],"comments":[{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":3,"creation_date":1662859918,"post_id":73676229,"comment_id":130103249,"body_markdown":"This looks like https://stackoverflow.com/questions/73667805/find-the-kth-smallest-number-obtained-by-subtracting-two-element-in-sorted-array.","body":"This looks like <a href=\"https://stackoverflow.com/questions/73667805/find-the-kth-smallest-number-obtained-by-subtracting-two-element-in-sorted-array\" title=\"find the kth smallest number obtained by subtracting two element in sorted array\">stackoverflow.com/questions/73667805/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662895163,"creation_date":1662881431,"answer_id":73677564,"question_id":73676229,"body_markdown":"1. **sort the array `a[n]` ascending `~O(n.log(n))`**\r\n\r\n2. **abs derivate array `O(n)`**\r\n\r\n       for (i=n-1;i&gt;0;i--)\r\n        a[i] = abs(a[i]-a[i-1]);\r\n       a[0]=0; // ignore first element\r\n\r\n   however as @greybeard points out the array is already sorted so non need for the abs:\r\n\r\n       for (i=n-1;i&gt;0;i--)\r\n        a[i] = a[i]-a[i-1];\r\n       a[0]=0; // ignore first element\r\n\r\n3. **sort the array `a[n]` ascending `~O(n.log(n))`**\r\n\r\n4. **now `a[1],a[2],...,a[k]` is your answer `O(k)`**\r\n\r\n   note that I skipped `a[0]` ...\r\n\r\nresulting in `~O(n.log(n))` complexity","title":"How to quickly find the first k minimum differences between any two number in a list with duplicates?","body":"<ol>\n<li><p><strong>sort the array <code>a[n]</code> ascending <code>~O(n.log(n))</code></strong></p>\n</li>\n<li><p><strong>abs derivate array <code>O(n)</code></strong></p>\n<pre><code>for (i=n-1;i&gt;0;i--)\n a[i] = abs(a[i]-a[i-1]);\na[0]=0; // ignore first element\n</code></pre>\n<p>however as @greybeard points out the array is already sorted so non need for the abs:</p>\n<pre><code>for (i=n-1;i&gt;0;i--)\n a[i] = a[i]-a[i-1];\na[0]=0; // ignore first element\n</code></pre>\n</li>\n<li><p><strong>sort the array <code>a[n]</code> ascending <code>~O(n.log(n))</code></strong></p>\n</li>\n<li><p><strong>now <code>a[1],a[2],...,a[k]</code> is your answer <code>O(k)</code></strong></p>\n<p>note that I skipped <code>a[0]</code> ...</p>\n</li>\n</ol>\n<p>resulting in <code>~O(n.log(n))</code> complexity</p>\n"}],"owner":{"account_id":26263211,"reputation":1,"user_id":19934192,"display_name":"Pegasus-At-Large"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662895163,"creation_date":1662859592,"question_id":73676229,"body_markdown":"I was trying to find the first k minimum differences between any two numbers in a list, and the list contains duplicates so the output contains duplicates as well. I came up with an algorithm but it takes O(n^2) time complexity. So I am wondering if there is a way to reduce the time complexity down to potentially O(n) or O(nlogn).\r\n\r\nI know there are a lot of posts about finding the minimum difference between two numbers in an array ([such as one](https://stackoverflow.com/questions/12232930/finding-out-the-minimum-difference-between-elements-in-an-array)), but I could not really find any optimized solution on returning the first k minimum differences.\r\n\r\nPS: I want to return the minimum differences in an ascending order\r\n\r\nBelow is my code:\r\n\r\n    public static List&lt;Integer&gt; findMinimumDifferences(List&lt;Integer&gt; list, int k){\r\n\t\t//take care of empty list and k=0\r\n\t\tif(list.isEmpty() || k==0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\t//initialize a list to store all the possible pair of differences\r\n\t\tList&lt;Integer&gt; record=new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t//loop through the input list to find all the absolute differences between any pair of numbers\r\n\t\tfor (int i = 0; i &lt; list.size()-1; i++) {\r\n\t\t\tfor (int j = i+1; j &lt; list.size(); j++) {\r\n\t\t\t\t//take the absolute difference value and add it into the record\r\n\t\t\t\trecord.add(Math.abs(list.get(i)-list.get(j)));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//sort the record in ascending order.\r\n\t\tCollections.sort(record);\r\n\t\t\r\n\t\t//initialized a list to store the first k minimum values to return\r\n\t\tList&lt;Integer&gt; ans=new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t//get the first k minimum values from the sorted list\r\n\t\tfor(int i=0;i&lt;k;i++) {\r\n\t\t\tans.add(record.get(i));\r\n\t\t}\r\n\t\t\r\n\t\t//return the first k minimum differences in a list\r\n\t\treturn ans;\r\n\t}\r\nPlease let me know if there is a way to optimize it to make it run faster.\r\n","title":"How to quickly find the first k minimum differences between any two number in a list with duplicates?","body":"<p>I was trying to find the first k minimum differences between any two numbers in a list, and the list contains duplicates so the output contains duplicates as well. I came up with an algorithm but it takes O(n^2) time complexity. So I am wondering if there is a way to reduce the time complexity down to potentially O(n) or O(nlogn).</p>\n<p>I know there are a lot of posts about finding the minimum difference between two numbers in an array (<a href=\"https://stackoverflow.com/questions/12232930/finding-out-the-minimum-difference-between-elements-in-an-array\">such as one</a>), but I could not really find any optimized solution on returning the first k minimum differences.</p>\n<p>PS: I want to return the minimum differences in an ascending order</p>\n<p>Below is my code:</p>\n<pre><code>public static List&lt;Integer&gt; findMinimumDifferences(List&lt;Integer&gt; list, int k){\n    //take care of empty list and k=0\n    if(list.isEmpty() || k==0) {\n        return null;\n    }\n    \n    //initialize a list to store all the possible pair of differences\n    List&lt;Integer&gt; record=new ArrayList&lt;&gt;();\n    \n    //loop through the input list to find all the absolute differences between any pair of numbers\n    for (int i = 0; i &lt; list.size()-1; i++) {\n        for (int j = i+1; j &lt; list.size(); j++) {\n            //take the absolute difference value and add it into the record\n            record.add(Math.abs(list.get(i)-list.get(j)));\n        }\n    }\n    \n    //sort the record in ascending order.\n    Collections.sort(record);\n    \n    //initialized a list to store the first k minimum values to return\n    List&lt;Integer&gt; ans=new ArrayList&lt;&gt;();\n    \n    //get the first k minimum values from the sorted list\n    for(int i=0;i&lt;k;i++) {\n        ans.add(record.get(i));\n    }\n    \n    //return the first k minimum differences in a list\n    return ans;\n}\n</code></pre>\n<p>Please let me know if there is a way to optimize it to make it run faster.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"score":0,"creation_date":1662958861,"post_id":73678659,"comment_id":130117773,"body_markdown":"Can you please tell me what can you used media player or Media Controller??","body":"Can you please tell me what can you used media player or Media Controller??"},{"owner":{"account_id":18393914,"reputation":11,"user_id":13398895,"display_name":"learner coder"},"score":0,"creation_date":1663093721,"post_id":73678659,"comment_id":130157163,"body_markdown":"I used a mediacontroller","body":"I used a mediacontroller"}],"owner":{"account_id":18393914,"reputation":11,"user_id":13398895,"display_name":"learner coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662893858,"creation_date":1662893646,"question_id":73678659,"body_markdown":"I need some Java code to pause and resume Youtube Music and Android Music, I&#39;ve found that you can use a MediaController but I don&#39;t know how to implement this. I would really appreciate if someone could give me some code for this.","title":"How to pause audio programs in Android?","body":"<p>I need some Java code to pause and resume Youtube Music and Android Music, I've found that you can use a MediaController but I don't know how to implement this. I would really appreciate if someone could give me some code for this.</p>\n"},{"tags":["java","android","kotlin","android-layout","maxlength"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1662911548,"post_id":73678541,"comment_id":130110695,"body_markdown":"What is that graphic on the left? It looks like a start drawable for the _EditText_, but I don&#39;t think it is because the text overlaps it. Are you OK if the number of n&#39;s in your example is less than the number that can fit as long as the M&#39;s don&#39;t exceed the bounds? Maybe you would like more n&#39;s to fit and actually exceed the number of M&#39;s allowed.","body":"What is that graphic on the left? It looks like a start drawable for the <i>EditText</i>, but I don&#39;t think it is because the text overlaps it. Are you OK if the number of n&#39;s in your example is less than the number that can fit as long as the M&#39;s don&#39;t exceed the bounds? Maybe you would like more n&#39;s to fit and actually exceed the number of M&#39;s allowed."},{"owner":{"account_id":23760347,"reputation":11,"user_id":17775920,"display_name":"vsi-"},"score":0,"creation_date":1662912085,"post_id":73678541,"comment_id":130110804,"body_markdown":"the max length for the edittext is 21 but the m&#39;s has bigger size, so they don&#39;t fit","body":"the max length for the edittext is 21 but the m&#39;s has bigger size, so they don&#39;t fit"}],"owner":{"account_id":23760347,"reputation":11,"user_id":17775920,"display_name":"vsi-"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662893006,"creation_date":1662892451,"question_id":73678541,"body_markdown":"I know about the similar max length method for EditText that looks like this\r\n \r\n`editText.maxLength = &quot;21&quot;`\r\n\r\nBut the problem is that this type of method isn&#39;t effective in my case. I have an EditText that has special dimension, so my goal is to not allow symbols to pass edittext&#39;s border. I nedd something that maximizes length of edittext more by dimension, than by symbols. Symbols have a different size, so maybe maxLength should be based on size of &quot;M&quot; symbol. \r\n\r\nWorks perfectly fine:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nBut when symbols bigger appear this happens:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9EshK.png\r\n  [2]: https://i.stack.imgur.com/eKNET.png","title":"Universal max length for EditText - Android","body":"<p>I know about the similar max length method for EditText that looks like this</p>\n<p><code>editText.maxLength = &quot;21&quot;</code></p>\n<p>But the problem is that this type of method isn't effective in my case. I have an EditText that has special dimension, so my goal is to not allow symbols to pass edittext's border. I nedd something that maximizes length of edittext more by dimension, than by symbols. Symbols have a different size, so maybe maxLength should be based on size of &quot;M&quot; symbol.</p>\n<p>Works perfectly fine:</p>\n<p><a href=\"https://i.stack.imgur.com/9EshK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EshK.png\" alt=\"enter image description here\" /></a></p>\n<p>But when symbols bigger appear this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/eKNET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eKNET.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","loops","search"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662843329,"post_id":73674950,"comment_id":130101177,"body_markdown":"Please [edit] your question to include the text of the problem. One possible issue is that you may be misunderstanding how the program is supposed to get its input.","body":"Please <a href=\"https://stackoverflow.com/posts/73674950/edit\">edit</a> your question to include the text of the problem. One possible issue is that you may be misunderstanding how the program is supposed to get its input."}],"answers":[{"tags":[],"owner":{"account_id":25968257,"reputation":29,"user_id":19683909,"display_name":"Nimesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662892727,"creation_date":1662892727,"answer_id":73678566,"question_id":73674950,"body_markdown":"run this code it perfectly works\r\nyou asked for some extra value which is not needed\r\n\r\n\r\n    public static void main(String[] args){\r\n        Scanner s= new Scanner(System.in);\r\n        long count=0;\r\n        //long n=s.nextLong(); // there is NO NEED for this line !\r\n        //for(int i=0; i&lt;n; i++) { // there is NO NEED for this line !\r\n            int g=s.nextInt();\r\n            int []arr=new int [g];\r\n            for(int j=0; j&lt;g; j++) {\r\n                arr[j]=s.nextInt();\r\n            }\r\n            for(int j=0; j&lt;g; j++) {\r\n                for(int k=j+1; k&lt;g; k++) {\r\n                    if(arr[j]==arr[k]) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(count);\r\n            count=0;\r\n        //} // there is NO NEED for this line !\r\n    }","title":"TLE error in my code to count how many duplicate elements are there in an array! What&#39;s Wrong in my code?","body":"<p>run this code it perfectly works\nyou asked for some extra value which is not needed</p>\n<pre><code>public static void main(String[] args){\n    Scanner s= new Scanner(System.in);\n    long count=0;\n    //long n=s.nextLong(); // there is NO NEED for this line !\n    //for(int i=0; i&lt;n; i++) { // there is NO NEED for this line !\n        int g=s.nextInt();\n        int []arr=new int [g];\n        for(int j=0; j&lt;g; j++) {\n            arr[j]=s.nextInt();\n        }\n        for(int j=0; j&lt;g; j++) {\n            for(int k=j+1; k&lt;g; k++) {\n                if(arr[j]==arr[k]) {\n                    count++;\n                }\n            }\n        }\n        System.out.println(count);\n        count=0;\n    //} // there is NO NEED for this line !\n}\n</code></pre>\n"}],"owner":{"account_id":16280143,"reputation":11,"user_id":11756341,"display_name":"Ryuzaki47"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1662892727,"creation_date":1662841416,"question_id":73674950,"body_markdown":"I want to count the number of duplicate elements in an array. My code works fine in my Compiler but when I try to submit my code it shows TLE(Time Limit Exceeded) Error. My code is here:\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tScanner s= new Scanner(System.in);\r\n\t\tlong count=0;\r\n\t\tlong n=s.nextLong();\r\n\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\tint g=s.nextInt();\r\n\t\t\tint []arr=new int [g];\r\n\t\t\tfor(int j=0; j&lt;g; j++) {\r\n\t\t\t\tarr[j]=s.nextInt();\r\n\t\t\t}\r\n\t\t\tfor(int j=0; j&lt;g; j++) {\r\n\t\t\t\tfor(int k=j+1; k&lt;g; k++) {\r\n\t\t\t\t\tif(arr[j]==arr[k]) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(count);\r\n\t\t\tcount=0;\r\n\t\t}\r\n\t}\r\n\r\n\t}\r\n","title":"TLE error in my code to count how many duplicate elements are there in an array! What&#39;s Wrong in my code?","body":"<p>I want to count the number of duplicate elements in an array. My code works fine in my Compiler but when I try to submit my code it shows TLE(Time Limit Exceeded) Error. My code is here:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Scanner s= new Scanner(System.in);\n    long count=0;\n    long n=s.nextLong();\n    for(int i=0; i&lt;n; i++) {\n        int g=s.nextInt();\n        int []arr=new int [g];\n        for(int j=0; j&lt;g; j++) {\n            arr[j]=s.nextInt();\n        }\n        for(int j=0; j&lt;g; j++) {\n            for(int k=j+1; k&lt;g; k++) {\n                if(arr[j]==arr[k]) {\n                    count++;\n                }\n            }\n        }\n        System.out.println(count);\n        count=0;\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1662850411,"post_id":73675520,"comment_id":130102260,"body_markdown":"What inputs are you giving it?","body":"What inputs are you giving it?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662892850,"post_id":73675520,"comment_id":130107161,"body_markdown":"Are you running your code from your IDE?","body":"Are you running your code from your IDE?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1662892890,"post_id":73675520,"comment_id":130107169,"body_markdown":"_This happens to me almost every time I use scanner_ Does that mean that sometimes you **don&#39;t** get an error?","body":"<i>This happens to me almost every time I use scanner</i> Does that mean that sometimes you <b>don&#39;t</b> get an error?"}],"owner":{"account_id":26300388,"reputation":21,"user_id":19965891,"display_name":"Nathan Birkes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1662909761,"answer_count":0,"score":2,"last_activity_date":1662892147,"creation_date":1662848213,"question_id":73675520,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner sc = new Scanner(System.in);\r\n      String name = sc.nextLine();\r\n      String[] words = name.split(&quot; &quot;);\r\n      String firstName = words[0];\r\n      String middleName = words[1];\r\n      if (words.length == 2) {\r\n         System.out.println(middleName + &quot;, &quot; + firstName.charAt(0) + &quot;.&quot;);\r\n         }\r\n         else {\r\n            String lastName = words[2];\r\n            System.out.println(lastName + &quot;, &quot; + firstName.charAt(0) + &quot;.&quot; + middleName.charAt(0) + &quot;.&quot;);\r\n         }\r\n   }\r\n}\r\n```\r\n\r\nThe error I am getting is:\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n\tat LabProgram.main(LabProgram.java:6)\r\n```\r\nThis happens to me almost every time I use scanner.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yXD5u.png","title":"Keep getting the same error using Scanner in java - Exception in thread &quot;main&quot; java.util.NoSuchElementException:","body":"<p><a href=\"https://i.stack.imgur.com/yXD5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXD5u.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner sc = new Scanner(System.in);\n      String name = sc.nextLine();\n      String[] words = name.split(&quot; &quot;);\n      String firstName = words[0];\n      String middleName = words[1];\n      if (words.length == 2) {\n         System.out.println(middleName + &quot;, &quot; + firstName.charAt(0) + &quot;.&quot;);\n         }\n         else {\n            String lastName = words[2];\n            System.out.println(lastName + &quot;, &quot; + firstName.charAt(0) + &quot;.&quot; + middleName.charAt(0) + &quot;.&quot;);\n         }\n   }\n}\n</code></pre>\n<p>The error I am getting is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at LabProgram.main(LabProgram.java:6)\n</code></pre>\n<p>This happens to me almost every time I use scanner.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":9012540,"reputation":1206,"user_id":6716564,"display_name":"ASK"},"score":0,"creation_date":1554703278,"post_id":55566891,"comment_id":97833174,"body_markdown":"Add some more description or your code snippet so that others can understand your issue and help you.","body":"Add some more description or your code snippet so that others can understand your issue and help you."}],"answers":[{"tags":[],"owner":{"account_id":2046439,"reputation":2895,"user_id":1826422,"display_name":"bsideup"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1554718427,"creation_date":1554718427,"answer_id":55571049,"question_id":55566891,"body_markdown":"You can try [Flux#generate][1] and [Queue#peek][2]. Just keep in mind that `peek` will return `null` if the queue is empty, and it cannot be used in `onNext`.\r\n\r\nSomething like:\r\n```java\r\nFlux.generate(sink -&gt; {\r\n    val element = queue.peek();\r\n    if (element == null) {\r\n        sink.complete();\r\n    } else {\r\n        sink.next(element);\r\n    }\r\n});\r\n```\r\n\r\nThere is also [Flux#repeatWhen][3] operator, in case you want to re-subscribe to the queue after it was considered empty, e.g. with:\r\n```java\r\nflux.repeatWhen(it -&gt; it.delayElements(ofSeconds(1)))\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#generate-java.util.concurrent.Callable-java.util.function.BiFunction-\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#peek()\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#repeatWhen-java.util.function.Function-","title":"How can I create reactor Flux from a blocking queue?","body":"<p>You can try <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#generate-java.util.concurrent.Callable-java.util.function.BiFunction-\" rel=\"noreferrer\">Flux#generate</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#peek()\" rel=\"noreferrer\">Queue#peek</a>. Just keep in mind that <code>peek</code> will return <code>null</code> if the queue is empty, and it cannot be used in <code>onNext</code>.</p>\n\n<p>Something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Flux.generate(sink -&gt; {\n    val element = queue.peek();\n    if (element == null) {\n        sink.complete();\n    } else {\n        sink.next(element);\n    }\n});\n</code></pre>\n\n<p>There is also <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#repeatWhen-java.util.function.Function-\" rel=\"noreferrer\">Flux#repeatWhen</a> operator, in case you want to re-subscribe to the queue after it was considered empty, e.g. with:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>flux.repeatWhen(it -&gt; it.delayElements(ofSeconds(1)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4475589,"reputation":323,"user_id":3640794,"display_name":"xmcax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662891294,"creation_date":1662891294,"answer_id":73678419,"question_id":55566891,"body_markdown":"An alternative worth considering is to get rid of BlockingQueue and use Sinks instead.\r\n\r\nThis requires:\r\n\r\n1. Creating a sink, e.g.\r\n\r\n    ```\r\n    private final Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\r\n    ```\r\n\r\n2. Exposing a sink as a Flux:\r\n\r\n    ```\r\n    sink.asFlux()\r\n    ``` \r\n\r\n3. Pushing to a sink:\r\n\r\n    ```\r\n    sink.tryEmitNext(&quot;SOME MESSAGE&quot;); \r\n    ```","title":"How can I create reactor Flux from a blocking queue?","body":"<p>An alternative worth considering is to get rid of BlockingQueue and use Sinks instead.</p>\n<p>This requires:</p>\n<ol>\n<li><p>Creating a sink, e.g.</p>\n<pre><code>private final Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\n</code></pre>\n</li>\n<li><p>Exposing a sink as a Flux:</p>\n<pre><code>sink.asFlux()\n</code></pre>\n</li>\n<li><p>Pushing to a sink:</p>\n<pre><code>sink.tryEmitNext(&quot;SOME MESSAGE&quot;); \n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2861351,"reputation":181,"user_id":2456557,"display_name":"mindhunt3r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55571049,"answer_count":2,"score":3,"last_activity_date":1662891294,"creation_date":1554702228,"question_id":55566891,"body_markdown":"I am trying to implement a reactor Flux created from a BlockingQueue but not sure which operator is best for my use case?\r\n\r\nI am creating a streaming REST end point, where response is Flux that needs to keep emitting messages from a BlockingQueue as a response to GET REST call. \r\n\r\nI have already tried forums and documentation and can only find Flux initiated from iterable collections or reactive data sources, but no examples from any BlockingQueue.","title":"How can I create reactor Flux from a blocking queue?","body":"<p>I am trying to implement a reactor Flux created from a BlockingQueue but not sure which operator is best for my use case?</p>\n\n<p>I am creating a streaming REST end point, where response is Flux that needs to keep emitting messages from a BlockingQueue as a response to GET REST call. </p>\n\n<p>I have already tried forums and documentation and can only find Flux initiated from iterable collections or reactive data sources, but no examples from any BlockingQueue.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1662542158,"post_id":73632361,"comment_id":130027370,"body_markdown":"You can manualy create a Firefox profile, set it up and use it for FirefoxDriver.","body":"You can manualy create a Firefox profile, set it up and use it for FirefoxDriver."},{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1662726203,"post_id":73632361,"comment_id":130078589,"body_markdown":"One way to do it, and this is somewhat I want, e.g. in Chrome(ium) is to run &#39;chrome.exe --app=https://pagetoshow.com&#39; as found here: https://stackoverflow.com/a/30032361/845117","body":"One way to do it, and this is somewhat I want, e.g. in Chrome(ium) is to run &#39;chrome.exe --app=<a href=\"https://pagetoshow.com\" rel=\"nofollow noreferrer\">pagetoshow.com</a>&#39; as found here: <a href=\"https://stackoverflow.com/a/30032361/845117\">stackoverflow.com/a/30032361/845117</a>"}],"answers":[{"tags":[],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662891196,"creation_date":1662891196,"answer_id":73678404,"question_id":73632361,"body_markdown":"This is a solution what I almost perfectly want. It does not deal with Selenium/Selenide, which is fully ok with me. I made it work nicely with Chrome browser.\r\n\r\nSee: https://github.com/greyshine/javaspring-embedded-browser\r\nMost interesting files are the `index.html` and `BrowserAdaptor.java`.\r\n\r\nWhat I still miss:\r\n\r\n- A nice way independent on the OS on how to locate the executable for the browser; see `application.properties`\r\n\r\n- Firefox does not open with a pure screen but still has tabs and some browser functions. What would be the startup parameters (see `application.properties`) for firefox to correctly start.\r\n\r\n- Same story for the Edge browser. Startup parameters, etc...\r\n\r\nBringing Selenide into the question was based, that I seen that this must be somehow possible.","title":"Apply settings to Selenium&#39;s FirefoxDriver","body":"<p>This is a solution what I almost perfectly want. It does not deal with Selenium/Selenide, which is fully ok with me. I made it work nicely with Chrome browser.</p>\n<p>See: <a href=\"https://github.com/greyshine/javaspring-embedded-browser\" rel=\"nofollow noreferrer\">https://github.com/greyshine/javaspring-embedded-browser</a>\nMost interesting files are the <code>index.html</code> and <code>BrowserAdaptor.java</code>.</p>\n<p>What I still miss:</p>\n<ul>\n<li><p>A nice way independent on the OS on how to locate the executable for the browser; see <code>application.properties</code></p>\n</li>\n<li><p>Firefox does not open with a pure screen but still has tabs and some browser functions. What would be the startup parameters (see <code>application.properties</code>) for firefox to correctly start.</p>\n</li>\n<li><p>Same story for the Edge browser. Startup parameters, etc...</p>\n</li>\n</ul>\n<p>Bringing Selenide into the question was based, that I seen that this must be somehow possible.</p>\n"}],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662891196,"creation_date":1662539619,"question_id":73632361,"body_markdown":"I am trying to run the `org.openqa.selenium.firefox.FirefoxDriver` in Java.\r\n\r\nI would like to open a browser window without the address bar and other functionalities like page-forward and so on.\r\n\r\nActually I would like to have a plain window with the displayed web content and even disabled context menu.\r\n\r\nHow to archive that.\r\n\r\nI tried with the code:\r\n```\r\nFirefoxOptions op = new FirefoxOptions()\r\n                .addPreference(&quot;browser.startup.page&quot;, 1)\r\n                .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://google.com&quot;);\r\n\r\nWebDriver driver = new FirefoxDriver();\r\n```\r\n\r\nbut could not find any good, easy understandable documentation for preferences or arguments (`addArgument(...)`).\r\n\r\nCould anyone give me a hint here?\r\n\r\nThese resources also did not give me a good understandable help:  \r\nhttps://developer.mozilla.org/en-US/docs/Web/WebDriver/Capabilities/firefoxOptions  \r\nhttps://searchfox.org/mozilla-central/source/modules/libpref/init/all.js  \r\nhttps://stackoverflow.com/q/51844033/845117\r\n\r\nOther threads I found on the internet are many years old.\r\n\r\nAs bonus, the same links for Chrome would also be appreciated.","title":"Apply settings to Selenium&#39;s FirefoxDriver","body":"<p>I am trying to run the <code>org.openqa.selenium.firefox.FirefoxDriver</code> in Java.</p>\n<p>I would like to open a browser window without the address bar and other functionalities like page-forward and so on.</p>\n<p>Actually I would like to have a plain window with the displayed web content and even disabled context menu.</p>\n<p>How to archive that.</p>\n<p>I tried with the code:</p>\n<pre><code>FirefoxOptions op = new FirefoxOptions()\n                .addPreference(&quot;browser.startup.page&quot;, 1)\n                .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://google.com&quot;);\n\nWebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>but could not find any good, easy understandable documentation for preferences or arguments (<code>addArgument(...)</code>).</p>\n<p>Could anyone give me a hint here?</p>\n<p>These resources also did not give me a good understandable help:<br />\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Capabilities/firefoxOptions\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/WebDriver/Capabilities/firefoxOptions</a><br />\n<a href=\"https://searchfox.org/mozilla-central/source/modules/libpref/init/all.js\" rel=\"nofollow noreferrer\">https://searchfox.org/mozilla-central/source/modules/libpref/init/all.js</a><br />\n<a href=\"https://stackoverflow.com/q/51844033/845117\">How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor</a></p>\n<p>Other threads I found on the internet are many years old.</p>\n<p>As bonus, the same links for Chrome would also be appreciated.</p>\n"},{"tags":["java","android","emulation"],"comments":[{"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"score":0,"creation_date":1662851344,"post_id":73675734,"comment_id":130102391,"body_markdown":"Please share the logcat logs","body":"Please share the logcat logs"},{"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"score":0,"creation_date":1662851360,"post_id":73675734,"comment_id":130102395,"body_markdown":"I have try to comment out my all code of  2nd activity but still activity was getting crash. But when i also Comment out   setContentView(R.layout.activity_popup2); amazingly activity not crashed even i have setContent Layout replace with others layout .","body":"I have try to comment out my all code of  2nd activity but still activity was getting crash. But when i also Comment out   setContentView(R.layout.activity_popup2); amazingly activity not crashed even i have setContent Layout replace with others layout ."},{"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"score":0,"creation_date":1662851433,"post_id":73675734,"comment_id":130102407,"body_markdown":"Umm so you fixed it?","body":"Umm so you fixed it?"},{"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"score":0,"creation_date":1662851717,"post_id":73675734,"comment_id":130102443,"body_markdown":"still i can not fix","body":"still i can not fix"},{"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"score":0,"creation_date":1662851733,"post_id":73675734,"comment_id":130102446,"body_markdown":"share the logcat window output","body":"share the logcat window output"},{"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"score":0,"creation_date":1662852936,"post_id":73675734,"comment_id":130102567,"body_markdown":"i am trying to add logcat but no luck","body":"i am trying to add logcat but no luck"},{"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"score":0,"creation_date":1662854444,"post_id":73675734,"comment_id":130102715,"body_markdown":"without logcat I am not sure what exactly is the problem","body":"without logcat I am not sure what exactly is the problem"},{"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"score":0,"creation_date":1662887522,"post_id":73675734,"comment_id":130106332,"body_markdown":"i have added logcat sir","body":"i have added logcat sir"}],"answers":[{"tags":[],"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662890267,"creation_date":1662890267,"answer_id":73678327,"question_id":73675734,"body_markdown":"Thanks every one i have solved my problem after removing 1st constrain layout of my popup2 xml.","title":"One of my activity is crashing on emulator","body":"<p>Thanks every one i have solved my problem after removing 1st constrain layout of my popup2 xml.</p>\n"}],"owner":{"account_id":19597952,"reputation":1,"user_id":14343486,"display_name":"Yasir Raheel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662890267,"creation_date":1662850960,"question_id":73675734,"body_markdown":"    This is my first question please bear with me.\r\n    I am trying to drawing over other app \r\n    my code is working fine on Mobile but when i am trying to run this app on emulator my app get crash when i click on button.\r\n    actually i am intenting from Main activty with itemclick listner \r\n    \r\n    \r\n    package com.shahabtech.ytbooster;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import android.content.ActivityNotFoundException;\r\n        import android.content.Context;\r\n        import android.content.Intent;\r\n        import android.graphics.PixelFormat;\r\n        import android.net.Uri;\r\n        import android.os.Build;\r\n        import android.os.Bundle;\r\n        import android.os.CountDownTimer;\r\n        import android.util.Log;\r\n        import android.view.Gravity;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.view.WindowManager;\r\n        import android.widget.Button;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n        \r\n        import com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n        import com.google.android.gms.tasks.OnCompleteListener;\r\n        import com.google.android.gms.tasks.Task;\r\n        import com.google.firebase.FirebaseApp;\r\n        import com.google.firebase.auth.FirebaseAuth;\r\n        import com.google.firebase.database.DataSnapshot;\r\n        import com.google.firebase.database.DatabaseError;\r\n        import com.google.firebase.database.DatabaseReference;\r\n        import com.google.firebase.database.FirebaseDatabase;\r\n        import com.google.firebase.database.ValueEventListener;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.HashMap;\r\n        import java.util.regex.Matcher;\r\n        import java.util.regex.Pattern;\r\n        \r\n        public class Popup2 extends AppCompatActivity {\r\n            private WindowManager.LayoutParams mParams;\r\n            private LayoutInflater layoutInflater;\r\n            private View mView;\r\n            private FirebaseAuth mAuth;\r\n            private  Context context;\r\n            private WindowManager mWindowManager;\r\n            int UserCoins2 = 0;\r\n            ArrayList&lt;model&gt;List;\r\n            SelectListner selectListner;\r\n            int Reward;\r\n            int Views;\r\n            String YT_ID;\r\n            String UID;\r\n            DatabaseReference databaseReference;\r\n            FirebaseDatabase firebaseDatabase;\r\n            @Override\r\n            public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_popup2);\r\n        \r\n                mAuth = FirebaseAuth.getInstance(FirebaseApp.initializeApp(this));\r\n                UID = mAuth.getInstance().getCurrentUser().getUid();\r\n        \r\n                getCoins();\r\n        \r\n                String yT_LINK = getIntent().getExtras().getString(&quot;LINK&quot;);\r\n                Reward = getIntent().getIntExtra(&quot;WATCHTIME&quot;,0);\r\n                Views = getIntent().getIntExtra(&quot;VIEWS&quot;,0);\r\n                YT_ID = getYouTubeId(yT_LINK);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    // set the layout parameters of the window\r\n                    mParams = new WindowManager.LayoutParams(\r\n                            // Shrink the window to wrap the content rather\r\n                            // than filling the screen\r\n                            WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT,\r\n                            // Display it on top of other application windows\r\n                            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\r\n                            // Don&#39;t let it grab the input focus\r\n        //                    WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                            WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON,\r\n                            PixelFormat.TRANSLUCENT);\r\n        \r\n                }\r\n                // getting a LayoutInflater\r\n                layoutInflater = (LayoutInflater) Popup2.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                // inflating the view with the custom layout we created\r\n                mView = layoutInflater.inflate(R.layout.activity_popup2, null);\r\n        \r\n                getCoins();\r\n                MycountDown mycountDown = new MycountDown(Reward*1000,1000);\r\n                mycountDown.start();\r\n        \r\n        \r\n                TextView TvRecord  =mView.findViewById(R.id.reward_2);\r\n                TextView TV_Views = mView.findViewById(R.id.tv_announsment);\r\n        //        TextView TV_PlayTime = mView.findViewById(R.id.play_time2);\r\n                TV_Views.setText(String.valueOf(Views));\r\n                TvRecord.setText(String.valueOf(Reward));\r\n        //        TV_PlayTime.setText(String.valueOf(Reward)+&quot; Seconds&quot;);\r\n        //        Tv_Coins.setText(String.valueOf(UserCoins2));\r\n                mView.findViewById(R.id.stop_watch2).setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n        \r\n                        Intent intent = new Intent(Popup2.this,MainActivity.class);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n                        mycountDown.cancel();\r\n                        close2(Popup2.this);\r\n                    }\r\n                });\r\n        \r\n                mParams.gravity = Gravity.BOTTOM;\r\n                mWindowManager = (WindowManager)Popup2.this.getSystemService(WINDOW_SERVICE);\r\n        \r\n                Open(Popup2.this);\r\n        //        Toast.makeText(Popup2.this, &quot;Link is &quot;+UserCoins2, Toast.LENGTH_SHORT).show();\r\n        \r\n                openYoutube();\r\n        \r\n            }\r\n        \r\n            public void Open(Context context) {\r\n        \r\n                try {\r\n                    getCoins();\r\n                    if(mView.getWindowToken()==null) {\r\n                        if(mView.getParent()==null) {\r\n                            mWindowManager.addView(mView, mParams);\r\n        //                    Toast.makeText(context, &quot;Opend&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    Log.d(&quot;Error1&quot;,e.toString());\r\n                }\r\n        \r\n            }\r\n        \r\n            public void close2(Context context) {\r\n        \r\n                try {\r\n        \r\n                    ((WindowManager)context.getSystemService(WINDOW_SERVICE)).removeView(mView);\r\n        \r\n                    mView.invalidate();\r\n        \r\n                    ((ViewGroup)mView.getParent()).removeAllViews();\r\n        \r\n        \r\n                } catch (Exception e) {\r\n                    Log.d(&quot;Error2&quot;,e.toString());\r\n                }\r\n            }\r\n        \r\n            private void openYoutube(){\r\n                Intent appIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;vnd.youtube:&quot;+YT_ID));\r\n                Intent webIntent = new Intent(Intent.ACTION_VIEW,\r\n                        Uri.parse(&quot;http://www.youtube.com/watch?v=&quot;+YT_ID));\r\n                try {\r\n                  Popup2.this.startActivity(appIntent);\r\n                } catch (ActivityNotFoundException ex) {\r\n        //            Popup2.this.startActivity(webIntent);\r\n                    Toast.makeText(context, &quot;Install YouTube First &quot;+ex, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        \r\n            private void openYoutube2(){\r\n                Intent appIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;vnd.youtube:&quot;));\r\n                Intent webIntent = new Intent(Intent.ACTION_VIEW,\r\n                        Uri.parse(&quot;http://www.youtube.com/watch?v=&quot;));\r\n                try {\r\n                    Popup2.this.startActivity(appIntent);\r\n                } catch (ActivityNotFoundException ex) {\r\n        //            Popup2.this.startActivity(webIntent);\r\n                    Toast.makeText(context, &quot;Install YouTube First &quot;+ex, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        \r\n            private void getCoins(){\r\n                String UID = mAuth.getCurrentUser().getUid();\r\n               DatabaseReference reference;\r\n               reference = FirebaseDatabase.getInstance().getReference(&quot;USERS_DATA&quot;);\r\n               reference.child(UID).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                   @Override\r\n                   public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                       if (task.isSuccessful()){\r\n                           if (task.getResult().exists()){\r\n        //                       Toast.makeText(Popup2.this, &quot;Successfully found&quot;, Toast.LENGTH_SHORT).show();\r\n                               DataSnapshot dataSnapshot = task.getResult();\r\n                               UserCoins2 = Integer.parseInt(String.valueOf(dataSnapshot.child(&quot;coins&quot;).getValue()));\r\n                               TextView TV_Coins = mView.findViewById(R.id.tv_coins2);\r\n                              TV_Coins.setText(String.valueOf(UserCoins2));\r\n        //                       Toast.makeText(Popup2.this, &quot;User Coins are &quot;+UserCoins2, Toast.LENGTH_SHORT).show();\r\n                           }else {\r\n                               Toast.makeText(Popup2.this, &quot;Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                           }\r\n                       }else {\r\n                           Toast.makeText(Popup2.this, &quot;Data Not Found&quot;, Toast.LENGTH_SHORT).show();\r\n                       }\r\n                   }\r\n               });\r\n            }\r\n        \r\n            public String getYouTubeId(String youTubeUrl) {\r\n                String pattern = &quot;(?&lt;=youtu.be/|watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\r\n                Pattern compiledPattern = Pattern.compile(pattern);\r\n                Matcher matcher = compiledPattern.matcher(youTubeUrl);\r\n                if (matcher.find()) {\r\n        \r\n                    return matcher.group();\r\n                } else {\r\n        \r\n                    return &quot;error&quot;;\r\n                }\r\n            }\r\n            public class MycountDown extends CountDownTimer{\r\n        \r\n                public MycountDown(long millisInFuture, long countDownInterval) {\r\n                    super(millisInFuture, countDownInterval);\r\n                }\r\n        \r\n                @Override\r\n                public void onTick(long l) {\r\n        \r\n                    TextView TV_PlayTime = mView.findViewById(R.id.play_time2);\r\n                    TV_PlayTime.setText(String.valueOf(l/1000+&quot; Seconds&quot;));\r\n        \r\n                }\r\n        \r\n                @Override\r\n                public void onFinish() {\r\n        \r\n                    update_coins();\r\n                    update_views();\r\n                    close2(Popup2.this);\r\n                    Intent intent = new Intent(Popup2.this,MainActivity.class);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    startActivity(intent);\r\n        \r\n                }\r\n            }\r\n        \r\n            private void update_coins() {\r\n        \r\n                UserCoins2 = UserCoins2 + Reward;\r\n        \r\n                HashMap Update_coins = new HashMap();\r\n                Update_coins.put(&quot;coins&quot;, UserCoins2);\r\n                databaseReference = firebaseDatabase.getInstance().getReference(&quot;USERS_DATA&quot;);\r\n                databaseReference.child(UID).updateChildren(Update_coins).addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task) {\r\n                        if (task.isSuccessful()) {\r\n                            Toast.makeText(Popup2.this, &quot;Reward Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(Popup2.this, &quot;Coins Not Updated&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n        \r\n            }\r\n        \r\n            private void update_views() {\r\n        \r\n                Views = Views + 1;\r\n        \r\n                HashMap Update_Views = new HashMap();\r\n                Update_Views.put(&quot;V_COMPLETED&quot;, Views);\r\n                databaseReference = firebaseDatabase.getInstance().getReference(&quot;LINKS&quot;).child(&quot;LINK&quot;);\r\n                databaseReference.child(YT_ID).updateChildren(Update_Views).addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task) {\r\n                        if (task.isSuccessful()) {\r\n        //                    Toast.makeText(Popup2.this, &quot;Views Updated&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(Popup2.this, &quot;Views Not Updated&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        // My XML is as follow\r\n        \r\n        \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/relativeLayout2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@null&quot;\r\n            android:foregroundGravity=&quot;bottom&quot;\r\n            android:gravity=&quot;bottom&quot;\r\n            android:padding=&quot;0dp&quot;\r\n        \r\n            &gt;\r\n        \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@color/material_dynamic_neutral80&quot;\r\n                android:foregroundGravity=&quot;bottom&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;69dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout2&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textView23&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Coins&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/tv_coins2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;00&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout2&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;69dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout293&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textView28&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Play Time&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/play_time2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;00:00&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout293&quot;\r\n                    android:layout_width=&quot;404dp&quot;\r\n                    android:layout_height=&quot;69dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;&gt;\r\n        \r\n                    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:id=&quot;@+id/constraintLayout23&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;69dp&quot;\r\n                        android:layout_marginStart=&quot;20dp&quot;\r\n                        android:layout_marginEnd=&quot;20dp&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/textView62&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;Reward&quot;\r\n                            android:textSize=&quot;16sp&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                            app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\r\n        \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/reward_2&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;00&quot;\r\n                            android:textSize=&quot;16sp&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout3&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout4&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout293&quot;&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textView2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Announcment&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        app:layout_constraintVertical_bias=&quot;0.545&quot; /&gt;\r\n        \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/tv_announsment&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Coming Soon&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout4&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;72dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;&gt;\r\n        \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/window_close&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Skip Video&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/stop_watch2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Stop Watching&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    //Here is my logcat\r\nSir here is my logcat when i trying to run my android 11 app running smoothly but on lower version of android and also on emulator app got crash when i click on recyclerview item view.\r\ni try to changed my layout and comment out all code of pop2 activity then not crashing.\r\nactually in my pop2 activty i am inflating a view and also setting content view \r\n\r\n\r\n    \r\n    2022-09-11 11:59:55.342 3279-3327/com.shahabtech.ytbooster D/EGL_adreno: eglGetConfigAttrib: bad attrib 0x3339\r\n    2022-09-11 11:59:55.342 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: tid 3327: eglGetConfigAttrib(1207): error 0x3004 (EGL_BAD_ATTRIBUTE)\r\n    2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: [getAttribValue] Bad attribute idx\r\n    2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster D/EGL_adreno: eglGetConfigAttrib: bad attrib 0x3339\r\n    2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: tid 3327: eglGetConfigAttrib(1207): error 0x3004 (EGL_BAD_ATTRIBUTE)\r\n    2022-09-11 12:00:23.134 3279-3279/com.shahabtech.ytbooster W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@b8b0d00\r\n    2022-09-11 12:00:23.164 3279-3279/com.shahabtech.ytbooster D/AndroidRuntime: Shutting down VM\r\n    2022-09-11 12:00:23.166 3279-3279/com.shahabtech.ytbooster E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.shahabtech.ytbooster, PID: 3279\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.shahabtech.ytbooster/com.shahabtech.ytbooster.Popup2}: android.view.InflateException: Binary XML file line #14: Binary XML file line #14: Error inflating class &lt;unknown&gt;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n         Caused by: android.view.InflateException: Binary XML file line #14: Binary XML file line #14: Error inflating class &lt;unknown&gt;\r\n         Caused by: android.view.InflateException: Binary XML file line #14: Error inflating class &lt;unknown&gt;\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n            at com.shahabtech.ytbooster.Popup2.onCreate(Popup2.java:59)\r\n            at android.app.Activity.performCreate(Activity.java:7197)\r\n            at android.app.Activity.performCreate(Activity.java:7188)\r\n\r\n","title":"One of my activity is crashing on emulator","body":"<pre><code>This is my first question please bear with me.\nI am trying to drawing over other app \nmy code is working fine on Mobile but when i am trying to run this app on emulator my app get crash when i click on button.\nactually i am intenting from Main activty with itemclick listner \n\n\npackage com.shahabtech.ytbooster;\n    \n    import androidx.annotation.NonNull;\n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.content.ActivityNotFoundException;\n    import android.content.Context;\n    import android.content.Intent;\n    import android.graphics.PixelFormat;\n    import android.net.Uri;\n    import android.os.Build;\n    import android.os.Bundle;\n    import android.os.CountDownTimer;\n    import android.util.Log;\n    import android.view.Gravity;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.view.WindowManager;\n    import android.widget.Button;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    import com.google.android.gms.auth.api.signin.GoogleSignInClient;\n    import com.google.android.gms.tasks.OnCompleteListener;\n    import com.google.android.gms.tasks.Task;\n    import com.google.firebase.FirebaseApp;\n    import com.google.firebase.auth.FirebaseAuth;\n    import com.google.firebase.database.DataSnapshot;\n    import com.google.firebase.database.DatabaseError;\n    import com.google.firebase.database.DatabaseReference;\n    import com.google.firebase.database.FirebaseDatabase;\n    import com.google.firebase.database.ValueEventListener;\n    \n    import java.util.ArrayList;\n    import java.util.HashMap;\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    public class Popup2 extends AppCompatActivity {\n        private WindowManager.LayoutParams mParams;\n        private LayoutInflater layoutInflater;\n        private View mView;\n        private FirebaseAuth mAuth;\n        private  Context context;\n        private WindowManager mWindowManager;\n        int UserCoins2 = 0;\n        ArrayList&lt;model&gt;List;\n        SelectListner selectListner;\n        int Reward;\n        int Views;\n        String YT_ID;\n        String UID;\n        DatabaseReference databaseReference;\n        FirebaseDatabase firebaseDatabase;\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_popup2);\n    \n            mAuth = FirebaseAuth.getInstance(FirebaseApp.initializeApp(this));\n            UID = mAuth.getInstance().getCurrentUser().getUid();\n    \n            getCoins();\n    \n            String yT_LINK = getIntent().getExtras().getString(&quot;LINK&quot;);\n            Reward = getIntent().getIntExtra(&quot;WATCHTIME&quot;,0);\n            Views = getIntent().getIntExtra(&quot;VIEWS&quot;,0);\n            YT_ID = getYouTubeId(yT_LINK);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                // set the layout parameters of the window\n                mParams = new WindowManager.LayoutParams(\n                        // Shrink the window to wrap the content rather\n                        // than filling the screen\n                        WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT,\n                        // Display it on top of other application windows\n                        WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n                        // Don't let it grab the input focus\n    //                    WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n                        WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON,\n                        PixelFormat.TRANSLUCENT);\n    \n            }\n            // getting a LayoutInflater\n            layoutInflater = (LayoutInflater) Popup2.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            // inflating the view with the custom layout we created\n            mView = layoutInflater.inflate(R.layout.activity_popup2, null);\n    \n            getCoins();\n            MycountDown mycountDown = new MycountDown(Reward*1000,1000);\n            mycountDown.start();\n    \n    \n            TextView TvRecord  =mView.findViewById(R.id.reward_2);\n            TextView TV_Views = mView.findViewById(R.id.tv_announsment);\n    //        TextView TV_PlayTime = mView.findViewById(R.id.play_time2);\n            TV_Views.setText(String.valueOf(Views));\n            TvRecord.setText(String.valueOf(Reward));\n    //        TV_PlayTime.setText(String.valueOf(Reward)+&quot; Seconds&quot;);\n    //        Tv_Coins.setText(String.valueOf(UserCoins2));\n            mView.findViewById(R.id.stop_watch2).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n    \n                    Intent intent = new Intent(Popup2.this,MainActivity.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    startActivity(intent);\n                    mycountDown.cancel();\n                    close2(Popup2.this);\n                }\n            });\n    \n            mParams.gravity = Gravity.BOTTOM;\n            mWindowManager = (WindowManager)Popup2.this.getSystemService(WINDOW_SERVICE);\n    \n            Open(Popup2.this);\n    //        Toast.makeText(Popup2.this, &quot;Link is &quot;+UserCoins2, Toast.LENGTH_SHORT).show();\n    \n            openYoutube();\n    \n        }\n    \n        public void Open(Context context) {\n    \n            try {\n                getCoins();\n                if(mView.getWindowToken()==null) {\n                    if(mView.getParent()==null) {\n                        mWindowManager.addView(mView, mParams);\n    //                    Toast.makeText(context, &quot;Opend&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            } catch (Exception e) {\n                Log.d(&quot;Error1&quot;,e.toString());\n            }\n    \n        }\n    \n        public void close2(Context context) {\n    \n            try {\n    \n                ((WindowManager)context.getSystemService(WINDOW_SERVICE)).removeView(mView);\n    \n                mView.invalidate();\n    \n                ((ViewGroup)mView.getParent()).removeAllViews();\n    \n    \n            } catch (Exception e) {\n                Log.d(&quot;Error2&quot;,e.toString());\n            }\n        }\n    \n        private void openYoutube(){\n            Intent appIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;vnd.youtube:&quot;+YT_ID));\n            Intent webIntent = new Intent(Intent.ACTION_VIEW,\n                    Uri.parse(&quot;http://www.youtube.com/watch?v=&quot;+YT_ID));\n            try {\n              Popup2.this.startActivity(appIntent);\n            } catch (ActivityNotFoundException ex) {\n    //            Popup2.this.startActivity(webIntent);\n                Toast.makeText(context, &quot;Install YouTube First &quot;+ex, Toast.LENGTH_SHORT).show();\n            }\n        }\n    \n        private void openYoutube2(){\n            Intent appIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;vnd.youtube:&quot;));\n            Intent webIntent = new Intent(Intent.ACTION_VIEW,\n                    Uri.parse(&quot;http://www.youtube.com/watch?v=&quot;));\n            try {\n                Popup2.this.startActivity(appIntent);\n            } catch (ActivityNotFoundException ex) {\n    //            Popup2.this.startActivity(webIntent);\n                Toast.makeText(context, &quot;Install YouTube First &quot;+ex, Toast.LENGTH_SHORT).show();\n            }\n        }\n    \n        private void getCoins(){\n            String UID = mAuth.getCurrentUser().getUid();\n           DatabaseReference reference;\n           reference = FirebaseDatabase.getInstance().getReference(&quot;USERS_DATA&quot;);\n           reference.child(UID).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n               @Override\n               public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                   if (task.isSuccessful()){\n                       if (task.getResult().exists()){\n    //                       Toast.makeText(Popup2.this, &quot;Successfully found&quot;, Toast.LENGTH_SHORT).show();\n                           DataSnapshot dataSnapshot = task.getResult();\n                           UserCoins2 = Integer.parseInt(String.valueOf(dataSnapshot.child(&quot;coins&quot;).getValue()));\n                           TextView TV_Coins = mView.findViewById(R.id.tv_coins2);\n                          TV_Coins.setText(String.valueOf(UserCoins2));\n    //                       Toast.makeText(Popup2.this, &quot;User Coins are &quot;+UserCoins2, Toast.LENGTH_SHORT).show();\n                       }else {\n                           Toast.makeText(Popup2.this, &quot;Empty&quot;, Toast.LENGTH_SHORT).show();\n                       }\n                   }else {\n                       Toast.makeText(Popup2.this, &quot;Data Not Found&quot;, Toast.LENGTH_SHORT).show();\n                   }\n               }\n           });\n        }\n    \n        public String getYouTubeId(String youTubeUrl) {\n            String pattern = &quot;(?&lt;=youtu.be/|watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\n            Pattern compiledPattern = Pattern.compile(pattern);\n            Matcher matcher = compiledPattern.matcher(youTubeUrl);\n            if (matcher.find()) {\n    \n                return matcher.group();\n            } else {\n    \n                return &quot;error&quot;;\n            }\n        }\n        public class MycountDown extends CountDownTimer{\n    \n            public MycountDown(long millisInFuture, long countDownInterval) {\n                super(millisInFuture, countDownInterval);\n            }\n    \n            @Override\n            public void onTick(long l) {\n    \n                TextView TV_PlayTime = mView.findViewById(R.id.play_time2);\n                TV_PlayTime.setText(String.valueOf(l/1000+&quot; Seconds&quot;));\n    \n            }\n    \n            @Override\n            public void onFinish() {\n    \n                update_coins();\n                update_views();\n                close2(Popup2.this);\n                Intent intent = new Intent(Popup2.this,MainActivity.class);\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                startActivity(intent);\n    \n            }\n        }\n    \n        private void update_coins() {\n    \n            UserCoins2 = UserCoins2 + Reward;\n    \n            HashMap Update_coins = new HashMap();\n            Update_coins.put(&quot;coins&quot;, UserCoins2);\n            databaseReference = firebaseDatabase.getInstance().getReference(&quot;USERS_DATA&quot;);\n            databaseReference.child(UID).updateChildren(Update_coins).addOnCompleteListener(new OnCompleteListener() {\n                @Override\n                public void onComplete(@NonNull Task task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(Popup2.this, &quot;Reward Granted&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(Popup2.this, &quot;Coins Not Updated&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n    \n        }\n    \n        private void update_views() {\n    \n            Views = Views + 1;\n    \n            HashMap Update_Views = new HashMap();\n            Update_Views.put(&quot;V_COMPLETED&quot;, Views);\n            databaseReference = firebaseDatabase.getInstance().getReference(&quot;LINKS&quot;).child(&quot;LINK&quot;);\n            databaseReference.child(YT_ID).updateChildren(Update_Views).addOnCompleteListener(new OnCompleteListener() {\n                @Override\n                public void onComplete(@NonNull Task task) {\n                    if (task.isSuccessful()) {\n    //                    Toast.makeText(Popup2.this, &quot;Views Updated&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(Popup2.this, &quot;Views Not Updated&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n        }\n    }\n    \n    \n    \n    // My XML is as follow\n    \n    \n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/relativeLayout2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@null&quot;\n        android:foregroundGravity=&quot;bottom&quot;\n        android:gravity=&quot;bottom&quot;\n        android:padding=&quot;0dp&quot;\n    \n        &gt;\n    \n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/material_dynamic_neutral80&quot;\n            android:foregroundGravity=&quot;bottom&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;69dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout2&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/textView23&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Coins&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/tv_coins2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;00&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout2&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;69dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout293&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/textView28&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Play Time&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/play_time2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;00:00&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout293&quot;\n                android:layout_width=&quot;404dp&quot;\n                android:layout_height=&quot;69dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;&gt;\n    \n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/constraintLayout23&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;69dp&quot;\n                    android:layout_marginStart=&quot;20dp&quot;\n                    android:layout_marginEnd=&quot;20dp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    \n                    &lt;TextView\n                        android:id=&quot;@+id/textView62&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Reward&quot;\n                        android:textSize=&quot;16sp&quot;\n                        android:textStyle=&quot;bold&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                        app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\n    \n                    &lt;TextView\n                        android:id=&quot;@+id/reward_2&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;00&quot;\n                        android:textSize=&quot;16sp&quot;\n                        android:textStyle=&quot;bold&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout3&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout4&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout293&quot;&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/textView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Announcment&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    app:layout_constraintVertical_bias=&quot;0.545&quot; /&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/tv_announsment&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Coming Soon&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout4&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;72dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;&gt;\n    \n                &lt;Button\n                    android:id=&quot;@+id/window_close&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Skip Video&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n                &lt;Button\n                    android:id=&quot;@+id/stop_watch2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Stop Watching&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    \n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n//Here is my logcat\n</code></pre>\n<p>Sir here is my logcat when i trying to run my android 11 app running smoothly but on lower version of android and also on emulator app got crash when i click on recyclerview item view.\ni try to changed my layout and comment out all code of pop2 activity then not crashing.\nactually in my pop2 activty i am inflating a view and also setting content view</p>\n<pre><code>2022-09-11 11:59:55.342 3279-3327/com.shahabtech.ytbooster D/EGL_adreno: eglGetConfigAttrib: bad attrib 0x3339\n2022-09-11 11:59:55.342 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: tid 3327: eglGetConfigAttrib(1207): error 0x3004 (EGL_BAD_ATTRIBUTE)\n2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: [getAttribValue] Bad attribute idx\n2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster D/EGL_adreno: eglGetConfigAttrib: bad attrib 0x3339\n2022-09-11 11:59:55.377 3279-3327/com.shahabtech.ytbooster E/EGL_adreno: tid 3327: eglGetConfigAttrib(1207): error 0x3004 (EGL_BAD_ATTRIBUTE)\n2022-09-11 12:00:23.134 3279-3279/com.shahabtech.ytbooster W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@b8b0d00\n2022-09-11 12:00:23.164 3279-3279/com.shahabtech.ytbooster D/AndroidRuntime: Shutting down VM\n2022-09-11 12:00:23.166 3279-3279/com.shahabtech.ytbooster E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.shahabtech.ytbooster, PID: 3279\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.shahabtech.ytbooster/com.shahabtech.ytbooster.Popup2}: android.view.InflateException: Binary XML file line #14: Binary XML file line #14: Error inflating class &lt;unknown&gt;\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: android.view.InflateException: Binary XML file line #14: Binary XML file line #14: Error inflating class &lt;unknown&gt;\n     Caused by: android.view.InflateException: Binary XML file line #14: Error inflating class &lt;unknown&gt;\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.shahabtech.ytbooster.Popup2.onCreate(Popup2.java:59)\n        at android.app.Activity.performCreate(Activity.java:7197)\n        at android.app.Activity.performCreate(Activity.java:7188)\n</code></pre>\n"},{"tags":["java","testing","jms","spock","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1662732268,"post_id":73663302,"comment_id":130080928,"body_markdown":"How are you configuring &amp; starting the message broker? Is it embedded as part of the test-suite or is it standalone?","body":"How are you configuring &amp; starting the message broker? Is it embedded as part of the test-suite or is it standalone?"},{"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"score":0,"creation_date":1662732517,"post_id":73663302,"comment_id":130081013,"body_markdown":"@JustinBertram It&#39;s standalone.","body":"@JustinBertram It&#39;s standalone."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1662732791,"post_id":73663302,"comment_id":130081120,"body_markdown":"How is the broker configured? I assume you&#39;re enforcing security. What does your `etc/login.config` look like?","body":"How is the broker configured? I assume you&#39;re enforcing security. What does your <code>etc&#47;login.config</code> look like?"},{"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"score":0,"creation_date":1662734018,"post_id":73663302,"comment_id":130081580,"body_markdown":"@JustinBertram It&#39;s a Java class with different beans and default settings like port, username etc. are loaded from another class. I&#39;ve instantiated the ActiveMQConnectionFactory with a brokerURL from that class, added a context with username and password from that class as well. Now I receive ```javax.jms.JMSRuntimeException: Failed to create session factory```, ```Caused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]```.","body":"@JustinBertram It&#39;s a Java class with different beans and default settings like port, username etc. are loaded from another class. I&#39;ve instantiated the ActiveMQConnectionFactory with a brokerURL from that class, added a context with username and password from that class as well. Now I receive <code>javax.jms.JMSRuntimeException: Failed to create session factory</code>, <code>Caused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]</code>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1662734338,"post_id":73663302,"comment_id":130081694,"body_markdown":"So before you were able to connect but not authenticate and now you&#39;re not even able to connect? If so, what changed? Also, how are you configuring security for your broker?","body":"So before you were able to connect but not authenticate and now you&#39;re not even able to connect? If so, what changed? Also, how are you configuring security for your broker?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331645,"post_id":73663302,"comment_id":131375342,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662796102,"creation_date":1662796102,"answer_id":73670139,"question_id":73663302,"body_markdown":"I cannot say anything about your ActiveMQ problem, because I never worked with that product before, and you did not provide an [MCVE](https://stackoverflow.com/help/mcve) (e.g. on GitHub) to reproduce it.\r\n\r\nWhat I can say is that your Spock test can never work like this:\r\n\r\n```java\r\ngiven:\r\nTestListener listener = new TestListener()\r\n\r\n// (...)\r\n\r\nthen:\r\n1 * listener.onMessage( message )\r\n```\r\n\r\nYou can only verify interactions on mocks or spies, but you instantiate `listener` like a normal object. So if you wish to check that the listener is actually being called, you need to mock it or spy on an instance. Furthermore, to me it does not look as if the listener has been wired into the system. So how does it know what to listen to? Maybe you have hidden the wiring right inside of class `TestListener` (which sounds a bit weird), but I have no way of knowing.","title":"Testing a JMS MessageListener","body":"<p>I cannot say anything about your ActiveMQ problem, because I never worked with that product before, and you did not provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> (e.g. on GitHub) to reproduce it.</p>\n<p>What I can say is that your Spock test can never work like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>given:\nTestListener listener = new TestListener()\n\n// (...)\n\nthen:\n1 * listener.onMessage( message )\n</code></pre>\n<p>You can only verify interactions on mocks or spies, but you instantiate <code>listener</code> like a normal object. So if you wish to check that the listener is actually being called, you need to mock it or spy on an instance. Furthermore, to me it does not look as if the listener has been wired into the system. So how does it know what to listen to? Maybe you have hidden the wiring right inside of class <code>TestListener</code> (which sounds a bit weird), but I have no way of knowing.</p>\n"}],"owner":{"account_id":25542851,"reputation":37,"user_id":19328650,"display_name":"podehi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662890182,"creation_date":1662731980,"question_id":73663302,"body_markdown":"I&#39;m not sure how to test a message listener. One thing is the error I receive. The other is I don&#39;t even know if I&#39;m on the right track.\r\n\r\n\r\n```java\r\nclass TestListenerTest extends Specification {\r\n    def &quot;TestListener should receive a message&quot;() {\r\n        given:\r\n        Message message = Mock ( Message )\r\n        TestListener listener = new TestListener()\r\n\r\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory()\r\n        JmsTemplate jmsTemplate = new JmsTemplate( connectionFactory )\r\n\r\n        when:\r\n        jmsTemplate.convertAndSend( &quot;TEST_QUEUE_IN&quot;, message )\r\n\r\n        then:\r\n        1 * listener.onMessage( message )\r\n    }\r\n}\r\n```\r\n\r\nI get the following error (without line break):\r\n\r\n```none\r\nAMQ229031: Unable to validate user from /127.0.0.1:53051.\r\nUsername: null; SSL certificate subject DN: unavailable;\r\n```\r\n\r\nWhen I add a `JMSContext` with `connectionFactory.createContext( &quot;userName&quot;, &quot;password&quot;)`, the error is still there, just with `userName` instead of `null`. However, I&#39;m not even sure if the way I test it is correct (barring the error).","title":"Testing a JMS MessageListener","body":"<p>I'm not sure how to test a message listener. One thing is the error I receive. The other is I don't even know if I'm on the right track.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestListenerTest extends Specification {\n    def &quot;TestListener should receive a message&quot;() {\n        given:\n        Message message = Mock ( Message )\n        TestListener listener = new TestListener()\n\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory()\n        JmsTemplate jmsTemplate = new JmsTemplate( connectionFactory )\n\n        when:\n        jmsTemplate.convertAndSend( &quot;TEST_QUEUE_IN&quot;, message )\n\n        then:\n        1 * listener.onMessage( message )\n    }\n}\n</code></pre>\n<p>I get the following error (without line break):</p>\n<pre class=\"lang-none prettyprint-override\"><code>AMQ229031: Unable to validate user from /127.0.0.1:53051.\nUsername: null; SSL certificate subject DN: unavailable;\n</code></pre>\n<p>When I add a <code>JMSContext</code> with <code>connectionFactory.createContext( &quot;userName&quot;, &quot;password&quot;)</code>, the error is still there, just with <code>userName</code> instead of <code>null</code>. However, I'm not even sure if the way I test it is correct (barring the error).</p>\n"},{"tags":["java","keycloak","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662889095,"creation_date":1662889095,"answer_id":73678225,"question_id":73671590,"body_markdown":"You have the token as a `String`, namely:\r\n\r\n    String token = authorize.getToken();\r\n\r\nnow you just need to parse it to get the Realm and Client roles, which are encoded in the token. For that you can use the [class TokenVerifier][1] from `org.keycloak.TokenVerifier`.\r\n\r\n\r\nFor example:\r\n\r\n\r\n    try {\r\n        AccessToken token = TokenVerifier.create(tokenString, AccessToken.class).getToken();\r\n        System.out.printf(&quot;Realm &#39;foo&#39; = Roles %s%n&quot;, token.getRealmAccess().getRoles());\r\n\r\n        token.getResourceAccess().forEach((k, v) -&gt; System.out.printf(&quot;Client &#39;%s&#39; = Roles &#39;%s&#39;%n&quot;, k, v.getRoles()));\r\n    } catch (VerificationException e) {\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/TokenVerifier.html","title":"How to get the Roles and Attributes of a Keycloak User","body":"<p>You have the token as a <code>String</code>, namely:</p>\n<pre><code>String token = authorize.getToken();\n</code></pre>\n<p>now you just need to parse it to get the Realm and Client roles, which are encoded in the token. For that you can use the <a href=\"https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/TokenVerifier.html\" rel=\"nofollow noreferrer\">class TokenVerifier</a> from <code>org.keycloak.TokenVerifier</code>.</p>\n<p>For example:</p>\n<pre><code>try {\n    AccessToken token = TokenVerifier.create(tokenString, AccessToken.class).getToken();\n    System.out.printf(&quot;Realm 'foo' = Roles %s%n&quot;, token.getRealmAccess().getRoles());\n\n    token.getResourceAccess().forEach((k, v) -&gt; System.out.printf(&quot;Client '%s' = Roles '%s'%n&quot;, k, v.getRoles()));\n} catch (VerificationException e) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1701153,"reputation":435,"user_id":1561188,"accept_rate":12,"display_name":"ghost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73678225,"answer_count":1,"score":2,"last_activity_date":1662889672,"creation_date":1662810745,"question_id":73671590,"body_markdown":"How do I get the roles and attributes of a user using the Java Client of Keycloak? Below is the code that I have written to get the access token of a user, however, I am not able to find the way to get the roles assigned to that user.\r\n\r\n```java\r\nConfiguration configuration = new Configuration();\r\nconfiguration.setRealm(&quot;foo&quot;);\r\nconfiguration.setResource(&quot;foo&quot;);\r\nconfiguration.setBearerOnly(Boolean.TRUE);\r\nconfiguration.setAuthServerUrl(&quot;http://localhost:8080&quot;);\r\nconfiguration.setCredentials(Map.of(&quot;secret&quot;, &quot;FV3P4ajYHedAUDtOa55EX5nzK8zc6jUA&quot;));\r\n\r\n\r\nAuthzClient authzClient = AuthzClient.create(configuration);\r\nAuthorizationRequest request = new AuthorizationRequest();\r\n\r\n\r\nAuthorizationResponse authorize = authzClient.authorization(&quot;john.doe&quot;, &quot;john.doe&quot;).authorize(request);\r\nString token = authorize.getToken();\r\nlog.info(&quot;Auth bearer token is {}&quot;, token);\r\n```","title":"How to get the Roles and Attributes of a Keycloak User","body":"<p>How do I get the roles and attributes of a user using the Java Client of Keycloak? Below is the code that I have written to get the access token of a user, however, I am not able to find the way to get the roles assigned to that user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration configuration = new Configuration();\nconfiguration.setRealm(&quot;foo&quot;);\nconfiguration.setResource(&quot;foo&quot;);\nconfiguration.setBearerOnly(Boolean.TRUE);\nconfiguration.setAuthServerUrl(&quot;http://localhost:8080&quot;);\nconfiguration.setCredentials(Map.of(&quot;secret&quot;, &quot;FV3P4ajYHedAUDtOa55EX5nzK8zc6jUA&quot;));\n\n\nAuthzClient authzClient = AuthzClient.create(configuration);\nAuthorizationRequest request = new AuthorizationRequest();\n\n\nAuthorizationResponse authorize = authzClient.authorization(&quot;john.doe&quot;, &quot;john.doe&quot;).authorize(request);\nString token = authorize.getToken();\nlog.info(&quot;Auth bearer token is {}&quot;, token);\n</code></pre>\n"},{"tags":["java","apache-camel","camel-ftp"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":1,"creation_date":1448099096,"post_id":33824134,"comment_id":55448399,"body_markdown":"Add @UriParams to the class, like FtpConfiguration does","body":"Add @UriParams to the class, like FtpConfiguration does"}],"answers":[{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662888140,"creation_date":1662888140,"answer_id":73678129,"question_id":33824134,"body_markdown":"As Claus Ibsen wrote you should change your code to:\r\n\r\n    @UriParams\r\n    public class FtpConfigurationExt extends FtpConfiguration {\r\n      // ...\r\n    }","title":"How to get uri parameter in custom component in Camel?","body":"<p>As Claus Ibsen wrote you should change your code to:</p>\n<pre><code>@UriParams\npublic class FtpConfigurationExt extends FtpConfiguration {\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":4639149,"reputation":1881,"user_id":3759505,"accept_rate":67,"display_name":"hk6279"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662888140,"creation_date":1448014613,"question_id":33824134,"body_markdown":"If I want to have a ftp custom component in apache-camel, how to set the ftp uri parameter to ftpConfiguration ? I have try to used a Uri param annotation to get the uri parameter but failed. Does anyone have idea ? Below is my sample code:\r\n\r\n    public class FtpConfigurationExt extends FtpConfiguration {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(FtpConfigurationExt.class);\r\n    \r\n        @UriParam(name = &quot;ftpCommands&quot;)\r\n\t    private String ftpCommands;\r\n\r\n    \tpublic FtpConfigurationExt() {\r\n\t    \tsuper();\r\n    \t}\r\n\r\n\t    public FtpConfigurationExt(URI uri) {\r\n\t\t    super(uri);\r\n    \t\tsetProtocol(&quot;ftp&quot;);\t\r\n    \t}\r\n\r\n\t    public String getFtpCommands() {\r\n\t\t    return ftpCommands;\r\n    \t}\r\n\r\n\t    public void setFtpCommands(String ftpCommands) {\r\n\t\t\tLOGGER.info(&quot; FtpConfigurationExt ftpCommands : &quot; + ftpCommands);\r\n\t\t    this.ftpCommands = ftpCommands;\r\n    \t}\r\n    }","title":"How to get uri parameter in custom component in Camel?","body":"<p>If I want to have a ftp custom component in apache-camel, how to set the ftp uri parameter to ftpConfiguration ? I have try to used a Uri param annotation to get the uri parameter but failed. Does anyone have idea ? Below is my sample code:</p>\n\n<pre><code>public class FtpConfigurationExt extends FtpConfiguration {\n    private static final Logger LOGGER = LoggerFactory.getLogger(FtpConfigurationExt.class);\n\n    @UriParam(name = \"ftpCommands\")\n    private String ftpCommands;\n\n    public FtpConfigurationExt() {\n        super();\n    }\n\n    public FtpConfigurationExt(URI uri) {\n        super(uri);\n        setProtocol(\"ftp\"); \n    }\n\n    public String getFtpCommands() {\n        return ftpCommands;\n    }\n\n    public void setFtpCommands(String ftpCommands) {\n        LOGGER.info(\" FtpConfigurationExt ftpCommands : \" + ftpCommands);\n        this.ftpCommands = ftpCommands;\n    }\n}\n</code></pre>\n"},{"tags":["java","ibm-midrange"],"comments":[{"owner":{"account_id":54524,"reputation":1740,"user_id":163109,"accept_rate":100,"display_name":"Hellion"},"score":0,"creation_date":1659473886,"post_id":73213580,"comment_id":129302536,"body_markdown":"Most likely the user&#39;s installation of ACS got changed or moved and their ACSBundle.jar (which contains the AcsResourceManager class that the error message says is Not Found) is no longer where the AcsLaunch_Win-32 program expects it to be.","body":"Most likely the user&#39;s installation of ACS got changed or moved and their ACSBundle.jar (which contains the AcsResourceManager class that the error message says is Not Found) is no longer where the AcsLaunch_Win-32 program expects it to be."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662887738,"creation_date":1662887738,"answer_id":73678099,"question_id":73213580,"body_markdown":"What you see indicate a situation where some Java classes cannot be found where they are being looked for (the Java class path which is notoriously brittle)\r\n\r\nThe top part of the screen shot indicate that the &quot;jt400.jar&quot; (which might have another name depending on how you got it) is not on the classpath anymore (as it has worked before).  ","title":"Why am I getting an error in Java AS400 error while extracting files?","body":"<p>What you see indicate a situation where some Java classes cannot be found where they are being looked for (the Java class path which is notoriously brittle)</p>\n<p>The top part of the screen shot indicate that the &quot;jt400.jar&quot; (which might have another name depending on how you got it) is not on the classpath anymore (as it has worked before).</p>\n"}],"owner":{"account_id":5638170,"reputation":963,"user_id":4462995,"accept_rate":41,"display_name":"djblois"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662887738,"creation_date":1659473055,"question_id":73213580,"body_markdown":"At my job we use this batch file to extract text files from our AS400 and save them on our hard drive. here is a sample of the bat file:\r\n\r\n        echo on\r\n        \r\n        REM ****************\r\n        SET mydate=%date:~4,2%-%date:~7,2%-%date:~12,2%\r\n        SET myuser=%username%\r\n        echo %myuser%\r\n        REM ****************\r\n        \r\n        C:\r\n        \r\n        cd C:\\Users\\%myuser%\\IBM\\ClientSolutions\\Start_Programs\\Windows_i386-32\\\r\n        \r\n        echo on\r\n        echo Starting AS400 Transfer For Marketing Files as %myuser%\r\n        echo.\r\n    \r\n        acslaunch_win-32.exe /plugin=download \\\\Path\\DGCC008P.dtfx &gt;&gt; \r\n        \\\\Path\\TransferLogs\\clm_Monthly_%mydate%_Log.txt\r\n\r\nThis was working last month for a user and it still works on my system but it stopped working for this user.  I do not have much java or AS400 experience and tried doing a search online.  Here is the error.  [![enter image description here][1]][1]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5HtxF.jpg\r\n\r\nAny help would be appreciated.","title":"Why am I getting an error in Java AS400 error while extracting files?","body":"<p>At my job we use this batch file to extract text files from our AS400 and save them on our hard drive. here is a sample of the bat file:</p>\n<pre><code>    echo on\n    \n    REM ****************\n    SET mydate=%date:~4,2%-%date:~7,2%-%date:~12,2%\n    SET myuser=%username%\n    echo %myuser%\n    REM ****************\n    \n    C:\n    \n    cd C:\\Users\\%myuser%\\IBM\\ClientSolutions\\Start_Programs\\Windows_i386-32\\\n    \n    echo on\n    echo Starting AS400 Transfer For Marketing Files as %myuser%\n    echo.\n\n    acslaunch_win-32.exe /plugin=download \\\\Path\\DGCC008P.dtfx &gt;&gt; \n    \\\\Path\\TransferLogs\\clm_Monthly_%mydate%_Log.txt\n</code></pre>\n<p>This was working last month for a user and it still works on my system but it stopped working for this user.  I do not have much java or AS400 experience and tried doing a search online.  Here is the error.  <a href=\"https://i.stack.imgur.com/5HtxF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HtxF.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662877800,"creation_date":1662877179,"answer_id":73677236,"question_id":73677223,"body_markdown":"The reason is below code\r\n\r\n    ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(10);\r\n    for(int i=0;i&lt;10;i++) {\r\n      newFixedThreadPool.submit(()-&gt; \r\n      System.out.println(Thread.currentThread().toString()+&quot; &quot;+nm.incrementCount()));\r\n    }\r\n\r\n\r\nThe 10 threads are not guarantee to execute in order:\r\n&gt; `System.out.println` and `nm.incrementCount()` are not guaranteed in the same order\r\n\r\nA more details explanation:\r\n1. `Thread-1` invoke `nm.incrementCount()`,the value is 1\r\n2. `Thread-2` invoke `nm.incrementCount()`,the value is 2\r\n3. `Thread-2` print value of `nm.incrementCount()`,the output is 2\r\n4. `Thread-1` print value of `nm.incrementCount()`,the output is 1\r\n\r\n\r\nIf you want to them to print in order,you can use `newFixedThreadPool` or `newSingleThreadExecutor()` instead\r\n\r\n    ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(1);\r\n    //ExecutorService newFixedThreadPool = Executors.newSingleThreadExecutor();\r\n    for(int i=0;i&lt;10;i++) {\r\n      newFixedThreadPool.submit(()-&gt; \r\n      System.out.println(Thread.currentThread().getName()+&quot; &quot;+nm.incrementCount()));\r\n    }","title":"Why my output for this Multi threading program is unordered?","body":"<p>The reason is below code</p>\n<pre><code>ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(10);\nfor(int i=0;i&lt;10;i++) {\n  newFixedThreadPool.submit(()-&gt; \n  System.out.println(Thread.currentThread().toString()+&quot; &quot;+nm.incrementCount()));\n}\n</code></pre>\n<p>The 10 threads are not guarantee to execute in order:</p>\n<blockquote>\n<p><code>System.out.println</code> and <code>nm.incrementCount()</code> are not guaranteed in the same order</p>\n</blockquote>\n<p>A more details explanation:</p>\n<ol>\n<li><code>Thread-1</code> invoke <code>nm.incrementCount()</code>,the value is 1</li>\n<li><code>Thread-2</code> invoke <code>nm.incrementCount()</code>,the value is 2</li>\n<li><code>Thread-2</code> print value of <code>nm.incrementCount()</code>,the output is 2</li>\n<li><code>Thread-1</code> print value of <code>nm.incrementCount()</code>,the output is 1</li>\n</ol>\n<p>If you want to them to print in order,you can use <code>newFixedThreadPool</code> or <code>newSingleThreadExecutor()</code> instead</p>\n<pre><code>ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(1);\n//ExecutorService newFixedThreadPool = Executors.newSingleThreadExecutor();\nfor(int i=0;i&lt;10;i++) {\n  newFixedThreadPool.submit(()-&gt; \n  System.out.println(Thread.currentThread().getName()+&quot; &quot;+nm.incrementCount()));\n}\n</code></pre>\n"}],"owner":{"account_id":10201573,"reputation":17,"user_id":16655366,"display_name":"Utkal keshari Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73677236,"answer_count":1,"score":1,"last_activity_date":1662887550,"creation_date":1662876946,"question_id":73677223,"body_markdown":"```\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.ScheduledFuture;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class ScheduledExecuterServicePractice {\r\n\r\n  public static void main(String[] args) {\r\n    // TODO Auto-generated method stub\r\n    System.out.println(&quot;Started&quot;);\r\n    \r\n    NumberManager nm= new NumberManager();\r\n    \r\n    ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(10);\r\n    for(int i=0;i&lt;10;i++) {\r\n    newFixedThreadPool.submit(()-&gt; \r\n    System.out.println(Thread.currentThread().toString()+&quot; &quot;+nm.incrementCount()));\r\n    }\r\n    newFixedThreadPool.shutdown();\r\n  }\r\n\r\n}\r\n\r\nclass NumberManager{\r\n  //int count =0;\r\n  AtomicInteger count = new AtomicInteger();\r\n  public int incrementCount() {\r\n    \r\n    return count.incrementAndGet();\r\n    \r\n  }\r\n}\r\n\r\n```\r\n\r\nThe output is\r\n```\r\n Started\r\nThread[pool-2-thread-3,5,main] 1\r\nThread[pool-2-thread-4,5,main] 4\r\nThread[pool-2-thread-1,5,main] 3\r\nThread[pool-2-thread-5,5,main] 5\r\nThread[pool-2-thread-2,5,main] 2\r\nThread[pool-2-thread-6,5,main] 6\r\nThread[pool-2-thread-7,5,main] 8\r\nThread[pool-2-thread-8,5,main] 7\r\nThread[pool-2-thread-9,5,main] 9\r\nThread[pool-2-thread-10,5,main] 10\r\n\r\n```\r\nMy question is how the value 4 is printed before 3. I have used atomic class. So only one thread can do the operation at on time. \r\n\r\nI have printed the thread name and the count. So if the count is 0 and one thread comes and make it 1 so that should be displayed in the terminal right? then if another thread comes and executes then the value 2 will be printed ? But Here I don&#39;t understand.","title":"Why my output for this Multi threading program is unordered?","body":"<pre><code>import java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.ScheduledFuture;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class ScheduledExecuterServicePractice {\n\n  public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(&quot;Started&quot;);\n    \n    NumberManager nm= new NumberManager();\n    \n    ExecutorService newFixedThreadPool = Executors.newFixedThreadPool(10);\n    for(int i=0;i&lt;10;i++) {\n    newFixedThreadPool.submit(()-&gt; \n    System.out.println(Thread.currentThread().toString()+&quot; &quot;+nm.incrementCount()));\n    }\n    newFixedThreadPool.shutdown();\n  }\n\n}\n\nclass NumberManager{\n  //int count =0;\n  AtomicInteger count = new AtomicInteger();\n  public int incrementCount() {\n    \n    return count.incrementAndGet();\n    \n  }\n}\n\n</code></pre>\n<p>The output is</p>\n<pre><code> Started\nThread[pool-2-thread-3,5,main] 1\nThread[pool-2-thread-4,5,main] 4\nThread[pool-2-thread-1,5,main] 3\nThread[pool-2-thread-5,5,main] 5\nThread[pool-2-thread-2,5,main] 2\nThread[pool-2-thread-6,5,main] 6\nThread[pool-2-thread-7,5,main] 8\nThread[pool-2-thread-8,5,main] 7\nThread[pool-2-thread-9,5,main] 9\nThread[pool-2-thread-10,5,main] 10\n\n</code></pre>\n<p>My question is how the value 4 is printed before 3. I have used atomic class. So only one thread can do the operation at on time.</p>\n<p>I have printed the thread name and the count. So if the count is 0 and one thread comes and make it 1 so that should be displayed in the terminal right? then if another thread comes and executes then the value 2 will be printed ? But Here I don't understand.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662839404,"creation_date":1662839404,"answer_id":73674761,"question_id":73673885,"body_markdown":"refer to [firebase documentation][1] and read about the function called `push` , they clearly said that \r\n\r\n&gt; push\t: Add to a list of data in the database. Every time you push a new node onto a list, your database generates a unique key, like messages/users/&lt;unique-user-id&gt;/&lt;username&gt;\r\n\r\nso that&#39;s means that every time you are pushing to the database , a new record with a unique **ID** will be generated every you push and you will not be able to override a record using the function `push` as every time it&#39;s called , it will generate a unique ID that you don&#39; want in your case. \r\n\r\nto avoid that , instead of \r\n\r\n    reference.push().setValue(hashMap, new DatabaseReference.CompletionListener(){ . . . }\r\n\r\nwrite :\r\n\r\n    reference.setValue(hashMap, new DatabaseReference.CompletionListener(){ . . . }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/admin/save-data","title":"How I can Delete Record from Firebase?","body":"<p>refer to <a href=\"https://firebase.google.com/docs/database/admin/save-data\" rel=\"nofollow noreferrer\">firebase documentation</a> and read about the function called <code>push</code> , they clearly said that</p>\n<blockquote>\n<p>push  : Add to a list of data in the database. Every time you push a new node onto a list, your database generates a unique key, like messages/users//</p>\n</blockquote>\n<p>so that's means that every time you are pushing to the database , a new record with a unique <strong>ID</strong> will be generated every you push and you will not be able to override a record using the function <code>push</code> as every time it's called , it will generate a unique ID that you don' want in your case.</p>\n<p>to avoid that , instead of</p>\n<pre><code>reference.push().setValue(hashMap, new DatabaseReference.CompletionListener(){ . . . }\n</code></pre>\n<p>write :</p>\n<pre><code>reference.setValue(hashMap, new DatabaseReference.CompletionListener(){ . . . }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662887049,"creation_date":1662886704,"answer_id":73678015,"question_id":73673885,"body_markdown":"If you want to delete a record from the Realtime Database, you have to create a reference that points to that node. In your particular case it would be:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    db.child(&quot;poll_post&quot;).child(&quot;-NBcO...y8cX&quot;).removeValue();\r\n\r\nIf you don&#39;t know the key, then you have to create a query to find that post based on something that uniquely identifies it, for example, the `time_post`. So here is the code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tQuery queryByTime = db.child(&quot;poll_post&quot;).orderByChild(&quot;time_post&quot;).equalTo(1662830174410);\r\n    queryByTime.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tds.getRef().removeValue();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nYou can also attach a listener to the `removeValue()` operation to see if something goes wrong.","title":"How I can Delete Record from Firebase?","body":"<p>If you want to delete a record from the Realtime Database, you have to create a reference that points to that node. In your particular case it would be:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\ndb.child(&quot;poll_post&quot;).child(&quot;-NBcO...y8cX&quot;).removeValue();\n</code></pre>\n<p>If you don't know the key, then you have to create a query to find that post based on something that uniquely identifies it, for example, the <code>time_post</code>. So here is the code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nQuery queryByTime = db.child(&quot;poll_post&quot;).orderByChild(&quot;time_post&quot;).equalTo(1662830174410);\nqueryByTime.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                ds.getRef().removeValue();\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>You can also attach a listener to the <code>removeValue()</code> operation to see if something goes wrong.</p>\n"}],"owner":{"account_id":25437524,"reputation":13,"user_id":19241020,"display_name":"samer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73674761,"answer_count":2,"score":0,"last_activity_date":1662887049,"creation_date":1662831001,"question_id":73673885,"body_markdown":"I want to delete this record ? [![enter image description here][1]][1]\r\n\r\n\r\n**Because I don&#39;t know what exactly it is, I want to know what it is... I expect that it is a special key for every data I upload it creates it automatically How do I delete and what is this key?**\r\n\r\n     DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;poll_post&quot;).child(firebaseUser.getUid());\r\n            HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n            \r\n            String postid = reference.push().getKey();\r\n    \r\n            hashMap.put(&quot;postid&quot;, postid);\r\n            hashMap.put(&quot;time_post&quot;, ServerValue.TIMESTAMP);\r\n            hashMap.put(&quot;stopcomment&quot;, checked);\r\n    \r\n            hashMap.put(&quot;tv_question&quot;, addcomment.getText().toString());\r\n            hashMap.put(&quot;tvoption1&quot;, Answer1.getText().toString());\r\n            hashMap.put(&quot;tvoption2&quot;, Answer2.getText().toString());\r\n            hashMap.put(&quot;vote1&quot;,&quot;0&quot;);\r\n            hashMap.put(&quot;vote2&quot;, &quot;0&quot;);\r\n    \r\n            hashMap.put(&quot;publisher&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n    \r\n            reference.push().setValue(hashMap, new DatabaseReference.CompletionListener() {\r\n                @Override\r\n                public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\r\n                    //Problem with saving the data\r\n                    if (databaseError != null) {\r\n    \r\n    \r\n                        Toast.makeText(Write_poll.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                        myLoadingButton.showErrorButton();\r\n    \r\n                    } else {\r\n    \r\n    \r\n                        myLoadingButton.showDoneButton();\r\n                  finish();\r\n                    }\r\n    \r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9CzVS.png","title":"How I can Delete Record from Firebase?","body":"<p>I want to delete this record ? <a href=\"https://i.stack.imgur.com/9CzVS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9CzVS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Because I don't know what exactly it is, I want to know what it is... I expect that it is a special key for every data I upload it creates it automatically How do I delete and what is this key?</strong></p>\n<pre><code> DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;poll_post&quot;).child(firebaseUser.getUid());\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n        \n        String postid = reference.push().getKey();\n\n        hashMap.put(&quot;postid&quot;, postid);\n        hashMap.put(&quot;time_post&quot;, ServerValue.TIMESTAMP);\n        hashMap.put(&quot;stopcomment&quot;, checked);\n\n        hashMap.put(&quot;tv_question&quot;, addcomment.getText().toString());\n        hashMap.put(&quot;tvoption1&quot;, Answer1.getText().toString());\n        hashMap.put(&quot;tvoption2&quot;, Answer2.getText().toString());\n        hashMap.put(&quot;vote1&quot;,&quot;0&quot;);\n        hashMap.put(&quot;vote2&quot;, &quot;0&quot;);\n\n        hashMap.put(&quot;publisher&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n        reference.push().setValue(hashMap, new DatabaseReference.CompletionListener() {\n            @Override\n            public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\n                //Problem with saving the data\n                if (databaseError != null) {\n\n\n                    Toast.makeText(Write_poll.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                    myLoadingButton.showErrorButton();\n\n                } else {\n\n\n                    myLoadingButton.showDoneButton();\n              finish();\n                }\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","calendarview"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662867737,"post_id":73676565,"comment_id":130103985,"body_markdown":"Do not know what&#39;s the language for the last sentence","body":"Do not know what&#39;s the language for the last sentence"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662869965,"post_id":73676565,"comment_id":130104204,"body_markdown":"@lucumt _Do not know what&#39;s the language for the last sentence_ It&#39;s Portuguese. Do you not know about [Google translate](https://translate.google.com/) ? It will try to auto detect the language for you.","body":"@lucumt <i>Do not know what&#39;s the language for the last sentence</i> It&#39;s Portuguese. Do you not know about <a href=\"https://translate.google.com/\" rel=\"nofollow noreferrer\">Google translate</a> ? It will try to auto detect the language for you."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662870296,"post_id":73676565,"comment_id":130104239,"body_markdown":"Do you know about [Stack Overflow em Portugu&#234;s](https://pt.stackoverflow.com/) ?","body":"Do you know about <a href=\"https://pt.stackoverflow.com/\">Stack Overflow em Portugu&#234;s</a> ?"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1662874136,"post_id":73676565,"comment_id":130104570,"body_markdown":"@Abra Unfortunately,google services are not available in China!","body":"@Abra Unfortunately,google services are not available in China!"}],"answers":[{"tags":[],"owner":{"account_id":13814681,"reputation":142,"user_id":9971552,"display_name":"welcomeworld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662868956,"creation_date":1662868956,"answer_id":73676732,"question_id":73676565,"body_markdown":"        public interface OnDateChangeListener {\r\n\r\n        /**\r\n         * Called upon change of the selected day.\r\n         *\r\n         * @param view The view associated with this listener.\r\n         * @param year The year that was set.\r\n         * @param month The month that was set [0-11].\r\n         * @param dayOfMonth The day of the month that was set.\r\n         */\r\n        void onSelectedDayChange(@NonNull CalendarView view, int year, int month, int dayOfMonth);\r\n    }\r\n\r\nmonth index start with zero","title":"calendarView is not shown the correct months","body":"<pre><code>    public interface OnDateChangeListener {\n\n    /**\n     * Called upon change of the selected day.\n     *\n     * @param view The view associated with this listener.\n     * @param year The year that was set.\n     * @param month The month that was set [0-11].\n     * @param dayOfMonth The day of the month that was set.\n     */\n    void onSelectedDayChange(@NonNull CalendarView view, int year, int month, int dayOfMonth);\n}\n</code></pre>\n<p>month index start with zero</p>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662886043,"creation_date":1662886043,"answer_id":73677974,"question_id":73676565,"body_markdown":"It is because the month starts with 0 and not 1, try using this it will work for you:\r\n\r\n    calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n            @Override\r\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int day) {\r\n                String data = day+&quot;/&quot;+(month+1)+&quot;/&quot;+year;\r\n                Toast.makeText(PagamentoActivity.this, data, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });","title":"calendarView is not shown the correct months","body":"<p>It is because the month starts with 0 and not 1, try using this it will work for you:</p>\n<pre><code>calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n        @Override\n        public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int day) {\n            String data = day+&quot;/&quot;+(month+1)+&quot;/&quot;+year;\n            Toast.makeText(PagamentoActivity.this, data, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":23062614,"reputation":3,"user_id":18759340,"display_name":"isaac L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73677974,"answer_count":2,"score":0,"last_activity_date":1662886043,"creation_date":1662866137,"question_id":73676565,"body_markdown":"The calendarView it always shows a month before the chosen one, example: I choose 20/02/2002, calendarView min returns 20/01/2002.\r\nComo eu fa&#231;o pra que seja recuperado ao clicar o m&#234;s correto ?\r\n\r\nMy calendarView:\r\n\r\n    calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n                @Override\r\n                public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int day) {\r\n                    String data = dia+&quot;/&quot;+mes+&quot;/&quot;+ano;\r\n                    Toast.makeText(PagamentoActivity.this, data, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });","title":"calendarView is not shown the correct months","body":"<p>The calendarView it always shows a month before the chosen one, example: I choose 20/02/2002, calendarView min returns 20/01/2002.\nComo eu faço pra que seja recuperado ao clicar o mês correto ?</p>\n<p>My calendarView:</p>\n<pre><code>calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n            @Override\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int day) {\n                String data = dia+&quot;/&quot;+mes+&quot;/&quot;+ano;\n                Toast.makeText(PagamentoActivity.this, data, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662869940,"post_id":73676700,"comment_id":130104201,"body_markdown":"Does your code compile?","body":"Does your code compile?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1662870071,"post_id":73676700,"comment_id":130104215,"body_markdown":"It wont since i change the builder in StudentResponse since i want different output","body":"It wont since i change the builder in StudentResponse since i want different output"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662885948,"creation_date":1662885948,"answer_id":73677966,"question_id":73676700,"body_markdown":"Just loop over the student list:\r\n```\r\npublic static StudentResponse convertToResponse(List&lt;Student&gt; students) {\r\n    List&lt;String&gt; firstNames = new ArrayList&lt;&gt;(students.size());\r\n    List&lt;String&gt; lastNames = new ArrayList&lt;&gt;(students.size());\r\n    List&lt;Integer&gt; ages = new ArrayList&lt;&gt;(students.size());\r\n\r\n    for (Student student : students) {\r\n        firstNames.add(student.getFirstName());\r\n        lastNames.add(student.getLastNames());\r\n        ages.add(student.getAge());\r\n    }\r\n\r\n    return StudentResponse.builder()\r\n            .responsefirstname(firstNames)\r\n            .responselastname(lastNames)\r\n            .responseage(ages)\r\n            .build();\r\n}\r\n```","title":"Store response in a variable","body":"<p>Just loop over the student list:</p>\n<pre><code>public static StudentResponse convertToResponse(List&lt;Student&gt; students) {\n    List&lt;String&gt; firstNames = new ArrayList&lt;&gt;(students.size());\n    List&lt;String&gt; lastNames = new ArrayList&lt;&gt;(students.size());\n    List&lt;Integer&gt; ages = new ArrayList&lt;&gt;(students.size());\n\n    for (Student student : students) {\n        firstNames.add(student.getFirstName());\n        lastNames.add(student.getLastNames());\n        ages.add(student.getAge());\n    }\n\n    return StudentResponse.builder()\n            .responsefirstname(firstNames)\n            .responselastname(lastNames)\n            .responseage(ages)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73677966,"answer_count":1,"score":-1,"last_activity_date":1662885948,"creation_date":1662868476,"question_id":73676700,"body_markdown":"I&#39;m trying to store every response to a `Arrays.asList` in Builder but it won&#39;t work. I been trying a lot but no luck. How to do it? It&#39;s my first time to store a response in a single variable.\r\n\r\nStoring response in  `Arrays.asList` in Builder is just a test. Kindly suggest the best way to do it.\r\n```java\r\n//model entity\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\npublic class Student{\r\n   private String firstname;\r\n   private String lastname;\r\n   private String age;\r\n}\r\n```\r\n---------------\r\n```java\r\n//model entity\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class StudentResponse{\r\n   private List&lt;String&gt; responsefirstname;\r\n   private List&lt;String&gt; responselastname;\r\n   private List&lt;String&gt; responseage;\r\n\r\n   public static StudentResponse convertToResponse(List&lt;Student&gt; student){\r\n       return StudentResponse.builder()\r\n   .responsefirstname(Arrays.asList(student.get(0).getFirstname))\r\n   .responselastname(Arrays.asList(student.get(0).getLastname))\r\n   .responseage(Arrays.asList(student.get(0).getAge))\r\n   .build();\r\n}\r\n}\r\n```\r\n-----------------\r\n```java\r\n//Service\r\n\r\npublic class StudentService{\r\n\r\n   @Autowired\r\n    private StudentRepo repo;\r\n\r\n    public StudentResponse findStudent(String sfirstname){\r\n        List&lt;Student&gt; students =  repo.findByFirstname(sfirstname);\r\n        List&lt;StudentResponse&gt; studentResponse = students.stream\r\n        //   .map(StudentResponse::convertToResponse) //dont work\r\n           .collect(Collectors.toList());\r\n        return studentResponse\r\n    }\r\n}\r\n```\r\nExpected response must be like this\r\n```none\r\n{\r\n &quot;firstname&quot;:[&quot;justin&quot;,&quot;ana&quot;,&quot;marie&quot;],\r\n &quot;lastname&quot;: [&quot;last1&quot;,&quot;last2&quot;,&quot;las3&quot;],\r\n &quot;age&quot;: [45,55,28]\r\n}\r\n```\r\nnot multiple like this\r\n```none\r\n{\r\n &quot;firstname&quot;:&quot;justin&quot;,\r\n &quot;lastname&quot;: &quot;last2&quot;,\r\n &quot;age&quot;: 55\r\n},\r\n{\r\n &quot;firstname&quot;:&quot;justin&quot;,\r\n &quot;lastname&quot;: &quot;last1&quot;,\r\n &quot;age&quot;: 45\r\n}\r\n```\r\n","title":"Store response in a variable","body":"<p>I'm trying to store every response to a <code>Arrays.asList</code> in Builder but it won't work. I been trying a lot but no luck. How to do it? It's my first time to store a response in a single variable.</p>\n<p>Storing response in  <code>Arrays.asList</code> in Builder is just a test. Kindly suggest the best way to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//model entity\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\npublic class Student{\n   private String firstname;\n   private String lastname;\n   private String age;\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>//model entity\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class StudentResponse{\n   private List&lt;String&gt; responsefirstname;\n   private List&lt;String&gt; responselastname;\n   private List&lt;String&gt; responseage;\n\n   public static StudentResponse convertToResponse(List&lt;Student&gt; student){\n       return StudentResponse.builder()\n   .responsefirstname(Arrays.asList(student.get(0).getFirstname))\n   .responselastname(Arrays.asList(student.get(0).getLastname))\n   .responseage(Arrays.asList(student.get(0).getAge))\n   .build();\n}\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>//Service\n\npublic class StudentService{\n\n   @Autowired\n    private StudentRepo repo;\n\n    public StudentResponse findStudent(String sfirstname){\n        List&lt;Student&gt; students =  repo.findByFirstname(sfirstname);\n        List&lt;StudentResponse&gt; studentResponse = students.stream\n        //   .map(StudentResponse::convertToResponse) //dont work\n           .collect(Collectors.toList());\n        return studentResponse\n    }\n}\n</code></pre>\n<p>Expected response must be like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n &quot;firstname&quot;:[&quot;justin&quot;,&quot;ana&quot;,&quot;marie&quot;],\n &quot;lastname&quot;: [&quot;last1&quot;,&quot;last2&quot;,&quot;las3&quot;],\n &quot;age&quot;: [45,55,28]\n}\n</code></pre>\n<p>not multiple like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n &quot;firstname&quot;:&quot;justin&quot;,\n &quot;lastname&quot;: &quot;last2&quot;,\n &quot;age&quot;: 55\n},\n{\n &quot;firstname&quot;:&quot;justin&quot;,\n &quot;lastname&quot;: &quot;last1&quot;,\n &quot;age&quot;: 45\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","spring-security"],"comments":[{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1662878861,"post_id":73676911,"comment_id":130105095,"body_markdown":"Nvm I fixed....","body":"Nvm I fixed...."}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662884575,"creation_date":1662884575,"answer_id":73677830,"question_id":73676911,"body_markdown":"The issue is That some `tests` Fails, its the `test` task that gradle automatically execute with each build/run.\r\n\r\nThe error log is clear, You have to check \r\n\r\n`file:///C:/Users/patrick/Desktop/WidePeepoHappy/build/reports/tests/test/index.html` \r\n\r\nTo see the test results, and check whats fails.\r\n\r\nIf you want to build/run a Gradle project without tests, You can use `gradle build -x test` for building with test exclusion, or `gradle bootrun -x test` for running without having the need to execute `test` task.\r\n\r\nBut this is highly not recommended, But it might be helpful in development progress to build/run before you update the tests.","title":"Spring, Unable to build project with authentication manager bean provided","body":"<p>The issue is That some <code>tests</code> Fails, its the <code>test</code> task that gradle automatically execute with each build/run.</p>\n<p>The error log is clear, You have to check</p>\n<p><code>file:///C:/Users/patrick/Desktop/WidePeepoHappy/build/reports/tests/test/index.html</code></p>\n<p>To see the test results, and check whats fails.</p>\n<p>If you want to build/run a Gradle project without tests, You can use <code>gradle build -x test</code> for building with test exclusion, or <code>gradle bootrun -x test</code> for running without having the need to execute <code>test</code> task.</p>\n<p>But this is highly not recommended, But it might be helpful in development progress to build/run before you update the tests.</p>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662884575,"creation_date":1662871910,"question_id":73676911,"body_markdown":"I&#39;m trying to build a project using gradle version 7.5, but it always gives failed result. There&#39;s no error log showing I even try with --debug and --stacktrace option, but still don&#39;t find anything. So I try remove some code to get clue and this is what I&#39;ve found. This is how I config the security for spring.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SpringSecurityConfig {\r\n    \r\n        @Autowired\r\n        private UserDetailServiceImpl userDetailService;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http.csrf().disable()\r\n                       .authorizeHttpRequests((requests) -&gt; requests.antMatchers(&quot;/**&quot;).permitAll())\r\n                       .logout(LogoutConfigurer::permitAll)\r\n                       .build();\r\n        }\r\n    }\r\n\r\nIf I remove this bean. The project will be built successfully, but If I bring it back it will be failed (without any errors log).\r\n\r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n\r\nI wonder what happens here? I use spring boot version 2.7.3 (WebSecurityConfigurerAdapter is deprecated) and gradle version 7.5\r\n\r\nAll the error messages that I could gather\r\n\r\n    &gt; Task :test FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; There were failing tests. See the report at: file:///C:/Users/patrick/Desktop/WidePeepoHappy/build/reports/tests/test/index.html\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 21s\r\n    10 actionable tasks: 3 executed, 7 up-to-date\r\n\r\n","title":"Spring, Unable to build project with authentication manager bean provided","body":"<p>I'm trying to build a project using gradle version 7.5, but it always gives failed result. There's no error log showing I even try with --debug and --stacktrace option, but still don't find anything. So I try remove some code to get clue and this is what I've found. This is how I config the security for spring.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SpringSecurityConfig {\n\n    @Autowired\n    private UserDetailServiceImpl userDetailService;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                   .authorizeHttpRequests((requests) -&gt; requests.antMatchers(&quot;/**&quot;).permitAll())\n                   .logout(LogoutConfigurer::permitAll)\n                   .build();\n    }\n}\n</code></pre>\n<p>If I remove this bean. The project will be built successfully, but If I bring it back it will be failed (without any errors log).</p>\n<pre><code>    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p>I wonder what happens here? I use spring boot version 2.7.3 (WebSecurityConfigurerAdapter is deprecated) and gradle version 7.5</p>\n<p>All the error messages that I could gather</p>\n<pre><code>&gt; Task :test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///C:/Users/patrick/Desktop/WidePeepoHappy/build/reports/tests/test/index.html\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 21s\n10 actionable tasks: 3 executed, 7 up-to-date\n</code></pre>\n"},{"tags":["java","multithreading","sockets","networking","datagram"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1662883545,"post_id":73677454,"comment_id":130105715,"body_markdown":"Maybe I&#39;m misunderstanding what you mean by, &quot;_I don&#39;t want a thread just spinning for no reason_&#39;, but the [`InputStream#read()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#read()) method **is** blocking. But you&#39;d need a thread per stream. If you only want one thread then I think I agree with [this answer](https://stackoverflow.com/a/73677468/6395627)--you&#39;ll need something like a `Selector`.","body":"Maybe I&#39;m misunderstanding what you mean by, &quot;<i>I don&#39;t want a thread just spinning for no reason</i>&#39;, but the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/InputStream.html#read()\" rel=\"nofollow noreferrer\"><code>InputStream#read()</code></a> method <b>is</b> blocking. But you&#39;d need a thread per stream. If you only want one thread then I think I agree with <a href=\"https://stackoverflow.com/a/73677468/6395627\">this answer</a>--you&#39;ll need something like a <code>Selector</code>."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662884016,"creation_date":1662880239,"answer_id":73677468,"question_id":73677454,"body_markdown":"You need to use NIO Selectors.\r\n\r\nSo you create a selector and listen for events on that selector.\r\n\r\nThen you create e.g. a server socket and regular sockets and register them on the selector so that events are produced on that selector.\r\n\r\nThis way you can have a single thread, processing many many connections. For more information see **https://www.baeldung.com/java-nio-selector**\r\n\r\nOn Linux, under the hood, Epoll is used for network traffic.","title":"Thread Pools with many socket connections InputStream read method","body":"<p>You need to use NIO Selectors.</p>\n<p>So you create a selector and listen for events on that selector.</p>\n<p>Then you create e.g. a server socket and regular sockets and register them on the selector so that events are produced on that selector.</p>\n<p>This way you can have a single thread, processing many many connections. For more information see <strong><a href=\"https://www.baeldung.com/java-nio-selector\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nio-selector</a></strong></p>\n<p>On Linux, under the hood, Epoll is used for network traffic.</p>\n"}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73677468,"answer_count":1,"score":0,"last_activity_date":1662884016,"creation_date":1662880101,"question_id":73677454,"body_markdown":"The ServerSocket object&#39;s `accept()` method returns a `Socket` object that contains an `InputStream.&#39;\r\n\r\nAssuming I have many possible TCP connections to my ServerSocket, I would like a single thread to be blocked and waiting on any message received from those established Sockets. Once any message is received from anyone, go ahead and read it and then dispatch it or do what ever needs to be done. Then that single thread would block again until either that Socket or another Socket sends some data.\r\n\r\nCan this be done?\r\n\r\nFor example, if this was UDP traffic and I was using a `DatagramSocket` I could just use it&#39;s `receive()` method in a loop.\r\n\r\n```\r\nDatagramSocket s = new DatagramSocket(4444);\r\n\r\nwhile(true)\r\n{\r\n    //thread blocks and waits here... any client can send it data, and will only trigger on data being sent\r\n    s.receive()\r\n}\r\n```\r\n\r\nI want to avoid looping over all my connections and then testing each time in a non-blocking `read()` method from their `InputStream`. I don&#39;t want a thread just spinning for no reason.","title":"Thread Pools with many socket connections InputStream read method","body":"<p>The ServerSocket object's <code>accept()</code> method returns a <code>Socket</code> object that contains an `InputStream.'</p>\n<p>Assuming I have many possible TCP connections to my ServerSocket, I would like a single thread to be blocked and waiting on any message received from those established Sockets. Once any message is received from anyone, go ahead and read it and then dispatch it or do what ever needs to be done. Then that single thread would block again until either that Socket or another Socket sends some data.</p>\n<p>Can this be done?</p>\n<p>For example, if this was UDP traffic and I was using a <code>DatagramSocket</code> I could just use it's <code>receive()</code> method in a loop.</p>\n<pre><code>DatagramSocket s = new DatagramSocket(4444);\n\nwhile(true)\n{\n    //thread blocks and waits here... any client can send it data, and will only trigger on data being sent\n    s.receive()\n}\n</code></pre>\n<p>I want to avoid looping over all my connections and then testing each time in a non-blocking <code>read()</code> method from their <code>InputStream</code>. I don't want a thread just spinning for no reason.</p>\n"},{"tags":["java","android","variables","dialog"],"comments":[{"owner":{"account_id":157715,"reputation":47893,"user_id":375874,"accept_rate":88,"display_name":"Falmarri"},"score":3,"creation_date":1290708561,"post_id":4279787,"comment_id":4641460,"body_markdown":"Do you need to create a class that extends dialog? It doesn&#39;t look like you&#39;re actually doing anything special with the dialog that requires a subclass.","body":"Do you need to create a class that extends dialog? It doesn&#39;t look like you&#39;re actually doing anything special with the dialog that requires a subclass."},{"owner":{"account_id":10501,"reputation":60221,"user_id":19875,"accept_rate":92,"display_name":"Sheehan Alam"},"score":0,"creation_date":1290708722,"post_id":4279787,"comment_id":4641483,"body_markdown":"I guess not? Can you provide me an example of how to use the standard AlertDialog that holds an EditText? How would I grab that info and pass to the calling activity?","body":"I guess not? Can you provide me an example of how to use the standard AlertDialog that holds an EditText? How would I grab that info and pass to the calling activity?"}],"answers":[{"tags":[],"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1290709530,"creation_date":1290708754,"answer_id":4279847,"question_id":4279787,"body_markdown":"You can do that in different ways... actually, if your dialog has only an &quot;OK&quot; button to dismiss, why don&#39;t you just create a custom dialog using the `AlertDialog.Builder` class instead of subclassing `Dialog`?\r\n\r\nAnyway... let&#39;s suppose you have good reasons to do it the way you did it. In that case, I&#39;d use the ObserverPattern. Something like this:\r\n\r\n    public class CustomDialog extends Dialog  {\r\n    \r\n    \r\n        private String name;\r\n         public static EditText etName;\r\n         public String zip;\r\n        OnMyDialogResult mDialogResult; // the callback\r\n    \r\n        public CustomDialog(Context context, String name) {\r\n            super(context);\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            // same you have\r\n        }\r\n    \r\n        private class OKListener implements android.view.View.OnClickListener {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if( mDialogResult != null ){\r\n                    mDialogResult.finish(String.valueOf(etName.getText()));\r\n                }\r\n                CustomDialog.this.dismiss();\r\n            }\r\n        }\r\n    \r\n        public void setDialogResult(OnMyDialogResult dialogResult){\r\n            mDialogResult = dialogResult;\r\n        }\r\n    \r\n        public interface OnMyDialogResult{\r\n           void finish(String result);\r\n        }\r\n    }\r\n\r\nOn your activity:\r\n\r\n    CustomDialog dialog;\r\n    // initialization stuff, blah blah\r\n    dialog.setDialogResult(new OnMyDialogResult(){\r\n        public void finish(String result){\r\n            // now you can use the &#39;result&#39; on your activity\r\n        }\r\n    });\r\n\r\nReading your code it seems you already tried something similar.\r\n\r\n### Edit: doing it the easy way\r\n\r\nYou can still use your `mycustomdialog` layout. And this is how you would use the `AlertDialog.Builder`:\r\n\r\n    LayoutInflater inflater = LayoutInflater.from(YourActivity.this);\r\n    final View yourCustomView = inflater.inflate(R.layout.mycustomdialog, null);\r\n    \r\n    final TextView etName = (EditText) yourCustomView.findViewById(R.id.EditZip);\r\n    AlertDialog dialog = new AlertDialog.Builder(YourActivity.this)\r\n        .setTitle(&quot;Enter the Zip Code&quot;)\r\n        .setView(yourCustomView)\r\n        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int whichButton) {\r\n            \tmSomeVariableYouHaveOnYourActivity = etName.getText().toString();\r\n            }\r\n        })\r\n        .setNegativeButton(&quot;Cancel&quot;, null).create();\r\n    dialog.show();","title":"How can I pass values between a Dialog and an Activity?","body":"<p>You can do that in different ways... actually, if your dialog has only an \"OK\" button to dismiss, why don't you just create a custom dialog using the <code>AlertDialog.Builder</code> class instead of subclassing <code>Dialog</code>?</p>\n\n<p>Anyway... let's suppose you have good reasons to do it the way you did it. In that case, I'd use the ObserverPattern. Something like this:</p>\n\n<pre><code>public class CustomDialog extends Dialog  {\n\n\n    private String name;\n     public static EditText etName;\n     public String zip;\n    OnMyDialogResult mDialogResult; // the callback\n\n    public CustomDialog(Context context, String name) {\n        super(context);\n        this.name = name;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        // same you have\n    }\n\n    private class OKListener implements android.view.View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n            if( mDialogResult != null ){\n                mDialogResult.finish(String.valueOf(etName.getText()));\n            }\n            CustomDialog.this.dismiss();\n        }\n    }\n\n    public void setDialogResult(OnMyDialogResult dialogResult){\n        mDialogResult = dialogResult;\n    }\n\n    public interface OnMyDialogResult{\n       void finish(String result);\n    }\n}\n</code></pre>\n\n<p>On your activity:</p>\n\n<pre><code>CustomDialog dialog;\n// initialization stuff, blah blah\ndialog.setDialogResult(new OnMyDialogResult(){\n    public void finish(String result){\n        // now you can use the 'result' on your activity\n    }\n});\n</code></pre>\n\n<p>Reading your code it seems you already tried something similar.</p>\n\n<h3>Edit: doing it the easy way</h3>\n\n<p>You can still use your <code>mycustomdialog</code> layout. And this is how you would use the <code>AlertDialog.Builder</code>:</p>\n\n<pre><code>LayoutInflater inflater = LayoutInflater.from(YourActivity.this);\nfinal View yourCustomView = inflater.inflate(R.layout.mycustomdialog, null);\n\nfinal TextView etName = (EditText) yourCustomView.findViewById(R.id.EditZip);\nAlertDialog dialog = new AlertDialog.Builder(YourActivity.this)\n    .setTitle(\"Enter the Zip Code\")\n    .setView(yourCustomView)\n    .setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int whichButton) {\n            mSomeVariableYouHaveOnYourActivity = etName.getText().toString();\n        }\n    })\n    .setNegativeButton(\"Cancel\", null).create();\ndialog.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54789,"reputation":1690,"user_id":164005,"accept_rate":19,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390547717,"creation_date":1390547717,"answer_id":21326646,"question_id":4279787,"body_markdown":"I achieve this through broadcasting intent from **[dialog]** to **[activity]**.\r\n\r\nFirst passing the activity into the function:\r\n\r\n    public class DialogFactory {\r\n\r\n        public static AlertDialog addSomeDialog(Activity activity) {\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                      if (SOMETHING_IS_TRUE) {\r\n\r\n                          // prepare your parameters that need to be sent back to activity\r\n                          Intent intent = new Intent(IntentAction.INTENT_ADD_TASK);\r\n                          intent.putExtra(IntentConst.PARAM_A, aInput);\r\n                          intent.putExtra(IntentConst.PARAM_B, bInput);\r\n                          activity.sendBroadcast(intent);\r\n\r\n                          Toast.makeText(activity, &quot;Something is TRUE!&quot;, Toast.LENGTH_SHORT).show();\r\n                      } else {\r\n                          Toast.makeText(activity, &quot;Something NOT TRUE!&quot;, Toast.LENGTH_SHORT).show();\r\n                      }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nCall above function when some option menu or button clicked in your activity.\r\n\r\nThen prepare your activity to receive the intent with BroadcastReceiver in the activity:\r\n\r\n    private BroadcastReceiver mReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() == IntentAction.INTENT_ADD_TASK) {\r\n                 // Do whatever you want to refresh the layout or anything in the activity\r\n                 // or even ask fragments inside to act upon it.\r\n                 .....\r\n            }\r\n        }\r\n    };\r\n\r\nDon&#39;t forget to register &amp; un-register the receiver:\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        unregisterReceiver(mReceiver);\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerReceiver(mReceiver, new IntentFilter(IntentAction.INTENT_ADD_TASK));\r\n    }\r\n","title":"How can I pass values between a Dialog and an Activity?","body":"<p>I achieve this through broadcasting intent from <strong>[dialog]</strong> to <strong>[activity]</strong>.</p>\n\n<p>First passing the activity into the function:</p>\n\n<pre><code>public class DialogFactory {\n\n    public static AlertDialog addSomeDialog(Activity activity) {\n        builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                  if (SOMETHING_IS_TRUE) {\n\n                      // prepare your parameters that need to be sent back to activity\n                      Intent intent = new Intent(IntentAction.INTENT_ADD_TASK);\n                      intent.putExtra(IntentConst.PARAM_A, aInput);\n                      intent.putExtra(IntentConst.PARAM_B, bInput);\n                      activity.sendBroadcast(intent);\n\n                      Toast.makeText(activity, \"Something is TRUE!\", Toast.LENGTH_SHORT).show();\n                  } else {\n                      Toast.makeText(activity, \"Something NOT TRUE!\", Toast.LENGTH_SHORT).show();\n                  }\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Call above function when some option menu or button clicked in your activity.</p>\n\n<p>Then prepare your activity to receive the intent with BroadcastReceiver in the activity:</p>\n\n<pre><code>private BroadcastReceiver mReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction() == IntentAction.INTENT_ADD_TASK) {\n             // Do whatever you want to refresh the layout or anything in the activity\n             // or even ask fragments inside to act upon it.\n             .....\n        }\n    }\n};\n</code></pre>\n\n<p>Don't forget to register &amp; un-register the receiver:</p>\n\n<pre><code>@Override\nprotected void onPause() {\n    unregisterReceiver(mReceiver);\n    super.onPause();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    registerReceiver(mReceiver, new IntentFilter(IntentAction.INTENT_ADD_TASK));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5867720,"reputation":527,"user_id":4621089,"accept_rate":73,"display_name":"Afshin Izadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662883802,"creation_date":1662883802,"answer_id":73677765,"question_id":4279787,"body_markdown":"You can get the value of any public variables of your dialog class in onDismiss listener like this\r\n\r\n    SaveRecordedFileDialogClass cdd = new SaveRecordedFileDialogClass(this,extraVariable);\r\n    cdd.setOnDismissListener(new \r\n    DialogInterface.OnDismissListener() {\r\n            @Override\r\n            public void onDismiss(DialogInterface dialog) {\r\n                myPublicActivityVar=cdd.anyTypevariable;\r\n            }\r\n    });\r\n    cdd.show();","title":"How can I pass values between a Dialog and an Activity?","body":"<p>You can get the value of any public variables of your dialog class in onDismiss listener like this</p>\n<pre><code>SaveRecordedFileDialogClass cdd = new SaveRecordedFileDialogClass(this,extraVariable);\ncdd.setOnDismissListener(new \nDialogInterface.OnDismissListener() {\n        @Override\n        public void onDismiss(DialogInterface dialog) {\n            myPublicActivityVar=cdd.anyTypevariable;\n        }\n});\ncdd.show();\n</code></pre>\n"}],"owner":{"account_id":10501,"reputation":60221,"user_id":19875,"accept_rate":92,"display_name":"Sheehan Alam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62963,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":4279847,"answer_count":3,"score":32,"last_activity_date":1662883802,"creation_date":1290708214,"question_id":4279787,"body_markdown":"I am asking the user for input via a Dialog:\r\n\r\n\r\n    package com.android.cancertrials;\r\n    \r\n    import android.app.Dialog;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    public class CustomDialog extends Dialog  {\r\n    \r\n    \t\r\n        private String name;\r\n    //    private ReadyListener readyListener;\r\n         public static EditText etName;\r\n         public String zip;\r\n    \r\n        public CustomDialog(Context context, String name) {\r\n            super(context);\r\n            this.name = name;\r\n    //        this.readyListener = readyListener;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.mycustomdialog);\r\n            setTitle(&quot;Enter the Zip Code &quot;);\r\n            Button buttonOK = (Button) findViewById(R.id.ok);\r\n            buttonOK.setOnClickListener(new OKListener());\r\n            etName = (EditText) findViewById(R.id.EditZip);\r\n        }\r\n    \r\n        private class OKListener implements android.view.View.OnClickListener {\r\n            @Override\r\n            public void onClick(View v) {\r\n    //            readyListener.ready(String.valueOf(etName.getText()));\r\n                CustomDialog.this.dismiss();\r\n            }\r\n        }\r\n    \r\n    \t\r\n    }\r\n\r\n\r\nWhen the user hits OK, how can I pass the value that was entered in the textbox, back to a member variable in the Activity that launched it?","title":"How can I pass values between a Dialog and an Activity?","body":"<p>I am asking the user for input via a Dialog:</p>\n\n<pre><code>package com.android.cancertrials;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class CustomDialog extends Dialog  {\n\n\n    private String name;\n//    private ReadyListener readyListener;\n     public static EditText etName;\n     public String zip;\n\n    public CustomDialog(Context context, String name) {\n        super(context);\n        this.name = name;\n//        this.readyListener = readyListener;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.mycustomdialog);\n        setTitle(\"Enter the Zip Code \");\n        Button buttonOK = (Button) findViewById(R.id.ok);\n        buttonOK.setOnClickListener(new OKListener());\n        etName = (EditText) findViewById(R.id.EditZip);\n    }\n\n    private class OKListener implements android.view.View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n//            readyListener.ready(String.valueOf(etName.getText()));\n            CustomDialog.this.dismiss();\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>When the user hits OK, how can I pass the value that was entered in the textbox, back to a member variable in the Activity that launched it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612075374,"post_id":65975264,"comment_id":116649890,"body_markdown":"See Java Tutorials by Oracle, showing a `main` method: https://docs.oracle.com/javase/tutorial/java/concepts/class.html","body":"See Java Tutorials by Oracle, showing a <code>main</code> method: <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/class.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/concepts/class.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1612066387,"creation_date":1612061112,"answer_id":65975287,"question_id":65975264,"body_markdown":"**You need to put it inside the main method.**\r\n\r\nLike this: \r\n\r\n    package com.company;\r\n    import java.util.ArrayList;\r\n    \r\n    class AddressBook {\r\n        public static void main(String[] args){\r\n            ArrayList&lt;AddressEntry&gt; addressEntryList = new ArrayList&lt;AddressEntry&gt;();\r\n            AddressEntry test = new AddressEntry(&quot;john&quot;, &quot;doe&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;maybe&quot;, 1, &quot;I guess&quot;, &quot;ok&quot;);\r\n            addressEntryList.add(test);\r\n        }\r\n    }\r\n**Java cannot resolve method calls if the method call does not call from any method.**","title":"Cannot resolve symbol &quot;add&quot; while adding class object to an ArrayList","body":"<p><strong>You need to put it inside the main method.</strong></p>\n<p>Like this:</p>\n<pre><code>package com.company;\nimport java.util.ArrayList;\n\nclass AddressBook {\n    public static void main(String[] args){\n        ArrayList&lt;AddressEntry&gt; addressEntryList = new ArrayList&lt;AddressEntry&gt;();\n        AddressEntry test = new AddressEntry(&quot;john&quot;, &quot;doe&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;maybe&quot;, 1, &quot;I guess&quot;, &quot;ok&quot;);\n        addressEntryList.add(test);\n    }\n}\n</code></pre>\n<p><strong>Java cannot resolve method calls if the method call does not call from any method.</strong></p>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635328591,"creation_date":1635281546,"answer_id":69729818,"question_id":65975264,"body_markdown":"You can only use your `ArrayList` object methods (for example `.add`, `.remove` etc) inside other methods, this can also be the `main` method (obviously) ","title":"Cannot resolve symbol &quot;add&quot; while adding class object to an ArrayList","body":"<p>You can only use your <code>ArrayList</code> object methods (for example <code>.add</code>, <code>.remove</code> etc) inside other methods, this can also be the <code>main</code> method (obviously)</p>\n"}],"owner":{"account_id":15587100,"reputation":193,"user_id":11245288,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8502,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662883377,"creation_date":1612060831,"question_id":65975264,"body_markdown":"I am working on a class for an Address Book Application on Java called &quot;AddressBook.java&quot;, which I have written the following code:\r\n\r\n    package com.company;\r\n    import java.util.ArrayList;\r\n    \r\n    class AddressBook {\r\n        ArrayList&lt;AddressEntry&gt; addressEntryList = new ArrayList&lt;AddressEntry&gt;();\r\n        AddressEntry test = new AddressEntry(&quot;john&quot;, &quot;doe&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;maybe&quot;, 1, &quot;I guess&quot;, &quot;ok&quot;);\r\n        \r\n        addressEntryList.add(test);\r\n    }\r\nSince I was just testing the test object, I had to give random values for the variables from my AddressEntry class and it seemed to work well. However, when I ran it in IntelliJ, I received the error \r\n\r\n    Cannot resolve symbol &#39;add&#39;\r\nThis made the adding method not working. \r\n","title":"Cannot resolve symbol &quot;add&quot; while adding class object to an ArrayList","body":"<p>I am working on a class for an Address Book Application on Java called &quot;AddressBook.java&quot;, which I have written the following code:</p>\n<pre><code>package com.company;\nimport java.util.ArrayList;\n\nclass AddressBook {\n    ArrayList&lt;AddressEntry&gt; addressEntryList = new ArrayList&lt;AddressEntry&gt;();\n    AddressEntry test = new AddressEntry(&quot;john&quot;, &quot;doe&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;maybe&quot;, 1, &quot;I guess&quot;, &quot;ok&quot;);\n    \n    addressEntryList.add(test);\n}\n</code></pre>\n<p>Since I was just testing the test object, I had to give random values for the variables from my AddressEntry class and it seemed to work well. However, when I ran it in IntelliJ, I received the error</p>\n<pre><code>Cannot resolve symbol 'add'\n</code></pre>\n<p>This made the adding method not working.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1662232220,"post_id":73594840,"comment_id":129960553,"body_markdown":"If class `Person` is self-written: make the constructor `public`. If it is not self-written: look at the documentation, see if it has a factory method or builder.","body":"If class <code>Person</code> is self-written: make the constructor <code>public</code>. If it is not self-written: look at the documentation, see if it has a factory method or builder."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":1,"creation_date":1662232819,"post_id":73594840,"comment_id":129960677,"body_markdown":"Looks like you imported `android.app.Person` while you wanted to import `Person` in your app&#39;s namespace.","body":"Looks like you imported <code>android.app.Person</code> while you wanted to import <code>Person</code> in your app&#39;s namespace."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662276678,"post_id":73594840,"comment_id":129965428,"body_markdown":"Please edit your question and add the content of the `Person` class. Besides that, what is the exact import that you&#39;re using? Please respond using @AlexMamo","body":"Please edit your question and add the content of the <code>Person</code> class. Besides that, what is the exact import that you&#39;re using? Please respond using @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662316216,"post_id":73594840,"comment_id":129972904,"body_markdown":"I still don&#39;t see the definition of the `Person` class.","body":"I still don&#39;t see the definition of the <code>Person</code> class."},{"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"score":0,"creation_date":1662316771,"post_id":73594840,"comment_id":129973010,"body_markdown":"@AlexMamo I am not getting your point. Can you please explain what you are asking?","body":"@AlexMamo I am not getting your point. Can you please explain what you are asking?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662317363,"post_id":73594840,"comment_id":129973143,"body_markdown":"You&#39;re using in your code a `Person` class. Like here `Person person = new Person();`. How is this class defined?","body":"You&#39;re using in your code a <code>Person</code> class. Like here <code>Person person = new Person();</code>. How is this class defined?"},{"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"score":0,"creation_date":1662318197,"post_id":73594840,"comment_id":129973299,"body_markdown":"@AlexMamo Let me share the link: https://developer.android.com/reference/android/app/Person               As I know Person is a built-in class and we have to just import `android.app.Person` and by making an object we use. I also share the link of where I saw this thing: https://stackoverflow.com/questions/37561497/how-to-add-new-data-in-firebase-android","body":"@AlexMamo Let me share the link: <a href=\"https://developer.android.com/reference/android/app/Person\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/Person</a>               As I know Person is a built-in class and we have to just import <code>android.app.Person</code> and by making an object we use. I also share the link of where I saw this thing: <a href=\"https://stackoverflow.com/questions/37561497/how-to-add-new-data-in-firebase-android\" title=\"how to add new data in firebase android\">stackoverflow.com/questions/37561497/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662882206,"creation_date":1662363521,"answer_id":73605991,"question_id":73594840,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; &#39;Person()&#39; has private access in &#39;android.app.Person&#39;\r\n\r\nBecause there is no way you can create a new instance of the `Person` class. Why? because the constructor of the class is private:\r\n\r\n    private Person() {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\nSo in order to write an object in the Realtime Database, the class should contain a public no-argument constructor. That being said, to solve this issue,  you have to create your own Person class. At a minimum, it should look like this:\r\n\r\n    class Person {\r\n        String name;\r\n    }\r\n\r\nIn which the constructor is provided by the JVM, or if you want to use encapsulation:\r\n\r\n    class Person {\r\n        private String name;\r\n\r\n        public Person() {} //&#128072;\r\n\r\n        Person(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }","title":"&#39;Person()&#39; has private access in &#39;android.app.Person&#39;","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>'Person()' has private access in 'android.app.Person'</p>\n</blockquote>\n<p>Because there is no way you can create a new instance of the <code>Person</code> class. Why? because the constructor of the class is private:</p>\n<pre><code>private Person() {\n    throw new RuntimeException(&quot;Stub!&quot;);\n}\n</code></pre>\n<p>So in order to write an object in the Realtime Database, the class should contain a public no-argument constructor. That being said, to solve this issue,  you have to create your own Person class. At a minimum, it should look like this:</p>\n<pre><code>class Person {\n    String name;\n}\n</code></pre>\n<p>In which the constructor is provided by the JVM, or if you want to use encapsulation:</p>\n<pre><code>class Person {\n    private String name;\n\n    public Person() {} //👈\n\n    Person(String name) {\n        this.name = name;\n    }\n\n    void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73605991,"answer_count":1,"score":-1,"last_activity_date":1662882206,"creation_date":1662232097,"question_id":73594840,"body_markdown":"I am trying to insert a new country into the database without using the push() function, but the data override them in the database. So I found to use Person class.\r\n\r\n```\r\npublic class AddCountriesActivity extends AppCompatActivity {\r\n    EditText country;\r\n    Button insert;\r\n\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_countries);\r\n        insert = findViewById(R.id.insert);\r\n        country = findViewById(R.id.country);\r\n       \r\n insert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                uploadToFirebase();\r\n            }\r\n        });\r\n}\r\n\r\n protected void uploadToFirebase(){\r\n        String countrydb = country.getText().toString().trim();\r\n\r\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n        DatabaseReference root = db.getReference(&quot;Countries&quot;);\r\n        Person person = new Person();\r\n        person.setName(countrydb);\r\n        String s = &quot;country&quot;;\r\n        root.child(s).setValue(person);\r\n}\r\n}\r\n\r\n\r\n```\r\n\r\nBut the error occur that is given below:\r\n\r\n&gt; &#39;Person()&#39; has private access in &#39;android.app.Person&#39;\r\nCannot resolve method &#39;setName&#39; in &#39;Person&#39;\r\n\r\nPlease guide me that where I am making a mistake. Thank you!","title":"&#39;Person()&#39; has private access in &#39;android.app.Person&#39;","body":"<p>I am trying to insert a new country into the database without using the push() function, but the data override them in the database. So I found to use Person class.</p>\n<pre><code>public class AddCountriesActivity extends AppCompatActivity {\n    EditText country;\n    Button insert;\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_countries);\n        insert = findViewById(R.id.insert);\n        country = findViewById(R.id.country);\n       \n insert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                uploadToFirebase();\n            }\n        });\n}\n\n protected void uploadToFirebase(){\n        String countrydb = country.getText().toString().trim();\n\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\n        DatabaseReference root = db.getReference(&quot;Countries&quot;);\n        Person person = new Person();\n        person.setName(countrydb);\n        String s = &quot;country&quot;;\n        root.child(s).setValue(person);\n}\n}\n\n\n</code></pre>\n<p>But the error occur that is given below:</p>\n<blockquote>\n<p>'Person()' has private access in 'android.app.Person'\nCannot resolve method 'setName' in 'Person'</p>\n</blockquote>\n<p>Please guide me that where I am making a mistake. Thank you!</p>\n"},{"tags":["java","swing","timer"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1662880370,"post_id":73677299,"comment_id":130105273,"body_markdown":"Try using a [_Swing_ timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"Try using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\"><i>Swing</i> timer</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1662885119,"post_id":73677299,"comment_id":130105972,"body_markdown":"Also, you need to add a short delay (20 ms) between the key press and release.","body":"Also, you need to add a short delay (20 ms) between the key press and release."}],"owner":{"account_id":1481899,"reputation":1,"user_id":1391087,"display_name":"Reuven Douglas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662880353,"creation_date":1662878067,"question_id":73677299,"body_markdown":"I have the following code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Timer;\r\n    \r\n    import javax.swing.*;\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n        \tJFrame frame = new JFrame();\r\n            frame.setTitle(&quot;Title&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            JButton start = new JButton();\r\n            start.setText(&quot;Start&quot;);\r\n            JButton stop = new JButton();\r\n            stop.setText(&quot;Stop&quot;);\r\n            frame.getContentPane().add(stop, BorderLayout.PAGE_END);\r\n            frame.getContentPane().add(start, BorderLayout.PAGE_START);\r\n            frame.setSize(200, 100);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            start.addActionListener(new ActionListener() {\r\n            \tpublic void actionPerformed(ActionEvent e) {\r\n            \t\tTimer timer = new Timer();\r\n            \t\ttimer.schedule(new Clicker(), 0, 5000);\r\n            \t}\r\n            });\r\n            stop.addActionListener(new ActionListener() {\r\n            \tpublic void actionPerformed(ActionEvent e) {\r\n            \t\r\n            \t}\r\n            });\r\n        }\r\n    }\r\n    \r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.TimerTask;\r\n    \r\n    public class Clicker extends TimerTask {\r\n    \tpublic void run() {\r\n    \t    click();\r\n    \t}\r\n    \tpublic void click() {\r\n    \t\tSystem.out.println(&quot;Clicked&quot;);\r\n    \t\ttry {\r\n    \t        Robot robot = new Robot();\r\n    \t        // Simulate a key press\r\n    \t        robot.keyPress(KeyEvent.VK_SPACE);\r\n    \t        robot.keyRelease(KeyEvent.VK_SPACE);\r\n    \r\n    \t\t} catch (AWTException e) {\r\n    \t        e.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nFor some reason, If I have the `System.out.println(&quot;Clicked&quot;);` only in the click function all is working perfect and the delay is occurring for 5000ms.\r\n\r\nAs soon as I add the:\r\n\r\n    try {\r\n        Robot robot = new Robot();\r\n        // Simulate a key press\r\n        robot.keyPress(KeyEvent.VK_SPACE);\r\n        robot.keyRelease(KeyEvent.VK_SPACE);\r\n\t} catch (AWTException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe function is executed in a loop and ignores the delay. \r\nWhat am I doing wrong? \r\n\r\nThanks. ","title":"Timer period doesn&#39;t work with Robot class","body":"<p>I have the following code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Timer;\n\nimport javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;Title&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JButton start = new JButton();\n        start.setText(&quot;Start&quot;);\n        JButton stop = new JButton();\n        stop.setText(&quot;Stop&quot;);\n        frame.getContentPane().add(stop, BorderLayout.PAGE_END);\n        frame.getContentPane().add(start, BorderLayout.PAGE_START);\n        frame.setSize(200, 100);\n        frame.pack();\n        frame.setVisible(true);\n        start.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Timer timer = new Timer();\n                timer.schedule(new Clicker(), 0, 5000);\n            }\n        });\n        stop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            \n            }\n        });\n    }\n}\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\nimport java.util.TimerTask;\n\npublic class Clicker extends TimerTask {\n    public void run() {\n        click();\n    }\n    public void click() {\n        System.out.println(&quot;Clicked&quot;);\n        try {\n            Robot robot = new Robot();\n            // Simulate a key press\n            robot.keyPress(KeyEvent.VK_SPACE);\n            robot.keyRelease(KeyEvent.VK_SPACE);\n\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>For some reason, If I have the <code>System.out.println(&quot;Clicked&quot;);</code> only in the click function all is working perfect and the delay is occurring for 5000ms.</p>\n<p>As soon as I add the:</p>\n<pre><code>try {\n    Robot robot = new Robot();\n    // Simulate a key press\n    robot.keyPress(KeyEvent.VK_SPACE);\n    robot.keyRelease(KeyEvent.VK_SPACE);\n} catch (AWTException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The function is executed in a loop and ignores the delay.\nWhat am I doing wrong?</p>\n<p>Thanks.</p>\n"},{"tags":["java","maven","adobe","aem"],"answers":[{"tags":[],"owner":{"account_id":256687,"reputation":1024,"user_id":537584,"accept_rate":60,"display_name":"Jura Khrapunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594214503,"creation_date":1594214503,"answer_id":62795803,"question_id":62793033,"body_markdown":"You can use Package Manager for content transfer between instances: https://docs.adobe.com/content/help/en/experience-manager-65/administering/contentmanagement/package-manager.html\r\n","title":"How do I export my built AEM site with all the content and assets for someone else?","body":"<p>You can use Package Manager for content transfer between instances: <a href=\"https://docs.adobe.com/content/help/en/experience-manager-65/administering/contentmanagement/package-manager.html\" rel=\"nofollow noreferrer\">https://docs.adobe.com/content/help/en/experience-manager-65/administering/contentmanagement/package-manager.html</a></p>\n"},{"tags":[],"owner":{"account_id":2931738,"reputation":541,"user_id":2511804,"display_name":"Sadistic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594290570,"creation_date":1594290570,"answer_id":62812834,"question_id":62793033,"body_markdown":"You can create a package of your page and the required images and share with others. Packages can be easily created in the crxde. Packages or package manager can be used for multiple purposes like moving content from lower environment to higher, taking a backup of your content and many things.\r\n","title":"How do I export my built AEM site with all the content and assets for someone else?","body":"<p>You can create a package of your page and the required images and share with others. Packages can be easily created in the crxde. Packages or package manager can be used for multiple purposes like moving content from lower environment to higher, taking a backup of your content and many things.</p>\n"},{"tags":[],"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594473768,"creation_date":1594473768,"answer_id":62849709,"question_id":62793033,"body_markdown":"The Package Manager is likely the solution here. Take into account that for a few pages and assets it is very handy, but it is recommended to create proper filters and exclude assets renditions to reduce the package final size as the site (or testing content) grows.","title":"How do I export my built AEM site with all the content and assets for someone else?","body":"<p>The Package Manager is likely the solution here. Take into account that for a few pages and assets it is very handy, but it is recommended to create proper filters and exclude assets renditions to reduce the package final size as the site (or testing content) grows.</p>\n"},{"tags":[],"owner":{"account_id":26303970,"reputation":1,"user_id":19968782,"display_name":"RizwanZafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662879940,"creation_date":1662879940,"answer_id":73677442,"question_id":62793033,"body_markdown":"First, go to this URL &quot;http://localhost:4502/crx/packmgr/index.jsp&quot;\r\n\r\n 1. click on Create Package Button in the topbar and enter details and click ok.[step1][1]\r\n\r\n\r\n 2. Now, click on Edit and the filter-&gt;Add Filter now click on the search icon and select your page from the project and click ok and then save.[step2][2]\r\n \r\n 3. now click on Build and now you can download. and you can import this into another project.[step3][3]\r\n 4. for more detils  go to = https://experienceleague.adobe.com/docs/experience-manager-65/administering/contentmanagement/package-manager.html?lang=en\r\n\r\n  [1]: https://i.stack.imgur.com/qd2rd.png\r\n  [2]: https://i.stack.imgur.com/e6OAx.png\r\n  [3]: https://i.stack.imgur.com/FXoCn.png","title":"How do I export my built AEM site with all the content and assets for someone else?","body":"<p>First, go to this URL &quot;http://localhost:4502/crx/packmgr/index.jsp&quot;</p>\n<ol>\n<li><p>click on Create Package Button in the topbar and enter details and click ok.<a href=\"https://i.stack.imgur.com/qd2rd.png\" rel=\"nofollow noreferrer\">step1</a></p>\n</li>\n<li><p>Now, click on Edit and the filter-&gt;Add Filter now click on the search icon and select your page from the project and click ok and then save.<a href=\"https://i.stack.imgur.com/e6OAx.png\" rel=\"nofollow noreferrer\">step2</a></p>\n</li>\n<li><p>now click on Build and now you can download. and you can import this into another project.<a href=\"https://i.stack.imgur.com/FXoCn.png\" rel=\"nofollow noreferrer\">step3</a></p>\n</li>\n<li><p>for more detils  go to = <a href=\"https://experienceleague.adobe.com/docs/experience-manager-65/administering/contentmanagement/package-manager.html?lang=en\" rel=\"nofollow noreferrer\">https://experienceleague.adobe.com/docs/experience-manager-65/administering/contentmanagement/package-manager.html?lang=en</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":13235288,"reputation":5,"user_id":9557624,"display_name":"elisabet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62795803,"answer_count":4,"score":0,"last_activity_date":1662879940,"creation_date":1594205113,"question_id":62793033,"body_markdown":"I am quite new to AEM. I am sharing a git repository with another colleague and both of us can pull and push commits. If I change the html for a component, we both will have the code. \r\nMy question is: Let&#39;s say I created\r\n a page and included copy for it and a couple of images and components. Is there a way for me to export the page I built on my local AEM instance for my colleague to have it or should they build this page as I did step by step? I need to save time.\r\n\r\nThanks in advance","title":"How do I export my built AEM site with all the content and assets for someone else?","body":"<p>I am quite new to AEM. I am sharing a git repository with another colleague and both of us can pull and push commits. If I change the html for a component, we both will have the code.\nMy question is: Let's say I created\na page and included copy for it and a couple of images and components. Is there a way for me to export the page I built on my local AEM instance for my colleague to have it or should they build this page as I did step by step? I need to save time.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","video","youtube","youtube-api"],"comments":[{"owner":{"account_id":3614047,"reputation":75,"user_id":3014398,"accept_rate":31,"display_name":"JavaNoob"},"score":0,"creation_date":1384981074,"post_id":20104264,"comment_id":29960344,"body_markdown":"I really need help with this - can someone please assist? : )","body":"I really need help with this - can someone please assist? : )"}],"answers":[{"tags":[],"owner":{"account_id":4482299,"reputation":111,"user_id":3646053,"display_name":"vokabakov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1400530153,"creation_date":1400530153,"answer_id":23746340,"question_id":20104264,"body_markdown":"I know your question was posted a long time ago, but for someone who will try to find solution later.\r\n\r\n    YouTubeThumbnailView youTubeThumbnailView;\r\n    LinearLayout ll = new LinearLayout(this);\r\n    \r\n    for(int i = 0 ; i &lt; videos.length ; i++){\r\n       final String videoID = videos[i];\r\n    \t\t\t\r\n       youTubeThumbnailView = new YouTubeThumbnailView(this);\r\n       youTubeThumbnailView.setTag(videoID);\r\n       youTubeThumbnailView.initialize(API_KEY, this);\r\n    \r\n       ll.addView(youTubeThumbnailView);\r\n    }\r\n\r\nand for initialization\r\n\r\n    @Override\r\n    \t public void onInitializationSuccess(YouTubeThumbnailView thumbnailView, \r\n    \t   YouTubeThumbnailLoader thumbnailLoader) {\r\n    \t  \r\n    \t  youTubeThumbnailLoader = thumbnailLoader;\r\n    \t  thumbnailLoader.setOnThumbnailLoadedListener(new ThumbnailLoadedListener());  \r\n    \r\n    \t  youTubeThumbnailLoader.setVideo(thumbnailView.getTag().toString());\t  \r\n    \t }\r\n","title":"YouTubeThumbnailView Example","body":"<p>I know your question was posted a long time ago, but for someone who will try to find solution later.</p>\n\n<pre><code>YouTubeThumbnailView youTubeThumbnailView;\nLinearLayout ll = new LinearLayout(this);\n\nfor(int i = 0 ; i &lt; videos.length ; i++){\n   final String videoID = videos[i];\n\n   youTubeThumbnailView = new YouTubeThumbnailView(this);\n   youTubeThumbnailView.setTag(videoID);\n   youTubeThumbnailView.initialize(API_KEY, this);\n\n   ll.addView(youTubeThumbnailView);\n}\n</code></pre>\n\n<p>and for initialization</p>\n\n<pre><code>@Override\n     public void onInitializationSuccess(YouTubeThumbnailView thumbnailView, \n       YouTubeThumbnailLoader thumbnailLoader) {\n\n      youTubeThumbnailLoader = thumbnailLoader;\n      thumbnailLoader.setOnThumbnailLoadedListener(new ThumbnailLoadedListener());  \n\n      youTubeThumbnailLoader.setVideo(thumbnailView.getTag().toString());     \n     }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3861918"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662879208,"creation_date":1662879208,"answer_id":73677383,"question_id":20104264,"body_markdown":"Activity   \r\n \r\n    public class TestActivity extends AppCompatActivity {\r\n\r\n    private static final String API_KEY = &quot;AIzTjlIUpkoRVgchvcCzW1Aebi0PqJU_ak&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n\r\n\r\n\r\n        final YouTubeThumbnailView youTubeThumbnailView = (YouTubeThumbnailView) findViewById(R.id.youtubethumb_id);\r\n\r\n        youTubeThumbnailView.setTag(&quot;UwTuL-PWxXw&quot;);\r\n\r\n        youTubeThumbnailView.initialize(API_KEY, new YouTubeThumbnailView.OnInitializedListener() {\r\n\r\n            @Override\r\n            public void onInitializationSuccess(YouTubeThumbnailView youTubeThumbnailView, final YouTubeThumbnailLoader youTubeThumbnailLoader) {\r\n\r\n                youTubeThumbnailLoader.setVideo(youTubeThumbnailView.getTag().toString());\r\n\r\n                youTubeThumbnailLoader.setOnThumbnailLoadedListener(new YouTubeThumbnailLoader.OnThumbnailLoadedListener() {\r\n                    @Override\r\n                    public void onThumbnailLoaded(YouTubeThumbnailView youTubeThumbnailView, String s) {\r\n                        youTubeThumbnailLoader.release();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onThumbnailError(YouTubeThumbnailView youTubeThumbnailView, YouTubeThumbnailLoader.ErrorReason errorReason) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInitializationFailure(YouTubeThumbnailView youTubeThumbnailView, YouTubeInitializationResult youTubeInitializationResult) {\r\n\r\n            }\r\n        });\r\n\r\n       }}\r\n\r\n\r\nxml\r\n\r\n\r\n    &lt;com.google.android.youtube.player.YouTubeThumbnailView\r\n        android:id=&quot;@+id/youtubethumb_id&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/_150sdp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n","title":"YouTubeThumbnailView Example","body":"<p>Activity</p>\n<pre><code>public class TestActivity extends AppCompatActivity {\n\nprivate static final String API_KEY = &quot;AIzTjlIUpkoRVgchvcCzW1Aebi0PqJU_ak&quot;;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_test);\n\n\n\n    final YouTubeThumbnailView youTubeThumbnailView = (YouTubeThumbnailView) findViewById(R.id.youtubethumb_id);\n\n    youTubeThumbnailView.setTag(&quot;UwTuL-PWxXw&quot;);\n\n    youTubeThumbnailView.initialize(API_KEY, new YouTubeThumbnailView.OnInitializedListener() {\n\n        @Override\n        public void onInitializationSuccess(YouTubeThumbnailView youTubeThumbnailView, final YouTubeThumbnailLoader youTubeThumbnailLoader) {\n\n            youTubeThumbnailLoader.setVideo(youTubeThumbnailView.getTag().toString());\n\n            youTubeThumbnailLoader.setOnThumbnailLoadedListener(new YouTubeThumbnailLoader.OnThumbnailLoadedListener() {\n                @Override\n                public void onThumbnailLoaded(YouTubeThumbnailView youTubeThumbnailView, String s) {\n                    youTubeThumbnailLoader.release();\n                }\n\n                @Override\n                public void onThumbnailError(YouTubeThumbnailView youTubeThumbnailView, YouTubeThumbnailLoader.ErrorReason errorReason) {\n\n                }\n            });\n\n        }\n\n        @Override\n        public void onInitializationFailure(YouTubeThumbnailView youTubeThumbnailView, YouTubeInitializationResult youTubeInitializationResult) {\n\n        }\n    });\n\n   }}\n</code></pre>\n<p>xml</p>\n<pre><code>&lt;com.google.android.youtube.player.YouTubeThumbnailView\n    android:id=&quot;@+id/youtubethumb_id&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;@dimen/_150sdp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":3614047,"reputation":75,"user_id":3014398,"accept_rate":31,"display_name":"JavaNoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4582,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662879208,"creation_date":1384972941,"question_id":20104264,"body_markdown":"I&#39;m attempting to use YouTubeThumbnailView to setup multiple thumbnails for a series of youtube videos. The problem is the same thumbnail is repeated over an over so I&#39;m looking for an example of how this can be accomplished. \r\n\r\nI&#39;ve attempted to google search the issue but I&#39;ve only been able to find examples with one thumbnail - I&#39;m simply looking for an example of how to setup more than one (correctly). \r\n\r\n\r\nYouTubeThumbnailView Documentation:\r\n---------\r\n\r\nhttps://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubeThumbnailView\r\n\r\nPrevious (unsuccessful) attempt: \r\n---\r\nhttps://stackoverflow.com/questions/20103564/youtube-api-does-not-play-videos-as-expected-java-android\r\n","title":"YouTubeThumbnailView Example","body":"<p>I'm attempting to use YouTubeThumbnailView to setup multiple thumbnails for a series of youtube videos. The problem is the same thumbnail is repeated over an over so I'm looking for an example of how this can be accomplished. </p>\n\n<p>I've attempted to google search the issue but I've only been able to find examples with one thumbnail - I'm simply looking for an example of how to setup more than one (correctly). </p>\n\n<h2>YouTubeThumbnailView Documentation:</h2>\n\n<p><a href=\"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubeThumbnailView\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubeThumbnailView</a></p>\n\n<h2>Previous (unsuccessful) attempt:</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/20103564/youtube-api-does-not-play-videos-as-expected-java-android\">YouTube API does not play videos as expected</a></p>\n"},{"tags":["java","swing","awt","graphics2d"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":1,"creation_date":1662877884,"post_id":73677259,"comment_id":130104989,"body_markdown":"You can [load a resource as a `BufferedImage`](https://stackoverflow.com/a/17007533/6746785) and then [crop it](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/image/BufferedImage.html#getSubimage(int,int,int,int)).","body":"You can <a href=\"https://stackoverflow.com/a/17007533/6746785\">load a resource as a <code>BufferedImage</code></a> and then <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/image/BufferedImage.html#getSubimage(int,int,int,int)\" rel=\"nofollow noreferrer\">crop it</a>."},{"owner":{"account_id":24274192,"reputation":9,"user_id":18221732,"display_name":"Sepandi"},"score":0,"creation_date":1662878057,"post_id":73677259,"comment_id":130105009,"body_markdown":"I know but my whole game uses Image class on java.awt.Image . is there any way to do it with java.awt.Image class , not with buffered image ?","body":"I know but my whole game uses Image class on java.awt.Image . is there any way to do it with java.awt.Image class , not with buffered image ?"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1662878078,"post_id":73677259,"comment_id":130105013,"body_markdown":"`BufferedImage` is an `Image`. That is, `BufferedImage` extends `Image`, so a `BufferedImage` can be used wherever `Image` would.","body":"<code>BufferedImage</code> is an <code>Image</code>. That is, <code>BufferedImage</code> extends <code>Image</code>, so a <code>BufferedImage</code> can be used wherever <code>Image</code> would."},{"owner":{"account_id":24274192,"reputation":9,"user_id":18221732,"display_name":"Sepandi"},"score":0,"creation_date":1662878147,"post_id":73677259,"comment_id":130105022,"body_markdown":"how can i convert BufferedImage Object to  Image ? casting isn&#39;t working","body":"how can i convert BufferedImage Object to  Image ? casting isn&#39;t working"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1662878555,"post_id":73677259,"comment_id":130105056,"body_markdown":"What type is your `Image` class? Is it `java.awt.Image` or something else? Because I can see you are using method `crop` on it, which doesn&#39;t exist on a `java.awt.Image` until JDK 18.","body":"What type is your <code>Image</code> class? Is it <code>java.awt.Image</code> or something else? Because I can see you are using method <code>crop</code> on it, which doesn&#39;t exist on a <code>java.awt.Image</code> until JDK 18."},{"owner":{"account_id":24274192,"reputation":9,"user_id":18221732,"display_name":"Sepandi"},"score":0,"creation_date":1662878818,"post_id":73677259,"comment_id":130105090,"body_markdown":"you mean if i use jdk 18 it will work ?","body":"you mean if i use jdk 18 it will work ?"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1662878887,"post_id":73677259,"comment_id":130105098,"body_markdown":"No. I mean it will not work on any JDK, because as far as I know `java.awt.Image` doesn&#39;t have method `crop` in it.","body":"No. I mean it will not work on any JDK, because as far as I know <code>java.awt.Image</code> doesn&#39;t have method <code>crop</code> in it."},{"owner":{"account_id":24274192,"reputation":9,"user_id":18221732,"display_name":"Sepandi"},"score":0,"creation_date":1662879193,"post_id":73677259,"comment_id":130105137,"body_markdown":"oh ok thanks . as you said i tried to convert all of my java.awt.Image s to BufferedImage s with casting but i  get an error : ```\nCaused by: java.lang.ClassCastException: class sun.awt.image.ToolkitImage cannot be cast to class java.awt.image.BufferedImage (sun.awt.image.ToolkitImage and java.awt.image.BufferedImage are in module java.desktop of loader &#39;bootstrap&#39;)```","body":"oh ok thanks . as you said i tried to convert all of my java.awt.Image s to BufferedImage s with casting but i  get an error : ``` Caused by: java.lang.ClassCastException: class sun.awt.image.ToolkitImage cannot be cast to class java.awt.image.BufferedImage (sun.awt.image.ToolkitImage and java.awt.image.BufferedImage are in module java.desktop of loader &#39;bootstrap&#39;)```"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1662879552,"post_id":73677259,"comment_id":130105180,"body_markdown":"Actually I said you can load a resource directly as a `BufferedImage` (see the first link in my first comment). Then I said that `BufferedImage`s work wherever `Image`s do (because `BufferedImage` is already an `Image`). And finally I said that `crop` method does not exist on any `Image`.","body":"Actually I said you can load a resource directly as a <code>BufferedImage</code> (see the first link in my first comment). Then I said that <code>BufferedImage</code>s work wherever <code>Image</code>s do (because <code>BufferedImage</code> is already an <code>Image</code>). And finally I said that <code>crop</code> method does not exist on any <code>Image</code>."}],"owner":{"account_id":24274192,"reputation":9,"user_id":18221732,"display_name":"Sepandi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1662877510,"creation_date":1662877510,"question_id":73677259,"body_markdown":"I wanted to make an spritesheet class for my java game . In past when i wanted to crop an image out of my spritesheet i used to use BufferedImage croping method , but its not working for me becuase i cant load the images when im loading images when they are in the jar file.\r\n\r\nNow Im using Image Class . I searched an i found a crop method in Image class but i cant make it work .\r\n\r\nwhat am i doing wrong ?\r\n\r\n*My SpriteSheet class :*\r\n```\r\npackage Maya.Core;\r\n\r\nimport java.awt.*;\r\n\r\npublic class Spritesheet{\r\n    Texture sprite;\r\n    public Spritesheet(String path){\r\n        sprite = new Texture(path);     \r\n    }\r\n\r\n    public Image GetImage(Rect wantedRect){\r\n        return sprite.image.crop(wantedRect.x,wantedRect.y,wantedRect.width,wantedRect.height);\r\n    }    \r\n}\r\n```\r\n\r\n*My texture class:*\r\n```\r\npublic class Texture {\r\n    public Image image;\r\n\r\n    public Texture(String path) {\r\n        Toolkit defaultToolkit = Toolkit.getDefaultToolkit();\r\n        URL imageResource = Window.class.getClassLoader().getResource(path);\r\n        image = defaultToolkit.getImage(imageResource);\r\n    }\r\n}","title":"How can I crop an Image Object without using BufferedImage in Java","body":"<p>I wanted to make an spritesheet class for my java game . In past when i wanted to crop an image out of my spritesheet i used to use BufferedImage croping method , but its not working for me becuase i cant load the images when im loading images when they are in the jar file.</p>\n<p>Now Im using Image Class . I searched an i found a crop method in Image class but i cant make it work .</p>\n<p>what am i doing wrong ?</p>\n<p><em>My SpriteSheet class :</em></p>\n<pre><code>package Maya.Core;\n\nimport java.awt.*;\n\npublic class Spritesheet{\n    Texture sprite;\n    public Spritesheet(String path){\n        sprite = new Texture(path);     \n    }\n\n    public Image GetImage(Rect wantedRect){\n        return sprite.image.crop(wantedRect.x,wantedRect.y,wantedRect.width,wantedRect.height);\n    }    \n}\n</code></pre>\n<p><em>My texture class:</em></p>\n<pre><code>public class Texture {\n    public Image image;\n\n    public Texture(String path) {\n        Toolkit defaultToolkit = Toolkit.getDefaultToolkit();\n        URL imageResource = Window.class.getClassLoader().getResource(path);\n        image = defaultToolkit.getImage(imageResource);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":5588141,"reputation":3471,"user_id":4428159,"accept_rate":33,"display_name":"Umar Hussain"},"score":0,"creation_date":1527580158,"post_id":50578637,"comment_id":88167135,"body_markdown":"have you tried with different message may be you have two messages with same text hence same log values ?","body":"have you tried with different message may be you have two messages with same text hence same log values ?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1527580468,"post_id":50578637,"comment_id":88167324,"body_markdown":"Your code looks fine. Are you sure that first one was not printed earlier?","body":"Your code looks fine. Are you sure that first one was not printed earlier?"},{"owner":{"account_id":7129960,"reputation":293,"user_id":5451578,"accept_rate":60,"display_name":"NoName"},"score":0,"creation_date":1527580691,"post_id":50578637,"comment_id":88167472,"body_markdown":"Yes, i just update logs, where i send 3 messages and as you see, every time its called twice","body":"Yes, i just update logs, where i send 3 messages and as you see, every time its called twice"},{"owner":{"account_id":7129960,"reputation":293,"user_id":5451578,"accept_rate":60,"display_name":"NoName"},"score":0,"creation_date":1527583292,"post_id":50578637,"comment_id":88169001,"body_markdown":"I have just update a little bit more my question. On bottom is my update part, please read","body":"I have just update a little bit more my question. On bottom is my update part, please read"},{"owner":{"account_id":6331945,"reputation":4880,"user_id":4916627,"accept_rate":80,"display_name":"Andr&#233; Kool"},"score":1,"creation_date":1527585437,"post_id":50578637,"comment_id":88170404,"body_markdown":"In your `getLastMessage` you also attach a `ChildEventListener`.","body":"In your <code>getLastMessage</code> you also attach a <code>ChildEventListener</code>."},{"owner":{"account_id":7129960,"reputation":293,"user_id":5451578,"accept_rate":60,"display_name":"NoName"},"score":0,"creation_date":1527585917,"post_id":50578637,"comment_id":88170729,"body_markdown":"ok how to detach ChildEventListener if i use only the one in getLastMessage()? Will it stay the same detach in onDestroy()?","body":"ok how to detach ChildEventListener if i use only the one in getLastMessage()? Will it stay the same detach in onDestroy()?"},{"owner":{"account_id":9472591,"reputation":454,"user_id":7042992,"display_name":"Vikram Baliga"},"score":0,"creation_date":1662876956,"post_id":50578637,"comment_id":130104871,"body_markdown":"Check out my answer here. https://stackoverflow.com/a/73677221/7042992 The 2nd trigger in my case was due to ServerValue.TIMESTAMP in the data.","body":"Check out my answer here. <a href=\"https://stackoverflow.com/a/73677221/7042992\">stackoverflow.com/a/73677221/7042992</a> The 2nd trigger in my case was due to ServerValue.TIMESTAMP in the data."}],"answers":[{"tags":[],"owner":{"account_id":9472591,"reputation":454,"user_id":7042992,"display_name":"Vikram Baliga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662877038,"creation_date":1662877038,"answer_id":73677229,"question_id":50578637,"body_markdown":"Check out my answer here. https://stackoverflow.com/a/73677221/7042992 The 2nd trigger in my case was due to ServerValue.TIMESTAMP in the data. ","title":"Android Firebase ChildEventListener called twice","body":"<p>Check out my answer here. <a href=\"https://stackoverflow.com/a/73677221/7042992\">https://stackoverflow.com/a/73677221/7042992</a> The 2nd trigger in my case was due to ServerValue.TIMESTAMP in the data.</p>\n"}],"owner":{"account_id":7129960,"reputation":293,"user_id":5451578,"accept_rate":60,"display_name":"NoName"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662877038,"creation_date":1527578719,"question_id":50578637,"body_markdown":"In my chat app, I want to get every new message someone send (LAST MESSAGE).\r\n\r\nHowever when I attach `ChildEventListener` in my app, `onChildAdded()` is called twice.\r\n\r\nHere is the code:\r\n\r\n\r\n     chatRoomLastMessageUpdateReference = FirebaseDatabase.getInstance().getReference().\r\n                            child(Constants.FIRE_BASE_PATH_CHAT_ROOMS).child(roomKey);\r\n     chatRoomLastMessageChildListener = mChatHelper\r\n            .getLastMessage(mAdapterChat, chatRoomLastMessageUpdateReference, mRecyclerChat);\r\n     chatRoomLastMessageUpdateReference\r\n            .addChildEventListener(chatRoomLastMessageChildListener);\r\n\r\n\r\nHere is method `getLastMessage()`:\r\n\r\n\r\n     public ChildEventListener getLastMessage(final AdapterChat mAdapterChat, final DatabaseReference pollRoomLastMessageUpdateReference, final RecyclerView mRecyclerChat) {\r\n\r\n            Query queryLastMessage = pollRoomLastMessageUpdateReference.orderByKey().limitToLast(1);\r\n\r\n            ChildEventListener childEventListener = queryLastMessage.addChildEventListener(new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                    Message message = dataSnapshot.getValue(Message.class);\r\n                    Log.d(&quot;message&quot;, &quot;onChildAdded: &quot; + message.getMessage());\r\n                    mAdapterChat.updateLastMessage(message);\r\n                    mRecyclerChat.getLayoutManager().scrollToPosition(mAdapterChat.getMessagesObekt().size() - 1);\r\n                }\r\n\r\n                @Override\r\n                public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n\r\n            return childEventListener;\r\n        }\r\n\r\n\r\n\r\nand here is `ChildEventListener` detach:\r\n\r\n     @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (chatRoomLastMessageChildListener != null) {\r\n                chatRoomLastMessageUpdateReference.removeEventListener(chatRoomLastMessageChildListener);\r\n            }\r\n        }\r\n\r\n\r\nThis is Log in `onChildAdded()` method which is called after user send new chat message. I have send 3 messages and as you see every message is called twice\r\n\r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    05-29 09:55:38.000 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message1\r\n    05-29 09:55:38.001 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message1\r\n    05-29 09:55:40.382 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message2\r\n    05-29 09:55:40.384 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message2\r\n    05-29 09:55:42.954 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message3\r\n    05-29 09:55:42.955 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message3\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n**UPDATE UPDATE**\r\n\r\nFunny fact is when I do not attach ChildEventListener, then everything is fine.\r\nBut, I do not understand now, how will I detach ChildEventListener if I do not attach it.\r\nSo, when I do this way, everything is fine \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n       chatRoomLastMessageUpdateReference = FirebaseDatabase.getInstance().getReference().\r\n                            child(Constants.FIRE_BASE_PATH_CHAT_ROOMS).child(roomKey);\r\n                    chatRoomLastMessageChildListener = mChatHelper.getLastMessage(mAdapterChat, chatRoomLastMessageUpdateReference, mRecyclerChat);\r\n                    //i remove this line of code below, its working but, i feel that this is not the correct\r\n                    //chatRoomLastMessageUpdateReference.addChildEventListener(chatRoomLastMessageChildListener);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"Android Firebase ChildEventListener called twice","body":"<p>In my chat app, I want to get every new message someone send (LAST MESSAGE).</p>\n\n<p>However when I attach <code>ChildEventListener</code> in my app, <code>onChildAdded()</code> is called twice.</p>\n\n<p>Here is the code:</p>\n\n<pre><code> chatRoomLastMessageUpdateReference = FirebaseDatabase.getInstance().getReference().\n                        child(Constants.FIRE_BASE_PATH_CHAT_ROOMS).child(roomKey);\n chatRoomLastMessageChildListener = mChatHelper\n        .getLastMessage(mAdapterChat, chatRoomLastMessageUpdateReference, mRecyclerChat);\n chatRoomLastMessageUpdateReference\n        .addChildEventListener(chatRoomLastMessageChildListener);\n</code></pre>\n\n<p>Here is method <code>getLastMessage()</code>:</p>\n\n<pre><code> public ChildEventListener getLastMessage(final AdapterChat mAdapterChat, final DatabaseReference pollRoomLastMessageUpdateReference, final RecyclerView mRecyclerChat) {\n\n        Query queryLastMessage = pollRoomLastMessageUpdateReference.orderByKey().limitToLast(1);\n\n        ChildEventListener childEventListener = queryLastMessage.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n                Message message = dataSnapshot.getValue(Message.class);\n                Log.d(\"message\", \"onChildAdded: \" + message.getMessage());\n                mAdapterChat.updateLastMessage(message);\n                mRecyclerChat.getLayoutManager().scrollToPosition(mAdapterChat.getMessagesObekt().size() - 1);\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n\n        return childEventListener;\n    }\n</code></pre>\n\n<p>and here is <code>ChildEventListener</code> detach:</p>\n\n<pre><code> @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (chatRoomLastMessageChildListener != null) {\n            chatRoomLastMessageUpdateReference.removeEventListener(chatRoomLastMessageChildListener);\n        }\n    }\n</code></pre>\n\n<p>This is Log in <code>onChildAdded()</code> method which is called after user send new chat message. I have send 3 messages and as you see every message is called twice</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>05-29 09:55:38.000 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message1\r\n05-29 09:55:38.001 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message1\r\n05-29 09:55:40.382 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message2\r\n05-29 09:55:40.384 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message2\r\n05-29 09:55:42.954 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message3\r\n05-29 09:55:42.955 30212-30212/com.example.petar.votemeup D/message: onChildAdded: called message3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATE UPDATE</strong></p>\n\n<p>Funny fact is when I do not attach ChildEventListener, then everything is fine.\nBut, I do not understand now, how will I detach ChildEventListener if I do not attach it.\nSo, when I do this way, everything is fine </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   chatRoomLastMessageUpdateReference = FirebaseDatabase.getInstance().getReference().\r\n                        child(Constants.FIRE_BASE_PATH_CHAT_ROOMS).child(roomKey);\r\n                chatRoomLastMessageChildListener = mChatHelper.getLastMessage(mAdapterChat, chatRoomLastMessageUpdateReference, mRecyclerChat);\r\n                //i remove this line of code below, its working but, i feel that this is not the correct\r\n                //chatRoomLastMessageUpdateReference.addChildEventListener(chatRoomLastMessageChildListener);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","json","shopify"],"comments":[{"owner":{"account_id":15087163,"reputation":220,"user_id":10888047,"display_name":"hamzasgd"},"score":0,"creation_date":1657693630,"post_id":72961734,"comment_id":128868184,"body_markdown":"you can get the HMAC from headers that is `X-Shopify-Hmac-SHA256`","body":"you can get the HMAC from headers that is <code>X-Shopify-Hmac-SHA256</code>"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662875246,"creation_date":1657708583,"answer_id":72964860,"question_id":72961734,"body_markdown":"Serializing Map to JSON is a very simple task in Java. You may use any of JSON libraries, the most popular are Json Jackson (also known asFaster XML) or Gson of Google. But if you want even simpler solution, I wrote my own thin wrapper over Jackson Json that allows you to serialize an object to JSON or deserialize it from Json to Object. For your case the code could be as simple as this\r\n\r\n    Map&lt;String, Object&gt; map = ... //here is your map that you got from your source\r\n    String jsonString;\r\n    \r\n        try {\r\n          jsonString = JsonUtils.writeObjectToJsonString(map);\r\n        }catch(IOException ioe) {\r\n          //Handle exception\r\n        }\r\n\r\nHere is the [Javadoc for JsonUtils class][1]. It is part of MgntUtils open source library written and maintained by me. You can get the library as maven artifact [here][2] or from Github, including source code and Javadoc [here][3]\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n","title":"Convert Map to Raw JSON convertion using java","body":"<p>Serializing Map to JSON is a very simple task in Java. You may use any of JSON libraries, the most popular are Json Jackson (also known asFaster XML) or Gson of Google. But if you want even simpler solution, I wrote my own thin wrapper over Jackson Json that allows you to serialize an object to JSON or deserialize it from Json to Object. For your case the code could be as simple as this</p>\n<pre><code>Map&lt;String, Object&gt; map = ... //here is your map that you got from your source\nString jsonString;\n\n    try {\n      jsonString = JsonUtils.writeObjectToJsonString(map);\n    }catch(IOException ioe) {\n      //Handle exception\n    }\n</code></pre>\n<p>Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a>. It is part of MgntUtils open source library written and maintained by me. You can get the library as maven artifact <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or from Github, including source code and Javadoc <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7433849,"reputation":242,"user_id":5653913,"accept_rate":94,"display_name":"Andreas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657709069,"creation_date":1657709069,"answer_id":72964968,"question_id":72961734,"body_markdown":"\r\n\r\n    Map&lt;String, String&gt; elements = new HashMap();\r\n    elements.put(&quot;Key1&quot;, &quot;Value1&quot;);\r\n    elements.put(&quot;Key2&quot;, &quot;Value2&quot;);\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    try {\r\n        String json = objectMapper.writeValueAsString(elements);\r\n        System.out.println(json);\r\n    } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n    }","title":"Convert Map to Raw JSON convertion using java","body":"<pre><code>Map&lt;String, String&gt; elements = new HashMap();\nelements.put(&quot;Key1&quot;, &quot;Value1&quot;);\nelements.put(&quot;Key2&quot;, &quot;Value2&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\n\ntry {\n    String json = objectMapper.writeValueAsString(elements);\n    System.out.println(json);\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":16247720,"reputation":53,"user_id":11732403,"display_name":"Shikha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72964860,"answer_count":2,"score":1,"last_activity_date":1662875246,"creation_date":1657693151,"question_id":72961734,"body_markdown":"I have enabled webhook on Shopify. Shopify sends raw JSON in webhook response. Somehow it is converted to map and now I want to convert it back to raw JSON that Shopify sends for HMAC verification. Can someone help how it can be done in JAVA? What encoding is applied to data at Shopify end?&#160;\r\n\r\nShopify Webhook JSON:\r\n\r\n    {&quot;id&quot;:4700248899822,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/Order\\/4700248899822&quot;,&quot;app_id&quot;:1758145,&quot;browser_ip&quot;:null,&quot;buyer_accepts_marketing&quot;:false,&quot;cancel_reason&quot;:null,&quot;cancelled_at&quot;:null,&quot;cart_token&quot;:null,&quot;checkout_id&quot;:null,&quot;checkout_token&quot;:null,&quot;closed_at&quot;:null,&quot;confirmed&quot;:true,&quot;contact_email&quot;:&quot;marcpids@gmail.com&quot;,&quot;created_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;current_subtotal_price&quot;:&quot;4924.99&quot;,&quot;current_subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_discounts&quot;:&quot;0.00&quot;,&quot;current_total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_duties_set&quot;:null,&quot;current_total_price&quot;:&quot;4929.98&quot;,&quot;current_total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_tax&quot;:&quot;0.00&quot;,&quot;current_total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;customer_locale&quot;:null,&quot;device_id&quot;:null,&quot;discount_codes&quot;:[],&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;estimated_taxes&quot;:false,&quot;financial_status&quot;:&quot;paid&quot;,&quot;fulfillment_status&quot;:null,&quot;gateway&quot;:&quot;manual&quot;,&quot;landing_site&quot;:null,&quot;landing_site_ref&quot;:null,&quot;location_id&quot;:null,&quot;name&quot;:&quot;27776&quot;,&quot;note&quot;:null,&quot;note_attributes&quot;:[],&quot;number&quot;:19545,&quot;order_number&quot;:20545,&quot;order_status_url&quot;:&quot;https:\\/\\/www.shop.co.uk\\/60948381934\\/orders\\/fa7e0285eed82f571ad456ded44f697e\\/authenticate?key=dcff94c973659a1be74fb3d0f59424fd&quot;,&quot;original_total_duties_set&quot;:null,&quot;payment_gateway_names&quot;:[&quot;manual&quot;],&quot;phone&quot;:null,&quot;presentment_currency&quot;:&quot;GBP&quot;,&quot;processed_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;processing_method&quot;:&quot;&quot;,&quot;reference&quot;:null,&quot;referring_site&quot;:null,&quot;source_identifier&quot;:null,&quot;source_name&quot;:&quot;Matrixify App&quot;,&quot;source_url&quot;:null,&quot;subtotal_price&quot;:&quot;4924.99&quot;,&quot;subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;tags&quot;:&quot;payment:fully-paid&quot;,&quot;tax_lines&quot;:[],&quot;taxes_included&quot;:false,&quot;test&quot;:false,&quot;token&quot;:&quot;fa7e0285eed82f571ad456ded44f697e&quot;,&quot;total_discounts&quot;:&quot;0.00&quot;,&quot;total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_line_items_price&quot;:&quot;4924.99&quot;,&quot;total_line_items_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_outstanding&quot;:&quot;0.00&quot;,&quot;total_price&quot;:&quot;4929.98&quot;,&quot;total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_price_usd&quot;:&quot;6487.16&quot;,&quot;total_shipping_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tax&quot;:&quot;0.00&quot;,&quot;total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tip_received&quot;:&quot;0.00&quot;,&quot;total_weight&quot;:0,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;user_id&quot;:null,&quot;billing_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:null,&quot;company&quot;:null,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;customer&quot;:{&quot;id&quot;:6102973153518,&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;accepts_marketing&quot;:false,&quot;created_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;orders_count&quot;:3,&quot;state&quot;:&quot;invited&quot;,&quot;total_spent&quot;:&quot;9896.94&quot;,&quot;last_order_id&quot;:4700248899822,&quot;note&quot;:null,&quot;verified_email&quot;:true,&quot;multipass_identifier&quot;:null,&quot;tax_exempt&quot;:false,&quot;phone&quot;:null,&quot;tags&quot;:&quot;first-order:fully-paid, Guest&quot;,&quot;last_order_name&quot;:&quot;27776&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;accepts_marketing_updated_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;marketing_opt_in_level&quot;:null,&quot;tax_exemptions&quot;:[],&quot;sms_marketing_consent&quot;:null,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/Customer\\/6102973153518&quot;,&quot;default_address&quot;:{&quot;id&quot;:7602051678446,&quot;customer_id&quot;:6102973153518,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;company&quot;:&quot;&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;address2&quot;:&quot;&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;province_code&quot;:&quot;ENG&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;country_name&quot;:&quot;United Kingdom&quot;,&quot;default&quot;:true}},&quot;discount_applications&quot;:[],&quot;fulfillments&quot;:[],&quot;line_items&quot;:[{&quot;id&quot;:12045659570414,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/LineItem\\/12045659570414&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch - XL 55cm&quot;,&quot;price&quot;:&quot;4899.00&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7570044977390,&quot;properties&quot;:[{&quot;name&quot;:&quot;Pre-Order&quot;,&quot;value&quot;:&quot;&quot;},{&quot;name&quot;:&quot;Frame Size (Check stock below)&quot;,&quot;value&quot;:&quot;55cm&quot;}],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;53710322&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42482856460526,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:&quot;XL 55cm&quot;,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]},{&quot;id&quot;:12045659603182,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/LineItem\\/12045659603182&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;price&quot;:&quot;25.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7569830576366,&quot;properties&quot;:[],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;BFCB45238&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42435842703598,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:null,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]}],&quot;payment_terms&quot;:null,&quot;refunds&quot;:[],&quot;shipping_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:&quot;&quot;,&quot;company&quot;:&quot;&quot;,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;shipping_lines&quot;:[{&quot;id&quot;:3913660694766,&quot;carrier_identifier&quot;:null,&quot;code&quot;:&quot;UK E\\u0026amp;W Zone A (Weight: 24.75kg)&quot;,&quot;delivery_category&quot;:null,&quot;discounted_price&quot;:&quot;4.99&quot;,&quot;discounted_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;phone&quot;:null,&quot;price&quot;:&quot;4.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;requested_fulfillment_service_id&quot;:null,&quot;source&quot;:&quot;shopify&quot;,&quot;title&quot;:&quot;UK E\\u0026amp;W Zone A (Weight: 24.75kg)&quot;,&quot;tax_lines&quot;:[],&quot;discount_allocations&quot;:[]}]}\r\n\r\nJSON converted to map:&#160;&#160;\r\n\r\n    {&quot;id&quot;:4700248899822,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/Order/4700248899822&quot;,&quot;app_id&quot;:1758145,&quot;browser_ip&quot;:null,&quot;buyer_accepts_marketing&quot;:false,&quot;cancel_reason&quot;:null,&quot;cancelled_at&quot;:null,&quot;cart_token&quot;:null,&quot;checkout_id&quot;:null,&quot;checkout_token&quot;:null,&quot;closed_at&quot;:null,&quot;confirmed&quot;:true,&quot;contact_email&quot;:&quot;marcpids@gmail.com&quot;,&quot;created_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;current_subtotal_price&quot;:&quot;4924.99&quot;,&quot;current_subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_discounts&quot;:&quot;0.00&quot;,&quot;current_total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_duties_set&quot;:null,&quot;current_total_price&quot;:&quot;4929.98&quot;,&quot;current_total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_tax&quot;:&quot;0.00&quot;,&quot;current_total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;customer_locale&quot;:null,&quot;device_id&quot;:null,&quot;discount_codes&quot;:[],&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;estimated_taxes&quot;:false,&quot;financial_status&quot;:&quot;paid&quot;,&quot;fulfillment_status&quot;:null,&quot;gateway&quot;:&quot;manual&quot;,&quot;landing_site&quot;:null,&quot;landing_site_ref&quot;:null,&quot;location_id&quot;:null,&quot;name&quot;:&quot;27776&quot;,&quot;note&quot;:null,&quot;note_attributes&quot;:[],&quot;number&quot;:19545,&quot;order_number&quot;:20545,&quot;order_status_url&quot;:&quot;https://www.shop.co.uk/60948381934/orders/fa7e0285eed82f571ad456ded44f697e/authenticate?key=dcff94c973659a1be74fb3d0f59424fd&quot;,&quot;original_total_duties_set&quot;:null,&quot;payment_gateway_names&quot;:[&quot;manual&quot;],&quot;phone&quot;:null,&quot;presentment_currency&quot;:&quot;GBP&quot;,&quot;processed_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;processing_method&quot;:&quot;&quot;,&quot;reference&quot;:null,&quot;referring_site&quot;:null,&quot;source_identifier&quot;:null,&quot;source_name&quot;:&quot;Matrixify App&quot;,&quot;source_url&quot;:null,&quot;subtotal_price&quot;:&quot;4924.99&quot;,&quot;subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;tags&quot;:&quot;payment:fully-paid&quot;,&quot;tax_lines&quot;:[],&quot;taxes_included&quot;:false,&quot;test&quot;:false,&quot;token&quot;:&quot;fa7e0285eed82f571ad456ded44f697e&quot;,&quot;total_discounts&quot;:&quot;0.00&quot;,&quot;total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_line_items_price&quot;:&quot;4924.99&quot;,&quot;total_line_items_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_outstanding&quot;:&quot;0.00&quot;,&quot;total_price&quot;:&quot;4929.98&quot;,&quot;total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_price_usd&quot;:&quot;6487.16&quot;,&quot;total_shipping_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tax&quot;:&quot;0.00&quot;,&quot;total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tip_received&quot;:&quot;0.00&quot;,&quot;total_weight&quot;:0,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;user_id&quot;:null,&quot;billing_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:null,&quot;company&quot;:null,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;customer&quot;:{&quot;id&quot;:6102973153518,&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;accepts_marketing&quot;:false,&quot;created_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;orders_count&quot;:3,&quot;state&quot;:&quot;invited&quot;,&quot;total_spent&quot;:&quot;9896.94&quot;,&quot;last_order_id&quot;:4700248899822,&quot;note&quot;:null,&quot;verified_email&quot;:true,&quot;multipass_identifier&quot;:null,&quot;tax_exempt&quot;:false,&quot;phone&quot;:null,&quot;tags&quot;:&quot;first-order:fully-paid, Guest&quot;,&quot;last_order_name&quot;:&quot;27776&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;accepts_marketing_updated_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;marketing_opt_in_level&quot;:null,&quot;tax_exemptions&quot;:[],&quot;sms_marketing_consent&quot;:null,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/Customer/6102973153518&quot;,&quot;default_address&quot;:{&quot;id&quot;:7602051678446,&quot;customer_id&quot;:6102973153518,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;company&quot;:&quot;&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;address2&quot;:&quot;&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;province_code&quot;:&quot;ENG&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;country_name&quot;:&quot;United Kingdom&quot;,&quot;default&quot;:true}},&quot;discount_applications&quot;:[],&quot;fulfillments&quot;:[],&quot;line_items&quot;:[{&quot;id&quot;:12045659570414,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/LineItem/12045659570414&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch - XL 55cm&quot;,&quot;price&quot;:&quot;4899.00&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7570044977390,&quot;properties&quot;:[{&quot;name&quot;:&quot;Pre-Order&quot;,&quot;value&quot;:&quot;&quot;},{&quot;name&quot;:&quot;Frame Size (Check stock below)&quot;,&quot;value&quot;:&quot;55cm&quot;}],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;53710322&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42482856460526,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:&quot;XL 55cm&quot;,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]},{&quot;id&quot;:12045659603182,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/LineItem/12045659603182&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;price&quot;:&quot;25.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7569830576366,&quot;properties&quot;:[],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;BFCB45238&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42435842703598,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:null,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]}],&quot;payment_terms&quot;:null,&quot;refunds&quot;:[],&quot;shipping_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:&quot;&quot;,&quot;company&quot;:&quot;&quot;,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;shipping_lines&quot;:[{&quot;id&quot;:3913660694766,&quot;carrier_identifier&quot;:null,&quot;code&quot;:&quot;UK E&amp;amp;W Zone A (Weight: 24.75kg)&quot;,&quot;delivery_category&quot;:null,&quot;discounted_price&quot;:&quot;4.99&quot;,&quot;discounted_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;phone&quot;:null,&quot;price&quot;:&quot;4.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;requested_fulfillment_service_id&quot;:null,&quot;source&quot;:&quot;shopify&quot;,&quot;title&quot;:&quot;UK E&amp;amp;W Zone A (Weight: 24.75kg)&quot;,&quot;tax_lines&quot;:[],&quot;discount_allocations&quot;:[]}]}\r\n\r\nHMAC verification code is correct. The problem is with the webhook body. I want to convert JSON to its original format that Shopify sends in the webhook","title":"Convert Map to Raw JSON convertion using java","body":"<p>I have enabled webhook on Shopify. Shopify sends raw JSON in webhook response. Somehow it is converted to map and now I want to convert it back to raw JSON that Shopify sends for HMAC verification. Can someone help how it can be done in JAVA? What encoding is applied to data at Shopify end? </p>\n<p>Shopify Webhook JSON:</p>\n<pre><code>{&quot;id&quot;:4700248899822,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/Order\\/4700248899822&quot;,&quot;app_id&quot;:1758145,&quot;browser_ip&quot;:null,&quot;buyer_accepts_marketing&quot;:false,&quot;cancel_reason&quot;:null,&quot;cancelled_at&quot;:null,&quot;cart_token&quot;:null,&quot;checkout_id&quot;:null,&quot;checkout_token&quot;:null,&quot;closed_at&quot;:null,&quot;confirmed&quot;:true,&quot;contact_email&quot;:&quot;marcpids@gmail.com&quot;,&quot;created_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;current_subtotal_price&quot;:&quot;4924.99&quot;,&quot;current_subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_discounts&quot;:&quot;0.00&quot;,&quot;current_total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_duties_set&quot;:null,&quot;current_total_price&quot;:&quot;4929.98&quot;,&quot;current_total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_tax&quot;:&quot;0.00&quot;,&quot;current_total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;customer_locale&quot;:null,&quot;device_id&quot;:null,&quot;discount_codes&quot;:[],&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;estimated_taxes&quot;:false,&quot;financial_status&quot;:&quot;paid&quot;,&quot;fulfillment_status&quot;:null,&quot;gateway&quot;:&quot;manual&quot;,&quot;landing_site&quot;:null,&quot;landing_site_ref&quot;:null,&quot;location_id&quot;:null,&quot;name&quot;:&quot;27776&quot;,&quot;note&quot;:null,&quot;note_attributes&quot;:[],&quot;number&quot;:19545,&quot;order_number&quot;:20545,&quot;order_status_url&quot;:&quot;https:\\/\\/www.shop.co.uk\\/60948381934\\/orders\\/fa7e0285eed82f571ad456ded44f697e\\/authenticate?key=dcff94c973659a1be74fb3d0f59424fd&quot;,&quot;original_total_duties_set&quot;:null,&quot;payment_gateway_names&quot;:[&quot;manual&quot;],&quot;phone&quot;:null,&quot;presentment_currency&quot;:&quot;GBP&quot;,&quot;processed_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;processing_method&quot;:&quot;&quot;,&quot;reference&quot;:null,&quot;referring_site&quot;:null,&quot;source_identifier&quot;:null,&quot;source_name&quot;:&quot;Matrixify App&quot;,&quot;source_url&quot;:null,&quot;subtotal_price&quot;:&quot;4924.99&quot;,&quot;subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;tags&quot;:&quot;payment:fully-paid&quot;,&quot;tax_lines&quot;:[],&quot;taxes_included&quot;:false,&quot;test&quot;:false,&quot;token&quot;:&quot;fa7e0285eed82f571ad456ded44f697e&quot;,&quot;total_discounts&quot;:&quot;0.00&quot;,&quot;total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_line_items_price&quot;:&quot;4924.99&quot;,&quot;total_line_items_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_outstanding&quot;:&quot;0.00&quot;,&quot;total_price&quot;:&quot;4929.98&quot;,&quot;total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_price_usd&quot;:&quot;6487.16&quot;,&quot;total_shipping_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tax&quot;:&quot;0.00&quot;,&quot;total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tip_received&quot;:&quot;0.00&quot;,&quot;total_weight&quot;:0,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;user_id&quot;:null,&quot;billing_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:null,&quot;company&quot;:null,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;customer&quot;:{&quot;id&quot;:6102973153518,&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;accepts_marketing&quot;:false,&quot;created_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;orders_count&quot;:3,&quot;state&quot;:&quot;invited&quot;,&quot;total_spent&quot;:&quot;9896.94&quot;,&quot;last_order_id&quot;:4700248899822,&quot;note&quot;:null,&quot;verified_email&quot;:true,&quot;multipass_identifier&quot;:null,&quot;tax_exempt&quot;:false,&quot;phone&quot;:null,&quot;tags&quot;:&quot;first-order:fully-paid, Guest&quot;,&quot;last_order_name&quot;:&quot;27776&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;accepts_marketing_updated_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;marketing_opt_in_level&quot;:null,&quot;tax_exemptions&quot;:[],&quot;sms_marketing_consent&quot;:null,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/Customer\\/6102973153518&quot;,&quot;default_address&quot;:{&quot;id&quot;:7602051678446,&quot;customer_id&quot;:6102973153518,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;company&quot;:&quot;&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;address2&quot;:&quot;&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;province_code&quot;:&quot;ENG&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;country_name&quot;:&quot;United Kingdom&quot;,&quot;default&quot;:true}},&quot;discount_applications&quot;:[],&quot;fulfillments&quot;:[],&quot;line_items&quot;:[{&quot;id&quot;:12045659570414,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/LineItem\\/12045659570414&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch - XL 55cm&quot;,&quot;price&quot;:&quot;4899.00&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7570044977390,&quot;properties&quot;:[{&quot;name&quot;:&quot;Pre-Order&quot;,&quot;value&quot;:&quot;&quot;},{&quot;name&quot;:&quot;Frame Size (Check stock below)&quot;,&quot;value&quot;:&quot;55cm&quot;}],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;53710322&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42482856460526,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:&quot;XL 55cm&quot;,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]},{&quot;id&quot;:12045659603182,&quot;admin_graphql_api_id&quot;:&quot;gid:\\/\\/shopify\\/LineItem\\/12045659603182&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;price&quot;:&quot;25.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7569830576366,&quot;properties&quot;:[],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;BFCB45238&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42435842703598,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:null,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]}],&quot;payment_terms&quot;:null,&quot;refunds&quot;:[],&quot;shipping_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:&quot;&quot;,&quot;company&quot;:&quot;&quot;,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;shipping_lines&quot;:[{&quot;id&quot;:3913660694766,&quot;carrier_identifier&quot;:null,&quot;code&quot;:&quot;UK E\\u0026amp;W Zone A (Weight: 24.75kg)&quot;,&quot;delivery_category&quot;:null,&quot;discounted_price&quot;:&quot;4.99&quot;,&quot;discounted_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;phone&quot;:null,&quot;price&quot;:&quot;4.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;requested_fulfillment_service_id&quot;:null,&quot;source&quot;:&quot;shopify&quot;,&quot;title&quot;:&quot;UK E\\u0026amp;W Zone A (Weight: 24.75kg)&quot;,&quot;tax_lines&quot;:[],&quot;discount_allocations&quot;:[]}]}\n</code></pre>\n<p>JSON converted to map:  </p>\n<pre><code>{&quot;id&quot;:4700248899822,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/Order/4700248899822&quot;,&quot;app_id&quot;:1758145,&quot;browser_ip&quot;:null,&quot;buyer_accepts_marketing&quot;:false,&quot;cancel_reason&quot;:null,&quot;cancelled_at&quot;:null,&quot;cart_token&quot;:null,&quot;checkout_id&quot;:null,&quot;checkout_token&quot;:null,&quot;closed_at&quot;:null,&quot;confirmed&quot;:true,&quot;contact_email&quot;:&quot;marcpids@gmail.com&quot;,&quot;created_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;current_subtotal_price&quot;:&quot;4924.99&quot;,&quot;current_subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_discounts&quot;:&quot;0.00&quot;,&quot;current_total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_duties_set&quot;:null,&quot;current_total_price&quot;:&quot;4929.98&quot;,&quot;current_total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;current_total_tax&quot;:&quot;0.00&quot;,&quot;current_total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;customer_locale&quot;:null,&quot;device_id&quot;:null,&quot;discount_codes&quot;:[],&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;estimated_taxes&quot;:false,&quot;financial_status&quot;:&quot;paid&quot;,&quot;fulfillment_status&quot;:null,&quot;gateway&quot;:&quot;manual&quot;,&quot;landing_site&quot;:null,&quot;landing_site_ref&quot;:null,&quot;location_id&quot;:null,&quot;name&quot;:&quot;27776&quot;,&quot;note&quot;:null,&quot;note_attributes&quot;:[],&quot;number&quot;:19545,&quot;order_number&quot;:20545,&quot;order_status_url&quot;:&quot;https://www.shop.co.uk/60948381934/orders/fa7e0285eed82f571ad456ded44f697e/authenticate?key=dcff94c973659a1be74fb3d0f59424fd&quot;,&quot;original_total_duties_set&quot;:null,&quot;payment_gateway_names&quot;:[&quot;manual&quot;],&quot;phone&quot;:null,&quot;presentment_currency&quot;:&quot;GBP&quot;,&quot;processed_at&quot;:&quot;2022-03-18T22:44:54+00:00&quot;,&quot;processing_method&quot;:&quot;&quot;,&quot;reference&quot;:null,&quot;referring_site&quot;:null,&quot;source_identifier&quot;:null,&quot;source_name&quot;:&quot;Matrixify App&quot;,&quot;source_url&quot;:null,&quot;subtotal_price&quot;:&quot;4924.99&quot;,&quot;subtotal_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;tags&quot;:&quot;payment:fully-paid&quot;,&quot;tax_lines&quot;:[],&quot;taxes_included&quot;:false,&quot;test&quot;:false,&quot;token&quot;:&quot;fa7e0285eed82f571ad456ded44f697e&quot;,&quot;total_discounts&quot;:&quot;0.00&quot;,&quot;total_discounts_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_line_items_price&quot;:&quot;4924.99&quot;,&quot;total_line_items_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4924.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_outstanding&quot;:&quot;0.00&quot;,&quot;total_price&quot;:&quot;4929.98&quot;,&quot;total_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4929.98&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_price_usd&quot;:&quot;6487.16&quot;,&quot;total_shipping_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tax&quot;:&quot;0.00&quot;,&quot;total_tax_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;total_tip_received&quot;:&quot;0.00&quot;,&quot;total_weight&quot;:0,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;user_id&quot;:null,&quot;billing_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:null,&quot;company&quot;:null,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;customer&quot;:{&quot;id&quot;:6102973153518,&quot;email&quot;:&quot;marcpids@gmail.com&quot;,&quot;accepts_marketing&quot;:false,&quot;created_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;updated_at&quot;:&quot;2022-07-12T10:41:17+01:00&quot;,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;orders_count&quot;:3,&quot;state&quot;:&quot;invited&quot;,&quot;total_spent&quot;:&quot;9896.94&quot;,&quot;last_order_id&quot;:4700248899822,&quot;note&quot;:null,&quot;verified_email&quot;:true,&quot;multipass_identifier&quot;:null,&quot;tax_exempt&quot;:false,&quot;phone&quot;:null,&quot;tags&quot;:&quot;first-order:fully-paid, Guest&quot;,&quot;last_order_name&quot;:&quot;27776&quot;,&quot;currency&quot;:&quot;GBP&quot;,&quot;accepts_marketing_updated_at&quot;:&quot;2022-03-18T03:18:48+00:00&quot;,&quot;marketing_opt_in_level&quot;:null,&quot;tax_exemptions&quot;:[],&quot;sms_marketing_consent&quot;:null,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/Customer/6102973153518&quot;,&quot;default_address&quot;:{&quot;id&quot;:7602051678446,&quot;customer_id&quot;:6102973153518,&quot;first_name&quot;:&quot;Mark&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;company&quot;:&quot;&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;address2&quot;:&quot;&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;province_code&quot;:&quot;ENG&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;country_name&quot;:&quot;United Kingdom&quot;,&quot;default&quot;:true}},&quot;discount_applications&quot;:[],&quot;fulfillments&quot;:[],&quot;line_items&quot;:[{&quot;id&quot;:12045659570414,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/LineItem/12045659570414&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch - XL 55cm&quot;,&quot;price&quot;:&quot;4899.00&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4899.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7570044977390,&quot;properties&quot;:[{&quot;name&quot;:&quot;Pre-Order&quot;,&quot;value&quot;:&quot;&quot;},{&quot;name&quot;:&quot;Frame Size (Check stock below)&quot;,&quot;value&quot;:&quot;55cm&quot;}],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;53710322&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;Cube Stereo Hybrid 160 HPC SL 2022 Bosch&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42482856460526,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:&quot;XL 55cm&quot;,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]},{&quot;id&quot;:12045659603182,&quot;admin_graphql_api_id&quot;:&quot;gid://shopify/LineItem/12045659603182&quot;,&quot;fulfillable_quantity&quot;:1,&quot;fulfillment_service&quot;:&quot;manual&quot;,&quot;fulfillment_status&quot;:null,&quot;gift_card&quot;:false,&quot;grams&quot;:0,&quot;name&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;price&quot;:&quot;25.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;25.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;product_exists&quot;:true,&quot;product_id&quot;:7569830576366,&quot;properties&quot;:[],&quot;quantity&quot;:1,&quot;requires_shipping&quot;:true,&quot;sku&quot;:&quot;BFCB45238&quot;,&quot;taxable&quot;:false,&quot;title&quot;:&quot;KMC Bosch Gen 4 38t Chainring (9mm Offset)&quot;,&quot;total_discount&quot;:&quot;0.00&quot;,&quot;total_discount_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;0.00&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;variant_id&quot;:42435842703598,&quot;variant_inventory_management&quot;:&quot;shopify&quot;,&quot;variant_title&quot;:null,&quot;vendor&quot;:&quot;&quot;,&quot;tax_lines&quot;:[],&quot;duties&quot;:[],&quot;discount_allocations&quot;:[]}],&quot;payment_terms&quot;:null,&quot;refunds&quot;:[],&quot;shipping_address&quot;:{&quot;first_name&quot;:&quot;Mark&quot;,&quot;address1&quot;:&quot;Captains Row&quot;,&quot;phone&quot;:&quot;07989408757&quot;,&quot;city&quot;:&quot;Lymington&quot;,&quot;zip&quot;:&quot;SO41 9RR&quot;,&quot;province&quot;:&quot;England&quot;,&quot;country&quot;:&quot;United Kingdom&quot;,&quot;last_name&quot;:&quot;Pidsley&quot;,&quot;address2&quot;:&quot;&quot;,&quot;company&quot;:&quot;&quot;,&quot;latitude&quot;:50.7584704,&quot;longitude&quot;:-1.537493,&quot;name&quot;:&quot;Mark Pidsley&quot;,&quot;country_code&quot;:&quot;GB&quot;,&quot;province_code&quot;:&quot;ENG&quot;},&quot;shipping_lines&quot;:[{&quot;id&quot;:3913660694766,&quot;carrier_identifier&quot;:null,&quot;code&quot;:&quot;UK E&amp;amp;W Zone A (Weight: 24.75kg)&quot;,&quot;delivery_category&quot;:null,&quot;discounted_price&quot;:&quot;4.99&quot;,&quot;discounted_price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;phone&quot;:null,&quot;price&quot;:&quot;4.99&quot;,&quot;price_set&quot;:{&quot;shop_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;},&quot;presentment_money&quot;:{&quot;amount&quot;:&quot;4.99&quot;,&quot;currency_code&quot;:&quot;GBP&quot;}},&quot;requested_fulfillment_service_id&quot;:null,&quot;source&quot;:&quot;shopify&quot;,&quot;title&quot;:&quot;UK E&amp;amp;W Zone A (Weight: 24.75kg)&quot;,&quot;tax_lines&quot;:[],&quot;discount_allocations&quot;:[]}]}\n</code></pre>\n<p>HMAC verification code is correct. The problem is with the webhook body. I want to convert JSON to its original format that Shopify sends in the webhook</p>\n"},{"tags":["java","hashset"],"answers":[{"tags":[],"owner":{"account_id":449780,"reputation":10114,"user_id":844759,"display_name":"Hui Zheng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359347957,"creation_date":1359347957,"answer_id":14555519,"question_id":14555486,"body_markdown":"`HashSet` implements the `Set` interface(modeling the mathematical set abstraction), which contains no order information and therefore sort makes no sense in a set. As a result, `equals` in a `Set` only considers the members and disregards the orders of members.","title":"Does .equals on Hashset return true regardless of order?","body":"<p><code>HashSet</code> implements the <code>Set</code> interface(modeling the mathematical set abstraction), which contains no order information and therefore sort makes no sense in a set. As a result, <code>equals</code> in a <code>Set</code> only considers the members and disregards the orders of members.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1662875080,"creation_date":1359347964,"answer_id":14555521,"question_id":14555486,"body_markdown":"# `HashSet` has no order\r\n\r\n[Java `HashSet`s are unordered][1] – **they do not have an ordering**. Therefore your question simply cannot be asked as posed. The set `{a,b,c}` is the same as the set `{b,c,a}`. That said, `HashSet` inherit&#39;s [`AbstractSet#equals(Object)`][2] which tells us the following:\r\n\r\n&gt; Compares the specified object with this set for equality. Returns `true` if the given object is also a set, the two sets have the same size, and every member of the given set is contained in this set. This ensures that the `equals` method works properly across different implementations of the `Set` interface.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/AbstractSet.html#equals%28java.lang.Object%29","title":"Does .equals on Hashset return true regardless of order?","body":"<h1><code>HashSet</code> has no order</h1>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">Java <code>HashSet</code>s are unordered</a> – <strong>they do not have an ordering</strong>. Therefore your question simply cannot be asked as posed. The set <code>{a,b,c}</code> is the same as the set <code>{b,c,a}</code>. That said, <code>HashSet</code> inherit's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/AbstractSet.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>AbstractSet#equals(Object)</code></a> which tells us the following:</p>\n<blockquote>\n<p>Compares the specified object with this set for equality. Returns <code>true</code> if the given object is also a set, the two sets have the same size, and every member of the given set is contained in this set. This ensures that the <code>equals</code> method works properly across different implementations of the <code>Set</code> interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662874642,"creation_date":1359347972,"answer_id":14555522,"question_id":14555486,"body_markdown":"Yes, a `HashSet` is an unordered list of unique elements, meaning the order of the elements has no impact on equality. \r\n\r\nBelow is a demonstration illustrating this.\r\n\r\n```java\r\nimport java.util.HashSet;\r\n\r\npublic class TestHashSet \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        HashSet&lt;Integer&gt; set1 = new HashSet&lt;Integer&gt;() {{\r\n            add(1);\r\n            add(2);\r\n            add(3);\r\n            add(4);\r\n            add(5);\r\n        }};\r\n        HashSet&lt;Integer&gt; set2 = new HashSet&lt;Integer&gt;() {{\r\n            add(3);\r\n            add(1);\r\n            add(5);\r\n            add(4);\r\n            add(2);\r\n        }};\r\n        System.out.println(&quot;set1 is equal to set2: &quot; + set1.equals(set2));\r\n    }\r\n}\r\n```","title":"Does .equals on Hashset return true regardless of order?","body":"<p>Yes, a <code>HashSet</code> is an unordered list of unique elements, meaning the order of the elements has no impact on equality.</p>\n<p>Below is a demonstration illustrating this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashSet;\n\npublic class TestHashSet \n{\n    public static void main(String[] args) \n    {\n        HashSet&lt;Integer&gt; set1 = new HashSet&lt;Integer&gt;() {{\n            add(1);\n            add(2);\n            add(3);\n            add(4);\n            add(5);\n        }};\n        HashSet&lt;Integer&gt; set2 = new HashSet&lt;Integer&gt;() {{\n            add(3);\n            add(1);\n            add(5);\n            add(4);\n            add(2);\n        }};\n        System.out.println(&quot;set1 is equal to set2: &quot; + set1.equals(set2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174683,"reputation":28348,"user_id":404201,"accept_rate":90,"display_name":"Jasper Blues"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359348018,"creation_date":1359348018,"answer_id":14555532,"question_id":14555486,"body_markdown":"Yes, it will be true because a Set has no implicit order. \r\n\r\nYou can apply order to a set by using adding a Comparator, or using a special case of Set, such as TreeSet. \r\n\r\nIncidentally, a hashcode is used for fast comparison in a Set. According to the equals contract, any two objects that are considered &quot;equal&quot; must have the same hashcode. \r\n\r\nThis means a Set only has to fall-back to more time consuming methods in the unlikely event of a hashcode colission.","title":"Does .equals on Hashset return true regardless of order?","body":"<p>Yes, it will be true because a Set has no implicit order. </p>\n\n<p>You can apply order to a set by using adding a Comparator, or using a special case of Set, such as TreeSet. </p>\n\n<p>Incidentally, a hashcode is used for fast comparison in a Set. According to the equals contract, any two objects that are considered \"equal\" must have the same hashcode. </p>\n\n<p>This means a Set only has to fall-back to more time consuming methods in the unlikely event of a hashcode colission.</p>\n"},{"tags":[],"owner":{"account_id":2282642,"reputation":141,"user_id":2007389,"display_name":"Deepak Borania"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1359348023,"creation_date":1359348023,"answer_id":14555535,"question_id":14555486,"body_markdown":"This should return true.\r\nThe documentation says : \r\n\r\n&gt; Compares the specified object with this set for equality. Returns true\r\n&gt; if the given object is also a set, the two sets have the same size,\r\n&gt; and every member of the given set is contained in this set. This\r\n&gt; ensures that the equals method works properly across different\r\n&gt; implementations of the Set interface.\r\n\r\n","title":"Does .equals on Hashset return true regardless of order?","body":"<p>This should return true.\nThe documentation says : </p>\n\n<blockquote>\n  <p>Compares the specified object with this set for equality. Returns true\n  if the given object is also a set, the two sets have the same size,\n  and every member of the given set is contained in this set. This\n  ensures that the equals method works properly across different\n  implementations of the Set interface.</p>\n</blockquote>\n"}],"owner":{"account_id":1050720,"reputation":513,"user_id":1054740,"accept_rate":17,"display_name":"user1054740"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17090,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1662875080,"creation_date":1359347731,"question_id":14555486,"body_markdown":"For the Hashset in java there is a .equals method comparing elements in each set.\r\nWill this return true regardless of order?\r\n\r\nExample, let&#39;s say we have one set with elements {a,b,c} and another with elements {b,c,a}\r\n\r\nif you use .equals on these two sets will it return true, or does it have to be sorted?\r\n\r\n","title":"Does .equals on Hashset return true regardless of order?","body":"<p>For the Hashset in java there is a .equals method comparing elements in each set.\nWill this return true regardless of order?</p>\n\n<p>Example, let's say we have one set with elements {a,b,c} and another with elements {b,c,a}</p>\n\n<p>if you use .equals on these two sets will it return true, or does it have to be sorted?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1360473638,"post_id":14794382,"comment_id":20718676,"body_markdown":"When hopping from one problem to the next, you should probably ask a new question instead of editing the existing, when the problem is a different one. Just be sure to make it clear that the problem is a new one, even if the code looks similar.","body":"When hopping from one problem to the next, you should probably ask a new question instead of editing the existing, when the problem is a different one. Just be sure to make it clear that the problem is a new one, even if the code looks similar."},{"owner":{"account_id":2087800,"reputation":351,"user_id":1858304,"accept_rate":59,"display_name":"SkyVar"},"score":0,"creation_date":1360473833,"post_id":14794382,"comment_id":20718710,"body_markdown":"Yeah I&#39;m going to repost this question as a new one, I tried your example and didn&#39;t get any luck. Maybe if I repost I&#39;ll get a better understanding from the masses.","body":"Yeah I&#39;m going to repost this question as a new one, I tried your example and didn&#39;t get any luck. Maybe if I repost I&#39;ll get a better understanding from the masses."}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1360472316,"creation_date":1360466899,"answer_id":14794399,"question_id":14794382,"body_markdown":"The logic that actually _does_ anything with the input – all those `if` statements – is outside of the loop. With each iteration through the look, none of that logic is not actually executed. It all just happens first. Try this instead:\r\n\r\n    for (int count=0; count &lt; 3; count++)\r\n    {\r\n        int input = in.nextInt();\r\n        int compint = gen.nextInt(3) + 1;\r\n        \r\n        // all the if statements and printing here\r\n    }\r\n    \r\n\r\n\r\n----------\r\n\r\n&gt;  **UPDATE: Now that I have everything working how do I get this &quot;Q&quot; string to terminate the loop?\r\n\r\nYou&#39;re getting an [`InputMismatchException`][1] when typing `Q` but the code calls `Scanner#nextInt()`. The docs are pretty clear on what the problem is:\r\n\r\n&gt; Thrown by a `Scanner` to indicate that the token retrieved does not match the pattern for the expected type, or that the token is out of range for the expected type.\r\n\r\nIt&#39;s basically the `Scanner`&#39;s way of telling you &quot;you asked for an `int` but the next token isn&#39;t one.&quot; You can add an additional check before the `nextInt()` calls, using [`Scanner#hasNextInt()`][2], to verify that the next token actually _is_ an int. If it&#39;s not an int, then you can plan on parsing it just as a string.\r\n\r\nSo instead of this:\r\n\r\n    input = in.nextInt();\r\n    \r\nDo something like this:\r\n\r\n    if (in.hasNextInt())\r\n    {\r\n        input = in.nextInt();\r\n    } else if (in.hasNext(&quot;Q&quot;)) {\r\n        // quit\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextInt%28%29","title":"How do I make a String int terminator?","body":"<p>The logic that actually <em>does</em> anything with the input – all those <code>if</code> statements – is outside of the loop. With each iteration through the look, none of that logic is not actually executed. It all just happens first. Try this instead:</p>\n\n<pre><code>for (int count=0; count &lt; 3; count++)\n{\n    int input = in.nextInt();\n    int compint = gen.nextInt(3) + 1;\n\n    // all the if statements and printing here\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>**UPDATE: Now that I have everything working how do I get this \"Q\" string to terminate the loop?</p>\n</blockquote>\n\n<p>You're getting an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html\" rel=\"nofollow\"><code>InputMismatchException</code></a> when typing <code>Q</code> but the code calls <code>Scanner#nextInt()</code>. The docs are pretty clear on what the problem is:</p>\n\n<blockquote>\n  <p>Thrown by a <code>Scanner</code> to indicate that the token retrieved does not match the pattern for the expected type, or that the token is out of range for the expected type.</p>\n</blockquote>\n\n<p>It's basically the <code>Scanner</code>'s way of telling you \"you asked for an <code>int</code> but the next token isn't one.\" You can add an additional check before the <code>nextInt()</code> calls, using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextInt%28%29\" rel=\"nofollow\"><code>Scanner#hasNextInt()</code></a>, to verify that the next token actually <em>is</em> an int. If it's not an int, then you can plan on parsing it just as a string.</p>\n\n<p>So instead of this:</p>\n\n<pre><code>input = in.nextInt();\n</code></pre>\n\n<p>Do something like this:</p>\n\n<pre><code>if (in.hasNextInt())\n{\n    input = in.nextInt();\n} else if (in.hasNext(\"Q\")) {\n    // quit\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1489010,"reputation":7802,"user_id":1396594,"accept_rate":67,"display_name":"exexzian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360467321,"creation_date":1360467321,"answer_id":14794437,"question_id":14794382,"body_markdown":"seems you wanted to use `do - while loop`\r\nit would work:\r\n\r\n\r\n    do{\r\n           compint = gen.nextInt(3) + 1;\r\n    \r\n            System.out.println(&quot;Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: &quot;);\r\n            int input = in.nextInt();\r\n    \r\n            if (input == 1)\r\n            {\r\n                usermove = &quot;Rock&quot;;\r\n            }\r\n            else if (input == 2)\r\n            {\r\n                usermove = &quot;Paper&quot;;\r\n            }\r\n            else if (input == 3)\r\n            {\r\n                usermove = &quot;Scissors&quot;;\r\n            }\r\n    \r\n            if (compint == 1)\r\n            {\r\n                compmove = &quot;Rock&quot;;\r\n            }\r\n            else if (compint == 2)\r\n            {\r\n                compmove = &quot;Paper&quot;;\r\n            }\r\n            else if (compint == 3)\r\n            {\r\n                compmove = &quot;Scissors&quot;;\r\n            }\r\n    \r\n            if (compint == input)\r\n            {\r\n                winner = &quot;TIE&quot;;\r\n            }\r\n            else if (compint == 1 &amp;&amp; input == 3)\r\n            {\r\n                winner = &quot;COMPUTER&quot;;\r\n            }\r\n            else if (compint == 2 &amp;&amp; input == 1)\r\n            {\r\n                winner = &quot;COMPUTER&quot;;\r\n            }\r\n            else if (compint == 3 &amp;&amp; input == 2)\r\n            {\r\n                winner = &quot;COMPUTER&quot;;\r\n            }\r\n            else\r\n            {\r\n                winner = &quot;USER&quot;;\r\n            }\r\n          \r\n                System.out.print(&quot;Computer: &quot; + compmove + &quot; | &quot;);\r\n                System.out.print(&quot;You: &quot; + usermove + &quot; | &quot;);\r\n                System.out.println(&quot;Winner: &quot; + winner);\r\n                System.out.println(&quot;Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: &quot;);\r\n                input = in.nextInt();\r\n                count++;\r\n    \r\n            }while (count &lt; 3);\r\n        ","title":"How do I make a String int terminator?","body":"<p>seems you wanted to use <code>do - while loop</code>\nit would work:</p>\n\n<pre><code>do{\n       compint = gen.nextInt(3) + 1;\n\n        System.out.println(\"Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \");\n        int input = in.nextInt();\n\n        if (input == 1)\n        {\n            usermove = \"Rock\";\n        }\n        else if (input == 2)\n        {\n            usermove = \"Paper\";\n        }\n        else if (input == 3)\n        {\n            usermove = \"Scissors\";\n        }\n\n        if (compint == 1)\n        {\n            compmove = \"Rock\";\n        }\n        else if (compint == 2)\n        {\n            compmove = \"Paper\";\n        }\n        else if (compint == 3)\n        {\n            compmove = \"Scissors\";\n        }\n\n        if (compint == input)\n        {\n            winner = \"TIE\";\n        }\n        else if (compint == 1 &amp;&amp; input == 3)\n        {\n            winner = \"COMPUTER\";\n        }\n        else if (compint == 2 &amp;&amp; input == 1)\n        {\n            winner = \"COMPUTER\";\n        }\n        else if (compint == 3 &amp;&amp; input == 2)\n        {\n            winner = \"COMPUTER\";\n        }\n        else\n        {\n            winner = \"USER\";\n        }\n\n            System.out.print(\"Computer: \" + compmove + \" | \");\n            System.out.print(\"You: \" + usermove + \" | \");\n            System.out.println(\"Winner: \" + winner);\n            System.out.println(\"Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \");\n            input = in.nextInt();\n            count++;\n\n        }while (count &lt; 3);\n</code></pre>\n"}],"owner":{"account_id":2087800,"reputation":351,"user_id":1858304,"accept_rate":59,"display_name":"SkyVar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14794399,"answer_count":2,"score":1,"last_activity_date":1662874883,"creation_date":1360466748,"question_id":14794382,"body_markdown":"So im making everyone&#39;s fun game &quot;Rock, Paper, Scissors&quot; I got everything working, except having the while loop repeat 3 time before stopping. Well it does repeat 3 times and stops, but the 2nd and 3rd repeat the variables don&#39;t change. Take a look at the code and tell me what I&#39;m doing wrong.\r\n**UPDATE: Now that I have everything working how do I get this &quot;Q&quot; string to terminate the loop?\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n    \r\n    public class RockPaperScissors\r\n    {\r\n    \r\n    \t/**\r\n    \t * (Insert a brief description that describes the purpose of this method)\r\n    \t * \r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint compint;\r\n    \t\tString usermove = &quot;&quot;;\r\n    \t\tString compmove = &quot;&quot;;\r\n    \t\tString winner = &quot;&quot;;\r\n    \t\tint count = 0;\r\n    \t\t\r\n    \r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tRandom gen = new Random();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: &quot;);\r\n    \t\tint input = in.nextInt();\t\t\r\n    \t\t\r\n    \t\twhile (count &lt; 3)\r\n    \t\t{\r\n    \t\t\tcompint = gen.nextInt(3) + 1;\r\n    \r\n    \t\t\tif (input == 1)\r\n    \t\t\t{\r\n    \t\t\t\tusermove = &quot;Rock&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (input == 2)\r\n    \t\t\t{\r\n    \t\t\t\tusermove = &quot;Paper&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (input == 3)\r\n    \t\t\t{\r\n    \t\t\t\tusermove = &quot;Scissors&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (compint == 1)\r\n    \t\t\t{\r\n    \t\t\t\tcompmove = &quot;Rock&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (compint == 2)\r\n    \t\t\t{\r\n    \t\t\t\tcompmove = &quot;Paper&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (compint == 3)\r\n    \t\t\t{\r\n    \t\t\t\tcompmove = &quot;Scissors&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (compint == input)\r\n    \t\t\t{\r\n    \t\t\t\twinner = &quot;TIE&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (compint == 1 &amp;&amp; input == 3)\r\n    \t\t\t{\r\n    \t\t\t\twinner = &quot;COMPUTER&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (compint == 2 &amp;&amp; input == 1)\r\n    \t\t\t{\r\n    \t\t\t\twinner = &quot;COMPUTER&quot;;\r\n    \t\t\t}\r\n    \t\t\telse if (compint == 3 &amp;&amp; input == 2)\r\n    \t\t\t{\r\n    \t\t\t\twinner = &quot;COMPUTER&quot;;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\twinner = &quot;USER&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.print(&quot;Computer: &quot; + compmove + &quot; | &quot;);\r\n    \t\t\tSystem.out.print(&quot;You: &quot; + usermove + &quot; | &quot;);\r\n    \t\t\tSystem.out.println(&quot;Winner: &quot; + winner);\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: &quot;);\r\n    \t\t\tinput = in.nextInt();\r\n    \t\t\tcount++;\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \r\n    1\r\n    Computer: Scissors | You: Rock | Winner: USER\r\n    \r\n    Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \r\n    2\r\n    Computer: Rock | You: Paper | Winner: USER\r\n    \r\n    Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \r\n    Q\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.util.Scanner.throwFor(Unknown Source)\r\n    \tat java.util.Scanner.next(Unknown Source)\r\n    \tat java.util.Scanner.nextInt(Unknown Source)\r\n    \tat java.util.Scanner.nextInt(Unknown Source)\r\n    \tat RockPaperScissors.main(RockPaperScissors.java:102)","title":"How do I make a String int terminator?","body":"<p>So im making everyone's fun game \"Rock, Paper, Scissors\" I got everything working, except having the while loop repeat 3 time before stopping. Well it does repeat 3 times and stops, but the 2nd and 3rd repeat the variables don't change. Take a look at the code and tell me what I'm doing wrong.\n**UPDATE: Now that I have everything working how do I get this \"Q\" string to terminate the loop?</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class RockPaperScissors\n{\n\n    /**\n     * (Insert a brief description that describes the purpose of this method)\n     * \n     * @param args\n     */\n    public static void main(String[] args)\n    {\n        int compint;\n        String usermove = \"\";\n        String compmove = \"\";\n        String winner = \"\";\n        int count = 0;\n\n\n        Scanner in = new Scanner(System.in);\n        Random gen = new Random();\n\n        System.out.println(\"Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \");\n        int input = in.nextInt();       \n\n        while (count &lt; 3)\n        {\n            compint = gen.nextInt(3) + 1;\n\n            if (input == 1)\n            {\n                usermove = \"Rock\";\n            }\n            else if (input == 2)\n            {\n                usermove = \"Paper\";\n            }\n            else if (input == 3)\n            {\n                usermove = \"Scissors\";\n            }\n\n            if (compint == 1)\n            {\n                compmove = \"Rock\";\n            }\n            else if (compint == 2)\n            {\n                compmove = \"Paper\";\n            }\n            else if (compint == 3)\n            {\n                compmove = \"Scissors\";\n            }\n\n            if (compint == input)\n            {\n                winner = \"TIE\";\n            }\n            else if (compint == 1 &amp;&amp; input == 3)\n            {\n                winner = \"COMPUTER\";\n            }\n            else if (compint == 2 &amp;&amp; input == 1)\n            {\n                winner = \"COMPUTER\";\n            }\n            else if (compint == 3 &amp;&amp; input == 2)\n            {\n                winner = \"COMPUTER\";\n            }\n            else\n            {\n                winner = \"USER\";\n            }\n\n            System.out.print(\"Computer: \" + compmove + \" | \");\n            System.out.print(\"You: \" + usermove + \" | \");\n            System.out.println(\"Winner: \" + winner);\n            System.out.println();\n            System.out.println(\"Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \");\n            input = in.nextInt();\n            count++;\n\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Enter Rock(1), Paper(2), Scissors(3) {Q to quit]: \n1\nComputer: Scissors | You: Rock | Winner: USER\n\nEnter Rock(1), Paper(2), Scissors(3) {Q to quit]: \n2\nComputer: Rock | You: Paper | Winner: USER\n\nEnter Rock(1), Paper(2), Scissors(3) {Q to quit]: \nQ\nException in thread \"main\" java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at RockPaperScissors.main(RockPaperScissors.java:102)\n</code></pre>\n"},{"tags":["java","ptc-windchill"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662457060,"post_id":73617084,"comment_id":130004071,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26227449,"reputation":1,"user_id":19903939,"display_name":"cooper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662873088,"creation_date":1662447201,"answer_id":73617818,"question_id":73617084,"body_markdown":"If classes were deleted because source files didn&#39;t exist then you need to restore them from backup or a different system with the same version. Try to not compile the full `com` package, but compile just your custom one. It won&#39;t delete other classes.","title":"I can&#39;t run the windchill test system","body":"<p>If classes were deleted because source files didn't exist then you need to restore them from backup or a different system with the same version. Try to not compile the full <code>com</code> package, but compile just your custom one. It won't delete other classes.</p>\n"}],"owner":{"account_id":26227449,"reputation":1,"user_id":19903939,"display_name":"cooper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662873088,"creation_date":1662442137,"question_id":73617084,"body_markdown":"While I was trying to load the new classes I wanted to create in windchill shell, my necessary files in windchill were deleted during the installation. All classes in the file are deleted when adding a new package with windchill shelland the test system stopped working.  What can I do for it. ","title":"I can&#39;t run the windchill test system","body":"<p>While I was trying to load the new classes I wanted to create in windchill shell, my necessary files in windchill were deleted during the installation. All classes in the file are deleted when adding a new package with windchill shelland the test system stopped working.  What can I do for it.</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1662853184,"post_id":73675855,"comment_id":130102594,"body_markdown":"You&#39;ve initialized ```i``` with 1, shouldn&#39;t it start with 0?","body":"You&#39;ve initialized <code>i</code> with 1, shouldn&#39;t it start with 0?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662853233,"creation_date":1662853233,"answer_id":73675878,"question_id":73675855,"body_markdown":"Computer programmers start counting at `0` (not `1`). Change `int i = 1;` to `int i = 0;`, second I would make the test and assignment of `tmp` to `p` in the `while` loop condition. I would also use formatted output over string concatenation. Like,\r\n\r\n\tpublic static int nbYear(int p0, double percent, int aug, int p) {\r\n\t\tSystem.out.printf(&quot;p0: %d, percent: %.2f, aug: %d, p: %d%n&quot;,\r\n\t\t\t\tp0, percent, aug, p);\r\n\t\tdouble tmp = p0;\r\n\t\tint i = 0;\r\n\t\twhile ((tmp = tmp * (1 + (percent / 100)) + aug) &lt;= p) {\r\n\t\t\tSystem.out.println(&quot;running total: &quot; + tmp);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn i;\r\n\t}","title":"while loop adding an extra when input is 0","body":"<p>Computer programmers start counting at <code>0</code> (not <code>1</code>). Change <code>int i = 1;</code> to <code>int i = 0;</code>, second I would make the test and assignment of <code>tmp</code> to <code>p</code> in the <code>while</code> loop condition. I would also use formatted output over string concatenation. Like,</p>\n<pre><code>public static int nbYear(int p0, double percent, int aug, int p) {\n    System.out.printf(&quot;p0: %d, percent: %.2f, aug: %d, p: %d%n&quot;,\n            p0, percent, aug, p);\n    double tmp = p0;\n    int i = 0;\n    while ((tmp = tmp * (1 + (percent / 100)) + aug) &lt;= p) {\n        System.out.println(&quot;running total: &quot; + tmp);\n        i++;\n    }\n    return i;\n}\n</code></pre>\n"}],"owner":{"account_id":16395837,"reputation":23,"user_id":11843403,"display_name":"aroy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662872970,"creation_date":1662852876,"question_id":73675855,"body_markdown":"I am working in java. I am trying to do the below problem from code wars. I have provided my solution at the bottom. \r\n\r\n\r\n\r\n**QUESTION:**\r\nIn a small town the population is p0 = 1000 at the beginning of a year. The population regularly increases by 2 percent per year and moreover 50 new inhabitants per year come to live in the town. How many years does the town need to see its population greater or equal to p = 1200 inhabitants?\r\n\r\nAt the end of the first year there will be: \r\n1000 + 1000 * 0.02 + 50 =&gt; 1070 inhabitants\r\n\r\nAt the end of the 2nd year there will be: \r\n1070 + 1070 * 0.02 + 50 =&gt; 1141 inhabitants (** number of inhabitants is an integer **)\r\n\r\nAt the end of the 3rd year there will be:\r\n1141 + 1141 * 0.02 + 50 =&gt; 1213\r\n\r\nIt will need 3 entire years.\r\nMore generally given parameters:\r\n\r\np0, percent, aug (inhabitants coming or leaving each year), p (population to surpass)\r\n\r\nthe function nb_year should return n number of entire years needed to get a population greater or equal to p.\r\n\r\naug is an integer, percent a positive or null floating number, p0 and p are positive integers (&gt; 0)\r\n\r\nExamples:\r\nnb_year(1500, 5, 100, 5000) -&gt; 15\r\nnb_year(1500000, 2.5, 10000, 2000000) -&gt; 10\r\nNote:\r\nDon&#39;t forget to convert the percent parameter as a percentage in the body of your function: if the parameter percent is 2 you have to convert it to 0.02.\r\n\r\n-----------------------------------------\r\n\r\n**MY SOLUTION:**\r\n\r\n    public static int nbYear(int p0, double percent, int aug, int p) {\r\n      System.out.println(&quot;p0 : &quot;+p0 +&quot;percent&quot;+percent+&quot;aug&quot;+aug+&quot;p: &quot;+p);\r\n      double tmp = p0*(1+(percent/100))+aug;\r\n      System.out.println(&quot;running total: &quot; +tmp);\r\n      int i=1;\r\n      while (tmp&lt;=p){\r\n        tmp =  tmp * (1+(percent/100)) + aug;\r\n        System.out.println(&quot;running total: &quot; +tmp);\r\n        i++;\r\n      }\r\n      return i;\r\n\r\n    }\r\n\r\n\r\n-------------------------\r\n\r\n**THE ISSUE:**\r\n\r\nI am getting the answer 51 with the following inputs. The answer should be 50.   \r\np0= 1500000 ,percent =  0.0, aug =  10000, p =2000000\r\nnbYear(1500000 , 0.0, 1000, 2000000)\r\n\r\n\r\nForm the statements I am printing to the console, I can see that running total is 2000000 at some point. However, the while loop does not break and I don&#39;t understand why. Can you help? See below for console logs.\r\n```none\r\np0 : 1500000percent0.0aug10000p: 2000000\r\nrunning total: 1510000.0\r\nrunning total: 1520000.0\r\nrunning total: 1530000.0\r\nrunning total: 1540000.0\r\nrunning total: 1550000.0\r\nrunning total: 1560000.0\r\nrunning total: 1570000.0\r\nrunning total: 1580000.0\r\nrunning total: 1590000.0\r\nrunning total: 1600000.0\r\nrunning total: 1610000.0\r\nrunning total: 1620000.0\r\nrunning total: 1630000.0\r\nrunning total: 1640000.0\r\nrunning total: 1650000.0\r\nrunning total: 1660000.0\r\nrunning total: 1670000.0\r\nrunning total: 1680000.0\r\nrunning total: 1690000.0\r\nrunning total: 1700000.0\r\nrunning total: 1710000.0\r\nrunning total: 1720000.0\r\nrunning total: 1730000.0\r\nrunning total: 1740000.0\r\nrunning total: 1750000.0\r\nrunning total: 1760000.0\r\nrunning total: 1770000.0\r\nrunning total: 1780000.0\r\nrunning total: 1790000.0\r\nrunning total: 1800000.0\r\nrunning total: 1810000.0\r\nrunning total: 1820000.0\r\nrunning total: 1830000.0\r\nrunning total: 1840000.0\r\nrunning total: 1850000.0\r\nrunning total: 1860000.0\r\nrunning total: 1870000.0\r\nrunning total: 1880000.0\r\nrunning total: 1890000.0\r\nrunning total: 1900000.0\r\nrunning total: 1910000.0\r\nrunning total: 1920000.0\r\nrunning total: 1930000.0\r\nrunning total: 1940000.0\r\nrunning total: 1950000.0\r\nrunning total: 1960000.0\r\nrunning total: 1970000.0\r\nrunning total: 1980000.0\r\nrunning total: 1990000.0\r\nrunning total: 2000000.0\r\nrunning total: 2010000.0\r\n```\r\nexpected:&lt;50&gt; but was:&lt;51&gt; \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"while loop adding an extra when input is 0","body":"<p>I am working in java. I am trying to do the below problem from code wars. I have provided my solution at the bottom.</p>\n<p><strong>QUESTION:</strong>\nIn a small town the population is p0 = 1000 at the beginning of a year. The population regularly increases by 2 percent per year and moreover 50 new inhabitants per year come to live in the town. How many years does the town need to see its population greater or equal to p = 1200 inhabitants?</p>\n<p>At the end of the first year there will be:\n1000 + 1000 * 0.02 + 50 =&gt; 1070 inhabitants</p>\n<p>At the end of the 2nd year there will be:\n1070 + 1070 * 0.02 + 50 =&gt; 1141 inhabitants (** number of inhabitants is an integer **)</p>\n<p>At the end of the 3rd year there will be:\n1141 + 1141 * 0.02 + 50 =&gt; 1213</p>\n<p>It will need 3 entire years.\nMore generally given parameters:</p>\n<p>p0, percent, aug (inhabitants coming or leaving each year), p (population to surpass)</p>\n<p>the function nb_year should return n number of entire years needed to get a population greater or equal to p.</p>\n<p>aug is an integer, percent a positive or null floating number, p0 and p are positive integers (&gt; 0)</p>\n<p>Examples:\nnb_year(1500, 5, 100, 5000) -&gt; 15\nnb_year(1500000, 2.5, 10000, 2000000) -&gt; 10\nNote:\nDon't forget to convert the percent parameter as a percentage in the body of your function: if the parameter percent is 2 you have to convert it to 0.02.</p>\n<hr />\n<p><strong>MY SOLUTION:</strong></p>\n<pre><code>public static int nbYear(int p0, double percent, int aug, int p) {\n  System.out.println(&quot;p0 : &quot;+p0 +&quot;percent&quot;+percent+&quot;aug&quot;+aug+&quot;p: &quot;+p);\n  double tmp = p0*(1+(percent/100))+aug;\n  System.out.println(&quot;running total: &quot; +tmp);\n  int i=1;\n  while (tmp&lt;=p){\n    tmp =  tmp * (1+(percent/100)) + aug;\n    System.out.println(&quot;running total: &quot; +tmp);\n    i++;\n  }\n  return i;\n\n}\n</code></pre>\n<hr />\n<p><strong>THE ISSUE:</strong></p>\n<p>I am getting the answer 51 with the following inputs. The answer should be 50.<br />\np0= 1500000 ,percent =  0.0, aug =  10000, p =2000000\nnbYear(1500000 , 0.0, 1000, 2000000)</p>\n<p>Form the statements I am printing to the console, I can see that running total is 2000000 at some point. However, the while loop does not break and I don't understand why. Can you help? See below for console logs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>p0 : 1500000percent0.0aug10000p: 2000000\nrunning total: 1510000.0\nrunning total: 1520000.0\nrunning total: 1530000.0\nrunning total: 1540000.0\nrunning total: 1550000.0\nrunning total: 1560000.0\nrunning total: 1570000.0\nrunning total: 1580000.0\nrunning total: 1590000.0\nrunning total: 1600000.0\nrunning total: 1610000.0\nrunning total: 1620000.0\nrunning total: 1630000.0\nrunning total: 1640000.0\nrunning total: 1650000.0\nrunning total: 1660000.0\nrunning total: 1670000.0\nrunning total: 1680000.0\nrunning total: 1690000.0\nrunning total: 1700000.0\nrunning total: 1710000.0\nrunning total: 1720000.0\nrunning total: 1730000.0\nrunning total: 1740000.0\nrunning total: 1750000.0\nrunning total: 1760000.0\nrunning total: 1770000.0\nrunning total: 1780000.0\nrunning total: 1790000.0\nrunning total: 1800000.0\nrunning total: 1810000.0\nrunning total: 1820000.0\nrunning total: 1830000.0\nrunning total: 1840000.0\nrunning total: 1850000.0\nrunning total: 1860000.0\nrunning total: 1870000.0\nrunning total: 1880000.0\nrunning total: 1890000.0\nrunning total: 1900000.0\nrunning total: 1910000.0\nrunning total: 1920000.0\nrunning total: 1930000.0\nrunning total: 1940000.0\nrunning total: 1950000.0\nrunning total: 1960000.0\nrunning total: 1970000.0\nrunning total: 1980000.0\nrunning total: 1990000.0\nrunning total: 2000000.0\nrunning total: 2010000.0\n</code></pre>\n<p>expected:&lt;50&gt; but was:&lt;51&gt;</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662872367,"creation_date":1662872367,"answer_id":73676935,"question_id":73676893,"body_markdown":"In java arrays are represented by square brackets:\r\n```java\r\nString [] programmingLanguages = ...\r\n```\r\nYou can initialize in-place:\r\n```java\r\nString [] programmingLanguages = {&quot;C&quot;, &quot;C++&quot;, &quot;Java&quot;, &quot;Lua&quot;};\r\n```\r\n\r\nOr initialize by index:\r\n\r\n```java\r\nString [] programmingLanguages = new String [4];\r\nprogrammingLanguages[0] = &quot;C&quot;;\r\nprogrammingLanguages[1] = &quot;C++&quot;;\r\nprogrammingLanguages[2] = &quot;Java&quot;;\r\nprogrammingLanguages[3] = &quot;Lua&quot;;\r\n```\r\n\r\nYou can iterate over arrays, access by index and everything:\r\n\r\n```java\r\nfor(String language : programmingLanguages) {\r\n    System.out.println(language);\r\n}\r\n```\r\nOr:\r\n```java\r\nfor(int index=0; index &lt; programmingLanguages.length; i++) {\r\n    System.out.println(programmingLanguages[index]);\r\n}\r\n```\r\n\r\n\r\nNote that you can&#39;t change the size of the array after the memory for it has been allocated, so `programmingLanguage[5]=&quot;Pascal&quot;` will throw an exception in runtime.\r\n\r\nThis might be too restrictive in a real life code challenges, so usually in Java people tend to use `java.util.List` interface and its well-known implementation `java.util.ArrayList`:\r\n\r\n```java\r\nList&lt;String&gt; programmingLanguages = new ArrayList&lt;&gt;(); // note, no size specified in advance\r\nprogrammingLanguages.add(&quot;C&quot;); \r\nprogrammingLanguages.add(&quot;C++&quot;);\r\nprogrammingLanguages.add(&quot;Java&quot;);\r\nprogrammingLanguages.add(&quot;Lua&quot;);\r\n```","title":"How to index a string array using a variable?","body":"<p>In java arrays are represented by square brackets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] programmingLanguages = ...\n</code></pre>\n<p>You can initialize in-place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] programmingLanguages = {&quot;C&quot;, &quot;C++&quot;, &quot;Java&quot;, &quot;Lua&quot;};\n</code></pre>\n<p>Or initialize by index:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] programmingLanguages = new String [4];\nprogrammingLanguages[0] = &quot;C&quot;;\nprogrammingLanguages[1] = &quot;C++&quot;;\nprogrammingLanguages[2] = &quot;Java&quot;;\nprogrammingLanguages[3] = &quot;Lua&quot;;\n</code></pre>\n<p>You can iterate over arrays, access by index and everything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(String language : programmingLanguages) {\n    System.out.println(language);\n}\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int index=0; index &lt; programmingLanguages.length; i++) {\n    System.out.println(programmingLanguages[index]);\n}\n</code></pre>\n<p>Note that you can't change the size of the array after the memory for it has been allocated, so <code>programmingLanguage[5]=&quot;Pascal&quot;</code> will throw an exception in runtime.</p>\n<p>This might be too restrictive in a real life code challenges, so usually in Java people tend to use <code>java.util.List</code> interface and its well-known implementation <code>java.util.ArrayList</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; programmingLanguages = new ArrayList&lt;&gt;(); // note, no size specified in advance\nprogrammingLanguages.add(&quot;C&quot;); \nprogrammingLanguages.add(&quot;C++&quot;);\nprogrammingLanguages.add(&quot;Java&quot;);\nprogrammingLanguages.add(&quot;Lua&quot;);\n</code></pre>\n"}],"owner":{"account_id":26303408,"reputation":3,"user_id":19968331,"display_name":"wd40"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73676935,"answer_count":1,"score":0,"last_activity_date":1662872367,"creation_date":1662871705,"question_id":73676893,"body_markdown":"I mostly familiar with Lua and just getting into Java. Below is the code I am trying to expand upon.\r\n```\r\ns1 = getResources().getStringArray(R.array.programming_languages);\r\n```\r\nWhat do I do if I want ```programming_langugages``` to be determined by a variable?\r\n```\r\ntestStr = &quot;programming_languages&quot;;\r\n```\r\nHow can I go about doing something similar to below, where ```testStr``` is indexed? Below is similar to how I have done it in Lua, so I don&#39;t know what else to do, or even search for.\r\n```\r\ntestStr = &quot;programming_languages&quot;;\r\n\r\ns1 = getResources().getStringArray(R.array[testStr]);\r\n```","title":"How to index a string array using a variable?","body":"<p>I mostly familiar with Lua and just getting into Java. Below is the code I am trying to expand upon.</p>\n<pre><code>s1 = getResources().getStringArray(R.array.programming_languages);\n</code></pre>\n<p>What do I do if I want <code>programming_langugages</code> to be determined by a variable?</p>\n<pre><code>testStr = &quot;programming_languages&quot;;\n</code></pre>\n<p>How can I go about doing something similar to below, where <code>testStr</code> is indexed? Below is similar to how I have done it in Lua, so I don't know what else to do, or even search for.</p>\n<pre><code>testStr = &quot;programming_languages&quot;;\n\ns1 = getResources().getStringArray(R.array[testStr]);\n</code></pre>\n"},{"tags":["java","hibernate","grails","micronaut"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1662733067,"post_id":73662973,"comment_id":130081250,"body_markdown":"I don&#39;t see any `@Transactional`","body":"I don&#39;t see any <code>@Transactional</code>"},{"owner":{"account_id":1110823,"reputation":5919,"user_id":1101310,"accept_rate":40,"display_name":"Awesome"},"score":0,"creation_date":1662735915,"post_id":73662973,"comment_id":130082316,"body_markdown":"Updated controller code with @Transactional","body":"Updated controller code with @Transactional"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1662992045,"post_id":73662973,"comment_id":130128101,"body_markdown":"`BookService` will be transactional by default.","body":"<code>BookService</code> will be transactional by default."}],"answers":[{"tags":[],"owner":{"account_id":1110823,"reputation":5919,"user_id":1101310,"accept_rate":40,"display_name":"Awesome"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1662868478,"creation_date":1662868478,"answer_id":73676701,"question_id":73662973,"body_markdown":"Here the issue is happening only when we try to access domains that are configured with the second data source.\r\n\r\nIn the above example Book domain is configured with second data source called ```olap```.\r\n\r\n```\r\nstatic mapping = {\r\n    version false\r\n    datasource &#39;olap&#39;\r\n}\r\n```\r\nBut in the service I added just ```@Transactional```. That means service uses default data source. But ```Book``` domain has ```olap``` data source. Because of that we are getting ```No session found``` error.\r\n\r\nTo fix this I have added ```@Transactional(connection=&quot;olap&quot;)``` to the method which accesses ```Book``` domain. So that both domain &amp; service will use same data source.\r\n\r\nAfter fix my service class looks as below:\r\n\r\n```\r\npackage com.example.service\r\n\r\nimport com.example.domain.Book\r\nimport grails.gorm.transactions.Transactional\r\nimport jakarta.inject.Singleton\r\n\r\n@Transactional\r\n@Singleton\r\nclass BookService {\r\n\r\n    @Transactional(connection=&quot;olap&quot;)\r\n    Book get(Long bookId) {\r\n        Book.findById(bookId)\r\n    }\r\n\r\n}\r\n\r\n```","title":"Getting &quot;No Session found for current thread&quot; error while using multiple data sources using gorm with micronaut","body":"<p>Here the issue is happening only when we try to access domains that are configured with the second data source.</p>\n<p>In the above example Book domain is configured with second data source called <code>olap</code>.</p>\n<pre><code>static mapping = {\n    version false\n    datasource 'olap'\n}\n</code></pre>\n<p>But in the service I added just <code>@Transactional</code>. That means service uses default data source. But <code>Book</code> domain has <code>olap</code> data source. Because of that we are getting <code>No session found</code> error.</p>\n<p>To fix this I have added <code>@Transactional(connection=&quot;olap&quot;)</code> to the method which accesses <code>Book</code> domain. So that both domain &amp; service will use same data source.</p>\n<p>After fix my service class looks as below:</p>\n<pre><code>package com.example.service\n\nimport com.example.domain.Book\nimport grails.gorm.transactions.Transactional\nimport jakarta.inject.Singleton\n\n@Transactional\n@Singleton\nclass BookService {\n\n    @Transactional(connection=&quot;olap&quot;)\n    Book get(Long bookId) {\n        Book.findById(bookId)\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1110823,"reputation":5919,"user_id":1101310,"accept_rate":40,"display_name":"Awesome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73676701,"answer_count":1,"score":0,"last_activity_date":1662868478,"creation_date":1662730321,"question_id":73662973,"body_markdown":"I am trying to build an application in Micronaut using gorm with multiple data sources.\r\n\r\nMicronaut version is 3.6.2.\r\n\r\nWhen I try to fetch data getting below error:\r\n\r\n```\r\norg.springframework.dao.DataAccessResourceFailureException: Could not obtain current Hibernate Session; nested exception is org.hibernate.HibernateException: No Session found for current thread\r\n\tat org.grails.orm.hibernate.GrailsHibernateTemplate.getSession(GrailsHibernateTemplate.java:335)\r\n\tat org.grails.orm.hibernate.GrailsHibernateTemplate.doExecute(GrailsHibernateTemplate.java:284)\r\n\tat org.grails.orm.hibernate.GrailsHibernateTemplate.get(GrailsHibernateTemplate.java:364)\r\n\tat org.grails.orm.hibernate.AbstractHibernateGormStaticApi.get(AbstractHibernateGormStaticApi.groovy:120)\r\n\tat org.grails.datastore.gorm.GormEntity$Trait$Helper.get(GormEntity.groovy:553)\r\n\tat org.grails.datastore.gorm.GormEntity$Trait$Helper$get.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n\tat com.example.domain.Book.get(Book.groovy)\r\n\tat com.example.service.$BookServiceImplementation.$tt__get(BookService.groovy)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1029)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:1012)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:101)\r\n\tat com.example.service.$BookServiceImplementation$_get_closure1.doCall(BookService.groovy)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.Closure.call(Closure.java:412)\r\n\tat groovy.lang.Closure.call(Closure.java:428)\r\n\r\n```\r\n\r\nYou can find the source code below:\r\n\r\nbuild.gradle\r\n\r\n```\r\nplugins {\r\n    id(&quot;groovy&quot;) \r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;3.5.3&quot;\r\n    id(&quot;io.micronaut.test-resources&quot;) version &quot;3.5.3&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = &quot;com.example&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-management&quot;)\r\n    implementation(&quot;io.micronaut.beanvalidation:micronaut-hibernate-validator&quot;)\r\n    implementation(&quot;io.micronaut.groovy:micronaut-hibernate-gorm&quot;)\r\n    implementation(&quot;io.micronaut.groovy:micronaut-runtime-groovy&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    compileOnly(&quot;io.micronaut:micronaut-http-validation&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\r\n    runtimeOnly(&quot;org.apache.tomcat:tomcat-jdbc&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\r\n    annotationProcessor &quot;io.micronaut:micronaut-inject-groovy&quot;\r\n    implementation(&quot;io.micronaut.security:micronaut-security-jwt&quot;)\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.example.Application&quot;)\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n}\r\n\r\ngraalvmNative.toolchainDetection = false\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;junit5&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations(&quot;com.example.*&quot;)\r\n    }\r\n    testResources {\r\n        additionalModules.add(&quot;jdbc-mysql&quot;)\r\n    }\r\n}\r\n\r\n```\r\nController\r\n\r\n```\r\npackage com.example.web.controller\r\n\r\nimport com.example.domain.Book\r\nimport com.example.service.BookService\r\nimport grails.gorm.transactions.Transactional\r\nimport io.micronaut.http.HttpResponse\r\nimport io.micronaut.http.MediaType\r\nimport io.micronaut.http.annotation.Controller\r\nimport io.micronaut.http.annotation.Get\r\nimport io.micronaut.http.annotation.PathVariable\r\nimport io.micronaut.security.annotation.Secured\r\nimport io.micronaut.security.rules.SecurityRule\r\nimport jakarta.inject.Inject\r\n\r\n@Controller(&quot;/book&quot;)\r\n@Secured(SecurityRule.IS_ANONYMOUS)\r\nclass BookController {\r\n\r\n    @Inject\r\n    BookService bookService\r\n\r\n    @Get(uri = &#39;/{id}&#39;, produces = MediaType.APPLICATION_JSON)\r\n    @Transactional\r\n    HttpResponse&lt;?&gt; getBook(@PathVariable Long id) {\r\n        Book book = bookService.get(id)\r\n        HttpResponse.ok(booko)\r\n    }\r\n\r\n}\r\n\r\n```\r\nService\r\n\r\n```\r\npackage com.example.service\r\n\r\nimport com.example.domain.Book\r\nimport grails.gorm.services.Service\r\n\r\n@Service(Book)\r\ninterface BookService {\r\n\r\n    Book get(Serializable id)\r\n\r\n}\r\n\r\n```\r\n\r\nDomain\r\n```\r\npackage com.example.domain\r\n\r\nimport grails.gorm.annotation.Entity\r\n\r\n@Entity\r\nclass Book {\r\n\r\n    String name\r\n    int pages\r\n\r\n    static mapping = {\r\n        version false\r\n        datasource &#39;olap&#39;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**UPDATE:**\r\n\r\nI have tried service like below as well, but no luck.\r\n\r\n```\r\npackage com.example.service\r\n\r\nimport com.example.domain.Book\r\nimport grails.gorm.transactions.Transactional\r\nimport jakarta.inject.Singleton\r\n\r\n@Transactional\r\n@Singleton\r\nclass BookService {\r\n\r\n    Book get(Long bookId) {\r\n        Book.findById(bookId)\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**UPDATE 2:**\r\n\r\n\r\nGetting &quot;No Session found for current thread&quot; error occurring only when accessing second data source. Seems like this error is related to multiple data source.\r\n\r\nCan someone provide right configuration for multiple data sources with gorm.","title":"Getting &quot;No Session found for current thread&quot; error while using multiple data sources using gorm with micronaut","body":"<p>I am trying to build an application in Micronaut using gorm with multiple data sources.</p>\n<p>Micronaut version is 3.6.2.</p>\n<p>When I try to fetch data getting below error:</p>\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: Could not obtain current Hibernate Session; nested exception is org.hibernate.HibernateException: No Session found for current thread\n    at org.grails.orm.hibernate.GrailsHibernateTemplate.getSession(GrailsHibernateTemplate.java:335)\n    at org.grails.orm.hibernate.GrailsHibernateTemplate.doExecute(GrailsHibernateTemplate.java:284)\n    at org.grails.orm.hibernate.GrailsHibernateTemplate.get(GrailsHibernateTemplate.java:364)\n    at org.grails.orm.hibernate.AbstractHibernateGormStaticApi.get(AbstractHibernateGormStaticApi.groovy:120)\n    at org.grails.datastore.gorm.GormEntity$Trait$Helper.get(GormEntity.groovy:553)\n    at org.grails.datastore.gorm.GormEntity$Trait$Helper$get.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at com.example.domain.Book.get(Book.groovy)\n    at com.example.service.$BookServiceImplementation.$tt__get(BookService.groovy)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1029)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:1012)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:101)\n    at com.example.service.$BookServiceImplementation$_get_closure1.doCall(BookService.groovy)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.Closure.call(Closure.java:412)\n    at groovy.lang.Closure.call(Closure.java:428)\n\n</code></pre>\n<p>You can find the source code below:</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id(&quot;groovy&quot;) \n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;3.5.3&quot;\n    id(&quot;io.micronaut.test-resources&quot;) version &quot;3.5.3&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = &quot;com.example&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\n    implementation(&quot;io.micronaut:micronaut-management&quot;)\n    implementation(&quot;io.micronaut.beanvalidation:micronaut-hibernate-validator&quot;)\n    implementation(&quot;io.micronaut.groovy:micronaut-hibernate-gorm&quot;)\n    implementation(&quot;io.micronaut.groovy:micronaut-runtime-groovy&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    compileOnly(&quot;io.micronaut:micronaut-http-validation&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\n    runtimeOnly(&quot;org.apache.tomcat:tomcat-jdbc&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-inject-groovy&quot;\n    implementation(&quot;io.micronaut.security:micronaut-security-jwt&quot;)\n}\n\n\napplication {\n    mainClass.set(&quot;com.example.Application&quot;)\n}\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n}\n\ngraalvmNative.toolchainDetection = false\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;junit5&quot;)\n    processing {\n        incremental(true)\n        annotations(&quot;com.example.*&quot;)\n    }\n    testResources {\n        additionalModules.add(&quot;jdbc-mysql&quot;)\n    }\n}\n\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.web.controller\n\nimport com.example.domain.Book\nimport com.example.service.BookService\nimport grails.gorm.transactions.Transactional\nimport io.micronaut.http.HttpResponse\nimport io.micronaut.http.MediaType\nimport io.micronaut.http.annotation.Controller\nimport io.micronaut.http.annotation.Get\nimport io.micronaut.http.annotation.PathVariable\nimport io.micronaut.security.annotation.Secured\nimport io.micronaut.security.rules.SecurityRule\nimport jakarta.inject.Inject\n\n@Controller(&quot;/book&quot;)\n@Secured(SecurityRule.IS_ANONYMOUS)\nclass BookController {\n\n    @Inject\n    BookService bookService\n\n    @Get(uri = '/{id}', produces = MediaType.APPLICATION_JSON)\n    @Transactional\n    HttpResponse&lt;?&gt; getBook(@PathVariable Long id) {\n        Book book = bookService.get(id)\n        HttpResponse.ok(booko)\n    }\n\n}\n\n</code></pre>\n<p>Service</p>\n<pre><code>package com.example.service\n\nimport com.example.domain.Book\nimport grails.gorm.services.Service\n\n@Service(Book)\ninterface BookService {\n\n    Book get(Serializable id)\n\n}\n\n</code></pre>\n<p>Domain</p>\n<pre><code>package com.example.domain\n\nimport grails.gorm.annotation.Entity\n\n@Entity\nclass Book {\n\n    String name\n    int pages\n\n    static mapping = {\n        version false\n        datasource 'olap'\n    }\n\n}\n\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I have tried service like below as well, but no luck.</p>\n<pre><code>package com.example.service\n\nimport com.example.domain.Book\nimport grails.gorm.transactions.Transactional\nimport jakarta.inject.Singleton\n\n@Transactional\n@Singleton\nclass BookService {\n\n    Book get(Long bookId) {\n        Book.findById(bookId)\n    }\n\n}\n\n</code></pre>\n<p><strong>UPDATE 2:</strong></p>\n<p>Getting &quot;No Session found for current thread&quot; error occurring only when accessing second data source. Seems like this error is related to multiple data source.</p>\n<p>Can someone provide right configuration for multiple data sources with gorm.</p>\n"},{"tags":["java","kotlin","flatmap"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1662869255,"post_id":73676696,"comment_id":130104127,"body_markdown":"`data` is a Map with values that are Maps, and you want a list of all keys of all those inner maps? Is `data.flatMap { it.keys }` what you’re looking for?","body":"<code>data</code> is a Map with values that are Maps, and you want a list of all keys of all those inner maps? Is <code>data.flatMap { it.keys }</code> what you’re looking for?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1662870130,"post_id":73676696,"comment_id":130104223,"body_markdown":"What is *actually* the type of `data`? The actual name of the type, please, not &quot;hashmap type&quot;.","body":"What is <i>actually</i> the type of <code>data</code>? The actual name of the type, please, not &quot;hashmap type&quot;."},{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1662870166,"post_id":73676696,"comment_id":130104226,"body_markdown":"@Tenfour04 thanks, yes this is what I looked for! if you will create an answer I will accept it.","body":"@Tenfour04 thanks, yes this is what I looked for! if you will create an answer I will accept it."}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662868379,"creation_date":1662868379,"question_id":73676696,"body_markdown":"I need to get only a list of keys from a hash map.\r\n\r\nHere is how I do it:\r\n\r\n data is hashmap type.\r\n\r\n    val flatten = data.flatMap { it.entries }\r\n    val keys = flatten.map { it.key }\r\n \r\nAs you can see on the rows above first, the data is flattened, and then with help of the map method I create a list only of keys.\r\nBut it looks like that `flatten.map { it.key }` work slow.\r\n\r\nMy question is, is there any other way to fetch a list of keys from Hashmap, or how can I improve the performance of the code above? \r\n ","title":"How can I flatten HashMaps and get only a list of keys in Kotlin?","body":"<p>I need to get only a list of keys from a hash map.</p>\n<p>Here is how I do it:</p>\n<p>data is hashmap type.</p>\n<pre><code>val flatten = data.flatMap { it.entries }\nval keys = flatten.map { it.key }\n</code></pre>\n<p>As you can see on the rows above first, the data is flattened, and then with help of the map method I create a list only of keys.\nBut it looks like that <code>flatten.map { it.key }</code> work slow.</p>\n<p>My question is, is there any other way to fetch a list of keys from Hashmap, or how can I improve the performance of the code above?</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1422024792,"post_id":22298846,"comment_id":44598671,"body_markdown":"which version of spring-data-mongodb are you using?","body":"which version of spring-data-mongodb are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1445202484,"creation_date":1394837169,"answer_id":22417118,"question_id":22298846,"body_markdown":"As far as I remember, annotating embedded fields with @Indexed will not work. @CompoundIndex is the way to go:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Document(collection = &quot;user&quot;)\r\n    @TypeAlias(&quot;user&quot;)\r\n    @CompoundIndexes({\r\n        @CompoundIndex(name = &quot;contact_email&quot;, def = &quot;{ &#39;contact.mail&#39;: 1 }&quot;, unique = true)\r\n    })\r\n    public class User {\r\n        @Id\r\n        private ObjectId id;\r\n        private Contact info = new Contact();\r\n    }\r\n","title":"@Indexed on nested property not working in Spring-data for mongo","body":"<p>As far as I remember, annotating embedded fields with @Indexed will not work. @CompoundIndex is the way to go:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection = \"user\")\n@TypeAlias(\"user\")\n@CompoundIndexes({\n    @CompoundIndex(name = \"contact_email\", def = \"{ 'contact.mail': 1 }\", unique = true)\n})\npublic class User {\n    @Id\n    private ObjectId id;\n    private Contact info = new Contact();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308533,"reputation":462,"user_id":620479,"display_name":"cristobal"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1587648951,"creation_date":1422023003,"answer_id":28111969,"question_id":22298846,"body_markdown":"&gt; Obsolete answer, this was with and older version of mongodb 1.x.\r\n\r\n----------\r\nHad the same issue, it seems that your `Contact` class is missing the `@Document` annotation i.e.\r\n\r\n    @Document\r\n    public class Contact {\r\n        @Indexed(unique = true)\r\n        private String mail;\r\n    }\r\n\r\nShould work, quote from the [spring mongodb reference][1]\r\n\r\n&gt; Automatic index creation is only done for types annotated with @Document.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping-usage","title":"@Indexed on nested property not working in Spring-data for mongo","body":"<blockquote>\n  <p>Obsolete answer, this was with and older version of mongodb 1.x.</p>\n</blockquote>\n\n<hr>\n\n<p>Had the same issue, it seems that your <code>Contact</code> class is missing the <code>@Document</code> annotation i.e.</p>\n\n<pre><code>@Document\npublic class Contact {\n    @Indexed(unique = true)\n    private String mail;\n}\n</code></pre>\n\n<p>Should work, quote from the <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mapping-usage\" rel=\"nofollow noreferrer\">spring mongodb reference</a></p>\n\n<blockquote>\n  <p>Automatic index creation is only done for types annotated with @Document.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3235035,"reputation":101,"user_id":2729464,"display_name":"Xenobius"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1592913495,"creation_date":1592912802,"answer_id":62533955,"question_id":22298846,"body_markdown":"In my case I had a fresh spring boot application 2.3.0 with just @Document, @Id and @Indexed annotations. I was able to retrieve and insert documents but it refused to create the index other than the PK. Finally I figured that there is a property that you need to enable.\r\n\r\n`spring.data.mongodb.auto-index-creation = true`\r\n\r\nAs a matter of fact it even works on nested objects without @Document annotation.\r\n\r\nHope this helps :)","title":"@Indexed on nested property not working in Spring-data for mongo","body":"<p>In my case I had a fresh spring boot application 2.3.0 with just @Document, @Id and @Indexed annotations. I was able to retrieve and insert documents but it refused to create the index other than the PK. Finally I figured that there is a property that you need to enable.</p>\n<p><code>spring.data.mongodb.auto-index-creation = true</code></p>\n<p>As a matter of fact it even works on nested objects without @Document annotation.</p>\n<p>Hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":23706627,"reputation":29,"user_id":17729006,"display_name":"Fuzhe Jerry LI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662868308,"creation_date":1662868287,"answer_id":73676693,"question_id":22298846,"body_markdown":"Extending @Xenobius&#39;s answer:\r\n\r\nIf any configuration extending `AbstractMongoClientConfiguration` is set, `MongoMappingContext` will back off. The result is:\r\n\r\n`spring.data.mongodb.auto-index-creation = true` **will not be effective**\r\n\r\nYou will need add this into your own configuration:\r\n\r\n```java\r\n    @Override\r\n    protected boolean autoIndexCreation() {\r\n        return true;\r\n    }\r\n```\r\n\r\n\r\nref: https://github.com/spring-projects/spring-boot/issues/28478#issuecomment-954627106","title":"@Indexed on nested property not working in Spring-data for mongo","body":"<p>Extending @Xenobius's answer:</p>\n<p>If any configuration extending <code>AbstractMongoClientConfiguration</code> is set, <code>MongoMappingContext</code> will back off. The result is:</p>\n<p><code>spring.data.mongodb.auto-index-creation = true</code> <strong>will not be effective</strong></p>\n<p>You will need add this into your own configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected boolean autoIndexCreation() {\n        return true;\n    }\n</code></pre>\n<p>ref: <a href=\"https://github.com/spring-projects/spring-boot/issues/28478#issuecomment-954627106\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/28478#issuecomment-954627106</a></p>\n"}],"owner":{"account_id":917424,"reputation":4934,"user_id":949912,"accept_rate":67,"display_name":"hellojava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16364,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":22417118,"answer_count":4,"score":14,"last_activity_date":1662868308,"creation_date":1394450767,"question_id":22298846,"body_markdown":"I have the following object structure:\r\n\r\n    @Document(collection = &quot;user&quot;)\r\n    @TypeAlias(&quot;user&quot;)\r\n    public class User {\r\n    \t@Id\r\n    \tprivate ObjectId id;\r\n       \tprivate Contact info = new Contact();\r\n    }\r\n\r\nand here is the Contact pojo:\r\n\r\n    public class Contact {\r\n    \t@Indexed(unique = true)\r\n    \tprivate String mail;\r\n    }\r\n\r\nBut for some reasons not known to me, I don&#39;t see Spring-data creating a unique index for the property **info.mail**\r\n\r\nTo summarize, I have this json structure of user object:\r\n**{_id:xxxxx,info:{mail:&quot;abc@xyz.shoes&quot;}}**\r\n\r\nAnd I want to create a unique index on **info.mail** using Spring data with the above pojo structure. Please help.","title":"@Indexed on nested property not working in Spring-data for mongo","body":"<p>I have the following object structure:</p>\n\n<pre><code>@Document(collection = \"user\")\n@TypeAlias(\"user\")\npublic class User {\n    @Id\n    private ObjectId id;\n    private Contact info = new Contact();\n}\n</code></pre>\n\n<p>and here is the Contact pojo:</p>\n\n<pre><code>public class Contact {\n    @Indexed(unique = true)\n    private String mail;\n}\n</code></pre>\n\n<p>But for some reasons not known to me, I don't see Spring-data creating a unique index for the property <strong>info.mail</strong></p>\n\n<p>To summarize, I have this json structure of user object:\n<strong>{_id:xxxxx,info:{mail:\"abc@xyz.shoes\"}}</strong></p>\n\n<p>And I want to create a unique index on <strong>info.mail</strong> using Spring data with the above pojo structure. Please help.</p>\n"},{"tags":["java","rest","design-patterns","microservices","clean-architecture"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1537092484,"post_id":52352815,"comment_id":91650949,"body_markdown":"Personally I find the clean architecture idea too convoluted, I prefer the [Onion architecture](https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/), I have created a [sample project using this architecture](https://github.com/adamsiemion/springboot-with-spring_data-and-onion_architecture)","body":"Personally I find the clean architecture idea too convoluted, I prefer the <a href=\"https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/\" rel=\"nofollow noreferrer\">Onion architecture</a>, I have created a <a href=\"https://github.com/adamsiemion/springboot-with-spring_data-and-onion_architecture\" rel=\"nofollow noreferrer\">sample project using this architecture</a>"}],"answers":[{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537092148,"creation_date":1537092148,"answer_id":52352977,"question_id":52352815,"body_markdown":"The key element is Dependency Inversion. None of the inner layers should have dependencies to the outer layers. So, if for example the Use Case layer needs to call a database repository then you must define a repository interface (just an interface, without any implementation) inside the Use Case layer and put its implementation in the Interface Adapters layer.","title":"Clean Architecture Design Pattern","body":"<p>The key element is Dependency Inversion. None of the inner layers should have dependencies to the outer layers. So, if for example the Use Case layer needs to call a database repository then you must define a repository interface (just an interface, without any implementation) inside the Use Case layer and put its implementation in the Interface Adapters layer.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1662867307,"creation_date":1537106573,"answer_id":52354886,"question_id":52352815,"body_markdown":"# Integrating the database\r\n\r\n&gt; The Database is at outter Layer but how would that work in reality?\r\n\r\nYou create a technology independent interface in the use case layer and implement it in the gateway layer. I guess that&#39;s why that layer is called interface adapters, because you adapt interfaces defined in an inner layer here. E.g.\r\n\r\n    public interface OrderRepository {\r\n        public List&lt;Order&gt; findByCustomer(Customer customer);\r\n    }\r\n\r\nimplementation is in the gateway layer\r\n\r\n    public class HibernateOrderRepository implements OrderRepository {\r\n          ...\r\n    }\r\n\r\nAt runtime you pass the implementation instance to the use case&#39;s constructor. Since the use case only has a dependency to the interface, `OrderRepository` in the example above, you don&#39;t have a source code dependency to the gateway implementation.\r\n\r\nYou can see this by scanning your import statements.\r\n\r\n&gt; And one of the use cases would be manage Persons. Manage Persons is saving / retrieving / .. Persons (=&gt; CRUD operations), but to do this the Usecase needs to talk to a database. But that would be a violation of the Dependency rule\r\n\r\nNo, that would not violate the dependency rule, because the use cases define the interface they need. The db just implements it.\r\n\r\nIf you manage your application dependencies with maven you will see that the db jar module depends on the use cases not vice versa. \r\n\r\n    +-----+      +-----------+\r\n    |  db | --&gt;  | use cases |\r\n    +-----+      +-----------+\r\n\r\nIt might be even better to extract these use cases interface into an own module. This prevents the db module to depent on dependencies of the use case module.\r\n\r\nThe module dependencies would then look like this\r\n\r\n    +-----+      +---------------+     +-----------+\r\n    |  db | --&gt;  | use-cases-api | &lt;-- | use cases |\r\n    +-----+      +---------------+     +-----------+\r\n \r\nboth options are the inversion of dependencies that would *otherwise* look like this\r\n\r\n    +-----+         +-----------+\r\n    |  db | &lt;--X--  | use cases |\r\n    +-----+         +-----------+\r\n\r\n# Integrating the web layer\r\n\r\n&gt; If i get a GET /person/{id} Request should my Microservices process it like this?\r\n&gt; [![enter image description here][1]][1]\r\n\r\nYes that would be a violation, because web layer accesses the db layer. A better approach is that the web layer accesses the controller layer, which accesses the use case layer and the use case layer accesses a repository that can be a database repository, but also an arbitary external system.\r\n\r\nTo keep the dependency inversion you must decouple the layers using interfaces like I showed above.\r\n\r\nSo if you want to pass data to an inner layer you must introduce an interface in the inner layer that defines methods to get the data it needs and implement it in the outer layer. In other words you adapt the outer layer to the inner layer. I guess that is the reason why uncle bob calls this layer **Interface Adapters**\r\n\r\n[![Interface Adapters Layer][2]][2]\r\n\r\n\r\nIn the controller layer you will specify an interface like this\r\n\r\n    public interface ControllerParams {\r\n        public Long getPersonId();\r\n    }\r\n\r\nin the web layer you might implement your service like this\r\n\r\n    @Path(&quot;/person&quot;)\r\n    public PersonRestService {\r\n\r\n        // Maybe injected using @Autowired if you are using spring\r\n        private SomeController someController;\r\n\r\n        @Get\r\n        @Path(&quot;{id}&quot;)\r\n        public void getPerson(PathParam(&quot;id&quot;) String id){\r\n           try {\r\n               Long personId = Long.valueOf(id);\r\n\r\n               someController.someMethod(new ControllerParams(){\r\n                    public Long getPersonId(){\r\n                        return personId;\r\n                    }\r\n               });\r\n           } catch (NumberFormatException e) {\r\n               // handle it\r\n           }\r\n        }\r\n    }\r\n\r\nAt the first sight it seems to be boilerplate code. But keep in mind that you can let the rest framework deserialize the request into a java object. And this object might implement `ControllerParams` instead.\r\n\r\nIf you consequently follow the dependency inversion rule and the clean architecture you will never see an import statement of a outer layer&#39;s class in an inner layer.\r\n\r\n# So why should we do this effort?\r\n\r\nThe purpose of the clean architecture is that the main business classes do not depend on any technology or environment. Since the dependencies point from outer to inner layers, the only reason for an outer layer to change is because of inner layer changes or if you exchange the outer layer&#39;s implementation technology. E.g. Rest -&gt; SOAP.\r\n\r\nRobert C. Martin tells us, in chapter 5 Object-Oriented Programming at the end in the section about dependency inversion:\r\n\r\n&gt; With this approach, software architects working in systems written in OO languages have absolute control over the direction of all source code dependencies in the system. They are not constrained to align those dependencies with the flow of control. No matter which module does the calling and which module is called, the software architect can point the source code dependency in either direction.\r\n\r\n&gt; That is power!\r\n\r\n## Control flow and source code dependencies\r\n\r\nI guess developers are often confused about the difference between the control flow and the source code dependency. \r\n\r\nThe control flow describes the order of invocations at runtime. The dependencies it introduces are called runtime dependencies. \r\n\r\nThe source code dependencies are, as the name implies, the dependencies of types that occur in your source code. In languages like Java types are imported. That is why the import statements tell you about almost all source code dependencies. I said almost all, because types within the same package don&#39;t need to be imported.\r\n\r\nDependency inversion means that the source code dependencies point against the flow of control. Dependency inversion gives us the chance to create plug-in architectures. Each interface is a point to plug in and that can be exchanged for domain, technical or testing reasons.\r\n\r\n**EDIT**\r\n \r\n&gt;  gateway layer = interface OrderRepository =&gt; shouldnt the OrderRepository-Interface be inside of UseCases because i need to use the crud operations on that level?\r\n\r\nYes, the `OrderRepository` interface should be definied in the use case layer. One mistake that we often make is to think that an interface belongs to an implementor. But an interfacce belongs to a client. It&#39;s the client that tells what it wants with an interface, but keeps open how it is done.\r\n\r\nAlso consider to apply the **interface segregation principle** and define a use case specific interface such as a `PlaceOrderUseCaseRepository` interface, instead of just a `OrderRepository` that every use case uses.\r\n\r\nThe reason why you should do this is to prevent use cases from being coupled through a common interface and to honor the **single responsibility principle**. A repository interface that is dedicated to one use case has only one reason to change.\r\n\r\n**EDIT**\r\n\r\nTo apply the **interface segregation** principle and provide an own repository interface that is dedicated to one use case will help to decouple use cases from each other. If all use cases use the same *Repository* interface, then this interface accumulates all the methods of all use cases. You can easily break one use case by changing a method of this interface.\r\n\r\nSo I usually apply the interface segregation principle and create repository interfaces named after the use case. E.g.\r\n\r\n    public interface PlaceOrderRepository {\r\n         public void storeOrder(Order order);\r\n    }\r\n\r\nand another use case&#39;s interface might look like this:\r\n\r\n    public interface CancelOrderRepository {\r\n         public void removeOrder(Order order);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agz1d.png\r\n  [2]: https://i.stack.imgur.com/GeLGs.png","title":"Clean Architecture Design Pattern","body":"<h1>Integrating the database</h1>\n<blockquote>\n<p>The Database is at outter Layer but how would that work in reality?</p>\n</blockquote>\n<p>You create a technology independent interface in the use case layer and implement it in the gateway layer. I guess that's why that layer is called interface adapters, because you adapt interfaces defined in an inner layer here. E.g.</p>\n<pre><code>public interface OrderRepository {\n    public List&lt;Order&gt; findByCustomer(Customer customer);\n}\n</code></pre>\n<p>implementation is in the gateway layer</p>\n<pre><code>public class HibernateOrderRepository implements OrderRepository {\n      ...\n}\n</code></pre>\n<p>At runtime you pass the implementation instance to the use case's constructor. Since the use case only has a dependency to the interface, <code>OrderRepository</code> in the example above, you don't have a source code dependency to the gateway implementation.</p>\n<p>You can see this by scanning your import statements.</p>\n<blockquote>\n<p>And one of the use cases would be manage Persons. Manage Persons is saving / retrieving / .. Persons (=&gt; CRUD operations), but to do this the Usecase needs to talk to a database. But that would be a violation of the Dependency rule</p>\n</blockquote>\n<p>No, that would not violate the dependency rule, because the use cases define the interface they need. The db just implements it.</p>\n<p>If you manage your application dependencies with maven you will see that the db jar module depends on the use cases not vice versa.</p>\n<pre><code>+-----+      +-----------+\n|  db | --&gt;  | use cases |\n+-----+      +-----------+\n</code></pre>\n<p>It might be even better to extract these use cases interface into an own module. This prevents the db module to depent on dependencies of the use case module.</p>\n<p>The module dependencies would then look like this</p>\n<pre><code>+-----+      +---------------+     +-----------+\n|  db | --&gt;  | use-cases-api | &lt;-- | use cases |\n+-----+      +---------------+     +-----------+\n</code></pre>\n<p>both options are the inversion of dependencies that would <em>otherwise</em> look like this</p>\n<pre><code>+-----+         +-----------+\n|  db | &lt;--X--  | use cases |\n+-----+         +-----------+\n</code></pre>\n<h1>Integrating the web layer</h1>\n<blockquote>\n<p>If i get a GET /person/{id} Request should my Microservices process it like this?\n<a href=\"https://i.stack.imgur.com/agz1d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agz1d.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>Yes that would be a violation, because web layer accesses the db layer. A better approach is that the web layer accesses the controller layer, which accesses the use case layer and the use case layer accesses a repository that can be a database repository, but also an arbitary external system.</p>\n<p>To keep the dependency inversion you must decouple the layers using interfaces like I showed above.</p>\n<p>So if you want to pass data to an inner layer you must introduce an interface in the inner layer that defines methods to get the data it needs and implement it in the outer layer. In other words you adapt the outer layer to the inner layer. I guess that is the reason why uncle bob calls this layer <strong>Interface Adapters</strong></p>\n<p><a href=\"https://i.stack.imgur.com/GeLGs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GeLGs.png\" alt=\"Interface Adapters Layer\" /></a></p>\n<p>In the controller layer you will specify an interface like this</p>\n<pre><code>public interface ControllerParams {\n    public Long getPersonId();\n}\n</code></pre>\n<p>in the web layer you might implement your service like this</p>\n<pre><code>@Path(&quot;/person&quot;)\npublic PersonRestService {\n\n    // Maybe injected using @Autowired if you are using spring\n    private SomeController someController;\n\n    @Get\n    @Path(&quot;{id}&quot;)\n    public void getPerson(PathParam(&quot;id&quot;) String id){\n       try {\n           Long personId = Long.valueOf(id);\n\n           someController.someMethod(new ControllerParams(){\n                public Long getPersonId(){\n                    return personId;\n                }\n           });\n       } catch (NumberFormatException e) {\n           // handle it\n       }\n    }\n}\n</code></pre>\n<p>At the first sight it seems to be boilerplate code. But keep in mind that you can let the rest framework deserialize the request into a java object. And this object might implement <code>ControllerParams</code> instead.</p>\n<p>If you consequently follow the dependency inversion rule and the clean architecture you will never see an import statement of a outer layer's class in an inner layer.</p>\n<h1>So why should we do this effort?</h1>\n<p>The purpose of the clean architecture is that the main business classes do not depend on any technology or environment. Since the dependencies point from outer to inner layers, the only reason for an outer layer to change is because of inner layer changes or if you exchange the outer layer's implementation technology. E.g. Rest -&gt; SOAP.</p>\n<p>Robert C. Martin tells us, in chapter 5 Object-Oriented Programming at the end in the section about dependency inversion:</p>\n<blockquote>\n<p>With this approach, software architects working in systems written in OO languages have absolute control over the direction of all source code dependencies in the system. They are not constrained to align those dependencies with the flow of control. No matter which module does the calling and which module is called, the software architect can point the source code dependency in either direction.</p>\n</blockquote>\n<blockquote>\n<p>That is power!</p>\n</blockquote>\n<h2>Control flow and source code dependencies</h2>\n<p>I guess developers are often confused about the difference between the control flow and the source code dependency.</p>\n<p>The control flow describes the order of invocations at runtime. The dependencies it introduces are called runtime dependencies.</p>\n<p>The source code dependencies are, as the name implies, the dependencies of types that occur in your source code. In languages like Java types are imported. That is why the import statements tell you about almost all source code dependencies. I said almost all, because types within the same package don't need to be imported.</p>\n<p>Dependency inversion means that the source code dependencies point against the flow of control. Dependency inversion gives us the chance to create plug-in architectures. Each interface is a point to plug in and that can be exchanged for domain, technical or testing reasons.</p>\n<p><strong>EDIT</strong></p>\n<blockquote>\n<p>gateway layer = interface OrderRepository =&gt; shouldnt the OrderRepository-Interface be inside of UseCases because i need to use the crud operations on that level?</p>\n</blockquote>\n<p>Yes, the <code>OrderRepository</code> interface should be definied in the use case layer. One mistake that we often make is to think that an interface belongs to an implementor. But an interfacce belongs to a client. It's the client that tells what it wants with an interface, but keeps open how it is done.</p>\n<p>Also consider to apply the <strong>interface segregation principle</strong> and define a use case specific interface such as a <code>PlaceOrderUseCaseRepository</code> interface, instead of just a <code>OrderRepository</code> that every use case uses.</p>\n<p>The reason why you should do this is to prevent use cases from being coupled through a common interface and to honor the <strong>single responsibility principle</strong>. A repository interface that is dedicated to one use case has only one reason to change.</p>\n<p><strong>EDIT</strong></p>\n<p>To apply the <strong>interface segregation</strong> principle and provide an own repository interface that is dedicated to one use case will help to decouple use cases from each other. If all use cases use the same <em>Repository</em> interface, then this interface accumulates all the methods of all use cases. You can easily break one use case by changing a method of this interface.</p>\n<p>So I usually apply the interface segregation principle and create repository interfaces named after the use case. E.g.</p>\n<pre><code>public interface PlaceOrderRepository {\n     public void storeOrder(Order order);\n}\n</code></pre>\n<p>and another use case's interface might look like this:</p>\n<pre><code>public interface CancelOrderRepository {\n     public void removeOrder(Order order);\n}\n</code></pre>\n"}],"owner":{"account_id":6492732,"reputation":982,"user_id":5026265,"accept_rate":78,"display_name":"Barney Stinson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9981,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":52354886,"answer_count":2,"score":19,"last_activity_date":1662867307,"creation_date":1537090739,"question_id":52352815,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nhttps://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html\r\n\r\nI have some question about this pattern. The Database is at outter Layer but how would that work in reality? For example if i have a Microservices that just manges this entity:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    person{\r\n      id,\r\n      name,\r\n      age\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd one of the use cases would be manage Persons. Manage Persons is saving / retrieving / .. Persons (=&gt; CRUD operations), but to do this the Usecase needs to talk to a database. But that would be a violation of the Dependency rule\r\n\r\n&gt; The overriding rule that makes this architecture work is The Dependency Rule. This rule says that source code dependencies can only point inwards.\r\n\r\n 1. Would this even be a valid use case? \r\n 2. how can i access the database if its at the outter layer? (Dependency Iversion?)\r\n\r\nIf i get a `GET /person/{id}` Request should my Microservices process it like this?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut using Dependency Inversion would be a Violation of\r\n\r\n&gt; Nothing in an inner circle can know anything at all about something in an outer circle. In particular, the name of something declared in an outer circle must not be mentioned by the code in an inner circle. That includes, functions, classes. variables, or any other named software entity.\r\n\r\n---\r\n\r\n&gt; Crossing boundaries. \r\n&gt; At the lower right of the diagram is an example\r\n&gt; of how we cross the circle boundaries. It shows the Controllers and\r\n&gt; Presenters communicating with the Use Cases in the next layer. Note\r\n&gt; the flow of control. It begins in the controller, moves through the\r\n&gt; use case, and then winds up executing in the presenter. Note also the\r\n&gt; source code dependencies. Each one of them points inwards towards the\r\n&gt; use cases.\r\n&gt; \r\n&gt; We usually resolve this apparent contradiction by using the Dependency\r\n&gt; Inversion Principle. In a language like Java, for example, we would\r\n&gt; arrange interfaces and inheritance relationships such that the source\r\n&gt; code dependencies oppose the flow of control at just the right points\r\n&gt; across the boundary.\r\n&gt; \r\n&gt; For example, consider that the use case needs to call the presenter.\r\n&gt; However, this call must not be direct because that would violate The\r\n&gt; Dependency Rule: No name in an outer circle can be mentioned by an\r\n&gt; inner circle. So we have the use case call an interface (Shown here as\r\n&gt; Use Case Output Port) in the inner circle, and have the presenter in\r\n&gt; the outer circle implement it.\r\n&gt; \r\n&gt; The same technique is used to cross all the boundaries in the\r\n&gt; architectures. We take advantage of dynamic polymorphism to create\r\n&gt; source code dependencies that oppose the flow of control so that we\r\n&gt; can conform to The Dependency Rule no matter what direction the flow\r\n&gt; of control is going in.\r\n\r\nShould the Use Case layer Declare an Repository Interface which will be implemented by the DB Package (Frameworks &amp; Drivers Layer)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf the Server recieves a `GET /persons/1` Request the PersonRest would create a PersonRepository and would pass this Repository + the ID to the ManagePerson::getPerson Function, getPerson doesnt know PersonRepository but knows the interface it implements so its doesnt violate any rules right?\r\nManagePerson::getPerson would use that Repository to look for the entity and would return a Person Entity to PersonRest::get which would return a Json Objekt to the Client right?\r\n\r\n\r\nEnglish is sadly not my native language so i hope you guys can let me know if i understood the pattern correct and maybe answer some of my questions.\r\n\r\nTy in advance\r\n\r\n  [1]: https://i.stack.imgur.com/FwHET.jpg\r\n  [2]: https://i.stack.imgur.com/agz1d.png\r\n  [3]: https://i.stack.imgur.com/jIs3d.png","title":"Clean Architecture Design Pattern","body":"<p><a href=\"https://i.stack.imgur.com/FwHET.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FwHET.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"noreferrer\">https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html</a></p>\n\n<p>I have some question about this pattern. The Database is at outter Layer but how would that work in reality? For example if i have a Microservices that just manges this entity:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>person{\r\n  id,\r\n  name,\r\n  age\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And one of the use cases would be manage Persons. Manage Persons is saving / retrieving / .. Persons (=> CRUD operations), but to do this the Usecase needs to talk to a database. But that would be a violation of the Dependency rule</p>\n\n<blockquote>\n  <p>The overriding rule that makes this architecture work is The Dependency Rule. This rule says that source code dependencies can only point inwards.</p>\n</blockquote>\n\n<ol>\n<li>Would this even be a valid use case? </li>\n<li>how can i access the database if its at the outter layer? (Dependency Iversion?)</li>\n</ol>\n\n<p>If i get a <code>GET /person/{id}</code> Request should my Microservices process it like this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/agz1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/agz1d.png\" alt=\"enter image description here\"></a></p>\n\n<p>But using Dependency Inversion would be a Violation of</p>\n\n<blockquote>\n  <p>Nothing in an inner circle can know anything at all about something in an outer circle. In particular, the name of something declared in an outer circle must not be mentioned by the code in an inner circle. That includes, functions, classes. variables, or any other named software entity.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>Crossing boundaries. \n  At the lower right of the diagram is an example\n  of how we cross the circle boundaries. It shows the Controllers and\n  Presenters communicating with the Use Cases in the next layer. Note\n  the flow of control. It begins in the controller, moves through the\n  use case, and then winds up executing in the presenter. Note also the\n  source code dependencies. Each one of them points inwards towards the\n  use cases.</p>\n  \n  <p>We usually resolve this apparent contradiction by using the Dependency\n  Inversion Principle. In a language like Java, for example, we would\n  arrange interfaces and inheritance relationships such that the source\n  code dependencies oppose the flow of control at just the right points\n  across the boundary.</p>\n  \n  <p>For example, consider that the use case needs to call the presenter.\n  However, this call must not be direct because that would violate The\n  Dependency Rule: No name in an outer circle can be mentioned by an\n  inner circle. So we have the use case call an interface (Shown here as\n  Use Case Output Port) in the inner circle, and have the presenter in\n  the outer circle implement it.</p>\n  \n  <p>The same technique is used to cross all the boundaries in the\n  architectures. We take advantage of dynamic polymorphism to create\n  source code dependencies that oppose the flow of control so that we\n  can conform to The Dependency Rule no matter what direction the flow\n  of control is going in.</p>\n</blockquote>\n\n<p>Should the Use Case layer Declare an Repository Interface which will be implemented by the DB Package (Frameworks &amp; Drivers Layer)</p>\n\n<p><a href=\"https://i.stack.imgur.com/jIs3d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jIs3d.png\" alt=\"enter image description here\"></a></p>\n\n<p>If the Server recieves a <code>GET /persons/1</code> Request the PersonRest would create a PersonRepository and would pass this Repository + the ID to the ManagePerson::getPerson Function, getPerson doesnt know PersonRepository but knows the interface it implements so its doesnt violate any rules right?\nManagePerson::getPerson would use that Repository to look for the entity and would return a Person Entity to PersonRest::get which would return a Json Objekt to the Client right?</p>\n\n<p>English is sadly not my native language so i hope you guys can let me know if i understood the pattern correct and maybe answer some of my questions.</p>\n\n<p>Ty in advance</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593972413,"creation_date":1593972413,"answer_id":62744510,"question_id":62743184,"body_markdown":"If Eclipse is saying that &quot;javax.annotation&quot; is not accessible, there may be a problem with what JDK is being used to compile your code.  Are you expecting that your code requires a JDK 1.8 compiler?\r\n\r\nThe first thing to check is what Java Execution Environment name is associated with your project.  If you require JDK 1.8, then in Project Properties and Java Compiler, it should refer to &quot;JavaSE-1.8&quot; as the execution environment.\r\n\r\nYou should also check the definition of the Execution Environment itself. This is found in Eclipse Preferences-&gt;Java-&gt;InstalledJREs-&gt;ExecutionEnvironments .  If you click on &quot;JavaSE-1.8&quot;, you should have one or more Java distributions in the list, and one of them should be checked, and the checked one should have &quot;jdk&quot; in the name, not &quot;jre&quot;.","title":"Q: import javax.annotation.Generated","body":"<p>If Eclipse is saying that &quot;javax.annotation&quot; is not accessible, there may be a problem with what JDK is being used to compile your code.  Are you expecting that your code requires a JDK 1.8 compiler?</p>\n<p>The first thing to check is what Java Execution Environment name is associated with your project.  If you require JDK 1.8, then in Project Properties and Java Compiler, it should refer to &quot;JavaSE-1.8&quot; as the execution environment.</p>\n<p>You should also check the definition of the Execution Environment itself. This is found in Eclipse Preferences-&gt;Java-&gt;InstalledJREs-&gt;ExecutionEnvironments .  If you click on &quot;JavaSE-1.8&quot;, you should have one or more Java distributions in the list, and one of them should be checked, and the checked one should have &quot;jdk&quot; in the name, not &quot;jre&quot;.</p>\n"},{"tags":[],"owner":{"account_id":26303167,"reputation":1,"user_id":19968135,"display_name":"Aron Langat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662866917,"creation_date":1662866807,"answer_id":73676597,"question_id":62743184,"body_markdown":"Add the dependency\r\n\r\n    //..implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;","title":"Q: import javax.annotation.Generated","body":"<p>Add the dependency</p>\n<pre><code>//..implementation 'javax.annotation:javax.annotation-api:1.3.2'\n</code></pre>\n"}],"owner":{"account_id":19004842,"reputation":1,"user_id":13871794,"display_name":"A. A-v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662866917,"creation_date":1593965361,"question_id":62743184,"body_markdown":"The error im getting when importing the pacage is : The pacage javax.annotation is not accesible.\r\nThe error whem im compiling since i cant use Generated down in the code is : \r\nError occurred during initialization of boot layer\r\n\r\njava.lang.module.FindException: Unable to derive module descriptor for C:\\Users\\&quot;NAME&quot;.p2\\pool\\plugins\\es.ucm.gaia.colibristudio.LibraryPool_1.0.0\\lib\\databaseconnector\\jboss-transaction-api_1.1_spec-1.0.0.Final.jar\r\nCaused by: java.lang.IllegalArgumentException: jboss.transaction.api.1.1.spec: Invalid module name: &#39;1&#39; is not a Java identifie\r\n\r\nThe code is : \r\n\r\n```package cbr;\r\n \r\nimport jcolibri.cbraplications.StandardCBRApplication;\r\nimport jcolibri.cbrcore.CBRCase;\r\nimport jcolibri.cbrcore.CBRCaseBase;\r\nimport jcolibri.cbrcore.CBRQuery;\r\nimport jcolibri.cbrcore.Connector;\r\nimport jcolibri.exception.ExecutionException;\r\nimport jcolibri.exception.InitializingException;\r\nimport jcolibri.method.retrieve.NNretrieval.NNConfig;\r\n \r\nimport javax.annotation.Generated;  //This is where im getting the error and \r\n                                   //every Generated after does not work\r\nimport representation.CaseDescription;\r\nimport representation.CaseSolution;\r\nimport jcolibri.method.retrieve.NNretrieval.NNConfig;\r\nimport jcolibri.cbrcore.Attribute;\r\nimport jcolibri.method.retrieve.RetrievalResult;\r\nimport jcolibri.method.retrieve.NNretrieval.NNScoringMethod;\r\nimport jcolibri.method.retrieve.selection.SelectCases;\r\nimport java.util.Collection;\r\n \r\npublic class CBRApplication implements StandardCBRApplication {\r\n \r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    Connector connector;\r\n   \r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    CBRCaseBase casebase;\r\n \r\n \r\n \r\n    //******************************************************************/\r\n    // Configuration\r\n    //******************************************************************/\r\n \r\n    @Override\r\n    public void configure() throws ExecutionException {\r\n        try{\r\n            configureConnector();\r\n            configureCaseBase();\r\n        } catch (Exception e){\r\n            throw new ExecutionException(e);\r\n        }\r\n    }\r\n \r\n    /** Configures the connector */\r\n    @Generated(value = { &quot;CS-PTConector&quot; })\r\n    private void configureConnector() throws InitializingException{\r\n        connector = new jcolibri.connector.PlainTextConnector();\r\n        connector.initFromXMLfile(jcolibri.util.FileIO.findFile(&quot;config/plainTextConnectorConfig.xml&quot;));\r\n    }\r\n \r\n    /** Configures the case base */\r\n    @Generated(value = { &quot;CS-CaseManager&quot; })   \r\n    private void configureCaseBase() throws InitializingException{\r\n        casebase = new jcolibri.casebase.LinearCaseBase();\r\n    }\r\n \r\n    //******************************************************************/\r\n    // Similarity\r\n    //******************************************************************/\r\n   \r\n    /** Configures the similarity */\r\n    @Generated(value = { &quot;CS-Similarity&quot; })\r\n    private NNConfig getSimilarityConfig() {\r\n        NNConfig simConfig = new NNConfig();\r\n        simConfig.setDescriptionSimFunction(new jcolibri.method.retrieve.NNretrieval.similarity.global.Average());\r\n        Attribute attribute0 = new Attribute(&quot;HolidayType&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute0, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute0, 1.00);\r\n        Attribute attribute1 = new Attribute(&quot;NumberOfPersons&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute1, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute1, 1.00);\r\n        Attribute attribute2 = new Attribute(&quot;Region&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute2, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute2, 1.00);\r\n        Attribute attribute3 = new Attribute(&quot;Transportation&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute3, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute3, 1.00);\r\n        Attribute attribute4 = new Attribute(&quot;Duration&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute4, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute4, 1.00);\r\n        Attribute attribute5 = new Attribute(&quot;Season&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute5, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute5, 1.00);\r\n        Attribute attribute6 = new Attribute(&quot;Accommodation&quot;, CaseDescription.class);\r\n        simConfig.addMapping(attribute6, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\r\n        simConfig.setWeight(attribute6, 1.00);\r\n        return simConfig;\r\n    }\r\n \r\n    //******************************************************************/\r\n    // Methods\r\n    //******************************************************************/\r\n   \r\n \r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    @Override\r\n    public CBRCaseBase preCycle() throws ExecutionException {\r\n        casebase.init(connector);\r\n        return casebase;\r\n    }\r\n       \r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    @Override\r\n    public void cycle(CBRQuery query) throws ExecutionException {\r\n        NNConfig simConfig = getSimilarityConfig();\r\n        Collection&lt;RetrievalResult&gt; eval = NNScoringMethod.evaluateSimilarity(casebase.getCases(), query, simConfig);\r\n        eval = SelectCases.selectTopKRR(eval, 5);\r\n        System.out.println(&quot;Retrieved cases:&quot;);\r\n        for (RetrievalResult nse : eval)\r\n            System.out.println(nse);\r\n    }\r\n \r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    @Override\r\n    public void postCycle() throws ExecutionException {\r\n        connector.close();\r\n    }\r\n \r\n    /**\r\n     * Main method\r\n     */\r\n    @Generated(value = { &quot;ColibriStudio&quot; })\r\n    public static void main(String[] args) {\r\n        CBRApplication cbrApp = new CBRApplication();\r\n        try {\r\n            cbrApp.configure();\r\n            CBRCaseBase caseBase = cbrApp.preCycle();\r\n           \r\n            for(CBRCase c: caseBase.getCases())\r\n                System.out.println(c);\r\n           \r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n \r\n    }\r\n}","title":"Q: import javax.annotation.Generated","body":"<p>The error im getting when importing the pacage is : The pacage javax.annotation is not accesible.\nThe error whem im compiling since i cant use Generated down in the code is :\nError occurred during initialization of boot layer</p>\n<p>java.lang.module.FindException: Unable to derive module descriptor for C:\\Users&quot;NAME&quot;.p2\\pool\\plugins\\es.ucm.gaia.colibristudio.LibraryPool_1.0.0\\lib\\databaseconnector\\jboss-transaction-api_1.1_spec-1.0.0.Final.jar\nCaused by: java.lang.IllegalArgumentException: jboss.transaction.api.1.1.spec: Invalid module name: '1' is not a Java identifie</p>\n<p>The code is :</p>\n<pre><code> \nimport jcolibri.cbraplications.StandardCBRApplication;\nimport jcolibri.cbrcore.CBRCase;\nimport jcolibri.cbrcore.CBRCaseBase;\nimport jcolibri.cbrcore.CBRQuery;\nimport jcolibri.cbrcore.Connector;\nimport jcolibri.exception.ExecutionException;\nimport jcolibri.exception.InitializingException;\nimport jcolibri.method.retrieve.NNretrieval.NNConfig;\n \nimport javax.annotation.Generated;  //This is where im getting the error and \n                                   //every Generated after does not work\nimport representation.CaseDescription;\nimport representation.CaseSolution;\nimport jcolibri.method.retrieve.NNretrieval.NNConfig;\nimport jcolibri.cbrcore.Attribute;\nimport jcolibri.method.retrieve.RetrievalResult;\nimport jcolibri.method.retrieve.NNretrieval.NNScoringMethod;\nimport jcolibri.method.retrieve.selection.SelectCases;\nimport java.util.Collection;\n \npublic class CBRApplication implements StandardCBRApplication {\n \n    @Generated(value = { &quot;ColibriStudio&quot; })\n    Connector connector;\n   \n    @Generated(value = { &quot;ColibriStudio&quot; })\n    CBRCaseBase casebase;\n \n \n \n    //******************************************************************/\n    // Configuration\n    //******************************************************************/\n \n    @Override\n    public void configure() throws ExecutionException {\n        try{\n            configureConnector();\n            configureCaseBase();\n        } catch (Exception e){\n            throw new ExecutionException(e);\n        }\n    }\n \n    /** Configures the connector */\n    @Generated(value = { &quot;CS-PTConector&quot; })\n    private void configureConnector() throws InitializingException{\n        connector = new jcolibri.connector.PlainTextConnector();\n        connector.initFromXMLfile(jcolibri.util.FileIO.findFile(&quot;config/plainTextConnectorConfig.xml&quot;));\n    }\n \n    /** Configures the case base */\n    @Generated(value = { &quot;CS-CaseManager&quot; })   \n    private void configureCaseBase() throws InitializingException{\n        casebase = new jcolibri.casebase.LinearCaseBase();\n    }\n \n    //******************************************************************/\n    // Similarity\n    //******************************************************************/\n   \n    /** Configures the similarity */\n    @Generated(value = { &quot;CS-Similarity&quot; })\n    private NNConfig getSimilarityConfig() {\n        NNConfig simConfig = new NNConfig();\n        simConfig.setDescriptionSimFunction(new jcolibri.method.retrieve.NNretrieval.similarity.global.Average());\n        Attribute attribute0 = new Attribute(&quot;HolidayType&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute0, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute0, 1.00);\n        Attribute attribute1 = new Attribute(&quot;NumberOfPersons&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute1, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute1, 1.00);\n        Attribute attribute2 = new Attribute(&quot;Region&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute2, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute2, 1.00);\n        Attribute attribute3 = new Attribute(&quot;Transportation&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute3, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute3, 1.00);\n        Attribute attribute4 = new Attribute(&quot;Duration&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute4, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute4, 1.00);\n        Attribute attribute5 = new Attribute(&quot;Season&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute5, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute5, 1.00);\n        Attribute attribute6 = new Attribute(&quot;Accommodation&quot;, CaseDescription.class);\n        simConfig.addMapping(attribute6, new jcolibri.method.retrieve.NNretrieval.similarity.local.Equal());\n        simConfig.setWeight(attribute6, 1.00);\n        return simConfig;\n    }\n \n    //******************************************************************/\n    // Methods\n    //******************************************************************/\n   \n \n    @Generated(value = { &quot;ColibriStudio&quot; })\n    @Override\n    public CBRCaseBase preCycle() throws ExecutionException {\n        casebase.init(connector);\n        return casebase;\n    }\n       \n    @Generated(value = { &quot;ColibriStudio&quot; })\n    @Override\n    public void cycle(CBRQuery query) throws ExecutionException {\n        NNConfig simConfig = getSimilarityConfig();\n        Collection&lt;RetrievalResult&gt; eval = NNScoringMethod.evaluateSimilarity(casebase.getCases(), query, simConfig);\n        eval = SelectCases.selectTopKRR(eval, 5);\n        System.out.println(&quot;Retrieved cases:&quot;);\n        for (RetrievalResult nse : eval)\n            System.out.println(nse);\n    }\n \n    @Generated(value = { &quot;ColibriStudio&quot; })\n    @Override\n    public void postCycle() throws ExecutionException {\n        connector.close();\n    }\n \n    /**\n     * Main method\n     */\n    @Generated(value = { &quot;ColibriStudio&quot; })\n    public static void main(String[] args) {\n        CBRApplication cbrApp = new CBRApplication();\n        try {\n            cbrApp.configure();\n            CBRCaseBase caseBase = cbrApp.preCycle();\n           \n            for(CBRCase c: caseBase.getCases())\n                System.out.println(c);\n           \n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n \n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1662858201,"post_id":73676138,"comment_id":130103092,"body_markdown":"I&#39;m not sure whether you intend to sort the map alphabetically, or by the number of times each word appears.  If you want it sorted alphabetically, then your best bet is to use a map that keeps its data always sorted, such as a `TreeMap`.  So if you change `HashMap` to `TreeMap` on the fourth line of the method, this should just work.","body":"I&#39;m not sure whether you intend to sort the map alphabetically, or by the number of times each word appears.  If you want it sorted alphabetically, then your best bet is to use a map that keeps its data always sorted, such as a <code>TreeMap</code>.  So if you change <code>HashMap</code> to <code>TreeMap</code> on the fourth line of the method, this should just work."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662863773,"creation_date":1662863773,"answer_id":73676435,"question_id":73676138,"body_markdown":"Since a `TreeMap` only sorts on the key and not the values, it won&#39;t work as you want to sort based on the count which is a value. Since you have already created your map, the easiest ways is to sort it and print as follows:\r\n- stream the `entrySet()` and then sort using the Entry&#39;s `comparingByValue` comparator.\r\n```\r\ncounts.entrySet().stream()\r\n        .sorted(Entry.comparingByValue())\r\n\t\t.forEach(System.out::println);\r\n```\r\nIf you want to retain the sorted order in a different map, you can do it like this and then print the new map.  Using a `LinkedHashMap` preserves the order.\r\n- sort as before\r\n- but collect in a map\r\n  -  first argument is the entry&#39;s key\r\n  -  second is the entry&#39;s value.\r\n  -  third is a BinaryOperator (Not used here but syntactically required)\r\n  -  fourth is a supplier which makes the map a LinkedHashMap\r\n```\r\nMap&lt;String, Long&gt; sortedMap = \r\n   counts.entrySet().stream().sorted(Entry.comparingByValue())\r\n\t\t.collect(Collectors.toMap(Entry::getKey,\r\n\t\t\t\tEntry::getValue, (a, b) -&gt; a,\r\n\t\t\t\tLinkedHashMap::new));\r\n// now print the map\r\nsortedMap.entrySet().forEach(System.out::println);\r\n","title":"Sort Java Map output in ascending order","body":"<p>Since a <code>TreeMap</code> only sorts on the key and not the values, it won't work as you want to sort based on the count which is a value. Since you have already created your map, the easiest ways is to sort it and print as follows:</p>\n<ul>\n<li>stream the <code>entrySet()</code> and then sort using the Entry's <code>comparingByValue</code> comparator.</li>\n</ul>\n<pre><code>counts.entrySet().stream()\n        .sorted(Entry.comparingByValue())\n        .forEach(System.out::println);\n</code></pre>\n<p>If you want to retain the sorted order in a different map, you can do it like this and then print the new map.  Using a <code>LinkedHashMap</code> preserves the order.</p>\n<ul>\n<li>sort as before</li>\n<li>but collect in a map\n<ul>\n<li>first argument is the entry's key</li>\n<li>second is the entry's value.</li>\n<li>third is a BinaryOperator (Not used here but syntactically required)</li>\n<li>fourth is a supplier which makes the map a LinkedHashMap</li>\n</ul>\n</li>\n</ul>\n<pre><code>Map&lt;String, Long&gt; sortedMap = \n   counts.entrySet().stream().sorted(Entry.comparingByValue())\n        .collect(Collectors.toMap(Entry::getKey,\n                Entry::getValue, (a, b) -&gt; a,\n                LinkedHashMap::new));\n// now print the map\nsortedMap.entrySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662866845,"creation_date":1662866845,"answer_id":73676601,"question_id":73676138,"body_markdown":"A `HashMap` has no defined order. Maps which implement the `SortedMap` interface, such as `TreeMap`, do have an order defined by a `Comparator`, but they&#39;re ordered by _keys_, not _values_. And then there&#39;s `LinkedHashMap`, which maintains _insertion_ order (or _access_ order, if you want that instead). You could make use of `LinkedHashMap` if you make sure to insert the elements in the desired order. That, of course, means you still need to iterate your original map in the desired order somehow.\r\n\r\nBut I think, in your case, it does not matter so much that the map has the order you want. You only want order when you _print_ the results. And you only do this once, so there&#39;s no need for some kind of caching of the order. So, I would probably just use an intermediate list or a stream.\r\n\r\nExample using list:\r\n\r\n```lang-java\r\nList&lt;Map.Entry&lt;String, Long&gt;&gt; list = new ArrayList&lt;&gt;(counts.entrySet());\r\nlist.sort(Map.Entry.comparingByValue());\r\n\r\nfor (Map.Entry&lt;String, Long&gt; entry : list) {\r\n  System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n}\r\n```\r\n\r\nExample using stream:\r\n\r\n```lang-java\r\ncounts.entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.comparingByValue())\r\n    .forEachOrdered(entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n```\r\n\r\nThe `Map.Entry.comparingByValue()` call returns a `Comparator` which is used to sort the elements. Specifically, it will sort by the _natural order_ of the values of the entries. A `Long`&#39;s natural order is from smallest to largest. If you want a different order, then pass whatever `Comparator` you need to get that order (which may involve writing your own implementation). Though if you simply want to sort from largest to smallest (i.e., reversed natural order), just use `Map.Entry.comparingByValue(Comparator.reverseOrder())` instead.\r\n\r\n---\r\n\r\nI also recommend, at least in &quot;real&quot; code, that you use _try-with-resources_ instead of manually closing the reader. For example:\r\n\r\n```lang-java\r\nFile file = new File(&quot;src/txt.txt&quot;);\r\ntry (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n  // use &#39;br&#39; here (the remainder of you code, minus the &#39;br.close()&#39; call\r\n}\r\n```\r\n\r\nWhen that `try` block exits, the resource referenced by `br` will be automatically closed for you, and in a safer way than simply calling `br.close()`.","title":"Sort Java Map output in ascending order","body":"<p>A <code>HashMap</code> has no defined order. Maps which implement the <code>SortedMap</code> interface, such as <code>TreeMap</code>, do have an order defined by a <code>Comparator</code>, but they're ordered by <em>keys</em>, not <em>values</em>. And then there's <code>LinkedHashMap</code>, which maintains <em>insertion</em> order (or <em>access</em> order, if you want that instead). You could make use of <code>LinkedHashMap</code> if you make sure to insert the elements in the desired order. That, of course, means you still need to iterate your original map in the desired order somehow.</p>\n<p>But I think, in your case, it does not matter so much that the map has the order you want. You only want order when you <em>print</em> the results. And you only do this once, so there's no need for some kind of caching of the order. So, I would probably just use an intermediate list or a stream.</p>\n<p>Example using list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;String, Long&gt;&gt; list = new ArrayList&lt;&gt;(counts.entrySet());\nlist.sort(Map.Entry.comparingByValue());\n\nfor (Map.Entry&lt;String, Long&gt; entry : list) {\n  System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n}\n</code></pre>\n<p>Example using stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>counts.entrySet()\n    .stream()\n    .sorted(Map.Entry.comparingByValue())\n    .forEachOrdered(entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n</code></pre>\n<p>The <code>Map.Entry.comparingByValue()</code> call returns a <code>Comparator</code> which is used to sort the elements. Specifically, it will sort by the <em>natural order</em> of the values of the entries. A <code>Long</code>'s natural order is from smallest to largest. If you want a different order, then pass whatever <code>Comparator</code> you need to get that order (which may involve writing your own implementation). Though if you simply want to sort from largest to smallest (i.e., reversed natural order), just use <code>Map.Entry.comparingByValue(Comparator.reverseOrder())</code> instead.</p>\n<hr />\n<p>I also recommend, at least in &quot;real&quot; code, that you use <em>try-with-resources</em> instead of manually closing the reader. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;src/txt.txt&quot;);\ntry (BufferedReader br = new BufferedReader(new FileReader(file))) {\n  // use 'br' here (the remainder of you code, minus the 'br.close()' call\n}\n</code></pre>\n<p>When that <code>try</code> block exits, the resource referenced by <code>br</code> will be automatically closed for you, and in a safer way than simply calling <code>br.close()</code>.</p>\n"}],"owner":{"account_id":26302628,"reputation":1,"user_id":19967706,"display_name":"justjenn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662882731,"answer_count":2,"score":0,"last_activity_date":1662866845,"creation_date":1662857838,"question_id":73676138,"body_markdown":"I made this quick code for a class and I got everything to work fine as far as reading the text file and printing it out, but I can&#39;t figure out how to get it to print out in ascending order. The goal is to read a file and print out the number of times that word appears and sort it by the number of times it appears.\r\n\r\n```\r\npublic class Analyser {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n\r\n        File file = new File(&quot;src/txt.txt&quot;);\r\n        BufferedReader br = new BufferedReader(new FileReader(file));\r\n        String line;\r\n        Map&lt;String, Long&gt; counts = new HashMap&lt;&gt;();\r\n        while ((line = br.readLine()) != null) {\r\n\r\n\r\n            String[] words = line.split(&quot;[\\\\s.;,?:!()\\&quot;]+&quot;);\r\n            for (String word : words) {\r\n                word = word.trim();\r\n                if (word.length() &gt; 0) {\r\n                    if (counts.containsKey(word)) {\r\n                        counts.put(word, counts.get(word) + 1);\r\n                    } else {\r\n                        counts.put(word, 1L);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (Map.Entry&lt;String, Long&gt; entry : counts.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n        }\r\n        br.close();\r\n    }\r\n}\r\n```","title":"Sort Java Map output in ascending order","body":"<p>I made this quick code for a class and I got everything to work fine as far as reading the text file and printing it out, but I can't figure out how to get it to print out in ascending order. The goal is to read a file and print out the number of times that word appears and sort it by the number of times it appears.</p>\n<pre><code>public class Analyser {\n    public static void main(String[] args) throws IOException {\n\n\n        File file = new File(&quot;src/txt.txt&quot;);\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String line;\n        Map&lt;String, Long&gt; counts = new HashMap&lt;&gt;();\n        while ((line = br.readLine()) != null) {\n\n\n            String[] words = line.split(&quot;[\\\\s.;,?:!()\\&quot;]+&quot;);\n            for (String word : words) {\n                word = word.trim();\n                if (word.length() &gt; 0) {\n                    if (counts.containsKey(word)) {\n                        counts.put(word, counts.get(word) + 1);\n                    } else {\n                        counts.put(word, 1L);\n                    }\n                }\n            }\n        }\n        for (Map.Entry&lt;String, Long&gt; entry : counts.entrySet()) {\n            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\n        }\n        br.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","toast","android-toast"],"comments":[{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":3,"creation_date":1662817406,"post_id":73672191,"comment_id":130096282,"body_markdown":"Pl share the complete error logcat.","body":"Pl share the complete error logcat."},{"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"score":0,"creation_date":1662817636,"post_id":73672191,"comment_id":130096324,"body_markdown":"added the error line","body":"added the error line"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1662818012,"post_id":73672191,"comment_id":130096395,"body_markdown":"Is it an error (throws and the app stops) or just a message it prints to the log? If an actual throw, include the *full* stack trace.","body":"Is it an error (throws and the app stops) or just a message it prints to the log? If an actual throw, include the <i>full</i> stack trace."},{"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"score":0,"creation_date":1662818172,"post_id":73672191,"comment_id":130096429,"body_markdown":"the program stops working after that, compiled to a previous ancient android version work just fine,  the program does not stop working.\n\nits not an actual throw.","body":"the program stops working after that, compiled to a previous ancient android version work just fine,  the program does not stop working.  its not an actual throw."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1662818258,"post_id":73672191,"comment_id":130096442,"body_markdown":"Ok, then include the full stack trace. What you posted is an output from a `Log.v` call ([here](https://android.googlesource.com/platform/frameworks/base/+/f4bed684c939b0f8809ef404b8609fe4ef849263/core/java/android/widget/Toast.java#404)) - not an actual error. Your statement is contradictory though - you say the program stops working, but that it is not an actual throw. A program doesn&#39;t just &quot;stop working&quot; without throwing or crashing, unless you mean something else by &quot;stop working&quot; (e.g. doesn&#39;t show the toast?)","body":"Ok, then include the full stack trace. What you posted is an output from a <code>Log.v</code> call (<a href=\"https://android.googlesource.com/platform/frameworks/base/+/f4bed684c939b0f8809ef404b8609fe4ef849263/core/java/android/widget/Toast.java#404\" rel=\"nofollow noreferrer\">here</a>) - not an actual error. Your statement is contradictory though - you say the program stops working, but that it is not an actual throw. A program doesn&#39;t just &quot;stop working&quot; without throwing or crashing, unless you mean something else by &quot;stop working&quot; (e.g. doesn&#39;t show the toast?)"},{"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"score":0,"creation_date":1662819234,"post_id":73672191,"comment_id":130096630,"body_markdown":"for the record, I&#39;m trying to update https://github.com/hongxiongncsu/IMU-image-recorder-android to compile on latest android studio, the recent android studio cannot directly compile to old android &lt;28 sdk version the code for some support reasons.","body":"for the record, I&#39;m trying to update <a href=\"https://github.com/hongxiongncsu/IMU-image-recorder-android\" rel=\"nofollow noreferrer\">github.com/hongxiongncsu/IMU-image-recorder-android</a> to compile on latest android studio, the recent android studio cannot directly compile to old android &lt;28 sdk version the code for some support reasons."}],"answers":[{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662864600,"creation_date":1662864600,"answer_id":73676482,"question_id":73672191,"body_markdown":"Changes to the `Toast.makeText()` code were made starting with Android 11+ with the introduction of the Compatibility **CHANGE_TEXT_TOASTS_IN_THE_SYSTEM** check.\r\n\r\n```java\r\n\r\n    /**\r\n     * Make a standard toast to display using the specified looper.\r\n     * If looper is null, Looper.myLooper() is used.\r\n     *\r\n     * @hide\r\n     */\r\n    public static Toast makeText(@NonNull Context context, @Nullable Looper looper,\r\n            @NonNull CharSequence text, @Duration int duration) {\r\n        if (Compatibility.isChangeEnabled(CHANGE_TEXT_TOASTS_IN_THE_SYSTEM)) {\r\n            Toast result = new Toast(context, looper);\r\n            result.mText = text;\r\n            result.mDuration = duration;\r\n            return result;\r\n        } else {\r\n            Toast result = new Toast(context, looper);\r\n            View v = ToastPresenter.getTextToastView(context, text);\r\n            result.mNextView = v;\r\n            result.mDuration = duration;\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n&gt; CHANGE_TEXT_TOASTS_IN_THE_SYSTEM Change ID: 147798919\r\n&gt; \r\n&gt; Default state: Enabled for apps that target Android 11 (API level 30)\r\n&gt; or higher.\r\n&gt; \r\n&gt; Text toasts are now rendered by the SystemUI instead of in-app. This\r\n&gt; prevents apps from circumventing restrictions on posting custom toasts\r\n&gt; in the background.\r\n&gt; \r\n&gt; https://developer.android.com/about/versions/11/reference/compat-framework-changes#change_text_toasts_in_the_system\r\n\r\nWhat is SystemUI?\r\n\r\nhttps://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/README.md\r\n\r\nAs Myrick Chow explained, you must now instantiate a Toast (first method) rather than using the static Toast object (second method), as shown below.\r\n```java\r\n// Method 1: Public constructor\r\nval simpleToast = Toast(this)\r\n\r\n// Method 2: Static constructor\r\nval textToast = Toast.makeText(this, &quot;Simple toast message&quot;, Toast.LENGTH_SHORT)\r\n```\r\n\r\nhttps://itnext.io/android-11-toast-updates-7f1cd2245bc4\r\n\r\n","title":"Why Toast is not compatible with Android 28+?","body":"<p>Changes to the <code>Toast.makeText()</code> code were made starting with Android 11+ with the introduction of the Compatibility <strong>CHANGE_TEXT_TOASTS_IN_THE_SYSTEM</strong> check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    /**\n     * Make a standard toast to display using the specified looper.\n     * If looper is null, Looper.myLooper() is used.\n     *\n     * @hide\n     */\n    public static Toast makeText(@NonNull Context context, @Nullable Looper looper,\n            @NonNull CharSequence text, @Duration int duration) {\n        if (Compatibility.isChangeEnabled(CHANGE_TEXT_TOASTS_IN_THE_SYSTEM)) {\n            Toast result = new Toast(context, looper);\n            result.mText = text;\n            result.mDuration = duration;\n            return result;\n        } else {\n            Toast result = new Toast(context, looper);\n            View v = ToastPresenter.getTextToastView(context, text);\n            result.mNextView = v;\n            result.mDuration = duration;\n\n            return result;\n        }\n    }\n\n</code></pre>\n<blockquote>\n<p>CHANGE_TEXT_TOASTS_IN_THE_SYSTEM Change ID: 147798919</p>\n<p>Default state: Enabled for apps that target Android 11 (API level 30)\nor higher.</p>\n<p>Text toasts are now rendered by the SystemUI instead of in-app. This\nprevents apps from circumventing restrictions on posting custom toasts\nin the background.</p>\n<p><a href=\"https://developer.android.com/about/versions/11/reference/compat-framework-changes#change_text_toasts_in_the_system\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/reference/compat-framework-changes#change_text_toasts_in_the_system</a></p>\n</blockquote>\n<p>What is SystemUI?</p>\n<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/README.md\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/README.md</a></p>\n<p>As Myrick Chow explained, you must now instantiate a Toast (first method) rather than using the static Toast object (second method), as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Method 1: Public constructor\nval simpleToast = Toast(this)\n\n// Method 2: Static constructor\nval textToast = Toast.makeText(this, &quot;Simple toast message&quot;, Toast.LENGTH_SHORT)\n</code></pre>\n<p><a href=\"https://itnext.io/android-11-toast-updates-7f1cd2245bc4\" rel=\"nofollow noreferrer\">https://itnext.io/android-11-toast-updates-7f1cd2245bc4</a></p>\n"}],"owner":{"account_id":17429073,"reputation":113,"user_id":12633414,"display_name":"Goofyseeker311"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1662864600,"creation_date":1662816567,"question_id":73672191,"body_markdown":"why does standard form Toast (also in current google android online docs)\r\ngive &quot;false caller&quot; error for an app in Android compileSdkVersion/targetSdkVersion 28. Using getApplicationContext() does not matter.\r\n\r\n```\r\npublic class MainActivity extends Activity implements SensorEventListener {\r\n\r\n...\r\n\r\n  OnClickListener captureListener = new OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n      Toast.makeText(MainActivity.this, &quot;pop-up text&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n  };\r\n\r\n}\r\n```\r\n\r\nerror line, on real android-11 device:\r\n\r\n`V/Toast: Toast SHOW: android.widget.Toast@86d08e5 view = android.widget.LinearLayout{540bfba V.E...... ......I. 0,0-0,0} pkg: com.example.app TextToast? false caller: com.example.app.MainActivity$1.onClick:211 ...`\r\n\r\nbuild.gradle dependencies:\r\n```\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;commons-io:commons-io:2.4&#39;\r\n    implementation &quot;androidx.appcompat:appcompat:1.3.1&quot;\r\n    implementation &quot;androidx.appcompat:appcompat-resources:1.3.1&quot;\r\n}\r\n```","title":"Why Toast is not compatible with Android 28+?","body":"<p>why does standard form Toast (also in current google android online docs)\ngive &quot;false caller&quot; error for an app in Android compileSdkVersion/targetSdkVersion 28. Using getApplicationContext() does not matter.</p>\n<pre><code>public class MainActivity extends Activity implements SensorEventListener {\n\n...\n\n  OnClickListener captureListener = new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n      Toast.makeText(MainActivity.this, &quot;pop-up text&quot;, Toast.LENGTH_LONG).show();\n    }\n  };\n\n}\n</code></pre>\n<p>error line, on real android-11 device:</p>\n<p><code>V/Toast: Toast SHOW: android.widget.Toast@86d08e5 view = android.widget.LinearLayout{540bfba V.E...... ......I. 0,0-0,0} pkg: com.example.app TextToast? false caller: com.example.app.MainActivity$1.onClick:211 ...</code></p>\n<p>build.gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'commons-io:commons-io:2.4'\n    implementation &quot;androidx.appcompat:appcompat:1.3.1&quot;\n    implementation &quot;androidx.appcompat:appcompat-resources:1.3.1&quot;\n}\n</code></pre>\n"},{"tags":["java","android","drawing","paint"],"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1487627767,"post_id":42350248,"comment_id":71860519,"body_markdown":"Possible duplicate of [Draw in Canvas by finger, Android](http://stackoverflow.com/questions/16650419/draw-in-canvas-by-finger-android)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16650419/draw-in-canvas-by-finger-android\">Draw in Canvas by finger, Android</a>"}],"answers":[{"tags":[],"owner":{"account_id":5276149,"reputation":68,"user_id":4212850,"accept_rate":80,"display_name":"Ramees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662863275,"creation_date":1487610687,"answer_id":42350528,"question_id":42350248,"body_markdown":"You need to have a paint class first\r\n\r\n    paint = new Paint();\r\n    paint.setColor(Color.BLACK);\r\n    paint.setStrokeWidth(5);\r\n    paint.setStyle(Paint.Style.STROKE);\r\n    paint.setPathEffect(new DashPathEffect(new float[]{15.0f, 15.0f}, 0));\r\n\r\nand implement the following onTouchListener\r\n\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n    int action = event.getAction();\r\n \r\n    switch (action) {\r\n      case MotionEvent.ACTION_DOWN:\r\n \r\n \r\n      downx = event.getX();\r\n      downy = event.getY();\r\n      clipPath = new Path();\r\n      clipPath.moveTo(downx, downy);\r\n      tdownx = downx;\r\n      tdowny = downy;\r\n      smallx = downx;\r\n      smally = downy;\r\n      largex = downx;\r\n      largey = downy;\r\n      lastTouchDown = System.currentTimeMillis();\r\n       break;\r\n \r\n      case MotionEvent.ACTION_MOVE: \r\n      upx = event.getX();\r\n      upy = event.getY();\r\n     cropModelArrayList.add(new CropModel(upx, upy));\r\n     clipPath = new Path();\r\n     clipPath.moveTo(tdownx,tdowny);\r\n      for(int i = 0; i&lt;cropModelArrayList.size();i++){ clipPath.lineTo(cropModelArrayList.get(i).getY(),cropModelArrayList.get(i).getX(   ));\r\n        }\r\n       canvas.drawPath(clipPath, paint);\r\n       im_crop_image_view.invalidate();\r\n       downx = upx;\r\n       downy = upy;\r\n       break;\r\n       case MotionEvent.ACTION_UP:\r\n    if (System.currentTimeMillis() - lastTouchDown &lt; CLICK_ACTION_THRESHHOLD) {\r\n \r\n     cropModelArrayList.clear();\r\n     initcanvas();\r\n \r\n     int cx = (screen_width - bmp.getWidth()) &gt;&gt; 1;\r\n     int cy = (screen_height - bmp.getHeight()) &gt;&gt; 1;\r\n     canvas.drawBitmap(bmp, cx, cy, null);\r\n     im_crop_image_view.setImageBitmap(alteredBitmap);\r\n \r\n     } else {\r\n     if (upx != upy) {\r\n     upx = event.getX();\r\n     upy = event.getY();\r\n \r\n \r\n     canvas.drawLine(downx, downy, upx, upy, paint);\r\n    clipPath.lineTo(upx, upy);\r\n    yourview.invalidate();\r\n \r\n       }\r\n \r\n      }\r\n      break;\r\n      return true;\r\n       }\r\n","title":"Drawing By Finger Inside Activity Layout?","body":"<p>You need to have a paint class first</p>\n<pre><code>paint = new Paint();\npaint.setColor(Color.BLACK);\npaint.setStrokeWidth(5);\npaint.setStyle(Paint.Style.STROKE);\npaint.setPathEffect(new DashPathEffect(new float[]{15.0f, 15.0f}, 0));\n</code></pre>\n<p>and implement the following onTouchListener</p>\n<pre><code>public boolean onTouch(View v, MotionEvent event) {\nint action = event.getAction();\n\nswitch (action) {\n  case MotionEvent.ACTION_DOWN:\n\n\n  downx = event.getX();\n  downy = event.getY();\n  clipPath = new Path();\n  clipPath.moveTo(downx, downy);\n  tdownx = downx;\n  tdowny = downy;\n  smallx = downx;\n  smally = downy;\n  largex = downx;\n  largey = downy;\n  lastTouchDown = System.currentTimeMillis();\n   break;\n\n  case MotionEvent.ACTION_MOVE: \n  upx = event.getX();\n  upy = event.getY();\n cropModelArrayList.add(new CropModel(upx, upy));\n clipPath = new Path();\n clipPath.moveTo(tdownx,tdowny);\n  for(int i = 0; i&lt;cropModelArrayList.size();i++){ clipPath.lineTo(cropModelArrayList.get(i).getY(),cropModelArrayList.get(i).getX(   ));\n    }\n   canvas.drawPath(clipPath, paint);\n   im_crop_image_view.invalidate();\n   downx = upx;\n   downy = upy;\n   break;\n   case MotionEvent.ACTION_UP:\nif (System.currentTimeMillis() - lastTouchDown &lt; CLICK_ACTION_THRESHHOLD) {\n\n cropModelArrayList.clear();\n initcanvas();\n\n int cx = (screen_width - bmp.getWidth()) &gt;&gt; 1;\n int cy = (screen_height - bmp.getHeight()) &gt;&gt; 1;\n canvas.drawBitmap(bmp, cx, cy, null);\n im_crop_image_view.setImageBitmap(alteredBitmap);\n\n } else {\n if (upx != upy) {\n upx = event.getX();\n upy = event.getY();\n\n\n canvas.drawLine(downx, downy, upx, upy, paint);\nclipPath.lineTo(upx, upy);\nyourview.invalidate();\n\n   }\n\n  }\n  break;\n  return true;\n   }\n</code></pre>\n"}],"owner":{"account_id":10209261,"reputation":19,"user_id":7536961,"display_name":"Rux77"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662863275,"creation_date":1487609891,"question_id":42350248,"body_markdown":"My Activity:\r\n\r\n     public class myMainActivity extends AppCompatActivity {\r\n         @Override\r\n         protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           setContentView(R.layout.MyLayout);\r\n\r\n         }\r\n     }\r\n\r\nI want to draw by finger on the background of my layout like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4A6d.jpg","title":"Drawing By Finger Inside Activity Layout?","body":"<p>My Activity:</p>\n\n<pre><code> public class myMainActivity extends AppCompatActivity {\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.MyLayout);\n\n     }\n }\n</code></pre>\n\n<p>I want to draw by finger on the background of my layout like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b4A6d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4A6d.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","bufferedreader","readline"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1661860913,"post_id":73542051,"comment_id":129867392,"body_markdown":"Maybe there is a problem in `/etc/lighttpd`. Probably it tries to write something in `/var/tmp` and finishes work.","body":"Maybe there is a problem in <code>&#47;etc&#47;lighttpd</code>. Probably it tries to write something in <code>&#47;var&#47;tmp</code> and finishes work."},{"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"score":0,"creation_date":1661863234,"post_id":73542051,"comment_id":129868403,"body_markdown":"Thanks for you reply. I have done some changes in configfile.c file and &quot;exist: /var/tmp &quot; line is not coming , but still I am getting null value. I have updated my question , can you please check","body":"Thanks for you reply. I have done some changes in configfile.c file and &quot;exist: /var/tmp &quot; line is not coming , but still I am getting null value. I have updated my question , can you please check"},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1661870368,"post_id":73542051,"comment_id":129871499,"body_markdown":"Thanks! What text do you receive in the first case? I wonder what difference can be. Sorry, but I didn&#39;t work with lighttpd.","body":"Thanks! What text do you receive in the first case? I wonder what difference can be. Sorry, but I didn&#39;t work with lighttpd."},{"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"score":1,"creation_date":1661873056,"post_id":73542051,"comment_id":129872650,"body_markdown":"&quot;total 7580&quot; is the first line of &quot;ls -l /etc/&quot; .","body":"&quot;total 7580&quot; is the first line of &quot;ls -l /etc/&quot; ."},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1661875002,"post_id":73542051,"comment_id":129873408,"body_markdown":"You can debug the app. For instance, check that `process.getInputStream()` returns something valid.","body":"You can debug the app. For instance, check that <code>process.getInputStream()</code> returns something valid."},{"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"score":0,"creation_date":1661878819,"post_id":73542051,"comment_id":129874856,"body_markdown":"yes i tried , Log.d(TAG, &quot;test===&gt; process.getInputStream()&quot;+process.getInputStream()); ===&gt;response===&gt;  test===&gt; process.getInputStream()java.lang.UNIXProcess$ProcessPipeInputStream@6eb2e7b","body":"yes i tried , Log.d(TAG, &quot;test===&gt; process.getInputStream()&quot;+process.getInputStream()); ===&gt;response===&gt;  test===&gt; process.getInputStream()java.lang.UNIXProcess$ProcessPipeInp&zwnj;&#8203;utStream@6eb2e7b"},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1661894065,"post_id":73542051,"comment_id":129879575,"body_markdown":"process.getInputStream() returns `InputStream` (https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html). Probably you can detect how much data can be read with `available()` method.","body":"process.getInputStream() returns <code>InputStream</code> (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/InputStream.html</a>)&zwnj;&#8203;. Probably you can detect how much data can be read with <code>available()</code> method."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1662024999,"post_id":73542051,"comment_id":129912538,"body_markdown":"`readLine()` returns null at end of stream. This is documented. If it happens on the first call, the conclusion is that the input was empty. What was the value returned by `process.waitFor()`?","body":"<code>readLine()</code> returns null at end of stream. This is documented. If it happens on the first call, the conclusion is that the input was empty. What was the value returned by <code>process.waitFor()</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1662025078,"post_id":73542051,"comment_id":129912558,"body_markdown":"@CoolMind No. `available()` only tells you how much data can be read *without blocking*. Either way, it doesn&#39;t get you anywhere. The input will still be empty.","body":"@CoolMind No. <code>available()</code> only tells you how much data can be read <i>without blocking</i>. Either way, it doesn&#39;t get you anywhere. The input will still be empty."},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1662029585,"post_id":73542051,"comment_id":129914126,"body_markdown":"@user207421, thanks, agree with you. I think the service doesn&#39;t output anything.","body":"@user207421, thanks, agree with you. I think the service doesn&#39;t output anything."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662598679,"post_id":73542051,"comment_id":130045106,"body_markdown":"The use of a relative pathname (i.e. `./etc/lighthttpd`) means that you might be running a different executable from Java and from the command line.  Depending on the JVM and shell&#39;s respective working directories.   (But I&#39;d have expected `exec` to throw an exception ...)","body":"The use of a relative pathname (i.e. <code>.&#47;etc&#47;lighthttpd</code>) means that you might be running a different executable from Java and from the command line.  Depending on the JVM and shell&#39;s respective working directories.   (But I&#39;d have expected <code>exec</code> to throw an exception ...)"}],"answers":[{"tags":[],"owner":{"account_id":1412564,"reputation":2171,"user_id":1338888,"display_name":"gstrauss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662597143,"creation_date":1662597143,"answer_id":73642639,"question_id":73542051,"body_markdown":"`/etc/lighttpd` is usually a directory containing configuration information.  `/etc/lighttpd` is often not an executable.","title":"Getting bufferedReader.readLine() value is null in android","body":"<p><code>/etc/lighttpd</code> is usually a directory containing configuration information.  <code>/etc/lighttpd</code> is often not an executable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662863247,"creation_date":1662816500,"answer_id":73672189,"question_id":73542051,"body_markdown":"The pathname `./etc/lighttpd` is suspicious, but the evidence you have show us proves that:\r\n\r\n  1. it is present, and\r\n  2. it is executable, \r\n\r\n... at least for some current directory.  \r\n\r\nWhy do I say that it is proven?  Because:\r\n\r\n  1. `exec` didn&#39;t throw an `IOException`, and \r\n  2.  you showed us the output from running the same command from the command line.\r\n\r\nAdmittedly, it is possible that the current directories are different ... which is one of the reasons that I said that `./etc/lighttpd` is suspicious!\r\n\r\n---------------\r\n\r\nSo if the problem is not that `./etc/lighttpd` is not an executable, **what is the explanation** for `bufferedReader.readLine()` returning `null`?\r\n\r\nWell, the simplest theory is that `lighttpd` is writing to standard error rather than standard output, and that it has **closed** its standard output.   That would explain the behavior you are seeing.\r\n\r\nAnyhow ... my suggestions would be:\r\n\r\n  1.  Change  `./etc/lighttpd` to the **absolute** pathname for the executable that you are using ... to remove any doubt.\r\n  2.  Try opening and reading from `process.getErrorStream()` instead.\r\n  3.  Look in the `lighttpd` log file for any errors.\r\n\r\n------------------\r\n\r\nFinally, you have tagged your question with `[android]` but AFAIK there is no (official) Android port for Lighttpd.  I am guessing that the tag was a mistake because there is no other mention of Android.  But if it was not a mistake, you should tell us where you go the Android port from.  That *may* help people to diagnose the problem.","title":"Getting bufferedReader.readLine() value is null in android","body":"<p>The pathname <code>./etc/lighttpd</code> is suspicious, but the evidence you have show us proves that:</p>\n<ol>\n<li>it is present, and</li>\n<li>it is executable,</li>\n</ol>\n<p>... at least for some current directory.</p>\n<p>Why do I say that it is proven?  Because:</p>\n<ol>\n<li><code>exec</code> didn't throw an <code>IOException</code>, and</li>\n<li>you showed us the output from running the same command from the command line.</li>\n</ol>\n<p>Admittedly, it is possible that the current directories are different ... which is one of the reasons that I said that <code>./etc/lighttpd</code> is suspicious!</p>\n<hr />\n<p>So if the problem is not that <code>./etc/lighttpd</code> is not an executable, <strong>what is the explanation</strong> for <code>bufferedReader.readLine()</code> returning <code>null</code>?</p>\n<p>Well, the simplest theory is that <code>lighttpd</code> is writing to standard error rather than standard output, and that it has <strong>closed</strong> its standard output.   That would explain the behavior you are seeing.</p>\n<p>Anyhow ... my suggestions would be:</p>\n<ol>\n<li>Change  <code>./etc/lighttpd</code> to the <strong>absolute</strong> pathname for the executable that you are using ... to remove any doubt.</li>\n<li>Try opening and reading from <code>process.getErrorStream()</code> instead.</li>\n<li>Look in the <code>lighttpd</code> log file for any errors.</li>\n</ol>\n<hr />\n<p>Finally, you have tagged your question with <code>[android]</code> but AFAIK there is no (official) Android port for Lighttpd.  I am guessing that the tag was a mistake because there is no other mention of Android.  But if it was not a mistake, you should tell us where you go the Android port from.  That <em>may</em> help people to diagnose the problem.</p>\n"}],"owner":{"account_id":3477541,"reputation":1048,"user_id":9042612,"accept_rate":62,"display_name":"GNK"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1662863247,"creation_date":1661860465,"question_id":73542051,"body_markdown":"\r\nWorking condition :\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;ls -l /etc/&quot;);\r\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    Log.d(TAG,&quot;bufferedReader.readLine()===&gt;&quot;+bufferedReader.readLine());\r\n\r\nSnipped log : bufferedReader.readLine()===&gt;total 7580\r\n\r\n\r\nnot working :\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;./etc/lighttpd -D -f /etc/test.conf&quot;);\r\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    Log.d(TAG,&quot;bufferedReader.readLine()===&gt;&quot;+bufferedReader.readLine());\r\n\r\n\r\nSnipped log : bufferedReader.readLine()===&gt;null\r\n\r\n\r\nCan you please help me, why I am receiving bufferedReader.readLine() is &quot;null&quot; while execute &quot;./etc/lighttpd -D -f /etc/test.conf&quot; command\r\n\r\n\r\nexecuted below command in device shell :\r\n\r\n    #./etc/lighttpd -D -f /etc/test.conf\r\n    2022-08-30 12:38:18: server.c.1508) server started (lighttpd/1.4.58)\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting bufferedReader.readLine() value is null in android","body":"<p>Working condition :</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;ls -l /etc/&quot;);\nBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\nLog.d(TAG,&quot;bufferedReader.readLine()===&gt;&quot;+bufferedReader.readLine());\n</code></pre>\n<p>Snipped log : bufferedReader.readLine()===&gt;total 7580</p>\n<p>not working :</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;./etc/lighttpd -D -f /etc/test.conf&quot;);\nBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\nLog.d(TAG,&quot;bufferedReader.readLine()===&gt;&quot;+bufferedReader.readLine());\n</code></pre>\n<p>Snipped log : bufferedReader.readLine()===&gt;null</p>\n<p>Can you please help me, why I am receiving bufferedReader.readLine() is &quot;null&quot; while execute &quot;./etc/lighttpd -D -f /etc/test.conf&quot; command</p>\n<p>executed below command in device shell :</p>\n<pre><code>#./etc/lighttpd -D -f /etc/test.conf\n2022-08-30 12:38:18: server.c.1508) server started (lighttpd/1.4.58)\n</code></pre>\n"},{"tags":["java","arrays","arraylist","kotlin"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1454847697,"post_id":35253368,"comment_id":58219341,"body_markdown":"I know you are asking about `int`, but for Objects, there is http://stackoverflow.com/questions/32679060/kotlin-create-a-regular-array-as-in-java","body":"I know you are asking about <code>int</code>, but for Objects, there is <a href=\"http://stackoverflow.com/questions/32679060/kotlin-create-a-regular-array-as-in-java\" title=\"kotlin create a regular array as in java\">stackoverflow.com/questions/32679060/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142491,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":216,"is_accepted":true,"score":216,"last_activity_date":1603704322,"creation_date":1454849045,"answer_id":35253626,"question_id":35253368,"body_markdown":"According to the [reference][1], arrays are created in the following way:\r\n\r\n- For Java&#39;s primitive types there are distinct types `IntArray`, `DoubleArray` etc. which store [unboxed][2] values.\r\n\r\n    They are created with the corresponding constructors and factory functions:\r\n\r\n    ```kotlin\r\n    val arrayOfZeros = IntArray(size) //equivalent in Java: new int[size]\r\n    val numbersFromOne = IntArray(size) { it + 1 }\r\n    val myInts = intArrayOf(1, 1, 2, 3, 5, 8, 13, 21)\r\n    ```\r\n\r\n    The first one is simillar to that in Java, it just creates a primitive array filled with the default value, e.g. zero for `Int`, `false` for `Boolean`.\r\n\r\n- Non primitive-arrays are represented by `Array&lt;T&gt;` class, where `T` is the items type. \r\n\r\n  `T` can still be one of types primitive in Java (`Int`, `Boolean`,...), but the values inside will be boxed equivalently to Java&#39;s `Integer`, `Double` and so on.\r\n\r\n  Also, `T` can be both [nullable and non-null][3] like `String` and `String?`.\r\n\r\n    These are created in a similar way:\r\n\r\n    ```kotlin\r\n    val nulls = arrayOfNulls&lt;String&gt;(size) //equivalent in Java: new String[size]\r\n    val strings = Array(size) { &quot;n = $it&quot; } \r\n    val myStrings = arrayOf(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;)\r\n\r\n    val boxedInts = arrayOfNulls&lt;Int&gt;(size) //equivalent in Java: new Integer[size]\r\n    val boxedZeros = Array(size) { 0 }\r\n    ```\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/basic-types.html#arrays\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [3]: https://kotlinlang.org/docs/reference/null-safety.html","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>According to the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\">reference</a>, arrays are created in the following way:</p>\n<ul>\n<li><p>For Java's primitive types there are distinct types <code>IntArray</code>, <code>DoubleArray</code> etc. which store <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">unboxed</a> values.</p>\n<p>They are created with the corresponding constructors and factory functions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val arrayOfZeros = IntArray(size) //equivalent in Java: new int[size]\nval numbersFromOne = IntArray(size) { it + 1 }\nval myInts = intArrayOf(1, 1, 2, 3, 5, 8, 13, 21)\n</code></pre>\n<p>The first one is simillar to that in Java, it just creates a primitive array filled with the default value, e.g. zero for <code>Int</code>, <code>false</code> for <code>Boolean</code>.</p>\n</li>\n<li><p>Non primitive-arrays are represented by <code>Array&lt;T&gt;</code> class, where <code>T</code> is the items type.</p>\n<p><code>T</code> can still be one of types primitive in Java (<code>Int</code>, <code>Boolean</code>,...), but the values inside will be boxed equivalently to Java's <code>Integer</code>, <code>Double</code> and so on.</p>\n<p>Also, <code>T</code> can be both <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">nullable and non-null</a> like <code>String</code> and <code>String?</code>.</p>\n<p>These are created in a similar way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val nulls = arrayOfNulls&lt;String&gt;(size) //equivalent in Java: new String[size]\nval strings = Array(size) { &quot;n = $it&quot; } \nval myStrings = arrayOf(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;)\n\nval boxedInts = arrayOfNulls&lt;Int&gt;(size) //equivalent in Java: new Integer[size]\nval boxedZeros = Array(size) { 0 }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1579552102,"creation_date":1579552102,"answer_id":59830431,"question_id":35253368,"body_markdown":"In Kotlin, creating an IntArray of size N is simple. Use `IntArray(n)` or the appropriate type, as detailed thoroughly in hotkey&#39;s answer.\r\n\r\nWhen utilizing your fixed size array, you can use [Kotlin Destructuring][1]\r\n\r\n    // Create fixed sized array\r\n    val point = IntArray(2)\r\n\r\n    // Access values directly\r\n    val (x, y) = point\r\n\r\nIn this case, `x` will be taken from index 0, `y` from index 1, etc.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/multi-declarations.html","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>In Kotlin, creating an IntArray of size N is simple. Use <code>IntArray(n)</code> or the appropriate type, as detailed thoroughly in hotkey's answer.</p>\n\n<p>When utilizing your fixed size array, you can use <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">Kotlin Destructuring</a></p>\n\n<pre><code>// Create fixed sized array\nval point = IntArray(2)\n\n// Access values directly\nval (x, y) = point\n</code></pre>\n\n<p>In this case, <code>x</code> will be taken from index 0, <code>y</code> from index 1, etc.</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1608484323,"creation_date":1608484323,"answer_id":65382586,"question_id":35253368,"body_markdown":"Here is simple example of init of Array of String\r\n\r\n            var names = Array&lt;String&gt;(&lt;AnotherArray.size&gt;) { i -&gt; &quot;&quot; }\r\n\r\nKotlin [doc][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>Here is simple example of init of Array of String</p>\n<pre><code>        var names = Array&lt;String&gt;(&lt;AnotherArray.size&gt;) { i -&gt; &quot;&quot; }\n</code></pre>\n<p>Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\" rel=\"noreferrer\">doc</a></p>\n"},{"tags":[],"owner":{"account_id":20520777,"reputation":1,"user_id":15060413,"display_name":"Vincent Karimi Gichimu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1611328037,"creation_date":1611328037,"answer_id":65847657,"question_id":35253368,"body_markdown":"val A = FloatArray(N) //N being the size of the ar","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>val A = FloatArray(N) //N being the size of the ar</p>\n"},{"tags":[],"owner":{"account_id":4601207,"reputation":1353,"user_id":3731900,"accept_rate":14,"display_name":"yousef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631431833,"creation_date":1631431833,"answer_id":69149359,"question_id":35253368,"body_markdown":"You can create it using     `IntArray`  like this declaration for variable\r\n             `val A = IntArray(N) `","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>You can create it using     <code>IntArray</code>  like this declaration for variable\n<code>val A = IntArray(N) </code></p>\n"},{"tags":[],"owner":{"account_id":15066827,"reputation":11,"user_id":10873674,"display_name":"Joshua - ZD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662863184,"creation_date":1662863184,"answer_id":73676410,"question_id":35253368,"body_markdown":"If you want to create an array of Primitive Types, you can simply use the constructors:\r\n\r\nExample: to create an array of integers with size N. \r\n\r\n```kotlin\r\nval arr = IntArray(size = N)\r\n```\r\n\r\nFor non-primitive types, you can use `arrayOfNulls&lt;Type&gt;()`.","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>If you want to create an array of Primitive Types, you can simply use the constructors:</p>\n<p>Example: to create an array of integers with size N.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val arr = IntArray(size = N)\n</code></pre>\n<p>For non-primitive types, you can use <code>arrayOfNulls&lt;Type&gt;()</code>.</p>\n"}],"owner":{"account_id":4388908,"reputation":1437,"user_id":3578039,"accept_rate":25,"display_name":"Kevin Mathew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109132,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"accepted_answer_id":35253626,"answer_count":6,"score":131,"last_activity_date":1662863184,"creation_date":1454847491,"question_id":35253368,"body_markdown":"How can I create a Array like we do in java?\r\n\r\n    int A[] = new int[N];\r\n\r\nHow can I do this in Kotlin?","title":"How can I create an array in Kotlin like in Java by just providing a size?","body":"<p>How can I create a Array like we do in java?</p>\n\n<pre><code>int A[] = new int[N];\n</code></pre>\n\n<p>How can I do this in Kotlin?</p>\n"},{"tags":["java","xml","xsd","stax","woodstox"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1662838793,"post_id":73664924,"comment_id":130100441,"body_markdown":"Usually with the Java APIs you can set some resource resolver e.g. https://docs.oracle.com/javase/8/docs/api/javax/xml/validation/SchemaFactory.html#setResourceResolver-org.w3c.dom.ls.LSResourceResolver-, in the one you have you need to make sure the resources are loaded the same way as your initial schema, i.e. by doing `getClass().getClassLoader()..getResourceAsStream(systemId)`.","body":"Usually with the Java APIs you can set some resource resolver e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/validation/SchemaFactory.html#setResourceResolver-org.w3c.dom.ls.LSResourceResolver-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/xml/validation/&hellip;</a>, in the one you have you need to make sure the resources are loaded the same way as your initial schema, i.e. by doing <code>getClass().getClassLoader()..getResourceAsStream(systemId)</code>."}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662861042,"creation_date":1662861042,"answer_id":73676304,"question_id":73664924,"body_markdown":"Woodstox does not have resolver for automatically reading schema from document content so you need to use the approach you have (but create `InputStream` in a way that works).\r\n\r\nThe only resources that are automatically resolved are external DTD subsets as specified by XML specification.\r\n\r\nThis is not to say that a handler could not be implemented and added to Woodstox (I am sure some users would find it useful), just that there isn&#39;t one currently.\r\n\r\n","title":"Create Woodstox&#39;s XMLValidationSchema from multiple resource files","body":"<p>Woodstox does not have resolver for automatically reading schema from document content so you need to use the approach you have (but create <code>InputStream</code> in a way that works).</p>\n<p>The only resources that are automatically resolved are external DTD subsets as specified by XML specification.</p>\n<p>This is not to say that a handler could not be implemented and added to Woodstox (I am sure some users would find it useful), just that there isn't one currently.</p>\n"}],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662861042,"creation_date":1662740150,"question_id":73664924,"body_markdown":"I have a main file.xsd that has an import with a schema location that points to file1.xsd like this:\r\n\r\n```\r\n&lt;xs:import namespace=&quot;urn:file1&quot; schemaLocation=&quot;file1.xsd&quot;/&gt;\r\n```\r\n\r\nI run this on a Docker container and it complains about not finding file1.xsd in container home folder:\r\n\r\n```\r\nInputStream resourceStream = this.getClass().getClassLoader()\r\n    .getResourceAsStream(&quot;file.xsd&quot;);\r\n\r\nXMLValidationSchemaFactory schemaFactory = XMLValidationSchemaFactory\r\n    .newInstance(XMLValidationSchema.SCHEMA_ID_W3C_SCHEMA);\r\n\r\nXMLValidationSchema validationSchema = schemaFactory.createSchema(resourceStream);\r\n```\r\n\r\nHow can I link these two xsd resources in same XMLValidationSchema which is the mandatory type I have to obtain? (modifying the docker-compose/explicitly copying the file1.xsd in container is not an option although it works that way)\r\n","title":"Create Woodstox&#39;s XMLValidationSchema from multiple resource files","body":"<p>I have a main file.xsd that has an import with a schema location that points to file1.xsd like this:</p>\n<pre><code>&lt;xs:import namespace=&quot;urn:file1&quot; schemaLocation=&quot;file1.xsd&quot;/&gt;\n</code></pre>\n<p>I run this on a Docker container and it complains about not finding file1.xsd in container home folder:</p>\n<pre><code>InputStream resourceStream = this.getClass().getClassLoader()\n    .getResourceAsStream(&quot;file.xsd&quot;);\n\nXMLValidationSchemaFactory schemaFactory = XMLValidationSchemaFactory\n    .newInstance(XMLValidationSchema.SCHEMA_ID_W3C_SCHEMA);\n\nXMLValidationSchema validationSchema = schemaFactory.createSchema(resourceStream);\n</code></pre>\n<p>How can I link these two xsd resources in same XMLValidationSchema which is the mandatory type I have to obtain? (modifying the docker-compose/explicitly copying the file1.xsd in container is not an option although it works that way)</p>\n"},{"tags":["java","json","spring-boot","rest","parsing"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1662732137,"post_id":73663082,"comment_id":130080879,"body_markdown":"How is your JSON looking alike?","body":"How is your JSON looking alike?"},{"owner":{"account_id":25203827,"reputation":11,"user_id":19042433,"display_name":"Zero Hero"},"score":0,"creation_date":1662733175,"post_id":73663082,"comment_id":130081293,"body_markdown":"if u speack about request -&gt; {\n    &quot;pageSize&quot;:5, \n    &quot;pageIndex&quot;:0,\n    &quot;filter&quot;: {\n    &quot;name&quot;: &quot;user_2\\&quot;\n    }\n}","body":"if u speack about request -&gt; {     &quot;pageSize&quot;:5,      &quot;pageIndex&quot;:0,     &quot;filter&quot;: {     &quot;name&quot;: &quot;user_2\\&quot;     } }"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662735681,"creation_date":1662735681,"answer_id":73664111,"question_id":73663082,"body_markdown":"In the\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\r\n\r\nsample JSON the `\\&quot;` part means that you escape the quote, which will cause troubles when the JSON is being parsed. You need to receive a String where the `\\` character is escaped, as\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\&quot; } }\r\n\r\nNow, it&#39;s quite possible that you have the JSON above somewhere, escaping the backslash, but this ends up with a single backslash on the receiving end. In that case you need to escape the escaped backslash (yeah, it sounds weird, but sometimes that&#39;s the case), as\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\\\\\&quot; } }\r\n\r\nIf you need further help, then you will also need to provide further information.","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>In the</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\n</code></pre>\n<p>sample JSON the <code>\\&quot;</code> part means that you escape the quote, which will cause troubles when the JSON is being parsed. You need to receive a String where the <code>\\</code> character is escaped, as</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\&quot; } }\n</code></pre>\n<p>Now, it's quite possible that you have the JSON above somewhere, escaping the backslash, but this ends up with a single backslash on the receiving end. In that case you need to escape the escaped backslash (yeah, it sounds weird, but sometimes that's the case), as</p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\\\\\\\&quot; } }\n</code></pre>\n<p>If you need further help, then you will also need to provide further information.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662738001,"creation_date":1662738001,"answer_id":73664539,"question_id":73663082,"body_markdown":"As Lajos&#39; [answer][1] explains, the problem is that `\\&quot;` is inadvertently escaping the double quote.  That causes it to not be treated as a string end.  The rest of the JSON is then parsed as part of the quoted string until the parser gets to the end.\r\n\r\nNow I surmise that the input text actually ends with a `CR` `LF` sequence.  When the parser encounters the `CR` it says \r\n\r\n    Illegal unquoted character ((CTRL-CHAR, code 13))\r\n\r\nbecause the ASCII code for `CR` is 13 decimal.  \r\n\r\nThe error message seems to imply that the CR *would* be legal if it was *quoted*.  In fact, no characters less than decimal 32 are permitted in JSON strings at all ... unless you express them as a JSON *escape sequence*.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73664111/139985","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>As Lajos' <a href=\"https://stackoverflow.com/a/73664111/139985\">answer</a> explains, the problem is that <code>\\&quot;</code> is inadvertently escaping the double quote.  That causes it to not be treated as a string end.  The rest of the JSON is then parsed as part of the quoted string until the parser gets to the end.</p>\n<p>Now I surmise that the input text actually ends with a <code>CR</code> <code>LF</code> sequence.  When the parser encounters the <code>CR</code> it says</p>\n<pre><code>Illegal unquoted character ((CTRL-CHAR, code 13))\n</code></pre>\n<p>because the ASCII code for <code>CR</code> is 13 decimal.</p>\n<p>The error message seems to imply that the CR <em>would</em> be legal if it was <em>quoted</em>.  In fact, no characters less than decimal 32 are permitted in JSON strings at all ... unless you express them as a JSON <em>escape sequence</em>.</p>\n"},{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662860390,"creation_date":1662860390,"answer_id":73676263,"question_id":73663082,"body_markdown":"The JSON string in your example is not a valid one:\r\n`&#39;{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }&#39;`\r\nYou must return `400 bad request` because of malformed request. The client is just not a proper REST client and instead of supporting bad requests fixing the client would be the real solution.\r\n\r\nPeople spent a lot of time on writing a proper JSON parser and if you add a custom one for malformed JSONs, it will be a potential security issue. For example you fix the above JSON string by replacing `\\` with `\\\\`, then I add a string something like `&quot;user_2\\&quot;...&quot;` which will be changed to `&quot;user_2\\\\&quot;...&quot;`, which is invalid again. If this is filled with user input, then the user might be able to inject another property in the `...` part of the message, which can be used to replace another property, which is not filled by the user. So it is a very bad idea to fix or write parsers without knowing what you are doing. Whoever gave you this job is completely incompetent from both programming and information security perspective.","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>The JSON string in your example is not a valid one:\n<code>'{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }'</code>\nYou must return <code>400 bad request</code> because of malformed request. The client is just not a proper REST client and instead of supporting bad requests fixing the client would be the real solution.</p>\n<p>People spent a lot of time on writing a proper JSON parser and if you add a custom one for malformed JSONs, it will be a potential security issue. For example you fix the above JSON string by replacing <code>\\</code> with <code>\\\\</code>, then I add a string something like <code>&quot;user_2\\&quot;...&quot;</code> which will be changed to <code>&quot;user_2\\\\&quot;...&quot;</code>, which is invalid again. If this is filled with user input, then the user might be able to inject another property in the <code>...</code> part of the message, which can be used to replace another property, which is not filled by the user. So it is a very bad idea to fix or write parsers without knowing what you are doing. Whoever gave you this job is completely incompetent from both programming and information security perspective.</p>\n"}],"owner":{"account_id":25203827,"reputation":11,"user_id":19042433,"display_name":"Zero Hero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8851,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73664539,"answer_count":3,"score":0,"last_activity_date":1662860390,"creation_date":1662730870,"question_id":73663082,"body_markdown":"Need help with parsing from json, i have a REST method that return pagination with sorting and filtering, but my job in name, that ends with \\\\ like david\\\\ not to throw any exceptions instead remove it \\\\ in code. Below my UserController class: \r\n\r\n&gt; ```\r\n&gt; @PutMapping\r\n&gt; public PageDTO&lt;UserDTO&gt; find(@RequestBody PageRequest&lt;UserFilter, UserSort&gt; request) {\r\n&gt;     return userService.find(request);\r\n&gt; }\r\n&gt; ```\r\n\r\nBelow PageRequest and UserFilter\r\n\r\n&gt; ```\r\n&gt; \r\n&gt; @Data\r\n&gt; @Builder\r\n&gt; @AllArgsConstructor\r\n&gt; @NoArgsConstructor\r\n&gt; public class PageRequestDTO&lt;UserFilter, UserSort&gt; {\r\n&gt; \r\n&gt;     private Integer size;\r\n&gt;     private Integer page;\r\n&gt;     private UserFilter filter;\r\n&gt;     private UserSort sort;\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Data\r\n&gt; @Builder\r\n&gt; @NoArgsConstructor\r\n&gt; @AllArgsConstructor\r\n&gt; public class UserFilterDTO {\r\n&gt;     \r\n&gt;     private String name;\r\n&gt; }\r\n&gt; ```\r\n\r\nAnd my exception\r\n\r\n&gt; ```\r\n&gt; 2022-sep.-09 15:55:44.786 WARN  [http-nio-8083-exec-3] c.e.s.c.a.CommonControllerAdvice - Handling undefined exception: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:389)\r\n&gt; \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133)\r\n&gt; \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n&gt; \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n&gt; \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n&gt; \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n&gt; \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n&gt; \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\r\n&gt; \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n&gt; \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n&gt; \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n&gt; \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n&gt; \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n&gt; \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n&gt; \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n&gt; \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n&gt; \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n&gt; \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n&gt; \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n&gt; \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageReques[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\r\n&gt; \r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:393)\r\n&gt; org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378)\r\n&gt; \t... 51 common frames omitted\r\n&gt; Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\r\n&gt;  at [Source: (PushbackInputStream); line: 6, column: 35]\r\n&gt; ```\r\n\r\ni tryied this property &quot;spring:jackson:parser:allow-unquoted-control-chars: true&quot; in my yml file, but instead of above exception i got this one\r\n\r\n```\r\n&quot;JSON parse error: Unexpected character (&#39;s&#39; (code 115)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character (&#39;s&#39; (code 115)): was expecting comma to separate Object entries\\n at [Source: (PushbackInputStream); line: 6, column: 50] (through reference chain: com.example.service.spring.dto.PageRequest[\\&quot;filter\\&quot;])&quot;\r\n```\r\n\r\n**JSON sample**\r\n\r\n    { &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }","title":"JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13))","body":"<p>Need help with parsing from json, i have a REST method that return pagination with sorting and filtering, but my job in name, that ends with \\ like david\\ not to throw any exceptions instead remove it \\ in code. Below my UserController class:</p>\n<blockquote>\n<pre><code>@PutMapping\npublic PageDTO&lt;UserDTO&gt; find(@RequestBody PageRequest&lt;UserFilter, UserSort&gt; request) {\n    return userService.find(request);\n}\n</code></pre>\n</blockquote>\n<p>Below PageRequest and UserFilter</p>\n<blockquote>\n<pre><code>\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class PageRequestDTO&lt;UserFilter, UserSort&gt; {\n\n    private Integer size;\n    private Integer page;\n    private UserFilter filter;\n    private UserSort sort;\n\n}\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserFilterDTO {\n    \n    private String name;\n}\n</code></pre>\n</blockquote>\n<p>And my exception</p>\n<blockquote>\n<pre><code>2022-sep.-09 15:55:44.786 WARN  [http-nio-8083-exec-3] c.e.s.c.a.CommonControllerAdvice - Handling undefined exception: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\norg.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageRequest[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\n  at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:389)\n  at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)\n  at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133)\n  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\n  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35] (through reference chain: com.example.spring.dto.PageReques[&quot;filter&quot;]-&gt;com.example.spring.dto.UserFilter[&quot;nameSearchText&quot;])\n\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:393)\norg.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378)\n  ... 51 common frames omitted\nCaused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value\n at [Source: (PushbackInputStream); line: 6, column: 35]\n</code></pre>\n</blockquote>\n<p>i tryied this property &quot;spring:jackson:parser:allow-unquoted-control-chars: true&quot; in my yml file, but instead of above exception i got this one</p>\n<pre><code>&quot;JSON parse error: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character ('s' (code 115)): was expecting comma to separate Object entries\\n at [Source: (PushbackInputStream); line: 6, column: 50] (through reference chain: com.example.service.spring.dto.PageRequest[\\&quot;filter\\&quot;])&quot;\n</code></pre>\n<p><strong>JSON sample</strong></p>\n<pre><code>{ &quot;pageSize&quot;:5, &quot;pageIndex&quot;:0, &quot;filter&quot;: { &quot;name&quot;: &quot;user_2\\&quot; } }\n</code></pre>\n"},{"tags":["java","android","mobile-development"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1662855884,"post_id":73676007,"comment_id":130102854,"body_markdown":"The question seems confused, if you download a JSON file, should it not contain the URI/path on your server of where the new APK is? Depending on how you need to update the APK, you can then start downloading OR prompt the user so that the download doesn&#39;t get interrupted.","body":"The question seems confused, if you download a JSON file, should it not contain the URI/path on your server of where the new APK is? Depending on how you need to update the APK, you can then start downloading OR prompt the user so that the download doesn&#39;t get interrupted."},{"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"score":0,"creation_date":1662856793,"post_id":73676007,"comment_id":130102963,"body_markdown":"@MorrisonChang Sorry for the confusion, currently the JSON only contains the latest version code of the APK (as in version 2 or version 2.5) for comparison with the APK installed on the device, my question was if I can send the APK, held on the server, within that same JSON so that if an update is required I can download it to the device and replace the old one. And if it is possible, how do I do it?","body":"@MorrisonChang Sorry for the confusion, currently the JSON only contains the latest version code of the APK (as in version 2 or version 2.5) for comparison with the APK installed on the device, my question was if I can send the APK, held on the server, within that same JSON so that if an update is required I can download it to the device and replace the old one. And if it is possible, how do I do it?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1662857896,"post_id":73676007,"comment_id":130103068,"body_markdown":"Passing in a large binary blob that could be dozens or hundreds of MB would be a bad idea.  It would be possible, but you&#39;re better off putting the URL of the file and downloading it separately.","body":"Passing in a large binary blob that could be dozens or hundreds of MB would be a bad idea.  It would be possible, but you&#39;re better off putting the URL of the file and downloading it separately."},{"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"score":0,"creation_date":1662907693,"post_id":73676007,"comment_id":130109930,"body_markdown":"@GabeSechan So, make an HTTP Request to the server for the APK? And then use something like DownloadManager to download it.","body":"@GabeSechan So, make an HTTP Request to the server for the APK? And then use something like DownloadManager to download it."}],"owner":{"account_id":22377264,"reputation":1,"user_id":16591356,"display_name":"Baeta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662855448,"creation_date":1662855448,"question_id":73676007,"body_markdown":"I&#39;m creating an App Updater for my android App and since the app can&#39;t go on the Play Store I need to get my APK from somewhere else. I&#39;m already getting a JSON through an HTTP Request from my server that contains the version of the latest app. Is there a way to send the APK within that JSON to be downloaded after? If so I would appreciate some insight into how that is done. If there is a bette way I&#39;m all ears too!","title":"What&#39;s the best way to get an APK for app update?","body":"<p>I'm creating an App Updater for my android App and since the app can't go on the Play Store I need to get my APK from somewhere else. I'm already getting a JSON through an HTTP Request from my server that contains the version of the latest app. Is there a way to send the APK within that JSON to be downloaded after? If so I would appreciate some insight into how that is done. If there is a bette way I'm all ears too!</p>\n"},{"tags":["java","c++","c","floating-point","math.h"],"comments":[{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":0,"creation_date":1255364097,"post_id":1552738,"comment_id":1413745,"body_markdown":"I thought the Apache Commons Math package might be a good place to find this, but I didn&#39;t see anything in there.  Perhaps you could put in a feature request for it?  Or, if you decide to code it up yourself, talk to them about including it in the library - seems like a useful addition to me.","body":"I thought the Apache Commons Math package might be a good place to find this, but I didn&#39;t see anything in there.  Perhaps you could put in a feature request for it?  Or, if you decide to code it up yourself, talk to them about including it in the library - seems like a useful addition to me."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1255378927,"post_id":1552738,"comment_id":1415189,"body_markdown":"@Carl, I agree that it would be useful.  I know myself and my workload very well, though, so I&#39;m not going to commit to trying to create it on my own.  I&#39;m certain that I could do 80% of the work 80% correctly with the time that I have to invest and that&#39;s very close to worse than useless....","body":"@Carl, I agree that it would be useful.  I know myself and my workload very well, though, so I&#39;m not going to commit to trying to create it on my own.  I&#39;m certain that I could do 80% of the work 80% correctly with the time that I have to invest and that&#39;s very close to worse than useless...."},{"owner":{"account_id":8776,"reputation":84265,"user_id":15955,"accept_rate":91,"display_name":"Nils Pipenbrinck"},"score":0,"creation_date":1255470713,"post_id":1552738,"comment_id":1422237,"body_markdown":"the real question is: Why does frexp doesn&#39;t break the float into two integers but wants at least a float.. For a float decomposition that does not make sense (think recursion.....)","body":"the real question is: Why does frexp doesn&#39;t break the float into two integers but wants at least a float.. For a float decomposition that does not make sense (think recursion.....)"},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1255484381,"post_id":1552738,"comment_id":1423048,"body_markdown":"@Nils, actually, there isn&#39;t any recursion.  The result value is defined to be between 0.5 and 1.0.  In that case, the exponent will always be zero.","body":"@Nils, actually, there isn&#39;t any recursion.  The result value is defined to be between 0.5 and 1.0.  In that case, the exponent will always be zero."}],"answers":[{"tags":[],"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255324748,"creation_date":1255324748,"answer_id":1552841,"question_id":1552738,"body_markdown":"I&#39;m not familiar with the frexp function, but I think you need to look at the [BigDecimal][1]&#39; scaled and unscaled values. &#39;unscaled&#39; is the precision mantissa, scale is the exponent. In psuedocode: value = unscaledValue 10^(-scale)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","title":"Is there a Java equivalent of frexp?","body":"<p>I'm not familiar with the frexp function, but I think you need to look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>' scaled and unscaled values. 'unscaled' is the precision mantissa, scale is the exponent. In psuedocode: value = unscaledValue 10^(-scale)</p>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1255325774,"creation_date":1255325774,"answer_id":1552882,"question_id":1552738,"body_markdown":"See Float.floatToIntBits and Double.doubleToLongBits. You still need a little additional logic to decode IEEE 754 floating points.","title":"Is there a Java equivalent of frexp?","body":"<p>See Float.floatToIntBits and Double.doubleToLongBits. You still need a little additional logic to decode IEEE 754 floating points.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1662854259,"creation_date":1255467557,"answer_id":1562857,"question_id":1552738,"body_markdown":"This does do what you want.\r\n\r\n    public class Test {\r\n      public class FRex {\r\n    \r\n        public FRexPHolder frexp (double value) {\r\n          FRexPHolder ret = new FRexPHolder();\r\n    \r\n          ret.exponent = 0;\r\n          ret.mantissa = 0;\r\n    \r\n          if (value == 0.0 || value == -0.0) {\r\n            return ret;\r\n          }\r\n        \r\n          if (Double.isNaN(value)) {\r\n            ret.mantissa = Double.NaN;\r\n            ret.exponent = -1;\r\n            return ret;\r\n          }\r\n    \r\n          if (Double.isInfinite(value)) {\r\n            ret.mantissa = value;\r\n            ret.exponent = -1;\r\n            return ret;\r\n          }\r\n    \r\n          ret.mantissa = value;\r\n          ret.exponent = 0;\r\n          int sign = 1;\r\n    \r\n          if (ret.mantissa &lt; 0f) {\r\n            sign = -1; // Thx Kevin\r\n            ret.mantissa = -(ret.mantissa);\r\n          }\r\n          while (ret.mantissa &lt; 0.5f) {\r\n            ret.mantissa *= 2.0f;\r\n            ret.exponent -= 1;\r\n          }\r\n          while (ret.mantissa &gt;= 1.0f) {\r\n            ret.mantissa *= 0.5f;\r\n            ret.exponent++;\r\n          }\r\n          ret.mantissa *= sign;\r\n          return ret;\r\n        }\r\n      }\r\n    \r\n      public class FRexPHolder {\r\n        int exponent;\r\n        double mantissa;\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        new Test();\r\n      }\r\n    \r\n      public Test() {\r\n        double value = 8.0;\r\n        //double value = 0.0;\r\n        //double value = -0.0;\r\n        //double value = Double.NaN;\r\n        //double value = Double.NEGATIVE_INFINITY;\r\n        //double value = Double.POSITIVE_INFINITY;\r\n    \r\n        FRex test = new FRex();\r\n        FRexPHolder frexp = test.frexp(value);\r\n        System.out.println(&quot;Mantissa: &quot; + frexp.mantissa);\r\n        System.out.println(&quot;Exponent: &quot; + frexp.exponent);\r\n        System.out.println(&quot;Original value was: &quot; + value);\r\n        System.out.println(frexp.mantissa+&quot; * 2^&quot; + frexp.exponent + &quot; = &quot;);\r\n        System.out.println(frexp.mantissa*(1&lt;&lt;frexp.exponent));\r\n      }\r\n    }","title":"Is there a Java equivalent of frexp?","body":"<p>This does do what you want.</p>\n<pre><code>public class Test {\n  public class FRex {\n\n    public FRexPHolder frexp (double value) {\n      FRexPHolder ret = new FRexPHolder();\n\n      ret.exponent = 0;\n      ret.mantissa = 0;\n\n      if (value == 0.0 || value == -0.0) {\n        return ret;\n      }\n    \n      if (Double.isNaN(value)) {\n        ret.mantissa = Double.NaN;\n        ret.exponent = -1;\n        return ret;\n      }\n\n      if (Double.isInfinite(value)) {\n        ret.mantissa = value;\n        ret.exponent = -1;\n        return ret;\n      }\n\n      ret.mantissa = value;\n      ret.exponent = 0;\n      int sign = 1;\n\n      if (ret.mantissa &lt; 0f) {\n        sign = -1; // Thx Kevin\n        ret.mantissa = -(ret.mantissa);\n      }\n      while (ret.mantissa &lt; 0.5f) {\n        ret.mantissa *= 2.0f;\n        ret.exponent -= 1;\n      }\n      while (ret.mantissa &gt;= 1.0f) {\n        ret.mantissa *= 0.5f;\n        ret.exponent++;\n      }\n      ret.mantissa *= sign;\n      return ret;\n    }\n  }\n\n  public class FRexPHolder {\n    int exponent;\n    double mantissa;\n  }\n\n  public static void main(String args[]) {\n    new Test();\n  }\n\n  public Test() {\n    double value = 8.0;\n    //double value = 0.0;\n    //double value = -0.0;\n    //double value = Double.NaN;\n    //double value = Double.NEGATIVE_INFINITY;\n    //double value = Double.POSITIVE_INFINITY;\n\n    FRex test = new FRex();\n    FRexPHolder frexp = test.frexp(value);\n    System.out.println(&quot;Mantissa: &quot; + frexp.mantissa);\n    System.out.println(&quot;Exponent: &quot; + frexp.exponent);\n    System.out.println(&quot;Original value was: &quot; + value);\n    System.out.println(frexp.mantissa+&quot; * 2^&quot; + frexp.exponent + &quot; = &quot;);\n    System.out.println(frexp.mantissa*(1&lt;&lt;frexp.exponent));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255468667,"creation_date":1255468667,"answer_id":1562946,"question_id":1552738,"body_markdown":"Nope there is no current implementation in core Java or in the Commons Lang(most likely other place to find it) that has the exact same functionality and ease of &lt;b&gt;frexp&lt;/b&gt;; that I know of. If it does exist it&#39;s probably in a not widely used toolkit.","title":"Is there a Java equivalent of frexp?","body":"<p>Nope there is no current implementation in core Java or in the Commons Lang(most likely other place to find it) that has the exact same functionality and ease of <b>frexp</b>; that I know of. If it does exist it's probably in a not widely used toolkit.</p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1255471776,"creation_date":1255469589,"answer_id":1563025,"question_id":1552738,"body_markdown":"If I&#39;m reading this right...\r\n\r\n    public class Frexp {\r\n      public static void main (String[] args)\r\n      {\r\n        double param, result;\r\n        int n;\r\n    \r\n        param = 8.0;\r\n        n = Math.getExponent(param);\r\n        //result = ??\r\n    \r\n        System.out.printf (&quot;%f * 2^%d = %f\\n&quot;, result, n, param);\r\n      }\r\n    }\r\n\r\nUnfortunately, there doesn&#39;t appear to be a built-in method to get the mantissa without converting it to a BigDecimal first (or just doing the division: `result = param / Math.pow(2,n)`.\r\n\r\nStrangely enough, `scalb` does the exact opposite: take a mantissa and exponent and generate a new float from it.\r\n\r\n","title":"Is there a Java equivalent of frexp?","body":"<p>If I'm reading this right...</p>\n\n<pre><code>public class Frexp {\n  public static void main (String[] args)\n  {\n    double param, result;\n    int n;\n\n    param = 8.0;\n    n = Math.getExponent(param);\n    //result = ??\n\n    System.out.printf (\"%f * 2^%d = %f\\n\", result, n, param);\n  }\n}\n</code></pre>\n\n<p>Unfortunately, there doesn't appear to be a built-in method to get the mantissa without converting it to a BigDecimal first (or just doing the division: <code>result = param / Math.pow(2,n)</code>.</p>\n\n<p>Strangely enough, <code>scalb</code> does the exact opposite: take a mantissa and exponent and generate a new float from it.</p>\n"},{"tags":[],"owner":{"account_id":3517,"reputation":31981,"user_id":5074,"accept_rate":78,"display_name":"Jay R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1287178218,"creation_date":1287178218,"answer_id":3946294,"question_id":1552738,"body_markdown":"How&#39;s this?\r\n\r\n    public static class FRexpResult\r\n    {\r\n       public int exponent = 0;\r\n       public double mantissa = 0.;\r\n    }\r\n           \r\n    public static FRexpResult frexp(double value)\r\n    {\r\n       final FRexpResult result = new FRexpResult();\r\n       long bits = Double.doubleToLongBits(value);\r\n       double realMant = 1.;\r\n      \r\n       // Test for NaN, infinity, and zero.\r\n       if (Double.isNaN(value) || \r\n           value + value == value || \r\n           Double.isInfinite(value))\r\n       {\r\n          result.exponent = 0;\r\n          result.mantissa = value;\r\n       }\r\n       else\r\n       {\r\n         \r\n          boolean neg = (bits &lt; 0);\r\n          int exponent = (int)((bits &gt;&gt; 52) &amp; 0x7ffL);\r\n          long mantissa = bits &amp; 0xfffffffffffffL;\r\n          \r\n          if(exponent == 0)\r\n          {\r\n             exponent++;\r\n          }\r\n          else\r\n          {\r\n             mantissa = mantissa | (1L&lt;&lt;52);\r\n          }\r\n          \r\n          // bias the exponent - actually biased by 1023.\r\n          // we are treating the mantissa as m.0 instead of 0.m\r\n          //  so subtract another 52.\r\n          exponent -= 1075;\r\n          realMant = mantissa;\r\n          \r\n          // normalize\r\n          while(realMant &gt; 1.0) \r\n          {\r\n             mantissa &gt;&gt;= 1;\r\n             realMant /= 2.;\r\n             exponent++;\r\n          }\r\n          \r\n          if(neg)\r\n          {\r\n             realMant = realMant * -1;\r\n          }\r\n          \r\n          result.exponent = exponent;\r\n          result.mantissa = realMant;\r\n       }\r\n       return result;\r\n    }\r\n\r\nThis is &quot;inspired&quot; or actually nearly copied identically from an [answer][1] to a similar C# question.  It works with the bits and then makes the mantissa a number between 1.0 and 0.0. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/389993/extracting-mantissa-and-exponent-from-double-in-c/390072#390072","title":"Is there a Java equivalent of frexp?","body":"<p>How's this?</p>\n\n<pre><code>public static class FRexpResult\n{\n   public int exponent = 0;\n   public double mantissa = 0.;\n}\n\npublic static FRexpResult frexp(double value)\n{\n   final FRexpResult result = new FRexpResult();\n   long bits = Double.doubleToLongBits(value);\n   double realMant = 1.;\n\n   // Test for NaN, infinity, and zero.\n   if (Double.isNaN(value) || \n       value + value == value || \n       Double.isInfinite(value))\n   {\n      result.exponent = 0;\n      result.mantissa = value;\n   }\n   else\n   {\n\n      boolean neg = (bits &lt; 0);\n      int exponent = (int)((bits &gt;&gt; 52) &amp; 0x7ffL);\n      long mantissa = bits &amp; 0xfffffffffffffL;\n\n      if(exponent == 0)\n      {\n         exponent++;\n      }\n      else\n      {\n         mantissa = mantissa | (1L&lt;&lt;52);\n      }\n\n      // bias the exponent - actually biased by 1023.\n      // we are treating the mantissa as m.0 instead of 0.m\n      //  so subtract another 52.\n      exponent -= 1075;\n      realMant = mantissa;\n\n      // normalize\n      while(realMant &gt; 1.0) \n      {\n         mantissa &gt;&gt;= 1;\n         realMant /= 2.;\n         exponent++;\n      }\n\n      if(neg)\n      {\n         realMant = realMant * -1;\n      }\n\n      result.exponent = exponent;\n      result.mantissa = realMant;\n   }\n   return result;\n}\n</code></pre>\n\n<p>This is \"inspired\" or actually nearly copied identically from an <a href=\"https://stackoverflow.com/questions/389993/extracting-mantissa-and-exponent-from-double-in-c/390072#390072\">answer</a> to a similar C# question.  It works with the bits and then makes the mantissa a number between 1.0 and 0.0. </p>\n"}],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2752,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3946294,"answer_count":6,"score":6,"last_activity_date":1662854259,"creation_date":1255322674,"question_id":1552738,"body_markdown":"Is there a Java equivalent of the C / C++ function called [frexp][1]?  If you aren&#39;t familiar, frexp is [defined by Wikipedia][2] to &quot;break floating-point number down into mantissa and exponent.&quot;\r\n\r\nI am looking for an implementation with both speed and accuracy but I would rather have the accuracy if I could only choose one.\r\n\r\nThis is the code sample from the first reference.  It should make the frexp contract a little more clear:\r\n\r\n    /* frexp example */\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n    \r\n    int main ()\r\n    {\r\n      double param, result;\r\n      int n;\r\n    \r\n      param = 8.0;\r\n      result = frexp (param , &amp;n);\r\n      printf (&quot;%lf * 2^%d = %f\\n&quot;, result, n, param);\r\n      return 0;\r\n    }\r\n    \r\n    /* Will produce: 0.500000 * 2^4 = 8.000000 */\r\n\r\n\r\n  [1]: http://www.cplusplus.com/reference/clibrary/cmath/frexp/\r\n  [2]: http://en.wikipedia.org/wiki/Math.h#Pre-C99_functions","title":"Is there a Java equivalent of frexp?","body":"<p>Is there a Java equivalent of the C / C++ function called <a href=\"http://www.cplusplus.com/reference/clibrary/cmath/frexp/\" rel=\"noreferrer\">frexp</a>?  If you aren't familiar, frexp is <a href=\"http://en.wikipedia.org/wiki/Math.h#Pre-C99_functions\" rel=\"noreferrer\">defined by Wikipedia</a> to \"break floating-point number down into mantissa and exponent.\"</p>\n\n<p>I am looking for an implementation with both speed and accuracy but I would rather have the accuracy if I could only choose one.</p>\n\n<p>This is the code sample from the first reference.  It should make the frexp contract a little more clear:</p>\n\n<pre><code>/* frexp example */\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n\nint main ()\n{\n  double param, result;\n  int n;\n\n  param = 8.0;\n  result = frexp (param , &amp;n);\n  printf (\"%lf * 2^%d = %f\\n\", result, n, param);\n  return 0;\n}\n\n/* Will produce: 0.500000 * 2^4 = 8.000000 */\n</code></pre>\n"},{"tags":["java","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1662853638,"creation_date":1245261504,"answer_id":1008631,"question_id":1007861,"body_markdown":"[**DISCLAIMER**: Note that this solution always was hackish. And in most cases won&#39;t work anymore nowadays. Check [Benjamins answer](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/55392604#55392604) for more info]\r\n\r\n---\r\n\r\nThere is a way to determine all currently loaded native libraries if you meant that. Already unloaded libraries can&#39;t be determined.\r\n\r\nBased on the work of Svetlin Nakov ([Extract classes loaded in JVM to single JAR][1]) I did a POC which gives you the names of the loaded native libraries from the application classloader and the classloader of the current class.\r\n\r\nFirst the simplified version with no bu....it exception handling, nice error messages, javadoc, ....\r\n\r\nGet the private field in which the class loader stores the already loaded libraries via reflection\r\n\r\n    public class ClassScope {\r\n        private static final java.lang.reflect.Field LIBRARIES;\r\n        static {\r\n            LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n            LIBRARIES.setAccessible(true);\r\n        }\r\n        public static String[] getLoadedLibraries(final ClassLoader loader) {\r\n            final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\r\n            return libraries.toArray(new String[] {});\r\n        }\r\n    }\r\n\r\nCall the above like this\r\n\r\n    final String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); //MyClassName.class.getClassLoader()\r\n    \r\nAnd voil&#225; *`libraries`* holds the names of the loaded native libraries.\r\n\r\nGet the full source code [here][2] and [here][3]\r\n\r\n\r\n  [1]: http://www.nakov.com/blog/2008/08/27/extract-all-classes-loaded-in-the-jvm-into-a-single-jar/\r\n  [2]: http://pastebin.com/aDgGqjEr\r\n  [3]: http://pastebin.com/eVXFdgr9","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>[<strong>DISCLAIMER</strong>: Note that this solution always was hackish. And in most cases won't work anymore nowadays. Check <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/55392604#55392604\">Benjamins answer</a> for more info]</p>\n<hr />\n<p>There is a way to determine all currently loaded native libraries if you meant that. Already unloaded libraries can't be determined.</p>\n<p>Based on the work of Svetlin Nakov (<a href=\"http://www.nakov.com/blog/2008/08/27/extract-all-classes-loaded-in-the-jvm-into-a-single-jar/\" rel=\"nofollow noreferrer\">Extract classes loaded in JVM to single JAR</a>) I did a POC which gives you the names of the loaded native libraries from the application classloader and the classloader of the current class.</p>\n<p>First the simplified version with no bu....it exception handling, nice error messages, javadoc, ....</p>\n<p>Get the private field in which the class loader stores the already loaded libraries via reflection</p>\n<pre><code>public class ClassScope {\n    private static final java.lang.reflect.Field LIBRARIES;\n    static {\n        LIBRARIES = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n        LIBRARIES.setAccessible(true);\n    }\n    public static String[] getLoadedLibraries(final ClassLoader loader) {\n        final Vector&lt;String&gt; libraries = (Vector&lt;String&gt;) LIBRARIES.get(loader);\n        return libraries.toArray(new String[] {});\n    }\n}\n</code></pre>\n<p>Call the above like this</p>\n<pre><code>final String[] libraries = ClassScope.getLoadedClasses(ClassLoader.getSystemClassLoader()); //MyClassName.class.getClassLoader()\n</code></pre>\n<p>And voilá <em><code>libraries</code></em> holds the names of the loaded native libraries.</p>\n<p>Get the full source code <a href=\"http://pastebin.com/aDgGqjEr\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://pastebin.com/eVXFdgr9\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1652212855,"creation_date":1320337528,"answer_id":7998393,"question_id":1007861,"body_markdown":"I&#39;ve built on top of [jitter&#39;s solution](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631). This allows you to find out who (ClassLoader, Class) loaded each native library.\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Vector;\r\n    \r\n    /**\r\n     * Helper functions for native libraries.\r\n     * &lt;p/&gt;\r\n     * @author Gili Tzabari\r\n     */\r\n    public class NativeLibraries\r\n    {\r\n    \tprivate final Field loadedLibraryNames;\r\n    \tprivate final Field systemNativeLibraries;\r\n    \tprivate final Field nativeLibraries;\r\n    \tprivate final Field nativeLibraryFromClass;\r\n    \tprivate final Field nativeLibraryName;\r\n    \r\n    \t/**\r\n    \t * Creates a new NativeLibraries.\r\n    \t * &lt;p/&gt;\r\n    \t * @throws NoSuchFieldException if one of ClassLoader&#39;s fields cannot be found\r\n    \t */\r\n    \tpublic NativeLibraries() throws NoSuchFieldException\r\n    \t{\r\n    \t\tthis.loadedLibraryNames = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n    \t\tloadedLibraryNames.setAccessible(true);\r\n    \r\n    \t\tthis.systemNativeLibraries = ClassLoader.class.getDeclaredField(&quot;systemNativeLibraries&quot;);\r\n    \t\tsystemNativeLibraries.setAccessible(true);\r\n    \r\n    \t\tthis.nativeLibraries = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\r\n    \t\tnativeLibraries.setAccessible(true);\r\n    \r\n    \t\tClass&lt;?&gt; nativeLibrary = null;\r\n    \t\tfor (Class&lt;?&gt; nested : ClassLoader.class.getDeclaredClasses())\r\n    \t\t{\r\n    \t\t\tif (nested.getSimpleName().equals(&quot;NativeLibrary&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tnativeLibrary = nested;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthis.nativeLibraryFromClass = nativeLibrary.getDeclaredField(&quot;fromClass&quot;);\r\n    \t\tnativeLibraryFromClass.setAccessible(true);\r\n    \r\n    \t\tthis.nativeLibraryName = nativeLibrary.getDeclaredField(&quot;name&quot;);\r\n    \t\tnativeLibraryName.setAccessible(true);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the names of native libraries loaded across all class loaders.\r\n    \t * &lt;p/&gt;\r\n    \t * @return a list of native libraries loaded\r\n    \t */\r\n    \tpublic List&lt;String&gt; getLoadedLibraries()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;String&gt; result = (Vector&lt;String&gt;) loadedLibraryNames.get(null);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the native libraries loaded by the system class loader.\r\n    \t * &lt;p/&gt;\r\n    \t * @return a Map from the names of native libraries to the classes that loaded them\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getSystemNativeLibraries()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) systemNativeLibraries.get(null);\r\n    \t\t\tfor (Object nativeLibrary : libraries)\r\n    \t\t\t{\r\n    \t\t\t\tString libraryName = (String) nativeLibraryName.get(nativeLibrary);\r\n    \t\t\t\tClass&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\r\n    \t\t\t\tresult.put(libraryName, fromClass);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a Map from the names of native libraries to the classes that loaded them.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the ClassLoader that loaded the libraries\r\n    \t * @return an empty Map if no native libraries were loaded\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getNativeLibraries(final ClassLoader loader)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\t\t@SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\r\n    \t\t\tfinal Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) nativeLibraries.get(loader);\r\n    \t\t\tfor (Object nativeLibrary : libraries)\r\n    \t\t\t{\r\n    \t\t\t\tString libraryName = (String) nativeLibraryName.get(nativeLibrary);\r\n    \t\t\t\tClass&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\r\n    \t\t\t\tresult.put(libraryName, fromClass);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n    \t\t{\r\n    \t\t\tthrow new AssertionError(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The same as {@link #getNativeLibraries()} except that all ancestor classloaders are processed\r\n    \t * as well.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the ClassLoader that loaded (or whose ancestors loaded) the libraries\r\n    \t * @return an empty Map if no native libraries were loaded\r\n    \t */\r\n    \tpublic Map&lt;String, Class&lt;?&gt;&gt; getTransitiveNativeLibraries(final ClassLoader loader)\r\n    \t{\r\n    \t\tMap&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\r\n    \t\tClassLoader parent = loader.getParent();\r\n    \t\twhile (parent != null)\r\n    \t\t{\r\n    \t\t\tresult.putAll(getTransitiveNativeLibraries(parent));\r\n    \t\t\tparent = parent.getParent();\r\n    \t\t}\r\n    \t\tresult.putAll(getNativeLibraries(loader));\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Converts a map of library names to the classes that loaded them to a map of library names to\r\n    \t * the classloaders that loaded them.\r\n    \t * &lt;p/&gt;\r\n    \t * @param libraryToClass a map of library names to the classes that loaded them\r\n    \t * @return a map of library names to the classloaders that loaded them\r\n    \t */\r\n    \tpublic Map&lt;String, ClassLoader&gt; getLibraryClassLoaders(Map&lt;String, Class&lt;?&gt;&gt; libraryToClass)\r\n    \t{\r\n    \t\tMap&lt;String, ClassLoader&gt; result = new HashMap&lt;&gt;();\r\n    \t\tfor (Entry&lt;String, Class&lt;?&gt;&gt; entry : libraryToClass.entrySet())\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().getClassLoader());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a list containing the classloader and its ancestors.\r\n    \t * &lt;p/&gt;\r\n    \t * @param loader the classloader\r\n    \t * @return a list containing the classloader, its parent, and so on\r\n    \t */\r\n    \tpublic static List&lt;ClassLoader&gt; getTransitiveClassLoaders(ClassLoader loader)\r\n    \t{\r\n    \t\tList&lt;ClassLoader&gt; result = new ArrayList&lt;&gt;();\r\n    \t\tClassLoader parent = loader.getParent();\r\n    \t\tresult.add(loader);\r\n    \t\twhile (parent != null)\r\n    \t\t{\r\n    \t\t\tresult.add(parent);\r\n    \t\t\tparent = parent.getParent();\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>I've built on top of <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631\">jitter's solution</a>. This allows you to find out who (ClassLoader, Class) loaded each native library.</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Vector;\n\n/**\n * Helper functions for native libraries.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\npublic class NativeLibraries\n{\n    private final Field loadedLibraryNames;\n    private final Field systemNativeLibraries;\n    private final Field nativeLibraries;\n    private final Field nativeLibraryFromClass;\n    private final Field nativeLibraryName;\n\n    /**\n     * Creates a new NativeLibraries.\n     * &lt;p/&gt;\n     * @throws NoSuchFieldException if one of ClassLoader's fields cannot be found\n     */\n    public NativeLibraries() throws NoSuchFieldException\n    {\n        this.loadedLibraryNames = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n        loadedLibraryNames.setAccessible(true);\n\n        this.systemNativeLibraries = ClassLoader.class.getDeclaredField(&quot;systemNativeLibraries&quot;);\n        systemNativeLibraries.setAccessible(true);\n\n        this.nativeLibraries = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\n        nativeLibraries.setAccessible(true);\n\n        Class&lt;?&gt; nativeLibrary = null;\n        for (Class&lt;?&gt; nested : ClassLoader.class.getDeclaredClasses())\n        {\n            if (nested.getSimpleName().equals(&quot;NativeLibrary&quot;))\n            {\n                nativeLibrary = nested;\n                break;\n            }\n        }\n        this.nativeLibraryFromClass = nativeLibrary.getDeclaredField(&quot;fromClass&quot;);\n        nativeLibraryFromClass.setAccessible(true);\n\n        this.nativeLibraryName = nativeLibrary.getDeclaredField(&quot;name&quot;);\n        nativeLibraryName.setAccessible(true);\n    }\n\n    /**\n     * Returns the names of native libraries loaded across all class loaders.\n     * &lt;p/&gt;\n     * @return a list of native libraries loaded\n     */\n    public List&lt;String&gt; getLoadedLibraries()\n    {\n        try\n        {\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;String&gt; result = (Vector&lt;String&gt;) loadedLibraryNames.get(null);\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * Returns the native libraries loaded by the system class loader.\n     * &lt;p/&gt;\n     * @return a Map from the names of native libraries to the classes that loaded them\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getSystemNativeLibraries()\n    {\n        try\n        {\n            Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) systemNativeLibraries.get(null);\n            for (Object nativeLibrary : libraries)\n            {\n                String libraryName = (String) nativeLibraryName.get(nativeLibrary);\n                Class&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\n                result.put(libraryName, fromClass);\n            }\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * Returns a Map from the names of native libraries to the classes that loaded them.\n     * &lt;p/&gt;\n     * @param loader the ClassLoader that loaded the libraries\n     * @return an empty Map if no native libraries were loaded\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getNativeLibraries(final ClassLoader loader)\n    {\n        try\n        {\n            Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n            @SuppressWarnings(&quot;UseOfObsoleteCollectionType&quot;)\n            final Vector&lt;Object&gt; libraries = (Vector&lt;Object&gt;) nativeLibraries.get(loader);\n            for (Object nativeLibrary : libraries)\n            {\n                String libraryName = (String) nativeLibraryName.get(nativeLibrary);\n                Class&lt;?&gt; fromClass = (Class&lt;?&gt;) nativeLibraryFromClass.get(nativeLibrary);\n                result.put(libraryName, fromClass);\n            }\n            return result;\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * The same as {@link #getNativeLibraries()} except that all ancestor classloaders are processed\n     * as well.\n     * &lt;p/&gt;\n     * @param loader the ClassLoader that loaded (or whose ancestors loaded) the libraries\n     * @return an empty Map if no native libraries were loaded\n     */\n    public Map&lt;String, Class&lt;?&gt;&gt; getTransitiveNativeLibraries(final ClassLoader loader)\n    {\n        Map&lt;String, Class&lt;?&gt;&gt; result = new HashMap&lt;&gt;();\n        ClassLoader parent = loader.getParent();\n        while (parent != null)\n        {\n            result.putAll(getTransitiveNativeLibraries(parent));\n            parent = parent.getParent();\n        }\n        result.putAll(getNativeLibraries(loader));\n        return result;\n    }\n\n    /**\n     * Converts a map of library names to the classes that loaded them to a map of library names to\n     * the classloaders that loaded them.\n     * &lt;p/&gt;\n     * @param libraryToClass a map of library names to the classes that loaded them\n     * @return a map of library names to the classloaders that loaded them\n     */\n    public Map&lt;String, ClassLoader&gt; getLibraryClassLoaders(Map&lt;String, Class&lt;?&gt;&gt; libraryToClass)\n    {\n        Map&lt;String, ClassLoader&gt; result = new HashMap&lt;&gt;();\n        for (Entry&lt;String, Class&lt;?&gt;&gt; entry : libraryToClass.entrySet())\n            result.put(entry.getKey(), entry.getValue().getClassLoader());\n        return result;\n    }\n\n    /**\n     * Returns a list containing the classloader and its ancestors.\n     * &lt;p/&gt;\n     * @param loader the classloader\n     * @return a list containing the classloader, its parent, and so on\n     */\n    public static List&lt;ClassLoader&gt; getTransitiveClassLoaders(ClassLoader loader)\n    {\n        List&lt;ClassLoader&gt; result = new ArrayList&lt;&gt;();\n        ClassLoader parent = loader.getParent();\n        result.add(loader);\n        while (parent != null)\n        {\n            result.add(parent);\n            parent = parent.getParent();\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226741,"reputation":14882,"user_id":487946,"accept_rate":100,"display_name":"Nicolas Payette"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383784642,"creation_date":1358811244,"answer_id":14449120,"question_id":1007861,"body_markdown":"FWIW, here&#39;s [jitter&#39;s solution](https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631) again, this time as a small Scala method:\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    def loadedLibs: Seq[String] = {\r\n      val libs = classOf[ClassLoader].getDeclaredField(&quot;loadedLibraryNames&quot;)\r\n      libs.setAccessible(true)\r\n      import scala.collection.JavaConverters._\r\n      libs.get(ClassLoader.getSystemClassLoader())\r\n        .asInstanceOf[java.util.Vector[String]]\r\n        .asScala\r\n    }\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>FWIW, here's <a href=\"https://stackoverflow.com/questions/1007861/how-do-i-get-a-list-of-jni-libraries-which-are-loaded/1008631#1008631\">jitter's solution</a> again, this time as a small Scala method:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def loadedLibs: Seq[String] = {\n  val libs = classOf[ClassLoader].getDeclaredField(\"loadedLibraryNames\")\n  libs.setAccessible(true)\n  import scala.collection.JavaConverters._\n  libs.get(ClassLoader.getSystemClassLoader())\n    .asInstanceOf[java.util.Vector[String]]\n    .asScala\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59731,"reputation":7986,"user_id":178651,"accept_rate":80,"display_name":"Gary S. Weaver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359565629,"creation_date":1359562133,"answer_id":14608470,"question_id":1007861,"body_markdown":"Since Nicolas mentioned Scala, here is one way to do jitter&#39;s solution via JRuby (tested in 1.6 and 1.7):\r\n\r\n    require &#39;java&#39;\r\n    import &#39;java.lang.ClassLoader&#39;\r\n    f = ClassLoader.java_class.declared_field(&#39;loadedLibraryNames&#39;)\r\n    f.accessible = true\r\n    f.value(ClassLoader.system_class_loader).to_array.to_a\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>Since Nicolas mentioned Scala, here is one way to do jitter's solution via JRuby (tested in 1.6 and 1.7):</p>\n\n<pre><code>require 'java'\nimport 'java.lang.ClassLoader'\nf = ClassLoader.java_class.declared_field('loadedLibraryNames')\nf.accessible = true\nf.value(ClassLoader.system_class_loader).to_array.to_a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52696,"reputation":1091,"user_id":157477,"display_name":"Gary Verhaegen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399809704,"creation_date":1399809704,"answer_id":23592348,"question_id":1007861,"body_markdown":"In Clojure, copy/pastable at the REPL:\r\n\r\n    (-&gt; (doto (.getDeclaredField ClassLoader &quot;loadedLibraryNames&quot;)\r\n          (.setAccessible true))\r\n        (.get (ClassLoader/getSystemClassLoader)))","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>In Clojure, copy/pastable at the REPL:</p>\n\n<pre><code>(-&gt; (doto (.getDeclaredField ClassLoader \"loadedLibraryNames\")\n      (.setAccessible true))\n    (.get (ClassLoader/getSystemClassLoader)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4544947,"reputation":11,"user_id":3691831,"display_name":"sheiden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481831944,"creation_date":1481831944,"answer_id":41172393,"question_id":1007861,"body_markdown":"In Groovy (tested in 2.3.3):\r\n\r\n    libs = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;)\r\n    libs.setAccessible(true)\r\n    libraries = libs.get(ClassLoader.getSystemClassLoader())","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>In Groovy (tested in 2.3.3):</p>\n\n<pre><code>libs = ClassLoader.class.getDeclaredField(\"loadedLibraryNames\")\nlibs.setAccessible(true)\nlibraries = libs.get(ClassLoader.getSystemClassLoader())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553759879,"creation_date":1553759879,"answer_id":55392604,"question_id":1007861,"body_markdown":"as of Janurary 2019, the correct answer (from jdk9+ ondwards) is: There is no way anymore to get the List of loaded libraries. \r\n\r\nAlthough the mentioned field (`loadedLibraryNames`) still exists in `hotspot`-type VMs, it does not exist in others (like `openj9`). Also, if you try this on jdk9 onwards, you will get a warning on your terminal, that this access will be revoked in Java 12 onwards:\r\n\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\r\n    WARNING: Please consider reporting this to the maintainers of &lt;file&gt;\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nThat said,\r\n* this method only works on a very specific JVM. do not rely on this, as someone may use another mature VM like `openj9`, `azul`, `corretto`, etc.\r\n* It won&#39;t work since Java 9 officially, but will crash your JVM (or yield unexpected output) starting from Java 12.\r\n","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>as of Janurary 2019, the correct answer (from jdk9+ ondwards) is: There is no way anymore to get the List of loaded libraries. </p>\n\n<p>Although the mentioned field (<code>loadedLibraryNames</code>) still exists in <code>hotspot</code>-type VMs, it does not exist in others (like <code>openj9</code>). Also, if you try this on jdk9 onwards, you will get a warning on your terminal, that this access will be revoked in Java 12 onwards:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by &lt;class&gt; (file:&lt;file&gt;) to method|constructor\nWARNING: Please consider reporting this to the maintainers of &lt;file&gt;\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<p>That said,\n* this method only works on a very specific JVM. do not rely on this, as someone may use another mature VM like <code>openj9</code>, <code>azul</code>, <code>corretto</code>, etc.\n* It won't work since Java 9 officially, but will crash your JVM (or yield unexpected output) starting from Java 12.</p>\n"}],"owner":{"account_id":28408,"reputation":5406,"user_id":75857,"accept_rate":78,"display_name":"benhsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34520,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":7,"score":24,"last_activity_date":1662853638,"creation_date":1245253146,"question_id":1007861,"body_markdown":"Just what the subject says, is there a way in Java to get a list of all the JNI native libraries which have been loaded at any given time?","title":"How do I get a list of JNI libraries which are loaded?","body":"<p>Just what the subject says, is there a way in Java to get a list of all the JNI native libraries which have been loaded at any given time?</p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1662853133,"creation_date":1258740824,"answer_id":1772328,"question_id":1772321,"body_markdown":"For a ANSI XML file it should actually be removed. If you want to use UTF-8 you don&#39;t really need it. Only for UTF-16 and UTF-32 it is needed.\r\n\r\n\r\n&gt; The Byte-Order-Mark (or BOM), is a\r\n&gt; special marker added at the very\r\n&gt; beginning of an Unicode file encoded\r\n&gt; in UTF-8, UTF-16 or UTF-32. It is used\r\n&gt; to indicate whether the file uses the\r\n&gt; big-endian or little-endian byte\r\n&gt; order. The BOM is mandatory for UTF-16\r\n&gt; and UTF-32, but it is optional for\r\n&gt; UTF-8.\r\n\r\n*(Source: https://www.opentag.com/xfaq_enc.htm#enc_bom)*\r\n\r\nRegarding the question on how detect this in java.\r\n\r\nCheck the following answer to this question: Java : [How to determine the correct charset encoding of a stream][1] and if you now want to determine the BOM yourself (at your own risk) check for example this code  [Java Tip: How to read a file and automatically specify the correct encoding][2].\r\n\r\nBasically just read in the first few bytes yourself and then determine if you **may** have found a BOM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream/499033#499033\r\n  [2]: https://ericbt.com/Blog/60","title":"What is XML BOM and how do I detect it?","body":"<p>For a ANSI XML file it should actually be removed. If you want to use UTF-8 you don't really need it. Only for UTF-16 and UTF-32 it is needed.</p>\n<blockquote>\n<p>The Byte-Order-Mark (or BOM), is a\nspecial marker added at the very\nbeginning of an Unicode file encoded\nin UTF-8, UTF-16 or UTF-32. It is used\nto indicate whether the file uses the\nbig-endian or little-endian byte\norder. The BOM is mandatory for UTF-16\nand UTF-32, but it is optional for\nUTF-8.</p>\n</blockquote>\n<p><em>(Source: <a href=\"https://www.opentag.com/xfaq_enc.htm#enc_bom\" rel=\"nofollow noreferrer\">https://www.opentag.com/xfaq_enc.htm#enc_bom</a>)</em></p>\n<p>Regarding the question on how detect this in java.</p>\n<p>Check the following answer to this question: Java : <a href=\"https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream/499033#499033\">How to determine the correct charset encoding of a stream</a> and if you now want to determine the BOM yourself (at your own risk) check for example this code  <a href=\"https://ericbt.com/Blog/60\" rel=\"nofollow noreferrer\">Java Tip: How to read a file and automatically specify the correct encoding</a>.</p>\n<p>Basically just read in the first few bytes yourself and then determine if you <strong>may</strong> have found a BOM.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1258751411,"creation_date":1258751411,"answer_id":1773255,"question_id":1772321,"body_markdown":"The byte order mark is likely to be one of these byte sequences:\r\n\r\n         UTF-8 BOM: ef bb bf \r\n      UTF-16BE BOM: fe ff \r\n      UTF-16LE BOM: ff fe \r\n      UTF-32BE BOM: 00 00 fe ff \r\n      UTF-32LE BOM: ff fe 00 00 \r\n\r\nThese are the variously encoded forms of the Unicode codepoint U+FEFF. This can be expressed as a Java char literal using `&#39;\\uFEFF&#39;` (Java char values are _implicitly_ UTF-16). Since U+FEFF isn&#39;t in most encodings, it is not possible for this BOM codepoint to be encoded by them. ([More on encoding the BOM using Java here][1].)\r\n\r\nWhen it comes to BOMs and XML, they are optional (see also the [Unicode BOM FAQ][2]). Detection of encoding in XML is relatively straightforward if the encoding is specified in the declaration. Always make sure that the XML declaration (`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;`) matches the encoding used to write the document. If you are strict about this, parsers should be able to interpret your documents correctly.  ([XML spec on encoding detection.][3])\r\n\r\nI advocate encoding as Unicode wherever possible (see also the [10 Commandments of Unicode][4]). That said, XML allows the representation of any Unicode character via escape entities (e.g. &#39;A&#39; could be represented by `&amp;#x0041;`), so it isn&#39;t necessarily a requirement to avoid data loss.\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html#javaencoding_boms\r\n  [2]: http://unicode.org/faq/utf_bom.html#BOM\r\n  [3]: http://www.w3.org/TR/REC-xml/#sec-guessing\r\n  [4]: http://cafe.elharo.com/programming/the-ten-commandments-of-unicode/","title":"What is XML BOM and how do I detect it?","body":"<p>The byte order mark is likely to be one of these byte sequences:</p>\n\n<pre><code>     UTF-8 BOM: ef bb bf \n  UTF-16BE BOM: fe ff \n  UTF-16LE BOM: ff fe \n  UTF-32BE BOM: 00 00 fe ff \n  UTF-32LE BOM: ff fe 00 00 \n</code></pre>\n\n<p>These are the variously encoded forms of the Unicode codepoint U+FEFF. This can be expressed as a Java char literal using <code>'\\uFEFF'</code> (Java char values are <em>implicitly</em> UTF-16). Since U+FEFF isn't in most encodings, it is not possible for this BOM codepoint to be encoded by them. (<a href=\"http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html#javaencoding_boms\" rel=\"noreferrer\">More on encoding the BOM using Java here</a>.)</p>\n\n<p>When it comes to BOMs and XML, they are optional (see also the <a href=\"http://unicode.org/faq/utf_bom.html#BOM\" rel=\"noreferrer\">Unicode BOM FAQ</a>). Detection of encoding in XML is relatively straightforward if the encoding is specified in the declaration. Always make sure that the XML declaration (<code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code>) matches the encoding used to write the document. If you are strict about this, parsers should be able to interpret your documents correctly.  (<a href=\"http://www.w3.org/TR/REC-xml/#sec-guessing\" rel=\"noreferrer\">XML spec on encoding detection.</a>)</p>\n\n<p>I advocate encoding as Unicode wherever possible (see also the <a href=\"http://cafe.elharo.com/programming/the-ten-commandments-of-unicode/\" rel=\"noreferrer\">10 Commandments of Unicode</a>). That said, XML allows the representation of any Unicode character via escape entities (e.g. 'A' could be represented by <code>&amp;#x0041;</code>), so it isn't necessarily a requirement to avoid data loss.</p>\n"},{"tags":[],"owner":{"account_id":571060,"reputation":395,"user_id":208264,"accept_rate":0,"display_name":"bill seacham"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1258917561,"creation_date":1258917561,"answer_id":1779676,"question_id":1772321,"body_markdown":"Do not insert a BOM in a utf-8 file: if two such files are merged, you end up with a BOM in the middle which might break an applicaton, or cause an xml parser to throw an exception.\r\n","title":"What is XML BOM and how do I detect it?","body":"<p>Do not insert a BOM in a utf-8 file: if two such files are merged, you end up with a BOM in the middle which might break an applicaton, or cause an xml parser to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":2140912,"reputation":1357,"user_id":1899566,"display_name":"Robert Fleming"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401822556,"creation_date":1401820443,"answer_id":24022453,"question_id":1772321,"body_markdown":"OP:\r\n&gt; Can anyone tell me a Java method that will detect the BOM?\r\n\r\n`org.apache.commons.io.input.BOMInputStream` Javadocs:\r\n&gt;  This class detects these bytes and, if required, can automatically skip them and return the subsequent byte as the first byte in the stream.","title":"What is XML BOM and how do I detect it?","body":"<p>OP:</p>\n\n<blockquote>\n  <p>Can anyone tell me a Java method that will detect the BOM?</p>\n</blockquote>\n\n<p><code>org.apache.commons.io.input.BOMInputStream</code> Javadocs:</p>\n\n<blockquote>\n  <p>This class detects these bytes and, if required, can automatically skip them and return the subsequent byte as the first byte in the stream.</p>\n</blockquote>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59529,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":1772328,"answer_count":4,"score":27,"last_activity_date":1662853133,"creation_date":1258740710,"question_id":1772321,"body_markdown":"What exactly is the BOM in a ANSI XML document and should it be removed?   Should a XML document be in UTF-8 instead?  Can anyone tell me a Java method that will detect the BOM?    The BOM consists of the characters EF BB BF .","title":"What is XML BOM and how do I detect it?","body":"<p>What exactly is the BOM in a ANSI XML document and should it be removed?   Should a XML document be in UTF-8 instead?  Can anyone tell me a Java method that will detect the BOM?    The BOM consists of the characters EF BB BF .</p>\n"},{"tags":["java","android","apache","nanohttpd"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1390297145,"post_id":21254051,"comment_id":32019572,"body_markdown":"It is possible. Have you tried it? You will need to run that server in a background thread though.","body":"It is possible. Have you tried it? You will need to run that server in a background thread though."},{"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"score":0,"creation_date":1390297740,"post_id":21254051,"comment_id":32019973,"body_markdown":"thanks zapl for quick response, its working now. I can access webpage at http://127.0.0.1:8080.","body":"thanks zapl for quick response, its working now. I can access webpage at <a href=\"http://127.0.0.1:8080\" rel=\"nofollow noreferrer\">127.0.0.1:8080</a>."}],"answers":[{"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662852686,"creation_date":1390297829,"answer_id":21254553,"question_id":21254051,"body_markdown":"This code works:\r\n\r\n    private class MyHTTPD extends NanoHTTPD {\r\n        public MyHTTPD() throws IOException {\r\n            super(8080);\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(String uri, String method, Properties header, Properties parms, Properties files) {\r\n            InputStream is = new FileInputStream(&quot;/sdcard/1.mp3&quot;);\r\n            return new NanoHTTPD.Response(HTTP_OK, &quot;audio/mp3&quot;, is);\r\n        }\r\n    }\r\n    \r\n    server = new MyHTTPD();\r\n    server.start();\r\n    // and now you can use http://localhost:8080 to do something (ex : streaming audio ...)","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>This code works:</p>\n<pre><code>private class MyHTTPD extends NanoHTTPD {\n    public MyHTTPD() throws IOException {\n        super(8080);\n    }\n\n    @Override\n    public Response serve(String uri, String method, Properties header, Properties parms, Properties files) {\n        InputStream is = new FileInputStream(&quot;/sdcard/1.mp3&quot;);\n        return new NanoHTTPD.Response(HTTP_OK, &quot;audio/mp3&quot;, is);\n    }\n}\n\nserver = new MyHTTPD();\nserver.start();\n// and now you can use http://localhost:8080 to do something (ex : streaming audio ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390298064,"creation_date":1390298064,"answer_id":21254654,"question_id":21254051,"body_markdown":"Here is my working  sample code. It has limitation as activity will removed from memory my server will stop. To remove that I will write a service for this task.\r\n\r\n    public class MainActivity extends Activity {\r\n    \t private static final int PORT = 8080;\r\n    \t\r\n    \t  private MyHTTPD server;\r\n    \t\r\n    \t \r\n    \t  @Override\r\n    \t  public void onCreate(Bundle savedInstanceState) {\r\n    \t    super.onCreate(savedInstanceState);\r\n    \t    setContentView(R.layout.activity_main);\r\n    \t   }\r\n    \t \r\n    \t  @Override\r\n    \t  protected void onResume() {\r\n    \t    super.onResume();\r\n    \t  \t    server = new MyHTTPD();\r\n    \t    try {\r\n    \t\t\tserver.start();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t  }\r\n    \t \r\n    \t  @Override\r\n    \t  protected void onPause() {\r\n    \t    super.onPause();\r\n    \t   \r\n    \t  }\r\n    \t  @Override\r\n    \t  protected void onDestroy() {\r\n    \t    super.onDestroy();\r\n    \t    if (server != null)\r\n    \t      server.stop();\r\n    \t  }\r\n    \t \r\n    \t  private class MyHTTPD extends NanoHTTPD {\r\n    \t\t  public MyHTTPD() {\r\n    \t\t        super(8080);\r\n    \t\t    }\r\n    \r\n    \t\t    @Override public Response serve(IHTTPSession session) {\r\n    \t\t        Method method = session.getMethod();\r\n    \t\t        String uri = session.getUri();\r\n    \t\t        System.out.println(method + &quot; &#39;&quot; + uri + &quot;&#39; &quot;);\r\n    \r\n    \t\t        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\r\n    \t\t        Map&lt;String, String&gt; parms = session.getParms();\r\n    \t\t        if (parms.get(&quot;username&quot;) == null)\r\n    \t\t            msg +=\r\n    \t\t                    &quot;&lt;form action=&#39;?&#39; method=&#39;get&#39;&gt;\\n&quot; +\r\n    \t\t                            &quot;  &lt;p&gt;Your name: &lt;input type=&#39;text&#39; name=&#39;username&#39;&gt;&lt;/p&gt;\\n&quot; +\r\n    \t\t                            &quot;&lt;/form&gt;\\n&quot;;\r\n    \t\t        else\r\n    \t\t            msg += &quot;&lt;p&gt;Hello, &quot; + parms.get(&quot;username&quot;) + &quot;!&lt;/p&gt;&quot;;\r\n    \r\n    \t\t        msg += &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;;\r\n    \r\n    \t\t        return new NanoHTTPD.Response(msg);\r\n    \t\t    }\r\n    \t  }\r\n    \r\n    }\r\n\r\n    //now access web page using http://127.0.0.1:8080\r\n\r\n","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>Here is my working  sample code. It has limitation as activity will removed from memory my server will stop. To remove that I will write a service for this task.</p>\n\n<pre><code>public class MainActivity extends Activity {\n     private static final int PORT = 8080;\n\n      private MyHTTPD server;\n\n\n      @Override\n      public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n       }\n\n      @Override\n      protected void onResume() {\n        super.onResume();\n            server = new MyHTTPD();\n        try {\n            server.start();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n      }\n\n      @Override\n      protected void onPause() {\n        super.onPause();\n\n      }\n      @Override\n      protected void onDestroy() {\n        super.onDestroy();\n        if (server != null)\n          server.stop();\n      }\n\n      private class MyHTTPD extends NanoHTTPD {\n          public MyHTTPD() {\n                super(8080);\n            }\n\n            @Override public Response serve(IHTTPSession session) {\n                Method method = session.getMethod();\n                String uri = session.getUri();\n                System.out.println(method + \" '\" + uri + \"' \");\n\n                String msg = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n\";\n                Map&lt;String, String&gt; parms = session.getParms();\n                if (parms.get(\"username\") == null)\n                    msg +=\n                            \"&lt;form action='?' method='get'&gt;\\n\" +\n                                    \"  &lt;p&gt;Your name: &lt;input type='text' name='username'&gt;&lt;/p&gt;\\n\" +\n                                    \"&lt;/form&gt;\\n\";\n                else\n                    msg += \"&lt;p&gt;Hello, \" + parms.get(\"username\") + \"!&lt;/p&gt;\";\n\n                msg += \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n                return new NanoHTTPD.Response(msg);\n            }\n      }\n\n}\n\n//now access web page using http://127.0.0.1:8080\n</code></pre>\n"}],"owner":{"account_id":211423,"reputation":4694,"user_id":463586,"accept_rate":93,"display_name":"neeraj t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662852686,"creation_date":1390296565,"question_id":21254051,"body_markdown":"I want to add a http server inside the android application. I have tried NanoHTTPD server taken from [`https://github.com/NanoHttpd/nanohttpd`][1]. So I am  able to run this  http server as  simple java class in my desktop . and able to access it from desktop browser.\r\n\r\nNow I want to add this code with android application and start this server inside android device and access it from my mobile device browser.Is is possible and is there any other server i can bind with my android app .  \r\n\r\n\r\n  [1]: https://github.com/NanoHttpd/nanohttpd","title":"how to add http server inside android applicaton and access from mobile browser","body":"<p>I want to add a http server inside the android application. I have tried NanoHTTPD server taken from <a href=\"https://github.com/NanoHttpd/nanohttpd\" rel=\"nofollow\"><code>https://github.com/NanoHttpd/nanohttpd</code></a>. So I am  able to run this  http server as  simple java class in my desktop . and able to access it from desktop browser.</p>\n\n<p>Now I want to add this code with android application and start this server inside android device and access it from my mobile device browser.Is is possible and is there any other server i can bind with my android app .  </p>\n"},{"tags":["java","generics","java-module","java-12"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1560842883,"post_id":56637684,"comment_id":99857859,"body_markdown":"Agreed there is no explicit mention of declaring generic type and loading such services with the Java module system. But seems like this have been assumed that one uses a service such that the type bound can be inferred/loaded by the module system as well. +1 for the question","body":"Agreed there is no explicit mention of declaring generic type and loading such services with the Java module system. But seems like this have been assumed that one uses a service such that the type bound can be inferred/loaded by the module system as well. +1 for the question"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1593316976,"post_id":56637684,"comment_id":110734927,"body_markdown":"Thinking more around this, the erasure might just be one of the reasons for not being able to specify the type of generic classes.","body":"Thinking more around this, the erasure might just be one of the reasons for not being able to specify the type of generic classes."}],"answers":[{"tags":[],"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662852430,"creation_date":1662852430,"answer_id":73675826,"question_id":56637684,"body_markdown":"The service provider isn&#39;t designed for generic services, as you discovered. However, you can workaround this limitation by encoding the generic argument in your service provider implementation, plus some managerial code.\r\n\r\nSpecifically, your service providers should yield the `Class` of their generic argument, such as via a getter method.\r\n\r\n```java\r\n// I prefer to define a non-generic service for use with ServiceLoader. \r\n// Strictly speaking, this interface is auxiliary.\r\npublic interface ServiceBundle {\r\n  List&lt;ServiceGeneric&lt;?&gt;&gt; providers();\r\n}\r\n\r\npublic interface ServiceGeneric&lt;T&gt; {\r\n  Class&lt;T&gt; type();\r\n\r\n  T getT();\r\n}\r\n\r\npublic class ServiceString implements ServiceGeneric&lt;String&gt;{\r\n  public Class&lt;String&gt; type() {\r\n    return String.class;\r\n  }\r\n  public String getT() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThen you should be able to iterate over `ServiceLoader.load(ServiceBundle.class)` and place your service providers into a `Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt;` for later use.\r\n\r\n```java\r\nMap&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt; providers = new HashMap&lt;&gt;();\r\nfor (ServiceBundle bundle : ServiceLoader.load(ServiceBundle.class)) {\r\n  for (ServiceGeneric&lt;?&gt; provider : bundle.providers()) {\r\n    providers.put(provider.type(), provider);\r\n  }\r\n}\r\nproviders = Map.copyOf(providers); // freeze the map\r\n\r\n//\r\n// ...\r\n//\r\n\r\npublic class GenericServiceManager {\r\n\r\n  public &lt;T&gt; ServiceGeneric&lt;T&gt; getProvider(Class&lt;T&gt; type) {\r\n    // Assuming everything is set up correctly, this cast will be safe\r\n    return providers.get(type);\r\n  }\r\n}\r\n```","title":"Java module system: &#39;provides with&#39; generic interface","body":"<p>The service provider isn't designed for generic services, as you discovered. However, you can workaround this limitation by encoding the generic argument in your service provider implementation, plus some managerial code.</p>\n<p>Specifically, your service providers should yield the <code>Class</code> of their generic argument, such as via a getter method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I prefer to define a non-generic service for use with ServiceLoader. \n// Strictly speaking, this interface is auxiliary.\npublic interface ServiceBundle {\n  List&lt;ServiceGeneric&lt;?&gt;&gt; providers();\n}\n\npublic interface ServiceGeneric&lt;T&gt; {\n  Class&lt;T&gt; type();\n\n  T getT();\n}\n\npublic class ServiceString implements ServiceGeneric&lt;String&gt;{\n  public Class&lt;String&gt; type() {\n    return String.class;\n  }\n  public String getT() {\n    return &quot;Hello&quot;;\n  }\n}\n</code></pre>\n<p>Then you should be able to iterate over <code>ServiceLoader.load(ServiceBundle.class)</code> and place your service providers into a <code>Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt;</code> for later use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Class&lt;?&gt;, ServiceGeneric&lt;?&gt;&gt; providers = new HashMap&lt;&gt;();\nfor (ServiceBundle bundle : ServiceLoader.load(ServiceBundle.class)) {\n  for (ServiceGeneric&lt;?&gt; provider : bundle.providers()) {\n    providers.put(provider.type(), provider);\n  }\n}\nproviders = Map.copyOf(providers); // freeze the map\n\n//\n// ...\n//\n\npublic class GenericServiceManager {\n\n  public &lt;T&gt; ServiceGeneric&lt;T&gt; getProvider(Class&lt;T&gt; type) {\n    // Assuming everything is set up correctly, this cast will be safe\n    return providers.get(type);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3283799,"reputation":684,"user_id":2809272,"accept_rate":50,"display_name":"Marco Servetto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1662852430,"creation_date":1560799486,"question_id":56637684,"body_markdown":"I&#39;m experimenting with the Java module system.\r\nI&#39;m trying to use the ServiceLoader for generic interfaces.\r\nIt works but I&#39;ve got warnings in the module-info.\r\nHere is my minimal code\r\n\r\n    module testProvideWith {\r\n      provides ServiceGeneric with SString;\r\n      uses ServiceGeneric;\r\n    }\r\n    public interface ServiceGeneric&lt;T&gt; {\r\n      T getT();\r\n    }\r\n    public class SString implements ServiceGeneric&lt;String&gt;{\r\n      public String getT() {return &quot;Hello&quot;;}\r\n    }\r\n\r\nI&#39;m not surprised to get a warning when I try \r\n\r\n    ServiceGeneric&lt;String&gt; serv=ServiceLoader.load(ServiceGeneric.class).findFirst().get();\r\n\r\nI know about generic erasure, I understand that I would have to use annotations or some other trick to annotate the correct service. But... there is no mention at all of generic services that I can find.\r\nI expected to be able to write something like\r\n\r\n    module testProvideWith {\r\n      provides ServiceGeneric&lt;String&gt; with SString;\r\n      uses ServiceGeneric&lt;String&gt;;\r\n      //more cases could be added\r\n    }\r\n    ...\r\n    ServiceLoader.load(ServiceGeneric.class,String.class)\r\n\r\nwhere the module and the loader cooperate to keep track of what generic version is available.. but... nothing... no trace of anyone ever considering this possibility... I&#39;m I missing something?","title":"Java module system: &#39;provides with&#39; generic interface","body":"<p>I'm experimenting with the Java module system.\nI'm trying to use the ServiceLoader for generic interfaces.\nIt works but I've got warnings in the module-info.\nHere is my minimal code</p>\n\n<pre><code>module testProvideWith {\n  provides ServiceGeneric with SString;\n  uses ServiceGeneric;\n}\npublic interface ServiceGeneric&lt;T&gt; {\n  T getT();\n}\npublic class SString implements ServiceGeneric&lt;String&gt;{\n  public String getT() {return \"Hello\";}\n}\n</code></pre>\n\n<p>I'm not surprised to get a warning when I try </p>\n\n<pre><code>ServiceGeneric&lt;String&gt; serv=ServiceLoader.load(ServiceGeneric.class).findFirst().get();\n</code></pre>\n\n<p>I know about generic erasure, I understand that I would have to use annotations or some other trick to annotate the correct service. But... there is no mention at all of generic services that I can find.\nI expected to be able to write something like</p>\n\n<pre><code>module testProvideWith {\n  provides ServiceGeneric&lt;String&gt; with SString;\n  uses ServiceGeneric&lt;String&gt;;\n  //more cases could be added\n}\n...\nServiceLoader.load(ServiceGeneric.class,String.class)\n</code></pre>\n\n<p>where the module and the loader cooperate to keep track of what generic version is available.. but... nothing... no trace of anyone ever considering this possibility... I'm I missing something?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8948,"page":1044,"page_size":100}
