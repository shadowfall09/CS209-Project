{"items":[{"tags":["java","completable-future"],"answers":[{"comments":[{"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"score":1,"creation_date":1523093857,"post_id":49705336,"comment_id":86425153,"body_markdown":"I&#39;m not sure it&#39;s a great idea to be catching all `Throwable` types and wrapping in a `CompletionException`.  In particular, I would have thought this is particularly bad for `java.lang.Error`.","body":"I&#39;m not sure it&#39;s a great idea to be catching all <code>Throwable</code> types and wrapping in a <code>CompletionException</code>.  In particular, I would have thought this is particularly bad for <code>java.lang.Error</code>."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1523094247,"post_id":49705336,"comment_id":86425255,"body_markdown":"@msandiford If you dig into the `CompletableFuture` implementation you will see that they do the same (e.g. in the `uniApply()` method). Users want to be able to log errors like `AssertionError` otherwise their code just fails silently and they have no idea what went wrong.","body":"@msandiford If you dig into the <code>CompletableFuture</code> implementation you will see that they do the same (e.g. in the <code>uniApply()</code> method). Users want to be able to log errors like <code>AssertionError</code> otherwise their code just fails silently and they have no idea what went wrong."},{"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"score":0,"creation_date":1523150496,"post_id":49705336,"comment_id":86440405,"body_markdown":"maybe I&#39;m missing the point you are trying to make, but doesn&#39;t the `CompletableFuture` machinery handle this case? In what situation is an `AssertionError` (for example) going to be swallowed without resulting in a user-visible `ExecutionException` somewhere in the pipeline?","body":"maybe I&#39;m missing the point you are trying to make, but doesn&#39;t the <code>CompletableFuture</code> machinery handle this case? In what situation is an <code>AssertionError</code> (for example) going to be swallowed without resulting in a user-visible <code>ExecutionException</code> somewhere in the pipeline?"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1523174888,"post_id":49705336,"comment_id":86444566,"body_markdown":"@msandiford The reason that `CompletableFuture` machinery handles this case is because it catches `Throwable`. This wrapper has to provide the same functionality as the underlying implementation *plus* support checked exceptions. As a result, if the underlying implementation catchs `Throwable` then the wrapper have to as well.","body":"@msandiford The reason that <code>CompletableFuture</code> machinery handles this case is because it catches <code>Throwable</code>. This wrapper has to provide the same functionality as the underlying implementation <i>plus</i> support checked exceptions. As a result, if the underlying implementation catchs <code>Throwable</code> then the wrapper have to as well."}],"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523252906,"creation_date":1523088819,"answer_id":49705336,"question_id":49705335,"body_markdown":"Given the `Completions` utility class (provided below) users can throw checked exceptions seamlessly:\r\n\r\n    public CompletionStage&lt;String&gt; readLine()\r\n    {\r\n      return Completions.supplyAsync(() -&gt;\r\n      {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;test.txt&quot;)))\r\n        {\r\n          return br.readLine();\r\n        }\r\n      });\r\n    }\r\n\r\nAny exceptions thrown by the lambda (checked or not) will be wrapped in a `CompletionException`, which is consistent with `CompletableFuture`&#39;s behavior for unchecked exceptions.\r\n\r\nThings get a bit uglier for intermediate steps like `thenApply()` but it&#39;s not the end of the world:\r\n\r\n    public CompletionStage&lt;String&gt; transformLine()\r\n    {\r\n      return readLine().thenApply(line -&gt;\r\n        Completions.wrapExceptions(() -&gt;\r\n        {\r\n          if (line.contains(&quot;%&quot;))\r\n            throw new IOException(&quot;Lines may not contain &#39;%&#39;: &quot; + line);\r\n          return &quot;transformed: &quot; + line;\r\n        }));\r\n    }\r\n\r\nHere some methods from the `Completions` utility class. You can wrap other `CompletableFuture` methods this way.\r\n\r\n    /**\r\n     * Helper functions for {@code CompletionStage}.\r\n     *\r\n     * @author Gili Tzabari\r\n     */\r\n    public final class Completions\r\n    {\r\n    \t/**\r\n    \t * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\r\n    \t * returned by {@code callable} using the supplied {@code executor}. If {@code callable} throws an exception the\r\n    \t * returned {@code CompletionStage} is completed with it.\r\n    \t *\r\n    \t * @param &lt;T&gt;      the type of value returned by {@code callable}\r\n    \t * @param callable returns a value\r\n    \t * @param executor the executor that will run {@code callable}\r\n    \t * @return the value returned by {@code callable}\r\n    \t */\r\n    \tpublic static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor)\r\n    \t{\r\n    \t\treturn CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable), executor);\r\n    \t}\r\n    \r\n\t\t/**\r\n\t\t * Wraps or replaces exceptions thrown by an operation with {@code CompletionException}.\r\n\t\t * &lt;p&gt;\r\n\t\t * If the exception is designed to wrap other exceptions, such as {@code ExecutionException}, its underlying cause is wrapped; otherwise the\r\n\t\t * top-level exception is wrapped.\r\n\t\t *\r\n\t\t * @param &lt;T&gt;      the type of value returned by the callable\r\n\t\t * @param callable an operation that returns a value\r\n\t\t * @return the value returned by the callable\r\n\t\t * @throws CompletionException if the callable throws any exceptions\r\n\t\t */\r\n\t\tpublic static &lt;T&gt; T wrapExceptions(Callable&lt;T&gt; callable)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\treturn callable.call();\r\n\t\t\t}\r\n\t\t\tcatch (CompletionException e)\r\n\t\t\t{\r\n\t\t\t\t// Avoid wrapping\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t\tcatch (ExecutionException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new CompletionException(e.getCause());\r\n\t\t\t}\r\n\t\t\tcatch (Throwable e)\r\n\t\t\t{\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    \t/**\r\n    \t * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\r\n    \t * returned by {@code callable} using the default executor. If {@code callable} throws an exception the returned\r\n    \t * {@code CompletionStage} is completed with it.\r\n    \t *\r\n    \t * @param &lt;T&gt;      the type of value returned by the {@code callable}\r\n    \t * @param callable returns a value\r\n    \t * @return the value returned by {@code callable}\r\n    \t */\r\n    \tpublic static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable)\r\n    \t{\r\n    \t\treturn CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable));\r\n    \t}\r\n\r\n        /**\r\n         * Prevent construction.\r\n         */\r\n        private Completions()\r\n        {}\r\n    }\r\n","title":"Throwing checked exceptions with CompletableFuture","body":"<p>Given the <code>Completions</code> utility class (provided below) users can throw checked exceptions seamlessly:</p>\n\n<pre><code>public CompletionStage&lt;String&gt; readLine()\n{\n  return Completions.supplyAsync(() -&gt;\n  {\n    try (BufferedReader br = new BufferedReader(new FileReader(\"test.txt\")))\n    {\n      return br.readLine();\n    }\n  });\n}\n</code></pre>\n\n<p>Any exceptions thrown by the lambda (checked or not) will be wrapped in a <code>CompletionException</code>, which is consistent with <code>CompletableFuture</code>'s behavior for unchecked exceptions.</p>\n\n<p>Things get a bit uglier for intermediate steps like <code>thenApply()</code> but it's not the end of the world:</p>\n\n<pre><code>public CompletionStage&lt;String&gt; transformLine()\n{\n  return readLine().thenApply(line -&gt;\n    Completions.wrapExceptions(() -&gt;\n    {\n      if (line.contains(\"%\"))\n        throw new IOException(\"Lines may not contain '%': \" + line);\n      return \"transformed: \" + line;\n    }));\n}\n</code></pre>\n\n<p>Here some methods from the <code>Completions</code> utility class. You can wrap other <code>CompletableFuture</code> methods this way.</p>\n\n<pre><code>/**\n * Helper functions for {@code CompletionStage}.\n *\n * @author Gili Tzabari\n */\npublic final class Completions\n{\n    /**\n     * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\n     * returned by {@code callable} using the supplied {@code executor}. If {@code callable} throws an exception the\n     * returned {@code CompletionStage} is completed with it.\n     *\n     * @param &lt;T&gt;      the type of value returned by {@code callable}\n     * @param callable returns a value\n     * @param executor the executor that will run {@code callable}\n     * @return the value returned by {@code callable}\n     */\n    public static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor)\n    {\n        return CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable), executor);\n    }\n\n    /**\n     * Wraps or replaces exceptions thrown by an operation with {@code CompletionException}.\n     * &lt;p&gt;\n     * If the exception is designed to wrap other exceptions, such as {@code ExecutionException}, its underlying cause is wrapped; otherwise the\n     * top-level exception is wrapped.\n     *\n     * @param &lt;T&gt;      the type of value returned by the callable\n     * @param callable an operation that returns a value\n     * @return the value returned by the callable\n     * @throws CompletionException if the callable throws any exceptions\n     */\n    public static &lt;T&gt; T wrapExceptions(Callable&lt;T&gt; callable)\n    {\n        try\n        {\n            return callable.call();\n        }\n        catch (CompletionException e)\n        {\n            // Avoid wrapping\n            throw e;\n        }\n        catch (ExecutionException e)\n        {\n            throw new CompletionException(e.getCause());\n        }\n        catch (Throwable e)\n        {\n            throw new CompletionException(e);\n        }\n    }\n\n    /**\n     * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\n     * returned by {@code callable} using the default executor. If {@code callable} throws an exception the returned\n     * {@code CompletionStage} is completed with it.\n     *\n     * @param &lt;T&gt;      the type of value returned by the {@code callable}\n     * @param callable returns a value\n     * @return the value returned by {@code callable}\n     */\n    public static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable)\n    {\n        return CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable));\n    }\n\n    /**\n     * Prevent construction.\n     */\n    private Completions()\n    {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698235555,"creation_date":1698216586,"answer_id":77357165,"question_id":49705335,"body_markdown":"1. declare helper class \r\n````\r\npublic class CompletableFutureHelper {\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable) {\r\n        return supplyAsync(callable, ForkJoinPool.commonPool());\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor) {\r\n        final CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n        executor.execute(() -&gt; {\r\n            try {\r\n                completableFuture.complete(callable.call());\r\n            } catch (Throwable e) {\r\n                completableFuture.completeExceptionally(e);\r\n            }\r\n        });\r\n        return completableFuture;\r\n    }\r\n\r\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException) {\r\n        return runAsync(runnableException, ForkJoinPool.commonPool());\r\n    }\r\n\r\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException, Executor executor) {\r\n        return supplyAsync(() -&gt; {\r\n            runnableException.run();\r\n            return null;\r\n        }, executor);\r\n    }\r\n\r\n    public interface RunnableExceptionable {\r\n        void run() throws Exception;\r\n    }\r\n}\r\n````\r\n\r\n\r\n\r\n2. use it like\r\n````\r\n        try {\r\n            CompletableFutureHelper.runAsync(() -&gt; Thread.sleep(1000)).get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            Log.d(TAG, &quot;readFileContent=&quot; + Arrays.toString(CompletableFutureHelper.supplyAsync(() -&gt; Files.readAllBytes(new File(&quot;/data/1.txt&quot;).toPath())).get()));\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n````\r\n","title":"Throwing checked exceptions with CompletableFuture","body":"<ol>\n<li>declare helper class</li>\n</ol>\n<pre><code>public class CompletableFutureHelper {\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable) {\n        return supplyAsync(callable, ForkJoinPool.commonPool());\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor) {\n        final CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\n        executor.execute(() -&gt; {\n            try {\n                completableFuture.complete(callable.call());\n            } catch (Throwable e) {\n                completableFuture.completeExceptionally(e);\n            }\n        });\n        return completableFuture;\n    }\n\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException) {\n        return runAsync(runnableException, ForkJoinPool.commonPool());\n    }\n\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException, Executor executor) {\n        return supplyAsync(() -&gt; {\n            runnableException.run();\n            return null;\n        }, executor);\n    }\n\n    public interface RunnableExceptionable {\n        void run() throws Exception;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>use it like</li>\n</ol>\n<pre><code>        try {\n            CompletableFutureHelper.runAsync(() -&gt; Thread.sleep(1000)).get();\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            Log.d(TAG, &quot;readFileContent=&quot; + Arrays.toString(CompletableFutureHelper.supplyAsync(() -&gt; Files.readAllBytes(new File(&quot;/data/1.txt&quot;).toPath())).get()));\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4903,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49705336,"answer_count":2,"score":5,"last_activity_date":1698235555,"creation_date":1523088819,"question_id":49705335,"body_markdown":"Stackoverflow contains multiple questions about mixing checked exceptions with `CompletableFuture`.\r\n\r\nHere are a few examples:\r\n\r\n* https://stackoverflow.com/q/39340239/14731\r\n* https://stackoverflow.com/q/28959849/14731\r\n* https://stackoverflow.com/q/23184964/14731\r\n\r\nWhile some of answers hint at the use of `CompletableFuture.completeExceptionally()` their approach results in user code that is difficult to read.\r\n\r\nI will use this space to provide an alternate solution that results in improved readability.\r\n\r\n**Please note that this question is specific to CompletableFuture.** This allows us to provide solutions that do not extend to lambda expressions more generally.","title":"Throwing checked exceptions with CompletableFuture","body":"<p>Stackoverflow contains multiple questions about mixing checked exceptions with <code>CompletableFuture</code>.</p>\n\n<p>Here are a few examples:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/39340239/14731\">Checked exception with CompletableFuture</a></li>\n<li><a href=\"https://stackoverflow.com/q/28959849/14731\">Java 8 Supplier Exception handling</a></li>\n<li><a href=\"https://stackoverflow.com/q/23184964/14731\">JDK8 CompletableFuture.supplyAsync how to deal with interruptedException</a></li>\n</ul>\n\n<p>While some of answers hint at the use of <code>CompletableFuture.completeExceptionally()</code> their approach results in user code that is difficult to read.</p>\n\n<p>I will use this space to provide an alternate solution that results in improved readability.</p>\n\n<p><strong>Please note that this question is specific to CompletableFuture.</strong> This allows us to provide solutions that do not extend to lambda expressions more generally.</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":11,"creation_date":1428849831,"post_id":29590621,"comment_id":47328354,"body_markdown":"Do you call `MockitoAnnotations.initMocks(this)`? (Should probably be in @Before method) Or, do you have any other @Rule which you expect to initialize your mocks? (It isn&#39;t automagic)","body":"Do you call <code>MockitoAnnotations.initMocks(this)</code>? (Should probably be in @Before method) Or, do you have any other @Rule which you expect to initialize your mocks? (It isn&#39;t automagic)"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1428850092,"post_id":29590621,"comment_id":47328426,"body_markdown":"You need to instantiate the `routingClientMock` e.g. `routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);`","body":"You need to instantiate the <code>routingClientMock</code> e.g. <code>routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);</code>"},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1428850300,"post_id":29590621,"comment_id":47328491,"body_markdown":"You could also use `@RunWith(MockitoJUnitRunner.class)` at your class","body":"You could also use <code>@RunWith(MockitoJUnitRunner.class)</code> at your class"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428850333,"post_id":29590621,"comment_id":47328499,"body_markdown":"please write as an answer and I&#39;ll mark it","body":"please write as an answer and I&#39;ll mark it"},{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":0,"creation_date":1671472091,"post_id":29590621,"comment_id":132101911,"body_markdown":"In my case (not the case for this question), I was trying to mock a dependency for another Mock for the UUT (i.e. two layers of mocks). This does not work trivially, and so the second layer mock was null.","body":"In my case (not the case for this question), I was trying to mock a dependency for another Mock for the UUT (i.e. two layers of mocks). This does not work trivially, and so the second layer mock was null."}],"answers":[{"comments":[{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":4,"creation_date":1428872887,"post_id":29590855,"comment_id":47336191,"body_markdown":"why `@RunWith(SpringJUnit4ClassRunner.class)` and not `MockitoJUnitRunner.class` ?","body":"why <code>@RunWith(SpringJUnit4ClassRunner.class)</code> and not <code>MockitoJUnitRunner.class</code> ?"},{"owner":{"account_id":87456,"reputation":828,"user_id":366073,"accept_rate":86,"display_name":"David Victor"},"score":1,"creation_date":1572876082,"post_id":29590855,"comment_id":103686575,"body_markdown":"You don&#39;t need SpringJUnit4ClassRunner unless you want to wire in some Spring context into your test - which is a very twisty passage of its own.","body":"You don&#39;t need SpringJUnit4ClassRunner unless you want to wire in some Spring context into your test - which is a very twisty passage of its own."}],"tags":[],"owner":{"account_id":4978655,"reputation":91,"user_id":4004299,"display_name":"enoder"},"comment_count":2,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1428850818,"creation_date":1428850818,"answer_id":29590855,"question_id":29590621,"body_markdown":"\r\n 1. You should use `@RunWith(SpringJUnit4ClassRunner.class)` at your class\r\n 2. You have to call `MockitoAnnotations.initMocks(this);` in @Before method\r\n","title":"mock instance is null after @Mock annotation","body":"<ol>\n<li>You should use <code>@RunWith(SpringJUnit4ClassRunner.class)</code> at your class</li>\n<li>You have to call <code>MockitoAnnotations.initMocks(this);</code> in @Before method</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1313894,"reputation":25682,"user_id":1261266,"accept_rate":53,"display_name":"Piyush Agarwal"},"score":1,"creation_date":1511915338,"post_id":29593798,"comment_id":82043375,"body_markdown":"It doesnt work for me always gives this error &quot;dexcache == null (and no default could be found; consider setting the &#39;dexmaker.dexcache&#39; system property)&quot;","body":"It doesnt work for me always gives this error &quot;dexcache == null (and no default could be found; consider setting the &#39;dexmaker.dexcache&#39; system property)&quot;"},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1511942542,"post_id":29593798,"comment_id":82051968,"body_markdown":"@pyus13 This should be a new question with more code.","body":"@pyus13 This should be a new question with more code."},{"owner":{"account_id":1313894,"reputation":25682,"user_id":1261266,"accept_rate":53,"display_name":"Piyush Agarwal"},"score":0,"creation_date":1512770662,"post_id":29593798,"comment_id":82406213,"body_markdown":"Appreciate the response, I think the problem was I was using it in JUnit Test and while some code merges someone from team mistakenly added dex maker testImplementation dependencies. After removing that line from build.gradle things were started working. Thanks hope this will save someone&#39;s time.","body":"Appreciate the response, I think the problem was I was using it in JUnit Test and while some code merges someone from team mistakenly added dex maker testImplementation dependencies. After removing that line from build.gradle things were started working. Thanks hope this will save someone&#39;s time."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1531301284,"post_id":29593798,"comment_id":89541123,"body_markdown":"By using @Mock annotation  this giving a build failed.","body":"By using @Mock annotation  this giving a build failed."},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1531303717,"post_id":29593798,"comment_id":89542746,"body_markdown":"@David I think your problem should be a new question with a complete example.","body":"@David I think your problem should be a new question with a complete example."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1531304690,"post_id":29593798,"comment_id":89543316,"body_markdown":"@RolandWeisleder sure. Let me post a question.","body":"@RolandWeisleder sure. Let me post a question."},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1617577755,"post_id":29593798,"comment_id":118337150,"body_markdown":"that tutorial is trash","body":"that tutorial is trash"}],"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"comment_count":7,"down_vote_count":1,"up_vote_count":141,"is_accepted":true,"score":140,"last_activity_date":1428867558,"creation_date":1428867558,"answer_id":29593798,"question_id":29590621,"body_markdown":"When you want to use the `@Mock` annotation you should use the `MockitoJUnitRunner`\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MockitoTest {\r\n        \r\n        @Mock\r\n        private IRoutingObjHttpClient routingClientMock;\r\n        \r\n        @Test\r\n        public void testSendRoutingRequest() throws Exception {\r\n            // ...\r\n        }\r\n    \r\n    }\r\n\r\n\r\nSee also [this tutorial](http://www.vogella.com/tutorials/Mockito/article.html#mockito_usage).","title":"mock instance is null after @Mock annotation","body":"<p>When you want to use the <code>@Mock</code> annotation you should use the <code>MockitoJUnitRunner</code></p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MockitoTest {\n\n    @Mock\n    private IRoutingObjHttpClient routingClientMock;\n\n    @Test\n    public void testSendRoutingRequest() throws Exception {\n        // ...\n    }\n\n}\n</code></pre>\n\n<p>See also <a href=\"http://www.vogella.com/tutorials/Mockito/article.html#mockito_usage\" rel=\"noreferrer\">this tutorial</a>.</p>\n"},{"comments":[{"owner":{"account_id":18059693,"reputation":593,"user_id":13127098,"display_name":"Nakul Goyal"},"score":1,"creation_date":1597777816,"post_id":29599822,"comment_id":112243487,"body_markdown":"In most of the test classes @RunWith(MockitoJUnitRunner.class) works fine in injecting mocks. But in few test classes both @RunWith(MockitoJUnitRunner.class) and MockitoAnnotations.initMocks(this) worked together only. Is there any explaination for this issue ?","body":"In most of the test classes @RunWith(MockitoJUnitRunner.class) works fine in injecting mocks. But in few test classes both @RunWith(MockitoJUnitRunner.class) and MockitoAnnotations.initMocks(this) worked together only. Is there any explaination for this issue ?"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1598562804,"post_id":29599822,"comment_id":112508067,"body_markdown":"Can you please create another question on StackOverflow with a complete example.","body":"Can you please create another question on StackOverflow with a complete example."}],"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":2,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1570481563,"creation_date":1428909619,"answer_id":29599822,"question_id":29590621,"body_markdown":"You have three options for activating the `@Mock` annotation: MockitoRule, MockitoJUnitRunner, MockitoAnnotations.initMocks(this). IMHO using the `MockitoRule` is the best one, because it lets you still choose another runner like e.g. `Parameterized`.\r\n\r\n##Use the [MockitoRule](http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html)\r\n\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Rule\r\n      public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }\r\n\r\n\r\n##Use the [MockitoJUnitRunner](http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html)\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }\r\n\r\n##Call [MockitoAnnotations.initMocks(this)](http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html) explicitly. \r\nThis can be done in qn `@Before` method, in your own runner or in an own rule.\r\n\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Before\r\n      public void createMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }","title":"mock instance is null after @Mock annotation","body":"<p>You have three options for activating the <code>@Mock</code> annotation: MockitoRule, MockitoJUnitRunner, MockitoAnnotations.initMocks(this). IMHO using the <code>MockitoRule</code> is the best one, because it lets you still choose another runner like e.g. <code>Parameterized</code>.</p>\n\n<h2>Use the <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">MockitoRule</a></h2>\n\n<pre><code>public class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Rule\n  public MockitoRule rule = MockitoJUnit.rule();\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n\n<h2>Use the <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">MockitoJUnitRunner</a></h2>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n\n<h2>Call <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html\" rel=\"noreferrer\">MockitoAnnotations.initMocks(this)</a> explicitly.</h2>\n\n<p>This can be done in qn <code>@Before</code> method, in your own runner or in an own rule.</p>\n\n<pre><code>public class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Before\n  public void createMocks() {\n    MockitoAnnotations.initMocks(this);\n  }\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6563761,"reputation":123,"user_id":5074067,"accept_rate":29,"display_name":"sam"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1474105573,"creation_date":1474034195,"answer_id":39533319,"question_id":29590621,"body_markdown":"If you are also using PowerMock then \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n\r\ncan be replaced with\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n\r\nThis will activate your `@Mocks` and enable the PowerMock functionality.","title":"mock instance is null after @Mock annotation","body":"<p>If you are also using PowerMock then </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n</code></pre>\n\n<p>can be replaced with</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n</code></pre>\n\n<p>This will activate your <code>@Mocks</code> and enable the PowerMock functionality.</p>\n"},{"tags":[],"owner":{"account_id":1013937,"reputation":10560,"user_id":1025935,"accept_rate":96,"display_name":"UmAnusorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522661853,"creation_date":1504765535,"answer_id":46089250,"question_id":29590621,"body_markdown":"Try to to check if the method that you are calling is a **final** method or not.\r\n\r\nMockito cannot mock the final method. https://github.com/mockito/mockito/wiki/FAQ","title":"mock instance is null after @Mock annotation","body":"<p>Try to to check if the method that you are calling is a <strong>final</strong> method or not.</p>\n\n<p>Mockito cannot mock the final method. <a href=\"https://github.com/mockito/mockito/wiki/FAQ\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/wiki/FAQ</a></p>\n"},{"tags":[],"owner":{"account_id":4510827,"reputation":1268,"user_id":3667003,"accept_rate":100,"display_name":"Oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505937077,"creation_date":1505937077,"answer_id":46330703,"question_id":29590621,"body_markdown":"It can also be an import problem, so make sure you have the appropriate imported package.\r\n\r\nFor example, the &quot;org.easymock&quot; package also does have an annotation called @Mock, which of course, won&#39;t work with Mockito specific setup.","title":"mock instance is null after @Mock annotation","body":"<p>It can also be an import problem, so make sure you have the appropriate imported package.</p>\n\n<p>For example, the \"org.easymock\" package also does have an annotation called @Mock, which of course, won't work with Mockito specific setup.</p>\n"},{"comments":[{"owner":{"account_id":7930053,"reputation":479,"user_id":5988255,"display_name":"MalliKharjuna Rao"},"score":2,"creation_date":1667427141,"post_id":54537141,"comment_id":131167739,"body_markdown":"after all the above failed this import was the one which worked. Thankyou Rammgarot","body":"after all the above failed this import was the one which worked. Thankyou Rammgarot"}],"tags":[],"owner":{"account_id":5183632,"reputation":1527,"user_id":4148568,"display_name":"Rammgarot"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1549378512,"creation_date":1549378512,"answer_id":54537141,"question_id":29590621,"body_markdown":"If you use `junit.jupiter` with `@ExtendWith(MockitoExtension.class)` for test class but **mocks are null**, ensure that `@Test` annotation is imported from\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\ninstead of `org.junit.Test;`","title":"mock instance is null after @Mock annotation","body":"<p>If you use <code>junit.jupiter</code> with <code>@ExtendWith(MockitoExtension.class)</code> for test class but <strong>mocks are null</strong>, ensure that <code>@Test</code> annotation is imported from</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>instead of <code>org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":5759605,"reputation":1137,"user_id":4546428,"display_name":"Gjera"},"comment_count":0,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1554911454,"creation_date":1554911454,"answer_id":55616702,"question_id":29590621,"body_markdown":"Same problem can occur if you are using Junit5 since there is no more &#39;@RunWith&#39; annotation.\r\n\r\nIn this case you should annotate your class with:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyTestClass {\r\n    ...\r\n\r\nYou should also import into your dependency (Maven - pom.xml):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"mock instance is null after @Mock annotation","body":"<p>Same problem can occur if you are using Junit5 since there is no more '@RunWith' annotation.</p>\n\n<p>In this case you should annotate your class with:</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyTestClass {\n...\n</code></pre>\n\n<p>You should also import into your dependency (Maven - pom.xml):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;${mockito.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1590937547,"creation_date":1590937547,"answer_id":62118139,"question_id":29590621,"body_markdown":"For me, even after adding `@RunWith(MockitoJUnitRunner.class)` it was not working.  \r\nTurned out, I had made the silly mistake of importing `@Test` from \r\n```java \r\nimport org.junit.jupiter.api.Test;\r\n```\r\n\r\ninstead of \r\n```\r\nimport org.junit.Test;\r\n```\r\n\r\nAfter correcting it, it worked!","title":"mock instance is null after @Mock annotation","body":"<p>For me, even after adding <code>@RunWith(MockitoJUnitRunner.class)</code> it was not working.<br>\nTurned out, I had made the silly mistake of importing <code>@Test</code> from </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>import org.junit.Test;\n</code></pre>\n\n<p>After correcting it, it worked!</p>\n"},{"tags":[],"owner":{"account_id":1303548,"reputation":57,"user_id":1252995,"accept_rate":50,"display_name":"Suhas Karanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596031404,"creation_date":1596031404,"answer_id":63155448,"question_id":29590621,"body_markdown":"For me adding the annotation to the class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n\r\nand modifying the version of Mockito solved this issue.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"mock instance is null after @Mock annotation","body":"<p>For me adding the annotation to the class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n</code></pre>\n<p>and modifying the version of Mockito solved this issue.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.23.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13263038,"reputation":712,"user_id":9576915,"display_name":"Mohamed Ali"},"score":2,"creation_date":1609529368,"post_id":64546405,"comment_id":115861142,"body_markdown":"Thank you so much you saved me. My issue was the last one you commented on. Much love!","body":"Thank you so much you saved me. My issue was the last one you commented on. Much love!"},{"owner":{"account_id":4239913,"reputation":311,"user_id":3470104,"display_name":"Junio"},"score":1,"creation_date":1635764653,"post_id":64546405,"comment_id":123372544,"body_markdown":"My scenario includes `@RunWith(PowerMockRunner.class)` and `@PowerMockRunnerDelegate(Parameterized.class)`. For each param declared under `@Parameterized.Parameters` the `@Before` annotations invokes some mocked objects `null`. Without parameters, tests run fine, no NPE. With parameteres, needed `MockitoAnnotations.initMocks(this)`. Thanks!","body":"My scenario includes <code>@RunWith(PowerMockRunner.class)</code> and <code>@PowerMockRunnerDelegate(Parameterized.class)</code>. For each param declared under <code>@Parameterized.Parameters</code> the <code>@Before</code> annotations invokes some mocked objects <code>null</code>. Without parameters, tests run fine, no NPE. With parameteres, needed <code>MockitoAnnotations.initMocks(this)</code>. Thanks!"},{"owner":{"account_id":1588685,"reputation":1941,"user_id":1472493,"accept_rate":42,"display_name":"R11G"},"score":0,"creation_date":1681576699,"post_id":64546405,"comment_id":134080357,"body_markdown":"For some reason, my IDE was importing org.testng.annotations.Test by default. I had to change it to org.junit.Test and it worked.","body":"For some reason, my IDE was importing org.testng.annotations.Test by default. I had to change it to org.junit.Test and it worked."}],"tags":[],"owner":{"account_id":16800381,"reputation":311,"user_id":12145773,"display_name":"amanatee"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1603755150,"creation_date":1603755150,"answer_id":64546405,"question_id":29590621,"body_markdown":"What solved this issue for me (combination of answers above and my own additions):\r\n\r\n* `MockitoAnnotations.initMocks(this);` in the `@Before` method\r\n* Test class must be public\r\n* Test methods must be public\r\n* `import org.junit.Test;` instead of `import org.junit.jupiter.api.Test;`\r\n\r\nWhen doing command + N --&gt; `Test...` in Intellij it generates (as a default at least) some boilerplate that did not work in my case. ","title":"mock instance is null after @Mock annotation","body":"<p>What solved this issue for me (combination of answers above and my own additions):</p>\n<ul>\n<li><code>MockitoAnnotations.initMocks(this);</code> in the <code>@Before</code> method</li>\n<li>Test class must be public</li>\n<li>Test methods must be public</li>\n<li><code>import org.junit.Test;</code> instead of <code>import org.junit.jupiter.api.Test;</code></li>\n</ul>\n<p>When doing command + N --&gt; <code>Test...</code> in Intellij it generates (as a default at least) some boilerplate that did not work in my case.</p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604934150,"creation_date":1604934150,"answer_id":64754100,"question_id":29590621,"body_markdown":"I had the same issue, but I found updating my tests (which were originally written for JUnit 3 and used the legacy `setUp()` and `tearDown()` methods) to JUnit 4 and modern annotated fixture methods worked.\r\n\r\nAdditionally, if you&#39;re using the Rule:\r\n\r\n\t@Rule public MockitoRule rule = MockitoJUnit.rule();\r\n\r\nMake sure the rule is also on a public class or you will receive the message:\r\n\r\n```\r\nHow did getFields return a field we couldn&#39;t access?\r\n```","title":"mock instance is null after @Mock annotation","body":"<p>I had the same issue, but I found updating my tests (which were originally written for JUnit 3 and used the legacy <code>setUp()</code> and <code>tearDown()</code> methods) to JUnit 4 and modern annotated fixture methods worked.</p>\n<p>Additionally, if you're using the Rule:</p>\n<pre><code>@Rule public MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n<p>Make sure the rule is also on a public class or you will receive the message:</p>\n<pre><code>How did getFields return a field we couldn't access?\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6383646,"reputation":111,"user_id":4952226,"display_name":"mike"},"score":1,"creation_date":1629989247,"post_id":65783344,"comment_id":121838397,"body_markdown":"One of them is enough for use @mock annotation","body":"One of them is enough for use @mock annotation"}],"tags":[],"owner":{"account_id":10386004,"reputation":29,"user_id":7659080,"display_name":"Kushagra Pande"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1611017098,"creation_date":1611011427,"answer_id":65783344,"question_id":29590621,"body_markdown":"For me it worked when I added :\r\n    \r\n1) At class level: \r\n```\r\n@RunWith(MockitoJUnitRunner.class).\r\n```\r\n2) Inside class: \r\n```\r\n@Before\r\n      public void createMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n```","title":"mock instance is null after @Mock annotation","body":"<p>For me it worked when I added :</p>\n<ol>\n<li>At class level:</li>\n</ol>\n<pre><code>@RunWith(MockitoJUnitRunner.class).\n</code></pre>\n<ol start=\"2\">\n<li>Inside class:</li>\n</ol>\n<pre><code>@Before\n      public void createMocks() {\n        MockitoAnnotations.initMocks(this);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9147882,"reputation":79,"user_id":6803378,"display_name":"Adarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619915972,"creation_date":1619915972,"answer_id":67352045,"question_id":29590621,"body_markdown":"Add **@ExtendWith(MockitoExtension.class)** annotation  to the test class and it should work given You are using Junit 5+ version.\r\nIf you are using older version of Junit use **@RunWith(MockitoJUnitRunner.class)** annotation.","title":"mock instance is null after @Mock annotation","body":"<p>Add <strong>@ExtendWith(MockitoExtension.class)</strong> annotation  to the test class and it should work given You are using Junit 5+ version.\nIf you are using older version of Junit use <strong>@RunWith(MockitoJUnitRunner.class)</strong> annotation.</p>\n"},{"comments":[{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1652784112,"post_id":67802341,"comment_id":127684750,"body_markdown":"I don&#39;t know what&#39;s wrong, but it says that `init()` must be static","body":"I don&#39;t know what&#39;s wrong, but it says that <code>init()</code> must be static"}],"tags":[],"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622625616,"creation_date":1622625616,"answer_id":67802341,"question_id":29590621,"body_markdown":"I had the problem that I declared @Mock MyClass myClass and then tried to mock a behaviour inside my @BeforeAll annotated method:\r\n\r\n    @Mock\r\n    private MyClass myClass;\r\n    \r\n    ...\r\n    \r\n    @BeforeAll\r\n    public void init()\r\n    {\r\n        ...\r\n        Mockito.when(myClass.something()).thenReturn(&quot;Not found&quot;)\r\n        ...\r\n    }\r\n\r\nApparently init() was executed before the mock initialization of myClass, so myClass == null inside init().\r\n\r\nThe solution was to change the annotation from @BeforeAll to @BeforeEach. \r\n","title":"mock instance is null after @Mock annotation","body":"<p>I had the problem that I declared @Mock MyClass myClass and then tried to mock a behaviour inside my @BeforeAll annotated method:</p>\n<pre><code>@Mock\nprivate MyClass myClass;\n\n...\n\n@BeforeAll\npublic void init()\n{\n    ...\n    Mockito.when(myClass.something()).thenReturn(&quot;Not found&quot;)\n    ...\n}\n</code></pre>\n<p>Apparently init() was executed before the mock initialization of myClass, so myClass == null inside init().</p>\n<p>The solution was to change the annotation from @BeforeAll to @BeforeEach.</p>\n"},{"tags":[],"owner":{"account_id":12623503,"reputation":13,"user_id":9178140,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642691355,"creation_date":1642691355,"answer_id":70788639,"question_id":29590621,"body_markdown":"Found this solution in comments that worked for me. Do this for all the mocks you are creating.\r\n\r\n*You need to instantiate the routingClientMock e.g.* \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"mock instance is null after @Mock annotation","body":"<p>Found this solution in comments that worked for me. Do this for all the mocks you are creating.</p>\n<p><em>You need to instantiate the routingClientMock e.g.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":1,"creation_date":1658145946,"post_id":73022015,"comment_id":128970563,"body_markdown":"Thank you for answering! However, questions do not belong in answers, which is why I&#39;ve removed it. You can [ask a new question](https://stackoverflow.com/questions/ask), leaving a link to this post, if you&#39;d like.","body":"Thank you for answering! However, questions do not belong in answers, which is why I&#39;ve removed it. You can <a href=\"https://stackoverflow.com/questions/ask\">ask a new question</a>, leaving a link to this post, if you&#39;d like."}],"tags":[],"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658145890,"creation_date":1658145747,"answer_id":73022015,"question_id":29590621,"body_markdown":"My issue was that I was trying to mock an object which was final in my service. Just needed to remove final and it worked.","title":"mock instance is null after @Mock annotation","body":"<p>My issue was that I was trying to mock an object which was final in my service. Just needed to remove final and it worked.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659670054,"creation_date":1659670054,"answer_id":73244346,"question_id":29590621,"body_markdown":"Junit 5 with InjectMocks. Based on above suggestion https://stackoverflow.com/a/55616702/2643815\r\n\r\n   \r\n\r\n     @ExtendWith(MockitoExtension.class)\r\n    public class MyClientTest {\r\n    @Mock\r\n        Environment environment;\r\n        @Mock\r\n        ClassCreator classCreator;\r\n    \r\n        @InjectMocks\r\n        MyClient myClient;\r\n    \r\n    \r\n        @Test\r\n        public void mytest() {\r\n                myClient = new MyClient(environment, classCreator);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t}","title":"mock instance is null after @Mock annotation","body":"<p>Junit 5 with InjectMocks. Based on above suggestion <a href=\"https://stackoverflow.com/a/55616702/2643815\">https://stackoverflow.com/a/55616702/2643815</a></p>\n<pre><code> @ExtendWith(MockitoExtension.class)\npublic class MyClientTest {\n@Mock\n    Environment environment;\n    @Mock\n    ClassCreator classCreator;\n\n    @InjectMocks\n    MyClient myClient;\n\n\n    @Test\n    public void mytest() {\n            myClient = new MyClient(environment, classCreator);\n            \n            }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681732620,"creation_date":1681732620,"answer_id":76034915,"question_id":29590621,"body_markdown":" our application uses `JUNIT5` , same issue occured.\r\n I replaced `@Mock` with `@InjectMocks` - then issue was resolved","title":"mock instance is null after @Mock annotation","body":"<p>our application uses <code>JUNIT5</code> , same issue occured.\nI replaced <code>@Mock</code> with <code>@InjectMocks</code> - then issue was resolved</p>\n"},{"tags":[],"owner":{"account_id":18374865,"reputation":1,"user_id":14046495,"display_name":"Valkyrie006"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698235187,"creation_date":1698235158,"answer_id":77359274,"question_id":29590621,"body_markdown":"**My Code**\r\n\r\n1. It had JUnit version -&gt;\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. Was running on java 8\r\n\r\n**Solution**\r\n\r\nChange `@Test` to import from -\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n```\r\ninstead of -\r\n```\r\nimport org.junit.Test;\r\n```","title":"mock instance is null after @Mock annotation","body":"<p><strong>My Code</strong></p>\n<ol>\n<li>It had JUnit version -&gt;</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Was running on java 8</li>\n</ol>\n<p><strong>Solution</strong></p>\n<p>Change <code>@Test</code> to import from -</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n<p>instead of -</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173395,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":29593798,"answer_count":20,"score":135,"last_activity_date":1698235187,"creation_date":1428849476,"question_id":29590621,"body_markdown":"I try to run this test:\r\n\r\n        @Mock IRoutingObjHttpClient routingClientMock;\r\n        @Mock IRoutingResponseRepository routingResponseRepositoryMock;\r\n    \r\n    \r\n        @Test\r\n        public void testSendRoutingRequest() throws Exception {\r\n            CompleteRoutingResponse completeRoutingResponse = new CompleteRoutingResponse();\r\n            completeRoutingResponse.regression_latencyMillis = 500L;\r\n    \r\n            Mockito.when(routingClientMock.sendRoutingRequest(any(RoutingRequest.class))).thenReturn(completeRoutingResponse);\r\n    \r\n            RoutingObjHttpClientWithReRun routingObjHttpClientWithReRun = new RoutingObjHttpClientWithReRun\r\n                    (routingClientMock, routingResponseRepositoryMock);\r\n    \r\n    ...\r\n        }\r\n\r\nbut I get NullPointerException for:\r\n\r\n`Mockito.when(routingClientMock.`\r\n\r\nwhat am i missing?","title":"mock instance is null after @Mock annotation","body":"<p>I try to run this test:</p>\n\n<pre><code>    @Mock IRoutingObjHttpClient routingClientMock;\n    @Mock IRoutingResponseRepository routingResponseRepositoryMock;\n\n\n    @Test\n    public void testSendRoutingRequest() throws Exception {\n        CompleteRoutingResponse completeRoutingResponse = new CompleteRoutingResponse();\n        completeRoutingResponse.regression_latencyMillis = 500L;\n\n        Mockito.when(routingClientMock.sendRoutingRequest(any(RoutingRequest.class))).thenReturn(completeRoutingResponse);\n\n        RoutingObjHttpClientWithReRun routingObjHttpClientWithReRun = new RoutingObjHttpClientWithReRun\n                (routingClientMock, routingResponseRepositoryMock);\n\n...\n    }\n</code></pre>\n\n<p>but I get NullPointerException for:</p>\n\n<p><code>Mockito.when(routingClientMock.</code></p>\n\n<p>what am i missing?</p>\n"},{"tags":["java","spring-boot","authentication","oauth","keycloak"],"owner":{"account_id":28931398,"reputation":1,"user_id":22160029,"display_name":"Mohit Gevaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698235046,"creation_date":1698235046,"question_id":77359260,"body_markdown":"I have configured two securityFilterChains and in one of them when I use these security matchers, the Keycloak Login which redirects you to it&#39;s login page does not trigger. Without these security matchers it works fine. Here is the implementation for same.\r\n\r\n```\r\n                 httpSecurity\r\n                 .securityMatcher(antMatcher(&quot;/nirnai/ui/**&quot;))\r\n                .headers(httpSecurityHeadersConfigurer -&gt;                         .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n                        .requestMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2Login(e -&gt; e.successHandler(new Oauth2SuccessRedirectionHandler()).userInfoEndpoint(userInfoEndpointConfig -&gt; userInfoEndpointConfig.userAuthoritiesMapper(userAuthoritiesMapperForKeycloak())))\r\n\r\n```\r\n\r\n\r\nExpected code should trigger Keycloak login page when any of the URL matches.","title":"Spring security 6 with keycloak","body":"<p>I have configured two securityFilterChains and in one of them when I use these security matchers, the Keycloak Login which redirects you to it's login page does not trigger. Without these security matchers it works fine. Here is the implementation for same.</p>\n<pre><code>                 httpSecurity\n                 .securityMatcher(antMatcher(&quot;/nirnai/ui/**&quot;))\n                .headers(httpSecurityHeadersConfigurer -&gt;                         .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n                        .requestMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2Login(e -&gt; e.successHandler(new Oauth2SuccessRedirectionHandler()).userInfoEndpoint(userInfoEndpointConfig -&gt; userInfoEndpointConfig.userAuthoritiesMapper(userAuthoritiesMapperForKeycloak())))\n\n</code></pre>\n<p>Expected code should trigger Keycloak login page when any of the URL matches.</p>\n"},{"tags":["java","apache-flink"],"owner":{"account_id":29750166,"reputation":1,"user_id":22800254,"display_name":"Bzelga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698234738,"creation_date":1698234738,"question_id":77359219,"body_markdown":"I&#39;m trying to connect to PostgreSQL via Apache Flink, but I don&#39;t get data from the table, neither those that are already in the table, nor new ones.\r\n\r\n\r\nTried 2 options:\r\n1) At first I tried it this way, based on [this](https://ververica.github.io/flink-cdc-connectors/master/content/connectors/postgres-cdc.html) example:\r\n\r\n```\r\nSourceFunction&lt;String&gt; postgresSourceBuilder = new PostgreSQLSource.Builder&lt;String&gt;()\r\n        .hostname(&quot;ip&quot;)\r\n        .port(5432)\r\n        .database(&quot;database&quot;)\r\n        .tableList(&quot;table&quot;)\r\n        .username(&quot;user&quot;)\r\n        .password(&quot;password&quot;)\r\n        .deserializer(new JsonDebeziumDeserializationSchema())\r\n        .build();\r\n \r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nenv.addSource(postgresSourceBuilder).print().setParallelism(1);\r\nenv.execute();\r\n```\r\n\r\nJudging by the dashboard in pgAdmin 4, Debezium establishes a connection to the database, but, at the same time, records from the table are not displayed in the logs, neither those that existed nor new ones.\r\n\r\nWhat am I doing wrong in this case, maybe &quot;print()&quot; should not output records?\r\n\r\n2) I tried to make the following query via Linq SQL:\r\n\r\n\r\n```\r\nCREATE TABLE MyTest (\r\n  id INT,\r\n  FIRST NUMERIC(6),\r\n  LAST NUMERIC(6),\r\n  PRIMARY KEY (id) NOT ENFORCED\r\n) WITH (\r\n   &#39;connector&#39; = &#39;jdbc&#39;,\r\n   &#39;url&#39; = &#39;jdbc:postgresql://ip/database&#39;,\r\n   &#39;table-name&#39; = &#39;table&#39;,\r\n   &#39;username&#39;=&#39;user&#39;,\r\n   &#39;password&#39;=&#39;password&#39;\r\n);\r\n \r\nSELECT * FROM MyTest;\r\n```\r\nAfter that, existing records are displayed from the table, but new ones are not.\r\n\r\nHow to use this method in a Java application, maybe to execute a query through the &quot;ExecuteSQL()&quot; method? How to make the data read repeatedly?","title":"How to connect to PostgreSQL in Apache flink?","body":"<p>I'm trying to connect to PostgreSQL via Apache Flink, but I don't get data from the table, neither those that are already in the table, nor new ones.</p>\n<p>Tried 2 options:</p>\n<ol>\n<li>At first I tried it this way, based on <a href=\"https://ververica.github.io/flink-cdc-connectors/master/content/connectors/postgres-cdc.html\" rel=\"nofollow noreferrer\">this</a> example:</li>\n</ol>\n<pre><code>SourceFunction&lt;String&gt; postgresSourceBuilder = new PostgreSQLSource.Builder&lt;String&gt;()\n        .hostname(&quot;ip&quot;)\n        .port(5432)\n        .database(&quot;database&quot;)\n        .tableList(&quot;table&quot;)\n        .username(&quot;user&quot;)\n        .password(&quot;password&quot;)\n        .deserializer(new JsonDebeziumDeserializationSchema())\n        .build();\n \nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.addSource(postgresSourceBuilder).print().setParallelism(1);\nenv.execute();\n</code></pre>\n<p>Judging by the dashboard in pgAdmin 4, Debezium establishes a connection to the database, but, at the same time, records from the table are not displayed in the logs, neither those that existed nor new ones.</p>\n<p>What am I doing wrong in this case, maybe &quot;print()&quot; should not output records?</p>\n<ol start=\"2\">\n<li>I tried to make the following query via Linq SQL:</li>\n</ol>\n<pre><code>CREATE TABLE MyTest (\n  id INT,\n  FIRST NUMERIC(6),\n  LAST NUMERIC(6),\n  PRIMARY KEY (id) NOT ENFORCED\n) WITH (\n   'connector' = 'jdbc',\n   'url' = 'jdbc:postgresql://ip/database',\n   'table-name' = 'table',\n   'username'='user',\n   'password'='password'\n);\n \nSELECT * FROM MyTest;\n</code></pre>\n<p>After that, existing records are displayed from the table, but new ones are not.</p>\n<p>How to use this method in a Java application, maybe to execute a query through the &quot;ExecuteSQL()&quot; method? How to make the data read repeatedly?</p>\n"},{"tags":["javascript","java","graalvm","polyglot"],"answers":[{"comments":[{"owner":{"account_id":6461806,"reputation":156,"user_id":5005314,"display_name":"The_Outsider"},"score":0,"creation_date":1602262344,"post_id":64275573,"comment_id":113675222,"body_markdown":"I agree that with allowAllAccess(true) this is possible. But the documentation advises against this when the code is not fully trusted. This will not work with explicit host access setting and objects whose members are only known at run time (are not decorated with HostAccess.Export), and objects with private members that are made public through annotations (Lombok).","body":"I agree that with allowAllAccess(true) this is possible. But the documentation advises against this when the code is not fully trusted. This will not work with explicit host access setting and objects whose members are only known at run time (are not decorated with HostAccess.Export), and objects with private members that are made public through annotations (Lombok)."},{"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"score":0,"creation_date":1602675844,"post_id":64275573,"comment_id":113794413,"body_markdown":"Sure, that&#39;s the tradeoff I guess. Open access to the host (java) types is rather risky. More security imposes more limits. Not sure if there is a way around it.","body":"Sure, that&#39;s the tradeoff I guess. Open access to the host (java) types is rather risky. More security imposes more limits. Not sure if there is a way around it."}],"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602228018,"creation_date":1602228018,"answer_id":64275573,"question_id":64163189,"body_markdown":"As the javadoc for ProxyObject [1] says &quot;Interface to be implemented to mimic guest language objects that contain members.&quot;. This means that if you want the Java object to be used in JavaScript as if it was native to JavaScript it needs to be a ProxyObject.\r\n\r\nOn the other hand, as the website docs [2] show, Java objects passed into JavaScript can still be used as Java objects (i.e. they don&#39;t mimic JS objects by default). This means you can access fields, invoke methods, etc.\r\nThe website docs show an example:\r\n\r\n    public static class MyClass {\r\n        public int               id    = 42;\r\n        public String            text  = &quot;42&quot;;\r\n        public int[]             arr   = new int[]{1, 42, 3};\r\n        public Callable&lt;Integer&gt; ret42 = () -&gt; 42;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        try (Context context = Context.newBuilder()\r\n                                   .allowAllAccess(true)\r\n                               .build()) {\r\n            context.getBindings(&quot;js&quot;).putMember(&quot;javaObj&quot;, new MyClass());\r\n            boolean valid = context.eval(&quot;js&quot;,\r\n                   &quot;    javaObj.id         == 42&quot;          +\r\n                   &quot; &amp;&amp; javaObj.text       == &#39;42&#39;&quot;        +\r\n                   &quot; &amp;&amp; javaObj.arr[1]     == 42&quot;          +\r\n                   &quot; &amp;&amp; javaObj.ret42()    == 42&quot;)\r\n               .asBoolean();\r\n            assert valid == true;\r\n        }\r\n    }\r\n\r\n[1] https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html\r\n\r\n[2] https://www.graalvm.org/reference-manual/embed-languages/","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>As the javadoc for ProxyObject [1] says &quot;Interface to be implemented to mimic guest language objects that contain members.&quot;. This means that if you want the Java object to be used in JavaScript as if it was native to JavaScript it needs to be a ProxyObject.</p>\n<p>On the other hand, as the website docs [2] show, Java objects passed into JavaScript can still be used as Java objects (i.e. they don't mimic JS objects by default). This means you can access fields, invoke methods, etc.\nThe website docs show an example:</p>\n<pre><code>public static class MyClass {\n    public int               id    = 42;\n    public String            text  = &quot;42&quot;;\n    public int[]             arr   = new int[]{1, 42, 3};\n    public Callable&lt;Integer&gt; ret42 = () -&gt; 42;\n}\n\npublic static void main(String[] args) {\n    try (Context context = Context.newBuilder()\n                               .allowAllAccess(true)\n                           .build()) {\n        context.getBindings(&quot;js&quot;).putMember(&quot;javaObj&quot;, new MyClass());\n        boolean valid = context.eval(&quot;js&quot;,\n               &quot;    javaObj.id         == 42&quot;          +\n               &quot; &amp;&amp; javaObj.text       == '42'&quot;        +\n               &quot; &amp;&amp; javaObj.arr[1]     == 42&quot;          +\n               &quot; &amp;&amp; javaObj.ret42()    == 42&quot;)\n           .asBoolean();\n        assert valid == true;\n    }\n}\n</code></pre>\n<p>[1] <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html</a></p>\n<p>[2] <a href=\"https://www.graalvm.org/reference-manual/embed-languages/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/embed-languages/</a></p>\n"},{"tags":[],"owner":{"account_id":1551039,"reputation":826,"user_id":1443418,"accept_rate":83,"display_name":"Jiehong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698234731,"creation_date":1698234731,"answer_id":77359217,"question_id":64163189,"body_markdown":"Got the same issue.\r\n\r\nOne way I&#39;ve fixed it is to convert the java object into json, and then prepending that to the source: this way, the data is completely parsed into javascript.\r\n\r\nFor example, with jackson:\r\n\r\n```java\r\nfinal String data = this.objectMapper.writeValueAsString(complexObject);\r\nfinal String preScript = &quot;const x = &quot; + data + &quot;;\\n&quot;;\r\nvar result = context.eval(Source.newBuilder(&quot;js&quot;, preScript + script, &quot;src.js&quot;).build());\r\n```\r\n\r\nThis can correctly evaluate things like `x.myMap.key.length`, etc.\r\n\r\nI&#39;ve chosen this solution, because ppening the java access it too risky on my side.","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>Got the same issue.</p>\n<p>One way I've fixed it is to convert the java object into json, and then prepending that to the source: this way, the data is completely parsed into javascript.</p>\n<p>For example, with jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String data = this.objectMapper.writeValueAsString(complexObject);\nfinal String preScript = &quot;const x = &quot; + data + &quot;;\\n&quot;;\nvar result = context.eval(Source.newBuilder(&quot;js&quot;, preScript + script, &quot;src.js&quot;).build());\n</code></pre>\n<p>This can correctly evaluate things like <code>x.myMap.key.length</code>, etc.</p>\n<p>I've chosen this solution, because ppening the java access it too risky on my side.</p>\n"}],"owner":{"account_id":6461806,"reputation":156,"user_id":5005314,"display_name":"The_Outsider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698234731,"creation_date":1601586356,"question_id":64163189,"body_markdown":"Using GraalVM, to expose Java objects to JavaScript, I am using `ProxyObject` to wrap them. For this purpose, I am using `ProxyObject.fromMap` method like the following:\r\n\r\n```\r\nProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(javaObject, Map.class));\r\n```\r\n\r\nHere, the `javaObject` is of `Object` class and can be arbitrarily complex. This method works for immediate members of `javaObject`, but not when the members are complex objects themselves. For example, if one of the members of `javaObject` happens to be a `Map`, like:\r\n\r\n```\r\n        final Map&lt;String, Object&gt; source = new HashMap&lt;&gt;();\r\n        source.put(&quot;id&quot;, &quot;1234567890&quot;);\r\n        final Map&lt;String, Object&gt; sourceComponent = ImmutableMap.of(&quot;key&quot;, &quot;value&quot;);\r\n        source.put(&quot;complex&quot;, sourceComponent);\r\n\r\n        // assuming the source is any object   \r\n        ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(source, Map.class));\r\n\r\n        // or knowing that source is in fact a map\r\n        ProxyObject exposedObject = ProxyObject.fromMap(source);\r\n```\r\n\r\nthis is what happens when the `exposedObject` is accessed in JavaScript:\r\n\r\n```\r\nexposedObject; // returns {complex: JavaObject[com.google.common.collect.SingletonImmutableBiMap], id: &quot;1234567890&quot;}\r\n\r\nexposedObject.id; // returns 01234567890\r\n\r\nexposedObject.complex; // returns {key=value}\r\n\r\nexposedObject.complex.key; // returns undefined\r\n```\r\n\r\nSo my question is how we can fully expose an arbitrarily complex and deep java object to javascript. Do we have to go through all members recursively and wrap them into `ProxyObject`s? Or is there a supported out-of-the-box method of achieving this?\r\n\r\nAlso, please let me know if my approach needs to change.\r\n","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>Using GraalVM, to expose Java objects to JavaScript, I am using <code>ProxyObject</code> to wrap them. For this purpose, I am using <code>ProxyObject.fromMap</code> method like the following:</p>\n<pre><code>ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(javaObject, Map.class));\n</code></pre>\n<p>Here, the <code>javaObject</code> is of <code>Object</code> class and can be arbitrarily complex. This method works for immediate members of <code>javaObject</code>, but not when the members are complex objects themselves. For example, if one of the members of <code>javaObject</code> happens to be a <code>Map</code>, like:</p>\n<pre><code>        final Map&lt;String, Object&gt; source = new HashMap&lt;&gt;();\n        source.put(&quot;id&quot;, &quot;1234567890&quot;);\n        final Map&lt;String, Object&gt; sourceComponent = ImmutableMap.of(&quot;key&quot;, &quot;value&quot;);\n        source.put(&quot;complex&quot;, sourceComponent);\n\n        // assuming the source is any object   \n        ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(source, Map.class));\n\n        // or knowing that source is in fact a map\n        ProxyObject exposedObject = ProxyObject.fromMap(source);\n</code></pre>\n<p>this is what happens when the <code>exposedObject</code> is accessed in JavaScript:</p>\n<pre><code>exposedObject; // returns {complex: JavaObject[com.google.common.collect.SingletonImmutableBiMap], id: &quot;1234567890&quot;}\n\nexposedObject.id; // returns 01234567890\n\nexposedObject.complex; // returns {key=value}\n\nexposedObject.complex.key; // returns undefined\n</code></pre>\n<p>So my question is how we can fully expose an arbitrarily complex and deep java object to javascript. Do we have to go through all members recursively and wrap them into <code>ProxyObject</code>s? Or is there a supported out-of-the-box method of achieving this?</p>\n<p>Also, please let me know if my approach needs to change.</p>\n"},{"tags":["java","google-bigquery"],"answers":[{"comments":[{"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"score":0,"creation_date":1698234228,"post_id":77359053,"comment_id":136378668,"body_markdown":"and what to do with the session ID? How to use it with the next query?","body":"and what to do with the session ID? How to use it with the next query?"},{"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"score":0,"creation_date":1698234603,"post_id":77359053,"comment_id":136378744,"body_markdown":"https://cloud.google.com/java/docs/reference/google-cloud-https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.QueryJobConfiguration.Builder#com_google_cloud_bigquery_QueryJobConfiguration_Builder_setConnectionProperties_java_util_List_com_google_cloud_bigquery_ConnectionProperty__\n\nPut it here with &quot;session_id&quot; key. Using https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.ConnectionProperty.Builder#com_google_cloud_bigquery_ConnectionProperty_Builder_setKey_java_lang_String_","body":"<a href=\"https://cloud.google.com/java/docs/reference/google-cloud-https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.QueryJobConfiguration.Builder#com_google_cloud_bigquery_QueryJobConfiguration_Builder_setConnectionProperties_java_util_List_com_google_cloud_bigquery_ConnectionProperty__\" rel=\"nofollow noreferrer\">cloud.google.com/java/docs/reference/google-cloud-https://&hellip;</a>  Put it here with &quot;session_id&quot; key. Using <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.ConnectionProperty.Builder#com_google_cloud_bigquery_ConnectionProperty_Builder_setKey_java_lang_String_\" rel=\"nofollow noreferrer\">cloud.google.com/java/docs/reference/google-cloud-bigquery/&hellip;</a>"}],"tags":[],"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698233316,"creation_date":1698233316,"answer_id":77359053,"question_id":74570179,"body_markdown":"Will JobStatistics.SessionInfo work for you?\r\n```\r\n bq.create(\r\n        JobInfo.of(QueryJobConfiguration\r\n        .newBuilder(&quot;your query&quot;)\r\n        .setCreateSession(true)\r\n        .build()))\r\n      .getStatistics[com.google.cloud.bigquery.JobStatistics.QueryStatistics]\r\n      .getSessionInfo\r\n      .getSessionId\r\n```","title":"How to use session in BigQuery java client","body":"<p>Will JobStatistics.SessionInfo work for you?</p>\n<pre><code> bq.create(\n        JobInfo.of(QueryJobConfiguration\n        .newBuilder(&quot;your query&quot;)\n        .setCreateSession(true)\n        .build()))\n      .getStatistics[com.google.cloud.bigquery.JobStatistics.QueryStatistics]\n      .getSessionInfo\n      .getSessionId\n</code></pre>\n"}],"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698233316,"creation_date":1669365950,"question_id":74570179,"body_markdown":"I want to create and then use temporary tables in multiple queries using java client. For that I need to use sessions. \r\n\r\nI can create the temp table with:\r\n```\r\nBigQuery bigQuery = ....\r\nQueryJobConfiguration.Builder b = QueryJobConfiguration.newBuilder(&quot;CREATE TEMP TABLE _SESSION.tmp_01 AS SELECT .....&quot;)\r\nbigQuery.query(b.setCreateSession(true).build())\r\n```\r\n\r\nProblem is, how can I reuse the session in a next query?\r\n```\r\nb = QueryJobConfiguration.newBuilder(&quot;SELECT DISTINCT * FROM _SESSION.tmp_01&quot;);\r\nbigQuery.query(b.build()); //ERROR: cannot find tmp_01 table.\r\n```\r\n\r\n\r\n\r\n","title":"How to use session in BigQuery java client","body":"<p>I want to create and then use temporary tables in multiple queries using java client. For that I need to use sessions.</p>\n<p>I can create the temp table with:</p>\n<pre><code>BigQuery bigQuery = ....\nQueryJobConfiguration.Builder b = QueryJobConfiguration.newBuilder(&quot;CREATE TEMP TABLE _SESSION.tmp_01 AS SELECT .....&quot;)\nbigQuery.query(b.setCreateSession(true).build())\n</code></pre>\n<p>Problem is, how can I reuse the session in a next query?</p>\n<pre><code>b = QueryJobConfiguration.newBuilder(&quot;SELECT DISTINCT * FROM _SESSION.tmp_01&quot;);\nbigQuery.query(b.build()); //ERROR: cannot find tmp_01 table.\n</code></pre>\n"},{"tags":["java","docker","kubernetes","memory"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1624996151,"post_id":68184721,"comment_id":120508306,"body_markdown":"Look inside with visualvm","body":"Look inside with visualvm"},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625070115,"post_id":68184721,"comment_id":120531688,"body_markdown":"@Thorbj&#248;rnRavnAndersen visualvm mostly gives data about heap, metaspace etc. , things that we already know from NMT stats. Is there anything I&#39;m missing here or any particular section I should be looking at ?","body":"@Thorbj&#248;rnRavnAndersen visualvm mostly gives data about heap, metaspace etc. , things that we already know from NMT stats. Is there anything I&#39;m missing here or any particular section I should be looking at ?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625070300,"post_id":68184721,"comment_id":120531754,"body_markdown":"It gives you actual numbers on how the JVM looks at the world.    This might be different from what is expected so you may have a spike outgrowing the pod faster than the OOM can trigger.","body":"It gives you actual numbers on how the JVM looks at the world.    This might be different from what is expected so you may have a spike outgrowing the pod faster than the OOM can trigger."},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625074666,"post_id":68184721,"comment_id":120533471,"body_markdown":"@Thorbj&#248;rnRavnAndersen  Xmx is 300m and container max is 700m . Even if there is sudden spike in heap usage the total memory consumed by docker container should never reach close to 700 m right ?","body":"@Thorbj&#248;rnRavnAndersen  Xmx is 300m and container max is 700m . Even if there is sudden spike in heap usage the total memory consumed by docker container should never reach close to 700 m right ?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625083077,"post_id":68184721,"comment_id":120536458,"body_markdown":"Measure.  See what actually happens - your assumptions may be subtly incorrect.","body":"Measure.  See what actually happens - your assumptions may be subtly incorrect."},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625166203,"post_id":68184721,"comment_id":120562456,"body_markdown":"@Thorbj&#248;rnRavnAndersen : I tracked one of the pods that&#39;s been running for 8 hrs, but the requests have started coming in only in the past 4 hrs or so. I&#39;m attaching the visualvm screenshot and memory consumption of container as a whole. I still don&#39;t see what is causing this surge.","body":"@Thorbj&#248;rnRavnAndersen : I tracked one of the pods that&#39;s been running for 8 hrs, but the requests have started coming in only in the past 4 hrs or so. I&#39;m attaching the visualvm screenshot and memory consumption of container as a whole. I still don&#39;t see what is causing this surge."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625170742,"post_id":68184721,"comment_id":120563888,"body_markdown":"Slowly growing heap even with garbage collections _could_ indicate a small memory leak. I would suggest monitoring a load test.","body":"Slowly growing heap even with garbage collections <i>could</i> indicate a small memory leak. I would suggest monitoring a load test."},{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":0,"creation_date":1683213146,"post_id":68184721,"comment_id":134335277,"body_markdown":"@vinayhudli did you find the root cause? i am facing the exact same issue. my pod request and limits are 4/6 gb. my total committed native memory reduced from 841mb to 700mb. but my pod memory increased from 900mb to 4GB over time.","body":"@vinayhudli did you find the root cause? i am facing the exact same issue. my pod request and limits are 4/6 gb. my total committed native memory reduced from 841mb to 700mb. but my pod memory increased from 900mb to 4GB over time."},{"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"score":0,"creation_date":1697953414,"post_id":68184721,"comment_id":136342639,"body_markdown":"Not directly relevant to your question, but relevant to your workload: https://home.robusta.dev/blog/stop-using-cpu-limits","body":"Not directly relevant to your question, but relevant to your workload: <a href=\"https://home.robusta.dev/blog/stop-using-cpu-limits\" rel=\"nofollow noreferrer\">home.robusta.dev/blog/stop-using-cpu-limits</a>"}],"answers":[{"tags":[],"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697976433,"creation_date":1697965732,"answer_id":77339319,"question_id":68184721,"body_markdown":"We had exactly the same problem with Java on GKE, in our case a Spring Boot server running in an Alpine Linux container.  The problem is not in your Java code, it&#39;s in the Java VM itself: on Linux, it cannot handle extremely multi-threaded applications which allocate and then deallocate a lot of memory.  Thankfully there&#39;s a solution: jemalloc.  Assuming you&#39;re using Alpine, simply add the following to your Dockerfile:\r\n\r\n    RUN apk --no-cache add jemalloc\r\n    ENV LD_PRELOAD=/usr/lib/libjemalloc.so.2\r\n\r\nProblem solved.  It took our Spring Boot containers down from 3.5GB to 2.6GB.\r\n\r\nIf the above is difficult for some reason, try setting MALLOC_ARENA_MAX=4 (or 2).","title":"Kubernetes Pod memory keeps on increasing and shoots way beyond Java application consumption","body":"<p>We had exactly the same problem with Java on GKE, in our case a Spring Boot server running in an Alpine Linux container.  The problem is not in your Java code, it's in the Java VM itself: on Linux, it cannot handle extremely multi-threaded applications which allocate and then deallocate a lot of memory.  Thankfully there's a solution: jemalloc.  Assuming you're using Alpine, simply add the following to your Dockerfile:</p>\n<pre><code>RUN apk --no-cache add jemalloc\nENV LD_PRELOAD=/usr/lib/libjemalloc.so.2\n</code></pre>\n<p>Problem solved.  It took our Spring Boot containers down from 3.5GB to 2.6GB.</p>\n<p>If the above is difficult for some reason, try setting MALLOC_ARENA_MAX=4 (or 2).</p>\n"}],"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698232973,"creation_date":1624995601,"question_id":68184721,"body_markdown":"**Current Setup:**\r\n\r\n 1.  Java application running as Kubernetes workload on Google Kubernetes engine\r\n 2. JVM args : &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:NativeMemoryTracking=detail&quot;, &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;, &quot;-XX:HeapDumpPath=/dumps/oom.bin&quot;, &quot;-Xmx300m&quot;, &quot;-Xms300m&quot;\r\n 3. Docker memory set using deployment.yml\r\n\r\n    limits:\r\n         cpu: 350m\r\n         memory: 700Mi\r\n       requests:\r\n         cpu: 200m\r\n         memory: 128Mi\r\n\r\n 4. Native memory committed is below 550m when the pod is very near to hitting the max container limit. This leads me to believe that there is something apart from native memory causing this issue\r\n\r\n   \r\n\r\n     Total: reserved=1788920KB, committed=546092KB\r\n        -                 Java Heap (reserved=307200KB, committed=307200KB)\r\n                                    (mmap: reserved=307200KB, committed=307200KB) \r\n         \r\n        -                     Class (reserved=1116111KB, committed=75431KB)\r\n                                    (classes #12048)\r\n                                    (malloc=1999KB #25934) \r\n                                    (mmap: reserved=1114112KB, committed=73432KB) \r\n         \r\n        -                    Thread (reserved=46444KB, committed=46444KB)\r\n                                    (thread #46)\r\n                                    (stack: reserved=46240KB, committed=46240KB)\r\n                                    (malloc=153KB #270) \r\n                                    (arena=51KB #88)\r\n         \r\n        -                      Code (reserved=259362KB, committed=57214KB)\r\n                                    (malloc=9762KB #14451) \r\n                                    (mmap: reserved=249600KB, committed=47452KB) \r\n         \r\n        -                        GC (reserved=1034KB, committed=1034KB)\r\n                                    (malloc=26KB #180) \r\n                                    (mmap: reserved=1008KB, committed=1008KB) \r\n         \r\n        -                  Compiler (reserved=321KB, committed=321KB)\r\n                                    (malloc=189KB #982) \r\n                                    (arena=133KB #5)\r\n         \r\n        -                  Internal (reserved=39461KB, committed=39461KB)\r\n                                    (malloc=39429KB #16005) \r\n                                    (mmap: reserved=32KB, committed=32KB) \r\n         \r\n        -                    Symbol (reserved=15588KB, committed=15588KB)\r\n                                    (malloc=13214KB #128579) \r\n                                    (arena=2374KB #1)\r\n         \r\n        -    Native Memory Tracking (reserved=3220KB, committed=3220KB)\r\n                                    (malloc=249KB #3553) \r\n                                    (tracking overhead=2971KB)\r\n         \r\n        -               Arena Chunk (reserved=178KB, committed=178KB)\r\n                                    (malloc=178KB)\r\n\r\n \r\n\r\n 5. Have also checked memory consumption of java process using ps (550m) and htop (res 604m)\r\n\r\n\r\n**Issue**\r\n\r\nThe pod has single container and that container has only this java application running with above mentioned configs. This java application essentially downloads images in parallel using threads with some validations like image size, dimension etc. The pod memory consumption keeps increasing until it almost hits that limit and the application restarts. I have read through many different posts and articles and I can&#39;t figure out what is causing this memory to keep going up.\r\n\r\nEdit 1: Docker image is based off openjdk:8-jdk-slim\r\nEdit2: Some screenshots of monitoring\r\n[![total container memory usage][1]][1]\r\n[![memory snapshot of application in visualvm][2]][2]\r\n[![heap usage of application in visualvm][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HHwSM.png\r\n  [2]: https://i.stack.imgur.com/haSAN.png\r\n  [3]: https://i.stack.imgur.com/My67Y.png","title":"Kubernetes Pod memory keeps on increasing and shoots way beyond Java application consumption","body":"<p><strong>Current Setup:</strong></p>\n<ol>\n<li><p>Java application running as Kubernetes workload on Google Kubernetes engine</p>\n</li>\n<li><p>JVM args : &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:NativeMemoryTracking=detail&quot;, &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;, &quot;-XX:HeapDumpPath=/dumps/oom.bin&quot;, &quot;-Xmx300m&quot;, &quot;-Xms300m&quot;</p>\n</li>\n<li><p>Docker memory set using deployment.yml</p>\n<p>limits:\ncpu: 350m\nmemory: 700Mi\nrequests:\ncpu: 200m\nmemory: 128Mi</p>\n</li>\n<li><p>Native memory committed is below 550m when the pod is very near to hitting the max container limit. This leads me to believe that there is something apart from native memory causing this issue</p>\n<p>Total: reserved=1788920KB, committed=546092KB\n-                 Java Heap (reserved=307200KB, committed=307200KB)\n(mmap: reserved=307200KB, committed=307200KB)</p>\n<pre><code>-                     Class (reserved=1116111KB, committed=75431KB)\n                            (classes #12048)\n                            (malloc=1999KB #25934) \n                            (mmap: reserved=1114112KB, committed=73432KB) \n\n-                    Thread (reserved=46444KB, committed=46444KB)\n                            (thread #46)\n                            (stack: reserved=46240KB, committed=46240KB)\n                            (malloc=153KB #270) \n                            (arena=51KB #88)\n\n-                      Code (reserved=259362KB, committed=57214KB)\n                            (malloc=9762KB #14451) \n                            (mmap: reserved=249600KB, committed=47452KB) \n\n-                        GC (reserved=1034KB, committed=1034KB)\n                            (malloc=26KB #180) \n                            (mmap: reserved=1008KB, committed=1008KB) \n\n-                  Compiler (reserved=321KB, committed=321KB)\n                            (malloc=189KB #982) \n                            (arena=133KB #5)\n\n-                  Internal (reserved=39461KB, committed=39461KB)\n                            (malloc=39429KB #16005) \n                            (mmap: reserved=32KB, committed=32KB) \n\n-                    Symbol (reserved=15588KB, committed=15588KB)\n                            (malloc=13214KB #128579) \n                            (arena=2374KB #1)\n\n-    Native Memory Tracking (reserved=3220KB, committed=3220KB)\n                            (malloc=249KB #3553) \n                            (tracking overhead=2971KB)\n\n-               Arena Chunk (reserved=178KB, committed=178KB)\n                            (malloc=178KB)\n</code></pre>\n</li>\n<li><p>Have also checked memory consumption of java process using ps (550m) and htop (res 604m)</p>\n</li>\n</ol>\n<p><strong>Issue</strong></p>\n<p>The pod has single container and that container has only this java application running with above mentioned configs. This java application essentially downloads images in parallel using threads with some validations like image size, dimension etc. The pod memory consumption keeps increasing until it almost hits that limit and the application restarts. I have read through many different posts and articles and I can't figure out what is causing this memory to keep going up.</p>\n<p>Edit 1: Docker image is based off openjdk:8-jdk-slim\nEdit2: Some screenshots of monitoring\n<a href=\"https://i.stack.imgur.com/HHwSM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHwSM.png\" alt=\"total container memory usage\" /></a>\n<a href=\"https://i.stack.imgur.com/haSAN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/haSAN.png\" alt=\"memory snapshot of application in visualvm\" /></a>\n<a href=\"https://i.stack.imgur.com/My67Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/My67Y.png\" alt=\"heap usage of application in visualvm\" /></a></p>\n"},{"tags":["java","spring","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698230134,"post_id":77358643,"comment_id":136377869,"body_markdown":"When you get an `InvocationTargetException`, there is an exception thrown by the invoked target, which you should inspect. Besides that, this class loader is broken. Instead of trying to find the class with the specified name, it mindlessly tries to read the class definition from the one `InputStream`. This might be the wrong class for the current request, further, an input stream can only be read once. This method should use the definition only when the class name matches. Or, just invoke `defineClass` in the first place, without overriding and calling `findClass`.","body":"When you get an <code>InvocationTargetException</code>, there is an exception thrown by the invoked target, which you should inspect. Besides that, this class loader is broken. Instead of trying to find the class with the specified name, it mindlessly tries to read the class definition from the one <code>InputStream</code>. This might be the wrong class for the current request, further, an input stream can only be read once. This method should use the definition only when the class name matches. Or, just invoke <code>defineClass</code> in the first place, without overriding and calling <code>findClass</code>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698233000,"post_id":77358643,"comment_id":136378404,"body_markdown":"And you might also want to redirect to the parent `ClassLoader` in case another class is loaded with your `ClassLoader`","body":"And you might also want to redirect to the parent <code>ClassLoader</code> in case another class is loaded with your <code>ClassLoader</code>"},{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698239236,"post_id":77358643,"comment_id":136379732,"body_markdown":"@Holger Thanks for your replies, your ideas are correct, the codes have some deficiencies like you mentioned, I will refine it.","body":"@Holger Thanks for your replies, your ideas are correct, the codes have some deficiencies like you mentioned, I will refine it."},{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698239250,"post_id":77358643,"comment_id":136379737,"body_markdown":"@dan1st indeed, i need do that.","body":"@dan1st indeed, i need do that."}],"answers":[{"comments":[{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698240316,"post_id":77359006,"comment_id":136379975,"body_markdown":"Thank you so much, I will adjust my codes as you pointed. But I still have a question  for these words:\n&quot;Since you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment.&quot;\n\nI want to know, in general, what causes the system class loader to behave different in Cloud and local?","body":"Thank you so much, I will adjust my codes as you pointed. But I still have a question  for these words: &quot;Since you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment.&quot;  I want to know, in general, what causes the system class loader to behave different in Cloud and local?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698241952,"post_id":77359006,"comment_id":136380371,"body_markdown":"The framework you are using may create new class loaders, including the one loading your code, to implement modularization and/or hot deployment mechanisms, etc. So, since classes loaded through the system class loader are globally visible and can never be unloaded, the classes are not made available to the system class loader in such environments, but rather must be loaded through the frameworks custom loader.","body":"The framework you are using may create new class loaders, including the one loading your code, to implement modularization and/or hot deployment mechanisms, etc. So, since classes loaded through the system class loader are globally visible and can never be unloaded, the classes are not made available to the system class loader in such environments, but rather must be loaded through the frameworks custom loader."},{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698283191,"post_id":77359006,"comment_id":136386800,"body_markdown":"Yes,  I got it, the SpringContextUtil is loaded by org.springframework.boot.loader.LaunchedURLClassLoader, which is a framwork&#39;s custom loader. And after I specify the parent class loader for my ClassFileClassLoader as org.springframework.boot.loader.LaunchedURLClassLoader, it works. Thank you buddy.","body":"Yes,  I got it, the SpringContextUtil is loaded by org.springframework.boot.loader.LaunchedURLClassLoader, which is a framwork&#39;s custom loader. And after I specify the parent class loader for my ClassFileClassLoader as org.springframework.boot.loader.LaunchedURLClassLoader, it works. Thank you buddy."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698232916,"creation_date":1698232916,"answer_id":77359006,"question_id":77358643,"body_markdown":"When a class loader defines a class, the JVM will use this defining class loader for resolving all symbolic references. You might not have noticed so far, as the inherited `loadClass` implementation will only delegate to `findClass` if the standard delegation failed.\r\n\r\nSince you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment. You should pass the defining class loader of your own code as target.\r\n\r\nSo, a correct `findClass` method would only return the specific class when the requested class name matches. But the better approach is not to override `findClass` at all, leave all resolving to the default, but implement a method doing the intended operation in the first place, to define a particular class:\r\n\r\n```java\r\nclass ClassFileClassLoader extends ClassLoader {\r\n    ClassFileClassLoader() {\r\n        super(ClassFileClassLoader.class.getClassLoader());\r\n    }\r\n\r\n    Class&lt;?&gt; defineClass(String name, InputStream source) throws IOException {\r\n        byte[] definition;\r\n        try(InputStream toReadAndClose = source) {\r\n            byte[] buff = new byte[1024 * 4];\r\n            int len;\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            while((len = toReadAndClose.read(buff)) != -1) {\r\n                baos.write(buff, 0, len);\r\n            }\r\n            definition = baos.toByteArray();\r\n        }\r\n        return super.defineClass(name, definition, 0, definition.length);\r\n    }\r\n}\r\n```\r\nYou may have to add `public` modifiers if the class does not reside in the same package as the using code but Id keep the visibility at minimum.\r\n\r\nThen, you may use it like\r\n\r\n```java\r\nClassFileClassLoader classLoader = new ClassFileClassLoader();\r\nString className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\r\nClass&lt;?&gt; clazz = classLoader.defineClass(\r\n        packagePath + &quot;.&quot; + className, classFile.getInputStream());\r\nMethod[] methods = clazz.getMethods();\r\nfor (Method m : methods) {\r\n    if (m.getName().equals(methodName)) {\r\n        Object o = clazz.getConstructor().newInstance();\r\n        m.invoke(o, args);\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\nNote that calling `newInstance()` directly on a `Class` is discouraged (and deprecated with Java&#160;9 and newer). The instance should be created by calling `newInstance()` on a `Constructor` as demonstrated above.\r\n\r\nFurther, the reading code has been improved to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","title":"Why does this ClassLoader be used twice?","body":"<p>When a class loader defines a class, the JVM will use this defining class loader for resolving all symbolic references. You might not have noticed so far, as the inherited <code>loadClass</code> implementation will only delegate to <code>findClass</code> if the standard delegation failed.</p>\n<p>Since you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment. You should pass the defining class loader of your own code as target.</p>\n<p>So, a correct <code>findClass</code> method would only return the specific class when the requested class name matches. But the better approach is not to override <code>findClass</code> at all, leave all resolving to the default, but implement a method doing the intended operation in the first place, to define a particular class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassFileClassLoader extends ClassLoader {\n    ClassFileClassLoader() {\n        super(ClassFileClassLoader.class.getClassLoader());\n    }\n\n    Class&lt;?&gt; defineClass(String name, InputStream source) throws IOException {\n        byte[] definition;\n        try(InputStream toReadAndClose = source) {\n            byte[] buff = new byte[1024 * 4];\n            int len;\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            while((len = toReadAndClose.read(buff)) != -1) {\n                baos.write(buff, 0, len);\n            }\n            definition = baos.toByteArray();\n        }\n        return super.defineClass(name, definition, 0, definition.length);\n    }\n}\n</code></pre>\n<p>You may have to add <code>public</code> modifiers if the class does not reside in the same package as the using code but Id keep the visibility at minimum.</p>\n<p>Then, you may use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassFileClassLoader classLoader = new ClassFileClassLoader();\nString className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\nClass&lt;?&gt; clazz = classLoader.defineClass(\n        packagePath + &quot;.&quot; + className, classFile.getInputStream());\nMethod[] methods = clazz.getMethods();\nfor (Method m : methods) {\n    if (m.getName().equals(methodName)) {\n        Object o = clazz.getConstructor().newInstance();\n        m.invoke(o, args);\n        return;\n    }\n}\n</code></pre>\n<p>Note that calling <code>newInstance()</code> directly on a <code>Class</code> is discouraged (and deprecated with Java9 and newer). The instance should be created by calling <code>newInstance()</code> on a <code>Constructor</code> as demonstrated above.</p>\n<p>Further, the reading code has been improved to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n"}],"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77359006,"answer_count":1,"score":0,"last_activity_date":1698232916,"creation_date":1698229228,"question_id":77358643,"body_markdown":"### Background\r\nI want to execute an function that has not been loaded in JVM in a running program. \r\n\r\nMy program is running on cloud, and I want to dynamically execute an function without redeploying the application.\r\n\r\nMy mean is writing a customized ClassLoader receiving Class file from my exposed interface, the customized classloader is here:\r\n\r\n```\r\n@Slf4j\r\npublic class ClassFileClassLoader extends ClassLoader {\r\n    private final InputStream classFileInputStream;\r\n\r\n    public ClassFileClassLoader(InputStream classFileInputStream) {\r\n        this.classFileInputStream = classFileInputStream;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n        log.info(&quot;Class [{}] is going to be loaded.&quot;, name);\r\n        //check if this class has been loaded by super ClassLoader\r\n        Class&lt;?&gt; clazz = super.findLoadedClass(name);\r\n        if (clazz == null) {\r\n            byte[] classData = getClassData(); \r\n            if (classData == null) {\r\n                throw new ClassNotFoundException();\r\n            }\r\n            clazz = defineClass(name, classData, 0, classData.length); \r\n        }\r\n        return clazz;\r\n    }\r\n\r\n    private byte[] getClassData() {\r\n        try {\r\n            byte[] buff = new byte[1024 * 4];\r\n            int len;\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            while ((len = classFileInputStream.read(buff)) != -1) {\r\n                baos.write(buff, 0, len);\r\n            }\r\n            return baos.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (classFileInputStream != null) {\r\n                try {\r\n                    classFileInputStream.close();\r\n                } catch(IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd then I make a task class with a function:\r\n\r\n```\r\npublic class AnyTask {\r\n    public void afterSaleGoodsOfZD(String acc) {\r\n        AfterSalesDao afterSalesDao = (AfterSalesDao) SpringContextUtil.getBean(&quot;afterSalesDao&quot;);\r\n        // ... some business logic\r\n\r\n    }\r\n}\r\n```\r\nAnd my exposed interface like this:\r\n\r\n```\r\n@PostMapping(&quot;/dynamicLoading&quot;)\r\n    public void dynamicLoading(@RequestParam(&quot;class&quot;) MultipartFile classFile, @RequestParam String packagePath,\r\n                               @RequestParam String methodName, @RequestParam Object[] args)\r\n            throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException {\r\n        ClassFileClassLoader classLoader = new ClassFileClassLoader(classFile.getInputStream());\r\n        String className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\r\n        Class&lt;?&gt; clazz = classLoader.findClass(packagePath + &quot;.&quot; + className);\r\n        Method[] methods = clazz.getMethods();\r\n        for (Method m : methods) {\r\n            if (m.getName().equals(methodName)) {\r\n                Object o = clazz.newInstance();\r\n                m.invoke(o, args);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nJVM version: 1.8.0_392 (arm64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot;\r\n\r\n### Process\r\n1. Compile the task class AnyTask with javac on local machine.\r\n2. Use the compiled class to invoke the exposed interface\r\n\r\n```\r\ncurl --location &#39;http://xxxx/api/task/dynamicLoading&#39; \\\r\n--form &#39;class=@&quot;/xx/xx/xx/AnyTask.class&quot;&#39; \\\r\n--form &#39;packagePath=&quot;com.wosai.it.oms.task&quot;&#39; \\\r\n--form &#39;methodName=&quot;afterSaleGoodsOfZD&quot;&#39; \\\r\n--form &#39;args=&quot;acc&quot;\r\n```\r\n\r\n### Question \r\nThe process is totally normal on my local machine, but when it comes to cloud, the problem appears. It will throw an exception &quot;java.lang.reflect.InvocationTargetException&quot;\r\n\r\nWith my log `log.info(&quot;Class [{}] is going to be loaded.&quot;, name);` in ClassFileClassLoader I found that this log was invoked twice:\r\n1. Class [com.wosai.it.oms.task.AnyTask] is going to be load.\r\n2. Class [com.wosai.it.oms.util.SpringContextUtil] is going to be load.\r\nAnd it occurred an exception when invoked the second, of course, that must be an exception, because my customized classloader cannot load SpringContextUtil!\r\n\r\nBut on my local machine, there is only one log printed: \r\n1. Class [com.wosai.it.oms.task.AnyTask] is going to be load.\r\nSo, it&#39;s running normally.\r\n\r\nI want to know why the same code has different performance in local and cloud?\r\nAs my expected, it should be executed normally like local.","title":"Why does this ClassLoader be used twice?","body":"<h3>Background</h3>\n<p>I want to execute an function that has not been loaded in JVM in a running program.</p>\n<p>My program is running on cloud, and I want to dynamically execute an function without redeploying the application.</p>\n<p>My mean is writing a customized ClassLoader receiving Class file from my exposed interface, the customized classloader is here:</p>\n<pre><code>@Slf4j\npublic class ClassFileClassLoader extends ClassLoader {\n    private final InputStream classFileInputStream;\n\n    public ClassFileClassLoader(InputStream classFileInputStream) {\n        this.classFileInputStream = classFileInputStream;\n    }\n\n    @Override\n    public Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        log.info(&quot;Class [{}] is going to be loaded.&quot;, name);\n        //check if this class has been loaded by super ClassLoader\n        Class&lt;?&gt; clazz = super.findLoadedClass(name);\n        if (clazz == null) {\n            byte[] classData = getClassData(); \n            if (classData == null) {\n                throw new ClassNotFoundException();\n            }\n            clazz = defineClass(name, classData, 0, classData.length); \n        }\n        return clazz;\n    }\n\n    private byte[] getClassData() {\n        try {\n            byte[] buff = new byte[1024 * 4];\n            int len;\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            while ((len = classFileInputStream.read(buff)) != -1) {\n                baos.write(buff, 0, len);\n            }\n            return baos.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (classFileInputStream != null) {\n                try {\n                    classFileInputStream.close();\n                } catch(IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>And then I make a task class with a function:</p>\n<pre><code>public class AnyTask {\n    public void afterSaleGoodsOfZD(String acc) {\n        AfterSalesDao afterSalesDao = (AfterSalesDao) SpringContextUtil.getBean(&quot;afterSalesDao&quot;);\n        // ... some business logic\n\n    }\n}\n</code></pre>\n<p>And my exposed interface like this:</p>\n<pre><code>@PostMapping(&quot;/dynamicLoading&quot;)\n    public void dynamicLoading(@RequestParam(&quot;class&quot;) MultipartFile classFile, @RequestParam String packagePath,\n                               @RequestParam String methodName, @RequestParam Object[] args)\n            throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException {\n        ClassFileClassLoader classLoader = new ClassFileClassLoader(classFile.getInputStream());\n        String className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\n        Class&lt;?&gt; clazz = classLoader.findClass(packagePath + &quot;.&quot; + className);\n        Method[] methods = clazz.getMethods();\n        for (Method m : methods) {\n            if (m.getName().equals(methodName)) {\n                Object o = clazz.newInstance();\n                m.invoke(o, args);\n                return;\n            }\n        }\n    }\n</code></pre>\n<p>JVM version: 1.8.0_392 (arm64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot;</p>\n<h3>Process</h3>\n<ol>\n<li>Compile the task class AnyTask with javac on local machine.</li>\n<li>Use the compiled class to invoke the exposed interface</li>\n</ol>\n<pre><code>curl --location 'http://xxxx/api/task/dynamicLoading' \\\n--form 'class=@&quot;/xx/xx/xx/AnyTask.class&quot;' \\\n--form 'packagePath=&quot;com.wosai.it.oms.task&quot;' \\\n--form 'methodName=&quot;afterSaleGoodsOfZD&quot;' \\\n--form 'args=&quot;acc&quot;\n</code></pre>\n<h3>Question</h3>\n<p>The process is totally normal on my local machine, but when it comes to cloud, the problem appears. It will throw an exception &quot;java.lang.reflect.InvocationTargetException&quot;</p>\n<p>With my log <code>log.info(&quot;Class [{}] is going to be loaded.&quot;, name);</code> in ClassFileClassLoader I found that this log was invoked twice:</p>\n<ol>\n<li>Class [com.wosai.it.oms.task.AnyTask] is going to be load.</li>\n<li>Class [com.wosai.it.oms.util.SpringContextUtil] is going to be load.\nAnd it occurred an exception when invoked the second, of course, that must be an exception, because my customized classloader cannot load SpringContextUtil!</li>\n</ol>\n<p>But on my local machine, there is only one log printed:</p>\n<ol>\n<li>Class [com.wosai.it.oms.task.AnyTask] is going to be load.\nSo, it's running normally.</li>\n</ol>\n<p>I want to know why the same code has different performance in local and cloud?\nAs my expected, it should be executed normally like local.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","command-line-interface"],"answers":[{"comments":[{"owner":{"account_id":29009044,"reputation":1,"user_id":22220921,"display_name":"Maxim Borodin"},"score":0,"creation_date":1689246181,"post_id":76678360,"comment_id":135187639,"body_markdown":"Added the list of dependencies. I use Java 11 and Spring Boot 2.7.0-SNAPSHOT. \nWhy do I connect this error with installing AWS CLI?\nBecause if I use another Laptop - it works\nChecked &quot;java.lang.NoSuchFieldError: INSTANCE&quot;, but I can&#39;t see version mismatched or dependency duplicating in the project","body":"Added the list of dependencies. I use Java 11 and Spring Boot 2.7.0-SNAPSHOT.  Why do I connect this error with installing AWS CLI? Because if I use another Laptop - it works Checked &quot;java.lang.NoSuchFieldError: INSTANCE&quot;, but I can&#39;t see version mismatched or dependency duplicating in the project"}],"tags":[],"owner":{"account_id":8754628,"reputation":582,"user_id":6546584,"display_name":"desoss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698232362,"creation_date":1689244123,"answer_id":76678360,"question_id":76678222,"body_markdown":"From my experience, the error `&quot;java.lang.NoSuchFieldError: INSTANCE&quot;` is raised when there are some problems with the dependencies.\r\n\r\nCan you check that you don&#39;t have duplicated dependencies?\r\n\r\nHence, I suggest you to not focus too much now on the bean configuration but start google for `&quot;java.lang.NoSuchFieldError: INSTANCE&quot;`.","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p>From my experience, the error <code>&quot;java.lang.NoSuchFieldError: INSTANCE&quot;</code> is raised when there are some problems with the dependencies.</p>\n<p>Can you check that you don't have duplicated dependencies?</p>\n<p>Hence, I suggest you to not focus too much now on the bean configuration but start google for <code>&quot;java.lang.NoSuchFieldError: INSTANCE&quot;</code>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689582301,"post_id":76679585,"comment_id":135228346,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76679585/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29009044,"reputation":1,"user_id":22220921,"display_name":"Maxim Borodin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252715,"creation_date":1689252715,"answer_id":76679585,"question_id":76678222,"body_markdown":"`com.googlecode.jsontoken` has `org.apache.httpcomponents:httpcore:jar:4.4.15`\r\nAnd  `aws-java-sdk-s3` has `org.apache.httpcomponents:httpclient:jar:4.5.13`\r\n","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p><code>com.googlecode.jsontoken</code> has <code>org.apache.httpcomponents:httpcore:jar:4.4.15</code>\nAnd  <code>aws-java-sdk-s3</code> has <code>org.apache.httpcomponents:httpclient:jar:4.5.13</code></p>\n"}],"owner":{"account_id":29009044,"reputation":1,"user_id":22220921,"display_name":"Maxim Borodin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698232362,"creation_date":1689242950,"question_id":76678222,"body_markdown":"I try to use AmazonS3 in my application using Spring Boot, Java, AWS SDK S3\r\nI get credentials from application.properties and all work fine\r\nHere my configuration file for creating AmazonS3 Bean\r\n\r\n```\r\n@Configuration\r\npublic class StorageConfiguration {\r\n\r\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\r\n    private String accessSecret;\r\n    @Value(&quot;${cloud.aws.region.static}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonS3 s3Client() {\r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n        return AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region).build();\r\n    }\r\n\r\n}\r\n```\r\nThen I install AWS CLI on my computer and always get next exception\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;s3Client&#39; defined in class path resource [com/cinemalab/aws/service/fileService/configurations/StorageConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method &#39;s3Client&#39; threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method &#39;s3Client&#39; threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:53) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:57) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:47) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:83) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:96) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:105) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:63) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:620) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:181) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:165) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:74) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:59) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:50) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:38) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:347) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:331) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:239) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:225) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.&lt;init&gt;(AmazonS3Client.java:724) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:35) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:32) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:64) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:28) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration.s3Client(StorageConfiguration.java:27) ~[classes/:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.CGLIB$s3Client$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205$$FastClassBySpringCGLIB$$f8149035.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.s3Client(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 48 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.504&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nI tried to configure AWS CLI via aws configure\r\nI tried to delete AWS CLI\r\nI tried different credential for creating Bean\r\n","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p>I try to use AmazonS3 in my application using Spring Boot, Java, AWS SDK S3\nI get credentials from application.properties and all work fine\nHere my configuration file for creating AmazonS3 Bean</p>\n<pre><code>@Configuration\npublic class StorageConfiguration {\n\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\n    private String accessSecret;\n    @Value(&quot;${cloud.aws.region.static}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 s3Client() {\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n        return AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region).build();\n    }\n\n}\n</code></pre>\n<p>Then I install AWS CLI on my computer and always get next exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 's3Client' defined in class path resource [com/cinemalab/aws/service/fileService/configurations/StorageConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method 's3Client' threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method 's3Client' threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 47 common frames omitted\nCaused by: java.lang.NoSuchFieldError: INSTANCE\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:53) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:57) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:47) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:83) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:96) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:105) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:63) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:620) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:181) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:165) ~[httpclient-4.5.13.jar:4.5.13]\n    at com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:74) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:59) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:50) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:38) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:347) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:331) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:239) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:225) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.&lt;init&gt;(AmazonS3Client.java:724) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:35) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:32) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:64) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:28) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration.s3Client(StorageConfiguration.java:27) ~[classes/:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.CGLIB$s3Client$0(&lt;generated&gt;) ~[classes/:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205$$FastClassBySpringCGLIB$$f8149035.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.s3Client(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 48 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n        &lt;version&gt;1.12.504&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>I tried to configure AWS CLI via aws configure\nI tried to delete AWS CLI\nI tried different credential for creating Bean</p>\n"},{"tags":["java","android-studio","ionic-framework","widget"],"owner":{"account_id":29748162,"reputation":43,"user_id":22798670,"display_name":"Mikber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698231554,"creation_date":1698212660,"question_id":77356882,"body_markdown":"I have an Ionic project. In this ionic project, I want to create widgets for Android and iOS. I create a QR code as soon as I log in to the application. I am trying to set this file as a widget image using Android Studio. But decodeStream always comes back null and the widget image also comes up empty. What could be the problem?\r\n\r\nMy example code:\r\n\r\n\r\n\r\n\r\n```\r\nfinal File file = new File(&quot;/storage/emulated/0/Android/data/com.xxx.yyy/files/zzz.png&quot;);\r\n        //Log.d(Environment.getExternalStorageDirectory().exists())\r\n      Log.d(&quot;STATE&quot;, &quot;updateAppWidgettttttttttttttttt: &quot;+file.exists());\r\n      Log.d(&quot;STATE&quot;, &quot;sdasdasdasdasd: &quot;+file.length());\r\n\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.xy);\r\n      AtomicFile atomicFile =  new AtomicFile(file);\r\n      FileOutputStream fos = null;\r\n      try {\r\n        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\r\n        fos = atomicFile.startWrite();\r\n        Log.d(&quot;showmethebitmap&quot;, bitmap.toString());\r\n        OutputStream oos = new BufferedOutputStream(fos);\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG,0,oos);\r\n        oos.flush();\r\n        atomicFile.finishWrite(fos);\r\n\r\n\r\n        File location = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+ &quot;/Android/data/com.xxx.yyy/files/&quot;);\r\n        File dest = new File(location, &quot;zzz&quot; + &quot;.png&quot;);\r\n        FileInputStream fis;\r\n        fis = new FileInputStream(dest);\r\n        Bitmap img = BitmapFactory.decodeStream(fis); //bitmap alwasy null\r\n        views.setImageViewBitmap(R.id.imageView, img);\r\n\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n\r\n      } catch (IOException e) {\r\n        atomicFile.failWrite(fos);\r\n        Log.d(&quot;TAG&quot;, &quot;updateAppWidget: &quot;+e);\r\n      }\r\n```","title":"decodeStream is always null in Android Studio","body":"<p>I have an Ionic project. In this ionic project, I want to create widgets for Android and iOS. I create a QR code as soon as I log in to the application. I am trying to set this file as a widget image using Android Studio. But decodeStream always comes back null and the widget image also comes up empty. What could be the problem?</p>\n<p>My example code:</p>\n<pre><code>final File file = new File(&quot;/storage/emulated/0/Android/data/com.xxx.yyy/files/zzz.png&quot;);\n        //Log.d(Environment.getExternalStorageDirectory().exists())\n      Log.d(&quot;STATE&quot;, &quot;updateAppWidgettttttttttttttttt: &quot;+file.exists());\n      Log.d(&quot;STATE&quot;, &quot;sdasdasdasdasd: &quot;+file.length());\n\n        // Construct the RemoteViews object\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.xy);\n      AtomicFile atomicFile =  new AtomicFile(file);\n      FileOutputStream fos = null;\n      try {\n        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\n        fos = atomicFile.startWrite();\n        Log.d(&quot;showmethebitmap&quot;, bitmap.toString());\n        OutputStream oos = new BufferedOutputStream(fos);\n        bitmap.compress(Bitmap.CompressFormat.JPEG,0,oos);\n        oos.flush();\n        atomicFile.finishWrite(fos);\n\n\n        File location = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+ &quot;/Android/data/com.xxx.yyy/files/&quot;);\n        File dest = new File(location, &quot;zzz&quot; + &quot;.png&quot;);\n        FileInputStream fis;\n        fis = new FileInputStream(dest);\n        Bitmap img = BitmapFactory.decodeStream(fis); //bitmap alwasy null\n        views.setImageViewBitmap(R.id.imageView, img);\n\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n\n      } catch (IOException e) {\n        atomicFile.failWrite(fos);\n        Log.d(&quot;TAG&quot;, &quot;updateAppWidget: &quot;+e);\n      }\n</code></pre>\n"},{"tags":["java","spring-boot","websocket"],"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698231433,"creation_date":1698231433,"question_id":77358855,"body_markdown":"I am using WebSocket to design a notification system, and for testing purposes, I uses ```simpMessagingTemplate``` in one of the controller to see if the ws message could be sent correctly. However, only the http response of that controller was sent, the ws message never showed up. After some testing, I found that once I made the controller return nothing(```Result&lt;List&lt;ImgVo&gt;&gt;``` to ```void```), the ws message could be sent correctly, and I am very confused about this behavior. As far as I know, WebSocket connection is different from the Http connection, and when my frontend starts loading, it would establish a connection with backend WebSocket, and that connection would be alive as long as both applications are alive. And when a Http request reaches that controller, a http connection is established, and the controller would first send the ws message via the existing WebSocket connection created earlier, then it would send the http response via the http connection made in that controller, so there shouldn&#39;t be any conflict, but this is the result I got. Please explain to me if I am wrong, thanks.\r\n\r\n\r\n   \r\n\r\n \r\n\r\n```\r\n//This only returns Http Response, no WebSocket message is received in the frontend\r\n@GetMapping(&quot;/index_imgs&quot;)\r\n        public Result&lt;List&lt;ImgVo&gt;&gt; listIndexImgs(){\r\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\r\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\r\n            return Result.success(indexImgVos);\r\n        }\r\n\r\n//Changing return type to void makes the WebSocket Message sent correctly. Why???\r\n@GetMapping(&quot;/index_imgs&quot;)\r\n        public void listIndexImgs(){\r\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\r\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\r\n        }\r\n```\r\n\r\nMy WebSocket config:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;);\r\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\nconst client = new StompJs.Client({\r\n    brokerURL: &#39;ws://localhost:8080/ws-endpoint&#39;,\r\n    onConnect: () =&gt; {\r\n      client.subscribe(&#39;/topic&#39;, message =&gt;\r\n        console.log(`Received: ${message.body}`)\r\n      );\r\n    },\r\n  });\r\n```\r\n","title":"I tried to send both Http response and WebSocket message in the same controller, and only one of them can be sent correctly","body":"<p>I am using WebSocket to design a notification system, and for testing purposes, I uses <code>simpMessagingTemplate</code> in one of the controller to see if the ws message could be sent correctly. However, only the http response of that controller was sent, the ws message never showed up. After some testing, I found that once I made the controller return nothing(<code>Result&lt;List&lt;ImgVo&gt;&gt;</code> to <code>void</code>), the ws message could be sent correctly, and I am very confused about this behavior. As far as I know, WebSocket connection is different from the Http connection, and when my frontend starts loading, it would establish a connection with backend WebSocket, and that connection would be alive as long as both applications are alive. And when a Http request reaches that controller, a http connection is established, and the controller would first send the ws message via the existing WebSocket connection created earlier, then it would send the http response via the http connection made in that controller, so there shouldn't be any conflict, but this is the result I got. Please explain to me if I am wrong, thanks.</p>\n<pre><code>//This only returns Http Response, no WebSocket message is received in the frontend\n@GetMapping(&quot;/index_imgs&quot;)\n        public Result&lt;List&lt;ImgVo&gt;&gt; listIndexImgs(){\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\n            return Result.success(indexImgVos);\n        }\n\n//Changing return type to void makes the WebSocket Message sent correctly. Why???\n@GetMapping(&quot;/index_imgs&quot;)\n        public void listIndexImgs(){\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\n        }\n</code></pre>\n<p>My WebSocket config:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;);\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>const client = new StompJs.Client({\n    brokerURL: 'ws://localhost:8080/ws-endpoint',\n    onConnect: () =&gt; {\n      client.subscribe('/topic', message =&gt;\n        console.log(`Received: ${message.body}`)\n      );\n    },\n  });\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","hikaricp"],"answers":[{"comments":[{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1698230910,"post_id":77358781,"comment_id":136377998,"body_markdown":"Its spring boot and I am using EntityManager bean for creating native queries and executing them. No direct connections in the code.","body":"Its spring boot and I am using EntityManager bean for creating native queries and executing them. No direct connections in the code."}],"tags":[],"owner":{"account_id":18757669,"reputation":21,"user_id":13677274,"display_name":"Gestankbratwurst"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698230713,"creation_date":1698230713,"answer_id":77358781,"question_id":77358405,"body_markdown":"When using a **connection pool**, make sure to always close your connection and request a new one for every query. Holding a connection can cause the pool to close it after its idle timeout. \r\n\r\nIn Hikari you are not given an actual connection but a proxy implementation, where the underlying resources are managed internally by Hikari, so reusing this connection is bound to cause problems.\r\n\r\nIf this problem is caused by a library that badly manages connections, then a fallback solution would be to configure Hikari to allow underlying connections to be in an idle state indefinitely. This, however, is suboptimal.","title":"Spring Boot Hikar - Multi Datasource java.sql.SQLException: Connection is closed","body":"<p>When using a <strong>connection pool</strong>, make sure to always close your connection and request a new one for every query. Holding a connection can cause the pool to close it after its idle timeout.</p>\n<p>In Hikari you are not given an actual connection but a proxy implementation, where the underlying resources are managed internally by Hikari, so reusing this connection is bound to cause problems.</p>\n<p>If this problem is caused by a library that badly manages connections, then a fallback solution would be to configure Hikari to allow underlying connections to be in an idle state indefinitely. This, however, is suboptimal.</p>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1698269166,"answer_count":1,"score":-1,"last_activity_date":1698230713,"creation_date":1698227450,"question_id":77358405,"body_markdown":"Application is running fine for few hours and started facing below exception:\r\n\r\n&gt; &quot;java.sql.SQLException: Connection is closed at\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\r\n&gt; at com.sun.proxy.$Proxy171.prepareStatement(Unknown Source) at\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)\r\n&gt; at\r\n&gt; com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n&gt; at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\r\n&gt; at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\r\n&gt; at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n&gt; at org.hibernate.loader.Loader.doQuery(Loader.java:953) at\r\n&gt; org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n&gt; at org.hibernate.loader.Loader.doList(Loader.java:2838) at\r\n&gt; org.hibernate.loader.Loader.doList(Loader.java:2820) at\r\n&gt; org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652) at\r\n&gt; org.hibernate.loader.Loader.list(Loader.java:2647) at\r\n&gt; org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n&gt; at\r\n&gt; org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2131)\r\n&gt; at\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1163)\r\n&gt; at\r\n&gt; org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\r\n&gt; at\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\r\n&gt; at org.hibernate.query.Query.getResultList(Query.java:165)\r\n\r\n----------\r\nCode for calling query:\r\n\r\n    @Autowired\r\n    private final EntityManager entityManager;\r\n    \r\n    void someMethod() {\r\n    var q = entityManager.createNativeQuery(query);\r\n    var rs = q.getResultList(); // exception at this line in stack trace\r\n    // other code\r\n    }\r\n\r\nWe recently added multiple data sources following this [blog][1]. Any chance it&#39;s causing an issue? Unable to prove some point though. Any help is highly appreciated.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Spring Boot Hikar - Multi Datasource java.sql.SQLException: Connection is closed","body":"<p>Application is running fine for few hours and started facing below exception:</p>\n<blockquote>\n<p>&quot;java.sql.SQLException: Connection is closed at\ncom.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\nat com.sun.proxy.$Proxy171.prepareStatement(Unknown Source) at\ncom.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)\nat\ncom.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\nat org.hibernate.loader.Loader.doQuery(Loader.java:953) at\norg.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\nat org.hibernate.loader.Loader.doList(Loader.java:2838) at\norg.hibernate.loader.Loader.doList(Loader.java:2820) at\norg.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652) at\norg.hibernate.loader.Loader.list(Loader.java:2647) at\norg.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\nat\norg.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2131)\nat\norg.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1163)\nat\norg.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\nat\norg.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\nat org.hibernate.query.Query.getResultList(Query.java:165)</p>\n</blockquote>\n<hr />\n<p>Code for calling query:</p>\n<pre><code>@Autowired\nprivate final EntityManager entityManager;\n\nvoid someMethod() {\nvar q = entityManager.createNativeQuery(query);\nvar rs = q.getResultList(); // exception at this line in stack trace\n// other code\n}\n</code></pre>\n<p>We recently added multiple data sources following this <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">blog</a>. Any chance it's causing an issue? Unable to prove some point though. Any help is highly appreciated.</p>\n"},{"tags":["java","database","jpa","pagination","criteria"],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698230522,"creation_date":1698230522,"question_id":77358764,"body_markdown":"This is related to this question: https://stackoverflow.com/questions/5349264/total-row-count-for-pagination-using-jpa-criteria-api.\r\n\r\nI do not want to do two separate queries, one for select the count then one to get the paginated results. \r\nIs there a way to do that?","title":"Is it possible to get the size of the result list and implement pagination only by doing one single call to the db?","body":"<p>This is related to this question: <a href=\"https://stackoverflow.com/questions/5349264/total-row-count-for-pagination-using-jpa-criteria-api\">Total row count for pagination using JPA Criteria API</a>.</p>\n<p>I do not want to do two separate queries, one for select the count then one to get the paginated results.\nIs there a way to do that?</p>\n"},{"tags":["java","spring","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616570128,"post_id":66774407,"comment_id":118040345,"body_markdown":"Only applu the `spring-boot-maven-plugin` to projects that should be runnable jars, else don&#39;t apply it.","body":"Only applu the <code>spring-boot-maven-plugin</code> to projects that should be runnable jars, else don&#39;t apply it."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1616573153,"post_id":66774407,"comment_id":118041559,"body_markdown":"So it is. That is why calling plugin goal must be in long form like org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image because on root (parent) level no spring-boot is defined, so maven would tell than &quot;spring-boot&quot; is unknown. Common modules does not depend on spring.","body":"So it is. That is why calling plugin goal must be in long form like org.springframework.boot:spring-boot-maven-plugin:2.4.4:buil&zwnj;&#8203;d-image because on root (parent) level no spring-boot is defined, so maven would tell than &quot;spring-boot&quot; is unknown. Common modules does not depend on spring."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616575331,"post_id":66774407,"comment_id":118042350,"body_markdown":"If you have defined the spring boot plugin in the parent project it will be applied to all modules using that parent.","body":"If you have defined the spring boot plugin in the parent project it will be applied to all modules using that parent."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1616582751,"post_id":66774407,"comment_id":118045664,"body_markdown":"I put (plugin goal must be in long form like `org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image` because on root (parent) level no spring-boot plugin is defined). into Question so it is clear, that parent is without spring-boot plugin","body":"I put (plugin goal must be in long form like <code>org.springframework.boot:spring-boot-maven-plugin:2.4.4:buil&zwnj;&#8203;d-image</code> because on root (parent) level no spring-boot plugin is defined). into Question so it is clear, that parent is without spring-boot plugin"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616583567,"post_id":66774407,"comment_id":118046045,"body_markdown":"If the plugin is defined in the projects it will be applied as well, if not the plugin won&#39;t be applied.","body":"If the plugin is defined in the projects it will be applied as well, if not the plugin won&#39;t be applied."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616657814,"creation_date":1616657246,"answer_id":66794899,"question_id":66774407,"body_markdown":"It seems impossible to do in one command,\r\nso have to \r\n\r\n```\r\nmvn clean install\r\nmvn --projects A spring-boot:build-image\r\nmvn --projects B spring-boot:build-image\r\nmvn --projects D spring-boot:build-image\r\n```\r\n\r\n","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>It seems impossible to do in one command,\nso have to</p>\n<pre><code>mvn clean install\nmvn --projects A spring-boot:build-image\nmvn --projects B spring-boot:build-image\nmvn --projects D spring-boot:build-image\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100302,"reputation":1750,"user_id":4090111,"accept_rate":80,"display_name":"Ulrich Schuster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698229576,"creation_date":1698229576,"answer_id":77358682,"question_id":66774407,"body_markdown":"Here is a workaround:\r\n- Declare the spring-boot plugin in the dependency management section of your parent pom\r\n- Explicitly skip the plugin execution in your common submodules:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n- Execute the plugin for your submodule: `mvn --projects A,B,D --also-make clean install spring-boot:build-image`","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>Here is a workaround:</p>\n<ul>\n<li>Declare the spring-boot plugin in the dependency management section of your parent pom</li>\n<li>Explicitly skip the plugin execution in your common submodules:</li>\n</ul>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Execute the plugin for your submodule: <code>mvn --projects A,B,D --also-make clean install spring-boot:build-image</code></li>\n</ul>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698229576,"creation_date":1616557048,"question_id":66774407,"body_markdown":"I have maven multi module project, where most modules are Spring Boot application,\r\nand some `common` modules that are shared between Spring apps.\r\n\r\n```xml\r\n     &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n        &lt;module&gt;D&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n```\r\n\r\nNow when I want to build docker(OCI) images for Spring apps with `spring-boot:build-image`, like\r\n\r\n\r\n    mvn --projects A,B,D --also-make clean install org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image\r\n\r\nmaven still runs `build-image` goal for every `common` modules, that is overkill:\r\nthose `common` modules should be built and consumed as jars.\r\n\r\n(plugin goal must be in long form like `org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image` because on root (parent) level no spring-boot plugin is defined).\r\n\r\n**How to build all Spring Boot apps from the project in one `mvn` line, not one by one?**\r\n\r\n---\r\n\r\nOf course every Spring Boot app module has spring-boot-maven-plugin plugin defined and configured as described on https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import\r\n&gt; 3.2. Using Spring Boot without the Parent POM\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>I have maven multi module project, where most modules are Spring Boot application,\nand some <code>common</code> modules that are shared between Spring apps.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>     &lt;modules&gt;\n        &lt;module&gt;A&lt;/module&gt;\n        &lt;module&gt;B&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;D&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>Now when I want to build docker(OCI) images for Spring apps with <code>spring-boot:build-image</code>, like</p>\n<pre><code>mvn --projects A,B,D --also-make clean install org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image\n</code></pre>\n<p>maven still runs <code>build-image</code> goal for every <code>common</code> modules, that is overkill:\nthose <code>common</code> modules should be built and consumed as jars.</p>\n<p>(plugin goal must be in long form like <code>org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image</code> because on root (parent) level no spring-boot plugin is defined).</p>\n<p><strong>How to build all Spring Boot apps from the project in one <code>mvn</code> line, not one by one?</strong></p>\n<hr />\n<p>Of course every Spring Boot app module has spring-boot-maven-plugin plugin defined and configured as described on <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import</a></p>\n<blockquote>\n<p>3.2. Using Spring Boot without the Parent POM</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1698226515,"post_id":77358275,"comment_id":136377206,"body_markdown":"How is `pageableResponse` (the variable, not the class) defined?","body":"How is <code>pageableResponse</code> (the variable, not the class) defined?"},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698227154,"post_id":77358275,"comment_id":136377330,"body_markdown":"@S&#246;ren updated description","body":"@S&#246;ren updated description"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698229171,"creation_date":1698229171,"answer_id":77358636,"question_id":77358275,"body_markdown":"&gt; How to get rid of unchecked cast warning while accessing results\r\n\r\nWell, don&#39;t do an unchecked cast, of course.\r\n\r\nIt helps to understand what an unchecked cast is: it&#39;s a cast that exists in the source code, but cannot exist in the bytecode, because the type isn&#39;t available to check against.\r\n\r\nA checked cast is something like `Foo foo = (Foo) something;`: there, the compiler can insert a `checkcast` instruction to ensure that `something` is an instance of `Foo` (or `null`), and it will fail if it&#39;s not. It can do this because (I assume) `Foo.class` exists, that is, `Foo` is a _reifiable type_.\r\n\r\nIn particular here, the JVM can&#39;t check that something is a `List&lt;Foo&gt;` because there&#39;s no such thing as a `List&lt;Foo&gt;` at runtime: everything is just a `List`. So, you can check that something is a `List`, but you can&#39;t know if it&#39;s a `List&lt;Something&gt;`, because there is no `List&lt;Something&gt;.class`.\r\n\r\nYou can&#39;t even do it by checking that all of the elements are instances of `Something` (or `null`): that doesn&#39;t actually tell you if it&#39;s a `List&lt;Something&gt;`; you can only know whether it&#39;s a `List&lt;? super Something&gt;`; and you can only know _that_ if it&#39;s non-empty.\r\n\r\nIf you proceed with the unchecked cast, what the compiler is saying is that it can&#39;t guarantee that that the things in the `List` are of the right type. It allows you to proceed, but it&#39;s now at your own risk.\r\n\r\nWhat you can do is to copy the things into a new list, where _you_ are specifying that it&#39;s a `List&lt;Foo&gt;`, and check that everything in the results is of the right type when you do that copy:\r\n\r\n```\r\nList&lt;Foo&gt; foo = pageableResponse.getResults().stream().map(Foo.class::cast).collect(Collectors.toList());\r\n```\r\n\r\nThis will throw a `ClassCastException` if anything in the list is not a `Foo` (or `null`).\r\n\r\nThis has the downside of creating a copy of the list. Assuming you&#39;re doing something like iterating the list, an alternative avoiding the copy would be to perform a cast before you use each element:\r\n\r\n```\r\nfor (Object result : pageableResponse.getResults()) {\r\n  Foo foo = (Foo) result;  // Will fail if not a Foo.\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nThe downside of this is that you have to consider the failure atomicity (i.e. how do you deal with a non-`Foo` after you have processed one or more `Foo`s - do you need to &quot;undo&quot; the prior processing etc).","title":"How to get rid of unchecked cast warning from results","body":"<blockquote>\n<p>How to get rid of unchecked cast warning while accessing results</p>\n</blockquote>\n<p>Well, don't do an unchecked cast, of course.</p>\n<p>It helps to understand what an unchecked cast is: it's a cast that exists in the source code, but cannot exist in the bytecode, because the type isn't available to check against.</p>\n<p>A checked cast is something like <code>Foo foo = (Foo) something;</code>: there, the compiler can insert a <code>checkcast</code> instruction to ensure that <code>something</code> is an instance of <code>Foo</code> (or <code>null</code>), and it will fail if it's not. It can do this because (I assume) <code>Foo.class</code> exists, that is, <code>Foo</code> is a <em>reifiable type</em>.</p>\n<p>In particular here, the JVM can't check that something is a <code>List&lt;Foo&gt;</code> because there's no such thing as a <code>List&lt;Foo&gt;</code> at runtime: everything is just a <code>List</code>. So, you can check that something is a <code>List</code>, but you can't know if it's a <code>List&lt;Something&gt;</code>, because there is no <code>List&lt;Something&gt;.class</code>.</p>\n<p>You can't even do it by checking that all of the elements are instances of <code>Something</code> (or <code>null</code>): that doesn't actually tell you if it's a <code>List&lt;Something&gt;</code>; you can only know whether it's a <code>List&lt;? super Something&gt;</code>; and you can only know <em>that</em> if it's non-empty.</p>\n<p>If you proceed with the unchecked cast, what the compiler is saying is that it can't guarantee that that the things in the <code>List</code> are of the right type. It allows you to proceed, but it's now at your own risk.</p>\n<p>What you can do is to copy the things into a new list, where <em>you</em> are specifying that it's a <code>List&lt;Foo&gt;</code>, and check that everything in the results is of the right type when you do that copy:</p>\n<pre><code>List&lt;Foo&gt; foo = pageableResponse.getResults().stream().map(Foo.class::cast).collect(Collectors.toList());\n</code></pre>\n<p>This will throw a <code>ClassCastException</code> if anything in the list is not a <code>Foo</code> (or <code>null</code>).</p>\n<p>This has the downside of creating a copy of the list. Assuming you're doing something like iterating the list, an alternative avoiding the copy would be to perform a cast before you use each element:</p>\n<pre><code>for (Object result : pageableResponse.getResults()) {\n  Foo foo = (Foo) result;  // Will fail if not a Foo.\n\n  // ...\n}\n</code></pre>\n<p>The downside of this is that you have to consider the failure atomicity (i.e. how do you deal with a non-<code>Foo</code> after you have processed one or more <code>Foo</code>s - do you need to &quot;undo&quot; the prior processing etc).</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698229171,"creation_date":1698226243,"question_id":77358275,"body_markdown":"How to get rid of unchecked cast warning while accessing results\r\n\r\n    PageableResponse pageableResponse = fooService.findByFromId(fId, pageable);\r\n\r\n     warning: [unchecked] unchecked cast\r\n            List&lt;Foo&gt; foos = (List&lt;Foo&gt;) pageableResponse.getResults();\r\n\r\nclass definition\r\n\r\n    public class PageableResponse&lt;T&gt; {\r\n        private T results;\r\n    }","title":"How to get rid of unchecked cast warning from results","body":"<p>How to get rid of unchecked cast warning while accessing results</p>\n<pre><code>PageableResponse pageableResponse = fooService.findByFromId(fId, pageable);\n\n warning: [unchecked] unchecked cast\n        List&lt;Foo&gt; foos = (List&lt;Foo&gt;) pageableResponse.getResults();\n</code></pre>\n<p>class definition</p>\n<pre><code>public class PageableResponse&lt;T&gt; {\n    private T results;\n}\n</code></pre>\n"},{"tags":["java","web-applications","calendar","outlook","google-calendar-api"],"comments":[{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1517569642,"post_id":18694607,"comment_id":84159022,"body_markdown":"If you dont want a special program for that, google calendar can be subscribed / exported - not sure/ via ical URL. Calendar from outlook can be also share via context menu, but I am not sure how to import into google cal","body":"If you dont want a special program for that, google calendar can be subscribed / exported - not sure/ via ical URL. Calendar from outlook can be also share via context menu, but I am not sure how to import into google cal"}],"answers":[{"comments":[{"owner":{"account_id":2258311,"reputation":1709,"user_id":1988983,"accept_rate":85,"display_name":"Noah Martin"},"score":0,"creation_date":1378718352,"post_id":18694811,"comment_id":27540880,"body_markdown":"Thank you for your response, I will try it and I will reply :)","body":"Thank you for your response, I will try it and I will reply :)"}],"tags":[],"owner":{"account_id":99437,"reputation":427,"user_id":268600,"display_name":"Albert Iordache"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378717320,"creation_date":1378717320,"answer_id":18694811,"question_id":18694607,"body_markdown":"Google Calendar seems to be the best choice, as you can use the [Google Calendar API][1]. For an example written in Java, look [here][2]. Just make sure to note the [GCal API usage limits][5].\r\n\r\nOutlook doesn&#39;t seem to have some sort of an API, but maybe you can make use of or modify something like the [Jpst][3] or [java-libpst][4].\r\n\r\n  [1]: https://developers.google.com/google-apps/calendar/\r\n  [2]: https://developers.google.com/google-apps/calendar/v3/reference/events/insert#examples\r\n  [3]: http://www.independentsoft.de/jpst/\r\n  [4]: https://github.com/rjohnsondev/java-libpst\r\n  [5]: https://developers.google.com/google-apps/calendar/pricing","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>Google Calendar seems to be the best choice, as you can use the <a href=\"https://developers.google.com/google-apps/calendar/\" rel=\"noreferrer\">Google Calendar API</a>. For an example written in Java, look <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/events/insert#examples\" rel=\"noreferrer\">here</a>. Just make sure to note the <a href=\"https://developers.google.com/google-apps/calendar/pricing\" rel=\"noreferrer\">GCal API usage limits</a>.</p>\n\n<p>Outlook doesn't seem to have some sort of an API, but maybe you can make use of or modify something like the <a href=\"http://www.independentsoft.de/jpst/\" rel=\"noreferrer\">Jpst</a> or <a href=\"https://github.com/rjohnsondev/java-libpst\" rel=\"noreferrer\">java-libpst</a>.</p>\n"},{"comments":[{"owner":{"account_id":2258311,"reputation":1709,"user_id":1988983,"accept_rate":85,"display_name":"Noah Martin"},"score":0,"creation_date":1378719780,"post_id":18695161,"comment_id":27541505,"body_markdown":"Thanks for the answer, so I will create some files programmatically and store them within a specific folder? Then what is the procedure? How will I tell to Outlook to get those files? At the other side the link is for Outlook 97, is it OK even for 2010?","body":"Thanks for the answer, so I will create some files programmatically and store them within a specific folder? Then what is the procedure? How will I tell to Outlook to get those files? At the other side the link is for Outlook 97, is it OK even for 2010?"},{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":1,"creation_date":1378722075,"post_id":18695161,"comment_id":27542590,"body_markdown":"You&#39;ll have to look up how OLE automation is done in Java. Look e.g. here http://stackoverflow.com/questions/6679810/is-there-ole-automation-in-java. Then you have to find out how objects are defined in Outlook and use that. Start coding, come back when you have specific questions. The same procedure would apply if you were going to target EWS. As for versions: if you plan to spport Outlook 200 and later, you&#39;ll have to use 2007 code and documentation. That&#39;s up to you.","body":"You&#39;ll have to look up how OLE automation is done in Java. Look e.g. here <a href=\"http://stackoverflow.com/questions/6679810/is-there-ole-automation-in-java\" title=\"is there ole automation in java\">stackoverflow.com/questions/6679810/&hellip;</a>. Then you have to find out how objects are defined in Outlook and use that. Start coding, come back when you have specific questions. The same procedure would apply if you were going to target EWS. As for versions: if you plan to spport Outlook 200 and later, you&#39;ll have to use 2007 code and documentation. That&#39;s up to you."}],"tags":[],"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612621629,"creation_date":1378718602,"answer_id":18695161,"question_id":18694607,"body_markdown":"Albert already answered for Google. For Outlook you use either [OLE automation][1] or [Microsoft Graph][2].&lt;sup&gt;*&lt;/sup&gt;\r\n\r\nNote that the second option is only for Outlook accounts talking to Exchange Server. If you access other mail backends through Outlook you can&#39;t use Graph, only use OLE.\r\n\r\n&lt;sup&gt;* Update feb 2021: The SOAP based Exchange Web Services still work, but if you start something new use the REST based Graph API&lt;/sup&gt;\r\n\r\n[1]:http://support.microsoft.com/kb/170262\r\n[2]:https://learn.microsoft.com/en-us/exchange/client-developer/exchange-server-development\r\n","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>Albert already answered for Google. For Outlook you use either <a href=\"http://support.microsoft.com/kb/170262\" rel=\"nofollow noreferrer\">OLE automation</a> or <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/exchange-server-development\" rel=\"nofollow noreferrer\">Microsoft Graph</a>.<sup>*</sup></p>\n<p>Note that the second option is only for Outlook accounts talking to Exchange Server. If you access other mail backends through Outlook you can't use Graph, only use OLE.</p>\n<p><sup>* Update feb 2021: The SOAP based Exchange Web Services still work, but if you start something new use the REST based Graph API</sup></p>\n"},{"tags":[],"owner":{"account_id":3375652,"reputation":1,"user_id":2845623,"display_name":"tachect"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380875547,"creation_date":1380875547,"answer_id":19176715,"question_id":18694607,"body_markdown":"You can also use the GCal RESTful API directly. The Java classes actually just wrap the REST calls.  \r\nAnd if you created events in Google Calendar you can subscribe to your Google Calendar from Outlook and have your events imported in Outlook too (although you have to use WebDAV for this)","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>You can also use the GCal RESTful API directly. The Java classes actually just wrap the REST calls.<br>\nAnd if you created events in Google Calendar you can subscribe to your Google Calendar from Outlook and have your events imported in Outlook too (although you have to use WebDAV for this)</p>\n"},{"comments":[{"owner":{"account_id":2705223,"reputation":892,"user_id":2334959,"accept_rate":64,"display_name":"Azhar Bandri"},"score":0,"creation_date":1545912356,"post_id":35881148,"comment_id":94728197,"body_markdown":"Please check my question https://stackoverflow.com/questions/53933784/adding-event-to-outlook-calendar/53941411","body":"Please check my question <a href=\"https://stackoverflow.com/questions/53933784/adding-event-to-outlook-calendar/53941411\" title=\"adding event to outlook calendar\">stackoverflow.com/questions/53933784/&hellip;</a>"}],"tags":[],"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1698228900,"creation_date":1457485820,"answer_id":35881148,"question_id":18694607,"body_markdown":"You can now use [Outlook Calendar REST API][1] and send requests from your java code.\r\n\r\nFor the auth flow see [this getting started documentation][2].\r\n\r\nEg. POST to [https://outlook.office.com/api/v2.0/me/calendars/{calendar_id}/events][3] a JSON content like:\r\n\r\n    {\r\n      &quot;Subject&quot;: &quot;Discuss the Calendar REST API&quot;,\r\n      &quot;Body&quot;: {\r\n        &quot;ContentType&quot;: &quot;HTML&quot;,\r\n        &quot;Content&quot;: &quot;I think it will meet our requirements!&quot;\r\n      },\r\n      &quot;Start&quot;: {\r\n          &quot;DateTime&quot;: &quot;2014-02-02T18:00:00&quot;,\r\n          &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\r\n      },\r\n      &quot;End&quot;: {\r\n          &quot;DateTime&quot;: &quot;2014-02-02T19:00:00&quot;,\r\n          &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\r\n      },\r\n      &quot;Attendees&quot;: [\r\n        {\r\n          &quot;EmailAddress&quot;: {\r\n            &quot;Address&quot;: &quot;janets@a830edad9050849NDA1.onmicrosoft.com&quot;,\r\n            &quot;Name&quot;: &quot;Janet Schorr&quot;\r\n          },\r\n          &quot;Type&quot;: &quot;Required&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/office/office365/api/calendar-rest-operations#Createevents\r\n  [2]: https://learn.microsoft.com/en-us/outlook/rest/get-started\r\n  [3]: http://fake.com","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>You can now use <a href=\"https://msdn.microsoft.com/en-us/office/office365/api/calendar-rest-operations#Createevents\" rel=\"nofollow noreferrer\">Outlook Calendar REST API</a> and send requests from your java code.</p>\n<p>For the auth flow see <a href=\"https://learn.microsoft.com/en-us/outlook/rest/get-started\" rel=\"nofollow noreferrer\">this getting started documentation</a>.</p>\n<p>Eg. POST to <a href=\"http://fake.com\" rel=\"nofollow noreferrer\">https://outlook.office.com/api/v2.0/me/calendars/{calendar_id}/events</a> a JSON content like:</p>\n<pre><code>{\n  &quot;Subject&quot;: &quot;Discuss the Calendar REST API&quot;,\n  &quot;Body&quot;: {\n    &quot;ContentType&quot;: &quot;HTML&quot;,\n    &quot;Content&quot;: &quot;I think it will meet our requirements!&quot;\n  },\n  &quot;Start&quot;: {\n      &quot;DateTime&quot;: &quot;2014-02-02T18:00:00&quot;,\n      &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\n  },\n  &quot;End&quot;: {\n      &quot;DateTime&quot;: &quot;2014-02-02T19:00:00&quot;,\n      &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\n  },\n  &quot;Attendees&quot;: [\n    {\n      &quot;EmailAddress&quot;: {\n        &quot;Address&quot;: &quot;janets@a830edad9050849NDA1.onmicrosoft.com&quot;,\n        &quot;Name&quot;: &quot;Janet Schorr&quot;\n      },\n      &quot;Type&quot;: &quot;Required&quot;\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":2258311,"reputation":1709,"user_id":1988983,"accept_rate":85,"display_name":"Noah Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15966,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1698228900,"creation_date":1378716619,"question_id":18694607,"body_markdown":"I have a Java Web application from which the user can add events with date, subject and description (like tasks). I want to send these events to the user&#39;s outlook calendar programmatically. Can anyone help me how to achieve this?\r\n\r\nPS: If it can be done through Google Calendar tell me how to do that as I am not stuck with outlook :)","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>I have a Java Web application from which the user can add events with date, subject and description (like tasks). I want to send these events to the user's outlook calendar programmatically. Can anyone help me how to achieve this?</p>\n\n<p>PS: If it can be done through Google Calendar tell me how to do that as I am not stuck with outlook :)</p>\n"},{"tags":["java","string","unicode","character"],"comments":[{"owner":{"display_name":"anon"},"score":1,"creation_date":1366912353,"post_id":5585919,"comment_id":23200309,"body_markdown":"Remove the first backslash, so that instead of escaping the backslash it escapes the Unicode sequence. Using &quot;\\\\&quot; tells Java that you want to print out &quot;\\&quot;, not use it as past of an escape sequence for Unicode characters. If you remove the first one then it will instead escape the Unicode sequence and not the second backslash. At least, it will to the best of my knowledge.","body":"Remove the first backslash, so that instead of escaping the backslash it escapes the Unicode sequence. Using &quot;\\\\&quot; tells Java that you want to print out &quot;\\&quot;, not use it as past of an escape sequence for Unicode characters. If you remove the first one then it will instead escape the Unicode sequence and not the second backslash. At least, it will to the best of my knowledge."},{"owner":{"account_id":3203466,"reputation":18087,"user_id":2705055,"accept_rate":20,"display_name":"Martin Rosenau"},"score":0,"creation_date":1631886659,"post_id":5585919,"comment_id":122352176,"body_markdown":"You can simply convert `int` to `char` the following way: `char ch = (char)c;`. You may create a string like this: `String symbol = &quot;&quot; + (char)c;`. When adding a character to an existing string, this type of conversion should be the easiest way. Example: `String text = &quot;You typed the following character: &quot; + (char)c;`","body":"You can simply convert <code>int</code> to <code>char</code> the following way: <code>char ch = (char)c;</code>. You may create a string like this: <code>String symbol = &quot;&quot; + (char)c;</code>. When adding a character to an existing string, this type of conversion should be the easiest way. Example: <code>String text = &quot;You typed the following character: &quot; + (char)c;</code>"}],"answers":[{"comments":[{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":0,"creation_date":1302202358,"post_id":5586025,"comment_id":6356901,"body_markdown":"That&#39;s just giving me a square box, .  It&#39;s not giving me &quot;&quot;.","body":"That&#39;s just giving me a square box, .  It&#39;s not giving me &quot;&quot;."},{"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"score":3,"creation_date":1302211390,"post_id":5586025,"comment_id":6359263,"body_markdown":"That is because 2202 is not the `int` you were looking for. You were looking for 0x2202. My fault. In any case, if you have the `int` of the code point you are looking for, you can just cast it to a `char`, and use it (to construct a `String` if you wish).","body":"That is because 2202 is not the <code>int</code> you were looking for. You were looking for 0x2202. My fault. In any case, if you have the <code>int</code> of the code point you are looking for, you can just cast it to a <code>char</code>, and use it (to construct a <code>String</code> if you wish)."}],"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1698228576,"creation_date":1302202183,"answer_id":5586025,"question_id":5585919,"body_markdown":"Remember that `char` is an integer type, and thus can be given an integer value, as well as a char constant.\r\n\r\n    char c = 0x2202;//aka 8706 in decimal. \\u codepoints are in hex.\r\n    String s = String.valueOf(c);","title":"Creating Unicode character from its number","body":"<p>Remember that <code>char</code> is an integer type, and thus can be given an integer value, as well as a char constant.</p>\n<pre><code>char c = 0x2202;//aka 8706 in decimal. \\u codepoints are in hex.\nString s = String.valueOf(c);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":5,"creation_date":1302202475,"post_id":5586041,"comment_id":6356943,"body_markdown":"That&#39;s just giving me a square box, . It&#39;s not giving me &quot;&quot;.","body":"That&#39;s just giving me a square box, . It&#39;s not giving me &quot;&quot;."},{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":0,"creation_date":1302202810,"post_id":5586041,"comment_id":6357028,"body_markdown":"That&#39;s probably because the console you&#39;re printing it to doesn&#39;t understand the character encoding you&#39;re writing out, or else the console font doesn&#39;t have a glyph for the character.","body":"That&#39;s probably because the console you&#39;re printing it to doesn&#39;t understand the character encoding you&#39;re writing out, or else the console font doesn&#39;t have a glyph for the character."},{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":0,"creation_date":1302202918,"post_id":5586041,"comment_id":6357060,"body_markdown":"But the same console is printing out &quot;&quot;.","body":"But the same console is printing out &quot;&quot;."},{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":0,"creation_date":1302203535,"post_id":5586041,"comment_id":6357224,"body_markdown":"Like this: String symbol = &quot;\\u2202&quot;;\n\nThe problem is that I only know the value 2202 at run-time.","body":"Like this: String symbol = &quot;\\u2202&quot;;  The problem is that I only know the value 2202 at run-time."},{"owner":{"account_id":174918,"reputation":13396,"user_id":404568,"accept_rate":45,"display_name":"David Given"},"score":30,"creation_date":1331677796,"post_id":5586041,"comment_id":12317727,"body_markdown":"Danger, Will Robinson! Don&#39;t forget that Unicode code points *will not necessarily fit in a char*. So you need to be absolutely sure ahead of time that your value of `c` is smaller than 0x10000, or else this approach will break horribly.","body":"Danger, Will Robinson! Don&#39;t forget that Unicode code points <i>will not necessarily fit in a char</i>. So you need to be absolutely sure ahead of time that your value of <code>c</code> is smaller than 0x10000, or else this approach will break horribly."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1366912456,"post_id":5586041,"comment_id":23200352,"body_markdown":"@DavidGiven Actually, less than 0xFFFF because that is the max of the hexadecimal Unicode. 10000 is a decimal number. 0xFFFF is equivalent to 65535 in decimal.","body":"@DavidGiven Actually, less than 0xFFFF because that is the max of the hexadecimal Unicode. 10000 is a decimal number. 0xFFFF is equivalent to 65535 in decimal."},{"owner":{"account_id":174918,"reputation":13396,"user_id":404568,"accept_rate":45,"display_name":"David Given"},"score":1,"creation_date":1366924857,"post_id":5586041,"comment_id":23206424,"body_markdown":"@NickHartley Sorry, don&#39;t follow --- did you misread 0x10000 for 10000?","body":"@NickHartley Sorry, don&#39;t follow --- did you misread 0x10000 for 10000?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1367014813,"post_id":5586041,"comment_id":23243482,"body_markdown":"@DavidGiven Yes, I did. Sorry about that :P. But either way the max for a single Unicode character is 0xFFFF, not 0x10000","body":"@DavidGiven Yes, I did. Sorry about that :P. But either way the max for a single Unicode character is 0xFFFF, not 0x10000"},{"owner":{"account_id":174918,"reputation":13396,"user_id":404568,"accept_rate":45,"display_name":"David Given"},"score":11,"creation_date":1367075918,"post_id":5586041,"comment_id":23255714,"body_markdown":"That&#39;s why I said &#39;below&#39;! And I need to emphasise that, despite the fact that Java chars only go up to 0xffff, Unicode code points go up to 0xfffff. The Unicode standard got changed after Java was designed. These days Java chars technically hold UTF-16 words, not Unicode code points, and forgetting this will cause hideous breakage when your application encounters an exotic script.","body":"That&#39;s why I said &#39;below&#39;! And I need to emphasise that, despite the fact that Java chars only go up to 0xffff, Unicode code points go up to 0xfffff. The Unicode standard got changed after Java was designed. These days Java chars technically hold UTF-16 words, not Unicode code points, and forgetting this will cause hideous breakage when your application encounters an exotic script."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":3,"creation_date":1377778896,"post_id":5586041,"comment_id":27217591,"body_markdown":"@DavidGiven thanks for `Java chars go up to 0xFFFF`.  I did not know that.","body":"@DavidGiven thanks for <code>Java chars go up to 0xFFFF</code>.  I did not know that."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1563977521,"post_id":5586041,"comment_id":100880370,"body_markdown":"@PaulReiners I&#39;m facing the same problem. How did you fix it?","body":"@PaulReiners I&#39;m facing the same problem. How did you fix it?"},{"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"score":0,"creation_date":1564137953,"post_id":5586041,"comment_id":100941143,"body_markdown":"You can always do: `new String(Character.toChars(0x1F4F7))` if it is &gt; FFFF - Converts the Codepoint to char[] and then to string.","body":"You can always do: <code>new String(Character.toChars(0x1F4F7))</code> if it is &gt; FFFF - Converts the Codepoint to char[] and then to string."},{"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"score":0,"creation_date":1564354561,"post_id":5586041,"comment_id":100991767,"body_markdown":"I don&#39;t remember.","body":"I don&#39;t remember."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1604507176,"post_id":5586041,"comment_id":114369519,"body_markdown":"note that Unicode hasn&#39;t &quot;fit&quot; in a `char` since Unicode 3, so this answer does not work for Unicode (not even back in 2011), it only works for the subset of Unicode whose codepoints fit in 16 bits. Which is a smaller subset than the subset of Unicode codepoints that require more than 16 bits.","body":"note that Unicode hasn&#39;t &quot;fit&quot; in a <code>char</code> since Unicode 3, so this answer does not work for Unicode (not even back in 2011), it only works for the subset of Unicode whose codepoints fit in 16 bits. Which is a smaller subset than the subset of Unicode codepoints that require more than 16 bits."}],"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"comment_count":14,"down_vote_count":9,"up_vote_count":91,"is_accepted":true,"score":82,"last_activity_date":1302211835,"creation_date":1302202249,"answer_id":5586041,"question_id":5585919,"body_markdown":"Just cast your `int` to a `char`. You can convert that to a `String` using `Character.toString()`:\r\n\r\n    String s = Character.toString((char)c);\r\n\r\nEDIT:\r\n\r\nJust remember that the escape sequences in Java source code (the `\\u` bits) are in HEX, so if you&#39;re trying to reproduce an escape sequence, you&#39;ll need something like `int c = 0x2202`.","title":"Creating Unicode character from its number","body":"<p>Just cast your <code>int</code> to a <code>char</code>. You can convert that to a <code>String</code> using <code>Character.toString()</code>:</p>\n\n<pre><code>String s = Character.toString((char)c);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Just remember that the escape sequences in Java source code (the <code>\\u</code> bits) are in HEX, so if you're trying to reproduce an escape sequence, you'll need something like <code>int c = 0x2202</code>.</p>\n"},{"comments":[{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":0,"creation_date":1302206908,"post_id":5586307,"comment_id":6358148,"body_markdown":"Are you saying this works? If so, this works because you&#39;re reinterpreting two-thousand, two-hundred and two as 0x2202, which is, of course, not the same thing at all.","body":"Are you saying this works? If so, this works because you&#39;re reinterpreting two-thousand, two-hundred and two as 0x2202, which is, of course, not the same thing at all."},{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":4,"creation_date":1302206997,"post_id":5586307,"comment_id":6358178,"body_markdown":"Oh, no, hang on! The Unicode values (the \\u escape sequences in Java source) ARE hex! So this is right. You just misled everyone by saying `int c = 2202`, which is wrong! A better solution than this is simple to say `int c = 0x2202` which will save you going via a String, etc.","body":"Oh, no, hang on! The Unicode values (the \\u escape sequences in Java source) ARE hex! So this is right. You just misled everyone by saying <code>int c = 2202</code>, which is wrong! A better solution than this is simple to say <code>int c = 0x2202</code> which will save you going via a String, etc."},{"owner":{"account_id":106999,"reputation":1557,"user_id":284718,"display_name":"Andrew Coonce"},"score":3,"creation_date":1422301887,"post_id":5586307,"comment_id":44686488,"body_markdown":"+1 @dty: There is absolutely no call for the middle `char ccc...` line. Just use `int cc = 0x2202;` and then `final String text=String.valueOf(cc);`","body":"+1 @dty: There is absolutely no call for the middle <code>char ccc...</code> line. Just use <code>int cc = 0x2202;</code> and then <code>final String text=String.valueOf(cc);</code>"}],"tags":[],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":3,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1430834968,"creation_date":1302203506,"answer_id":5586307,"question_id":5585919,"body_markdown":"This is how you do it:\r\n\r\n    int cc = 0x2202;\r\n    char ccc = (char) Integer.parseInt(String.valueOf(cc), 16);\r\n    final String text = String.valueOf(ccc);\r\n\r\n[This solution][1] is by Arne Vajh&#248;j.\r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t683028-problem-printing-unicode-in-java.html","title":"Creating Unicode character from its number","body":"<p>This is how you do it:</p>\n\n<pre><code>int cc = 0x2202;\nchar ccc = (char) Integer.parseInt(String.valueOf(cc), 16);\nfinal String text = String.valueOf(ccc);\n</code></pre>\n\n<p><a href=\"http://www.velocityreviews.com/forums/t683028-problem-printing-unicode-in-java.html\" rel=\"nofollow\">This solution</a> is by Arne Vajhj.</p>\n"},{"comments":[{"owner":{"account_id":2019920,"reputation":1770,"user_id":1806348,"accept_rate":84,"display_name":"Jochem Kuijpers"},"score":0,"creation_date":1480730949,"post_id":5598346,"comment_id":69098261,"body_markdown":"While this is a more general solution and in many cases you should use this over the accepted answer, the accepted answer is a closer match to the specific problem Paul asked for.","body":"While this is a more general solution and in many cases you should use this over the accepted answer, the accepted answer is a closer match to the specific problem Paul asked for."},{"owner":{"account_id":990447,"reputation":1021,"user_id":1007926,"accept_rate":89,"display_name":"Peter Becich"},"score":2,"creation_date":1515553831,"post_id":5598346,"comment_id":83339545,"body_markdown":"Firstly, thanks!  In Scala, I am still unable to parse characters that are larger than a `char`.\n\n```scala&gt; &quot;&#128104;&#127912;&quot;.map(_.toInt).flatMap((i: Int) =&gt; Character.toChars(i)).map(_.toHexString)```\ngives\n```res11: scala.collection.immutable.IndexedSeq[String] = Vector(f468, 200d, f3a8)```\n\nThis emoji, &quot;male singer&quot;, is addressed with the three code points `U+1f468`, `U+200d` and `U+1f3a8`.  The most significant digit is missing.  I can add it with a bitwise OR (https://stackoverflow.com/a/2220476/1007926), but don&#39;t know how to determine which parsed characters have been truncated.  Thanks!","body":"Firstly, thanks!  In Scala, I am still unable to parse characters that are larger than a <code>char</code>.  <code>scala&gt; &quot;&quot;.map(_.toInt).flatMap((i: Int) =&gt; Character.toChars(i)).map(_.toHexString)</code> gives <code>res11: scala.collection.immutable.IndexedSeq[String] = Vector(f468, 200d, f3a8)</code>  This emoji, &quot;male singer&quot;, is addressed with the three code points <code>U+1f468</code>, <code>U+200d</code> and <code>U+1f3a8</code>.  The most significant digit is missing.  I can add it with a bitwise OR (<a href=\"https://stackoverflow.com/a/2220476/1007926\">stackoverflow.com/a/2220476/1007926</a>), but don&#39;t know how to determine which parsed characters have been truncated.  Thanks!"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1576907750,"post_id":5598346,"comment_id":105052993,"body_markdown":"@JochemKuijpers I don&#39;t agree that _&quot;the accepted answer is a closer match to the specific problem&quot;_. The OP explicitly asked _&quot;How can I construct the symbol **if I know its Unicode number**...?&quot;_, and the accepted answer cannot work if that _&quot;Unicode number&quot;_ is outside the BMP. For example, the accepted answer fails for the valid codepoint 0x1040C because it is in the SMP. It is a poor answer, and should be corrected or deleted.","body":"@JochemKuijpers I don&#39;t agree that <i>&quot;the accepted answer is a closer match to the specific problem&quot;</i>. The OP explicitly asked <i>&quot;How can I construct the symbol <b>if I know its Unicode number</b>...?&quot;</i>, and the accepted answer cannot work if that <i>&quot;Unicode number&quot;</i> is outside the BMP. For example, the accepted answer fails for the valid codepoint 0x1040C because it is in the SMP. It is a poor answer, and should be corrected or deleted."},{"owner":{"account_id":2019920,"reputation":1770,"user_id":1806348,"accept_rate":84,"display_name":"Jochem Kuijpers"},"score":0,"creation_date":1576949186,"post_id":5598346,"comment_id":105060652,"body_markdown":"@skomisa OPs scenario is limited to the representation of hexadecimal Unicode escape sequence. If you have a character that should be encoded as a surrogate pair, then that is reflected in these escape sequences, so it still works out in the end. As I said, this is a more general solution and you should use this.","body":"@skomisa OPs scenario is limited to the representation of hexadecimal Unicode escape sequence. If you have a character that should be encoded as a surrogate pair, then that is reflected in these escape sequences, so it still works out in the end. As I said, this is a more general solution and you should use this."}],"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":4,"down_vote_count":0,"up_vote_count":134,"is_accepted":false,"score":134,"last_activity_date":1416882677,"creation_date":1302281788,"answer_id":5598346,"question_id":5585919,"body_markdown":"If you want to get a UTF-16 encoded code unit as a `char`, you can parse the integer and cast to it as others have suggested.\r\n\r\nIf you want to support all code points, use [`Character.toChars(int)`][1]. This will handle cases where code points cannot fit in a single `char` value.\r\n\r\nDoc says:\r\n\r\n&gt;Converts the specified character (Unicode code point) to its UTF-16 representation stored in a char array. If the specified code point is a BMP (Basic Multilingual Plane or Plane 0) value, the resulting char array has the same value as codePoint. If the specified code point is a supplementary code point, the resulting char array has the corresponding surrogate pair.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toChars-int-","title":"Creating Unicode character from its number","body":"<p>If you want to get a UTF-16 encoded code unit as a <code>char</code>, you can parse the integer and cast to it as others have suggested.</p>\n\n<p>If you want to support all code points, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toChars-int-\" rel=\"noreferrer\"><code>Character.toChars(int)</code></a>. This will handle cases where code points cannot fit in a single <code>char</code> value.</p>\n\n<p>Doc says:</p>\n\n<blockquote>\n  <p>Converts the specified character (Unicode code point) to its UTF-16 representation stored in a char array. If the specified code point is a BMP (Basic Multilingual Plane or Plane 0) value, the resulting char array has the same value as codePoint. If the specified code point is a supplementary code point, the resulting char array has the corresponding surrogate pair.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":0,"creation_date":1467208975,"post_id":16034658,"comment_id":63637725,"body_markdown":"How come it doesn&#39;t work as a one-liner? `new String(Character.toChars(121849));` breaks in the Eclipse console, but the three-line version works.","body":"How come it doesn&#39;t work as a one-liner? <code>new String(Character.toChars(121849));</code> breaks in the Eclipse console, but the three-line version works."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1467235978,"post_id":16034658,"comment_id":63654320,"body_markdown":"@Noumenon can&#39;t reproduce the issue, works equally fine for me","body":"@Noumenon can&#39;t reproduce the issue, works equally fine for me"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1576909132,"post_id":16034658,"comment_id":105053152,"body_markdown":"Kudos for going further. For the `str4` assignment, shouldn&#39;t `code` be `codePoint` instead?","body":"Kudos for going further. For the <code>str4</code> assignment, shouldn&#39;t <code>code</code> be <code>codePoint</code> instead?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1610557349,"post_id":16034658,"comment_id":116173803,"body_markdown":"@skomisa yes. fixed.","body":"@skomisa yes. fixed."},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":1,"creation_date":1625664720,"post_id":16034658,"comment_id":120687294,"body_markdown":"As of Java 11 we now have `Character.toString(int codePoint)`.","body":"As of Java 11 we now have <code>Character.toString(int codePoint)</code>."}],"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":5,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1625912596,"creation_date":1366107967,"answer_id":16034658,"question_id":5585919,"body_markdown":"The other answers here either only support unicode up to U+FFFF (the answers dealing with just one instance of char) or don&#39;t tell how to get to the actual symbol (the answers stopping at Character.toChars() or using incorrect method after that), so adding my answer here, too.\r\n\r\nTo support supplementary code points also, this is what needs to be done:\r\n\r\n    // this character:\r\n    // http://www.isthisthingon.org/unicode/index.php?page=1F&amp;subpage=4&amp;glyph=1F495\r\n    // using code points here, not U+n notation\r\n    // for equivalence with U+n, below would be 0xnnnn\r\n    int codePoint = 128149;\r\n    // converting to char[] pair\r\n    char[] charPair = Character.toChars(codePoint);\r\n    // and to String, containing the character we want\r\n    String symbol = new String(charPair);\r\n\r\n    // we now have str with the desired character as the first item\r\n    // confirm that we indeed have character with code point 128149\r\n    System.out.println(&quot;First code point: &quot; + symbol.codePointAt(0));\r\n\r\nI also did a quick test as to which conversion methods work and which don&#39;t\r\n\r\n    int codePoint = 128149;\r\n    char[] charPair = Character.toChars(codePoint);\r\n\r\n    System.out.println(new String(charPair, 0, 2).codePointAt(0)); // 128149, worked\r\n    System.out.println(charPair.toString().codePointAt(0));        // 91, didn&#39;t work\r\n    System.out.println(new String(charPair).codePointAt(0));       // 128149, worked\r\n    System.out.println(String.valueOf(codePoint).codePointAt(0));  // 49, didn&#39;t work\r\n    System.out.println(new String(new int[] {codePoint}, 0, 1).codePointAt(0));\r\n                                                                   // 128149, worked\r\n\r\n--\r\n\r\nNote: as @Axel mentioned in the comments, with java 11 there is [Character.toString(int codePoint)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)) which would arguably be best suited for the job.","title":"Creating Unicode character from its number","body":"<p>The other answers here either only support unicode up to U+FFFF (the answers dealing with just one instance of char) or don't tell how to get to the actual symbol (the answers stopping at Character.toChars() or using incorrect method after that), so adding my answer here, too.</p>\n<p>To support supplementary code points also, this is what needs to be done:</p>\n<pre><code>// this character:\n// http://www.isthisthingon.org/unicode/index.php?page=1F&amp;subpage=4&amp;glyph=1F495\n// using code points here, not U+n notation\n// for equivalence with U+n, below would be 0xnnnn\nint codePoint = 128149;\n// converting to char[] pair\nchar[] charPair = Character.toChars(codePoint);\n// and to String, containing the character we want\nString symbol = new String(charPair);\n\n// we now have str with the desired character as the first item\n// confirm that we indeed have character with code point 128149\nSystem.out.println(&quot;First code point: &quot; + symbol.codePointAt(0));\n</code></pre>\n<p>I also did a quick test as to which conversion methods work and which don't</p>\n<pre><code>int codePoint = 128149;\nchar[] charPair = Character.toChars(codePoint);\n\nSystem.out.println(new String(charPair, 0, 2).codePointAt(0)); // 128149, worked\nSystem.out.println(charPair.toString().codePointAt(0));        // 91, didn't work\nSystem.out.println(new String(charPair).codePointAt(0));       // 128149, worked\nSystem.out.println(String.valueOf(codePoint).codePointAt(0));  // 49, didn't work\nSystem.out.println(new String(new int[] {codePoint}, 0, 1).codePointAt(0));\n                                                               // 128149, worked\n</code></pre>\n<p>--</p>\n<p>Note: as @Axel mentioned in the comments, with java 11 there is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">Character.toString(int codePoint)</a> which would arguably be best suited for the job.</p>\n"},{"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1437746907,"post_id":18042885,"comment_id":51174933,"body_markdown":"question is indeed for java. I don&#39;t see how .NET answer is related here.","body":"question is indeed for java. I don&#39;t see how .NET answer is related here."}],"tags":[],"owner":{"account_id":2905164,"reputation":135,"user_id":2490756,"display_name":"Suman Kr. Nath"},"comment_count":1,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1434900211,"creation_date":1375619003,"answer_id":18042885,"question_id":5585919,"body_markdown":"(ANSWER IS IN DOT NET 4.5 and in java, there must be a similar approach exist)\r\n\r\nI am from West Bengal in INDIA. \r\nAs I understand your problem is ...\r\nYou want to produce similar to &#39;  &#39; (It is a letter in Bengali language) \r\nwhich has Unicode HEX : `0X0985`.\r\n\r\nNow if you know this value in respect of your language then how will you produce that language specific Unicode symbol right ?\r\n\r\nIn Dot Net it is as simple as this :\r\n\r\n    int c = 0X0985;\r\n    string x = Char.ConvertFromUtf32(c);\r\n\r\nNow x is your answer.\r\nBut this is HEX by HEX convert and sentence to sentence conversion is a work for researchers :P\r\n","title":"Creating Unicode character from its number","body":"<p>(ANSWER IS IN DOT NET 4.5 and in java, there must be a similar approach exist)</p>\n\n<p>I am from West Bengal in INDIA. \nAs I understand your problem is ...\nYou want to produce similar to '  ' (It is a letter in Bengali language) \nwhich has Unicode HEX : <code>0X0985</code>.</p>\n\n<p>Now if you know this value in respect of your language then how will you produce that language specific Unicode symbol right ?</p>\n\n<p>In Dot Net it is as simple as this :</p>\n\n<pre><code>int c = 0X0985;\nstring x = Char.ConvertFromUtf32(c);\n</code></pre>\n\n<p>Now x is your answer.\nBut this is HEX by HEX convert and sentence to sentence conversion is a work for researchers :P</p>\n"},{"tags":[],"owner":{"account_id":3567306,"reputation":91,"user_id":2978501,"display_name":"MeraNaamJoker"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1385546997,"creation_date":1385546997,"answer_id":20239460,"question_id":5585919,"body_markdown":"This one worked fine for me.\r\n\r\n      String cc2 = &quot;2202&quot;;\r\n      String text2 = String.valueOf(Character.toChars(Integer.parseInt(cc2, 16)));\r\n\r\nNow text2 will have .","title":"Creating Unicode character from its number","body":"<p>This one worked fine for me.</p>\n\n<pre><code>  String cc2 = \"2202\";\n  String text2 = String.valueOf(Character.toChars(Integer.parseInt(cc2, 16)));\n</code></pre>\n\n<p>Now text2 will have .</p>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401291245,"creation_date":1401291245,"answer_id":23915978,"question_id":5585919,"body_markdown":"Unfortunatelly, to remove one backlash as mentioned in first comment (newbiedoodle) don&#39;t lead to good result. Most (if not all) IDE issues syntax error. The reason is in this, that Java Escaped Unicode format expects syntax &quot;\\uXXXX&quot;, where XXXX are 4 hexadecimal digits, which are mandatory. Attempts to fold this string from pieces fails. Of course, &quot;\\\\u&quot; is not the same as &quot;\\\\\\\\u&quot;. The first syntax means escaped &#39;u&#39;, second means escaped backlash (which is backlash) followed by &#39;u&#39;. It is strange, that on the Apache pages is presented utility, which doing exactly this behavior. But in reality, it is [Escape mimic utility][1]. Apache has some its own utilities (i didn&#39;t testet them), which do this work for you. May be, it is still not that, what you want to have. [Apache Escape Unicode utilities][2] But this utility [1] have good approach to the solution. With combination described above (MeraNaamJoker). My solution is create this Escaped mimic string and then convert it back to unicode (to avoid real Escaped Unicode restriction). I used it for copying text, so it is possible, that in uencode method will be better to use &#39;\\\\\\\\u&#39; except &#39;\\\\\\\\\\\\\\\\u&#39;. Try it.\r\n\r\n      /**\r\n       * Converts character to the mimic unicode format i.e. &#39;\\\\u0020&#39;.\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param ch  the character to convert\r\n       * @return is in the mimic of escaped unicode string, \r\n       */\r\n      public static String unicodeEscaped(char ch) {\r\n        String returnStr;\r\n        //String uniTemplate = &quot;\\u0000&quot;;\r\n        final static String charEsc = &quot;\\\\u&quot;;\r\n        \r\n        if (ch &lt; 0x10) {\r\n          returnStr = &quot;000&quot; + Integer.toHexString(ch);\r\n        }\r\n        else if (ch &lt; 0x100) {\r\n          returnStr = &quot;00&quot; + Integer.toHexString(ch);\r\n        }\r\n        else if (ch &lt; 0x1000) {\r\n          returnStr = &quot;0&quot; + Integer.toHexString(ch);\r\n        }\r\n        else\r\n          returnStr = &quot;&quot; + Integer.toHexString(ch);\r\n        \r\n        return charEsc + returnStr;\r\n      }\r\n\r\n      /**\r\n       * Converts the string from UTF8 to mimic unicode format i.e. &#39;\\\\u0020&#39;.\r\n       * notice: i cannot use real unicode format, because this is immediately translated\r\n       * to the character in time of compiling and editor (i.e. netbeans) checking it\r\n       * instead reaal unicode format i.e. &#39;\\u0020&#39; i using mimic unicode format &#39;\\\\u0020&#39;\r\n       * as a string, but it doesn&#39;t gives the same results, of course\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param String - nationalString in the UTF8 string to convert\r\n       * @return is the string in JAVA unicode mimic escaped\r\n       */\r\n      public String encodeStr(String nationalString) throws UnsupportedEncodingException {\r\n        String convertedString = &quot;&quot;;\r\n    \r\n        for (int i = 0; i &lt; nationalString.length(); i++) {\r\n          Character chs = nationalString.charAt(i);\r\n          convertedString += unicodeEscaped(chs);\r\n        }\r\n        return convertedString;\r\n      }\r\n\r\n      /**\r\n       * Converts the string from mimic unicode format i.e. &#39;\\\\u0020&#39; back to UTF8.\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param String - nationalString in the JAVA unicode mimic escaped\r\n       * @return is the string in UTF8 string\r\n       */\r\n      public String uencodeStr(String escapedString) throws UnsupportedEncodingException {\r\n        String convertedString = &quot;&quot;;\r\n    \r\n        String[] arrStr = escapedString.split(&quot;\\\\\\\\u&quot;);\r\n        String str, istr;\r\n        for (int i = 1; i &lt; arrStr.length; i++) {\r\n          str = arrStr[i];\r\n          if (!str.isEmpty()) {\r\n            Integer iI = Integer.parseInt(str, 16);\r\n            char[] chaCha = Character.toChars(iI);\r\n            convertedString += String.valueOf(chaCha);\r\n          }\r\n        }\r\n        return convertedString;\r\n      }\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\r\n","title":"Creating Unicode character from its number","body":"<p>Unfortunatelly, to remove one backlash as mentioned in first comment (newbiedoodle) don't lead to good result. Most (if not all) IDE issues syntax error. The reason is in this, that Java Escaped Unicode format expects syntax \"\\uXXXX\", where XXXX are 4 hexadecimal digits, which are mandatory. Attempts to fold this string from pieces fails. Of course, \"\\u\" is not the same as \"\\\\u\". The first syntax means escaped 'u', second means escaped backlash (which is backlash) followed by 'u'. It is strange, that on the Apache pages is presented utility, which doing exactly this behavior. But in reality, it is <a href=\"http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\" rel=\"nofollow\">Escape mimic utility</a>. Apache has some its own utilities (i didn't testet them), which do this work for you. May be, it is still not that, what you want to have. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow\">Apache Escape Unicode utilities</a> But this utility <a href=\"http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\" rel=\"nofollow\">1</a> have good approach to the solution. With combination described above (MeraNaamJoker). My solution is create this Escaped mimic string and then convert it back to unicode (to avoid real Escaped Unicode restriction). I used it for copying text, so it is possible, that in uencode method will be better to use '\\\\u' except '\\\\\\\\u'. Try it.</p>\n\n<pre><code>  /**\n   * Converts character to the mimic unicode format i.e. '\\\\u0020'.\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param ch  the character to convert\n   * @return is in the mimic of escaped unicode string, \n   */\n  public static String unicodeEscaped(char ch) {\n    String returnStr;\n    //String uniTemplate = \"\\u0000\";\n    final static String charEsc = \"\\\\u\";\n\n    if (ch &lt; 0x10) {\n      returnStr = \"000\" + Integer.toHexString(ch);\n    }\n    else if (ch &lt; 0x100) {\n      returnStr = \"00\" + Integer.toHexString(ch);\n    }\n    else if (ch &lt; 0x1000) {\n      returnStr = \"0\" + Integer.toHexString(ch);\n    }\n    else\n      returnStr = \"\" + Integer.toHexString(ch);\n\n    return charEsc + returnStr;\n  }\n\n  /**\n   * Converts the string from UTF8 to mimic unicode format i.e. '\\\\u0020'.\n   * notice: i cannot use real unicode format, because this is immediately translated\n   * to the character in time of compiling and editor (i.e. netbeans) checking it\n   * instead reaal unicode format i.e. '\\u0020' i using mimic unicode format '\\\\u0020'\n   * as a string, but it doesn't gives the same results, of course\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param String - nationalString in the UTF8 string to convert\n   * @return is the string in JAVA unicode mimic escaped\n   */\n  public String encodeStr(String nationalString) throws UnsupportedEncodingException {\n    String convertedString = \"\";\n\n    for (int i = 0; i &lt; nationalString.length(); i++) {\n      Character chs = nationalString.charAt(i);\n      convertedString += unicodeEscaped(chs);\n    }\n    return convertedString;\n  }\n\n  /**\n   * Converts the string from mimic unicode format i.e. '\\\\u0020' back to UTF8.\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param String - nationalString in the JAVA unicode mimic escaped\n   * @return is the string in UTF8 string\n   */\n  public String uencodeStr(String escapedString) throws UnsupportedEncodingException {\n    String convertedString = \"\";\n\n    String[] arrStr = escapedString.split(\"\\\\\\\\u\");\n    String str, istr;\n    for (int i = 1; i &lt; arrStr.length; i++) {\n      str = arrStr[i];\n      if (!str.isEmpty()) {\n        Integer iI = Integer.parseInt(str, 16);\n        char[] chaCha = Character.toChars(iI);\n        convertedString += String.valueOf(chaCha);\n      }\n    }\n    return convertedString;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338445,"reputation":520,"user_id":4081237,"display_name":"user96265"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433885916,"creation_date":1433885916,"answer_id":30743301,"question_id":5585919,"body_markdown":"The code below will write the 4 unicode chars (represented by decimals) for the word &quot;be&quot; in Japanese.  Yes, the verb &quot;be&quot; in Japanese has 4 chars!\r\nThe value of characters is in decimal and it has been read into an array of String[] -- using split for instance.  If you have Octal or Hex, [parseInt][1] take a radix as well.\r\n\r\n    // pseudo code\r\n    // 1. init the String[] containing the 4 unicodes in decima :: intsInStrs \r\n    // 2. allocate the proper number of character pairs :: c2s\r\n    // 3. Using Integer.parseInt (... with radix or not) get the right int value\r\n    // 4. place it in the correct location of in the array of character pairs\r\n    // 5. convert c2s[] to String\r\n    // 6. print \r\n\r\n    String[] intsInStrs = {&quot;12354&quot;, &quot;12426&quot;, &quot;12414&quot;, &quot;12377&quot;}; // 1.\r\n    char [] c2s = new char [intsInStrs.length * 2];  // 2.  two chars per unicode\r\n    \r\n    int ii = 0;\r\n    for (String intString : intsInStrs) {\r\n        // 3. NB ii*2 because the 16 bit value of Unicode is written in 2 chars\r\n\t    Character.toChars(Integer.parseInt(intsInStrs[ii]), c2s, ii * 2 ); // 3 + 4\r\n\t    ++ii; // advance to the next char\r\n    }\r\n\r\n    String symbols = new String(c2s);  // 5.\r\n    System.out.println(&quot;\\nLooooonger code point: &quot; + symbols); // 6.\r\n    // I tested it in Eclipse and Java 7 and it works.  Enjoy\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)","title":"Creating Unicode character from its number","body":"<p>The code below will write the 4 unicode chars (represented by decimals) for the word \"be\" in Japanese.  Yes, the verb \"be\" in Japanese has 4 chars!\nThe value of characters is in decimal and it has been read into an array of String[] -- using split for instance.  If you have Octal or Hex, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)\" rel=\"nofollow\">parseInt</a> take a radix as well.</p>\n\n<pre><code>// pseudo code\n// 1. init the String[] containing the 4 unicodes in decima :: intsInStrs \n// 2. allocate the proper number of character pairs :: c2s\n// 3. Using Integer.parseInt (... with radix or not) get the right int value\n// 4. place it in the correct location of in the array of character pairs\n// 5. convert c2s[] to String\n// 6. print \n\nString[] intsInStrs = {\"12354\", \"12426\", \"12414\", \"12377\"}; // 1.\nchar [] c2s = new char [intsInStrs.length * 2];  // 2.  two chars per unicode\n\nint ii = 0;\nfor (String intString : intsInStrs) {\n    // 3. NB ii*2 because the 16 bit value of Unicode is written in 2 chars\n    Character.toChars(Integer.parseInt(intsInStrs[ii]), c2s, ii * 2 ); // 3 + 4\n    ++ii; // advance to the next char\n}\n\nString symbols = new String(c2s);  // 5.\nSystem.out.println(\"\\nLooooonger code point: \" + symbols); // 6.\n// I tested it in Eclipse and Java 7 and it works.  Enjoy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829520,"reputation":64,"user_id":3898032,"display_name":"dave110022"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476934485,"creation_date":1476934485,"answer_id":40145005,"question_id":5585919,"body_markdown":"char c=(char)0x2202;\r\nString s=&quot;&quot;+c;","title":"Creating Unicode character from its number","body":"<p>char c=(char)0x2202;\nString s=\"\"+c;</p>\n"},{"tags":[],"owner":{"account_id":9537198,"reputation":11,"user_id":7086966,"display_name":"fjiang_ca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477760722,"creation_date":1477682599,"answer_id":40311926,"question_id":5585919,"body_markdown":"Here is a block to print out unicode chars between `\\u00c0` to `\\u00ff`:\r\n\r\n    char[] ca = {&#39;\\u00c0&#39;};\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        for (int j = 0; j &lt; 16; j++) {\r\n            String sc = new String(ca);\r\n            System.out.print(sc + &quot; &quot;);\r\n            ca[0]++;\r\n        }\r\n        System.out.println();\r\n    }","title":"Creating Unicode character from its number","body":"<p>Here is a block to print out unicode chars between <code>\\u00c0</code> to <code>\\u00ff</code>:</p>\n\n<pre><code>char[] ca = {'\\u00c0'};\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 16; j++) {\n        String sc = new String(ca);\n        System.out.print(sc + \" \");\n        ca[0]++;\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9280261,"reputation":6682,"user_id":6891637,"accept_rate":90,"display_name":"Ajil O."},"score":1,"creation_date":1500876843,"post_id":45273638,"comment_id":77509958,"body_markdown":"While this post might answer the question, an explanation is required as to what you are doing; to improve the quality and readability of your answer","body":"While this post might answer the question, an explanation is required as to what you are doing; to improve the quality and readability of your answer"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1563978765,"post_id":45273638,"comment_id":100881188,"body_markdown":"Thanks, it really helped me! Works fine and is easier than other solutions here (really, Java people soo like to overcomplicate things).","body":"Thanks, it really helped me! Works fine and is easier than other solutions here (really, Java people soo like to overcomplicate things)."}],"tags":[],"owner":{"account_id":11398152,"reputation":61,"user_id":8355849,"display_name":"Kapil K. Kushwah"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500876367,"creation_date":1500876367,"answer_id":45273638,"question_id":5585919,"body_markdown":"    \r\n    String st=&quot;2202&quot;;\r\n    int cp=Integer.parseInt(st,16);// it convert st into hex number.\r\n    char c[]=Character.toChars(cp);\r\n    System.out.println(c);// its display the character corresponding to &#39;\\u2202&#39;.\r\n\r\n\r\n","title":"Creating Unicode character from its number","body":"<pre><code>String st=\"2202\";\nint cp=Integer.parseInt(st,16);// it convert st into hex number.\nchar c[]=Character.toChars(cp);\nSystem.out.println(c);// its display the character corresponding to '\\u2202'.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59485,"reputation":1177,"user_id":177987,"accept_rate":60,"display_name":"Loathian"},"score":0,"creation_date":1587593688,"post_id":52509030,"comment_id":108576796,"body_markdown":"Some additional clarification on this one as this answer did make it immediately obvious to me how to create the codePoint variable.\n\nThe syntax here should be: `int codePoint = 0x2202;`\nThen: `String s = Character.toString(codePoint); // &lt;&lt;&lt; Requires JDK 11 !!!`\n\nOr in a one-liner: `System.out.println(Character.toString(0x2202)); // Prints `\n\nHope this helps someone else using this feature of JDK 11.","body":"Some additional clarification on this one as this answer did make it immediately obvious to me how to create the codePoint variable.  The syntax here should be: <code>int codePoint = 0x2202;</code> Then: <code>String s = Character.toString(codePoint); &#47;&#47; &lt;&lt;&lt; Requires JDK 11 !!!</code>  Or in a one-liner: <code>System.out.println(Character.toString(0x2202)); &#47;&#47; Prints </code>  Hope this helps someone else using this feature of JDK 11."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675791242,"post_id":52509030,"comment_id":133003289,"body_markdown":"@Loathian It is false that _&quot;The syntax here should be: `int codePoint = 0x2202;`&quot;_ It shouldn&#39;t. I used a Unicode escape in this answer precisely because the OP was using it in the question, which was about creating a Unicode character! Unicode escapes are a basic feature of Java - see [3.3. Unicode Escapes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3) in the Java Language Specification. But feel free to post your own answer if you think your approach is more appropriate.","body":"@Loathian It is false that <i>&quot;The syntax here should be: <code>int codePoint = 0x2202;</code>&quot;</i> It shouldn&#39;t. I used a Unicode escape in this answer precisely because the OP was using it in the question, which was about creating a Unicode character! Unicode escapes are a basic feature of Java - see <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3\" rel=\"nofollow noreferrer\">3.3. Unicode Escapes</a> in the Java Language Specification. But feel free to post your own answer if you think your approach is more appropriate."}],"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560904226,"creation_date":1537928294,"answer_id":52509030,"question_id":5585919,"body_markdown":"Although this is an old question, there is a very easy way to do this in Java 11 which was released today: you can use [a new overload of Character.toString()][1]:\r\n\r\n    public static String toString(int codePoint)\r\n\r\n    Returns a String object representing the specified character (Unicode code point). The result is a string of length 1 or 2, consisting solely of the specified codePoint.\r\n\r\n    Parameters:\r\n    codePoint - the codePoint to be converted\r\n\r\n    Returns:\r\n    the string representation of the specified codePoint\r\n\r\n    Throws:\r\n    IllegalArgumentException - if the specified codePoint is not a valid Unicode code point.\r\n\r\n    Since:\r\n    11\r\n\r\nSince this method supports any Unicode code point, the length of the returned String is not necessarily 1.\r\n\r\nThe code needed for the example given in the question is simply:\r\n\r\n        int codePoint = &#39;\\u2202&#39;;\r\n        String s = Character.toString(codePoint); // &lt;&lt;&lt; Requires JDK 11 !!!\r\n        System.out.println(s); // Prints \r\n\r\nThis approach offers several advantages:\r\n\r\n- It works for any Unicode code point rather than just those that can be handled using a `char`. \r\n- It&#39;s concise, and it&#39;s easy to understand what the code is doing.\r\n- It returns the value as a string rather than a `char[]`, which is often what you want. [The answer posted by McDowell][2] is appropriate if you want the code point returned as `char[]`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [2]: https://stackoverflow.com/a/5598346/2985643","title":"Creating Unicode character from its number","body":"<p>Although this is an old question, there is a very easy way to do this in Java 11 which was released today: you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">a new overload of Character.toString()</a>:</p>\n\n<pre><code>public static String toString(int codePoint)\n\nReturns a String object representing the specified character (Unicode code point). The result is a string of length 1 or 2, consisting solely of the specified codePoint.\n\nParameters:\ncodePoint - the codePoint to be converted\n\nReturns:\nthe string representation of the specified codePoint\n\nThrows:\nIllegalArgumentException - if the specified codePoint is not a valid Unicode code point.\n\nSince:\n11\n</code></pre>\n\n<p>Since this method supports any Unicode code point, the length of the returned String is not necessarily 1.</p>\n\n<p>The code needed for the example given in the question is simply:</p>\n\n<pre><code>    int codePoint = '\\u2202';\n    String s = Character.toString(codePoint); // &lt;&lt;&lt; Requires JDK 11 !!!\n    System.out.println(s); // Prints \n</code></pre>\n\n<p>This approach offers several advantages:</p>\n\n<ul>\n<li>It works for any Unicode code point rather than just those that can be handled using a <code>char</code>. </li>\n<li>It's concise, and it's easy to understand what the code is doing.</li>\n<li>It returns the value as a string rather than a <code>char[]</code>, which is often what you want. <a href=\"https://stackoverflow.com/a/5598346/2985643\">The answer posted by McDowell</a> is appropriate if you want the code point returned as <code>char[]</code>.</li>\n</ul>\n"}],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330416,"favorite_count":0,"down_vote_count":1,"up_vote_count":131,"accepted_answer_id":5586041,"answer_count":13,"score":130,"last_activity_date":1698228576,"creation_date":1302201645,"question_id":5585919,"body_markdown":"I want to display a Unicode character in Java.  If I do this, it works just fine:\r\n\t\t\r\n`String symbol = &quot;\\u2202&quot;;`\r\n\r\nsymbol is equal to &quot;&quot;.  That&#39;s what I want.\r\n\r\nThe problem is that I know the Unicode number and need to create the Unicode symbol from that.  I tried (to me) the obvious thing:\r\n\r\n    int c = 2202;\r\n    String symbol =  &quot;\\\\u&quot; + c;\r\n\r\nHowever, in this case, symbol is equal to &quot;\\u2202&quot;.  That&#39;s not what I want.\r\n\r\nHow can I construct the symbol if I know its Unicode number (but only at run-time---I can&#39;t hard-code it in like the first example)?\r\n","title":"Creating Unicode character from its number","body":"<p>I want to display a Unicode character in Java.  If I do this, it works just fine:</p>\n\n<p><code>String symbol = \"\\u2202\";</code></p>\n\n<p>symbol is equal to \"\".  That's what I want.</p>\n\n<p>The problem is that I know the Unicode number and need to create the Unicode symbol from that.  I tried (to me) the obvious thing:</p>\n\n<pre><code>int c = 2202;\nString symbol =  \"\\\\u\" + c;\n</code></pre>\n\n<p>However, in this case, symbol is equal to \"\\u2202\".  That's not what I want.</p>\n\n<p>How can I construct the symbol if I know its Unicode number (but only at run-time---I can't hard-code it in like the first example)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1698225391,"post_id":77358154,"comment_id":136376978,"body_markdown":"I&#39;d have to check the spec to be sure, but I *assume* it&#39;s equivalent to calling `strictEquals((Object) &quot;abc&quot;, (Object) 5)`.","body":"I&#39;d have to check the spec to be sure, but I <i>assume</i> it&#39;s equivalent to calling <code>strictEquals((Object) &quot;abc&quot;, (Object) 5)</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1698225411,"post_id":77358154,"comment_id":136376985,"body_markdown":"(Your method doesn&#39;t say the arguments have to be of the same type - it says that both arguments have to be convertible to `T`.)","body":"(Your method doesn&#39;t say the arguments have to be of the same type - it says that both arguments have to be convertible to <code>T</code>.)"},{"owner":{"account_id":62540,"reputation":417,"user_id":185764,"accept_rate":90,"display_name":"fwonce"},"score":0,"creation_date":1698226006,"post_id":77358154,"comment_id":136377106,"body_markdown":"You need to declare T&#39;s upper bound or it&#39;s just recognized as `Object`","body":"You need to declare T&#39;s upper bound or it&#39;s just recognized as <code>Object</code>"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1700465549,"post_id":77358154,"comment_id":136653329,"body_markdown":"&quot;type-safe wrapper around Objects.equals&quot; There is nothing type-unsafe about `Object.equals()`","body":"&quot;type-safe wrapper around Objects.equals&quot; There is nothing type-unsafe about <code>Object.equals()</code>"}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698228502,"creation_date":1698225474,"answer_id":77358181,"question_id":77358154,"body_markdown":"```\r\n// Why does this not produce a compiler error?\r\nSystem.out.println(strictEquals(&quot;abc&quot;, 5));  \r\n```\r\n\r\nWhen the type parameter `T` of `strictEquals` gets inferred by the compiler it tries to find a type that makes the types check out. The result is that it infers a common super-type of `Integer` and `String`, which turns out to be `Object`. (It might also be `Comparable` or `Serializable` or something like that.)\r\n\r\nSince both arguments are subtypes to `Object` the method type-checks fine.\r\n\r\nOne way to make the compiler detect a type error is to provide an explicit type argument to `strictEquals`:\r\n\r\n```\r\n// Error: not applicable for the arguments (String, Integer)\r\nSystem.out.println(Main.&lt;String&gt;strictEquals(&quot;abc&quot;, 5));\r\n```\r\n\r\n------\r\n\r\nYou can force the user to provide a type by adding a class object parameter:\r\n\r\n```\r\nSystem.out.println(Main.strictEquals(String.class, &quot;abc&quot;, 5));\r\n\r\npublic static &lt;T&gt; boolean strictEquals(Class&lt;T&gt; compareAsType, T a, T b) {\r\n    Objects.requireNonNull(compareAsType);\r\n    return Objects.equals(a, b);\r\n}\r\n```\r\n\r\n------\r\n\r\nAnother work-around might be rely on the fact that types are invariant in their type arguments. For example, only compare boxes of values, like this:\r\n\r\n```\r\nBox&lt;String&gt; b1 = new Box&lt;&gt;(&quot;abc&quot;);\r\nBox&lt;Integer&gt; b2 = new Box&lt;&gt;(5);\r\n// Error: not applicable for the arguments (Box&lt;String&gt;, Box&lt;Integer&gt;)\r\nSystem.out.println(Main.strictEqualsBoxed(b1, b2));\r\n\r\npublic static &lt;T&gt; boolean strictEqualsBoxed(Box&lt;T&gt; a, Box&lt;T&gt; b) {\r\n    return Objects.equals(a, b);\r\n}\r\n\r\nclass Box&lt;T&gt; {\r\n    T value;\r\n    public Box(T value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\nBut it&#39;s still easy to circumvent:\r\n\r\n```\r\n// No error\r\nSystem.out.println(Main.strictEqualsBoxed(new Box&lt;&gt;(&quot;abc&quot;), new Box&lt;&gt;(5)));\r\n```\r\n\r\nMaybe their is some other kind of arcane genetics wizardry to make a better solution...? I don&#39;t think so, but I will now embark on a quest to find out! :) ","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<pre><code>// Why does this not produce a compiler error?\nSystem.out.println(strictEquals(&quot;abc&quot;, 5));  \n</code></pre>\n<p>When the type parameter <code>T</code> of <code>strictEquals</code> gets inferred by the compiler it tries to find a type that makes the types check out. The result is that it infers a common super-type of <code>Integer</code> and <code>String</code>, which turns out to be <code>Object</code>. (It might also be <code>Comparable</code> or <code>Serializable</code> or something like that.)</p>\n<p>Since both arguments are subtypes to <code>Object</code> the method type-checks fine.</p>\n<p>One way to make the compiler detect a type error is to provide an explicit type argument to <code>strictEquals</code>:</p>\n<pre><code>// Error: not applicable for the arguments (String, Integer)\nSystem.out.println(Main.&lt;String&gt;strictEquals(&quot;abc&quot;, 5));\n</code></pre>\n<hr />\n<p>You can force the user to provide a type by adding a class object parameter:</p>\n<pre><code>System.out.println(Main.strictEquals(String.class, &quot;abc&quot;, 5));\n\npublic static &lt;T&gt; boolean strictEquals(Class&lt;T&gt; compareAsType, T a, T b) {\n    Objects.requireNonNull(compareAsType);\n    return Objects.equals(a, b);\n}\n</code></pre>\n<hr />\n<p>Another work-around might be rely on the fact that types are invariant in their type arguments. For example, only compare boxes of values, like this:</p>\n<pre><code>Box&lt;String&gt; b1 = new Box&lt;&gt;(&quot;abc&quot;);\nBox&lt;Integer&gt; b2 = new Box&lt;&gt;(5);\n// Error: not applicable for the arguments (Box&lt;String&gt;, Box&lt;Integer&gt;)\nSystem.out.println(Main.strictEqualsBoxed(b1, b2));\n\npublic static &lt;T&gt; boolean strictEqualsBoxed(Box&lt;T&gt; a, Box&lt;T&gt; b) {\n    return Objects.equals(a, b);\n}\n\nclass Box&lt;T&gt; {\n    T value;\n    public Box(T value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>But it's still easy to circumvent:</p>\n<pre><code>// No error\nSystem.out.println(Main.strictEqualsBoxed(new Box&lt;&gt;(&quot;abc&quot;), new Box&lt;&gt;(5)));\n</code></pre>\n<p>Maybe their is some other kind of arcane genetics wizardry to make a better solution...? I don't think so, but I will now embark on a quest to find out! :)</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1698226573,"post_id":77358182,"comment_id":136377218,"body_markdown":"*&quot;Generics are erased at runtime.&quot;* I don&#39;t think that&#39;s relevant here, because this is about a compile time type check. Erasure is often the source of problems in other situations, though!","body":"<i>&quot;Generics are erased at runtime.&quot;</i> I don&#39;t think that&#39;s relevant here, because this is about a compile time type check. Erasure is often the source of problems in other situations, though!"}],"tags":[],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698225794,"creation_date":1698225486,"answer_id":77358182,"question_id":77358154,"body_markdown":"Java will resolve `T` to the most generic base type that both parameters inherit from, in this case `Object`.\r\n\r\nI don&#39;t believe there is any way to use generics for the problem you&#39;re trying to solve. Generics are [erased at runtime](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens). Note that it&#39;s very common for overridden implementations of `equals` to check (at runtime, not compile-time) that the two compared values have the same type.\r\n\r\nYour best alternative would be to create many implementations of `strictEquals` that take in parameters of the same primitive type, for example:\r\n```java\r\npublic static boolean strictEquals(int a, int b) {\r\n    return a == b;\r\n}\r\n\r\npublic static boolean strictEquals(String a, String b) {\r\n    return Objects.equals(a, b);\r\n}\r\n```","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<p>Java will resolve <code>T</code> to the most generic base type that both parameters inherit from, in this case <code>Object</code>.</p>\n<p>I don't believe there is any way to use generics for the problem you're trying to solve. Generics are <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">erased at runtime</a>. Note that it's very common for overridden implementations of <code>equals</code> to check (at runtime, not compile-time) that the two compared values have the same type.</p>\n<p>Your best alternative would be to create many implementations of <code>strictEquals</code> that take in parameters of the same primitive type, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean strictEquals(int a, int b) {\n    return a == b;\n}\n\npublic static boolean strictEquals(String a, String b) {\n    return Objects.equals(a, b);\n}\n</code></pre>\n"}],"owner":{"account_id":4882335,"reputation":659,"user_id":10489834,"display_name":"Stefan Pfeifer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77358181,"answer_count":2,"score":2,"last_activity_date":1698228502,"creation_date":1698225207,"question_id":77358154,"body_markdown":"I wanted to implement a helper function that behaves like `Objects.equals(a, b)`, except that it can only be called with two objects of the same type. So my idea was to create a generic wrapper `&lt;T&gt; strictEquals(T a, T b)` where each argument has the same type `T`.\r\n\r\nMy implementation looks like shown below, but to my surprise the function can still be called with different argument types without getting a compiler error. Is this a misunderstanding of how Java generics work?\r\n\r\n    import java.util.Objects;\r\n\r\n    public class Main {\r\n        public static &lt;T&gt; boolean strictEquals(T a, T b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(strictEquals(&quot;abc&quot;, 5));  // Why does this not produce a compiler error?\r\n        }\r\n    }","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<p>I wanted to implement a helper function that behaves like <code>Objects.equals(a, b)</code>, except that it can only be called with two objects of the same type. So my idea was to create a generic wrapper <code>&lt;T&gt; strictEquals(T a, T b)</code> where each argument has the same type <code>T</code>.</p>\n<p>My implementation looks like shown below, but to my surprise the function can still be called with different argument types without getting a compiler error. Is this a misunderstanding of how Java generics work?</p>\n<pre><code>import java.util.Objects;\n\npublic class Main {\n    public static &lt;T&gt; boolean strictEquals(T a, T b) {\n        return Objects.equals(a, b);\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(strictEquals(&quot;abc&quot;, 5));  // Why does this not produce a compiler error?\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1698667502,"post_id":77358417,"comment_id":136430216,"body_markdown":"Please contact JetBrains development team directly as described at https://plugins.jetbrains.com/docs/intellij/getting-help.html to address this query","body":"Please contact JetBrains development team directly as described at <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a> to address this query"}],"owner":{"account_id":13837757,"reputation":1,"user_id":9988877,"display_name":"Minecraftschurli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698228198,"creation_date":1698227528,"question_id":77358417,"body_markdown":"I am creating an IntelliJ plugin and use IntelliJ&#39;s UI designer for my popups, but I would like to use some components from the IntelliJ platform, some of which are created with the UI designer, but I can&#39;t add them to the palette because the `.form` files are not included in the dependency. Is there some other dependency I can add that includes those `.form` files or some other solution to this?\r\n\r\nI tried importing the components into the palette and it works for some because they extend classes like JPanel, but others that are UI designer forms don&#39;t because it can&#39;t determine them as such because it is looking for the not included `.form` file.","title":"How do I use intellij platform ui components in plugin with the ui designer?","body":"<p>I am creating an IntelliJ plugin and use IntelliJ's UI designer for my popups, but I would like to use some components from the IntelliJ platform, some of which are created with the UI designer, but I can't add them to the palette because the <code>.form</code> files are not included in the dependency. Is there some other dependency I can add that includes those <code>.form</code> files or some other solution to this?</p>\n<p>I tried importing the components into the palette and it works for some because they extend classes like JPanel, but others that are UI designer forms don't because it can't determine them as such because it is looking for the not included <code>.form</code> file.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1698229055,"post_id":77358497,"comment_id":136377667,"body_markdown":"Why are you using `org.joda.time.LocalDate` instead of `java.time.LocalDate`?  See https://stackoverflow.com/q/29750221/685806","body":"Why are you using <code>org.joda.time.LocalDate</code> instead of <code>java.time.LocalDate</code>?  See <a href=\"https://stackoverflow.com/q/29750221/685806\">stackoverflow.com/q/29750221/685806</a>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698229300,"post_id":77358497,"comment_id":136377713,"body_markdown":"working on a tech stack upgrade for this application. Theres 1000s of occurrences of org.joda.time.LocalDate so was hoping i could just leave it be.","body":"working on a tech stack upgrade for this application. Theres 1000s of occurrences of org.joda.time.LocalDate so was hoping i could just leave it be."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698232130,"post_id":77358497,"comment_id":136378230,"body_markdown":"yeah had a look through the codebase and it could be done but its a massive effort - hoping for another solution","body":"yeah had a look through the codebase and it could be done but its a massive effort - hoping for another solution"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698233553,"post_id":77358497,"comment_id":136378519,"body_markdown":"agreed but due to time constraints, it isnt the first on the list - also lol wish it was as simple as that - i did that and theres still hundreds of methods that would need updated.","body":"agreed but due to time constraints, it isnt the first on the list - also lol wish it was as simple as that - i did that and theres still hundreds of methods that would need updated."}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698228138,"creation_date":1698228138,"question_id":77358497,"body_markdown":"My query executes but when returning results, it seems to have an issue with then converting the DATE to LOCALDATE.\r\n\r\nthis is the only place in my application i have an issue with LocalDate - it works with other queries?\r\n\r\nhibernate version: 5.4.33.FINAL\r\n\r\n```\r\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader &#39;bootstrap&#39;; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\r\n```\r\nThis is the column details in my table \r\n```\r\nDATE_EFFECTIVE\tDATE\r\n```\r\nThis is my mapping file - it is the dateEffective column which is causing issues.\r\n```\r\n    &lt;class table=&quot;DATA_POINT&quot; \r\n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \r\n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\r\n        abstract=&quot;true&quot;\r\n    &gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\r\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\r\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\r\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; length=&quot;7&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n ```\r\n\r\nI have the relevant getters and setters \r\n``` \r\n\tpublic LocalDate getDateEffective() {\r\n\t\treturn dateEffective;\r\n\t}\r\n\r\n\tpublic void setDateEffective(LocalDate dateEffective) {\r\n\t\tthis.dateEffective = dateEffective;\r\n\t}\r\n ```\r\n\r\nhere is the full stacktrace\r\n```\r\nAn error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\r\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader &#39;bootstrap&#39;; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\r\n\tat com.application.core.dao.hibernate.usertype.JodaLocalDateUserType.nullSafeSet(JodaLocalDateUserType.java:81)\r\n\tat org.hibernate.type.CustomType.nullSafeSet(CustomType.java:170)\r\n\tat org.hibernate.param.NamedParameterSpecification.bind(NamedParameterSpecification.java:53)\r\n\tat org.hibernate.loader.hql.QueryLoader.bindParameterValues(QueryLoader.java:648)\r\n\tat org.hibernate.loader.Loader.bindPreparedStatement(Loader.java:2125)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2102)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:948)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2843)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2825)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2652)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1646)\r\n\tat com.application.data.dao.hibernate.AbstractDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(AbstractDataPointHibernateDao.java:86)\r\n\tat com.application.data.dao.hibernate.VolumeDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(VolumeDataPointHibernateDao.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy118.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\r\n\tat com.application.data.domain.datapoint.DataPointManagerImpl.getVolumeDataPoint(DataPointManagerImpl.java:54)\r\n\tat com.application.network.domain.AbstractNetworkObject.getVolumeDataPoint(AbstractNetworkObject.java:51)\r\n\tat com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:413)\r\n\tat com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\r\n\tat com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\r\n\tat com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nthis is my query - i convert the localDate to a Date so it is accepted \r\n```\r\n\tpublic DataPoint findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String dataPointName, Product product, LocalDate gasDay) {\r\n\t\tQuery query = getSession().createQuery(findDataPointApplicableOnDateByNameQuery)\r\n\t\t\t    .setParameter(&quot;name&quot;, dataPointName)\r\n\t\t\t    .setParameter(&quot;gasDay&quot;, convertToDate(gasDay))\r\n\t\t\t    .setParameter(&quot;product&quot;, product)\r\n\t\t\t\t.setParameter(&quot;networkObject&quot;, networkObject); \r\n\t\t\r\n\t\treturn (DataPoint) query.uniqueResult();\r\n\t}\r\n```\r\n","title":"Hibernate 5 - can not cast Date to LocalDate","body":"<p>My query executes but when returning results, it seems to have an issue with then converting the DATE to LOCALDATE.</p>\n<p>this is the only place in my application i have an issue with LocalDate - it works with other queries?</p>\n<p>hibernate version: 5.4.33.FINAL</p>\n<pre><code>java.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader 'bootstrap'; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\n</code></pre>\n<p>This is the column details in my table</p>\n<pre><code>DATE_EFFECTIVE  DATE\n</code></pre>\n<p>This is my mapping file - it is the dateEffective column which is causing issues.</p>\n<pre><code>    &lt;class table=&quot;DATA_POINT&quot; \n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\n        abstract=&quot;true&quot;\n    &gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; length=&quot;7&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n</code></pre>\n<p>I have the relevant getters and setters</p>\n<pre><code>    public LocalDate getDateEffective() {\n        return dateEffective;\n    }\n\n    public void setDateEffective(LocalDate dateEffective) {\n        this.dateEffective = dateEffective;\n    }\n</code></pre>\n<p>here is the full stacktrace</p>\n<pre><code>An error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader 'bootstrap'; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\n    at com.application.core.dao.hibernate.usertype.JodaLocalDateUserType.nullSafeSet(JodaLocalDateUserType.java:81)\n    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:170)\n    at org.hibernate.param.NamedParameterSpecification.bind(NamedParameterSpecification.java:53)\n    at org.hibernate.loader.hql.QueryLoader.bindParameterValues(QueryLoader.java:648)\n    at org.hibernate.loader.Loader.bindPreparedStatement(Loader.java:2125)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2102)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:948)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\n    at org.hibernate.loader.Loader.doList(Loader.java:2843)\n    at org.hibernate.loader.Loader.doList(Loader.java:2825)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)\n    at org.hibernate.loader.Loader.list(Loader.java:2652)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)\n    at org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1646)\n    at com.application.data.dao.hibernate.AbstractDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(AbstractDataPointHibernateDao.java:86)\n    at com.application.data.dao.hibernate.VolumeDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(VolumeDataPointHibernateDao.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy118.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\n    at com.application.data.domain.datapoint.DataPointManagerImpl.getVolumeDataPoint(DataPointManagerImpl.java:54)\n    at com.application.network.domain.AbstractNetworkObject.getVolumeDataPoint(AbstractNetworkObject.java:51)\n    at com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:413)\n    at com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\n    at com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\n    at com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>this is my query - i convert the localDate to a Date so it is accepted</p>\n<pre><code>    public DataPoint findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String dataPointName, Product product, LocalDate gasDay) {\n        Query query = getSession().createQuery(findDataPointApplicableOnDateByNameQuery)\n                .setParameter(&quot;name&quot;, dataPointName)\n                .setParameter(&quot;gasDay&quot;, convertToDate(gasDay))\n                .setParameter(&quot;product&quot;, product)\n                .setParameter(&quot;networkObject&quot;, networkObject); \n        \n        return (DataPoint) query.uniqueResult();\n    }\n</code></pre>\n"},{"tags":["java","apache-commons","email-validation","tld","rfc822"],"answers":[{"tags":[],"owner":{"account_id":2821287,"reputation":682,"user_id":2424993,"accept_rate":100,"display_name":"Piotr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698227380,"creation_date":1698227380,"answer_id":77358398,"question_id":71661283,"body_markdown":"I would say this is intended. You can adjust validation to your by providing parameters you&#39;ve mentioned.\r\n\r\nAccording to https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en dotless domains are prohibited.\r\n\r\nAnd as a word of explanation for parameters:\r\n* `allowLocal` - will allow local domains e.g `mail@somenotexistingtld`\r\n* `allowTld` - will allow top level domains e.g `mail@com`\r\n\r\n To have truly accurate RFC822 validation you need set both to `true`. But in real life scenario I would say that in most of the cases they will be omitted or set to `false`.","title":"Why is a TLD as domain accepted under RFC 822/Apache-commons validations?","body":"<p>I would say this is intended. You can adjust validation to your by providing parameters you've mentioned.</p>\n<p>According to <a href=\"https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en\" rel=\"nofollow noreferrer\">https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en</a> dotless domains are prohibited.</p>\n<p>And as a word of explanation for parameters:</p>\n<ul>\n<li><code>allowLocal</code> - will allow local domains e.g <code>mail@somenotexistingtld</code></li>\n<li><code>allowTld</code> - will allow top level domains e.g <code>mail@com</code></li>\n</ul>\n<p>To have truly accurate RFC822 validation you need set both to <code>true</code>. But in real life scenario I would say that in most of the cases they will be omitted or set to <code>false</code>.</p>\n"}],"owner":{"account_id":4756794,"reputation":3150,"user_id":3845362,"accept_rate":62,"display_name":"Edito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698227380,"creation_date":1648553677,"question_id":71661283,"body_markdown":"According to the Apache docs, their email validation respects the [RFC 822 specification][1].\r\n\r\n&gt;EmailValidator provides email address validation according to RFC 822 standards.\r\n[source][2]\r\n\r\nHowever when running some tests locally I found that some TLD&#39;s are accepted as a domain.\r\n```\r\ntest@test      //invalid\r\ntest@test.com  //valid\r\ntest@com       //valid\r\ntest@comm      //invalid\r\ntest@amsterdam //valid\r\ntest@brussels  //valid\r\n```\r\nI thought I read somewhere in the RFC that `&lt;local&gt;@&lt;domain&gt;` is a valid e-mail address but highly discouraged to use (..and thus should be considered invalid?). So I get that `test@test` will not be valid, however `test@amsterdam` is, because `.amsterdam` is a valid gTLD.\r\n\r\nNot sure if this is a bug or if this is intended. From their implementation and documentation it is unclear what should be valid, and if it is 100% comform the RFC 822 specification.\r\n\r\n---\r\n```java\r\nclass Test {\r\n    EmailValidator validator = EmailValidator.getInstance(false, true);\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {\r\n            &quot;test@test&quot;,\r\n            &quot;test@test.com&quot;,\r\n            &quot;test@com&quot;,\r\n            &quot;test@comm&quot;,\r\n            &quot;test@amsterdam&quot;,\r\n            &quot;test@brussels&quot;\r\n    })\r\n    void emails(String email) {\r\n        System.out.printf(&quot;%-20s valid? %s%n&quot;, email, validator.isValid(email));\r\n    }\r\n}\r\n```\r\nWhat I also don&#39;t seem to get is what the parameters `allowLocal` and `allowTld` in the [`EmailValidator`][3] constructor do\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc822\r\n  [2]: https://EmailValidator%20provides%20email%20address%20validation%20according%20to%20RFC%20822%20standards.\r\n  [3]: https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/EmailValidator.html#EmailValidator-boolean-boolean-","title":"Why is a TLD as domain accepted under RFC 822/Apache-commons validations?","body":"<p>According to the Apache docs, their email validation respects the <a href=\"https://datatracker.ietf.org/doc/html/rfc822\" rel=\"nofollow noreferrer\">RFC 822 specification</a>.</p>\n<blockquote>\n<p>EmailValidator provides email address validation according to RFC 822 standards.\n<a href=\"https://EmailValidator%20provides%20email%20address%20validation%20according%20to%20RFC%20822%20standards.\" rel=\"nofollow noreferrer\">source</a></p>\n</blockquote>\n<p>However when running some tests locally I found that some TLD's are accepted as a domain.</p>\n<pre><code>test@test      //invalid\ntest@test.com  //valid\ntest@com       //valid\ntest@comm      //invalid\ntest@amsterdam //valid\ntest@brussels  //valid\n</code></pre>\n<p>I thought I read somewhere in the RFC that <code>&lt;local&gt;@&lt;domain&gt;</code> is a valid e-mail address but highly discouraged to use (..and thus should be considered invalid?). So I get that <code>test@test</code> will not be valid, however <code>test@amsterdam</code> is, because <code>.amsterdam</code> is a valid gTLD.</p>\n<p>Not sure if this is a bug or if this is intended. From their implementation and documentation it is unclear what should be valid, and if it is 100% comform the RFC 822 specification.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n    EmailValidator validator = EmailValidator.getInstance(false, true);\n\n    @ParameterizedTest\n    @ValueSource(strings = {\n            &quot;test@test&quot;,\n            &quot;test@test.com&quot;,\n            &quot;test@com&quot;,\n            &quot;test@comm&quot;,\n            &quot;test@amsterdam&quot;,\n            &quot;test@brussels&quot;\n    })\n    void emails(String email) {\n        System.out.printf(&quot;%-20s valid? %s%n&quot;, email, validator.isValid(email));\n    }\n}\n</code></pre>\n<p>What I also don't seem to get is what the parameters <code>allowLocal</code> and <code>allowTld</code> in the <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/EmailValidator.html#EmailValidator-boolean-boolean-\" rel=\"nofollow noreferrer\"><code>EmailValidator</code></a> constructor do</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":1,"creation_date":1631883016,"post_id":69223556,"comment_id":122350411,"body_markdown":"What do you mean by `while running localhost:8080` (did you try to reach `/sum`)? Please provide all log prints as well","body":"What do you mean by <code>while running localhost:8080</code> (did you try to reach <code>&#47;sum</code>)? Please provide all log prints as well"}],"answers":[{"tags":[],"owner":{"account_id":2487219,"reputation":3759,"user_id":2165447,"display_name":"eltabo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631883072,"creation_date":1631883072,"answer_id":69223755,"question_id":69223556,"body_markdown":"It seems your controller only have a mapping for &quot;/sum&quot; path. Try querying *localhost:8080/sum*.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>It seems your controller only have a mapping for &quot;/sum&quot; path. Try querying <em>localhost:8080/sum</em>.</p>\n"},{"tags":[],"owner":{"account_id":8545324,"reputation":108,"user_id":6404058,"display_name":"Ankit Dhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631883494,"creation_date":1631883494,"answer_id":69223843,"question_id":69223556,"body_markdown":"The Whitelabel page is a spring error handling method and it tries to hint to you that you do have a mapping for /error.\r\nNow coming to the issue you need to write  @RequestMapping(&quot;/&quot;) above your get mapping in the controller so that the spring knows the base URI.\r\nIt&#39;s an entry point for the spring application for the browser.\r\n\r\nNow you have written /sum get URI and in the browser, you are trying for http://localhost:8080\r\nSo for the above Uri to work you need to provide @RequestMapping(&quot;/&quot;)\r\n\r\nor you can use http://localhost:8080/sum with you current code.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>The Whitelabel page is a spring error handling method and it tries to hint to you that you do have a mapping for /error.\nNow coming to the issue you need to write  @RequestMapping(&quot;/&quot;) above your get mapping in the controller so that the spring knows the base URI.\nIt's an entry point for the spring application for the browser.</p>\n<p>Now you have written /sum get URI and in the browser, you are trying for http://localhost:8080\nSo for the above Uri to work you need to provide @RequestMapping(&quot;/&quot;)</p>\n<p>or you can use http://localhost:8080/sum with you current code.</p>\n"},{"tags":[],"owner":{"account_id":3732901,"reputation":491,"user_id":3913894,"display_name":"khwilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698227011,"creation_date":1698226520,"answer_id":77358300,"question_id":69223556,"body_markdown":"I came across this problem after creating a simple Maven Spring Boot project. Running the command `mvn clean install` solved my issue. Note that ***I had the live reload dependency on the project***. I removed the dependency.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>I came across this problem after creating a simple Maven Spring Boot project. Running the command <code>mvn clean install</code> solved my issue. Note that <em><strong>I had the live reload dependency on the project</strong></em>. I removed the dependency.</p>\n"}],"owner":{"account_id":17834783,"reputation":33,"user_id":12954023,"display_name":"Golu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69223843,"answer_count":3,"score":0,"last_activity_date":1698227011,"creation_date":1631882229,"question_id":69223556,"body_markdown":"I started learning Spring Framework and get this kind of error while running localhost:8080\r\n\r\n&gt; Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n**Controller.java**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.springFramework.helloGame.controller;\r\n\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class Controller {\r\n\r\n        @GetMapping(&quot;/sum&quot;)\r\n        public long displaySum(){\r\n            return 100;\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**HelloGameApplication.java**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.springFramework.helloGame;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n\r\n    @SpringBootApplication\r\n    public class HelloGameApplication {\r\n\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext context =\r\n                    SpringApplication.run(HelloGameApplication.class, args);\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**pom.xml**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.springFramework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helloGame&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;helloGame&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![project structure][1]][1]\r\n\r\nmy project structure looks fine, but don&#39;t know why I got error!\r\nPlease help me!\r\n\r\n  [1]: https://i.stack.imgur.com/UXTaE.png","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>I started learning Spring Framework and get this kind of error while running localhost:8080</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n</blockquote>\n<p><strong>Controller.java</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.springFramework.helloGame.controller;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Controller {\n\n    @GetMapping(\"/sum\")\n    public long displaySum(){\n        return 100;\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>HelloGameApplication.java</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.springFramework.helloGame;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class HelloGameApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context =\n                SpringApplication.run(HelloGameApplication.class, args);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>pom.xml</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springFramework&lt;/groupId&gt;\n    &lt;artifactId&gt;helloGame&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;helloGame&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/UXTaE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXTaE.png\" alt=\"project structure\" /></a></p>\n<p>my project structure looks fine, but don't know why I got error!\nPlease help me!</p>\n"},{"tags":["java","junit","mockito","executorservice","powermock"],"owner":{"account_id":13048766,"reputation":23,"user_id":15110414,"display_name":"Techi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698226878,"creation_date":1698225634,"question_id":77358202,"body_markdown":"I have made my function async with executor service but while executing test cases are not executing the executor service method.\r\n\r\nThe update code similar to:\r\n\r\n    void method1(Status status) {\r\n\r\n        executorService.submit(() -&gt; {\r\n            try () {\r\n                method2();\r\n            } catch (Exception exception) {\r\n\r\n                throw new CustomException(exception.getMessage(), exception);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\nwhile debuging the exixting testcase i found that the executorService.submit was skipped. I tried to mock the submit method but not working. \r\n\r\n    @Test(expected = CustomException.class)\r\n    public void testSatuse() throws Exception {\r\n        Status mocktatus = getStatusMock(&quot;XXX&quot;, &quot;XXXX&quot;);\r\n        PowerMockito.doNothing().when(httpResponse).close();\r\n        CustomException exception = PowerMockito.mock(CustomException.class);\r\n        PowerMockito.when(httpClient.execute(Mockito.any())).thenReturn(httpResponse);\r\n        Future&lt;String&gt; futureMock = Mockito.mock(Future.class);\r\n        PowerMockito.when(executorServiceMock.submit(Mockito.any(Runnable.class)))\r\n                .thenAnswer(invocation -&gt; {\r\n                    Callable&lt;String&gt; task = invocation.getArgument(0);\r\n                    return futureMock;\r\n                });\r\n        PowerMockito.when(httpResponse.getStatusLine()).thenThrow(exception);\r\n        myClassName.method1(mockStatus);\r\n     }\r\n\r\nIf i change the @Test(expected = CustomException.class) to @Test(expected = Exception.class) it will work but I can not do that. What should be the best practice to solve this so that the method2() is invoked.\r\n\r\n","title":"mock an executor service with power mock","body":"<p>I have made my function async with executor service but while executing test cases are not executing the executor service method.</p>\n<p>The update code similar to:</p>\n<pre><code>void method1(Status status) {\n\n    executorService.submit(() -&gt; {\n        try () {\n            method2();\n        } catch (Exception exception) {\n\n            throw new CustomException(exception.getMessage(), exception);\n        }\n    });\n\n}\n</code></pre>\n<p>while debuging the exixting testcase i found that the executorService.submit was skipped. I tried to mock the submit method but not working.</p>\n<pre><code>@Test(expected = CustomException.class)\npublic void testSatuse() throws Exception {\n    Status mocktatus = getStatusMock(&quot;XXX&quot;, &quot;XXXX&quot;);\n    PowerMockito.doNothing().when(httpResponse).close();\n    CustomException exception = PowerMockito.mock(CustomException.class);\n    PowerMockito.when(httpClient.execute(Mockito.any())).thenReturn(httpResponse);\n    Future&lt;String&gt; futureMock = Mockito.mock(Future.class);\n    PowerMockito.when(executorServiceMock.submit(Mockito.any(Runnable.class)))\n            .thenAnswer(invocation -&gt; {\n                Callable&lt;String&gt; task = invocation.getArgument(0);\n                return futureMock;\n            });\n    PowerMockito.when(httpResponse.getStatusLine()).thenThrow(exception);\n    myClassName.method1(mockStatus);\n }\n</code></pre>\n<p>If i change the @Test(expected = CustomException.class) to @Test(expected = Exception.class) it will work but I can not do that. What should be the best practice to solve this so that the method2() is invoked.</p>\n"},{"tags":["java","maven","ibm-mq"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1506602880,"post_id":46469531,"comment_id":79893982,"body_markdown":"You use maven to build your Project, so add the library as depenedency to your pom","body":"You use maven to build your Project, so add the library as depenedency to your pom"},{"owner":{"display_name":"user8595948"},"score":0,"creation_date":1506603060,"post_id":46469531,"comment_id":79894116,"body_markdown":"The dependency throws &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot; Mr. Jens ! I have tried that too.","body":"The dependency throws &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot; Mr. Jens ! I have tried that too."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1506603325,"post_id":46469531,"comment_id":79894344,"body_markdown":"This library is not in the central maven repository. If you do not have your own repository, you have to add it whith scope system","body":"This library is not in the central maven repository. If you do not have your own repository, you have to add it whith scope system"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1506612022,"post_id":46469531,"comment_id":79900578,"body_markdown":"Note that MQ 5.3 has been out of support since September 28 2007.  5.3 CSD 7 was released in 2004, you are running client jar files from 13 years ago that went out of support 10 years ago.  I would recommend you go with the MQ v9 Java-Redistributable client, everything you need is includes in com.ibm.mq.allclient.jar.  See anser to &quot;[IBM MQ Java Error :: java.lang.ClassNotFoundException: com.ibm.mq.internal.MQCommonServices](https://stackoverflow.com/questions/43843293/ibm-mq-java-error-java-lang-classnotfoundexception-com-ibm-mq-internal-mqcom/43853920#43853920)&quot; for links.","body":"Note that MQ 5.3 has been out of support since September 28 2007.  5.3 CSD 7 was released in 2004, you are running client jar files from 13 years ago that went out of support 10 years ago.  I would recommend you go with the MQ v9 Java-Redistributable client, everything you need is includes in com.ibm.mq.allclient.jar.  See anser to &quot;<a href=\"https://stackoverflow.com/questions/43843293/ibm-mq-java-error-java-lang-classnotfoundexception-com-ibm-mq-internal-mqcom/43853920#43853920\">IBM MQ Java Error :: java.lang.ClassNotFoundException: com.ibm.mq.internal.MQCommonServices</a>&quot; for links."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1506612116,"post_id":46469531,"comment_id":79900639,"body_markdown":"Another question/answer related to MQ and Maven: [What Is The Convention For Hosting IBM MQ In Maven Repos?](https://stackoverflow.com/questions/45266094/what-is-the-convention-for-hosting-ibm-mq-in-maven-repos/45338151#45338151)","body":"Another question/answer related to MQ and Maven: <a href=\"https://stackoverflow.com/questions/45266094/what-is-the-convention-for-hosting-ibm-mq-in-maven-repos/45338151#45338151\">What Is The Convention For Hosting IBM MQ In Maven Repos?</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user8595948"},"score":0,"creation_date":1506603287,"post_id":46469607,"comment_id":79894317,"body_markdown":"I did try this @Mickael ! Didn&#39;t work. It throwed  &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot;","body":"I did try this @Mickael ! Didn&#39;t work. It throwed  &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1506603345,"post_id":46469607,"comment_id":79894361,"body_markdown":"This lib is not in the official repository: http://central.maven.org/maven2/com/ibm/com.ibm.mq/5.3.07/com.ibm.mq-5.3.07.jar","body":"This lib is not in the official repository: <a href=\"http://central.maven.org/maven2/com/ibm/com.ibm.mq/5.3.07/com.ibm.mq-5.3.07.jar\" rel=\"nofollow noreferrer\">central.maven.org/maven2/com/ibm/com.ibm.mq/5.3.07/&hellip;</a>"},{"owner":{"display_name":"user8595948"},"score":0,"creation_date":1506603561,"post_id":46469607,"comment_id":79894544,"body_markdown":"So suggest me a way then, Mr.Jens.","body":"So suggest me a way then, Mr.Jens."}],"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506604292,"creation_date":1506602975,"answer_id":46469607,"question_id":46469531,"body_markdown":"**Why do you use Eclipse Java Build Path if you have Maven ?**\r\n\r\nInstead, you should add this dependency into your `pom.xml` :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.ibm/com.ibm.mq --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.07&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEDIT\r\n----\r\n\r\n**It seems that this dependency refer to a non-existing JAR.**\r\nI suggest you to refer to the following question :\r\n\r\n - [Missing artifact com.ibm:com.ibm.mqjms:jar: 5.3.07\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32742383/missing-artifact-com-ibmcom-ibm-mqjmsjar-5-3-07","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p><strong>Why do you use Eclipse Java Build Path if you have Maven ?</strong></p>\n\n<p>Instead, you should add this dependency into your <code>pom.xml</code> :</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.ibm/com.ibm.mq --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\n    &lt;version&gt;5.3.07&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p><strong>It seems that this dependency refer to a non-existing JAR.</strong>\nI suggest you to refer to the following question :</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32742383/missing-artifact-com-ibmcom-ibm-mqjmsjar-5-3-07\">Missing artifact com.ibm:com.ibm.mqjms:jar: 5.3.07\n</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4128823,"reputation":129,"user_id":3387221,"display_name":"muraguri2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698226314,"creation_date":1698226314,"answer_id":77358281,"question_id":46469531,"body_markdown":"You can use this dependency (https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0) instead.","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p>You can use this dependency (<a href=\"https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0</a>) instead.</p>\n"}],"owner":{"display_name":"user8595948"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698226314,"creation_date":1506602741,"question_id":46469531,"body_markdown":"I am using an IBM MQ based jar to browse my queue for specific messages. On building this project through Maven, I come accross this issue **package com.ibm.mq does not exist**.\r\n\r\nI have added this jar in *build path* and in the *lib* folder too.\r\n\r\nThe controller class where I have coded this logic doesn&#39;t show any compilation errors due to the *com.ibm.mq* import. But I face this error while building throught maven !\r\n\r\nShould something be done?\r\n\r\nPlease help.\r\n\r\n**MQController**:\r\n\r\n    package main.java.controller;\r\n    \r\n    import java.io.*;\r\n    import java.util.Properties;\r\n    import java.util.Calendar;\r\n    import com.ibm.mq.*;\r\n    \r\n    public class MQController {\r\n    \r\n       private static String    myQmgr  = &quot;QSOA&quot;;\r\n       private static String    myQueue = &quot;MQ.EVENTS.POLICY.DUMMY&quot;;\r\n    \r\n       public MQController() {\r\n          myQmgr  = System.getProperty(&quot;qm&quot;);\r\n          myQueue = System.getProperty(&quot;q&quot;);\r\n          try {\r\n             Properties props = new Properties(System.getProperties());\r\n             props.load(new BufferedInputStream(new FileInputStream(&quot;MQController.properties&quot;)));\r\n             System.setProperties(props);\r\n          } catch (Exception e) {\r\n             System.out.println(&quot;Error getting MQController.properties: &quot; + e.getMessage());\r\n             System.err.println(e);\r\n          }\r\n     \r\n          /*if (myQmgr  == null)       {myQmgr  = System.getProperty(&quot;qm&quot;);}\r\n          if (myQueue == null)       {myQueue = System.getProperty(&quot;q&quot;);}*/\r\n    \r\n       }\r\n    \r\n       public MQController(String[] args) {\r\n    \r\n          this(); /* call the default constructor */\r\n    \r\n          for( int i=0; i&lt;args.length; i++ ) {\r\n              String arg = args[i].toLowerCase();\r\n    \r\n                if( arg.equals(&quot;-qm&quot;) ) {\r\n                    if ( i+1&lt;args.length ) {\r\n                       myQmgr = args[++i];\r\n                    } else {\r\n                       System.out.println(&quot;didn&#39;t specify qmgr, exiting&quot;);\r\n                       return;\r\n                    }\r\n    \r\n                } else if( arg.equals(&quot;-q&quot;) ) {\r\n                    if ( i+1&lt;args.length ) {\r\n                       myQueue = args[++i];\r\n                    } else {\r\n                       System.out.println(&quot;didn&#39;t specify queue, exiting&quot;);\r\n                       return;\r\n                    }\r\n    \r\n                } else {\r\n                  System.out.println( &quot;Unknown argument: &quot; + arg );\r\n                }\r\n          }\r\n    \r\n       }\r\n    \r\n       public void myBrowser() {\r\n          MQQueueManager qMgr        = null;\r\n          MQQueue        browseQueue = null;\r\n          int j = 0; /* used as a message counter */\r\n          \r\n          System.out.println(&quot;\\n MQController.java - starts here&quot;);\r\n          System.out.println(&quot;**************************&quot;);\r\n          MQException.log = null; /* don&#39;t print out any exceptions */\r\n          try {\r\n             qMgr = new MQQueueManager(myQmgr);\r\n    \r\n             int openOptions = MQC.MQOO_BROWSE;\r\n             browseQueue = qMgr.accessQueue(myQueue, openOptions, null, null, null);\r\n             System.out.println(&quot;\\n OPEN - &#39;&quot; + myQueue + &quot;&#39;\\n\\n&quot;);\r\n             MQGetMessageOptions gmo = new MQGetMessageOptions(); \r\n             gmo.options = gmo.options + MQC.MQGMO_BROWSE_NEXT;\r\n             MQMessage myMessage = new MQMessage();\r\n             while (true) {\r\n                myMessage.clearMessage();\r\n                myMessage.correlationId = MQC.MQCI_NONE;\r\n                myMessage.messageId     = MQC.MQMI_NONE;\r\n                browseQueue.get(myMessage, gmo);\r\n                j = j + 1;\r\n                System.out.println(&quot; GET of message number &quot; + j);\r\n                System.out.println(&quot;****Message descriptor****\\n&quot;);\r\n                System.out.println(&quot;  StrucId  : &#39;MD  &#39;&quot;    \r\n                                 + &quot;  Version : &quot; + myMessage.getVersion()); \r\n                System.out.println(&quot;  Report   : &quot; + myMessage.report\r\n                                 + &quot;  MsgType : &quot; + myMessage.messageType);\r\n                System.out.println(&quot;  Expiry   : &quot; + myMessage.expiry\r\n                                 + &quot;  Feedback : &quot; + myMessage.feedback);\r\n                System.out.println(&quot;  Encoding : &quot; + myMessage.encoding \r\n                                 + &quot;  CodedCharSetId : &quot; + myMessage.characterSet);\r\n                System.out.println(&quot;  Format : &#39;&quot; + myMessage.format + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Priority : &quot; + myMessage.priority \r\n                                 + &quot;  Persistence : &quot; + myMessage.persistence);\r\n                System.out.print(&quot;  MsgId : &quot;);\r\n                System.out.print(&quot;  CorrelId : &quot;);\r\n                System.out.println(&quot;  BackoutCount : &quot; + myMessage.backoutCount);\r\n                System.out.println(&quot;  ReplyToQ     : &#39;&quot; \r\n                                 + myMessage.replyToQueueName + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  ReplyToQMgr  : &#39;&quot; \r\n                                 + myMessage.replyToQueueManagerName + &quot;&#39;&quot;);\r\n    \r\n                System.out.println(&quot;  ** Identity Context&quot;);\r\n                System.out.println(&quot;  UserIdentifier : &#39;&quot; + myMessage.userId + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Accounting Token :&quot;);\r\n                System.out.print(&quot;   &quot;);\r\n                System.out.println(&quot;  ApplIdentityData : &#39;&quot; \r\n                                    + myMessage.applicationIdData + &quot;&#39;&quot;);\r\n            \r\n                System.out.println(&quot;  ** Origin Context&quot;);\r\n                System.out.println(&quot;  PutApplType    : &#39;&quot; \r\n                                   + myMessage.putApplicationType + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  PutApplName    : &#39;&quot; \r\n                                   + myMessage.putApplicationName + &quot;&#39;&quot;);\r\n    \r\n                System.out.print(&quot;  PutDate  : &#39;&quot;);\r\n                System.out.print(myMessage.putDateTime.get(Calendar.YEAR));\r\n                int myMonth = myMessage.putDateTime.get(Calendar.MONTH) + 1;\r\n                if (myMonth &lt; 10) {System.out.print(&quot;0&quot;);}\r\n                System.out.print(myMonth);\r\n    \r\n                int myDay = myMessage.putDateTime.get(Calendar.DAY_OF_MONTH);\r\n                if (myDay &lt; 10) {System.out.print(&quot;0&quot;);}\r\n                System.out.print(myDay);\r\n                System.out.print(&quot;&#39;    &quot;);\r\n    \r\n                System.out.print(&quot;PutTime  : &#39;&quot;);\r\n                int myHour = myMessage.putDateTime.get(Calendar.HOUR_OF_DAY);\r\n                if (myHour &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myHour);\r\n    \r\n                int myMinute = myMessage.putDateTime.get(Calendar.MINUTE);\r\n                if (myMinute &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myMinute);\r\n    \r\n                int mySecond = myMessage.putDateTime.get(Calendar.SECOND);\r\n                if (mySecond &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(mySecond);\r\n    \r\n                int myMsec = myMessage.putDateTime.get(Calendar.MILLISECOND);\r\n                myMsec = myMsec/10;\r\n                if (myMsec &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myMsec); \r\n                System.out.println(&quot;&#39;&quot;);\r\n    \r\n                System.out.println(&quot;  ApplOriginData : &#39;&quot; \r\n                                   + myMessage.applicationOriginData + &quot;&#39;&quot;);\r\n                System.out.println();\r\n                System.out.print(&quot;  GroupId : &quot;);\r\n                System.out.println(&quot;  MsgSeqNumber   : &#39;&quot; \r\n                                   + myMessage.messageSequenceNumber + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Offset         : &#39;&quot; + myMessage.offset + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  MsgFlags       : &#39;&quot; \r\n                                   + myMessage.messageFlags + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  OriginalLength : &#39;&quot; \r\n                                   + myMessage.originalLength + &quot;&#39;&quot;);\r\n                System.out.println();\r\n    \r\n                System.out.println(&quot;****   Message     ****&quot;);\r\n                System.out.println();\r\n                System.out.println(&quot; length - &quot; + myMessage.getMessageLength() \r\n                                 + &quot; bytes\\n&quot;);\r\n                System.out.println();\r\n                System.out.println();\r\n    \r\n             }\r\n    \r\n          } catch (MQException ex) {\r\n             if (ex.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\r\n                System.out.println(&quot; No more messages&quot;);\r\n             } else {\r\n                System.out.println(&quot;MQ error: Completion code &quot; +\r\n                          ex.completionCode + &quot; Reason code &quot; + ex.reasonCode);\r\n             }\r\n          } catch (java.io.IOException ex) {\r\n             System.out.println(&quot;An IO error occurred: &quot; + ex);\r\n          }\r\n            \r\n          try {\r\n             browseQueue.close();\r\n             System.out.println(&quot; CLOSE of queue&quot;);\r\n             qMgr.disconnect();\r\n             System.out.println(&quot; DISCONNECT from queue manager&quot;);\r\n          } catch (MQException ex) {\r\n             System.out.println(&quot;MQ error: Completion code &quot; +\r\n                          ex.completionCode + &quot; Reason code &quot; + ex.reasonCode);\r\n          }\r\n    \r\n          System.out.println(&quot;**************************&quot;);\r\n          System.out.println(&quot;MQController.java finished&quot;);\r\n    \r\n       } \r\n    \r\n        public static void main( String[] args )     {\r\n           MQController app = new MQController(args);\r\n           \r\n           if (     (myQmgr==null)  \r\n                 || (myQueue==null) ) {\r\n              System.out.println(&quot;Usage:&quot;);\r\n              System.out.println(&quot;java MQController -qm ... -q ...&quot;);\r\n              System.out.println(&quot;where -qm is the queue manager name&quot;);\r\n              System.out.println(&quot;      -q  is the queue name&quot;);\r\n           } else {\r\n              app.myBrowser();\r\n           }\r\n        }\r\n    \r\n       \r\n    }\r\n\r\n**Screenshot**:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4o8i.png","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p>I am using an IBM MQ based jar to browse my queue for specific messages. On building this project through Maven, I come accross this issue <strong>package com.ibm.mq does not exist</strong>.</p>\n\n<p>I have added this jar in <em>build path</em> and in the <em>lib</em> folder too.</p>\n\n<p>The controller class where I have coded this logic doesn't show any compilation errors due to the <em>com.ibm.mq</em> import. But I face this error while building throught maven !</p>\n\n<p>Should something be done?</p>\n\n<p>Please help.</p>\n\n<p><strong>MQController</strong>:</p>\n\n<pre><code>package main.java.controller;\n\nimport java.io.*;\nimport java.util.Properties;\nimport java.util.Calendar;\nimport com.ibm.mq.*;\n\npublic class MQController {\n\n   private static String    myQmgr  = \"QSOA\";\n   private static String    myQueue = \"MQ.EVENTS.POLICY.DUMMY\";\n\n   public MQController() {\n      myQmgr  = System.getProperty(\"qm\");\n      myQueue = System.getProperty(\"q\");\n      try {\n         Properties props = new Properties(System.getProperties());\n         props.load(new BufferedInputStream(new FileInputStream(\"MQController.properties\")));\n         System.setProperties(props);\n      } catch (Exception e) {\n         System.out.println(\"Error getting MQController.properties: \" + e.getMessage());\n         System.err.println(e);\n      }\n\n      /*if (myQmgr  == null)       {myQmgr  = System.getProperty(\"qm\");}\n      if (myQueue == null)       {myQueue = System.getProperty(\"q\");}*/\n\n   }\n\n   public MQController(String[] args) {\n\n      this(); /* call the default constructor */\n\n      for( int i=0; i&lt;args.length; i++ ) {\n          String arg = args[i].toLowerCase();\n\n            if( arg.equals(\"-qm\") ) {\n                if ( i+1&lt;args.length ) {\n                   myQmgr = args[++i];\n                } else {\n                   System.out.println(\"didn't specify qmgr, exiting\");\n                   return;\n                }\n\n            } else if( arg.equals(\"-q\") ) {\n                if ( i+1&lt;args.length ) {\n                   myQueue = args[++i];\n                } else {\n                   System.out.println(\"didn't specify queue, exiting\");\n                   return;\n                }\n\n            } else {\n              System.out.println( \"Unknown argument: \" + arg );\n            }\n      }\n\n   }\n\n   public void myBrowser() {\n      MQQueueManager qMgr        = null;\n      MQQueue        browseQueue = null;\n      int j = 0; /* used as a message counter */\n\n      System.out.println(\"\\n MQController.java - starts here\");\n      System.out.println(\"**************************\");\n      MQException.log = null; /* don't print out any exceptions */\n      try {\n         qMgr = new MQQueueManager(myQmgr);\n\n         int openOptions = MQC.MQOO_BROWSE;\n         browseQueue = qMgr.accessQueue(myQueue, openOptions, null, null, null);\n         System.out.println(\"\\n OPEN - '\" + myQueue + \"'\\n\\n\");\n         MQGetMessageOptions gmo = new MQGetMessageOptions(); \n         gmo.options = gmo.options + MQC.MQGMO_BROWSE_NEXT;\n         MQMessage myMessage = new MQMessage();\n         while (true) {\n            myMessage.clearMessage();\n            myMessage.correlationId = MQC.MQCI_NONE;\n            myMessage.messageId     = MQC.MQMI_NONE;\n            browseQueue.get(myMessage, gmo);\n            j = j + 1;\n            System.out.println(\" GET of message number \" + j);\n            System.out.println(\"****Message descriptor****\\n\");\n            System.out.println(\"  StrucId  : 'MD  '\"    \n                             + \"  Version : \" + myMessage.getVersion()); \n            System.out.println(\"  Report   : \" + myMessage.report\n                             + \"  MsgType : \" + myMessage.messageType);\n            System.out.println(\"  Expiry   : \" + myMessage.expiry\n                             + \"  Feedback : \" + myMessage.feedback);\n            System.out.println(\"  Encoding : \" + myMessage.encoding \n                             + \"  CodedCharSetId : \" + myMessage.characterSet);\n            System.out.println(\"  Format : '\" + myMessage.format + \"'\");\n            System.out.println(\"  Priority : \" + myMessage.priority \n                             + \"  Persistence : \" + myMessage.persistence);\n            System.out.print(\"  MsgId : \");\n            System.out.print(\"  CorrelId : \");\n            System.out.println(\"  BackoutCount : \" + myMessage.backoutCount);\n            System.out.println(\"  ReplyToQ     : '\" \n                             + myMessage.replyToQueueName + \"'\");\n            System.out.println(\"  ReplyToQMgr  : '\" \n                             + myMessage.replyToQueueManagerName + \"'\");\n\n            System.out.println(\"  ** Identity Context\");\n            System.out.println(\"  UserIdentifier : '\" + myMessage.userId + \"'\");\n            System.out.println(\"  Accounting Token :\");\n            System.out.print(\"   \");\n            System.out.println(\"  ApplIdentityData : '\" \n                                + myMessage.applicationIdData + \"'\");\n\n            System.out.println(\"  ** Origin Context\");\n            System.out.println(\"  PutApplType    : '\" \n                               + myMessage.putApplicationType + \"'\");\n            System.out.println(\"  PutApplName    : '\" \n                               + myMessage.putApplicationName + \"'\");\n\n            System.out.print(\"  PutDate  : '\");\n            System.out.print(myMessage.putDateTime.get(Calendar.YEAR));\n            int myMonth = myMessage.putDateTime.get(Calendar.MONTH) + 1;\n            if (myMonth &lt; 10) {System.out.print(\"0\");}\n            System.out.print(myMonth);\n\n            int myDay = myMessage.putDateTime.get(Calendar.DAY_OF_MONTH);\n            if (myDay &lt; 10) {System.out.print(\"0\");}\n            System.out.print(myDay);\n            System.out.print(\"'    \");\n\n            System.out.print(\"PutTime  : '\");\n            int myHour = myMessage.putDateTime.get(Calendar.HOUR_OF_DAY);\n            if (myHour &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myHour);\n\n            int myMinute = myMessage.putDateTime.get(Calendar.MINUTE);\n            if (myMinute &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myMinute);\n\n            int mySecond = myMessage.putDateTime.get(Calendar.SECOND);\n            if (mySecond &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(mySecond);\n\n            int myMsec = myMessage.putDateTime.get(Calendar.MILLISECOND);\n            myMsec = myMsec/10;\n            if (myMsec &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myMsec); \n            System.out.println(\"'\");\n\n            System.out.println(\"  ApplOriginData : '\" \n                               + myMessage.applicationOriginData + \"'\");\n            System.out.println();\n            System.out.print(\"  GroupId : \");\n            System.out.println(\"  MsgSeqNumber   : '\" \n                               + myMessage.messageSequenceNumber + \"'\");\n            System.out.println(\"  Offset         : '\" + myMessage.offset + \"'\");\n            System.out.println(\"  MsgFlags       : '\" \n                               + myMessage.messageFlags + \"'\");\n            System.out.println(\"  OriginalLength : '\" \n                               + myMessage.originalLength + \"'\");\n            System.out.println();\n\n            System.out.println(\"****   Message     ****\");\n            System.out.println();\n            System.out.println(\" length - \" + myMessage.getMessageLength() \n                             + \" bytes\\n\");\n            System.out.println();\n            System.out.println();\n\n         }\n\n      } catch (MQException ex) {\n         if (ex.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\n            System.out.println(\" No more messages\");\n         } else {\n            System.out.println(\"MQ error: Completion code \" +\n                      ex.completionCode + \" Reason code \" + ex.reasonCode);\n         }\n      } catch (java.io.IOException ex) {\n         System.out.println(\"An IO error occurred: \" + ex);\n      }\n\n      try {\n         browseQueue.close();\n         System.out.println(\" CLOSE of queue\");\n         qMgr.disconnect();\n         System.out.println(\" DISCONNECT from queue manager\");\n      } catch (MQException ex) {\n         System.out.println(\"MQ error: Completion code \" +\n                      ex.completionCode + \" Reason code \" + ex.reasonCode);\n      }\n\n      System.out.println(\"**************************\");\n      System.out.println(\"MQController.java finished\");\n\n   } \n\n    public static void main( String[] args )     {\n       MQController app = new MQController(args);\n\n       if (     (myQmgr==null)  \n             || (myQueue==null) ) {\n          System.out.println(\"Usage:\");\n          System.out.println(\"java MQController -qm ... -q ...\");\n          System.out.println(\"where -qm is the queue manager name\");\n          System.out.println(\"      -q  is the queue name\");\n       } else {\n          app.myBrowser();\n       }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Screenshot</strong>:\n<a href=\"https://i.stack.imgur.com/C4o8i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4o8i.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","security","ssl","android-sdk-2.3"],"comments":[{"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"score":0,"creation_date":1407166975,"post_id":25122287,"comment_id":39100256,"body_markdown":"Can you provide the stacktrace?","body":"Can you provide the stacktrace?"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407205399,"post_id":25122287,"comment_id":39114973,"body_markdown":"What&#39;s the URL to the server?","body":"What&#39;s the URL to the server?"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407205697,"post_id":25122287,"comment_id":39115029,"body_markdown":"Also, you can get a free [StartCom](http://www.startssl.com/) Class 1 server cert that&#39;s trusted by most desktop and mobile browsers. It includes iOS 2.0 and Ansdroid 2.2. See [StartSSL Comparison Chart](https://www.startssl.com/?app=40) and [List of browser versions with StartCom certs](https://forum.startcom.org/viewtopic.php?f=15&amp;t=1802). If you need a wildcard, then you will have to purchase it though.","body":"Also, you can get a free <a href=\"http://www.startssl.com/\" rel=\"nofollow noreferrer\">StartCom</a> Class 1 server cert that&#39;s trusted by most desktop and mobile browsers. It includes iOS 2.0 and Ansdroid 2.2. See <a href=\"https://www.startssl.com/?app=40\" rel=\"nofollow noreferrer\">StartSSL Comparison Chart</a> and <a href=\"https://forum.startcom.org/viewtopic.php?f=15&amp;t=1802\" rel=\"nofollow noreferrer\">List of browser versions with StartCom certs</a>. If you need a wildcard, then you will have to purchase it though."},{"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1407229820,"post_id":25122287,"comment_id":39123424,"body_markdown":"@jww sorry, I don&#39;t want to identify myself and/or my company, so I don&#39;t feel confortable showing it. But can you tell me what was the idea?\nI already bought a goDaddy certificate, so there would be no point in buying another one.","body":"@jww sorry, I don&#39;t want to identify myself and/or my company, so I don&#39;t feel confortable showing it. But can you tell me what was the idea? I already bought a goDaddy certificate, so there would be no point in buying another one."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407251743,"post_id":25122287,"comment_id":39136905,"body_markdown":"@j01101101 - [Startcom](https://www.startcom.org/) and [CAcert](http://www.cacert.org/) Class 1 certificates are free. I want to see the output of `openssl s_client -connect &lt;server&gt;:&lt;port&gt;` to ensure you are sending a valid chain.","body":"@j01101101 - <a href=\"https://www.startcom.org/\" rel=\"nofollow noreferrer\">Startcom</a> and <a href=\"http://www.cacert.org/\" rel=\"nofollow noreferrer\">CAcert</a> Class 1 certificates are free. I want to see the output of <code>openssl s_client -connect &lt;server&gt;:&lt;port&gt;</code> to ensure you are sending a valid chain."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1451495294,"post_id":25122287,"comment_id":56809316,"body_markdown":"What version of TLS is your server running?  TLS v1.0 is considered outdated now...","body":"What version of TLS is your server running?  TLS v1.0 is considered outdated now..."}],"answers":[{"comments":[{"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1407235561,"post_id":25122897,"comment_id":39126698,"body_markdown":"My webserver also serves the intermediate certificate, but it is not present on that list. According to the documentation, by creating a keystore with my certificate and adding a trustManager (which I am doing) would work, but currently it is obviously not working.\nAny suggestions?","body":"My webserver also serves the intermediate certificate, but it is not present on that list. According to the documentation, by creating a keystore with my certificate and adding a trustManager (which I am doing) would work, but currently it is obviously not working. Any suggestions?"},{"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"score":0,"creation_date":1407241204,"post_id":25122897,"comment_id":39130030,"body_markdown":"What is the url of your webserver? Can I access it? Are you referring to a trustmanager on the server or in your Android App?","body":"What is the url of your webserver? Can I access it? Are you referring to a trustmanager on the server or in your Android App?"},{"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"score":1,"creation_date":1407332578,"post_id":25122897,"comment_id":39173319,"body_markdown":"It looks like the problem was that when running the code from Android Development Documentation (in &quot;Unknown certificate authority&quot;) was causing the error. I removed it and it is now working on all devices. I marked this answer as the correct one because in fact the code was changing my device CA.\n\n@jww as I said, my code was exactly as on Android Documentation, and provided the link. I am free to not give you the link, providing incorrect information is very different from not providing some information. The comunity was still able to help me, as userM1433372 did.","body":"It looks like the problem was that when running the code from Android Development Documentation (in &quot;Unknown certificate authority&quot;) was causing the error. I removed it and it is now working on all devices. I marked this answer as the correct one because in fact the code was changing my device CA.  @jww as I said, my code was exactly as on Android Documentation, and provided the link. I am free to not give you the link, providing incorrect information is very different from not providing some information. The comunity was still able to help me, as userM1433372 did."}],"tags":[],"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407168265,"creation_date":1407168265,"answer_id":25122897,"question_id":25122287,"body_markdown":"It looks like the issuer of your certificate is not in the trust store of the 2.3 devices.\r\n\r\nTake a look at the root and intermediate ca&#39;s of your GoDaddy certificate and check whether the certificates are present on your 2.3 device. \r\n\r\nSee http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/ for obtaining a list of 2.3 certificates.\r\n\r\nWhen only the root CA is available make sure that your webserver also serves the intermediate certificates upon request.\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>It looks like the issuer of your certificate is not in the trust store of the 2.3 devices.</p>\n\n<p>Take a look at the root and intermediate ca's of your GoDaddy certificate and check whether the certificates are present on your 2.3 device. </p>\n\n<p>See <a href=\"http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/\" rel=\"nofollow\">http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/</a> for obtaining a list of 2.3 certificates.</p>\n\n<p>When only the root CA is available make sure that your webserver also serves the intermediate certificates upon request.</p>\n"},{"comments":[{"owner":{"account_id":7622441,"reputation":9288,"user_id":5780109,"accept_rate":100,"display_name":"ivanleoncz"},"score":0,"creation_date":1474351430,"post_id":34533863,"comment_id":66482974,"body_markdown":"Hi! Would you like to help to solve this? http://stackoverflow.com/questions/39553999/how-can-i-make-android-volley-perform-https-request-using-a-certificate-self-si \nI see tons of questions around self-signed SSL certificates, but most of the questions, are outdated (libraries deprecated by Android,, for example), and I&#39;m using Android Volley. I also see tons of questions with answers like &quot;nuke all SSL certificates&quot;, which really makes me feel upset (at least). I would like to solve this problem, and also, to cast a light over it, stopping this &quot;crap&quot; about nuking ssl certificates.","body":"Hi! Would you like to help to solve this? <a href=\"http://stackoverflow.com/questions/39553999/how-can-i-make-android-volley-perform-https-request-using-a-certificate-self-si\" title=\"how can i make android volley perform https request using a certificate self si\">stackoverflow.com/questions/39553999/&hellip;</a>  I see tons of questions around self-signed SSL certificates, but most of the questions, are outdated (libraries deprecated by Android,, for example), and I&#39;m using Android Volley. I also see tons of questions with answers like &quot;nuke all SSL certificates&quot;, which really makes me feel upset (at least). I would like to solve this problem, and also, to cast a light over it, stopping this &quot;crap&quot; about nuking ssl certificates."},{"owner":{"account_id":6941897,"reputation":3971,"user_id":5327912,"accept_rate":33,"display_name":"Parth Anjaria"},"score":1,"creation_date":1480914564,"post_id":34533863,"comment_id":69144318,"body_markdown":"Great Answer, Worked very well. Thank you @Josh","body":"Great Answer, Worked very well. Thank you @Josh"}],"tags":[],"owner":{"account_id":3531083,"reputation":6261,"user_id":2950618,"accept_rate":43,"display_name":"Josh"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529926181,"creation_date":1451495127,"answer_id":34533863,"question_id":25122287,"body_markdown":"I went through LOTS of places in SO and the web to solve this thing. \r\nThis is the code that worked for me (Android 21):\r\n\r\n    ByteArrayInputStream derInputStream = new ByteArrayInputStream(app.certificateString.getBytes());\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;,&quot;BC&quot;);\r\n    X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(derInputStream);\r\n    String alias = &quot;alias&quot;;//cert.getSubjectX500Principal().getName();\r\n    \r\n    KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    trustStore.load(null);\r\n    trustStore.setCertificateEntry(alias, cert);\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n    kmf.init(trustStore, null);\r\n    KeyManager[] keyManagers = kmf.getKeyManagers();\r\n    \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\n    tmf.init(trustStore);\r\n    TrustManager[] trustManagers = tmf.getTrustManagers();\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(keyManagers, trustManagers, null);\r\n    URL url = new URL(someURL);\r\n    conn = (HttpsURLConnection) url.openConnection();\r\n    conn.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n`app.certificateString` is a String that contains the Certificate, for example:\r\n\r\n    static public String certificateString=\r\n        &quot;-----BEGIN CERTIFICATE-----\\n&quot; +\r\n        &quot;MIIGQTCCBSmgAwIBAgIHBcg1dAivUzANBgkqhkiG9w0BAQsFADCBjDELMAkGA1UE&quot; +\r\n        &quot;BhMCSUwxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBE&quot; +\r\n        ... a bunch of characters...\r\n        &quot;5126sfeEJMRV4Fl2E5W1gDHoOd6V==\\n&quot; +\r\n        &quot;-----END CERTIFICATE-----&quot;;\r\n\r\nI have tested that you can put any characters in the certificate string, if it is self signed, as long as you keep the exact structure above.\r\nI obtained the certificate string with my laptop&#39;s Terminal command line. I you need to know more details, let me know.","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>I went through LOTS of places in SO and the web to solve this thing. \nThis is the code that worked for me (Android 21):</p>\n\n<pre><code>ByteArrayInputStream derInputStream = new ByteArrayInputStream(app.certificateString.getBytes());\nCertificateFactory certificateFactory = CertificateFactory.getInstance(\"X.509\",\"BC\");\nX509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(derInputStream);\nString alias = \"alias\";//cert.getSubjectX500Principal().getName();\n\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null);\ntrustStore.setCertificateEntry(alias, cert);\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(\"X509\");\nkmf.init(trustStore, null);\nKeyManager[] keyManagers = kmf.getKeyManagers();\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(\"X509\");\ntmf.init(trustStore);\nTrustManager[] trustManagers = tmf.getTrustManagers();\n\nSSLContext sslContext = SSLContext.getInstance(\"TLS\");\nsslContext.init(keyManagers, trustManagers, null);\nURL url = new URL(someURL);\nconn = (HttpsURLConnection) url.openConnection();\nconn.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n\n<p><code>app.certificateString</code> is a String that contains the Certificate, for example:</p>\n\n<pre><code>static public String certificateString=\n    \"-----BEGIN CERTIFICATE-----\\n\" +\n    \"MIIGQTCCBSmgAwIBAgIHBcg1dAivUzANBgkqhkiG9w0BAQsFADCBjDELMAkGA1UE\" +\n    \"BhMCSUwxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBE\" +\n    ... a bunch of characters...\n    \"5126sfeEJMRV4Fl2E5W1gDHoOd6V==\\n\" +\n    \"-----END CERTIFICATE-----\";\n</code></pre>\n\n<p>I have tested that you can put any characters in the certificate string, if it is self signed, as long as you keep the exact structure above.\nI obtained the certificate string with my laptop's Terminal command line. I you need to know more details, let me know.</p>\n"},{"comments":[{"owner":{"account_id":13461505,"reputation":411,"user_id":9713349,"display_name":"pa1.Shetty"},"score":1,"creation_date":1577681820,"post_id":46465836,"comment_id":105222476,"body_markdown":"where can i get certificate1.crt, certificate2.crt , certificate3.crt ?","body":"where can i get certificate1.crt, certificate2.crt , certificate3.crt ?"},{"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"score":0,"creation_date":1674131831,"post_id":46465836,"comment_id":132651902,"body_markdown":"getting stream closed Exception.","body":"getting stream closed Exception."}],"tags":[],"owner":{"account_id":9596368,"reputation":295,"user_id":7125370,"accept_rate":50,"display_name":"Newbie009"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506591507,"creation_date":1506591507,"answer_id":46465836,"question_id":25122287,"body_markdown":"In case someone need the answer, I finally found the answer after 2 days of google. Basically we need to use custom TrustManager to trusts the CAs in our KeyStore, this is because in Android 2.3.x, the keystore is not being properly used. Credit to https://github.com/delgurth for the CustomTrustManager. \r\n\r\nPlease refer: https://github.com/ikust/hello-pinnedcerts/issues/2\r\n\r\n**KeyPinStore.java**\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    public class KeyPinStore {\r\n        private static final String[] certificates = {&quot;certificate1.crt&quot;, &quot;certificate2.crt&quot;, &quot;certificate3.crt&quot;, &quot;certificate4.crt&quot;};\r\n        private static KeyPinStore instance = null;\r\n        private SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \r\n        public static synchronized KeyPinStore getInstance() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n            if (instance == null) {\r\n                instance = new KeyPinStore();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        private KeyPinStore() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n            String keyStoreType = KeyStore.getDefaultType();\r\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n            keyStore.load(null, null);\r\n            for (int i = 0; i &lt; certificates.length; i++) {\r\n                CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                InputStream caInput = new BufferedInputStream(Application.context.getAssets().open(&quot;certificate/&quot; + certificates[i]));\r\n                Certificate ca;\r\n                try {\r\n                    ca = cf.generateCertificate(caInput);\r\n                    System.out.println(&quot;ca=&quot; + ((X509Certificate) ca).getSubjectDN());\r\n                } finally {\r\n                    caInput.close();\r\n                }\r\n    \r\n                // Create a KeyStore containing our trusted CAs\r\n                keyStore.setCertificateEntry(&quot;ca&quot; + i, ca);\r\n            }\r\n    \r\n            // Use custom trust manager to trusts the CAs in our KeyStore\r\n            TrustManager[] trustManagers = {new CustomTrustManager(keyStore)};\r\n    \r\n            // Create an SSLContext that uses our TrustManager\r\n            // SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustManagers, null);\r\n        }\r\n    \r\n        public SSLContext getContext() {\r\n            return sslContext;\r\n        }\r\n    }\r\n\r\n\r\n**CustomTrustManager.java**\r\n\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.Principal;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    /**\r\n     * A custom X509TrustManager implementation that trusts a specified server certificate in addition\r\n     * to those that are in the system TrustStore.\r\n     * Also handles an out-of-order certificate chain, as is often produced by Apache&#39;s mod_ssl\r\n     */\r\n    public class CustomTrustManager implements X509TrustManager {\r\n    \r\n      private final TrustManager[] originalTrustManagers;\r\n      private final KeyStore trustStore;\r\n    \r\n      /**\r\n       * @param trustStore A KeyStore containing the server certificate that should be trusted\r\n       * @throws NoSuchAlgorithmException\r\n       * @throws KeyStoreException\r\n       */\r\n      public CustomTrustManager(KeyStore trustStore) throws NoSuchAlgorithmException, KeyStoreException {\r\n        this.trustStore = trustStore;\r\n    \r\n        final TrustManagerFactory originalTrustManagerFactory = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\n        originalTrustManagerFactory.init(trustStore);\r\n    \r\n        originalTrustManagers = originalTrustManagerFactory.getTrustManagers();\r\n      }\r\n    \r\n      /**\r\n       * No-op. Never invoked by client, only used in server-side implementations\r\n       * @return\r\n       */\r\n      public X509Certificate[] getAcceptedIssuers() {\r\n        return new X509Certificate[0];\r\n      }\r\n    \r\n      /**\r\n       * No-op. Never invoked by client, only used in server-side implementations\r\n       * @return\r\n       */\r\n      public void checkClientTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\r\n      }\r\n    \r\n    \r\n      /**\r\n       * Given the partial or complete certificate chain provided by the peer,\r\n       * build a certificate path to a trusted root and return if it can be validated and is trusted\r\n       * for client SSL authentication based on the authentication type. The authentication type is\r\n       * determined by the actual certificate used. For instance, if RSAPublicKey is used, the authType should be &quot;RSA&quot;.\r\n       * Checking is case-sensitive.\r\n       * Defers to the default trust manager first, checks the cert supplied in the ctor if that fails.\r\n       * @param chain the server&#39;s certificate chain\r\n       * @param authType the authentication type based on the client certificate\r\n       * @throws java.security.cert.CertificateException\r\n       */\r\n      public void checkServerTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\r\n        try {\r\n          for (TrustManager originalTrustManager : originalTrustManagers) {\r\n            ((X509TrustManager) originalTrustManager).checkServerTrusted(chain, authType);\r\n          }\r\n        } catch(CertificateException originalException) {\r\n          try {\r\n            // Ordering issue?\r\n            X509Certificate[] reorderedChain = reorderCertificateChain(chain);\r\n            if (! Arrays.equals(chain, reorderedChain)) {\r\n              checkServerTrusted(reorderedChain, authType);\r\n              return;\r\n            }\r\n            for (int i = 0; i &lt; chain.length; i++) {\r\n              if (validateCert(reorderedChain[i])) {\r\n                return;\r\n              }\r\n            }\r\n            throw originalException;\r\n          } catch(Exception ex) {\r\n            ex.printStackTrace();\r\n            throw originalException;\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Checks if we have added the certificate in the trustStore, if that&#39;s the case we trust the certificate\r\n       * @param x509Certificate the certificate to check\r\n       * @return true if we know the certificate, false otherwise\r\n       * @throws KeyStoreException on problems accessing the key store\r\n       */\r\n      private boolean validateCert(final X509Certificate x509Certificate) throws KeyStoreException {\r\n        return trustStore.getCertificateAlias(x509Certificate) != null;\r\n      }\r\n    \r\n      /**\r\n       * Puts the certificate chain in the proper order, to deal with out-of-order\r\n       * certificate chains as are sometimes produced by Apache&#39;s mod_ssl\r\n       * @param chain the certificate chain, possibly with bad ordering\r\n       * @return the re-ordered certificate chain\r\n       */\r\n      private X509Certificate[] reorderCertificateChain(X509Certificate[] chain) {\r\n    \r\n        X509Certificate[] reorderedChain = new X509Certificate[chain.length];\r\n        List&lt;X509Certificate&gt; certificates = Arrays.asList(chain);\r\n    \r\n        int position = chain.length - 1;\r\n        X509Certificate rootCert = findRootCert(certificates);\r\n        reorderedChain[position] = rootCert;\r\n    \r\n        X509Certificate cert = rootCert;\r\n        while((cert = findSignedCert(cert, certificates)) != null &amp;&amp; position &gt; 0) {\r\n          reorderedChain[--position] = cert;\r\n        }\r\n    \r\n        return reorderedChain;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the root certificate in a possibly out-of-order certificate chain.\r\n       * @param certificates the certificate change, possibly out-of-order\r\n       * @return the root certificate, if any, that was found in the list of certificates\r\n       */\r\n      private X509Certificate findRootCert(List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate rootCert = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          X509Certificate signer = findSigner(cert, certificates);\r\n          if(signer == null || signer.equals(cert)) { // no signer present, or self-signed\r\n            rootCert = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return rootCert;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the first certificate in the list of certificates that is signed by the sigingCert.\r\n       */\r\n      private X509Certificate findSignedCert(X509Certificate signingCert, List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate signed = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          Principal signingCertSubjectDN = signingCert.getSubjectDN();\r\n          Principal certIssuerDN = cert.getIssuerDN();\r\n          if(certIssuerDN.equals(signingCertSubjectDN) &amp;&amp; !cert.equals(signingCert)) {\r\n            signed = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return signed;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the certificate in the list of certificates that signed the signedCert.\r\n       */\r\n      private X509Certificate findSigner(X509Certificate signedCert, List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate signer = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          Principal certSubjectDN = cert.getSubjectDN();\r\n          Principal issuerDN = signedCert.getIssuerDN();\r\n          if(certSubjectDN.equals(issuerDN)) {\r\n            signer = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return signer;\r\n      }\r\n    }\r\n\r\n\r\nTo use it, just get the SSLSocketFactory and apply it, eg:\r\n\r\n**with HttpsURLConnection**\r\n\r\n    KeyPinStore keystore = KeyPinStore.getInstance();\r\n    SSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\r\n    URL url = new URL(&quot;https://certs.cac.washington.edu/CAtest/&quot;);\r\n    HttpsURLConnection urlConnection = (HttpsURLConnection)url.openConnection();\r\n    urlConnection.setSSLSocketFactory(sslSF);\r\n    InputStream in = urlConnection.getInputStream();\r\n    copyInputStreamToOutputStream(in, System.out);\r\n\r\n**with Volley**\r\n\r\n    KeyPinStore keystore = KeyPinStore.getInstance();\r\n    SSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\r\n    RequestQueue mRequestQueue = Volley.newRequestQueue(context, new HurlStack(null, sslSF));\r\n\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>In case someone need the answer, I finally found the answer after 2 days of google. Basically we need to use custom TrustManager to trusts the CAs in our KeyStore, this is because in Android 2.3.x, the keystore is not being properly used. Credit to <a href=\"https://github.com/delgurth\" rel=\"nofollow noreferrer\">https://github.com/delgurth</a> for the CustomTrustManager. </p>\n\n<p>Please refer: <a href=\"https://github.com/ikust/hello-pinnedcerts/issues/2\" rel=\"nofollow noreferrer\">https://github.com/ikust/hello-pinnedcerts/issues/2</a></p>\n\n<p><strong>KeyPinStore.java</strong></p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\npublic class KeyPinStore {\n    private static final String[] certificates = {\"certificate1.crt\", \"certificate2.crt\", \"certificate3.crt\", \"certificate4.crt\"};\n    private static KeyPinStore instance = null;\n    private SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n\n    public static synchronized KeyPinStore getInstance() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        if (instance == null) {\n            instance = new KeyPinStore();\n        }\n        return instance;\n    }\n\n    private KeyPinStore() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        for (int i = 0; i &lt; certificates.length; i++) {\n            CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n            InputStream caInput = new BufferedInputStream(Application.context.getAssets().open(\"certificate/\" + certificates[i]));\n            Certificate ca;\n            try {\n                ca = cf.generateCertificate(caInput);\n                System.out.println(\"ca=\" + ((X509Certificate) ca).getSubjectDN());\n            } finally {\n                caInput.close();\n            }\n\n            // Create a KeyStore containing our trusted CAs\n            keyStore.setCertificateEntry(\"ca\" + i, ca);\n        }\n\n        // Use custom trust manager to trusts the CAs in our KeyStore\n        TrustManager[] trustManagers = {new CustomTrustManager(keyStore)};\n\n        // Create an SSLContext that uses our TrustManager\n        // SSLContext context = SSLContext.getInstance(\"TLS\");\n        sslContext.init(null, trustManagers, null);\n    }\n\n    public SSLContext getContext() {\n        return sslContext;\n    }\n}\n</code></pre>\n\n<p><strong>CustomTrustManager.java</strong></p>\n\n<pre><code>import java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.Principal;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n\n/**\n * A custom X509TrustManager implementation that trusts a specified server certificate in addition\n * to those that are in the system TrustStore.\n * Also handles an out-of-order certificate chain, as is often produced by Apache's mod_ssl\n */\npublic class CustomTrustManager implements X509TrustManager {\n\n  private final TrustManager[] originalTrustManagers;\n  private final KeyStore trustStore;\n\n  /**\n   * @param trustStore A KeyStore containing the server certificate that should be trusted\n   * @throws NoSuchAlgorithmException\n   * @throws KeyStoreException\n   */\n  public CustomTrustManager(KeyStore trustStore) throws NoSuchAlgorithmException, KeyStoreException {\n    this.trustStore = trustStore;\n\n    final TrustManagerFactory originalTrustManagerFactory = TrustManagerFactory.getInstance(\"X509\");\n    originalTrustManagerFactory.init(trustStore);\n\n    originalTrustManagers = originalTrustManagerFactory.getTrustManagers();\n  }\n\n  /**\n   * No-op. Never invoked by client, only used in server-side implementations\n   * @return\n   */\n  public X509Certificate[] getAcceptedIssuers() {\n    return new X509Certificate[0];\n  }\n\n  /**\n   * No-op. Never invoked by client, only used in server-side implementations\n   * @return\n   */\n  public void checkClientTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\n  }\n\n\n  /**\n   * Given the partial or complete certificate chain provided by the peer,\n   * build a certificate path to a trusted root and return if it can be validated and is trusted\n   * for client SSL authentication based on the authentication type. The authentication type is\n   * determined by the actual certificate used. For instance, if RSAPublicKey is used, the authType should be \"RSA\".\n   * Checking is case-sensitive.\n   * Defers to the default trust manager first, checks the cert supplied in the ctor if that fails.\n   * @param chain the server's certificate chain\n   * @param authType the authentication type based on the client certificate\n   * @throws java.security.cert.CertificateException\n   */\n  public void checkServerTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\n    try {\n      for (TrustManager originalTrustManager : originalTrustManagers) {\n        ((X509TrustManager) originalTrustManager).checkServerTrusted(chain, authType);\n      }\n    } catch(CertificateException originalException) {\n      try {\n        // Ordering issue?\n        X509Certificate[] reorderedChain = reorderCertificateChain(chain);\n        if (! Arrays.equals(chain, reorderedChain)) {\n          checkServerTrusted(reorderedChain, authType);\n          return;\n        }\n        for (int i = 0; i &lt; chain.length; i++) {\n          if (validateCert(reorderedChain[i])) {\n            return;\n          }\n        }\n        throw originalException;\n      } catch(Exception ex) {\n        ex.printStackTrace();\n        throw originalException;\n      }\n    }\n\n  }\n\n  /**\n   * Checks if we have added the certificate in the trustStore, if that's the case we trust the certificate\n   * @param x509Certificate the certificate to check\n   * @return true if we know the certificate, false otherwise\n   * @throws KeyStoreException on problems accessing the key store\n   */\n  private boolean validateCert(final X509Certificate x509Certificate) throws KeyStoreException {\n    return trustStore.getCertificateAlias(x509Certificate) != null;\n  }\n\n  /**\n   * Puts the certificate chain in the proper order, to deal with out-of-order\n   * certificate chains as are sometimes produced by Apache's mod_ssl\n   * @param chain the certificate chain, possibly with bad ordering\n   * @return the re-ordered certificate chain\n   */\n  private X509Certificate[] reorderCertificateChain(X509Certificate[] chain) {\n\n    X509Certificate[] reorderedChain = new X509Certificate[chain.length];\n    List&lt;X509Certificate&gt; certificates = Arrays.asList(chain);\n\n    int position = chain.length - 1;\n    X509Certificate rootCert = findRootCert(certificates);\n    reorderedChain[position] = rootCert;\n\n    X509Certificate cert = rootCert;\n    while((cert = findSignedCert(cert, certificates)) != null &amp;&amp; position &gt; 0) {\n      reorderedChain[--position] = cert;\n    }\n\n    return reorderedChain;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the root certificate in a possibly out-of-order certificate chain.\n   * @param certificates the certificate change, possibly out-of-order\n   * @return the root certificate, if any, that was found in the list of certificates\n   */\n  private X509Certificate findRootCert(List&lt;X509Certificate&gt; certificates) {\n    X509Certificate rootCert = null;\n\n    for(X509Certificate cert : certificates) {\n      X509Certificate signer = findSigner(cert, certificates);\n      if(signer == null || signer.equals(cert)) { // no signer present, or self-signed\n        rootCert = cert;\n        break;\n      }\n    }\n\n    return rootCert;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the first certificate in the list of certificates that is signed by the sigingCert.\n   */\n  private X509Certificate findSignedCert(X509Certificate signingCert, List&lt;X509Certificate&gt; certificates) {\n    X509Certificate signed = null;\n\n    for(X509Certificate cert : certificates) {\n      Principal signingCertSubjectDN = signingCert.getSubjectDN();\n      Principal certIssuerDN = cert.getIssuerDN();\n      if(certIssuerDN.equals(signingCertSubjectDN) &amp;&amp; !cert.equals(signingCert)) {\n        signed = cert;\n        break;\n      }\n    }\n\n    return signed;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the certificate in the list of certificates that signed the signedCert.\n   */\n  private X509Certificate findSigner(X509Certificate signedCert, List&lt;X509Certificate&gt; certificates) {\n    X509Certificate signer = null;\n\n    for(X509Certificate cert : certificates) {\n      Principal certSubjectDN = cert.getSubjectDN();\n      Principal issuerDN = signedCert.getIssuerDN();\n      if(certSubjectDN.equals(issuerDN)) {\n        signer = cert;\n        break;\n      }\n    }\n\n    return signer;\n  }\n}\n</code></pre>\n\n<p>To use it, just get the SSLSocketFactory and apply it, eg:</p>\n\n<p><strong>with HttpsURLConnection</strong></p>\n\n<pre><code>KeyPinStore keystore = KeyPinStore.getInstance();\nSSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\nURL url = new URL(\"https://certs.cac.washington.edu/CAtest/\");\nHttpsURLConnection urlConnection = (HttpsURLConnection)url.openConnection();\nurlConnection.setSSLSocketFactory(sslSF);\nInputStream in = urlConnection.getInputStream();\ncopyInputStreamToOutputStream(in, System.out);\n</code></pre>\n\n<p><strong>with Volley</strong></p>\n\n<pre><code>KeyPinStore keystore = KeyPinStore.getInstance();\nSSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\nRequestQueue mRequestQueue = Volley.newRequestQueue(context, new HurlStack(null, sslSF));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296355,"reputation":281,"user_id":6903138,"display_name":"Arun Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576822425,"creation_date":1576822425,"answer_id":59420625,"question_id":25122287,"body_markdown":"If you are Using AndroidNetworking / Rx2AndroidNetworking Library, This Solution is work for me after waste 4 Hr.\r\n\r\n     AndroidNetworking.initialize(getApplicationContext(), myUnsafeHttpClient());\r\n\r\n    private static OkHttpClient myUnsafeHttpClient() {\r\n\r\n        try {\r\n\r\n            // Create a trust manager that does not validate certificate chains\r\n            final TrustManager[] trustAllCerts = new TrustManager[]{\r\n\r\n                    new X509TrustManager() {\r\n\r\n                        @Override\r\n                        public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                        }\r\n\r\n                        @Override\r\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                            return new java.security.cert.X509Certificate[]{};\r\n                        }\r\n                    }\r\n            };\r\n\r\n            //Using TLS 1_2 &amp; 1_1 for HTTP/2 Server requests\r\n            // Note : The following is suitable for my Server. Please change accordingly\r\n            ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\r\n                    .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\r\n                    .cipherSuites(\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\r\n                    .build();\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.sslSocketFactory(sslSocketFactory);\r\n            builder.connectionSpecs(Collections.singletonList(spec));\r\n            builder.hostnameVerifier((hostname, session) -&gt; true);\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>If you are Using AndroidNetworking / Rx2AndroidNetworking Library, This Solution is work for me after waste 4 Hr.</p>\n\n<pre><code> AndroidNetworking.initialize(getApplicationContext(), myUnsafeHttpClient());\n\nprivate static OkHttpClient myUnsafeHttpClient() {\n\n    try {\n\n        // Create a trust manager that does not validate certificate chains\n        final TrustManager[] trustAllCerts = new TrustManager[]{\n\n                new X509TrustManager() {\n\n                    @Override\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                }\n        };\n\n        //Using TLS 1_2 &amp; 1_1 for HTTP/2 Server requests\n        // Note : The following is suitable for my Server. Please change accordingly\n        ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\n                .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\n                .cipherSuites(\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\n                .build();\n\n        // Install the all-trusting trust manager\n        final SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n        sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n        // Create an ssl socket factory with our all-trusting manager\n        final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n        OkHttpClient.Builder builder = new OkHttpClient.Builder();\n        builder.sslSocketFactory(sslSocketFactory);\n        builder.connectionSpecs(Collections.singletonList(spec));\n        builder.hostnameVerifier((hostname, session) -&gt; true);\n        return builder.build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1823300,"reputation":6119,"user_id":1656824,"accept_rate":59,"display_name":"Tertium"},"score":0,"creation_date":1610549819,"post_id":64682790,"comment_id":116169956,"body_markdown":"Thanks man, the only method works in android 29 at least.","body":"Thanks man, the only method works in android 29 at least."},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1652865563,"post_id":64682790,"comment_id":127707768,"body_markdown":"If my server domain is amazon then what should be written into &quot;your server domain&quot;? www.amazon.com or amazon.com or amazon.in or secure.amazon.com? what?","body":"If my server domain is amazon then what should be written into &quot;your server domain&quot;? www.amazon.com or amazon.com or amazon.in or secure.amazon.com? what?"}],"tags":[],"owner":{"account_id":6587655,"reputation":109,"user_id":5089962,"display_name":"Lakhan patidar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604503007,"creation_date":1604503007,"answer_id":64682790,"question_id":25122287,"body_markdown":"If above all answers not work and you get any kind of issue in publish app when using android 30 as compile and target sdk version.\r\nPlease download your ssl .cert file from server.\r\nand just put it in raw folder.\r\ncreate network_security_config in XML folder.\r\nuse line in menifest inside application tag\r\n\r\nandroid:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n\r\nand use below mention code in network_security_config file.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n    &lt;domain-config&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your server domain&lt;/domain&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/your server cerificate file name&quot;/&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>If above all answers not work and you get any kind of issue in publish app when using android 30 as compile and target sdk version.\nPlease download your ssl .cert file from server.\nand just put it in raw folder.\ncreate network_security_config in XML folder.\nuse line in menifest inside application tag</p>\n<p>android:networkSecurityConfig=&quot;@xml/network_security_config&quot;</p>\n<p>and use below mention code in network_security_config file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n&lt;domain-config&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;your server domain&lt;/domain&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=&quot;@raw/your server cerificate file name&quot;/&gt;\n    &lt;/trust-anchors&gt;\n&lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11698169,"reputation":1,"user_id":8564208,"display_name":"Abdul Asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605215014,"creation_date":1605202278,"answer_id":64808845,"question_id":25122287,"body_markdown":"Run this command to verify code.keystore has system certificate:\r\n```bash\r\nkeytool -list -stotetype JKS -keystore config\\code.keystore\r\n```\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>Run this command to verify code.keystore has system certificate:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>keytool -list -stotetype JKS -keystore config\\code.keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698225421,"creation_date":1698225421,"answer_id":77358176,"question_id":25122287,"body_markdown":"I downloaded certificate from website and put on res/raw folder[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D3bnw.png\r\n  [2]: https://i.stack.imgur.com/UR11U.png\r\n\r\nAnd added this on network config file.\r\n\r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n\r\n            &lt;certificates src=&quot;system&quot;&gt;&lt;/certificates&gt;\r\n            &lt;certificates src=&quot;user&quot;&gt;&lt;/certificates&gt;\r\n\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n\r\n\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;enci.it&lt;/domain&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;sport.enci.it&lt;/domain&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/enci&quot;/&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/domain-config&gt;\r\n\r\n\r\n&lt;/network-security-config&gt;","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>I downloaded certificate from website and put on res/raw folder<a href=\"https://i.stack.imgur.com/D3bnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3bnw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UR11U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UR11U.png\" alt=\"enter image description here\" /></a></p>\n<p>And added this on network config file.</p>\n<blockquote>\n\n</blockquote>\n\n<pre><code>&lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n    &lt;trust-anchors&gt;\n\n        &lt;certificates src=&quot;system&quot;&gt;&lt;/certificates&gt;\n        &lt;certificates src=&quot;user&quot;&gt;&lt;/certificates&gt;\n\n    &lt;/trust-anchors&gt;\n&lt;/base-config&gt;\n\n\n&lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;enci.it&lt;/domain&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;sport.enci.it&lt;/domain&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=&quot;@raw/enci&quot;/&gt;\n    &lt;/trust-anchors&gt;\n&lt;/domain-config&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92761,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":25122897,"answer_count":7,"score":13,"last_activity_date":1698225421,"creation_date":1407166194,"question_id":25122287,"body_markdown":"In my server (production server), I have a goDaddy ssl certificate. \r\nI have both iOS and Android apps connecting with the server, iOS connecting with no problems, android with versions 4.* everything is good, but with devices with 2.3.* I always get a SSLHandshakeException.\r\n\r\nI did exactly like on Android Developers page (https://developer.android.com/training/articles/security-ssl.html).\r\n\r\nI already saw similar threads here in Stack Overflow ([here][1]) but none is helping.\r\n\r\nThen I saw [this][2] thread talking about Extended Key Usage, but when debugging I get the following information:\r\n\r\n    [2]: OID: 2.5.29.37, Critical: false\r\n    Extended Key Usage: [ &quot;1.3.6.1.5.5.7.3.1&quot;, &quot;1.3.6.1.5.5.7.3.2&quot; ]\r\n\r\nSo I guess the certificate is not &quot;forcing&quot; Extended Key Usage.\r\n\r\nAlso on [this][3] thread there are some other possible causes such as date/time being completely wrong, which are all not existent.\r\n\r\nTaking that into consideration, I now don&#39;t know where the problem might be.\r\n\r\nAny suggestions?\r\n\r\n**EDIT:**\r\nStackTrace below:\r\n\r\n    08-04 16:54:30.139: W/System.err(4832): Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:161)\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:664)\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\r\n    08-04 16:54:30.159: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:474)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21306336/android-2-3-x-javax-net-ssl-sslhandshakeexception-java-security-cert-certpathva\r\n  [2]: https://code.google.com/p/android/issues/detail?id=22171\r\n  [3]: https://stackoverflow.com/questions/9574870/no-peer-certificate-error-in-android-2-3-but-not-in-4","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>In my server (production server), I have a goDaddy ssl certificate.\nI have both iOS and Android apps connecting with the server, iOS connecting with no problems, android with versions 4.* everything is good, but with devices with 2.3.* I always get a SSLHandshakeException.</p>\n<p>I did exactly like on Android Developers page (<a href=\"https://developer.android.com/training/articles/security-ssl.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-ssl.html</a>).</p>\n<p>I already saw similar threads here in Stack Overflow (<a href=\"https://stackoverflow.com/questions/21306336/android-2-3-x-javax-net-ssl-sslhandshakeexception-java-security-cert-certpathva\">here</a>) but none is helping.</p>\n<p>Then I saw <a href=\"https://code.google.com/p/android/issues/detail?id=22171\" rel=\"nofollow noreferrer\">this</a> thread talking about Extended Key Usage, but when debugging I get the following information:</p>\n<pre><code>[2]: OID: 2.5.29.37, Critical: false\nExtended Key Usage: [ &quot;1.3.6.1.5.5.7.3.1&quot;, &quot;1.3.6.1.5.5.7.3.2&quot; ]\n</code></pre>\n<p>So I guess the certificate is not &quot;forcing&quot; Extended Key Usage.</p>\n<p>Also on <a href=\"https://stackoverflow.com/questions/9574870/no-peer-certificate-error-in-android-2-3-but-not-in-4\">this</a> thread there are some other possible causes such as date/time being completely wrong, which are all not existent.</p>\n<p>Taking that into consideration, I now don't know where the problem might be.</p>\n<p>Any suggestions?</p>\n<p><strong>EDIT:</strong>\nStackTrace below:</p>\n<pre><code>08-04 16:54:30.139: W/System.err(4832): Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:161)\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:664)\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\n08-04 16:54:30.159: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:474)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":2,"creation_date":1477045834,"post_id":40174180,"comment_id":67615875,"body_markdown":"As for my understanding all classes found get loaded in the order they appear in the classpath. But since the API does not specify this it is uncertain. and even if it is true it may change with later Java versions.","body":"As for my understanding all classes found get loaded in the order they appear in the classpath. But since the API does not specify this it is uncertain. and even if it is true it may change with later Java versions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477049302,"post_id":40174180,"comment_id":67618024,"body_markdown":"It depends on the order in which the service loader definition files for the interface appear on the CLASSPATH.","body":"It depends on the order in which the service loader definition files for the interface appear on the CLASSPATH."}],"answers":[{"tags":[],"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477046288,"creation_date":1477046288,"answer_id":40174474,"question_id":40174180,"body_markdown":"It depends on java version, application server type and version, probably even file system settings and who knows what else.\r\nI think it&#39;s enough to say that there is no guarantee about the order, and it&#39;s something you should never rely on.","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>It depends on java version, application server type and version, probably even file system settings and who knows what else.\nI think it's enough to say that there is no guarantee about the order, and it's something you should never rely on.</p>\n"},{"tags":[],"owner":{"account_id":22484035,"reputation":11,"user_id":16682714,"display_name":"Javier Gavil&#225;n M&#233;rida"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698225260,"creation_date":1698225173,"answer_id":77358151,"question_id":40174180,"body_markdown":"For javadoc of ServiceLoader#load(Class):\r\n&gt; Creates a new service loader for the given service type, using the current thread&#39;s context class loader.\r\nAn invocation of this convenience method of the form\r\n ServiceLoader.load(service)\r\nis equivalent to\r\n ServiceLoader.load(service, Thread.currentThread().getContextClassLoader())\r\n\r\nFor Javadoc of ServiceLoader#load(Class, ClassLoader):\r\n\r\n&gt; Ordering: The service loader will first locate any service providers in modules defined to the class loader, then its parent class loader, its parent parent, and so on to the bootstrap class loader. If a class loader has modules in a module layer then all providers in that module layer are located (irrespective of their class loader) before the providers in the parent class loader are located. The ordering of modules in same class loader, or the ordering of modules in a module layer, is not defined.","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>For javadoc of ServiceLoader#load(Class):</p>\n<blockquote>\n<p>Creates a new service loader for the given service type, using the current thread's context class loader.\nAn invocation of this convenience method of the form\nServiceLoader.load(service)\nis equivalent to\nServiceLoader.load(service, Thread.currentThread().getContextClassLoader())</p>\n</blockquote>\n<p>For Javadoc of ServiceLoader#load(Class, ClassLoader):</p>\n<blockquote>\n<p>Ordering: The service loader will first locate any service providers in modules defined to the class loader, then its parent class loader, its parent parent, and so on to the bootstrap class loader. If a class loader has modules in a module layer then all providers in that module layer are located (irrespective of their class loader) before the providers in the parent class loader are located. The ordering of modules in same class loader, or the ordering of modules in a module layer, is not defined.</p>\n</blockquote>\n"}],"owner":{"account_id":3913702,"reputation":1679,"user_id":3238215,"accept_rate":51,"display_name":"IanWatson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698225260,"creation_date":1477045521,"question_id":40174180,"body_markdown":"When using ServiceLoader.load(X.class) and there are 2 jar files which contain definitions for X.class which one will get deployed?\r\n\r\nThe issue I&#39;m seeing is that this appears to be intermittent in terms of class load order. \r\n\r\nThis is a issue as the definitions are slightly different.\r\n\r\nIdeally this would only appear once on the class path and avoid all problems but in the intermediate time I&#39;m trying to understand whats loads first.\r\n\r\n","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>When using ServiceLoader.load(X.class) and there are 2 jar files which contain definitions for X.class which one will get deployed?</p>\n\n<p>The issue I'm seeing is that this appears to be intermittent in terms of class load order. </p>\n\n<p>This is a issue as the definitions are slightly different.</p>\n\n<p>Ideally this would only appear once on the class path and avoid all problems but in the intermediate time I'm trying to understand whats loads first.</p>\n"},{"tags":["java","spring","spring-boot","timer","cron"],"comments":[{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697725038,"post_id":77324456,"comment_id":136318156,"body_markdown":"@Scheduled(initialDelay = 5 * 60 * 1000, cron = &quot;0 0 5 1/1 * ? * &quot;) though I am not sure if it will work as initialDelay and cron wont run together as there is possibility of cron running exactly when your server starts so in that case how spring will decide to wait or run cron ? so try to use fixed delay or fixed rate or just use cron.","body":"@Scheduled(initialDelay = 5 * 60 * 1000, cron = &quot;0 0 5 1/1 * ? * &quot;) though I am not sure if it will work as initialDelay and cron wont run together as there is possibility of cron running exactly when your server starts so in that case how spring will decide to wait or run cron ? so try to use fixed delay or fixed rate or just use cron."},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1697730185,"post_id":77324456,"comment_id":136319324,"body_markdown":"@prasannajoshi but bro as per my requirement how to achieve them, even i kept separate schedule methods for cron and fixedDelay and it is also stoping the tomcat","body":"@prasannajoshi but bro as per my requirement how to achieve them, even i kept separate schedule methods for cron and fixedDelay and it is also stoping the tomcat"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697731166,"post_id":77324456,"comment_id":136319510,"body_markdown":"any error ? can you remove fixed delay all together and try this  (cron = &quot;0 0 5 1/1 * ? * &quot;) only","body":"any error ? can you remove fixed delay all together and try this  (cron = &quot;0 0 5 1/1 * ? * &quot;) only"},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1697731495,"post_id":77324456,"comment_id":136319592,"body_markdown":"if i remove initial delay it is working fine bro, but need to call a method after 5 mins for that i used initial delay","body":"if i remove initial delay it is working fine bro, but need to call a method after 5 mins for that i used initial delay"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":1,"creation_date":1697795628,"post_id":77324456,"comment_id":136327537,"body_markdown":"do u need every time or only once that initial delay ? if its only once then do Thread.sleep(for 5 min )","body":"do u need every time or only once that initial delay ? if its only once then do Thread.sleep(for 5 min )"}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698225239,"creation_date":1698225239,"answer_id":77358157,"question_id":77324456,"body_markdown":"Use this example:\r\n\r\n    @Component\r\n    public class SimpleScheduler {\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void run() throws InterruptedException {\r\n            Thread.sleep(5 * 60 * 1000);\r\n            process();\r\n        }\r\n    \r\n        @Scheduled(cron = &quot;0 0 17 * * ?&quot;)\r\n        public void cron() {\r\n            process();\r\n        }\r\n    \r\n        private void process() {\r\n            System.out.println(&quot;RUN&quot;);\r\n        }\r\n    }\r\n\r\nConsider to add @EnableScheduling to your application runner class.\r\n\r\n","title":"how to use intialDelay and cron job in schedule annotation","body":"<p>Use this example:</p>\n<pre><code>@Component\npublic class SimpleScheduler {\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void run() throws InterruptedException {\n        Thread.sleep(5 * 60 * 1000);\n        process();\n    }\n\n    @Scheduled(cron = &quot;0 0 17 * * ?&quot;)\n    public void cron() {\n        process();\n    }\n\n    private void process() {\n        System.out.println(&quot;RUN&quot;);\n    }\n}\n</code></pre>\n<p>Consider to add @EnableScheduling to your application runner class.</p>\n"}],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77358157,"answer_count":1,"score":0,"last_activity_date":1698225239,"creation_date":1697724045,"question_id":77324456,"body_markdown":"I want to create a time in Spring Boot which should start first at after 5 mins from java start (initialDelay) and from next time it should run at 5 AM of everyday\r\n\r\nI am trying to use below code, but Tomcat stopped and Java is not starting.\r\n\r\n    @Service\r\n    public class ServiceHandler {\r\n       @Scheduled(initialDelay = 5 * 60 * 100, cron = &quot;0 0 5 * * *&quot;)\r\n        public void SomeTimer() {\r\n        //some code\r\n        }\r\n    }\r\n\r\nMain Spring Boot class:\r\n\r\n    @EnableScheduling\r\n    public class AppMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AppMain.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"how to use intialDelay and cron job in schedule annotation","body":"<p>I want to create a time in Spring Boot which should start first at after 5 mins from java start (initialDelay) and from next time it should run at 5 AM of everyday</p>\n<p>I am trying to use below code, but Tomcat stopped and Java is not starting.</p>\n<pre><code>@Service\npublic class ServiceHandler {\n   @Scheduled(initialDelay = 5 * 60 * 100, cron = &quot;0 0 5 * * *&quot;)\n    public void SomeTimer() {\n    //some code\n    }\n}\n</code></pre>\n<p>Main Spring Boot class:</p>\n<pre><code>@EnableScheduling\npublic class AppMain {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppMain.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unsatisfiedlinkerror","vaticle-typedb"],"answers":[{"comments":[{"owner":{"account_id":345216,"reputation":450,"user_id":677989,"accept_rate":67,"display_name":"haikalpribadi"},"score":0,"creation_date":1664137199,"post_id":71237977,"comment_id":130397150,"body_markdown":"adoptopenjdk.net now recommend we download from adoption.net, so perhaps we should update the answer to it? Also worth suggesting users to download the PKG distribution for ease of installation.","body":"adoptopenjdk.net now recommend we download from adoption.net, so perhaps we should update the answer to it? Also worth suggesting users to download the PKG distribution for ease of installation."},{"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"score":0,"creation_date":1664450462,"post_id":71237977,"comment_id":130477178,"body_markdown":"Updated with the new information.","body":"Updated with the new information."}],"tags":[],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1698225229,"creation_date":1645623634,"answer_id":71237977,"question_id":71237976,"body_markdown":"# TypeDB v2.19 or above\r\n\r\nAs of TypeDB 2.19.0, TypeDB supports native Mac and Linux `arm` architectures. Simply install a native Java runtime to run TypeDB.\r\n\r\n# Old versions of TypeDB\r\n\r\n&gt;  Prior to TypeDB 2.19.0, there were no distributions available for `aarch64` (ARM). As of Jul 6, 2023, the [best solution](https://stackoverflow.com/a/76627424/2902555) is to [upgrade](https://github.com/vaticle/typedb/releases) to TypeDB 2.19.0 or above. If doing so through Homebrew, ensure you are using an ARM64 installation of `brew` (i.e. the default).\r\n\r\nIf the running JDK targets `aarch64` (ARM), the architecture used by an M1 Mac, then an `UnsatisfiedLinkError` is thrown at startup. There is no native ARM build of TypeDB &lt;v2.19, so in order for older versions of TypeDB to run correctly on an M1 MacBook you need to ensure that a JDK that targets `x64` architecture is installed. \r\n\r\nFor example, to install Eclipse Temurin (based upon OpenJDK):\r\n\r\n1. Visit https://adoptium.net/en-GB/temurin/releases/?version=11 to browse Temurin releases\r\n2. Select the `.pkg` distribution of `JDK 11` with operating system `MacOS` and architecture `x64`\r\n3. Download and install the Java binary displayed in the list below\r\n4. Verify that Java was installed correctly by running `java --version`; the output should match the downloaded JDK version\r\n\r\n_Please note that this method relies on MacOS&#39;s [Rosetta translation](https://developer.apple.com/documentation/apple-silicon/about-the-rosetta-translation-environment), which will inflict a performance overhead._","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<h1>TypeDB v2.19 or above</h1>\n<p>As of TypeDB 2.19.0, TypeDB supports native Mac and Linux <code>arm</code> architectures. Simply install a native Java runtime to run TypeDB.</p>\n<h1>Old versions of TypeDB</h1>\n<blockquote>\n<p> Prior to TypeDB 2.19.0, there were no distributions available for <code>aarch64</code> (ARM). As of Jul 6, 2023, the <a href=\"https://stackoverflow.com/a/76627424/2902555\">best solution</a> is to <a href=\"https://github.com/vaticle/typedb/releases\" rel=\"nofollow noreferrer\">upgrade</a> to TypeDB 2.19.0 or above. If doing so through Homebrew, ensure you are using an ARM64 installation of <code>brew</code> (i.e. the default).</p>\n</blockquote>\n<p>If the running JDK targets <code>aarch64</code> (ARM), the architecture used by an M1 Mac, then an <code>UnsatisfiedLinkError</code> is thrown at startup. There is no native ARM build of TypeDB &lt;v2.19, so in order for older versions of TypeDB to run correctly on an M1 MacBook you need to ensure that a JDK that targets <code>x64</code> architecture is installed.</p>\n<p>For example, to install Eclipse Temurin (based upon OpenJDK):</p>\n<ol>\n<li>Visit <a href=\"https://adoptium.net/en-GB/temurin/releases/?version=11\" rel=\"nofollow noreferrer\">https://adoptium.net/en-GB/temurin/releases/?version=11</a> to browse Temurin releases</li>\n<li>Select the <code>.pkg</code> distribution of <code>JDK 11</code> with operating system <code>MacOS</code> and architecture <code>x64</code></li>\n<li>Download and install the Java binary displayed in the list below</li>\n<li>Verify that Java was installed correctly by running <code>java --version</code>; the output should match the downloaded JDK version</li>\n</ol>\n<p><em>Please note that this method relies on MacOS's <a href=\"https://developer.apple.com/documentation/apple-silicon/about-the-rosetta-translation-environment\" rel=\"nofollow noreferrer\">Rosetta translation</a>, which will inflict a performance overhead.</em></p>\n"},{"tags":[],"owner":{"account_id":16664661,"reputation":41,"user_id":12043706,"display_name":"yang zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650764610,"creation_date":1650764610,"answer_id":71984883,"question_id":71237976,"body_markdown":"My computer is MacBookAir M1. And I encountered this problem too. \r\n\r\nI tried Java 17 and Java 8, and both were filed. Finally, when I **switch to Java 11, the error disappeared.** Hope this helps. ","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>My computer is MacBookAir M1. And I encountered this problem too.</p>\n<p>I tried Java 17 and Java 8, and both were filed. Finally, when I <strong>switch to Java 11, the error disappeared.</strong> Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2470034,"reputation":400,"user_id":2152153,"accept_rate":75,"display_name":"flyingsilverfin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688635942,"creation_date":1688635942,"answer_id":76627424,"question_id":71237976,"body_markdown":"As of the TypeDB 2.19.0 release, the `mac` and `linux` distributions support both `x86_64`/`amd64` and `arm64`/`aarch64` architectures natively. \r\n\r\nThese versions are faster than using emulation to run the x86_64 distributions on Macs in particular. \r\n\r\nInstallation is now as simple as installing a Java runtime that is applicable to your native OS+architecture, and then installing TypeDB for your OS via the apt/brew distribution channels or from the Github releases page: https://github.com/vaticle/typedb/releases","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>As of the TypeDB 2.19.0 release, the <code>mac</code> and <code>linux</code> distributions support both <code>x86_64</code>/<code>amd64</code> and <code>arm64</code>/<code>aarch64</code> architectures natively.</p>\n<p>These versions are faster than using emulation to run the x86_64 distributions on Macs in particular.</p>\n<p>Installation is now as simple as installing a Java runtime that is applicable to your native OS+architecture, and then installing TypeDB for your OS via the apt/brew distribution channels or from the Github releases page: <a href=\"https://github.com/vaticle/typedb/releases\" rel=\"nofollow noreferrer\">https://github.com/vaticle/typedb/releases</a></p>\n"}],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10761,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76627424,"answer_count":3,"score":4,"last_activity_date":1698225229,"creation_date":1645623634,"question_id":71237976,"body_markdown":"I tried running TypeDB on my M1 MacBook using `./typedb server`, but it results in the following error:\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /var/folders/5v/95_mbj013y93vsmc8xps0stm0000gp/T/librocksdbjni8182124459810412816.jnilib\r\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n    at java.base/java.lang.System.load(System.java:1953)\r\n```\r\nThis error looks like it might occur when running a Java program with an incompatible JDK. What can I do to resolve it?\r\n\r\n(_Disclaimer - TypeDB maintainer here._)","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>I tried running TypeDB on my M1 MacBook using <code>./typedb server</code>, but it results in the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /var/folders/5v/95_mbj013y93vsmc8xps0stm0000gp/T/librocksdbjni8182124459810412816.jnilib\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n</code></pre>\n<p>This error looks like it might occur when running a Java program with an incompatible JDK. What can I do to resolve it?</p>\n<p>(<em>Disclaimer - TypeDB maintainer here.</em>)</p>\n"},{"tags":["java","itext"],"answers":[{"comments":[{"owner":{"account_id":21624971,"reputation":3,"user_id":15949420,"display_name":"Always_Beginner"},"score":1,"creation_date":1698602794,"post_id":77354219,"comment_id":136423506,"body_markdown":"Thanks, It makes sense. I have added web links now.","body":"Thanks, It makes sense. I have added web links now."}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698225212,"creation_date":1698168603,"answer_id":77354219,"question_id":77331404,"body_markdown":"You need to familiarize yourself with the PDF Standard. A good starting point would be chapter 12.5.6.5 &quot;Link annotations&quot;.\r\nWhat you are trying to do is to put the whole file behind the link (by base64 encoding it). This would be a nice security hole if that would work.\r\n\r\nYou could add links (link annotations see ch. 12.5.6.5 table 176). Use the &#39;A&#39; key which is an action dictionary. There you could add links to internal locations (like pages) or external locations like URLs. You could link to the files directly and this will then open the web browser and do whatever the web browser does (show the image, download the file ...)\r\n\r\nThere is the &#39;GoToE&#39; action which references an embedded file (see the PDF spec/pdfbox documentation on how to add attachments) however from my understanding only PDF files are allowed: \r\n\r\n&gt; &quot;allows jumping to or from a PDF file that is embedded in another PDF\r\n&gt; file&quot;\r\n\r\nBut you want to link to other file types as well so that will not work.(Others may correct me if I am wrong here). \r\nSo you either add web links or your add your files as attachments - those are the options I currently see...","title":"Clickable link in pdf to open up different file types in iText 5","body":"<p>You need to familiarize yourself with the PDF Standard. A good starting point would be chapter 12.5.6.5 &quot;Link annotations&quot;.\nWhat you are trying to do is to put the whole file behind the link (by base64 encoding it). This would be a nice security hole if that would work.</p>\n<p>You could add links (link annotations see ch. 12.5.6.5 table 176). Use the 'A' key which is an action dictionary. There you could add links to internal locations (like pages) or external locations like URLs. You could link to the files directly and this will then open the web browser and do whatever the web browser does (show the image, download the file ...)</p>\n<p>There is the 'GoToE' action which references an embedded file (see the PDF spec/pdfbox documentation on how to add attachments) however from my understanding only PDF files are allowed:</p>\n<blockquote>\n<p>&quot;allows jumping to or from a PDF file that is embedded in another PDF\nfile&quot;</p>\n</blockquote>\n<p>But you want to link to other file types as well so that will not work.(Others may correct me if I am wrong here).\nSo you either add web links or your add your files as attachments - those are the options I currently see...</p>\n"}],"owner":{"account_id":21624971,"reputation":3,"user_id":15949420,"display_name":"Always_Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77354219,"answer_count":1,"score":0,"last_activity_date":1698225212,"creation_date":1697809278,"question_id":77331404,"body_markdown":"I tried to make a clickable link in iText 5 for pdf managing using java, So that once the link in the pdf is clicked, it will open up the expected file-type which can be an image, pdf, .csv etc. \r\n\r\n&gt; Note that the clickable link is not a url/any remote file, it expects to open up the file itself like data.pdf/data.csv/data.jpeg.\r\n\r\nI have also added below code for the same: \r\n\r\n\r\n```\r\nString testData = &quot;data:@file/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAC7u7u+vr7MzMyVlZX09PT4+Pjr6+vZ2dn39/fx8fHg4OCampqJiYno6OhHR0dBQUG1tbVkZGRzc3OioqIvLy9fX1/S0tJVVVXExMSPj48dHR0iIiJPT08NDQ2srKx8fHw3NzcVFRUpKSmDg4NtbW06OjpymPDEAAAGCUlEQVR4nO2c6XqqMBCGS7UiBYuKoOKGtrb3f4entqfMBLAQIAt9vvevRGYgzJrk4QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlOBOwyAIwqlrWhAlbLL3Y/Lq3Dglx/dsY1qgXnGXa6fMevlX3uVmVaHeN6u/8CbT7V39bmxT0wJ2JPhdvy8dA9NCduGlVr8bL6bFbI13aaSg4ySeaVHbsWyo343MtLBt2Eko6Dg70+LKc66ajfNodT5H87eK31amBZal5AOT6zjMfw3Tc+kbHZiKRSO62pTil1IgcDUhaFvign7TyqumBR1jzVJ2YCwIPr/vC7y5cOVYo4ydmAhi/24lBYt7mmiSsCsRl7ou7hzxi9da5OvMI5e5Puj0+OUjDfJ1xn2TUlBU8W0IKeNM2nRwwzQAe+qeSNys4RjmXE7PCmXrBybte+NB0ZBeInuFzW2/T4P2CmXrhXG7t8HevO1u/53MotS413yc5RE4szOZ1MCMbI3dDoMm6atcBObTo7F7mlKYKTvZaHrbne5vW78JevtbJZL1hH/IvybZNIEcxpvNGUaYi7mQHrvIx4b1FxuDppp8lfecj7W5mUE2f6l1rD4or5BvuKT52JkCyfqCnIX8TNsMwl1QEVG+E0GJsM2dmr+v4d+fpWRp5EtKVHSzOQmmhlomPXYY3oK+pbP0WCrx29wvpajtIj2WmlE2R23PSS5mdTPmPvRwEqvLbbQy6FFyJFXK7S7tkzGNJEdSQdHmoI07NclpOqWBNqcWn+xzQZ+kxj3l42wvmF7pXcgYDNZytL3ZzRpJMuEl6/vb7A2/IH8h4dcCGiTvSHXD+qPNazVUo5H2MgZgL7HpPGVzNFEqWz/w5WzNYuhMeoRh+AqSJuWalF0/Vy5dHwhLD+o/K2Fhg/WG9Jsrl7kuBuNtf6vrFwIJl3r9W7fMFRbxD8HMfBM6AvetR2GRrc2JYYFUlHxebXBScVVbiyqyQTJRdmcRF1ONabwoXJMZkLMDM6fIYpb6/3+cpLOienZX2CqJSyrcOHzMPw6Vv2SmBZbnsVKRewwgHC3j1ev1w2kgnr6IG9Xr9kVk9wKT33jc16vn7Ac5Q3+Y1O982tm8MKEJ0+uv+l1lK8c24sYfd9T7iK0ub8sQPJX3IW6fBmpA7+F78Ut0uS1BPF3WL/HGrx8CAAAAAGCWSeB56eixOaPU84KhJBnjOFpUl2LqOCyieGx5LB7Gx1a6cRaxtYVhPyuXCNsqaWNcHpx7Uu+blW1nuoRNi07NiWzS0X+vF7gFK2vmarFJ0R+ZadW+mNYflNSerQWFqlG9mJ0wXkytrodetufZciTDcnbeVh+6ZLbz7VacNHfcbdq67HCzq4gYTK43dUsu/lDqhMoyjZPiny6MtTX8oizbfpaGboq2KzHkNiYFBdf9LX31CrM/MZN2iLX6fb/rDFKxa/XR6583RIzTVn1/K654xJLssvEeEI9jU+G1RE+rfTOUcPuDmowuFBJpzattfH7vhSo7MBG8kV6Dyu35XJ27cvmqKa379Pl6NLX+mL9FjatrJ3QSibNX66omzGtIHrXRBR5uq87E2TJ+ffaUL65Un9zwL0JXFY75Yh3H5Wi+3YPoKXRE/a52j8G+Qj3Wjc1TLekwe6S69g4wr6hj0rAnquu8I3aAmI6yDaVuRw13+4ZqGxpKGmyzp76DKlmcr768SJP0oPxeBGUZ6o0beSedGVv7M8TkoZBU58I7WlGtfJswi9hU30qAbqs6cqPPUO+O5LO2D3Gn7U4i9GTldsHLQ55Jb7edvg7VqT4d4Ki31E6x4knxnfIb6d7PSrGp2vtQ5tT8kOB+oEa62loG1RTkDxHqBhlTtXUTOrtEd+OSslK1Z5+YO3Ksy0FpMlCmptotFaHjXdRmpdBQHdCwL6ChOqBhX0BDdUDDvoCG6tClIUXeus9vpKNE1EbelAHrPkyGjrxR3M3/6cvsde9tef5ZsqC6N+O/6vgYqvhvAl6Vt4H91aeORxNb6b3jp35adij4gamNSWFgzQ4MAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJ38Az8zPHGl+a2BAAAAAElFTkSuQmCC&quot;;\r\n        Phrase phrase = new Phrase(&quot;&quot;);\r\n        Font anchorFont = new Font(Font.FontFamily.UNDEFINED, 11);\r\n        anchorFont.setColor(BaseColor.BLUE);\r\n        anchorFont.setStyle(Font.FontStyle.UNDERLINE.getValue());\r\n\r\n        Anchor anchor1 = new Anchor(&quot;Click to Open&quot;, anchorFont);\r\n        anchor1.setReference(testData);\r\n        \r\n        phrase.add(anchor1);\r\n        subPara.add(phrase);\r\n```\r\n\r\ntestData values can be of different file type values like &quot;data:application/pdf;base64,JVBERi0xLjcNCiW&quot; and many others\r\n\r\nThe link once added won&#39;t be changing.\r\n\r\nNow, I have tried as above specified and I am currently trying to convert data to blob. Please feel free to provide better alternatives or point out possible mistakes.","title":"Clickable link in pdf to open up different file types in iText 5","body":"<p>I tried to make a clickable link in iText 5 for pdf managing using java, So that once the link in the pdf is clicked, it will open up the expected file-type which can be an image, pdf, .csv etc.</p>\n<blockquote>\n<p>Note that the clickable link is not a url/any remote file, it expects to open up the file itself like data.pdf/data.csv/data.jpeg.</p>\n</blockquote>\n<p>I have also added below code for the same:</p>\n<pre><code>String testData = &quot;data:@file/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAC7u7u+vr7MzMyVlZX09PT4+Pjr6+vZ2dn39/fx8fHg4OCampqJiYno6OhHR0dBQUG1tbVkZGRzc3OioqIvLy9fX1/S0tJVVVXExMSPj48dHR0iIiJPT08NDQ2srKx8fHw3NzcVFRUpKSmDg4NtbW06OjpymPDEAAAGCUlEQVR4nO2c6XqqMBCGS7UiBYuKoOKGtrb3f4entqfMBLAQIAt9vvevRGYgzJrk4QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlOBOwyAIwqlrWhAlbLL3Y/Lq3Dglx/dsY1qgXnGXa6fMevlX3uVmVaHeN6u/8CbT7V39bmxT0wJ2JPhdvy8dA9NCduGlVr8bL6bFbI13aaSg4ySeaVHbsWyo343MtLBt2Eko6Dg70+LKc66ajfNodT5H87eK31amBZal5AOT6zjMfw3Tc+kbHZiKRSO62pTil1IgcDUhaFvign7TyqumBR1jzVJ2YCwIPr/vC7y5cOVYo4ydmAhi/24lBYt7mmiSsCsRl7ou7hzxi9da5OvMI5e5Puj0+OUjDfJ1xn2TUlBU8W0IKeNM2nRwwzQAe+qeSNys4RjmXE7PCmXrBybte+NB0ZBeInuFzW2/T4P2CmXrhXG7t8HevO1u/53MotS413yc5RE4szOZ1MCMbI3dDoMm6atcBObTo7F7mlKYKTvZaHrbne5vW78JevtbJZL1hH/IvybZNIEcxpvNGUaYi7mQHrvIx4b1FxuDppp8lfecj7W5mUE2f6l1rD4or5BvuKT52JkCyfqCnIX8TNsMwl1QEVG+E0GJsM2dmr+v4d+fpWRp5EtKVHSzOQmmhlomPXYY3oK+pbP0WCrx29wvpajtIj2WmlE2R23PSS5mdTPmPvRwEqvLbbQy6FFyJFXK7S7tkzGNJEdSQdHmoI07NclpOqWBNqcWn+xzQZ+kxj3l42wvmF7pXcgYDNZytL3ZzRpJMuEl6/vb7A2/IH8h4dcCGiTvSHXD+qPNazVUo5H2MgZgL7HpPGVzNFEqWz/w5WzNYuhMeoRh+AqSJuWalF0/Vy5dHwhLD+o/K2Fhg/WG9Jsrl7kuBuNtf6vrFwIJl3r9W7fMFRbxD8HMfBM6AvetR2GRrc2JYYFUlHxebXBScVVbiyqyQTJRdmcRF1ONabwoXJMZkLMDM6fIYpb6/3+cpLOienZX2CqJSyrcOHzMPw6Vv2SmBZbnsVKRewwgHC3j1ev1w2kgnr6IG9Xr9kVk9wKT33jc16vn7Ac5Q3+Y1O982tm8MKEJ0+uv+l1lK8c24sYfd9T7iK0ub8sQPJX3IW6fBmpA7+F78Ut0uS1BPF3WL/HGrx8CAAAAAGCWSeB56eixOaPU84KhJBnjOFpUl2LqOCyieGx5LB7Gx1a6cRaxtYVhPyuXCNsqaWNcHpx7Uu+blW1nuoRNi07NiWzS0X+vF7gFK2vmarFJ0R+ZadW+mNYflNSerQWFqlG9mJ0wXkytrodetufZciTDcnbeVh+6ZLbz7VacNHfcbdq67HCzq4gYTK43dUsu/lDqhMoyjZPiny6MtTX8oizbfpaGboq2KzHkNiYFBdf9LX31CrM/MZN2iLX6fb/rDFKxa/XR6583RIzTVn1/K654xJLssvEeEI9jU+G1RE+rfTOUcPuDmowuFBJpzattfH7vhSo7MBG8kV6Dyu35XJ27cvmqKa379Pl6NLX+mL9FjatrJ3QSibNX66omzGtIHrXRBR5uq87E2TJ+ffaUL65Un9zwL0JXFY75Yh3H5Wi+3YPoKXRE/a52j8G+Qj3Wjc1TLekwe6S69g4wr6hj0rAnquu8I3aAmI6yDaVuRw13+4ZqGxpKGmyzp76DKlmcr768SJP0oPxeBGUZ6o0beSedGVv7M8TkoZBU58I7WlGtfJswi9hU30qAbqs6cqPPUO+O5LO2D3Gn7U4i9GTldsHLQ55Jb7edvg7VqT4d4Ki31E6x4knxnfIb6d7PSrGp2vtQ5tT8kOB+oEa62loG1RTkDxHqBhlTtXUTOrtEd+OSslK1Z5+YO3Ksy0FpMlCmptotFaHjXdRmpdBQHdCwL6ChOqBhX0BDdUDDvoCG6tClIUXeus9vpKNE1EbelAHrPkyGjrxR3M3/6cvsde9tef5ZsqC6N+O/6vgYqvhvAl6Vt4H91aeORxNb6b3jp35adij4gamNSWFgzQ4MAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJ38Az8zPHGl+a2BAAAAAElFTkSuQmCC&quot;;\n        Phrase phrase = new Phrase(&quot;&quot;);\n        Font anchorFont = new Font(Font.FontFamily.UNDEFINED, 11);\n        anchorFont.setColor(BaseColor.BLUE);\n        anchorFont.setStyle(Font.FontStyle.UNDERLINE.getValue());\n\n        Anchor anchor1 = new Anchor(&quot;Click to Open&quot;, anchorFont);\n        anchor1.setReference(testData);\n        \n        phrase.add(anchor1);\n        subPara.add(phrase);\n</code></pre>\n<p>testData values can be of different file type values like &quot;data:application/pdf;base64,JVBERi0xLjcNCiW&quot; and many others</p>\n<p>The link once added won't be changing.</p>\n<p>Now, I have tried as above specified and I am currently trying to convert data to blob. Please feel free to provide better alternatives or point out possible mistakes.</p>\n"},{"tags":["java","css","vue.js","intellij-idea","javalin"],"comments":[{"owner":{"account_id":2623230,"reputation":91073,"user_id":2274212,"display_name":"lena"},"score":0,"creation_date":1603311194,"post_id":64470497,"comment_id":114000603,"body_markdown":"what problems using either of these ways have you faced? see also https://vuejs.org/v2/guide/single-file-components.html#What-About-Separation-of-Concerns","body":"what problems using either of these ways have you faced? see also <a href=\"https://vuejs.org/v2/guide/single-file-components.html#What-About-Separation-of-Concerns\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29745903,"reputation":11,"user_id":22796981,"display_name":"Maksim Klyuev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698224662,"creation_date":1698183429,"answer_id":77355512,"question_id":64470497,"body_markdown":"My jte template couldn&#39;t see css file. To solve this problem I configured app like this:\r\n```\r\n    Javalin app = Javalin.create(javalinConfig -&gt; {\r\n        javalinConfig.staticFiles.add(&quot;/static&quot;);// static is foder in resources\r\n    }).start(7070);\r\n```\r\nand then linked css file in jte template using path to this file in static file folder:\r\n```\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;\r\n```\r\nP.S. Maybe there are better solutions, but this one worked for me","title":"how to import/link to a local css stylesheet file in app.vue","body":"<p>My jte template couldn't see css file. To solve this problem I configured app like this:</p>\n<pre><code>    Javalin app = Javalin.create(javalinConfig -&gt; {\n        javalinConfig.staticFiles.add(&quot;/static&quot;);// static is foder in resources\n    }).start(7070);\n</code></pre>\n<p>and then linked css file in jte template using path to this file in static file folder:</p>\n<pre><code>    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;\n</code></pre>\n<p>P.S. Maybe there are better solutions, but this one worked for me</p>\n"}],"owner":{"account_id":19791984,"reputation":11,"user_id":14494813,"display_name":"Walter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698224662,"creation_date":1603308814,"question_id":64470497,"body_markdown":"im working with Java, Javalin and vue.\r\n\r\nI cant figure out how to get css working without just having it all in-line within the &lt;script&gt; tags in my *app.vue*.\r\n\r\n\r\n**so i *dont* want:**\r\n```\r\n&lt;style lang=&quot;css&quot;&gt;\r\n\r\n//lots\r\n\r\n//of\r\n\r\n//lines\r\n\r\n//here\r\n\r\n&lt;/style&gt;\r\n```\r\n\r\nwhat i found while searching, was people doing things like this:\r\n```\r\n&lt;style scoped src=&quot;/assets/styles/styles.css&quot;&gt;&lt;/style&gt;\r\n```\r\n\r\n**or**\r\n\r\n```\r\n&lt;style scoped lang=&quot;css&quot;&gt;\r\n  @import &quot;~/assets/styles.css&quot;;\r\n&lt;/style&gt;\r\n```\r\n\r\nthese would be great. but it did not work for me somehow.\r\n\r\nim very much an &#252;ber noob with intellij and java, i mostly do web-dev frontend stuff in vim. but for this project its all intelliJ. i just hate working on giant long files. when i could split it up in more files. so if anyone have a super simple way of of just linking it. that would be amazing. :)","title":"how to import/link to a local css stylesheet file in app.vue","body":"<p>im working with Java, Javalin and vue.</p>\n<p>I cant figure out how to get css working without just having it all in-line within the  tags in my <em>app.vue</em>.</p>\n<p><strong>so i <em>dont</em> want:</strong></p>\n<pre><code>&lt;style lang=&quot;css&quot;&gt;\n\n//lots\n\n//of\n\n//lines\n\n//here\n\n&lt;/style&gt;\n</code></pre>\n<p>what i found while searching, was people doing things like this:</p>\n<pre><code>&lt;style scoped src=&quot;/assets/styles/styles.css&quot;&gt;&lt;/style&gt;\n</code></pre>\n<p><strong>or</strong></p>\n<pre><code>&lt;style scoped lang=&quot;css&quot;&gt;\n  @import &quot;~/assets/styles.css&quot;;\n&lt;/style&gt;\n</code></pre>\n<p>these would be great. but it did not work for me somehow.</p>\n<p>im very much an ber noob with intellij and java, i mostly do web-dev frontend stuff in vim. but for this project its all intelliJ. i just hate working on giant long files. when i could split it up in more files. so if anyone have a super simple way of of just linking it. that would be amazing. :)</p>\n"},{"tags":["java","android","kotlin","android-developer-api"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698242666,"post_id":77357277,"comment_id":136380540,"body_markdown":"This only works if you don&#39;t use the Android strings and localization system. So you would have to build your own localization system or use an existing Java/Kotlin library but you would still need to manually manage the string file(s) in the app private file-system and also load the strings when required.","body":"This only works if you don&#39;t use the Android strings and localization system. So you would have to build your own localization system or use an existing Java/Kotlin library but you would still need to manually manage the string file(s) in the app private file-system and also load the strings when required."},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1698294347,"post_id":77357277,"comment_id":136387578,"body_markdown":"Thanks @Robert yes i think it will required manual intervention , it think it will be much better to provide a new update on playstore for this.","body":"Thanks @Robert yes i think it will required manual intervention , it think it will be much better to provide a new update on playstore for this."}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698223903,"creation_date":1698219065,"answer_id":77357417,"question_id":77357277,"body_markdown":"In short, **you can&#39;t.**\r\n\r\nWithout building a **new** updated APK and deploying in the Play Store, you can&#39;t directly update your resources (photos, videos, sounds, strings etc..).\r\n\r\nThe only thing you can do to dynamically use strings in your application is to create an API service and use the strings from the API to load your strings.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>In short, <strong>you can't.</strong></p>\n<p>Without building a <strong>new</strong> updated APK and deploying in the Play Store, you can't directly update your resources (photos, videos, sounds, strings etc..).</p>\n<p>The only thing you can do to dynamically use strings in your application is to create an API service and use the strings from the API to load your strings.</p>\n"},{"tags":[],"owner":{"account_id":16811709,"reputation":111,"user_id":12154574,"display_name":"Bhushan Maniyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698219336,"creation_date":1698219336,"answer_id":77357447,"question_id":77357277,"body_markdown":"There is no way to update existing string xml file in your application without updating app, one solution is to take support from api to get all localized string and render UI with that response or you can also use Firebase Remote Config for this support.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>There is no way to update existing string xml file in your application without updating app, one solution is to take support from api to get all localized string and render UI with that response or you can also use Firebase Remote Config for this support.</p>\n"},{"tags":[],"owner":{"account_id":19416528,"reputation":101,"user_id":14199865,"display_name":"Ankit Raj Mahapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698223906,"creation_date":1698223906,"answer_id":77357978,"question_id":77357277,"body_markdown":"You can&#39;t, what you can do is to create placeholders for each labels and fetch the strings in desired languages from the server.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>You can't, what you can do is to create placeholders for each labels and fetch the strings in desired languages from the server.</p>\n"}],"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698224424,"creation_date":1698217701,"question_id":77357277,"body_markdown":"I have given multi-language support to my Android App, but I want to add a feature such that the existing strings.xml can be replaced with the new strings.xml for the particular language received from the server.\r\n\r\n\r\nI could not find much support or resources for this. I just want to dynamically update the strings.xml.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>I have given multi-language support to my Android App, but I want to add a feature such that the existing strings.xml can be replaced with the new strings.xml for the particular language received from the server.</p>\n<p>I could not find much support or resources for this. I just want to dynamically update the strings.xml.</p>\n"},{"tags":["java","gradle","neovim","language-server-protocol","nvim-lspconfig"],"owner":{"account_id":18034520,"reputation":81,"user_id":13108267,"display_name":"yiminh wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1698223850,"creation_date":1692612154,"question_id":76944249,"body_markdown":"I setup and config a [java language server](https://github.com/georgewfraser/java-language-server) using &quot;:Lsp install&quot; and lspconfig plugin, but I cannot jump to classes in my project,\r\n\r\nI just open single file and for every packages, java language server gives me &quot;package ... does not exist&quot;.\r\n\r\nmy project is a gradle project and it contains some sub projects with same &#39;build.gradle&#39;.\r\n\r\ndo I need to specify classpath project by project?\r\n\r\nCan anyone teach me how to use it?","title":"how to specify classpath with java_language_server of neovim?","body":"<p>I setup and config a <a href=\"https://github.com/georgewfraser/java-language-server\" rel=\"noreferrer\">java language server</a> using &quot;:Lsp install&quot; and lspconfig plugin, but I cannot jump to classes in my project,</p>\n<p>I just open single file and for every packages, java language server gives me &quot;package ... does not exist&quot;.</p>\n<p>my project is a gradle project and it contains some sub projects with same 'build.gradle'.</p>\n<p>do I need to specify classpath project by project?</p>\n<p>Can anyone teach me how to use it?</p>\n"},{"tags":["java","spring","annotations","lombok"],"answers":[{"comments":[{"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"score":0,"creation_date":1627359670,"post_id":68538894,"comment_id":121128317,"body_markdown":"fields should be final or not?","body":"fields should be final or not?"},{"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"score":2,"creation_date":1627359962,"post_id":68538894,"comment_id":121128370,"body_markdown":"According to [documentation](https://projectlombok.org/features/constructor) `@RequiredArgsConstructor` generates constructor with final fields or with `@NonNull` annotated field which  is not initialized where it is declared.","body":"According to <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a> <code>@RequiredArgsConstructor</code> generates constructor with final fields or with <code>@NonNull</code> annotated field which  is not initialized where it is declared."}],"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1658815953,"creation_date":1627359350,"answer_id":68538894,"question_id":68538851,"body_markdown":"Starting with Spring version 4.3, the single bean constructor does not need to be annotated with the `@Autowired` annotation.\r\n\r\nThis makes it possible to use the `@RequiredArgsConstructor` and `@AllArgsConstructor` annotations for dependency injection:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class Example {\r\n        private final ExampleDependency dependency;\r\n\r\n        public void example() {\r\n            dependency.call();\r\n        }\r\n    }\r\n\r\nIn the above example, lombok will create a constructor with a single `dependency` field, and since this is the only constructor, Spring will inject the dependencies through it.\r\n\r\nIf your version of Spring is less than 4.3, or you use multiple constructors, you can annotate the desired lombok constructor with the `@Autowired` annotation using the `onConstructor` field:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n\r\n[Constructor Injection in Spring with Lombok](https://www.baeldung.com/spring-injection-lombok).","title":"Lombok and @Autowired","body":"<p>Starting with Spring version 4.3, the single bean constructor does not need to be annotated with the <code>@Autowired</code> annotation.</p>\n<p>This makes it possible to use the <code>@RequiredArgsConstructor</code> and <code>@AllArgsConstructor</code> annotations for dependency injection:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class Example {\n    private final ExampleDependency dependency;\n\n    public void example() {\n        dependency.call();\n    }\n}\n</code></pre>\n<p>In the above example, lombok will create a constructor with a single <code>dependency</code> field, and since this is the only constructor, Spring will inject the dependencies through it.</p>\n<p>If your version of Spring is less than 4.3, or you use multiple constructors, you can annotate the desired lombok constructor with the <code>@Autowired</code> annotation using the <code>onConstructor</code> field:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"noreferrer\">Constructor Injection in Spring with Lombok</a>.</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627360376,"creation_date":1627360376,"answer_id":68539013,"question_id":68538851,"body_markdown":"As of Spring 4.3, if a class defines only one single constructor, Spring will understand to use that constructor without needing to add `@Autowired` or any other annotations. Simply ensure that you have an appropriate constructor.\r\n\r\nAs mentioned by @vszholobov, you can use `@RequiredArgsConstructor` or `@AllArgsConstructor`; it&#39;s usually best to make your dependencies `final`, so unless you have something like a default `Clock`, they&#39;ll be basically equivalent. (This also works with other styles of creating constructors, such as `@TupleConstructor(defaults = false)` for Groovy.)","title":"Lombok and @Autowired","body":"<p>As of Spring 4.3, if a class defines only one single constructor, Spring will understand to use that constructor without needing to add <code>@Autowired</code> or any other annotations. Simply ensure that you have an appropriate constructor.</p>\n<p>As mentioned by @vszholobov, you can use <code>@RequiredArgsConstructor</code> or <code>@AllArgsConstructor</code>; it's usually best to make your dependencies <code>final</code>, so unless you have something like a default <code>Clock</code>, they'll be basically equivalent. (This also works with other styles of creating constructors, such as <code>@TupleConstructor(defaults = false)</code> for Groovy.)</p>\n"},{"tags":[],"owner":{"account_id":1810034,"reputation":1794,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641822669,"creation_date":1641822669,"answer_id":70653475,"question_id":68538851,"body_markdown":"In older versions of Spring you&#39;ll need Lombok to annotate the constructor with `@Autowired` e.g. `@AllArgsConstructor(onConstructor = @__(@Autowired))`.","title":"Lombok and @Autowired","body":"<p>In older versions of Spring you'll need Lombok to annotate the constructor with <code>@Autowired</code> e.g. <code>@AllArgsConstructor(onConstructor = @__(@Autowired))</code>.</p>\n"}],"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27856,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":68538894,"answer_count":3,"score":11,"last_activity_date":1698223181,"creation_date":1627358992,"question_id":68538851,"body_markdown":"How to inject beans using @autowired annotation, if I connected a Lombok to the project?\r\n\r\nThe answers on these links seem to be unstable (support?):\r\n\r\nhttps://stackoverflow.com/questions/28685182/spring-lombok-can-i-have-autowired-setter\r\n\r\nhttps://stackoverflow.com/questions/40287592/spring-support-in-idea-with-lombok-is-navigate-to-autowired-dependencies-supp","title":"Lombok and @Autowired","body":"<p>How to inject beans using @autowired annotation, if I connected a Lombok to the project?</p>\n<p>The answers on these links seem to be unstable (support?):</p>\n<p><a href=\"https://stackoverflow.com/questions/28685182/spring-lombok-can-i-have-autowired-setter\">Spring + Lombok: Can I have @Autowired @Setter</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40287592/spring-support-in-idea-with-lombok-is-navigate-to-autowired-dependencies-supp\">Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?</a></p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1656320537,"post_id":72769462,"comment_id":128534058,"body_markdown":"They probably omitted getter/setter for the fields, which are needed to expose the fields to other classes. Or they used lombok library with `@Getter` / `@Setter`","body":"They probably omitted getter/setter for the fields, which are needed to expose the fields to other classes. Or they used lombok library with <code>@Getter</code> / <code>@Setter</code>"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1656323074,"post_id":72769462,"comment_id":128534907,"body_markdown":"I have no issues at all with the above code. Gson uses field access so adding getters is simply not required. Also, fields are allowed to be private as it uses Reflection. Please post the whole stack trace, not only the message.","body":"I have no issues at all with the above code. Gson uses field access so adding getters is simply not required. Also, fields are allowed to be private as it uses Reflection. Please post the whole stack trace, not only the message."},{"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"score":0,"creation_date":1656324095,"post_id":72769462,"comment_id":128535288,"body_markdown":"@NicoVanBelle i added the stack trace","body":"@NicoVanBelle i added the stack trace"}],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656322897,"creation_date":1656322897,"answer_id":72769985,"question_id":72769462,"body_markdown":"This is probably because `Gson` might not be able to translate `Arraylists` from your class to json strings. So, that&#39;s why it is recommending type adapters. Type adapters are basically used to translate classes which gson won&#39;t be able to translate to json otherwise. In this adapter you would describe how your class should be converted to/from a json string. Here&#39;s the [doc][1]\r\n&lt;br&gt;\r\nAlso, [&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;][2] doesn&#39;t have the arraylist `GameFields`. So, that&#39;s another point of error possible.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/TypeAdapter.html\r\n  [2]: https://stackoverflow.com/questions/72769462/failed-making-field-property-accessible-either-change-its-visibility-or-write#:~:text=%22%7B%5C%22name%5C%22%3A%5C%22test%5C%22%2C%5C%22id%5C%22%3A1%7D%22","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>This is probably because <code>Gson</code> might not be able to translate <code>Arraylists</code> from your class to json strings. So, that's why it is recommending type adapters. Type adapters are basically used to translate classes which gson won't be able to translate to json otherwise. In this adapter you would describe how your class should be converted to/from a json string. Here's the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">doc</a>\n<br>\nAlso, <a href=\"https://stackoverflow.com/questions/72769462/failed-making-field-property-accessible-either-change-its-visibility-or-write#:%7E:text=%22%7B%5C%22name%5C%22%3A%5C%22test%5C%22%2C%5C%22id%5C%22%3A1%7D%22\">&quot;{&quot;name&quot;:&quot;test&quot;,&quot;id&quot;:1}&quot;</a> doesn't have the arraylist <code>GameFields</code>. So, that's another point of error possible.</p>\n"},{"comments":[{"owner":{"account_id":6988959,"reputation":114,"user_id":5358885,"display_name":"Ben Mazyopa"},"score":2,"creation_date":1666877662,"post_id":72773163,"comment_id":131042912,"body_markdown":"This is applicable to java 11 and above","body":"This is applicable to java 11 and above"}],"tags":[],"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1656337565,"creation_date":1656337565,"answer_id":72773163,"question_id":72769462,"body_markdown":"I have fixed the problem by adding the line :\r\n```\r\nopens com.example.server.Models to com.google.gson;\r\n```\r\nto ```module-info.java```\r\n","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I have fixed the problem by adding the line :</p>\n<pre><code>opens com.example.server.Models to com.google.gson;\n</code></pre>\n<p>to <code>module-info.java</code></p>\n"},{"tags":[],"owner":{"account_id":3574509,"reputation":89,"user_id":2984087,"accept_rate":80,"display_name":"Koci Kocev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681367076,"creation_date":1681367076,"answer_id":76002266,"question_id":72769462,"body_markdown":"I had the same problem with deserializing java.time.LocalDate with gson, and I think this part of the gson documentation sheds light on why it happens:\r\n\r\n[Gson documentation troubleshooting][1]\r\n\r\nI am quoting from the documentation:\r\n\r\n\r\n&gt; Explanation: When no built-in adapter for a type exists and no custom\r\n&gt; adapter has been registered, Gson falls back to using reflection to\r\n&gt; access the fields of a class (including private ones). Most likely you\r\n&gt; are seeing this error because you (by accident) rely on the\r\n&gt; reflection-based adapter for third-party classes. That should be\r\n&gt; avoided because you make yourself dependent on the implementation\r\n&gt; details of these classes which could change at any point. For the JDK\r\n&gt; it is also not possible anymore to access internal fields using\r\n&gt; reflection starting with JDK 17, see JEP 403. If you want to prevent\r\n&gt; using reflection on third-party classes in the future you can write\r\n&gt; your own ReflectionAccessFilter or use one of the predefined ones,\r\n&gt; such as ReflectionAccessFilter.BLOCK_ALL_PLATFORM.\r\n\r\n  [1]: https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I had the same problem with deserializing java.time.LocalDate with gson, and I think this part of the gson documentation sheds light on why it happens:</p>\n<p><a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">Gson documentation troubleshooting</a></p>\n<p>I am quoting from the documentation:</p>\n<blockquote>\n<p>Explanation: When no built-in adapter for a type exists and no custom\nadapter has been registered, Gson falls back to using reflection to\naccess the fields of a class (including private ones). Most likely you\nare seeing this error because you (by accident) rely on the\nreflection-based adapter for third-party classes. That should be\navoided because you make yourself dependent on the implementation\ndetails of these classes which could change at any point. For the JDK\nit is also not possible anymore to access internal fields using\nreflection starting with JDK 17, see JEP 403. If you want to prevent\nusing reflection on third-party classes in the future you can write\nyour own ReflectionAccessFilter or use one of the predefined ones,\nsuch as ReflectionAccessFilter.BLOCK_ALL_PLATFORM.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11978727,"reputation":1,"user_id":8765151,"display_name":"Maksym Oleksiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690275933,"creation_date":1689838934,"answer_id":76727671,"question_id":72769462,"body_markdown":"I ran into a similar issue with more complex class that included several objects that were involved into deserialization. The issue was resolved by marking explicitly which fields of the classes are involved in deserialization with [`@Expose`][1] annotation. \r\n\r\nAlso `@SerializedName` annotation is used for each field for mapping between fields and JSON elements.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I ran into a similar issue with more complex class that included several objects that were involved into deserialization. The issue was resolved by marking explicitly which fields of the classes are involved in deserialization with <a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\"><code>@Expose</code></a> annotation.</p>\n<p>Also <code>@SerializedName</code> annotation is used for each field for mapping between fields and JSON elements.</p>\n"},{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698223160,"creation_date":1698222616,"answer_id":77357819,"question_id":72769462,"body_markdown":"I had the same issue with deserializing java.time.Instant with gson during java upgrade version 11 to 17, Please refer the gson documentation sheds light on why it happens:\r\nhttps://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\r\n\r\n**Solution:**\r\ncreate Gson by using- `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()` \r\n\r\nexample:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting()\r\n                .excludeFieldsWithoutExposeAnnotation()\r\n                .create();","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I had the same issue with deserializing java.time.Instant with gson during java upgrade version 11 to 17, Please refer the gson documentation sheds light on why it happens:\n<a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose</a></p>\n<p><strong>Solution:</strong>\ncreate Gson by using- <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()</code></p>\n<p>example:</p>\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting()\n            .excludeFieldsWithoutExposeAnnotation()\n            .create();\n</code></pre>\n"}],"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28553,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72773163,"answer_count":5,"score":5,"last_activity_date":1698223160,"creation_date":1656320390,"question_id":72769462,"body_markdown":"I have a class called Game:\r\n```\r\npublic class Game {\r\n    private String name;\r\n    private int id;\r\n    private GameFields[] gameFields;\r\n\r\n    @Expose(deserialize = false)\r\n    public ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n    public Game() {\r\n\r\n    }\r\n\r\n    public Game(String name, int id, GameFields[] gameFields) {\r\n        this.name = name;\r\n        this.id = id;\r\n        this.gameFields = gameFields;\r\n    }\r\n}\r\n```\r\nand I want to make Objects for this class with the GSON.fromJson method.\r\nbut the problem is the method returns\r\n```\r\nFailed to make field &#39;com.example.Models.Game#name&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n```\r\nthis is how I call the method\r\n```\r\nGson gson = new Gson();\r\nGame object = null;\r\ntry {\r\n    object = gson.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;, Game.class);\r\n}catch (JsonParseException e){\r\n    System.out.println(e.getMessage());\r\n}\r\n```\r\nI don&#39;t know why this is happening, because in every example I saw, users used private visibility for their fields.\r\nbut in my case, it works only when I change the visibility of my fields to Public.\r\n\r\n**UPDATE**\r\n\r\nentire stack trace :\r\n```\r\ncom.google.gson.JsonIOException: Failed making field &#39;com.example.server.Models.Game#name&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:22)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:158)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:101)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.getAdapter(Gson.java:501)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:990)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:956)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:905)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:876)\r\n\tat com.example.server/com.example.server.Server$2.onData(Server.java:55)\r\n\tat com.example.server/com.example.server.Server$2.onData(Server.java:44)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.namespace.Namespace.onEvent(Namespace.java:146)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.PacketListener.onPacket(PacketListener.java:106)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:92)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:36)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:294)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.onPost(PollingTransport.java:161)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.handleMessage(PollingTransport.java:120)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.channelRead(PollingTransport.java:97)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.AuthorizeHandler.channelRead(AuthorizeHandler.java:137)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:316)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String com.example.server.Models.Game.name accessible: module com.example.server does not &quot;opens com.example.server.Models&quot; to module com.google.gson\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:19)\r\n\t... 75 more\r\n```","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I have a class called Game:</p>\n<pre><code>public class Game {\n    private String name;\n    private int id;\n    private GameFields[] gameFields;\n\n    @Expose(deserialize = false)\n    public ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\n    public Game() {\n\n    }\n\n    public Game(String name, int id, GameFields[] gameFields) {\n        this.name = name;\n        this.id = id;\n        this.gameFields = gameFields;\n    }\n}\n</code></pre>\n<p>and I want to make Objects for this class with the GSON.fromJson method.\nbut the problem is the method returns</p>\n<pre><code>Failed to make field 'com.example.Models.Game#name' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n</code></pre>\n<p>this is how I call the method</p>\n<pre><code>Gson gson = new Gson();\nGame object = null;\ntry {\n    object = gson.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;, Game.class);\n}catch (JsonParseException e){\n    System.out.println(e.getMessage());\n}\n</code></pre>\n<p>I don't know why this is happening, because in every example I saw, users used private visibility for their fields.\nbut in my case, it works only when I change the visibility of my fields to Public.</p>\n<p><strong>UPDATE</strong></p>\n<p>entire stack trace :</p>\n<pre><code>com.google.gson.JsonIOException: Failed making field 'com.example.server.Models.Game#name' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n    at com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:22)\n    at com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:158)\n    at com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:101)\n    at com.google.gson@2.9.0/com.google.gson.Gson.getAdapter(Gson.java:501)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:990)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:956)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:905)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:876)\n    at com.example.server/com.example.server.Server$2.onData(Server.java:55)\n    at com.example.server/com.example.server.Server$2.onData(Server.java:44)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.namespace.Namespace.onEvent(Namespace.java:146)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.PacketListener.onPacket(PacketListener.java:106)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:92)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:36)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:294)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.onPost(PollingTransport.java:161)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.handleMessage(PollingTransport.java:120)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.channelRead(PollingTransport.java:97)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.AuthorizeHandler.channelRead(AuthorizeHandler.java:137)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:316)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String com.example.server.Models.Game.name accessible: module com.example.server does not &quot;opens com.example.server.Models&quot; to module com.google.gson\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n    at com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:19)\n    ... 75 more\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":5203122,"reputation":603,"user_id":4161906,"display_name":"flwd"},"score":1,"creation_date":1651619991,"post_id":72106338,"comment_id":127405674,"body_markdown":"I believe this should work for a LocalDate. The exception mentions a _LocalDateTime_, not a LocalDate. Do you possibly have a field with the LocalDateTime type inside your Task class? Posting your Task class would help.","body":"I believe this should work for a LocalDate. The exception mentions a <i>LocalDateTime</i>, not a LocalDate. Do you possibly have a field with the LocalDateTime type inside your Task class? Posting your Task class would help."},{"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"score":1,"creation_date":1651620175,"post_id":72106338,"comment_id":127405706,"body_markdown":"Thank you for your answer. I found the problem. I did not have a LocalDateTime field in my Task class, but I have another Object which contains a LocalDateTime field.","body":"Thank you for your answer. I found the problem. I did not have a LocalDateTime field in my Task class, but I have another Object which contains a LocalDateTime field."}],"answers":[{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698223052,"creation_date":1698223052,"answer_id":77357875,"question_id":72106338,"body_markdown":"I had the same issue with deserializing java.time.Instant with gson during java upgrade 11 to 17, Please refer the gson documentation sheds light on why it happens:\r\nhttps://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\r\n\r\n**Solution:**\r\ncreate Gson by using- `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()` ","title":"Java GSON deserializer LocalDate","body":"<p>I had the same issue with deserializing java.time.Instant with gson during java upgrade 11 to 17, Please refer the gson documentation sheds light on why it happens:\n<a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose</a></p>\n<p><strong>Solution:</strong>\ncreate Gson by using- <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()</code></p>\n"}],"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3270,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698223052,"creation_date":1651619295,"question_id":72106338,"body_markdown":"I have a problem trying to deserialize a gson LocalDate. \r\nI have the next 2 adaptors:\r\n\r\n\r\n\r\n     public class LocalDateSerializer implements JsonSerializer &lt; LocalDate &gt; {\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;);\r\n    \r\n        @Override\r\n        public JsonElement serialize(LocalDate localDate, Type srcType, JsonSerializationContext context) {\r\n            return new JsonPrimitive(formatter.format(localDate));\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    public class LocalDateDeserializer implements JsonDeserializer &lt; LocalDate &gt; {\r\n        @Override\r\n        public LocalDate deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            return LocalDate.parse(json.getAsString(),\r\n                    DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\r\n        }\r\n    }\r\n\r\nI try to make a simple Serialization of an object &quot;Task&quot; which have a field starttime of LocalDate type. \r\n\r\n       GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\r\n            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\r\n            Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \r\n            LocalDate now=LocalDate.now();\r\n            Task task=new Task();\r\n            task.setID(1);\r\n            task.setDuration(2);\r\n            task.setID_Proiect(1);\r\n            task.setStarttime(now);\r\n    \r\n            JSONObject json=new JSONObject(task);\r\n            String aux1=gson.toJson(json);\r\n    \r\n            System.out.println(aux1);\r\n            Task t2=gson.fromJson(aux1,Task.class);\r\n\r\nI receive the error \r\n\r\n&gt; Failed making field &#39;java.time.LocalDateTime#date&#39; accessible; either\r\n&gt; change its visibility or write a custom TypeAdapter for its declaring\r\n&gt; type\r\n\r\nCan you tell me what is wrong with this code? I know it is probably a noobie question but i rly need help to improve my skills. Ty","title":"Java GSON deserializer LocalDate","body":"<p>I have a problem trying to deserialize a gson LocalDate.\nI have the next 2 adaptors:</p>\n<pre><code> public class LocalDateSerializer implements JsonSerializer &lt; LocalDate &gt; {\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;);\n\n    @Override\n    public JsonElement serialize(LocalDate localDate, Type srcType, JsonSerializationContext context) {\n        return new JsonPrimitive(formatter.format(localDate));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class LocalDateDeserializer implements JsonDeserializer &lt; LocalDate &gt; {\n    @Override\n    public LocalDate deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        return LocalDate.parse(json.getAsString(),\n                DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n    }\n}\n</code></pre>\n<p>I try to make a simple Serialization of an object &quot;Task&quot; which have a field starttime of LocalDate type.</p>\n<pre><code>   GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\n        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\n        Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n        LocalDate now=LocalDate.now();\n        Task task=new Task();\n        task.setID(1);\n        task.setDuration(2);\n        task.setID_Proiect(1);\n        task.setStarttime(now);\n\n        JSONObject json=new JSONObject(task);\n        String aux1=gson.toJson(json);\n\n        System.out.println(aux1);\n        Task t2=gson.fromJson(aux1,Task.class);\n</code></pre>\n<p>I receive the error</p>\n<blockquote>\n<p>Failed making field 'java.time.LocalDateTime#date' accessible; either\nchange its visibility or write a custom TypeAdapter for its declaring\ntype</p>\n</blockquote>\n<p>Can you tell me what is wrong with this code? I know it is probably a noobie question but i rly need help to improve my skills. Ty</p>\n"},{"tags":["java","button","textchanged"],"answers":[{"comments":[{"owner":{"account_id":22920037,"reputation":9,"user_id":17056008,"display_name":"Aurumen"},"score":1,"creation_date":1698244499,"post_id":77357729,"comment_id":136380992,"body_markdown":"What do you mean by &quot;make sure the button and the database state are in sync on the first click&quot;. It checks the status first before displaying anything. I have tried checking the database and comparing what is in the output and they match. But it is always on the first click that the text doesn&#39;t change but the status does.","body":"What do you mean by &quot;make sure the button and the database state are in sync on the first click&quot;. It checks the status first before displaying anything. I have tried checking the database and comparing what is in the output and they match. But it is always on the first click that the text doesn&#39;t change but the status does."},{"owner":{"account_id":22920037,"reputation":9,"user_id":17056008,"display_name":"Aurumen"},"score":1,"creation_date":1698244667,"post_id":77357729,"comment_id":136381057,"body_markdown":"Nevermind, my mind was just dumb and exhausted that time, i just realized my mistake. The text should say disable for the if statement instead and enable for the else. Thanks though.","body":"Nevermind, my mind was just dumb and exhausted that time, i just realized my mistake. The text should say disable for the if statement instead and enable for the else. Thanks though."}],"tags":[],"owner":{"account_id":17611571,"reputation":79,"user_id":12779501,"display_name":"Dj aman motihari"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1698221885,"creation_date":1698221885,"answer_id":77357729,"question_id":77357710,"body_markdown":"In your initialize method, you set the button text based on the gradeView.getStatus() value, which is retrieved from the database. If this is the case, you should ensure that the initial state of your database (gradeView.getStatus()) is correctly set before the initialize method is called.To make sure the button and the database state are in sync on the first click, you should double-check the initial value of gradeView.getStatus() in your database. If it&#39;s not working as expected, it might be due to the initial data in your database.Also, you can add some debug print statements to check the initial value of gradeView.getStatus() in your initialize method to help diagnose the issue.Here&#39;s how you can add a debug statement:\r\n``System.out.println(&quot;Initial gradeView.getStatus(): &quot; + gradeView.getStatus());\r\n``\r\nThis will help you verify that the initial state of your button and the database value are consistent.","title":"First button click does not change text but updates the database","body":"<p>In your initialize method, you set the button text based on the gradeView.getStatus() value, which is retrieved from the database. If this is the case, you should ensure that the initial state of your database (gradeView.getStatus()) is correctly set before the initialize method is called.To make sure the button and the database state are in sync on the first click, you should double-check the initial value of gradeView.getStatus() in your database. If it's not working as expected, it might be due to the initial data in your database.Also, you can add some debug print statements to check the initial value of gradeView.getStatus() in your initialize method to help diagnose the issue.Here's how you can add a debug statement:\n<code>System.out.println(&quot;Initial gradeView.getStatus(): &quot; + gradeView.getStatus()); </code>\nThis will help you verify that the initial state of your button and the database value are consistent.</p>\n"}],"owner":{"account_id":22920037,"reputation":9,"user_id":17056008,"display_name":"Aurumen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698223019,"creation_date":1698221704,"question_id":77357710,"body_markdown":"As the title says, the text doesn&#39;t change on the first click but the database update runs and changes the value. However, for every succeeding clicks, it works as expected, albeit the values are now just reversed.\r\n\r\nI have tried mixing up the order of my statements but to no avail. \r\n\r\nHere is my code\r\n\r\n```\r\npackage controller;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.cfg.Configuration;\r\nimport entity.Settings;\r\n\r\npublic class GradeViewController implements Initializable {\r\n    \r\n    @FXML\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n         SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n\r\n        // Load the GradeView entity (assuming you have an ID for it)\r\n        Settings gradeView = session.get(Settings.class, 0);\r\n\r\n        if (gradeView.getStatus()== 0) {\r\n            btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\r\n            gradeView.setStatus(0);\r\n        } else {\r\n            btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\r\n            gradeView.setStatus(1);\r\n        }\r\n    }    \r\n\r\n    private void setGradeViewToggle() {\r\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        Transaction tx = null;\r\n        \r\n        try {\r\n            tx = session.beginTransaction();\r\n\r\n            // Load the GradeView entity (assuming you have an ID for it)\r\n            Settings gradeView = session.get(Settings.class, 0);\r\n\r\n            if (gradeView.getStatus()== 0) {\r\n                // Set the &quot;status&quot; to 1 to enable\r\n                gradeView.setStatus(1);\r\n                btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\r\n            } else {\r\n                // Set the &quot;status&quot; to 0 to disable\r\n                gradeView.setStatus(0);\r\n                btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\r\n            }\r\n\r\n            // Persist the changes to the database\r\n            session.update(gradeView);\r\n\r\n            tx.commit();\r\n        } catch (Exception e) {\r\n            if (tx != null) {\r\n                tx.rollback();\r\n            }\r\n            e.printStackTrace();\r\n            // Handle any exceptions\r\n        } finally {\r\n            session.close();\r\n            sessionFactory.close();\r\n        }\r\n     }\r\n    \r\n    @FXML\r\n    private void actionSetGradeViewToggle(ActionEvent event) {\r\n        setGradeViewToggle();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried mixing up the order of the statements. \r\nI was expecting that the button works on the first click, changing the text on the first click. ","title":"First button click does not change text but updates the database","body":"<p>As the title says, the text doesn't change on the first click but the database update runs and changes the value. However, for every succeeding clicks, it works as expected, albeit the values are now just reversed.</p>\n<p>I have tried mixing up the order of my statements but to no avail.</p>\n<p>Here is my code</p>\n<pre><code>package controller;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.Initializable;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport entity.Settings;\n\npublic class GradeViewController implements Initializable {\n    \n    @FXML\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n         SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n\n        // Load the GradeView entity (assuming you have an ID for it)\n        Settings gradeView = session.get(Settings.class, 0);\n\n        if (gradeView.getStatus()== 0) {\n            btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\n            gradeView.setStatus(0);\n        } else {\n            btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\n            gradeView.setStatus(1);\n        }\n    }    \n\n    private void setGradeViewToggle() {\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction tx = null;\n        \n        try {\n            tx = session.beginTransaction();\n\n            // Load the GradeView entity (assuming you have an ID for it)\n            Settings gradeView = session.get(Settings.class, 0);\n\n            if (gradeView.getStatus()== 0) {\n                // Set the &quot;status&quot; to 1 to enable\n                gradeView.setStatus(1);\n                btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\n            } else {\n                // Set the &quot;status&quot; to 0 to disable\n                gradeView.setStatus(0);\n                btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\n            }\n\n            // Persist the changes to the database\n            session.update(gradeView);\n\n            tx.commit();\n        } catch (Exception e) {\n            if (tx != null) {\n                tx.rollback();\n            }\n            e.printStackTrace();\n            // Handle any exceptions\n        } finally {\n            session.close();\n            sessionFactory.close();\n        }\n     }\n    \n    @FXML\n    private void actionSetGradeViewToggle(ActionEvent event) {\n        setGradeViewToggle();\n    }\n}\n</code></pre>\n<p>I have tried mixing up the order of the statements.\nI was expecting that the button works on the first click, changing the text on the first click.</p>\n"},{"tags":["java","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1698226130,"post_id":77357868,"comment_id":136377135,"body_markdown":"Rather than `void` it would be better to return `Map&lt;String, String&gt;` from your method.","body":"Rather than <code>void</code> it would be better to return <code>Map&lt;String, String&gt;</code> from your method."}],"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698222976,"creation_date":1698222976,"answer_id":77357868,"question_id":77357775,"body_markdown":"You can iterate through the `HttpHeaders` object and extract its key-value pairs into a `Map`. As you can see here:\r\n\r\n```\r\nimport io.restassured.http.Headers;\r\nimport io.restassured.http.Header;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nprivate void executeRequest(String uri, Headers requestHeaders) {\r\n    Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\r\n\r\n    for (Header header : requestHeaders) {\r\n        headerMap.put(header.getName(), header.getValue());\r\n    }\r\n}\r\n```","title":"how to convert restassured&#39;s httpheaders to a map of &lt;string, string&gt;?","body":"<p>You can iterate through the <code>HttpHeaders</code> object and extract its key-value pairs into a <code>Map</code>. As you can see here:</p>\n<pre><code>import io.restassured.http.Headers;\nimport io.restassured.http.Header;\nimport java.util.HashMap;\nimport java.util.Map;\n\nprivate void executeRequest(String uri, Headers requestHeaders) {\n    Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\n\n    for (Header header : requestHeaders) {\n        headerMap.put(header.getName(), header.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4507375,"reputation":555,"user_id":3664382,"accept_rate":60,"display_name":"thisisdude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77357868,"answer_count":1,"score":1,"last_activity_date":1698222976,"creation_date":1698222210,"question_id":77357775,"body_markdown":"I want to convert restassured&#39;s httpheaders to a map and then use its specific values. can someone please help me here? \r\n\r\nHere is my code -\r\n\r\n    private void executerequest(String uri, HttpHeaders requestHeader){\r\n    ..todo..\r\n    }\r\n\r\nnow as a part of this fuction, I want the map which contains key value pair for httpheaders.\r\n\r\n","title":"how to convert restassured&#39;s httpheaders to a map of &lt;string, string&gt;?","body":"<p>I want to convert restassured's httpheaders to a map and then use its specific values. can someone please help me here?</p>\n<p>Here is my code -</p>\n<pre><code>private void executerequest(String uri, HttpHeaders requestHeader){\n..todo..\n}\n</code></pre>\n<p>now as a part of this fuction, I want the map which contains key value pair for httpheaders.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697799758,"post_id":77329975,"comment_id":136328275,"body_markdown":"If it is of type PDSimpleFont then you can call getEncoding(). Also have a look at your file in PDFDebugger.","body":"If it is of type PDSimpleFont then you can call getEncoding(). Also have a look at your file in PDFDebugger."},{"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"score":0,"creation_date":1697805324,"post_id":77329975,"comment_id":136329306,"body_markdown":"Yes, it&#39;s of type PDSimpleFont and getEncoding() returns something valid. However, I cannot find a difference between the Encoding of a &quot;normal&quot; PDF and a PDF with user def encoding. E.g. Encoding.getEncodingName() == &quot;differences&quot; for both.\nI come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding. Whereas the PDFDebugger and ohter PDF viewers show readable text. \nMy challenge is to find out, whether readable text can be extracted.","body":"Yes, it&#39;s of type PDSimpleFont and getEncoding() returns something valid. However, I cannot find a difference between the Encoding of a &quot;normal&quot; PDF and a PDF with user def encoding. E.g. Encoding.getEncodingName() == &quot;differences&quot; for both. I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding. Whereas the PDFDebugger and ohter PDF viewers show readable text.  My challenge is to find out, whether readable text can be extracted."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698220581,"post_id":77329975,"comment_id":136376022,"body_markdown":"Considering your edit: Obfuscation is a very generic term. What kind of obfuscation are you talking about?","body":"Considering your edit: Obfuscation is a very generic term. What kind of obfuscation are you talking about?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1698225894,"post_id":77329975,"comment_id":136377086,"body_markdown":"*&quot;I cannot share the entire document since it contains personal data. In one section it contains:&quot;* - Obviously we in particular need to know how it is internally built. A screenshot of what a PDF viewer shows is of lesser interest.","body":"<i>&quot;I cannot share the entire document since it contains personal data. In one section it contains:&quot;</i> - Obviously we in particular need to know how it is internally built. A screenshot of what a PDF viewer shows is of lesser interest."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1698226138,"post_id":77329975,"comment_id":136377137,"body_markdown":"BTW, *&quot;I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding.&quot;* - that does not need to be connected, fonts with custom encodings can still allow proper text extraction, and fonts with standard encodings may yet hinder text extraction.","body":"BTW, <i>&quot;I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding.&quot;</i> - that does not need to be connected, fonts with custom encodings can still allow proper text extraction, and fonts with standard encodings may yet hinder text extraction."},{"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"score":0,"creation_date":1698231409,"post_id":77329975,"comment_id":136378097,"body_markdown":"Surely, a screenshot does not help much. I tried to give a hint to the question &quot;what kind of obfuscating...&quot;. I do not know, what &quot;TargetStream Technologies&quot; use for their obfuscation. \nMy approach is now to check the &quot;creator&quot; property. If it matches to &quot;TargetStream...&quot; the PDF is sent to the OCR. This will cause much more CO2 but it solves the problem.","body":"Surely, a screenshot does not help much. I tried to give a hint to the question &quot;what kind of obfuscating...&quot;. I do not know, what &quot;TargetStream Technologies&quot; use for their obfuscation.  My approach is now to check the &quot;creator&quot; property. If it matches to &quot;TargetStream...&quot; the PDF is sent to the OCR. This will cause much more CO2 but it solves the problem."}],"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222803,"creation_date":1697795686,"question_id":77329975,"body_markdown":"How can I find out wether a PDF uses a user defined encoding? - preferably by PDFBox 2.0.29.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my current experimental approach. Any better ideas?\r\n\r\n\r\n      boolean hasUserDefinedEncoding = false;\r\n      if (document.getNumberOfPages() &gt; 0) {\r\n        PDPage page = document.getPage(0);\r\n        PDResources res = page.getResources();\r\n        for (COSName fontName : res.getFontNames()) {\r\n          PDFont font = res.getFont(fontName);\r\n          String name = font.getName();\r\n          hasUserDefinedEncoding = name == null;\r\n          if (hasUserDefinedEncoding) break;\r\n        }\r\n      }\r\n\r\nEdit 2023-10-25: It turns out that the document was created by TargetStream StreamEDS most likely by using the obfuscation option. Any better ideas to find out whether obufscation is used in a PDF?\r\n\r\nI cannot share the entire document since it contains personal data. In one section it contains:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIjtQ.png\r\n  [2]: https://i.stack.imgur.com/u3JUZ.png\r\n\r\nCopy/paste this section into notepad shows:\r\n\r\n    Gru&gt;d%/ge der Versicheru&gt;g si&gt;d die A%%ge_ei&gt;e&gt; Versicheru&gt;gsbedi&gt;gu&gt;ge&gt; (AVB), Ausg/be 03.2017 s?wie die Bes?&gt;dere&gt;\r\n    Bedi&gt;gu&gt;ge&gt; 0200, die Sie :us/__e&gt; _it der !fferte/de_ A&gt;tr/g erh/%te&gt; ?der i_ I&gt;ter&gt;et ei&gt;gesehe&gt; h/be&gt;\r\n\r\nPDFBox result looks like this (don&#39;t know wether it belongs to the section)\r\n\r\n    ... ]&#205;&#203;U&#200;:%&#209;&#196;&#199; ...\r\n\r\n\r\n","title":"How to detect user defined encoding with PDFBox","body":"<p>How can I find out wether a PDF uses a user defined encoding? - preferably by PDFBox 2.0.29.</p>\n<p><a href=\"https://i.stack.imgur.com/qIjtQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIjtQ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my current experimental approach. Any better ideas?</p>\n<pre><code>  boolean hasUserDefinedEncoding = false;\n  if (document.getNumberOfPages() &gt; 0) {\n    PDPage page = document.getPage(0);\n    PDResources res = page.getResources();\n    for (COSName fontName : res.getFontNames()) {\n      PDFont font = res.getFont(fontName);\n      String name = font.getName();\n      hasUserDefinedEncoding = name == null;\n      if (hasUserDefinedEncoding) break;\n    }\n  }\n</code></pre>\n<p>Edit 2023-10-25: It turns out that the document was created by TargetStream StreamEDS most likely by using the obfuscation option. Any better ideas to find out whether obufscation is used in a PDF?</p>\n<p>I cannot share the entire document since it contains personal data. In one section it contains:</p>\n<p><a href=\"https://i.stack.imgur.com/u3JUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3JUZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Copy/paste this section into notepad shows:</p>\n<pre><code>Gru&gt;d%/ge der Versicheru&gt;g si&gt;d die A%%ge_ei&gt;e&gt; Versicheru&gt;gsbedi&gt;gu&gt;ge&gt; (AVB), Ausg/be 03.2017 s?wie die Bes?&gt;dere&gt;\nBedi&gt;gu&gt;ge&gt; 0200, die Sie :us/__e&gt; _it der !fferte/de_ A&gt;tr/g erh/%te&gt; ?der i_ I&gt;ter&gt;et ei&gt;gesehe&gt; h/be&gt;\n</code></pre>\n<p>PDFBox result looks like this (don't know wether it belongs to the section)</p>\n<pre><code>... ]U:% ...\n</code></pre>\n"},{"tags":["java","kotlin","static","mockk"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1698070380,"post_id":77343683,"comment_id":136355137,"body_markdown":"&quot;I&#39;ve even tried mockkStatic(System::class), but it seems like it broke the JVM completely.&quot; That seems reasonable, yes. :D","body":"&quot;I&#39;ve even tried mockkStatic(System::class), but it seems like it broke the JVM completely.&quot; That seems reasonable, yes. :D"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698070478,"post_id":77343683,"comment_id":136355167,"body_markdown":"But to actually help: Instead of mocking the 3rd party library class, can you mock the class that is using it? You can encapsulate the use of this class in another that you wrote yourself, preferably moving the initialization to somewhere that&#39;s not dependent on class loading order.","body":"But to actually help: Instead of mocking the 3rd party library class, can you mock the class that is using it? You can encapsulate the use of this class in another that you wrote yourself, preferably moving the initialization to somewhere that&#39;s not dependent on class loading order."}],"answers":[{"tags":[],"owner":{"account_id":913012,"reputation":5226,"user_id":946409,"accept_rate":65,"display_name":"Pitel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698222668,"creation_date":1698222668,"answer_id":77357827,"question_id":77343683,"body_markdown":"What I did was create a new object, that wraps the original one:\r\n\r\n``` lang-kotlin\r\nobject SomeWrapper {\r\n  fun someMethod1() = SomeFactory.someMethod1()\r\n}\r\n```\r\n\r\nand then in MockK, just mock the object:\r\n\r\n``` lang-kotlin\r\nmockkObject(SomeWrapper)\r\nevery { SomeWrapper.method1() } returns mockk()\r\n```","title":"How to mock Java static block","body":"<p>What I did was create a new object, that wraps the original one:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object SomeWrapper {\n  fun someMethod1() = SomeFactory.someMethod1()\n}\n</code></pre>\n<p>and then in MockK, just mock the object:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mockkObject(SomeWrapper)\nevery { SomeWrapper.method1() } returns mockk()\n</code></pre>\n"}],"owner":{"account_id":913012,"reputation":5226,"user_id":946409,"accept_rate":65,"display_name":"Pitel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357827,"answer_count":1,"score":0,"last_activity_date":1698222668,"creation_date":1698049615,"question_id":77343683,"body_markdown":"I have a following Java class in a 3rd party library:\r\n\r\n```lang-java\r\npublic final class SomeFactory {\r\n  public static native someMethod1()\r\n  public static native someMethod2()\r\n\r\n  private SomeFactory() {\r\n  }\r\n\r\n  static {\r\n    System.loadLibrary(&quot;some_lib&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd this crashes my tests, because loading that `some_lib` fails.\r\n\r\n```\r\njava.lang.UnsatisfiedLinkError: no some_lib in java.library.path: /usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib\r\n```\r\n\r\nSo how can I mock this class? I&#39;m suing MockK and Kotest.\r\n\r\nI&#39;ve tried different combinations of just `mockk()`, `mockkStatic()`, `mockkConstructor()` and others, but nothing works. I&#39;ve even tried `mockkStatic(System::class)`, but it seems like it broke the JVM completely.","title":"How to mock Java static block","body":"<p>I have a following Java class in a 3rd party library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SomeFactory {\n  public static native someMethod1()\n  public static native someMethod2()\n\n  private SomeFactory() {\n  }\n\n  static {\n    System.loadLibrary(&quot;some_lib&quot;);\n  }\n}\n</code></pre>\n<p>And this crashes my tests, because loading that <code>some_lib</code> fails.</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no some_lib in java.library.path: /usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib\n</code></pre>\n<p>So how can I mock this class? I'm suing MockK and Kotest.</p>\n<p>I've tried different combinations of just <code>mockk()</code>, <code>mockkStatic()</code>, <code>mockkConstructor()</code> and others, but nothing works. I've even tried <code>mockkStatic(System::class)</code>, but it seems like it broke the JVM completely.</p>\n"},{"tags":["java","android","flutter","android-studio","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1698223231,"post_id":77357818,"comment_id":136376547,"body_markdown":"I&#39;m guessing you&#39;re trying to compile with java 21 using a version of gradle below 8.4 (which added support for running builds on java 21). Downgrade java, or upgrade gradle","body":"I&#39;m guessing you&#39;re trying to compile with java 21 using a version of gradle below 8.4 (which added support for running builds on java 21). Downgrade java, or upgrade gradle"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698225216,"post_id":77357818,"comment_id":136376941,"body_markdown":"Do i need to also change gradle plugin? i am a flutter developer do not have much knowlege about gradle","body":"Do i need to also change gradle plugin? i am a flutter developer do not have much knowlege about gradle"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698225251,"post_id":77357818,"comment_id":136376950,"body_markdown":"My current gradle version is 7.5 and gradle plugin is 7.3","body":"My current gradle version is 7.5 and gradle plugin is 7.3"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1698225920,"post_id":77357818,"comment_id":136377091,"body_markdown":"You can&#39;t use java 21 with gradle 7.5. Try using java 17","body":"You can&#39;t use java 21 with gradle 7.5. Try using java 17"}],"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222611,"creation_date":1698222611,"question_id":77357818,"body_markdown":"I want to generate sha1 for android but facing this issue while trying to generate the signing report from the gradlew it stuck on compilegroovy and builf fails after ./gradlew signingReport\r\n\r\n    Execution failed for task &#39;:gradle:compileGroovy&#39;.\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy&#39; Unsupported class file major version 65\r\n\r\nthis is the stacktrace.\r\n\r\n```\r\n* Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task \r\n    &#39;:gradle:compileGroovy&#39;.\r\n        at \r\n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n    lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n     executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n     execute(ExecuteActionsTaskExecuter.java:128)\r\n        at \r\n     org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.\r\n     execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.\r\n     execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at \r\n     org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.\r\n     execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy&#39; Unsupported class file major version 65\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n        ... 25 more\r\n\r\n\r\n```\r\n\r\n   ","title":"Execution failed for task &#39;:gradle:compileGroovy&#39;. for flutter","body":"<p>I want to generate sha1 for android but facing this issue while trying to generate the signing report from the gradlew it stuck on compilegroovy and builf fails after ./gradlew signingReport</p>\n<pre><code>Execution failed for task ':gradle:compileGroovy'.\n</code></pre>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy' Unsupported class file major version 65</p>\n</blockquote>\n<p>this is the stacktrace.</p>\n<pre><code>* Exception is:\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task \n    ':gradle:compileGroovy'.\n        at \n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n    lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n     executeIfValid(ExecuteActionsTaskExecuter.java:140)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n     execute(ExecuteActionsTaskExecuter.java:128)\n        at \n     org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.\n     execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.\n     execute(FinalizePropertiesTaskExecuter.java:46)\n        at \n     org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.\n     execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: BUG! exception in phase 'semantic analysis' in source unit '/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy' Unsupported class file major version 65\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n        ... 25 more\n\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","webauthn","fido","windows-hello"],"answers":[{"comments":[{"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"score":0,"creation_date":1698222315,"post_id":77357330,"comment_id":136376340,"body_markdown":"Thanks for the reply. In the various experiments, I was trying not to use the virtual authenticaor, in this way the authentication popup appears, but I don&#39;t understand how to interact with it to replicate a login.","body":"Thanks for the reply. In the various experiments, I was trying not to use the virtual authenticaor, in this way the authentication popup appears, but I don&#39;t understand how to interact with it to replicate a login."}],"tags":[],"owner":{"account_id":29278066,"reputation":46,"user_id":22431349,"display_name":"Michael Braga"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218258,"creation_date":1698218258,"answer_id":77357330,"question_id":77351322,"body_markdown":"Unfortunately, Selenium cannot access your credentials stored in the Windows Hello authenticator. What you have there is setting up a new virtual authenticator (only supported on Chrome/Edge). It is an authenticator on its own, only implemented in the browser and does not communicate with your Windows Hello.\r\n\r\nYou could attempt automation at the operating system level in combination with Selenium, although I haven&#39;t personally experimented with this approach.","title":"Selenium Test: Autenticate with WebAuthn through Windows Hello","body":"<p>Unfortunately, Selenium cannot access your credentials stored in the Windows Hello authenticator. What you have there is setting up a new virtual authenticator (only supported on Chrome/Edge). It is an authenticator on its own, only implemented in the browser and does not communicate with your Windows Hello.</p>\n<p>You could attempt automation at the operating system level in combination with Selenium, although I haven't personally experimented with this approach.</p>\n"}],"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698222045,"creation_date":1698143375,"question_id":77351322,"body_markdown":"I&#39;m trying to create a Selenium (java) test that goes through the WebAuthn authentication of a web service to which I&#39;m already registered using Windows Hello Authentication via pin. is there a way to replicate login via windows hello (via pin) via Selenium? \r\n\r\nI tried with the virtual authenticator with the following options, but it doesn&#39;t work and I don&#39;t understand how to set it up to make it work.\r\n\r\n\r\n```\r\n        VirtualAuthenticatorOptions options = new VirtualAuthenticatorOptions();\r\n        options.setTransport(Transport.INTERNAL)\r\n                .setProtocol(Protocol.CTAP2)\r\n                .setHasUserVerification(true)\r\n                .setIsUserVerified(true);\r\n        return ((HasVirtualAuthenticator) driver).addVirtualAuthenticator(options);\r\n```\r\n","title":"Selenium Test: Autenticate with WebAuthn through Windows Hello","body":"<p>I'm trying to create a Selenium (java) test that goes through the WebAuthn authentication of a web service to which I'm already registered using Windows Hello Authentication via pin. is there a way to replicate login via windows hello (via pin) via Selenium?</p>\n<p>I tried with the virtual authenticator with the following options, but it doesn't work and I don't understand how to set it up to make it work.</p>\n<pre><code>        VirtualAuthenticatorOptions options = new VirtualAuthenticatorOptions();\n        options.setTransport(Transport.INTERNAL)\n                .setProtocol(Protocol.CTAP2)\n                .setHasUserVerification(true)\n                .setIsUserVerified(true);\n        return ((HasVirtualAuthenticator) driver).addVirtualAuthenticator(options);\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","gradle","android-augmented-reality"],"comments":[{"owner":{"account_id":66608,"reputation":10663,"user_id":195324,"display_name":"Morion"},"score":0,"creation_date":1698222029,"post_id":77352641,"comment_id":136376282,"body_markdown":"so where is the error? there is no error in log you provided","body":"so where is the error? there is no error in log you provided"}],"owner":{"account_id":26113526,"reputation":35,"user_id":19807015,"display_name":"Sathiskumar S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222013,"creation_date":1698155041,"question_id":77352641,"body_markdown":"When I&#39;m going to build augmented reality based android application using unity game engine I&#39;m getting the following error.\r\n\r\n```\r\nCommandInvokationFailure: Gradle build failed. \r\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\r\n```\r\nI tried lots of solutions. But none of them are worked. Can someone help me to fix this error.\r\nThanks in Advance.","title":"CommandInvokationFailure: Gradle build failed in unity","body":"<p>When I'm going to build augmented reality based android application using unity game engine I'm getting the following error.</p>\n<pre><code>CommandInvokationFailure: Gradle build failed. \nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\n</code></pre>\n<p>I tried lots of solutions. But none of them are worked. Can someone help me to fix this error.\nThanks in Advance.</p>\n"},{"tags":["java","elasticsearch","nested"],"answers":[{"comments":[{"owner":{"account_id":11983301,"reputation":3,"user_id":8768521,"display_name":"gron"},"score":0,"creation_date":1698244791,"post_id":77357741,"comment_id":136381098,"body_markdown":"Thanks for your great answers!  We have millions of companies so pagination and sorting are mandatory.  The second solution is what I have tried at the beginning.  However, there are two time type of financial report: annual and quarterly.  The PM asks to find &#39;the latest&#39;,  &#39;the second latest&#39;, &#39;the latest annual&#39;, &#39;the second latest annual&#39;, &#39;the latest quarterly&#39; and &#39;the second latest quarterly&#39;.  Those are 6 additional objects.  And we have more models like financial reports.  If there is no other way,  I will adopt it.","body":"Thanks for your great answers!  We have millions of companies so pagination and sorting are mandatory.  The second solution is what I have tried at the beginning.  However, there are two time type of financial report: annual and quarterly.  The PM asks to find &#39;the latest&#39;,  &#39;the second latest&#39;, &#39;the latest annual&#39;, &#39;the second latest annual&#39;, &#39;the latest quarterly&#39; and &#39;the second latest quarterly&#39;.  Those are 6 additional objects.  And we have more models like financial reports.  If there is no other way,  I will adopt it."},{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1698259009,"post_id":77357741,"comment_id":136383932,"body_markdown":"Hmm, I am not sure how soon you get the reports in the index relative to the period end date, but I wonder - can you express these conditions as a date range instead of as the last and second to last in the sorted list? If you can I think I can offer a better solution.","body":"Hmm, I am not sure how soon you get the reports in the index relative to the period end date, but I wonder - can you express these conditions as a date range instead of as the last and second to last in the sorted list? If you can I think I can offer a better solution."},{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1698259706,"post_id":77357741,"comment_id":136384043,"body_markdown":"In your case you can also add a marker field on the nested object indicating the status of that report instead of creating all these additional fields. Then you will just need to add a term query on the marker field as one of the conditions. The main issue here is that you want to pick one record based on relationship with other records. If you could express the same condition as something that doesn&#39;t involve relationship between records it would have been much easier. For example, any report between now and a quarter ago instead of the last report would have simplified that.","body":"In your case you can also add a marker field on the nested object indicating the status of that report instead of creating all these additional fields. Then you will just need to add a term query on the marker field as one of the conditions. The main issue here is that you want to pick one record based on relationship with other records. If you could express the same condition as something that doesn&#39;t involve relationship between records it would have been much easier. For example, any report between now and a quarter ago instead of the last report would have simplified that."},{"owner":{"account_id":11983301,"reputation":3,"user_id":8768521,"display_name":"gron"},"score":0,"creation_date":1698284484,"post_id":77357741,"comment_id":136386909,"body_markdown":"Unfortunately I cannot express the date condition as range.  For example, there are two companies A and B.  The latest report of A is on 2015-12-31.  The latest one for B is on 2023-06-30.  Although the date of the report from A looks ancient,  It is the very  latest and matches the condition.","body":"Unfortunately I cannot express the date condition as range.  For example, there are two companies A and B.  The latest report of A is on 2015-12-31.  The latest one for B is on 2023-06-30.  Although the date of the report from A looks ancient,  It is the very  latest and matches the condition."}],"tags":[],"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698222001,"creation_date":1698222001,"answer_id":77357741,"question_id":77357056,"body_markdown":"If the number of companies is small enough that you don&#39;t need to page through them, you can do it using combination of `top_hits` and `bucket_selector` aggregations. Basically, the `top_hits` will find the latest report and `bucket_selector` will remove all companies that don&#39;t have enough cash. \r\n\r\n```\r\nPUT test\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;id&quot;: {\r\n        &quot;type&quot;: &quot;long&quot;\r\n      },\r\n      &quot;financials&quot;: {\r\n        &quot;type&quot;: &quot;nested&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;periodEndDate&quot;: {\r\n            &quot;type&quot;: &quot;date&quot;\r\n          },\r\n          &quot;cash&quot;: {\r\n            &quot;type&quot;:&quot;long&quot;\r\n          },\r\n          &quot;inventory&quot;: {\r\n            &quot;type&quot;: &quot;long&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPOST test/_bulk?refresh\r\n{&quot;index&quot;:{&quot;_id&quot;:1}}\r\n{&quot;id&quot;:1,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-06-30&quot;,&quot;cash&quot;:10000,&quot;inventory&quot;:24000},{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:12000,&quot;inventory&quot;:19000}]}\r\n{&quot;index&quot;:{&quot;_id&quot;:2}}\r\n{&quot;id&quot;:2,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:200000,&quot;inventory&quot;:1590000},{&quot;periodEndDate&quot;:&quot;2023-03-31&quot;,&quot;cash&quot;:210000,&quot;inventory&quot;:1430000}]}\r\n\r\nPOST test/_search\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;companies&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;id&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;nested&quot;: {\r\n          &quot;nested&quot;: {\r\n            &quot;path&quot;: &quot;financials&quot;\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;last_cash&quot;: {\r\n              &quot;top_hits&quot;: {\r\n                &quot;sort&quot;: [\r\n                  {\r\n                    &quot;financials.periodEndDate&quot;: {\r\n                      &quot;order&quot;: &quot;desc&quot;\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;_source&quot;: {\r\n                  &quot;includes&quot;: [\r\n                    &quot;financials.cash&quot;,\r\n                    &quot;financials.periodEndDate&quot;\r\n                  ]\r\n                },\r\n                &quot;size&quot;: 1\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;having.top_cash&quot;: {\r\n          &quot;bucket_selector&quot;: {\r\n            &quot;buckets_path&quot;: {\r\n              &quot;last_cash&quot;: &quot;nested&gt;last_cash[_source.cash]&quot;\r\n            },\r\n            &quot;script&quot;: &quot;params.last_cash &gt; 200000&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis method has several limitations including bad scalability, limited number of companies it can handle, and not supporting the second oldest report. It&#39;s also not the best solution if you will also need to sort the company by relevance or page through them.\r\n\r\nTo achieve all that functionality and to build a scalable solution I would suggest adding an additional processing during indexing time and indexing the latest report and the second to the latest report as dedicated fields in your main object instead of storing them as nested and trying to find the latest and the second latest during search time. So, basically your records should look like this:\r\n```\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;latest_finanicals&quot;: {\r\n            &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n            &quot;cash&quot;: 12000,\r\n            &quot;inventory&quot;: 19000\r\n        }\r\n    },\r\n    &quot;previous_finanicals&quot;: {\r\n            &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n            &quot;cash&quot;: 10000,\r\n            &quot;inventory&quot;: 24000\r\n        }\r\n    }\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n        &quot;cash&quot;: 10000,\r\n        &quot;inventory&quot;: 24000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 12000,\r\n        &quot;inventory&quot;: 19000\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nWith `latest_finanicals` and `previous_finanicals` having `object` type instead of `nested` type. Then all your queries will become very simple. ","title":"Elasticsearch - How to find out all the documents where a field value of a nested object is greater than X with the max date","body":"<p>If the number of companies is small enough that you don't need to page through them, you can do it using combination of <code>top_hits</code> and <code>bucket_selector</code> aggregations. Basically, the <code>top_hits</code> will find the latest report and <code>bucket_selector</code> will remove all companies that don't have enough cash.</p>\n<pre><code>PUT test\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;id&quot;: {\n        &quot;type&quot;: &quot;long&quot;\n      },\n      &quot;financials&quot;: {\n        &quot;type&quot;: &quot;nested&quot;,\n        &quot;properties&quot;: {\n          &quot;periodEndDate&quot;: {\n            &quot;type&quot;: &quot;date&quot;\n          },\n          &quot;cash&quot;: {\n            &quot;type&quot;:&quot;long&quot;\n          },\n          &quot;inventory&quot;: {\n            &quot;type&quot;: &quot;long&quot;\n          }\n        }\n      }\n    }\n  }\n}\n\nPOST test/_bulk?refresh\n{&quot;index&quot;:{&quot;_id&quot;:1}}\n{&quot;id&quot;:1,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-06-30&quot;,&quot;cash&quot;:10000,&quot;inventory&quot;:24000},{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:12000,&quot;inventory&quot;:19000}]}\n{&quot;index&quot;:{&quot;_id&quot;:2}}\n{&quot;id&quot;:2,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:200000,&quot;inventory&quot;:1590000},{&quot;periodEndDate&quot;:&quot;2023-03-31&quot;,&quot;cash&quot;:210000,&quot;inventory&quot;:1430000}]}\n\nPOST test/_search\n{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;companies&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;id&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;nested&quot;: {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;financials&quot;\n          },\n          &quot;aggs&quot;: {\n            &quot;last_cash&quot;: {\n              &quot;top_hits&quot;: {\n                &quot;sort&quot;: [\n                  {\n                    &quot;financials.periodEndDate&quot;: {\n                      &quot;order&quot;: &quot;desc&quot;\n                    }\n                  }\n                ],\n                &quot;_source&quot;: {\n                  &quot;includes&quot;: [\n                    &quot;financials.cash&quot;,\n                    &quot;financials.periodEndDate&quot;\n                  ]\n                },\n                &quot;size&quot;: 1\n              }\n            }\n          }\n        },\n        &quot;having.top_cash&quot;: {\n          &quot;bucket_selector&quot;: {\n            &quot;buckets_path&quot;: {\n              &quot;last_cash&quot;: &quot;nested&gt;last_cash[_source.cash]&quot;\n            },\n            &quot;script&quot;: &quot;params.last_cash &gt; 200000&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This method has several limitations including bad scalability, limited number of companies it can handle, and not supporting the second oldest report. It's also not the best solution if you will also need to sort the company by relevance or page through them.</p>\n<p>To achieve all that functionality and to build a scalable solution I would suggest adding an additional processing during indexing time and indexing the latest report and the second to the latest report as dedicated fields in your main object instead of storing them as nested and trying to find the latest and the second latest during search time. So, basically your records should look like this:</p>\n<pre><code>  {\n    &quot;id&quot;: 1,\n    &quot;latest_finanicals&quot;: {\n            &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n            &quot;cash&quot;: 12000,\n            &quot;inventory&quot;: 19000\n        }\n    },\n    &quot;previous_finanicals&quot;: {\n            &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n            &quot;cash&quot;: 10000,\n            &quot;inventory&quot;: 24000\n        }\n    }\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n        &quot;cash&quot;: 10000,\n        &quot;inventory&quot;: 24000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 12000,\n        &quot;inventory&quot;: 19000\n      }\n    ]\n  }\n</code></pre>\n<p>With <code>latest_finanicals</code> and <code>previous_finanicals</code> having <code>object</code> type instead of <code>nested</code> type. Then all your queries will become very simple.</p>\n"}],"owner":{"account_id":11983301,"reputation":3,"user_id":8768521,"display_name":"gron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357741,"answer_count":1,"score":0,"last_activity_date":1698222001,"creation_date":1698215314,"question_id":77357056,"body_markdown":"I have a few documents for a company model.  Each company has some financial reports.  They are designed as **nested** object of Elasticsearch.  For example:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n        &quot;cash&quot;: 10000,\r\n        &quot;inventory&quot;: 24000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 12000,\r\n        &quot;inventory&quot;: 19000\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 200000,\r\n        &quot;inventory&quot;: 1590000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2023-03-31&quot;,\r\n        &quot;cash&quot;: 210000,\r\n        &quot;inventory&quot;: 1430000\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nI want to find out all the companies that have **cash &gt; 200000** in the **most recent period end date** report.  The desired result is company 2 because the most recent report of it is the one with periodEndDate *2023-03-31*, and the cash of the report is *210000*.\r\n\r\nHow to write the query?\r\n\r\nIn addition, what is the query if I want to filter the reports with **second to the most recent date**?\r\n\r\n\r\nI found this post:\r\nhttps://stackoverflow.com/questions/33264651/elasticsearch-get-the-documents-where-the-value-of-a-field-is-x-and-the-max-da\r\nBut it requires &quot;negative&quot; filters, which does not work for me because the financial report nested object has too many fields.","title":"Elasticsearch - How to find out all the documents where a field value of a nested object is greater than X with the max date","body":"<p>I have a few documents for a company model.  Each company has some financial reports.  They are designed as <strong>nested</strong> object of Elasticsearch.  For example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n        &quot;cash&quot;: 10000,\n        &quot;inventory&quot;: 24000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 12000,\n        &quot;inventory&quot;: 19000\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 200000,\n        &quot;inventory&quot;: 1590000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2023-03-31&quot;,\n        &quot;cash&quot;: 210000,\n        &quot;inventory&quot;: 1430000\n      }\n    ]\n  }\n]\n</code></pre>\n<p>I want to find out all the companies that have <strong>cash &gt; 200000</strong> in the <strong>most recent period end date</strong> report.  The desired result is company 2 because the most recent report of it is the one with periodEndDate <em>2023-03-31</em>, and the cash of the report is <em>210000</em>.</p>\n<p>How to write the query?</p>\n<p>In addition, what is the query if I want to filter the reports with <strong>second to the most recent date</strong>?</p>\n<p>I found this post:\n<a href=\"https://stackoverflow.com/questions/33264651/elasticsearch-get-the-documents-where-the-value-of-a-field-is-x-and-the-max-da\">ElasticSearch - Get the documents where the value of a field is x and the max date of the type is lower then y date</a>\nBut it requires &quot;negative&quot; filters, which does not work for me because the financial report nested object has too many fields.</p>\n"},{"tags":["java","security","cas","apereo"],"comments":[{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":0,"creation_date":1689974644,"post_id":73971524,"comment_id":135293666,"body_markdown":"Maybe a bug in the early phase of CAS 7.0.0 development? Apparently, the possibility to throw the `AlgorithmParameterSpec not of GCMParameterSpec` exception was introduced in Java 17. Note that it might help to increase log level (of `org.apereo.cas.web.flow.executor.EncryptedTranscoder` in this case) to at least DEBUG - then CAS won&#39;t shorten the stacktrace as seen in the OP (and possibly outputs something more useful in the full stacktrace).","body":"Maybe a bug in the early phase of CAS 7.0.0 development? Apparently, the possibility to throw the <code>AlgorithmParameterSpec not of GCMParameterSpec</code> exception was introduced in Java 17. Note that it might help to increase log level (of <code>org.apereo.cas.web.flow.executor.EncryptedTranscoder</code> in this case) to at least DEBUG - then CAS won&#39;t shorten the stacktrace as seen in the OP (and possibly outputs something more useful in the full stacktrace)."}],"answers":[{"tags":[],"owner":{"account_id":16344209,"reputation":21,"user_id":12383724,"display_name":"Michael Shi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665533517,"creation_date":1665160742,"answer_id":73990188,"question_id":73971524,"body_markdown":"Switch to Apereo CAS version 6.6 and Java 11 will work.\r\n```shell\r\njava --version\r\nopenjdk 11.0.16.1 2022-08-12 LTS\r\nOpenJDK Runtime Environment (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS)\r\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS, mixed mode, sharing)\r\n\r\ngit checkout 6.6\r\n\r\n./gradlew clean build\r\n\r\n./gradlew createKeystore\r\n\r\n./gradlew run\r\n```","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>Switch to Apereo CAS version 6.6 and Java 11 will work.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --version\nopenjdk 11.0.16.1 2022-08-12 LTS\nOpenJDK Runtime Environment (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS)\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS, mixed mode, sharing)\n\ngit checkout 6.6\n\n./gradlew clean build\n\n./gradlew createKeystore\n\n./gradlew run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27277522,"reputation":1,"user_id":20797908,"display_name":"user20797908"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671244607,"creation_date":1671235548,"answer_id":74830901,"question_id":73971524,"body_markdown":"One workaround is to set `cas.webflow.crypto.enabled=false`, but doing so isn&#39;t ideal.","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>One workaround is to set <code>cas.webflow.crypto.enabled=false</code>, but doing so isn't ideal.</p>\n"},{"tags":[],"owner":{"account_id":24275285,"reputation":9,"user_id":18222674,"display_name":"ATFWUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062824,"creation_date":1689062824,"answer_id":76659861,"question_id":73971524,"body_markdown":"I have solved this problem perfectly.  The problem is that the jdk version actually used by your cas is not the same as the version viewed through `java --version`.  You only need to check whether the jdk version in the cas startup log is the same.","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>I have solved this problem perfectly.  The problem is that the jdk version actually used by your cas is not the same as the version viewed through <code>java --version</code>.  You only need to check whether the jdk version in the cas startup log is the same.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695291639,"post_id":77135689,"comment_id":136006250,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77135689/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21261644,"reputation":1,"user_id":15642347,"display_name":"ReZero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695135345,"creation_date":1695135345,"answer_id":77135689,"question_id":73971524,"body_markdown":"Don&#39;t use the Orcale jdk, I had the same problem as you with this. It works fine for me with Amazon Corretto-17.\r\n[My Environment Configuration][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2iqdD.png","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>Don't use the Orcale jdk, I had the same problem as you with this. It works fine for me with Amazon Corretto-17.\n<a href=\"https://i.stack.imgur.com/2iqdD.png\" rel=\"nofollow noreferrer\">My Environment Configuration</a></p>\n"},{"tags":[],"owner":{"account_id":1083227,"reputation":178,"user_id":1079614,"display_name":"irbian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698221559,"creation_date":1698221559,"answer_id":77357690,"question_id":73971524,"body_markdown":"It&#39;s a bug. After some debugging I arrived to this\r\n\r\n```cas.webflow.crypto.encryption.keySize=32```\r\n\r\nBut I don&#39;t know enough to submit a pull request\r\n","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>It's a bug. After some debugging I arrived to this</p>\n<p><code>cas.webflow.crypto.encryption.keySize=32</code></p>\n<p>But I don't know enough to submit a pull request</p>\n"}],"owner":{"account_id":16344209,"reputation":21,"user_id":12383724,"display_name":"Michael Shi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1698221559,"creation_date":1665048545,"question_id":73971524,"body_markdown":"I follow the step in the link(https://github.com/apereo/cas-overlay-template) to deploy Apereo CAS. \r\n\r\nTest Environment:\r\n\r\nCAS Version: 7.0.0-SNAPSHOT\r\n\r\nCAS Branch: master\r\n\r\nCAS Build Date/Time: 2022-10-05T13:10:26Z\r\n\r\nSpring Boot Version: 2.7.4\r\n\r\nSpring Version: 5.3.23\r\n\r\nJava Version: 17.0.4.1\r\n\r\nOS Architecture: amd64\r\n\r\nOS Name: Linux\r\n\r\nOS Version: 3.10.0-1160.62.1.el7.x86_64\r\n\r\nOS Date/Time: 2022-10-06T08:58:17.575986031\r\n\r\nOS Temp Directory: /tmp\r\n\r\nApache Tomcat Version: Apache Tomcat/9.0.67\r\n\r\n\r\nAfter run the following commands, I can access the CAS main page (https://xxx.xxx.xxx.xxx:8443/cas/login).\r\n\r\n```\r\n./gradlew clean build\r\n\r\n./gradlew createKeystore\r\n\r\n./gradlew run\r\n```\r\n\r\nBut I got the error &quot;CAS is unable to process this request: &quot;500:Internal Server Error&quot;.\r\nIn the terminal in which I start the CAS, error message as following:\r\n\r\nERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - java.security.InvalidAlgorithmParameterException: **AlgorithmParameterSpec not of GCMParameterSpec**\r\n\r\nUnchecked.java:lambda$static$0:61\r\n\r\nUnchecked.java:lambda$supplier$38:1698\r\n\r\nFunctionUtils.java:doUnchecked:370\r\n\r\nI can&#39;t find a proper solution by searching, so please help. \r\nthanks.\r\n","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>I follow the step in the link(<a href=\"https://github.com/apereo/cas-overlay-template\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas-overlay-template</a>) to deploy Apereo CAS.</p>\n<p>Test Environment:</p>\n<p>CAS Version: 7.0.0-SNAPSHOT</p>\n<p>CAS Branch: master</p>\n<p>CAS Build Date/Time: 2022-10-05T13:10:26Z</p>\n<p>Spring Boot Version: 2.7.4</p>\n<p>Spring Version: 5.3.23</p>\n<p>Java Version: 17.0.4.1</p>\n<p>OS Architecture: amd64</p>\n<p>OS Name: Linux</p>\n<p>OS Version: 3.10.0-1160.62.1.el7.x86_64</p>\n<p>OS Date/Time: 2022-10-06T08:58:17.575986031</p>\n<p>OS Temp Directory: /tmp</p>\n<p>Apache Tomcat Version: Apache Tomcat/9.0.67</p>\n<p>After run the following commands, I can access the CAS main page (<a href=\"https://xxx.xxx.xxx.xxx:8443/cas/login\" rel=\"nofollow noreferrer\">https://xxx.xxx.xxx.xxx:8443/cas/login</a>).</p>\n<pre><code>./gradlew clean build\n\n./gradlew createKeystore\n\n./gradlew run\n</code></pre>\n<p>But I got the error &quot;CAS is unable to process this request: &quot;500:Internal Server Error&quot;.\nIn the terminal in which I start the CAS, error message as following:</p>\n<p>ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - java.security.InvalidAlgorithmParameterException: <strong>AlgorithmParameterSpec not of GCMParameterSpec</strong></p>\n<p>Unchecked.java:lambda$static$0:61</p>\n<p>Unchecked.java:lambda$supplier$38:1698</p>\n<p>FunctionUtils.java:doUnchecked:370</p>\n<p>I can't find a proper solution by searching, so please help.\nthanks.</p>\n"},{"tags":["java","oop","database-design","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698220842,"creation_date":1698220842,"answer_id":77357619,"question_id":77352513,"body_markdown":"I would say your data models are a good approach, but the idea of fetching players at a specific point in time by using service or eager load is not.\r\nWe go to each of your concerns.\r\n1. SQL query to fetch players at a specific point in time.\r\n\r\n```\r\nselect *\r\nfrom player_number pn\r\njoin player p on pn.player_id = p.id\r\nwhere pn.start_date &lt; :date\r\nand (pn.end_date &gt; :date or pn.end_date is null) // Suspect null is present\r\n```\r\n2. Using `spring-data-jpa`\r\nThere are several ways to implement this, refer to this [doc](https://www.baeldung.com/spring-data-jpa-query) example\r\n```\r\npublic interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\r\n\r\n    @Query(&quot;SELECT p FROM PlayNumber p WHERE p.startTime &lt;= ?1 and (p.endTime &gt;= ?1 or p.endTime is null)&quot;)\r\n    List&lt;FuelPrice&gt; findInSpecificPointInTime(LocalDate pointInTime);\r\n}\r\n```\r\n3. You want to have results with multiple joins, you can use\r\n`Proxy projection` aka custom dto and also can apply pagination. Example\r\n```\r\npublic interface PlayerDto {\r\n    Long getId();\r\n    int getNumber();\r\n    // All getters properties\r\n}\r\n```\r\nAnd apply it to repository\r\n```\r\npublic interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\r\n\r\n    @Query(nativeQuery = true,\r\nvalue=&quot;select p.id as id, pn.number as number\r\nfrom player_number pn\r\njoin player p on pn.player_id = p.id\r\nwhere pn.start_date &lt; :date\r\nand (pn.end_date &gt; :date or pn.end_date is null)&quot;)\r\n    List&lt;PlayerDto&gt; findInSpecificPointInTime(LocalDate pointInTime);\r\n}\r\n```\r\nThis is [example](https://vladmihalcea.com/spring-jpa-dto-projection/), I hope it helps.","title":"Model a Sports Player and query it with spring data JPA","body":"<p>I would say your data models are a good approach, but the idea of fetching players at a specific point in time by using service or eager load is not.\nWe go to each of your concerns.</p>\n<ol>\n<li>SQL query to fetch players at a specific point in time.</li>\n</ol>\n<pre><code>select *\nfrom player_number pn\njoin player p on pn.player_id = p.id\nwhere pn.start_date &lt; :date\nand (pn.end_date &gt; :date or pn.end_date is null) // Suspect null is present\n</code></pre>\n<ol start=\"2\">\n<li>Using <code>spring-data-jpa</code>\nThere are several ways to implement this, refer to this <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">doc</a> example</li>\n</ol>\n<pre><code>public interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\n\n    @Query(&quot;SELECT p FROM PlayNumber p WHERE p.startTime &lt;= ?1 and (p.endTime &gt;= ?1 or p.endTime is null)&quot;)\n    List&lt;FuelPrice&gt; findInSpecificPointInTime(LocalDate pointInTime);\n}\n</code></pre>\n<ol start=\"3\">\n<li>You want to have results with multiple joins, you can use\n<code>Proxy projection</code> aka custom dto and also can apply pagination. Example</li>\n</ol>\n<pre><code>public interface PlayerDto {\n    Long getId();\n    int getNumber();\n    // All getters properties\n}\n</code></pre>\n<p>And apply it to repository</p>\n<pre><code>public interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\n\n    @Query(nativeQuery = true,\nvalue=&quot;select p.id as id, pn.number as number\nfrom player_number pn\njoin player p on pn.player_id = p.id\nwhere pn.start_date &lt; :date\nand (pn.end_date &gt; :date or pn.end_date is null)&quot;)\n    List&lt;PlayerDto&gt; findInSpecificPointInTime(LocalDate pointInTime);\n}\n</code></pre>\n<p>This is <a href=\"https://vladmihalcea.com/spring-jpa-dto-projection/\" rel=\"nofollow noreferrer\">example</a>, I hope it helps.</p>\n"}],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698220842,"creation_date":1698154208,"question_id":77352513,"body_markdown":"I have a data **model** in Spring Boot with Spring Data JPA called **Player**. This represents a person in sports and this player has a property called jerseyNumber (a number) and position (where he plays, center, defense etc..). These properties have different values as his career progresses. One season he plays as number 8 and other as number 7.\r\n\r\n```\r\nPlayer name 1\r\njerseyNumber 8 - Position center - 01.01.2020-31.12.2020\r\njerseyNumber 7 - Position attacker - 01.01.2021-Present\r\n```\r\n**How do i set-up spring data JPA to handle a query where i want to know the exact state at a specific date? Lets say i want to know the details of the model on 01.06.2020.**\r\n\r\nI am using _Postgres_.\r\n\r\nHere is what I was thinking would be an option.  \r\nI&#39;m ommiting the service code that pulls the player from a repository and calculates the current state. Basically going through each of the fields and determines the current state based on a provided timestamp and returns a separate DTO model from it. Is this a good approach?  \r\nI&#39;m a bit concerned that these are join queries which I would mostly need to do eagerly. I&#39;m considering maybe storing this data in a _JSONB_ column within the player table. My API needs to serve potentially a hundred players in a single response. This example is a bit simplified as this pattern exists around different entities in the application as well (querying which teams had which players at a specific point in time etc..)\r\n\r\n\r\n```\r\n@Entity\r\npublic class Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;player&quot;)\r\n    private List&lt;PlayerNumber&gt; playerNumbers = new ArrayList&lt;&gt;();\r\n\r\n    // Getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class PlayerNumber {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private int number;\r\n    private LocalDate startDate;\r\n    private LocalDate endDate;\r\n\r\n    @ManyToOne\r\n    private Player player;\r\n\r\n    // Getters and setters\r\n}\r\n```","title":"Model a Sports Player and query it with spring data JPA","body":"<p>I have a data <strong>model</strong> in Spring Boot with Spring Data JPA called <strong>Player</strong>. This represents a person in sports and this player has a property called jerseyNumber (a number) and position (where he plays, center, defense etc..). These properties have different values as his career progresses. One season he plays as number 8 and other as number 7.</p>\n<pre><code>Player name 1\njerseyNumber 8 - Position center - 01.01.2020-31.12.2020\njerseyNumber 7 - Position attacker - 01.01.2021-Present\n</code></pre>\n<p><strong>How do i set-up spring data JPA to handle a query where i want to know the exact state at a specific date? Lets say i want to know the details of the model on 01.06.2020.</strong></p>\n<p>I am using <em>Postgres</em>.</p>\n<p>Here is what I was thinking would be an option.<br />\nI'm ommiting the service code that pulls the player from a repository and calculates the current state. Basically going through each of the fields and determines the current state based on a provided timestamp and returns a separate DTO model from it. Is this a good approach?<br />\nI'm a bit concerned that these are join queries which I would mostly need to do eagerly. I'm considering maybe storing this data in a <em>JSONB</em> column within the player table. My API needs to serve potentially a hundred players in a single response. This example is a bit simplified as this pattern exists around different entities in the application as well (querying which teams had which players at a specific point in time etc..)</p>\n<pre><code>@Entity\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;player&quot;)\n    private List&lt;PlayerNumber&gt; playerNumbers = new ArrayList&lt;&gt;();\n\n    // Getters and setters\n}\n</code></pre>\n<pre><code>@Entity\npublic class PlayerNumber {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private int number;\n    private LocalDate startDate;\n    private LocalDate endDate;\n\n    @ManyToOne\n    private Player player;\n\n    // Getters and setters\n}\n</code></pre>\n"},{"tags":["java","compilation","native-code"],"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":8,"creation_date":1275933225,"post_id":2991799,"comment_id":3054638,"body_markdown":"If your interest is speed, don&#39;t bother unless you&#39;re looking at a platform that HotSpot (Sun&#39;s JVM) doesn&#39;t support. HotSpot compiles bytecode to native code on the fly wherever a &quot;hotspot&quot; of execution path (something that gets run a lot) shows up, and it&#39;s very good at it. But if you&#39;re looking to avoid requiring a JVM, yes, look at the gcj James pointed you to.","body":"If your interest is speed, don&#39;t bother unless you&#39;re looking at a platform that HotSpot (Sun&#39;s JVM) doesn&#39;t support. HotSpot compiles bytecode to native code on the fly wherever a &quot;hotspot&quot; of execution path (something that gets run a lot) shows up, and it&#39;s very good at it. But if you&#39;re looking to avoid requiring a JVM, yes, look at the gcj James pointed you to."},{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":3,"creation_date":1275972811,"post_id":2991799,"comment_id":3058393,"body_markdown":"Yet another reason is protection against Java decompilers. As for HotSpot vs native compiler (vs JRockit vs IBM vs GCC vs Visual C++ vs hand-writing-CPU-instructions-in-hex) performance, it depends on the application, so YMMV.","body":"Yet another reason is protection against Java decompilers. As for HotSpot vs native compiler (vs JRockit vs IBM vs GCC vs Visual C++ vs hand-writing-CPU-instructions-in-hex) performance, it depends on the application, so YMMV."},{"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"score":1,"creation_date":1398010492,"post_id":2991799,"comment_id":35459154,"body_markdown":"I found one interesting development by Oracle for there Oracle database called JServer Accelerator.  It was also designed to be platform Dependent in some way by compiling not to bytecodes but to C code.   http://docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm","body":"I found one interesting development by Oracle for there Oracle database called JServer Accelerator.  It was also designed to be platform Dependent in some way by compiling not to bytecodes but to C code.   <a href=\"http://docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm</a>"},{"owner":{"account_id":217041,"reputation":6848,"user_id":472647,"accept_rate":97,"display_name":"CodeMouse92"},"score":0,"creation_date":1460759535,"post_id":2991799,"comment_id":60908599,"body_markdown":"@Igal: Reminder, the &quot;moderators&quot; are almost entirely 3000+ rep users. The close flags don&#39;t always reflect the close reason perfectly, but I can see why it was closed. This looks to be right on the border of &quot;not a question&quot; because of its length and wording, although I agree it&#39;s *just* on the right side of that border.","body":"@Igal: Reminder, the &quot;moderators&quot; are almost entirely 3000+ rep users. The close flags don&#39;t always reflect the close reason perfectly, but I can see why it was closed. This looks to be right on the border of &quot;not a question&quot; because of its length and wording, although I agree it&#39;s <i>just</i> on the right side of that border."}],"answers":[{"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1275933092,"post_id":2991834,"comment_id":3054613,"body_markdown":"Yeah, gcj is the most well-known one. @isola009: Keep in mind that when compiling to native code, you will probably be working with a subset (possibly a dramatically small subset) of the *libraries* that Java normally has by default. Gnu&#39;s is pretty good, by all accounts, but well behind the current JDK.","body":"Yeah, gcj is the most well-known one. @isola009: Keep in mind that when compiling to native code, you will probably be working with a subset (possibly a dramatically small subset) of the <i>libraries</i> that Java normally has by default. Gnu&#39;s is pretty good, by all accounts, but well behind the current JDK."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1275966565,"post_id":2991834,"comment_id":3058083,"body_markdown":"It is well behind *all* JDKS starting with 1.2. I&#39;ve encountered many support problems with people accidentally running GNU classpath instead of Java, and they were all without exception cured by uninstalling it and using a Sun JDK.","body":"It is well behind <i>all</i> JDKS starting with 1.2. I&#39;ve encountered many support problems with people accidentally running GNU classpath instead of Java, and they were all without exception cured by uninstalling it and using a Sun JDK."},{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":0,"creation_date":1275972614,"post_id":2991834,"comment_id":3058382,"body_markdown":"Excelsior JET includes a licensed implementation of the Java SE 6 standard library and has passed the official compliance tests (JCK). It is at the 6u18 level now, the next version is expected to support 6u20.","body":"Excelsior JET includes a licensed implementation of the Java SE 6 standard library and has passed the official compliance tests (JCK). It is at the 6u18 level now, the next version is expected to support 6u20."}],"tags":[],"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"comment_count":3,"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1480957807,"creation_date":1275932711,"answer_id":2991834,"question_id":2991799,"body_markdown":"There used to be a tool called GCJ that was part of GCC, but it&#39;s [been removed][1]. Now, all the links in the GCC site re-direct to their non-GCJ equivalents.\r\n\r\n*NB: the comments all refered to my original answer saying you can compile Java to native code with GCJ.*\r\n\r\n  [1]: http://tromey.com/blog/?p=911","title":"Can I compile Java to native code?","body":"<p>There used to be a tool called GCJ that was part of GCC, but it's <a href=\"http://tromey.com/blog/?p=911\" rel=\"noreferrer\">been removed</a>. Now, all the links in the GCC site re-direct to their non-GCJ equivalents.</p>\n\n<p><em>NB: the comments all refered to my original answer saying you can compile Java to native code with GCJ.</em></p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":22,"creation_date":1275945582,"post_id":2992288,"comment_id":3056524,"body_markdown":"Yes, you are correct that the JIT does it and does it very well.  It does not make a stand-alone executable, but then the OP wasn&#39;t asking about that....","body":"Yes, you are correct that the JIT does it and does it very well.  It does not make a stand-alone executable, but then the OP wasn&#39;t asking about that...."},{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":2,"creation_date":1423927581,"post_id":2992288,"comment_id":45351383,"body_markdown":"You seem to suggest that only JIT&#39;s can do platform-specific optimization. I think it is possible whenever you are shipping bytecode. The ART compiles bytecode to native code upon installation, and it is not a JIT. Peter, do you have any comments on this?","body":"You seem to suggest that only JIT&#39;s can do platform-specific optimization. I think it is possible whenever you are shipping bytecode. The ART compiles bytecode to native code upon installation, and it is not a JIT. Peter, do you have any comments on this?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1424109374,"post_id":2992288,"comment_id":45407891,"body_markdown":"@JanusTroelsen Do you have a link to this compiler?  Is it widely used? Was it added in the last 5 years?  Without the JIT you can&#39;t do dynamic compilation which is likely to be more important.","body":"@JanusTroelsen Do you have a link to this compiler?  Is it widely used? Was it added in the last 5 years?  Without the JIT you can&#39;t do dynamic compilation which is likely to be more important."},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1462043786,"post_id":2992288,"comment_id":61475822,"body_markdown":"I think he&#39;s referring to AOT compilation with the ART.","body":"I think he&#39;s referring to AOT compilation with the ART."},{"owner":{"account_id":383269,"reputation":1288,"user_id":739009,"accept_rate":80,"display_name":"StormByte"},"score":2,"creation_date":1492697638,"post_id":2992288,"comment_id":74097421,"body_markdown":"OP mentions, standalone, which just excudes any kind of JIT: While JIT produces native code on the fly, it is never standalone.","body":"OP mentions, standalone, which just excudes any kind of JIT: While JIT produces native code on the fly, it is never standalone."},{"owner":{"account_id":4286527,"reputation":595,"user_id":7216401,"display_name":"Kurt Fitzner"},"score":0,"creation_date":1515424632,"post_id":2992288,"comment_id":83284902,"body_markdown":"Negative.  Minus one for inaccurate.  JIT is not compiled.  JIT is not native.  JIT is a marketing term for various caching optimizations that make interpreting bytecode a little more efficient.  It is still interpreted.  And, the OP was asking about running without the JVM.","body":"Negative.  Minus one for inaccurate.  JIT is not compiled.  JIT is not native.  JIT is a marketing term for various caching optimizations that make interpreting bytecode a little more efficient.  It is still interpreted.  And, the OP was asking about running without the JVM."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1515424925,"post_id":2992288,"comment_id":83285056,"body_markdown":"@KurtFitzner I think you have a very different idea of what the JIT Compiler does, it does compile to native code where the interpretation is not involved.","body":"@KurtFitzner I think you have a very different idea of what the JIT Compiler does, it does compile to native code where the interpretation is not involved."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1515425227,"post_id":2992288,"comment_id":83285246,"body_markdown":"@KurtFitzner The tool JITWatch can show you the steps the code goes through to native code https://camo.githubusercontent.com/432e2e9e742686128b2526084c9749faad1dcf4c/687474703a2f2f7777772e63687269736e65776c616e642e636f6d2f696d616765732f6a697477617463682f747269766965772e706e673f63623d30","body":"@KurtFitzner The tool JITWatch can show you the steps the code goes through to native code <a href=\"https://camo.githubusercontent.com/432e2e9e742686128b2526084c9749faad1dcf4c/687474703a2f2f7777772e63687269736e65776c616e642e636f6d2f696d616765732f6a697477617463682f747269766965772e706e673f63623d30\" rel=\"nofollow noreferrer\">camo.githubusercontent.com/&hellip;</a>"},{"owner":{"account_id":22033,"reputation":1989,"user_id":54013,"display_name":"Johan Boul&#233;"},"score":3,"creation_date":1559168702,"post_id":2992288,"comment_id":99341142,"body_markdown":"I don&#39;t believe a JIT compiler can afford as much deep optimisations as native AOT compilers/linkers do: compiling and linking with full optimisation *should* put any computer on its knees; if not, then the compiler is not doing the best effort to optimise.","body":"I don&#39;t believe a JIT compiler can afford as much deep optimisations as native AOT compilers/linkers do: compiling and linking with full optimisation <i>should</i> put any computer on its knees; if not, then the compiler is not doing the best effort to optimise."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1559541796,"post_id":2992288,"comment_id":99438629,"body_markdown":"@JohanBoul&#233; I don&#39;t know of a compiler which can fully use all the cores on a server. There is some parallelism, possible but AFAIK the Oracle/OpenJDK is single threaded.","body":"@JohanBoul&#233; I don&#39;t know of a compiler which can fully use all the cores on a server. There is some parallelism, possible but AFAIK the Oracle/OpenJDK is single threaded."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":10,"down_vote_count":9,"up_vote_count":18,"is_accepted":false,"score":9,"last_activity_date":1515425008,"creation_date":1275937315,"answer_id":2992288,"question_id":2991799,"body_markdown":"Yes, the JIT in the JVM does exactly that for you.  \r\n\r\nIn fact it can produce faster code than compiling the code in advance as it can generate code optimised for the specific platform based on how the code is used at runtime.\r\n\r\nThe JVM is always involved even if a very high percentage is compiled to native code as you could load and run byte code dynamically.","title":"Can I compile Java to native code?","body":"<p>Yes, the JIT in the JVM does exactly that for you.  </p>\n\n<p>In fact it can produce faster code than compiling the code in advance as it can generate code optimised for the specific platform based on how the code is used at runtime.</p>\n\n<p>The JVM is always involved even if a very high percentage is compiled to native code as you could load and run byte code dynamically.</p>\n"},{"comments":[{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":3,"creation_date":1275973060,"post_id":2992968,"comment_id":3058405,"body_markdown":"Just in case, there are free licenses for non-commercial projects.","body":"Just in case, there are free licenses for non-commercial projects."},{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":1,"creation_date":1423927473,"post_id":2992968,"comment_id":45351353,"body_markdown":"how does it compare to RoboVM?","body":"how does it compare to RoboVM?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1579354032,"post_id":2992968,"comment_id":105742653,"body_markdown":"On May 15, 2019, Excelsior JET was discontinued. See: https://en.wikipedia.org/wiki/Excelsior_JET","body":"On May 15, 2019, Excelsior JET was discontinued. See: <a href=\"https://en.wikipedia.org/wiki/Excelsior_JET\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Excelsior_JET</a>"}],"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1579520318,"creation_date":1275943080,"answer_id":2992968,"question_id":2991799,"body_markdown":"[Excelsior JET][1] is a commercial Java to native code compiler. However, it was discontinued in May 2019.\r\n\r\n\r\n  [1]: http://www.excelsior-usa.com/jet.html","title":"Can I compile Java to native code?","body":"<p><a href=\"http://www.excelsior-usa.com/jet.html\" rel=\"nofollow noreferrer\">Excelsior JET</a> is a commercial Java to native code compiler. However, it was discontinued in May 2019.</p>\n"},{"comments":[{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1595536423,"post_id":50555050,"comment_id":111517791,"body_markdown":"Sadly, even this project isn&#39;t stable for production and using the Swing API is still unsupported/buggy: https://github.com/oracle/graal/issues/1327","body":"Sadly, even this project isn&#39;t stable for production and using the Swing API is still unsupported/buggy: <a href=\"https://github.com/oracle/graal/issues/1327\" rel=\"nofollow noreferrer\">github.com/oracle/graal/issues/1327</a>"},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1595576044,"post_id":50555050,"comment_id":111528268,"body_markdown":"&quot;GraalVM 19.0 release: GraalVM is finally mature and ready for production use. Of course there will be bugs and some not-yet-complete functionality. But twitter uses it for their production systems, so I don&#39;t agree with your first claim.","body":"&quot;GraalVM 19.0 release: GraalVM is finally mature and ready for production use. Of course there will be bugs and some not-yet-complete functionality. But twitter uses it for their production systems, so I don&#39;t agree with your first claim."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1595583170,"post_id":50555050,"comment_id":111531635,"body_markdown":"My personal experience is that on `Windows` only toy programs work but anything more advanced and/or when using a `GUI` isn&#39;t quite there yet. `Twitter` probably uses `Linux` without any `GUI` but they probably use the commercial version as well while I only tried the community one. It may work for some use cases but Java `Windows` desktop applications aren&#39;t one of them which still makes the project slightly disappointing. `Excelsior JET` could do this reliably but it is discontinued now.","body":"My personal experience is that on <code>Windows</code> only toy programs work but anything more advanced and/or when using a <code>GUI</code> isn&#39;t quite there yet. <code>Twitter</code> probably uses <code>Linux</code> without any <code>GUI</code> but they probably use the commercial version as well while I only tried the community one. It may work for some use cases but Java <code>Windows</code> desktop applications aren&#39;t one of them which still makes the project slightly disappointing. <code>Excelsior JET</code> could do this reliably but it is discontinued now."},{"owner":{"account_id":490196,"reputation":312,"user_id":1225672,"accept_rate":25,"display_name":"aldo"},"score":0,"creation_date":1698183840,"post_id":50555050,"comment_id":136372533,"body_markdown":"it still need the .jar file","body":"it still need the .jar file"}],"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":4,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1698220499,"creation_date":1527444370,"answer_id":50555050,"question_id":2991799,"body_markdown":"Yes!\r\n--\r\nOracle has been working on the GraalVm, which supports Native Images. Check here:  https://www.graalvm.org/\r\n\r\n&gt; *Native Image*\r\n&gt; The native image feature with the GraalVM SDK helps improve the startup time of Java applications and gives them a smaller footprint. Effectively, it&#39;s converting bytecode that runs on the JVM (on any platform) to native code for a specific OS/platform  which is where the performance comes from. It&#39;s using aggressive ahead-of-time (AOT) optimizations to achieve good performance.\r\n\r\nSee more:\r\n\r\n * Summary  \r\n   https://www.graalvm.org/docs/getting-started/#native-images\r\n\r\n * Demos: Native images for faster startup  \r\n   https://www.graalvm.org/docs/examples/native-list-dir/\r\n\r\n * Detailed: &#39;Ahead-of-time Compilation&#39;  \r\n   https://www.graalvm.org/docs/reference-manual/aot-compilation/ \r\n\r\nThe Micronaut platform uses GraalVM to make native microservices:\r\n\r\n - https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html\r\n\r\n\r\nSimple example\r\n--\r\n\r\n     public class HelloWorld {\r\n         public static void main(String[] args) {\r\n             System.out.println(&quot;Hello, Native World!&quot;);\r\n         }\r\n     }\r\n\r\nCompiling java:\r\n\r\n     javac HelloWorld.java\r\n\r\nCompiling to native:\r\n\r\n     native-image HelloWorld\r\n\r\nRunning (only the executable is needed):\r\n\r\n     ./HelloWorld \r\n\r\nOutput\r\n    \r\n     Hello, Native World!\r\n","title":"Can I compile Java to native code?","body":"<h2>Yes!</h2>\n<p>Oracle has been working on the GraalVm, which supports Native Images. Check here:  <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/</a></p>\n<blockquote>\n<p><em>Native Image</em>\nThe native image feature with the GraalVM SDK helps improve the startup time of Java applications and gives them a smaller footprint. Effectively, it's converting bytecode that runs on the JVM (on any platform) to native code for a specific OS/platform  which is where the performance comes from. It's using aggressive ahead-of-time (AOT) optimizations to achieve good performance.</p>\n</blockquote>\n<p>See more:</p>\n<ul>\n<li><p>Summary<br />\n<a href=\"https://www.graalvm.org/docs/getting-started/#native-images\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/getting-started/#native-images</a></p>\n</li>\n<li><p>Demos: Native images for faster startup<br />\n<a href=\"https://www.graalvm.org/docs/examples/native-list-dir/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/examples/native-list-dir/</a></p>\n</li>\n<li><p>Detailed: 'Ahead-of-time Compilation'<br />\n<a href=\"https://www.graalvm.org/docs/reference-manual/aot-compilation/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/reference-manual/aot-compilation/</a></p>\n</li>\n</ul>\n<p>The Micronaut platform uses GraalVM to make native microservices:</p>\n<ul>\n<li><a href=\"https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html</a></li>\n</ul>\n<h2>Simple example</h2>\n<pre><code> public class HelloWorld {\n     public static void main(String[] args) {\n         System.out.println(&quot;Hello, Native World!&quot;);\n     }\n }\n</code></pre>\n<p>Compiling java:</p>\n<pre><code> javac HelloWorld.java\n</code></pre>\n<p>Compiling to native:</p>\n<pre><code> native-image HelloWorld\n</code></pre>\n<p>Running (only the executable is needed):</p>\n<pre><code> ./HelloWorld \n</code></pre>\n<p>Output</p>\n<pre><code> Hello, Native World!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595583600,"creation_date":1595583600,"answer_id":63070961,"question_id":2991799,"body_markdown":"Another possibility would be [`RoboVM`][1].\r\nHowever, it only seems to work on `Linux`, `iOS` and `Mac OS X`.\r\n\r\nAs of today, the project still seems somewhat alive contrary to some posts online [claiming the project to be dead][2].\r\n\r\n  [1]: https://github.com/MobiVM/robovm\r\n  [2]: https://www.gamefromscratch.com/post/2016/04/15/RoboVM-is-Dead.aspx","title":"Can I compile Java to native code?","body":"<p>Another possibility would be <a href=\"https://github.com/MobiVM/robovm\" rel=\"nofollow noreferrer\"><code>RoboVM</code></a>.\nHowever, it only seems to work on <code>Linux</code>, <code>iOS</code> and <code>Mac OS X</code>.</p>\n<p>As of today, the project still seems somewhat alive contrary to some posts online <a href=\"https://www.gamefromscratch.com/post/2016/04/15/RoboVM-is-Dead.aspx\" rel=\"nofollow noreferrer\">claiming the project to be dead</a>.</p>\n"}],"owner":{"account_id":145134,"reputation":3028,"user_id":354721,"accept_rate":47,"display_name":"barroco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65841,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"answer_count":5,"score":97,"last_activity_date":1698220499,"creation_date":1275932485,"question_id":2991799,"body_markdown":"Is there any way to compile from Java to standalone (or library) machine code without requiring a JVM?","title":"Can I compile Java to native code?","body":"<p>Is there any way to compile from Java to standalone (or library) machine code without requiring a JVM?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698202945,"creation_date":1698202945,"answer_id":77356388,"question_id":77355926,"body_markdown":"Assuming you are using a relatively recent version of Spring Boot and MySQL you may want to try using the following dialect to see if this helps:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n\r\norg.hibernate.dialect.MySQL8InnoDBDialect has been deprecated for a while. \r\n\r\nIf the above doesn&#39;t work can you give us a little more context as to what versions of Spring Boot and MySQL you are using? Are you getting any errors or anything in the logs when the application starts up?\r\n\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>Assuming you are using a relatively recent version of Spring Boot and MySQL you may want to try using the following dialect to see if this helps:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>org.hibernate.dialect.MySQL8InnoDBDialect has been deprecated for a while.</p>\n<p>If the above doesn't work can you give us a little more context as to what versions of Spring Boot and MySQL you are using? Are you getting any errors or anything in the logs when the application starts up?</p>\n"},{"tags":[],"owner":{"account_id":11250085,"reputation":401,"user_id":8251447,"display_name":"Akjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698220422,"creation_date":1698219860,"answer_id":77357503,"question_id":77355926,"body_markdown":"I would suggest double check your schema name and the entity you defined. \r\nYou can define the Table annotation of your entity like this to make sure it match with the correct schema in your database.\r\n\r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {....}\r\n\r\n**If above doesn&#39;t solve your problem**. You could try another approach to make sure your application and database is connected and able to look up the correct schema for data. \r\n\r\n1. Create a corresponding repository interface by extending the JpaRepository interface provided by Spring Data JPA:\r\n\r\n&gt;     public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\r\n\r\n2. **Create a REST controller class to define your CRUD operations. You can use annotations like @RestController, @GetMapping, @PutMapping, and etc. For example:**\r\n\r\n&gt;     @RestController\r\n&gt;     @RequestMapping(&quot;/employees&quot;)\r\n&gt;     public class EmployeeController{\r\n&gt; \r\n&gt;     @Autowired\r\n&gt;     private EmployeeRepository employeeRepository;\r\n&gt;    \r\n&gt; \r\n&gt;     @GetMapping(&quot;/{id}&quot;)\r\n&gt;     public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\r\n&gt;         Optional&lt;Employee&gt; employee= employeeRepository.findById(id);\r\n&gt;         return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt;     @PutMapping(&quot;/{id}&quot;)\r\n&gt;     public ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee updatedEmployee) {\r\n&gt;         if (!employeeRepository.existsById(id)) {\r\n&gt;             return ResponseEntity.notFound().build();\r\n&gt;         }\r\n&gt;         updatedEmployee.setId(id);\r\n&gt;         Employee savedEmployee = employeeRepository.save(updatedEmployee);\r\n&gt;         return ResponseEntity.ok(savedEmployee);\r\n&gt;     }\r\n&gt;     }\r\n\r\nBuild and run your Spring Boot application.\r\nUse a tool like Postman or a web browser to test your CRUD operations controller.\r\nIf things still not coming up for you, try to debug the application log for clue to troubleshoot. HTH.\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>I would suggest double check your schema name and the entity you defined.\nYou can define the Table annotation of your entity like this to make sure it match with the correct schema in your database.</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {....}\n</code></pre>\n<p><strong>If above doesn't solve your problem</strong>. You could try another approach to make sure your application and database is connected and able to look up the correct schema for data.</p>\n<ol>\n<li>Create a corresponding repository interface by extending the JpaRepository interface provided by Spring Data JPA:</li>\n</ol>\n<blockquote>\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li><strong>Create a REST controller class to define your CRUD operations. You can use annotations like @RestController, @GetMapping, @PutMapping, and etc. For example:</strong></li>\n</ol>\n<blockquote>\n<pre><code>@RestController\n@RequestMapping(&quot;/employees&quot;)\npublic class EmployeeController{\n\n@Autowired\nprivate EmployeeRepository employeeRepository;\n\n\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\n    Optional&lt;Employee&gt; employee= employeeRepository.findById(id);\n    return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\n}\n\n\n@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee updatedEmployee) {\n    if (!employeeRepository.existsById(id)) {\n        return ResponseEntity.notFound().build();\n    }\n    updatedEmployee.setId(id);\n    Employee savedEmployee = employeeRepository.save(updatedEmployee);\n    return ResponseEntity.ok(savedEmployee);\n}\n}\n</code></pre>\n</blockquote>\n<p>Build and run your Spring Boot application.\nUse a tool like Postman or a web browser to test your CRUD operations controller.\nIf things still not coming up for you, try to debug the application log for clue to troubleshoot. HTH.</p>\n"}],"owner":{"account_id":29738781,"reputation":21,"user_id":22791571,"display_name":"Alejandro Gutierrez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698220422,"creation_date":1698191576,"question_id":77355926,"body_markdown":"I&#39;ve tried to create a crud using springboot and in execution time it doesn&#39;t update a database with the entities created.\r\nI have my database created,and xampp server active\r\n\r\nThat&#39;s my code\r\nEntity class\r\n\r\n```\r\n@Entity\r\n@Table\r\npublic class Employee {\r\n   \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @Column(name=&quot;emp_name&quot;)\r\n    private String name;\r\n    \r\n    @Column\r\n    private String salary;\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Employee(String name, String salary) {\r\n        this.name = name;\r\n        this.salary = salary;\r\n    }\r\n\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSalary() {\r\n        return salary;\r\n    }\r\n\r\n    public void setSalary(String salary) {\r\n        this.salary = salary;\r\n    }\r\n}\r\n\r\n```\r\n\r\nApplication.propierties\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test_db\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8InnoDBDialect\r\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n```\r\n\r\n\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>I've tried to create a crud using springboot and in execution time it doesn't update a database with the entities created.\nI have my database created,and xampp server active</p>\n<p>That's my code\nEntity class</p>\n<pre><code>@Entity\n@Table\npublic class Employee {\n   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;emp_name&quot;)\n    private String name;\n    \n    @Column\n    private String salary;\n\n    public Employee() {\n    }\n\n    public Employee(String name, String salary) {\n        this.name = name;\n        this.salary = salary;\n    }\n\n    \n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSalary() {\n        return salary;\n    }\n\n    public void setSalary(String salary) {\n        this.salary = salary;\n    }\n}\n\n</code></pre>\n<p>Application.propierties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test_db\nspring.datasource.username=root\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8InnoDBDialect\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n"},{"tags":["java","logging","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698139215,"post_id":77350775,"comment_id":136364199,"body_markdown":"You should add the `apache-httpclient-..` tag (4.x or 5.x) so the right people can see your question","body":"You should add the <code>apache-httpclient-..</code> tag (4.x or 5.x) so the right people can see your question"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698139335,"post_id":77350775,"comment_id":136364224,"body_markdown":"@Jorn done, thank you :)","body":"@Jorn done, thank you :)"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1698143686,"post_id":77350775,"comment_id":136364997,"body_markdown":"Have you considered a different approach by using a custom request and response logging interceptor?","body":"Have you considered a different approach by using a custom request and response logging interceptor?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698145868,"post_id":77350775,"comment_id":136365399,"body_markdown":"@M.Pour I have info log lines that contain data from both the request and the response, so I can&#39;t seperate them. And I can&#39;t change what the logs are supposed to look like","body":"@M.Pour I have info log lines that contain data from both the request and the response, so I can&#39;t seperate them. And I can&#39;t change what the logs are supposed to look like"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698146886,"post_id":77350775,"comment_id":136365594,"body_markdown":"You can try creating a request interceptor that stores the request in the `HttpContext`, then create a response interceptor that reads it from the `HttpContext`, then logs both the request and response.","body":"You can try creating a request interceptor that stores the request in the <code>HttpContext</code>, then create a response interceptor that reads it from the <code>HttpContext</code>, then logs both the request and response."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698152125,"post_id":77350775,"comment_id":136366511,"body_markdown":"@RobSpoor thanks for the idea, I&#39;m currently exploring using `ThreadLocal` to acheive the same goal. From what I can tell `HttpContext` isn&#39;t always thread-safe (based on the stored attribute) so I might prefer to stick to `ThreadLocal` if it works since I don&#39;t have that headache. Do let me know though if there&#39;s a specific reason you recommend using `HttpContext`!","body":"@RobSpoor thanks for the idea, I&#39;m currently exploring using <code>ThreadLocal</code> to acheive the same goal. From what I can tell <code>HttpContext</code> isn&#39;t always thread-safe (based on the stored attribute) so I might prefer to stick to <code>ThreadLocal</code> if it works since I don&#39;t have that headache. Do let me know though if there&#39;s a specific reason you recommend using <code>HttpContext</code>!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698152698,"post_id":77350775,"comment_id":136366638,"body_markdown":"@MissSkooter because if you don&#39;t manually pass an `HttpContext` when sending the request, you get one for your request only. That means that the request and response get the same instance, and no other request or response will get that same instance.","body":"@MissSkooter because if you don&#39;t manually pass an <code>HttpContext</code> when sending the request, you get one for your request only. That means that the request and response get the same instance, and no other request or response will get that same instance."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698153622,"post_id":77350775,"comment_id":136366845,"body_markdown":"@RobSpoor yeah I see your point, it&#39;s definitely better but now my problem is that I can&#39;t compute the duration of the request through the interceptors. (I am using `System.nanoTime()` before and after execute)","body":"@RobSpoor yeah I see your point, it&#39;s definitely better but now my problem is that I can&#39;t compute the duration of the request through the interceptors. (I am using <code>System.nanoTime()</code> before and after execute)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698156471,"post_id":77350775,"comment_id":136367600,"body_markdown":"@MissSkooter sure you can. Store the start date in the context in the request interceptor, read it in the response interceptor. I do that all the time.","body":"@MissSkooter sure you can. Store the start date in the context in the request interceptor, read it in the response interceptor. I do that all the time."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698156880,"post_id":77350775,"comment_id":136367689,"body_markdown":"Here&#39;s an example of a project I&#39;m working on for my employer: https://github.com/Ingenico-ePayments/connect-sdk-java/blob/56edd93d4860ff4d6f4375213b7d52f3218894e5/src/main/java/com/ingenico/connect/gateway/sdk/java/defaultimpl/DefaultConnection.java#L369. It creates its own `HttpContext` for each request so it&#39;s already available for the start time before the request interceptor is called.","body":"Here&#39;s an example of a project I&#39;m working on for my employer: <a href=\"https://github.com/Ingenico-ePayments/connect-sdk-java/blob/56edd93d4860ff4d6f4375213b7d52f3218894e5/src/main/java/com/ingenico/connect/gateway/sdk/java/defaultimpl/DefaultConnection.java#L369\" rel=\"nofollow noreferrer\">github.com/Ingenico-ePayments/connect-sdk-java/blob/&hellip;</a>. It creates its own <code>HttpContext</code> for each request so it&#39;s already available for the start time before the request interceptor is called."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698215388,"post_id":77350775,"comment_id":136375219,"body_markdown":"@RobSpoor thank you for all the help! Feel free to write up an answer and I&#39;ll accept it :)","body":"@RobSpoor thank you for all the help! Feel free to write up an answer and I&#39;ll accept it :)"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698220098,"creation_date":1698220098,"answer_id":77357530,"question_id":77350775,"body_markdown":"Create a request interceptor that stores the request in the `HttpContext`, then create a response interceptor that reads it from the `HttpContext`, then logs both the request and response.\r\n\r\nIf you provide a `HttpContext` (implementing class: `BasicHttpContext`) yourself when executing the request, you can populate it with some extra fields like the start date. Otherwise, the HTTP client will create one for each request separately.","title":"How can I log data from HttpRequest and HttpResponse at the same time?","body":"<p>Create a request interceptor that stores the request in the <code>HttpContext</code>, then create a response interceptor that reads it from the <code>HttpContext</code>, then logs both the request and response.</p>\n<p>If you provide a <code>HttpContext</code> (implementing class: <code>BasicHttpContext</code>) yourself when executing the request, you can populate it with some extra fields like the start date. Otherwise, the HTTP client will create one for each request separately.</p>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357530,"answer_count":1,"score":0,"last_activity_date":1698220098,"creation_date":1698138307,"question_id":77350775,"body_markdown":"I have some custom logging logic that logs information from the request and response. Some log lines contain information **from both the request and the response at the same time**. Thus, I somehow need to be able to access both at the same time to create the necessary log lines.\r\n\r\nWhen using Feign this was easy to do since you can just set a logger on the builder, and the fact that the response object has the request object in it makes it easy to retrieve data from both.\r\n\r\nHowever, with apache HttpClient, such access does not exist.\r\n\r\nI could only find `addInterceptorFirst` and `addInterceptorFirst` for each of request and response, but never both.\r\n\r\nThe only place I was able to access both objects is at the `send()` method like so:\r\n\r\n```\r\n@Override\r\npublic HttpResponse send(String method, String path, Map&lt;String, String&gt; headers, HttpEntity httpEntity) throws IOException {\r\n    HttpUriRequest request = getHttpUriRequest(method, path, headers, httpEntity);\r\n    try (CloseableHttpClient httpClient = httpClientBuilder.build()) {\r\n        HttpResponse httpResponse =  httpClient.execute(request);\r\n        httpClientLogger.logRequestResponse(request, httpResponse); // logging here\r\n        return httpResponse;\r\n    }\r\n}\r\n```\r\n\r\nThis works fine except for one problem.\r\n\r\nThere are interceptors that are adding headers to the request internally (inside the `httpClient.execute(request)` method) and they seem to be creating a deep copy of the request object since after the request is done, the object in the code snippet is not modified to include the added headers.\r\n\r\nQuestion: How can I log info from the request and the response at the same time, while having the request contain all relevant information that may be added through interceptors?","title":"How can I log data from HttpRequest and HttpResponse at the same time?","body":"<p>I have some custom logging logic that logs information from the request and response. Some log lines contain information <strong>from both the request and the response at the same time</strong>. Thus, I somehow need to be able to access both at the same time to create the necessary log lines.</p>\n<p>When using Feign this was easy to do since you can just set a logger on the builder, and the fact that the response object has the request object in it makes it easy to retrieve data from both.</p>\n<p>However, with apache HttpClient, such access does not exist.</p>\n<p>I could only find <code>addInterceptorFirst</code> and <code>addInterceptorFirst</code> for each of request and response, but never both.</p>\n<p>The only place I was able to access both objects is at the <code>send()</code> method like so:</p>\n<pre><code>@Override\npublic HttpResponse send(String method, String path, Map&lt;String, String&gt; headers, HttpEntity httpEntity) throws IOException {\n    HttpUriRequest request = getHttpUriRequest(method, path, headers, httpEntity);\n    try (CloseableHttpClient httpClient = httpClientBuilder.build()) {\n        HttpResponse httpResponse =  httpClient.execute(request);\n        httpClientLogger.logRequestResponse(request, httpResponse); // logging here\n        return httpResponse;\n    }\n}\n</code></pre>\n<p>This works fine except for one problem.</p>\n<p>There are interceptors that are adding headers to the request internally (inside the <code>httpClient.execute(request)</code> method) and they seem to be creating a deep copy of the request object since after the request is done, the object in the code snippet is not modified to include the added headers.</p>\n<p>Question: How can I log info from the request and the response at the same time, while having the request contain all relevant information that may be added through interceptors?</p>\n"},{"tags":["java","spring","spring-boot","rest","jackson"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1657974304,"post_id":73003763,"comment_id":128939788,"body_markdown":"Add a subtype of type User.","body":"Add a subtype of type User."},{"owner":{"account_id":15434401,"reputation":111,"user_id":11134898,"display_name":"fipps omat"},"score":0,"creation_date":1657975004,"post_id":73003763,"comment_id":128939921,"body_markdown":"With this I get &quot;Could not resolve subtype&quot; exception because all subtypes match","body":"With this I get &quot;Could not resolve subtype&quot; exception because all subtypes match"}],"answers":[{"tags":[],"owner":{"account_id":3823550,"reputation":241,"user_id":3170993,"display_name":"szmeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698219660,"creation_date":1698219660,"answer_id":77357480,"question_id":73003763,"body_markdown":"You can use defaultImpl and specify the superclass there. If the incoming JSON does not have a &quot;role&quot; field, Jackson will deserialize it as an instance of defaultImpl.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false, defaultImpl = User.class)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\r\n        @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\r\n    })\r\n    public class User{ .. }\r\n    \r\n    public class Student extends User{ .. }\r\n    \r\n    public class Supervisor extends User{ ..}","title":"Jackson inheritance instantiating superclass","body":"<p>You can use defaultImpl and specify the superclass there. If the incoming JSON does not have a &quot;role&quot; field, Jackson will deserialize it as an instance of defaultImpl.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false, defaultImpl = User.class)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\n    @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\n})\npublic class User{ .. }\n\npublic class Student extends User{ .. }\n\npublic class Supervisor extends User{ ..}\n</code></pre>\n"}],"owner":{"account_id":15434401,"reputation":111,"user_id":11134898,"display_name":"fipps omat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698219660,"creation_date":1657970547,"question_id":73003763,"body_markdown":"I&#39;m using jackson in spring boot to deserialize an incoming json.\r\n\r\nThe json can either be a user, student or supervisor.\r\n\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\r\n        @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\r\n    })\r\n    public class User{ .. }\r\n\r\n    public class Student extends User{ .. }\r\n\r\n    public class Supervisor extends User{ ..}\r\n\r\nI managed to map incoming jsons to Students or Supervisors. But when posting a new user the user should be general and afterwards the backend uses regex matching on the mail address to determine whether it is a Student or Supervisor. So the incoming json is a User without specific Student or Supervisor properties.\r\n\r\nIs it possible to instantiate User ?\r\n\r\nI tried all annotations but none of them seems to do what I need it to.","title":"Jackson inheritance instantiating superclass","body":"<p>I'm using jackson in spring boot to deserialize an incoming json.</p>\n<p>The json can either be a user, student or supervisor.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\n    @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\n})\npublic class User{ .. }\n\npublic class Student extends User{ .. }\n\npublic class Supervisor extends User{ ..}\n</code></pre>\n<p>I managed to map incoming jsons to Students or Supervisors. But when posting a new user the user should be general and afterwards the backend uses regex matching on the mail address to determine whether it is a Student or Supervisor. So the incoming json is a User without specific Student or Supervisor properties.</p>\n<p>Is it possible to instantiate User ?</p>\n<p>I tried all annotations but none of them seems to do what I need it to.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1671021175,"post_id":74798315,"comment_id":132006221,"body_markdown":"Are you sure you want to allow all origins by using a wildcard in your non-dev profiles?","body":"Are you sure you want to allow all origins by using a wildcard in your non-dev profiles?"},{"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"score":0,"creation_date":1671021438,"post_id":74798315,"comment_id":132006326,"body_markdown":"@deHaar, I just tried disabling the CORS as an experiment to see if it works at all","body":"@deHaar, I just tried disabling the CORS as an experiment to see if it works at all"}],"answers":[{"comments":[{"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"score":0,"creation_date":1671027875,"post_id":74798677,"comment_id":132008791,"body_markdown":"I&#39;m still getting the same error. Could it be a problem if there is an another `WebConfig` class without the `@EnableWebMvc` and `@Profile(&quot;dev&quot;)` annotations? It overrides `addResourceHandlers` and `addViewControllers` methods","body":"I&#39;m still getting the same error. Could it be a problem if there is an another <code>WebConfig</code> class without the <code>@EnableWebMvc</code> and <code>@Profile(&quot;dev&quot;)</code> annotations? It overrides <code>addResourceHandlers</code> and <code>addViewControllers</code> methods"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1671032737,"post_id":74798677,"comment_id":132010832,"body_markdown":"Yes, try annotating it with `@Order(1)`","body":"Yes, try annotating it with <code>@Order(1)</code>"},{"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"score":0,"creation_date":1671099825,"post_id":74798677,"comment_id":132026755,"body_markdown":"It&#39;s still not working. I tried annotating class `WebConfig` with `@Order(1)` and the other `WebConfig` class with `@Order(2)` and vica versa. I updated my question","body":"It&#39;s still not working. I tried annotating class <code>WebConfig</code> with <code>@Order(1)</code> and the other <code>WebConfig</code> class with <code>@Order(2)</code> and vica versa. I updated my question"}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698219500,"creation_date":1671022737,"answer_id":74798677,"question_id":74798315,"body_markdown":"Just annotate your config with `@Profile(&quot;dev&quot;)`:\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\n@Profile(&quot;dev&quot;)\r\npublic class DevWebSecurityConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\r\n                .allowCredentials(true)\r\n                .maxAge(3600);\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nclass DevWebSecurityConfigTestConfigurationTest {\r\n\r\n    private static final ApplicationContextRunner runner = new ApplicationContextRunner()\r\n            .withConfiguration(AutoConfigurations.of(DevWebSecurityConfig.class));\r\n\r\n    @Test\r\n    void devProfileSet_devWebSecurityConfigActive() {\r\n     runner.withPropertyValues(&quot;spring.profiles.active=dev&quot;)\r\n             .run(context -&gt; assertThat(context).hasSingleBean(DevWebSecurityConfig.class));\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;default&quot;, &quot;prod&quot;})\r\n    void devProfileNotSet_devWebSecurityConfigNotActive(final String profile) {\r\n     runner.withPropertyValues(&quot;spring.profiles.active=&quot; + profile)\r\n             .run(context -&gt; assertThat(context).doesNotHaveBean(DevWebSecurityConfig.class));\r\n    }\r\n}\r\n```\r\n\r\n**Update**\r\nYou added a `CorsConfigurationSource` bean to your example code. For this approach, you could declare two beans depending on the profile:\r\n```java\r\n    @Profile(&quot;!dev&quot;)\r\n    @Bean\r\n    CorsConfigurationSource defaultCorsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(\r\n                &quot;https://example1.com:9000&quot;,\r\n                &quot;https://example2.com:9000&quot;);\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n\r\n\r\n    @Profile(&quot;dev&quot;)\r\n    @Bean\r\n    CorsConfigurationSource devCorsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(&quot;https://localhost.com:3000&quot;);\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n```\r\n\r\nThe example test can be adapted in the way that you can also use the bean name (`devCorsConfigurationSource`, `defaultCorsConfigurationSource`) for asserting whether a bean is present or not.\r\n\r\nYou should however stick to one way: either use the [`addCorsMappings` of the `WebMvcConfigurer`][1] to configure it or with the [`CorsConfigurationSource` bean and the `.cors(withDefaults())` setting on the `HttpSecurity`][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-cors-global-java\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html","title":"How to disable CORS only for dev profile in the application-dev.yml file?","body":"<p>Just annotate your config with <code>@Profile(&quot;dev&quot;)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@Profile(&quot;dev&quot;)\npublic class DevWebSecurityConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\n                .allowCredentials(true)\n                .maxAge(3600);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DevWebSecurityConfigTestConfigurationTest {\n\n    private static final ApplicationContextRunner runner = new ApplicationContextRunner()\n            .withConfiguration(AutoConfigurations.of(DevWebSecurityConfig.class));\n\n    @Test\n    void devProfileSet_devWebSecurityConfigActive() {\n     runner.withPropertyValues(&quot;spring.profiles.active=dev&quot;)\n             .run(context -&gt; assertThat(context).hasSingleBean(DevWebSecurityConfig.class));\n    }\n\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;default&quot;, &quot;prod&quot;})\n    void devProfileNotSet_devWebSecurityConfigNotActive(final String profile) {\n     runner.withPropertyValues(&quot;spring.profiles.active=&quot; + profile)\n             .run(context -&gt; assertThat(context).doesNotHaveBean(DevWebSecurityConfig.class));\n    }\n}\n</code></pre>\n<p><strong>Update</strong>\nYou added a <code>CorsConfigurationSource</code> bean to your example code. For this approach, you could declare two beans depending on the profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Profile(&quot;!dev&quot;)\n    @Bean\n    CorsConfigurationSource defaultCorsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(\n                &quot;https://example1.com:9000&quot;,\n                &quot;https://example2.com:9000&quot;);\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n\n\n    @Profile(&quot;dev&quot;)\n    @Bean\n    CorsConfigurationSource devCorsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(&quot;https://localhost.com:3000&quot;);\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n</code></pre>\n<p>The example test can be adapted in the way that you can also use the bean name (<code>devCorsConfigurationSource</code>, <code>defaultCorsConfigurationSource</code>) for asserting whether a bean is present or not.</p>\n<p>You should however stick to one way: either use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-cors-global-java\" rel=\"nofollow noreferrer\"><code>addCorsMappings</code> of the <code>WebMvcConfigurer</code></a> to configure it or with the <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html\" rel=\"nofollow noreferrer\"><code>CorsConfigurationSource</code> bean and the <code>.cors(withDefaults())</code> setting on the <code>HttpSecurity</code></a>.</p>\n"}],"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74798677,"answer_count":1,"score":0,"last_activity_date":1698219500,"creation_date":1671020952,"question_id":74798315,"body_markdown":"I&#39;m trying to disable CORS, because I&#39;m getting the following error:\r\n&gt; Access to fetch at &#39;https://localhost:9000/api/foo&#39; from origin &#39;https://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\nFailed to load resource: net::ERR_FAILED\r\n\r\nI want CORS only disabled when the _dev_ profile is active. How can I achieve this?\r\n\r\n\r\nI&#39;ve already tried the following:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\r\n                .allowCredentials(true)\r\n                .maxAge(3600);\r\n    }\r\n}\r\n```\r\n**Update**: There is another class that I think is related to this problem:\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConf extends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(\r\n                &quot;https://example1.com:9000&quot;,\r\n                &quot;https://example2.com:9000&quot;,\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n}\r\n```","title":"How to disable CORS only for dev profile in the application-dev.yml file?","body":"<p>I'm trying to disable CORS, because I'm getting the following error:</p>\n<blockquote>\n<p>Access to fetch at 'https://localhost:9000/api/foo' from origin 'https://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\nFailed to load resource: net::ERR_FAILED</p>\n</blockquote>\n<p>I want CORS only disabled when the <em>dev</em> profile is active. How can I achieve this?</p>\n<p>I've already tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\n                .allowCredentials(true)\n                .maxAge(3600);\n    }\n}\n</code></pre>\n<p><strong>Update</strong>: There is another class that I think is related to this problem:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConf extends WebSecurityConfigurerAdapter {\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(\n                &quot;https://example1.com:9000&quot;,\n                &quot;https://example2.com:9000&quot;,\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":1,"creation_date":1250668299,"post_id":1298327,"comment_id":1129368,"body_markdown":"Your answer about why it is this way are correct, since there is no real ordering when it comes to annotations. \n\nAnother solution is not use schema auto generation.","body":"Your answer about why it is this way are correct, since there is no real ordering when it comes to annotations.   Another solution is not use schema auto generation."},{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":0,"creation_date":1250668777,"post_id":1298327,"comment_id":1129409,"body_markdown":"Couldn&#39;t you use reflection, iterate over the Fields and build a column list that way?","body":"Couldn&#39;t you use reflection, iterate over the Fields and build a column list that way?"},{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":26,"creation_date":1250693215,"post_id":1298327,"comment_id":1131506,"body_markdown":"LOL. I can&#39;t understand how difficult it can be to have a value in the @Column(order=1) so that it takes an order element and then ensures correct ordering. Nevertheless, thank you for your answer.","body":"LOL. I can&#39;t understand how difficult it can be to have a value in the @Column(order=1) so that it takes an order element and then ensures correct ordering. Nevertheless, thank you for your answer."},{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":8,"creation_date":1417394202,"post_id":1298327,"comment_id":42919251,"body_markdown":"@Shervin I think **it is difficult**. The definition of `@Column` is specified in JPA specification, so it&#39;s not up to Hibernate to change it. They need to push for a new feature to be included in the next iteration of JPA through the working group / community -- and this will be subject to agreement by other vendors.","body":"@Shervin I think <b>it is difficult</b>. The definition of <code>@Column</code> is specified in JPA specification, so it&#39;s not up to Hibernate to change it. They need to push for a new feature to be included in the next iteration of JPA through the working group / community -- and this will be subject to agreement by other vendors."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":8,"creation_date":1546507129,"post_id":1298327,"comment_id":94874726,"body_markdown":"Still nothing in 2019 ?","body":"Still nothing in 2019 ?"},{"owner":{"account_id":4506248,"reputation":1109,"user_id":3663495,"display_name":"Kms"},"score":0,"creation_date":1563101704,"post_id":1298327,"comment_id":100582912,"body_markdown":"Hibernate 5.x :\n\n1) In annotation approach:\nThe column order would be in alphabet order of Column names specify in Persistence class\n\n2) In XML approach:\nThe column order would be in the same order, as specified in hibernate.hbm.xml","body":"Hibernate 5.x :  1) In annotation approach: The column order would be in alphabet order of Column names specify in Persistence class  2) In XML approach: The column order would be in the same order, as specified in hibernate.hbm.xml"},{"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"score":0,"creation_date":1581101594,"post_id":1298327,"comment_id":106330645,"body_markdown":"Ordering columns is useful for easier reading but should not ever be relied upon in SQL statements.  The same mistake occurs when dev write selects expecting data to be returning in a consistent order without specifying ordering in the SQL: the results ordering is, by definition, UNDEFINED.  Let&#39;s remember what we right affects the end users and they need consistency.","body":"Ordering columns is useful for easier reading but should not ever be relied upon in SQL statements.  The same mistake occurs when dev write selects expecting data to be returning in a consistent order without specifying ordering in the SQL: the results ordering is, by definition, UNDEFINED.  Let&#39;s remember what we right affects the end users and they need consistency."},{"owner":{"account_id":1325682,"reputation":982,"user_id":1270533,"accept_rate":0,"display_name":"Zhuo YING"},"score":0,"creation_date":1608763208,"post_id":1298327,"comment_id":115680714,"body_markdown":"Still nothing in 2020? It&#39;s hibernate 5.4.25 now. Fine! I will use DBeaver.","body":"Still nothing in 2020? It&#39;s hibernate 5.4.25 now. Fine! I will use DBeaver."},{"owner":{"account_id":4627576,"reputation":332,"user_id":3750918,"accept_rate":53,"display_name":"Anti Mafia"},"score":5,"creation_date":1653042235,"post_id":1298327,"comment_id":127759525,"body_markdown":"Still nothing in 2022? Please","body":"Still nothing in 2022? Please"},{"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"score":1,"creation_date":1682962809,"post_id":1298327,"comment_id":134291266,"body_markdown":"Still nothing in 2023! :/","body":"Still nothing in 2023! :/"},{"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"score":3,"creation_date":1682965047,"post_id":1298327,"comment_id":134291751,"body_markdown":"actually, see the solution in the answer by @Changemyminds .. it&#39;s amazing and i can&#39;t fathom why the hibernate folks can&#39;t adopt it!","body":"actually, see the solution in the answer by @Changemyminds .. it&#39;s amazing and i can&#39;t fathom why the hibernate folks can&#39;t adopt it!"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":11,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1652924767,"creation_date":1250667460,"answer_id":1298327,"question_id":1298322,"body_markdown":"Hibernate generates columns in **alphabetical** order. According to [this post][1] the reason is given as:\r\n\r\n&gt; It is sorted to ensurce deterministic\r\n&gt; ordering across clusters. \r\n&gt; \r\n&gt; We can&#39;t rely on the vm to return the\r\n&gt; methods in the same order every time\r\n&gt; so we had to do something.\r\n\r\nApparently it used to be in the order of occurrence but this changed between 3.2.0 GA and 3.2.1 GA.\r\n\r\nI also found [Schema auto generation creates columns in alphabetical order for compound primary keys][2] and this seems to be like your problem. This ticket is about the order changing in primary keys and that negatively impacts index performance.\r\n\r\nThere is no fix for this other than a workaround of naming the columns in such a way that they come out in the correct order (no, I&#39;m not kidding).\r\n\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=6&amp;t=974532\r\n  [2]: https://issues.redhat.com/browse/HIBERNATE-112","title":"Wrong ordering in generated table in jpa","body":"<p>Hibernate generates columns in <strong>alphabetical</strong> order. According to <a href=\"https://forum.hibernate.org/viewtopic.php?f=6&amp;t=974532\" rel=\"noreferrer\">this post</a> the reason is given as:</p>\n<blockquote>\n<p>It is sorted to ensurce deterministic\nordering across clusters.</p>\n<p>We can't rely on the vm to return the\nmethods in the same order every time\nso we had to do something.</p>\n</blockquote>\n<p>Apparently it used to be in the order of occurrence but this changed between 3.2.0 GA and 3.2.1 GA.</p>\n<p>I also found <a href=\"https://issues.redhat.com/browse/HIBERNATE-112\" rel=\"noreferrer\">Schema auto generation creates columns in alphabetical order for compound primary keys</a> and this seems to be like your problem. This ticket is about the order changing in primary keys and that negatively impacts index performance.</p>\n<p>There is no fix for this other than a workaround of naming the columns in such a way that they come out in the correct order (no, I'm not kidding).</p>\n"},{"comments":[{"owner":{"account_id":6549624,"reputation":144,"user_id":5064459,"accept_rate":25,"display_name":"sabarinathan u"},"score":1,"creation_date":1468551536,"post_id":1301546,"comment_id":64183913,"body_markdown":"I would suggest : As soon a table created by Hibernate, you may ALTER it  to order the columns as the way you want. I have done so. Tools like Toad will make it very easy through column Up/Down option over UI","body":"I would suggest : As soon a table created by Hibernate, you may ALTER it  to order the columns as the way you want. I have done so. Tools like Toad will make it very easy through column Up/Down option over UI"},{"owner":{"account_id":10706715,"reputation":119,"user_id":7880272,"display_name":"Mostafijur Rahman"},"score":0,"creation_date":1611233743,"post_id":1301546,"comment_id":116388262,"body_markdown":"Can you please share, How can I alter my table column up/down using Jpa? @sabarinathanu","body":"Can you please share, How can I alter my table column up/down using Jpa? @sabarinathanu"}],"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1250704220,"creation_date":1250704220,"answer_id":1301546,"question_id":1298322,"body_markdown":"DataNucleus allows the extension specifying the position for schema generation, FWIW.","title":"Wrong ordering in generated table in jpa","body":"<p>DataNucleus allows the extension specifying the position for schema generation, FWIW.</p>\n"},{"comments":[{"owner":{"account_id":981686,"reputation":887,"user_id":1001242,"accept_rate":62,"display_name":"itsraghz"},"score":1,"creation_date":1631629374,"post_id":65457244,"comment_id":122270970,"body_markdown":"I think makes a better, cleaner and simpler solution compared to the other alternates. Thank you.","body":"I think makes a better, cleaner and simpler solution compared to the other alternates. Thank you."},{"owner":{"account_id":4671882,"reputation":185,"user_id":3783469,"accept_rate":43,"display_name":"landsman"},"score":1,"creation_date":1692720085,"post_id":65457244,"comment_id":135661556,"body_markdown":"Thanks for the reply but it&#39;s really ugly workaround :(","body":"Thanks for the reply but it&#39;s really ugly workaround :("}],"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1608992072,"creation_date":1608992072,"answer_id":65457244,"question_id":1298322,"body_markdown":"You can set the order you want whenever you can change the *internal* name of the class members, since the order of the columns is taken from the field name, not from the getter, setter, or column.\r\n\r\nThus, if the class members are private (as desired), you should only list them (for example by prefixing them with &quot;a_&quot;, &quot;b_&quot;, &quot;c_&quot;, ...) without changing either the getters, the setters, or the column names.\r\n\r\nFor example, the following class definition:\r\n\r\n    @Id\r\n    @Column(name = &quot;parent&quot;)\r\n    UUID parent;\r\n\r\n    @Id\r\n    @Column(name = &quot;type&quot;, length = 10)\r\n    String type;\r\n\r\n    @Id\r\n    @Column(name = &quot;child&quot;)\r\n    UUID child;\r\n\r\nIt generates the following table:\r\n\r\n      Column   |         Type          | Collation | Nullable | Default \r\n    -----------+-----------------------+-----------+----------+---------\r\n     child     | uuid                  |           | not null | \r\n     parent    | uuid                  |           | not null | \r\n     type      | character varying(10) |           | not null | \r\n    Indexes:\r\n        &quot;...whatever...&quot; PRIMARY KEY, btree (child, parent, type)\r\n\r\nWhich is not efficient because normally we will search by parent and type of relationship to obtain the children.\r\n\r\nWe can change the private names without affecting the rest of the implementation by doing:\r\n\r\n    @Id\r\n    @Column(name = &quot;parent&quot;)\r\n    UUID a_parent;\r\n\r\n    @Id\r\n    @Column(name = &quot;type&quot;, length = 10)\r\n    String b_type;\r\n\r\n    @Id\r\n    @Column(name = &quot;child&quot;)\r\n    UUID c_child;\r\n\r\n    public UUID getParent() { return a_parent; }\r\n    public UUID getChild() { return c_child; }\r\n    public String getType() { return b_type; }\r\n    public void setParent(UUID parent) { a_parent = parent; }\r\n    public void setChild(UUID child) { c_child = child; }\r\n    public void setType(String type) { b_type = type; }\r\n\r\nIn that it has now been generated:\r\n\r\n      Column   |         Type          | Collation | Nullable | Default \r\n    -----------+-----------------------+-----------+----------+---------\r\n     parent    | uuid                  |           | not null | \r\n     type      | character varying(10) |           | not null | \r\n     child     | uuid                  |           | not null | \r\n    Indexes:\r\n        &quot;...whatever...&quot; PRIMARY KEY, btree (parent, type, child)\r\n\r\nOf course it is not best to depend on the internal lexicographical order of the class members but I do not see a better solution.","title":"Wrong ordering in generated table in jpa","body":"<p>You can set the order you want whenever you can change the <em>internal</em> name of the class members, since the order of the columns is taken from the field name, not from the getter, setter, or column.</p>\n<p>Thus, if the class members are private (as desired), you should only list them (for example by prefixing them with &quot;a_&quot;, &quot;b_&quot;, &quot;c_&quot;, ...) without changing either the getters, the setters, or the column names.</p>\n<p>For example, the following class definition:</p>\n<pre><code>@Id\n@Column(name = &quot;parent&quot;)\nUUID parent;\n\n@Id\n@Column(name = &quot;type&quot;, length = 10)\nString type;\n\n@Id\n@Column(name = &quot;child&quot;)\nUUID child;\n</code></pre>\n<p>It generates the following table:</p>\n<pre><code>  Column   |         Type          | Collation | Nullable | Default \n-----------+-----------------------+-----------+----------+---------\n child     | uuid                  |           | not null | \n parent    | uuid                  |           | not null | \n type      | character varying(10) |           | not null | \nIndexes:\n    &quot;...whatever...&quot; PRIMARY KEY, btree (child, parent, type)\n</code></pre>\n<p>Which is not efficient because normally we will search by parent and type of relationship to obtain the children.</p>\n<p>We can change the private names without affecting the rest of the implementation by doing:</p>\n<pre><code>@Id\n@Column(name = &quot;parent&quot;)\nUUID a_parent;\n\n@Id\n@Column(name = &quot;type&quot;, length = 10)\nString b_type;\n\n@Id\n@Column(name = &quot;child&quot;)\nUUID c_child;\n\npublic UUID getParent() { return a_parent; }\npublic UUID getChild() { return c_child; }\npublic String getType() { return b_type; }\npublic void setParent(UUID parent) { a_parent = parent; }\npublic void setChild(UUID child) { c_child = child; }\npublic void setType(String type) { b_type = type; }\n</code></pre>\n<p>In that it has now been generated:</p>\n<pre><code>  Column   |         Type          | Collation | Nullable | Default \n-----------+-----------------------+-----------+----------+---------\n parent    | uuid                  |           | not null | \n type      | character varying(10) |           | not null | \n child     | uuid                  |           | not null | \nIndexes:\n    &quot;...whatever...&quot; PRIMARY KEY, btree (parent, type, child)\n</code></pre>\n<p>Of course it is not best to depend on the internal lexicographical order of the class members but I do not see a better solution.</p>\n"},{"comments":[{"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"score":0,"creation_date":1682964999,"post_id":65731578,"comment_id":134291740,"body_markdown":"wow, just wow! amazing find!!","body":"wow, just wow! amazing find!!"}],"tags":[],"owner":{"account_id":6523425,"reputation":1247,"user_id":5046887,"display_name":"Changemyminds"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1652372002,"creation_date":1610693015,"answer_id":65731578,"question_id":1298322,"body_markdown":"I have the same problem. Finally, I found the solution.\r\n\r\nFind your External Libraries about hibernate core and find the `org.hibernate.cfg.PropertyContainer` class and copy the content. &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2vGBJ.png\r\n  [2]: https://i.stack.imgur.com/s3q5u.png\r\n\r\nIn your root folder create the `org.hibernate.cfg` package and `PropertyContainer` class.&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nPaste the `org.hibernate.cfg.PropertyContainer` content and replace all `TreeMap` to `LinkedHashMap` in your create `PropertyContainer` class.\r\n\r\n    /*\r\n     * Hibernate, Relational Persistence for Idiomatic Java\r\n     *\r\n     * License: GNU Lesser General Public License (LGPL), version 2.1 or later.\r\n     * See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\r\n     */\r\n    \r\n    // $Id$\r\n    \r\n    package org.hibernate.cfg;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    import javax.persistence.Access;\r\n    import javax.persistence.ManyToMany;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Transient;\r\n    \r\n    import org.hibernate.AnnotationException;\r\n    import org.hibernate.MappingException;\r\n    import org.hibernate.annotations.ManyToAny;\r\n    import org.hibernate.annotations.Target;\r\n    import org.hibernate.annotations.Type;\r\n    import org.hibernate.annotations.common.reflection.XClass;\r\n    import org.hibernate.annotations.common.reflection.XProperty;\r\n    import org.hibernate.boot.jaxb.Origin;\r\n    import org.hibernate.boot.jaxb.SourceType;\r\n    import org.hibernate.cfg.annotations.HCANNHelper;\r\n    import org.hibernate.internal.CoreMessageLogger;\r\n    import org.hibernate.internal.util.StringHelper;\r\n    \r\n    import org.jboss.logging.Logger;\r\n    \r\n    /**\r\n     * A helper class to keep the {@code XProperty}s of a class ordered by access type.\r\n     *\r\n     * @author Hardy Ferentschik\r\n     */\r\n    class PropertyContainer {\r\n    //\r\n    //    static {\r\n    //        System.setProperty(&quot;jboss.i18n.generate-proxies&quot;, &quot;true&quot;);\r\n    //    }\r\n    \r\n    \tprivate static final CoreMessageLogger LOG = Logger.getMessageLogger(CoreMessageLogger.class, PropertyContainer.class.getName());\r\n    \r\n    \t/**\r\n    \t * The class for which this container is created.\r\n    \t */\r\n    \tprivate final XClass xClass;\r\n    \tprivate final XClass entityAtStake;\r\n    \r\n    \t/**\r\n    \t * Holds the AccessType indicated for use at the class/container-level for cases where persistent attribute\r\n    \t * did not specify.\r\n    \t */\r\n    \tprivate final AccessType classLevelAccessType;\r\n    \r\n    \tprivate final TreeMap&lt;String, XProperty&gt; persistentAttributeMap;\r\n    \r\n    \tPropertyContainer(XClass clazz, XClass entityAtStake, AccessType defaultClassLevelAccessType) {\r\n    \t\tthis.xClass = clazz;\r\n    \t\tthis.entityAtStake = entityAtStake;\r\n    \r\n    \t\tif ( defaultClassLevelAccessType == AccessType.DEFAULT ) {\r\n    \t\t\t// this is effectively what the old code did when AccessType.DEFAULT was passed in\r\n    \t\t\t// to getProperties(AccessType) from AnnotationBinder and InheritanceState\r\n    \t\t\tdefaultClassLevelAccessType = AccessType.PROPERTY;\r\n    \t\t}\r\n    \r\n    \t\tAccessType localClassLevelAccessType = determineLocalClassDefinedAccessStrategy();\r\n    \t\tassert localClassLevelAccessType != null;\r\n    \r\n    \t\tthis.classLevelAccessType = localClassLevelAccessType != AccessType.DEFAULT\r\n    \t\t\t\t? localClassLevelAccessType\r\n    \t\t\t\t: defaultClassLevelAccessType;\r\n    \t\tassert classLevelAccessType == AccessType.FIELD || classLevelAccessType == AccessType.PROPERTY;\r\n    \r\n    \t\tthis.persistentAttributeMap = new TreeMap&lt;String, XProperty&gt;();\r\n    \r\n    \t\tfinal List&lt;XProperty&gt; fields = xClass.getDeclaredProperties( AccessType.FIELD.getType() );\r\n    \t\tfinal List&lt;XProperty&gt; getters = xClass.getDeclaredProperties( AccessType.PROPERTY.getType() );\r\n    \r\n    \t\tpreFilter( fields, getters );\r\n    \r\n    \t\tfinal Map&lt;String,XProperty&gt; persistentAttributesFromGetters = new HashMap&lt;String, XProperty&gt;();\r\n    \r\n    \t\tcollectPersistentAttributesUsingLocalAccessType(\r\n    \t\t\t\tpersistentAttributeMap,\r\n    \t\t\t\tpersistentAttributesFromGetters,\r\n    \t\t\t\tfields,\r\n    \t\t\t\tgetters\r\n    \t\t);\r\n    \t\tcollectPersistentAttributesUsingClassLevelAccessType(\r\n    \t\t\t\tpersistentAttributeMap,\r\n    \t\t\t\tpersistentAttributesFromGetters,\r\n    \t\t\t\tfields,\r\n    \t\t\t\tgetters\r\n    \t\t);\r\n    \t}\r\n    \r\n    \tprivate void preFilter(List&lt;XProperty&gt; fields, List&lt;XProperty&gt; getters) {\r\n    \t\tIterator&lt;XProperty&gt; propertyIterator = fields.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty property = propertyIterator.next();\r\n    \t\t\tif ( mustBeSkipped( property ) ) {\r\n    \t\t\t\tpropertyIterator.remove();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpropertyIterator = getters.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty property = propertyIterator.next();\r\n    \t\t\tif ( mustBeSkipped( property ) ) {\r\n    \t\t\t\tpropertyIterator.remove();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void collectPersistentAttributesUsingLocalAccessType(\r\n    \t\t\tTreeMap&lt;String, XProperty&gt; persistentAttributeMap,\r\n    \t\t\tMap&lt;String,XProperty&gt; persistentAttributesFromGetters,\r\n    \t\t\tList&lt;XProperty&gt; fields,\r\n    \t\t\tList&lt;XProperty&gt; getters) {\r\n    \r\n    \t\t// Check fields...\r\n    \t\tIterator&lt;XProperty&gt; propertyIterator = fields.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty xProperty = propertyIterator.next();\r\n    \t\t\tfinal Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\r\n    \t\t\tif ( localAccessAnnotation == null\r\n    \t\t\t\t\t|| localAccessAnnotation.value() != javax.persistence.AccessType.FIELD ) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpropertyIterator.remove();\r\n    \t\t\tpersistentAttributeMap.put( xProperty.getName(), xProperty );\r\n    \t\t}\r\n    \r\n    \t\t// Check getters...\r\n    \t\tpropertyIterator = getters.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty xProperty = propertyIterator.next();\r\n    \t\t\tfinal Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\r\n    \t\t\tif ( localAccessAnnotation == null\r\n    \t\t\t\t\t|| localAccessAnnotation.value() != javax.persistence.AccessType.PROPERTY ) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpropertyIterator.remove();\r\n    \r\n    \t\t\tfinal String name = xProperty.getName();\r\n    \r\n    \t\t\t// HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\r\n    \t\t\tfinal XProperty previous = persistentAttributesFromGetters.get( name );\r\n    \t\t\tif ( previous != null ) {\r\n    \t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    \t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    \t\t\t\t\t\t\t\txClass.getName(),\r\n    \t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( previous ),\r\n    \t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( xProperty )\r\n    \t\t\t\t\t\t),\r\n    \t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    \t\t\t\t);\r\n    \t\t\t}\r\n    \r\n    \t\t\tpersistentAttributeMap.put( name, xProperty );\r\n    \t\t\tpersistentAttributesFromGetters.put( name, xProperty );\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void collectPersistentAttributesUsingClassLevelAccessType(\r\n    \t\t\tTreeMap&lt;String, XProperty&gt; persistentAttributeMap,\r\n    \t\t\tMap&lt;String,XProperty&gt; persistentAttributesFromGetters,\r\n    \t\t\tList&lt;XProperty&gt; fields,\r\n    \t\t\tList&lt;XProperty&gt; getters) {\r\n    \t\tif ( classLevelAccessType == AccessType.FIELD ) {\r\n    \t\t\tfor ( XProperty field : fields ) {\r\n    \t\t\t\tif ( persistentAttributeMap.containsKey( field.getName() ) ) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpersistentAttributeMap.put( field.getName(), field );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfor ( XProperty getter : getters ) {\r\n    \t\t\t\tfinal String name = getter.getName();\r\n    \r\n    \t\t\t\t// HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\r\n    \t\t\t\tfinal XProperty previous = persistentAttributesFromGetters.get( name );\r\n    \t\t\t\tif ( previous != null ) {\r\n    \t\t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    \t\t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    \t\t\t\t\t\t\t\t\txClass.getName(),\r\n    \t\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( previous ),\r\n    \t\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( getter )\r\n    \t\t\t\t\t\t\t),\r\n    \t\t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    \t\t\t\t\t);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif ( persistentAttributeMap.containsKey( name ) ) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpersistentAttributeMap.put( getter.getName(), getter );\r\n    \t\t\t\tpersistentAttributesFromGetters.put( name, getter );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic XClass getEntityAtStake() {\r\n    \t\treturn entityAtStake;\r\n    \t}\r\n    \r\n    \tpublic XClass getDeclaringClass() {\r\n    \t\treturn xClass;\r\n    \t}\r\n    \r\n    \tpublic AccessType getClassLevelAccessType() {\r\n    \t\treturn classLevelAccessType;\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;XProperty&gt; getProperties() {\r\n    \t\tassertTypesAreResolvable();\r\n    \t\treturn Collections.unmodifiableCollection( persistentAttributeMap.values() );\r\n    \t}\r\n    \r\n    \tprivate void assertTypesAreResolvable() {\r\n    \t\tfor ( XProperty xProperty : persistentAttributeMap.values() ) {\r\n    \t\t\tif ( !xProperty.isTypeResolved() &amp;&amp; !discoverTypeWithoutReflection( xProperty ) ) {\r\n    \t\t\t\tString msg = &quot;Property &quot; + StringHelper.qualify( xClass.getName(), xProperty.getName() ) +\r\n    \t\t\t\t\t\t&quot; has an unbound type and no explicit target entity. Resolve this Generic usage issue&quot; +\r\n    \t\t\t\t\t\t&quot; or set an explicit target attribute (eg @OneToMany(target=) or use an explicit @Type&quot;;\r\n    \t\t\t\tthrow new AnnotationException( msg );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    //\r\n    //\tprivate void considerExplicitFieldAndPropertyAccess() {\r\n    //\t\tfor ( XProperty property : fieldAccessMap.values() ) {\r\n    //\t\t\tAccess access = property.getAnnotation( Access.class );\r\n    //\t\t\tif ( access == null ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\t// see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\r\n    //\t\t\t// the access type for this property is explicitly set to AccessType.FIELD, hence we have to\r\n    //\t\t\t// use field access for this property even if the default access type for the class is AccessType.PROPERTY\r\n    //\t\t\tAccessType accessType = AccessType.getAccessStrategy( access.value() );\r\n    //            if (accessType == AccessType.FIELD) {\r\n    //\t\t\t\tpropertyAccessMap.put(property.getName(), property);\r\n    //\t\t\t}\r\n    //            else {\r\n    //\t\t\t\tLOG.debug( &quot;Placing @Access(AccessType.FIELD) on a field does not have any effect.&quot; );\r\n    //\t\t\t}\r\n    //\t\t}\r\n    //\r\n    //\t\tfor ( XProperty property : propertyAccessMap.values() ) {\r\n    //\t\t\tAccess access = property.getAnnotation( Access.class );\r\n    //\t\t\tif ( access == null ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\tAccessType accessType = AccessType.getAccessStrategy( access.value() );\r\n    //\r\n    //\t\t\t// see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\r\n    //\t\t\t// the access type for this property is explicitly set to AccessType.PROPERTY, hence we have to\r\n    //\t\t\t// return use method access even if the default class access type is AccessType.FIELD\r\n    //            if (accessType == AccessType.PROPERTY) {\r\n    //\t\t\t\tfieldAccessMap.put(property.getName(), property);\r\n    //\t\t\t}\r\n    //            else {\r\n    //\t\t\t\tLOG.debug( &quot;Placing @Access(AccessType.PROPERTY) on a field does not have any effect.&quot; );\r\n    //\t\t\t}\r\n    //\t\t}\r\n    //\t}\r\n    \r\n    //\t/**\r\n    //\t * Retrieves all properties from the {@code xClass} with the specified access type. This method does not take\r\n    //\t * any jpa access rules/annotations into account yet.\r\n    //\t *\r\n    //\t * @param access The access type - {@code AccessType.FIELD}  or {@code AccessType.Property}\r\n    //\t *\r\n    //\t * @return A maps of the properties with the given access type keyed against their property name\r\n    //\t */\r\n    //\tprivate TreeMap&lt;String, XProperty&gt; initProperties(AccessType access) {\r\n    //\t\tif ( !( AccessType.PROPERTY.equals( access ) || AccessType.FIELD.equals( access ) ) ) {\r\n    //\t\t\tthrow new IllegalArgumentException( &quot;Access type has to be AccessType.FIELD or AccessType.Property&quot; );\r\n    //\t\t}\r\n    //\r\n    //\t\t//order so that property are used in the same order when binding native query\r\n    //\t\tTreeMap&lt;String, XProperty&gt; propertiesMap = new TreeMap&lt;String, XProperty&gt;();\r\n    //\t\tList&lt;XProperty&gt; properties = xClass.getDeclaredProperties( access.getType() );\r\n    //\t\tfor ( XProperty property : properties ) {\r\n    //\t\t\tif ( mustBeSkipped( property ) ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\t\t\t// HHH-10242 detect registration of the same property twice eg boolean isId() + UUID getId()\r\n    //\t\t\tXProperty oldProperty = propertiesMap.get( property.getName() );\r\n    //\t\t\tif ( oldProperty != null ) {\r\n    //\t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    //\t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    //\t\t\t\t\t\t\t\txClass.getName(),\r\n    //\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( oldProperty ),\r\n    //\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( property )\r\n    //\t\t\t\t\t\t),\r\n    //\t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    //\t\t\t\t);\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\tpropertiesMap.put( property.getName(), property );\r\n    //\t\t}\r\n    //\t\treturn propertiesMap;\r\n    //\t}\r\n    \r\n    \tprivate AccessType determineLocalClassDefinedAccessStrategy() {\r\n    \t\tAccessType classDefinedAccessType;\r\n    \r\n    \t\tAccessType hibernateDefinedAccessType = AccessType.DEFAULT;\r\n    \t\tAccessType jpaDefinedAccessType = AccessType.DEFAULT;\r\n    \r\n    \t\torg.hibernate.annotations.AccessType accessType = xClass.getAnnotation( org.hibernate.annotations.AccessType.class );\r\n    \t\tif ( accessType != null ) {\r\n    \t\t\thibernateDefinedAccessType = AccessType.getAccessStrategy( accessType.value() );\r\n    \t\t}\r\n    \r\n    \t\tAccess access = xClass.getAnnotation( Access.class );\r\n    \t\tif ( access != null ) {\r\n    \t\t\tjpaDefinedAccessType = AccessType.getAccessStrategy( access.value() );\r\n    \t\t}\r\n    \r\n    \t\tif ( hibernateDefinedAccessType != AccessType.DEFAULT\r\n    \t\t\t\t&amp;&amp; jpaDefinedAccessType != AccessType.DEFAULT\r\n    \t\t\t\t&amp;&amp; hibernateDefinedAccessType != jpaDefinedAccessType ) {\r\n    \t\t\tthrow new MappingException(\r\n    \t\t\t\t\t&quot;@AccessType and @Access specified with contradicting values. Use of @Access only is recommended. &quot;\r\n    \t\t\t);\r\n    \t\t}\r\n    \r\n    \t\tif ( hibernateDefinedAccessType != AccessType.DEFAULT ) {\r\n    \t\t\tclassDefinedAccessType = hibernateDefinedAccessType;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tclassDefinedAccessType = jpaDefinedAccessType;\r\n    \t\t}\r\n    \t\treturn classDefinedAccessType;\r\n    \t}\r\n    \r\n    \tprivate static boolean discoverTypeWithoutReflection(XProperty p) {\r\n    \t\tif ( p.isAnnotationPresent( OneToOne.class ) &amp;&amp; !p.getAnnotation( OneToOne.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( OneToMany.class ) &amp;&amp; !p.getAnnotation( OneToMany.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToOne.class ) &amp;&amp; !p.getAnnotation( ManyToOne.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToMany.class ) &amp;&amp; !p.getAnnotation( ManyToMany.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( org.hibernate.annotations.Any.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToAny.class ) ) {\r\n    \t\t\tif ( !p.isCollection() &amp;&amp; !p.isArray() ) {\r\n    \t\t\t\tthrow new AnnotationException( &quot;@ManyToAny used on a non collection non array property: &quot; + p.getName() );\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( Type.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( Target.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprivate static boolean mustBeSkipped(XProperty property) {\r\n    \t\t//TODO make those hardcoded tests more portable (through the bytecode provider?)\r\n    \t\treturn property.isAnnotationPresent( Transient.class )\r\n    \t\t\t\t|| &quot;net.sf.cglib.transform.impl.InterceptFieldCallback&quot;.equals( property.getType().getName() )\r\n    \t\t\t\t|| &quot;org.hibernate.bytecode.internal.javassist.FieldHandler&quot;.equals( property.getType().getName() );\r\n    \t}\r\n    }\r\n\r\nFixed the Organization class.\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Organization {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String organizationNumber;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        public Organization() {\r\n        }\r\n    \r\n        public Organization(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getOrganizationNumber() {\r\n            return organizationNumber;\r\n        }\r\n    \r\n        public void setOrganizationNumber(String organizationNumber) {\r\n            this.organizationNumber = organizationNumber;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.name + &quot; &quot; + this.organizationNumber;\r\n        }\r\n    }\r\n\r\nStart the Spring Boot App. See the result in the console.\r\n\r\n    Hibernate: create table organization (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, primary key (id)) engine=InnoDB\r\n\r\nIn the database see the desc result.\r\n\r\n    mysql&gt; desc organization;\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    | Field               | Type         | Null | Key | Default | Extra |\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    | id                  | bigint(20)   | NO   | PRI | NULL    |       |\r\n    | organization_number | varchar(255) | NO   | UNI | NULL    |       |\r\n    | name                | varchar(255) | NO   |     | NULL    |       |\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    3 rows in set (0.00 sec)\r\n\r\n---\r\n\r\n### Supplement on Inheritance\r\n\r\nIf you want use the inherit some parent class like Auditing class. The above answer is not enough. \r\n\r\nYou can copy `InheritanceState.class` like above approach and create the `InheritanceState.class` into `org.hibernate.cfg package`.\r\n\r\nModify the two line, just fixed the sorting.\r\n```\r\npublic class InheritanceState {\r\n    // ...\r\n    private void getMappedSuperclassesTillNextEntityOrdered() {\r\n\r\n        //ordered to allow proper messages on properties subclassing\r\n        XClass currentClassInHierarchy = clazz;\r\n        InheritanceState superclassState;\r\n        do {\r\n\t\t      // mark this \r\n//            classesToProcessForMappedSuperclass.add( 0, currentClassInHierarchy );\r\n\r\n\t\t\t// fixed the sorting, add this \r\n            classesToProcessForMappedSuperclass.add( currentClassInHierarchy );\r\n            \r\n\t\t    // ...\r\n        }\r\n        // ... \r\n    }\r\n\t\r\n   private void addMappedSuperClassInMetadata(PersistentClass persistentClass) {\r\n        //add @MappedSuperclass in the metadata\r\n        // classes from 0 to n-1 are @MappedSuperclass and should be linked\r\n        org.hibernate.mapping.MappedSuperclass mappedSuperclass = null;\r\n        final InheritanceState superEntityState =\r\n                InheritanceState.getInheritanceStateOfSuperEntity( clazz, inheritanceStatePerClass );\r\n        PersistentClass superEntity =\r\n                superEntityState != null ?\r\n                        buildingContext.getMetadataCollector().getEntityBinding( superEntityState.getClazz().getName() ) :\r\n                        null;\r\n        final int lastMappedSuperclass = classesToProcessForMappedSuperclass.size() - 1;\r\n\t\t\r\n\t\t// mark this \r\n//        for ( int index = 0; index &lt; lastMappedSuperclass; index++ ) {\r\n\r\n\t\t// fixed the sorting, add this \r\n        for ( int index = lastMappedSuperclass; index &gt; 0; index-- ) {\r\n            // ...\r\n        }\r\n        // ...\r\n    }\t\r\n}\r\n```\r\n\r\nThe demo class.\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic abstract class AuditableEntity {\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;)\r\n    private String createdBy;\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;)\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;update_time&quot;)\r\n    private ZonedDateTime updatedTime;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;create_time&quot;)\r\n    private ZonedDateTime createTime;\r\n}\r\n\r\n@Entity\r\npublic class OrganizationAudit extends AuditableEntity {\r\n   // same field with Organization.class...\r\n}\r\n```\r\n\r\nIn console result.\r\n```\r\ncreate table organization_audit (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, created_by varchar(255), last_modified_by varchar(255), update_time datetime, create_time datetime, primary key (id)) engine=InnoDB\r\n```\r\n\r\nIn database result.\r\n```\r\nmysql&gt; desc organization_audit;\r\n+---------------------+--------------+------+-----+---------+-------+\r\n| Field               | Type         | Null | Key | Default | Extra |\r\n+---------------------+--------------+------+-----+---------+-------+\r\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\r\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\r\n| name                | varchar(255) | NO   |     | NULL    |       |\r\n| created_by          | varchar(255) | YES  |     | NULL    |       |\r\n| last_modified_by    | varchar(255) | YES  |     | NULL    |       |\r\n| update_time         | datetime     | YES  |     | NULL    |       |\r\n| create_time         | datetime     | YES  |     | NULL    |       |\r\n+---------------------+--------------+------+-----+---------+-------+\r\n7 rows in set (0.00 sec)\r\n```\r\n\r\nThe sample project is [here](https://github.com/changemyminds/Demo-Spring-JPA-Generate-Table).","title":"Wrong ordering in generated table in jpa","body":"<p>I have the same problem. Finally, I found the solution.</p>\n<p>Find your External Libraries about hibernate core and find the <code>org.hibernate.cfg.PropertyContainer</code> class and copy the content. <br></p>\n<p><a href=\"https://i.stack.imgur.com/2vGBJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2vGBJ.png\" alt=\"enter image description here\" /></a></p>\n<p>In your root folder create the <code>org.hibernate.cfg</code> package and <code>PropertyContainer</code> class.<br>\n<a href=\"https://i.stack.imgur.com/s3q5u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s3q5u.png\" alt=\"enter image description here\" /></a></p>\n<p>Paste the <code>org.hibernate.cfg.PropertyContainer</code> content and replace all <code>TreeMap</code> to <code>LinkedHashMap</code> in your create <code>PropertyContainer</code> class.</p>\n<pre><code>/*\n * Hibernate, Relational Persistence for Idiomatic Java\n *\n * License: GNU Lesser General Public License (LGPL), version 2.1 or later.\n * See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\n */\n\n// $Id$\n\npackage org.hibernate.cfg;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.TreeMap;\nimport javax.persistence.Access;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Transient;\n\nimport org.hibernate.AnnotationException;\nimport org.hibernate.MappingException;\nimport org.hibernate.annotations.ManyToAny;\nimport org.hibernate.annotations.Target;\nimport org.hibernate.annotations.Type;\nimport org.hibernate.annotations.common.reflection.XClass;\nimport org.hibernate.annotations.common.reflection.XProperty;\nimport org.hibernate.boot.jaxb.Origin;\nimport org.hibernate.boot.jaxb.SourceType;\nimport org.hibernate.cfg.annotations.HCANNHelper;\nimport org.hibernate.internal.CoreMessageLogger;\nimport org.hibernate.internal.util.StringHelper;\n\nimport org.jboss.logging.Logger;\n\n/**\n * A helper class to keep the {@code XProperty}s of a class ordered by access type.\n *\n * @author Hardy Ferentschik\n */\nclass PropertyContainer {\n//\n//    static {\n//        System.setProperty(&quot;jboss.i18n.generate-proxies&quot;, &quot;true&quot;);\n//    }\n\n    private static final CoreMessageLogger LOG = Logger.getMessageLogger(CoreMessageLogger.class, PropertyContainer.class.getName());\n\n    /**\n     * The class for which this container is created.\n     */\n    private final XClass xClass;\n    private final XClass entityAtStake;\n\n    /**\n     * Holds the AccessType indicated for use at the class/container-level for cases where persistent attribute\n     * did not specify.\n     */\n    private final AccessType classLevelAccessType;\n\n    private final TreeMap&lt;String, XProperty&gt; persistentAttributeMap;\n\n    PropertyContainer(XClass clazz, XClass entityAtStake, AccessType defaultClassLevelAccessType) {\n        this.xClass = clazz;\n        this.entityAtStake = entityAtStake;\n\n        if ( defaultClassLevelAccessType == AccessType.DEFAULT ) {\n            // this is effectively what the old code did when AccessType.DEFAULT was passed in\n            // to getProperties(AccessType) from AnnotationBinder and InheritanceState\n            defaultClassLevelAccessType = AccessType.PROPERTY;\n        }\n\n        AccessType localClassLevelAccessType = determineLocalClassDefinedAccessStrategy();\n        assert localClassLevelAccessType != null;\n\n        this.classLevelAccessType = localClassLevelAccessType != AccessType.DEFAULT\n                ? localClassLevelAccessType\n                : defaultClassLevelAccessType;\n        assert classLevelAccessType == AccessType.FIELD || classLevelAccessType == AccessType.PROPERTY;\n\n        this.persistentAttributeMap = new TreeMap&lt;String, XProperty&gt;();\n\n        final List&lt;XProperty&gt; fields = xClass.getDeclaredProperties( AccessType.FIELD.getType() );\n        final List&lt;XProperty&gt; getters = xClass.getDeclaredProperties( AccessType.PROPERTY.getType() );\n\n        preFilter( fields, getters );\n\n        final Map&lt;String,XProperty&gt; persistentAttributesFromGetters = new HashMap&lt;String, XProperty&gt;();\n\n        collectPersistentAttributesUsingLocalAccessType(\n                persistentAttributeMap,\n                persistentAttributesFromGetters,\n                fields,\n                getters\n        );\n        collectPersistentAttributesUsingClassLevelAccessType(\n                persistentAttributeMap,\n                persistentAttributesFromGetters,\n                fields,\n                getters\n        );\n    }\n\n    private void preFilter(List&lt;XProperty&gt; fields, List&lt;XProperty&gt; getters) {\n        Iterator&lt;XProperty&gt; propertyIterator = fields.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty property = propertyIterator.next();\n            if ( mustBeSkipped( property ) ) {\n                propertyIterator.remove();\n            }\n        }\n\n        propertyIterator = getters.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty property = propertyIterator.next();\n            if ( mustBeSkipped( property ) ) {\n                propertyIterator.remove();\n            }\n        }\n    }\n\n    private void collectPersistentAttributesUsingLocalAccessType(\n            TreeMap&lt;String, XProperty&gt; persistentAttributeMap,\n            Map&lt;String,XProperty&gt; persistentAttributesFromGetters,\n            List&lt;XProperty&gt; fields,\n            List&lt;XProperty&gt; getters) {\n\n        // Check fields...\n        Iterator&lt;XProperty&gt; propertyIterator = fields.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty xProperty = propertyIterator.next();\n            final Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\n            if ( localAccessAnnotation == null\n                    || localAccessAnnotation.value() != javax.persistence.AccessType.FIELD ) {\n                continue;\n            }\n\n            propertyIterator.remove();\n            persistentAttributeMap.put( xProperty.getName(), xProperty );\n        }\n\n        // Check getters...\n        propertyIterator = getters.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty xProperty = propertyIterator.next();\n            final Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\n            if ( localAccessAnnotation == null\n                    || localAccessAnnotation.value() != javax.persistence.AccessType.PROPERTY ) {\n                continue;\n            }\n\n            propertyIterator.remove();\n\n            final String name = xProperty.getName();\n\n            // HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\n            final XProperty previous = persistentAttributesFromGetters.get( name );\n            if ( previous != null ) {\n                throw new org.hibernate.boot.MappingException(\n                        LOG.ambiguousPropertyMethods(\n                                xClass.getName(),\n                                HCANNHelper.annotatedElementSignature( previous ),\n                                HCANNHelper.annotatedElementSignature( xProperty )\n                        ),\n                        new Origin( SourceType.ANNOTATION, xClass.getName() )\n                );\n            }\n\n            persistentAttributeMap.put( name, xProperty );\n            persistentAttributesFromGetters.put( name, xProperty );\n        }\n    }\n\n    private void collectPersistentAttributesUsingClassLevelAccessType(\n            TreeMap&lt;String, XProperty&gt; persistentAttributeMap,\n            Map&lt;String,XProperty&gt; persistentAttributesFromGetters,\n            List&lt;XProperty&gt; fields,\n            List&lt;XProperty&gt; getters) {\n        if ( classLevelAccessType == AccessType.FIELD ) {\n            for ( XProperty field : fields ) {\n                if ( persistentAttributeMap.containsKey( field.getName() ) ) {\n                    continue;\n                }\n\n                persistentAttributeMap.put( field.getName(), field );\n            }\n        }\n        else {\n            for ( XProperty getter : getters ) {\n                final String name = getter.getName();\n\n                // HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\n                final XProperty previous = persistentAttributesFromGetters.get( name );\n                if ( previous != null ) {\n                    throw new org.hibernate.boot.MappingException(\n                            LOG.ambiguousPropertyMethods(\n                                    xClass.getName(),\n                                    HCANNHelper.annotatedElementSignature( previous ),\n                                    HCANNHelper.annotatedElementSignature( getter )\n                            ),\n                            new Origin( SourceType.ANNOTATION, xClass.getName() )\n                    );\n                }\n\n                if ( persistentAttributeMap.containsKey( name ) ) {\n                    continue;\n                }\n\n                persistentAttributeMap.put( getter.getName(), getter );\n                persistentAttributesFromGetters.put( name, getter );\n            }\n        }\n    }\n\n    public XClass getEntityAtStake() {\n        return entityAtStake;\n    }\n\n    public XClass getDeclaringClass() {\n        return xClass;\n    }\n\n    public AccessType getClassLevelAccessType() {\n        return classLevelAccessType;\n    }\n\n    public Collection&lt;XProperty&gt; getProperties() {\n        assertTypesAreResolvable();\n        return Collections.unmodifiableCollection( persistentAttributeMap.values() );\n    }\n\n    private void assertTypesAreResolvable() {\n        for ( XProperty xProperty : persistentAttributeMap.values() ) {\n            if ( !xProperty.isTypeResolved() &amp;&amp; !discoverTypeWithoutReflection( xProperty ) ) {\n                String msg = &quot;Property &quot; + StringHelper.qualify( xClass.getName(), xProperty.getName() ) +\n                        &quot; has an unbound type and no explicit target entity. Resolve this Generic usage issue&quot; +\n                        &quot; or set an explicit target attribute (eg @OneToMany(target=) or use an explicit @Type&quot;;\n                throw new AnnotationException( msg );\n            }\n        }\n    }\n//\n//  private void considerExplicitFieldAndPropertyAccess() {\n//      for ( XProperty property : fieldAccessMap.values() ) {\n//          Access access = property.getAnnotation( Access.class );\n//          if ( access == null ) {\n//              continue;\n//          }\n//\n//          // see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\n//          // the access type for this property is explicitly set to AccessType.FIELD, hence we have to\n//          // use field access for this property even if the default access type for the class is AccessType.PROPERTY\n//          AccessType accessType = AccessType.getAccessStrategy( access.value() );\n//            if (accessType == AccessType.FIELD) {\n//              propertyAccessMap.put(property.getName(), property);\n//          }\n//            else {\n//              LOG.debug( &quot;Placing @Access(AccessType.FIELD) on a field does not have any effect.&quot; );\n//          }\n//      }\n//\n//      for ( XProperty property : propertyAccessMap.values() ) {\n//          Access access = property.getAnnotation( Access.class );\n//          if ( access == null ) {\n//              continue;\n//          }\n//\n//          AccessType accessType = AccessType.getAccessStrategy( access.value() );\n//\n//          // see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\n//          // the access type for this property is explicitly set to AccessType.PROPERTY, hence we have to\n//          // return use method access even if the default class access type is AccessType.FIELD\n//            if (accessType == AccessType.PROPERTY) {\n//              fieldAccessMap.put(property.getName(), property);\n//          }\n//            else {\n//              LOG.debug( &quot;Placing @Access(AccessType.PROPERTY) on a field does not have any effect.&quot; );\n//          }\n//      }\n//  }\n\n//  /**\n//   * Retrieves all properties from the {@code xClass} with the specified access type. This method does not take\n//   * any jpa access rules/annotations into account yet.\n//   *\n//   * @param access The access type - {@code AccessType.FIELD}  or {@code AccessType.Property}\n//   *\n//   * @return A maps of the properties with the given access type keyed against their property name\n//   */\n//  private TreeMap&lt;String, XProperty&gt; initProperties(AccessType access) {\n//      if ( !( AccessType.PROPERTY.equals( access ) || AccessType.FIELD.equals( access ) ) ) {\n//          throw new IllegalArgumentException( &quot;Access type has to be AccessType.FIELD or AccessType.Property&quot; );\n//      }\n//\n//      //order so that property are used in the same order when binding native query\n//      TreeMap&lt;String, XProperty&gt; propertiesMap = new TreeMap&lt;String, XProperty&gt;();\n//      List&lt;XProperty&gt; properties = xClass.getDeclaredProperties( access.getType() );\n//      for ( XProperty property : properties ) {\n//          if ( mustBeSkipped( property ) ) {\n//              continue;\n//          }\n//          // HHH-10242 detect registration of the same property twice eg boolean isId() + UUID getId()\n//          XProperty oldProperty = propertiesMap.get( property.getName() );\n//          if ( oldProperty != null ) {\n//              throw new org.hibernate.boot.MappingException(\n//                      LOG.ambiguousPropertyMethods(\n//                              xClass.getName(),\n//                              HCANNHelper.annotatedElementSignature( oldProperty ),\n//                              HCANNHelper.annotatedElementSignature( property )\n//                      ),\n//                      new Origin( SourceType.ANNOTATION, xClass.getName() )\n//              );\n//          }\n//\n//          propertiesMap.put( property.getName(), property );\n//      }\n//      return propertiesMap;\n//  }\n\n    private AccessType determineLocalClassDefinedAccessStrategy() {\n        AccessType classDefinedAccessType;\n\n        AccessType hibernateDefinedAccessType = AccessType.DEFAULT;\n        AccessType jpaDefinedAccessType = AccessType.DEFAULT;\n\n        org.hibernate.annotations.AccessType accessType = xClass.getAnnotation( org.hibernate.annotations.AccessType.class );\n        if ( accessType != null ) {\n            hibernateDefinedAccessType = AccessType.getAccessStrategy( accessType.value() );\n        }\n\n        Access access = xClass.getAnnotation( Access.class );\n        if ( access != null ) {\n            jpaDefinedAccessType = AccessType.getAccessStrategy( access.value() );\n        }\n\n        if ( hibernateDefinedAccessType != AccessType.DEFAULT\n                &amp;&amp; jpaDefinedAccessType != AccessType.DEFAULT\n                &amp;&amp; hibernateDefinedAccessType != jpaDefinedAccessType ) {\n            throw new MappingException(\n                    &quot;@AccessType and @Access specified with contradicting values. Use of @Access only is recommended. &quot;\n            );\n        }\n\n        if ( hibernateDefinedAccessType != AccessType.DEFAULT ) {\n            classDefinedAccessType = hibernateDefinedAccessType;\n        }\n        else {\n            classDefinedAccessType = jpaDefinedAccessType;\n        }\n        return classDefinedAccessType;\n    }\n\n    private static boolean discoverTypeWithoutReflection(XProperty p) {\n        if ( p.isAnnotationPresent( OneToOne.class ) &amp;&amp; !p.getAnnotation( OneToOne.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( OneToMany.class ) &amp;&amp; !p.getAnnotation( OneToMany.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToOne.class ) &amp;&amp; !p.getAnnotation( ManyToOne.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToMany.class ) &amp;&amp; !p.getAnnotation( ManyToMany.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( org.hibernate.annotations.Any.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToAny.class ) ) {\n            if ( !p.isCollection() &amp;&amp; !p.isArray() ) {\n                throw new AnnotationException( &quot;@ManyToAny used on a non collection non array property: &quot; + p.getName() );\n            }\n            return true;\n        }\n        else if ( p.isAnnotationPresent( Type.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( Target.class ) ) {\n            return true;\n        }\n        return false;\n    }\n\n    private static boolean mustBeSkipped(XProperty property) {\n        //TODO make those hardcoded tests more portable (through the bytecode provider?)\n        return property.isAnnotationPresent( Transient.class )\n                || &quot;net.sf.cglib.transform.impl.InterceptFieldCallback&quot;.equals( property.getType().getName() )\n                || &quot;org.hibernate.bytecode.internal.javassist.FieldHandler&quot;.equals( property.getType().getName() );\n    }\n}\n</code></pre>\n<p>Fixed the Organization class.</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Organization {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String organizationNumber;\n\n    @Column(nullable = false)\n    private String name;\n\n    public Organization() {\n    }\n\n    public Organization(String name) {\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getOrganizationNumber() {\n        return organizationNumber;\n    }\n\n    public void setOrganizationNumber(String organizationNumber) {\n        this.organizationNumber = organizationNumber;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name + &quot; &quot; + this.organizationNumber;\n    }\n}\n</code></pre>\n<p>Start the Spring Boot App. See the result in the console.</p>\n<pre><code>Hibernate: create table organization (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, primary key (id)) engine=InnoDB\n</code></pre>\n<p>In the database see the desc result.</p>\n<pre><code>mysql&gt; desc organization;\n+---------------------+--------------+------+-----+---------+-------+\n| Field               | Type         | Null | Key | Default | Extra |\n+---------------------+--------------+------+-----+---------+-------+\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\n| name                | varchar(255) | NO   |     | NULL    |       |\n+---------------------+--------------+------+-----+---------+-------+\n3 rows in set (0.00 sec)\n</code></pre>\n<hr />\n<h3>Supplement on Inheritance</h3>\n<p>If you want use the inherit some parent class like Auditing class. The above answer is not enough.</p>\n<p>You can copy <code>InheritanceState.class</code> like above approach and create the <code>InheritanceState.class</code> into <code>org.hibernate.cfg package</code>.</p>\n<p>Modify the two line, just fixed the sorting.</p>\n<pre><code>public class InheritanceState {\n    // ...\n    private void getMappedSuperclassesTillNextEntityOrdered() {\n\n        //ordered to allow proper messages on properties subclassing\n        XClass currentClassInHierarchy = clazz;\n        InheritanceState superclassState;\n        do {\n              // mark this \n//            classesToProcessForMappedSuperclass.add( 0, currentClassInHierarchy );\n\n            // fixed the sorting, add this \n            classesToProcessForMappedSuperclass.add( currentClassInHierarchy );\n            \n            // ...\n        }\n        // ... \n    }\n    \n   private void addMappedSuperClassInMetadata(PersistentClass persistentClass) {\n        //add @MappedSuperclass in the metadata\n        // classes from 0 to n-1 are @MappedSuperclass and should be linked\n        org.hibernate.mapping.MappedSuperclass mappedSuperclass = null;\n        final InheritanceState superEntityState =\n                InheritanceState.getInheritanceStateOfSuperEntity( clazz, inheritanceStatePerClass );\n        PersistentClass superEntity =\n                superEntityState != null ?\n                        buildingContext.getMetadataCollector().getEntityBinding( superEntityState.getClazz().getName() ) :\n                        null;\n        final int lastMappedSuperclass = classesToProcessForMappedSuperclass.size() - 1;\n        \n        // mark this \n//        for ( int index = 0; index &lt; lastMappedSuperclass; index++ ) {\n\n        // fixed the sorting, add this \n        for ( int index = lastMappedSuperclass; index &gt; 0; index-- ) {\n            // ...\n        }\n        // ...\n    }   \n}\n</code></pre>\n<p>The demo class.</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AuditableEntity {\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;)\n    private String createdBy;\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;)\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;update_time&quot;)\n    private ZonedDateTime updatedTime;\n\n    @CreatedDate\n    @Column(name = &quot;create_time&quot;)\n    private ZonedDateTime createTime;\n}\n\n@Entity\npublic class OrganizationAudit extends AuditableEntity {\n   // same field with Organization.class...\n}\n</code></pre>\n<p>In console result.</p>\n<pre><code>create table organization_audit (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, created_by varchar(255), last_modified_by varchar(255), update_time datetime, create_time datetime, primary key (id)) engine=InnoDB\n</code></pre>\n<p>In database result.</p>\n<pre><code>mysql&gt; desc organization_audit;\n+---------------------+--------------+------+-----+---------+-------+\n| Field               | Type         | Null | Key | Default | Extra |\n+---------------------+--------------+------+-----+---------+-------+\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\n| name                | varchar(255) | NO   |     | NULL    |       |\n| created_by          | varchar(255) | YES  |     | NULL    |       |\n| last_modified_by    | varchar(255) | YES  |     | NULL    |       |\n| update_time         | datetime     | YES  |     | NULL    |       |\n| create_time         | datetime     | YES  |     | NULL    |       |\n+---------------------+--------------+------+-----+---------+-------+\n7 rows in set (0.00 sec)\n</code></pre>\n<p>The sample project is <a href=\"https://github.com/changemyminds/Demo-Spring-JPA-Generate-Table\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":4671882,"reputation":185,"user_id":3783469,"accept_rate":43,"display_name":"landsman"},"score":0,"creation_date":1692720191,"post_id":71131141,"comment_id":135661578,"body_markdown":"Other languages allow me to generate schema in exact order of fields from code, because why not? Entity should be source of truth. This is ugly workaround :(","body":"Other languages allow me to generate schema in exact order of fields from code, because why not? Entity should be source of truth. This is ugly workaround :("}],"tags":[],"owner":{"account_id":14361323,"reputation":19,"user_id":10373554,"display_name":"user10373554"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644947509,"creation_date":1644947509,"answer_id":71131141,"question_id":1298322,"body_markdown":"Just create that Table using **create** statement in your database and use Hibernate to insert a value into Table","title":"Wrong ordering in generated table in jpa","body":"<p>Just create that Table using <strong>create</strong> statement in your database and use Hibernate to insert a value into Table</p>\n"},{"tags":[],"owner":{"account_id":5935877,"reputation":1,"user_id":4668892,"display_name":"Mohamed ben Rhaiem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654928694,"creation_date":1654824997,"answer_id":72568244,"question_id":1298322,"body_markdown":"Only to resolve the inheritance for the auditable class as an example, \r\nJPA doesn&#39;t respect the alpha order, will create first the auditable columns, in this case, for the columns of the auditable class to be created last!\r\n\r\nYou need to comment `@MappedSuperclass`, then run in sequence with &#39;create&#39;, then uncomment and run with &#39;update&#39; for the &#39;ddl-auto&#39; option.\r\n\r\n ","title":"Wrong ordering in generated table in jpa","body":"<p>Only to resolve the inheritance for the auditable class as an example,\nJPA doesn't respect the alpha order, will create first the auditable columns, in this case, for the columns of the auditable class to be created last!</p>\n<p>You need to comment <code>@MappedSuperclass</code>, then run in sequence with 'create', then uncomment and run with 'update' for the 'ddl-auto' option.</p>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698219397,"creation_date":1697914348,"answer_id":77337371,"question_id":1298322,"body_markdown":"**2023 Update**\r\n\r\nHibernate 6.2 intoduced the [ColumnOrderingStrategy][1] interface. The default strategy is now the [ColumnOrderingStrategyStandard][2]. The docs say:\r\n\r\n&gt; Standard implementation that orders columns by size and name following\r\n&gt; roughly this ordering: `order by max(physicalSizeBytes, 4), physicalSizeBytes &gt; 2048, name`\r\n\r\nYou can read about the reasoning why it was introduced and done this way and not for example through an annotation in this [discussion][3]. There is also a [nice answer][4] on SO on this topic. \r\n\r\nYou can implement your own strategy by implementing the ColumnOrderingStrategy interface and setting your implementation via the `hibernate.column_ordering_strategy` property or [AvailableSettings.COLUMN_ORDERING_STRATEGY][5]. \r\n\r\nYou can go back to the old behavior by setting `hibernate.column_ordering_strategy=legacy`\r\n\r\nFor more details i&#39;ve written a blog post about it: https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategy.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategyStandard.html\r\n  [3]: https://github.com/hibernate/hibernate-orm/discussions/3989\r\n  [4]: https://stackoverflow.com/a/7431468/534877\r\n  [5]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/cfg/MappingSettings.html#COLUMN_ORDERING_STRATEGY","title":"Wrong ordering in generated table in jpa","body":"<p><strong>2023 Update</strong></p>\n<p>Hibernate 6.2 intoduced the <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategy.html\" rel=\"nofollow noreferrer\">ColumnOrderingStrategy</a> interface. The default strategy is now the <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategyStandard.html\" rel=\"nofollow noreferrer\">ColumnOrderingStrategyStandard</a>. The docs say:</p>\n<blockquote>\n<p>Standard implementation that orders columns by size and name following\nroughly this ordering: <code>order by max(physicalSizeBytes, 4), physicalSizeBytes &gt; 2048, name</code></p>\n</blockquote>\n<p>You can read about the reasoning why it was introduced and done this way and not for example through an annotation in this <a href=\"https://github.com/hibernate/hibernate-orm/discussions/3989\" rel=\"nofollow noreferrer\">discussion</a>. There is also a <a href=\"https://stackoverflow.com/a/7431468/534877\">nice answer</a> on SO on this topic.</p>\n<p>You can implement your own strategy by implementing the ColumnOrderingStrategy interface and setting your implementation via the <code>hibernate.column_ordering_strategy</code> property or <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/cfg/MappingSettings.html#COLUMN_ORDERING_STRATEGY\" rel=\"nofollow noreferrer\">AvailableSettings.COLUMN_ORDERING_STRATEGY</a>.</p>\n<p>You can go back to the old behavior by setting <code>hibernate.column_ordering_strategy=legacy</code></p>\n<p>For more details i've written a blog post about it: <a href=\"https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate\" rel=\"nofollow noreferrer\">https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate</a></p>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53295,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":1298327,"answer_count":7,"score":86,"last_activity_date":1698219397,"creation_date":1250667269,"question_id":1298322,"body_markdown":"This (should) be a rather simple thing to do, however I am struggling.\r\n\r\nI want a table to be generated like this:\r\n&lt;pre&gt;\r\nid \r\norganizationNumber \r\nname\r\n&lt;/pre&gt;\r\n\r\nHowever, when I look in the database, I see that the ordering is wrong. Does anybody know how I can force hibernate/jpa to generate the table with correct ordering? \r\n\r\n&lt;pre&gt;\r\ndesc Organization;\r\n+--------------------+--------------+------+-----+---------+----------------+\r\n| Field              | Type         | Null | Key | Default | Extra          |\r\n+--------------------+--------------+------+-----+---------+----------------+\r\n| id                 | bigint(20)   | NO   | PRI | NULL    | auto_increment | \r\n| name               | varchar(255) | NO   |     | NULL    |                | \r\n| organizationNumber | varchar(255) | NO   | UNI | NULL    |                | \r\n+--------------------+--------------+------+-----+---------+----------------+\r\n&lt;/pre&gt;\r\n\r\nThis is how my entity bean looks like: \r\n\r\n    @Entity\r\n    @NamedQuery(name = &quot;allOrganizations&quot;, query = &quot;SELECT org FROM Organization org order by name&quot;)\r\n    public class Organization {\r\n    \r\n    \tprivate Long id;\r\n    \tprivate String organizationNumber;\r\n    \tprivate String name;\r\n    \r\n    \tpublic Organization() {\r\n    \t}\r\n    \r\n    \tpublic Organization(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@NotEmpty\r\n    \t@Column(unique=true, nullable=false)\r\n    \tpublic String getOrganizationNumber() {\r\n    \t\treturn organizationNumber;\r\n    \t}\r\n           public void setOrganizationNumber(String organizationNumber) {\r\n    \t\tthis.organizationNumber = organizationNumber;\r\n    \t}\r\n    \r\n    \t\r\n    \t@NotEmpty\r\n    \t@Column(nullable=false)\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn this.name + &quot; &quot; + this.organizationNumber;\r\n    \t}\r\n    }\r\n\r\n","title":"Wrong ordering in generated table in jpa","body":"<p>This (should) be a rather simple thing to do, however I am struggling.</p>\n\n<p>I want a table to be generated like this:</p>\n\n<pre>\nid \norganizationNumber \nname\n</pre>\n\n<p>However, when I look in the database, I see that the ordering is wrong. Does anybody know how I can force hibernate/jpa to generate the table with correct ordering? </p>\n\n<pre>\ndesc Organization;\n+--------------------+--------------+------+-----+---------+----------------+\n| Field              | Type         | Null | Key | Default | Extra          |\n+--------------------+--------------+------+-----+---------+----------------+\n| id                 | bigint(20)   | NO   | PRI | NULL    | auto_increment | \n| name               | varchar(255) | NO   |     | NULL    |                | \n| organizationNumber | varchar(255) | NO   | UNI | NULL    |                | \n+--------------------+--------------+------+-----+---------+----------------+\n</pre>\n\n<p>This is how my entity bean looks like: </p>\n\n<pre><code>@Entity\n@NamedQuery(name = \"allOrganizations\", query = \"SELECT org FROM Organization org order by name\")\npublic class Organization {\n\n    private Long id;\n    private String organizationNumber;\n    private String name;\n\n    public Organization() {\n    }\n\n    public Organization(String name) {\n        this.name = name;\n    }\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n    @SuppressWarnings(\"unused\")\n    private void setId(Long id) {\n        this.id = id;\n    }\n\n    @NotEmpty\n    @Column(unique=true, nullable=false)\n    public String getOrganizationNumber() {\n        return organizationNumber;\n    }\n       public void setOrganizationNumber(String organizationNumber) {\n        this.organizationNumber = organizationNumber;\n    }\n\n\n    @NotEmpty\n    @Column(nullable=false)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name + \" \" + this.organizationNumber;\n    }\n}\n</code></pre>\n"},{"tags":["java","matlab","anylogic"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698234838,"post_id":77357427,"comment_id":136378793,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29307447,"reputation":1,"user_id":22454106,"display_name":"soheila zareie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698415365,"answer_count":0,"score":0,"last_activity_date":1698219202,"creation_date":1698219202,"question_id":77357427,"body_markdown":"Can we link optimization algorithm in MATLAB to simulation model in Anylogic automatically?\r\n\r\nI want my results in simulation model (Anylogic) go into MATLAB as inputs and outputs of MATLAB go into Anylogic as it&#39;s inputs automatically to find the best optimized answers ","title":"Link MATLAB TO Anylogic","body":"<p>Can we link optimization algorithm in MATLAB to simulation model in Anylogic automatically?</p>\n<p>I want my results in simulation model (Anylogic) go into MATLAB as inputs and outputs of MATLAB go into Anylogic as it's inputs automatically to find the best optimized answers</p>\n"},{"tags":["java","android","ontouchlistener","multi-touch"],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698219058,"creation_date":1698219058,"question_id":77357416,"body_markdown":"I want to create a view in Android where I can tap (and potentially drag) to draw dots (or lines). This is easy to do with an &lt;code&gt;OnTouchListener&lt;/code&gt;.\r\n\r\nHowever, I also need to enable zooming and rotating with two fingers. I can use an OnTouchListener for this too, and check the number of fingers used with the &lt;code&gt;getPointerCount&lt;/code&gt; fuction. Now the problem is that when I try to zoom, using two fingers, obviously one of the fingers will touch first, resulting in a &lt;code&gt;MotionEvent&lt;/code&gt; being fired, with pointer count 1. Then, after a few milliseconds, the second finger hits, and now I can invoke the zooming (or whatever) functionality.\r\n\r\nSo currently, I am going to implement a short delay (say, 100 ms) in the listener, before starting to draw, in case the user intends to zoom instead of drawing. However, this seems a bit messy, and I though maybe there was some other way to solve this issue?\r\n\r\nOr, to rephrase: Is there a (simple or common) way to avoid handling the first touch event, in cases where a second touch event (with a second finger) immediately follows?\r\n","title":"Avoid (or delaying) handling the first touch in case the user touches with two fingers","body":"<p>I want to create a view in Android where I can tap (and potentially drag) to draw dots (or lines). This is easy to do with an <code>OnTouchListener</code>.</p>\n<p>However, I also need to enable zooming and rotating with two fingers. I can use an OnTouchListener for this too, and check the number of fingers used with the <code>getPointerCount</code> fuction. Now the problem is that when I try to zoom, using two fingers, obviously one of the fingers will touch first, resulting in a <code>MotionEvent</code> being fired, with pointer count 1. Then, after a few milliseconds, the second finger hits, and now I can invoke the zooming (or whatever) functionality.</p>\n<p>So currently, I am going to implement a short delay (say, 100 ms) in the listener, before starting to draw, in case the user intends to zoom instead of drawing. However, this seems a bit messy, and I though maybe there was some other way to solve this issue?</p>\n<p>Or, to rephrase: Is there a (simple or common) way to avoid handling the first touch event, in cases where a second touch event (with a second finger) immediately follows?</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698155200,"creation_date":1698155200,"answer_id":77352667,"question_id":77352564,"body_markdown":"Spring dependencies are a nightmare and gradle sometimes doesn&#39;t help much.\r\n\r\nYou are probably missing the [jboss-logging](https://central.sonatype.com/artifact/org.jboss.logging/jboss-logging) dependency. You can add the following to your gradle build file:\r\n\r\n```\r\nimplementation &quot;org.jboss.logging:jboss-logging:3.5.3.Final&quot;\r\n```\r\n\r\nThe best way to find the missing dependencies for me is to visit https://search.maven.org/ and enter the class name that is missing. Unfortunately in this case it returns thousands of potential packages which is not very helpful, but with a bit of extra filtering I arrived to that package.","title":"SpringBoot - Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource","body":"<p>Spring dependencies are a nightmare and gradle sometimes doesn't help much.</p>\n<p>You are probably missing the <a href=\"https://central.sonatype.com/artifact/org.jboss.logging/jboss-logging\" rel=\"nofollow noreferrer\">jboss-logging</a> dependency. You can add the following to your gradle build file:</p>\n<pre><code>implementation &quot;org.jboss.logging:jboss-logging:3.5.3.Final&quot;\n</code></pre>\n<p>The best way to find the missing dependencies for me is to visit <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">https://search.maven.org/</a> and enter the class name that is missing. Unfortunately in this case it returns thousands of potential packages which is not very helpful, but with a bit of extra filtering I arrived to that package.</p>\n"}],"owner":{"account_id":18994858,"reputation":23,"user_id":13863237,"display_name":"Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698218999,"creation_date":1698154520,"question_id":77352564,"body_markdown":"When I run my Spring Boot Project, I encounter this error, and I can&#39;t figure out what the problem is.\r\n\r\nThis is the error message:\r\n```\r\n2023-10-24T22:17:33.280+09:00  WARN 19060 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactory&#39; parameter 0: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n2023-10-24T22:17:33.284+09:00  INFO 19060 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-24T22:17:33.296+09:00  INFO 19060 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-24T22:17:33.322+09:00 ERROR 19060 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactory&#39; parameter 0: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat everyCamp.campback.CampbackApplication.main(CampbackApplication.java:12) ~[main/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 33 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/jboss/logging/Logger\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.&lt;clinit&gt;(HibernatePersistenceProvider.java:38) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:86) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:137) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:103) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 48 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 57 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThis is my **gradle file**:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ngroup = &#39;everyCamp&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.6.0&#39;\r\n\timplementation &#39;io.hypersistence:hypersistence-utils-hibernate-62:3.5.0&#39;\r\n\ttestImplementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;junit:junit:4.13.1&#39;\r\n\timplementation &#39;com.google.code.gson:gson&#39;\r\n\r\n\timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n\tannotationProcessor &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\r\n\tannotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\r\n\tannotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\nI can&#39;t see anything wrong in dependencies.\r\n\r\nI think I barely updated my codes, but this error suddenly popped up.\r\nWhat is wrong with it? How can I resolve it? \r\n","title":"SpringBoot - Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource","body":"<p>When I run my Spring Boot Project, I encounter this error, and I can't figure out what the problem is.</p>\n<p>This is the error message:</p>\n<pre><code>2023-10-24T22:17:33.280+09:00  WARN 19060 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n2023-10-24T22:17:33.284+09:00  INFO 19060 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-24T22:17:33.296+09:00  INFO 19060 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-24T22:17:33.322+09:00 ERROR 19060 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at everyCamp.campback.CampbackApplication.main(CampbackApplication.java:12) ~[main/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 47 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/jboss/logging/Logger\n    at org.hibernate.jpa.HibernatePersistenceProvider.&lt;clinit&gt;(HibernatePersistenceProvider.java:38) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:86) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:137) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:103) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 57 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is my <strong>gradle file</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'everyCamp'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.6.0'\n    implementation 'io.hypersistence:hypersistence-utils-hibernate-62:3.5.0'\n    testImplementation 'org.projectlombok:lombok:1.18.26'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'junit:junit:4.13.1'\n    implementation 'com.google.code.gson:gson'\n\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\n    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\n    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I can't see anything wrong in dependencies.</p>\n<p>I think I barely updated my codes, but this error suddenly popped up.\nWhat is wrong with it? How can I resolve it?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570701774,"post_id":58320209,"comment_id":102999799,"body_markdown":"I guess the interface should be named `MyEntityRepositoryCustom `","body":"I guess the interface should be named <code>MyEntityRepositoryCustom </code>"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570701862,"post_id":58320209,"comment_id":102999849,"body_markdown":"according to the documentation it doesn&#39;t matter as long as there is an `Impl` postfix. This is just a quick reproducible examle","body":"according to the documentation it doesn&#39;t matter as long as there is an <code>Impl</code> postfix. This is just a quick reproducible examle"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1570702186,"post_id":58320209,"comment_id":103000003,"body_markdown":"can put it on github","body":"can put it on github"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570702286,"post_id":58320209,"comment_id":103000046,"body_markdown":"May be you are looking into new docs. You have to check docs pertaining to the spring data version you are using. But give my suggestion a try. Also make sure all the three files are in same package, repository, customrepository and impl","body":"May be you are looking into new docs. You have to check docs pertaining to the spring data version you are using. But give my suggestion a try. Also make sure all the three files are in same package, repository, customrepository and impl"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570702928,"post_id":58320209,"comment_id":103000397,"body_markdown":"@pvpkiran renaming didn&#39;t help. Also, the link I&#39;ve provided refers to the actual version of the documentation used in code.","body":"@pvpkiran renaming didn&#39;t help. Also, the link I&#39;ve provided refers to the actual version of the documentation used in code."},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570702936,"post_id":58320209,"comment_id":103000402,"body_markdown":"@Shailesh https://github.com/s-kramer/spring-data-problem-reproduction","body":"@Shailesh <a href=\"https://github.com/s-kramer/spring-data-problem-reproduction\" rel=\"nofollow noreferrer\">github.com/s-kramer/spring-data-problem-reproduction</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570707865,"post_id":58320209,"comment_id":103002955,"body_markdown":"I have fixed the code. Do check my answer","body":"I have fixed the code. Do check my answer"}],"answers":[{"comments":[{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570707124,"post_id":58321369,"comment_id":103002568,"body_markdown":"I don&#39;t want to use the `@NamedQuery` approach - I want to extend the Spring Data repository","body":"I don&#39;t want to use the <code>@NamedQuery</code> approach - I want to extend the Spring Data repository"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1570707353,"post_id":58321369,"comment_id":103002690,"body_markdown":"then I would suggest keeping custom repository separate becuase @Repository\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, MyEntityRepositoryCustom  will try to resolve action on all methods defined","body":"then I would suggest keeping custom repository separate becuase @Repository interface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, MyEntityRepositoryCustom  will try to resolve action on all methods defined"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570707406,"post_id":58321369,"comment_id":103002722,"body_markdown":"this is the suggested way of extending the Spring Data repositories, as described in the documentation","body":"this is the suggested way of extending the Spring Data repositories, as described in the documentation"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1570707459,"post_id":58321369,"comment_id":103002753,"body_markdown":"could you please add the url of  documentation","body":"could you please add the url of  documentation"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570707828,"post_id":58321369,"comment_id":103002924,"body_markdown":"it&#39;s in the original quesion: https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations","body":"it&#39;s in the original quesion: <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218894,"creation_date":1570705203,"answer_id":58321369,"question_id":58320209,"body_markdown":"If you want your current code to run then you need a `@NamedQuery` if you want to run hql \r\nor if you want to run native query `@NamedNativeQuery` with a name `MyEntity.myCustomFindQuery` in your Entity class\r\n\r\n    @NamedQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \r\n    query=&quot;SELECT 1 as a, &#39;a&#39; as b from MyEntity&quot;)\r\n\r\n\r\nor \r\n\r\n  \r\n\r\n      @NamedNativeQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \r\n        query=&quot;SELECT 1 as a, &#39;a&#39; as b&quot;, resultSetMapping=&quot;mapmyCustomFindQuery&quot;)\r\n    \r\n    @SqlResultSetMapping(name = &quot;mapmyCustomFindQuery&quot;, classes = {\r\n    \t\t@ConstructorResult(targetClass = MyEntity.class, columns = {\r\n    \t\t\t\t@ColumnResult(name = &quot;a&quot;), @ColumnResult(name = &quot;b&quot;)\r\n    \t\t\t\t\r\n    \t\t})\r\n    })\r\n\r\n\r\n**Alternatively you can keep both repositories separate (means `MyEntityRepository` shouldn&#39;t extend `MyEntityRepositoryCustom`**\r\n\r\nin that case, your Application class will look like below\r\n\r\n    @Autowired \r\n    \tMyEntityRepository repository;\r\n    \t\r\n    \t@Autowired\r\n    \tMyEntityRepositoryCustom entityRepositoryCustom;\r\n    \t\r\n    \t\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringDataDemoApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner run() {\r\n            return (args) -&gt; {\r\n                final MyEntity myEntity1 = entityRepositoryCustom.myCustomFindQuery();\r\n                repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\r\n                for (MyEntity myEntity : repository.findAll()) {\r\n                    System.out.println(myEntity);\r\n                }\r\n            };\r\n        }","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>If you want your current code to run then you need a <code>@NamedQuery</code> if you want to run hql\nor if you want to run native query <code>@NamedNativeQuery</code> with a name <code>MyEntity.myCustomFindQuery</code> in your Entity class</p>\n<pre><code>@NamedQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \nquery=&quot;SELECT 1 as a, 'a' as b from MyEntity&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>  @NamedNativeQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \n    query=&quot;SELECT 1 as a, 'a' as b&quot;, resultSetMapping=&quot;mapmyCustomFindQuery&quot;)\n\n@SqlResultSetMapping(name = &quot;mapmyCustomFindQuery&quot;, classes = {\n        @ConstructorResult(targetClass = MyEntity.class, columns = {\n                @ColumnResult(name = &quot;a&quot;), @ColumnResult(name = &quot;b&quot;)\n                \n        })\n})\n</code></pre>\n<p><strong>Alternatively you can keep both repositories separate (means <code>MyEntityRepository</code> shouldn't extend <code>MyEntityRepositoryCustom</code></strong></p>\n<p>in that case, your Application class will look like below</p>\n<pre><code>@Autowired \n    MyEntityRepository repository;\n    \n    @Autowired\n    MyEntityRepositoryCustom entityRepositoryCustom;\n    \n    \n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataDemoApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner run() {\n        return (args) -&gt; {\n            final MyEntity myEntity1 = entityRepositoryCustom.myCustomFindQuery();\n            repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\n            for (MyEntity myEntity : repository.findAll()) {\n                System.out.println(myEntity);\n            }\n        };\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570708269,"post_id":58322114,"comment_id":103003197,"body_markdown":"ahhhh I see now - the implementation must have the name of the base repository, not the custom repository.","body":"ahhhh I see now - the implementation must have the name of the base repository, not the custom repository."},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570708400,"post_id":58322114,"comment_id":103003261,"body_markdown":"although it&#39;s weird that you can have only 1 extension class per repository","body":"although it&#39;s weird that you can have only 1 extension class per repository"}],"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570707751,"creation_date":1570707751,"answer_id":58322114,"question_id":58320209,"body_markdown":"I just checked out your code and was able to fix it. This is what I did  \r\n\r\nRename `MyEntityRepositoryCustomImpl` to `MyEntityRepositoryImpl` and  \r\n\r\n\r\nAs I told you in my comment, cutom repository should be named `MyEntityRepositoryCustom`(I guess you already did this)\r\n\r\nNaming convention is the key here. Impl class should be named `&lt;BaseRepository&gt;Impl`. And not `&lt;CustomRepository&gt;Impl`","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>I just checked out your code and was able to fix it. This is what I did  </p>\n\n<p>Rename <code>MyEntityRepositoryCustomImpl</code> to <code>MyEntityRepositoryImpl</code> and  </p>\n\n<p>As I told you in my comment, cutom repository should be named <code>MyEntityRepositoryCustom</code>(I guess you already did this)</p>\n\n<p>Naming convention is the key here. Impl class should be named <code>&lt;BaseRepository&gt;Impl</code>. And not <code>&lt;CustomRepository&gt;Impl</code></p>\n"}],"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58322114,"answer_count":2,"score":2,"last_activity_date":1698218894,"creation_date":1570701295,"question_id":58320209,"body_markdown":"I&#39;m trying to implement custom method in Spring Data repository using Spring Boot 1.5.9.RELEASE.\r\nI created the repository:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    interface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, CustomMyEntityRepository {\r\n    \r\n    }\r\n\r\nProvided the custom repository:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    interface CustomMyEntityRepository {\r\n        MyEntity myCustomFindQuery();\r\n    }\r\n\r\nAnd the implementation:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n        @Component\r\n        class CustomMyEntityRepositoryImpl implements CustomMyEntityRepository {\r\n        \r\n        \r\n            @Override\r\n            public MyEntity myCustomFindQuery() {\r\n                System.out.println(&quot;hello from custom query implementation&quot;);\r\n                return null;\r\n            }\r\n        }\r\n\r\nPlus, I provided an invocation:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    @EntityScan\r\n    @EnableJpaRepositories\r\n    @SpringBootApplication\r\n    public class SpringDataDemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringDataDemoApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner run(MyEntityRepository repository) {\r\n            return (args) -&gt; {\r\n                final MyEntity myEntity1 = repository.myCustomFindQuery();\r\n                repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\r\n                for (MyEntity myEntity : repository.findAll()) {\r\n                    System.out.println(myEntity);\r\n                }\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n`pom.xml` is just plain one generated from spring initializer:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n    &lt;!--\t\t&lt;version&gt;2.1.9.RELEASE&lt;/version&gt;--&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-data-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;spring-data-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen running the project on Spring Boot 1.5.9.RELEASE I&#39;m getting a problem on container creation:\r\n`Caused by: java.lang.IllegalArgumentException: Failed to create query method public abstract com.example.springdatademo.MyEntity com.example.springdatademo.CustomMyEntityRepository.myCustomFindQuery()! No property myCustomFindQuery found for type MyEntity!`\r\n\r\nChanging the Spring Boot version to 2.1.9.RELEASE works fine and gives me the expected result.\r\n\r\nI can&#39;t find any tips in [spring-data-jpa-1.11.9.RELEASE documentation](https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations)\r\n","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>I'm trying to implement custom method in Spring Data repository using Spring Boot 1.5.9.RELEASE.\nI created the repository:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, CustomMyEntityRepository {\n\n}\n</code></pre>\n\n<p>Provided the custom repository:</p>\n\n<pre><code>package com.example.springdatademo;\n\ninterface CustomMyEntityRepository {\n    MyEntity myCustomFindQuery();\n}\n</code></pre>\n\n<p>And the implementation:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.stereotype.Component;\n\n    @Component\n    class CustomMyEntityRepositoryImpl implements CustomMyEntityRepository {\n\n\n        @Override\n        public MyEntity myCustomFindQuery() {\n            System.out.println(\"hello from custom query implementation\");\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Plus, I provided an invocation:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@EntityScan\n@EnableJpaRepositories\n@SpringBootApplication\npublic class SpringDataDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataDemoApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner run(MyEntityRepository repository) {\n        return (args) -&gt; {\n            final MyEntity myEntity1 = repository.myCustomFindQuery();\n            repository.save(new MyEntity(1, \"fieldTwo\"));\n            for (MyEntity myEntity : repository.findAll()) {\n                System.out.println(myEntity);\n            }\n        };\n    }\n\n}\n</code></pre>\n\n<p><code>pom.xml</code> is just plain one generated from spring initializer:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;!--        &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-data-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When running the project on Spring Boot 1.5.9.RELEASE I'm getting a problem on container creation:\n<code>Caused by: java.lang.IllegalArgumentException: Failed to create query method public abstract com.example.springdatademo.MyEntity com.example.springdatademo.CustomMyEntityRepository.myCustomFindQuery()! No property myCustomFindQuery found for type MyEntity!</code></p>\n\n<p>Changing the Spring Boot version to 2.1.9.RELEASE works fine and gives me the expected result.</p>\n\n<p>I can't find any tips in <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">spring-data-jpa-1.11.9.RELEASE documentation</a></p>\n"},{"tags":["java","spring","kotlin","jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1649143942,"post_id":71747671,"comment_id":126794606,"body_markdown":"If you want disable query creation then you simply break Spring naming convention for that method, so instead of `findByBar` name it something like `searchByBar` or `fetchByBar`","body":"If you want disable query creation then you simply break Spring naming convention for that method, so instead of <code>findByBar</code> name it something like <code>searchByBar</code> or <code>fetchByBar</code>"},{"owner":{"account_id":18823411,"reputation":628,"user_id":13728893,"display_name":"true_mogician"},"score":4,"creation_date":1649149643,"post_id":71747671,"comment_id":126796729,"body_markdown":"@NikolaiShevchenko Thanks for your solution, but it doesn&#39;t work pitifully. When I renamed it to `fetchByBar`, I still got a `QueryCreationException`, saying: No property &#39;fetchByBar&#39; found for type &#39;Foo&#39;!","body":"@NikolaiShevchenko Thanks for your solution, but it doesn&#39;t work pitifully. When I renamed it to <code>fetchByBar</code>, I still got a <code>QueryCreationException</code>, saying: No property &#39;fetchByBar&#39; found for type &#39;Foo&#39;!"},{"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"score":0,"creation_date":1677333220,"post_id":71747671,"comment_id":133319092,"body_markdown":"Maybe this https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository might offer a solution? Creating a custom method there that still has some context (at least the of SimpleJpaRepository) and gets used when &quot;referenced&quot; by signature in an interface? I didn&#39;t try it tough and I dislike it, as it imposes one single Base Repository for the whole application though.\n\nI&#39;m facing the same situation as the original question and probably will just roll with the *CustomImpl approach and re-creating base-functionality there..","body":"Maybe this <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a> might offer a solution? Creating a custom method there that still has some context (at least the of SimpleJpaRepository) and gets used when &quot;referenced&quot; by signature in an interface? I didn&#39;t try it tough and I dislike it, as it imposes one single Base Repository for the whole application though.  I&#39;m facing the same situation as the original question and probably will just roll with the *CustomImpl approach and re-creating base-functionality there.."},{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":1,"creation_date":1687182046,"post_id":71747671,"comment_id":134897019,"body_markdown":"OP, @icyerasor, I posted another answer that works in Kotlin, allows any method names and does not require another interface, so you do not lose context.","body":"OP, @icyerasor, I posted another answer that works in Kotlin, allows any method names and does not require another interface, so you do not lose context."}],"answers":[{"comments":[{"owner":{"account_id":18823411,"reputation":628,"user_id":13728893,"display_name":"true_mogician"},"score":5,"creation_date":1649150045,"post_id":71748142,"comment_id":126796860,"body_markdown":"Thanks for your answer. This solution does work, but my self-implemented method will lose the context of JpaRepository&lt;Foo, Int&gt;, which is not intended.","body":"Thanks for your answer. This solution does work, but my self-implemented method will lose the context of JpaRepository&lt;Foo, Int&gt;, which is not intended."}],"tags":[],"owner":{"account_id":24831020,"reputation":1,"user_id":18710184,"display_name":"Heshan Harinda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218884,"creation_date":1649145539,"answer_id":71748142,"question_id":71747671,"body_markdown":"You can simply create another interface like `FooRepositoryCustom` and also create an implementation class for that (`FooRepositoryCustomImpl`) and do your implementation on that `FooRepositoryCustomImpl` class and extend the `FooRepositoryCustom` interface to your `FooRepository` interface.\r\n\r\n`FooRepositoryCustom`:\r\n\r\n    public interface FooRepositoryCustom {\r\n        fun findByBar(bar: String): List&lt;Foo&gt;;\r\n    }\r\n\r\n\r\n`FooRepositoryCustomImpl`:\r\n\r\n    public class FooRepositoryCustomImpl implements FooRepositoryCustom {\r\n        @Override\r\n        public fun findByBar(bar: String): List&lt;Foo&gt; {\r\n              //your implementation goes here\r\n        }\r\n    }\r\n\r\n\r\n`FooRepository`:\r\n\r\n    interface FooRepository : JpaRepository&lt;Foo, Int&gt;, FooRepositoryCustom {\r\n    \r\n    }","title":"Spring JPA: How to disable query creation for certain method","body":"<p>You can simply create another interface like <code>FooRepositoryCustom</code> and also create an implementation class for that (<code>FooRepositoryCustomImpl</code>) and do your implementation on that <code>FooRepositoryCustomImpl</code> class and extend the <code>FooRepositoryCustom</code> interface to your <code>FooRepository</code> interface.</p>\n<p><code>FooRepositoryCustom</code>:</p>\n<pre><code>public interface FooRepositoryCustom {\n    fun findByBar(bar: String): List&lt;Foo&gt;;\n}\n</code></pre>\n<p><code>FooRepositoryCustomImpl</code>:</p>\n<pre><code>public class FooRepositoryCustomImpl implements FooRepositoryCustom {\n    @Override\n    public fun findByBar(bar: String): List&lt;Foo&gt; {\n          //your implementation goes here\n    }\n}\n</code></pre>\n<p><code>FooRepository</code>:</p>\n<pre><code>interface FooRepository : JpaRepository&lt;Foo, Int&gt;, FooRepositoryCustom {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9114641,"reputation":41,"user_id":6782099,"display_name":"StephenRUK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657873870,"creation_date":1657873870,"answer_id":72991204,"question_id":71747671,"body_markdown":"**Best practise:** As suggested by Heshan, you can add custom interfaces to your repository interface. Your implementation will be loaded (file name with &quot;Impl&quot; suffix) and it will override the default methods of the same name.\r\n\r\n**Extending JpaRepository:** Why do you want to extend the JpaRepository interface? If you do this, Spring will attempt to create a repository instance itself. To prevent this, annotate your repository *interface* with `@NoRepositoryBean`.\r\n\r\n```java\r\n@NoRepositoryBean\r\npublic interface FooRepositoryCustom extends JpaRepository&lt;Foo, Int&gt; {\r\n}\r\n```\r\n\r\n\r\n**Reference:** I am trying to do something similar with Spring Data Elasticsearch - override existing repository methods. I followed their documentation, see https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations","title":"Spring JPA: How to disable query creation for certain method","body":"<p><strong>Best practise:</strong> As suggested by Heshan, you can add custom interfaces to your repository interface. Your implementation will be loaded (file name with &quot;Impl&quot; suffix) and it will override the default methods of the same name.</p>\n<p><strong>Extending JpaRepository:</strong> Why do you want to extend the JpaRepository interface? If you do this, Spring will attempt to create a repository instance itself. To prevent this, annotate your repository <em>interface</em> with <code>@NoRepositoryBean</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface FooRepositoryCustom extends JpaRepository&lt;Foo, Int&gt; {\n}\n</code></pre>\n<p><strong>Reference:</strong> I am trying to do something similar with Spring Data Elasticsearch - override existing repository methods. I followed their documentation, see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations</a></p>\n"},{"comments":[{"owner":{"account_id":523073,"reputation":1241,"user_id":2792414,"display_name":"Hermann.Gruber"},"score":0,"creation_date":1689002915,"post_id":76507180,"comment_id":135148171,"body_markdown":"you saved my day &lt;3. Works like a charm for me. This should be the accepted answer.","body":"you saved my day &lt;3. Works like a charm for me. This should be the accepted answer."}],"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687224597,"creation_date":1687181786,"answer_id":76507180,"question_id":71747671,"body_markdown":"TL;DR\r\n\r\n\r\nIf you want your repository custom method to just delegate to another method, writing a non-abstract method in your interface is the way to go.\r\n\r\nI Kotlin, though, you need to add the `-Xjvm-default=all` compile parameter, otherwise Spring will think your method does not have a body and will fail initialization anyway.\r\n\r\n----\r\n\r\nI just had the same problem today on a Spring/Kotlin project, and it seemed such a simple use case, I was wondering how we didn&#39;t have more people complaining about it.\r\n\r\nIt turns out this is a corner case of how Kotlin by default handles non-abstract methods in interfaces!\r\n\r\nThe solution everyone recommends, which is creating a separate interface and implementation for the custom methods, doesn&#39;t really work if you want to eventually delegate to a auto-generated method.\r\n\r\nAs I needed my `findByBar` equivalent to delegate, my first try was to simply write a body in the interface method, which is totally supported by Kotlin, that eventually delegates to an auto-generated method. To my surprise, Spring was still crashing saying that I needed to add an `@Query` annotation.\r\n\r\nThen, after seeing some other people successfully using `default` methods in Java (e.g [1][1] and [2][2]), I gave it a try. I created the same thing, in Java, with a `default` method in the interface, and it worked!\r\n\r\nAs Kotlin must be as capable as Java, it was just a matter of time until I figured I just needed the `-Xjvm-default=all` [compiler parameter][3] (full issue history [here][4]) so my non-abstract method was properly generated as a `default` interface method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26543612/should-i-use-java-8-default-methods-for-manually-implemented-spring-data-reposit\r\n  [2]: https://stackoverflow.com/questions/64801649/spring-jpa-repository-interface-and-default-methods-use-case\r\n  [3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/\r\n  [4]: https://youtrack.jetbrains.com/issue/KT-4779","title":"Spring JPA: How to disable query creation for certain method","body":"<p>TL;DR</p>\n<p>If you want your repository custom method to just delegate to another method, writing a non-abstract method in your interface is the way to go.</p>\n<p>I Kotlin, though, you need to add the <code>-Xjvm-default=all</code> compile parameter, otherwise Spring will think your method does not have a body and will fail initialization anyway.</p>\n<hr />\n<p>I just had the same problem today on a Spring/Kotlin project, and it seemed such a simple use case, I was wondering how we didn't have more people complaining about it.</p>\n<p>It turns out this is a corner case of how Kotlin by default handles non-abstract methods in interfaces!</p>\n<p>The solution everyone recommends, which is creating a separate interface and implementation for the custom methods, doesn't really work if you want to eventually delegate to a auto-generated method.</p>\n<p>As I needed my <code>findByBar</code> equivalent to delegate, my first try was to simply write a body in the interface method, which is totally supported by Kotlin, that eventually delegates to an auto-generated method. To my surprise, Spring was still crashing saying that I needed to add an <code>@Query</code> annotation.</p>\n<p>Then, after seeing some other people successfully using <code>default</code> methods in Java (e.g <a href=\"https://stackoverflow.com/questions/26543612/should-i-use-java-8-default-methods-for-manually-implemented-spring-data-reposit\">1</a> and <a href=\"https://stackoverflow.com/questions/64801649/spring-jpa-repository-interface-and-default-methods-use-case\">2</a>), I gave it a try. I created the same thing, in Java, with a <code>default</code> method in the interface, and it worked!</p>\n<p>As Kotlin must be as capable as Java, it was just a matter of time until I figured I just needed the <code>-Xjvm-default=all</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/\" rel=\"nofollow noreferrer\">compiler parameter</a> (full issue history <a href=\"https://youtrack.jetbrains.com/issue/KT-4779\" rel=\"nofollow noreferrer\">here</a>) so my non-abstract method was properly generated as a <code>default</code> interface method.</p>\n"}],"owner":{"account_id":18823411,"reputation":628,"user_id":13728893,"display_name":"true_mogician"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1698218884,"creation_date":1649143125,"question_id":71747671,"body_markdown":"I have a custom repository declared like below(written in Kotlin):\r\n```kt\r\ninterface FooRepository : JpaRepository&lt;Foo, Int&gt; {\r\n    fun findByFoo(foo: String): List&lt;Foo&gt;\r\n\r\n    fun findByBar(bar: String): List&lt;Foo&gt; {\r\n        //custom implementation\r\n    }\r\n}\r\n\r\ndata class Foo(var id: Int, var foo: String, var bar: String)\r\n```\r\nBoth methods satisfy the naming convention of JPA repository, but I want to implement the second method (`FooRepository.findByBar`) on my own. How can I prevent JPA from creating a query for it?  \r\nNote that my custom implementation involves computation logic, thus the `@Query` annotation that allows for a custom query doesn&#39;t meet my requirement.  \r\nBesides, in the real situation, it&#39;s necessary and reasonable to do this, so don&#39;t post your answer or comment if you&#39;re trying to suggest for a &quot;better&quot; design pattern, like placing the implementation in the service layer, etc.","title":"Spring JPA: How to disable query creation for certain method","body":"<p>I have a custom repository declared like below(written in Kotlin):</p>\n<pre><code>interface FooRepository : JpaRepository&lt;Foo, Int&gt; {\n    fun findByFoo(foo: String): List&lt;Foo&gt;\n\n    fun findByBar(bar: String): List&lt;Foo&gt; {\n        //custom implementation\n    }\n}\n\ndata class Foo(var id: Int, var foo: String, var bar: String)\n</code></pre>\n<p>Both methods satisfy the naming convention of JPA repository, but I want to implement the second method (<code>FooRepository.findByBar</code>) on my own. How can I prevent JPA from creating a query for it?<br />\nNote that my custom implementation involves computation logic, thus the <code>@Query</code> annotation that allows for a custom query doesn't meet my requirement.<br />\nBesides, in the real situation, it's necessary and reasonable to do this, so don't post your answer or comment if you're trying to suggest for a &quot;better&quot; design pattern, like placing the implementation in the service layer, etc.</p>\n"},{"tags":["java","bash","sudo"],"answers":[{"tags":[],"owner":{"account_id":308353,"reputation":9204,"user_id":620179,"display_name":"Lynch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1394233282,"creation_date":1394232588,"answer_id":22262225,"question_id":21820343,"body_markdown":"The problem here is that the redirection does not get executed in the bash command you are invoking.\r\n\r\nTry using passing the command to execute as a string usin the -c option for bash:\r\n\r\n    sudo bash -c &quot;/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1&quot;\r\n\r\nIn order to use the java ProcessBuilder with this command I would try construct it like this:\r\n\r\n    new ProcessBuilder(&quot;sudo&quot;, &quot;bash&quot;, &quot;-c&quot;, &quot;/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1&quot;);\r\n\r\nWith this use of ProcessBuilder you are basically asking it to execute the command sudo and provide to it 3 parameters. In return sudo will invoke your command like this: `bash -c &quot;...&quot;`.\r\n\r\nYou might still have a problem when the process will prompt for the sudo password.\r\n","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<p>The problem here is that the redirection does not get executed in the bash command you are invoking.</p>\n\n<p>Try using passing the command to execute as a string usin the -c option for bash:</p>\n\n<pre><code>sudo bash -c \"/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\"\n</code></pre>\n\n<p>In order to use the java ProcessBuilder with this command I would try construct it like this:</p>\n\n<pre><code>new ProcessBuilder(\"sudo\", \"bash\", \"-c\", \"/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\");\n</code></pre>\n\n<p>With this use of ProcessBuilder you are basically asking it to execute the command sudo and provide to it 3 parameters. In return sudo will invoke your command like this: <code>bash -c \"...\"</code>.</p>\n\n<p>You might still have a problem when the process will prompt for the sudo password.</p>\n"},{"tags":[],"owner":{"account_id":10079756,"reputation":635,"user_id":7450531,"display_name":"sadati boina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218883,"creation_date":1698218883,"answer_id":77357398,"question_id":21820343,"body_markdown":"     \r\n    ProcessBuilder processBuilder = new ProcessBuilder();\r\n    processBuilder.command(&quot;bash&quot;, &quot;-c&quot;,&quot;sudo su - yoursuperuser -c \\&quot;yourcommandorscript\\&quot;&quot;);\r\n            Process process = processBuilder.start();\r\n            showProcess(process);\r\n        \r\n    \r\n        \r\n    \r\n        private void showProcess(Process process) throws IOException, InterruptedException {\r\n            try {\r\n                StringBuilder output = new StringBuilder();\r\n    \r\n                BufferedReader reader = new BufferedReader(\r\n                        new InputStreamReader(process.getInputStream()));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    output.append(line + &quot;\\n&quot;);\r\n                }\r\n    \r\n                int exitVal = process.waitFor();\r\n                if (exitVal == 0) {\r\n                    System.out.println(&quot;Success!&quot;);\r\n                    System.out.println(output);\r\n                    System.exit(0);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<pre><code>ProcessBuilder processBuilder = new ProcessBuilder();\nprocessBuilder.command(&quot;bash&quot;, &quot;-c&quot;,&quot;sudo su - yoursuperuser -c \\&quot;yourcommandorscript\\&quot;&quot;);\n        Process process = processBuilder.start();\n        showProcess(process);\n    \n\n    \n\n    private void showProcess(Process process) throws IOException, InterruptedException {\n        try {\n            StringBuilder output = new StringBuilder();\n\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line + &quot;\\n&quot;);\n            }\n\n            int exitVal = process.waitFor();\n            if (exitVal == 0) {\n                System.out.println(&quot;Success!&quot;);\n                System.out.println(output);\n                System.exit(0);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":211682,"reputation":6257,"user_id":463994,"accept_rate":85,"display_name":"MountainX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4449,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1698218883,"creation_date":1392608699,"question_id":21820343,"body_markdown":"How to execute a command like this (with sudo) from Java ProcessBuilder? (I do not need to include a password because the normal user has permission to run myscript.log as root without a password.)\r\n\r\n    sudo bash /home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\r\n\r\nMy question is how do the elements of this command get passed into the constructor of Java&#39;s `ProcessBuilder`?\r\n\r\nFor example, is &quot;sudo&quot; the first argument to the `ProcessBuilder` ctor, the last, or somewhere else? And how do you know where they go and which elements of the command become arguments to `ProcessBuilder`?","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<p>How to execute a command like this (with sudo) from Java ProcessBuilder? (I do not need to include a password because the normal user has permission to run myscript.log as root without a password.)</p>\n\n<pre><code>sudo bash /home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\n</code></pre>\n\n<p>My question is how do the elements of this command get passed into the constructor of Java's <code>ProcessBuilder</code>?</p>\n\n<p>For example, is \"sudo\" the first argument to the <code>ProcessBuilder</code> ctor, the last, or somewhere else? And how do you know where they go and which elements of the command become arguments to <code>ProcessBuilder</code>?</p>\n"},{"tags":["java","kotlin","jooq"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":2,"creation_date":1698163441,"post_id":77353438,"comment_id":136369165,"body_markdown":"If the date is null, could you not set 01.01.1970 for the past? And for the future the 31.12.9999? Then you could also use the between() method, right?","body":"If the date is null, could you not set 01.01.1970 for the past? And for the future the 31.12.9999? Then you could also use the between() method, right?"}],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698170110,"creation_date":1698170110,"answer_id":77354375,"question_id":77353438,"body_markdown":"In JOOQ, you can use the **between** method to create a **BETWEEN** condition for dates, but when dealing with nullable dates, you need to handle the null values in your query. Here&#39;s a common way to do this:\r\n\r\n    import static org.jooq.impl.DSL.*;\r\n    \r\n    Date from = ...; // Your from date\r\n    Date to = ...;   // Your to date\r\n    \r\n    // Assuming you have a field &quot;dateField&quot; in your table\r\n    Field&lt;Date&gt; dateField = ...; \r\n    \r\n    Condition condition = dateField.between(from, to)\r\n        .or(dateField.greaterOrEqual(from).and(dateField.lessOrEqual(to)))\r\n        .or(dateField.isNull());\r\n    \r\n    // Now you can use the &quot;condition&quot; in your query","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>In JOOQ, you can use the <strong>between</strong> method to create a <strong>BETWEEN</strong> condition for dates, but when dealing with nullable dates, you need to handle the null values in your query. Here's a common way to do this:</p>\n<pre><code>import static org.jooq.impl.DSL.*;\n\nDate from = ...; // Your from date\nDate to = ...;   // Your to date\n\n// Assuming you have a field &quot;dateField&quot; in your table\nField&lt;Date&gt; dateField = ...; \n\nCondition condition = dateField.between(from, to)\n    .or(dateField.greaterOrEqual(from).and(dateField.lessOrEqual(to)))\n    .or(dateField.isNull());\n\n// Now you can use the &quot;condition&quot; in your query\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218401,"creation_date":1698218401,"answer_id":77357344,"question_id":77353438,"body_markdown":"There&#39;s a pending feature request for a synthetic `BETWEEN UNBOUNDED ON NULL` syntax:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/8926\r\n\r\nIt would emulate a hypothetical SQL syntax as follows:\r\n\r\n```sql\r\na BETWEEN UNBOUNDED ON NULL NULL AND NULL\r\nb BETWEEN UNBOUNDED ON NULL NULL AND 10\r\nc BETWEEN UNBOUNDED ON NULL -10 AND NULL\r\nd BETWEEN UNBOUNDED ON NULL -10 AND 10\r\n```\r\n\r\nProbably what most people would expect. Until that&#39;s implemented out of the box, you&#39;ll have to implement it yourself as you suggested, using some sort of &quot;minimum&quot; and &quot;maximum&quot; date that can never appear as an actual date in your system, e.g.\r\n\r\n```java\r\nField&lt;Date&gt; min = inline(Date.valueOf(&quot;1970-01-01&quot;));\r\nField&lt;Date&gt; max = inline(Date.valueOf(&quot;9999-12-31&quot;));\r\n\r\nCondition c = T.COL.ge(coalesce(from, min)).and(T.COL.le(coalesce(to, max)));\r\n```\r\n\r\nOr, implement the coalesce logic in Java, directly:\r\n\r\n```java\r\nCondition c = T.COL.ge(from != null ? from : min))\r\n         .and(T.COL.le(to != null ? to : max));\r\n```\r\n","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>There's a pending feature request for a synthetic <code>BETWEEN UNBOUNDED ON NULL</code> syntax:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/8926\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/8926</a></li>\n</ul>\n<p>It would emulate a hypothetical SQL syntax as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>a BETWEEN UNBOUNDED ON NULL NULL AND NULL\nb BETWEEN UNBOUNDED ON NULL NULL AND 10\nc BETWEEN UNBOUNDED ON NULL -10 AND NULL\nd BETWEEN UNBOUNDED ON NULL -10 AND 10\n</code></pre>\n<p>Probably what most people would expect. Until that's implemented out of the box, you'll have to implement it yourself as you suggested, using some sort of &quot;minimum&quot; and &quot;maximum&quot; date that can never appear as an actual date in your system, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field&lt;Date&gt; min = inline(Date.valueOf(&quot;1970-01-01&quot;));\nField&lt;Date&gt; max = inline(Date.valueOf(&quot;9999-12-31&quot;));\n\nCondition c = T.COL.ge(coalesce(from, min)).and(T.COL.le(coalesce(to, max)));\n</code></pre>\n<p>Or, implement the coalesce logic in Java, directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Condition c = T.COL.ge(from != null ? from : min))\n         .and(T.COL.le(to != null ? to : max));\n</code></pre>\n"}],"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698218401,"creation_date":1698161390,"question_id":77353438,"body_markdown":"I&#39;m trying to generate BETWEEN condition for two dates(from, to). one of them can be null and i&#39;m forced to use lessThan, greaterThan instead of between in such case. is there another way?\r\n\r\ntried to use standard jooq&#39;s between() method ","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>I'm trying to generate BETWEEN condition for two dates(from, to). one of them can be null and i'm forced to use lessThan, greaterThan instead of between in such case. is there another way?</p>\n<p>tried to use standard jooq's between() method</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698222280,"post_id":77357200,"comment_id":136376328,"body_markdown":"Just out of curiosity, have you tried to compare the default flink configurations between 1.13 and 1.17 to see if there is a difference in how state/memory is managed?\n\nCan you downgrade to 1.13 to see if you can go back to your initial checkpoint size.   This might be code/state related and not the version, but cant be 100% sure until you downgrade to 1.13 with your latest code and verify that the checkpoint size does go down or not.","body":"Just out of curiosity, have you tried to compare the default flink configurations between 1.13 and 1.17 to see if there is a difference in how state/memory is managed?  Can you downgrade to 1.13 to see if you can go back to your initial checkpoint size.   This might be code/state related and not the version, but cant be 100% sure until you downgrade to 1.13 with your latest code and verify that the checkpoint size does go down or not."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1698265505,"post_id":77357200,"comment_id":136384950,"body_markdown":"Did you make _any_ configuration changes? Which state backend is this (is your state in RocksDB, or on the heap)?","body":"Did you make <i>any</i> configuration changes? Which state backend is this (is your state in RocksDB, or on the heap)?"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1698668328,"post_id":77357200,"comment_id":136430367,"body_markdown":"Have you used any of the claim modes that were introduced with Flink 1.15? https://nightlies.apache.org/flink/flink-docs-master/release-notes/flink-1.15/#checkpoints","body":"Have you used any of the claim modes that were introduced with Flink 1.15? <a href=\"https://nightlies.apache.org/flink/flink-docs-master/release-notes/flink-1.15/#checkpoints\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/release-notes/&hellip;</a>"}],"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698218045,"creation_date":1698217022,"question_id":77357200,"body_markdown":"[Flink checkpoint sizes across 90 days](https://i.stack.imgur.com/zyyl2.png)\r\n\r\nWe have a few Flink services which we recently upgraded from 1.13 to 1.17. No other significant code changes have been made. Our apps checkpoint at a 2 minute interval. Post upgrade, we noticed that the checkpoint size kept increasing. It was only reset when we redeployed the application without using the recent checkpoint. As you see in the image, the orange-ish brown line was checkpoint size during the Flink 1.13. Since then it has been Flink 1.17, and the drops indicate points of redeployment and starting fresh.\r\n\r\nWhat are the possible reasons for this behaviour?\r\n\r\nAll our states have a TTL. All our Windows have their respective aggregate functions.","title":"Flink 1.17 Upgrade Resulting in Ever Increasing Checkpoint Size","body":"<p><a href=\"https://i.stack.imgur.com/zyyl2.png\" rel=\"nofollow noreferrer\">Flink checkpoint sizes across 90 days</a></p>\n<p>We have a few Flink services which we recently upgraded from 1.13 to 1.17. No other significant code changes have been made. Our apps checkpoint at a 2 minute interval. Post upgrade, we noticed that the checkpoint size kept increasing. It was only reset when we redeployed the application without using the recent checkpoint. As you see in the image, the orange-ish brown line was checkpoint size during the Flink 1.13. Since then it has been Flink 1.17, and the drops indicate points of redeployment and starting fresh.</p>\n<p>What are the possible reasons for this behaviour?</p>\n<p>All our states have a TTL. All our Windows have their respective aggregate functions.</p>\n"},{"tags":["java","android","kotlin","androidx","static-analysis"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698101994,"post_id":77348211,"comment_id":136360272,"body_markdown":"Can you include your `dependencies` block from your `build.gradle`? Do you only have a dependency on `AppCompat` or do you have an explicit dependency on a specific version of Fragment and Activity?","body":"Can you include your <code>dependencies</code> block from your <code>build.gradle</code>? Do you only have a dependency on <code>AppCompat</code> or do you have an explicit dependency on a specific version of Fragment and Activity?"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698134764,"post_id":77348211,"comment_id":136363423,"body_markdown":"@ianhanniballake Following your comment I removed almost everything with androidx from my app build.gradle. I kept only androidx.navigation. Cleared build and cache. Somehow everything still compiles perfectly. But the issue remains.","body":"@ianhanniballake Following your comment I removed almost everything with androidx from my app build.gradle. I kept only androidx.navigation. Cleared build and cache. Somehow everything still compiles perfectly. But the issue remains."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698154969,"post_id":77348211,"comment_id":136367166,"body_markdown":"I think you need to do the opposite, actually: have an explicit dependency on the AppCompat, Fragment, and Activity versions you want to be using.","body":"I think you need to do the opposite, actually: have an explicit dependency on the AppCompat, Fragment, and Activity versions you want to be using."},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698178701,"post_id":77348211,"comment_id":136371808,"body_markdown":"&quot;androidx.activity:activity:1.7.1&quot;, &quot;androidx.activity:activity-compose:1.7.1&quot; &quot;androidx.activity:activity-ktx:1.7.1&quot;, did not solve it. I actually do not know why is it using 1.7.1 when clicking the casted objects. But this is why I tried 1.7.1. I also tried 1.8.0.","body":"&quot;androidx.activity:activity:1.7.1&quot;, &quot;androidx.activity:activity-compose:1.7.1&quot; &quot;androidx.activity:activity-ktx:1.7.1&quot;, did not solve it. I actually do not know why is it using 1.7.1 when clicking the casted objects. But this is why I tried 1.7.1. I also tried 1.8.0."}],"answers":[{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217885,"creation_date":1698184341,"answer_id":77355586,"question_id":77348211,"body_markdown":"I have found the cause and a solution, but at the bottom line this seems to me like a Gradle bug.\r\n------------------------------------------------------------------------\r\n\r\nIn my app&#39;s build.gradle, in the dependencies block, I am including a dependency to my own library:\r\n\r\n    implementation project(path: &#39;:mylib&#39;)\r\n\r\nAFAIU this should not have and does not have any influence on the compilation of anything else in my main project (except where directly using mylib).\r\n\r\nmylib is old and serves specifc purpose and generally I have no reason to update it. Its build.gradle has this dependency:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.1&#39;\r\n\r\nThis is causing the lint issue.\r\nLuckily, I could ugrade to `&#39;androidx.appcompat:appcompat:1.6.1&#39;` without any other change.\r\n\r\n\r\n\r\n\r\n","title":"Android Studio Lint does not recognize AppCompatActivity as subclass of FragmentActivity","body":"<h2>I have found the cause and a solution, but at the bottom line this seems to me like a Gradle bug.</h2>\n<p>In my app's build.gradle, in the dependencies block, I am including a dependency to my own library:</p>\n<pre><code>implementation project(path: ':mylib')\n</code></pre>\n<p>AFAIU this should not have and does not have any influence on the compilation of anything else in my main project (except where directly using mylib).</p>\n<p>mylib is old and serves specifc purpose and generally I have no reason to update it. Its build.gradle has this dependency:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.1'\n</code></pre>\n<p>This is causing the lint issue.\nLuckily, I could ugrade to <code>'androidx.appcompat:appcompat:1.6.1'</code> without any other change.</p>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217885,"creation_date":1698093692,"question_id":77348211,"body_markdown":"My MainActivity is a subclass of AppCompatActivity:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\nAnd in some places in the code I use functions and properties of FragmentActivity, like `invalidateMenu()` and `onBackPressedDispatcher`.\r\n\r\n**Everything compiles just fine and works just fine.**\r\nThe only issue is that Android Studio lint does not recognize AppCompatActivity as derived from FragmentActivity.\r\n\r\nI have not encountered any other issues with lint in my code, but this issue does happen in any activity where I use FragmentActivity functions and properties in a subclass of AppCompatActivity.\r\n\r\nUnresolved:&lt;BR&gt;\r\n[![unresolved1][1]][1]\r\n\r\nResolved (cast just for testing):&lt;BR&gt;\r\n[![resolved1][2]][2]\r\n\r\nUnresolved:&lt;BR&gt;\r\n[![unresolved2][3]][3]\r\n\r\nResolved (cast just for testing):&lt;BR&gt;\r\n[![resolved2][4]][4]\r\n\r\n&lt;BR&gt;Problems window:&lt;BR&gt;\r\n[![problems][5]][5]\r\n\r\nEDIT- More information:\r\n-----------------------\r\nA sequence of ctrl+click on AppCompatActivity takes me eventually to `...gradle\\caches\\modules-2\\files-2.1\\androidx.core\\core\\1.0.0...` where \r\n\r\n    public class ComponentActivity extends Activity\r\n            implements LifecycleOwner, KeyEventDispatcher.Component { \r\n\r\nA ctrl+click on onBackPressedDispatcher with the cast test takes me to \r\n`...gradle\\caches\\modules-2\\files-2.1\\androidx.activity\\activity\\1.7.1\\...` where \r\n\r\n    public class ComponentActivity extends androidx.core.app.ComponentActivity implements\r\n            ContextAware,\r\n            LifecycleOwner,\r\n            ViewModelStoreOwner,\r\n            HasDefaultViewModelProviderFactory,\r\n            SavedStateRegistryOwner,\r\n            OnBackPressedDispatcherOwner,\r\n            ActivityResultRegistryOwner,\r\n            ActivityResultCaller,\r\n            OnConfigurationChangedProvider,\r\n            OnTrimMemoryProvider,\r\n            OnNewIntentProvider,\r\n            OnMultiWindowModeChangedProvider,\r\n            OnPictureInPictureModeChangedProvider,\r\n            MenuHost,\r\n            FullyDrawnReporterOwner {\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NLB0I.jpg\r\n  [2]: https://i.stack.imgur.com/DfdGr.jpg\r\n  [3]: https://i.stack.imgur.com/YOMmt.jpg\r\n  [4]: https://i.stack.imgur.com/0YrQc.jpg\r\n  [5]: https://i.stack.imgur.com/xC2jF.jpg","title":"Android Studio Lint does not recognize AppCompatActivity as subclass of FragmentActivity","body":"<p>My MainActivity is a subclass of AppCompatActivity:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n</code></pre>\n<p>And in some places in the code I use functions and properties of FragmentActivity, like <code>invalidateMenu()</code> and <code>onBackPressedDispatcher</code>.</p>\n<p><strong>Everything compiles just fine and works just fine.</strong>\nThe only issue is that Android Studio lint does not recognize AppCompatActivity as derived from FragmentActivity.</p>\n<p>I have not encountered any other issues with lint in my code, but this issue does happen in any activity where I use FragmentActivity functions and properties in a subclass of AppCompatActivity.</p>\n<p>Unresolved:<BR>\n<a href=\"https://i.stack.imgur.com/NLB0I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLB0I.jpg\" alt=\"unresolved1\" /></a></p>\n<p>Resolved (cast just for testing):<BR>\n<a href=\"https://i.stack.imgur.com/DfdGr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DfdGr.jpg\" alt=\"resolved1\" /></a></p>\n<p>Unresolved:<BR>\n<a href=\"https://i.stack.imgur.com/YOMmt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YOMmt.jpg\" alt=\"unresolved2\" /></a></p>\n<p>Resolved (cast just for testing):<BR>\n<a href=\"https://i.stack.imgur.com/0YrQc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YrQc.jpg\" alt=\"resolved2\" /></a></p>\n<p><BR>Problems window:<BR>\n<a href=\"https://i.stack.imgur.com/xC2jF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xC2jF.jpg\" alt=\"problems\" /></a></p>\n<h2>EDIT- More information:</h2>\n<p>A sequence of ctrl+click on AppCompatActivity takes me eventually to <code>...gradle\\caches\\modules-2\\files-2.1\\androidx.core\\core\\1.0.0...</code> where</p>\n<pre><code>public class ComponentActivity extends Activity\n        implements LifecycleOwner, KeyEventDispatcher.Component { \n</code></pre>\n<p>A ctrl+click on onBackPressedDispatcher with the cast test takes me to\n<code>...gradle\\caches\\modules-2\\files-2.1\\androidx.activity\\activity\\1.7.1\\...</code> where</p>\n<pre><code>public class ComponentActivity extends androidx.core.app.ComponentActivity implements\n        ContextAware,\n        LifecycleOwner,\n        ViewModelStoreOwner,\n        HasDefaultViewModelProviderFactory,\n        SavedStateRegistryOwner,\n        OnBackPressedDispatcherOwner,\n        ActivityResultRegistryOwner,\n        ActivityResultCaller,\n        OnConfigurationChangedProvider,\n        OnTrimMemoryProvider,\n        OnNewIntentProvider,\n        OnMultiWindowModeChangedProvider,\n        OnPictureInPictureModeChangedProvider,\n        MenuHost,\n        FullyDrawnReporterOwner {\n</code></pre>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217691,"creation_date":1698217691,"answer_id":77357274,"question_id":77354134,"body_markdown":"I finally found my problem ... I&#39;ve added a flatmap and a private method that handles this code.\r\n\r\n    public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\r\n      return things\r\n        .map(mapper::toEntity)\r\n        .map(ThingEntity::onCreate)\r\n        .map(thingEntity -&gt; {\r\n\r\n            // set the date\r\n            if (thingEntity.getSomething() != null &amp;&amp;\r\n                    thingEntity.getSomething().equals(&quot;truc&quot;)) {\r\n                thingEntity.setDateTruc(LocalDate.now());\r\n            }\r\n\r\n            return thingEntity;\r\n        })\r\n        .flatMap(this::myPrivateMethod)\r\n        .flatMap(repository::save)\r\n        .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\r\n        .then(Mono.empty());","title":"Call repository method into a map","body":"<p>I finally found my problem ... I've added a flatmap and a private method that handles this code.</p>\n<pre><code>public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\n  return things\n    .map(mapper::toEntity)\n    .map(ThingEntity::onCreate)\n    .map(thingEntity -&gt; {\n\n        // set the date\n        if (thingEntity.getSomething() != null &amp;&amp;\n                thingEntity.getSomething().equals(&quot;truc&quot;)) {\n            thingEntity.setDateTruc(LocalDate.now());\n        }\n\n        return thingEntity;\n    })\n    .flatMap(this::myPrivateMethod)\n    .flatMap(repository::save)\n    .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\n    .then(Mono.empty());\n</code></pre>\n"}],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217691,"creation_date":1698167878,"question_id":77354134,"body_markdown":"I&#39;m new to webflow and I&#39;m stuck... I think I&#39;m doing it wrong.\r\nIn my service i have this method :\r\n\r\n    public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\r\n    return things\r\n            .map(mapper::toEntity)\r\n            .map(ThingEntity::onCreate)\r\n            .map(thingEntity -&gt; {\r\n  \r\n                // set the date\r\n                if (thingEntity.getSomething() != null &amp;&amp;\r\n                        thingEntity.getSomething().equals(&quot;truc&quot;)) {\r\n                    thingEntity.setDateTruc(LocalDate.now());\r\n                }\r\n                // if exists, set others dates\r\n                repository\r\n                        .existsByNumberThing(thingEntity.getNumberThing())\r\n                        .map(exists -&gt; {\r\n                            thingEntity.setDate1(Boolean.TRUE.equals(exists)?LocalDateTime.now():null);\r\n                            thingEntity.setDate2(Boolean.TRUE.equals(exists)?null:LocalDateTime.now());\r\n                            return thingEntity;\r\n                        });\r\n\r\n                return thingEntity;\r\n            })\r\n            .flatMap(repository::save)\r\n            .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\r\n            .then(Mono.empty());\r\n }\r\n\r\nDates date1 and date2 have not changed ...\r\nI tried to use a flatMap, to return a Mono but errors in repository.save() :\r\n\r\n&gt; java: incompatible types: cannot infer type-variable(s) R\r\n    (argument mismatch; invalid method reference\r\n      method save in interface \r\n\r\nI don&#39;t know how to do it, thanks for your help.","title":"Call repository method into a map","body":"<p>I'm new to webflow and I'm stuck... I think I'm doing it wrong.\nIn my service i have this method :</p>\n<pre><code>public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\nreturn things\n        .map(mapper::toEntity)\n        .map(ThingEntity::onCreate)\n        .map(thingEntity -&gt; {\n\n            // set the date\n            if (thingEntity.getSomething() != null &amp;&amp;\n                    thingEntity.getSomething().equals(&quot;truc&quot;)) {\n                thingEntity.setDateTruc(LocalDate.now());\n            }\n            // if exists, set others dates\n            repository\n                    .existsByNumberThing(thingEntity.getNumberThing())\n                    .map(exists -&gt; {\n                        thingEntity.setDate1(Boolean.TRUE.equals(exists)?LocalDateTime.now():null);\n                        thingEntity.setDate2(Boolean.TRUE.equals(exists)?null:LocalDateTime.now());\n                        return thingEntity;\n                    });\n\n            return thingEntity;\n        })\n        .flatMap(repository::save)\n        .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\n        .then(Mono.empty());\n</code></pre>\n<p>}</p>\n<p>Dates date1 and date2 have not changed ...\nI tried to use a flatMap, to return a Mono but errors in repository.save() :</p>\n<blockquote>\n<p>java: incompatible types: cannot infer type-variable(s) R\n(argument mismatch; invalid method reference\nmethod save in interface</p>\n</blockquote>\n<p>I don't know how to do it, thanks for your help.</p>\n"},{"tags":["java","authentication","import-from-excel"],"comments":[{"owner":{"account_id":2348349,"reputation":44453,"user_id":2057919,"accept_rate":100,"display_name":"elixenide"},"score":0,"creation_date":1437278167,"post_id":31497755,"comment_id":50959187,"body_markdown":"Do you have a question?","body":"Do you have a question?"}],"answers":[{"tags":[],"owner":{"account_id":7194099,"reputation":1,"user_id":5493459,"display_name":"nitin dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445946631,"creation_date":1445946631,"answer_id":33367258,"question_id":31497755,"body_markdown":"you can try this... It&#39;s not completely customized but it will help...\r\n\r\npublic static void selectData(String tcid,String fieldName) throws FilloException{\r\n\r\n\t\tFillo fillo=new Fillo();\r\n\t\tConnection connection=fillo.getConnection(&quot;testdata//testcasedata.xlsx&quot;);\r\n\t\tString strQuery=&quot;Select * from data where TCID=&#39;&quot;+tcid+&quot;&#39;&quot;;\r\n\t\tRecordset recordset=connection.executeQuery(strQuery);\r\n\t\twhile(recordset.next()){\r\n\t\t\tArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\r\n\t\t\t//System.out.println(dataColl);\r\n\t\t\tIterator&lt;String&gt; dataIterator=dataColl.iterator();\r\n\t\t\t//System.out.println(dataColl.size());\t\r\n\r\n\t\t\twhile(dataIterator.hasNext()){\r\n\t\t\t\tfor (int i=0;i&lt;=dataColl.size()-1;i++){\r\n\t\t\t\t\t//System.out.println(i);\r\n\t\t\t\t\tString data=dataIterator.next();\r\n\t\t\t\t\tString dataVal=recordset.getField(data);\r\n\r\n\t\t\t\t\tif (dataVal.equalsIgnoreCase(fieldName)){\r\n\t\t\t\t\t\t//System.out.println(&quot;passed&quot;);\r\n\t\t\t\t\t\ti=i+1;\r\n\t\t\t\t\t\t//System.out.println(i);\r\n\t\t\t\t\t\tString testData=dataColl.get(i);\r\n\t\t\t\t\t\tSystem.out.println(recordset.getField(testData));\t\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trecordset.close();\r\n\t\tconnection.close();\r\n\r\n\t}","title":"Fillo Implementation","body":"<p>you can try this... It's not completely customized but it will help...</p>\n\n<p>public static void selectData(String tcid,String fieldName) throws FilloException{</p>\n\n<pre><code>    Fillo fillo=new Fillo();\n    Connection connection=fillo.getConnection(\"testdata//testcasedata.xlsx\");\n    String strQuery=\"Select * from data where TCID='\"+tcid+\"'\";\n    Recordset recordset=connection.executeQuery(strQuery);\n    while(recordset.next()){\n        ArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\n        //System.out.println(dataColl);\n        Iterator&lt;String&gt; dataIterator=dataColl.iterator();\n        //System.out.println(dataColl.size());  \n\n        while(dataIterator.hasNext()){\n            for (int i=0;i&lt;=dataColl.size()-1;i++){\n                //System.out.println(i);\n                String data=dataIterator.next();\n                String dataVal=recordset.getField(data);\n\n                if (dataVal.equalsIgnoreCase(fieldName)){\n                    //System.out.println(\"passed\");\n                    i=i+1;\n                    //System.out.println(i);\n                    String testData=dataColl.get(i);\n                    System.out.println(recordset.getField(testData));   \n\n                }\n\n            }\n\n            break;\n        }\n    }\n\n    recordset.close();\n    connection.close();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006989,"reputation":1,"user_id":5371038,"display_name":"Nitin Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452775875,"creation_date":1452775875,"answer_id":34790107,"question_id":31497755,"body_markdown":"You will have to arrange your table like database as fillo works like database. \r\nPut everything related to a test case in a row. as attached.\r\n\r\nbelow is the code for reader and calling the login class. \r\n\r\n            package com.evs.vtiger.framework.util;\r\n    \r\n            import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\r\n    \r\n    import Exception.FilloException;\r\n    import Fillo.Connection;\r\n    import Fillo.Fillo;\r\n    import Fillo.Recordset;\r\n    import com.evs.vtiger.framework.pages.login.login.LoginPage;\r\n    \r\n    public class TestingFillo {\r\n    \r\n    \tpublic static void main(String[] args) throws FilloException {\r\n    \r\n    \t\tWebDriver driver=new FirefoxDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;http://localhost:8080/NBOWeb&quot;);\r\n    \t\tLoginPage lpObj=PageFactory.initElements(driver, LoginPage.class);\r\n    \t\tlpObj.pg_ValidLogin(&quot;TC001&quot;);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String getTestValue(String TCID, String fieldName) throws FilloException{\r\n    \r\n    \t\tString testString=xlTesting(TCID, fieldName);\r\n    \t\treturn testString;\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String xlTesting(String tcid,String fieldName) throws FilloException{\r\n    \t\tString testval=null;\r\n    \t\tFillo fillo=new Fillo();\r\n    \t\tConnection connection=fillo.getConnection(&quot;TestData//TestData.xlsx&quot;);\r\n    \t\tString strQuery=&quot;Select * from data where TCID=&#39;&quot;+tcid+&quot;&#39;&quot;;\r\n    \t\tRecordset recordset=connection.executeQuery(strQuery);\r\n    \t\twhile(recordset.next()){\r\n    \t\t\tArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\r\n    \t\t\t//System.out.println(dataColl);\r\n    \t\t\tIterator&lt;String&gt; dataIterator=dataColl.iterator();\r\n    \t\t\t//System.out.println(dataColl.size());  \r\n    \r\n    \t\t\twhile(dataIterator.hasNext()){\r\n    \t\t\t\tfor (int i=0;i&lt;=dataColl.size()-1;i++){\r\n    \t\t\t\t\t//System.out.println(i);\r\n    \t\t\t\t\tString data=dataIterator.next();\r\n    \t\t\t\t\tString dataVal=recordset.getField(data);\r\n    \r\n    \t\t\t\t\tif (dataVal.equalsIgnoreCase(fieldName)){\r\n    \t\t\t\t\t\t//System.out.println(&quot;passed&quot;);\r\n    \t\t\t\t\t\ti=i+1;\r\n    \t\t\t\t\t\t//System.out.println(i);\r\n    \t\t\t\t\t\tString testData=dataColl.get(i);\r\n    \t\t\t\t\t\t//System.out.println(recordset.getField(testData));   \r\n    \t\t\t\t\t\tString testValue= recordset.getField(testData);\r\n    \t\t\t\t\t\ttestval=testValue;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\trecordset.close();\r\n    \t\tconnection.close();\r\n    \t\treturn testval; \r\n    \t}\r\n    \r\n    \r\n    \tpublic static void inputText(WebElement we, String fieldName, String TCID) throws FilloException{\r\n    \t\tString fval=getTestValue(TCID, fieldName);\r\n    \t\twe.sendKeys(fval);\r\n    \r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nNow here is the code of login \r\n\r\n  \r\n\r\n      package com.evs.vtiger.framework.pages.login.login;\r\n        import org.openqa.selenium.WebElement;\r\n    \r\n    import org.openqa.selenium.support.CacheLookup;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import Exception.FilloException;\r\n    \r\n    import com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\r\n    import com.evs.vtiger.framework.util.TestingFillo;\r\n    import com.evs.vtiger.framework.util.UI;\r\n    import com.evs.vtiger.framework.util.XLReader;\r\n    \r\n    public class LoginPage {\r\n        \r\n    \t@FindBy(name=&quot;username&quot;)\r\n    \tpublic WebElement UserName_ED;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//input[@type=&#39;password&#39;]&quot;)\r\n    \tpublic WebElement Password_ED;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//input[@value=&#39;login&#39;]&quot;)\r\n    \tpublic WebElement Login_BT;\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void pg_ValidLogin(String TCID) throws FilloException {\r\n    \t\t/*UI.fn_Input(UserName_ED, &quot;UserName_ED&quot;);\r\n    \t\tUI.fn_Input(Password_ED, &quot;Password_ED&quot;);\r\n            UI.fn_Click(Login_BT);*/\r\n    \t\t\r\n    \t\t//UserName_ED.sendKeys(&quot;abc&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tTestingFillo.inputText(UserName_ED, &quot;UserName_ED&quot;, TCID);\r\n    \t\tTestingFillo.inputText(Password_ED, &quot;Password_ED&quot;, TCID);\r\n    \t\tLogin_BT.click();\r\n            \r\n           // HomePage hpObj=PageFactory.initElements(UI.driver, HomePage.class);\r\n           // return hpObj;\r\n    \t}\r\n    \r\n        public void pg_InValidLogin() {\r\n        \tUserName_ED.sendKeys(&quot;rahul&quot;);\r\n            Password_ED.sendKeys(&quot;admin&quot;);\r\n            Login_BT.click();\r\n    \t}\r\n        \r\n    }\r\n\r\nI hope it makes sense. Please ignore the commented code. sorry for that.\r\n\r\nThanks\r\nNitin","title":"Fillo Implementation","body":"<p>You will have to arrange your table like database as fillo works like database. \nPut everything related to a test case in a row. as attached.</p>\n\n<p>below is the code for reader and calling the login class. </p>\n\n<pre><code>        package com.evs.vtiger.framework.util;\n\n        import java.util.ArrayList;\nimport java.util.Iterator;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.PageFactory;\n\nimport com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\n\nimport Exception.FilloException;\nimport Fillo.Connection;\nimport Fillo.Fillo;\nimport Fillo.Recordset;\nimport com.evs.vtiger.framework.pages.login.login.LoginPage;\n\npublic class TestingFillo {\n\n    public static void main(String[] args) throws FilloException {\n\n        WebDriver driver=new FirefoxDriver();\n        driver.manage().window().maximize();\n        driver.get(\"http://localhost:8080/NBOWeb\");\n        LoginPage lpObj=PageFactory.initElements(driver, LoginPage.class);\n        lpObj.pg_ValidLogin(\"TC001\");\n\n    }\n\n    public static String getTestValue(String TCID, String fieldName) throws FilloException{\n\n        String testString=xlTesting(TCID, fieldName);\n        return testString;\n\n    }\n\n    public static String xlTesting(String tcid,String fieldName) throws FilloException{\n        String testval=null;\n        Fillo fillo=new Fillo();\n        Connection connection=fillo.getConnection(\"TestData//TestData.xlsx\");\n        String strQuery=\"Select * from data where TCID='\"+tcid+\"'\";\n        Recordset recordset=connection.executeQuery(strQuery);\n        while(recordset.next()){\n            ArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\n            //System.out.println(dataColl);\n            Iterator&lt;String&gt; dataIterator=dataColl.iterator();\n            //System.out.println(dataColl.size());  \n\n            while(dataIterator.hasNext()){\n                for (int i=0;i&lt;=dataColl.size()-1;i++){\n                    //System.out.println(i);\n                    String data=dataIterator.next();\n                    String dataVal=recordset.getField(data);\n\n                    if (dataVal.equalsIgnoreCase(fieldName)){\n                        //System.out.println(\"passed\");\n                        i=i+1;\n                        //System.out.println(i);\n                        String testData=dataColl.get(i);\n                        //System.out.println(recordset.getField(testData));   \n                        String testValue= recordset.getField(testData);\n                        testval=testValue;\n                    }\n\n                }\n\n                break;\n            }\n        }\n\n        recordset.close();\n        connection.close();\n        return testval; \n    }\n\n\n    public static void inputText(WebElement we, String fieldName, String TCID) throws FilloException{\n        String fval=getTestValue(TCID, fieldName);\n        we.sendKeys(fval);\n\n    }\n\n\n}\n</code></pre>\n\n<p>Now here is the code of login </p>\n\n<pre><code>  package com.evs.vtiger.framework.pages.login.login;\n    import org.openqa.selenium.WebElement;\n\nimport org.openqa.selenium.support.CacheLookup;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\n\nimport Exception.FilloException;\n\nimport com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\nimport com.evs.vtiger.framework.util.TestingFillo;\nimport com.evs.vtiger.framework.util.UI;\nimport com.evs.vtiger.framework.util.XLReader;\n\npublic class LoginPage {\n\n    @FindBy(name=\"username\")\n    public WebElement UserName_ED;\n\n    @FindBy(xpath=\"//input[@type='password']\")\n    public WebElement Password_ED;\n\n    @FindBy(xpath=\"//input[@value='login']\")\n    public WebElement Login_BT;\n\n\n\n    public void pg_ValidLogin(String TCID) throws FilloException {\n        /*UI.fn_Input(UserName_ED, \"UserName_ED\");\n        UI.fn_Input(Password_ED, \"Password_ED\");\n        UI.fn_Click(Login_BT);*/\n\n        //UserName_ED.sendKeys(\"abc\");\n\n\n        TestingFillo.inputText(UserName_ED, \"UserName_ED\", TCID);\n        TestingFillo.inputText(Password_ED, \"Password_ED\", TCID);\n        Login_BT.click();\n\n       // HomePage hpObj=PageFactory.initElements(UI.driver, HomePage.class);\n       // return hpObj;\n    }\n\n    public void pg_InValidLogin() {\n        UserName_ED.sendKeys(\"rahul\");\n        Password_ED.sendKeys(\"admin\");\n        Login_BT.click();\n    }\n\n}\n</code></pre>\n\n<p>I hope it makes sense. Please ignore the commented code. sorry for that.</p>\n\n<p>Thanks\nNitin</p>\n"}],"owner":{"account_id":4960898,"reputation":23,"user_id":3992050,"accept_rate":40,"display_name":"Groax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698217500,"creation_date":1437276873,"question_id":31497755,"body_markdown":"I came across a really nice and simple xls and xlsx implementation API called Fillo. I&#39;ve made a spread sheet with the following values as most people know the all caps sections are for category names to seac\r\n\r\n    USERID    PASS\r\n    joe       bigjoe\r\n    jim       bigjim\r\n    john      bigjohn\r\n\r\nNow here&#39;s the code:\r\n\r\n        import Exception.FilloException;\r\n        import Fillo.*;\r\n    \r\n    \r\n      public class CallBack {\r\n        public static void main(String args[]) throws FilloException {\r\n        \ttestFillo();\r\n        }\r\n    \r\n    \tprivate static void testFillo() throws FilloException {\r\n    \t\tFillo fillo=new Fillo();\r\n    \t\tConnection connection=fillo.getConnection(&quot;logindatabase.xls&quot;);\r\n    \t\tString strQuery=&quot;Select * from Sheet1 where USERID=&#39;*&#39; and PASS=&#39;*&#39;&quot;;\r\n    \t\tRecordset recordset=connection.executeQuery(strQuery);\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * I&#39;m wanting the login check to be right here\r\n    \t\t */\r\n    \t\t\r\n    \t\trecordset.close();\r\n    \t\tconnection.close();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe login function should go through the USERID column first and once it finds that it will check the corresponding PASS value. So if it found &quot;jim&quot; as the user it then check for &quot;bigjim&quot; as the password.\r\n\r\nSo the big question would be: How would I set something like this up? \r\n\r\nHere&#39;s the [Fillo Documentation][1].\r\n\r\n\r\n  [1]: http://www.codoid.com/products/view/2/29\r\n\r\nAll the best,\r\n\r\nGroax","title":"Fillo Implementation","body":"<p>I came across a really nice and simple xls and xlsx implementation API called Fillo. I've made a spread sheet with the following values as most people know the all caps sections are for category names to seac</p>\n\n<pre><code>USERID    PASS\njoe       bigjoe\njim       bigjim\njohn      bigjohn\n</code></pre>\n\n<p>Now here's the code:</p>\n\n<pre><code>    import Exception.FilloException;\n    import Fillo.*;\n\n\n  public class CallBack {\n    public static void main(String args[]) throws FilloException {\n        testFillo();\n    }\n\n    private static void testFillo() throws FilloException {\n        Fillo fillo=new Fillo();\n        Connection connection=fillo.getConnection(\"logindatabase.xls\");\n        String strQuery=\"Select * from Sheet1 where USERID='*' and PASS='*'\";\n        Recordset recordset=connection.executeQuery(strQuery);\n\n        /*\n         * I'm wanting the login check to be right here\n         */\n\n        recordset.close();\n        connection.close();\n\n    }\n}\n</code></pre>\n\n<p>The login function should go through the USERID column first and once it finds that it will check the corresponding PASS value. So if it found \"jim\" as the user it then check for \"bigjim\" as the password.</p>\n\n<p>So the big question would be: How would I set something like this up? </p>\n\n<p>Here's the <a href=\"http://www.codoid.com/products/view/2/29\" rel=\"nofollow\">Fillo Documentation</a>.</p>\n\n<p>All the best,</p>\n\n<p>Groax</p>\n"},{"tags":["java","mysql","spring","transactions","timeoutexception"],"comments":[{"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"score":0,"creation_date":1698171010,"post_id":77354123,"comment_id":136370490,"body_markdown":"Can you share `insertFile(File file)` part from `FileDAO`?","body":"Can you share <code>insertFile(File file)</code> part from <code>FileDAO</code>?"},{"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"score":0,"creation_date":1698190988,"post_id":77354123,"comment_id":136373252,"body_markdown":"My mistake. The query is about `updateFile(File file)`, not `insertFile(File file)`.","body":"My mistake. The query is about <code>updateFile(File file)</code>, not <code>insertFile(File file)</code>."},{"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"score":0,"creation_date":1698259229,"post_id":77354123,"comment_id":136383958,"body_markdown":"What is in that `updateFile(File file)` method?\ncan you share `updateFile(File file)` content then it becomes more clear\nI cannot guess what&#39;s happening in `updateFile` method, maybe there we are missing something. \nI don&#39;t see any problems with `saveFileList` at the moment. \nAlso, if possible don&#39;t update 1200 entities within single transaction but do update in smaller chunks if your businness allows it","body":"What is in that <code>updateFile(File file)</code> method? can you share <code>updateFile(File file)</code> content then it becomes more clear I cannot guess what&#39;s happening in <code>updateFile</code> method, maybe there we are missing something.  I don&#39;t see any problems with <code>saveFileList</code> at the moment.  Also, if possible don&#39;t update 1200 entities within single transaction but do update in smaller chunks if your businness allows it"}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217398,"creation_date":1698217398,"answer_id":77357242,"question_id":77354123,"body_markdown":"Instead of using your customized DAO class use JpaRepository and call saveAll method.\r\n\r\n    \r\n    @Repository\r\n    public interface FileRepository extends JpaRepository&lt;File, Long&gt; {\r\n        \r\n    }\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class FileService {\r\n    \r\n        private final FileRepository fileRepository;\r\n    \r\n        @Autowired\r\n        public FileService(FileRepository fileRepository) {\r\n            this.fileRepository = fileRepository;\r\n        }\r\n    \r\n        public void saveAll(List&lt;Long&gt; fileIds) {\r\n            List&lt;File&gt; files = fileRepository.findAllById(fileIds);\r\n            //change the data of file objects\r\n            fileRepository.saveAll(files);\r\n        }\r\n    }\r\n\r\n","title":"@Transactional don&#39;t commit","body":"<p>Instead of using your customized DAO class use JpaRepository and call saveAll method.</p>\n<pre><code>@Repository\npublic interface FileRepository extends JpaRepository&lt;File, Long&gt; {\n    \n}\n\n\n@Service\n@Transactional\npublic class FileService {\n\n    private final FileRepository fileRepository;\n\n    @Autowired\n    public FileService(FileRepository fileRepository) {\n        this.fileRepository = fileRepository;\n    }\n\n    public void saveAll(List&lt;Long&gt; fileIds) {\n        List&lt;File&gt; files = fileRepository.findAllById(fileIds);\n        //change the data of file objects\n        fileRepository.saveAll(files);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217398,"creation_date":1698167724,"question_id":77354123,"body_markdown":"I had a problem with a long transaction while working.\r\n\r\nBecause of the long transaction, any update queries made MySqlTimeoutException.\r\n\r\nThe query that had a problem is similar to the following.\r\n\r\n```\r\n-- fileDAO.updateFile\r\n-- file_id is PK. Column &#39;related_board_id&#39; doesn&#39;t have any index and type is int.\r\n\r\nUPDATE file SET related_board_id = 1 WHERE file_id = 1\r\n```\r\n\r\nThe code that had a problem is similar to the following.\r\n\r\n```\r\n@Service\r\npublic class FileService {\r\n    @Autowired\r\n    private FileDAO fileDAO;\r\n    \r\n    // I have PlatformTransactionManager bean. Transactional has default settings.\r\n    @Transactional\r\n    public void saveFileList(List&lt;File&gt; fileList) {\r\n        for (File file: fileList) {\r\n            fileDAO.updateFile(file);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe used Spring 4.3.x.\r\n\r\nAt the time, 1200 files were being stored. There was no error log about that transaction, but the transaction didn&#39;t commit.\r\n\r\nI think that the cause of the long transcation is saving too many files, but I can&#39;t understand why the problem occurred without commit in this transaction even though there was no error log.\r\n\r\nWhy did that long transaction occur?\r\n\r\nIf my opinion(the cause is saving too many files) is correct, why the problem occurred without commit?","title":"@Transactional don&#39;t commit","body":"<p>I had a problem with a long transaction while working.</p>\n<p>Because of the long transaction, any update queries made MySqlTimeoutException.</p>\n<p>The query that had a problem is similar to the following.</p>\n<pre><code>-- fileDAO.updateFile\n-- file_id is PK. Column 'related_board_id' doesn't have any index and type is int.\n\nUPDATE file SET related_board_id = 1 WHERE file_id = 1\n</code></pre>\n<p>The code that had a problem is similar to the following.</p>\n<pre><code>@Service\npublic class FileService {\n    @Autowired\n    private FileDAO fileDAO;\n    \n    // I have PlatformTransactionManager bean. Transactional has default settings.\n    @Transactional\n    public void saveFileList(List&lt;File&gt; fileList) {\n        for (File file: fileList) {\n            fileDAO.updateFile(file);\n        }\n    }\n}\n</code></pre>\n<p>We used Spring 4.3.x.</p>\n<p>At the time, 1200 files were being stored. There was no error log about that transaction, but the transaction didn't commit.</p>\n<p>I think that the cause of the long transcation is saving too many files, but I can't understand why the problem occurred without commit in this transaction even though there was no error log.</p>\n<p>Why did that long transaction occur?</p>\n<p>If my opinion(the cause is saving too many files) is correct, why the problem occurred without commit?</p>\n"},{"tags":["java","string","trim"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1270827553,"post_id":2608665,"comment_id":2619082,"body_markdown":"Is the string already known to have quotes around it, or is checking for quotes part of the problem?","body":"Is the string already known to have quotes around it, or is checking for quotes part of the problem?"}],"answers":[{"comments":[{"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":0,"creation_date":1270827543,"post_id":2608681,"comment_id":2619080,"body_markdown":"so it should be first index and the last index of double qoute.","body":"so it should be first index and the last index of double qoute."}],"tags":[],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270826970,"creation_date":1270826970,"answer_id":2608681,"question_id":2608665,"body_markdown":"find indexes of each double quotes and insert an empty string there.","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>find indexes of each double quotes and insert an empty string there.</p>\n"},{"comments":[{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":0,"creation_date":1270827370,"post_id":2608682,"comment_id":2619040,"body_markdown":"I&#39;m not building a csv parser. i&#39;m building a facebook app using tinyfbclient and for some reason it provides me the uid of the user with trailing and ending double quotes.","body":"I&#39;m not building a csv parser. i&#39;m building a facebook app using tinyfbclient and for some reason it provides me the uid of the user with trailing and ending double quotes."},{"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":7,"creation_date":1270827370,"post_id":2608682,"comment_id":2619039,"body_markdown":"don&#39;t you think it will replaces all occurrences of double quotes with empty string rather then the first and the last.","body":"don&#39;t you think it will replaces all occurrences of double quotes with empty string rather then the first and the last."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1270827447,"post_id":2608682,"comment_id":2619059,"body_markdown":"@ufk: This isn&#39;t a complex regex. You may otherwise want to hassle with a bunch of `String#indexOf()`, `String#substring()`, methods and so on. It&#39;s only a little tad faster, but it&#39;s much more code. @GK: Uh, did you read/understand the regex or even test it?","body":"@ufk: This isn&#39;t a complex regex. You may otherwise want to hassle with a bunch of <code>String#indexOf()</code>, <code>String#substring()</code>, methods and so on. It&#39;s only a little tad faster, but it&#39;s much more code. @GK: Uh, did you read/understand the regex or even test it?"},{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":0,"creation_date":1270827587,"post_id":2608682,"comment_id":2619090,"body_markdown":"i checked. it does not replace all occurrences of double quotes. only the first and the last.","body":"i checked. it does not replace all occurrences of double quotes. only the first and the last."},{"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":0,"creation_date":1270827655,"post_id":2608682,"comment_id":2619101,"body_markdown":"sorry BalusC i am not good at Regex, as you have used replaceAll, i had a doubt on that.","body":"sorry BalusC i am not good at Regex, as you have used replaceAll, i had a doubt on that."},{"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"score":18,"creation_date":1270828420,"post_id":2608682,"comment_id":2619215,"body_markdown":"@GK the caret represents the beginning of the searched string, and the dollar sign represents its end.  The backslash here &quot;escapes&quot; the following quote so it&#39;s treated as just a character.  So this regex says, replace all occurrences of quote at the start, or quote at the end, with the empty string.  Just as requested.","body":"@GK the caret represents the beginning of the searched string, and the dollar sign represents its end.  The backslash here &quot;escapes&quot; the following quote so it&#39;s treated as just a character.  So this regex says, replace all occurrences of quote at the start, or quote at the end, with the empty string.  Just as requested."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1270830532,"post_id":2608682,"comment_id":2619516,"body_markdown":"@GK: Carl&#39;s right. Also, `replace()` methods doesn&#39;t accept regex. They accept only a char or a literal string (charsequence). The `replaceAll()` method is the only accepting a regex to match character patterns for replacement.","body":"@GK: Carl&#39;s right. Also, <code>replace()</code> methods doesn&#39;t accept regex. They accept only a char or a literal string (charsequence). The <code>replaceAll()</code> method is the only accepting a regex to match character patterns for replacement."},{"owner":{"account_id":1777644,"reputation":5334,"user_id":1621111,"accept_rate":47,"display_name":"Konstantin Konopko"},"score":1,"creation_date":1417134852,"post_id":2608682,"comment_id":42849319,"body_markdown":"How can I replace only pair start/end quotes and leave single quote?","body":"How can I replace only pair start/end quotes and leave single quote?"},{"owner":{"account_id":4821281,"reputation":582,"user_id":3891901,"accept_rate":67,"display_name":"Marc"},"score":1,"creation_date":1431776216,"post_id":2608682,"comment_id":48649126,"body_markdown":"This doesn&#39;t work if the string has a double quote at the beginning only.  It will still match the regex......","body":"This doesn&#39;t work if the string has a double quote at the beginning only.  It will still match the regex......"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1431798001,"post_id":2608682,"comment_id":48656014,"body_markdown":"@Marc: I&#39;m not sure how that&#39;s a problem considering the question in its current form.","body":"@Marc: I&#39;m not sure how that&#39;s a problem considering the question in its current form."},{"owner":{"account_id":2432851,"reputation":6204,"user_id":3596576,"accept_rate":48,"display_name":"Ionut Negru"},"score":1,"creation_date":1474368180,"post_id":2608682,"comment_id":66492782,"body_markdown":"This is the correct answer if you want to remove starting and ending double quotes from a string.","body":"This is the correct answer if you want to remove starting and ending double quotes from a string."},{"owner":{"account_id":998173,"reputation":3113,"user_id":1013628,"accept_rate":88,"display_name":"ibizaman"},"score":10,"creation_date":1483341141,"post_id":2608682,"comment_id":70050788,"body_markdown":"Here is the regex broken down: `^\\&quot;|\\&quot;$`. `|` means &quot;or&quot;. It will thus match either `^\\&quot;` or `\\&quot;$`. `^` matches start of string and `$` matches end of string. `^\\&quot;` means match a quote at the start of the string and `\\&quot;$` matches a quote at the end of the string.","body":"Here is the regex broken down: <code>^\\&quot;|\\&quot;$</code>. <code>|</code> means &quot;or&quot;. It will thus match either <code>^\\&quot;</code> or <code>\\&quot;$</code>. <code>^</code> matches start of string and <code>$</code> matches end of string. <code>^\\&quot;</code> means match a quote at the start of the string and <code>\\&quot;$</code> matches a quote at the end of the string."},{"owner":{"account_id":1807526,"reputation":3107,"user_id":1644320,"accept_rate":47,"display_name":"Pablo Pazos"},"score":0,"creation_date":1630519433,"post_id":2608682,"comment_id":121980866,"body_markdown":"Regular expression should be /^\\&quot;|\\&quot;$/ this actually give a compilation error","body":"Regular expression should be /^\\&quot;|\\&quot;$/ this actually give a compilation error"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1630521295,"post_id":2608682,"comment_id":121981521,"body_markdown":"@PabloPazos: that can happen if you&#39;re confusing Java with JavaScript.","body":"@PabloPazos: that can happen if you&#39;re confusing Java with JavaScript."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":14,"down_vote_count":4,"up_vote_count":316,"is_accepted":true,"score":312,"last_activity_date":1270827586,"creation_date":1270826988,"answer_id":2608682,"question_id":2608665,"body_markdown":"You can use [`String#replaceAll()`][1] with a pattern of `^\\&quot;|\\&quot;$` for this.\r\n\r\nE.g.\r\n\r\n    string = string.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\r\n\r\nTo learn more about regular expressions, have al ook at http://regular-expression.info.\r\n\r\nThat said, this smells a bit like that you&#39;re trying to invent a CSV parser. If so, I&#39;d suggest to look around for existing libraries, such as [OpenCSV][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://opencsv.sourceforge.net/","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>String#replaceAll()</code></a> with a pattern of <code>^\\\"|\\\"$</code> for this.</p>\n\n<p>E.g.</p>\n\n<pre><code>string = string.replaceAll(\"^\\\"|\\\"$\", \"\");\n</code></pre>\n\n<p>To learn more about regular expressions, have al ook at <a href=\"http://regular-expression.info\" rel=\"noreferrer\">http://regular-expression.info</a>.</p>\n\n<p>That said, this smells a bit like that you're trying to invent a CSV parser. If so, I'd suggest to look around for existing libraries, such as <a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">OpenCSV</a>.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":27,"creation_date":1270827178,"post_id":2608698,"comment_id":2619009,"body_markdown":"This only requires that the quotes should *guaranteed* be present. If there&#39;s no guarantee, then you&#39;ll need to check it first beforehand.","body":"This only requires that the quotes should <i>guaranteed</i> be present. If there&#39;s no guarantee, then you&#39;ll need to check it first beforehand."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1270827378,"post_id":2608698,"comment_id":2619043,"body_markdown":"@BalusC: Certainly. From my reading of the question, it seems that the string is already known to have quotes around it.","body":"@BalusC: Certainly. From my reading of the question, it seems that the string is already known to have quotes around it."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":2,"down_vote_count":8,"up_vote_count":45,"is_accepted":false,"score":37,"last_activity_date":1270827089,"creation_date":1270827089,"answer_id":2608698,"question_id":2608665,"body_markdown":"To remove the first character and last character from the string, use:\r\n\r\n    myString = myString.substring(1, myString.length()-1);","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>To remove the first character and last character from the string, use:</p>\n\n<pre><code>myString = myString.substring(1, myString.length()-1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5382000,"reputation":5258,"user_id":4286990,"accept_rate":60,"display_name":"vatsal mevada"},"score":3,"creation_date":1439907581,"post_id":22983827,"comment_id":52046446,"body_markdown":"is it possible to trim only single character? For example if my string ends with two single quotes still I want only single quote to get trimmed.","body":"is it possible to trim only single character? For example if my string ends with two single quotes still I want only single quote to get trimmed."}],"tags":[],"owner":{"account_id":2201340,"reputation":407,"user_id":1945665,"accept_rate":60,"display_name":"legrass"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1397121634,"creation_date":1397121634,"answer_id":22983827,"question_id":2608665,"body_markdown":"Using Guava you can write more elegantly `CharMatcher.is(&#39;\\&quot;&#39;).trimFrom(mystring);`\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Using Guava you can write more elegantly <code>CharMatcher.is('\\\"').trimFrom(mystring);</code></p>\n"},{"comments":[{"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"score":0,"creation_date":1658761478,"post_id":25452078,"comment_id":129125914,"body_markdown":"Also works in build.gradle","body":"Also works in build.gradle"}],"tags":[],"owner":{"account_id":3891065,"reputation":644,"user_id":3274004,"accept_rate":71,"display_name":"sunraincyq"},"comment_count":1,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1408726651,"creation_date":1408726651,"answer_id":25452078,"question_id":2608665,"body_markdown":"If the double quotes only exist at the beginning and the end, a simple code as this would work perfectly:\r\n\r\n`string = string.replace(&quot;\\&quot;&quot;, &quot;&quot;);`","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>If the double quotes only exist at the beginning and the end, a simple code as this would work perfectly:</p>\n\n<p><code>string = string.replace(\"\\\"\", \"\");</code></p>\n"},{"tags":[],"owner":{"account_id":6974471,"reputation":29,"user_id":5349643,"display_name":"Ravikiran"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1442564475,"creation_date":1442564475,"answer_id":32647195,"question_id":2608665,"body_markdown":"    Matcher m = Pattern.compile(&quot;^\\&quot;(.*)\\&quot;$&quot;).matcher(value);\r\n    String strUnquoted = value;\r\n    if (m.find()) {\r\n        strUnquoted = m.group(1);\r\n    }\r\n\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>Matcher m = Pattern.compile(\"^\\\"(.*)\\\"$\").matcher(value);\nString strUnquoted = value;\nif (m.find()) {\n    strUnquoted = m.group(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7496530,"reputation":19,"user_id":5696588,"display_name":"m0untp"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450470703,"creation_date":1450470703,"answer_id":34363495,"question_id":2608665,"body_markdown":"    private static String removeQuotesFromStartAndEndOfString(String inputStr) {\r\n        String result = inputStr;\r\n        int firstQuote = inputStr.indexOf(&#39;\\&quot;&#39;);\r\n        int lastQuote = result.lastIndexOf(&#39;\\&quot;&#39;);\r\n        int strLength = inputStr.length();\r\n        if (firstQuote == 0 &amp;&amp; lastQuote == strLength - 1) {\r\n            result = result.substring(1, strLength - 1);\r\n        }\r\n        return result;\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>private static String removeQuotesFromStartAndEndOfString(String inputStr) {\n    String result = inputStr;\n    int firstQuote = inputStr.indexOf('\\\"');\n    int lastQuote = result.lastIndexOf('\\\"');\n    int strLength = inputStr.length();\n    if (firstQuote == 0 &amp;&amp; lastQuote == strLength - 1) {\n        result = result.substring(1, strLength - 1);\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1506362462,"post_id":34406001,"comment_id":79780428,"body_markdown":"This is the most performant answer by orders of magnitude and it even specifies what to do regarding the optional or not presence of the quotes.","body":"This is the most performant answer by orders of magnitude and it even specifies what to do regarding the optional or not presence of the quotes."}],"tags":[],"owner":{"account_id":4467428,"reputation":1112,"user_id":3634630,"accept_rate":80,"display_name":"brcolow"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450739885,"creation_date":1450739885,"answer_id":34406001,"question_id":2608665,"body_markdown":"First, we check to see if the String is doubled quoted, and if so, remove them. You can skip the conditional if in fact you know it&#39;s double quoted.\r\n\r\n\tif (string.length() &gt;= 2 &amp;&amp; string.charAt(0) == &#39;&quot;&#39; &amp;&amp; string.charAt(string.length() - 1) == &#39;&quot;&#39;)\r\n\t{\r\n\t\tstring = string.substring(1, string.length() - 1);\r\n\t}","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>First, we check to see if the String is doubled quoted, and if so, remove them. You can skip the conditional if in fact you know it's double quoted.</p>\n\n<pre><code>if (string.length() &gt;= 2 &amp;&amp; string.charAt(0) == '\"' &amp;&amp; string.charAt(string.length() - 1) == '\"')\n{\n    string = string.substring(1, string.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2476389,"reputation":3763,"user_id":2194007,"accept_rate":87,"display_name":"rath"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1458743673,"creation_date":1458743673,"answer_id":36181074,"question_id":2608665,"body_markdown":"Also with Apache [`StringUtils.strip()`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip(java.lang.String,%20java.lang.String)):\r\n\r\n\r\n\r\n     StringUtils.strip(null, *)          = null\r\n     StringUtils.strip(&quot;&quot;, *)            = &quot;&quot;\r\n     StringUtils.strip(&quot;abc&quot;, null)      = &quot;abc&quot;\r\n     StringUtils.strip(&quot;  abc&quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot;abc  &quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot; abc &quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot;  abcyx&quot;, &quot;xyz&quot;) = &quot;  abc&quot;\r\n\r\n\r\nSo,\r\n\r\n    final String SchrodingersQuotedString = &quot;may or may not be quoted&quot;;\r\n    StringUtils.strip(SchrodingersQuotedString, &quot;\\&quot;&quot;); //quoted no more\r\n\r\nThis method works both with quoted and unquoted strings as shown in my example. The only downside is, it will not look for strictly _matched_ quotes, only leading and trailing quote characters (ie. no distinction between `&quot;partially` and `&quot;fully&quot;` quoted strings).","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Also with Apache <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>StringUtils.strip()</code></a>:</p>\n\n<pre><code> StringUtils.strip(null, *)          = null\n StringUtils.strip(\"\", *)            = \"\"\n StringUtils.strip(\"abc\", null)      = \"abc\"\n StringUtils.strip(\"  abc\", null)    = \"abc\"\n StringUtils.strip(\"abc  \", null)    = \"abc\"\n StringUtils.strip(\" abc \", null)    = \"abc\"\n StringUtils.strip(\"  abcyx\", \"xyz\") = \"  abc\"\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>final String SchrodingersQuotedString = \"may or may not be quoted\";\nStringUtils.strip(SchrodingersQuotedString, \"\\\"\"); //quoted no more\n</code></pre>\n\n<p>This method works both with quoted and unquoted strings as shown in my example. The only downside is, it will not look for strictly <em>matched</em> quotes, only leading and trailing quote characters (ie. no distinction between <code>\"partially</code> and <code>\"fully\"</code> quoted strings).</p>\n"},{"comments":[{"owner":{"account_id":1095109,"reputation":7627,"user_id":1088866,"accept_rate":100,"display_name":"bob"},"score":4,"creation_date":1484826190,"post_id":38568614,"comment_id":70674564,"body_markdown":"Maybe include single quotes too replace(/(^\\&quot;|\\&#39;)|(\\&quot;|\\&#39;$)/g, &quot;&quot;);","body":"Maybe include single quotes too replace(/(^\\&quot;|\\&#39;)|(\\&quot;|\\&#39;$)/g, &quot;&quot;);"}],"tags":[],"owner":{"account_id":1156321,"reputation":456,"user_id":1136825,"display_name":"Yaniv Levi"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1469454296,"creation_date":1469451954,"answer_id":38568614,"question_id":2608665,"body_markdown":"This is the best way I found, to strip double quotes from the beginning and end of a string.\r\n\r\n    someString.replace (/(^&quot;)|(&quot;$)/g, &#39;&#39;)\r\n\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>This is the best way I found, to strip double quotes from the beginning and end of a string.</p>\n\n<pre><code>someString.replace (/(^\")|(\"$)/g, '')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiew"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482486812,"creation_date":1482485029,"answer_id":41298589,"question_id":2608665,"body_markdown":"To remove one or more double quotes from the start and end of a string in Java, you need to use a regex based solution:\r\n\r\n    String result = input_str.replaceAll(&quot;^\\&quot;+|\\&quot;+$&quot;, &quot;&quot;);\r\n\r\nIf you need to also remove single quotes:\r\n\r\n    String result = input_str.replaceAll(&quot;^[\\&quot;&#39;]+|[\\&quot;&#39;]+$&quot;, &quot;&quot;);\r\n\r\n**NOTE**: If your string contains `&quot;` inside, this approach might lead to issues (e.g. `&quot;Name&quot;: &quot;John&quot;` =&gt; `Name&quot;: &quot;John`).\r\n\r\nSee a [Java demo here][1]:\r\n\r\n    String input_str = &quot;\\&quot;&#39;some string&#39;\\&quot;&quot;;\r\n\tString result = input_str.replaceAll(&quot;^[\\&quot;&#39;]+|[\\&quot;&#39;]+$&quot;, &quot;&quot;);\r\n\tSystem.out.println(result); // =&gt; some string\r\n\r\n\r\n  [1]: https://ideone.com/aGh9hA","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>To remove one or more double quotes from the start and end of a string in Java, you need to use a regex based solution:</p>\n\n<pre><code>String result = input_str.replaceAll(\"^\\\"+|\\\"+$\", \"\");\n</code></pre>\n\n<p>If you need to also remove single quotes:</p>\n\n<pre><code>String result = input_str.replaceAll(\"^[\\\"']+|[\\\"']+$\", \"\");\n</code></pre>\n\n<p><strong>NOTE</strong>: If your string contains <code>\"</code> inside, this approach might lead to issues (e.g. <code>\"Name\": \"John\"</code> => <code>Name\": \"John</code>).</p>\n\n<p>See a <a href=\"https://ideone.com/aGh9hA\" rel=\"noreferrer\">Java demo here</a>:</p>\n\n<pre><code>String input_str = \"\\\"'some string'\\\"\";\nString result = input_str.replaceAll(\"^[\\\"']+|[\\\"']+$\", \"\");\nSystem.out.println(result); // =&gt; some string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14005810,"reputation":89,"user_id":10116014,"display_name":"Alex F"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532202623,"creation_date":1532202073,"answer_id":51459516,"question_id":2608665,"body_markdown":"The pattern below, when used with `java.util.regex.Matcher`, will match any string between double quotes without affecting occurrences of double quotes inside the string:\r\n\r\n    &quot;[^\\&quot;][\\\\p{Print}]*[^\\&quot;]&quot;","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>The pattern below, when used with <code>java.util.regex.Matcher</code>, will match any string between double quotes without affecting occurrences of double quotes inside the string:</p>\n\n<pre><code>\"[^\\\"][\\\\p{Print}]*[^\\\"]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":535381,"reputation":4119,"user_id":904907,"display_name":"Ryan Amaral"},"comment_count":0,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1532296996,"creation_date":1532296996,"answer_id":51469613,"question_id":2608665,"body_markdown":"#Kotlin\r\nIn Kotlin you can use [String.removeSurrounding(delimiter: CharSequence)][1]\r\n\r\nE.g.\r\n\r\n    string.removeSurrounding(&quot;\\&quot;&quot;)\r\n\r\n&gt;Removes the given **delimiter** string from both the start and the end of this string if and only if it starts with and ends with the **delimiter**.\r\nOtherwise returns this string unchanged.\r\n\r\nThe source code looks like this:\r\n\r\n    public fun String.removeSurrounding(delimiter: CharSequence): String = removeSurrounding(delimiter, delimiter)\r\n\r\n    public fun String.removeSurrounding(prefix: CharSequence, suffix: CharSequence): String {\r\n        if ((length &gt;= prefix.length + suffix.length) &amp;&amp; startsWith(prefix) &amp;&amp; endsWith(suffix)) {\r\n            return substring(prefix.length, length - suffix.length)\r\n        }\r\n        return this\r\n    }\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/remove-surrounding.html","title":"How can I trim beginning and ending double quotes from a string?","body":"<h1>Kotlin</h1>\n\n<p>In Kotlin you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/remove-surrounding.html\" rel=\"noreferrer\">String.removeSurrounding(delimiter: CharSequence)</a></p>\n\n<p>E.g.</p>\n\n<pre><code>string.removeSurrounding(\"\\\"\")\n</code></pre>\n\n<blockquote>\n  <p>Removes the given <strong>delimiter</strong> string from both the start and the end of this string if and only if it starts with and ends with the <strong>delimiter</strong>.\n  Otherwise returns this string unchanged.</p>\n</blockquote>\n\n<p>The source code looks like this:</p>\n\n<pre><code>public fun String.removeSurrounding(delimiter: CharSequence): String = removeSurrounding(delimiter, delimiter)\n\npublic fun String.removeSurrounding(prefix: CharSequence, suffix: CharSequence): String {\n    if ((length &gt;= prefix.length + suffix.length) &amp;&amp; startsWith(prefix) &amp;&amp; endsWith(suffix)) {\n        return substring(prefix.length, length - suffix.length)\n    }\n    return this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573810828,"creation_date":1548583549,"answer_id":54386963,"question_id":2608665,"body_markdown":"Edited: Just realized that I should specify that this works only if both of them exists. Otherwise the string is not considered quoted. Such scenario appeared for me when working with CSV files.\r\n\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;\\&quot;abc\\&quot;&quot;, &quot;\\&quot;&quot;)    = &quot;abc&quot;\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;\\&quot;abc&quot;, &quot;\\&quot;&quot;)    = &quot;\\&quot;abc&quot;\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;abc\\&quot;&quot;, &quot;\\&quot;&quot;)    = &quot;abc\\&quot;&quot;\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Edited: Just realized that I should specify that this works only if both of them exists. Otherwise the string is not considered quoted. Such scenario appeared for me when working with CSV files.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.unwrap(\"\\\"abc\\\"\", \"\\\"\")    = \"abc\"\norg.apache.commons.lang3.StringUtils.unwrap(\"\\\"abc\", \"\\\"\")    = \"\\\"abc\"\norg.apache.commons.lang3.StringUtils.unwrap(\"abc\\\"\", \"\\\"\")    = \"abc\\\"\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4467428,"reputation":1112,"user_id":3634630,"accept_rate":80,"display_name":"brcolow"},"score":0,"creation_date":1564859045,"post_id":55835868,"comment_id":101170905,"body_markdown":"I would think that the method argument should be annotated with `@NonNull` and it should probably have something like `Objects.requireNonNull(string)` inside of it because if someone is calling stripQuotes(null) they are probably doing so by mistake!","body":"I would think that the method argument should be annotated with <code>@NonNull</code> and it should probably have something like <code>Objects.requireNonNull(string)</code> inside of it because if someone is calling stripQuotes(null) they are probably doing so by mistake!"}],"tags":[],"owner":{"account_id":3129228,"reputation":669,"user_id":6206509,"accept_rate":80,"display_name":"Albatross"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556128274,"creation_date":1556128274,"answer_id":55835868,"question_id":2608665,"body_markdown":"Modifying @brcolow&#39;s answer a bit\r\n\r\n    if (string != null &amp;&amp; string.length() &gt;= 2 &amp;&amp; string.startsWith(&quot;\\&quot;&quot;) &amp;&amp; string.endsWith(&quot;\\&quot;&quot;) {\r\n        string = string.substring(1, string.length() - 1);\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Modifying @brcolow's answer a bit</p>\n\n<pre><code>if (string != null &amp;&amp; string.length() &gt;= 2 &amp;&amp; string.startsWith(\"\\\"\") &amp;&amp; string.endsWith(\"\\\"\") {\n    string = string.substring(1, string.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5979401,"reputation":409,"user_id":4699033,"accept_rate":25,"display_name":"utkarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599544000,"creation_date":1599544000,"answer_id":63787782,"question_id":2608665,"body_markdown":"I am using something as simple as this :\r\n\r\n    if(str.startsWith(&quot;\\&quot;&quot;) &amp;&amp; str.endsWith(&quot;\\&quot;&quot;))\r\n\t\t\t{\r\n\t\t\t\tstr = str.substring(1, str.length()-1);\r\n\t\t\t}","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>I am using something as simple as this :</p>\n<pre><code>if(str.startsWith(&quot;\\&quot;&quot;) &amp;&amp; str.endsWith(&quot;\\&quot;&quot;))\n        {\n            str = str.substring(1, str.length()-1);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16588908,"reputation":28699,"user_id":11987538,"display_name":"7uc1f3r"},"score":5,"creation_date":1601668262,"post_id":64176706,"comment_id":113487612,"body_markdown":"This question already contains multiple answers and an accepted answer. Can you explain (by editing your answer) where your answer differs from the other answers? Also know that Code-only answers are not useful in the long run.","body":"This question already contains multiple answers and an accepted answer. Can you explain (by editing your answer) where your answer differs from the other answers? Also know that Code-only answers are not useful in the long run."},{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":5,"creation_date":1601675862,"post_id":64176706,"comment_id":113489848,"body_markdown":"This was already suggested in this answer https://stackoverflow.com/a/25452078/1839439 please do not add another one.","body":"This was already suggested in this answer <a href=\"https://stackoverflow.com/a/25452078/1839439\">stackoverflow.com/a/25452078/1839439</a> please do not add another one."}],"tags":[],"owner":{"account_id":19089844,"reputation":25,"user_id":13940336,"display_name":"Gurunath Kulkarni"},"comment_count":2,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1601664015,"creation_date":1601664015,"answer_id":64176706,"question_id":2608665,"body_markdown":"    public String removeDoubleQuotes(String request) {\r\n        return request.replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>public String removeDoubleQuotes(String request) {\n    return request.replace(&quot;\\&quot;&quot;, &quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1612319918,"creation_date":1611795810,"answer_id":65929614,"question_id":2608665,"body_markdown":"## Groovy\r\n\r\nYou can subtract a substring from a string using a regular expression in groovy:\r\n```groovy\r\nString unquotedString = theString - ~/^&quot;/ - ~/&quot;$/\r\n```","title":"How can I trim beginning and ending double quotes from a string?","body":"<h2>Groovy</h2>\n<p>You can subtract a substring from a string using a regular expression in groovy:</p>\n<pre><code>String unquotedString = theString - ~/^&quot;/ - ~/&quot;$/\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312717,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"accepted_answer_id":2608682,"answer_count":18,"score":185,"last_activity_date":1698217321,"creation_date":1270826859,"question_id":2608665,"body_markdown":"I would like to trim a beginning and ending double quote (&quot;) from a string.  \r\nHow can I achieve that in Java? Thanks!","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>I would like to trim a beginning and ending double quote (\") from a string.<br>\nHow can I achieve that in Java? Thanks!</p>\n"},{"tags":["java","spring","javabeans"],"answers":[{"comments":[{"owner":{"account_id":1409938,"reputation":5345,"user_id":1336758,"accept_rate":75,"display_name":"NYCeyes"},"score":0,"creation_date":1391720721,"post_id":21613724,"comment_id":32657947,"body_markdown":"Thank you Peter. It worked, and can I tell you that, on a hunch, I actually tried that a few hours ago. It didn&#39;t then, but you know how debugging goes -- I might have momentarily changed something else which still gave rise to the same issue. For my understanding: I had assumed that Spring (which I&#39;ve only used for two days) matched property &quot;name&quot; to the method it finds that sets it. But I guess there could be any number of methods that sets a property value. So: if name = &quot;fooBar&quot;, then your setter/getter names should be setFooBar() and getFooBar()?","body":"Thank you Peter. It worked, and can I tell you that, on a hunch, I actually tried that a few hours ago. It didn&#39;t then, but you know how debugging goes -- I might have momentarily changed something else which still gave rise to the same issue. For my understanding: I had assumed that Spring (which I&#39;ve only used for two days) matched property &quot;name&quot; to the method it finds that sets it. But I guess there could be any number of methods that sets a property value. So: if name = &quot;fooBar&quot;, then your setter/getter names should be setFooBar() and getFooBar()?"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":1,"creation_date":1391721237,"post_id":21613724,"comment_id":32658195,"body_markdown":"&quot;So: if name = &quot;fooBar&quot;, then your setter/getter names should be setFooBar() and getFooBar()?&quot; Exactly, it looks for this naming convention. And ... So if your property is someName, the getter/setter should be setSomeName, getSomeName. You may define more getters/setters but Spring looks for these two.","body":"&quot;So: if name = &quot;fooBar&quot;, then your setter/getter names should be setFooBar() and getFooBar()?&quot; Exactly, it looks for this naming convention. And ... So if your property is someName, the getter/setter should be setSomeName, getSomeName. You may define more getters/setters but Spring looks for these two."},{"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"score":1,"creation_date":1433938993,"post_id":21613724,"comment_id":49565534,"body_markdown":"also please note the case sensitivity, as in my case I had mentioned name=&quot;FooBar&quot; which is wrong","body":"also please note the case sensitivity, as in my case I had mentioned name=&quot;FooBar&quot; which is wrong"}],"tags":[],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1391719976,"creation_date":1391719672,"answer_id":21613724,"question_id":21613703,"body_markdown":"1) For host you should define public `getHost()` and `setHost(String s)`    \r\nmethods, similarly for port you need `getPort()` and `setPort(int v)` methods.\r\n\r\nThis is what Spring needs to initialize your bean.\r\n\r\nI think it needs the setter in particular (in this case).\r\n\r\nOr ... \r\n\r\n2) You can rename the properties in your XML file to\r\n\r\n`carbonHost` and `carbonPort`. This should do it too.\r\n\r\n","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>1) For host you should define public <code>getHost()</code> and <code>setHost(String s)</code><br>\nmethods, similarly for port you need <code>getPort()</code> and <code>setPort(int v)</code> methods.</p>\n\n<p>This is what Spring needs to initialize your bean.</p>\n\n<p>I think it needs the setter in particular (in this case).</p>\n\n<p>Or ... </p>\n\n<p>2) You can rename the properties in your XML file to</p>\n\n<p><code>carbonHost</code> and <code>carbonPort</code>. This should do it too.</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1391719866,"creation_date":1391719866,"answer_id":21613783,"question_id":21613703,"body_markdown":"The problem is that you are using `&lt;property name=&quot;port&quot; value=&quot;2023&quot; /&gt;` in your bean configuration, but the corresponding method in the `ExampleClass` is called `setCarbonPort(int port)`. \r\n\r\nSolution: update either the xml to `&lt;property name=&quot;carbonPort&quot; value=&quot;2023&quot; /&gt;` or the method to `setPort(int port)`.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>The problem is that you are using <code>&lt;property name=\"port\" value=\"2023\" /&gt;</code> in your bean configuration, but the corresponding method in the <code>ExampleClass</code> is called <code>setCarbonPort(int port)</code>. </p>\n\n<p>Solution: update either the xml to <code>&lt;property name=\"carbonPort\" value=\"2023\" /&gt;</code> or the method to <code>setPort(int port)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1915328,"reputation":21,"user_id":1728009,"display_name":"RancidVess"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406725804,"creation_date":1406725804,"answer_id":25037700,"question_id":21613703,"body_markdown":"The getters and setters must be public, any other access level will cause the error.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>The getters and setters must be public, any other access level will cause the error.</p>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":2,"creation_date":1681763896,"post_id":76038993,"comment_id":134106701,"body_markdown":"The question was already answered with both these options almost 10 years ago.","body":"The question was already answered with both these options almost 10 years ago."}],"tags":[],"owner":{"account_id":13254439,"reputation":29,"user_id":9570990,"display_name":"Ashad Ahmad"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681762737,"creation_date":1681762737,"answer_id":76038993,"question_id":21613703,"body_markdown":"Property elements correspond to JavaBean setter methods exposed by the bean classes.\r\n\r\nThe setters and getters of dependency in the bean has to be in accordance with the property element&#39;s name attribute.\r\n\r\nTherefore, in your case the property has name attribute value as &quot;host&quot; then the setter has to be &quot;setHost()&quot; instead of &quot;setCarbonHost()&quot;. However if you want your method to be named as &quot;setCarbonHost()&quot; only then property needs name attribute value to be as &quot;carbonHost&quot;.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>Property elements correspond to JavaBean setter methods exposed by the bean classes.</p>\n<p>The setters and getters of dependency in the bean has to be in accordance with the property element's name attribute.</p>\n<p>Therefore, in your case the property has name attribute value as &quot;host&quot; then the setter has to be &quot;setHost()&quot; instead of &quot;setCarbonHost()&quot;. However if you want your method to be named as &quot;setCarbonHost()&quot; only then property needs name attribute value to be as &quot;carbonHost&quot;.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698220312,"post_id":77357219,"comment_id":136375964,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77357219/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25099005,"reputation":1,"user_id":18949907,"display_name":"pnpavan kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217202,"creation_date":1698217202,"answer_id":77357219,"question_id":21613703,"body_markdown":"If we are using spring boot and lombok dependency on  editor like sts/ eclipse/ intelliJ we need to make sure that lombok is configured means we need to install lombok in sts and eclipse and in intelliJ we need to enable annotation processing then only getters and setters will ge generated dynamically. I faced the same problem in sts and this works perfectly fine for me...\r\nTry to install lombok \r\n\r\nhttps://stackoverflow.com/questions/35842751/lombok-not-working-with-sts\r\n\r\n","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>If we are using spring boot and lombok dependency on  editor like sts/ eclipse/ intelliJ we need to make sure that lombok is configured means we need to install lombok in sts and eclipse and in intelliJ we need to enable annotation processing then only getters and setters will ge generated dynamically. I faced the same problem in sts and this works perfectly fine for me...\nTry to install lombok</p>\n<p><a href=\"https://stackoverflow.com/questions/35842751/lombok-not-working-with-sts\">Lombok not working with STS</a></p>\n"}],"owner":{"account_id":1409938,"reputation":5345,"user_id":1336758,"accept_rate":75,"display_name":"NYCeyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115878,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":21613724,"answer_count":5,"score":21,"last_activity_date":1698217202,"creation_date":1391719610,"question_id":21613703,"body_markdown":"I&#39;m a Spring newbie with a seemingly simple Spring problem. I worked on this for hours without luck. Here is the exception, followed by the code (thank you in advance):\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphiteWriterSession&#39; defined in file [/home/user/resources/jmxtrans.graphite.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &#39;host&#39; of bean class [com.example.ExampleClass]: Bean property &#39;host&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n\r\nMy bean definitions:\r\n\r\n    &lt;bean id=&quot;graphiteWriterSession&quot; class=&quot;com.example.ExampleClass&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;host.example.com&quot; /&gt;\r\n\t\t&lt;property name=&quot;port&quot; value=&quot;2023&quot; /&gt;\r\n\t\t&lt;property name=&quot;namespacePrefix&quot; value=&quot;apps.foo.bar&quot; /&gt;\r\n\t\t&lt;property name=&quot;debug&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;jmxtransSession&quot; class=&quot;com.example.MainMethodClass&quot; factory-method=&quot;getInstance&quot;&gt;\r\n\t\t&lt;property name=&quot;graphiteWriterSession&quot; ref=&quot;graphiteWriterSession&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nThe code snippet:\r\n\r\n    package com.example.ExampleClass;\r\n    import com.googlecode.jmxtrans.model.output.GraphiteWriter;\r\n\r\n    public class ExampleClass {\r\n\r\n       private static final long   serialVersionUID = 1L;\r\n       private String              host;\r\n       private int                 port;\r\n       private GraphiteWriter\t   gw;\r\n\r\n      public ExampleClass() {\r\n      }\r\n    \r\n      public GraphiteWriter getWriter() {\r\n\t\tgw = new GraphiteWriter();\r\n\t\tgw.addSetting(GraphiteWriter.PORT, port);\r\n\t\tgw.addSetting(GraphiteWriter.HOST, host);\r\n        return gw;\r\n      }\r\n\r\n      // =====================================================\r\n      // set/get methods for Carbon host.\r\n      // Plugged into Spring application-context file.\r\n      // =====================================================\r\n      public void setCarbonHost( String host ) {\r\n           this.host = host;\r\n      }\r\n\r\n      public String getCarbonHost() {\r\n           return host;\r\n      }\r\n      // =====================================================\r\n\r\n   \r\n      // =====================================================\r\n      // set/get methods for Carbon port.\r\n      // Plugged into Spring application-context file.\r\n      // =====================================================\r\n      public void setCarbonPort( int port ) {\r\n          this.port = port;\r\n      }\r\n      \r\n      public int getCarbonPort() {\r\n          return port;\r\n      }\r\n      // =====================================================\r\n    }\r\n\r\n\r\n\r\nI didn&#39;t include the driver (main method containing) class here. Although that driver class depends on the above class, the driver class itself does not have a problem (I don&#39;t believe).\r\n\r\n\r\n\r\nThe error above shows the &#39;host&#39; property as having the problem but, as you might expect, the &#39;port&#39; property has the same issue (it&#39;s just so happens that the &#39;host&#39; property is evaluated first).\r\n\r\nCan anyone tell me where I&#39;m going wrong? Feel free to explain if you wish, as I&#39;m not a Spring person, per se. Thank you.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>I'm a Spring newbie with a seemingly simple Spring problem. I worked on this for hours without luck. Here is the exception, followed by the code (thank you in advance):</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphiteWriterSession' defined in file [/home/user/resources/jmxtrans.graphite.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'host' of bean class [com.example.ExampleClass]: Bean property 'host' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n</code></pre>\n\n<p>My bean definitions:</p>\n\n<pre><code>&lt;bean id=\"graphiteWriterSession\" class=\"com.example.ExampleClass\"&gt;\n    &lt;property name=\"host\" value=\"host.example.com\" /&gt;\n    &lt;property name=\"port\" value=\"2023\" /&gt;\n    &lt;property name=\"namespacePrefix\" value=\"apps.foo.bar\" /&gt;\n    &lt;property name=\"debug\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"jmxtransSession\" class=\"com.example.MainMethodClass\" factory-method=\"getInstance\"&gt;\n    &lt;property name=\"graphiteWriterSession\" ref=\"graphiteWriterSession\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The code snippet:</p>\n\n<pre><code>package com.example.ExampleClass;\nimport com.googlecode.jmxtrans.model.output.GraphiteWriter;\n\npublic class ExampleClass {\n\n   private static final long   serialVersionUID = 1L;\n   private String              host;\n   private int                 port;\n   private GraphiteWriter      gw;\n\n  public ExampleClass() {\n  }\n\n  public GraphiteWriter getWriter() {\n    gw = new GraphiteWriter();\n    gw.addSetting(GraphiteWriter.PORT, port);\n    gw.addSetting(GraphiteWriter.HOST, host);\n    return gw;\n  }\n\n  // =====================================================\n  // set/get methods for Carbon host.\n  // Plugged into Spring application-context file.\n  // =====================================================\n  public void setCarbonHost( String host ) {\n       this.host = host;\n  }\n\n  public String getCarbonHost() {\n       return host;\n  }\n  // =====================================================\n\n\n  // =====================================================\n  // set/get methods for Carbon port.\n  // Plugged into Spring application-context file.\n  // =====================================================\n  public void setCarbonPort( int port ) {\n      this.port = port;\n  }\n\n  public int getCarbonPort() {\n      return port;\n  }\n  // =====================================================\n}\n</code></pre>\n\n<p>I didn't include the driver (main method containing) class here. Although that driver class depends on the above class, the driver class itself does not have a problem (I don't believe).</p>\n\n<p>The error above shows the 'host' property as having the problem but, as you might expect, the 'port' property has the same issue (it's just so happens that the 'host' property is evaluated first).</p>\n\n<p>Can anyone tell me where I'm going wrong? Feel free to explain if you wish, as I'm not a Spring person, per se. Thank you.</p>\n"},{"tags":["java","string","symbols"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698193765,"post_id":77356008,"comment_id":136373480,"body_markdown":"What&#39;s the significance of `indPrd!=0 &amp;&amp; indBr!=0`? What if it&#39;s the first character?","body":"What&#39;s the significance of <code>indPrd!=0 &amp;&amp; indBr!=0</code>? What if it&#39;s the first character?"},{"owner":{"account_id":5179076,"reputation":11150,"user_id":4145280,"display_name":"Mark"},"score":0,"creation_date":1698193773,"post_id":77356008,"comment_id":136373481,"body_markdown":"Does this answer your question? [How do you check to see if the 1st letter in a string is equal to something?](https://stackoverflow.com/questions/33271035/how-do-you-check-to-see-if-the-1st-letter-in-a-string-is-equal-to-something)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33271035/how-do-you-check-to-see-if-the-1st-letter-in-a-string-is-equal-to-something\">How do you check to see if the 1st letter in a string is equal to something?</a>"},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1698193817,"post_id":77356008,"comment_id":136373485,"body_markdown":"@Mark OP isn&#39;t trying to check if the first character is a `.` or `[`, they want to know which of those characters occurs first in the string.","body":"@Mark OP isn&#39;t trying to check if the first character is a <code>.</code> or <code>[</code>, they want to know which of those characters occurs first in the string."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698193827,"post_id":77356008,"comment_id":136373487,"body_markdown":"You&#39;re searching for each character 3 times. Just call `indexOf()` once; if it&#39;s absent it&#39;ll return -1.","body":"You&#39;re searching for each character 3 times. Just call <code>indexOf()</code> once; if it&#39;s absent it&#39;ll return -1."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1698203709,"post_id":77356008,"comment_id":136374134,"body_markdown":"Just obtain the first match of the regular expression `[.\\[]`. If the match is `&#39;.&#39;`, `&#39;.&#39;` comes first, if the match is `&#39;[&#39;`, `&#39;[&#39;` comes first, if there is no match the string contains neither of those characters.","body":"Just obtain the first match of the regular expression <code>[.\\[]</code>. If the match is <code>&#39;.&#39;</code>, <code>&#39;.&#39;</code> comes first, if the match is <code>&#39;[&#39;</code>, <code>&#39;[&#39;</code> comes first, if there is no match the string contains neither of those characters."}],"answers":[{"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1698194303,"post_id":77356023,"comment_id":136373518,"body_markdown":"If there isn&#39;t a `.` in the string, this will say a bracket comes first regardless of whether there is a `[` in the string or not.","body":"If there isn&#39;t a <code>.</code> in the string, this will say a bracket comes first regardless of whether there is a <code>[</code> in the string or not."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698197604,"post_id":77356023,"comment_id":136373693,"body_markdown":"@nick as will OP&#39;s code","body":"@nick as will OP&#39;s code"},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1698198525,"post_id":77356023,"comment_id":136373760,"body_markdown":"True. And I guess they say &quot;it&#39;s working fine&quot; so perhaps they never have strings that don&#39;t have either `.` or `[` in them.","body":"True. And I guess they say &quot;it&#39;s working fine&quot; so perhaps they never have strings that don&#39;t have either <code>.</code> or <code>[</code> in them."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698193776,"creation_date":1698193776,"answer_id":77356023,"question_id":77356008,"body_markdown":"You could remove all other chars then use `startsWith()`:\r\n\r\n```\r\nprivate static void checkString(String str) {\r\n    if (str.replaceAll(&quot;[^\\\\[.]&quot;, &quot;&quot;).startsWith(&quot;.&quot;)) {\r\n        System.out.println(&quot;period comes first&quot;);\r\n    } else {\r\n        System.out.println(&quot;bracket comes first&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe regex `[^\\\\[.]` means &quot;any character not a `[` or a `.`&quot;, so replacing those with a blank `&quot;&quot;` &quot;deletes&quot; them. This is very slightly &quot;expensive&quot;, but unless your string is huge, we&#39;re talking microseconds.\r\n ","title":"How to check if a period or a bracket exist first in a String?","body":"<p>You could remove all other chars then use <code>startsWith()</code>:</p>\n<pre><code>private static void checkString(String str) {\n    if (str.replaceAll(&quot;[^\\\\[.]&quot;, &quot;&quot;).startsWith(&quot;.&quot;)) {\n        System.out.println(&quot;period comes first&quot;);\n    } else {\n        System.out.println(&quot;bracket comes first&quot;);\n    }\n}\n</code></pre>\n<p>The regex <code>[^\\\\[.]</code> means &quot;any character not a <code>[</code> or a <code>.</code>&quot;, so replacing those with a blank <code>&quot;&quot;</code> &quot;deletes&quot; them. This is very slightly &quot;expensive&quot;, but unless your string is huge, we're talking microseconds.</p>\n"},{"tags":[],"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1698198703,"creation_date":1698194699,"answer_id":77356064,"question_id":77356008,"body_markdown":"You are checking for each character more times than you need to; just check once using [`indexOf`][1] and use the fact that it returns `-1` if the character is not found to control your logic. Updating your code:\r\n```java\r\nprivate static void checkString(String str) {\r\n    int indBr = str.indexOf(&quot;[&quot;);\r\n    int indPrd = str.indexOf(&quot;.&quot;);\r\n \r\n    if(indPrd &gt;= 0 &amp;&amp; indBr &gt;= 0) {\r\n        if(indPrd &lt; indBr)\r\n            System.out.println(&quot;period comes first&quot;);\r\n        else\r\n            System.out.println(&quot;bracket comes first&quot;);\r\n    }\r\n    else {\r\n    \tSystem.out.println(&quot;No bracket or period&quot;);\r\n    }\r\n}\r\n```\r\nJava demo on [ideone][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\r\n  [2]: https://ideone.com/IYU0yV","title":"How to check if a period or a bracket exist first in a String?","body":"<p>You are checking for each character more times than you need to; just check once using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\" rel=\"nofollow noreferrer\"><code>indexOf</code></a> and use the fact that it returns <code>-1</code> if the character is not found to control your logic. Updating your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void checkString(String str) {\n    int indBr = str.indexOf(&quot;[&quot;);\n    int indPrd = str.indexOf(&quot;.&quot;);\n \n    if(indPrd &gt;= 0 &amp;&amp; indBr &gt;= 0) {\n        if(indPrd &lt; indBr)\n            System.out.println(&quot;period comes first&quot;);\n        else\n            System.out.println(&quot;bracket comes first&quot;);\n    }\n    else {\n        System.out.println(&quot;No bracket or period&quot;);\n    }\n}\n</code></pre>\n<p>Java demo on <a href=\"https://ideone.com/IYU0yV\" rel=\"nofollow noreferrer\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698209602,"creation_date":1698208389,"answer_id":77356631,"question_id":77356008,"body_markdown":"&gt; _&quot;... Is it possible to check in a string a period or a square bracket comes first? ...&quot;_\r\n\r\nUse the _[String#indexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int))_ method.\r\n\r\n```java\r\nint a = Math.min(str.indexOf(&#39;[&#39;), str.indexOf(&#39;.&#39;));\r\nif (a != -1) System.out.println(str.charAt(a) + &quot; is first&quot;);\r\n```\r\nOr, without _[Math#min](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#min(int,int))_.\r\n\r\n```java\r\nint a, b;\r\nif ((a = str.indexOf(&#39;[&#39;)) != -1)\r\n    if ((b = str.indexOf(&#39;.&#39;)) != -1)\r\n        System.out.println((a &lt; b ? &#39;[&#39; : &#39;.&#39;) + &quot; is first&quot;);\r\n```","title":"How to check if a period or a bracket exist first in a String?","body":"<blockquote>\n<p><em>&quot;... Is it possible to check in a string a period or a square bracket comes first? ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = Math.min(str.indexOf('['), str.indexOf('.'));\nif (a != -1) System.out.println(str.charAt(a) + &quot; is first&quot;);\n</code></pre>\n<p>Or, without <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#min(int,int)\" rel=\"nofollow noreferrer\">Math#min</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a, b;\nif ((a = str.indexOf('[')) != -1)\n    if ((b = str.indexOf('.')) != -1)\n        System.out.println((a &lt; b ? '[' : '.') + &quot; is first&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18965720,"reputation":550,"user_id":13840270,"display_name":"DuesserBaest"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698212480,"creation_date":1698212480,"answer_id":77356861,"question_id":77356008,"body_markdown":"### Regex approach:\r\n(since you tagged the question with regex)\r\n\r\nI am not familiar with Java, but you probably are able to access captured groups. This Regex captures a string either into `bracketFirst` of `dotFirst` depending on which comes first:\r\n\r\n```\r\n^(?:(?&lt;bracketFirst&gt;[^.]*\\[.*)|(?&lt;dotFirst&gt;[^\\[]*\\..*))$\r\n```\r\n\r\nSee https://regex101.com/r/t13QKI/latest\r\n\r\n`^` Asserts start of string\r\n\r\n`(?: ...)` Non-capturing group carrying the two options\r\n\r\n- `(?&lt;bracketFirst&gt;[^.]*\\[.*)` Matches if a bracket comes first by asserting no `.` comes before `[`\r\n\r\n- `|` OR\r\n\r\n- `(?&lt;dotFirst&gt;[^\\[]*\\..*)` Matches if `.` before  `[`\r\n\r\n`$` Asserts end of line","title":"How to check if a period or a bracket exist first in a String?","body":"<h3>Regex approach:</h3>\n<p>(since you tagged the question with regex)</p>\n<p>I am not familiar with Java, but you probably are able to access captured groups. This Regex captures a string either into <code>bracketFirst</code> of <code>dotFirst</code> depending on which comes first:</p>\n<pre><code>^(?:(?&lt;bracketFirst&gt;[^.]*\\[.*)|(?&lt;dotFirst&gt;[^\\[]*\\..*))$\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/t13QKI/latest\" rel=\"nofollow noreferrer\">https://regex101.com/r/t13QKI/latest</a></p>\n<p><code>^</code> Asserts start of string</p>\n<p><code>(?: ...)</code> Non-capturing group carrying the two options</p>\n<ul>\n<li><p><code>(?&lt;bracketFirst&gt;[^.]*\\[.*)</code> Matches if a bracket comes first by asserting no <code>.</code> comes before <code>[</code></p>\n</li>\n<li><p><code>|</code> OR</p>\n</li>\n<li><p><code>(?&lt;dotFirst&gt;[^\\[]*\\..*)</code> Matches if <code>.</code> before  <code>[</code></p>\n</li>\n</ul>\n<p><code>$</code> Asserts end of line</p>\n"}],"owner":{"account_id":22109882,"reputation":49,"user_id":16364943,"display_name":"Piya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1698217038,"creation_date":1698193456,"question_id":77356008,"body_markdown":"Is it possible to check in a string a period or a square bracket comes first?\r\nI have tried this simple code , is working fine, but looking for a good approach. please help. thanks\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;timedLeg[0].service.carriers[0].ref&quot;;\r\n        checkString(str);\r\n    }\r\n\r\n    private static void checkString(String str) {\r\n        if(str.contains(&quot;[&quot;) || str.contains(&quot;.&quot;))\r\n        {\r\n            int indBr = 0,indPrd = 0;\r\n            if(str.contains(&quot;[&quot;))\r\n                indBr = str.indexOf(&quot;[&quot;);\r\n            if(str.contains(&quot;.&quot;))\r\n                indPrd = str.indexOf(&quot;.&quot;);\r\n\r\n            if(indPrd!=0 &amp;&amp; indBr!=0){\r\n                if(indPrd&lt;indBr)\r\n                        System.out.println(&quot;period comes first&quot;);\r\n                    else\r\n                        System.out.println(&quot;bracket comes first&quot;);\r\n\r\n            }\r\n","title":"How to check if a period or a bracket exist first in a String?","body":"<p>Is it possible to check in a string a period or a square bracket comes first?\nI have tried this simple code , is working fine, but looking for a good approach. please help. thanks</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;timedLeg[0].service.carriers[0].ref&quot;;\n    checkString(str);\n}\n\nprivate static void checkString(String str) {\n    if(str.contains(&quot;[&quot;) || str.contains(&quot;.&quot;))\n    {\n        int indBr = 0,indPrd = 0;\n        if(str.contains(&quot;[&quot;))\n            indBr = str.indexOf(&quot;[&quot;);\n        if(str.contains(&quot;.&quot;))\n            indPrd = str.indexOf(&quot;.&quot;);\n\n        if(indPrd!=0 &amp;&amp; indBr!=0){\n            if(indPrd&lt;indBr)\n                    System.out.println(&quot;period comes first&quot;);\n                else\n                    System.out.println(&quot;bracket comes first&quot;);\n\n        }\n</code></pre>\n"},{"tags":["java","rest","kotlin","retrofit2","response-entity"],"answers":[{"comments":[{"owner":{"account_id":26019998,"reputation":23,"user_id":19727823,"display_name":"Crystal2033"},"score":0,"creation_date":1698094150,"post_id":77348031,"comment_id":136359394,"body_markdown":"How often we need to have success status code from the server? With errors it`s okay, we need to know what happened, but what about success status? We can not handle it with @ExceptionHandler. Or usually we do not need it? I`m just trying to think ahead and decide, am i need this ResponseEntity for handling success statuses in my return values from controllers?","body":"How often we need to have success status code from the server? With errors it<code>s okay, we need to know what happened, but what about success status? We can not handle it with @ExceptionHandler. Or usually we do not need it? I</code>m just trying to think ahead and decide, am i need this ResponseEntity for handling success statuses in my return values from controllers?"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1698097281,"post_id":77348031,"comment_id":136359792,"body_markdown":"@Crystal2033 you maybe did not understand me correctly. Exception handler should only handle non success paths (e.g. 4XX or 5XX result codes). Successful paths should be normally handled by controllers (So you simply return something from controller method and spring handles everything- its gonna be 200 with serialized object you return). The only difference is that you wont have some try/catching in the controller method to determine if you will result something of something else but you will just raise exception if something goes wrong.","body":"@Crystal2033 you maybe did not understand me correctly. Exception handler should only handle non success paths (e.g. 4XX or 5XX result codes). Successful paths should be normally handled by controllers (So you simply return something from controller method and spring handles everything- its gonna be 200 with serialized object you return). The only difference is that you wont have some try/catching in the controller method to determine if you will result something of something else but you will just raise exception if something goes wrong."}],"tags":[],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698091516,"creation_date":1698091516,"answer_id":77348031,"question_id":77347532,"body_markdown":"It is always better to let exception handling for Spring. Just by showing these 2 approaches you can see that you will write less code and your &quot;business&quot; code will be much cleaner without these try catches. (Of course, if you want to use that approach for some reason on some places, you are free to go).\r\n\r\nWith first approach you can easily make your rest api more convenient and readable for users who will consume it. \r\n\r\nFor instance, you can create a global exception handler and set of exception children which you can easily map to correct error code and possibly error message as well.\r\n\r\n    @ResponseStatus(NOT_FOUND)\r\n    @ExceptionHandler(NotFoundExceptionParent.class)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;GenericErrorObject&gt; notFoundExceptionHandling(NotFoundExceptionParentex) {\r\n        // Get message locale.id from given exception in language that user uses (you can store arguments in exception so you can easily fill arguments to that message, for example saying &quot;Entity with id {} was not found&quot;\r\n        // Create generic object that holds that error message\r\n        GenericErrorObject genericError = createGenericObject(ex);\r\n\r\n        return ResponseEntity.status(NOT_FOUND_STATUS).body(genericError );\r\n    }\r\n\r\nSo every exception that inherits from `NotFoundExceptionParent` will be handled here (so ends with 404 REST response every time). And will result in some generic error object like\r\n\r\n    {\r\n     error: {\r\n       messageIdentifier: &quot;some.message.identifier&quot;\r\n       messageContent: &quot;Item with id 5 was not found&quot;\r\n       incidentUUID: &quot;some-uuid&quot;\r\n       // possibly more data\r\n     }\r\n    }\r\nthat your consumer can, generically, handle as well. If we can take, for instance, some simple FE app (Vue, Angular, React, whatever), you can easily implement some default handling (which you can override on some places of course) that will, on non 2XX response, in some generic error toast where is just print `error.messageContent`  (and voila, you have your basic error handling for &quot;almost&quot; free :))\r\n\r\nKeep in mind that you should have some &quot;fallback&quot; error handling there too, catching for example RuntimeException (if possible) that will end in some 500 or something.\r\nAlso do not forget to add some additional logging, global exception handler is perfect place to log errors and possibly generate some unique identifier for them so you can track these errors easily in logs.\r\n\r\n\r\nIf you want to perform completely different handling for some validations (and you dont want to mix it together), you can do so by implementing another exception handler with different exception parent.\r\n\r\nAnd the only thing you have to do to perform this error handling would be throw some custom exception from any place. That sounds much better than app swarming with try catches, isn&#180;t it.\r\n\r\n**Final note:** Handling error the &quot;first way&quot; is not necessarily bad approach, if your use cases does not really fit to some generic exception handling system, feel free to use custom handling. But if Spring can do anything for you, why not let it to do it :) ","title":"GlobalExceptionHandler with @ExceptionHandler or ResponseEntity for REST answer from the server?","body":"<p>It is always better to let exception handling for Spring. Just by showing these 2 approaches you can see that you will write less code and your &quot;business&quot; code will be much cleaner without these try catches. (Of course, if you want to use that approach for some reason on some places, you are free to go).</p>\n<p>With first approach you can easily make your rest api more convenient and readable for users who will consume it.</p>\n<p>For instance, you can create a global exception handler and set of exception children which you can easily map to correct error code and possibly error message as well.</p>\n<pre><code>@ResponseStatus(NOT_FOUND)\n@ExceptionHandler(NotFoundExceptionParent.class)\n@ResponseBody\npublic ResponseEntity&lt;GenericErrorObject&gt; notFoundExceptionHandling(NotFoundExceptionParentex) {\n    // Get message locale.id from given exception in language that user uses (you can store arguments in exception so you can easily fill arguments to that message, for example saying &quot;Entity with id {} was not found&quot;\n    // Create generic object that holds that error message\n    GenericErrorObject genericError = createGenericObject(ex);\n\n    return ResponseEntity.status(NOT_FOUND_STATUS).body(genericError );\n}\n</code></pre>\n<p>So every exception that inherits from <code>NotFoundExceptionParent</code> will be handled here (so ends with 404 REST response every time). And will result in some generic error object like</p>\n<pre><code>{\n error: {\n   messageIdentifier: &quot;some.message.identifier&quot;\n   messageContent: &quot;Item with id 5 was not found&quot;\n   incidentUUID: &quot;some-uuid&quot;\n   // possibly more data\n }\n}\n</code></pre>\n<p>that your consumer can, generically, handle as well. If we can take, for instance, some simple FE app (Vue, Angular, React, whatever), you can easily implement some default handling (which you can override on some places of course) that will, on non 2XX response, in some generic error toast where is just print <code>error.messageContent</code>  (and voila, you have your basic error handling for &quot;almost&quot; free :))</p>\n<p>Keep in mind that you should have some &quot;fallback&quot; error handling there too, catching for example RuntimeException (if possible) that will end in some 500 or something.\nAlso do not forget to add some additional logging, global exception handler is perfect place to log errors and possibly generate some unique identifier for them so you can track these errors easily in logs.</p>\n<p>If you want to perform completely different handling for some validations (and you dont want to mix it together), you can do so by implementing another exception handler with different exception parent.</p>\n<p>And the only thing you have to do to perform this error handling would be throw some custom exception from any place. That sounds much better than app swarming with try catches, isnt it.</p>\n<p><strong>Final note:</strong> Handling error the &quot;first way&quot; is not necessarily bad approach, if your use cases does not really fit to some generic exception handling system, feel free to use custom handling. But if Spring can do anything for you, why not let it to do it :)</p>\n"}],"owner":{"account_id":26019998,"reputation":23,"user_id":19727823,"display_name":"Crystal2033"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77348031,"answer_count":1,"score":1,"last_activity_date":1698216624,"creation_date":1698085625,"question_id":77347532,"body_markdown":"I&#39;ve found two approaches of returning error status codes from `RESTful API`: the first is traditional using `ResponseEntity&lt;&gt;`. The second one is to create specific exceptions for status codes and using `GlobalExceptionHandler` with `@ExceptionHandler` throw these exceptions as answer of the server. Spring will catch it and send as answer.\r\n\r\n```\r\n@ControllerAdvice\r\n@Slf4j\r\npublic class GlobalExceptionHandler {\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;AppError&gt; catchResourceNotFoundException(ResourceNotFoundException e) {\r\n        log.error(e.getMessage(), e);\r\n        return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), e.getMessage()), HttpStatus.NOT_FOUND);\r\n    }\r\n }\r\n```\r\n\r\nI don&#39;t know what is better. For second approach `Controller` will look like this:\r\n\r\n```\r\n@GetMapping(&quot;/products&quot;)\r\n    public Product getProduct(Long id){\r\n            return productsService.findById(id);\r\n    }\r\n```\r\n\r\nAnd `service` as:\r\n\r\n```\r\npublic Product findById(Long id) {\r\n        return productsRepository.findById(id).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Product with id &quot; + id + &quot; not found&quot;));\r\n    }\r\n```\r\n\r\n1. What is the best approach and why?\r\n\r\n2. Is it hard to get `ResponseEntity` on `Kotlin` android retrofit api if first approach better? What will I get if server sends to my `Kotlin` side `ResponseEntity`? Response class? Server on `Java Spring`, client - on Android `Kotlin`\r\n\r\n \r\n\r\nSomeone says that `ResponseEntity` is the best approach to send data from the server. Someone says that it&#39;s difficult to read controllers with `ResponseEntity` in return value like this:\r\n\r\n```\r\n@GetMapping(&quot;/products&quot;)\r\n    public ResponseEntity&lt;?&gt; getProduct(Long id){\r\n        try {\r\n            Product product = productsService.findById(id).orElseThrow();\r\n            return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\r\n        } catch (Exception e){\r\n            return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), \r\n                    &quot;Product with id &quot; + id + &quot; nor found&quot;),\r\n                    HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\nSo where is the truth?\r\n","title":"GlobalExceptionHandler with @ExceptionHandler or ResponseEntity for REST answer from the server?","body":"<p>I've found two approaches of returning error status codes from <code>RESTful API</code>: the first is traditional using <code>ResponseEntity&lt;&gt;</code>. The second one is to create specific exceptions for status codes and using <code>GlobalExceptionHandler</code> with <code>@ExceptionHandler</code> throw these exceptions as answer of the server. Spring will catch it and send as answer.</p>\n<pre><code>@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler {\n    @ExceptionHandler\n    public ResponseEntity&lt;AppError&gt; catchResourceNotFoundException(ResourceNotFoundException e) {\n        log.error(e.getMessage(), e);\n        return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), e.getMessage()), HttpStatus.NOT_FOUND);\n    }\n }\n</code></pre>\n<p>I don't know what is better. For second approach <code>Controller</code> will look like this:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\n    public Product getProduct(Long id){\n            return productsService.findById(id);\n    }\n</code></pre>\n<p>And <code>service</code> as:</p>\n<pre><code>public Product findById(Long id) {\n        return productsRepository.findById(id).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Product with id &quot; + id + &quot; not found&quot;));\n    }\n</code></pre>\n<ol>\n<li><p>What is the best approach and why?</p>\n</li>\n<li><p>Is it hard to get <code>ResponseEntity</code> on <code>Kotlin</code> android retrofit api if first approach better? What will I get if server sends to my <code>Kotlin</code> side <code>ResponseEntity</code>? Response class? Server on <code>Java Spring</code>, client - on Android <code>Kotlin</code></p>\n</li>\n</ol>\n<p>Someone says that <code>ResponseEntity</code> is the best approach to send data from the server. Someone says that it's difficult to read controllers with <code>ResponseEntity</code> in return value like this:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\n    public ResponseEntity&lt;?&gt; getProduct(Long id){\n        try {\n            Product product = productsService.findById(id).orElseThrow();\n            return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\n        } catch (Exception e){\n            return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), \n                    &quot;Product with id &quot; + id + &quot; nor found&quot;),\n                    HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>So where is the truth?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1697971563,"post_id":77339420,"comment_id":136343915,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1697973114,"post_id":77339420,"comment_id":136344054,"body_markdown":"the code snippet I shared works fine I added it so everyone knows how I retrieve the data from firebase.","body":"the code snippet I shared works fine I added it so everyone knows how I retrieve the data from firebase."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1697973392,"post_id":77339420,"comment_id":136344082,"body_markdown":"I updated the question. check it again please","body":"I updated the question. check it again please"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698042431,"post_id":77339420,"comment_id":136350072,"body_markdown":"I still don&#39;t understand what the problem is.","body":"I still don&#39;t understand what the problem is."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1698089457,"post_id":77339420,"comment_id":136358634,"body_markdown":"Are you asking how to configure your firebase to support multiple languages? i.e. if the App is configured for french, read the French version of the data, if the app is English, read the English version of the data, Arabic, read Arabic version of the data? If that&#39;s the case, one option is to store the language specific text within the same document and once the document is read, use the text in the corresponding fields for your UI. So rename the fields to `descriptionEn` (for English), `descriptionFr` for French etc. If that&#39;s not the question, can you clarify the question?","body":"Are you asking how to configure your firebase to support multiple languages? i.e. if the App is configured for french, read the French version of the data, if the app is English, read the English version of the data, Arabic, read Arabic version of the data? If that&#39;s the case, one option is to store the language specific text within the same document and once the document is read, use the text in the corresponding fields for your UI. So rename the fields to <code>descriptionEn</code> (for English), <code>descriptionFr</code> for French etc. If that&#39;s not the question, can you clarify the question?"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698126389,"post_id":77339420,"comment_id":136362140,"body_markdown":"yes, That is my question.","body":"yes, That is my question."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698126437,"post_id":77339420,"comment_id":136362143,"body_markdown":"I&#39;ll share my adapter and model code. then you can help me better as what needs to be adjusted.","body":"I&#39;ll share my adapter and model code. then you can help me better as what needs to be adjusted."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698127075,"post_id":77339420,"comment_id":136362204,"body_markdown":"@AlexMamo you can check his comment please","body":"@AlexMamo you can check his comment please"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1698172424,"post_id":77339420,"comment_id":136370695,"body_markdown":"The answer provided by @AlexMamo is on point and matches my above comment. Be sure to accept that answer once you&#39;ve got it working.","body":"The answer provided by @AlexMamo is on point and matches my above comment. Be sure to accept that answer once you&#39;ve got it working."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698177016,"post_id":77339420,"comment_id":136371503,"body_markdown":"Yes, I&#39;m trying to get it working. I cant till now","body":"Yes, I&#39;m trying to get it working. I cant till now"}],"answers":[{"comments":[{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698132330,"post_id":77350061,"comment_id":136363018,"body_markdown":"I understand. I&#39;ll try the solution and get back to you.  Thank you.","body":"I understand. I&#39;ll try the solution and get back to you.  Thank you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1698132647,"post_id":77350061,"comment_id":136363076,"body_markdown":"Ok, keep me posted.","body":"Ok, keep me posted."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698171687,"post_id":77350061,"comment_id":136370584,"body_markdown":"I was trying to implement it but didn&#39;t work out. your logic to the solution is correct but I can&#39;t seem to be able to code the solution. I updated the question with my Language Helper class and my Adapter. @ALexMamo","body":"I was trying to implement it but didn&#39;t work out. your logic to the solution is correct but I can&#39;t seem to be able to code the solution. I updated the question with my Language Helper class and my Adapter. @ALexMamo"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698216832,"post_id":77350061,"comment_id":136375408,"body_markdown":"&quot;didn&#39;t work out&quot; doesn&#39;t provide enough information so I can help. Besides that, asking a follow-up question is typically a new post. That&#39;s the reason why I rolled back your updated question. So please post a new question, here on StackOverflow, using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"&quot;didn&#39;t work out&quot; doesn&#39;t provide enough information so I can help. Besides that, asking a follow-up question is typically a new post. That&#39;s the reason why I rolled back your updated question. So please post a new question, here on StackOverflow, using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698217248,"post_id":77350061,"comment_id":136375472,"body_markdown":"What I mean by that. coding wise. it&#39;s from my end not yours I didn&#39;t provide the solution I tried cuz the errors. I&#39;m still trying other solutions as it has nth to do with the firebase structure you provided since its correct from the provided explanation. I just wanted to update you as we agreed on. I&#39;ll work on a sol and update you again. I","body":"What I mean by that. coding wise. it&#39;s from my end not yours I didn&#39;t provide the solution I tried cuz the errors. I&#39;m still trying other solutions as it has nth to do with the firebase structure you provided since its correct from the provided explanation. I just wanted to update you as we agreed on. I&#39;ll work on a sol and update you again. I"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1698220396,"post_id":77350061,"comment_id":136375985,"body_markdown":"Yep, keep me posted. If I can help you with other information regarding the initial question, please let me know.","body":"Yep, keep me posted. If I can help you with other information regarding the initial question, please let me know."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":1,"creation_date":1698227006,"post_id":77350061,"comment_id":136377301,"body_markdown":"Thank you so much @AlexMamo, I forgot that I had to update my adapter and model to match the map as well. everything now works as it should.","body":"Thank you so much @AlexMamo, I forgot that I had to update my adapter and model to match the map as well. everything now works as it should."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698215631,"creation_date":1698130649,"answer_id":77350061,"question_id":77339420,"body_markdown":"If you want to configure your Firebase app to support multiple languages, meaning to display the data according to what the user selected as the preferred language, then you have to change the structure of the document a little bit.\r\n\r\nThis means that if the app is configured for English, you should display the data in English, if the app is configured for Arabic, you should display the data in Arabic, and so on. To achieve such functionality, the document should contain the data translated into all available languages. So document schema should look like this:\r\n\r\n    db\r\n    |\r\n    --- ServiceInfo (collection)\r\n         |\r\n         --- $docId (document)\r\n              |\r\n              --- name: &quot;Advice&quot;\r\n              |\r\n              --- price: 5\r\n              |\r\n              --- description (map)\r\n                   |\r\n                   --- en: &quot;text in English&quot;\r\n                   |\r\n                   --- fr: &quot;text in French&quot;\r\n                   |\r\n                   --- de: &quot;text in German&quot;\r\n\r\nAs you can see, the `description` is not a field of type string but a field of type `map`. This means that when you display the data, you have to check first what language is selected by the user and then dig into the map field to get the data that corresponds to the selected language.","title":"Retrieve data based on the app selected language","body":"<p>If you want to configure your Firebase app to support multiple languages, meaning to display the data according to what the user selected as the preferred language, then you have to change the structure of the document a little bit.</p>\n<p>This means that if the app is configured for English, you should display the data in English, if the app is configured for Arabic, you should display the data in Arabic, and so on. To achieve such functionality, the document should contain the data translated into all available languages. So document schema should look like this:</p>\n<pre><code>db\n|\n--- ServiceInfo (collection)\n     |\n     --- $docId (document)\n          |\n          --- name: &quot;Advice&quot;\n          |\n          --- price: 5\n          |\n          --- description (map)\n               |\n               --- en: &quot;text in English&quot;\n               |\n               --- fr: &quot;text in French&quot;\n               |\n               --- de: &quot;text in German&quot;\n</code></pre>\n<p>As you can see, the <code>description</code> is not a field of type string but a field of type <code>map</code>. This means that when you display the data, you have to check first what language is selected by the user and then dig into the map field to get the data that corresponds to the selected language.</p>\n"}],"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77350061,"answer_count":1,"score":1,"last_activity_date":1698216619,"creation_date":1697967948,"question_id":77339420,"body_markdown":"My app is almost ready, but there is an issue I&#39;m not sure how to approach which is my app supports Arabic and English. English is the main language of the app and users can change it from within app settings. my app provides services with name, price, and description that are in English. What I&#39;m trying to do is when the user changes the app language the Arabic data gets retrieved, so If I added another document for name, price, and description for the Arabic version. will be able to get the data? I&#39;ll share a screenshot and some code.\r\n Note: I&#39;m working with Java\r\n\r\nthis one to get the service data from firebase and load them into a recylerview, I have an adapter and a model, which contain the name, price and decription.\r\n      \r\n\r\n\r\n\r\n    Query query = db.collection(&quot;ServiceInfo&quot;);\r\n        FirestoreRecyclerOptions&lt;ServiceModel&gt; options = new FirestoreRecyclerOptions.Builder&lt;ServiceModel&gt;()\r\n                .setQuery(query, ServiceModel.class).build();\r\n        adapter = new ServiceAdapter(options);\r\n\r\n\r\nthis is how my database is structured\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthank you \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5bNFm.jpg\r\n  [2]: https://i.stack.imgur.com/4S6Gm.png","title":"Retrieve data based on the app selected language","body":"<p>My app is almost ready, but there is an issue I'm not sure how to approach which is my app supports Arabic and English. English is the main language of the app and users can change it from within app settings. my app provides services with name, price, and description that are in English. What I'm trying to do is when the user changes the app language the Arabic data gets retrieved, so If I added another document for name, price, and description for the Arabic version. will be able to get the data? I'll share a screenshot and some code.\nNote: I'm working with Java</p>\n<p>this one to get the service data from firebase and load them into a recylerview, I have an adapter and a model, which contain the name, price and decription.</p>\n<pre><code>Query query = db.collection(&quot;ServiceInfo&quot;);\n    FirestoreRecyclerOptions&lt;ServiceModel&gt; options = new FirestoreRecyclerOptions.Builder&lt;ServiceModel&gt;()\n            .setQuery(query, ServiceModel.class).build();\n    adapter = new ServiceAdapter(options);\n</code></pre>\n<p>this is how my database is structured\n<a href=\"https://i.stack.imgur.com/4S6Gm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4S6Gm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5bNFm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bNFm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>thank you</p>\n"},{"tags":["java","spring","mockito","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698216470,"creation_date":1698216470,"answer_id":77357155,"question_id":76968082,"body_markdown":"```java\r\n\r\n    protected void mockWhenUsingTransactionalOperator(){\r\n        Mockito.when(\r\n                        this.transactionalOperator.transactional(\r\n                                any(Mono.class)\r\n                        )\r\n                )\r\n                .thenReturn(\r\n                        buildUserAsMono()\r\n                );\r\n    }\r\n```\r\n\r\nbuildUserAsMono() - here is the object that is obtained at the output, after calling **this.transactionalOperator.transactional(....)**","title":"How can I make a stub using Mockito to simulate the operation of a transaction in a reactive stack","body":"<pre class=\"lang-java prettyprint-override\"><code>\n    protected void mockWhenUsingTransactionalOperator(){\n        Mockito.when(\n                        this.transactionalOperator.transactional(\n                                any(Mono.class)\n                        )\n                )\n                .thenReturn(\n                        buildUserAsMono()\n                );\n    }\n</code></pre>\n<p>buildUserAsMono() - here is the object that is obtained at the output, after calling <strong>this.transactionalOperator.transactional(....)</strong></p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698216470,"creation_date":1692870213,"question_id":76968082,"body_markdown":"\r\nHow can I make a stub using Mockito to simulate the operation of a transaction in a reactive stack\r\n\r\n- example code\r\n\r\n```java\r\n.as(customerMono -&gt; txOperator.transactional(customerMono))\r\n```\r\n\r\n```java\r\n    private Mono&lt;User&gt; findUserByPhone(String mobilePhone) {\r\n        return service.findByMobilePhone(mobilePhone)\r\n                .flatMap(customer -&gt; {\r\n                    System.out.println(customer);\r\n                    return Mono.just(customer);\r\n                })\r\n                .singleOrEmpty()\r\n                .as(customerMono -&gt; txOperator.transactional(customerMono))\r\n                .flatMap(customer -&gt; {\r\n                    System.out.println(customer);\r\n                   return Mono.just(customer);\r\n                })\r\n\r\n.....\r\n```\r\n\r\nI tried this, \r\n\r\n```java\r\n    protected void mockWhenTxOperatorTransactional(){\r\n        Mockito.when(\r\n                this.txOperator.transactional(buildUserAsMono())\r\n        ).thenReturn(buildUserAsMono());\r\n    }\r\n\r\n    private Mono&lt;User&gt; buildUserAsMono(){\r\n\r\n        int accountEnabled = 1;\r\n\r\n        User user = User.builder()\r\n                .enabled(accountEnabled)\r\n                .mobilePhone(this.phoneNumberExpected)\r\n                .build();\r\n\r\n        return Mono.just(user);\r\n    }\r\n```\r\n\r\nhowever I get the error anyway.\r\n\r\n&gt; Suppressed: java.lang.NullPointerException\r\n\t\tat com.service.UserService.findCustomerByPhone(\r\n\r\nWho knows, tell me an example, please","title":"How can I make a stub using Mockito to simulate the operation of a transaction in a reactive stack","body":"<p>How can I make a stub using Mockito to simulate the operation of a transaction in a reactive stack</p>\n<ul>\n<li>example code</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>.as(customerMono -&gt; txOperator.transactional(customerMono))\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private Mono&lt;User&gt; findUserByPhone(String mobilePhone) {\n        return service.findByMobilePhone(mobilePhone)\n                .flatMap(customer -&gt; {\n                    System.out.println(customer);\n                    return Mono.just(customer);\n                })\n                .singleOrEmpty()\n                .as(customerMono -&gt; txOperator.transactional(customerMono))\n                .flatMap(customer -&gt; {\n                    System.out.println(customer);\n                   return Mono.just(customer);\n                })\n\n.....\n</code></pre>\n<p>I tried this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected void mockWhenTxOperatorTransactional(){\n        Mockito.when(\n                this.txOperator.transactional(buildUserAsMono())\n        ).thenReturn(buildUserAsMono());\n    }\n\n    private Mono&lt;User&gt; buildUserAsMono(){\n\n        int accountEnabled = 1;\n\n        User user = User.builder()\n                .enabled(accountEnabled)\n                .mobilePhone(this.phoneNumberExpected)\n                .build();\n\n        return Mono.just(user);\n    }\n</code></pre>\n<p>however I get the error anyway.</p>\n<blockquote>\n<p>Suppressed: java.lang.NullPointerException\nat com.service.UserService.findCustomerByPhone(</p>\n</blockquote>\n<p>Who knows, tell me an example, please</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":3,"creation_date":1614596498,"post_id":66417840,"comment_id":117424112,"body_markdown":"What do the controllers look like? Are you using `@RestController` and the `produces` property on the `@(Request|Get|Post)Mapping` annotations? Are you using an `Accept:` header on the requests?","body":"What do the controllers look like? Are you using <code>@RestController</code> and the <code>produces</code> property on the <code>@(Request|Get|Post)Mapping</code> annotations? Are you using an <code>Accept:</code> header on the requests?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1614606875,"post_id":66417840,"comment_id":117428407,"body_markdown":"@RoToRa I have added code in question, it is a very generic controller which we use/see all the time.","body":"@RoToRa I have added code in question, it is a very generic controller which we use/see all the time."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":2,"creation_date":1614607488,"post_id":66417840,"comment_id":117428700,"body_markdown":"What about the `Accept:` header? Have a look at (and post) the request and response headers of an example request.","body":"What about the <code>Accept:</code> header? Have a look at (and post) the request and response headers of an example request."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":1,"creation_date":1614608492,"post_id":66417840,"comment_id":117429194,"body_markdown":"@RoToRa Added request response. No `Accept: ` criteria is defined explicitly.","body":"@RoToRa Added request response. No <code>Accept: </code> criteria is defined explicitly."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":1,"creation_date":1614609511,"post_id":66417840,"comment_id":117429721,"body_markdown":"What happens when  you add `produces` to `@GetMapping`?","body":"What happens when  you add <code>produces</code> to <code>@GetMapping</code>?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":1,"creation_date":1614610285,"post_id":66417840,"comment_id":117430093,"body_markdown":"Can&#39;t edit actually. I&#39;m debugging an issue. I only have read access to project with APIs (Project A). Where I can do edits is Project B (which is a library used by A). @RoToRa For now, I will remove the `jackson-dataformat-xml` dependency from project B and implement a work around using json instead of xml and see if it works. I&#39;ll update if this solution works or not. Thanks for your assistance.","body":"Can&#39;t edit actually. I&#39;m debugging an issue. I only have read access to project with APIs (Project A). Where I can do edits is Project B (which is a library used by A). @RoToRa For now, I will remove the <code>jackson-dataformat-xml</code> dependency from project B and implement a work around using json instead of xml and see if it works. I&#39;ll update if this solution works or not. Thanks for your assistance."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1614613065,"post_id":66417840,"comment_id":117431395,"body_markdown":"What happens when you **use** the `Accept:` header in the request?","body":"What happens when you <b>use</b> the <code>Accept:</code> header in the request?"}],"answers":[{"comments":[{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":9,"creation_date":1614781094,"post_id":66425065,"comment_id":117489574,"body_markdown":"Is there a way to detect how Spring is picking the XML parsing lib instead of json?","body":"Is there a way to detect how Spring is picking the XML parsing lib instead of json?"}],"tags":[],"owner":{"account_id":8356750,"reputation":3326,"user_id":6276704,"accept_rate":44,"display_name":"Tigerware"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1614613567,"creation_date":1614613086,"answer_id":66425065,"question_id":66417840,"body_markdown":"It might be, because Spring Boot picks up the xml-parsing lib through dependency B.\r\n\r\nI would either define the produces attribute in your mappings or configure a `WebMvcConfigurer` to set json as the default type.\r\n\r\nTo do so, add a `WebMvcConfigurer` somewhere. Even in dependency B should be fine, if it is running in the same Spring context. This is for Spring Boot 2.4.2:\r\n\r\n```\r\n@Bean\r\npublic WebMvcConfigurer customConfigurer() {\r\n    return new WebMvcConfigurer() {\r\n        @Override\r\n        public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n            configurer.defaultContentType(MediaType.APPLICATION_JSON);\r\n        }\r\n    };\r\n}\r\n```\r\n","title":"Spring APIs returning XML instead of JSON","body":"<p>It might be, because Spring Boot picks up the xml-parsing lib through dependency B.</p>\n<p>I would either define the produces attribute in your mappings or configure a <code>WebMvcConfigurer</code> to set json as the default type.</p>\n<p>To do so, add a <code>WebMvcConfigurer</code> somewhere. Even in dependency B should be fine, if it is running in the same Spring context. This is for Spring Boot 2.4.2:</p>\n<pre><code>@Bean\npublic WebMvcConfigurer customConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n            configurer.defaultContentType(MediaType.APPLICATION_JSON);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8419280,"reputation":51,"user_id":6318524,"display_name":"surya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698216439,"creation_date":1698216439,"answer_id":77357153,"question_id":66417840,"body_markdown":"I have removed the following dependency \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nfrom my project then it&#39;s working. I guess if we add this dependency spring will automatically convert the repose into xml","title":"Spring APIs returning XML instead of JSON","body":"<p>I have removed the following dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>from my project then it's working. I guess if we add this dependency spring will automatically convert the repose into xml</p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11997,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1698216439,"creation_date":1614581949,"question_id":66417840,"body_markdown":"I have two spring boot projects - **A**(Main larger project with APIs) and **B**(a library which is imported by **A** as a dependency in pom.xml)\r\n\r\npom.xml of project **B**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.b.root&lt;/groupId&gt;\r\n        &lt;artifactId&gt;b&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;b&lt;/name&gt;\r\n        &lt;description&gt;Importable Jar&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;oauth2.version&gt;2.1.1.RELEASE&lt;/oauth2.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;!-- Removing dependency for the embedded Tomcat --&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;!-- End --&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- asynchronous loggers --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Actuator --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- end --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;${oauth2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!--  docusign dependencies --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n                &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!--to be imported on other projects--&gt;\r\n                                &lt;classifier&gt;b-classifier&lt;/classifier&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\npom.xml of project **A**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.a.root&lt;/groupId&gt;\r\n        &lt;artifactId&gt;a&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;a&lt;/name&gt;\r\n        &lt;description&gt;Project A&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Springboot --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- JUnit --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- PostgreSQL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.12&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.openapitools/jackson-databind-nullable --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n                &lt;version&gt;0.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback.contrib/logback-json-classic --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback.contrib/logback-jackson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.everit.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.everit.json.schema&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n                &lt;version&gt;9.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n                &lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Importing library b --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.b.root&lt;/groupId&gt;\r\n                &lt;artifactId&gt;b&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1&lt;/version&gt;\r\n                &lt;classifier&gt;b-classifier&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThere are APIs in project **A** that return JSON object. But in integration tests they are returning data in XML format causing them to fail. And this happens only when library **B** is used in **A**. If we remove **B** from **A**, then all tests pass.\r\n\r\nThis is the error message:\r\n\r\n    org.json.JSONException: Unparsable JSON string: &lt;ResponseDTO&gt;.....&lt;/ResponseDTO&gt;\r\n\r\nMy guess is that there is some kind of conflict with dependencies of both projects. But not able to pin point which dependency exactly.\r\n\r\nMy guess is that as spring uses jackson to convert returning objects into json and there is a dependency in project **B**, it could have something to do with this library specifically:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut I&#39;m not able to understand how would this affect anything. Let me know if some more information is needed.\r\n\r\n**EDIT 1:** Adding code for controller:\r\n\r\n*TestDTO.java*\r\n\r\n    @Data // lombok annotation\r\n    public class TestDTO {\r\n    \r\n      @JsonProperty(value = &quot;id&quot;)\r\n      @JsonSetter(nulls = Nulls.AS_EMPTY)\r\n      private String id;\r\n    \r\n      @JsonProperty(value = &quot;name&quot;)\r\n      @JsonSetter(nulls = Nulls.AS_EMPTY)\r\n      private String name;\r\n    \r\n    }\r\n\r\n*TestController.java*\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n      @Autowired\r\n      private final TestService testService;\r\n    \r\n      @GetMapping(&quot;/test/:id&quot;)\r\n      public TestDTO get(@PathVariable String id) {\r\n        return testService.get(id);\r\n      }\r\n    \r\n    }\r\n\r\n**EDIT 2: ** Added request response headers\r\n\r\n*Request*\r\n\r\n      HTTP Method = GET\r\n      Request URI = /test/1\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json&quot;, Content-Length:&quot;616&quot;]\r\n             Body = &lt;no character encoding set&gt;\r\n    Session Attrs = {}\r\n\r\n*Response*\r\n\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Content-Type:&quot;application/xml;charset=UTF-8&quot;]\r\n     Content type = application/xml;charset=UTF-8\r\n             Body = &lt;TestDTO&gt;...&lt;/TestDTO&gt;","title":"Spring APIs returning XML instead of JSON","body":"<p>I have two spring boot projects - <strong>A</strong>(Main larger project with APIs) and <strong>B</strong>(a library which is imported by <strong>A</strong> as a dependency in pom.xml)</p>\n<p>pom.xml of project <strong>B</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.b.root&lt;/groupId&gt;\n    &lt;artifactId&gt;b&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;b&lt;/name&gt;\n    &lt;description&gt;Importable Jar&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;oauth2.version&gt;2.1.1.RELEASE&lt;/oauth2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;!-- Removing dependency for the embedded Tomcat --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;!-- End --&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- asynchronous loggers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- end --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;${oauth2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--  docusign dependencies --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.9.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;2.9.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;!--to be imported on other projects--&gt;\n                            &lt;classifier&gt;b-classifier&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;forkMode&gt;once&lt;/forkMode&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>pom.xml of project <strong>A</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.a.root&lt;/groupId&gt;\n    &lt;artifactId&gt;a&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;a&lt;/name&gt;\n    &lt;description&gt;Project A&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Springboot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JUnit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- PostgreSQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openapitools/jackson-databind-nullable --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n            &lt;version&gt;0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback.contrib/logback-json-classic --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback.contrib/logback-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.everit.json&lt;/groupId&gt;\n            &lt;artifactId&gt;org.everit.json.schema&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n            &lt;version&gt;9.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Importing library b --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.b.root&lt;/groupId&gt;\n            &lt;artifactId&gt;b&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;classifier&gt;b-classifier&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>There are APIs in project <strong>A</strong> that return JSON object. But in integration tests they are returning data in XML format causing them to fail. And this happens only when library <strong>B</strong> is used in <strong>A</strong>. If we remove <strong>B</strong> from <strong>A</strong>, then all tests pass.</p>\n<p>This is the error message:</p>\n<pre><code>org.json.JSONException: Unparsable JSON string: &lt;ResponseDTO&gt;.....&lt;/ResponseDTO&gt;\n</code></pre>\n<p>My guess is that there is some kind of conflict with dependencies of both projects. But not able to pin point which dependency exactly.</p>\n<p>My guess is that as spring uses jackson to convert returning objects into json and there is a dependency in project <strong>B</strong>, it could have something to do with this library specifically:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But I'm not able to understand how would this affect anything. Let me know if some more information is needed.</p>\n<p><strong>EDIT 1:</strong> Adding code for controller:</p>\n<p><em>TestDTO.java</em></p>\n<pre><code>@Data // lombok annotation\npublic class TestDTO {\n\n  @JsonProperty(value = &quot;id&quot;)\n  @JsonSetter(nulls = Nulls.AS_EMPTY)\n  private String id;\n\n  @JsonProperty(value = &quot;name&quot;)\n  @JsonSetter(nulls = Nulls.AS_EMPTY)\n  private String name;\n\n}\n</code></pre>\n<p><em>TestController.java</em></p>\n<pre><code>@RestController\npublic class TestController {\n\n  @Autowired\n  private final TestService testService;\n\n  @GetMapping(&quot;/test/:id&quot;)\n  public TestDTO get(@PathVariable String id) {\n    return testService.get(id);\n  }\n\n}\n</code></pre>\n<p>**EDIT 2: ** Added request response headers</p>\n<p><em>Request</em></p>\n<pre><code>  HTTP Method = GET\n  Request URI = /test/1\n   Parameters = {}\n      Headers = [Content-Type:&quot;application/json&quot;, Content-Length:&quot;616&quot;]\n         Body = &lt;no character encoding set&gt;\nSession Attrs = {}\n</code></pre>\n<p><em>Response</em></p>\n<pre><code>       Status = 200\nError message = null\n      Headers = [Content-Type:&quot;application/xml;charset=UTF-8&quot;]\n Content type = application/xml;charset=UTF-8\n         Body = &lt;TestDTO&gt;...&lt;/TestDTO&gt;\n</code></pre>\n"},{"tags":["java","operator-overloading"],"comments":[{"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"score":6,"creation_date":1354095960,"post_id":77718,"comment_id":18646857,"body_markdown":"May also read [Why Java does not support Operator overloading](http://javarevisited.blogspot.com/2011/08/why-java-does-not-support-operator.html)","body":"May also read <a href=\"http://javarevisited.blogspot.com/2011/08/why-java-does-not-support-operator.html\" rel=\"nofollow noreferrer\">Why Java does not support Operator overloading</a>"},{"owner":{"display_name":"user4229245"},"score":1,"creation_date":1421448902,"post_id":77718,"comment_id":44378777,"body_markdown":"@zzzz, I have a hard time reading that article.  Was this auto-translated, or is English the writer&#39;s 2nd language?  I find the discussion here to be much cleaner.","body":"@zzzz, I have a hard time reading that article.  Was this auto-translated, or is English the writer&#39;s 2nd language?  I find the discussion here to be much cleaner."},{"owner":{"display_name":"user4229245"},"score":45,"creation_date":1421449074,"post_id":77718,"comment_id":44378828,"body_markdown":"To the pile-on of folks closing this as not constructive, this question has yielded some of the most constructive dialog I&#39;ve seen at SO.  Perhaps it&#39;s a better candidate for http://programmers.stackexchange.com, but there are times when I think SO is being overly dismissive of broader subjects.","body":"To the pile-on of folks closing this as not constructive, this question has yielded some of the most constructive dialog I&#39;ve seen at SO.  Perhaps it&#39;s a better candidate for <a href=\"http://programmers.stackexchange.com\">programmers.stackexchange.com</a>, but there are times when I think SO is being overly dismissive of broader subjects."},{"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"score":1,"creation_date":1445447485,"post_id":77718,"comment_id":54331780,"body_markdown":"@NoNaMe it&#39;s easy, just mentally insert *a* and *the* - missing artlcles is a dead giveaway that the person is either not a native english speaker or a programmer (or like this guy, both :) The reason programmers can drop articles is that it can make comments shorter and fit easier in the space provided.. from there, they just get used to it. My problem is with the layout, somehow I&#39;m always hitting that site in google searches. Luckily there is a great chrome extension called **Clearly** that reformats hard to read pages wonderfully.","body":"@NoNaMe it&#39;s easy, just mentally insert <i>a</i> and <i>the</i> - missing artlcles is a dead giveaway that the person is either not a native english speaker or a programmer (or like this guy, both :) The reason programmers can drop articles is that it can make comments shorter and fit easier in the space provided.. from there, they just get used to it. My problem is with the layout, somehow I&#39;m always hitting that site in google searches. Luckily there is a great chrome extension called <b>Clearly</b> that reformats hard to read pages wonderfully."},{"owner":{"account_id":4664607,"reputation":14223,"user_id":3777958,"accept_rate":95,"display_name":"Destructor"},"score":1,"creation_date":1456150059,"post_id":77718,"comment_id":58799307,"body_markdown":"I don&#39;t see any reason why &amp; how OP accepted the first answer? Answer written by @http://stackoverflow.com/users/14089/paercebal is excellent. It should be accepted.","body":"I don&#39;t see any reason why &amp; how OP accepted the first answer? Answer written by @<a href=\"http://stackoverflow.com/users/14089/paercebal\">stackoverflow.com/users/14089/paercebal</a> is excellent. It should be accepted."},{"owner":{"account_id":1294593,"reputation":801,"user_id":1245992,"accept_rate":71,"display_name":"Gellweiler"},"score":0,"creation_date":1522227492,"post_id":77718,"comment_id":86066126,"body_markdown":"I wished the `==` operator would be overloaded for strings. Gets me every time I switch back from GO, PHP, RUBY, Python, ....","body":"I wished the <code>==</code> operator would be overloaded for strings. Gets me every time I switch back from GO, PHP, RUBY, Python, ...."}],"answers":[{"comments":[{"owner":{"account_id":2384343,"reputation":12895,"user_id":2085626,"accept_rate":60,"display_name":"Amir Kirsh"},"score":0,"creation_date":1483492114,"post_id":77738,"comment_id":70115857,"body_markdown":"Like for example [this stupid mistake...](http://stackoverflow.com/questions/41454635/advice-for-novices-for-how-to-avoid-bugs-with-operator-overloading)","body":"Like for example <a href=\"http://stackoverflow.com/questions/41454635/advice-for-novices-for-how-to-avoid-bugs-with-operator-overloading\">this stupid mistake...</a>"},{"owner":{"account_id":4335029,"reputation":171,"user_id":3539696,"accept_rate":100,"display_name":"ntj"},"score":4,"creation_date":1526206093,"post_id":77738,"comment_id":87645734,"body_markdown":"That&#39;s a very bad way of thinking. You can shoot yourself in the foot, we rather cut your hands down, so you won&#39;t be able to.\n\nAnd of course we suppose that you are an idiot who will shoot himself.","body":"That&#39;s a very bad way of thinking. You can shoot yourself in the foot, we rather cut your hands down, so you won&#39;t be able to.  And of course we suppose that you are an idiot who will shoot himself."}],"tags":[],"owner":{"account_id":4269,"reputation":6733,"user_id":1994377,"accept_rate":80,"display_name":"Sarien"},"comment_count":2,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1221602782,"creation_date":1221602782,"answer_id":77738,"question_id":77718,"body_markdown":"Well you can really shoot yourself in the foot with operator overloading. It&#39;s like with pointers people make stupid mistakes with them and so it was decided to take the scissors away.\r\n\r\nAt least I think that&#39;s the reason.\r\nI&#39;m on your side anyway. :)","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Well you can really shoot yourself in the foot with operator overloading. It's like with pointers people make stupid mistakes with them and so it was decided to take the scissors away.</p>\n\n<p>At least I think that's the reason.\nI'm on your side anyway. :)</p>\n"},{"comments":[{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":15,"creation_date":1339361261,"post_id":77790,"comment_id":14328233,"body_markdown":"`In C++ developers would overload operators with functionality that would often have no relation to the commonly accepted nature of the given operator` : This is a gratuitous assertion. I&#39;m a professionnal C++ developer since 12 years, and I rarely encountered this issue. In fact, the most bugs and design errors I saw in C++ were in the C-style code (`void *`, casts, etc.)","body":"<code>In C++ developers would overload operators with functionality that would often have no relation to the commonly accepted nature of the given operator</code> : This is a gratuitous assertion. I&#39;m a professionnal C++ developer since 12 years, and I rarely encountered this issue. In fact, the most bugs and design errors I saw in C++ were in the C-style code (<code>void *</code>, casts, etc.)"},{"owner":{"account_id":104686,"reputation":8649,"user_id":279738,"accept_rate":95,"display_name":"Engineer"},"score":7,"creation_date":1341670235,"post_id":77790,"comment_id":14990348,"body_markdown":"-1. Every variable you assign is a symbol, just like the arithmetic operator symbols. Whether you use a phrase to name that variable, a single word, or a single letter, is your (or your team&#39;s) decision. Who is to say what is meaningful and what is not? The answer is you, the programmer. Within pure mathematics, multiplication between matrices means something different to multiplication between two numbers in basic arithmetic. Yet we use the same symbols for both types of multiplication.","body":"-1. Every variable you assign is a symbol, just like the arithmetic operator symbols. Whether you use a phrase to name that variable, a single word, or a single letter, is your (or your team&#39;s) decision. Who is to say what is meaningful and what is not? The answer is you, the programmer. Within pure mathematics, multiplication between matrices means something different to multiplication between two numbers in basic arithmetic. Yet we use the same symbols for both types of multiplication."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":2,"creation_date":1391409340,"post_id":77790,"comment_id":32493514,"body_markdown":"@paercebal: The assertion is unfortunately correct.  You have to look no farther than IOstreams to see it in action.  Thankfully most developers are more circumspect about inventing new semantics for existing operators.","body":"@paercebal: The assertion is unfortunately correct.  You have to look no farther than IOstreams to see it in action.  Thankfully most developers are more circumspect about inventing new semantics for existing operators."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":0,"creation_date":1391890344,"post_id":77790,"comment_id":32722698,"body_markdown":"@BenVoigt : I disagree. iostream&#39;s use of `operator &lt;&lt;` is both well known since 30 years, and visually easier to understand (e.g. `output &lt;&lt; my_value ;`) than its C counterpart (&#39;my_int &lt;&lt; my_other_int ;&#39; which I can&#39;t even describe what it exactly does without getting my K&amp;R). I believe the answer is wrong, not because it is false, but because it implies only operators can be misused that way. What user says, in essence, is that we could code a `add` functions that isn&#39;t about addition. But Java&#39;s `Vector.add` clearly uses the `add` for insertion. Should `add` be forbidden, too? [...]","body":"@BenVoigt : I disagree. iostream&#39;s use of <code>operator &lt;&lt;</code> is both well known since 30 years, and visually easier to understand (e.g. <code>output &lt;&lt; my_value ;</code>) than its C counterpart (&#39;my_int &lt;&lt; my_other_int ;&#39; which I can&#39;t even describe what it exactly does without getting my K&amp;R). I believe the answer is wrong, not because it is false, but because it implies only operators can be misused that way. What user says, in essence, is that we could code a <code>add</code> functions that isn&#39;t about addition. But Java&#39;s <code>Vector.add</code> clearly uses the <code>add</code> for insertion. Should <code>add</code> be forbidden, too? [...]"},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":5,"creation_date":1391890549,"post_id":77790,"comment_id":32722783,"body_markdown":"@BenVoigt : [...] And I&#39;m not even mentioning the fact the `add` function could be really really misused (like doing a multiplication, or acquiring a mutex)... The abuse mentioned by user14128 is not limited to operators, but there is some kind pathological fear about operator overloading that I believe comes from the earlier days of C vs. C++, a fear that went unmodified right into Java, but thankfully, didn&#39;t go into C#... In the end, respecting semantics and writing clear functions/operators is the developer&#39;s job. Not the language&#39;s.","body":"@BenVoigt : [...] And I&#39;m not even mentioning the fact the <code>add</code> function could be really really misused (like doing a multiplication, or acquiring a mutex)... The abuse mentioned by user14128 is not limited to operators, but there is some kind pathological fear about operator overloading that I believe comes from the earlier days of C vs. C++, a fear that went unmodified right into Java, but thankfully, didn&#39;t go into C#... In the end, respecting semantics and writing clear functions/operators is the developer&#39;s job. Not the language&#39;s."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1391892790,"post_id":77790,"comment_id":32723497,"body_markdown":"@parcebal: By not knowing that &lt;&lt; is a bit shift operator without side effects, you&#39;ve proved the point. And that is not &quot;the C counterpart&quot;, that is the C++ meaning as well.  Using &lt;&lt; for stream insertion fails pretty miserably, because it has the precedence of bit shifting, which is subtly wrong for insertion.  That causes far more bugs than a fluent function call syntax for streams.","body":"@parcebal: By not knowing that &lt;&lt; is a bit shift operator without side effects, you&#39;ve proved the point. And that is not &quot;the C counterpart&quot;, that is the C++ meaning as well.  Using &lt;&lt; for stream insertion fails pretty miserably, because it has the precedence of bit shifting, which is subtly wrong for insertion.  That causes far more bugs than a fluent function call syntax for streams."},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":0,"creation_date":1407039288,"post_id":77790,"comment_id":39061288,"body_markdown":"@BenVoigt If &lt;&lt; gets picked up as the wrong precedent, then the code usually produces a compile time error (e.g. `cout &lt;&lt; 5&amp;3 &lt;&lt; endl` fails to compile). I should note that there aren&#39;t many operators that would cause this failure in C++ (e.g. bitwise, relational, logical, assignment, ternary), and any failing code would be getting pretty crazy. I think in such cases the `5&amp;3` should be written as `(5&amp;3)` anyway, to further clarify this is one item to output, and that Java&#39;s I/O routines are a testament to how necessary operator overloading is to having clean, concise, readable code.","body":"@BenVoigt If &lt;&lt; gets picked up as the wrong precedent, then the code usually produces a compile time error (e.g. <code>cout &lt;&lt; 5&amp;3 &lt;&lt; endl</code> fails to compile). I should note that there aren&#39;t many operators that would cause this failure in C++ (e.g. bitwise, relational, logical, assignment, ternary), and any failing code would be getting pretty crazy. I think in such cases the <code>5&amp;3</code> should be written as <code>(5&amp;3)</code> anyway, to further clarify this is one item to output, and that Java&#39;s I/O routines are a testament to how necessary operator overloading is to having clean, concise, readable code."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":3,"creation_date":1407092825,"post_id":77790,"comment_id":39073363,"body_markdown":"@jbo5112: Example: `cout &lt;&lt; f() || g();`  The parentheses don&#39;t make it clearer, they make it correct.  And it the bit shift operators were not being abused, they would not be necessary.  Why is `cout &lt;&lt; (5&amp;3) &lt;&lt; endl;` better than `cout.fmt(5&amp;3)(endl);` ?  Using the function call operator on a functor member variable would be an infinitely better design for streams than repurposing bitwise operators just because the glyph looks nice.  But this is far from the only thing wrong with streams.","body":"@jbo5112: Example: <code>cout &lt;&lt; f() || g();</code>  The parentheses don&#39;t make it clearer, they make it correct.  And it the bit shift operators were not being abused, they would not be necessary.  Why is <code>cout &lt;&lt; (5&amp;3) &lt;&lt; endl;</code> better than <code>cout.fmt(5&amp;3)(endl);</code> ?  Using the function call operator on a functor member variable would be an infinitely better design for streams than repurposing bitwise operators just because the glyph looks nice.  But this is far from the only thing wrong with streams."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":1,"creation_date":1407092891,"post_id":77790,"comment_id":39073381,"body_markdown":"The answer is right that some C++ developers misuse the feature; that&#39;s an argument against adopting the work of those developers into the Standard, not an argument against having the feature.  (Which is where Java erred, but it&#39;s always been more of a &quot;force developers to do the right thing&quot; vs C++&#39;s emphasis on complete control)","body":"The answer is right that some C++ developers misuse the feature; that&#39;s an argument against adopting the work of those developers into the Standard, not an argument against having the feature.  (Which is where Java erred, but it&#39;s always been more of a &quot;force developers to do the right thing&quot; vs C++&#39;s emphasis on complete control)"},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":0,"creation_date":1407637445,"post_id":77790,"comment_id":39290823,"body_markdown":"@BenVoigt `cout &lt;&lt; f() || g();` is the same as `cout &lt;&lt; f(); cout || g();`.  Unless you overloaded the class ostream so that you can use the || operator with the return type of g(), then that will not compile.  The reason why `cout &lt;&lt; (5&amp;3) &lt;&lt; endl;` is better than `cout.fmt(5&amp;3)(endl);` is that the first consistently uses the same function, while the second calls the fmt function (which is wordy), then operator() (e.g. my_object(std::endl)).","body":"@BenVoigt <code>cout &lt;&lt; f() || g();</code> is the same as <code>cout &lt;&lt; f(); cout || g();</code>.  Unless you overloaded the class ostream so that you can use the || operator with the return type of g(), then that will not compile.  The reason why <code>cout &lt;&lt; (5&amp;3) &lt;&lt; endl;</code> is better than <code>cout.fmt(5&amp;3)(endl);</code> is that the first consistently uses the same function, while the second calls the fmt function (which is wordy), then operator() (e.g. my_object(std::endl))."},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":1,"creation_date":1407637903,"post_id":77790,"comment_id":39290899,"body_markdown":"@BenVoigt  If C++ used operator() instead of operator&lt;&lt;(), then that would function better at the expense of looking pretty.  Calling `cout(&quot;hello &quot;)(name);` can get kind of ugly and slow to type, especially when stringing together 350 of them to create a single line of output (e.g. long csv record).  Using operator,() might be better `cout,&quot;hello &quot;,name;`, but `cout,c1,&#39;,&#39;,c2,&#39;,&#39;,c3,&#39;,&#39;,c4...` gets a little messy.","body":"@BenVoigt  If C++ used operator() instead of operator&lt;&lt;(), then that would function better at the expense of looking pretty.  Calling <code>cout(&quot;hello &quot;)(name);</code> can get kind of ugly and slow to type, especially when stringing together 350 of them to create a single line of output (e.g. long csv record).  Using operator,() might be better <code>cout,&quot;hello &quot;,name;</code>, but <code>cout,c1,&#39;,&#39;,c2,&#39;,&#39;,c3,&#39;,&#39;,c4...</code> gets a little messy."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1407638159,"post_id":77790,"comment_id":39290943,"body_markdown":"@jbo5112: I think you&#39;re overlooking the iostream-&gt;bool conversion.","body":"@jbo5112: I think you&#39;re overlooking the iostream-&gt;bool conversion."},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":1,"creation_date":1407639981,"post_id":77790,"comment_id":39291191,"body_markdown":"@BenVoigt Java&#39;s solution still doesn&#39;t force developers to create functions whose names clearly communicate their intentions.  You are still free to write the function `public int add(int num1, int num2) {return ((num1*num2/3)^0xFAFAFAFA);}`.","body":"@BenVoigt Java&#39;s solution still doesn&#39;t force developers to create functions whose names clearly communicate their intentions.  You are still free to write the function <code>public int add(int num1, int num2) {return ((num1*num2&#47;3)^0xFAFAFAFA);}</code>."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1407640183,"post_id":77790,"comment_id":39291225,"body_markdown":"@jbo5112: I don&#39;t think you understand my position.  Every language can be abused; that doesn&#39;t make it bad.  C++ operator overloading can be abused; iostreams shows that it has (in exactly the same way you keep arguing).  That doesn&#39;t mean that not having operator overloading would be a better choice.  I quote myself &quot;Thankfully most developers are more circumspect about inventing new semantics for existing operators.&quot;  But I do look forward to a standardized replacement to iostreams, which is terrible in many more ways than just operator abuse.","body":"@jbo5112: I don&#39;t think you understand my position.  Every language can be abused; that doesn&#39;t make it bad.  C++ operator overloading can be abused; iostreams shows that it has (in exactly the same way you keep arguing).  That doesn&#39;t mean that not having operator overloading would be a better choice.  I quote myself &quot;Thankfully most developers are more circumspect about inventing new semantics for existing operators.&quot;  But I do look forward to a standardized replacement to iostreams, which is terrible in many more ways than just operator abuse."},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":0,"creation_date":1407649651,"post_id":77790,"comment_id":39292650,"body_markdown":"@BenVoigt You are correct. I did overlook the automatic cast. I tend to avoid most of iostream, just for being slow for my uses. If the return of g() will cast to a bool, then that would run, but I&#39;m hoping g() is at least code to handle a failed ostream operation. Sorry for misreading your distaste of iostream overloading the bitshift operators as agreeing with Java&#39;s design choice. I&#39;m still trying to wrap my head around how James Gosling was so daft to force the creation of some inane library interfaces (e.g. any Java math library), and people still willingly choose the language.","body":"@BenVoigt You are correct. I did overlook the automatic cast. I tend to avoid most of iostream, just for being slow for my uses. If the return of g() will cast to a bool, then that would run, but I&#39;m hoping g() is at least code to handle a failed ostream operation. Sorry for misreading your distaste of iostream overloading the bitshift operators as agreeing with Java&#39;s design choice. I&#39;m still trying to wrap my head around how James Gosling was so daft to force the creation of some inane library interfaces (e.g. any Java math library), and people still willingly choose the language."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1421448389,"post_id":77790,"comment_id":44378629,"body_markdown":"Just seeing the nature of the back and forth here, including the clarifications and reclarifications, is enough to make me run from operator overloading as fast as I can.","body":"Just seeing the nature of the back and forth here, including the clarifications and reclarifications, is enough to make me run from operator overloading as fast as I can."}],"tags":[],"owner":{"account_id":8005,"reputation":2537,"user_id":14128,"accept_rate":33,"display_name":"user14128"},"comment_count":16,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1221603027,"creation_date":1221603027,"answer_id":77790,"question_id":77718,"body_markdown":"I think this may have been a conscious design choice to force developers to create functions whose names clearly communicate their intentions. In C++ developers would overload operators with functionality that would often have no relation to the commonly accepted nature of the given operator, making it nearly impossible to determine what a piece of code does without looking at the definition of the operator.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>I think this may have been a conscious design choice to force developers to create functions whose names clearly communicate their intentions. In C++ developers would overload operators with functionality that would often have no relation to the commonly accepted nature of the given operator, making it nearly impossible to determine what a piece of code does without looking at the definition of the operator.</p>\n"},{"tags":[],"owner":{"account_id":5519,"reputation":70083,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1677709964,"creation_date":1221603111,"answer_id":77798,"question_id":77718,"body_markdown":"The Java designers decided that operator overloading was more trouble than it was worth. Simple as that.\r\n\r\nIn a language where every object variable is actually a reference, operator overloading gets the additional hazard of being quite illogical - to a C++ programmer at least. Compare the situation with C#&#39;s `==` [equality operator][1] overloading and [`Object.Equals`][2] and [`Object.ReferenceEquals`][3].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-operators#equality-operator-\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.object.equals\r\n  [3]: https://learn.microsoft.com/en-us/dotnet/api/system.object.referenceequals","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>The Java designers decided that operator overloading was more trouble than it was worth. Simple as that.</p>\n<p>In a language where every object variable is actually a reference, operator overloading gets the additional hazard of being quite illogical - to a C++ programmer at least. Compare the situation with C#'s <code>==</code> <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-operators#equality-operator-\" rel=\"nofollow noreferrer\">equality operator</a> overloading and <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.object.equals\" rel=\"nofollow noreferrer\"><code>Object.Equals</code></a> and <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.object.referenceequals\" rel=\"nofollow noreferrer\"><code>Object.ReferenceEquals</code></a>.</p>\n"},{"comments":[{"owner":{"display_name":"rengolin"},"score":2,"creation_date":1221604777,"post_id":77811,"comment_id":9006,"body_markdown":"Am I? ;) Equals can both mean assignment or comparison, but = is always assignment and == is always comparison. Names can introduce big sources of errors themselves.","body":"Am I? ;) Equals can both mean assignment or comparison, but = is always assignment and == is always comparison. Names can introduce big sources of errors themselves."}],"tags":[],"owner":{"account_id":1315,"reputation":4293,"user_id":1750,"display_name":"David Schlosnagle"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221609162,"creation_date":1221603162,"answer_id":77811,"question_id":77718,"body_markdown":"Assuming Java as the implementation language then a, b, and c would all be references to type Complex with initial values of null. Also assuming that Complex is immutable as the mentioned [BigInteger][1] and similar immutable [BigDecimal][2], I&#39;d I think you mean the following, as you&#39;re assigning the reference to the Complex returned from adding b and c, and not comparing this reference to a.\r\n\r\n&gt; Isn&#39;t :\r\n&gt; \r\n&gt;     Complex a, b, c; a = b + c;\r\n&gt; \r\n&gt; *much* simpler than:\r\n&gt; \r\n&gt;     Complex a, b, c; a = b.add(c);\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigInteger.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Assuming Java as the implementation language then a, b, and c would all be references to type Complex with initial values of null. Also assuming that Complex is immutable as the mentioned <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> and similar immutable <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>, I'd I think you mean the following, as you're assigning the reference to the Complex returned from adding b and c, and not comparing this reference to a.</p>\n\n<blockquote>\n  <p>Isn't :</p>\n\n<pre><code>Complex a, b, c; a = b + c;\n</code></pre>\n  \n  <p><em>much</em> simpler than:</p>\n\n<pre><code>Complex a, b, c; a = b.add(c);\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":4,"creation_date":1300790258,"post_id":77908,"comment_id":6094430,"body_markdown":"I wish all syntax-heavy languages with operator overloading would have used that technique. I&#39;ve never understood why they have to invent a special version of method naming and lookup. Stroustrup doesn&#39;t mention any alternatives in D&amp;EC++. The C# team took the right approach with Linq syntax (`where ...` becomes `.Where(i =&gt; ... `). If only they&#39;d done the same with arithmetic operators, so many things would be simpler and more powerful. Java has the advantage of a clean slate and could get this right (though for religous reasons, it probably never will).","body":"I wish all syntax-heavy languages with operator overloading would have used that technique. I&#39;ve never understood why they have to invent a special version of method naming and lookup. Stroustrup doesn&#39;t mention any alternatives in D&amp;EC++. The C# team took the right approach with Linq syntax (<code>where ...</code> becomes <code>.Where(i =&gt; ... </code>). If only they&#39;d done the same with arithmetic operators, so many things would be simpler and more powerful. Java has the advantage of a clean slate and could get this right (though for religous reasons, it probably never will)."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1421447549,"post_id":77908,"comment_id":44378310,"body_markdown":"@DanielEarwicker, I&#39;ve often noted that when there are complicated disagreements that people will tag the motivations for either side as being &quot;religious&quot; in nature.","body":"@DanielEarwicker, I&#39;ve often noted that when there are complicated disagreements that people will tag the motivations for either side as being &quot;religious&quot; in nature."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1421448556,"post_id":77908,"comment_id":44378683,"body_markdown":"@noah, I could live with a limited subset of operator overloading such as this, provided that there was a special tag to the method names that keep them visually distinct.  Something like defining a __plus() method for the implementation of a &quot;+&quot; OL, and staying far away overloading things like casts and even array subscripts.  What I&#39;m not willing to live with is the way C++ and C# saw fit to implement it.","body":"@noah, I could live with a limited subset of operator overloading such as this, provided that there was a special tag to the method names that keep them visually distinct.  Something like defining a __plus() method for the implementation of a &quot;+&quot; OL, and staying far away overloading things like casts and even array subscripts.  What I&#39;m not willing to live with is the way C++ and C# saw fit to implement it."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1473771206,"post_id":77908,"comment_id":66260615,"body_markdown":"**Not an answer.** There are many languages running on the VM. Operator overloading should not be a good reason in itself to switch languages.","body":"<b>Not an answer.</b> There are many languages running on the VM. Operator overloading should not be a good reason in itself to switch languages."}],"tags":[],"owner":{"account_id":7042,"reputation":21329,"user_id":12034,"accept_rate":90,"display_name":"noah"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1221603892,"creation_date":1221603892,"answer_id":77908,"question_id":77718,"body_markdown":"[Groovy](http://groovy.codehaus.org/) has operator overloading, and runs in the JVM. If you don&#39;t mind the performance hit (which gets smaller everyday). It&#39;s automatic based on method names. e.g., &#39;+&#39; calls the &#39;plus(argument)&#39; method.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p><a href=\"http://groovy.codehaus.org/\" rel=\"noreferrer\">Groovy</a> has operator overloading, and runs in the JVM. If you don't mind the performance hit (which gets smaller everyday). It's automatic based on method names. e.g., '+' calls the 'plus(argument)' method.</p>\n"},{"comments":[{"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"score":1,"creation_date":1221607008,"post_id":77963,"comment_id":9076,"body_markdown":"Just FYI, I didn&#39;t ask this question, I only edited the tags. Click the time (it currenty say &#39;an hour ago&#39;) above my name for more info-- It looks like Rengolin (http://stackoverflow.com/users/14067/rengolin) asked the question.","body":"Just FYI, I didn&#39;t ask this question, I only edited the tags. Click the time (it currenty say &#39;an hour ago&#39;) above my name for more info-- It looks like Rengolin (<a href=\"http://stackoverflow.com/users/14067/rengolin\">stackoverflow.com/users/14067/rengolin</a>) asked the question."},{"owner":{"account_id":29634,"reputation":12494,"user_id":80243,"accept_rate":46,"display_name":"Longpoke"},"score":7,"creation_date":1275748325,"post_id":77963,"comment_id":3041849,"body_markdown":"It&#39;s pretty simple really... Just do like Python and have no overloaded assignment.","body":"It&#39;s pretty simple really... Just do like Python and have no overloaded assignment."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":257,"creation_date":1277413088,"post_id":77963,"comment_id":3195307,"body_markdown":"This answer doesn&#39;t answer the question at all. You&#39;re simply harping on java&#39;s use of the equals sign. If b+C returned a new Complex, then a = b+c would be perfectly valid, and yes much simpler to read. Even if you wanted to modify a in place, a.set(b+c) is a ton simpler to read - especially when the arithmetic is any more than trivial:\n\na.set((a*b + b*c)/5) or a = a.multiply(b).add(b.multiply(c)).divide(5). Your choice..","body":"This answer doesn&#39;t answer the question at all. You&#39;re simply harping on java&#39;s use of the equals sign. If b+C returned a new Complex, then a = b+c would be perfectly valid, and yes much simpler to read. Even if you wanted to modify a in place, a.set(b+c) is a ton simpler to read - especially when the arithmetic is any more than trivial:  a.set((a<i>b + b</i>c)/5) or a = a.multiply(b).add(b.multiply(c)).divide(5). Your choice.."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":27,"creation_date":1277413656,"post_id":77963,"comment_id":3195389,"body_markdown":"Or I guess.. not your choice, as the case may be","body":"Or I guess.. not your choice, as the case may be"},{"owner":{"account_id":12604,"reputation":6679,"user_id":24913,"accept_rate":75,"display_name":"Kaz Dragon"},"score":9,"creation_date":1285145119,"post_id":77963,"comment_id":3986999,"body_markdown":"In C++, Expression Templates solve the problem of the extra copy.  Pretty much all major arithmetic libraries use this technique for this very reason. Also, this doesn&#39;t address the question, since a = b + c is just syntactic sugar for a.foo(b.bar(c)), which is really the initial observation in the question.","body":"In C++, Expression Templates solve the problem of the extra copy.  Pretty much all major arithmetic libraries use this technique for this very reason. Also, this doesn&#39;t address the question, since a = b + c is just syntactic sugar for a.foo(b.bar(c)), which is really the initial observation in the question."},{"owner":{"account_id":399088,"reputation":1824,"user_id":764191,"display_name":"SChepurin"},"score":22,"creation_date":1384341509,"post_id":77963,"comment_id":29695202,"body_markdown":"This is not the answer to the question asked. This is someone&#39;s speculations on certain differences between Java and C++.","body":"This is not the answer to the question asked. This is someone&#39;s speculations on certain differences between Java and C++."},{"owner":{"account_id":297284,"reputation":1700,"user_id":602719,"accept_rate":100,"display_name":"lunicon"},"score":0,"creation_date":1492438248,"post_id":77963,"comment_id":73961541,"body_markdown":"Look at the project Java-OO is a modular extension (plugin) to Java compilers  https://github.com/amelentev/java-oo","body":"Look at the project Java-OO is a modular extension (plugin) to Java compilers  <a href=\"https://github.com/amelentev/java-oo\" rel=\"nofollow noreferrer\">github.com/amelentev/java-oo</a>"},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1573837431,"post_id":77963,"comment_id":104030386,"body_markdown":"I think the java assign operator always does what it is supposed to do. Assign value a to value b. In case they are references/ pointers, obviously we would be assigning the pointer and not what is being pointed to; just like what C++ does. The confusion is that java doesnt have a special syntax for pointers. In the case of dot oper. This works just the same as -&gt; operator in C++ on pointers/java references. It because like :: scoped operator when applied to a class/enum/interface/etc.","body":"I think the java assign operator always does what it is supposed to do. Assign value a to value b. In case they are references/ pointers, obviously we would be assigning the pointer and not what is being pointed to; just like what C++ does. The confusion is that java doesnt have a special syntax for pointers. In the case of dot oper. This works just the same as -&gt; operator in C++ on pointers/java references. It because like :: scoped operator when applied to a class/enum/interface/etc."},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":0,"creation_date":1576276765,"post_id":77963,"comment_id":104860569,"body_markdown":"A language having reference semantics doesn&#39;t rule out operator overloading.  Look at C# or Python, for example.","body":"A language having reference semantics doesn&#39;t rule out operator overloading.  Look at C# or Python, for example."},{"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"score":0,"creation_date":1634039458,"post_id":77963,"comment_id":122914275,"body_markdown":"I don&#39;t care how hard it is for the computer. I want the language design to make it easier for developers.","body":"I don&#39;t care how hard it is for the computer. I want the language design to make it easier for developers."}],"tags":[],"owner":{"account_id":8016,"reputation":3464,"user_id":14153,"display_name":"Aaron"},"comment_count":10,"down_vote_count":95,"up_vote_count":107,"is_accepted":true,"score":12,"last_activity_date":1538599090,"creation_date":1221604267,"answer_id":77963,"question_id":77718,"body_markdown":"Assuming you wanted to overwrite the previous value of the object referred to by `a`, then a member function would have to be invoked.\r\n\r\n    Complex a, b, c;\r\n    // ...\r\n    a = b.add(c);\r\n\r\nIn C++, this expression tells the compiler to create three (3) objects on the stack, perform addition, and _copy_ the resultant value from the temporary object into the existing object `a`.\r\n\r\nHowever, in Java, `operator=` doesn&#39;t perform value copy for reference types, and users can only create new reference types, not value types. So for a user-defined type named `Complex`, assignment means to copy a reference to an existing value.\r\n\r\nConsider instead:\r\n\r\n    b.set(1, 0); // initialize to real number &#39;1&#39;\r\n    a = b; \r\n    b.set(2, 0);\r\n    assert( !a.equals(b) ); // this assertion will fail\r\n\r\nIn C++, this copies the value, so the comparison will result not-equal. In Java, `operator=` performs reference copy, so `a` and `b` are now referring to the same value. As a result, the comparison will produce &#39;equal&#39;, since the object will compare equal to itself.\r\n\r\nThe difference between copies and references only adds to the confusion of operator overloading. As @Sebastian mentioned, Java and C# both have to deal with value and reference equality separately -- `operator+` would likely deal with values and objects, but `operator=` is already implemented to deal with references.\r\n\r\nIn C++, you should only be dealing with one kind of comparison at a time, so it can be less confusing. For example, on `Complex`, `operator=` and `operator==` are both working on values -- copying values and comparing values respectively.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Assuming you wanted to overwrite the previous value of the object referred to by <code>a</code>, then a member function would have to be invoked.</p>\n\n<pre><code>Complex a, b, c;\n// ...\na = b.add(c);\n</code></pre>\n\n<p>In C++, this expression tells the compiler to create three (3) objects on the stack, perform addition, and <em>copy</em> the resultant value from the temporary object into the existing object <code>a</code>.</p>\n\n<p>However, in Java, <code>operator=</code> doesn't perform value copy for reference types, and users can only create new reference types, not value types. So for a user-defined type named <code>Complex</code>, assignment means to copy a reference to an existing value.</p>\n\n<p>Consider instead:</p>\n\n<pre><code>b.set(1, 0); // initialize to real number '1'\na = b; \nb.set(2, 0);\nassert( !a.equals(b) ); // this assertion will fail\n</code></pre>\n\n<p>In C++, this copies the value, so the comparison will result not-equal. In Java, <code>operator=</code> performs reference copy, so <code>a</code> and <code>b</code> are now referring to the same value. As a result, the comparison will produce 'equal', since the object will compare equal to itself.</p>\n\n<p>The difference between copies and references only adds to the confusion of operator overloading. As @Sebastian mentioned, Java and C# both have to deal with value and reference equality separately -- <code>operator+</code> would likely deal with values and objects, but <code>operator=</code> is already implemented to deal with references.</p>\n\n<p>In C++, you should only be dealing with one kind of comparison at a time, so it can be less confusing. For example, on <code>Complex</code>, <code>operator=</code> and <code>operator==</code> are both working on values -- copying values and comparing values respectively.</p>\n"},{"comments":[{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":6,"creation_date":1296518184,"post_id":78086,"comment_id":5397067,"body_markdown":"Could you provide a code example of &quot;the complexity of operator overloading combined with pass-by-value and exceptions&quot;? Despite a few years playing with the language, and owning and having read all effective/exceptional books on C++, I fail to understand what you mean by that.","body":"Could you provide a code example of &quot;the complexity of operator overloading combined with pass-by-value and exceptions&quot;? Despite a few years playing with the language, and owning and having read all effective/exceptional books on C++, I fail to understand what you mean by that."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":71,"creation_date":1300233826,"post_id":78086,"comment_id":6002386,"body_markdown":"What works for James Gosling isn&#39;t going to work for everyone. He&#39;s incredibly shortsighted for extrapolating his &quot;interesting&quot; packing experiment to mean &quot;Throw away everything in the world that I don&#39;t need, so no one can use that stuff.&quot; He clearly doesn&#39;t know what I need or use.","body":"What works for James Gosling isn&#39;t going to work for everyone. He&#39;s incredibly shortsighted for extrapolating his &quot;interesting&quot; packing experiment to mean &quot;Throw away everything in the world that I don&#39;t need, so no one can use that stuff.&quot; He clearly doesn&#39;t know what I need or use."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":54,"creation_date":1311103573,"post_id":78086,"comment_id":8005005,"body_markdown":"@B T : Most enlightning is Gosling&#39;s viewpoint when compared to Stroustrup&#39;s viewpoint on this issue: `Many C++ design decisions have their roots in my dislike for forcing people to do things in some particular way [...] Often, I was tempted to outlaw a feature I personally disliked, I refrained from doing so because I did not think I had the right to force my views on others. (B. Stroustrup)`.","body":"@B T : Most enlightning is Gosling&#39;s viewpoint when compared to Stroustrup&#39;s viewpoint on this issue: <code>Many C++ design decisions have their roots in my dislike for forcing people to do things in some particular way [...] Often, I was tempted to outlaw a feature I personally disliked, I refrained from doing so because I did not think I had the right to force my views on others. (B. Stroustrup)</code>."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":4,"creation_date":1311378897,"post_id":78086,"comment_id":8068833,"body_markdown":"@Paercebal: &quot;Most enlightening is Gosling&#39;s ... compared to Stroustrup&#39;s&quot;.  Interesting, yet I would have thought, subjectively, that the difference has resulted in one language, C++, widely reviled vs. the other, Java, widely liked.  Perhaps there is a place for experts to say &quot;that&#39;s a *bad* idea&quot;.","body":"@Paercebal: &quot;Most enlightening is Gosling&#39;s ... compared to Stroustrup&#39;s&quot;.  Interesting, yet I would have thought, subjectively, that the difference has resulted in one language, C++, widely reviled vs. the other, Java, widely liked.  Perhaps there is a place for experts to say &quot;that&#39;s a <i>bad</i> idea&quot;."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":29,"creation_date":1311452790,"post_id":78086,"comment_id":8077084,"body_markdown":"@Software Monkey : &quot;C++, widely reviled vs. the other, Java, widely liked&quot; This is marketing hype. Remember that C++ grew alone, whereas Java (and .NET) profited from marketing bulldozers. Doesn&#39;t it seem strange that for a &quot;widely liked language&quot;, Java is limited to server applications, whereas &quot;widely reviled&quot; (probably by Java developers and managers wanting to lower the cost of code production) C++ goes from very-high-performance servers to high performance games? [...]","body":"@Software Monkey : &quot;C++, widely reviled vs. the other, Java, widely liked&quot; This is marketing hype. Remember that C++ grew alone, whereas Java (and .NET) profited from marketing bulldozers. Doesn&#39;t it seem strange that for a &quot;widely liked language&quot;, Java is limited to server applications, whereas &quot;widely reviled&quot; (probably by Java developers and managers wanting to lower the cost of code production) C++ goes from very-high-performance servers to high performance games? [...]"},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":2,"creation_date":1311452942,"post_id":78086,"comment_id":8077099,"body_markdown":"@Software Monkey : [...] My own comparison between Java/.NET and C++ was not so favorable to Java/.NET. To summarize it: It&#39;s easier and faster to produce average quality code in Java/.NET than in C++, but the moment you want excellent-to-perfect high-performance quality code, Java/.NET will hinder you, whereas C++ will make it easy. For more information about that, see my answer at: http://stackoverflow.com/questions/145110/c-performance-vs-java-c/145559#145559","body":"@Software Monkey : [...] My own comparison between Java/.NET and C++ was not so favorable to Java/.NET. To summarize it: It&#39;s easier and faster to produce average quality code in Java/.NET than in C++, but the moment you want excellent-to-perfect high-performance quality code, Java/.NET will hinder you, whereas C++ will make it easy. For more information about that, see my answer at: <a href=\"http://stackoverflow.com/questions/145110/c-performance-vs-java-c/145559#145559\" title=\"c performance vs java c\">stackoverflow.com/questions/145110/c-performance-vs-java-c/&hellip;</a>"},{"owner":{"account_id":104686,"reputation":8649,"user_id":279738,"accept_rate":95,"display_name":"Engineer"},"score":1,"creation_date":1341671057,"post_id":78086,"comment_id":14990496,"body_markdown":"&quot;Or not to do things... just because they&#39;re concise&quot;? Sorry for putting words in your mouth James Gosling, but this is one Java design principle I do not agree with at the usage level. At the language design &amp; implementation level, sure, since it makes language maintainers&#39; jobs that much simpler.","body":"&quot;Or not to do things... just because they&#39;re concise&quot;? Sorry for putting words in your mouth James Gosling, but this is one Java design principle I do not agree with at the usage level. At the language design &amp; implementation level, sure, since it makes language maintainers&#39; jobs that much simpler."},{"owner":{"display_name":"user377628"},"score":0,"creation_date":1350415222,"post_id":78086,"comment_id":17509231,"body_markdown":"I like this answer. Sure, many people here like to think that C++ gives you more flexibility, but I&#39;d like them to go have a look at some C++ code out there that is hideously put together with weird hacks and &quot;exceptional&quot; features of the language. If these features weren&#39;t available in the first place, the code would be written just as easily, yet it would be much easier to read and maintain.","body":"I like this answer. Sure, many people here like to think that C++ gives you more flexibility, but I&#39;d like them to go have a look at some C++ code out there that is hideously put together with weird hacks and &quot;exceptional&quot; features of the language. If these features weren&#39;t available in the first place, the code would be written just as easily, yet it would be much easier to read and maintain."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":17,"creation_date":1350464590,"post_id":78086,"comment_id":17523177,"body_markdown":"@Hassan : Each language has its hacks, Java&#39;s generics being one great example of that. Now, about `I&#39;d like them to go have a look at some C++ code out there that is hideously put together with weird hacks and &quot;exceptional&quot; features of the language` : Bad programmers will write bad code no matter the language. Just try to emulate a &quot;pass-by-reference&quot; for function parameters in Java to have an idea. I&#39;ve seen the code, and laughed so hard it hurt. This is the kind of things Gosling didn&#39;t use, thus, needed horrible hacks to have in Java, yet, exists natively, at zero cost, in both C# and C++.","body":"@Hassan : Each language has its hacks, Java&#39;s generics being one great example of that. Now, about <code>I&#39;d like them to go have a look at some C++ code out there that is hideously put together with weird hacks and &quot;exceptional&quot; features of the language</code> : Bad programmers will write bad code no matter the language. Just try to emulate a &quot;pass-by-reference&quot; for function parameters in Java to have an idea. I&#39;ve seen the code, and laughed so hard it hurt. This is the kind of things Gosling didn&#39;t use, thus, needed horrible hacks to have in Java, yet, exists natively, at zero cost, in both C# and C++."},{"owner":{"display_name":"user377628"},"score":0,"creation_date":1350482776,"post_id":78086,"comment_id":17531948,"body_markdown":"@paercebal Of course, I agree that each language has its hacks. I&#39;m not arguing for one language or the other, just that each language has its advantages and disadvantages, making it better suited for certain problems. I think Java is the clear winner with code reusability, because it requires the programmer to follow the same organization patterns, partly by removing exceptional features in the language itself. In your answer, you said that operator overloading should not be abused. Unfortunately, there will always be someone who abuses this feature and others, making the code unmaintainable.","body":"@paercebal Of course, I agree that each language has its hacks. I&#39;m not arguing for one language or the other, just that each language has its advantages and disadvantages, making it better suited for certain problems. I think Java is the clear winner with code reusability, because it requires the programmer to follow the same organization patterns, partly by removing exceptional features in the language itself. In your answer, you said that operator overloading should not be abused. Unfortunately, there will always be someone who abuses this feature and others, making the code unmaintainable."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":2,"creation_date":1350501496,"post_id":78086,"comment_id":17541115,"body_markdown":"@Hassan : The strange thing about &quot;operator overloading abuse&quot; is that I saw only two instances of that in my career (12 years of C++), and the code was not unmaintainable. . . Now, every time someone reports that kind of abuse, that someone either comes from the C or Java crowd and is usually unable to detail an example he/she personally experienced. It smells like rationalization, to me. . . Now, about the &quot;simplicity&quot; of Java, we agree. Google for the term &quot;Javaschools&quot; to understand what this &quot;simplicity&quot; really means: https://encrypted.google.com/search?q=javaschools","body":"@Hassan : The strange thing about &quot;operator overloading abuse&quot; is that I saw only two instances of that in my career (12 years of C++), and the code was not unmaintainable. . . Now, every time someone reports that kind of abuse, that someone either comes from the C or Java crowd and is usually unable to detail an example he/she personally experienced. It smells like rationalization, to me. . . Now, about the &quot;simplicity&quot; of Java, we agree. Google for the term &quot;Javaschools&quot; to understand what this &quot;simplicity&quot; really means: <a href=\"https://encrypted.google.com/search?q=javaschools\" rel=\"nofollow noreferrer\">encrypted.google.com/search?q=javaschools</a>"},{"owner":{"display_name":"user377628"},"score":0,"creation_date":1350516341,"post_id":78086,"comment_id":17546631,"body_markdown":"@paercebal But again, this idea seems to focus on very specific shortcomings of Java. I read the blog post that was the first hit on that google search, and the author focuses on Java&#39;s weaknesses which make it unsuitable for certain tasks (he gave operating systems as an example. He also mentioned MapReduce, although there are Java implementations of that). Anyway, I still agree there. Java isn&#39;t the right tool for every job. But I don&#39;t know how badly &quot;Javaschools&quot; generate programmers, since I happen to be a CS student at the moment. I hope you guys are wrong there!","body":"@paercebal But again, this idea seems to focus on very specific shortcomings of Java. I read the blog post that was the first hit on that google search, and the author focuses on Java&#39;s weaknesses which make it unsuitable for certain tasks (he gave operating systems as an example. He also mentioned MapReduce, although there are Java implementations of that). Anyway, I still agree there. Java isn&#39;t the right tool for every job. But I don&#39;t know how badly &quot;Javaschools&quot; generate programmers, since I happen to be a CS student at the moment. I hope you guys are wrong there!"},{"owner":{"account_id":1411284,"reputation":1997,"user_id":1337806,"accept_rate":32,"display_name":"sam boosalis"},"score":6,"creation_date":1399332914,"post_id":78086,"comment_id":36008680,"body_markdown":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; how about Dates? or one of dozens of orderable datatypes that the java designers never thought of?","body":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; how about Dates? or one of dozens of orderable datatypes that the java designers never thought of?"},{"owner":{"account_id":460222,"reputation":823,"user_id":861178,"display_name":"jbo5112"},"score":3,"creation_date":1407037427,"post_id":78086,"comment_id":39061047,"body_markdown":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; How about any data type that you want to do any sort I/O on? Java&#39;s I/O routines are quite ugly, especially with layers of abstraction and databases. Also, any container class where you want to access the Nth item, or do some sort of key-&gt;value mapping makes excellent use of operator overloading. Without operator overloading or default parameter values, I&#39;m surprised anyone uses this language, especially w/ Oracle owning it.","body":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; How about any data type that you want to do any sort I/O on? Java&#39;s I/O routines are quite ugly, especially with layers of abstraction and databases. Also, any container class where you want to access the Nth item, or do some sort of key-&gt;value mapping makes excellent use of operator overloading. Without operator overloading or default parameter values, I&#39;m surprised anyone uses this language, especially w/ Oracle owning it."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1427666403,"post_id":78086,"comment_id":46859259,"body_markdown":"Many things about Java stem from Gosling&#39;s personal perceptions, which may not always jibe with reality.  He refused to provide an unsigned `byte` type, claiming that unsigned types cause problems, when in reality the only unsigned types which cause problems are those which are *larger than the default promotion type* (a `Byte` type, of course, would not be; I don&#39;t think any Pascal programmers have had trouble with `Byte` being signed).  With regard to operator overloading, however, I think it&#39;s important for a reference-based-OOP language like Java have an reference-compare operator.","body":"Many things about Java stem from Gosling&#39;s personal perceptions, which may not always jibe with reality.  He refused to provide an unsigned <code>byte</code> type, claiming that unsigned types cause problems, when in reality the only unsigned types which cause problems are those which are <i>larger than the default promotion type</i> (a <code>Byte</code> type, of course, would not be; I don&#39;t think any Pascal programmers have had trouble with <code>Byte</code> being signed).  With regard to operator overloading, however, I think it&#39;s important for a reference-based-OOP language like Java have an reference-compare operator."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1427666548,"post_id":78086,"comment_id":46859300,"body_markdown":"Thus, if `==` is going to be used for both primitive comparisons and reference comparisons, that will make most other sort of operator overloading problematic.  Of course, Java later went ahead and messed up that distinction by allowing automatic unboxing, but I think there was a sound philosophical reason why a language which uses `==` as Java did shouldn&#39;t support overloading.","body":"Thus, if <code>==</code> is going to be used for both primitive comparisons and reference comparisons, that will make most other sort of operator overloading problematic.  Of course, Java later went ahead and messed up that distinction by allowing automatic unboxing, but I think there was a sound philosophical reason why a language which uses <code>==</code> as Java did shouldn&#39;t support overloading."},{"owner":{"account_id":69201,"reputation":7158,"user_id":201506,"accept_rate":92,"display_name":"geert3"},"score":0,"creation_date":1432899524,"post_id":78086,"comment_id":49130639,"body_markdown":"@paercebal One of your stated possible reasons for not adding operator overloading now is `compatibility with the previous JVMs`. This brings an interesting question, i.e. would operator overloading be possible without altering the JVM? I assert that it can be purely syntactic sugar (that might break Java syntax, but not JVM)","body":"@paercebal One of your stated possible reasons for not adding operator overloading now is <code>compatibility with the previous JVMs</code>. This brings an interesting question, i.e. would operator overloading be possible without altering the JVM? I assert that it can be purely syntactic sugar (that might break Java syntax, but not JVM)"},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":1,"creation_date":1432908832,"post_id":78086,"comment_id":49137224,"body_markdown":"@geert3 : IMHO, the model where my Java 8 code should produce Java 1.2 compatible bytecode is dumb, and is cause for a huge technical debt (e.g. Java generics&#39; laughable implementation). I should be able, like in .NET, to target a minimum JVM version, and let the user either install that JVM (or more recent) or not use my code.","body":"@geert3 : IMHO, the model where my Java 8 code should produce Java 1.2 compatible bytecode is dumb, and is cause for a huge technical debt (e.g. Java generics&#39; laughable implementation). I should be able, like in .NET, to target a minimum JVM version, and let the user either install that JVM (or more recent) or not use my code."},{"owner":{"account_id":2161903,"reputation":30385,"user_id":1915893,"display_name":"Aluan Haddad"},"score":2,"creation_date":1459691434,"post_id":78086,"comment_id":60389237,"body_markdown":"Gosling also left out function pointers for the same reason, and look where we are today...","body":"Gosling also left out function pointers for the same reason, and look where we are today..."},{"owner":{"account_id":2847099,"reputation":39294,"user_id":2445184,"accept_rate":91,"display_name":"cmaster - reinstate monica"},"score":0,"creation_date":1502722023,"post_id":78086,"comment_id":78311910,"body_markdown":"+1 for being the only one, true answer to this question. While Gosling&#39;s view may be debatable, it is definitely the reason for Java&#39;s omission of operator overloading. This should definitely be the top answer, and the accepted one!","body":"+1 for being the only one, true answer to this question. While Gosling&#39;s view may be debatable, it is definitely the reason for Java&#39;s omission of operator overloading. This should definitely be the top answer, and the accepted one!"},{"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"score":1,"creation_date":1564753779,"post_id":78086,"comment_id":101145591,"body_markdown":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; Adding to @samboosalis and @jbo5112: Also consider how frequently you want to support overloading for container types; `+` for sequences (which Java&#39;s `string` actually provides, but no other sequence can), the various set operations (typically expressed with bit-wise operator overloads, e.g. `|` for union, `&amp;` for intersection, `&lt;` for is-subset, etc.). These overloads are common and well understood in many other languages.","body":"&quot;Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.&quot; Adding to @samboosalis and @jbo5112: Also consider how frequently you want to support overloading for container types; <code>+</code> for sequences (which Java&#39;s <code>string</code> actually provides, but no other sequence can), the various set operations (typically expressed with bit-wise operator overloads, e.g. <code>|</code> for union, <code>&amp;</code> for intersection, <code>&lt;</code> for is-subset, etc.). These overloads are common and well understood in many other languages."},{"owner":{"account_id":2591182,"reputation":398,"user_id":3285281,"display_name":"BlackOverlord"},"score":1,"creation_date":1598115822,"post_id":78086,"comment_id":112355458,"body_markdown":"It worth adding such thing just for the sake of acessing characters in string using [] at least. Seriously, you can do this in almost all other languages","body":"It worth adding such thing just for the sake of acessing characters in string using [] at least. Seriously, you can do this in almost all other languages"},{"owner":{"account_id":5879394,"reputation":1229,"user_id":4634775,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1633575794,"post_id":78086,"comment_id":122797939,"body_markdown":"Even James Gosling in his work, The Evolution of Numerical Computing in Java, admits that operator overloading is essential!","body":"Even James Gosling in his work, The Evolution of Numerical Computing in Java, admits that operator overloading is essential!"},{"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"score":0,"creation_date":1634039300,"post_id":78086,"comment_id":122914232,"body_markdown":"I never felt operator overloading was essential until I started working with matrices and linear algebra. Now I am convinced that operator overloading should be added.","body":"I never felt operator overloading was essential until I started working with matrices and linear algebra. Now I am convinced that operator overloading should be added."}],"tags":[],"owner":{"account_id":5602,"reputation":11174,"user_id":2635682,"accept_rate":60,"display_name":"Garth Gilmour"},"comment_count":24,"down_vote_count":5,"up_vote_count":49,"is_accepted":false,"score":44,"last_activity_date":1221605217,"creation_date":1221605217,"answer_id":78086,"question_id":77718,"body_markdown":"James Gosling likened designing Java to the following:\r\n\r\n&gt; &quot;There&#39;s this principle about moving, when you move from one apartment to another apartment. An interesting experiment is to pack up your apartment and put everything in boxes, then move into the next apartment and not unpack anything until you need it. So you&#39;re making your first meal, and you&#39;re pulling something out of a box. Then after a month or so you&#39;ve used that to pretty much figure out what things in your life you actually need, and then you take the rest of the stuff -- forget how much you like it or how cool it is -- and you just throw it away. It&#39;s amazing how that simplifies your life, and you can use that principle in all kinds of design issues: not do things just because they&#39;re cool or just because they&#39;re interesting.&quot;\r\n\r\nYou can read the [context of the quote here][1]\r\n\r\nBasically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.\r\n\r\nAnother factor was the abuse of the feature in C++ by developers overloading operators like &#39;&amp;&amp;&#39;, &#39;||&#39;, the cast operators and of course &#39;new&#39;. The complexity resulting from combining this with pass by value and exceptions is well covered in the [Exceptional C++][2] book.\r\n\r\n\r\n  [1]: http://www.gotw.ca/publications/c_family_interview.htm\r\n  [2]: http://www.amazon.com/Exceptional-Engineering-Programming-Solutions-Depth/dp/0201615622","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>James Gosling likened designing Java to the following:</p>\n\n<blockquote>\n  <p>\"There's this principle about moving, when you move from one apartment to another apartment. An interesting experiment is to pack up your apartment and put everything in boxes, then move into the next apartment and not unpack anything until you need it. So you're making your first meal, and you're pulling something out of a box. Then after a month or so you've used that to pretty much figure out what things in your life you actually need, and then you take the rest of the stuff -- forget how much you like it or how cool it is -- and you just throw it away. It's amazing how that simplifies your life, and you can use that principle in all kinds of design issues: not do things just because they're cool or just because they're interesting.\"</p>\n</blockquote>\n\n<p>You can read the <a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">context of the quote here</a></p>\n\n<p>Basically operator overloading is great for a class that models some kind of point, currency or complex number. But after that you start running out of examples fast.</p>\n\n<p>Another factor was the abuse of the feature in C++ by developers overloading operators like '&amp;&amp;', '||', the cast operators and of course 'new'. The complexity resulting from combining this with pass by value and exceptions is well covered in the <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201615622\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Exceptional C++</a> book.</p>\n"},{"comments":[{"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"score":12,"creation_date":1237779433,"post_id":78167,"comment_id":485812,"body_markdown":"Of course, as mentioned elsewhere you can never be sure of the meaning of the add function either.","body":"Of course, as mentioned elsewhere you can never be sure of the meaning of the add function either."},{"owner":{"display_name":"user14070"},"score":0,"creation_date":1237889968,"post_id":78167,"comment_id":490074,"body_markdown":"True, I still find it comforting to know that at least my operators are hard coded. Of course, having the features and using them sensibly would only do us good. The problem is that it&#39;s hard to know if someone has used them sensibly. And that you agree on the definition of sensibly. :-)","body":"True, I still find it comforting to know that at least my operators are hard coded. Of course, having the features and using them sensibly would only do us good. The problem is that it&#39;s hard to know if someone has used them sensibly. And that you agree on the definition of sensibly. :-)"},{"owner":{"account_id":2161903,"reputation":30385,"user_id":1915893,"display_name":"Aluan Haddad"},"score":1,"creation_date":1459691021,"post_id":78167,"comment_id":60389094,"body_markdown":"The comment added to clarify the code, is what the code would look like in a language which supported operator overloading. Furthermore, the fact the the comment is written in terms of operators belies your opposition to operator overloading.","body":"The comment added to clarify the code, is what the code would look like in a language which supported operator overloading. Furthermore, the fact the the comment is written in terms of operators belies your opposition to operator overloading."}],"tags":[],"owner":{"display_name":"user14070"},"comment_count":3,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1221605867,"creation_date":1221605867,"answer_id":78167,"question_id":77718,"body_markdown":"Sometimes it would be nice to have operator overloading, friend classes and multiple inheritance.\r\n\r\nHowever I still think it was a good decision. If Java would have had operator overloading then we could never be sure of operator meanings without looking through source code. At present that&#39;s not necessary. And I think your example of using methods instead of operator overloading is also quite readable. If you want to make things more clear you could always add a comment above hairy statements.\r\n\r\n    // a = b + c\r\n    Complex a, b, c; a = b.add(c);","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Sometimes it would be nice to have operator overloading, friend classes and multiple inheritance.</p>\n\n<p>However I still think it was a good decision. If Java would have had operator overloading then we could never be sure of operator meanings without looking through source code. At present that's not necessary. And I think your example of using methods instead of operator overloading is also quite readable. If you want to make things more clear you could always add a comment above hairy statements.</p>\n\n<pre><code>// a = b + c\nComplex a, b, c; a = b.add(c);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":449991,"reputation":65003,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":1,"creation_date":1337639516,"post_id":82890,"comment_id":13880994,"body_markdown":"&quot;How exactly if complicates maintenance and where on earth does this obfuscate code?&quot;","body":"&quot;How exactly if complicates maintenance and where on earth does this obfuscate code?&quot;"}],"tags":[],"owner":{"account_id":8699,"reputation":257,"user_id":15793,"display_name":"user15793"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1221656510,"creation_date":1221656510,"answer_id":82890,"question_id":77718,"body_markdown":"Check out Boost.Units: [link text][1]\r\n\r\nIt provides zero-overhead Dimensional analysis through operator overloading. How much clearer can this get?\r\n\r\n    quantity&lt;force&gt;     F = 2.0*newton;\r\n    quantity&lt;length&gt;    dx = 2.0*meter;\r\n    quantity&lt;energy&gt;    E = F * dx;\r\n    std::cout &lt;&lt; &quot;Energy = &quot; &lt;&lt; E &lt;&lt; endl;\r\n\r\nwould actually output &quot;Energy = 4 J&quot; which is correct.\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_36_0/doc/html/boost_units.html","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Check out Boost.Units: <a href=\"http://www.boost.org/doc/libs/1_36_0/doc/html/boost_units.html\" rel=\"noreferrer\">link text</a></p>\n\n<p>It provides zero-overhead Dimensional analysis through operator overloading. How much clearer can this get?</p>\n\n<pre><code>quantity&lt;force&gt;     F = 2.0*newton;\nquantity&lt;length&gt;    dx = 2.0*meter;\nquantity&lt;energy&gt;    E = F * dx;\nstd::cout &lt;&lt; \"Energy = \" &lt;&lt; E &lt;&lt; endl;\n</code></pre>\n\n<p>would actually output \"Energy = 4 J\" which is correct.</p>\n"},{"comments":[{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":84,"creation_date":1290853094,"post_id":194889,"comment_id":4656185,"body_markdown":"@Douglas Leeder : Thanks! Operator overloading is like OOP. The first time you learn to do it, you write overloads everywhere as you would put base classes and inheritance everywhere (like, sweet irony, the Java API). But this passes quite fast and then you appreciate the possibility all the while not abusing it. My own 10-years+ experience about C++ is that the number of bad overloads I saw both in my code and code from other coders is so low I believe I could count them on one hand. And this is a lot less than the number of overall bugs with sprintf, strcat, memset and buffer overruns.","body":"@Douglas Leeder : Thanks! Operator overloading is like OOP. The first time you learn to do it, you write overloads everywhere as you would put base classes and inheritance everywhere (like, sweet irony, the Java API). But this passes quite fast and then you appreciate the possibility all the while not abusing it. My own 10-years+ experience about C++ is that the number of bad overloads I saw both in my code and code from other coders is so low I believe I could count them on one hand. And this is a lot less than the number of overall bugs with sprintf, strcat, memset and buffer overruns."},{"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"score":0,"creation_date":1290885098,"post_id":194889,"comment_id":4658912,"body_markdown":"I now have 7 years of working experience with C++. The only operator overrides I written or interacted with have been stream operator - which are definitely an abuse of shifting operators. On the other hand shift operators for output are rather convenient, and as a special case, I guess it&#39;s acceptable.","body":"I now have 7 years of working experience with C++. The only operator overrides I written or interacted with have been stream operator - which are definitely an abuse of shifting operators. On the other hand shift operators for output are rather convenient, and as a special case, I guess it&#39;s acceptable."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":0,"creation_date":1290888433,"post_id":194889,"comment_id":4659217,"body_markdown":"@Douglas Leeder :  About the use on the `&lt;&lt;` and `&gt;&gt;` operators with streams : I don&#39;t even remember using them outside the context of a stream (multiplying/dividing an unsigned integer by 2 should not need its special operator), which explains, I guess, why this is the overloading that bothers me the less. My problem with overloading was more of the &quot;this is bad code&quot; kind. For example, the operator `+` whose return value is a static variable inside the function, for &quot;optimization purposes&quot;, or an inconsistant operator `[]` (the method was const, but returned reference was not).","body":"@Douglas Leeder :  About the use on the <code>&lt;&lt;</code> and <code>&gt;&gt;</code> operators with streams : I don&#39;t even remember using them outside the context of a stream (multiplying/dividing an unsigned integer by 2 should not need its special operator), which explains, I guess, why this is the overloading that bothers me the less. My problem with overloading was more of the &quot;this is bad code&quot; kind. For example, the operator <code>+</code> whose return value is a static variable inside the function, for &quot;optimization purposes&quot;, or an inconsistant operator <code>[]</code> (the method was const, but returned reference was not)."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":13,"creation_date":1290888781,"post_id":194889,"comment_id":4659241,"body_markdown":"@Douglas Leeder : I believe, after discussing about that in another SO question, that the gap between &quot;lovers&quot; and &quot;haters&quot; of operator overload is probably caused by a difference in their approach of the code: &quot;Haters&quot; are more &quot;functions are what matters&quot;, meaning that they expect a function to do one thing, and one thing only. Thus operators should work as designed by the language. &quot;Lovers&quot; are more about &quot;objects should behave&quot;, meaning that they accept more readily that function (and thus, operators) can change their behaviour according to the type of their parameters.","body":"@Douglas Leeder : I believe, after discussing about that in another SO question, that the gap between &quot;lovers&quot; and &quot;haters&quot; of operator overload is probably caused by a difference in their approach of the code: &quot;Haters&quot; are more &quot;functions are what matters&quot;, meaning that they expect a function to do one thing, and one thing only. Thus operators should work as designed by the language. &quot;Lovers&quot; are more about &quot;objects should behave&quot;, meaning that they accept more readily that function (and thus, operators) can change their behaviour according to the type of their parameters."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1339289300,"post_id":194889,"comment_id":14317399,"body_markdown":"Actually I think it should be `1.0/2`, because `1/2 == 0`. Also, you can write `it-&gt;foo()`, which is a lot nicer than `(*it).foo()`. Great post!","body":"Actually I think it should be <code>1.0&#47;2</code>, because <code>1&#47;2 == 0</code>. Also, you can write <code>it-&gt;foo()</code>, which is a lot nicer than <code>(*it).foo()</code>. Great post!"},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":0,"creation_date":1339360944,"post_id":194889,"comment_id":14328168,"body_markdown":"@Niklas B. : Thanks! I corrected the `1/2` into `0.5`. As for `it-&gt;foo()`, I had decided to let it as `(*it).foo()` because it is easier to decompose, and thus, understand by Java people (apply the `*` operator, as in the line before, the get, the value, and then, the `.` to call the method of the value).","body":"@Niklas B. : Thanks! I corrected the <code>1&#47;2</code> into <code>0.5</code>. As for <code>it-&gt;foo()</code>, I had decided to let it as <code>(*it).foo()</code> because it is easier to decompose, and thus, understand by Java people (apply the <code>*</code> operator, as in the line before, the get, the value, and then, the <code>.</code> to call the method of the value)."},{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1339362257,"post_id":194889,"comment_id":14328405,"body_markdown":"I was thinking something like that was the reason you put it this way. Thanks for the followup!","body":"I was thinking something like that was the reason you put it this way. Thanks for the followup!"},{"owner":{"display_name":"user377628"},"score":0,"creation_date":1350414209,"post_id":194889,"comment_id":17508780,"body_markdown":"You know, single line comments (`//...`) work in C, just like they do in C# and Java.","body":"You know, single line comments (<code>&#47;&#47;...</code>) work in C, just like they do in C# and Java."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":2,"creation_date":1350463010,"post_id":194889,"comment_id":17522455,"body_markdown":"@Hassan : `single line comments (//...) work in C` IIRC, single line comments work in C99, not in C89.","body":"@Hassan : <code>single line comments (&#47;&#47;...) work in C</code> IIRC, single line comments work in C99, not in C89."},{"owner":{"account_id":1257731,"reputation":1464,"user_id":1216838,"accept_rate":52,"display_name":"Pita"},"score":0,"creation_date":1384500769,"post_id":194889,"comment_id":29770750,"body_markdown":"The examples given above makes sense for stuff like + -, the arithmatic ones.... the other ones are very confusing to understand, such as the &lt;&lt; for stringstreams, Functors. java syntax might be verbose, but things like.. next(), append() has a very clear meaning. that makes it more easy to read","body":"The examples given above makes sense for stuff like + -, the arithmatic ones.... the other ones are very confusing to understand, such as the &lt;&lt; for stringstreams, Functors. java syntax might be verbose, but things like.. next(), append() has a very clear meaning. that makes it more easy to read"},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":3,"creation_date":1384512668,"post_id":194889,"comment_id":29776548,"body_markdown":"@user1216838 :  Like in mathematics, or in quantum physics, operators depend on the context. In C++, using &quot;&lt;&lt;&quot; for streams of &quot;()&quot; for functors is so natural no C++ developer would argue against them. Now, a C (or Java) developer coming to C++ would be surprised, but, hey, you&#39;re learning a new language. You should then expect to learn new ways. As for &quot;append()&quot; it is so natural they decided against it for Java strings, and instead overloaded the &quot;+&quot; and &quot;+=&quot;... :-)","body":"@user1216838 :  Like in mathematics, or in quantum physics, operators depend on the context. In C++, using &quot;&lt;&lt;&quot; for streams of &quot;()&quot; for functors is so natural no C++ developer would argue against them. Now, a C (or Java) developer coming to C++ would be surprised, but, hey, you&#39;re learning a new language. You should then expect to learn new ways. As for &quot;append()&quot; it is so natural they decided against it for Java strings, and instead overloaded the &quot;+&quot; and &quot;+=&quot;... :-)"},{"owner":{"account_id":1257731,"reputation":1464,"user_id":1216838,"accept_rate":52,"display_name":"Pita"},"score":1,"creation_date":1384740450,"post_id":194889,"comment_id":29844012,"body_markdown":"@paercebal for sure they depend on context, I&#39;m just arguing for the benefit of more verbose and more clear meaning syntax. as opposed to looking through the documentation for every new declared type. \nJava also decided to use double quotes for static strings, instead of writing new String(&quot;&quot;) for every string u declare. but even tho its inconsistent with other operators, no programmer will ever mistaken the meaning of these operators.","body":"@paercebal for sure they depend on context, I&#39;m just arguing for the benefit of more verbose and more clear meaning syntax. as opposed to looking through the documentation for every new declared type.  Java also decided to use double quotes for static strings, instead of writing new String(&quot;&quot;) for every string u declare. but even tho its inconsistent with other operators, no programmer will ever mistaken the meaning of these operators."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":3,"creation_date":1384870283,"post_id":194889,"comment_id":29902606,"body_markdown":"@user1216838 : `for the benefit of more verbose and more clear meaning syntax` : This is a glaring contradiction. The matrix is the best example here. Look at the actual notation in mathematics and in physics and you&#39;ll realize that **nowhere** they use a notation like Java&#39;s notation, and that, indeed, their notation is similar to C++&#39;s. This alone is proof that clear and verbose doesn&#39;t go together. What you are arguing about is your own coding habits and reluctance of using operator overloading. C++ developers (and indeed, other languages devs,) don&#39;t have the same limitations.","body":"@user1216838 : <code>for the benefit of more verbose and more clear meaning syntax</code> : This is a glaring contradiction. The matrix is the best example here. Look at the actual notation in mathematics and in physics and you&#39;ll realize that <b>nowhere</b> they use a notation like Java&#39;s notation, and that, indeed, their notation is similar to C++&#39;s. This alone is proof that clear and verbose doesn&#39;t go together. What you are arguing about is your own coding habits and reluctance of using operator overloading. C++ developers (and indeed, other languages devs,) don&#39;t have the same limitations."},{"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":1,"creation_date":1400676884,"post_id":194889,"comment_id":36577603,"body_markdown":"I agree and disagree. I would want to use operator overloading myself, especially with complex numbers and the `BigInteger` and `BigDecimal` class. However I wouldn&#39;t want to see anyone else abuse it.","body":"I agree and disagree. I would want to use operator overloading myself, especially with complex numbers and the <code>BigInteger</code> and <code>BigDecimal</code> class. However I wouldn&#39;t want to see anyone else abuse it."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":2,"creation_date":1401499317,"post_id":194889,"comment_id":36922795,"body_markdown":"@skiwi : `However I wouldn&#39;t want to see anyone else abuse it` : From my own 14 years-old professional experience, &quot;operator overloading abuse&quot; is a much hyped-up concept bordering on paranoia. I predict this paranoia will end the day Java will get it, too (probably with Java structs, around Java 10, in 2020). In my current job, with 100+ C/C++ developers and a C codebase evolving fast into C++, the major problems are casts (mostly C-style casts), void * and a legacy C framework mimicking OOP features. Not operator overloading despite it now being available and wisely used (functors, mostly).","body":"@skiwi : <code>However I wouldn&#39;t want to see anyone else abuse it</code> : From my own 14 years-old professional experience, &quot;operator overloading abuse&quot; is a much hyped-up concept bordering on paranoia. I predict this paranoia will end the day Java will get it, too (probably with Java structs, around Java 10, in 2020). In my current job, with 100+ C/C++ developers and a C codebase evolving fast into C++, the major problems are casts (mostly C-style casts), void * and a legacy C framework mimicking OOP features. Not operator overloading despite it now being available and wisely used (functors, mostly)."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":1,"creation_date":1401900318,"post_id":194889,"comment_id":37067148,"body_markdown":"@user7610 : Please read the original question, before it was edited: https://stackoverflow.com/revisions/77718/1 and you&#39;ll see there was multiple questions inside, and that I answered them. The question was simplified in 4 years later, after I did my last non-trival edit.","body":"@user7610 : Please read the original question, before it was edited: <a href=\"https://stackoverflow.com/revisions/77718/1\">stackoverflow.com/revisions/77718/1</a> and you&#39;ll see there was multiple questions inside, and that I answered them. The question was simplified in 4 years later, after I did my last non-trival edit."},{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1401967197,"post_id":194889,"comment_id":37096217,"body_markdown":"@paercebal Fair enough. Peace.","body":"@paercebal Fair enough. Peace."},{"owner":{"account_id":2412092,"reputation":335,"user_id":2106951,"display_name":"Leo"},"score":2,"creation_date":1464211372,"post_id":194889,"comment_id":62397572,"body_markdown":"I can not believe after such a clean logic answer people still can not get OP&#39;s point !  And arguing about  trivial things such as  whether &quot;&lt;&lt;&quot; is confusing or not.    It has nothing to do with OP&#39;s reasoning.  The point is you don&#39;t ban some features just because some people will abuse it, everything can be abused.  If an knife is used to cutting meats, if someone used it to kill a person, do you decide to make all knife dull, so dull that it won&#39;t even cut a fruit ?","body":"I can not believe after such a clean logic answer people still can not get OP&#39;s point !  And arguing about  trivial things such as  whether &quot;&lt;&lt;&quot; is confusing or not.    It has nothing to do with OP&#39;s reasoning.  The point is you don&#39;t ban some features just because some people will abuse it, everything can be abused.  If an knife is used to cutting meats, if someone used it to kill a person, do you decide to make all knife dull, so dull that it won&#39;t even cut a fruit ?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1473770945,"post_id":194889,"comment_id":66260443,"body_markdown":"This completely misses the fact that developers often don&#39;t expect for `+` to have a different implementation / meaning than the default. Something like `a = b + c` can suddenly have a lot of different meanings. This also plays up since in Java things are often automatically converted to strings (I&#39;m not saying that this is a good thing) so `a = b + c` can get confusing quickly. This is where obfuscation comes in. Operator overloading is a balancing act and Gosling preferred minimizing side effects over conciseness. Calling that &quot;screwing someone over&quot; is not just wrong, it&#39;s abusive as well.","body":"This completely misses the fact that developers often don&#39;t expect for <code>+</code> to have a different implementation / meaning than the default. Something like <code>a = b + c</code> can suddenly have a lot of different meanings. This also plays up since in Java things are often automatically converted to strings (I&#39;m not saying that this is a good thing) so <code>a = b + c</code> can get confusing quickly. This is where obfuscation comes in. Operator overloading is a balancing act and Gosling preferred minimizing side effects over conciseness. Calling that &quot;screwing someone over&quot; is not just wrong, it&#39;s abusive as well."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":2,"creation_date":1473844184,"post_id":194889,"comment_id":66291239,"body_markdown":"@MaartenBodewes : Developer&#39;s expectations are dictated by the language. In C++, no developer expects a + b to call the builtin `operator +`. Instead, they expect the right `operator +` will be called. The fact C and Java developers have such expectations on builtin operators are due to their knowledge of their language&#39;s limitations. Then, for some reason, such expectations borne from limitations are raised as something they can&#39;t live without, despite all other languages having proved otherwise. Gosling&#39;s decision was a matter of personal taste.","body":"@MaartenBodewes : Developer&#39;s expectations are dictated by the language. In C++, no developer expects a + b to call the builtin <code>operator +</code>. Instead, they expect the right <code>operator +</code> will be called. The fact C and Java developers have such expectations on builtin operators are due to their knowledge of their language&#39;s limitations. Then, for some reason, such expectations borne from limitations are raised as something they can&#39;t live without, despite all other languages having proved otherwise. Gosling&#39;s decision was a matter of personal taste."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1473852213,"post_id":194889,"comment_id":66295976,"body_markdown":"@paercebal Of course it was, language design is not a democratic process (fortunately). Any kind of decision basically is &quot;a matter of personal taste&quot;. But as the goal of Java was a maintainable, relatively simple language (both for users and for compiler/tool builders, mind you) leaving out operator overloading is - or at least was - entirely in the spirit of Java. Every construct in popular languages can be defended the way you do, but if you put them all together you get D, a language mainly produced to fill in all the marks of features supported - and therefore largely not maintainable.","body":"@paercebal Of course it was, language design is not a democratic process (fortunately). Any kind of decision basically is &quot;a matter of personal taste&quot;. But as the goal of Java was a maintainable, relatively simple language (both for users and for compiler/tool builders, mind you) leaving out operator overloading is - or at least was - entirely in the spirit of Java. Every construct in popular languages can be defended the way you do, but if you put them all together you get D, a language mainly produced to fill in all the marks of features supported - and therefore largely not maintainable."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":6,"creation_date":1473968011,"post_id":194889,"comment_id":66353674,"body_markdown":"@MaartenBodewes In addition to Gosling&#39;s School of &quot;Decision by Taste&quot;, there&#39;s also Stroustrup&#39;s school of &quot;Decision by taking into account both your experience and those of other experts, including those who disagree with you&quot;. I tend to favor the last school. Also, operator overloading is not a technical challenge, nor it is complicated to understand/assimilate, as demonstrated by the myriad of other languages (including Java&#39;s twin, C#) enabling it. Operator overloading is just something that rubs some people the wrong way. Too bad, because as I demonstrated, it can make code much clearer.","body":"@MaartenBodewes In addition to Gosling&#39;s School of &quot;Decision by Taste&quot;, there&#39;s also Stroustrup&#39;s school of &quot;Decision by taking into account both your experience and those of other experts, including those who disagree with you&quot;. I tend to favor the last school. Also, operator overloading is not a technical challenge, nor it is complicated to understand/assimilate, as demonstrated by the myriad of other languages (including Java&#39;s twin, C#) enabling it. Operator overloading is just something that rubs some people the wrong way. Too bad, because as I demonstrated, it can make code much clearer."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1473968889,"post_id":194889,"comment_id":66354131,"body_markdown":"Sorry,  but the reason that Java is Java is by largely ignoring developers requests. On their own all features are defendable. Mop them all up into a language and you get C++ or D. Java is limited by design. It could use a next step (such as Kotlin maybe). But whatever this discussion, the above answer **blames** Goslin. I&#39;m fine with people disagreeing, but putting blame on someone only makes the discussion subjective.","body":"Sorry,  but the reason that Java is Java is by largely ignoring developers requests. On their own all features are defendable. Mop them all up into a language and you get C++ or D. Java is limited by design. It could use a next step (such as Kotlin maybe). But whatever this discussion, the above answer <b>blames</b> Goslin. I&#39;m fine with people disagreeing, but putting blame on someone only makes the discussion subjective."},{"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"score":7,"creation_date":1474104033,"post_id":194889,"comment_id":66402828,"body_markdown":"@MaartenBodewes : All the examples I wrote above, and all that bothers you is the *&quot;as a developer, you&#39;re screwed because Gosling&#39;s personal choice&quot;*? Please, write your own answer, defending the *&quot;you developers are stupid, let the genius people decide for you what you need&quot;* angle. This discussion serves no purpose.","body":"@MaartenBodewes : All the examples I wrote above, and all that bothers you is the <i>&quot;as a developer, you&#39;re screwed because Gosling&#39;s personal choice&quot;</i>? Please, write your own answer, defending the <i>&quot;you developers are stupid, let the genius people decide for you what you need&quot;</i> angle. This discussion serves no purpose."},{"owner":{"account_id":271528,"reputation":2352,"user_id":562106,"accept_rate":100,"display_name":"Nick"},"score":0,"creation_date":1494886969,"post_id":194889,"comment_id":75008537,"body_markdown":"matlab&#39;s operator overloading is broken in my opinion.  All operations are dispatched to the highest parent object, so `a.b.c()` is dispatched to `a`&#39;s implementation!","body":"matlab&#39;s operator overloading is broken in my opinion.  All operations are dispatched to the highest parent object, so <code>a.b.c()</code> is dispatched to <code>a</code>&#39;s implementation!"},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":1,"creation_date":1533869818,"post_id":194889,"comment_id":90514626,"body_markdown":"But the situation with Java does not even seem consistent. For example, the foreach loop &quot;operator&quot; is &quot;overridden&quot; with my definition of `Iterable`, but the &quot;&lt;&quot; is not overridden with my definition of `Comparable`. Seems rather illogical and perhaps something that can be addressed in future JLS&#39;s.","body":"But the situation with Java does not even seem consistent. For example, the foreach loop &quot;operator&quot; is &quot;overridden&quot; with my definition of <code>Iterable</code>, but the &quot;&lt;&quot; is not overridden with my definition of <code>Comparable</code>. Seems rather illogical and perhaps something that can be addressed in future JLS&#39;s."},{"owner":{"account_id":3261631,"reputation":181,"user_id":2747106,"accept_rate":100,"display_name":"dannyhut"},"score":1,"creation_date":1556315877,"post_id":194889,"comment_id":98410570,"body_markdown":"I personally like operator overloading, its a tool. But I don&#39;t use it every where because it is not appropriate to use it every where. Like all tools, use it when you should, don&#39;t when you shouldn&#39;t. James&#39;s statement that he left them out of Java because developers abuse them I find a bit insulting.","body":"I personally like operator overloading, its a tool. But I don&#39;t use it every where because it is not appropriate to use it every where. Like all tools, use it when you should, don&#39;t when you shouldn&#39;t. James&#39;s statement that he left them out of Java because developers abuse them I find a bit insulting."},{"owner":{"account_id":5879394,"reputation":1229,"user_id":4634775,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1633575372,"post_id":194889,"comment_id":122797880,"body_markdown":"To quote James Gosling in his work, The Evolution of Numerical Computing in Java, Everyone Ive talked to who does numerical work insists that operator overloading is totally essential. The method invocation style for writing expressions is so cumbersome as to be essentially useless.","body":"To quote James Gosling in his work, The Evolution of Numerical Computing in Java, Everyone Ive talked to who does numerical work insists that operator overloading is totally essential. The method invocation style for writing expressions is so cumbersome as to be essentially useless."},{"owner":{"account_id":1925547,"reputation":1110,"user_id":1736092,"display_name":"spex"},"score":0,"creation_date":1657119917,"post_id":194889,"comment_id":128735276,"body_markdown":"Wasn&#39;t Perl 6 renamed to Raku in October 2019?","body":"Wasn&#39;t Perl 6 renamed to Raku in October 2019?"}],"tags":[],"owner":{"account_id":7982,"reputation":81928,"user_id":14089,"accept_rate":47,"display_name":"paercebal"},"comment_count":29,"down_vote_count":7,"up_vote_count":920,"is_accepted":false,"score":913,"last_activity_date":1666036572,"creation_date":1223770832,"answer_id":194889,"question_id":77718,"body_markdown":"There are a lot of posts complaining about operator overloading.\r\n\r\nI felt I had to clarify the &quot;operator overloading&quot; concepts, offering an alternative viewpoint on this concept.\r\n\r\n# Code obfuscating?\r\n\r\nThis argument is a fallacy.\r\n\r\n## Obfuscating is possible in all languages...\r\n\r\nIt is as easy to obfuscate code in C or Java through functions/methods as it is in C++ through operator overloads:\r\n\r\n    // C++\r\n    T operator + (const T &amp; a, const T &amp; b) // add ?\r\n    {\r\n       T c ;\r\n       c.value = a.value - b.value ; // subtract !!!\r\n       return c ;\r\n    }\r\n\r\n    // Java\r\n    static T add (T a, T b) // add ?\r\n    {\r\n       T c = new T() ;\r\n       c.value = a.value - b.value ; // subtract !!!\r\n       return c ;\r\n    }\r\n\r\n    /* C */\r\n    T add (T a, T b) /* add ? */\r\n    {\r\n       T c ;\r\n       c.value = a.value - b.value ; /* subtract !!! */\r\n       return c ;\r\n    }\r\n\r\n## ...Even in Java&#39;s standard interfaces\r\n\r\nFor another example, let&#39;s see the &lt;a href=&quot;http://download.oracle.com/javase/7/docs/api/java/lang/Cloneable.html&quot;&gt;`Cloneable` interface&lt;/a&gt; in Java:\r\n\r\nYou are supposed to clone the object implementing this interface. But you could lie. And create a different object. In fact, this interface is so weak you could return another type of object altogether, just for the fun of it:\r\n\r\n    class MySincereHandShake implements Cloneable\r\n    {\r\n        public Object clone()\r\n        {\r\n           return new MyVengefulKickInYourHead() ;\r\n        }\r\n    }\r\n\r\nAs the `Cloneable` interface can be abused/obfuscated, should it be banned on the same grounds C++ operator overloading is supposed to be?\r\n\r\nWe could overload the `toString()` method of a `MyComplexNumber` class to have it return the stringified hour of the day. Should the `toString()` overloading be banned, too? We could sabotage `MyComplexNumber.equals` to have it return a random value, modify the operands... etc. etc. etc..\r\n\r\n&lt;b&gt;In Java, as in C++, or whatever language, the programmer must respect a minimum of semantics when writing code. This means implementing an `add` function that adds, and `Cloneable` implementation method that clones, and a `++` operator that increments.&lt;/b&gt;\r\n\r\n# What&#39;s obfuscating anyway?\r\n\r\nNow that we know that code can be sabotaged even through the pristine Java methods, we can ask ourselves about the real use of operator overloading in C++?\r\n\r\n## Clear and natural notation: methods vs. operator overloading?\r\n\r\nWe&#39;ll compare below, for different cases, the &quot;same&quot; code in Java and C++, to have an idea of which kind of coding style is clearer.\r\n\r\n### Natural comparisons:\r\n\r\n    // C++ comparison for built-ins and user-defined types\r\n    bool    isEqual          = A == B ;\r\n    bool    isNotEqual       = A != B ;\r\n    bool    isLesser         = A &lt;  B ;\r\n    bool    isLesserOrEqual  = A &lt;= B ;\r\n\r\n    // Java comparison for user-defined types\r\n    boolean isEqual          = A.equals(B) ;\r\n    boolean isNotEqual       = ! A.equals(B) ;\r\n    boolean isLesser         = A.comparesTo(B) &lt; 0 ;\r\n    boolean isLesserOrEqual  = A.comparesTo(B) &lt;= 0 ;\r\n\r\nPlease note that A and B could be of any type in C++, as long as the operator overloads are provided. In Java, when A and B are not primitives, the code can become very confusing, even for primitive-like objects (BigInteger, etc.)...\r\n\r\n### Natural array/container accessors and subscripting:\r\n\r\n    // C++ container accessors, more natural\r\n    value        = myArray[25] ;         // subscript operator\r\n    value        = myVector[25] ;        // subscript operator\r\n    value        = myString[25] ;        // subscript operator\r\n    value        = myMap[&quot;25&quot;] ;         // subscript operator\r\n    myArray[25]  = value ;               // subscript operator\r\n    myVector[25] = value ;               // subscript operator\r\n    myString[25] = value ;               // subscript operator\r\n    myMap[&quot;25&quot;]  = value ;               // subscript operator\r\n    \r\n    // Java container accessors, each one has its special notation\r\n    value        = myArray[25] ;         // subscript operator\r\n    value        = myVector.get(25) ;    // method get\r\n    value        = myString.charAt(25) ; // method charAt\r\n    value        = myMap.get(&quot;25&quot;) ;     // method get\r\n    myArray[25]  = value ;               // subscript operator\r\n    myVector.set(25, value) ;            // method set\r\n    myMap.put(&quot;25&quot;, value) ;             // method put\r\n\r\nIn Java, we see that for each container to do the same thing (access its content through an index or identifier), we have a different way to do it, which is confusing.\r\n\r\nIn C++, each container uses the same way to access its content, thanks to operator overloading.\r\n\r\n### Natural advanced types manipulation\r\n\r\nThe examples below use a `Matrix` object, found using the first links found on Google for &quot;&lt;a href=&quot;https://encrypted.google.com/search?q=Java+Matrix+object&quot;&gt;Java Matrix object&lt;/a&gt;&quot; and &quot;&lt;a href=&quot;https://encrypted.google.com/search?q=c%2B%2B+Matrix+object&quot;&gt;C++ Matrix object&lt;/a&gt;&quot;:\r\n\r\n    // C++ YMatrix matrix implementation on CodeProject\r\n    // http://www.codeproject.com/KB/architecture/ymatrix.aspx\r\n    // A, B, C, D, E, F are Matrix objects;\r\n    E =  A * (B / 2) ;\r\n    E += (A - B) * (C + D) ;\r\n    F =  E ;                  // deep copy of the matrix\r\n    \r\n    // Java JAMA matrix implementation (seriously...)\r\n    // http://math.nist.gov/javanumerics/jama/doc/\r\n    // A, B, C, D, E, F are Matrix objects;\r\n    E = A.times(B.times(0.5)) ;\r\n    E.plusEquals(A.minus(B).times(C.plus(D))) ;\r\n    F = E.copy() ;            // deep copy of the matrix\r\n\r\nAnd this is not limited to matrices. The `BigInteger` and `BigDecimal` classes of Java suffer from the same confusing verbosity, whereas their equivalents in C++ are as clear as built-in types.\r\n\r\n### Natural iterators:\r\n\r\n    // C++ Random Access iterators\r\n    ++it ;                  // move to the next item\r\n    --it ;                  // move to the previous item\r\n    it += 5 ;               // move to the next 5th item (random access)\r\n    value = *it ;           // gets the value of the current item\r\n    *it = 3.1415 ;          // sets the value 3.1415 to the current item\r\n    (*it).foo() ;           // call method foo() of the current item\r\n    \r\n    // Java ListIterator&lt;E&gt; &quot;bi-directional&quot; iterators\r\n    value = it.next() ;     // move to the next item &amp; return the value\r\n    value = it.previous() ; // move to the previous item &amp; return the value\r\n    it.set(3.1415) ;        // sets the value 3.1415 to the current item\r\n\r\n### Natural functors:\r\n\r\n    // C++ Functors\r\n    myFunctorObject(&quot;Hello World&quot;, 42) ;\r\n    \r\n    // Java Functors ???\r\n    myFunctorObject.execute(&quot;Hello World&quot;, 42) ;\r\n\r\n### Text concatenation:\r\n\r\n    // C++ stream handling (with the &lt;&lt; operator)\r\n                        stringStream   &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\r\n                        fileStream     &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\r\n                        outputStream   &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\r\n                        networkStream  &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\r\n    anythingThatOverloadsShiftOperator &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\r\n    \r\n    // Java concatenation\r\n    myStringBuffer.append(&quot;Hello &quot;).append(25).append(&quot; World&quot;) ;\r\n\r\nOk, in Java you can use `MyString = &quot;Hello &quot; + 25 + &quot; World&quot; ;` too... But, wait a second: This is operator overloading, isn&#39;t it? Isn&#39;t it cheating???\r\n\r\n:-D\r\n\r\n## Generic code?\r\n\r\nThe same generic code modifying operands should be usable both for built-ins/primitives (which have no interfaces in Java), standard objects (which could not have the right interface), and user-defined objects.\r\n\r\nFor example, calculating the average value of two values of arbitrary types:\r\n\r\n    // C++ primitive/advanced types\r\n    template&lt;typename T&gt;\r\n    T getAverage(const T &amp; p_lhs, const T &amp; p_rhs)\r\n    {\r\n       return (p_lhs + p_rhs) / 2 ;\r\n    }\r\n\r\n    int     intValue     = getAverage(25, 42) ;\r\n    double  doubleValue  = getAverage(25.25, 42.42) ;\r\n    complex complexValue = getAverage(cA, cB) ; // cA, cB are complex\r\n    Matrix  matrixValue  = getAverage(mA, mB) ; // mA, mB are Matrix\r\n    \r\n    // Java primitive/advanced types\r\n    // It won&#39;t really work in Java, even with generics. Sorry.\r\n\r\n# Discussing operator overloading\r\n\r\nNow that we have seen fair comparisons between C++ code using operator overloading, and the same code in Java, we can now discuss &quot;operator overloading&quot; as a concept.\r\n\r\n## Operator overloading existed since before computers\r\n\r\n&lt;b&gt;Even outside of computer science, there is operator overloading: For example, in mathematics, operators like `+`, `-`, `*`, etc. are overloaded.&lt;/b&gt;\r\n\r\nIndeed, the signification of `+`, `-`, `*`, etc. changes depending on the types of the operands (numerics, vectors, quantum wave functions, matrices, etc.).\r\n\r\nMost of us, as part of our science courses, learned multiple significations for operators, depending on the types of the operands. Did we find them confusing, then?\r\n\r\n## Operator overloading depends on its operands\r\n\r\nThis is the most important part of operator overloading: Like in mathematics, or in physics, the operation depends on its operands&#39; types.\r\n\r\nSo, know the type of the operand, and you will know the effect of the operation.\r\n\r\n## Even C and Java have (hard-coded) operator overloading\r\n\r\nIn C, the real behavior of an operator will change according to its operands. For example, adding two integers is different than adding two doubles, or even one integer and one double. There is even the whole pointer arithmetic domain (without casting, you can add to a pointer an integer, but you cannot add two pointers...).\r\n\r\nIn Java, there is no pointer arithmetic, but someone still found string concatenation without the `+` operator would be ridiculous enough to justify an exception in the &quot;operator overloading is evil&quot; creed.\r\n\r\nIt&#39;s just that you, as a C (for historical reasons) or Java (for &lt;i&gt;personal reasons&lt;/i&gt;, see below) coder, you can&#39;t provide your own.\r\n\r\n## In C++, operator overloading is not optional...\r\n\r\nIn C++, operator overloading for built-in types is not possible (and this is a good thing), but &lt;i&gt;user-defined&lt;/i&gt; types can have &lt;i&gt;user-defined&lt;/i&gt; operator overloads.\r\n\r\nAs already said earlier, in C++, and to the contrary to Java, user-types are not considered second-class citizens of the language, when compared to built-in types. So, if built-in types have operators, user types should be able to have them, too.\r\n\r\nThe truth is that, like the `toString()`, `clone()`, `equals()` methods are for Java (&lt;i&gt;i.e. quasi-standard-like&lt;/i&gt;), C++ operator overloading is so much part of C++ that it becomes as natural as the original C operators, or the before mentioned Java methods.\r\n\r\nCombined with template programming, operator overloading becomes a well known design pattern. In fact, you cannot go very far in STL without using overloaded operators, and overloading operators for your own class.\r\n\r\n## ...but it should not be abused\r\n\r\nOperator overloading should strive to respect the semantics of the operator. Do not subtract in a `+` operator (as in &quot;do not subtract in a `add` function&quot;, or &quot;return crap in a `clone` method&quot;).\r\n\r\nCast overloading can be very dangerous because they can lead to ambiguities. So they should really be reserved for well defined cases. As for `&amp;&amp;` and `||`, do not ever overload them unless you really know what you&#39;re doing, as you&#39;ll lose the &lt;a rehf=&quot;https://secure.wikimedia.org/wikipedia/en/wiki/Short-circuit_evaluation&quot;&gt;the short circuit evaluation&lt;/a&gt; that the native operators `&amp;&amp;` and `||` enjoy.\r\n\r\n# So... Ok... Then why it is not possible in Java?\r\n\r\nBecause James Gosling said so:\r\n\r\n&gt; I left out operator overloading as a &lt;b&gt;fairly personal choice&lt;/b&gt; because I had seen too many people abuse it in C++.\r\n&gt; \r\n&gt; &lt;i&gt;James Gosling. Source: http://www.gotw.ca/publications/c_family_interview.htm&lt;/i&gt;\r\n\r\nPlease compare Gosling&#39;s text above with Stroustrup&#39;s below:\r\n\r\n&gt; Many C++ design decisions have their roots in my dislike for forcing people to do things in some particular way [...] Often, I was tempted to outlaw a feature I personally disliked, I refrained from doing so because &lt;b&gt;I did not think I had the right to force my views on others&lt;/b&gt;.\r\n&gt;\r\n&gt; &lt;i&gt;Bjarne Stroustrup. Source: The Design and Evolution of C++ (1.3 General Background)&lt;/i&gt;\r\n\r\n## Would operator overloading benefit Java?\r\n\r\nSome objects would greatly benefit from operator overloading (concrete or numerical types, like BigDecimal, complex numbers, matrices, containers, iterators, comparators, parsers etc.).\r\n\r\nIn C++, you can profit from this benefit because of Stroustrup&#39;s humility. In Java, you&#39;re simply screwed because of Gosling&#39;s &lt;i&gt;personal choice&lt;/i&gt;.\r\n\r\n## Could it be added to Java?\r\n\r\nThe reasons for not adding operator overloading now in Java could be a mix of internal politics, allergy to the feature, distrust of developers (you know, the saboteur ones that seem to haunt Java teams...), compatibility with the previous JVMs, time to write a correct specification, etc..\r\n\r\nSo don&#39;t hold your breath waiting for this feature...\r\n\r\n## But they do it in C#!!!\r\n\r\nYeah...\r\n\r\nWhile this is far from being the only difference between the two languages, this one never fails to amuse me.\r\n\r\nApparently, the C# folks, with their &lt;i&gt;&quot;every primitive is a `struct`, and a `struct` derives from Object&quot;&lt;/i&gt;, got it right at first try.\r\n\r\n## And they do it in &lt;a href=&quot;https://en.wikipedia.org/wiki/Operator_overloading&quot;&gt;other languages&lt;/a&gt;!!!\r\n\r\nDespite all the FUD against used defined operator overloading, the following languages support it: &lt;a href=&quot;https://kotlinlang.org/docs/reference/operator-overloading.html&quot;&gt;Kotlin&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/q/1991240&quot;&gt;Scala&lt;/a&gt;, &lt;a href=&quot;https://www.dartlang.org/articles/idiomatic-dart/#operators&quot;&gt;Dart&lt;/a&gt;, &lt;a href=&quot;https://docs.python.org/3/reference/datamodel.html#special-method-names&quot;&gt;Python&lt;/a&gt;, &lt;a href=&quot;https://msdn.microsoft.com/en-us/library/dd233204.aspx&quot;&gt;F#&lt;/a&gt;, &lt;a href=&quot;https://msdn.microsoft.com/en-us/library/aa288467.aspx&quot;&gt;C#&lt;/a&gt;, &lt;a href=&quot;http://dlang.org/operatoroverloading.html&quot;&gt;D&lt;/a&gt;, &lt;a href=&quot;http://www.cap-lore.com/Languages/A68Ops.html&quot;&gt;Algol 68&lt;/a&gt;, &lt;a href=&quot;http://logos.cs.uic.edu/476/resources/SmallTalk/cs476_Smalltalk/Smalltalk.htm&quot;&gt;Smalltalk&lt;/a&gt;, &lt;a href=&quot;http://www.groovy-lang.org/operators.html#Operator-Overloading&quot;&gt;Groovy&lt;/a&gt;, &lt;a href=&quot;https://design.raku.org/S06.html#Operator_overloading&quot;&gt;Raku (formerly Perl 6)&lt;/a&gt;, C++, &lt;a href=&quot;https://stackoverflow.com/a/3331974&quot;&gt;Ruby&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/questions/16241556&quot;&gt;Haskell&lt;/a&gt;, &lt;a href=&quot;https://fr.mathworks.com/help/matlab/matlab_oop/implementing-operators-for-your-class.html&quot;&gt;MATLAB&lt;/a&gt;, &lt;a href=&quot;http://se.ethz.ch/~meyer/publications/online/eiffel/basic.html&quot;&gt;Eiffel&lt;/a&gt;, &lt;a href=&quot;http://lua-users.org/wiki/MetamethodsTutorial&quot;&gt;Lua&lt;/a&gt;, &lt;a href=&quot;https://stackoverflow.com/a/1535235&quot;&gt;Clojure&lt;/a&gt;, &lt;a href=&quot;http://research.physics.illinois.edu/ElectronicStructure/498-s97/comp_info/overload.html&quot;&gt;Fortran 90&lt;/a&gt;, &lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID42&quot;&gt;Swift&lt;/a&gt;, &lt;a href=&quot;http://archive.adaic.com/standards/83lrm/html/lrm-06-07.html&quot;&gt;Ada&lt;/a&gt;, &lt;a href=&quot;http://edn.embarcadero.com/article/34324&quot;&gt;Delphi 2005&lt;/a&gt;...\r\n\r\nSo many languages, with so many different (and sometimes opposing) philosophies, and yet they all agree on that point.\r\n\r\nFood for thought...","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>There are a lot of posts complaining about operator overloading.</p>\n<p>I felt I had to clarify the &quot;operator overloading&quot; concepts, offering an alternative viewpoint on this concept.</p>\n<h1>Code obfuscating?</h1>\n<p>This argument is a fallacy.</p>\n<h2>Obfuscating is possible in all languages...</h2>\n<p>It is as easy to obfuscate code in C or Java through functions/methods as it is in C++ through operator overloads:</p>\n<pre><code>// C++\nT operator + (const T &amp; a, const T &amp; b) // add ?\n{\n   T c ;\n   c.value = a.value - b.value ; // subtract !!!\n   return c ;\n}\n\n// Java\nstatic T add (T a, T b) // add ?\n{\n   T c = new T() ;\n   c.value = a.value - b.value ; // subtract !!!\n   return c ;\n}\n\n/* C */\nT add (T a, T b) /* add ? */\n{\n   T c ;\n   c.value = a.value - b.value ; /* subtract !!! */\n   return c ;\n}\n</code></pre>\n<h2>...Even in Java's standard interfaces</h2>\n<p>For another example, let's see the <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Cloneable.html\" rel=\"noreferrer\"><code>Cloneable</code> interface</a> in Java:</p>\n<p>You are supposed to clone the object implementing this interface. But you could lie. And create a different object. In fact, this interface is so weak you could return another type of object altogether, just for the fun of it:</p>\n<pre><code>class MySincereHandShake implements Cloneable\n{\n    public Object clone()\n    {\n       return new MyVengefulKickInYourHead() ;\n    }\n}\n</code></pre>\n<p>As the <code>Cloneable</code> interface can be abused/obfuscated, should it be banned on the same grounds C++ operator overloading is supposed to be?</p>\n<p>We could overload the <code>toString()</code> method of a <code>MyComplexNumber</code> class to have it return the stringified hour of the day. Should the <code>toString()</code> overloading be banned, too? We could sabotage <code>MyComplexNumber.equals</code> to have it return a random value, modify the operands... etc. etc. etc..</p>\n<p><b>In Java, as in C++, or whatever language, the programmer must respect a minimum of semantics when writing code. This means implementing an <code>add</code> function that adds, and <code>Cloneable</code> implementation method that clones, and a <code>++</code> operator that increments.</b></p>\n<h1>What's obfuscating anyway?</h1>\n<p>Now that we know that code can be sabotaged even through the pristine Java methods, we can ask ourselves about the real use of operator overloading in C++?</p>\n<h2>Clear and natural notation: methods vs. operator overloading?</h2>\n<p>We'll compare below, for different cases, the &quot;same&quot; code in Java and C++, to have an idea of which kind of coding style is clearer.</p>\n<h3>Natural comparisons:</h3>\n<pre><code>// C++ comparison for built-ins and user-defined types\nbool    isEqual          = A == B ;\nbool    isNotEqual       = A != B ;\nbool    isLesser         = A &lt;  B ;\nbool    isLesserOrEqual  = A &lt;= B ;\n\n// Java comparison for user-defined types\nboolean isEqual          = A.equals(B) ;\nboolean isNotEqual       = ! A.equals(B) ;\nboolean isLesser         = A.comparesTo(B) &lt; 0 ;\nboolean isLesserOrEqual  = A.comparesTo(B) &lt;= 0 ;\n</code></pre>\n<p>Please note that A and B could be of any type in C++, as long as the operator overloads are provided. In Java, when A and B are not primitives, the code can become very confusing, even for primitive-like objects (BigInteger, etc.)...</p>\n<h3>Natural array/container accessors and subscripting:</h3>\n<pre><code>// C++ container accessors, more natural\nvalue        = myArray[25] ;         // subscript operator\nvalue        = myVector[25] ;        // subscript operator\nvalue        = myString[25] ;        // subscript operator\nvalue        = myMap[&quot;25&quot;] ;         // subscript operator\nmyArray[25]  = value ;               // subscript operator\nmyVector[25] = value ;               // subscript operator\nmyString[25] = value ;               // subscript operator\nmyMap[&quot;25&quot;]  = value ;               // subscript operator\n\n// Java container accessors, each one has its special notation\nvalue        = myArray[25] ;         // subscript operator\nvalue        = myVector.get(25) ;    // method get\nvalue        = myString.charAt(25) ; // method charAt\nvalue        = myMap.get(&quot;25&quot;) ;     // method get\nmyArray[25]  = value ;               // subscript operator\nmyVector.set(25, value) ;            // method set\nmyMap.put(&quot;25&quot;, value) ;             // method put\n</code></pre>\n<p>In Java, we see that for each container to do the same thing (access its content through an index or identifier), we have a different way to do it, which is confusing.</p>\n<p>In C++, each container uses the same way to access its content, thanks to operator overloading.</p>\n<h3>Natural advanced types manipulation</h3>\n<p>The examples below use a <code>Matrix</code> object, found using the first links found on Google for &quot;<a href=\"https://encrypted.google.com/search?q=Java+Matrix+object\" rel=\"noreferrer\">Java Matrix object</a>&quot; and &quot;<a href=\"https://encrypted.google.com/search?q=c%2B%2B+Matrix+object\" rel=\"noreferrer\">C++ Matrix object</a>&quot;:</p>\n<pre><code>// C++ YMatrix matrix implementation on CodeProject\n// http://www.codeproject.com/KB/architecture/ymatrix.aspx\n// A, B, C, D, E, F are Matrix objects;\nE =  A * (B / 2) ;\nE += (A - B) * (C + D) ;\nF =  E ;                  // deep copy of the matrix\n\n// Java JAMA matrix implementation (seriously...)\n// http://math.nist.gov/javanumerics/jama/doc/\n// A, B, C, D, E, F are Matrix objects;\nE = A.times(B.times(0.5)) ;\nE.plusEquals(A.minus(B).times(C.plus(D))) ;\nF = E.copy() ;            // deep copy of the matrix\n</code></pre>\n<p>And this is not limited to matrices. The <code>BigInteger</code> and <code>BigDecimal</code> classes of Java suffer from the same confusing verbosity, whereas their equivalents in C++ are as clear as built-in types.</p>\n<h3>Natural iterators:</h3>\n<pre><code>// C++ Random Access iterators\n++it ;                  // move to the next item\n--it ;                  // move to the previous item\nit += 5 ;               // move to the next 5th item (random access)\nvalue = *it ;           // gets the value of the current item\n*it = 3.1415 ;          // sets the value 3.1415 to the current item\n(*it).foo() ;           // call method foo() of the current item\n\n// Java ListIterator&lt;E&gt; &quot;bi-directional&quot; iterators\nvalue = it.next() ;     // move to the next item &amp; return the value\nvalue = it.previous() ; // move to the previous item &amp; return the value\nit.set(3.1415) ;        // sets the value 3.1415 to the current item\n</code></pre>\n<h3>Natural functors:</h3>\n<pre><code>// C++ Functors\nmyFunctorObject(&quot;Hello World&quot;, 42) ;\n\n// Java Functors ???\nmyFunctorObject.execute(&quot;Hello World&quot;, 42) ;\n</code></pre>\n<h3>Text concatenation:</h3>\n<pre><code>// C++ stream handling (with the &lt;&lt; operator)\n                    stringStream   &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\n                    fileStream     &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\n                    outputStream   &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\n                    networkStream  &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\nanythingThatOverloadsShiftOperator &lt;&lt; &quot;Hello &quot; &lt;&lt; 25 &lt;&lt; &quot; World&quot; ;\n\n// Java concatenation\nmyStringBuffer.append(&quot;Hello &quot;).append(25).append(&quot; World&quot;) ;\n</code></pre>\n<p>Ok, in Java you can use <code>MyString = &quot;Hello &quot; + 25 + &quot; World&quot; ;</code> too... But, wait a second: This is operator overloading, isn't it? Isn't it cheating???</p>\n<p>:-D</p>\n<h2>Generic code?</h2>\n<p>The same generic code modifying operands should be usable both for built-ins/primitives (which have no interfaces in Java), standard objects (which could not have the right interface), and user-defined objects.</p>\n<p>For example, calculating the average value of two values of arbitrary types:</p>\n<pre><code>// C++ primitive/advanced types\ntemplate&lt;typename T&gt;\nT getAverage(const T &amp; p_lhs, const T &amp; p_rhs)\n{\n   return (p_lhs + p_rhs) / 2 ;\n}\n\nint     intValue     = getAverage(25, 42) ;\ndouble  doubleValue  = getAverage(25.25, 42.42) ;\ncomplex complexValue = getAverage(cA, cB) ; // cA, cB are complex\nMatrix  matrixValue  = getAverage(mA, mB) ; // mA, mB are Matrix\n\n// Java primitive/advanced types\n// It won't really work in Java, even with generics. Sorry.\n</code></pre>\n<h1>Discussing operator overloading</h1>\n<p>Now that we have seen fair comparisons between C++ code using operator overloading, and the same code in Java, we can now discuss &quot;operator overloading&quot; as a concept.</p>\n<h2>Operator overloading existed since before computers</h2>\n<p><b>Even outside of computer science, there is operator overloading: For example, in mathematics, operators like <code>+</code>, <code>-</code>, <code>*</code>, etc. are overloaded.</b></p>\n<p>Indeed, the signification of <code>+</code>, <code>-</code>, <code>*</code>, etc. changes depending on the types of the operands (numerics, vectors, quantum wave functions, matrices, etc.).</p>\n<p>Most of us, as part of our science courses, learned multiple significations for operators, depending on the types of the operands. Did we find them confusing, then?</p>\n<h2>Operator overloading depends on its operands</h2>\n<p>This is the most important part of operator overloading: Like in mathematics, or in physics, the operation depends on its operands' types.</p>\n<p>So, know the type of the operand, and you will know the effect of the operation.</p>\n<h2>Even C and Java have (hard-coded) operator overloading</h2>\n<p>In C, the real behavior of an operator will change according to its operands. For example, adding two integers is different than adding two doubles, or even one integer and one double. There is even the whole pointer arithmetic domain (without casting, you can add to a pointer an integer, but you cannot add two pointers...).</p>\n<p>In Java, there is no pointer arithmetic, but someone still found string concatenation without the <code>+</code> operator would be ridiculous enough to justify an exception in the &quot;operator overloading is evil&quot; creed.</p>\n<p>It's just that you, as a C (for historical reasons) or Java (for <i>personal reasons</i>, see below) coder, you can't provide your own.</p>\n<h2>In C++, operator overloading is not optional...</h2>\n<p>In C++, operator overloading for built-in types is not possible (and this is a good thing), but <i>user-defined</i> types can have <i>user-defined</i> operator overloads.</p>\n<p>As already said earlier, in C++, and to the contrary to Java, user-types are not considered second-class citizens of the language, when compared to built-in types. So, if built-in types have operators, user types should be able to have them, too.</p>\n<p>The truth is that, like the <code>toString()</code>, <code>clone()</code>, <code>equals()</code> methods are for Java (<i>i.e. quasi-standard-like</i>), C++ operator overloading is so much part of C++ that it becomes as natural as the original C operators, or the before mentioned Java methods.</p>\n<p>Combined with template programming, operator overloading becomes a well known design pattern. In fact, you cannot go very far in STL without using overloaded operators, and overloading operators for your own class.</p>\n<h2>...but it should not be abused</h2>\n<p>Operator overloading should strive to respect the semantics of the operator. Do not subtract in a <code>+</code> operator (as in &quot;do not subtract in a <code>add</code> function&quot;, or &quot;return crap in a <code>clone</code> method&quot;).</p>\n<p>Cast overloading can be very dangerous because they can lead to ambiguities. So they should really be reserved for well defined cases. As for <code>&amp;&amp;</code> and <code>||</code>, do not ever overload them unless you really know what you're doing, as you'll lose the the short circuit evaluation that the native operators <code>&amp;&amp;</code> and <code>||</code> enjoy.</p>\n<h1>So... Ok... Then why it is not possible in Java?</h1>\n<p>Because James Gosling said so:</p>\n<blockquote>\n<p>I left out operator overloading as a <b>fairly personal choice</b> because I had seen too many people abuse it in C++.</p>\n<p><i>James Gosling. Source: <a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">http://www.gotw.ca/publications/c_family_interview.htm</a></i></p>\n</blockquote>\n<p>Please compare Gosling's text above with Stroustrup's below:</p>\n<blockquote>\n<p>Many C++ design decisions have their roots in my dislike for forcing people to do things in some particular way [...] Often, I was tempted to outlaw a feature I personally disliked, I refrained from doing so because <b>I did not think I had the right to force my views on others</b>.</p>\n<p><i>Bjarne Stroustrup. Source: The Design and Evolution of C++ (1.3 General Background)</i></p>\n</blockquote>\n<h2>Would operator overloading benefit Java?</h2>\n<p>Some objects would greatly benefit from operator overloading (concrete or numerical types, like BigDecimal, complex numbers, matrices, containers, iterators, comparators, parsers etc.).</p>\n<p>In C++, you can profit from this benefit because of Stroustrup's humility. In Java, you're simply screwed because of Gosling's <i>personal choice</i>.</p>\n<h2>Could it be added to Java?</h2>\n<p>The reasons for not adding operator overloading now in Java could be a mix of internal politics, allergy to the feature, distrust of developers (you know, the saboteur ones that seem to haunt Java teams...), compatibility with the previous JVMs, time to write a correct specification, etc..</p>\n<p>So don't hold your breath waiting for this feature...</p>\n<h2>But they do it in C#!!!</h2>\n<p>Yeah...</p>\n<p>While this is far from being the only difference between the two languages, this one never fails to amuse me.</p>\n<p>Apparently, the C# folks, with their <i>&quot;every primitive is a <code>struct</code>, and a <code>struct</code> derives from Object&quot;</i>, got it right at first try.</p>\n<h2>And they do it in <a href=\"https://en.wikipedia.org/wiki/Operator_overloading\" rel=\"noreferrer\">other languages</a>!!!</h2>\n<p>Despite all the FUD against used defined operator overloading, the following languages support it: <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">Kotlin</a>, <a href=\"https://stackoverflow.com/q/1991240\">Scala</a>, <a href=\"https://www.dartlang.org/articles/idiomatic-dart/#operators\" rel=\"noreferrer\">Dart</a>, <a href=\"https://docs.python.org/3/reference/datamodel.html#special-method-names\" rel=\"noreferrer\">Python</a>, <a href=\"https://msdn.microsoft.com/en-us/library/dd233204.aspx\" rel=\"noreferrer\">F#</a>, <a href=\"https://msdn.microsoft.com/en-us/library/aa288467.aspx\" rel=\"noreferrer\">C#</a>, <a href=\"http://dlang.org/operatoroverloading.html\" rel=\"noreferrer\">D</a>, <a href=\"http://www.cap-lore.com/Languages/A68Ops.html\" rel=\"noreferrer\">Algol 68</a>, <a href=\"http://logos.cs.uic.edu/476/resources/SmallTalk/cs476_Smalltalk/Smalltalk.htm\" rel=\"noreferrer\">Smalltalk</a>, <a href=\"http://www.groovy-lang.org/operators.html#Operator-Overloading\" rel=\"noreferrer\">Groovy</a>, <a href=\"https://design.raku.org/S06.html#Operator_overloading\" rel=\"noreferrer\">Raku (formerly Perl 6)</a>, C++, <a href=\"https://stackoverflow.com/a/3331974\">Ruby</a>, <a href=\"https://stackoverflow.com/questions/16241556\">Haskell</a>, <a href=\"https://fr.mathworks.com/help/matlab/matlab_oop/implementing-operators-for-your-class.html\" rel=\"noreferrer\">MATLAB</a>, <a href=\"http://se.ethz.ch/~meyer/publications/online/eiffel/basic.html\" rel=\"noreferrer\">Eiffel</a>, <a href=\"http://lua-users.org/wiki/MetamethodsTutorial\" rel=\"noreferrer\">Lua</a>, <a href=\"https://stackoverflow.com/a/1535235\">Clojure</a>, <a href=\"http://research.physics.illinois.edu/ElectronicStructure/498-s97/comp_info/overload.html\" rel=\"noreferrer\">Fortran 90</a>, <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID42\" rel=\"noreferrer\">Swift</a>, <a href=\"http://archive.adaic.com/standards/83lrm/html/lrm-06-07.html\" rel=\"noreferrer\">Ada</a>, <a href=\"http://edn.embarcadero.com/article/34324\" rel=\"noreferrer\">Delphi 2005</a>...</p>\n<p>So many languages, with so many different (and sometimes opposing) philosophies, and yet they all agree on that point.</p>\n<p>Food for thought...</p>\n"},{"tags":[],"owner":{"display_name":"Kvant"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1252705610,"creation_date":1252705610,"answer_id":1413443,"question_id":77718,"body_markdown":"Saying  that operator overloading leads to logical errors of type that operator does not match the operation logic, it&#39;s like saying nothing. The same type of error will occur if function name is inappropriate for operation logic - so what&#39;s the solution: drop the ability of function usage!? \r\n This is a comical answer - &quot;Inappropriate for operation logic&quot;, every parameter name, every class, function or whatever can be logicly inappropriate.\r\nI think that this option should be available in respectable programing language, and those that think that it&#39;s unsafe - hey no bothy says you have to use it. \r\nLets take the C#. They drooped the pointers but hey - there is &#39;unsafe code&#39; statement - program as you like on your own risk.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Saying  that operator overloading leads to logical errors of type that operator does not match the operation logic, it's like saying nothing. The same type of error will occur if function name is inappropriate for operation logic - so what's the solution: drop the ability of function usage!? \n This is a comical answer - \"Inappropriate for operation logic\", every parameter name, every class, function or whatever can be logicly inappropriate.\nI think that this option should be available in respectable programing language, and those that think that it's unsafe - hey no bothy says you have to use it. \nLets take the C#. They drooped the pointers but hey - there is 'unsafe code' statement - program as you like on your own risk.</p>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1694435122,"post_id":2504988,"comment_id":135886289,"body_markdown":"BigDecimal is indead the main reason for operator overloading, every financial/accounting application have this readability problem.","body":"BigDecimal is indead the main reason for operator overloading, every financial/accounting application have this readability problem."}],"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1697696657,"creation_date":1269398148,"answer_id":2504988,"question_id":77718,"body_markdown":"Some people say that operator overloading in Java would lead to obsfuscation. Have those people ever stopped to look at some Java code doing some basic maths like increasing a financial value by a percentage using BigDecimal ? .... the verbosity of such an exercise becomes its own demonstration of obsfuscation. Ironically, adding operator overloading to Java would allow us to create our own Currency class which would make such mathematical code elegant and simple (less obsfuscated).\r\n\r\nIt would be awesome to be able to create a Financial class or Complex number class and use simple +, -, /, * operators on their instances ... like I could in C++ way back in 1995!","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Some people say that operator overloading in Java would lead to obsfuscation. Have those people ever stopped to look at some Java code doing some basic maths like increasing a financial value by a percentage using BigDecimal ? .... the verbosity of such an exercise becomes its own demonstration of obsfuscation. Ironically, adding operator overloading to Java would allow us to create our own Currency class which would make such mathematical code elegant and simple (less obsfuscated).</p>\n<p>It would be awesome to be able to create a Financial class or Complex number class and use simple +, -, /, * operators on their instances ... like I could in C++ way back in 1995!</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1427665896,"post_id":8251451,"comment_id":46859130,"body_markdown":"Java&#39;s use of `+` to concatenate anything string-ish is IMHO pretty hideous, as is the overloading of `/` in C and FORTRAN for whole and fractional division.  In many versions of Pascal, use of arithmetic operators on any numeric type will yield results numerically equivalent to casting the operands to `Real`, though results which might not be whole numbers must be fed through `Trunc` or `Round` before they can be assigned to integers.","body":"Java&#39;s use of <code>+</code> to concatenate anything string-ish is IMHO pretty hideous, as is the overloading of <code>&#47;</code> in C and FORTRAN for whole and fractional division.  In many versions of Pascal, use of arithmetic operators on any numeric type will yield results numerically equivalent to casting the operands to <code>Real</code>, though results which might not be whole numbers must be fed through <code>Trunc</code> or <code>Round</code> before they can be assigned to integers."}],"tags":[],"owner":{"account_id":1061592,"reputation":1,"user_id":1063075,"display_name":"Olai"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1322100337,"creation_date":1322100337,"answer_id":8251451,"question_id":77718,"body_markdown":"Technically, there is operator overloading in every programming language that can deal with different types of numbers, e.g. integer and real numbers. Explanation: The term overloading means that there are simply several implementations for one function. In most programming languages different implementations are provided for the operator +, one for integers, one for reals, this is called operator overloading.\r\n\r\nNow, many people find it strange that Java has operator overloading for the operator + for adding strings together, and from a mathematical standpoint this would be strange indeed, but seen from a programming language&#39;s developer&#39;s standpoint, there is nothing wrong with adding builtin operator overloading for the operator + for other classes e.g. String. However, most people agree that once you add builtin overloading for + for String, then it is generally a good idea to provide this functionality for the developer as well.\r\n\r\nA completely disagree with the fallacy that operator overloading obfuscates code, as this is left for the developer to decide. This is na&#239;ve to think, and to be quite honest, it is getting old.\r\n\r\n+1 for adding operator overloading in Java 8.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Technically, there is operator overloading in every programming language that can deal with different types of numbers, e.g. integer and real numbers. Explanation: The term overloading means that there are simply several implementations for one function. In most programming languages different implementations are provided for the operator +, one for integers, one for reals, this is called operator overloading.</p>\n\n<p>Now, many people find it strange that Java has operator overloading for the operator + for adding strings together, and from a mathematical standpoint this would be strange indeed, but seen from a programming language's developer's standpoint, there is nothing wrong with adding builtin operator overloading for the operator + for other classes e.g. String. However, most people agree that once you add builtin overloading for + for String, then it is generally a good idea to provide this functionality for the developer as well.</p>\n\n<p>A completely disagree with the fallacy that operator overloading obfuscates code, as this is left for the developer to decide. This is nave to think, and to be quite honest, it is getting old.</p>\n\n<p>+1 for adding operator overloading in Java 8.</p>\n"},{"tags":[],"owner":{"account_id":4269,"reputation":6733,"user_id":1994377,"accept_rate":80,"display_name":"Sarien"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517231233,"creation_date":1517231233,"answer_id":48502000,"question_id":77718,"body_markdown":"This is not a good reason to disallow it but a practical one:\r\n\r\nPeople do not always use it responsibly. Look at this example from the Python library scapy:\r\n\r\n    &gt;&gt;&gt; IP()\r\n    &lt;IP |&gt;\r\n    &gt;&gt;&gt; IP()/TCP()\r\n    &lt;IP frag=0 proto=TCP |&lt;TCP |&gt;&gt;\r\n    &gt;&gt;&gt; Ether()/IP()/TCP()\r\n    &lt;Ether type=0x800 |&lt;IP frag=0 proto=TCP |&lt;TCP |&gt;&gt;&gt;\r\n    &gt;&gt;&gt; IP()/TCP()/&quot;GET / HTTP/1.0\\r\\n\\r\\n&quot;\r\n    &lt;IP frag=0 proto=TCP |&lt;TCP |&lt;Raw load=&#39;GET / HTTP/1.0\\r\\n\\r\\n&#39; |&gt;&gt;&gt;\r\n    &gt;&gt;&gt; Ether()/IP()/IP()/UDP()\r\n    &lt;Ether type=0x800 |&lt;IP frag=0 proto=IP |&lt;IP frag=0 proto=UDP |&lt;UDP |&gt;&gt;&gt;&gt;\r\n    &gt;&gt;&gt; IP(proto=55)/TCP()\r\n    &lt;IP frag=0 proto=55 |&lt;TCP |&gt;&gt;\r\n\r\nHere is the explanation:\r\n\r\n&gt; The / operator has been used as a composition operator between two\r\n&gt; layers. When doing so, the lower layer can have one or more of its\r\n&gt; defaults fields overloaded according to the upper layer. (You still\r\n&gt; can give the value you want). A string can be used as a raw layer.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>This is not a good reason to disallow it but a practical one:</p>\n\n<p>People do not always use it responsibly. Look at this example from the Python library scapy:</p>\n\n<pre><code>&gt;&gt;&gt; IP()\n&lt;IP |&gt;\n&gt;&gt;&gt; IP()/TCP()\n&lt;IP frag=0 proto=TCP |&lt;TCP |&gt;&gt;\n&gt;&gt;&gt; Ether()/IP()/TCP()\n&lt;Ether type=0x800 |&lt;IP frag=0 proto=TCP |&lt;TCP |&gt;&gt;&gt;\n&gt;&gt;&gt; IP()/TCP()/\"GET / HTTP/1.0\\r\\n\\r\\n\"\n&lt;IP frag=0 proto=TCP |&lt;TCP |&lt;Raw load='GET / HTTP/1.0\\r\\n\\r\\n' |&gt;&gt;&gt;\n&gt;&gt;&gt; Ether()/IP()/IP()/UDP()\n&lt;Ether type=0x800 |&lt;IP frag=0 proto=IP |&lt;IP frag=0 proto=UDP |&lt;UDP |&gt;&gt;&gt;&gt;\n&gt;&gt;&gt; IP(proto=55)/TCP()\n&lt;IP frag=0 proto=55 |&lt;TCP |&gt;&gt;\n</code></pre>\n\n<p>Here is the explanation:</p>\n\n<blockquote>\n  <p>The / operator has been used as a composition operator between two\n  layers. When doing so, the lower layer can have one or more of its\n  defaults fields overloaded according to the upper layer. (You still\n  can give the value you want). A string can be used as a raw layer.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":1,"creation_date":1661198411,"post_id":51715550,"comment_id":129710636,"body_markdown":"Kotlin also supports operator overloading.","body":"Kotlin also supports operator overloading."}],"tags":[],"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662650020,"creation_date":1533589160,"answer_id":51715550,"question_id":77718,"body_markdown":"**Alternatives to Native Support of Java Operator Overloading**\r\n\r\nSince Java doesn&#39;t have operator overloading, here are some alternatives you can look into:\r\n\r\n1. Use another language.  [Groovy][1], [Scala][2], and Kotlin have operator overloading, and are based on Java.\r\n2. Use [java-oo][3], a plugin that enables operator overloading in Java.  Note that it is NOT platform independent.  Also, it has many issues, and is not compatible with the latest releases of Java (i.e. Java 10). ([Original StackOverflow Source][4])\r\n3. Use [JNI][5], Java Native Interface, or alternatives.  This allows you to write C or C++ methods for use in Java.  Of course this is also NOT platform independent.\r\n\r\n\r\nIf anyone is aware of others, please comment, and I will add it to this list.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Groovy\r\n  [2]: https://en.wikipedia.org/wiki/Scala_(programming_language)\r\n  [3]: https://github.com/amelentev/java-oo\r\n  [4]: https://stackoverflow.com/questions/1686699/operator-overloading-in-java/1686714\r\n  [5]: https://en.wikipedia.org/wiki/Java_Native_Interface","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p><strong>Alternatives to Native Support of Java Operator Overloading</strong></p>\n<p>Since Java doesn't have operator overloading, here are some alternatives you can look into:</p>\n<ol>\n<li>Use another language.  <a href=\"https://en.wikipedia.org/wiki/Apache_Groovy\" rel=\"nofollow noreferrer\">Groovy</a>, <a href=\"https://en.wikipedia.org/wiki/Scala_(programming_language)\" rel=\"nofollow noreferrer\">Scala</a>, and Kotlin have operator overloading, and are based on Java.</li>\n<li>Use <a href=\"https://github.com/amelentev/java-oo\" rel=\"nofollow noreferrer\">java-oo</a>, a plugin that enables operator overloading in Java.  Note that it is NOT platform independent.  Also, it has many issues, and is not compatible with the latest releases of Java (i.e. Java 10). (<a href=\"https://stackoverflow.com/questions/1686699/operator-overloading-in-java/1686714\">Original StackOverflow Source</a>)</li>\n<li>Use <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a>, Java Native Interface, or alternatives.  This allows you to write C or C++ methods for use in Java.  Of course this is also NOT platform independent.</li>\n</ol>\n<p>If anyone is aware of others, please comment, and I will add it to this list.</p>\n"},{"comments":[{"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"score":0,"creation_date":1634039893,"post_id":64889038,"comment_id":122914433,"body_markdown":"I agree that some extra verbosity is not bad *when* it makes code more readable. However, I do not agree that more verbosity always makes code more readable. Nor do I think that less verbosity always makes code more readable (e.g. Python). I think that readability and verbosity are independent metrics.","body":"I agree that some extra verbosity is not bad <i>when</i> it makes code more readable. However, I do not agree that more verbosity always makes code more readable. Nor do I think that less verbosity always makes code more readable (e.g. Python). I think that readability and verbosity are independent metrics."}],"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Mekauskas"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605686680,"creation_date":1605685990,"answer_id":64889038,"question_id":77718,"body_markdown":"I think that people making decisions simply forgot about complex values,  matrix algebra, set theory and other cases when overloading would allow to use the standard notation without building everything into the language. Anyway, only mathematically oriented software really benefits from such features. A generic customer application almost never needs them.\r\n\r\nThey arguments about the unnecessary obfuscation are obviously valid when a programmer defines some program-specific operator where it could be the function instead. A name of the function, when clearly visible, provides the hint that it does. Operator is a function without the readable name.\r\n\r\nJava is generally designed about philosophy that some extra verbosity is not bad as it makes the code more readable. Constructs that do the same just have less code to type in used to be called a &quot;syntax sugar&quot; in the past. This is very different from the Python philosophy, for instance, where shorter is near always seen as better, even if providing less context for the second reader.\r\n","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>I think that people making decisions simply forgot about complex values,  matrix algebra, set theory and other cases when overloading would allow to use the standard notation without building everything into the language. Anyway, only mathematically oriented software really benefits from such features. A generic customer application almost never needs them.</p>\n<p>They arguments about the unnecessary obfuscation are obviously valid when a programmer defines some program-specific operator where it could be the function instead. A name of the function, when clearly visible, provides the hint that it does. Operator is a function without the readable name.</p>\n<p>Java is generally designed about philosophy that some extra verbosity is not bad as it makes the code more readable. Constructs that do the same just have less code to type in used to be called a &quot;syntax sugar&quot; in the past. This is very different from the Python philosophy, for instance, where shorter is near always seen as better, even if providing less context for the second reader.</p>\n"},{"tags":[],"owner":{"account_id":11918250,"reputation":93,"user_id":14769639,"display_name":"saditya"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653459148,"creation_date":1653459148,"answer_id":72372699,"question_id":77718,"body_markdown":"Java doesn&#39;t permit operator overloading because its creator didn&#39;t add the functionality to associate different meanings with the same operator. **They just wanted to keep things simple** by just retaining the meaning of an operator uniform throughout the programming language. \r\n\r\nOverloading the operators makes things messy and creates a steep learning curve for new programmers. So, they just kept **operator overloading** out of the syllabus.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Java doesn't permit operator overloading because its creator didn't add the functionality to associate different meanings with the same operator. <strong>They just wanted to keep things simple</strong> by just retaining the meaning of an operator uniform throughout the programming language.</p>\n<p>Overloading the operators makes things messy and creates a steep learning curve for new programmers. So, they just kept <strong>operator overloading</strong> out of the syllabus.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698216216,"creation_date":1698216216,"answer_id":77357126,"question_id":77718,"body_markdown":"Part of the reason they decided not to include operator overloading is to keep the language small. I used to love C++, but it was a huge language, which meant there was a lot to learn. And you had to learn the whole thing to be able to maintain a project, especially one you didn&#39;t write. And learning C++ means learning about its quirks. But the bigger the language, the more quirks there are. And C++ was a very quirky language. So we not only had to learn all the features of the language, we had to learn them well, to learn their quirks. The developers of Java wisely (in my view) decided to keep the language small. The also eliminated a lot of the features that made the language quirky. This makes Java easy to learn, which means we can start being productive pretty quickly. I really appreciate that.\r\n\r\nOne quirky aspect of operator overloading was it led to unreadable code. Imagine if, in English, a novelist decided to redefine certain words. And gave them meanings that were so different from their original meaning that it wouldn&#39;t be obvious what the meaning was. Would that make the book hard to read? You bet it would. (In &quot;A Clockwork Orange,&quot; the meaning of the slang that the author invented could usually be discerned from the context, but even with that, it made the book harder to read.) That&#39;s what James Gosling was referring to when he spoke of how the feature was abused. It can make the code very hard to maintain, because it&#39;s not always clear what the operators mean.","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Part of the reason they decided not to include operator overloading is to keep the language small. I used to love C++, but it was a huge language, which meant there was a lot to learn. And you had to learn the whole thing to be able to maintain a project, especially one you didn't write. And learning C++ means learning about its quirks. But the bigger the language, the more quirks there are. And C++ was a very quirky language. So we not only had to learn all the features of the language, we had to learn them well, to learn their quirks. The developers of Java wisely (in my view) decided to keep the language small. The also eliminated a lot of the features that made the language quirky. This makes Java easy to learn, which means we can start being productive pretty quickly. I really appreciate that.</p>\n<p>One quirky aspect of operator overloading was it led to unreadable code. Imagine if, in English, a novelist decided to redefine certain words. And gave them meanings that were so different from their original meaning that it wouldn't be obvious what the meaning was. Would that make the book hard to read? You bet it would. (In &quot;A Clockwork Orange,&quot; the meaning of the slang that the author invented could usually be discerned from the context, but even with that, it made the book harder to read.) That's what James Gosling was referring to when he spoke of how the feature was abused. It can make the code very hard to maintain, because it's not always clear what the operators mean.</p>\n"}],"owner":{"display_name":"rengolin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197768,"favorite_count":0,"down_vote_count":5,"up_vote_count":488,"accepted_answer_id":77963,"answer_count":18,"score":483,"last_activity_date":1698216216,"creation_date":1221602680,"question_id":77718,"body_markdown":"Coming from C++ to Java, the obvious unanswered question is why didn&#39;t Java include operator overloading?\r\n\r\nIsn&#39;t `Complex a, b, c; a = b + c;` much simpler than `Complex a, b, c; a = b.add(c);`?\r\n\r\nIs there a known reason for this, valid arguments for *not* allowing operator overloading? Is the reason arbitrary, or lost to time?","title":"Why doesn&#39;t Java offer operator overloading?","body":"<p>Coming from C++ to Java, the obvious unanswered question is why didn't Java include operator overloading?</p>\n\n<p>Isn't <code>Complex a, b, c; a = b + c;</code> much simpler than <code>Complex a, b, c; a = b.add(c);</code>?</p>\n\n<p>Is there a known reason for this, valid arguments for <em>not</em> allowing operator overloading? Is the reason arbitrary, or lost to time?</p>\n"},{"tags":["java","mongodb","amazon-web-services","spring-boot","aws-documentdb"],"owner":{"account_id":25051483,"reputation":67,"user_id":18907345,"display_name":"Shubham CSE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698216165,"creation_date":1698216165,"question_id":77357123,"body_markdown":"I&#39;m not able to connect my spring boot application to aws document db. Please tell me where am I going wrong.\r\n\r\npom.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n    4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.mercedes-benz.xdrs&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;xdrs_data_service_api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0.0&lt;/version&gt;\r\n\t&lt;name&gt;xdrs_data_service_api&lt;/name&gt;\r\n\t&lt;description&gt;xdrs data service api&lt;/description&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.1&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.986&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0.Beta2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;xdrs-data-service-api&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nDocumentDBConf.java\r\n\r\n    package com.mercedesBenz.xdrs.dataService.config;\r\n\r\n    import java.io.File;\r\n    import java.security.Security;\r\n\r\n    import javax.net.ssl.SSLContext;\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n\r\n    import com.mongodb.ConnectionString;\r\n    import com.mongodb.MongoClientSettings;\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n\r\n\r\n    @Configuration\r\n    public class DocumentDBConf {\r\n\t\r\n\r\n\t@Value(&quot;${documentdb.connectionString}&quot;)\r\n    private String connectionString;\r\n\r\n    @Value(&quot;${documentdb.pemFile}&quot;)\r\n    private String pemFile;\r\n\r\n    @Bean\r\n    public MongoClient mongoClient() throws Exception {\r\n        // Load the .pem certificate file\r\n        File pemCertificate = new File(pemFile);\r\n\r\n        // Enable AWS DocumentDB TLS\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, pemCertificate.getAbsolutePath());\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;); // The default trust store password\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\r\n        \r\n        // Enable strong cryptography\r\n        // Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n\r\n        ConnectionString connString = new ConnectionString(connectionString);\r\n        MongoClientSettings settings = MongoClientSettings.builder()\r\n                .applyToSslSettings(sslSettingsBuilder -&gt; {\r\n                    try {\r\n                        sslSettingsBuilder.enabled(true)\r\n                                .context(SSLContext.getDefault()); // Use the default SSLContext\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(&quot;Error creating SSL context&quot;, e);\r\n                    }\r\n                })\r\n                .applyConnectionString(connString)\r\n                .build();\r\n\r\n        return MongoClients.create(settings);\r\n    }\r\n    \r\n    @Bean\r\n    public MongoTemplate mongoTemplate(MongoClient mongoClient) {\r\n        return new MongoTemplate(mongoClient, &quot;test&quot;); // Replace &#39;your_database_name&#39; with your actual database name\r\n    }\r\n}\r\n\r\n\r\napplication.properties\r\n\r\n    documentdb.connectionString=mongodb://user:pwd@xdrs-int-docdb- \r\n    cluster-identifier.cluster-c6wywertyiq6.eu-central-1.docdb.amazonaws.com:27017/test?tls=true\r\n    documentdb.pemFile=/xdrs_data_service_api/src/main/resources/global-bundle.pem\r\n    #documentdb.pemFile=classpath:docdb.cert\r\n    #documentdb.pemFile=classpath:rds-truststore.jks\r\n    management.metrics.mongo.command.enabled=false \r\n    management.metrics.mongo.connectionpool.enabled=false\r\n\r\nXdrsDataServiceApplication.java\r\n\r\n    package com.mercedesBenz.xdrs.dataService;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.retry.annotation.EnableRetry;\r\n\r\n\r\n    @SpringBootApplication(exclude = {MongoAutoConfiguration.class, \r\n    MongoDataAutoConfiguration.class})\r\n    public class XdrsDataServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(XdrsDataServiceApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nImage of where my pem file is stored\r\n[![enter image description here][1]][1]\r\n\r\nIn local I am getting following error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen I deploy the same code in AWS ECS Fargate, I see the following logs\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Porbd.png\r\n  [2]: https://i.stack.imgur.com/iwzJJ.png\r\n  [3]: https://i.stack.imgur.com/b03XX.png","title":"How to connect spring boot application to aws document db","body":"<p>I'm not able to connect my spring boot application to aws document db. Please tell me where am I going wrong.</p>\n<p>pom.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.mercedes-benz.xdrs&lt;/groupId&gt;\n&lt;artifactId&gt;xdrs_data_service_api&lt;/artifactId&gt;\n&lt;version&gt;1.0.0.0&lt;/version&gt;\n&lt;name&gt;xdrs_data_service_api&lt;/name&gt;\n&lt;description&gt;xdrs data service api&lt;/description&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.2.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.4.1&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.11.986&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0.Beta2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n        &lt;version&gt;3.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;xdrs-data-service-api&lt;/finalName&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>DocumentDBConf.java</p>\n<pre><code>package com.mercedesBenz.xdrs.dataService.config;\n\nimport java.io.File;\nimport java.security.Security;\n\nimport javax.net.ssl.SSLContext;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.core.MongoTemplate;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n\n@Configuration\npublic class DocumentDBConf {\n\n\n@Value(&quot;${documentdb.connectionString}&quot;)\nprivate String connectionString;\n\n@Value(&quot;${documentdb.pemFile}&quot;)\nprivate String pemFile;\n\n@Bean\npublic MongoClient mongoClient() throws Exception {\n    // Load the .pem certificate file\n    File pemCertificate = new File(pemFile);\n\n    // Enable AWS DocumentDB TLS\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, pemCertificate.getAbsolutePath());\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;); // The default trust store password\n    System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\n    \n    // Enable strong cryptography\n    // Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\n\n    ConnectionString connString = new ConnectionString(connectionString);\n    MongoClientSettings settings = MongoClientSettings.builder()\n            .applyToSslSettings(sslSettingsBuilder -&gt; {\n                try {\n                    sslSettingsBuilder.enabled(true)\n                            .context(SSLContext.getDefault()); // Use the default SSLContext\n                } catch (Exception e) {\n                    throw new RuntimeException(&quot;Error creating SSL context&quot;, e);\n                }\n            })\n            .applyConnectionString(connString)\n            .build();\n\n    return MongoClients.create(settings);\n}\n\n@Bean\npublic MongoTemplate mongoTemplate(MongoClient mongoClient) {\n    return new MongoTemplate(mongoClient, &quot;test&quot;); // Replace 'your_database_name' with your actual database name\n}\n</code></pre>\n<p>}</p>\n<p>application.properties</p>\n<pre><code>documentdb.connectionString=mongodb://user:pwd@xdrs-int-docdb- \ncluster-identifier.cluster-c6wywertyiq6.eu-central-1.docdb.amazonaws.com:27017/test?tls=true\ndocumentdb.pemFile=/xdrs_data_service_api/src/main/resources/global-bundle.pem\n#documentdb.pemFile=classpath:docdb.cert\n#documentdb.pemFile=classpath:rds-truststore.jks\nmanagement.metrics.mongo.command.enabled=false \nmanagement.metrics.mongo.connectionpool.enabled=false\n</code></pre>\n<p>XdrsDataServiceApplication.java</p>\n<pre><code>package com.mercedesBenz.xdrs.dataService;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration;\nimport org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\nimport org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.retry.annotation.EnableRetry;\n\n\n@SpringBootApplication(exclude = {MongoAutoConfiguration.class, \nMongoDataAutoConfiguration.class})\npublic class XdrsDataServiceApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(XdrsDataServiceApplication.class, args);\n}\n\n}\n</code></pre>\n<p>Image of where my pem file is stored\n<a href=\"https://i.stack.imgur.com/Porbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Porbd.png\" alt=\"enter image description here\" /></a></p>\n<p>In local I am getting following error</p>\n<p><a href=\"https://i.stack.imgur.com/iwzJJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwzJJ.png\" alt=\"enter image description here\" /></a></p>\n<p>When I deploy the same code in AWS ECS Fargate, I see the following logs</p>\n<p><a href=\"https://i.stack.imgur.com/b03XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b03XX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","service","singleton"],"comments":[{"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"score":0,"creation_date":1698021631,"post_id":77338805,"comment_id":136348580,"body_markdown":"1. I would direct you to this accepted answer https://stackoverflow.com/questions/641462/can-using-too-many-static-variables-cause-a-memory-leak-in-java in short I doubt it given what fields you are using currently, if you start adding in other stuff this could change.\n2. Not enough information to determine what is the problem you need to post more code involving the ringtone issue.","body":"1. I would direct you to this accepted answer <a href=\"https://stackoverflow.com/questions/641462/can-using-too-many-static-variables-cause-a-memory-leak-in-java\" title=\"can using too many static variables cause a memory leak in java\">stackoverflow.com/questions/641462/&hellip;</a> in short I doubt it given what fields you are using currently, if you start adding in other stuff this could change. 2. Not enough information to determine what is the problem you need to post more code involving the ringtone issue."}],"answers":[{"tags":[],"owner":{"account_id":29726238,"reputation":1,"user_id":22782122,"display_name":"TLE SE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698215475,"creation_date":1698215475,"answer_id":77357068,"question_id":77338805,"body_markdown":"Thanks @avalerio, \r\nfor 1, as your link, someone said that it is permanent class (even if activity and service closed). when I tried close all and leave it about several hours, this class reset. so is GC will remove it when need? \r\n\r\nabout 2. I mean when I used ringtoneManager to play a sound file in resource , it only play about 250 times and auto changing to sys default sound. my initialize follow:\r\n\r\n    public class bleAPI extends Service{\r\n      private Ringtone RINGTONE_VIBRATE;\r\n    \r\n      protected void onCreate(){ \r\n    \tRINGTONE_VIBRATE = RingtoneManager.getRingtone(getApplicationContext(), &quot;sound file path&quot;);\r\n      }\r\n    \r\n      ...\r\n    \r\n      //register eventbus to receive data\r\n      @Subscribe   \r\n      public void OnCustomEvent(rxData data) {  \r\n    \tif(data.getState(),equal(&quot;vibrate&quot;)){\r\n    \t\tsendNotification(); //notification set mute, only vibrate\r\n    \t\tif(!RINGTONE_VIBRATE.isPlaying()) RINGTONE_VIBRATE.play(); // only play around 250 times and auto \t\t\t\t\t\t\t\t\t\tswitch to system default sound\t\r\n    \t}\r\n      }\r\n    }","title":"Share class is not cleaned when activity and service detroyed","body":"<p>Thanks @avalerio,\nfor 1, as your link, someone said that it is permanent class (even if activity and service closed). when I tried close all and leave it about several hours, this class reset. so is GC will remove it when need?</p>\n<p>about 2. I mean when I used ringtoneManager to play a sound file in resource , it only play about 250 times and auto changing to sys default sound. my initialize follow:</p>\n<pre><code>public class bleAPI extends Service{\n  private Ringtone RINGTONE_VIBRATE;\n\n  protected void onCreate(){ \n    RINGTONE_VIBRATE = RingtoneManager.getRingtone(getApplicationContext(), &quot;sound file path&quot;);\n  }\n\n  ...\n\n  //register eventbus to receive data\n  @Subscribe   \n  public void OnCustomEvent(rxData data) {  \n    if(data.getState(),equal(&quot;vibrate&quot;)){\n        sendNotification(); //notification set mute, only vibrate\n        if(!RINGTONE_VIBRATE.isPlaying()) RINGTONE_VIBRATE.play(); // only play around 250 times and auto                                       switch to system default sound  \n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":29726238,"reputation":1,"user_id":22782122,"display_name":"TLE SE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698215475,"creation_date":1697953688,"question_id":77338805,"body_markdown":"1. I have one app use an foreground service, this service can close by user. I created one class contains some state varialbles that common referrence by activity and service. when I closed service first and, close app after, this class was cleaned but when I closed app first then close service, this class was not detroyed(I known this due I have one count var in this class and its not cleared when retart app). So will my app leak mem? and good way to solve it. \r\n\r\nthis is my class\r\n```\r\npublic class serviceState {\r\n    public static boolean isMyServiceRunning = false;\r\n    public static boolean sysConnectState = false;\r\n    public static boolean sysAuth = false;\r\n    public static int count = 0;\r\n}\r\n```\r\n\r\n2. Second question. On this service I used a ringtone manager to play a voice warning. it&#39;s worked ok but  only play about 270 times, on the next time, the sound was changed to default notification tone but unkown reason why. this is my ringtone on servied:\r\n\r\n```\r\nplaced onCreate\r\nRINGTONE_VIBRATE = RingtoneManager.getRingtone(getApplicationContext(), &quot;sound file path&quot;);\r\n\r\nuse:\r\nif(!RINGTONE_VIBRATE.isPlaying())\r\n   RINGTONE_VIBRATE.play();\r\n\r\n```\r\n\r\nThanks everyone so much!\r\nSorry for my english\r\n\r\n\r\n\r\nI want solving my issue","title":"Share class is not cleaned when activity and service detroyed","body":"<ol>\n<li>I have one app use an foreground service, this service can close by user. I created one class contains some state varialbles that common referrence by activity and service. when I closed service first and, close app after, this class was cleaned but when I closed app first then close service, this class was not detroyed(I known this due I have one count var in this class and its not cleared when retart app). So will my app leak mem? and good way to solve it.</li>\n</ol>\n<p>this is my class</p>\n<pre><code>public class serviceState {\n    public static boolean isMyServiceRunning = false;\n    public static boolean sysConnectState = false;\n    public static boolean sysAuth = false;\n    public static int count = 0;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Second question. On this service I used a ringtone manager to play a voice warning. it's worked ok but  only play about 270 times, on the next time, the sound was changed to default notification tone but unkown reason why. this is my ringtone on servied:</li>\n</ol>\n<pre><code>placed onCreate\nRINGTONE_VIBRATE = RingtoneManager.getRingtone(getApplicationContext(), &quot;sound file path&quot;);\n\nuse:\nif(!RINGTONE_VIBRATE.isPlaying())\n   RINGTONE_VIBRATE.play();\n\n</code></pre>\n<p>Thanks everyone so much!\nSorry for my english</p>\n<p>I want solving my issue</p>\n"},{"tags":["java","kotlin","amazon-dynamodb","aws-sdk","dynamodb-enhanced-client"],"answers":[{"comments":[{"owner":{"account_id":3977152,"reputation":2353,"user_id":3280050,"accept_rate":100,"display_name":"truongnm"},"score":0,"creation_date":1698306976,"post_id":77357061,"comment_id":136389284,"body_markdown":"Thank you!! It works when I change the variable name to `var enable: Boolean? = false`.","body":"Thank you!! It works when I change the variable name to <code>var enable: Boolean? = false</code>."},{"owner":{"account_id":3977152,"reputation":2353,"user_id":3280050,"accept_rate":100,"display_name":"truongnm"},"score":0,"creation_date":1698307014,"post_id":77357061,"comment_id":136389290,"body_markdown":"May I ask why this still works? `var isEnable: Boolean = false`","body":"May I ask why this still works? <code>var isEnable: Boolean = false</code>"},{"owner":{"account_id":3977152,"reputation":2353,"user_id":3280050,"accept_rate":100,"display_name":"truongnm"},"score":0,"creation_date":1698307110,"post_id":77357061,"comment_id":136389305,"body_markdown":"About the data type `Null`, you mean we shouldn&#39;t save the DynamoDB `Null` value right? What is your suggestion for the nullable variable definition? Do you have concerns with this `var enable: Boolean? = false`","body":"About the data type <code>Null</code>, you mean we shouldn&#39;t save the DynamoDB <code>Null</code> value right? What is your suggestion for the nullable variable definition? Do you have concerns with this <code>var enable: Boolean? = false</code>"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698215410,"creation_date":1698215410,"answer_id":77357061,"question_id":77356010,"body_markdown":"DynamoDB does not support nulling of values, it instead has a data type `Null`. \r\n\r\nAs DynamoDB is a schemaless database, it&#39;s suggested not to save Null values. \r\n\r\nFurthermore, Java Bean has some guidance on using the `isVariable` naming convention which may also cause issue:  From the JavaBeans specification, 8.3.2:\r\n\r\n&gt; In addition, for boolean properties, we allow a getter method to match the pattern: public boolean is&lt;PropertyName&gt;();\r\nThis is&lt;PropertyName&gt; method may be provided instead of a get&lt;PropertyName&gt; method, or it may be provided in addition to a get&lt;PropertyName&gt; method.\r\n\r\nhttp://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/","title":"Kotlin DynamoDB Boolean nullable property never get assigned","body":"<p>DynamoDB does not support nulling of values, it instead has a data type <code>Null</code>.</p>\n<p>As DynamoDB is a schemaless database, it's suggested not to save Null values.</p>\n<p>Furthermore, Java Bean has some guidance on using the <code>isVariable</code> naming convention which may also cause issue:  From the JavaBeans specification, 8.3.2:</p>\n<blockquote>\n<p>In addition, for boolean properties, we allow a getter method to match the pattern: public boolean is();\nThis is method may be provided instead of a get method, or it may be provided in addition to a get method.</p>\n</blockquote>\n<p><a href=\"http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/</a></p>\n"}],"owner":{"account_id":3977152,"reputation":2353,"user_id":3280050,"accept_rate":100,"display_name":"truongnm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357061,"answer_count":1,"score":0,"last_activity_date":1698215410,"creation_date":1698193550,"question_id":77356010,"body_markdown":"I&#39;m writing a test which I need to create a record in local DynamoDB with a nullable boolean property. This is my setup:\r\n\r\n```kotlin\r\n@DynamoDbBean\r\ndata class Event(\r\n  // other properties\r\n  @get:DynamoDbAttribute(&quot;is_enabled&quot;)\r\n  var isEnabled: Boolean? = false,\r\n)\r\n\r\ncompanion object {\r\n  val SCHEMA: TableSchema&lt;Event&gt; = TableSchema.fromBean(Event::class.java)\r\n}\r\n```\r\n\r\n```\r\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient\r\n\r\ndata class EventRepository(\r\n  private val enhancedClient: DynamoDbEnhancedClient,\r\n) {\r\n  val table: DynamoDbTable&lt;Event&gt; = enhancedClient.table(\r\n        tableNameWithPrefix, Event.SCHEMA)\r\n}\r\n```\r\n\r\n```\r\nclass TestController  {\r\n  @Autowired\r\n  private lateinit var repo: EventRepository\r\n  \r\n  @Test\r\n  fun test() {\r\n    repo.table.putItem(Event(isEnabled = true))\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m not sure how DynamoDB handles boolean values, somehow this field `is_enabled` is always missing in the database. When the property was set to `Boolean?`, the record in database has `is_enabled = null`.\r\n\r\nIt works if I change the property to Boolean, the record in database has `is_enabled = true when I set the value`.\r\n\r\nAnd changing the property to `Boolean` does not work for me because this value can be nullable.","title":"Kotlin DynamoDB Boolean nullable property never get assigned","body":"<p>I'm writing a test which I need to create a record in local DynamoDB with a nullable boolean property. This is my setup:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@DynamoDbBean\ndata class Event(\n  // other properties\n  @get:DynamoDbAttribute(&quot;is_enabled&quot;)\n  var isEnabled: Boolean? = false,\n)\n\ncompanion object {\n  val SCHEMA: TableSchema&lt;Event&gt; = TableSchema.fromBean(Event::class.java)\n}\n</code></pre>\n<pre><code>import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient\n\ndata class EventRepository(\n  private val enhancedClient: DynamoDbEnhancedClient,\n) {\n  val table: DynamoDbTable&lt;Event&gt; = enhancedClient.table(\n        tableNameWithPrefix, Event.SCHEMA)\n}\n</code></pre>\n<pre><code>class TestController  {\n  @Autowired\n  private lateinit var repo: EventRepository\n  \n  @Test\n  fun test() {\n    repo.table.putItem(Event(isEnabled = true))\n  }\n}\n</code></pre>\n<p>I'm not sure how DynamoDB handles boolean values, somehow this field <code>is_enabled</code> is always missing in the database. When the property was set to <code>Boolean?</code>, the record in database has <code>is_enabled = null</code>.</p>\n<p>It works if I change the property to Boolean, the record in database has <code>is_enabled = true when I set the value</code>.</p>\n<p>And changing the property to <code>Boolean</code> does not work for me because this value can be nullable.</p>\n"},{"tags":["java","android","android-studio","mobile-development"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":0,"creation_date":1698215338,"post_id":77357044,"comment_id":136375215,"body_markdown":"Have you tried building the project? Does the build fail?","body":"Have you tried building the project? Does the build fail?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698216912,"post_id":77357044,"comment_id":136375421,"body_markdown":"`android.os.SystemProperties` is not a public class of the Android API. Possible duplicate of https://stackoverflow.com/q/2641111/150978","body":"<code>android.os.SystemProperties</code> is not a public class of the Android API. Possible duplicate of <a href=\"https://stackoverflow.com/q/2641111/150978\">stackoverflow.com/q/2641111/150978</a>"},{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":1,"creation_date":1698217052,"post_id":77357044,"comment_id":136375440,"body_markdown":"The SystemProperties class is marked with @SystemApi annotation. You can read about what it means here: https://stackoverflow.com/questions/26752656/whats-the-meaning-of-new-systemapi-annotation-any-difference-from-hide","body":"The SystemProperties class is marked with @SystemApi annotation. You can read about what it means here: <a href=\"https://stackoverflow.com/questions/26752656/whats-the-meaning-of-new-systemapi-annotation-any-difference-from-hide\" title=\"whats the meaning of new systemapi annotation any difference from hide\">stackoverflow.com/questions/26752656/&hellip;</a>"},{"owner":{"account_id":29734260,"reputation":11,"user_id":22788164,"display_name":"Muthyam Sriram"},"score":0,"creation_date":1698380979,"post_id":77357044,"comment_id":136400738,"body_markdown":"Code is buiding without any problem. Only throwig error when I click on run button.","body":"Code is buiding without any problem. Only throwig error when I click on run button."},{"owner":{"account_id":29734260,"reputation":11,"user_id":22788164,"display_name":"Muthyam Sriram"},"score":0,"creation_date":1698381503,"post_id":77357044,"comment_id":136400768,"body_markdown":"In the internet I got only one suggestion and that is Reflect. But for this error I cant write reflection for all such cases, it would be really difiicult to write. I hope the problem might be in SDK or NDK versions. If nothing works fine I can uninstall the application and delete all related files and download its bday first.","body":"In the internet I got only one suggestion and that is Reflect. But for this error I cant write reflection for all such cases, it would be really difiicult to write. I hope the problem might be in SDK or NDK versions. If nothing works fine I can uninstall the application and delete all related files and download its bday first."}],"owner":{"account_id":29734260,"reputation":11,"user_id":22788164,"display_name":"Muthyam Sriram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698215219,"creation_date":1698215219,"question_id":77357044,"body_markdown":"I had cloned a project from the Github and in one of its file, the project uses the SystemProperties.java class from the android.os package. But the import line is throwing an error with the following message \r\n\r\n`cannot find symbol\r\nsymbol  : class SystemProperties\r\nlocation: package android.os\r\nimport android.os.SystemProperties;`\r\n\r\nMy friends those are working with the same project dont have this error and the Android Studio version, SDK version and everything is same when we compared. Why I am having this error. I opened the SystemProperties file as well in the android.os package but while importing when I type android.os. then the drop down is not showing the SystemProperties file in it. Why is it so ?\r\n\r\nI tries to find about it in the internet but the alternate option to use SystemProperties is by using reflection method it mentioned. But I can&#39;t write the implementation of reflection for the entire project. I suppose there is something issue in the setup.","title":"Not able to import a android.os.SystemProperties","body":"<p>I had cloned a project from the Github and in one of its file, the project uses the SystemProperties.java class from the android.os package. But the import line is throwing an error with the following message</p>\n<p><code>cannot find symbol symbol  : class SystemProperties location: package android.os import android.os.SystemProperties;</code></p>\n<p>My friends those are working with the same project dont have this error and the Android Studio version, SDK version and everything is same when we compared. Why I am having this error. I opened the SystemProperties file as well in the android.os package but while importing when I type android.os. then the drop down is not showing the SystemProperties file in it. Why is it so ?</p>\n<p>I tries to find about it in the internet but the alternate option to use SystemProperties is by using reflection method it mentioned. But I can't write the implementation of reflection for the entire project. I suppose there is something issue in the setup.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1698145697,"post_id":77350459,"comment_id":136365365,"body_markdown":"I suppose, a JavaFX version for Java&#160;17 ships as modules, integrated in the jdks module image in the best case, so there is no need for jar files. Check the list produced by `path-to-jdk/bin/java --list-modules` whether javafx modules are included.","body":"I suppose, a JavaFX version for Java 17 ships as modules, integrated in the jdks module image in the best case, so there is no need for jar files. Check the list produced by <code>path-to-jdk&#47;bin&#47;java --list-modules</code> whether javafx modules are included."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1698151318,"post_id":77350459,"comment_id":136366372,"body_markdown":"*&quot;my existing project needs its file reference&quot;* Why, though? If JavaFX is included in the JDK you are using, there should be no need for any kind of external reference to it. (You don&#39;t need a jar file reference for `java.lang`, for example. It should be no different.)","body":"<i>&quot;my existing project needs its file reference&quot;</i> Why, though? If JavaFX is included in the JDK you are using, there should be no need for any kind of external reference to it. (You don&#39;t need a jar file reference for <code>java.lang</code>, for example. It should be no different.)"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698294030,"post_id":77354787,"comment_id":136387555,"body_markdown":"(a) Are there any tutorials out there that tell us *exactly* what to do to build a double-clickable JavaFX app? I&#39;ve tried and failed, not yet been able to build one. (b) Is is still the case that a developer can only build an app for their own native machine? (An Apple Silicon (ARM) Mac can only build a JavaFX app for an Apple Silicon Mac, a AMD64 Windows PC can only build an app for a AMD64 Windows PC, etc.?","body":"(a) Are there any tutorials out there that tell us <i>exactly</i> what to do to build a double-clickable JavaFX app? I&#39;ve tried and failed, not yet been able to build one. (b) Is is still the case that a developer can only build an app for their own native machine? (An Apple Silicon (ARM) Mac can only build a JavaFX app for an Apple Silicon Mac, a AMD64 Windows PC can only build an app for a AMD64 Windows PC, etc.?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698317279,"post_id":77354787,"comment_id":136391325,"body_markdown":"(a) [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX).  I have used the tools referred to there, but not that specific tutorial.  If it doesnt work for you, ask a question and I can answer (for windows). (b) for a jpackaged app, yes the tools to create the installers are native to the platform, so the build is platform specific. For jars with dependencies no, you can add the right classified dependencies to work on any (desktop) platform.  For jlink I think you can link against jdks and jmods from other platforms (Id need to check and find the right article).","body":"(a) <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>.  I have used the tools referred to there, but not that specific tutorial.  If it doesnt work for you, ask a question and I can answer (for windows). (b) for a jpackaged app, yes the tools to create the installers are native to the platform, so the build is platform specific. For jars with dependencies no, you can add the right classified dependencies to work on any (desktop) platform.  For jlink I think you can link against jdks and jmods from other platforms (Id need to check and find the right article)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699055634,"post_id":77354787,"comment_id":136487716,"body_markdown":"@BasilBourque (a) Slaw created a [mini jpackage tutorial](https://stackoverflow.com/a/77410196/1155209) for a Windows installer (including basic app code and full pom.xml).","body":"@BasilBourque (a) Slaw created a <a href=\"https://stackoverflow.com/a/77410196/1155209\">mini jpackage tutorial</a> for a Windows installer (including basic app code and full pom.xml)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699056216,"post_id":77354787,"comment_id":136487770,"body_markdown":"@BasilBourque (b) [Jake Wharton: Using jlink to cross-compile minimal JREs](https://jakewharton.com/using-jlink-to-cross-compile-minimal-jres/).  This uses the jlink command line tool.  It would be nice if the javafx-maven-plugin supported it but it doesn&#39;t.  Gradle equivalent is the badass plugins, I don&#39;t know if they support the feature or not.","body":"@BasilBourque (b) <a href=\"https://jakewharton.com/using-jlink-to-cross-compile-minimal-jres/\" rel=\"nofollow noreferrer\">Jake Wharton: Using jlink to cross-compile minimal JREs</a>.  This uses the jlink command line tool.  It would be nice if the javafx-maven-plugin supported it but it doesn&#39;t.  Gradle equivalent is the badass plugins, I don&#39;t know if they support the feature or not."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699056445,"post_id":77354787,"comment_id":136487788,"body_markdown":"The resultant cross-platform binaries generated by jlink cross-compiles should work out of the box on OS X and Windows and full major Linux distributions (e.g. Ubuntu or Redhat).  For minimal distributions often found in Docker style environments, such as Alpine linux, it won&#39;t work out of the box as JavaFX will require native dependencies present (e.g. glibc, x11) and those would need to be added by appropriate commands. A jpackaged installer (rpm/deb) may be more reliable in such a case as it may source required dependencies automatically.","body":"The resultant cross-platform binaries generated by jlink cross-compiles should work out of the box on OS X and Windows and full major Linux distributions (e.g. Ubuntu or Redhat).  For minimal distributions often found in Docker style environments, such as Alpine linux, it won&#39;t work out of the box as JavaFX will require native dependencies present (e.g. glibc, x11) and those would need to be added by appropriate commands. A jpackaged installer (rpm/deb) may be more reliable in such a case as it may source required dependencies automatically."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699056966,"post_id":77354787,"comment_id":136487836,"body_markdown":"A disadvantage of the jlink zips is they aren&#39;t as convenient as a native installer packaged app for the end user (such as that created by jpackage) and it requires fully modular projects or hacks of the launcher to put non-modular dependencies on the classpath.  However, jpackage requires the installer be created on the target machine (and for apple it requires a paid developer certificate as well I think). Also jpackage is more complex to use.","body":"A disadvantage of the jlink zips is they aren&#39;t as convenient as a native installer packaged app for the end user (such as that created by jpackage) and it requires fully modular projects or hacks of the launcher to put non-modular dependencies on the classpath.  However, jpackage requires the installer be created on the target machine (and for apple it requires a paid developer certificate as well I think). Also jpackage is more complex to use."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698215215,"creation_date":1698174266,"answer_id":77354787,"question_id":77350459,"body_markdown":"&gt; Where is &quot;javafx.base.jar&quot; in the BellSoft Liberica JDK 17 Full (!) package?\r\n\r\nThere is no &quot;javafx.base.jar&quot; in BellSoft Liberica JDK 17 Full.\r\n\r\n&gt; my existing project needs its file reference\r\n\r\nAs noted by James_D in comments -&gt; Why, though? If JavaFX is included in the JDK you are using, there should be no need for any kind of external reference to it. (You don&#39;t need a jar file reference for java.lang, for example. It should be no different.)\r\n\r\n**Explanation and Background**\r\n\r\nSome of the information here will likely be simply confusing for somebody new to Java (or without some understanding of the [Java module system][1]).\r\n\r\n*Java Runtime Images*\r\n\r\nModern Java runtimes and development kits are packaged as [modular java runtime images][2] and *not* as jar files.\r\n\r\nThe class files for *all* of the modules that are part of the image are encoded into the image and not as separate jar files.\r\n\r\nThe Liberica JDK 17 Full distribution includes the JavaFX modules as part of the runtime image in the JDK distribution.\r\n\r\n*jmod files*\r\n\r\nThe Liberica JDK 17 Full distribution *also* includes the modules that are part of the distribution (including all of the standard Java SE modules and the JavaFX modules) as jmod files in the jmods directory:\r\n\r\n    $ ls jmods/javafx*\r\n    jmods/javafx.base.jmod\t\t\r\n    jmods/javafx.fxml.jmod\t\t    \r\n    jmods/javafx.media.jmod\t\t\r\n    jmods/javafx.web.jmod\r\n    jmods/javafx.controls.jmod\t\r\n    jmods/javafx.graphics.jmod\t    \r\n    jmods/javafx.swing.jmod\r\n\r\njmod files are *not* jar files.  For an explanation of jmods see:\r\n\r\n * https://openjdk.org/jeps/261 JEP 261: Module System\r\n\r\nThe primary purpose of the jmods is so that you can create your own runtime images based on modules in the JDK (using a tool such as jlink or jpackage).\r\n\r\nJMOD files have some advantages and a major limitation compared to jar files:\r\n\r\n&gt; The new JMOD format goes beyond JAR files to include native code, configuration files, and other kinds of data that do not fit naturally, if at all, into JAR files.\r\n&gt;\r\n&gt; JMOD files can be used at compile time and link time, but not at run time.\r\n\r\nSo you can&#39;t just substitute a jmod for a jar file if you want to use it at runtime.\r\n\r\nJavaFX includes both class files and native components.  In the generated image in the Liberica JDK 17 Full distribution, the native components for JavaFX are in the `lib` directory.  The native JavaFX components are also encoded in the JavaFX jmod files distributed with the JDK.\r\n\r\n*JavaFX SDK*\r\n\r\nJavaFX is distributed in an [SDK form from Gluon][3].  In that form the JavaFX class files are packaged into jars *without* the native components, which are provided as native libraries in the same directory.\r\n\r\n    $ ls javafx-sdk-17.0.2/lib/*\r\n    javafx-sdk-17.0.2/lib/javafx-swt.jar\t\t\r\n    javafx-sdk-17.0.2/lib/javafx.web.jar\t\t\r\n    javafx-sdk-17.0.2/lib/libjfxmedia.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.base.jar\t\t\r\n    javafx-sdk-17.0.2/lib/libdecora_sse.dylib\t\r\n    javafx-sdk-17.0.2/lib/libjfxmedia_avf.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.controls.jar\t\r\n    javafx-sdk-17.0.2/lib/libfxplugins.dylib\t\r\n    javafx-sdk-17.0.2/lib/libjfxwebkit.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.fxml.jar\t\t\r\n    javafx-sdk-17.0.2/lib/libglass.dylib\t\t\r\n    javafx-sdk-17.0.2/lib/libprism_common.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.graphics.jar\t\r\n    javafx-sdk-17.0.2/lib/libglib-lite.dylib\t\r\n    javafx-sdk-17.0.2/lib/libprism_es2.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.media.jar\t\t\r\n    javafx-sdk-17.0.2/lib/libgstreamer-lite.dylib\t\r\n    javafx-sdk-17.0.2/lib/libprism_sw.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.properties\t\t\r\n    javafx-sdk-17.0.2/lib/libjavafx_font.dylib\r\n    javafx-sdk-17.0.2/lib/javafx.swing.jar\t\t\r\n    javafx-sdk-17.0.2/lib/libjavafx_iio.dylib\r\n\r\nIf you just place only the jar files from the SDK on your module path (or classpath) and don&#39;t also have the native libraries on your native load library path, then your application will fail (due to a &quot;JavaFX runtime components are missing&quot; error).  This is a very common packaging and distribution error for JavaFX applications (asked [148 times so far](https://stackoverflow.com/search?q=%5Bjavafx%5D+%22runtime+components+are+missing%22)).\r\n\r\n*JavaFX jar files in Maven*\r\n\r\nJavaFX components are also available [from Maven Central][4] (used via a build tool such as Maven or Gradle rather than directly downloaded).  \r\n\r\nThe Maven jar files are classified by target architecture and bundle in all of the native code for a given architecture with the Java class files.  At runtime, JavaFX will introspect the jar file from Maven, and extract the JavaFX native code to a local cache location on the filesystem so that it can be used.  So, if your application uses Maven as the build system to source JavaFX, then the version of JavaFX that Maven fetches will work by default on the same kind of system on which the application was built. \r\n\r\nHowever, if you are relying on a JDK or JRE that already includes JavaFX (such as BellSoft Liberica JDK 17 Full), then it is not necessary to also include the Maven dependencies for JavaFX in your project definition, though your build will still work either way.\r\n\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [2]: https://openjdk.org/jeps/220\r\n  [3]: https://gluonhq.com/products/javafx/\r\n  [4]: https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.9/","title":"Where is &quot;javafx.base.jar&quot; in the BellSoft Liberica JDK 17 Full (!) package?","body":"<blockquote>\n<p>Where is &quot;javafx.base.jar&quot; in the BellSoft Liberica JDK 17 Full (!) package?</p>\n</blockquote>\n<p>There is no &quot;javafx.base.jar&quot; in BellSoft Liberica JDK 17 Full.</p>\n<blockquote>\n<p>my existing project needs its file reference</p>\n</blockquote>\n<p>As noted by James_D in comments -&gt; Why, though? If JavaFX is included in the JDK you are using, there should be no need for any kind of external reference to it. (You don't need a jar file reference for java.lang, for example. It should be no different.)</p>\n<p><strong>Explanation and Background</strong></p>\n<p>Some of the information here will likely be simply confusing for somebody new to Java (or without some understanding of the <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Java module system</a>).</p>\n<p><em>Java Runtime Images</em></p>\n<p>Modern Java runtimes and development kits are packaged as <a href=\"https://openjdk.org/jeps/220\" rel=\"nofollow noreferrer\">modular java runtime images</a> and <em>not</em> as jar files.</p>\n<p>The class files for <em>all</em> of the modules that are part of the image are encoded into the image and not as separate jar files.</p>\n<p>The Liberica JDK 17 Full distribution includes the JavaFX modules as part of the runtime image in the JDK distribution.</p>\n<p><em>jmod files</em></p>\n<p>The Liberica JDK 17 Full distribution <em>also</em> includes the modules that are part of the distribution (including all of the standard Java SE modules and the JavaFX modules) as jmod files in the jmods directory:</p>\n<pre><code>$ ls jmods/javafx*\njmods/javafx.base.jmod      \njmods/javafx.fxml.jmod          \njmods/javafx.media.jmod     \njmods/javafx.web.jmod\njmods/javafx.controls.jmod  \njmods/javafx.graphics.jmod      \njmods/javafx.swing.jmod\n</code></pre>\n<p>jmod files are <em>not</em> jar files.  For an explanation of jmods see:</p>\n<ul>\n<li><a href=\"https://openjdk.org/jeps/261\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/261</a> JEP 261: Module System</li>\n</ul>\n<p>The primary purpose of the jmods is so that you can create your own runtime images based on modules in the JDK (using a tool such as jlink or jpackage).</p>\n<p>JMOD files have some advantages and a major limitation compared to jar files:</p>\n<blockquote>\n<p>The new JMOD format goes beyond JAR files to include native code, configuration files, and other kinds of data that do not fit naturally, if at all, into JAR files.</p>\n<p>JMOD files can be used at compile time and link time, but not at run time.</p>\n</blockquote>\n<p>So you can't just substitute a jmod for a jar file if you want to use it at runtime.</p>\n<p>JavaFX includes both class files and native components.  In the generated image in the Liberica JDK 17 Full distribution, the native components for JavaFX are in the <code>lib</code> directory.  The native JavaFX components are also encoded in the JavaFX jmod files distributed with the JDK.</p>\n<p><em>JavaFX SDK</em></p>\n<p>JavaFX is distributed in an <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">SDK form from Gluon</a>.  In that form the JavaFX class files are packaged into jars <em>without</em> the native components, which are provided as native libraries in the same directory.</p>\n<pre><code>$ ls javafx-sdk-17.0.2/lib/*\njavafx-sdk-17.0.2/lib/javafx-swt.jar        \njavafx-sdk-17.0.2/lib/javafx.web.jar        \njavafx-sdk-17.0.2/lib/libjfxmedia.dylib\njavafx-sdk-17.0.2/lib/javafx.base.jar       \njavafx-sdk-17.0.2/lib/libdecora_sse.dylib   \njavafx-sdk-17.0.2/lib/libjfxmedia_avf.dylib\njavafx-sdk-17.0.2/lib/javafx.controls.jar   \njavafx-sdk-17.0.2/lib/libfxplugins.dylib    \njavafx-sdk-17.0.2/lib/libjfxwebkit.dylib\njavafx-sdk-17.0.2/lib/javafx.fxml.jar       \njavafx-sdk-17.0.2/lib/libglass.dylib        \njavafx-sdk-17.0.2/lib/libprism_common.dylib\njavafx-sdk-17.0.2/lib/javafx.graphics.jar   \njavafx-sdk-17.0.2/lib/libglib-lite.dylib    \njavafx-sdk-17.0.2/lib/libprism_es2.dylib\njavafx-sdk-17.0.2/lib/javafx.media.jar      \njavafx-sdk-17.0.2/lib/libgstreamer-lite.dylib   \njavafx-sdk-17.0.2/lib/libprism_sw.dylib\njavafx-sdk-17.0.2/lib/javafx.properties     \njavafx-sdk-17.0.2/lib/libjavafx_font.dylib\njavafx-sdk-17.0.2/lib/javafx.swing.jar      \njavafx-sdk-17.0.2/lib/libjavafx_iio.dylib\n</code></pre>\n<p>If you just place only the jar files from the SDK on your module path (or classpath) and don't also have the native libraries on your native load library path, then your application will fail (due to a &quot;JavaFX runtime components are missing&quot; error).  This is a very common packaging and distribution error for JavaFX applications (asked <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+%22runtime+components+are+missing%22\">148 times so far</a>).</p>\n<p><em>JavaFX jar files in Maven</em></p>\n<p>JavaFX components are also available <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.9/\" rel=\"nofollow noreferrer\">from Maven Central</a> (used via a build tool such as Maven or Gradle rather than directly downloaded).</p>\n<p>The Maven jar files are classified by target architecture and bundle in all of the native code for a given architecture with the Java class files.  At runtime, JavaFX will introspect the jar file from Maven, and extract the JavaFX native code to a local cache location on the filesystem so that it can be used.  So, if your application uses Maven as the build system to source JavaFX, then the version of JavaFX that Maven fetches will work by default on the same kind of system on which the application was built.</p>\n<p>However, if you are relying on a JDK or JRE that already includes JavaFX (such as BellSoft Liberica JDK 17 Full), then it is not necessary to also include the Maven dependencies for JavaFX in your project definition, though your build will still work either way.</p>\n"}],"owner":{"account_id":29740972,"reputation":21,"user_id":22793250,"display_name":"Alexander Ziegler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698215215,"creation_date":1698135085,"question_id":77350459,"body_markdown":"I need javafx for Java 17. So I installed the BellSoft Liberica JDK Full Package (with java fx). But I was not able to find the &quot;javafx.base.jar&quot;, which, as far as I know, is important (and my existing project needs its file reference).\r\n\r\nWhere is that file located in the package?\r\n\r\nBTW: I am quite new to Java, so maybe this is a silly question...\r\n\r\nThanks in advance\r\nAlex\r\n\r\nI searched the bellsoft-jdk17.0.9+11-windows-amd64-full.zip where I could not find the needed file.","title":"Where is &quot;javafx.base.jar&quot; in the BellSoft Liberica JDK 17 Full (!) package?","body":"<p>I need javafx for Java 17. So I installed the BellSoft Liberica JDK Full Package (with java fx). But I was not able to find the &quot;javafx.base.jar&quot;, which, as far as I know, is important (and my existing project needs its file reference).</p>\n<p>Where is that file located in the package?</p>\n<p>BTW: I am quite new to Java, so maybe this is a silly question...</p>\n<p>Thanks in advance\nAlex</p>\n<p>I searched the bellsoft-jdk17.0.9+11-windows-amd64-full.zip where I could not find the needed file.</p>\n"},{"tags":["java","spring","hibernate","jackson"],"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":2,"creation_date":1377119780,"post_id":18313323,"comment_id":26969566,"body_markdown":"No. Those approaches will not help: the problem is that you will need a fully constructed default deserializer; and this requires that one gets built, and then your deserializer gets access to it. `DeserializationContext` is not something you should either create or change; it will be provided by `ObjectMapper`. `AnnotationIntrospector`, likewise, won&#39;t be of help in getting access.","body":"No. Those approaches will not help: the problem is that you will need a fully constructed default deserializer; and this requires that one gets built, and then your deserializer gets access to it. <code>DeserializationContext</code> is not something you should either create or change; it will be provided by <code>ObjectMapper</code>. <code>AnnotationIntrospector</code>, likewise, won&#39;t be of help in getting access."},{"owner":{"account_id":1382199,"reputation":1091,"user_id":1314955,"accept_rate":68,"display_name":"khituras"},"score":0,"creation_date":1414567931,"post_id":18313323,"comment_id":41859225,"body_markdown":"How did you end up doing it in the end?","body":"How did you end up doing it in the end?"},{"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"score":0,"creation_date":1414575870,"post_id":18313323,"comment_id":41863205,"body_markdown":"Good question. I&#39;m not sure but I am certain the answer below helped me. I am currently not in the possession of the code that we wrote if you do find a solution please post it here for others.","body":"Good question. I&#39;m not sure but I am certain the answer below helped me. I am currently not in the possession of the code that we wrote if you do find a solution please post it here for others."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":3,"creation_date":1652996850,"post_id":18313323,"comment_id":127749962,"body_markdown":"It is amazing to me how this was asked in 2013, and in the year of our lord 2022 there still is no sane solution for such an incredibly common requirement.","body":"It is amazing to me how this was asked in 2013, and in the year of our lord 2022 there still is no sane solution for such an incredibly common requirement."},{"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"score":0,"creation_date":1653457162,"post_id":18313323,"comment_id":127854009,"body_markdown":"@kaqqao I agree. I didn&#39;t expect the framework to even be in use any more.","body":"@kaqqao I agree. I didn&#39;t expect the framework to even be in use any more."}],"answers":[{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1377119850,"post_id":18365932,"comment_id":26969603,"body_markdown":"My answer still stands: you need to let Jackson construct the default deserializer to delegate to; and have to find a way to &quot;override&quot; it. `BeanDeserializerModifier` is the callback handler that allows that.","body":"My answer still stands: you need to let Jackson construct the default deserializer to delegate to; and have to find a way to &quot;override&quot; it. <code>BeanDeserializerModifier</code> is the callback handler that allows that."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1377116947,"creation_date":1377113032,"answer_id":18365932,"question_id":18313323,"body_markdown":"There are couple of ways to do this, but to do it right involves bit more work. Basically you can not use sub-classing, since information default deserializers need is built from class definitions.\r\n\r\nSo what you can most likely use is to construct a `BeanDeserializerModifier`, register that via `Module` interface (use `SimpleModule`). You need to define/override `modifyDeserializer`, and for the specific case where you want to add your own logic (where type matches), construct your own deserializer, pass the default deserializer you are given.\r\nAnd then in `deserialize()` method you can just delegate call, take the result Object.\r\n\r\nAlternatively, if you must actually create and populate the object, you can do so and call overloaded version of `deserialize()` that takes third argument; object to deserialize into.\r\n\r\nAnother way that might work (but not 100% sure) would be to specify `Converter` object (`@JsonDeserialize(converter=MyConverter.class)`). This is a new Jackson 2.2 feature.\r\nIn your case, Converter would not actually convert type, but simplify modify the object: but I don&#39;t know if that would let you do exactly what you want, since the default deserializer would be called first, and only then your `Converter`.\r\n","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>There are couple of ways to do this, but to do it right involves bit more work. Basically you can not use sub-classing, since information default deserializers need is built from class definitions.</p>\n\n<p>So what you can most likely use is to construct a <code>BeanDeserializerModifier</code>, register that via <code>Module</code> interface (use <code>SimpleModule</code>). You need to define/override <code>modifyDeserializer</code>, and for the specific case where you want to add your own logic (where type matches), construct your own deserializer, pass the default deserializer you are given.\nAnd then in <code>deserialize()</code> method you can just delegate call, take the result Object.</p>\n\n<p>Alternatively, if you must actually create and populate the object, you can do so and call overloaded version of <code>deserialize()</code> that takes third argument; object to deserialize into.</p>\n\n<p>Another way that might work (but not 100% sure) would be to specify <code>Converter</code> object (<code>@JsonDeserialize(converter=MyConverter.class)</code>). This is a new Jackson 2.2 feature.\nIn your case, Converter would not actually convert type, but simplify modify the object: but I don't know if that would let you do exactly what you want, since the default deserializer would be called first, and only then your <code>Converter</code>.</p>\n"},{"comments":[{"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"score":0,"creation_date":1377333540,"post_id":18405958,"comment_id":27054335,"body_markdown":"Thanks! I already solved this in another way but I will look into your solution when i have more time.","body":"Thanks! I already solved this in another way but I will look into your solution when i have more time."},{"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"score":7,"creation_date":1413562796,"post_id":18405958,"comment_id":41503513,"body_markdown":"Is there a way to do the same but with a `JsonSerializer` ? I have several serializers but they have code on common so i want to generify it. I try to directly call The serializer but The result isn&#39;t unwrapped in the JSON result (each call of serializer create a new object)","body":"Is there a way to do the same but with a <code>JsonSerializer</code> ? I have several serializers but they have code on common so i want to generify it. I try to directly call The serializer but The result isn&#39;t unwrapped in the JSON result (each call of serializer create a new object)"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1475605945,"post_id":18405958,"comment_id":67006642,"body_markdown":"@herau `BeanSerializerModifier`, `ResolvableSerializer` and `ContextualSerializer` are the matching interfaces to use for serialization.","body":"@herau <code>BeanSerializerModifier</code>, <code>ResolvableSerializer</code> and <code>ContextualSerializer</code> are the matching interfaces to use for serialization."},{"owner":{"account_id":2176442,"reputation":142,"user_id":1927033,"accept_rate":100,"display_name":"user1927033"},"score":0,"creation_date":1497490700,"post_id":18405958,"comment_id":76104563,"body_markdown":"Is this applicable for EE edition containers (Wildfly 10)? I get JsonMappingException: (was java.lang.NullPointerException) (through reference chain: java.util.ArrayList[0])","body":"Is this applicable for EE edition containers (Wildfly 10)? I get JsonMappingException: (was java.lang.NullPointerException) (through reference chain: java.util.ArrayList[0])"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1541109082,"post_id":18405958,"comment_id":93114966,"body_markdown":"The question uses `readTree()` but the answer does not. What is the advantage of this approach versus the one [posted by Derek Cochran](https://stackoverflow.com/a/50123297/14731)? Is there a way to make this work with `readTree()`?","body":"The question uses <code>readTree()</code> but the answer does not. What is the advantage of this approach versus the one <a href=\"https://stackoverflow.com/a/50123297/14731\">posted by Derek Cochran</a>? Is there a way to make this work with <code>readTree()</code>?"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1551399912,"post_id":18405958,"comment_id":96636714,"body_markdown":"@PabloJomer Do you by any chance still remember what approach you ended up using? Perhaps one of the other answers offered here?","body":"@PabloJomer Do you by any chance still remember what approach you ended up using? Perhaps one of the other answers offered here?"},{"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"score":0,"creation_date":1551428409,"post_id":18405958,"comment_id":96644136,"body_markdown":"I&#39;m sorry as I have previously stated I don&#39;t have access to the code any more. And I haven&#39;t been working with Jackson since.","body":"I&#39;m sorry as I have previously stated I don&#39;t have access to the code any more. And I haven&#39;t been working with Jackson since."},{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1553009414,"post_id":18405958,"comment_id":97222190,"body_markdown":"It is really nice, but is it possible to do something similar with jackson 1.x? I have to work on a legacy project with jackson 1.9.2, and that `SimpleModule` didn&#39;t have default constructor, neither `setDeserializerModifier()` method in the old times. Or any idea where can I find legacy jackson documentation?","body":"It is really nice, but is it possible to do something similar with jackson 1.x? I have to work on a legacy project with jackson 1.9.2, and that <code>SimpleModule</code> didn&#39;t have default constructor, neither <code>setDeserializerModifier()</code> method in the old times. Or any idea where can I find legacy jackson documentation?"},{"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"score":2,"creation_date":1556723074,"post_id":18405958,"comment_id":98529519,"body_markdown":"Implementing `resolve` is not necessary if you use a `DelegatingDeserializer` as base class - see [this answer](https://stackoverflow.com/a/55938316/1523648)","body":"Implementing <code>resolve</code> is not necessary if you use a <code>DelegatingDeserializer</code> as base class - see <a href=\"https://stackoverflow.com/a/55938316/1523648\">this answer</a>"},{"owner":{"account_id":4291439,"reputation":176,"user_id":3507691,"accept_rate":60,"display_name":"Tocchetto"},"score":0,"creation_date":1671041759,"post_id":18405958,"comment_id":132014100,"body_markdown":"Two important notes: 1- As oberlies said in his answer, registering the module is mutual exclusive with the @JsonDeserializer annotation, if you keep the annotation you will get &quot;Missing 0 arg constructor&quot; (something like this) error.\n2 - The conditional in the modifySerializer method is actually VERY necessary (even if you are using the mapper just for your class), otherwise you start getting JVM level errors about modules and loaders that have nothing to do with anything.","body":"Two important notes: 1- As oberlies said in his answer, registering the module is mutual exclusive with the @JsonDeserializer annotation, if you keep the annotation you will get &quot;Missing 0 arg constructor&quot; (something like this) error. 2 - The conditional in the modifySerializer method is actually VERY necessary (even if you are using the mapper just for your class), otherwise you start getting JVM level errors about modules and loaders that have nothing to do with anything."}],"tags":[],"owner":{"account_id":1727685,"reputation":1601,"user_id":1581999,"display_name":"schummar"},"comment_count":10,"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1377269805,"creation_date":1377269805,"answer_id":18405958,"question_id":18313323,"body_markdown":"As StaxMan already suggested you can do this by writing a `BeanDeserializerModifier` and registering it via `SimpleModule`. The following example should work:\r\n\r\n    public class UserEventDeserializer extends StdDeserializer&lt;User&gt; implements ResolvableDeserializer\r\n    {\r\n      private static final long serialVersionUID = 7923585097068641765L;\r\n\r\n      private final JsonDeserializer&lt;?&gt; defaultDeserializer;\r\n\r\n      public UserEventDeserializer(JsonDeserializer&lt;?&gt; defaultDeserializer)\r\n      {\r\n        super(User.class);\r\n        this.defaultDeserializer = defaultDeserializer;\r\n      }\r\n\r\n      @Override public User deserialize(JsonParser jp, DeserializationContext ctxt)\r\n          throws IOException, JsonProcessingException\r\n      {\r\n        User deserializedUser = (User) defaultDeserializer.deserialize(jp, ctxt);\r\n\r\n        // Special logic\r\n\r\n        return deserializedUser;\r\n      }\r\n\r\n      // for some reason you have to implement ResolvableDeserializer when modifying BeanDeserializer\r\n      // otherwise deserializing throws JsonMappingException??\r\n      @Override public void resolve(DeserializationContext ctxt) throws JsonMappingException\r\n      {\r\n        ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\r\n      }\r\n\r\n\r\n      public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException\r\n      {\r\n        SimpleModule module = new SimpleModule();\r\n        module.setDeserializerModifier(new BeanDeserializerModifier()\r\n        {\r\n          @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer)\r\n          {\r\n            if (beanDesc.getBeanClass() == User.class)\r\n              return new UserEventDeserializer(deserializer);\r\n            return deserializer;\r\n          }\r\n        });\r\n\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(module);\r\n        User user = mapper.readValue(new File(&quot;test.json&quot;), User.class);\r\n      }\r\n    }","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>As StaxMan already suggested you can do this by writing a <code>BeanDeserializerModifier</code> and registering it via <code>SimpleModule</code>. The following example should work:</p>\n\n<pre><code>public class UserEventDeserializer extends StdDeserializer&lt;User&gt; implements ResolvableDeserializer\n{\n  private static final long serialVersionUID = 7923585097068641765L;\n\n  private final JsonDeserializer&lt;?&gt; defaultDeserializer;\n\n  public UserEventDeserializer(JsonDeserializer&lt;?&gt; defaultDeserializer)\n  {\n    super(User.class);\n    this.defaultDeserializer = defaultDeserializer;\n  }\n\n  @Override public User deserialize(JsonParser jp, DeserializationContext ctxt)\n      throws IOException, JsonProcessingException\n  {\n    User deserializedUser = (User) defaultDeserializer.deserialize(jp, ctxt);\n\n    // Special logic\n\n    return deserializedUser;\n  }\n\n  // for some reason you have to implement ResolvableDeserializer when modifying BeanDeserializer\n  // otherwise deserializing throws JsonMappingException??\n  @Override public void resolve(DeserializationContext ctxt) throws JsonMappingException\n  {\n    ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\n  }\n\n\n  public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException\n  {\n    SimpleModule module = new SimpleModule();\n    module.setDeserializerModifier(new BeanDeserializerModifier()\n    {\n      @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer)\n      {\n        if (beanDesc.getBeanClass() == User.class)\n          return new UserEventDeserializer(deserializer);\n        return deserializer;\n      }\n    });\n\n\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(module);\n    User user = mapper.readValue(new File(\"test.json\"), User.class);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491326256,"creation_date":1491326256,"answer_id":43213711,"question_id":18313323,"body_markdown":"I was not ok with using `BeanSerializerModifier` since it forces to declare some behavioral changes in central `ObjectMapper` rather than in custom deserializer itself and in fact it is parallel solution to annotating entity class with `JsonSerialize`. If you feel it the similar way, you might appreciate my answer here: https://stackoverflow.com/a/43213463/653539","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>I was not ok with using <code>BeanSerializerModifier</code> since it forces to declare some behavioral changes in central <code>ObjectMapper</code> rather than in custom deserializer itself and in fact it is parallel solution to annotating entity class with <code>JsonSerialize</code>. If you feel it the similar way, you might appreciate my answer here: <a href=\"https://stackoverflow.com/a/43213463/653539\">https://stackoverflow.com/a/43213463/653539</a></p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1507365484,"creation_date":1507365484,"answer_id":46618287,"question_id":18313323,"body_markdown":"A simpler solution for me was to just add another bean of `ObjectMapper` and use that to deserialize the object (thanks to https://stackoverflow.com/users/1032167/varren comment) - in my case I was interested to either deserialize to its id (an int) or the whole object https://stackoverflow.com/a/46618193/986160\r\n\r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n    import com.fasterxml.jackson.annotation.PropertyAccessor;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.*;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class IdWrapperDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n    \r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public IdWrapperDeserializer(Class&lt;T&gt; clazz) {\r\n            super(clazz);\r\n            this.clazz = clazz;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            return mapper;\r\n        }\r\n    \r\n        @Override\r\n        public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n            String json = jp.readValueAsTree().toString();\r\n              // do your custom deserialization here using json\r\n              // and decide when to use default deserialization using local objectMapper:\r\n              T obj = objectMapper().readValue(json, clazz);\r\n             \r\n              return obj;\r\n         }\r\n    }\r\n\r\nfor each entity that needs to be going through custom deserializer we need to configure it in the global `ObjectMapper` bean of the Spring Boot App in my case (e.g for `Category`):\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n                    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n                mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n                mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n                mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n                mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        SimpleModule testModule = new SimpleModule(&quot;MyModule&quot;)\r\n                .addDeserializer(Category.class, new IdWrapperDeserializer(Category.class))\r\n    \r\n        mapper.registerModule(testModule);\r\n    \r\n        return mapper;\r\n    }","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>A simpler solution for me was to just add another bean of <code>ObjectMapper</code> and use that to deserialize the object (thanks to <a href=\"https://stackoverflow.com/users/1032167/varren\">https://stackoverflow.com/users/1032167/varren</a> comment) - in my case I was interested to either deserialize to its id (an int) or the whole object <a href=\"https://stackoverflow.com/a/46618193/986160\">https://stackoverflow.com/a/46618193/986160</a></p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport org.springframework.context.annotation.Bean;\n\nimport java.io.IOException;\n\npublic class IdWrapperDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n\n    private Class&lt;T&gt; clazz;\n\n    public IdWrapperDeserializer(Class&lt;T&gt; clazz) {\n        super(clazz);\n        this.clazz = clazz;\n    }\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        return mapper;\n    }\n\n    @Override\n    public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        String json = jp.readValueAsTree().toString();\n          // do your custom deserialization here using json\n          // and decide when to use default deserialization using local objectMapper:\n          T obj = objectMapper().readValue(json, clazz);\n\n          return obj;\n     }\n}\n</code></pre>\n\n<p>for each entity that needs to be going through custom deserializer we need to configure it in the global <code>ObjectMapper</code> bean of the Spring Boot App in my case (e.g for <code>Category</code>):</p>\n\n<pre><code>@Bean\npublic ObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n                mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n    SimpleModule testModule = new SimpleModule(\"MyModule\")\n            .addDeserializer(Category.class, new IdWrapperDeserializer(Category.class))\n\n    mapper.registerModule(testModule);\n\n    return mapper;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1912213,"reputation":31,"user_id":1725721,"display_name":"meta1203"},"score":1,"creation_date":1597877231,"post_id":47274493,"comment_id":112279662,"body_markdown":"This works like a dream with Jackson 2.9.9. It doesn&#39;t suffer from a StackOverflowError like the other example given.","body":"This works like a dream with Jackson 2.9.9. It doesn&#39;t suffer from a StackOverflowError like the other example given."},{"owner":{"display_name":"user2636594"},"score":0,"creation_date":1675934748,"post_id":47274493,"comment_id":133035748,"body_markdown":"This is the only solutions that lets me to export my DTOs with some extra versioning logic. Module approach requires to register in all ObjectMappers (Hibernate uses custom ObjectMapper for example). Converters don&#39;t work with generic types. Hack with additional class is a little bit ugly. So current seems the best.","body":"This is the only solutions that lets me to export my DTOs with some extra versioning logic. Module approach requires to register in all ObjectMappers (Hibernate uses custom ObjectMapper for example). Converters don&#39;t work with generic types. Hack with additional class is a little bit ugly. So current seems the best."},{"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"score":0,"creation_date":1686575089,"post_id":47274493,"comment_id":134813049,"body_markdown":"Thanks so much for your elegant solution!","body":"Thanks so much for your elegant solution!"},{"owner":{"account_id":14427706,"reputation":76,"user_id":10421905,"display_name":"Shay Levinzon"},"score":0,"creation_date":1693941306,"post_id":47274493,"comment_id":135825260,"body_markdown":"This should be in Jackson implementation.\nAmazing! thanks &#128591;&#127995;","body":"This should be in Jackson implementation. Amazing! thanks "}],"tags":[],"owner":{"account_id":1014485,"reputation":13100,"user_id":1026353,"display_name":"hopper"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1568891683,"creation_date":1510611426,"answer_id":47274493,"question_id":18313323,"body_markdown":"Along the lines of what [Tom&#225; Z&#225;lusk&#253; has suggested](https://stackoverflow.com/a/43213711/1026353), in cases where using `BeanDeserializerModifier` is undesirable you can construct a default deserializer yourself using `BeanDeserializerFactory`, although there is some extra setup necessary. In context, this solution would look like so:\r\n\r\n    public User deserialize(JsonParser jp, DeserializationContext ctxt)\r\n      throws IOException, JsonProcessingException {\r\n\r\n        ObjectCodec oc = jp.getCodec();\r\n        JsonNode node = oc.readTree(jp);\r\n        User deserializedUser = null;\r\n\r\n        DeserializationConfig config = ctxt.getConfig();\r\n        JavaType type = TypeFactory.defaultInstance().constructType(User.class);\r\n        JsonDeserializer&lt;Object&gt; defaultDeserializer = BeanDeserializerFactory.instance.buildBeanDeserializer(ctxt, type, config.introspect(type));\r\n        \r\n        if (defaultDeserializer instanceof ResolvableDeserializer) {\r\n            ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\r\n        }\r\n        \r\n        JsonParser treeParser = oc.treeAsTokens(node);\r\n        config.initialize(treeParser);\r\n\r\n        if (treeParser.getCurrentToken() == null) {\r\n            treeParser.nextToken();\r\n        }\r\n\r\n        deserializedUser = (User) defaultDeserializer.deserialize(treeParser, context);\r\n\r\n        return deserializedUser;\r\n    }","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>Along the lines of what <a href=\"https://stackoverflow.com/a/43213711/1026353\">Tom Zlusk has suggested</a>, in cases where using <code>BeanDeserializerModifier</code> is undesirable you can construct a default deserializer yourself using <code>BeanDeserializerFactory</code>, although there is some extra setup necessary. In context, this solution would look like so:</p>\n\n<pre><code>public User deserialize(JsonParser jp, DeserializationContext ctxt)\n  throws IOException, JsonProcessingException {\n\n    ObjectCodec oc = jp.getCodec();\n    JsonNode node = oc.readTree(jp);\n    User deserializedUser = null;\n\n    DeserializationConfig config = ctxt.getConfig();\n    JavaType type = TypeFactory.defaultInstance().constructType(User.class);\n    JsonDeserializer&lt;Object&gt; defaultDeserializer = BeanDeserializerFactory.instance.buildBeanDeserializer(ctxt, type, config.introspect(type));\n\n    if (defaultDeserializer instanceof ResolvableDeserializer) {\n        ((ResolvableDeserializer) defaultDeserializer).resolve(ctxt);\n    }\n\n    JsonParser treeParser = oc.treeAsTokens(node);\n    config.initialize(treeParser);\n\n    if (treeParser.getCurrentToken() == null) {\n        treeParser.nextToken();\n    }\n\n    deserializedUser = (User) defaultDeserializer.deserialize(treeParser, context);\n\n    return deserializedUser;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"score":2,"creation_date":1578524298,"post_id":48299205,"comment_id":105471026,"body_markdown":"Yup. The only approach that worked for me. I was getting StackOverflowErrors because of a recursive call to the deserializer.","body":"Yup. The only approach that worked for me. I was getting StackOverflowErrors because of a recursive call to the deserializer."},{"owner":{"account_id":1959027,"reputation":665,"user_id":1761220,"accept_rate":89,"display_name":"ampofila"},"score":0,"creation_date":1607442389,"post_id":48299205,"comment_id":115270567,"body_markdown":"Although this is some kind of hack it allows to use the default serializer for the know fields, while you still have access to the unknown ones. Thus, this can be used to read a csv with columns that should be deserialized to a Map (or a nested object). For example:\n ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n JsonNode node = oc.readTree(jp);\n User deserializedUser = mapper.treeToValue(node, UserPOJO.class);\n String userName = node.get(&quot;user.name&quot;).asText();\ndeserializedUser.setUserName(userName);\nreturn deserializedUser;","body":"Although this is some kind of hack it allows to use the default serializer for the know fields, while you still have access to the unknown ones. Thus, this can be used to read a csv with columns that should be deserialized to a Map (or a nested object). For example:  ObjectMapper mapper = (ObjectMapper) jp.getCodec();  JsonNode node = oc.readTree(jp);  User deserializedUser = mapper.treeToValue(node, UserPOJO.class);  String userName = node.get(&quot;user.name&quot;).asText(); deserializedUser.setUserName(userName); return deserializedUser;"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1646176181,"post_id":48299205,"comment_id":126057899,"body_markdown":"@Bill you don&#39;t need the cast to ObjectMapper, treeToValue is inherited","body":"@Bill you don&#39;t need the cast to ObjectMapper, treeToValue is inherited"}],"tags":[],"owner":{"account_id":3269495,"reputation":419,"user_id":2753168,"display_name":"Bill"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516185932,"creation_date":1516185932,"answer_id":48299205,"question_id":18313323,"body_markdown":"If it is possible for you to declare extra User class then you can implement it just using annotations\r\n\r\n    // your class\r\n    @JsonDeserialize(using = UserEventDeserializer.class)\r\n    public class User {\r\n    ...\r\n    }\r\n    \r\n    // extra user class\r\n    // reset deserializer attribute to default\r\n    @JsonDeserialize\r\n    public class UserPOJO extends User {\r\n    }\r\n    \r\n    public class UserEventDeserializer extends StdDeserializer&lt;User&gt; {\r\n    \r\n      ...\r\n      @Override\r\n      public User deserialize(JsonParser jp, DeserializationContext ctxt)\r\n          throws IOException, JsonProcessingException {\r\n        // specify UserPOJO.class to invoke default deserializer\r\n        User deserializedUser = jp.ReadValueAs(UserPOJO.class);\r\n        return deserializedUser;\r\n        \r\n        // or if you need to walk the JSON tree\r\n       \r\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\r\n        JsonNode node = oc.readTree(jp);\r\n        // specify UserPOJO.class to invoke default deserializer\r\n        User deserializedUser = mapper.treeToValue(node, UserPOJO.class);\r\n    \r\n        return deserializedUser;\r\n      }\r\n    \r\n    }","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>If it is possible for you to declare extra User class then you can implement it just using annotations</p>\n\n<pre><code>// your class\n@JsonDeserialize(using = UserEventDeserializer.class)\npublic class User {\n...\n}\n\n// extra user class\n// reset deserializer attribute to default\n@JsonDeserialize\npublic class UserPOJO extends User {\n}\n\npublic class UserEventDeserializer extends StdDeserializer&lt;User&gt; {\n\n  ...\n  @Override\n  public User deserialize(JsonParser jp, DeserializationContext ctxt)\n      throws IOException, JsonProcessingException {\n    // specify UserPOJO.class to invoke default deserializer\n    User deserializedUser = jp.ReadValueAs(UserPOJO.class);\n    return deserializedUser;\n\n    // or if you need to walk the JSON tree\n\n    ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n    JsonNode node = oc.readTree(jp);\n    // specify UserPOJO.class to invoke default deserializer\n    User deserializedUser = mapper.treeToValue(node, UserPOJO.class);\n\n    return deserializedUser;\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"score":0,"creation_date":1528903441,"post_id":50123297,"comment_id":88685448,"body_markdown":"DeserialisationContext.readValue() does not exist, that is a method of ObjectMapper","body":"DeserialisationContext.readValue() does not exist, that is a method of ObjectMapper"},{"owner":{"account_id":3048069,"reputation":2704,"user_id":2583229,"accept_rate":29,"display_name":"revau.lt"},"score":6,"creation_date":1536224222,"post_id":50123297,"comment_id":91349486,"body_markdown":"this solution is working well, however you might need to call nextToken() if you deserialize a value class e.g. Date.class","body":"this solution is working well, however you might need to call nextToken() if you deserialize a value class e.g. Date.class"},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":4,"creation_date":1608665670,"post_id":50123297,"comment_id":115650804,"body_markdown":"Your solution is the most elegant one.You are delegating serialization dispatching of BarBean.class to Jackson. This is nice, you can make your deserializers small, re-usable, and testable. I believe instead of JsonNode.traverse() you should be calling JsonNode.traverse(codec) to pass on existing deserializers codec.","body":"Your solution is the most elegant one.You are delegating serialization dispatching of BarBean.class to Jackson. This is nice, you can make your deserializers small, re-usable, and testable. I believe instead of JsonNode.traverse() you should be calling JsonNode.traverse(codec) to pass on existing deserializers codec."}],"tags":[],"owner":{"account_id":2490558,"reputation":408,"user_id":2168091,"display_name":"Derek Cochran"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1525206795,"creation_date":1525206158,"answer_id":50123297,"question_id":18313323,"body_markdown":"The `DeserializationContext` has a `readValue()` method you may use. This should work for both the default deserializer and any custom deserializers you have.\r\n\r\nJust be sure to call `traverse()` on the `JsonNode` level you want to read to retrieve the `JsonParser` to pass to `readValue()`.\r\n\r\n    public class FooDeserializer extends StdDeserializer&lt;FooBean&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic FooDeserializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \t\r\n    \tpublic FooDeserializer(Class&lt;FooBean&gt; t) {\r\n    \t\tsuper(t);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic FooBean deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n    \t\tJsonNode node = jp.getCodec().readTree(jp);\r\n    \t\tFooBean foo = new FooBean();\r\n    \t\tfoo.setBar(ctxt.readValue(node.get(&quot;bar&quot;).traverse(), BarBean.class));\r\n    \t\treturn foo;\r\n    \t}\r\n    \r\n    }","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>The <code>DeserializationContext</code> has a <code>readValue()</code> method you may use. This should work for both the default deserializer and any custom deserializers you have.</p>\n\n<p>Just be sure to call <code>traverse()</code> on the <code>JsonNode</code> level you want to read to retrieve the <code>JsonParser</code> to pass to <code>readValue()</code>.</p>\n\n<pre><code>public class FooDeserializer extends StdDeserializer&lt;FooBean&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    public FooDeserializer() {\n        this(null);\n    }\n\n    public FooDeserializer(Class&lt;FooBean&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public FooBean deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n        FooBean foo = new FooBean();\n        foo.setBar(ctxt.readValue(node.get(\"bar\").traverse(), BarBean.class));\n        return foo;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"score":0,"creation_date":1541365327,"post_id":53137273,"comment_id":93182104,"body_markdown":"Hi Gili! Thanks for it I&#39;m hoping that people find this answer and have time to validate it. I am no longer in a position to do so there for I can not accept the answer at this time. If I see that people do say this is a possible solution I will of course guide them towards it. It may also be that this is not possible for all versions. Still thanks for sharing.","body":"Hi Gili! Thanks for it I&#39;m hoping that people find this answer and have time to validate it. I am no longer in a position to do so there for I can not accept the answer at this time. If I see that people do say this is a possible solution I will of course guide them towards it. It may also be that this is not possible for all versions. Still thanks for sharing."},{"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"score":0,"creation_date":1578523322,"post_id":53137273,"comment_id":105470717,"body_markdown":"Does not compile with Jackson 2.9.9. JsonParser.readTree() does not exist.","body":"Does not compile with Jackson 2.9.9. JsonParser.readTree() does not exist."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1578614998,"post_id":53137273,"comment_id":105506314,"body_markdown":"@ccleve Looks like a simple typo. Fixed.","body":"@ccleve Looks like a simple typo. Fixed."},{"owner":{"account_id":134543,"reputation":1243,"user_id":336752,"accept_rate":83,"display_name":"Stuart Leyland-Cole"},"score":1,"creation_date":1583325802,"post_id":53137273,"comment_id":107076773,"body_markdown":"Can confirm that this works with Jackson 2.10, thanks!","body":"Can confirm that this works with Jackson 2.10, thanks!"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":41,"creation_date":1594991091,"post_id":53137273,"comment_id":111328246,"body_markdown":"I don&#39;t get how this works, this results in a `StackOverflowError`, since Jackson will use the same serializer again for `User`...","body":"I don&#39;t get how this works, this results in a <code>StackOverflowError</code>, since Jackson will use the same serializer again for <code>User</code>..."},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1631149378,"post_id":53137273,"comment_id":122147769,"body_markdown":"@john16384, it depends on the use case.  If you want to use another registered deserailizer, and modify the result, then it should work.  If you use the same deserializer, you will have to do a work around like in the first answer, to get the original deserializer.","body":"@john16384, it depends on the use case.  If you want to use another registered deserailizer, and modify the result, then it should work.  If you use the same deserializer, you will have to do a work around like in the first answer, to get the original deserializer."}],"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":6,"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1631162283,"creation_date":1541298790,"answer_id":53137273,"question_id":18313323,"body_markdown":"I found an answer at https://stackoverflow.com/a/51927577/14731 which is much more readable than the accepted answer.\r\n\r\n    public User deserialize(JsonParser jp, DeserializationContext ctxt)\r\n        throws IOException, JsonProcessingException {\r\n            User user = jp.readValueAs(User.class);\r\n             // some code\r\n             return user;\r\n          }\r\n\r\nIt really doesn&#39;t get easier than this.","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>I found an answer at <a href=\"https://stackoverflow.com/a/51927577/14731\">https://stackoverflow.com/a/51927577/14731</a> which is much more readable than the accepted answer.</p>\n<pre><code>public User deserialize(JsonParser jp, DeserializationContext ctxt)\n    throws IOException, JsonProcessingException {\n        User user = jp.readValueAs(User.class);\n         // some code\n         return user;\n      }\n</code></pre>\n<p>It really doesn't get easier than this.</p>\n"},{"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1606463817,"post_id":55938316,"comment_id":114973856,"body_markdown":"It failed for me with missing non-arg constructor: Caused by: java.lang.IllegalArgumentException: Class RecordDeserializer has no default (no arg) constructor. And super(delegatee) constructor requires non null argument.","body":"It failed for me with missing non-arg constructor: Caused by: java.lang.IllegalArgumentException: Class RecordDeserializer has no default (no arg) constructor. And super(delegatee) constructor requires non null argument."},{"owner":{"account_id":4291439,"reputation":176,"user_id":3507691,"accept_rate":60,"display_name":"Tocchetto"},"score":0,"creation_date":1671041849,"post_id":55938316,"comment_id":132014131,"body_markdown":"The &quot;has no default (no arg) constructor&quot; is because you&#39;ve left over the @JsonDeserializer annotation. Registering the module is mutually exclusive with the annotation","body":"The &quot;has no default (no arg) constructor&quot; is because you&#39;ve left over the @JsonDeserializer annotation. Registering the module is mutually exclusive with the annotation"}],"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1560240433,"creation_date":1556722969,"answer_id":55938316,"question_id":18313323,"body_markdown":"You are bound to fail if you try to create your custom deserializer from scratch.\r\n\r\nInstead, you need to get hold of the (fully configured) default deserializer instance through a custom `BeanDeserializerModifier`, and then pass this instance to your custom deserializer class:\r\n\r\n```\r\npublic ObjectMapper getMapperWithCustomDeserializer() {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    SimpleModule module = new SimpleModule();\r\n    module.setDeserializerModifier(new BeanDeserializerModifier() {\r\n        @Override\r\n        public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config,\r\n                    BeanDescription beanDesc, JsonDeserializer&lt;?&gt; defaultDeserializer) \r\n            if (beanDesc.getBeanClass() == User.class) {\r\n                return new UserEventDeserializer(defaultDeserializer);\r\n            } else {\r\n                return defaultDeserializer;\r\n            }\r\n        }\r\n    });\r\n    objectMapper.registerModule(module);\r\n\r\n    return objectMapper;\r\n}\r\n```\r\nNote: This module registration replaces the `@JsonDeserialize` annotation, i.e. the `User` class or `User` fields should no longer be annotated with this annotation.\r\n\r\nThe custom deserializer should then be based on a `DelegatingDeserializer` so that all methods delegate, unless you provide an explicit implementation:\r\n\r\n```\r\npublic class UserEventDeserializer extends DelegatingDeserializer {\r\n\r\n    public UserEventDeserializer(JsonDeserializer&lt;?&gt; delegate) {\r\n        super(delegate);\r\n    }\r\n\r\n    @Override\r\n    protected JsonDeserializer&lt;?&gt; newDelegatingInstance(JsonDeserializer&lt;?&gt; newDelegate) {\r\n        return new UserEventDeserializer(newDelegate);\r\n    }\r\n\r\n    @Override\r\n    public User deserialize(JsonParser p, DeserializationContext ctxt)\r\n            throws IOException {\r\n        User result = (User) super.deserialize(p, ctxt);\r\n\r\n        // add special logic here\r\n\r\n        return result;\r\n    }\r\n}\r\n```","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>You are bound to fail if you try to create your custom deserializer from scratch.</p>\n\n<p>Instead, you need to get hold of the (fully configured) default deserializer instance through a custom <code>BeanDeserializerModifier</code>, and then pass this instance to your custom deserializer class:</p>\n\n<pre><code>public ObjectMapper getMapperWithCustomDeserializer() {\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    SimpleModule module = new SimpleModule();\n    module.setDeserializerModifier(new BeanDeserializerModifier() {\n        @Override\n        public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config,\n                    BeanDescription beanDesc, JsonDeserializer&lt;?&gt; defaultDeserializer) \n            if (beanDesc.getBeanClass() == User.class) {\n                return new UserEventDeserializer(defaultDeserializer);\n            } else {\n                return defaultDeserializer;\n            }\n        }\n    });\n    objectMapper.registerModule(module);\n\n    return objectMapper;\n}\n</code></pre>\n\n<p>Note: This module registration replaces the <code>@JsonDeserialize</code> annotation, i.e. the <code>User</code> class or <code>User</code> fields should no longer be annotated with this annotation.</p>\n\n<p>The custom deserializer should then be based on a <code>DelegatingDeserializer</code> so that all methods delegate, unless you provide an explicit implementation:</p>\n\n<pre><code>public class UserEventDeserializer extends DelegatingDeserializer {\n\n    public UserEventDeserializer(JsonDeserializer&lt;?&gt; delegate) {\n        super(delegate);\n    }\n\n    @Override\n    protected JsonDeserializer&lt;?&gt; newDelegatingInstance(JsonDeserializer&lt;?&gt; newDelegate) {\n        return new UserEventDeserializer(newDelegate);\n    }\n\n    @Override\n    public User deserialize(JsonParser p, DeserializationContext ctxt)\n            throws IOException {\n        User result = (User) super.deserialize(p, ctxt);\n\n        // add special logic here\n\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10898,"reputation":77526,"user_id":20789,"accept_rate":71,"display_name":"Dan Lenski"},"score":3,"creation_date":1604960684,"post_id":57604534,"comment_id":114502229,"body_markdown":"This is definitely the simplest solution I&#39;ve found, but having to create a whole new `ObjectMapper` just to get the default behavior back seems wrong.","body":"This is definitely the simplest solution I&#39;ve found, but having to create a whole new <code>ObjectMapper</code> just to get the default behavior back seems wrong."},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":2,"creation_date":1605074050,"post_id":57604534,"comment_id":114538005,"body_markdown":"You can make the object mapper a static final  instance.","body":"You can make the object mapper a static final  instance."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1634319184,"post_id":57604534,"comment_id":123000909,"body_markdown":"It seems like what I need instead of ObjectMapper is &quot;my object mapper without this custom deserializer installed&quot;, so that I still pick up other customizations.","body":"It seems like what I need instead of ObjectMapper is &quot;my object mapper without this custom deserializer installed&quot;, so that I still pick up other customizations."},{"owner":{"account_id":2788220,"reputation":688,"user_id":2399055,"accept_rate":75,"display_name":"Francesco Guardiani"},"score":0,"creation_date":1641573284,"post_id":57604534,"comment_id":124847229,"body_markdown":"This is definitely not the right answer, as creating a new `ObjectMapper` is always expensive","body":"This is definitely not the right answer, as creating a new <code>ObjectMapper</code> is always expensive"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1642409855,"post_id":57604534,"comment_id":125054103,"body_markdown":"@FrancescoGuardiani Check my comment above, you can make the ObjectMapper a final static... I will edit the answer.","body":"@FrancescoGuardiani Check my comment above, you can make the ObjectMapper a final static... I will edit the answer."},{"owner":{"account_id":2788220,"reputation":688,"user_id":2399055,"accept_rate":75,"display_name":"Francesco Guardiani"},"score":0,"creation_date":1642764808,"post_id":57604534,"comment_id":125164574,"body_markdown":"Still, this solution is creating two separate object mappers, so it&#39;s error prone as you might need inside this additional mapper to register other custom ser/de for the objects nested within `MyObject`. I think the best solution that works for all is https://stackoverflow.com/a/55938316/2399055","body":"Still, this solution is creating two separate object mappers, so it&#39;s error prone as you might need inside this additional mapper to register other custom ser/de for the objects nested within <code>MyObject</code>. I think the best solution that works for all is <a href=\"https://stackoverflow.com/a/55938316/2399055\">stackoverflow.com/a/55938316/2399055</a>"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1698214977,"post_id":57604534,"comment_id":136375161,"body_markdown":"I see you are fighting this answer. But I do not see the problem in having multiple Object mappers (1 default, 1 custom). Maybe one needs different mappers for different locations, then you can also have multiple custom mappers. It&#39;s up to the programmer to handle those instances. I want to provide an alternative answer, and this is one. If someone does not care about performance and just wants something simple to read, why not go with this simple solution, (adjusted code to make it clearer it&#39;s a new instance of a default mapper)","body":"I see you are fighting this answer. But I do not see the problem in having multiple Object mappers (1 default, 1 custom). Maybe one needs different mappers for different locations, then you can also have multiple custom mappers. It&#39;s up to the programmer to handle those instances. I want to provide an alternative answer, and this is one. If someone does not care about performance and just wants something simple to read, why not go with this simple solution, (adjusted code to make it clearer it&#39;s a new instance of a default mapper)"}],"tags":[],"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"comment_count":7,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1698215047,"creation_date":1566460381,"answer_id":57604534,"question_id":18313323,"body_markdown":"Here is a short solution using an additional instance of the default ObjectMapper\r\n\r\n    private static final ObjectMapper DEFAULT_MAPPER = new ObjectMapper(); // create additional default mapper instance without customization\r\n\r\n    public MyObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        MyObject object = DEFAULT_MAPPER.readValue(p, MyObject.class);\r\n        // do whatever you want \r\n        return object;\r\n    }\r\n\r\n**EDIT: Regarding the discussion in the comments: Having an additional ObjectMapper is a performance overhead. If you care about performance, go with another answer.**\r\n\r\nAnd please: There is really no need to use any String value or something else. All needed information are given by JsonParser, so use it.","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>Here is a short solution using an additional instance of the default ObjectMapper</p>\n<pre><code>private static final ObjectMapper DEFAULT_MAPPER = new ObjectMapper(); // create additional default mapper instance without customization\n\npublic MyObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n    MyObject object = DEFAULT_MAPPER.readValue(p, MyObject.class);\n    // do whatever you want \n    return object;\n}\n</code></pre>\n<p><strong>EDIT: Regarding the discussion in the comments: Having an additional ObjectMapper is a performance overhead. If you care about performance, go with another answer.</strong></p>\n<p>And please: There is really no need to use any String value or something else. All needed information are given by JsonParser, so use it.</p>\n"},{"tags":[],"owner":{"account_id":19360961,"reputation":11,"user_id":14156217,"display_name":"Filip Ljubii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598267298,"creation_date":1598262971,"answer_id":63558713,"question_id":18313323,"body_markdown":"Using `BeanDeserializerModifier` works well, but if you need to use `JsonDeserialize` there is a way to do it with `AnnotationIntrospector`\r\nlike this:\r\n```\r\nObjectMapper originalMapper = new ObjectMapper();\r\nObjectMapper copy = originalMapper.copy();//to keep original configuration\r\ncopy.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Object findDeserializer(Annotated a) {\r\n\t\t\t\tObject deserializer = super.findDeserializer(a);\r\n\t\t\t\tif (deserializer == null) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif (deserializer.equals(MyDeserializer.class)) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn deserializer;\r\n\t\t\t}\r\n});\r\n```\r\nNow copied mapper will now ignore your custom deserializer (MyDeserializer.class) and use default implementation. You can use it inside `deserialize` method of your custom deserializer to avoid recursion by making copied mapper static or wire it if using Spring.","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>Using <code>BeanDeserializerModifier</code> works well, but if you need to use <code>JsonDeserialize</code> there is a way to do it with <code>AnnotationIntrospector</code>\nlike this:</p>\n<pre><code>ObjectMapper originalMapper = new ObjectMapper();\nObjectMapper copy = originalMapper.copy();//to keep original configuration\ncopy.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\n\n            @Override\n            public Object findDeserializer(Annotated a) {\n                Object deserializer = super.findDeserializer(a);\n                if (deserializer == null) {\n                    return null;\n                }\n                if (deserializer.equals(MyDeserializer.class)) {\n                    return null;\n                }\n                return deserializer;\n            }\n});\n</code></pre>\n<p>Now copied mapper will now ignore your custom deserializer (MyDeserializer.class) and use default implementation. You can use it inside <code>deserialize</code> method of your custom deserializer to avoid recursion by making copied mapper static or wire it if using Spring.</p>\n"}],"owner":{"account_id":1638420,"reputation":9960,"user_id":1511332,"accept_rate":69,"display_name":"Pablo Jomer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84611,"favorite_count":0,"down_vote_count":1,"up_vote_count":154,"accepted_answer_id":18405958,"answer_count":11,"score":153,"last_activity_date":1698215047,"creation_date":1376913743,"question_id":18313323,"body_markdown":"I have a problem in my custom deserializer in Jackson. I want to access the default serializer to populate the object I am deserializing into. After the population I will do some custom things but first I want to deserialize the object with the default Jackson behavior.\r\n\r\nThis is the code that I have at the moment.\r\n\r\n    public class UserEventDeserializer extends StdDeserializer&lt;User&gt; {\r\n    \r\n      private static final long serialVersionUID = 7923585097068641765L;\r\n    \r\n      public UserEventDeserializer() {\r\n        super(User.class);\r\n      }\r\n    \r\n      @Override\r\n      @Transactional\r\n      public User deserialize(JsonParser jp, DeserializationContext ctxt)\r\n          throws IOException, JsonProcessingException {\r\n        \r\n        ObjectCodec oc = jp.getCodec();\r\n        JsonNode node = oc.readTree(jp);\r\n        User deserializedUser = null;\r\n        deserializedUser = super.deserialize(jp, ctxt, new User()); \r\n        // The previous line generates an exception java.lang.UnsupportedOperationException\r\n        // Because there is no implementation of the deserializer.\r\n        // I want a way to access the default spring deserializer for my User class.\r\n        // How can I do that?\r\n    \r\n        //Special logic\r\n        \r\n        return deserializedUser;\r\n      }\r\n    \r\n    }\r\n\r\nWhat I need is a way to initialize the default deserializer so that I can pre-populate my POJO before I start my special logic.\r\n\r\nWhen calling deserialize from within the custom deserializer It seems the method is called from the current context no matter how I construct the serializer class. Because of the annotation in my POJO. This causes a Stack Overflow exception for obvious reasons.\r\n\r\nI have tried initializing a `BeanDeserializer` but the process is extremely complex and I haven&#39;t managed to find the right way to do it. I have also tried overloading the `AnnotationIntrospector` to no avail, thinking that it might help me ignore the annotation in the `DeserializerContext`. Finally it seams I might have had some success using `JsonDeserializerBuilders` although this required me to do some magic stuff to get hold of the application context from Spring. I would appreciate any thing that could lead me to a cleaner solution for example how Can I construct a deserialization context without reading the `JsonDeserializer` annotation.\r\n","title":"How do I call the default deserializer from a custom deserializer in Jackson","body":"<p>I have a problem in my custom deserializer in Jackson. I want to access the default serializer to populate the object I am deserializing into. After the population I will do some custom things but first I want to deserialize the object with the default Jackson behavior.</p>\n\n<p>This is the code that I have at the moment.</p>\n\n<pre><code>public class UserEventDeserializer extends StdDeserializer&lt;User&gt; {\n\n  private static final long serialVersionUID = 7923585097068641765L;\n\n  public UserEventDeserializer() {\n    super(User.class);\n  }\n\n  @Override\n  @Transactional\n  public User deserialize(JsonParser jp, DeserializationContext ctxt)\n      throws IOException, JsonProcessingException {\n\n    ObjectCodec oc = jp.getCodec();\n    JsonNode node = oc.readTree(jp);\n    User deserializedUser = null;\n    deserializedUser = super.deserialize(jp, ctxt, new User()); \n    // The previous line generates an exception java.lang.UnsupportedOperationException\n    // Because there is no implementation of the deserializer.\n    // I want a way to access the default spring deserializer for my User class.\n    // How can I do that?\n\n    //Special logic\n\n    return deserializedUser;\n  }\n\n}\n</code></pre>\n\n<p>What I need is a way to initialize the default deserializer so that I can pre-populate my POJO before I start my special logic.</p>\n\n<p>When calling deserialize from within the custom deserializer It seems the method is called from the current context no matter how I construct the serializer class. Because of the annotation in my POJO. This causes a Stack Overflow exception for obvious reasons.</p>\n\n<p>I have tried initializing a <code>BeanDeserializer</code> but the process is extremely complex and I haven't managed to find the right way to do it. I have also tried overloading the <code>AnnotationIntrospector</code> to no avail, thinking that it might help me ignore the annotation in the <code>DeserializerContext</code>. Finally it seams I might have had some success using <code>JsonDeserializerBuilders</code> although this required me to do some magic stuff to get hold of the application context from Spring. I would appreciate any thing that could lead me to a cleaner solution for example how Can I construct a deserialization context without reading the <code>JsonDeserializer</code> annotation.</p>\n"},{"tags":["javascript","java","android","rhino"],"answers":[{"comments":[{"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"score":0,"creation_date":1698152974,"post_id":77352316,"comment_id":136366700,"body_markdown":"Same error: org.mozilla.javascript.EvaluatorException: Function importPackage must be called with a package; had &quot;Packages.server.life.LifeFactory&quot; instead.","body":"Same error: org.mozilla.javascript.EvaluatorException: Function importPackage must be called with a package; had &quot;Packages.server.life.LifeFactory&quot; instead."},{"owner":{"account_id":9482306,"reputation":360,"user_id":7049810,"accept_rate":50,"display_name":"Paul"},"score":0,"creation_date":1698156679,"post_id":77352316,"comment_id":136367652,"body_markdown":"Then I think `server.life.LifeFactory` isn&#39;t a package, but a class, so either so importPackage(Packages.server.life) or importClass(server.life.lifeFactory)","body":"Then I think <code>server.life.LifeFactory</code> isn&#39;t a package, but a class, so either so importPackage(Packages.server.life) or importClass(server.life.lifeFactory)"},{"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"score":0,"creation_date":1698159321,"post_id":77352316,"comment_id":136368227,"body_markdown":"Thanks a lot! Seems importPackage(Packages.server.life) works.","body":"Thanks a lot! Seems importPackage(Packages.server.life) works."},{"owner":{"account_id":9482306,"reputation":360,"user_id":7049810,"accept_rate":50,"display_name":"Paul"},"score":0,"creation_date":1698214546,"post_id":77352316,"comment_id":136375109,"body_markdown":"Please upvote the answer","body":"Please upvote the answer"}],"tags":[],"owner":{"account_id":9482306,"reputation":360,"user_id":7049810,"accept_rate":50,"display_name":"Paul"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698214500,"creation_date":1698152785,"answer_id":77352316,"question_id":77351958,"body_markdown":"This should do the trick (as per https://rhino.github.io/tutorials/scripting_java/#accessing-java-packages-and-classes), assuming your package name is indeed &#39;server.life.LifeFactory&#39;:\r\n\r\n    const LifeFactory = importPackage(Packages.server.life.LifeFactory);\r\n\r\nEDITED:\r\nIf &#39;server.life.LifeFactory&#39; is a class, then use `importClass(Packages.server.life.LifeFactory);`","title":"How to import java packet in javascript when using rhino-android script Engine in Android development?","body":"<p>This should do the trick (as per <a href=\"https://rhino.github.io/tutorials/scripting_java/#accessing-java-packages-and-classes\" rel=\"nofollow noreferrer\">https://rhino.github.io/tutorials/scripting_java/#accessing-java-packages-and-classes</a>), assuming your package name is indeed 'server.life.LifeFactory':</p>\n<pre><code>const LifeFactory = importPackage(Packages.server.life.LifeFactory);\n</code></pre>\n<p>EDITED:\nIf 'server.life.LifeFactory' is a class, then use <code>importClass(Packages.server.life.LifeFactory);</code></p>\n"}],"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77352316,"answer_count":1,"score":0,"last_activity_date":1698214500,"creation_date":1698149660,"question_id":77351958,"body_markdown":"I&#39;m trying to migrate a PC java project to android.\r\nThe project structure looks like:\r\n\r\nhttps://github.com/speedyHKjournalist/CosmicAndroid/tree/main\r\n\r\nJavascript files are under directory:  app/src/main/assets/scripts\r\n\r\nJava files are under directory: app/src/main/java\r\n\r\nFor scriptEngine, I&#39;m using rhino-android in app/build.gradle.\r\nNow from java class, invoking js functions has no issue.\r\n\r\nMy question is that how to import java packet from javascript file ?\r\n\r\nFor example in Javascript:\r\n```\r\nconst LifeFactory = importPackage(&#39;server.life.LifeFactory&#39;);\r\n```\r\n\r\nError message indicates that rhino is unable to locate the java class file in android:\r\n```\r\njavax.script.ScriptException: org.mozilla.javascript.EvaluatorException: Function importPackage must be called with a package; had &quot;server.life.LifeFactory&quot; instead. (&lt;Unknown source&gt;#46) in &lt;Unknown source&gt; at line number 46\r\n2023-10-24 20:11:04.063 29240-29272 System.err              com.mapleserver                      W  \tat com.sun.script.javascript.RhinoScriptEngine.invoke(RhinoScriptEngine.java:330)\r\n2023-10-24 20:11:04.065 29240-29272 System.err              com.mapleserver                      W  \tat com.sun.script.javascript.RhinoScriptEngine.invokeFunction(RhinoScriptEngine.java:288)\r\n2023-10-24 20:11:04.065 29240-29272 System.err              com.mapleserver                      W  \tat scripting.SynchronizedInvocable.invokeFunction(SynchronizedInvocable.java:32)\r\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.EventManager.lambda$schedule$0(EventManager.java:172)\r\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.EventManager.$r8$lambda$AR51vuvnFxSsSXFZIGDAyGdIYwk(Unknown Source:0)\r\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.EventManager$$ExternalSyntheticLambda0.run(Unknown Source:6)\r\n2023-10-24 20:11:04.067 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.scheduler.EventScriptScheduler.runBaseSchedule(EventScriptScheduler.java:80)\r\n2023-10-24 20:11:04.067 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.scheduler.EventScriptScheduler.lambda$new$0(EventScriptScheduler.java:47)\r\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.scheduler.EventScriptScheduler.$r8$lambda$s8G568Z6xysfSNUGhJqxUwX71R0(Unknown Source:0)\r\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W  \tat scripting.event.scheduler.EventScriptScheduler$$ExternalSyntheticLambda1.run(Unknown Source:2)\r\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W  \tat server.TimerManager$LoggingSaveRunnable.run(TimerManager.java:145)\r\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W  \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n2023-10-24 20:11:04.069 29240-29272 System.err              com.mapleserver                      W  \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:307)\r\n2023-10-24 20:11:04.069 29240-29272 System.err              com.mapleserver                      W  \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:302)\r\n```","title":"How to import java packet in javascript when using rhino-android script Engine in Android development?","body":"<p>I'm trying to migrate a PC java project to android.\nThe project structure looks like:</p>\n<p><a href=\"https://github.com/speedyHKjournalist/CosmicAndroid/tree/main\" rel=\"nofollow noreferrer\">https://github.com/speedyHKjournalist/CosmicAndroid/tree/main</a></p>\n<p>Javascript files are under directory:  app/src/main/assets/scripts</p>\n<p>Java files are under directory: app/src/main/java</p>\n<p>For scriptEngine, I'm using rhino-android in app/build.gradle.\nNow from java class, invoking js functions has no issue.</p>\n<p>My question is that how to import java packet from javascript file ?</p>\n<p>For example in Javascript:</p>\n<pre><code>const LifeFactory = importPackage('server.life.LifeFactory');\n</code></pre>\n<p>Error message indicates that rhino is unable to locate the java class file in android:</p>\n<pre><code>javax.script.ScriptException: org.mozilla.javascript.EvaluatorException: Function importPackage must be called with a package; had &quot;server.life.LifeFactory&quot; instead. (&lt;Unknown source&gt;#46) in &lt;Unknown source&gt; at line number 46\n2023-10-24 20:11:04.063 29240-29272 System.err              com.mapleserver                      W      at com.sun.script.javascript.RhinoScriptEngine.invoke(RhinoScriptEngine.java:330)\n2023-10-24 20:11:04.065 29240-29272 System.err              com.mapleserver                      W      at com.sun.script.javascript.RhinoScriptEngine.invokeFunction(RhinoScriptEngine.java:288)\n2023-10-24 20:11:04.065 29240-29272 System.err              com.mapleserver                      W      at scripting.SynchronizedInvocable.invokeFunction(SynchronizedInvocable.java:32)\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W      at scripting.event.EventManager.lambda$schedule$0(EventManager.java:172)\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W      at scripting.event.EventManager.$r8$lambda$AR51vuvnFxSsSXFZIGDAyGdIYwk(Unknown Source:0)\n2023-10-24 20:11:04.066 29240-29272 System.err              com.mapleserver                      W      at scripting.event.EventManager$$ExternalSyntheticLambda0.run(Unknown Source:6)\n2023-10-24 20:11:04.067 29240-29272 System.err              com.mapleserver                      W      at scripting.event.scheduler.EventScriptScheduler.runBaseSchedule(EventScriptScheduler.java:80)\n2023-10-24 20:11:04.067 29240-29272 System.err              com.mapleserver                      W      at scripting.event.scheduler.EventScriptScheduler.lambda$new$0(EventScriptScheduler.java:47)\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W      at scripting.event.scheduler.EventScriptScheduler.$r8$lambda$s8G568Z6xysfSNUGhJqxUwX71R0(Unknown Source:0)\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W      at scripting.event.scheduler.EventScriptScheduler$$ExternalSyntheticLambda1.run(Unknown Source:2)\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W      at server.TimerManager$LoggingSaveRunnable.run(TimerManager.java:145)\n2023-10-24 20:11:04.068 29240-29272 System.err              com.mapleserver                      W      at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n2023-10-24 20:11:04.069 29240-29272 System.err              com.mapleserver                      W      at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:307)\n2023-10-24 20:11:04.069 29240-29272 System.err              com.mapleserver                      W      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:302)\n</code></pre>\n"},{"tags":["java","c#","exception"],"comments":[{"owner":{"account_id":2341462,"reputation":36355,"user_id":2052655,"display_name":"Rufus L"},"score":1,"creation_date":1690657548,"post_id":76794989,"comment_id":135385216,"body_markdown":"Please show a code example of a situation in which you&#39;re not sure which exceptions to catch. Most methods have the exceptions that they will throw listed in their documentation, so those would be the ones to handle. Otherwise this question seems far too broad for stack overflow. Voting to close for lack of details/clarity.","body":"Please show a code example of a situation in which you&#39;re not sure which exceptions to catch. Most methods have the exceptions that they will throw listed in their documentation, so those would be the ones to handle. Otherwise this question seems far too broad for stack overflow. Voting to close for lack of details/clarity."},{"owner":{"account_id":2341462,"reputation":36355,"user_id":2052655,"display_name":"Rufus L"},"score":0,"creation_date":1690658002,"post_id":76794989,"comment_id":135385272,"body_markdown":"Please tag the specific language you&#39;re asking about.","body":"Please tag the specific language you&#39;re asking about."},{"owner":{"account_id":2341462,"reputation":36355,"user_id":2052655,"display_name":"Rufus L"},"score":3,"creation_date":1690658173,"post_id":76794989,"comment_id":135385292,"body_markdown":"You state that *&quot;nobody tells you what kind of exception should you expect&quot;*, yet most public methods document the exceptions that they throw. For example, the documentation for [String.Split](https://learn.microsoft.com/en-us/dotnet/api/system.string.split?view=net-7.0#system-string-split(system-char())) has an **Exceptions** section that states that an [ArgumentOutOfRangeException](https://learn.microsoft.com/en-us/dotnet/api/system.argumentoutofrangeexception?view=net-7.0) is thown when `count` is negative.","body":"You state that <i>&quot;nobody tells you what kind of exception should you expect&quot;</i>, yet most public methods document the exceptions that they throw. For example, the documentation for <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.string.split?view=net-7.0#system-string-split(system-char())\" rel=\"nofollow noreferrer\">String.Split</a> has an <b>Exceptions</b> section that states that an <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.argumentoutofrangeexception?view=net-7.0\" rel=\"nofollow noreferrer\">ArgumentOutOfRangeException</a> is thown when <code>count</code> is negative."}],"answers":[{"comments":[{"owner":{"account_id":2341462,"reputation":36355,"user_id":2052655,"display_name":"Rufus L"},"score":1,"creation_date":1690657719,"post_id":76795051,"comment_id":135385239,"body_markdown":"Most public methods document the exceptions that they throw. For example, the documentation for [String.Split](https://learn.microsoft.com/en-us/dotnet/api/system.string.split?view=net-7.0#system-string-split(system-char())) has an **Exceptions** section that states that an [ArgumentOutOfRangeException](https://learn.microsoft.com/en-us/dotnet/api/system.argumentoutofrangeexception?view=net-7.0) is thown when `count` is negative.","body":"Most public methods document the exceptions that they throw. For example, the documentation for <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.string.split?view=net-7.0#system-string-split(system-char())\" rel=\"nofollow noreferrer\">String.Split</a> has an <b>Exceptions</b> section that states that an <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.argumentoutofrangeexception?view=net-7.0\" rel=\"nofollow noreferrer\">ArgumentOutOfRangeException</a> is thown when <code>count</code> is negative."},{"owner":{"account_id":21271777,"reputation":607,"user_id":15651201,"display_name":"HarrY"},"score":1,"creation_date":1690658260,"post_id":76795051,"comment_id":135385305,"body_markdown":"He&#39;s asking &quot;Is there a tool or a checker website to highlight the exception spots in your code ?&quot; Does that document spot exceptions in your code ?? Exceptions are documented and are good to know, but they aren&#39;t &#39;tool&#39;","body":"He&#39;s asking &quot;Is there a tool or a checker website to highlight the exception spots in your code ?&quot; Does that document spot exceptions in your code ?? Exceptions are documented and are good to know, but they aren&#39;t &#39;tool&#39;"},{"owner":{"account_id":2341462,"reputation":36355,"user_id":2052655,"display_name":"Rufus L"},"score":0,"creation_date":1690826186,"post_id":76795051,"comment_id":135404019,"body_markdown":"I know he was asking for a tool (which is borderline off-topic), but I was responding to your first sentence: *&quot;I don&#39;t think there are ways to know which exceptions can occur.&quot;*","body":"I know he was asking for a tool (which is borderline off-topic), but I was responding to your first sentence: <i>&quot;I don&#39;t think there are ways to know which exceptions can occur.&quot;</i>"}],"tags":[],"owner":{"account_id":21271777,"reputation":607,"user_id":15651201,"display_name":"HarrY"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690656902,"creation_date":1690656902,"answer_id":76795051,"question_id":76794989,"body_markdown":"I don&#39;t think there are ways to know which exceptions can occur. While writing some set of code, developers should have an idea like what sort of exceptions can be expected. I don&#39;t know if there are any tools to know exceptions beforehand. Moreover, *Intellisense* might help you while writing code in Visual Studio to refactor some lines of code to avoid few exceptions. \r\n\r\nOther than that, you can use some linting tools (ex. `SonarLint`), that will help you spot issues, check spelling and they also provide remedies.\r\n\r\nThere are few common exceptions that you should know, `OutOfMemoryException` , `NullReference` etc.","title":"Exception Handling : What exception to expect?","body":"<p>I don't think there are ways to know which exceptions can occur. While writing some set of code, developers should have an idea like what sort of exceptions can be expected. I don't know if there are any tools to know exceptions beforehand. Moreover, <em>Intellisense</em> might help you while writing code in Visual Studio to refactor some lines of code to avoid few exceptions.</p>\n<p>Other than that, you can use some linting tools (ex. <code>SonarLint</code>), that will help you spot issues, check spelling and they also provide remedies.</p>\n<p>There are few common exceptions that you should know, <code>OutOfMemoryException</code> , <code>NullReference</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690657233,"creation_date":1690657233,"answer_id":76795075,"question_id":76794989,"body_markdown":"Like most of the times in software design, the answer is - it depends.\r\n\r\nSometimes you kind of want the exception to &quot;make noise&quot; so you don&#39;t catch it, in order to expose unexpected behavior. Sometimes - you don&#39;t know what exception might come, but you make a decision that you don&#39;t want the program to crash - so you catch `Exception`, the most generic type.\r\n\r\nIn other cases, and let&#39;s take for example JSON serialization logic, you want to respond in one way if there was an issue while generating the JSON so you&#39;ll have a catch block for `JsonGenerationException`, but you&#39;d like to do something different if file could not be written to the disk, so you&#39;ll have another catch block for `IOException`.\r\n\r\nAnd there are much more cases...but bottom line - it depends.\r\n\r\nA link I always like to share for this kind of questions - [9 Best Practices to Handle Exceptions in Java][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/9-best-practices-to-handle-exceptions-in-java","title":"Exception Handling : What exception to expect?","body":"<p>Like most of the times in software design, the answer is - it depends.</p>\n<p>Sometimes you kind of want the exception to &quot;make noise&quot; so you don't catch it, in order to expose unexpected behavior. Sometimes - you don't know what exception might come, but you make a decision that you don't want the program to crash - so you catch <code>Exception</code>, the most generic type.</p>\n<p>In other cases, and let's take for example JSON serialization logic, you want to respond in one way if there was an issue while generating the JSON so you'll have a catch block for <code>JsonGenerationException</code>, but you'd like to do something different if file could not be written to the disk, so you'll have another catch block for <code>IOException</code>.</p>\n<p>And there are much more cases...but bottom line - it depends.</p>\n<p>A link I always like to share for this kind of questions - <a href=\"https://dzone.com/articles/9-best-practices-to-handle-exceptions-in-java\" rel=\"nofollow noreferrer\">9 Best Practices to Handle Exceptions in Java</a></p>\n"},{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690663721,"post_id":76795089,"comment_id":135385898,"body_markdown":"I&#39;m a Java person and I agree with everything you&#39;re written. Maybe not that different after all. (except that `throw;` would be a syntax error in Java)","body":"I&#39;m a Java person and I agree with everything you&#39;re written. Maybe not that different after all. (except that <code>throw;</code> would be a syntax error in Java)"},{"owner":{"account_id":6070507,"reputation":6906,"user_id":4739488,"display_name":"Flydog57"},"score":0,"creation_date":1690666977,"post_id":76795089,"comment_id":135386196,"body_markdown":"The big difference between C# and Java is Java&#39;s `throws` specification. In small team/small app dev work, it&#39;s great. But lazy programmers on large projects have been know to not bother to do the analysis required to manage `throws` in called methods and just blindly catch exceptions. The C# philosophy is &quot;let those exceptions crash the program&quot;. Crashed programs get fixed quickly and a good crash from an exception is generally easy to debug.  You can find a lot of discussion about this from when C# first shipped, circa 2002-2003","body":"The big difference between C# and Java is Java&#39;s <code>throws</code> specification. In small team/small app dev work, it&#39;s great. But lazy programmers on large projects have been know to not bother to do the analysis required to manage <code>throws</code> in called methods and just blindly catch exceptions. The C# philosophy is &quot;let those exceptions crash the program&quot;. Crashed programs get fixed quickly and a good crash from an exception is generally easy to debug.  You can find a lot of discussion about this from when C# first shipped, circa 2002-2003"}],"tags":[],"owner":{"account_id":6070507,"reputation":6906,"user_id":4739488,"display_name":"Flydog57"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690657747,"creation_date":1690657747,"answer_id":76795089,"question_id":76794989,"body_markdown":"This is more of an extended comment.\r\n\r\nThe rules are very different in Java and in C#. I&#39;m a C# person and these are from a C# perspective. \r\n\r\n1. Don&#39;t throw exceptions except in exceptional situations (for example, unexpected,  unparsable user input is expected and shouldn&#39;t result in an exception).\r\n\r\n2. If you don&#39;t expect an exception and/or don&#39;t know how to handle it, don&#39;t handle it, let it bubble up. If you test your program and it crashes, it&#39;s very easy to find out where and why. If your code shallows an exception it kinda-sorta knew what do do with, you&#39;ll have a bug that ships. (This is a big difference between C# and Java - good Java programmers don&#39;t think this way, but the Java language tends to coerce this behavior in beginners)\r\n\r\n3. You should be using try/finally (perhaps in the form of `using` or `lock` (both of which implement try/finally under the covers)) more often than try/catch.\r\n\r\n4. Never (well, almost never) catch and swallow an exception and do nothing with it - that&#39;s a shipped bug waiting to happen. Consider:\r\n\r\n```c#\r\ntry {\r\n    // some code\r\n}\r\ncatch (Exception) {\r\n    // no code here\r\n}\r\n```\r\n\r\n_That exception is gone, never logged, never noticed_\r\n\r\nPerhaps you want to log the exception and let it bubble up, so you try:\r\n\r\n```c#\r\ntry {\r\n    // some code\r\n}\r\ncatch (Exception ex) {\r\n    // log the exception, then\r\n    throw ex;\r\n}\r\n```\r\n\r\n_that&#39;s better, but the stack info for the original exception (i.e., the information you need to debug the issue) is mostly gone._\r\n\r\nThe correct way to do this is:\r\n\r\n```c#\r\ntry {\r\n    // some code\r\n}\r\ncatch (Exception ex) {\r\n    // log the exception, then\r\n    throw;    // rethrows the original exception\r\n}\r\n```\r\n\r\nSometimes, you want to _translate_ the exception to something application-specific. In this case, you can use the exception constructor that takes an _inner exception_. That way, the information obout the original exception is not lost:\r\n\r\n```c#\r\ntry {\r\n    // some code\r\n}\r\ncatch (LowLevelException ex) {\r\n    // log the exception, then\r\n    throw new ApplicationAppropriateExeption (&quot;Low Level Error&quot;, ex);\r\n}\r\n```\r\n\r\nThere is a lot of information about exception handling on the internet (much of it opinionated and even philosophical). Pick a language before you start looking (the differences between Java and C# aren&#39;t just philosophical, they are syntactic and semantic).\r\n\r\nThe other thing is that much of the programming you will do will be in the context of an application whose structure someone else has determined. In those cases, it&#39;s important that you follow the existing exception handling standards for the app.","title":"Exception Handling : What exception to expect?","body":"<p>This is more of an extended comment.</p>\n<p>The rules are very different in Java and in C#. I'm a C# person and these are from a C# perspective.</p>\n<ol>\n<li><p>Don't throw exceptions except in exceptional situations (for example, unexpected,  unparsable user input is expected and shouldn't result in an exception).</p>\n</li>\n<li><p>If you don't expect an exception and/or don't know how to handle it, don't handle it, let it bubble up. If you test your program and it crashes, it's very easy to find out where and why. If your code shallows an exception it kinda-sorta knew what do do with, you'll have a bug that ships. (This is a big difference between C# and Java - good Java programmers don't think this way, but the Java language tends to coerce this behavior in beginners)</p>\n</li>\n<li><p>You should be using try/finally (perhaps in the form of <code>using</code> or <code>lock</code> (both of which implement try/finally under the covers)) more often than try/catch.</p>\n</li>\n<li><p>Never (well, almost never) catch and swallow an exception and do nothing with it - that's a shipped bug waiting to happen. Consider:</p>\n</li>\n</ol>\n<pre class=\"lang-cs prettyprint-override\"><code>try {\n    // some code\n}\ncatch (Exception) {\n    // no code here\n}\n</code></pre>\n<p><em>That exception is gone, never logged, never noticed</em></p>\n<p>Perhaps you want to log the exception and let it bubble up, so you try:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>try {\n    // some code\n}\ncatch (Exception ex) {\n    // log the exception, then\n    throw ex;\n}\n</code></pre>\n<p><em>that's better, but the stack info for the original exception (i.e., the information you need to debug the issue) is mostly gone.</em></p>\n<p>The correct way to do this is:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>try {\n    // some code\n}\ncatch (Exception ex) {\n    // log the exception, then\n    throw;    // rethrows the original exception\n}\n</code></pre>\n<p>Sometimes, you want to <em>translate</em> the exception to something application-specific. In this case, you can use the exception constructor that takes an <em>inner exception</em>. That way, the information obout the original exception is not lost:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>try {\n    // some code\n}\ncatch (LowLevelException ex) {\n    // log the exception, then\n    throw new ApplicationAppropriateExeption (&quot;Low Level Error&quot;, ex);\n}\n</code></pre>\n<p>There is a lot of information about exception handling on the internet (much of it opinionated and even philosophical). Pick a language before you start looking (the differences between Java and C# aren't just philosophical, they are syntactic and semantic).</p>\n<p>The other thing is that much of the programming you will do will be in the context of an application whose structure someone else has determined. In those cases, it's important that you follow the existing exception handling standards for the app.</p>\n"}],"owner":{"account_id":17866875,"reputation":19,"user_id":13769262,"display_name":"AdelLinux80s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1690659778,"answer_count":3,"score":-1,"last_activity_date":1698214132,"creation_date":1690655670,"question_id":76794989,"body_markdown":"Let&#39;s say I wrote a code in Java or C#. Most of YouTube lessons will tell you how to implement an exception (try/catch/throw/finally.)\r\n\r\nBut it does not tell you what kind of exception you should expect.\r\n\r\nIs there a tool or a checker website to highlight the exception spots in your code?","title":"Exception Handling : What exception to expect?","body":"<p>Let's say I wrote a code in Java or C#. Most of YouTube lessons will tell you how to implement an exception (try/catch/throw/finally.)</p>\n<p>But it does not tell you what kind of exception you should expect.</p>\n<p>Is there a tool or a checker website to highlight the exception spots in your code?</p>\n"},{"tags":["java","checker-framework"],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698213991,"creation_date":1698213991,"question_id":77356952,"body_markdown":"Here is a sample constructor for a class called `UIMenus`:\r\n\r\n```\r\n1   UIMenus() {\r\n2     PropertyChangeListener focusListener = evt -&gt; {\r\n3       Component focusOwner = (Component) evt.getNewValue();\r\n4       //noinspection ObjectEquality\r\n5       if (focusOwner != caretOwner) {\r\n6         if (caretOwner != null) {\r\n7           caretOwner.removeCaretListener(this); // Checker Frame knows caretOwner isn&#39;t null here.\r\n8 \r\n9           // error: [dereference.of.nullable] dereference of possibly-null reference caretOwner\r\n10          final String text = caretOwner.getText();\r\n11          System.out.printf(&quot;deFocus c with %s to %s%n&quot;,\r\n12              text, (focusOwner == null) ? &quot;None&quot; : focusOwner.getClass().toString());\r\n13        }\r\n14        if (focusOwner instanceof JTextComponent) {\r\n15          // focusOwner can&#39;t be null, so caretOwner can&#39;t get set to null here.\r\n16          caretOwner = (JTextComponent) focusOwner;\r\n17          caretOwner.addCaretListener(this);\r\n18\r\n19          // error: [dereference.of.nullable] dereference of possibly-null reference caretOwner\r\n20          final String text = caretOwner.getText();\r\n21          System.out.printf(&quot;Focus c with %s%n&quot;, text);\r\n22        }\r\n23      }\r\n24    };\r\n25    focusManager.addPropertyChangeListener(&quot;permanentFocusOwner&quot;, focusListener);\r\n26  }\r\n```\r\n\r\nOn lines 10 and 20, I&#39;m getting a `dereference.of.nullable` error. But each statement is inside\r\nan `if` block and has been tested for null. Furthermore, each has been already dereferenced on\r\nthe previous line. So on line 7, the checker framework knows that caretOwner is not null, but \r\nnot on line 10. The same is true of lines 17 and 20. It seems to me that the null checker should\r\nknow that the value is not null for the rest of the `if` block, but that&#39;s not what I&#39;m seeing.\r\nAm I misunderstanding something about how the null checker works? Or is this a bug?\r\n\r\nFor a reproducible test case, see the UIMenus class at https://github.com/SwingGuy1024/CheckerQuestions","title":"Why does the CheckerFramework say error: [dereference.of.nullable] for a variable that it knows is not null?","body":"<p>Here is a sample constructor for a class called <code>UIMenus</code>:</p>\n<pre><code>1   UIMenus() {\n2     PropertyChangeListener focusListener = evt -&gt; {\n3       Component focusOwner = (Component) evt.getNewValue();\n4       //noinspection ObjectEquality\n5       if (focusOwner != caretOwner) {\n6         if (caretOwner != null) {\n7           caretOwner.removeCaretListener(this); // Checker Frame knows caretOwner isn't null here.\n8 \n9           // error: [dereference.of.nullable] dereference of possibly-null reference caretOwner\n10          final String text = caretOwner.getText();\n11          System.out.printf(&quot;deFocus c with %s to %s%n&quot;,\n12              text, (focusOwner == null) ? &quot;None&quot; : focusOwner.getClass().toString());\n13        }\n14        if (focusOwner instanceof JTextComponent) {\n15          // focusOwner can't be null, so caretOwner can't get set to null here.\n16          caretOwner = (JTextComponent) focusOwner;\n17          caretOwner.addCaretListener(this);\n18\n19          // error: [dereference.of.nullable] dereference of possibly-null reference caretOwner\n20          final String text = caretOwner.getText();\n21          System.out.printf(&quot;Focus c with %s%n&quot;, text);\n22        }\n23      }\n24    };\n25    focusManager.addPropertyChangeListener(&quot;permanentFocusOwner&quot;, focusListener);\n26  }\n</code></pre>\n<p>On lines 10 and 20, I'm getting a <code>dereference.of.nullable</code> error. But each statement is inside\nan <code>if</code> block and has been tested for null. Furthermore, each has been already dereferenced on\nthe previous line. So on line 7, the checker framework knows that caretOwner is not null, but\nnot on line 10. The same is true of lines 17 and 20. It seems to me that the null checker should\nknow that the value is not null for the rest of the <code>if</code> block, but that's not what I'm seeing.\nAm I misunderstanding something about how the null checker works? Or is this a bug?</p>\n<p>For a reproducible test case, see the UIMenus class at <a href=\"https://github.com/SwingGuy1024/CheckerQuestions\" rel=\"nofollow noreferrer\">https://github.com/SwingGuy1024/CheckerQuestions</a></p>\n"},{"tags":["java","web","browser","applet","hosting"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698213756,"creation_date":1664426881,"answer_id":73890391,"question_id":73890087,"body_markdown":"Given the demise of [Java applets][1], there is no way to run a Java app within the web browser. Securely integrating a [JVM][2] within a web browser proved impractical. \r\n\r\n[*Java Web Start*][3], and the open-source alternative [*OpenWebStart*][4], do *not* run a Java app within the browser. They provide for a way for a web browser to conveniently download a Java app to the local client computer, and launch that Java app locally. The Java app runs separately from the web browser, independently. Oracle is phasing *Java Web Start*, but *OpenWebStart* lives on as a volunteer project. \r\n\r\nThe *OpenWebStart* app delivery mechanism may be useful in controlled settings such as corporate or educational environments where an IT team controls the client machines. For the general public, *OpenWebStart* is not likely to be practical because Java is no longer pre-installed on client machines running mainstream operating systems such as macOS, iOS/iPadOS, Windows, Linux, BSD, etc. \r\n\r\nFor public distribution of your app nowadays, Oracle expects a Java-based app to be bundled with its own JVM, and delivered through mechanisms such as an app store or a downloaded installer. This means you the developer must release an edition for each host platform you choose to support. \r\n\r\nNew technologies such as the [Java Platform Module System][5], and the *jlink* &amp; *jpackage* tools (see relevant Java JEPs), make bundling a JVM easier than ever. \r\n\r\nSee the Oracle white paper, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf).\r\n\r\nSee the [other Answer](https://stackoverflow.com/a/73892101/642706) about the *CheerpJ* product to use a web browser to interact with a converted Java app. \r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_applet\r\n  [2]: https://en.m.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_Web_Start\r\n  [4]: https://openwebstart.com/\r\n  [5]: https://en.m.wikipedia.org/wiki/Java_Platform_Module_System","title":"What is the recommended way to embed a Java program in a web page?","body":"<p>Given the demise of <a href=\"https://en.m.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\">Java applets</a>, there is no way to run a Java app within the web browser. Securely integrating a <a href=\"https://en.m.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> within a web browser proved impractical.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\"><em>Java Web Start</em></a>, and the open-source alternative <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a>, do <em>not</em> run a Java app within the browser. They provide for a way for a web browser to conveniently download a Java app to the local client computer, and launch that Java app locally. The Java app runs separately from the web browser, independently. Oracle is phasing <em>Java Web Start</em>, but <em>OpenWebStart</em> lives on as a volunteer project.</p>\n<p>The <em>OpenWebStart</em> app delivery mechanism may be useful in controlled settings such as corporate or educational environments where an IT team controls the client machines. For the general public, <em>OpenWebStart</em> is not likely to be practical because Java is no longer pre-installed on client machines running mainstream operating systems such as macOS, iOS/iPadOS, Windows, Linux, BSD, etc.</p>\n<p>For public distribution of your app nowadays, Oracle expects a Java-based app to be bundled with its own JVM, and delivered through mechanisms such as an app store or a downloaded installer. This means you the developer must release an edition for each host platform you choose to support.</p>\n<p>New technologies such as the <a href=\"https://en.m.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System</a>, and the <em>jlink</em> &amp; <em>jpackage</em> tools (see relevant Java JEPs), make bundling a JVM easier than ever.</p>\n<p>See the Oracle white paper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a>.</p>\n<p>See the <a href=\"https://stackoverflow.com/a/73892101/642706\">other Answer</a> about the <em>CheerpJ</em> product to use a web browser to interact with a converted Java app.</p>\n"},{"tags":[],"owner":{"account_id":1643431,"reputation":851,"user_id":1515454,"display_name":"alexp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664438111,"creation_date":1664438111,"answer_id":73892101,"question_id":73890087,"body_markdown":"Please consider using [CheerpJ][1], our solution to run unmodified Java applications and applets in the browser.\r\n\r\nThis example shows how to integrate a Java application in the browser.\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;title&gt;CheerpJ test&lt;/title&gt;\r\n    &lt;script src=&quot;https://cjrtnc.leaningtech.com/2.3/loader.js&quot;&gt;&lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n  &lt;/body&gt;\r\n  &lt;script&gt;\r\n      cheerpjInit();\r\n      cheerpjCreateDisplay(800,600);\r\n      cheerpjRunMain(&quot;ChangeThisToYourClassName&quot;, &quot;/app/my_application_archive.jar:/app/my_dependency_archive.jar&quot;); \r\n  &lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMore info can be found here: https://docs.leaningtech.com/cheerpj/Getting-Started\r\n\r\nCheerpJ is designed to run 100% of Java applications in the browser, but please note that it does not currently support JNI/binary libraries.\r\n\r\nFull disclosure, I am lead developer of CheerpJ and CTO of Leaning Technologies.\r\n\r\n\r\n  [1]: https://leaningtech.com/cheerpj/","title":"What is the recommended way to embed a Java program in a web page?","body":"<p>Please consider using <a href=\"https://leaningtech.com/cheerpj/\" rel=\"nofollow noreferrer\">CheerpJ</a>, our solution to run unmodified Java applications and applets in the browser.</p>\n<p>This example shows how to integrate a Java application in the browser.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;CheerpJ test&lt;/title&gt;\n    &lt;script src=&quot;https://cjrtnc.leaningtech.com/2.3/loader.js&quot;&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;/body&gt;\n  &lt;script&gt;\n      cheerpjInit();\n      cheerpjCreateDisplay(800,600);\n      cheerpjRunMain(&quot;ChangeThisToYourClassName&quot;, &quot;/app/my_application_archive.jar:/app/my_dependency_archive.jar&quot;); \n  &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>More info can be found here: <a href=\"https://docs.leaningtech.com/cheerpj/Getting-Started\" rel=\"nofollow noreferrer\">https://docs.leaningtech.com/cheerpj/Getting-Started</a></p>\n<p>CheerpJ is designed to run 100% of Java applications in the browser, but please note that it does not currently support JNI/binary libraries.</p>\n<p>Full disclosure, I am lead developer of CheerpJ and CTO of Leaning Technologies.</p>\n"}],"owner":{"account_id":9076991,"reputation":45,"user_id":6758214,"display_name":"Bryce Eller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73892101,"answer_count":2,"score":3,"last_activity_date":1698213756,"creation_date":1664423220,"question_id":73890087,"body_markdown":"I have a game in a runnable .jar that works great on my computer, and I want to host it on a web page. I&#39;ve been scouring the web for the best way to do this but older answers aren&#39;t taking into account security concerns that have arisen in the past few years. I know Java Applets aren&#39;t supported by most browsers any more, and JWS (Java Web Start) is now [deprecated and removed][1]. I&#39;ve seen some recommendations of OpenWebStart but haven&#39;t been able to find many supporting docs or implementation details. \r\n\r\nMy question is: what is the proper way to host a web page that allows a user to play my Java game in their browser?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Web_Start","title":"What is the recommended way to embed a Java program in a web page?","body":"<p>I have a game in a runnable .jar that works great on my computer, and I want to host it on a web page. I've been scouring the web for the best way to do this but older answers aren't taking into account security concerns that have arisen in the past few years. I know Java Applets aren't supported by most browsers any more, and JWS (Java Web Start) is now <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\">deprecated and removed</a>. I've seen some recommendations of OpenWebStart but haven't been able to find many supporting docs or implementation details.</p>\n<p>My question is: what is the proper way to host a web page that allows a user to play my Java game in their browser?</p>\n"},{"tags":["java","apache-poi","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1698268068,"post_id":77356435,"comment_id":136385344,"body_markdown":"`log4j-core` is **not** a dependency of Apache POI, so the exclusion is a no-op. Please check with `mvn dependency:list`, which version of `log4j-api` is your application using. It is probably too old.","body":"<code>log4j-core</code> is <b>not</b> a dependency of Apache POI, so the exclusion is a no-op. Please check with <code>mvn dependency:list</code>, which version of <code>log4j-api</code> is your application using. It is probably too old."}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698207825,"creation_date":1698207394,"answer_id":77356594,"question_id":77356435,"body_markdown":"`org.apache.logging.log4j.Logger` is part of `org.apache.logging.log4j:log4j-api`. If you are excluding `org.apache.logging.log4j:log4j-core`, it will also exclude `org.apache.logging.log4j:log4j-api` \r\n\r\nYou need to have `log4j-api` in your classpath. \r\n\r\nIf you are using slf4j you can find the [log4j-over-slf4j](https://www.slf4j.org/legacy.html#log4j-over-slf4j)\r\n\r\nMore information on [Apache POI&#39;s Logging Framework](https://poi.apache.org/components/logging.html)","title":"Apache poi cant find method of log4j org.apache.logging.log4j.Logger.atDebug()","body":"<p><code>org.apache.logging.log4j.Logger</code> is part of <code>org.apache.logging.log4j:log4j-api</code>. If you are excluding <code>org.apache.logging.log4j:log4j-core</code>, it will also exclude <code>org.apache.logging.log4j:log4j-api</code></p>\n<p>You need to have <code>log4j-api</code> in your classpath.</p>\n<p>If you are using slf4j you can find the <a href=\"https://www.slf4j.org/legacy.html#log4j-over-slf4j\" rel=\"nofollow noreferrer\">log4j-over-slf4j</a></p>\n<p>More information on <a href=\"https://poi.apache.org/components/logging.html\" rel=\"nofollow noreferrer\">Apache POI's Logging Framework</a></p>\n"}],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77356594,"answer_count":1,"score":0,"last_activity_date":1698211168,"creation_date":1698203987,"question_id":77356435,"body_markdown":" When I tried to read an excel file this error shows:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder;\r\n```\r\npointing to this line:\r\n```\r\ntry (FileInputStream inputStream = new FileInputStream(configFile.getPath());\r\n\t\t\t\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(inputStream)) {\r\n```\r\n\r\nI tried to exclude the log4j dependency from the apache poi but it&#39;s now working:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nIt seems apache poi version 5.2.2 uses or calls the log4j. Do I also need to included it to my dependency? or is there proper way to exclude log4j?","title":"Apache poi cant find method of log4j org.apache.logging.log4j.Logger.atDebug()","body":"<p>When I tried to read an excel file this error shows:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder;\n</code></pre>\n<p>pointing to this line:</p>\n<pre><code>try (FileInputStream inputStream = new FileInputStream(configFile.getPath());\n                        XSSFWorkbook workbook = new XSSFWorkbook(inputStream)) {\n</code></pre>\n<p>I tried to exclude the log4j dependency from the apache poi but it's now working:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It seems apache poi version 5.2.2 uses or calls the log4j. Do I also need to included it to my dependency? or is there proper way to exclude log4j?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1698032196,"post_id":77342516,"comment_id":136349219,"body_markdown":"Can you use Integer.parseInt();?","body":"Can you use Integer.parseInt();?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1698032509,"post_id":77342516,"comment_id":136349235,"body_markdown":"`boolean isDigit = theString.chars().allMatch(c -&gt; &#39;0&#39; &lt;= c &amp;&amp; c &lt;= &#39;9&#39;)`. Though note that doesn&#39;t guarantee the number will _fit_ in an `int`; if that&#39;s important to you then I recommend Zahid&#39;s approach.","body":"<code>boolean isDigit = theString.chars().allMatch(c -&gt; &#39;0&#39; &lt;= c &amp;&amp; c &lt;= &#39;9&#39;)</code>. Though note that doesn&#39;t guarantee the number will <i>fit</i> in an <code>int</code>; if that&#39;s important to you then I recommend Zahid&#39;s approach."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1698032536,"post_id":77342516,"comment_id":136349237,"body_markdown":"Does it have to be a parseable integer, or for example should `&quot;999999999999999999999&quot;` return true?","body":"Does it have to be a parseable integer, or for example should <code>&quot;999999999999999999999&quot;</code> return true?"},{"owner":{"account_id":29731780,"reputation":1,"user_id":22786190,"display_name":"oseghale aloysius"},"score":0,"creation_date":1698032932,"post_id":77342516,"comment_id":136349259,"body_markdown":"yes it should return true and &quot;999999999999a&quot; should return false","body":"yes it should return true and &quot;999999999999a&quot; should return false"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698033777,"post_id":77342516,"comment_id":136349300,"body_markdown":"Note that you will not be able to do `someString.isDigit()` because `String` does not have an `isDigit()` method, nor can you add one to the class. All solutions are going to use `parseInt`, loops, streams, or regex either inline or extracted out into a method that accepts the input string.","body":"Note that you will not be able to do <code>someString.isDigit()</code> because <code>String</code> does not have an <code>isDigit()</code> method, nor can you add one to the class. All solutions are going to use <code>parseInt</code>, loops, streams, or regex either inline or extracted out into a method that accepts the input string."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1698034229,"post_id":77342516,"comment_id":136349335,"body_markdown":"@Slaw Well, not quite right. There are Extension Methods (Aspect Orienteded Design) that can be introduced into Java, for example via Project Lombok or AspectJ or many more Libraries/Frameworks. With those you can write such extension methods yourself in other classes, and literally write `str.isDigit()`. I do use them quite often, it&#39;s especially useful for null safety, or comfort (writing `a.or(b)` if a could be null, then use b, and many such cases). https://projectlombok.org/features/experimental/ExtensionMethod","body":"@Slaw Well, not quite right. There are Extension Methods (Aspect Orienteded Design) that can be introduced into Java, for example via Project Lombok or AspectJ or many more Libraries/Frameworks. With those you can write such extension methods yourself in other classes, and literally write <code>str.isDigit()</code>. I do use them quite often, it&#39;s especially useful for null safety, or comfort (writing <code>a.or(b)</code> if a could be null, then use b, and many such cases). <a href=\"https://projectlombok.org/features/experimental/ExtensionMethod\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/ExtensionMethod</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698034712,"post_id":77342516,"comment_id":136349375,"body_markdown":"@JayC667 Yes, I was ignoring instrumentation, source code preprocessing, compiler hacks, and other approaches not built into the language itself.","body":"@JayC667 Yes, I was ignoring instrumentation, source code preprocessing, compiler hacks, and other approaches not built into the language itself."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698044991,"post_id":77342516,"comment_id":136350440,"body_markdown":"Please note that `parseInt()` will also allow `+` and `-` - not sure if that is wanted or not","body":"Please note that <code>parseInt()</code> will also allow <code>+</code> and <code>-</code> - not sure if that is wanted or not"}],"answers":[{"comments":[{"owner":{"account_id":29731780,"reputation":1,"user_id":22786190,"display_name":"oseghale aloysius"},"score":0,"creation_date":1698032893,"post_id":77342530,"comment_id":136349251,"body_markdown":"a regular expression will take at most 2 lines of code. yours have taken more","body":"a regular expression will take at most 2 lines of code. yours have taken more"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1698032968,"post_id":77342530,"comment_id":136349261,"body_markdown":"@oseghalealoysius Please reread the question, the ask is not to use regex.","body":"@oseghalealoysius Please reread the question, the ask is not to use regex."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1698033103,"post_id":77342530,"comment_id":136349271,"body_markdown":"@oseghalealoysius You asked for a solution other than regex, not one that&#39;s shorter than regex.","body":"@oseghalealoysius You asked for a solution other than regex, not one that&#39;s shorter than regex."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698045229,"post_id":77342530,"comment_id":136350478,"body_markdown":"Please note that this solution will also accept numbers starting with `+` or `-` not just digits &quot;*(0-9)*&quot; - maybe required or may not...","body":"Please note that this solution will also accept numbers starting with <code>+</code> or <code>-</code> not just digits &quot;<i>(0-9)</i>&quot; - maybe required or may not..."}],"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698032507,"creation_date":1698032507,"answer_id":77342530,"question_id":77342516,"body_markdown":"Create your own function:\r\n\r\n```java\r\nboolean isDigitsOnly(String str){\r\n  int number = 0;\r\n  try {\r\n    if(str == null){\r\n      return false;\r\n    }\r\n    Integer.parseInt(str);\r\n    return true;\r\n  } catch (NumberFormatException e) {\r\n    return false;\r\n  }\r\n}\r\n```","title":"Is there a Method of verifying if a string contains only numbers in Java?","body":"<p>Create your own function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isDigitsOnly(String str){\n  int number = 0;\n  try {\n    if(str == null){\n      return false;\n    }\n    Integer.parseInt(str);\n    return true;\n  } catch (NumberFormatException e) {\n    return false;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1698033296,"post_id":77342560,"comment_id":136349280,"body_markdown":"Same cautionary note I left on [another answer](https://stackoverflow.com/questions/77342516/is-there-a-method-of-verifying-if-a-string-contains-only-digit-in-java#comment136349264_77342549). It&#39;s possible `Character#isDigit(char)` would work for the OP, but not according to the question as currently asked.","body":"Same cautionary note I left on <a href=\"https://stackoverflow.com/questions/77342516/is-there-a-method-of-verifying-if-a-string-contains-only-digit-in-java#comment136349264_77342549\">another answer</a>. It&#39;s possible <code>Character#isDigit(char)</code> would work for the OP, but not according to the question as currently asked."}],"tags":[],"owner":{"account_id":2752028,"reputation":1050,"user_id":2371196,"display_name":"Mehran Khan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1698033478,"creation_date":1698033242,"answer_id":77342560,"question_id":77342516,"body_markdown":"Since there is no built-in method available in Java to check if the given string has only digits or not? but you can shorten the logic using without regular expression. \r\n\r\nIn below code, the **isDigit** method checks if all characters in the string are digits using the **str.chars().allMatch(Character::isDigit)** expression. It returns true if all characters are digits and false if any character is not a digit. This method is concise and checks the entire string in a single line of code.\r\n    \r\n    public static boolean isDigit(String str) {\r\n        return str.chars().allMatch(Character::isDigit);\r\n    }","title":"Is there a Method of verifying if a string contains only numbers in Java?","body":"<p>Since there is no built-in method available in Java to check if the given string has only digits or not? but you can shorten the logic using without regular expression.</p>\n<p>In below code, the <strong>isDigit</strong> method checks if all characters in the string are digits using the <strong>str.chars().allMatch(Character::isDigit)</strong> expression. It returns true if all characters are digits and false if any character is not a digit. This method is concise and checks the entire string in a single line of code.</p>\n<pre><code>public static boolean isDigit(String str) {\n    return str.chars().allMatch(Character::isDigit);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698209940,"creation_date":1698119113,"answer_id":77349407,"question_id":77342516,"body_markdown":"&gt; _&quot;... How do I check if a String contains only numbers (0 -9) without using regular expression in Java? ...&quot;_\r\n\r\nUse a _loop_, and the _[Character#isDigit](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#isDigit(char))_ method.\r\n\r\n```java\r\nboolean isDigit(String s) {\r\n    int i = 0, n = s.length();\r\n    do if (!Character.isDigit(s.charAt(i))) return false;\r\n    while (++i &gt; n);\r\n    return true;\r\n}\r\n```\r\n\r\nOr, use a _String_.\r\n\r\n```java\r\nboolean isDigit(String s) {\r\n    String d = &quot;0123456789&quot;;\r\n    int i = 0, n = s.length();\r\n    do if (!d.contains(String.valueOf(s.charAt(i)))) return false;\r\n    while (++i &gt; n);\r\n    return true;\r\n}\r\n```\r\n\r\nOr, a _stream_.\r\n\r\n```java\r\nboolean isDigit(String s) {\r\n    return s.chars().allMatch(Character::isDigit);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nisDigit(&quot;asdf123&quot;) = false\r\nisDigit(&quot;123&quot;) = true\r\n```","title":"Is there a Method of verifying if a string contains only numbers in Java?","body":"<blockquote>\n<p><em>&quot;... How do I check if a String contains only numbers (0 -9) without using regular expression in Java? ...&quot;</em></p>\n</blockquote>\n<p>Use a <em>loop</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#isDigit(char)\" rel=\"nofollow noreferrer\">Character#isDigit</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isDigit(String s) {\n    int i = 0, n = s.length();\n    do if (!Character.isDigit(s.charAt(i))) return false;\n    while (++i &gt; n);\n    return true;\n}\n</code></pre>\n<p>Or, use a <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isDigit(String s) {\n    String d = &quot;0123456789&quot;;\n    int i = 0, n = s.length();\n    do if (!d.contains(String.valueOf(s.charAt(i)))) return false;\n    while (++i &gt; n);\n    return true;\n}\n</code></pre>\n<p>Or, a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isDigit(String s) {\n    return s.chars().allMatch(Character::isDigit);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>isDigit(&quot;asdf123&quot;) = false\nisDigit(&quot;123&quot;) = true\n</code></pre>\n"}],"owner":{"account_id":29731780,"reputation":1,"user_id":22786190,"display_name":"oseghale aloysius"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1698149258,"accepted_answer_id":77342560,"answer_count":3,"score":-4,"last_activity_date":1698209940,"creation_date":1698032080,"question_id":77342516,"body_markdown":"How do I check if a String contains only numbers (0 -9) without using regular expression in Java?\r\n\r\nI should be able to do:\r\n```\r\nString str = &quot;asdf123&quot;;\r\nstr.isDigit() //which should return false\r\n\r\nString str = &quot;123&quot;;\r\nstr.isDigit() //which should return true\r\n```","title":"Is there a Method of verifying if a string contains only numbers in Java?","body":"<p>How do I check if a String contains only numbers (0 -9) without using regular expression in Java?</p>\n<p>I should be able to do:</p>\n<pre><code>String str = &quot;asdf123&quot;;\nstr.isDigit() //which should return false\n\nString str = &quot;123&quot;;\nstr.isDigit() //which should return true\n</code></pre>\n"},{"tags":["java","android","react-native","react-native-modules"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698235106,"post_id":77356712,"comment_id":136378840,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26938804,"reputation":1,"user_id":20510003,"display_name":"Hari Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698209883,"creation_date":1698209883,"question_id":77356712,"body_markdown":"I want to get the details of the current playing audio in Android device if it&#39;s possible in react native or native modules bridge using java if it is possible get the package name app from which app is playing the audio\r\n\r\nI have trying through the AI but &#128078;","title":"Get play back details","body":"<p>I want to get the details of the current playing audio in Android device if it's possible in react native or native modules bridge using java if it is possible get the package name app from which app is playing the audio</p>\n<p>I have trying through the AI but </p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1497616565,"post_id":44589381,"comment_id":76166462,"body_markdown":"You are trying deserialize `List` into `Student`","body":"You are trying deserialize <code>List</code> into <code>Student</code>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1497616694,"post_id":44589381,"comment_id":76166555,"body_markdown":"Specifically: `mapper.readValue(jsonString, Student.class)`  serializes a Student, not &quot;a Student, or List of Students if the json looks like a List.&quot; You should use a [TypeReference](https://fasterxml.github.io/jackson-core/javadoc/2.0.0/com/fasterxml/jackson/core/type/TypeReference.html).","body":"Specifically: <code>mapper.readValue(jsonString, Student.class)</code>  serializes a Student, not &quot;a Student, or List of Students if the json looks like a List.&quot; You should use a <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.0.0/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">TypeReference</a>."},{"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"score":0,"creation_date":1497616938,"post_id":44589381,"comment_id":76166700,"body_markdown":"@yshavit: -I have updated the question. Sorry for that. Please look into it once again.","body":"@yshavit: -I have updated the question. Sorry for that. Please look into it once again."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1497617023,"post_id":44589381,"comment_id":76166742,"body_markdown":"Your JSON doesn&#39;t look like `{&quot;participantList&quot; : []}`. That&#39;s what the error is trying to tell you","body":"Your JSON doesn&#39;t look like <code>{&quot;participantList&quot; : []}</code>. That&#39;s what the error is trying to tell you"},{"owner":{"account_id":12291783,"reputation":212,"user_id":8968815,"display_name":"Mehul Boghra"},"score":0,"creation_date":1587380761,"post_id":44589381,"comment_id":108479875,"body_markdown":"**here is working solution** [extract data from JSON string array](https://stackoverflow.com/a/61320877/8968815)","body":"<b>here is working solution</b> <a href=\"https://stackoverflow.com/a/61320877/8968815\">extract data from JSON string array</a>"},{"owner":{"account_id":12291783,"reputation":212,"user_id":8968815,"display_name":"Mehul Boghra"},"score":0,"creation_date":1587380956,"post_id":44589381,"comment_id":108479978,"body_markdown":"**Here is working solution.** [Extract data form JSON string array and convert into List](https://stackoverflow.com/a/61320877/8968815)","body":"<b>Here is working solution.</b> <a href=\"https://stackoverflow.com/a/61320877/8968815\">Extract data form JSON string array and convert into List</a>"}],"answers":[{"comments":[{"owner":{"account_id":1228802,"reputation":279,"user_id":1193815,"accept_rate":50,"display_name":"old_soul_on_the_run"},"score":0,"creation_date":1575923308,"post_id":44589454,"comment_id":104721684,"body_markdown":"perfect answer. Always works. But I have a follow-up question. What if Student POJO has a nested hashmap structure and jsonString has a piece which should be mapped to this nested hashmap. Can someone tell how can I achieve that?","body":"perfect answer. Always works. But I have a follow-up question. What if Student POJO has a nested hashmap structure and jsonString has a piece which should be mapped to this nested hashmap. Can someone tell how can I achieve that?"},{"owner":{"account_id":1228802,"reputation":279,"user_id":1193815,"accept_rate":50,"display_name":"old_soul_on_the_run"},"score":1,"creation_date":1575925781,"post_id":44589454,"comment_id":104722706,"body_markdown":"Well, I understood what I was trying to achieve. I had to change the JSON structure (which I had the liberty to). [ { &quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;XYZ&quot;, &quot;thisHasToBeHashMap&quot; : { &quot;key1&quot; : &quot;value1&quot; , &quot;key2&quot; :&quot;value2&quot; } }]  Having this structure is implicitly converted using TypeReference&lt;List&lt;Student&gt;&gt;","body":"Well, I understood what I was trying to achieve. I had to change the JSON structure (which I had the liberty to). [ { &quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;XYZ&quot;, &quot;thisHasToBeHashMap&quot; : { &quot;key1&quot; : &quot;value1&quot; , &quot;key2&quot; :&quot;value2&quot; } }]  Having this structure is implicitly converted using TypeReference&lt;List&lt;Student&gt;&gt;"},{"owner":{"account_id":7222862,"reputation":514,"user_id":5512649,"display_name":"Kxrr"},"score":0,"creation_date":1648881263,"post_id":44589454,"comment_id":126740456,"body_markdown":"It can be simplified to `List&lt;Student&gt; participantJsonList = mapper.readValue(jsonString, new TypeReference&lt;&gt;(){});`","body":"It can be simplified to <code>List&lt;Student&gt; participantJsonList = mapper.readValue(jsonString, new TypeReference&lt;&gt;(){});</code>"}],"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"comment_count":3,"down_vote_count":0,"up_vote_count":164,"is_accepted":true,"score":164,"last_activity_date":1563198991,"creation_date":1497616660,"answer_id":44589454,"question_id":44589381,"body_markdown":"You are asking Jackson to parse a `StudentList`. Tell it to parse a `List` (of students) instead. Since `List` is generic you will typically use a [TypeReference](https://fasterxml.github.io/jackson-core/javadoc/2.9/com/fasterxml/jackson/core/type/TypeReference.html)\r\n\r\n    List&lt;Student&gt; participantJsonList = mapper.readValue(jsonString, new TypeReference&lt;List&lt;Student&gt;&gt;(){});","title":"How to convert JSON string into List of Java object?","body":"<p>You are asking Jackson to parse a <code>StudentList</code>. Tell it to parse a <code>List</code> (of students) instead. Since <code>List</code> is generic you will typically use a <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.9/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"noreferrer\">TypeReference</a></p>\n\n<pre><code>List&lt;Student&gt; participantJsonList = mapper.readValue(jsonString, new TypeReference&lt;List&lt;Student&gt;&gt;(){});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8888442,"reputation":465,"user_id":6635967,"display_name":"HRoux"},"score":0,"creation_date":1538501007,"post_id":50903714,"comment_id":92161084,"body_markdown":"This solution is more simple [StackOverflow](https://stackoverflow.com/a/14673950/6635967). It use `TypeToken` classe.","body":"This solution is more simple <a href=\"https://stackoverflow.com/a/14673950/6635967\">StackOverflow</a>. It use <code>TypeToken</code> classe."}],"tags":[],"owner":{"account_id":1510102,"reputation":709,"user_id":1412450,"display_name":"Pankaj Jaiswal"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1529303282,"creation_date":1529303282,"answer_id":50903714,"question_id":44589381,"body_markdown":"You can also use Gson for this scenario.\r\n\r\n    Gson gson = new Gson();\r\n    NameList nameList = gson.fromJson(data, NameList.class);\r\n    \r\n    List&lt;Name&gt; list = nameList.getList();\r\n\r\nYour NameList class could look like:\r\n\r\n    class NameList{\r\n     List&lt;Name&gt; list;\r\n     //getter and setter\r\n    }","title":"How to convert JSON string into List of Java object?","body":"<p>You can also use Gson for this scenario.</p>\n\n<pre><code>Gson gson = new Gson();\nNameList nameList = gson.fromJson(data, NameList.class);\n\nList&lt;Name&gt; list = nameList.getList();\n</code></pre>\n\n<p>Your NameList class could look like:</p>\n\n<pre><code>class NameList{\n List&lt;Name&gt; list;\n //getter and setter\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12206881,"reputation":840,"user_id":8909722,"display_name":"monstereo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544439465,"creation_date":1544439465,"answer_id":53704219,"question_id":44589381,"body_markdown":"    StudentList studentList = mapper.readValue(jsonString,StudentList.class);\n\n\nChange this to this one\n\n    StudentList studentList = mapper.readValue(jsonString, new TypeReference&lt;List&lt;Student&gt;&gt;(){});","title":"How to convert JSON string into List of Java object?","body":"<pre><code>StudentList studentList = mapper.readValue(jsonString,StudentList.class);\n</code></pre>\n\n<p>Change this to this one</p>\n\n<pre><code>StudentList studentList = mapper.readValue(jsonString, new TypeReference&lt;List&lt;Student&gt;&gt;(){});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13310217,"reputation":8815,"user_id":9608718,"display_name":"Alex Riabov"},"score":0,"creation_date":1545979296,"post_id":53954510,"comment_id":94747421,"body_markdown":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run.","body":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run."},{"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"score":0,"creation_date":1546065440,"post_id":53954510,"comment_id":94772252,"body_markdown":"@AlexRiabov have added the context to it.","body":"@AlexRiabov have added the context to it."}],"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546065412,"creation_date":1545978266,"answer_id":53954510,"question_id":44589381,"body_markdown":"I have resolved this one by creating the POJO class (Student.class) of the JSON and Main Class is used for read the values from the JSON in the problem.\r\n\r\n       **Main Class**\r\n\r\n    \tpublic static void main(String[] args) throws JsonParseException, \r\n           JsonMappingException, IOException {\r\n\r\n\t\tString jsonStr = &quot;[ \\r\\n&quot; + &quot;    {\\r\\n&quot; + &quot;        \\&quot;firstName\\&quot; : \\&quot;abc\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;        \\&quot;lastName\\&quot; : \\&quot;xyz\\&quot;\\r\\n&quot; + &quot;    }, \\r\\n&quot; + &quot;    {\\r\\n&quot;\r\n\t\t\t\t+ &quot;        \\&quot;firstName\\&quot; : \\&quot;pqr\\&quot;,\\r\\n&quot; + &quot;        \\&quot;lastName\\&quot; : \\&quot;str\\&quot;\\r\\n&quot; + &quot;    } \\r\\n&quot; + &quot;]&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tList&lt;Student&gt; details = mapper.readValue(jsonStr, new \r\n          TypeReference&lt;List&lt;Student&gt;&gt;() { \t\t});\r\n\r\n\t\tfor (Student itr : details) {\r\n\r\n\t\t\tSystem.out.println(&quot;Value for getFirstName is: &quot; + \r\n                      itr.getFirstName());\r\n\t\t\tSystem.out.println(&quot;Value for getLastName  is: &quot; + \r\n                     itr.getLastName());\r\n\t\t}\r\n\t}\r\n\r\n    **RESULT:**\r\n             Value for getFirstName is: abc\r\n             Value for getLastName  is: xyz\r\n             Value for getFirstName is: pqr\r\n             Value for getLastName  is: str\r\n\r\n\r\n     **Student.class:**\r\n\r\n    public class Student {\r\n\tprivate String lastName;\r\n\r\n\tprivate String firstName;\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t} }\r\n\r\n    ","title":"How to convert JSON string into List of Java object?","body":"<p>I have resolved this one by creating the POJO class (Student.class) of the JSON and Main Class is used for read the values from the JSON in the problem.</p>\n\n<pre><code>   **Main Class**\n\n    public static void main(String[] args) throws JsonParseException, \n       JsonMappingException, IOException {\n\n    String jsonStr = \"[ \\r\\n\" + \"    {\\r\\n\" + \"        \\\"firstName\\\" : \\\"abc\\\",\\r\\n\"\n            + \"        \\\"lastName\\\" : \\\"xyz\\\"\\r\\n\" + \"    }, \\r\\n\" + \"    {\\r\\n\"\n            + \"        \\\"firstName\\\" : \\\"pqr\\\",\\r\\n\" + \"        \\\"lastName\\\" : \\\"str\\\"\\r\\n\" + \"    } \\r\\n\" + \"]\";\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    List&lt;Student&gt; details = mapper.readValue(jsonStr, new \n      TypeReference&lt;List&lt;Student&gt;&gt;() {      });\n\n    for (Student itr : details) {\n\n        System.out.println(\"Value for getFirstName is: \" + \n                  itr.getFirstName());\n        System.out.println(\"Value for getLastName  is: \" + \n                 itr.getLastName());\n    }\n}\n\n**RESULT:**\n         Value for getFirstName is: abc\n         Value for getLastName  is: xyz\n         Value for getFirstName is: pqr\n         Value for getLastName  is: str\n\n\n **Student.class:**\n\npublic class Student {\nprivate String lastName;\n\nprivate String firstName;\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic String getFirstName() {\n    return firstName;\n} }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5173977,"reputation":116,"user_id":4141729,"display_name":"Arun Kumar"},"score":0,"creation_date":1688705602,"post_id":57618096,"comment_id":135112394,"body_markdown":"This is really a good option among others because this is a simple generic function for any POJO Class","body":"This is really a good option among others because this is a simple generic function for any POJO Class"}],"tags":[],"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566516012,"creation_date":1566516012,"answer_id":57618096,"question_id":44589381,"body_markdown":"I made a method to do this below called `jsonArrayToObjectList`. Its a handy static class that will take a filename and the file contains an array in JSON form.\r\n\r\n     List&lt;Items&gt; items = jsonArrayToObjectList(\r\n                &quot;domain/ItemsArray.json&quot;,  Item.class);\r\n\r\n        public static &lt;T&gt; List&lt;T&gt; jsonArrayToObjectList(String jsonFileName, Class&lt;T&gt; tClass) throws IOException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            final File file = ResourceUtils.getFile(&quot;classpath:&quot; + jsonFileName);\r\n            CollectionType listType = mapper.getTypeFactory()\r\n                .constructCollectionType(ArrayList.class, tClass);\r\n            List&lt;T&gt; ts = mapper.readValue(file, listType);\r\n            return ts;\r\n        }","title":"How to convert JSON string into List of Java object?","body":"<p>I made a method to do this below called <code>jsonArrayToObjectList</code>. Its a handy static class that will take a filename and the file contains an array in JSON form.</p>\n\n<pre><code> List&lt;Items&gt; items = jsonArrayToObjectList(\n            \"domain/ItemsArray.json\",  Item.class);\n\n    public static &lt;T&gt; List&lt;T&gt; jsonArrayToObjectList(String jsonFileName, Class&lt;T&gt; tClass) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        final File file = ResourceUtils.getFile(\"classpath:\" + jsonFileName);\n        CollectionType listType = mapper.getTypeFactory()\n            .constructCollectionType(ArrayList.class, tClass);\n        List&lt;T&gt; ts = mapper.readValue(file, listType);\n        return ts;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13502613,"reputation":29,"user_id":9741661,"display_name":"&#224;o c Huy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573798867,"creation_date":1573798867,"answer_id":58871376,"question_id":44589381,"body_markdown":"Try this. It works with me. Hope you too!\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    List&lt;YOUR_OBJECT&gt; testList = new ArrayList&lt;&gt;();\r\n    testList.add(test1);\r\n\r\n    Gson gson = new Gson();\r\n\r\n    String json = gson.toJson(testList);\r\n\r\n    Type type = new TypeToken&lt;ArrayList&lt;YOUR_OBJECT&gt;&gt;(){}.getType();\r\n\r\n    ArrayList&lt;YOUR_OBJECT&gt; array = gson.fromJson(json, type);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to convert JSON string into List of Java object?","body":"<p>Try this. It works with me. Hope you too!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>List&lt;YOUR_OBJECT&gt; testList = new ArrayList&lt;&gt;();\r\ntestList.add(test1);\r\n\r\nGson gson = new Gson();\r\n\r\nString json = gson.toJson(testList);\r\n\r\nType type = new TypeToken&lt;ArrayList&lt;YOUR_OBJECT&gt;&gt;(){}.getType();\r\n\r\nArrayList&lt;YOUR_OBJECT&gt; array = gson.fromJson(json, type);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1721698,"reputation":3579,"user_id":1577363,"display_name":"erhun"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574270050,"creation_date":1574270050,"answer_id":58959917,"question_id":44589381,"body_markdown":"You can use below class to read list of objects. It contains static method to read a list with some specific object type. It is included Jdk8Module changes which provide new time class supports too. It is a clean and generic class.\r\n\r\n    List&lt;Student&gt; students = JsonMapper.readList(jsonString, Student.class);\r\n\r\n\r\nGeneric JsonMapper class:\r\n\r\n\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    public class JsonMapper {\r\n    \r\n    \tpublic static &lt;T&gt; List&lt;T&gt; readList(String str, Class&lt;T&gt; type) {\r\n    \t\treturn readList(str, ArrayList.class, type);\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; List&lt;T&gt; readList(String str, Class&lt;? extends Collection&gt; type, Class&lt;T&gt; elementType) {\r\n    \t\tfinal ObjectMapper mapper = newMapper();\r\n    \t\ttry {\r\n    \t\t\treturn mapper.readValue(str, mapper.getTypeFactory().constructCollectionType(type, elementType));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static ObjectMapper newMapper() {\r\n    \t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\tmapper.registerModule(new JavaTimeModule());\r\n    \t\tmapper.registerModule(new Jdk8Module());\r\n    \t\treturn mapper;\r\n    \t}\r\n    }\r\n\r\n","title":"How to convert JSON string into List of Java object?","body":"<p>You can use below class to read list of objects. It contains static method to read a list with some specific object type. It is included Jdk8Module changes which provide new time class supports too. It is a clean and generic class.</p>\n\n<pre><code>List&lt;Student&gt; students = JsonMapper.readList(jsonString, Student.class);\n</code></pre>\n\n<p>Generic JsonMapper class:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\n\nimport java.io.IOException;\nimport java.util.*;\n\nimport java.util.Collection;\n\npublic class JsonMapper {\n\n    public static &lt;T&gt; List&lt;T&gt; readList(String str, Class&lt;T&gt; type) {\n        return readList(str, ArrayList.class, type);\n    }\n\n    public static &lt;T&gt; List&lt;T&gt; readList(String str, Class&lt;? extends Collection&gt; type, Class&lt;T&gt; elementType) {\n        final ObjectMapper mapper = newMapper();\n        try {\n            return mapper.readValue(str, mapper.getTypeFactory().constructCollectionType(type, elementType));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static ObjectMapper newMapper() {\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.registerModule(new JavaTimeModule());\n        mapper.registerModule(new Jdk8Module());\n        return mapper;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1607347012,"creation_date":1583064643,"answer_id":60474956,"question_id":44589381,"body_markdown":"For any one who looks for answer yet:\r\n\r\n1.Add `jackson-databind` library to your build tools like Gradle or Maven\r\n\r\n2.in your Code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n    \r\n    studentList = Arrays.asList(mapper.readValue(jsonStringArray, Student[].class));","title":"How to convert JSON string into List of Java object?","body":"<p>For any one who looks for answer yet:</p>\n<p>1.Add <code>jackson-databind</code> library to your build tools like Gradle or Maven</p>\n<p>2.in your Code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\nList&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\n\nstudentList = Arrays.asList(mapper.readValue(jsonStringArray, Student[].class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":3,"creation_date":1586855974,"post_id":60505083,"comment_id":108274690,"body_markdown":"&quot;No need to use any library&quot;... but you&#39;re very clearly using GSON (which already has an answer provided above)?!","body":"&quot;No need to use any library&quot;... but you&#39;re very clearly using GSON (which already has an answer provided above)?!"}],"tags":[],"owner":{"account_id":17095722,"reputation":954,"user_id":12370758,"display_name":"Prakash Reddy"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1639319476,"creation_date":1583231117,"answer_id":60505083,"question_id":44589381,"body_markdown":"use below simple code, no need to use any other library, besides GSON\r\n\r\n    String list = &quot;your_json_string&quot;;\r\n    Gson gson = new Gson();                         \r\n    Type listType = new TypeToken&lt;ArrayList&lt;YourClassObject&gt;&gt;() {}.getType();\r\n    ArrayList&lt;YourClassObject&gt; users = new Gson().fromJson(list , listType);","title":"How to convert JSON string into List of Java object?","body":"<p>use below simple code, no need to use any other library, besides GSON</p>\n<pre><code>String list = &quot;your_json_string&quot;;\nGson gson = new Gson();                         \nType listType = new TypeToken&lt;ArrayList&lt;YourClassObject&gt;&gt;() {}.getType();\nArrayList&lt;YourClassObject&gt; users = new Gson().fromJson(list , listType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17309799,"reputation":1051,"user_id":12537691,"display_name":"pradeexsu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658283563,"creation_date":1658283197,"answer_id":73045282,"question_id":44589381,"body_markdown":"### Gson only Solution\r\n\r\nthe safest way is to iterate over json array by `JsonParser.parseString(jsonString).getAsJsonArray()` and parase it&#39;s elements one by one by checking `jsonObject.has(&quot;key&quot;)`.\r\n```\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport lombok.Data;\r\n```\r\n\r\n```\r\n@Data\r\nclass Foo {\r\n    String bar;\r\n    Double tar;\r\n}\r\n```\r\n```java\r\nJsonArray jsonArray = JsonParser.parseString(jsonString).getAsJsonArray();\r\nList&lt;Foo&gt; objects = new ArrayList&lt;&gt;();\r\njsonArray.forEach(jsonElement -&gt; {\r\n    objectList.add(JsonToObject(jsonElement.getAsJsonObject()));\r\n});\r\n```\r\n\r\n```\r\nFoo parseJsonToFoo(JsonObject jsonObject) {\r\n    Foo foo = new Foo();\r\n    if (jsonObject.has(&quot;bar&quot;)) {\r\n        String data = jsonObject.get(&quot;bar&quot;).getAsString();\r\n        foo.setBar(data);\r\n    }\r\n    if (jsonObject.has(&quot;tar&quot;)) {\r\n        Double data = jsonObject.get(&quot;tar&quot;).getAsDouble();\r\n        foo.setTar(data);\r\n    }\r\n    return foo;\r\n}\r\n```","title":"How to convert JSON string into List of Java object?","body":"<h3>Gson only Solution</h3>\n<p>the safest way is to iterate over json array by <code>JsonParser.parseString(jsonString).getAsJsonArray()</code> and parase it's elements one by one by checking <code>jsonObject.has(&quot;key&quot;)</code>.</p>\n<pre><code>import com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport lombok.Data;\n</code></pre>\n<pre><code>@Data\nclass Foo {\n    String bar;\n    Double tar;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>JsonArray jsonArray = JsonParser.parseString(jsonString).getAsJsonArray();\nList&lt;Foo&gt; objects = new ArrayList&lt;&gt;();\njsonArray.forEach(jsonElement -&gt; {\n    objectList.add(JsonToObject(jsonElement.getAsJsonObject()));\n});\n</code></pre>\n<pre><code>Foo parseJsonToFoo(JsonObject jsonObject) {\n    Foo foo = new Foo();\n    if (jsonObject.has(&quot;bar&quot;)) {\n        String data = jsonObject.get(&quot;bar&quot;).getAsString();\n        foo.setBar(data);\n    }\n    if (jsonObject.has(&quot;tar&quot;)) {\n        Double data = jsonObject.get(&quot;tar&quot;).getAsDouble();\n        foo.setTar(data);\n    }\n    return foo;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18785448,"reputation":91,"user_id":13699145,"display_name":"Shivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698209333,"creation_date":1698209333,"answer_id":77356681,"question_id":44589381,"body_markdown":"    In your json , top most element name should be matched with the name of variable in your wrapper class. That will Jacson to convert my json into participantJsonList.\r\n    {\r\n    &quot;participantJsonList&quot; : [ \r\n        {\r\n            &quot;firstName&quot; : &quot;abc&quot;,\r\n            &quot;lastName&quot; : &quot;xyz&quot;\r\n        }, \r\n        {\r\n            &quot;firstName&quot; : &quot;pqr&quot;,\r\n            &quot;lastName&quot; : &quot;str&quot;\r\n        } \r\n    ]\r\n    }","title":"How to convert JSON string into List of Java object?","body":"<pre><code>In your json , top most element name should be matched with the name of variable in your wrapper class. That will Jacson to convert my json into participantJsonList.\n{\n&quot;participantJsonList&quot; : [ \n    {\n        &quot;firstName&quot; : &quot;abc&quot;,\n        &quot;lastName&quot; : &quot;xyz&quot;\n    }, \n    {\n        &quot;firstName&quot; : &quot;pqr&quot;,\n        &quot;lastName&quot; : &quot;str&quot;\n    } \n]\n}\n</code></pre>\n"}],"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302120,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":44589454,"answer_count":11,"score":86,"last_activity_date":1698209333,"creation_date":1497616460,"question_id":44589381,"body_markdown":"This is my JSON Array  :- \r\n\r\n    [ \r\n    \t{\r\n    \t\t&quot;firstName&quot; : &quot;abc&quot;,\r\n\t    \t&quot;lastName&quot; : &quot;xyz&quot;\r\n    \t}, \r\n    \t{\r\n    \t\t&quot;firstName&quot; : &quot;pqr&quot;,\r\n    \t\t&quot;lastName&quot; : &quot;str&quot;\r\n    \t} \r\n    ]\r\n\r\nI have this in my String object. Now I want to convert it into Java object and store it in List of java object. e.g. In Student object.\r\nI am using below code to convert it into List of Java object : - \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\tStudentList studentList = mapper.readValue(jsonString, StudentList.class);\r\n\r\nMy List class is:- \r\n\r\n    public class StudentList {\r\n\r\n\t\tprivate List&lt;Student&gt; participantList = new ArrayList&lt;Student&gt;();\r\n\t\r\n\t\t//getters and setters\r\n\t}\r\n\r\nMy Student object is: -\r\n\r\n    class Student {\r\n\r\n\t\tString firstName;\r\n\t\tString lastName;\r\n\t\r\n\t\t//getters and setters\r\n\t}\r\n\r\nAm I missing something here?\r\nI am getting below exception: -\r\n\r\n    Exception : com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of com.aa.Student out of START_ARRAY token\r\n","title":"How to convert JSON string into List of Java object?","body":"<p>This is my JSON Array  :- </p>\n\n<pre><code>[ \n    {\n        \"firstName\" : \"abc\",\n        \"lastName\" : \"xyz\"\n    }, \n    {\n        \"firstName\" : \"pqr\",\n        \"lastName\" : \"str\"\n    } \n]\n</code></pre>\n\n<p>I have this in my String object. Now I want to convert it into Java object and store it in List of java object. e.g. In Student object.\nI am using below code to convert it into List of Java object : - </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nStudentList studentList = mapper.readValue(jsonString, StudentList.class);\n</code></pre>\n\n<p>My List class is:- </p>\n\n<pre><code>public class StudentList {\n\n    private List&lt;Student&gt; participantList = new ArrayList&lt;Student&gt;();\n\n    //getters and setters\n}\n</code></pre>\n\n<p>My Student object is: -</p>\n\n<pre><code>class Student {\n\n    String firstName;\n    String lastName;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>Am I missing something here?\nI am getting below exception: -</p>\n\n<pre><code>Exception : com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of com.aa.Student out of START_ARRAY token\n</code></pre>\n"},{"tags":["java","spring-mvc","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677001975,"creation_date":1677001975,"answer_id":75524164,"question_id":75523843,"body_markdown":"It is unlikely to work and certainly not supported; 1.3.4 is nearly 10 years old.\r\n\r\nThe last 1.x release was 1.7.14 over 2 years ago.\r\n\r\nhttps://spring.io/projects/spring-amqp#support\r\n\r\nYou should upgrade to a supported release ASAP.","title":"Version Compatibility between spring-rabbit and com.rabbitmq","body":"<p>It is unlikely to work and certainly not supported; 1.3.4 is nearly 10 years old.</p>\n<p>The last 1.x release was 1.7.14 over 2 years ago.</p>\n<p><a href=\"https://spring.io/projects/spring-amqp#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-amqp#support</a></p>\n<p>You should upgrade to a supported release ASAP.</p>\n"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698209169,"creation_date":1676999965,"question_id":75523843,"body_markdown":"I&#39;m using below  rabbitmq dependency in my application.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.4.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\nNow due to some critical vulnerability I have to upgrade both the dependency.\r\n\r\nI can&#39;t upgrade ```&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;``` because upgrade requires code change.\r\n\r\nif I upgrade ***com.rabbitmq*** application build and deployment both are successful. \r\n\r\nso now I can upgrade ***com.rabbitmq*** to higher verion(version should be greater than 4.8.0)\r\n\r\nIs it okay to upgrade ***com.rabbitmq*** to higher version(&gt; 4.8.0) when we have spring-rabbit 1.3.4.RELEASE?","title":"Version Compatibility between spring-rabbit and com.rabbitmq","body":"<p>I'm using below  rabbitmq dependency in my application.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;1.3.4.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n                    &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n            &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>Now due to some critical vulnerability I have to upgrade both the dependency.</p>\n<p>I can't upgrade <code>&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;</code> because upgrade requires code change.</p>\n<p>if I upgrade <em><strong>com.rabbitmq</strong></em> application build and deployment both are successful.</p>\n<p>so now I can upgrade <em><strong>com.rabbitmq</strong></em> to higher verion(version should be greater than 4.8.0)</p>\n<p>Is it okay to upgrade <em><strong>com.rabbitmq</strong></em> to higher version(&gt; 4.8.0) when we have spring-rabbit 1.3.4.RELEASE?</p>\n"},{"tags":["java","swing","jscrollpane","jquery-jscrollpane","virtualscroll"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1698211165,"post_id":77356670,"comment_id":136374747,"body_markdown":"I would think that using a flag would solve the problem, but I assume that it does not. Can you [edit] your question and post a [mcve]? Then I can reproduce your problem and debug it. I assume that your &quot;data&quot; comes from a database. If so, then in the code that you post you should hard-code the data to load.","body":"I would think that using a flag would solve the problem, but I assume that it does not. Can you <a href=\"https://stackoverflow.com/posts/77356670/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Then I can reproduce your problem and debug it. I assume that your &quot;data&quot; comes from a database. If so, then in the code that you post you should hard-code the data to load."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1698221875,"post_id":77356670,"comment_id":136376253,"body_markdown":"I suspect you&#39;re blocking the Event Dispatch Thread when loading data.  I second the call for a complete [mre] that we can compile, run, and execute trillions of tests to see where the problems lie.","body":"I suspect you&#39;re blocking the Event Dispatch Thread when loading data.  I second the call for a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can compile, run, and execute trillions of tests to see where the problems lie."},{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1698227773,"post_id":77356670,"comment_id":136377446,"body_markdown":"Could this be a XY problem? Consider your main goal (are you just trying to lazy load a list) and maybe there is a better approach to that (e.g. working with a ListModel instead)","body":"Could this be a XY problem? Consider your main goal (are you just trying to lazy load a list) and maybe there is a better approach to that (e.g. working with a ListModel instead)"},{"owner":{"account_id":9555707,"reputation":3,"user_id":7098249,"display_name":"slow_learner"},"score":0,"creation_date":1698321415,"post_id":77356670,"comment_id":136392156,"body_markdown":"My goal is to disable or stop MouseWheelListener/MouseWheelEvent from listening. I changed my implementation to use MouseWheelListener instead of AdjustmentListener. I am facing the same issue with both the approach. \n\nI have a list of records, once I reach a specific record, I want the listener to stop listening anymore scroll/mouse drag events.\n\n\nMouseWheelListener mouseListener = new MouseWheelListener() {\n      @Override\n      public void mouseWheelMoved(MouseWheelEvent e) {\n\t  //if a specific record is found, do not listen to further mouse scroll events\n\t  }\n\t  }","body":"My goal is to disable or stop MouseWheelListener/MouseWheelEvent from listening. I changed my implementation to use MouseWheelListener instead of AdjustmentListener. I am facing the same issue with both the approach.   I have a list of records, once I reach a specific record, I want the listener to stop listening anymore scroll/mouse drag events.   MouseWheelListener mouseListener = new MouseWheelListener() {       @Override       public void mouseWheelMoved(MouseWheelEvent e) { \t  //if a specific record is found, do not listen to further mouse scroll events \t  } \t  }"}],"owner":{"account_id":9555707,"reputation":3,"user_id":7098249,"display_name":"slow_learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698209082,"creation_date":1698209082,"question_id":77356670,"body_markdown":"I have a code to load data when scroll is performed. Suppose I scroll, the loadData method is called and is in progress. If during this time I keep scrolling, even though the scrollbar is not moving the loadData method gets called multiple times. I assume all the scroll events are stored somewhere and then executed one after the other. I want the scroll event to stop once the call is made to loadData.\r\n    \r\n\tverticalScrollBar.addAdjustmentListener(e -&gt; {\r\n      if (!e.getValueIsAdjusting()) {\r\n        loadData();\r\n      }\r\n    });\r\n\r\nMy goal is to  reload the list for which this JScrollPane is used. I am implementing virtual scrolling. Initially I load few records and then on scroll I load records in batches. With the issue I am facing it calls the method loadData multiple times hence it loads more records than what I require adding a delay. I want all the scroll events to be nullified or removed as soon as the loadData method starts execution.\r\n\r\n\r\n- I tried using a wait dialogue to avoid further scrolling once call is made to loadData method.\r\n- I tried removing the listener using removeAdjustmentListener(), with this implementation the call does not even enter addAdjustmentListener.\r\n- I tried setting a flag &#39;loadInProgress &#39;.\r\n\r\n```\r\n    \r\n\tboolean loadInProgress = false;\r\n\tverticalScrollBar.addAdjustmentListener(e -&gt; {\r\n\t\tif(loadInProgress)\r\n\t\t\treturn;\r\n      if (!e.getValueIsAdjusting()) {\r\n\t\tloadInProgress = true;\r\n        loadData();\r\n\t\tloadInProgress = false;\r\n      }\r\n    });\r\n```\r\n\r\n","title":"How to implement temporarily disabling AdjustmentListener of JScrollPane in Java Swing","body":"<p>I have a code to load data when scroll is performed. Suppose I scroll, the loadData method is called and is in progress. If during this time I keep scrolling, even though the scrollbar is not moving the loadData method gets called multiple times. I assume all the scroll events are stored somewhere and then executed one after the other. I want the scroll event to stop once the call is made to loadData.</p>\n<pre><code>verticalScrollBar.addAdjustmentListener(e -&gt; {\n  if (!e.getValueIsAdjusting()) {\n    loadData();\n  }\n});\n</code></pre>\n<p>My goal is to  reload the list for which this JScrollPane is used. I am implementing virtual scrolling. Initially I load few records and then on scroll I load records in batches. With the issue I am facing it calls the method loadData multiple times hence it loads more records than what I require adding a delay. I want all the scroll events to be nullified or removed as soon as the loadData method starts execution.</p>\n<ul>\n<li>I tried using a wait dialogue to avoid further scrolling once call is made to loadData method.</li>\n<li>I tried removing the listener using removeAdjustmentListener(), with this implementation the call does not even enter addAdjustmentListener.</li>\n<li>I tried setting a flag 'loadInProgress '.</li>\n</ul>\n<pre><code>    \n    boolean loadInProgress = false;\n    verticalScrollBar.addAdjustmentListener(e -&gt; {\n        if(loadInProgress)\n            return;\n      if (!e.getValueIsAdjusting()) {\n        loadInProgress = true;\n        loadData();\n        loadInProgress = false;\n      }\n    });\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1698162909,"post_id":77353628,"comment_id":136369056,"body_markdown":"Might the reverse be simpler? Match for `.*(?:abc|def|ghi)`, then you can do `!pattern.matches(string)`.","body":"Might the reverse be simpler? Match for <code>.*(?:abc|def|ghi)</code>, then you can do <code>!pattern.matches(string)</code>."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1698163162,"post_id":77353628,"comment_id":136369104,"body_markdown":"Deploying a new version of the java code (that `!`) to production is a big hassle. If possible, I would prefer to change the regex in the app settings instead. Anyway, I can deploy to prod, if there&#39;s no other option.","body":"Deploying a new version of the java code (that <code>!</code>) to production is a big hassle. If possible, I would prefer to change the regex in the app settings instead. Anyway, I can deploy to prod, if there&#39;s no other option."}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1698167937,"post_id":77353804,"comment_id":136369955,"body_markdown":"Missing a `.*$` on the end of the pattern, otherwise this will match the empty string at the start of the line (since your lookahead just confirms what to match).","body":"Missing a <code>.*$</code> on the end of the pattern, otherwise this will match the empty string at the start of the line (since your lookahead just confirms what to match)."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698208024,"creation_date":1698164289,"answer_id":77353804,"question_id":77353628,"body_markdown":"just played a little in regex101.com and came up with this:\r\n```\r\n^(?!(.*(abc|def|ghi)$))\r\n```\r\n\r\n**Edit 25.10.2023**\r\nadded `.+$` to the end to not match an empty string\r\n\r\n```\r\n^(?!(.*(abc|def|ghi)$)).+$\r\n```","title":"Regex that doesn&#39;t match three endings","body":"<p>just played a little in regex101.com and came up with this:</p>\n<pre><code>^(?!(.*(abc|def|ghi)$))\n</code></pre>\n<p><strong>Edit 25.10.2023</strong>\nadded <code>.+$</code> to the end to not match an empty string</p>\n<pre><code>^(?!(.*(abc|def|ghi)$)).+$\n</code></pre>\n"}],"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1698164017,"answer_count":1,"score":-1,"last_activity_date":1698208024,"creation_date":1698162772,"question_id":77353628,"body_markdown":"How can I write a Java regex that matches lines that do not end in any of the three endings `abc`, `def`, ot `ghi`?\r\n\r\nFor example, the following cases should work as shown below:\r\n\r\n    1234abc     -- not valid  (ends with &#39;abc&#39;)\r\n    09mno       -- valid\r\n    ef          -- valid\r\n    def         -- not valid (ends with &#39;def&#39;)\r\n    hello       -- valid\r\n    helloghi    -- not valid (ends with &#39;ghi&#39;)\r\n    longertext  -- valid\r\n\r\n","title":"Regex that doesn&#39;t match three endings","body":"<p>How can I write a Java regex that matches lines that do not end in any of the three endings <code>abc</code>, <code>def</code>, ot <code>ghi</code>?</p>\n<p>For example, the following cases should work as shown below:</p>\n<pre><code>1234abc     -- not valid  (ends with 'abc')\n09mno       -- valid\nef          -- valid\ndef         -- not valid (ends with 'def')\nhello       -- valid\nhelloghi    -- not valid (ends with 'ghi')\nlongertext  -- valid\n</code></pre>\n"},{"tags":["java","spring-boot","out-of-memory","controller-advice"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1698177657,"post_id":77355015,"comment_id":136371637,"body_markdown":"When you&#39;re in an OutOfMemoryError condition there is not a guarantee that anything will properly run.  And attempting to do things like get the amount of memory usage and logging will likely fail.  I&#39;d advise an external process such as jvisualvm or others to see where you&#39;re using memory.","body":"When you&#39;re in an OutOfMemoryError condition there is not a guarantee that anything will properly run.  And attempting to do things like get the amount of memory usage and logging will likely fail.  I&#39;d advise an external process such as jvisualvm or others to see where you&#39;re using memory."}],"answers":[{"tags":[],"owner":{"account_id":14779482,"reputation":64,"user_id":10673322,"display_name":"rocco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698207215,"creation_date":1698207215,"answer_id":77356584,"question_id":77355015,"body_markdown":"By default, the @ExceptionHandler annotation can only handle regular exception types and cannot handle Error types such as OutOfMemoryError. This is because Error types generally indicate serious issues that cannot be recovered by catching and handling them.\r\nYou can use monitoring tools like VisualVM or JConsole to monitor memory usage and performance metrics of your application.","title":"java Spring boot - Use @controlleradvice to log outOfMemoryError","body":"<p>By default, the @ExceptionHandler annotation can only handle regular exception types and cannot handle Error types such as OutOfMemoryError. This is because Error types generally indicate serious issues that cannot be recovered by catching and handling them.\nYou can use monitoring tools like VisualVM or JConsole to monitor memory usage and performance metrics of your application.</p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77356584,"answer_count":1,"score":0,"last_activity_date":1698207215,"creation_date":1698176818,"question_id":77355015,"body_markdown":"I want to log some extra details like available memory when my spring boot application gets\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\nI tried using the following controlleradvice class and ran the projcet after limiting available memory. But this method is never called, the application gets OutOfMemoryError and crashes.\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler {\r\n\r\n\t@ExceptionHandler(OutOfMemoryError.class)\r\n\tpublic void outOfMemoryErrorHandler(final OutOfMemoryError exception) {\r\n        // log exception details with available memory \r\n\t\tthrow exception;\r\n\t }\r\n    }\r\n\r\nI am not sure why this method is never called. My assumption is, it&#39;s because OutOfMemoryError is never the top level at the exception stack trace. It is always some other kind of exception depending on where the error is coming from, but it&#39;s always caused by OutOfMemoryError.\r\nSo is there a way to always filter this error in Spring Boot so that no matter what the top level exception message says, if it is caused by OutOfMemoryError my custom error handler will be called?\r\nThanks\r\n","title":"java Spring boot - Use @controlleradvice to log outOfMemoryError","body":"<p>I want to log some extra details like available memory when my spring boot application gets</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>I tried using the following controlleradvice class and ran the projcet after limiting available memory. But this method is never called, the application gets OutOfMemoryError and crashes.</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler {\n\n@ExceptionHandler(OutOfMemoryError.class)\npublic void outOfMemoryErrorHandler(final OutOfMemoryError exception) {\n    // log exception details with available memory \n    throw exception;\n }\n}\n</code></pre>\n<p>I am not sure why this method is never called. My assumption is, it's because OutOfMemoryError is never the top level at the exception stack trace. It is always some other kind of exception depending on where the error is coming from, but it's always caused by OutOfMemoryError.\nSo is there a way to always filter this error in Spring Boot so that no matter what the top level exception message says, if it is caused by OutOfMemoryError my custom error handler will be called?\nThanks</p>\n"},{"tags":["java","tensorflow","object-detection","tflite"],"answers":[{"comments":[{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":1,"creation_date":1698328846,"post_id":77356548,"comment_id":136393807,"body_markdown":"Kinda forgot I even asked this here. You&#39;re right, my mistake was to export a &quot;standard&quot; model instead of a tflite one and I had to just use the tflite exporter. Thanks for closing this in case people have the same problem!","body":"Kinda forgot I even asked this here. You&#39;re right, my mistake was to export a &quot;standard&quot; model instead of a tflite one and I had to just use the tflite exporter. Thanks for closing this in case people have the same problem!"}],"tags":[],"owner":{"account_id":23568316,"reputation":171,"user_id":17608766,"display_name":"Joshua"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698206507,"creation_date":1698206507,"answer_id":77356548,"question_id":73614543,"body_markdown":"I was facing with this issue as I followed the step-by-step tutorial too. After investigating, I managed to change the input to [1,320,320,4].\r\n\r\nTo solve this issue, in the exporting step of [step-by-step tutorial][1], you must change the code from :\r\n```\r\npython .\\exporter_main_v2.py --input_type image_tensor --pipeline_config_path .\\models\\my_ssd_resnet50_v1_fpn\\pipeline.config --trained_checkpoint_dir .\\models\\my_ssd_resnet50_v1_fpn\\ --output_directory .\\exported-models\\my_model\r\n```\r\n\r\nto:\r\n```\r\npython .\\export_tflite_graph_tf2.py --pipeline_config_path .\\models\\my_ssd_resnet50_v1_fpn\\pipeline.config --trained_checkpoint_dir .\\models\\my_ssd_resnet50_v1_fpn\\ --output_directory .\\exported-models\\my_model\r\n```\r\n\r\nNote: *the export_tflite_graph_tf2 is located in tensorflow\\models\\research\\object_detection*\r\n\r\nAfter that, you may export this saved model.\r\n\r\nYou can validate the saved model input by using the below scripts in python:\r\n```\r\nimport tensorflow as tf\r\n\r\ninterpreter = tf.lite.Interpreter([Your tflite Model])\r\nprint(interpreter.get_input_details())\r\n\r\n&quot;&quot;&quot;expected result: [{&#39;name&#39;: &#39;serving_default_input:0&#39;, &#39;index&#39;: 0, &#39;shape&#39;: array([  1, 320, 320,   3]), &#39;shape_signature&#39;: array([  1, 320, 320,   3]), &#39;dtype&#39;: &lt;class &#39;numpy.float32&#39;&gt;, &#39;quantization&#39;: (0.0, 0), &#39;quantization_parameters&#39;: {&#39;scales&#39;: array([], dtype=float32), &#39;zero_points&#39;: array([], dtype=int32), &#39;quantized_dimension&#39;: 0}, &#39;sparsity_parameters&#39;: {}}]&quot;&quot;&quot;\r\n```\r\n\r\n  [1]: https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/training.html#exporting-a-trained-model","title":"TensorFlowLite tensor shapes make no sense (input: [1, 1, 1, 3])","body":"<p>I was facing with this issue as I followed the step-by-step tutorial too. After investigating, I managed to change the input to [1,320,320,4].</p>\n<p>To solve this issue, in the exporting step of <a href=\"https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/training.html#exporting-a-trained-model\" rel=\"nofollow noreferrer\">step-by-step tutorial</a>, you must change the code from :</p>\n<pre><code>python .\\exporter_main_v2.py --input_type image_tensor --pipeline_config_path .\\models\\my_ssd_resnet50_v1_fpn\\pipeline.config --trained_checkpoint_dir .\\models\\my_ssd_resnet50_v1_fpn\\ --output_directory .\\exported-models\\my_model\n</code></pre>\n<p>to:</p>\n<pre><code>python .\\export_tflite_graph_tf2.py --pipeline_config_path .\\models\\my_ssd_resnet50_v1_fpn\\pipeline.config --trained_checkpoint_dir .\\models\\my_ssd_resnet50_v1_fpn\\ --output_directory .\\exported-models\\my_model\n</code></pre>\n<p>Note: <em>the export_tflite_graph_tf2 is located in tensorflow\\models\\research\\object_detection</em></p>\n<p>After that, you may export this saved model.</p>\n<p>You can validate the saved model input by using the below scripts in python:</p>\n<pre><code>import tensorflow as tf\n\ninterpreter = tf.lite.Interpreter([Your tflite Model])\nprint(interpreter.get_input_details())\n\n&quot;&quot;&quot;expected result: [{'name': 'serving_default_input:0', 'index': 0, 'shape': array([  1, 320, 320,   3]), 'shape_signature': array([  1, 320, 320,   3]), 'dtype': &lt;class 'numpy.float32'&gt;, 'quantization': (0.0, 0), 'quantization_parameters': {'scales': array([], dtype=float32), 'zero_points': array([], dtype=int32), 'quantized_dimension': 0}, 'sparsity_parameters': {}}]&quot;&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77356548,"answer_count":1,"score":1,"last_activity_date":1698206507,"creation_date":1662410963,"question_id":73614543,"body_markdown":"I trained an object detection model using this [step-by-step tutorial][1] that detects one class: person. It works pretty well too, Finds people of all shapes and sizes and does not mark my easel as person any more. Works great with some normal python tf inference runner I found somewhere.\r\n\r\nNow I want to use it on my phone. So I used the default [model converter tutorial][2] to do that, just to realize that apparently there&#39;s something called a &quot;StridedSlice&quot; operator in my model that can&#39;t be converted to tflite, so I used the [select tensorflow model operators tutorial][3] to convert it with this one operator included and added the required library to the app, which is basically the default example app coming with detect.tflite:\r\n\r\n    implementation &#39;org.tensorflow:tensorflow-lite-select-tf-ops:2.8.0&#39;\r\n\r\nI tried with detect.tflite to make sure this doesn&#39;t break anything and it still works like a charm.\r\n\r\nThe problem is: In tflite&#39;s opinion, my model takes a [1, 1, 1, 3] tensor as input now, as confirmed by Netron (which I found thanks to Alex K.&#39;s [answer][4]):\r\n\r\n[![Netron analysis][5]][5]\r\n\r\nSo it seems that indeed for some reason my model takes a [1, 1, 1, 3] input tensor and provides several output tensors with shapes I don&#39;t understand and sadly without any description of what the outputs mean. Also I can&#39;t force it do anything, instead it crashes and, as expected by a properly statically typed language:\r\n\r\n    Cannot copy to a TensorFlowLite tensor (serving_default_input_tensor:0) with 3 bytes from a Java Buffer with 1228800 bytes.\r\n\r\nbecause of course my buffer&#39;s size is not (1 * 1 * 1 * 3) because that doesn&#39;t make any sense. Instead my buffer uses an input size of 640, but not because I&#39;m sure that&#39;s the correct size but because I guessed and also my pipeline.config has this.\r\n\r\n    image_resizer {\r\n      fixed_shape_resizer {\r\n        height: 640\r\n        width: 640\r\n      }\r\n    }\r\n\r\nFor some reason though, when using the normal python tf inference runner, I can just throw any image in there (same script works on both my laptop&#39;s integrated camera and a realsense 3d cam, the laptop one of course has shitty resolution).\r\n\r\nSo where did I go wrong? The conversion to tflite where it apparently lost information about inputs? Usage in the app where maybe I have to tell it to not listen to the so-called [1, 1, 1, 3] input shape? Somewhere else entirely?\r\n\r\n\r\n  [1]: https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/training.html\r\n  [2]: https://www.tensorflow.org/lite/models/convert/convert_models\r\n  [3]: https://www.tensorflow.org/lite/guide/ops_select\r\n  [4]: https://stackoverflow.com/a/65081491/4364057\r\n  [5]: https://i.stack.imgur.com/QKzoq.png","title":"TensorFlowLite tensor shapes make no sense (input: [1, 1, 1, 3])","body":"<p>I trained an object detection model using this <a href=\"https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/training.html\" rel=\"nofollow noreferrer\">step-by-step tutorial</a> that detects one class: person. It works pretty well too, Finds people of all shapes and sizes and does not mark my easel as person any more. Works great with some normal python tf inference runner I found somewhere.</p>\n<p>Now I want to use it on my phone. So I used the default <a href=\"https://www.tensorflow.org/lite/models/convert/convert_models\" rel=\"nofollow noreferrer\">model converter tutorial</a> to do that, just to realize that apparently there's something called a &quot;StridedSlice&quot; operator in my model that can't be converted to tflite, so I used the <a href=\"https://www.tensorflow.org/lite/guide/ops_select\" rel=\"nofollow noreferrer\">select tensorflow model operators tutorial</a> to convert it with this one operator included and added the required library to the app, which is basically the default example app coming with detect.tflite:</p>\n<pre><code>implementation 'org.tensorflow:tensorflow-lite-select-tf-ops:2.8.0'\n</code></pre>\n<p>I tried with detect.tflite to make sure this doesn't break anything and it still works like a charm.</p>\n<p>The problem is: In tflite's opinion, my model takes a [1, 1, 1, 3] tensor as input now, as confirmed by Netron (which I found thanks to Alex K.'s <a href=\"https://stackoverflow.com/a/65081491/4364057\">answer</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/QKzoq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKzoq.png\" alt=\"Netron analysis\" /></a></p>\n<p>So it seems that indeed for some reason my model takes a [1, 1, 1, 3] input tensor and provides several output tensors with shapes I don't understand and sadly without any description of what the outputs mean. Also I can't force it do anything, instead it crashes and, as expected by a properly statically typed language:</p>\n<pre><code>Cannot copy to a TensorFlowLite tensor (serving_default_input_tensor:0) with 3 bytes from a Java Buffer with 1228800 bytes.\n</code></pre>\n<p>because of course my buffer's size is not (1 * 1 * 1 * 3) because that doesn't make any sense. Instead my buffer uses an input size of 640, but not because I'm sure that's the correct size but because I guessed and also my pipeline.config has this.</p>\n<pre><code>image_resizer {\n  fixed_shape_resizer {\n    height: 640\n    width: 640\n  }\n}\n</code></pre>\n<p>For some reason though, when using the normal python tf inference runner, I can just throw any image in there (same script works on both my laptop's integrated camera and a realsense 3d cam, the laptop one of course has shitty resolution).</p>\n<p>So where did I go wrong? The conversion to tflite where it apparently lost information about inputs? Usage in the app where maybe I have to tell it to not listen to the so-called [1, 1, 1, 3] input shape? Somewhere else entirely?</p>\n"},{"tags":["java","java-17","java-ffm"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696692598,"post_id":77250163,"comment_id":136187390,"body_markdown":"In C, the `char` type is synonymous with a byte.  In Java, it is not.  If you are calling a native function that returns `char`, you need to use ValueLayout.JAVA_BYTE.  The javadoc even tells you that JAVA_CHAR is two bytes in size.","body":"In C, the <code>char</code> type is synonymous with a byte.  In Java, it is not.  If you are calling a native function that returns <code>char</code>, you need to use ValueLayout.JAVA_BYTE.  The javadoc even tells you that JAVA_CHAR is two bytes in size."},{"owner":{"account_id":29615798,"reputation":51,"user_id":22697986,"display_name":"StackHeap"},"score":0,"creation_date":1696695918,"post_id":77250163,"comment_id":136187733,"body_markdown":"error: cannot find symbol ValueLayout.JAVA_BYTE in Java 17. Vide https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/CLinker.html#C_CHAR and https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/ValueLayout.html","body":"error: cannot find symbol ValueLayout.JAVA_BYTE in Java 17. Vide <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/CLinker.html#C_CHAR\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&hellip;</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/ValueLayout.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1696698903,"post_id":77250163,"comment_id":136187995,"body_markdown":"Sorry, was thinking of [the preview version of the foreign API](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/package-summary.html) in Java 21.  For Java 17, you need to use `byte.class` instead of char.class.","body":"Sorry, was thinking of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/package-summary.html\" rel=\"nofollow noreferrer\">the preview version of the foreign API</a> in Java 21.  For Java 17, you need to use <code>byte.class</code> instead of char.class."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698214901,"post_id":77356503,"comment_id":136375149,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77356503/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29615798,"reputation":51,"user_id":22697986,"display_name":"StackHeap"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698205758,"creation_date":1698205758,"answer_id":77356503,"question_id":77250163,"body_markdown":"Here&#39;s the answer:\r\n\r\nMethodHandle radixSort = CLinker.getInstance().downcallHandle( CLinker.systemLookup().lookup(&quot;radixsort&quot;).get(), MethodType.methodType(void.class, MemoryAddress.class, int.class, MemoryAddress.class, int.class), FunctionDescriptor.ofVoid(CLinker.C_POINTER, CLinker.C_INT, CLinker.C_POINTER, CLinker.C_INT));","title":"OpenJDK 17 - JEP 412: Foreign Function &amp; Memory API (Incubator)","body":"<p>Here's the answer:</p>\n<p>MethodHandle radixSort = CLinker.getInstance().downcallHandle( CLinker.systemLookup().lookup(&quot;radixsort&quot;).get(), MethodType.methodType(void.class, MemoryAddress.class, int.class, MemoryAddress.class, int.class), FunctionDescriptor.ofVoid(CLinker.C_POINTER, CLinker.C_INT, CLinker.C_POINTER, CLinker.C_INT));</p>\n"}],"owner":{"account_id":29615798,"reputation":51,"user_id":22697986,"display_name":"StackHeap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77356503,"answer_count":1,"score":2,"last_activity_date":1698205796,"creation_date":1696688245,"question_id":77250163,"body_markdown":"What is wrong with this Java 17 CLinker.getInstance().downcallHandle(CLinker.systemLookup().lookup(&quot;radixsort&quot;), ...); with reference to reverse-engineering JEP 412: Foreign Function &amp; Memory API (Incubator) from JEP 419: Foreign Function &amp; Memory API (Second Incubator) as the documentation is elided?\r\n\r\nPlease refer to the erratum.\r\n\r\n[JEP 419: Foreign Function &amp; Memory API (Second Incubator)][1] works fine as in the following code snippet and output:\r\n\r\n\r\n```\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodType;\r\nimport java.util.Arrays;\r\nimport jdk.incubator.foreign.CLinker;\r\nimport jdk.incubator.foreign.FunctionDescriptor;\r\nimport jdk.incubator.foreign.MemoryAddress;\r\nimport jdk.incubator.foreign.MemorySegment;\r\n// import jdk.incubator.foreign.ResourceScope;\r\nimport jdk.incubator.foreign.SegmentAllocator;\r\nimport jdk.incubator.foreign.ValueLayout;\r\n\r\n// JEP 419: Foreign Function &amp; Memory API (Second Incubator)\r\nclass ForeignFunctionMemoryAPISecondIncubator {\r\n   private void radixsort() throws Throwable {\r\n\r\n        // 1. Find foreign function on the C library path\r\n        CLinker linker = CLinker.systemCLinker();\r\n\t// .get() // Or // .orElseThrow()\r\n        MethodHandle radixSort = linker.downcallHandle(\r\n            linker.lookup(&quot;radixsort&quot;).get(),\r\n            FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\r\n\r\n        // 2. Allocate on-heap memory to store four strings\r\n        String[] javaStrings   = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\r\n        System.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\r\n\r\n        // 3. Allocate off-heap memory to store four pointers\r\n\t// https://openjdk.org/jeps/419 // Erratum // error: cannot find symbol ofSequence\r\n        /*\r\n\tMemorySegment offHeap  = MemorySegment.allocateNative(\r\n                             MemoryLayout.ofSequence(javaStrings.length,\r\n                                                     ValueLayout.ADDRESS), ...);        \r\n\t*/\r\n\r\n        SegmentAllocator allocator = SegmentAllocator.implicitAllocator();\r\n        MemorySegment offHeap = allocator.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\r\n\r\n        // 4. Copy the strings from on-heap to off-heap\r\n        for (int i = 0; i &lt; javaStrings.length; i++) {\r\n            // Allocate a string off-heap, then store a pointer to it\r\n            MemorySegment cString = SegmentAllocator.implicitAllocator().allocateUtf8String(javaStrings[i]);\r\n            offHeap.setAtIndex(ValueLayout.ADDRESS, i, cString);\r\n        }\r\n\r\n        // 5. Sort the off-heap data by calling the foreign function\r\n\t// invoke // unreported exception Throwable; must be caught or declared to be thrown\r\n        radixSort.invoke(offHeap, javaStrings.length, MemoryAddress.NULL, &#39;\\0&#39;);\r\n\r\n        // 6. Copy the (reordered) strings from off-heap to on-heap\r\n        for (int i = 0; i &lt; javaStrings.length; i++) {\r\n            MemoryAddress cStringPtr = offHeap.getAtIndex(ValueLayout.ADDRESS, i);\r\n            javaStrings[i] = cStringPtr.getUtf8String(0);\r\n        }\r\n\r\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\r\n    }\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\r\n\r\n\tvar incubatorForeignFunctionMemoryAPISecond = new ForeignFunctionMemoryAPISecondIncubator();\r\n        incubatorForeignFunctionMemoryAPISecond.radixsort();\r\n    }\r\n}\r\n\r\n// Output\r\n/*\r\nWARNING: Using incubator modules: jdk.incubator.foreign\r\nwarning: using incubating module(s): jdk.incubator.foreign\r\n1 warning\r\nJava Version: 18.0.2\r\nradixsort input: [mouse, cat, dog, car]\r\nradixsort output: [car, cat, dog, mouse]\r\n*/\r\n```\r\n\r\nHowever, [JEP 412: Foreign Function &amp; Memory API (Incubator)][2] throws the error as in the following code snippet and exception output:\r\n\r\n\r\n```\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodType;\r\nimport java.util.Arrays;\r\nimport jdk.incubator.foreign.CLinker;\r\nimport jdk.incubator.foreign.FunctionDescriptor;\r\nimport jdk.incubator.foreign.MemoryAccess;\r\nimport jdk.incubator.foreign.MemoryAddress;\r\nimport jdk.incubator.foreign.MemoryLayout;\r\nimport jdk.incubator.foreign.MemorySegment;\r\nimport jdk.incubator.foreign.ResourceScope;\r\nimport jdk.incubator.foreign.SegmentAllocator;\r\n\r\n// JEP 412: Foreign Function &amp; Memory API (Incubator)\r\nclass ForeignFunctionMemoryAPIIncubator {\r\n\r\n   private void radixsort() throws Throwable {\r\n\r\n\t// 1. Find foreign function on the C library path\r\n\tMethodHandle radixSort = CLinker.getInstance().downcallHandle(\r\n                             CLinker.systemLookup().lookup(&quot;radixsort&quot;).get(),\r\n    \t    MethodType.methodType(MemoryAddress.class, int.class, MemoryAddress.class, char.class),\r\n    \t    FunctionDescriptor.of(CLinker.C_POINTER, CLinker.C_INT, CLinker.C_POINTER, CLinker.C_CHAR));\r\n\r\n\r\n        // 2. Allocate on-heap memory to store four strings\r\n        String[] javaStrings   = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\r\n        System.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\r\n\r\n        // 3. Allocate off-heap memory to store four pointers\r\n\t// https://openjdk.org/jeps/412 // Erratum // error: cannot find symbol ofSequence\r\n\t/*\r\n\tMemorySegment offHeap  = MemorySegment.allocateNative(\r\n                             MemoryLayout.ofSequence(javaStrings.length,\r\n                                                     CLinker.C_POINTER), ...);\r\n        */\r\n\r\n\ttry (ResourceScope scopeResource = ResourceScope.newConfinedScope()) {\r\n\t    SegmentAllocator allocatorSegment = SegmentAllocator.arenaAllocator(scopeResource);\r\n\r\n            MemorySegment offHeap = allocatorSegment.allocateArray(CLinker.C_POINTER, javaStrings.length);\r\n   \r\n\t    // 4. Copy the strings from on-heap to off-heap\r\n\t    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n    \t        // Allocate a string off-heap, then store a pointer to it\r\n    \t        MemorySegment cString = CLinker.toCString(javaStrings[i], ResourceScope.newImplicitScope());\r\n    \t        MemoryAccess.setAddressAtIndex(offHeap, i, cString.address());\r\n\t    }\r\n\r\n            // 5. Sort the off-heap data by calling the foreign function\r\n\t    // invoke // unreported exception Throwable; must be caught or declared to be thrown\r\n            radixSort.invoke(offHeap.address(), javaStrings.length, MemoryAddress.NULL, &#39;\\0&#39;);\r\n\r\n            // 6. Copy the (reordered) strings from off-heap to on-heap\r\n\t    for (int i = 0; i &lt; javaStrings.length; i++) {\r\n\t    \tMemoryAddress cStringPtr = MemoryAccess.getAddressAtIndex(offHeap, i);\r\n\t        // https://openjdk.org/jeps/412 // Erratum // error: cannot find symbol toJavaStringRestricted\r\n\t    \t// javaStrings[i] = CLinker.toJavaStringRestricted(cStringPtr);\r\n\t    \tjavaStrings[i] = CLinker.toJavaString(cStringPtr);\r\n\t    }\r\n        }\r\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\r\n    }\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\r\n\r\n\tvar functionMemoryAPIIncubatorForeign = new ForeignFunctionMemoryAPIIncubator();\r\n        functionMemoryAPIIncubatorForeign.radixsort();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\nWARNING: Using incubator modules: jdk.incubator.foreign\r\nwarning: using incubating module(s): jdk.incubator.foreign\r\n1 warning\r\nJava Version: 17.0.2\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Carrier size mismatch: char != b8[abi/kind=CHAR]\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.Utils.checkPrimitiveCarrierCompat(Utils.java:111)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.abi.SharedUtils.checkCompatibleType(SharedUtils.java:230)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.abi.SharedUtils.checkFunctionTypes(SharedUtils.java:251)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.CallArranger.getBindings(CallArranger.java:99)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.CallArranger.arrangeDowncall(CallArranger.java:128)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.macos.MacOsAArch64Linker.downcallHandle(MacOsAArch64Linker.java:84)\r\n\tat jdk.incubator.foreign/jdk.internal.foreign.AbstractCLinker.downcallHandle(AbstractCLinker.java:44)\r\n\tat ForeignFunctionMemoryAPIIncubator.radixsort(ForeignFunctionMemoryAPIIncubator.java:19)\r\n\tat ForeignFunctionMemoryAPIIncubator.main(ForeignFunctionMemoryAPIIncubator.java:68)\r\n```\r\n\r\nReverse-engineering JEP 412: Foreign Function &amp; Memory API (Incubator) from JEP 419: Foreign Function &amp; Memory API (Second Incubator) not working as expected.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/419\r\n  [2]: https://openjdk.org/jeps/412","title":"OpenJDK 17 - JEP 412: Foreign Function &amp; Memory API (Incubator)","body":"<p>What is wrong with this Java 17 CLinker.getInstance().downcallHandle(CLinker.systemLookup().lookup(&quot;radixsort&quot;), ...); with reference to reverse-engineering JEP 412: Foreign Function &amp; Memory API (Incubator) from JEP 419: Foreign Function &amp; Memory API (Second Incubator) as the documentation is elided?</p>\n<p>Please refer to the erratum.</p>\n<p><a href=\"https://openjdk.org/jeps/419\" rel=\"nofollow noreferrer\">JEP 419: Foreign Function &amp; Memory API (Second Incubator)</a> works fine as in the following code snippet and output:</p>\n<pre><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodType;\nimport java.util.Arrays;\nimport jdk.incubator.foreign.CLinker;\nimport jdk.incubator.foreign.FunctionDescriptor;\nimport jdk.incubator.foreign.MemoryAddress;\nimport jdk.incubator.foreign.MemorySegment;\n// import jdk.incubator.foreign.ResourceScope;\nimport jdk.incubator.foreign.SegmentAllocator;\nimport jdk.incubator.foreign.ValueLayout;\n\n// JEP 419: Foreign Function &amp; Memory API (Second Incubator)\nclass ForeignFunctionMemoryAPISecondIncubator {\n   private void radixsort() throws Throwable {\n\n        // 1. Find foreign function on the C library path\n        CLinker linker = CLinker.systemCLinker();\n    // .get() // Or // .orElseThrow()\n        MethodHandle radixSort = linker.downcallHandle(\n            linker.lookup(&quot;radixsort&quot;).get(),\n            FunctionDescriptor.ofVoid(ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.JAVA_CHAR));\n\n        // 2. Allocate on-heap memory to store four strings\n        String[] javaStrings   = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\n        System.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\n\n        // 3. Allocate off-heap memory to store four pointers\n    // https://openjdk.org/jeps/419 // Erratum // error: cannot find symbol ofSequence\n        /*\n    MemorySegment offHeap  = MemorySegment.allocateNative(\n                             MemoryLayout.ofSequence(javaStrings.length,\n                                                     ValueLayout.ADDRESS), ...);        \n    */\n\n        SegmentAllocator allocator = SegmentAllocator.implicitAllocator();\n        MemorySegment offHeap = allocator.allocateArray(ValueLayout.ADDRESS, javaStrings.length);\n\n        // 4. Copy the strings from on-heap to off-heap\n        for (int i = 0; i &lt; javaStrings.length; i++) {\n            // Allocate a string off-heap, then store a pointer to it\n            MemorySegment cString = SegmentAllocator.implicitAllocator().allocateUtf8String(javaStrings[i]);\n            offHeap.setAtIndex(ValueLayout.ADDRESS, i, cString);\n        }\n\n        // 5. Sort the off-heap data by calling the foreign function\n    // invoke // unreported exception Throwable; must be caught or declared to be thrown\n        radixSort.invoke(offHeap, javaStrings.length, MemoryAddress.NULL, '\\0');\n\n        // 6. Copy the (reordered) strings from off-heap to on-heap\n        for (int i = 0; i &lt; javaStrings.length; i++) {\n            MemoryAddress cStringPtr = offHeap.getAtIndex(ValueLayout.ADDRESS, i);\n            javaStrings[i] = cStringPtr.getUtf8String(0);\n        }\n\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\n    }\n\n    public static void main(String[] args) throws Throwable {\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\n\n    var incubatorForeignFunctionMemoryAPISecond = new ForeignFunctionMemoryAPISecondIncubator();\n        incubatorForeignFunctionMemoryAPISecond.radixsort();\n    }\n}\n\n// Output\n/*\nWARNING: Using incubator modules: jdk.incubator.foreign\nwarning: using incubating module(s): jdk.incubator.foreign\n1 warning\nJava Version: 18.0.2\nradixsort input: [mouse, cat, dog, car]\nradixsort output: [car, cat, dog, mouse]\n*/\n</code></pre>\n<p>However, <a href=\"https://openjdk.org/jeps/412\" rel=\"nofollow noreferrer\">JEP 412: Foreign Function &amp; Memory API (Incubator)</a> throws the error as in the following code snippet and exception output:</p>\n<pre><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodType;\nimport java.util.Arrays;\nimport jdk.incubator.foreign.CLinker;\nimport jdk.incubator.foreign.FunctionDescriptor;\nimport jdk.incubator.foreign.MemoryAccess;\nimport jdk.incubator.foreign.MemoryAddress;\nimport jdk.incubator.foreign.MemoryLayout;\nimport jdk.incubator.foreign.MemorySegment;\nimport jdk.incubator.foreign.ResourceScope;\nimport jdk.incubator.foreign.SegmentAllocator;\n\n// JEP 412: Foreign Function &amp; Memory API (Incubator)\nclass ForeignFunctionMemoryAPIIncubator {\n\n   private void radixsort() throws Throwable {\n\n    // 1. Find foreign function on the C library path\n    MethodHandle radixSort = CLinker.getInstance().downcallHandle(\n                             CLinker.systemLookup().lookup(&quot;radixsort&quot;).get(),\n            MethodType.methodType(MemoryAddress.class, int.class, MemoryAddress.class, char.class),\n            FunctionDescriptor.of(CLinker.C_POINTER, CLinker.C_INT, CLinker.C_POINTER, CLinker.C_CHAR));\n\n\n        // 2. Allocate on-heap memory to store four strings\n        String[] javaStrings   = { &quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;, &quot;car&quot; };\n        System.out.println(&quot;radixsort input: &quot; + Arrays.toString(javaStrings));\n\n        // 3. Allocate off-heap memory to store four pointers\n    // https://openjdk.org/jeps/412 // Erratum // error: cannot find symbol ofSequence\n    /*\n    MemorySegment offHeap  = MemorySegment.allocateNative(\n                             MemoryLayout.ofSequence(javaStrings.length,\n                                                     CLinker.C_POINTER), ...);\n        */\n\n    try (ResourceScope scopeResource = ResourceScope.newConfinedScope()) {\n        SegmentAllocator allocatorSegment = SegmentAllocator.arenaAllocator(scopeResource);\n\n            MemorySegment offHeap = allocatorSegment.allocateArray(CLinker.C_POINTER, javaStrings.length);\n   \n        // 4. Copy the strings from on-heap to off-heap\n        for (int i = 0; i &lt; javaStrings.length; i++) {\n                // Allocate a string off-heap, then store a pointer to it\n                MemorySegment cString = CLinker.toCString(javaStrings[i], ResourceScope.newImplicitScope());\n                MemoryAccess.setAddressAtIndex(offHeap, i, cString.address());\n        }\n\n            // 5. Sort the off-heap data by calling the foreign function\n        // invoke // unreported exception Throwable; must be caught or declared to be thrown\n            radixSort.invoke(offHeap.address(), javaStrings.length, MemoryAddress.NULL, '\\0');\n\n            // 6. Copy the (reordered) strings from off-heap to on-heap\n        for (int i = 0; i &lt; javaStrings.length; i++) {\n            MemoryAddress cStringPtr = MemoryAccess.getAddressAtIndex(offHeap, i);\n            // https://openjdk.org/jeps/412 // Erratum // error: cannot find symbol toJavaStringRestricted\n            // javaStrings[i] = CLinker.toJavaStringRestricted(cStringPtr);\n            javaStrings[i] = CLinker.toJavaString(cStringPtr);\n        }\n        }\n        System.out.println(&quot;radixsort output: &quot; + Arrays.toString(javaStrings));\n    }\n\n    public static void main(String[] args) throws Throwable {\n        System.out.println(String.format(&quot;Java Version: %s&quot;, System.getProperty(&quot;java.version&quot;)));\n\n    var functionMemoryAPIIncubatorForeign = new ForeignFunctionMemoryAPIIncubator();\n        functionMemoryAPIIncubatorForeign.radixsort();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>WARNING: Using incubator modules: jdk.incubator.foreign\nwarning: using incubating module(s): jdk.incubator.foreign\n1 warning\nJava Version: 17.0.2\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Carrier size mismatch: char != b8[abi/kind=CHAR]\n    at jdk.incubator.foreign/jdk.internal.foreign.Utils.checkPrimitiveCarrierCompat(Utils.java:111)\n    at jdk.incubator.foreign/jdk.internal.foreign.abi.SharedUtils.checkCompatibleType(SharedUtils.java:230)\n    at jdk.incubator.foreign/jdk.internal.foreign.abi.SharedUtils.checkFunctionTypes(SharedUtils.java:251)\n    at jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.CallArranger.getBindings(CallArranger.java:99)\n    at jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.CallArranger.arrangeDowncall(CallArranger.java:128)\n    at jdk.incubator.foreign/jdk.internal.foreign.abi.aarch64.macos.MacOsAArch64Linker.downcallHandle(MacOsAArch64Linker.java:84)\n    at jdk.incubator.foreign/jdk.internal.foreign.AbstractCLinker.downcallHandle(AbstractCLinker.java:44)\n    at ForeignFunctionMemoryAPIIncubator.radixsort(ForeignFunctionMemoryAPIIncubator.java:19)\n    at ForeignFunctionMemoryAPIIncubator.main(ForeignFunctionMemoryAPIIncubator.java:68)\n</code></pre>\n<p>Reverse-engineering JEP 412: Foreign Function &amp; Memory API (Incubator) from JEP 419: Foreign Function &amp; Memory API (Second Incubator) not working as expected.</p>\n"},{"tags":["java","android","sharedpreferences","tinydb"],"answers":[{"comments":[{"owner":{"account_id":29549062,"reputation":47,"user_id":22646153,"display_name":"Abisay"},"score":0,"creation_date":1698206170,"post_id":77356506,"comment_id":136374322,"body_markdown":"The problem was that I put `TinyDB tinydb = new TinyDB(this);` before onCreate. I have tried using `this` and any other things.","body":"The problem was that I put <code>TinyDB tinydb = new TinyDB(this);</code> before onCreate. I have tried using <code>this</code> and any other things."}],"tags":[],"owner":{"account_id":4283273,"reputation":12083,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698205786,"creation_date":1698205786,"answer_id":77356506,"question_id":77355312,"body_markdown":"In Activity, the `Context` is Activity itself (=`this`):\r\n\r\n    TinyDB tinydb = new TinyDB(this);","title":"TinyDB problem, cannot resolve symbol &#39;context&#39;","body":"<p>In Activity, the <code>Context</code> is Activity itself (=<code>this</code>):</p>\n<pre><code>TinyDB tinydb = new TinyDB(this);\n</code></pre>\n"}],"owner":{"account_id":29549062,"reputation":47,"user_id":22646153,"display_name":"Abisay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77356506,"answer_count":1,"score":1,"last_activity_date":1698205786,"creation_date":1698180498,"question_id":77355312,"body_markdown":"I want to use TinyDB in my Android app that built in Android Studio. To use the TinyDB, I need to add TinyDB class and write the context.\r\n\r\nThe context that need to be in the MainActivity:\r\n`TinyDB tinydb = new TinyDB(context);`\r\nAnd it shows &quot;Cannot resolve symbol &#39;context&#39;&quot;\r\n\r\nContext part in TinyDB class:\r\n```\r\npublic TinyDB(Context appContext){\r\n    preferences = PreferenceManager.getDefaultSharedPrefeences(appContext);\r\n    context = appContext;\r\n}\r\n```\r\n\r\nShould I replace &#39;context&#39; with something else?","title":"TinyDB problem, cannot resolve symbol &#39;context&#39;","body":"<p>I want to use TinyDB in my Android app that built in Android Studio. To use the TinyDB, I need to add TinyDB class and write the context.</p>\n<p>The context that need to be in the MainActivity:\n<code>TinyDB tinydb = new TinyDB(context);</code>\nAnd it shows &quot;Cannot resolve symbol 'context'&quot;</p>\n<p>Context part in TinyDB class:</p>\n<pre><code>public TinyDB(Context appContext){\n    preferences = PreferenceManager.getDefaultSharedPrefeences(appContext);\n    context = appContext;\n}\n</code></pre>\n<p>Should I replace 'context' with something else?</p>\n"},{"tags":["java","random","integer"],"comments":[{"owner":{"account_id":1159242,"reputation":2962,"user_id":1139105,"accept_rate":100,"display_name":"janniks"},"score":44,"creation_date":1580730815,"post_id":363681,"comment_id":106181133,"body_markdown":"Before you post a new answer, consider there are already 65+ answers for this question. Please, make sure that your answer contributes information that is not among existing answers.","body":"Before you post a new answer, consider there are already 65+ answers for this question. Please, make sure that your answer contributes information that is not among existing answers."}],"answers":[{"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"comment_count":0,"down_vote_count":7,"up_vote_count":211,"is_accepted":false,"score":204,"last_activity_date":1656566231,"creation_date":1229106308,"answer_id":363691,"question_id":363681,"body_markdown":"Use:\r\n\r\n    minValue + rn.nextInt(maxValue - minValue + 1)\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Use:</p>\n<pre><code>minValue + rn.nextInt(maxValue - minValue + 1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3618474,"reputation":1861,"user_id":3017818,"accept_rate":100,"display_name":"Daniel"},"score":48,"creation_date":1407839670,"post_id":363692,"comment_id":39361137,"body_markdown":"For calls where `max` value is `Integer.MAX_VALUE` it is possible to overflow ,resulting into a `java.lang.IllegalArgumentException`. You can try with : `randInt(0, Integer.MAX_VALUE)`. Also, if `nextInt((max-min) + 1)` returns the most high value (quite rare, I assume) won&#39;t it overflow again( supposing min and max are high enough values)? How to deal with this kind of situations?","body":"For calls where <code>max</code> value is <code>Integer.MAX_VALUE</code> it is possible to overflow ,resulting into a <code>java.lang.IllegalArgumentException</code>. You can try with : <code>randInt(0, Integer.MAX_VALUE)</code>. Also, if <code>nextInt((max-min) + 1)</code> returns the most high value (quite rare, I assume) won&#39;t it overflow again( supposing min and max are high enough values)? How to deal with this kind of situations?"},{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1649155923,"post_id":363692,"comment_id":126799067,"body_markdown":"Now there is nextLong(long origin, long bound) available. Posting for reference. I am unaware of the fact if it was there when asnwer for posted.","body":"Now there is nextLong(long origin, long bound) available. Posting for reference. I am unaware of the fact if it was there when asnwer for posted."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1684588752,"post_id":363692,"comment_id":134540801,"body_markdown":"I prefer `ThreadLocalRandom` solution even if you can&#39;t specify the seed or you don&#39;t need a thread safe method, since the API is more intuitive if `min != 0`.","body":"I prefer <code>ThreadLocalRandom</code> solution even if you can&#39;t specify the seed or you don&#39;t need a thread safe method, since the API is more intuitive if <code>min != 0</code>."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1694460708,"post_id":363692,"comment_id":135891323,"body_markdown":"I would argue that this is no longer the &quot;standard answer&quot; as of Java 17, though it works well if you want a single global multhreaded generator. Per [`RandomGenerator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html), &quot;It is recommended that multithreaded applications use either `ThreadLocalRandom` or (preferably) pseudorandom number generators that implement the `RandomGenerator.SplittableGenerator` or `RandomGenerator.JumpableGenerator` interface.&quot;  See: https://stackoverflow.com/a/70529176/1108305.","body":"I would argue that this is no longer the &quot;standard answer&quot; as of Java 17, though it works well if you want a single global multhreaded generator. Per <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\"><code>RandomGenerator</code></a>, &quot;It is recommended that multithreaded applications use either <code>ThreadLocalRandom</code> or (preferably) pseudorandom number generators that implement the <code>RandomGenerator.SplittableGenerator</code> or <code>RandomGenerator.JumpableGenerator</code> interface.&quot;  See: <a href=\"https://stackoverflow.com/a/70529176/1108305\">stackoverflow.com/a/70529176/1108305</a>."}],"tags":[],"owner":{"account_id":369,"reputation":47061,"user_id":462,"display_name":"Greg Case"},"comment_count":4,"down_vote_count":13,"up_vote_count":4372,"is_accepted":false,"score":4359,"last_activity_date":1539536915,"creation_date":1229106327,"answer_id":363692,"question_id":363681,"body_markdown":"In **Java 1.7 or later**, the standard way to do this is as follows:\r\n\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n\r\n    // nextInt is normally exclusive of the top value,\r\n    // so add 1 to make it inclusive\r\n    int randomNum = ThreadLocalRandom.current().nextInt(min, max + 1);\r\n\r\nSee [the relevant JavaDoc][4].  This approach has the advantage of not needing to explicitly initialize a [java.util.Random][2] instance, which can be a source of confusion and error if used inappropriately.\r\n\r\nHowever, conversely there is no way to explicitly set the seed so it can be difficult to reproduce results in situations where that is useful such as testing or saving game states or similar.  In those situations, the pre-Java 1.7 technique shown below can be used.\r\n\r\n**Before Java 1.7**, the standard way to do this is as follows:\r\n\r\n    import java.util.Random;\r\n    \r\n    /**\r\n     * Returns a pseudo-random number between min and max, inclusive.\r\n     * The difference between min and max can be at most\r\n     * &lt;code&gt;Integer.MAX_VALUE - 1&lt;/code&gt;.\r\n     *\r\n     * @param min Minimum value\r\n     * @param max Maximum value.  Must be greater than min.\r\n     * @return Integer between min and max, inclusive.\r\n     * @see java.util.Random#nextInt(int)\r\n     */\r\n    public static int randInt(int min, int max) {\r\n\r\n        // NOTE: This will (intentionally) not run as written so that folks\r\n        // copy-pasting have to think about how to initialize their\r\n        // Random instance.  Initialization of the Random instance is outside\r\n        // the main scope of the question, but some decent options are to have\r\n        // a field that is initialized once and then re-used as needed or to\r\n        // use ThreadLocalRandom (if using at least Java 1.7).\r\n        // \r\n        // In particular, do NOT do &#39;Random rand = new Random()&#39; here or you\r\n        // will get not very good / not very random results.\r\n        Random rand;\r\n\r\n        // nextInt is normally exclusive of the top value,\r\n        // so add 1 to make it inclusive\r\n        int randomNum = rand.nextInt((max - min) + 1) + min;\r\n\r\n\t\treturn randomNum;\r\n    }\r\n\r\nSee [the relevant JavaDoc][1].  In practice, the [java.util.Random][2] class is often preferable to [java.lang.Math.random()][3].\r\n\r\nIn particular, there is no need to reinvent the random integer generation wheel when there is a straightforward API within the standard library to accomplish the task.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextInt(int)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#random()\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)","title":"How do I generate random integers within a specific range in Java?","body":"<p>In <strong>Java 1.7 or later</strong>, the standard way to do this is as follows:</p>\n\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\n\n// nextInt is normally exclusive of the top value,\n// so add 1 to make it inclusive\nint randomNum = ThreadLocalRandom.current().nextInt(min, max + 1);\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\" rel=\"noreferrer\">the relevant JavaDoc</a>.  This approach has the advantage of not needing to explicitly initialize a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html\" rel=\"noreferrer\">java.util.Random</a> instance, which can be a source of confusion and error if used inappropriately.</p>\n\n<p>However, conversely there is no way to explicitly set the seed so it can be difficult to reproduce results in situations where that is useful such as testing or saving game states or similar.  In those situations, the pre-Java 1.7 technique shown below can be used.</p>\n\n<p><strong>Before Java 1.7</strong>, the standard way to do this is as follows:</p>\n\n<pre><code>import java.util.Random;\n\n/**\n * Returns a pseudo-random number between min and max, inclusive.\n * The difference between min and max can be at most\n * &lt;code&gt;Integer.MAX_VALUE - 1&lt;/code&gt;.\n *\n * @param min Minimum value\n * @param max Maximum value.  Must be greater than min.\n * @return Integer between min and max, inclusive.\n * @see java.util.Random#nextInt(int)\n */\npublic static int randInt(int min, int max) {\n\n    // NOTE: This will (intentionally) not run as written so that folks\n    // copy-pasting have to think about how to initialize their\n    // Random instance.  Initialization of the Random instance is outside\n    // the main scope of the question, but some decent options are to have\n    // a field that is initialized once and then re-used as needed or to\n    // use ThreadLocalRandom (if using at least Java 1.7).\n    // \n    // In particular, do NOT do 'Random rand = new Random()' here or you\n    // will get not very good / not very random results.\n    Random rand;\n\n    // nextInt is normally exclusive of the top value,\n    // so add 1 to make it inclusive\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n\n    return randomNum;\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextInt(int)\" rel=\"noreferrer\">the relevant JavaDoc</a>.  In practice, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html\" rel=\"noreferrer\">java.util.Random</a> class is often preferable to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#random()\" rel=\"noreferrer\">java.lang.Math.random()</a>.</p>\n\n<p>In particular, there is no need to reinvent the random integer generation wheel when there is a straightforward API within the standard library to accomplish the task.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":3,"up_vote_count":34,"is_accepted":false,"score":31,"last_activity_date":1513798470,"creation_date":1229106339,"answer_id":363693,"question_id":363681,"body_markdown":"     rand.nextInt((max+1) - min) + min;","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code> rand.nextInt((max+1) - min) + min;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15204,"reputation":10189,"user_id":31892,"accept_rate":78,"display_name":"Chinnery"},"comment_count":0,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1479298097,"creation_date":1229106475,"answer_id":363703,"question_id":363681,"body_markdown":"I wonder if any of the random number generating methods provided by an [Apache Commons Math][math] library would fit the bill. \r\n\r\nFor example: [`RandomDataGenerator.nextInt`][1] or [`RandomDataGenerator.nextLong`][2]\r\n\r\n\r\n  [math]: http://commons.apache.org/proper/commons-math/\r\n  [1]: http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextInt(int,%20int)\r\n  [2]: http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextLong(long,%20long)","title":"How do I generate random integers within a specific range in Java?","body":"<p>I wonder if any of the random number generating methods provided by an <a href=\"http://commons.apache.org/proper/commons-math/\" rel=\"noreferrer\">Apache Commons Math</a> library would fit the bill. </p>\n\n<p>For example: <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextInt(int,%20int)\" rel=\"noreferrer\"><code>RandomDataGenerator.nextInt</code></a> or <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextLong(long,%20long)\" rel=\"noreferrer\"><code>RandomDataGenerator.nextLong</code></a></p>\n"},{"comments":[{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1422610037,"post_id":363708,"comment_id":44827651,"body_markdown":"That&#39;s useful, but beware a small flaw: method signatures are like: nextDouble(double startInclusive, double endInclusive), but if you look inside the methods, endInclusive should actually be endExclusive.","body":"That&#39;s useful, but beware a small flaw: method signatures are like: nextDouble(double startInclusive, double endInclusive), but if you look inside the methods, endInclusive should actually be endExclusive."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1464947235,"post_id":363708,"comment_id":62705434,"body_markdown":"`Double.valueOf(Math.random()*(maximum-minimun)).intValue()` is quite an obfuscated (and inefficient) way to say `(int)(Math.random()*(maximum-minimun))`","body":"<code>Double.valueOf(Math.random()*(maximum-minimun)).intValue()</code> is quite an obfuscated (and inefficient) way to say <code>(int)(Math.random()*(maximum-minimun))</code>"},{"owner":{"account_id":199620,"reputation":3325,"user_id":445058,"accept_rate":20,"display_name":"Hrishikesh Mishra"},"score":1,"creation_date":1482729263,"post_id":363708,"comment_id":69856891,"body_markdown":"Spelling mismatch for minimum\n\nreturn minimum + Double.valueOf(Math.random() * (maximum - minimum)).intValue();","body":"Spelling mismatch for minimum  return minimum + Double.valueOf(Math.random() * (maximum - minimum)).intValue();"}],"tags":[],"owner":{"account_id":15137,"reputation":7882,"user_id":1356709,"accept_rate":53,"display_name":"user2427"},"comment_count":3,"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1549635083,"creation_date":1229106515,"answer_id":363708,"question_id":363681,"body_markdown":"    int random = minimum + Double.valueOf(Math.random()*(maximum-minimum )).intValue();\r\n\r\nOr take a look to RandomUtils from [Apache Commons][1].\r\n\r\n  [1]: http://commons.apache.org/lang\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>int random = minimum + Double.valueOf(Math.random()*(maximum-minimum )).intValue();\n</code></pre>\n\n<p>Or take a look to RandomUtils from <a href=\"http://commons.apache.org/lang\" rel=\"nofollow noreferrer\">Apache Commons</a>.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":0,"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1549630922,"creation_date":1229106688,"answer_id":363713,"question_id":363681,"body_markdown":"You can edit your second code example to:\r\n\r\n    Random rn = new Random();\r\n    int range = maximum - minimum + 1;\r\n    int randomNum =  rn.nextInt(range) + minimum;","title":"How do I generate random integers within a specific range in Java?","body":"<p>You can edit your second code example to:</p>\n\n<pre><code>Random rn = new Random();\nint range = maximum - minimum + 1;\nint randomNum =  rn.nextInt(range) + minimum;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":519386,"reputation":1046,"user_id":1020714,"accept_rate":80,"display_name":"Lilian A. Moraru"},"score":87,"creation_date":1330039594,"post_id":363732,"comment_id":11912829,"body_markdown":"The Sun documentation explicitly says that you should better use Random() if you need an int instead of Math.random() which produces a double.","body":"The Sun documentation explicitly says that you should better use Random() if you need an int instead of Math.random() which produces a double."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":7,"creation_date":1483018553,"post_id":363732,"comment_id":69963434,"body_markdown":"This is actually biased compared to nextInt methods http://stackoverflow.com/a/738651/360211","body":"This is actually biased compared to nextInt methods <a href=\"http://stackoverflow.com/a/738651/360211\">stackoverflow.com/a/738651/360211</a>"},{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":8,"creation_date":1567072098,"post_id":363732,"comment_id":101857087,"body_markdown":"&quot;Biased&quot; in this case means that after 2^53 executions, some numbers will have had one extra occourance, on average.","body":"&quot;Biased&quot; in this case means that after 2^53 executions, some numbers will have had one extra occourance, on average."},{"owner":{"account_id":16164999,"reputation":381,"user_id":11670196,"display_name":"Tobias"},"score":0,"creation_date":1603200516,"post_id":363732,"comment_id":113956719,"body_markdown":"Even thought i use this too, i want to point out that this is not a true random number. Thats why it should not be used for any security functionality. But for any casual cases it is the most straight forwrd method.","body":"Even thought i use this too, i want to point out that this is not a true random number. Thats why it should not be used for any security functionality. But for any casual cases it is the most straight forwrd method."},{"owner":{"account_id":12591296,"reputation":73,"user_id":9534328,"display_name":"Nils Reiter"},"score":0,"creation_date":1669726702,"post_id":363732,"comment_id":131704020,"body_markdown":"Also, the nextInt() methods in Random do not include the upper bound.","body":"Also, the nextInt() methods in Random do not include the upper bound."}],"tags":[],"owner":{"account_id":6046,"reputation":15901,"user_id":10007,"accept_rate":60,"display_name":"TJ_Fischer"},"comment_count":5,"down_vote_count":44,"up_vote_count":1552,"is_accepted":false,"score":1508,"last_activity_date":1549635214,"creation_date":1229106949,"answer_id":363732,"question_id":363681,"body_markdown":"Note that this approach is more biased and less efficient than a `nextInt` approach, https://stackoverflow.com/a/738651/360211\r\n\r\nOne standard pattern for accomplishing this is:\r\n\r\n    Min + (int)(Math.random() * ((Max - Min) + 1))\r\n\r\nThe [Java][1] Math library function Math.random() generates a double value in the range `[0,1)`. Notice this range does not include the 1.\r\n\r\nIn order to get a specific range of values first, you need to multiply by the magnitude of the range of values you want covered. \r\n\r\n    Math.random() * ( Max - Min )\r\n\r\nThis returns a value in the range `[0,Max-Min)`, where &#39;Max-Min&#39; is not included.\r\n\r\nFor example, if you want `[5,10)`, you need to cover five integer values so you use\r\n\r\n    Math.random() * 5\r\n\r\nThis would return a value in the range `[0,5)`, where 5 is not included.\r\n\r\nNow you need to shift this range up to the range that you are targeting. You do this by adding the Min value.\r\n\r\n    Min + (Math.random() * (Max - Min))\r\n\r\nYou now will get a value in the range `[Min,Max)`. Following our example, that means `[5,10)`:\r\n\r\n    5 + (Math.random() * (10 - 5))\r\n\r\nBut, this still doesn&#39;t include `Max` and you are getting a double value. In order to get the `Max` value included, you need to add 1 to your range parameter `(Max - Min)` and then truncate the decimal part by casting to an int. This is accomplished via:\r\n\r\n    Min + (int)(Math.random() * ((Max - Min) + 1))\r\n\r\nAnd there you have it. A random integer value in the range `[Min,Max]`, or per the example `[5,10]`:\r\n\r\n    5 + (int)(Math.random() * ((10 - 5) + 1))\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29","title":"How do I generate random integers within a specific range in Java?","body":"<p>Note that this approach is more biased and less efficient than a <code>nextInt</code> approach, <a href=\"https://stackoverflow.com/a/738651/360211\">https://stackoverflow.com/a/738651/360211</a></p>\n\n<p>One standard pattern for accomplishing this is:</p>\n\n<pre><code>Min + (int)(Math.random() * ((Max - Min) + 1))\n</code></pre>\n\n<p>The <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> Math library function Math.random() generates a double value in the range <code>[0,1)</code>. Notice this range does not include the 1.</p>\n\n<p>In order to get a specific range of values first, you need to multiply by the magnitude of the range of values you want covered. </p>\n\n<pre><code>Math.random() * ( Max - Min )\n</code></pre>\n\n<p>This returns a value in the range <code>[0,Max-Min)</code>, where 'Max-Min' is not included.</p>\n\n<p>For example, if you want <code>[5,10)</code>, you need to cover five integer values so you use</p>\n\n<pre><code>Math.random() * 5\n</code></pre>\n\n<p>This would return a value in the range <code>[0,5)</code>, where 5 is not included.</p>\n\n<p>Now you need to shift this range up to the range that you are targeting. You do this by adding the Min value.</p>\n\n<pre><code>Min + (Math.random() * (Max - Min))\n</code></pre>\n\n<p>You now will get a value in the range <code>[Min,Max)</code>. Following our example, that means <code>[5,10)</code>:</p>\n\n<pre><code>5 + (Math.random() * (10 - 5))\n</code></pre>\n\n<p>But, this still doesn't include <code>Max</code> and you are getting a double value. In order to get the <code>Max</code> value included, you need to add 1 to your range parameter <code>(Max - Min)</code> and then truncate the decimal part by casting to an int. This is accomplished via:</p>\n\n<pre><code>Min + (int)(Math.random() * ((Max - Min) + 1))\n</code></pre>\n\n<p>And there you have it. A random integer value in the range <code>[Min,Max]</code>, or per the example <code>[5,10]</code>:</p>\n\n<pre><code>5 + (int)(Math.random() * ((10 - 5) + 1))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1501682033,"post_id":424548,"comment_id":77886274,"body_markdown":"It baffles me why you instantiate index to 0.","body":"It baffles me why you instantiate index to 0."},{"owner":{"account_id":3036,"reputation":2577,"user_id":4298,"accept_rate":84,"display_name":"Matt R"},"score":0,"creation_date":1501684732,"post_id":424548,"comment_id":77888469,"body_markdown":"@CodeConfident The `index` variable will not affect the result of the random number. You can choose to initialize it any way you would like without having to worry about changing the outcome. Hope this helps.","body":"@CodeConfident The <code>index</code> variable will not affect the result of the random number. You can choose to initialize it any way you would like without having to worry about changing the outcome. Hope this helps."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1501684869,"post_id":424548,"comment_id":77888568,"body_markdown":"Exactly... it&#39;s completely unused. I would initialise it directly to the rand: `int index = rand.nextInt(i.Length);`","body":"Exactly... it&#39;s completely unused. I would initialise it directly to the rand: <code>int index = rand.nextInt(i.Length);</code>"},{"owner":{"account_id":220387,"reputation":15732,"user_id":477771,"accept_rate":100,"display_name":"Mark Storer"},"score":0,"creation_date":1568744675,"post_id":424548,"comment_id":102369324,"body_markdown":"Or not at all.  `int index; \\n index = rand...` if one is fond of declarations and assignments on different lines.  Some coding standards are more stringent (and without apparent purpose) than others.","body":"Or not at all.  <code>int index; \\n index = rand...</code> if one is fond of declarations and assignments on different lines.  Some coding standards are more stringent (and without apparent purpose) than others."}],"tags":[],"owner":{"account_id":3036,"reputation":2577,"user_id":4298,"accept_rate":84,"display_name":"Matt R"},"comment_count":4,"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1549635265,"creation_date":1231427082,"answer_id":424548,"question_id":363681,"body_markdown":"The `Math.Random` class in [Java][1] is 0-based. So, if you write something like this: \r\n\r\n    Random rand = new Random();\r\n    int x = rand.nextInt(10);\r\n\r\n`x` will be between `0-9` inclusive.\r\n\r\nSo, given the following array of `25` items, the code to generate a random number between `0` (the base of the array) and `array.length` would be:\r\n\r\n    String[] i = new String[25];\r\n    Random rand = new Random();\r\n    int index = 0;\r\n    \r\n    index = rand.nextInt( i.length );\r\n\r\nSince `i.length` will return `25`, the `nextInt( i.length )` will return a number between the range of `0-24`. The other option is going with `Math.Random` which works in the same way.\r\n\r\n    index = (int) Math.floor(Math.random() * i.length);\r\n\r\nFor a better understanding, check out forum post *[Random Intervals (archive.org)][2]*.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n  [2]: http://web.archive.org/web/20070308142422/http://www.kirupa.com/forum/showthread.php?s=&amp;postid=81565","title":"How do I generate random integers within a specific range in Java?","body":"<p>The <code>Math.Random</code> class in <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> is 0-based. So, if you write something like this: </p>\n\n<pre><code>Random rand = new Random();\nint x = rand.nextInt(10);\n</code></pre>\n\n<p><code>x</code> will be between <code>0-9</code> inclusive.</p>\n\n<p>So, given the following array of <code>25</code> items, the code to generate a random number between <code>0</code> (the base of the array) and <code>array.length</code> would be:</p>\n\n<pre><code>String[] i = new String[25];\nRandom rand = new Random();\nint index = 0;\n\nindex = rand.nextInt( i.length );\n</code></pre>\n\n<p>Since <code>i.length</code> will return <code>25</code>, the <code>nextInt( i.length )</code> will return a number between the range of <code>0-24</code>. The other option is going with <code>Math.Random</code> which works in the same way.</p>\n\n<pre><code>index = (int) Math.floor(Math.random() * i.length);\n</code></pre>\n\n<p>For a better understanding, check out forum post <em><a href=\"http://web.archive.org/web/20070308142422/http://www.kirupa.com/forum/showthread.php?s=&amp;postid=81565\" rel=\"noreferrer\">Random Intervals (archive.org)</a></em>.</p>\n"},{"tags":[],"owner":{"display_name":"jackson"},"comment_count":0,"down_vote_count":6,"up_vote_count":462,"is_accepted":false,"score":456,"last_activity_date":1549635260,"creation_date":1252038207,"answer_id":1377218,"question_id":363681,"body_markdown":"Use:\r\n\r\n    Random ran = new Random();\r\n    int x = ran.nextInt(6) + 5;\r\n\r\nThe integer `x` is now the random number that has a possible outcome of `5-10`.\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Use:</p>\n\n<pre><code>Random ran = new Random();\nint x = ran.nextInt(6) + 5;\n</code></pre>\n\n<p>The integer <code>x</code> is now the random number that has a possible outcome of <code>5-10</code>.</p>\n"},{"tags":[],"owner":{"account_id":589943,"reputation":217,"user_id":274198,"display_name":"sam"},"comment_count":0,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1461218507,"creation_date":1266310253,"answer_id":2271563,"question_id":363681,"body_markdown":"In case of rolling a dice it would be random number between 1 to 6 (not 0 to 6), so: \r\n\r\n    face = 1 + randomNumbers.nextInt(6);","title":"How do I generate random integers within a specific range in Java?","body":"<p>In case of rolling a dice it would be random number between 1 to 6 (not 0 to 6), so: </p>\n\n<pre><code>face = 1 + randomNumbers.nextInt(6);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":594924,"reputation":155,"user_id":278646,"display_name":"ganesh"},"comment_count":0,"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1461218519,"creation_date":1266839043,"answer_id":2310610,"question_id":363681,"body_markdown":"    rand.nextInt((max+1) - min) + min;\r\n\r\nThis is working fine. \r\n","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>rand.nextInt((max+1) - min) + min;\n</code></pre>\n\n<p>This is working fine. </p>\n"},{"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1420799277,"post_id":4647255,"comment_id":44119667,"body_markdown":"Why not throw an IllegalArgumentException when the difference = Integer.MAX_VALUE? Then you don&#39;t need the while loop.","body":"Why not throw an IllegalArgumentException when the difference = Integer.MAX_VALUE? Then you don&#39;t need the while loop."},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":3,"creation_date":1430940450,"post_id":4647255,"comment_id":48284763,"body_markdown":"@mpkorstanje This implementation is designed to work with any values of min &lt;= max, even when their difference is equal to or even larger than MAX_VALUE. Running a loop until success is a common pattern in this case, to guarantee uniform distribution (if the underlying source of randomness is uniform). Random.nextInt(int) does it internally when the argument is not a power of 2.","body":"@mpkorstanje This implementation is designed to work with any values of min &lt;= max, even when their difference is equal to or even larger than MAX_VALUE. Running a loop until success is a common pattern in this case, to guarantee uniform distribution (if the underlying source of randomness is uniform). Random.nextInt(int) does it internally when the argument is not a power of 2."}],"tags":[],"owner":{"account_id":276397,"reputation":655,"user_id":2081215,"display_name":"Joel Sj&#246;strand"},"comment_count":2,"down_vote_count":3,"up_vote_count":56,"is_accepted":false,"score":53,"last_activity_date":1524460893,"creation_date":1294665599,"answer_id":4647255,"question_id":363681,"body_markdown":"Forgive me for being fastidious, but the solution suggested by the majority, i.e., `min + rng.nextInt(max - min + 1))`, seems perilous due to the fact that:\r\n\r\n - `rng.nextInt(n)` cannot reach `Integer.MAX_VALUE`.\r\n - `(max - min)` may cause overflow when `min` is negative.\r\n\r\nA foolproof solution would return correct results for any `min &lt;= max` within [`Integer.MIN_VALUE`, `Integer.MAX_VALUE`]. Consider the following naive implementation:\r\n\r\n    int nextIntInRange(int min, int max, Random rng) {\r\n       if (min &gt; max) {\r\n          throw new IllegalArgumentException(&quot;Cannot draw random int from invalid range [&quot; + min + &quot;, &quot; + max + &quot;].&quot;);\r\n       }\r\n       int diff = max - min;\r\n       if (diff &gt;= 0 &amp;&amp; diff != Integer.MAX_VALUE) {\r\n          return (min + rng.nextInt(diff + 1));\r\n       }\r\n       int i;\r\n       do {\r\n          i = rng.nextInt();\r\n       } while (i &lt; min || i &gt; max);\r\n       return i;\r\n    }\r\n\r\nAlthough inefficient, note that the probability of success in the `while` loop will always be 50% or higher.","title":"How do I generate random integers within a specific range in Java?","body":"<p>Forgive me for being fastidious, but the solution suggested by the majority, i.e., <code>min + rng.nextInt(max - min + 1))</code>, seems perilous due to the fact that:</p>\n\n<ul>\n<li><code>rng.nextInt(n)</code> cannot reach <code>Integer.MAX_VALUE</code>.</li>\n<li><code>(max - min)</code> may cause overflow when <code>min</code> is negative.</li>\n</ul>\n\n<p>A foolproof solution would return correct results for any <code>min &lt;= max</code> within [<code>Integer.MIN_VALUE</code>, <code>Integer.MAX_VALUE</code>]. Consider the following naive implementation:</p>\n\n<pre><code>int nextIntInRange(int min, int max, Random rng) {\n   if (min &gt; max) {\n      throw new IllegalArgumentException(\"Cannot draw random int from invalid range [\" + min + \", \" + max + \"].\");\n   }\n   int diff = max - min;\n   if (diff &gt;= 0 &amp;&amp; diff != Integer.MAX_VALUE) {\n      return (min + rng.nextInt(diff + 1));\n   }\n   int i;\n   do {\n      i = rng.nextInt();\n   } while (i &lt; min || i &gt; max);\n   return i;\n}\n</code></pre>\n\n<p>Although inefficient, note that the probability of success in the <code>while</code> loop will always be 50% or higher.</p>\n"},{"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"comment_count":0,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1549635315,"creation_date":1310556715,"answer_id":6678179,"question_id":363681,"body_markdown":"    public static Random RANDOM = new Random(System.nanoTime());\r\n\r\n    public static final float random(final float pMin, final float pMax) {\r\n        return pMin + RANDOM.nextFloat() * (pMax - pMin);\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>public static Random RANDOM = new Random(System.nanoTime());\n\npublic static final float random(final float pMin, final float pMax) {\n    return pMin + RANDOM.nextFloat() * (pMax - pMin);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1524460948,"creation_date":1326903315,"answer_id":8913481,"question_id":363681,"body_markdown":"Another option is just using [Apache Commons][1]: \r\n\r\n    import org.apache.commons.math.random.RandomData;\r\n    import org.apache.commons.math.random.RandomDataImpl;\r\n\r\n    public void method() {\r\n        RandomData randomData = new RandomDataImpl();\r\n        int number = randomData.nextInt(5, 10);\r\n        // ...\r\n     }\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Commons","title":"How do I generate random integers within a specific range in Java?","body":"<p>Another option is just using <a href=\"http://en.wikipedia.org/wiki/Apache_Commons\" rel=\"noreferrer\">Apache Commons</a>: </p>\n\n<pre><code>import org.apache.commons.math.random.RandomData;\nimport org.apache.commons.math.random.RandomDataImpl;\n\npublic void method() {\n    RandomData randomData = new RandomDataImpl();\n    int number = randomData.nextInt(5, 10);\n    // ...\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1329322743,"creation_date":1329322743,"answer_id":9297051,"question_id":363681,"body_markdown":"Here&#39;s a helpful class to generate random `ints` in a range with any combination of inclusive/exclusive bounds:\r\n\r\n    import java.util.Random;\r\n    \r\n    public class RandomRange extends Random {\r\n    \tpublic int nextIncInc(int min, int max) {\r\n    \t\treturn nextInt(max - min + 1) + min;\r\n    \t}\r\n    \r\n    \tpublic int nextExcInc(int min, int max) {\r\n    \t\treturn nextInt(max - min) + 1 + min;\r\n    \t}\r\n    \r\n    \tpublic int nextExcExc(int min, int max) {\r\n    \t\treturn nextInt(max - min - 1) + 1 + min;\r\n    \t}\r\n    \r\n    \tpublic int nextIncExc(int min, int max) {\r\n    \t\treturn nextInt(max - min) + min;\r\n    \t}\r\n    }\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Here's a helpful class to generate random <code>ints</code> in a range with any combination of inclusive/exclusive bounds:</p>\n\n<pre><code>import java.util.Random;\n\npublic class RandomRange extends Random {\n    public int nextIncInc(int min, int max) {\n        return nextInt(max - min + 1) + min;\n    }\n\n    public int nextExcInc(int min, int max) {\n        return nextInt(max - min) + 1 + min;\n    }\n\n    public int nextExcExc(int min, int max) {\n        return nextInt(max - min - 1) + 1 + min;\n    }\n\n    public int nextIncExc(int min, int max) {\n        return nextInt(max - min) + min;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401136,"reputation":419,"user_id":767519,"display_name":"Hospes"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1549635284,"creation_date":1339065521,"answer_id":10930164,"question_id":363681,"body_markdown":"I found this example [Generate random numbers][1] : \r\n\r\n----------\r\n\r\nThis example generates random integers in a specific range. \r\n\r\n    \r\n    import java.util.Random;\r\n    \r\n    /** Generate random integers in a certain range. */\r\n    public final class RandomRange {\r\n      \r\n      public static final void main(String... aArgs){\r\n        log(&quot;Generating random integers in the range 1..10.&quot;);\r\n        \r\n        int START = 1;\r\n        int END = 10;\r\n        Random random = new Random();\r\n        for (int idx = 1; idx &lt;= 10; ++idx){\r\n          showRandomInteger(START, END, random);\r\n        }\r\n        \r\n        log(&quot;Done.&quot;);\r\n      }\r\n      \r\n      private static void showRandomInteger(int aStart, int aEnd, Random aRandom){\r\n        if ( aStart &gt; aEnd ) {\r\n          throw new IllegalArgumentException(&quot;Start cannot exceed End.&quot;);\r\n        }\r\n        //get the range, casting to long to avoid overflow problems\r\n        long range = (long)aEnd - (long)aStart + 1;\r\n        // compute a fraction of the range, 0 &lt;= frac &lt; range\r\n        long fraction = (long)(range * aRandom.nextDouble());\r\n        int randomNumber =  (int)(fraction + aStart);    \r\n        log(&quot;Generated : &quot; + randomNumber);\r\n      }\r\n      \r\n      private static void log(String aMessage){\r\n        System.out.println(aMessage);\r\n      }\r\n    } \r\n    \r\n    \r\nAn example run of this class :&lt;br/&gt;\r\n\r\n    Generating random integers in the range 1..10.\r\n    Generated : 9\r\n    Generated : 3\r\n    Generated : 3\r\n    Generated : 9\r\n    Generated : 4\r\n    Generated : 1\r\n    Generated : 3\r\n    Generated : 9\r\n    Generated : 10\r\n    Generated : 10\r\n    Done.\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=62","title":"How do I generate random integers within a specific range in Java?","body":"<p>I found this example <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=62\" rel=\"nofollow noreferrer\">Generate random numbers</a> : </p>\n\n<hr>\n\n<p>This example generates random integers in a specific range. </p>\n\n<pre><code>import java.util.Random;\n\n/** Generate random integers in a certain range. */\npublic final class RandomRange {\n\n  public static final void main(String... aArgs){\n    log(\"Generating random integers in the range 1..10.\");\n\n    int START = 1;\n    int END = 10;\n    Random random = new Random();\n    for (int idx = 1; idx &lt;= 10; ++idx){\n      showRandomInteger(START, END, random);\n    }\n\n    log(\"Done.\");\n  }\n\n  private static void showRandomInteger(int aStart, int aEnd, Random aRandom){\n    if ( aStart &gt; aEnd ) {\n      throw new IllegalArgumentException(\"Start cannot exceed End.\");\n    }\n    //get the range, casting to long to avoid overflow problems\n    long range = (long)aEnd - (long)aStart + 1;\n    // compute a fraction of the range, 0 &lt;= frac &lt; range\n    long fraction = (long)(range * aRandom.nextDouble());\n    int randomNumber =  (int)(fraction + aStart);    \n    log(\"Generated : \" + randomNumber);\n  }\n\n  private static void log(String aMessage){\n    System.out.println(aMessage);\n  }\n} \n</code></pre>\n\n<p>An example run of this class :<br/></p>\n\n<pre><code>Generating random integers in the range 1..10.\nGenerated : 9\nGenerated : 3\nGenerated : 3\nGenerated : 9\nGenerated : 4\nGenerated : 1\nGenerated : 3\nGenerated : 9\nGenerated : 10\nGenerated : 10\nDone.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1488403595,"post_id":11923174,"comment_id":72220514,"body_markdown":"`// Since the random number is between the min and max values, simply add 1`. Why? Doesn&#39;t min count? Usually the range is [min, max) where min is included and max is excluded. Wrong answer, voted down.","body":"<code>&#47;&#47; Since the random number is between the min and max values, simply add 1</code>. Why? Doesn&#39;t min count? Usually the range is [min, max) where min is included and max is excluded. Wrong answer, voted down."},{"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"score":0,"creation_date":1488448433,"post_id":11923174,"comment_id":72239131,"body_markdown":"@MaartenBodewes +1 is added because getRandomNumberBetween generates a random number exclusive of the provided endpoints.","body":"@MaartenBodewes +1 is added because getRandomNumberBetween generates a random number exclusive of the provided endpoints."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1529238110,"post_id":11923174,"comment_id":88792964,"body_markdown":"The number `min + 1` will be twice as likely than the other number to be the result of `getRandomNumberBetween`!","body":"The number <code>min + 1</code> will be twice as likely than the other number to be the result of <code>getRandomNumberBetween</code>!"}],"tags":[],"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"comment_count":3,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1650635921,"creation_date":1344783697,"answer_id":11923174,"question_id":363681,"body_markdown":"These methods might be convenient to use:\r\n\r\nThis method will return a random number ***between*** the provided minimum and maximum value:\r\n\r\n    public static int getRandomNumberBetween(int min, int max) {\r\n        Random foo = new Random();\r\n        int randomNumber = foo.nextInt(max - min) + min;\r\n        if (randomNumber == min) {\r\n            // Since the random number is between the min and max values, simply add 1\r\n            return min + 1;\r\n        } else {\r\n            return randomNumber;\r\n        }\r\n    }\r\n\r\nand this method will return a random number ***from*** the provided minimum and maximum value (so the generated number could also be the minimum or maximum number):\r\n\r\n    public static int getRandomNumberFrom(int min, int max) {\r\n        Random foo = new Random();\r\n        int randomNumber = foo.nextInt((max + 1) - min) + min;\r\n    \r\n        return randomNumber;\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>These methods might be convenient to use:</p>\n<p>This method will return a random number <em><strong>between</strong></em> the provided minimum and maximum value:</p>\n<pre><code>public static int getRandomNumberBetween(int min, int max) {\n    Random foo = new Random();\n    int randomNumber = foo.nextInt(max - min) + min;\n    if (randomNumber == min) {\n        // Since the random number is between the min and max values, simply add 1\n        return min + 1;\n    } else {\n        return randomNumber;\n    }\n}\n</code></pre>\n<p>and this method will return a random number <em><strong>from</strong></em> the provided minimum and maximum value (so the generated number could also be the minimum or maximum number):</p>\n<pre><code>public static int getRandomNumberFrom(int min, int max) {\n    Random foo = new Random();\n    int randomNumber = foo.nextInt((max + 1) - min) + min;\n\n    return randomNumber;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1666795,"reputation":1128,"user_id":1534027,"accept_rate":55,"display_name":"sachit"},"comment_count":0,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1650635969,"creation_date":1351325227,"answer_id":13098409,"question_id":363681,"body_markdown":"You can use this code snippet which will resolve your problem: \r\n\r\n    Random r = new Random();\r\n    int myRandomNumber = 0;\r\n    myRandomNumber = r.nextInt(maxValue - minValue + 1) + minValue;\r\n    \r\nUse myRandomNumber (which will give you a number within a range).\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>You can use this code snippet which will resolve your problem:</p>\n<pre><code>Random r = new Random();\nint myRandomNumber = 0;\nmyRandomNumber = r.nextInt(maxValue - minValue + 1) + minValue;\n</code></pre>\n<p>Use myRandomNumber (which will give you a number within a range).</p>\n"},{"tags":[],"owner":{"account_id":1424177,"reputation":846,"user_id":1348139,"accept_rate":67,"display_name":"jatin3893"},"comment_count":0,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1513798670,"creation_date":1351325846,"answer_id":13098451,"question_id":363681,"body_markdown":"I just generate a random number using Math.random() and multiply it by a big number, let&#39;s say 10000.  So, I get a number between 0 to 10,000 and call this number `i`. Now, if I need numbers between (x, y), then do the following:\r\n\r\n    i = x + (i % (y - x));\r\n\r\nSo, all `i`&#39;s are numbers between x and y.\r\n\r\nTo remove the bias as pointed out in the comments, rather than multiplying it by 10000 (or the big number), multiply it by (y-x).\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I just generate a random number using Math.random() and multiply it by a big number, let's say 10000.  So, I get a number between 0 to 10,000 and call this number <code>i</code>. Now, if I need numbers between (x, y), then do the following:</p>\n\n<pre><code>i = x + (i % (y - x));\n</code></pre>\n\n<p>So, all <code>i</code>'s are numbers between x and y.</p>\n\n<p>To remove the bias as pointed out in the comments, rather than multiplying it by 10000 (or the big number), multiply it by (y-x).</p>\n"},{"comments":[{"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"score":0,"creation_date":1471472723,"post_id":13728977,"comment_id":65366087,"body_markdown":"Try other ranges, your code does not produce the uniform values in the given range.  numberOne = 3.5 and numberTwo = 7.2 only produces values in the range 4.73..5.96.","body":"Try other ranges, your code does not produce the uniform values in the given range.  numberOne = 3.5 and numberTwo = 7.2 only produces values in the range 4.73..5.96."}],"tags":[],"owner":{"account_id":201517,"reputation":4011,"user_id":448005,"accept_rate":73,"display_name":"Arun Abraham"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1461218606,"creation_date":1354728528,"answer_id":13728977,"question_id":363681,"body_markdown":"One of my friends had asked me this same question in university today (his requirements was to generate a random number between 1 &amp; -1). So I wrote this, and it works fine so far with my testing. There are ideally a lot of ways to generate random numbers given a range. Try this: \r\n\r\nFunction:\r\n\r\n    private static float getRandomNumberBetween(float numberOne, float numberTwo) throws Exception{\r\n\r\n        if (numberOne == numberTwo){\r\n            throw new Exception(&quot;Both the numbers can not be equal&quot;);\r\n        }\r\n\r\n        float rand = (float) Math.random();\r\n        float highRange = Math.max(numberOne, numberTwo);\r\n        float lowRange = Math.min(numberOne, numberTwo);\r\n\r\n        float lowRand = (float) Math.floor(rand-1);\r\n        float highRand = (float) Math.ceil(rand+1);\r\n\r\n        float genRand = (highRange-lowRange)*((rand-lowRand)/(highRand-lowRand))+lowRange;\r\n\r\n        return genRand;\r\n    }\r\n\r\nExecute like this:\r\n\r\n    System.out.println( getRandomNumberBetween(1,-1));\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>One of my friends had asked me this same question in university today (his requirements was to generate a random number between 1 &amp; -1). So I wrote this, and it works fine so far with my testing. There are ideally a lot of ways to generate random numbers given a range. Try this: </p>\n\n<p>Function:</p>\n\n<pre><code>private static float getRandomNumberBetween(float numberOne, float numberTwo) throws Exception{\n\n    if (numberOne == numberTwo){\n        throw new Exception(\"Both the numbers can not be equal\");\n    }\n\n    float rand = (float) Math.random();\n    float highRange = Math.max(numberOne, numberTwo);\n    float lowRange = Math.min(numberOne, numberTwo);\n\n    float lowRand = (float) Math.floor(rand-1);\n    float highRand = (float) Math.ceil(rand+1);\n\n    float genRand = (highRange-lowRange)*((rand-lowRand)/(highRand-lowRand))+lowRange;\n\n    return genRand;\n}\n</code></pre>\n\n<p>Execute like this:</p>\n\n<pre><code>System.out.println( getRandomNumberBetween(1,-1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1870912,"reputation":3091,"user_id":1693143,"accept_rate":61,"display_name":"andrew"},"comment_count":0,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1584996641,"creation_date":1360711186,"answer_id":14843702,"question_id":363681,"body_markdown":"`ThreadLocalRandom` equivalent of class `java.util.Random` for multithreaded environment. Generating a random number is carried out locally in each of the threads. So we have a better performance by reducing the conflicts. \r\n\r\n    int rand = ThreadLocalRandom.current().nextInt(x,y);\r\n\r\n`x`,`y` - intervals e.g. (1,10)","title":"How do I generate random integers within a specific range in Java?","body":"<p><code>ThreadLocalRandom</code> equivalent of class <code>java.util.Random</code> for multithreaded environment. Generating a random number is carried out locally in each of the threads. So we have a better performance by reducing the conflicts. </p>\n\n<pre><code>int rand = ThreadLocalRandom.current().nextInt(x,y);\n</code></pre>\n\n<p><code>x</code>,<code>y</code> - intervals e.g. (1,10)</p>\n"},{"tags":[],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1375380435,"creation_date":1370618059,"answer_id":16987468,"question_id":363681,"body_markdown":"Try using `org.apache.commons.lang.RandomStringUtils` class. Yes, it sometimes give a  repeated number adjacently, but it will give the value between 5 and 15:\r\n\r\n        while (true)\r\n        {\r\n            int abc = Integer.valueOf(RandomStringUtils.randomNumeric(1));\r\n            int cd = Integer.valueOf(RandomStringUtils.randomNumeric(2));\r\n            if ((cd-abc) &gt;= 5 &amp;&amp; (cd-abc) &lt;= 15)\r\n            {\r\n                System.out.println(cd-abc);\r\n                break;\r\n            }\r\n        }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Try using <code>org.apache.commons.lang.RandomStringUtils</code> class. Yes, it sometimes give a  repeated number adjacently, but it will give the value between 5 and 15:</p>\n\n<pre><code>    while (true)\n    {\n        int abc = Integer.valueOf(RandomStringUtils.randomNumeric(1));\n        int cd = Integer.valueOf(RandomStringUtils.randomNumeric(2));\n        if ((cd-abc) &gt;= 5 &amp;&amp; (cd-abc) &lt;= 15)\n        {\n            System.out.println(cd-abc);\n            break;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":6,"creation_date":1497907427,"post_id":18554758,"comment_id":76266337,"body_markdown":"This could have been an edit of the other example, now it is just a blatant copy for reputation. Pointing out the &quot;answer with the most votes&quot; is also not very direct, it can change.","body":"This could have been an edit of the other example, now it is just a blatant copy for reputation. Pointing out the &quot;answer with the most votes&quot; is also not very direct, it can change."},{"owner":{"account_id":1136969,"reputation":13811,"user_id":1121841,"accept_rate":45,"display_name":"Abel Callejo"},"score":2,"creation_date":1497918967,"post_id":18554758,"comment_id":76269790,"body_markdown":"That is right @MaartenBodewes. When I wrote this answer, [the answer with the most votes above](https://stackoverflow.com/revisions/363692/15) was still written as an algorithm-like solution. Now, the solution above has changed a lot and now this answer looked like a copy-cat.","body":"That is right @MaartenBodewes. When I wrote this answer, <a href=\"https://stackoverflow.com/revisions/363692/15\">the answer with the most votes above</a> was still written as an algorithm-like solution. Now, the solution above has changed a lot and now this answer looked like a copy-cat."},{"owner":{"account_id":1695929,"reputation":1598,"user_id":1557306,"accept_rate":25,"display_name":"Leevi L"},"score":2,"creation_date":1570523513,"post_id":18554758,"comment_id":102930910,"body_markdown":"I really don&#39;t get why such fundamental bits of code are not part of Java standard libraries. Why do I have to implement this?","body":"I really don&#39;t get why such fundamental bits of code are not part of Java standard libraries. Why do I have to implement this?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675468089,"post_id":18554758,"comment_id":132942810,"body_markdown":"@MaartenBodewes When two answers provide the same solution, and both have been edited, it may not be clear and obvious which answer provided a given solution first. In that scenario please be very cautious about accusing anyone of _&quot;blatant copy for reputation&quot;_. (I&#39;m all in favor of calling out copycats, but just make sure that you don&#39;t make a false accusation, which is what seems to have happened here.)","body":"@MaartenBodewes When two answers provide the same solution, and both have been edited, it may not be clear and obvious which answer provided a given solution first. In that scenario please be very cautious about accusing anyone of <i>&quot;blatant copy for reputation&quot;</i>. (I&#39;m all in favor of calling out copycats, but just make sure that you don&#39;t make a false accusation, which is what seems to have happened here.)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1675492092,"post_id":18554758,"comment_id":132944809,"body_markdown":"@skomisa What the hell are you talking about, it explicitly pointed towards the answer with the same solution and then wrote a function header in front of it.","body":"@skomisa What the hell are you talking about, it explicitly pointed towards the answer with the same solution and then wrote a function header in front of it."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675544398,"post_id":18554758,"comment_id":132953466,"body_markdown":"@MaartenBodewes I can&#39;t view deleted comments, but I can see the current comments,  and also the revision history of answers. You have accused the person who posted this answer of creating _&quot;a blatant copy for reputation&quot;_. However, at the time this answer was posted it was (and still is) using a different algorithm to generate a random number compared to the linked answer (`Math.random()` vs. `Random.nextInt()`). So apart from other considerations, your accusation is baseless and false. Since you falsely smeared this poster publicly, it would be classy for you to now offer a public apology.","body":"@MaartenBodewes I can&#39;t view deleted comments, but I can see the current comments,  and also the revision history of answers. You have accused the person who posted this answer of creating <i>&quot;a blatant copy for reputation&quot;</i>. However, at the time this answer was posted it was (and still is) using a different algorithm to generate a random number compared to the linked answer (<code>Math.random()</code> vs. <code>Random.nextInt()</code>). So apart from other considerations, your accusation is baseless and false. Since you falsely smeared this poster publicly, it would be classy for you to now offer a public apology."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1675546850,"post_id":18554758,"comment_id":132953878,"body_markdown":"Well, thank you, I&#39;ll take your comments into consideration, comparing it to &quot; If you want to try the answer with the most votes above, you can simply use this code:&quot; which is *literally* the initial answer.","body":"Well, thank you, I&#39;ll take your comments into consideration, comparing it to &quot; If you want to try the answer with the most votes above, you can simply use this code:&quot; which is <i>literally</i> the initial answer."}],"tags":[],"owner":{"account_id":1136969,"reputation":13811,"user_id":1121841,"accept_rate":45,"display_name":"Abel Callejo"},"comment_count":7,"down_vote_count":4,"up_vote_count":67,"is_accepted":false,"score":63,"last_activity_date":1650636083,"creation_date":1378004033,"answer_id":18554758,"question_id":363681,"body_markdown":"It can be done by simply doing the statement:\r\n\r\n```java\r\nRandomizer.generate(0, 10); // Minimum of zero and maximum of ten\r\n```\r\n\r\nBelow is its source code.\r\n\r\n### File *Randomizer.java*\r\n\r\n```java\r\npublic class Randomizer {\r\n    public static int generate(int min, int max) {\r\n        return min + (int)(Math.random() * ((max - min) + 1));\r\n    }\r\n}\r\n```\r\n\r\nIt is just clean and simple.\r\n\r\n\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>It can be done by simply doing the statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Randomizer.generate(0, 10); // Minimum of zero and maximum of ten\n</code></pre>\n<p>Below is its source code.</p>\n<h3>File <em>Randomizer.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Randomizer {\n    public static int generate(int min, int max) {\n        return min + (int)(Math.random() * ((max - min) + 1));\n    }\n}\n</code></pre>\n<p>It is just clean and simple.</p>\n"},{"tags":[],"owner":{"account_id":1792037,"reputation":377,"user_id":1632187,"accept_rate":0,"display_name":"Akash Malhotra"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1461218677,"creation_date":1379928283,"answer_id":18955785,"question_id":363681,"body_markdown":"I think this code will work for it. Please try this: \r\n\r\n    import java.util.Random;\r\n    public final class RandomNumber {\r\n\r\n        public static final void main(String... aArgs) {\r\n            log(&quot;Generating 10 random integers in range 1..10.&quot;);\r\n            int START = 1;\r\n            int END = 10;\r\n            Random randomGenerator = new Random();\r\n            for (int idx=1; idx&lt;=10; ++idx) {\r\n\r\n                // int randomInt=randomGenerator.nextInt(100);\r\n                // log(&quot;Generated : &quot; + randomInt);\r\n                showRandomInteger(START,END,randomGenerator);\r\n            }\r\n            log(&quot;Done&quot;);\r\n        }\r\n\r\n        private static void log(String aMessage) {\r\n            System.out.println(aMessage);\r\n        }\r\n\r\n        private static void showRandomInteger(int aStart, int aEnd, Random aRandom) {\r\n            if (aStart &gt; aEnd) {\r\n                throw new IllegalArgumentException(&quot;Start cannot exceed End.&quot;);\r\n            }\r\n            long range = (long)aEnd - (long)aStart + 1;\r\n            long fraction = (long) (range * aRandom.nextDouble());\r\n            int randomNumber = (int) (fraction + aStart);\r\n            log(&quot;Generated&quot; + randomNumber);\r\n        }\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I think this code will work for it. Please try this: </p>\n\n<pre><code>import java.util.Random;\npublic final class RandomNumber {\n\n    public static final void main(String... aArgs) {\n        log(\"Generating 10 random integers in range 1..10.\");\n        int START = 1;\n        int END = 10;\n        Random randomGenerator = new Random();\n        for (int idx=1; idx&lt;=10; ++idx) {\n\n            // int randomInt=randomGenerator.nextInt(100);\n            // log(\"Generated : \" + randomInt);\n            showRandomInteger(START,END,randomGenerator);\n        }\n        log(\"Done\");\n    }\n\n    private static void log(String aMessage) {\n        System.out.println(aMessage);\n    }\n\n    private static void showRandomInteger(int aStart, int aEnd, Random aRandom) {\n        if (aStart &gt; aEnd) {\n            throw new IllegalArgumentException(\"Start cannot exceed End.\");\n        }\n        long range = (long)aEnd - (long)aStart + 1;\n        long fraction = (long) (range * aRandom.nextDouble());\n        int randomNumber = (int) (fraction + aStart);\n        log(\"Generated\" + randomNumber);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user591593"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1390049227,"creation_date":1385302503,"answer_id":20175547,"question_id":363681,"body_markdown":"I am thinking to linearly normalize the generated random numbers into desired range by using the following. Let `x` be a random number, let `a` and `b` be the minimum and maximum range of desired normalized number.\r\n\r\nThen below is just a very simple code snipplet to test the range produced by the linear mapping.\r\n\r\n    public static void main(String[] args) {\r\n        int a = 100;\r\n        int b = 1000;\r\n        int lowest = b;\r\n        int highest = a;\r\n        int count = 100000;\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            int nextNumber = (int) ((Math.abs(random.nextDouble()) * (b - a))) + a;\r\n            if (nextNumber &lt; a || nextNumber &gt; b) {\r\n                System.err.println(&quot;number not in range :&quot; + nextNumber);\r\n            }\r\n            else {\r\n                System.out.println(nextNumber);\r\n            }\r\n            if (nextNumber &lt; lowest) {\r\n                lowest = nextNumber;\r\n            }\r\n            if (nextNumber &gt; highest) {\r\n                highest = nextNumber;\r\n            }\r\n        }\r\n        System.out.println(&quot;Produced &quot; + count + &quot; numbers from &quot; + lowest\r\n                + &quot; to &quot; + highest);\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I am thinking to linearly normalize the generated random numbers into desired range by using the following. Let <code>x</code> be a random number, let <code>a</code> and <code>b</code> be the minimum and maximum range of desired normalized number.</p>\n\n<p>Then below is just a very simple code snipplet to test the range produced by the linear mapping.</p>\n\n<pre><code>public static void main(String[] args) {\n    int a = 100;\n    int b = 1000;\n    int lowest = b;\n    int highest = a;\n    int count = 100000;\n    Random random = new Random();\n    for (int i = 0; i &lt; count; i++) {\n        int nextNumber = (int) ((Math.abs(random.nextDouble()) * (b - a))) + a;\n        if (nextNumber &lt; a || nextNumber &gt; b) {\n            System.err.println(\"number not in range :\" + nextNumber);\n        }\n        else {\n            System.out.println(nextNumber);\n        }\n        if (nextNumber &lt; lowest) {\n            lowest = nextNumber;\n        }\n        if (nextNumber &gt; highest) {\n            highest = nextNumber;\n        }\n    }\n    System.out.println(\"Produced \" + count + \" numbers from \" + lowest\n            + \" to \" + highest);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":10,"creation_date":1497907313,"post_id":20761900,"comment_id":76266284,"body_markdown":"I don&#39;t see anything new here that hadn&#39;t been posted in countless earlier posts.","body":"I don&#39;t see anything new here that hadn&#39;t been posted in countless earlier posts."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1616790156,"post_id":20761900,"comment_id":118123040,"body_markdown":"@MaartenBodewes Those countless posts are hard to find. Some other methods on top","body":"@MaartenBodewes Those countless posts are hard to find. Some other methods on top"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1616790676,"post_id":20761900,"comment_id":118123214,"body_markdown":"Yeah, posting yet another dupe is not going to help against that. Vote up the other answers or add details. Otherwise it is just rep farming.","body":"Yeah, posting yet another dupe is not going to help against that. Vote up the other answers or add details. Otherwise it is just rep farming."}],"tags":[],"owner":{"account_id":273521,"reputation":483,"user_id":565179,"display_name":"Prof Mo"},"comment_count":3,"down_vote_count":5,"up_vote_count":26,"is_accepted":false,"score":21,"last_activity_date":1549635311,"creation_date":1387891993,"answer_id":20761900,"question_id":363681,"body_markdown":"Just use the [Random][1] class: \r\n\r\n    Random ran = new Random();\r\n    // Assumes max and min are non-negative.\r\n    int randomInt = min + ran.nextInt(max - min + 1);\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Just use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html\" rel=\"noreferrer\">Random</a> class: </p>\n\n<pre><code>Random ran = new Random();\n// Assumes max and min are non-negative.\nint randomInt = min + ran.nextInt(max - min + 1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":1,"creation_date":1425916331,"post_id":21127158,"comment_id":46146563,"body_markdown":"% has even bigger problem of distribution bias. I wrote a blog post about it recently: https://jaroslawpawlak.wordpress.com/2014/10/11/random-number-generator-using-modulo/","body":"% has even bigger problem of distribution bias. I wrote a blog post about it recently: <a href=\"https://jaroslawpawlak.wordpress.com/2014/10/11/random-number-generator-using-modulo/\" rel=\"nofollow noreferrer\">jaroslawpawlak.wordpress.com/2014/10/11/&hellip;</a>"}],"tags":[],"owner":{"account_id":2624111,"reputation":1574,"user_id":2271536,"accept_rate":60,"display_name":"Jorge"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1461218699,"creation_date":1389747115,"answer_id":21127158,"question_id":363681,"body_markdown":"I will simply state what is wrong with the solutions provided by the question and why the errors. \r\n\r\nSolution 1:\r\n\r\n    randomNum = minimum + (int)(Math.random()*maximum); \r\n\r\nProblem: randomNum is assigned values numbers bigger than maximum.\r\n\r\nExplanation: Suppose our minimum is 5, and your maximum is 10. Any value from `Math.random()` greater than 0.6 will make the expression evaluate to 6 or greater, and adding 5 makes it greater than 10 (your maximum). The problem is you are multiplying the random number by the maximum (which generates a number almost as big as the maximum) and then adding the minimum. Unless the minimum is 1, it&#39;s not correct. You have to switch to, as mentioned in other answers\r\n\r\n    randomNum = minimum + (int)(Math.random()*(maximum-minimum+1))\r\n\r\nThe +1 is because `Math.random()` will never return 1.0.\r\n\r\nSolution 2:\r\n\r\n    Random rn = new Random();\r\n    int n = maximum - minimum + 1;\r\n    int i = rn.nextInt() % n;\r\n    randomNum =  minimum + i;\r\n\r\nYour problem here is that &#39;%&#39; may return a negative number if the first term is smaller than 0. Since `rn.nextInt()` returns negative values with ~50% chance, you will also not get the expected result.\r\n\r\nThis, was, however, almost perfect. You just had to look a bit further down the Javadoc, [nextInt(int n)][1]. With that method available, doing\r\n\r\n    Random rn = new Random();\r\n    int n = maximum - minimum + 1;\r\n    int i = rn.nextInt(n);\r\n    randomNum =  minimum + i;\r\n    \r\nWould also return the desired result.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I will simply state what is wrong with the solutions provided by the question and why the errors. </p>\n\n<p>Solution 1:</p>\n\n<pre><code>randomNum = minimum + (int)(Math.random()*maximum); \n</code></pre>\n\n<p>Problem: randomNum is assigned values numbers bigger than maximum.</p>\n\n<p>Explanation: Suppose our minimum is 5, and your maximum is 10. Any value from <code>Math.random()</code> greater than 0.6 will make the expression evaluate to 6 or greater, and adding 5 makes it greater than 10 (your maximum). The problem is you are multiplying the random number by the maximum (which generates a number almost as big as the maximum) and then adding the minimum. Unless the minimum is 1, it's not correct. You have to switch to, as mentioned in other answers</p>\n\n<pre><code>randomNum = minimum + (int)(Math.random()*(maximum-minimum+1))\n</code></pre>\n\n<p>The +1 is because <code>Math.random()</code> will never return 1.0.</p>\n\n<p>Solution 2:</p>\n\n<pre><code>Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt() % n;\nrandomNum =  minimum + i;\n</code></pre>\n\n<p>Your problem here is that '%' may return a negative number if the first term is smaller than 0. Since <code>rn.nextInt()</code> returns negative values with ~50% chance, you will also not get the expected result.</p>\n\n<p>This, was, however, almost perfect. You just had to look a bit further down the Javadoc, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29\" rel=\"nofollow\">nextInt(int n)</a>. With that method available, doing</p>\n\n<pre><code>Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt(n);\nrandomNum =  minimum + i;\n</code></pre>\n\n<p>Would also return the desired result.</p>\n"},{"tags":[],"owner":{"account_id":3791269,"reputation":541,"user_id":3147737,"accept_rate":84,"display_name":"f3d0r"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1461218714,"creation_date":1400973672,"answer_id":23850587,"question_id":363681,"body_markdown":"You can either use the Random class to generate a random number and then use the .nextInt(maxNumber) to generate a random number. The maxNumber is the number that you want the maximum when generating a random number. Please remember though, that the Random class gives you the numbers 0 through maxNumber-1.  \r\n\r\n    Random r = new Random();\r\n    int i = r.nextInt();\r\n\r\nAnother way to do this is to use the Math.Random() class which many classes in schools require you to use because it is more efficient and you don&#39;t have to declare a new Random object. To get a random number using Math.Random() you type in:\r\n\r\n    Math.random() * (max - min) + min;","title":"How do I generate random integers within a specific range in Java?","body":"<p>You can either use the Random class to generate a random number and then use the .nextInt(maxNumber) to generate a random number. The maxNumber is the number that you want the maximum when generating a random number. Please remember though, that the Random class gives you the numbers 0 through maxNumber-1.  </p>\n\n<pre><code>Random r = new Random();\nint i = r.nextInt();\n</code></pre>\n\n<p>Another way to do this is to use the Math.Random() class which many classes in schools require you to use because it is more efficient and you don't have to declare a new Random object. To get a random number using Math.Random() you type in:</p>\n\n<pre><code>Math.random() * (max - min) + min;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923134,"reputation":2455,"user_id":1734143,"accept_rate":29,"display_name":"yottabrain"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1461218722,"creation_date":1402717838,"answer_id":24216407,"question_id":363681,"body_markdown":"    import java.util.Random; \r\n    \r\n    public class RandomUtil {\r\n    \t// Declare as class variable so that it is not re-seeded every call\r\n    \tprivate static Random random = new Random();\r\n    \r\n    \t/**\r\n    \t * Returns a psuedo-random number between min and max (both inclusive)\r\n    \t * @param min Minimim value\r\n    \t * @param max Maximim value. Must be greater than min.\r\n    \t * @return Integer between min and max (both inclusive)\r\n    \t * @see java.util.Random#nextInt(int)\r\n    \t */\r\n    \tpublic static int nextInt(int min, int max) {\r\n    \t\t// nextInt is normally exclusive of the top value,\r\n    \t\t// so add 1 to make it inclusive\r\n    \t\treturn random.nextInt((max - min) + 1) + min;\r\n    \t}\r\n    }","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>import java.util.Random; \n\npublic class RandomUtil {\n    // Declare as class variable so that it is not re-seeded every call\n    private static Random random = new Random();\n\n    /**\n     * Returns a psuedo-random number between min and max (both inclusive)\n     * @param min Minimim value\n     * @param max Maximim value. Must be greater than min.\n     * @return Integer between min and max (both inclusive)\n     * @see java.util.Random#nextInt(int)\n     */\n    public static int nextInt(int min, int max) {\n        // nextInt is normally exclusive of the top value,\n        // so add 1 to make it inclusive\n        return random.nextInt((max - min) + 1) + min;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4404927,"reputation":351,"user_id":3589614,"display_name":"Sunil Chawla"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1549635250,"creation_date":1407035274,"answer_id":25101263,"question_id":363681,"body_markdown":"Let us take an example.\r\n\r\nSuppose I wish to generate a number between **5-10**:\r\n    \r\n    int max = 10;\r\n    int min = 5;\r\n    int diff = max - min;\r\n    Random rn = new Random();\r\n    int i = rn.nextInt(diff + 1);\r\n    i += min;\r\n    System.out.print(&quot;The Random Number is &quot; + i);\r\n    \r\n*Let us understand this*...\r\n\r\n&gt;&gt; Initialize max with highest value and min with the lowest value. \r\n\r\n&gt;&gt; Now, we need to determine how many possible values can be obtained. For this example, it would be:\r\n\r\n&gt;&gt;&gt; **5, 6, 7, 8, 9, 10**\r\n\r\n&gt;&gt; So, count of this would be max - min + 1. \r\n    \r\n&gt;&gt;&gt; i.e. 10 - 5 + 1 = 6\r\n\r\n&gt;&gt; The random number will generate a number between **0-5**. \r\n\r\n&gt;&gt;&gt;  i.e. 0, 1, 2, 3, 4, 5\r\n\r\n&gt;&gt; Adding the *min* value to the random number would produce:\r\n\r\n&gt;&gt;&gt; 5, 6, 7, 8, 9, 10      \r\n\r\n&gt;&gt; Hence we obtain the desired range. \r\n   \r\n      \r\n   \r\n ","title":"How do I generate random integers within a specific range in Java?","body":"<p>Let us take an example.</p>\n\n<p>Suppose I wish to generate a number between <strong>5-10</strong>:</p>\n\n<pre><code>int max = 10;\nint min = 5;\nint diff = max - min;\nRandom rn = new Random();\nint i = rn.nextInt(diff + 1);\ni += min;\nSystem.out.print(\"The Random Number is \" + i);\n</code></pre>\n\n<p><em>Let us understand this</em>...</p>\n\n<blockquote>\n  <blockquote>\n    <p>Initialize max with highest value and min with the lowest value. </p>\n    \n    <p>Now, we need to determine how many possible values can be obtained. For this example, it would be:</p>\n    \n    <blockquote>\n      <p><strong>5, 6, 7, 8, 9, 10</strong></p>\n    </blockquote>\n    \n    <p>So, count of this would be max - min + 1. </p>\n    \n    <blockquote>\n      <p>i.e. 10 - 5 + 1 = 6</p>\n    </blockquote>\n    \n    <p>The random number will generate a number between <strong>0-5</strong>. </p>\n    \n    <blockquote>\n      <p>i.e. 0, 1, 2, 3, 4, 5</p>\n    </blockquote>\n    \n    <p>Adding the <em>min</em> value to the random number would produce:</p>\n    \n    <blockquote>\n      <p>5, 6, 7, 8, 9, 10      </p>\n    </blockquote>\n    \n    <p>Hence we obtain the desired range. </p>\n  </blockquote>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3805302,"reputation":1898,"user_id":3157899,"accept_rate":62,"display_name":"Naxos84"},"score":3,"creation_date":1519629223,"post_id":27156435,"comment_id":84971182,"body_markdown":"I would suggest that you instantiate the randomIterator only once. See Greg Case comment on his own answer.","body":"I would suggest that you instantiate the randomIterator only once. See Greg Case comment on his own answer."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":1,"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1698203884,"creation_date":1417026547,"answer_id":27156435,"question_id":363681,"body_markdown":"With [Java 8][1] they introduced the method [`ints(int randomNumberOrigin, int randomNumberBound)`][2] in the [`Random`][3] class. \r\n\r\nFor example if you want to generate five random integers (or a single one) in the range [0, 10], just do:\r\n\r\n    Random r = new Random();\r\n    int[] fiveRandomNumbers = r.ints(5, 0, 11).toArray();\r\n    int randomNumber = r.ints(1, 0, 11).findFirst().getAsInt();\r\n\r\n\r\nThe first parameter indicates just the size of the `IntStream` generated (which is the overloaded method of the one that produces an unlimited `IntStream`).\r\n\r\nIf you need to do multiple separate calls, you can create an infinite primitive iterator from the stream:\r\n\r\n    public final class IntRandomNumberGenerator {\r\n    \r\n        private PrimitiveIterator.OfInt randomIterator;\r\n    \r\n        /**\r\n         * Initialize a new random number generator that generates\r\n         * random numbers in the range [min, max]\r\n         * @param min - the min value (inclusive)\r\n         * @param max - the max value (inclusive)\r\n         */\r\n        public IntRandomNumberGenerator(int min, int max) {\r\n            randomIterator = new Random().ints(min, max + 1).iterator();\r\n        }\r\n    \r\n        /**\r\n         * Returns a random number in the range (min, max)\r\n         * @return a random number in the range (min, max)\r\n         */\r\n        public int nextInt() {\r\n            return randomIterator.nextInt();\r\n        }\r\n    }\r\n\r\nYou can also do it for `double` and `long` values.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/java8.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html","title":"How do I generate random integers within a specific range in Java?","body":"<p>With <a href=\"https://www.oracle.com/java/technologies/java8.html\" rel=\"nofollow noreferrer\">Java 8</a> they introduced the method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-\" rel=\"nofollow noreferrer\"><code>ints(int randomNumberOrigin, int randomNumberBound)</code></a> in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code></a> class.</p>\n<p>For example if you want to generate five random integers (or a single one) in the range [0, 10], just do:</p>\n<pre><code>Random r = new Random();\nint[] fiveRandomNumbers = r.ints(5, 0, 11).toArray();\nint randomNumber = r.ints(1, 0, 11).findFirst().getAsInt();\n</code></pre>\n<p>The first parameter indicates just the size of the <code>IntStream</code> generated (which is the overloaded method of the one that produces an unlimited <code>IntStream</code>).</p>\n<p>If you need to do multiple separate calls, you can create an infinite primitive iterator from the stream:</p>\n<pre><code>public final class IntRandomNumberGenerator {\n\n    private PrimitiveIterator.OfInt randomIterator;\n\n    /**\n     * Initialize a new random number generator that generates\n     * random numbers in the range [min, max]\n     * @param min - the min value (inclusive)\n     * @param max - the max value (inclusive)\n     */\n    public IntRandomNumberGenerator(int min, int max) {\n        randomIterator = new Random().ints(min, max + 1).iterator();\n    }\n\n    /**\n     * Returns a random number in the range (min, max)\n     * @return a random number in the range (min, max)\n     */\n    public int nextInt() {\n        return randomIterator.nextInt();\n    }\n}\n</code></pre>\n<p>You can also do it for <code>double</code> and <code>long</code> values.</p>\n"},{"tags":[],"owner":{"account_id":2019453,"reputation":8204,"user_id":1805989,"display_name":"Yakiv Mospan"},"comment_count":0,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1417136334,"creation_date":1417135824,"answer_id":27180520,"question_id":363681,"body_markdown":"Here is a simple sample that shows how to generate random number from closed `[min, max]` range, while `min &lt;= max is true`\r\n\r\nYou can reuse it as field in hole class, also having all `Random.class` methods in one place\r\n\r\n**Results example:**\r\n\r\n    RandomUtils random = new RandomUtils();\r\n    random.nextInt(0, 0); // returns 0\r\n    random.nextInt(10, 10); // returns 10\r\n    random.nextInt(-10, 10); // returns numbers from -10 to 10 (-10, -9....9, 10)\r\n    random.nextInt(10, -10); // throws assert\r\n\r\n**Sources:**\r\n\r\n    import junit.framework.Assert;\r\n    import java.util.Random;\r\n    \r\n    public class RandomUtils extends Random {\r\n    \r\n        /**\r\n         * @param min generated value. Can&#39;t be &gt; then max\r\n         * @param max generated value\r\n         * @return values in closed range [min, max].\r\n         */\r\n        public int nextInt(int min, int max) {\r\n            Assert.assertFalse(&quot;min can&#39;t be &gt; then max; values:[&quot; + min + &quot;, &quot; + max + &quot;]&quot;, min &gt; max);\r\n            if (min == max) {\r\n                return max;\r\n            }\r\n    \r\n            return nextInt(max - min + 1) + min;\r\n        }\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Here is a simple sample that shows how to generate random number from closed <code>[min, max]</code> range, while <code>min &lt;= max is true</code></p>\n\n<p>You can reuse it as field in hole class, also having all <code>Random.class</code> methods in one place</p>\n\n<p><strong>Results example:</strong></p>\n\n<pre><code>RandomUtils random = new RandomUtils();\nrandom.nextInt(0, 0); // returns 0\nrandom.nextInt(10, 10); // returns 10\nrandom.nextInt(-10, 10); // returns numbers from -10 to 10 (-10, -9....9, 10)\nrandom.nextInt(10, -10); // throws assert\n</code></pre>\n\n<p><strong>Sources:</strong></p>\n\n<pre><code>import junit.framework.Assert;\nimport java.util.Random;\n\npublic class RandomUtils extends Random {\n\n    /**\n     * @param min generated value. Can't be &gt; then max\n     * @param max generated value\n     * @return values in closed range [min, max].\n     */\n    public int nextInt(int min, int max) {\n        Assert.assertFalse(\"min can't be &gt; then max; values:[\" + min + \", \" + max + \"]\", min &gt; max);\n        if (min == max) {\n            return max;\n        }\n\n        return nextInt(max - min + 1) + min;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"score":0,"creation_date":1471470385,"post_id":28453447,"comment_id":65365224,"body_markdown":"If max and min are large, this causes overflow problems and will give incorrect results.","body":"If max and min are large, this causes overflow problems and will give incorrect results."}],"tags":[],"owner":{"account_id":483118,"reputation":455,"user_id":1025230,"display_name":"Muhammad Aamir Talib"},"comment_count":1,"down_vote_count":5,"up_vote_count":15,"is_accepted":false,"score":10,"last_activity_date":1461218753,"creation_date":1423654818,"answer_id":28453447,"question_id":363681,"body_markdown":"    private static Random random = new Random();    \r\n\r\n    public static int getRandomInt(int min, int max){\r\n      return random.nextInt(max - min + 1) + min;\r\n    }\r\n\r\nOR\r\n\r\n    public static int getRandomInt(Random random, int min, int max)\r\n    {\r\n      return random.nextInt(max - min + 1) + min;\r\n    }","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>private static Random random = new Random();    \n\npublic static int getRandomInt(int min, int max){\n  return random.nextInt(max - min + 1) + min;\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>public static int getRandomInt(Random random, int min, int max)\n{\n  return random.nextInt(max - min + 1) + min;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1467981015,"post_id":29021708,"comment_id":63952791,"body_markdown":"For minimum &lt;= value &lt; maximum, I did the same with Math : **randomNum = minimum + (int)(Math.random() * (maximum-minimum));** but the casting isn&#39;t really nice to see ;)","body":"For minimum &lt;= value &lt; maximum, I did the same with Math : <b>randomNum = minimum + (int)(Math.random() * (maximum-minimum));</b> but the casting isn&#39;t really nice to see ;)"}],"tags":[],"owner":{"account_id":5181328,"reputation":1405,"user_id":4146952,"display_name":"hexabunny"},"comment_count":1,"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1549635269,"creation_date":1426200268,"answer_id":29021708,"question_id":363681,"body_markdown":"Just a small modification of your first solution would suffice.\r\n\r\n    Random rand = new Random();\r\n    randomNum = minimum + rand.nextInt((maximum - minimum) + 1);\r\n\r\n----------\r\nSee more here for implementation of [`Random`][1]\r\n\r\n  [1]: https://insight.io/github.com/lambdalab-mirror/jdk8u-jdk/blob/master/src/share/classes/java/util/Random.java?line=77","title":"How do I generate random integers within a specific range in Java?","body":"<p>Just a small modification of your first solution would suffice.</p>\n\n<pre><code>Random rand = new Random();\nrandomNum = minimum + rand.nextInt((maximum - minimum) + 1);\n</code></pre>\n\n<hr>\n\n<p>See more here for implementation of <a href=\"https://insight.io/github.com/lambdalab-mirror/jdk8u-jdk/blob/master/src/share/classes/java/util/Random.java?line=77\" rel=\"noreferrer\"><code>Random</code></a></p>\n"},{"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1429212654,"post_id":29279143,"comment_id":47505405,"body_markdown":"This is not that good, because if it is executed in the same mili second then you will get the same number, you need to put the rand initialization and the setSeet outside of the method.","body":"This is not that good, because if it is executed in the same mili second then you will get the same number, you need to put the rand initialization and the setSeet outside of the method."},{"owner":{"account_id":3057654,"reputation":5535,"user_id":2590960,"accept_rate":54,"display_name":"grep"},"score":0,"creation_date":1429272216,"post_id":29279143,"comment_id":47533177,"body_markdown":"You need seed, yes, but using SecureRandom.","body":"You need seed, yes, but using SecureRandom."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1429348783,"post_id":29279143,"comment_id":47565516,"body_markdown":"I&#39;m sorry, but the one who rejected the change request has no clue of Java programming **It is a good suggestion, but as is it is wrong** because if executed in the same mili second it will give the same number, not random.","body":"I&#39;m sorry, but the one who rejected the change request has no clue of Java programming <b>It is a good suggestion, but as is it is wrong</b> because if executed in the same mili second it will give the same number, not random."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1429349444,"post_id":29279143,"comment_id":47565694,"body_markdown":"The correct solution isn&#39;t anywhere to be found, not many people know static initializer blocks... that is what you should use to set the seed: 1: `private static int SecureRandom rand = new SecureRandom();` 2: `static {` 3: `rand.setSeed(...);` 4: `}`","body":"The correct solution isn&#39;t anywhere to be found, not many people know static initializer blocks... that is what you should use to set the seed: 1: <code>private static int SecureRandom rand = new SecureRandom();</code> 2: <code>static {</code> 3: <code>rand.setSeed(...);</code> 4: <code>}</code>"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1429349998,"post_id":29279143,"comment_id":47565874,"body_markdown":"the int on line one should be deleted in my example. And the two first lines inside of your function. The rest stays the same.","body":"the int on line one should be deleted in my example. And the two first lines inside of your function. The rest stays the same."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":7,"creation_date":1488403966,"post_id":29279143,"comment_id":72220723,"body_markdown":"There is absolutely no need to seed `SecureRandom`, it will be seeded by the system. Directly calling `setSeed` is very dangerous, it may replace the (really random) seed with the date. And that will certainly *not* result in a `SecureRandom`, as anybody can guess the time and try and seed their own `SecureRandom` instance with that information.","body":"There is absolutely no need to seed <code>SecureRandom</code>, it will be seeded by the system. Directly calling <code>setSeed</code> is very dangerous, it may replace the (really random) seed with the date. And that will certainly <i>not</i> result in a <code>SecureRandom</code>, as anybody can guess the time and try and seed their own <code>SecureRandom</code> instance with that information."},{"owner":{"account_id":1437198,"reputation":15519,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":0,"creation_date":1658219084,"post_id":29279143,"comment_id":128990690,"body_markdown":"@MaartenBodewes Note that the docs for `SecureRandom.setSeed` say that &quot;The given seed supplements, rather than replaces, the existing seed.&quot;  hence this idiom seems safe, if somewhat pointless.  I&#39;ve seen this wording used back to Java 1.1, but https://docs.oracle.com/javase/6/docs/api/java/security/SecureRandom.html#setSeed(long) are the oldest docs from Oracle I can find.  That said, I agree that seeding seems like cargo-cult programming  you&#39;ll get a lot more entropy from the system&#39;s pool than from the current time","body":"@MaartenBodewes Note that the docs for <code>SecureRandom.setSeed</code> say that &quot;The given seed supplements, rather than replaces, the existing seed.&quot;  hence this idiom seems safe, if somewhat pointless.  I&#39;ve seen this wording used back to Java 1.1, but <a href=\"https://docs.oracle.com/javase/6/docs/api/java/security/SecureRandom.html#setSeed(long)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/security/&hellip;</a> are the oldest docs from Oracle I can find.  That said, I agree that seeding seems like cargo-cult programming  you&#39;ll get a lot more entropy from the system&#39;s pool than from the current time"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1658225604,"post_id":29279143,"comment_id":128993203,"body_markdown":"Unfortunately the actual implementation did not always do this if you reseeded before using it. Of course, the method name is also asinine. It should have been called &quot;reseed&quot; to confirm with terminology or even the more direct `supplementSeed`.  I&#39;ll have to investigate what different Java versions do with this and beware that Android implementations have been - uh - somewhat dysfunctional in the past.","body":"Unfortunately the actual implementation did not always do this if you reseeded before using it. Of course, the method name is also asinine. It should have been called &quot;reseed&quot; to confirm with terminology or even the more direct <code>supplementSeed</code>.  I&#39;ll have to investigate what different Java versions do with this and beware that Android implementations have been - uh - somewhat dysfunctional in the past."}],"tags":[],"owner":{"account_id":3057654,"reputation":5535,"user_id":2590960,"accept_rate":54,"display_name":"grep"},"comment_count":8,"down_vote_count":6,"up_vote_count":21,"is_accepted":false,"score":15,"last_activity_date":1467832776,"creation_date":1427374960,"answer_id":29279143,"question_id":363681,"body_markdown":"It&#39;s better to use [SecureRandom][1] rather than just Random.\r\n\r\n    public static int generateRandomInteger(int min, int max) {\r\n        SecureRandom rand = new SecureRandom();\r\n        rand.setSeed(new Date().getTime());\r\n        int randomNum = rand.nextInt((max - min) + 1) + min;\r\n        return randomNum;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>It's better to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom</a> rather than just Random.</p>\n\n<pre><code>public static int generateRandomInteger(int min, int max) {\n    SecureRandom rand = new SecureRandom();\n    rand.setSeed(new Date().getTime());\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n    return randomNum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2396988,"reputation":523,"user_id":2095604,"display_name":"thangaraj"},"comment_count":0,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1467832941,"creation_date":1428502441,"answer_id":29517198,"question_id":363681,"body_markdown":"You can do something like this:\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.math.*;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            int first, second;\r\n\r\n            Scanner myScanner = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Enter first integer: &quot;);\r\n            int numOne;\r\n            numOne = myScanner.nextInt();\r\n            System.out.println(&quot;You have keyed in &quot; + numOne);\r\n\r\n            System.out.println(&quot;Enter second integer: &quot;);\r\n            int numTwo;\r\n            numTwo = myScanner.nextInt();\r\n            System.out.println(&quot;You have keyed in &quot; + numTwo);\r\n\r\n            Random generator = new Random();\r\n            int num = (int)(Math.random()*numTwo);\r\n            System.out.println(&quot;Random number: &quot; + ((num&gt;numOne)?num:numOne+num));\r\n        }\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>You can do something like this:</p>\n\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        int first, second;\n\n        Scanner myScanner = new Scanner(System.in);\n\n        System.out.println(\"Enter first integer: \");\n        int numOne;\n        numOne = myScanner.nextInt();\n        System.out.println(\"You have keyed in \" + numOne);\n\n        System.out.println(\"Enter second integer: \");\n        int numTwo;\n        numTwo = myScanner.nextInt();\n        System.out.println(\"You have keyed in \" + numTwo);\n\n        Random generator = new Random();\n        int num = (int)(Math.random()*numTwo);\n        System.out.println(\"Random number: \" + ((num&gt;numOne)?num:numOne+num));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1650636258,"post_id":30480195,"comment_id":127172901,"body_markdown":"How is this different from previous answers?","body":"How is this different from previous answers?"}],"tags":[],"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"comment_count":1,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1549635307,"creation_date":1432723388,"answer_id":30480195,"question_id":363681,"body_markdown":"Generate a random number for the difference of min and max by using the [nextint(n)][1] method and then add min number to the result:\r\n\r\n    Random rn = new Random();\r\n    int result = rn.nextInt(max - min + 1) + min;\r\n    System.out.println(result);\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt(int)\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Generate a random number for the difference of min and max by using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt(int)\" rel=\"noreferrer\">nextint(n)</a> method and then add min number to the result:</p>\n\n<pre><code>Random rn = new Random();\nint result = rn.nextInt(max - min + 1) + min;\nSystem.out.println(result);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1650636336,"post_id":33424282,"comment_id":127172926,"body_markdown":"An explanation would be in order. E.g., what is the idea/gist? What is this thread thing? Why is it necessary? From [the Help Center](https://stackoverflow.com/help/promotion): *&quot;...always explain why the solution you&#39;re presenting is appropriate and how it works&quot;*. Please respond by [editing (changing) your answer](https://stackoverflow.com/posts/33424282/edit), not here in comments (***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today).","body":"An explanation would be in order. E.g., what is the idea/gist? What is this thread thing? Why is it necessary? From <a href=\"https://stackoverflow.com/help/promotion\">the Help Center</a>: <i>&quot;...always explain why the solution you&#39;re presenting is appropriate and how it works&quot;</i>. Please respond by <a href=\"https://stackoverflow.com/posts/33424282/edit\">editing (changing) your answer</a>, not here in comments (<b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today)."}],"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1446208511,"creation_date":1446151573,"answer_id":33424282,"question_id":363681,"body_markdown":"Random number from the range [min..max] inclusive:\r\n    \r\n    int randomFromMinToMaxInclusive = ThreadLocalRandom.current()\r\n            .nextInt(min, max + 1);","title":"How do I generate random integers within a specific range in Java?","body":"<p>Random number from the range [min..max] inclusive:</p>\n\n<pre><code>int randomFromMinToMaxInclusive = ThreadLocalRandom.current()\n        .nextInt(min, max + 1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1488404394,"post_id":39711614,"comment_id":72220969,"body_markdown":"This becomes tricky once you have found most of the numbers within the range; there are more efficient ways of doing this (e.g. generating a random number with a max equal to the number of elements remaining, and skipping already found numbers. Like Bingo really.","body":"This becomes tricky once you have found most of the numbers within the range; there are more efficient ways of doing this (e.g. generating a random number with a max equal to the number of elements remaining, and skipping already found numbers. Like Bingo really."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1650636443,"post_id":39711614,"comment_id":127172970,"body_markdown":"Yes, this will become very very slow. Yet another [Shlemiel the painters algorithm](https://www.joelonsoftware.com/2001/12/11/back-to-basics/)? Or even worse? Can you add some timing information to quantify the problem, e.g. for min = 1 and max = 1000000? (But ***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today.)","body":"Yes, this will become very very slow. Yet another <a href=\"https://www.joelonsoftware.com/2001/12/11/back-to-basics/\" rel=\"nofollow noreferrer\">Shlemiel the painters algorithm</a>? Or even worse? Can you add some timing information to quantify the problem, e.g. for min = 1 and max = 1000000? (But <b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today.)"}],"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474920833,"creation_date":1474920833,"answer_id":39711614,"question_id":363681,"body_markdown":"This will generate **Random numbers list** with **range (Min - Max)** with **no duplicate**.\r\n\r\n    generateRandomListNoDuplicate(1000, 8000, 500);\r\n\r\nAdd this method.\r\n\r\n    private void generateRandomListNoDuplicate(int min, int max, int totalNoRequired) {\r\n        Random rng = new Random();\r\n        Set&lt;Integer&gt; generatedList = new LinkedHashSet&lt;&gt;();\r\n        while (generatedList.size() &lt; totalNoRequired) {\r\n            Integer radnomInt = rng.nextInt(max - min + 1) + min;\r\n            generatedList.add(radnomInt);\r\n        }\r\n    }\r\n\r\nHope this will help you.","title":"How do I generate random integers within a specific range in Java?","body":"<p>This will generate <strong>Random numbers list</strong> with <strong>range (Min - Max)</strong> with <strong>no duplicate</strong>.</p>\n\n<pre><code>generateRandomListNoDuplicate(1000, 8000, 500);\n</code></pre>\n\n<p>Add this method.</p>\n\n<pre><code>private void generateRandomListNoDuplicate(int min, int max, int totalNoRequired) {\n    Random rng = new Random();\n    Set&lt;Integer&gt; generatedList = new LinkedHashSet&lt;&gt;();\n    while (generatedList.size() &lt; totalNoRequired) {\n        Integer radnomInt = rng.nextInt(max - min + 1) + min;\n        generatedList.add(radnomInt);\n    }\n}\n</code></pre>\n\n<p>Hope this will help you.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1497907742,"post_id":40854699,"comment_id":76266462,"body_markdown":"Creating guard statements (if value &gt; other value then exception) should also work (presuming the range isn&#39;t set by user / system input).","body":"Creating guard statements (if value &gt; other value then exception) should also work (presuming the range isn&#39;t set by user / system input)."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650636637,"creation_date":1480372411,"answer_id":40854699,"question_id":363681,"body_markdown":"Most of previous suggestions don&#39;t consider &#39;overflow&#39;. For example: min = Integer.MIN_VALUE, max = 100. One of the correct approaches I have so far is:\r\n\r\n    final long mod = max- min + 1L;\r\n    final int next = (int) (Math.abs(rand.nextLong() % mod) + min);\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Most of previous suggestions don't consider 'overflow'. For example: min = Integer.MIN_VALUE, max = 100. One of the correct approaches I have so far is:</p>\n<pre><code>final long mod = max- min + 1L;\nfinal int next = (int) (Math.abs(rand.nextLong() % mod) + min);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1488227244,"post_id":41273686,"comment_id":72129428,"body_markdown":"Nice. You could use `List&lt;Integer&gt; ls = range.boxed().collect(Collectors.toList());`","body":"Nice. You could use <code>List&lt;Integer&gt; ls = range.boxed().collect(Collectors.toList());</code>"},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1488227300,"post_id":41273686,"comment_id":72129463,"body_markdown":"new Integer(i) was also redundant, but it gets removed by the code in my previous comment anyway.","body":"new Integer(i) was also redundant, but it gets removed by the code in my previous comment anyway."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":1,"creation_date":1501681483,"post_id":41273686,"comment_id":77885780,"body_markdown":"Doesn&#39;t this provide 6 numbers in a random order rather than a single number? Seems a bit wasteful. And should I want another random number I can&#39;t just take the second in the list because it has no chance of being the same as the number already taken.","body":"Doesn&#39;t this provide 6 numbers in a random order rather than a single number? Seems a bit wasteful. And should I want another random number I can&#39;t just take the second in the list because it has no chance of being the same as the number already taken."}],"tags":[],"owner":{"account_id":202717,"reputation":830,"user_id":449946,"accept_rate":100,"display_name":"firephil"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1482364431,"creation_date":1482363436,"answer_id":41273686,"question_id":363681,"body_markdown":"**A different approach using Java 8 IntStream and Collections.shuffle**\r\n\r\n\r\n    import java.util.stream.IntStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tIntStream range = IntStream.rangeClosed(5,10);\r\n    \t\tArrayList&lt;Integer&gt; ls =  new ArrayList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\t//populate the ArrayList\r\n    \t\trange.forEach(i -&gt; ls.add(new Integer(i)) );\r\n    \t\t\r\n    \t\t//perform a random shuffle  using the Collections Fisher-Yates shuffle\r\n    \t\tCollections.shuffle(ls);\r\n    \t\tSystem.out.println(ls);\r\n    \t}\r\n    }\r\n\r\n\r\n**The equivalent in Scala**\r\n\r\n    import scala.util.Random\r\n    \r\n    object RandomRange extends App{\r\n      val x =  Random.shuffle(5 to 10)\r\n    \tprintln(x)\r\n    }","title":"How do I generate random integers within a specific range in Java?","body":"<p><strong>A different approach using Java 8 IntStream and Collections.shuffle</strong></p>\n\n<pre><code>import java.util.stream.IntStream;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        IntStream range = IntStream.rangeClosed(5,10);\n        ArrayList&lt;Integer&gt; ls =  new ArrayList&lt;Integer&gt;();\n\n        //populate the ArrayList\n        range.forEach(i -&gt; ls.add(new Integer(i)) );\n\n        //perform a random shuffle  using the Collections Fisher-Yates shuffle\n        Collections.shuffle(ls);\n        System.out.println(ls);\n    }\n}\n</code></pre>\n\n<p><strong>The equivalent in Scala</strong></p>\n\n<pre><code>import scala.util.Random\n\nobject RandomRange extends App{\n  val x =  Random.shuffle(5 to 10)\n    println(x)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495365218,"creation_date":1484807845,"answer_id":41735301,"question_id":363681,"body_markdown":"I have created a method to get a unique integer in a given range.\r\n\r\n    /*\r\n          * minNum is the minimum possible random number\r\n          * maxNum is the maximum possible random number\r\n          * numbersNeeded is the quantity of random number required\r\n          * the give method provides you with unique random number between min &amp; max range\r\n    */\r\n    public static Set&lt;Integer&gt; getUniqueRandomNumbers( int minNum , int maxNum ,int numbersNeeded ){\r\n\r\n        if(minNum &gt;= maxNum)\r\n            throw new IllegalArgumentException(&quot;maxNum must be greater than minNum&quot;);\r\n\r\n        if(! (numbersNeeded &gt; (maxNum - minNum + 1) ))\r\n            throw new IllegalArgumentException(&quot;numberNeeded must be greater then difference b/w (max- min +1)&quot;);\r\n\r\n        Random rng = new Random(); // Ideally just create one instance globally\r\n\r\n        // Note: use LinkedHashSet to maintain insertion order\r\n        Set&lt;Integer&gt; generated = new LinkedHashSet&lt;Integer&gt;();\r\n        while (generated.size() &lt; numbersNeeded)\r\n        {\r\n            Integer next = rng.nextInt((maxNum - minNum) + 1) + minNum;\r\n\r\n            // As we&#39;re adding to a set, this will automatically do a containment check\r\n            generated.add(next);\r\n        }\r\n        return generated;\r\n    }\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I have created a method to get a unique integer in a given range.</p>\n\n<pre><code>/*\n      * minNum is the minimum possible random number\n      * maxNum is the maximum possible random number\n      * numbersNeeded is the quantity of random number required\n      * the give method provides you with unique random number between min &amp; max range\n*/\npublic static Set&lt;Integer&gt; getUniqueRandomNumbers( int minNum , int maxNum ,int numbersNeeded ){\n\n    if(minNum &gt;= maxNum)\n        throw new IllegalArgumentException(\"maxNum must be greater than minNum\");\n\n    if(! (numbersNeeded &gt; (maxNum - minNum + 1) ))\n        throw new IllegalArgumentException(\"numberNeeded must be greater then difference b/w (max- min +1)\");\n\n    Random rng = new Random(); // Ideally just create one instance globally\n\n    // Note: use LinkedHashSet to maintain insertion order\n    Set&lt;Integer&gt; generated = new LinkedHashSet&lt;Integer&gt;();\n    while (generated.size() &lt; numbersNeeded)\n    {\n        Integer next = rng.nextInt((maxNum - minNum) + 1) + minNum;\n\n        // As we're adding to a set, this will automatically do a containment check\n        generated.add(next);\n    }\n    return generated;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1650636796,"post_id":43634278,"comment_id":127173101,"body_markdown":"Where is the streams stuff in this solution? The `random.ints` part? What does it do? What problem does it solve? An explanation would be in order.","body":"Where is the streams stuff in this solution? The <code>random.ints</code> part? What does it do? What problem does it solve? An explanation would be in order."}],"tags":[],"owner":{"account_id":10712746,"reputation":64,"user_id":7884494,"display_name":"Jake O"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1495365103,"creation_date":1493209814,"answer_id":43634278,"question_id":363681,"body_markdown":"Using Java 8 Streams,\r\n\r\n * Pass the initialCapacity - How many numbers\r\n * Pass the randomBound - from x to randomBound\r\n * Pass true/false for sorted or not\r\n * Pass an new Random() object\r\n\r\n&amp;nbsp;\r\n\r\n    public static List&lt;Integer&gt; generateNumbers(int initialCapacity, int randomBound, Boolean sorted, Random random) {\r\n\r\n        List&lt;Integer&gt; numbers = random.ints(initialCapacity, 1, randomBound).boxed().collect(Collectors.toList());\r\n\r\n        if (sorted)\r\n            numbers.sort(null);\r\n\r\n        return numbers;\r\n    }\r\n\r\nIt generates numbers from 1-Randombound in this example.\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Using Java 8 Streams,</p>\n\n<ul>\n<li>Pass the initialCapacity - How many numbers</li>\n<li>Pass the randomBound - from x to randomBound</li>\n<li>Pass true/false for sorted or not</li>\n<li>Pass an new Random() object</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<pre><code>public static List&lt;Integer&gt; generateNumbers(int initialCapacity, int randomBound, Boolean sorted, Random random) {\n\n    List&lt;Integer&gt; numbers = random.ints(initialCapacity, 1, randomBound).boxed().collect(Collectors.toList());\n\n    if (sorted)\n        numbers.sort(null);\n\n    return numbers;\n}\n</code></pre>\n\n<p>It generates numbers from 1-Randombound in this example.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1650636878,"post_id":44202788,"comment_id":127173131,"body_markdown":"This does not answer the question: *&quot;...within a specific range...&quot;*","body":"This does not answer the question: <i>&quot;...within a specific range...&quot;</i>"},{"owner":{"account_id":6818997,"reputation":3699,"user_id":5246706,"accept_rate":80,"display_name":"Divyesh Kanzariya"},"score":0,"creation_date":1656484368,"post_id":44202788,"comment_id":128580607,"body_markdown":"@PeterMortensen update the answer thank for suggestion.","body":"@PeterMortensen update the answer thank for suggestion."}],"tags":[],"owner":{"account_id":6818997,"reputation":3699,"user_id":5246706,"accept_rate":80,"display_name":"Divyesh Kanzariya"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1656484318,"creation_date":1495805078,"answer_id":44202788,"question_id":363681,"body_markdown":"If you already use `Commons Lang API 3.x` or latest version then there is one class for random number generation `RandomUtils`.\r\n\r\n    public static int nextInt(int startInclusive, int endExclusive)\r\n\r\nReturns a random integer within the specified range.\r\n\r\nParameters:\r\n\r\n**startInclusive** - the specified starting value\r\n\r\n**endExclusive** - the specified end value\r\n\r\n    int random = RandomUtils.nextInt(999,1000000);\r\n\r\nNote: In [RandomUtils][1] have many methods for random number generation    \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomUtils.html#nextInt-int-int-","title":"How do I generate random integers within a specific range in Java?","body":"<p>If you already use <code>Commons Lang API 3.x</code> or latest version then there is one class for random number generation <code>RandomUtils</code>.</p>\n<pre><code>public static int nextInt(int startInclusive, int endExclusive)\n</code></pre>\n<p>Returns a random integer within the specified range.</p>\n<p>Parameters:</p>\n<p><strong>startInclusive</strong> - the specified starting value</p>\n<p><strong>endExclusive</strong> - the specified end value</p>\n<pre><code>int random = RandomUtils.nextInt(999,1000000);\n</code></pre>\n<p>Note: In <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomUtils.html#nextInt-int-int-\" rel=\"nofollow noreferrer\">RandomUtils</a> have many methods for random number generation</p>\n"},{"comments":[{"owner":{"account_id":4554878,"reputation":629,"user_id":3698882,"accept_rate":80,"display_name":"sokras"},"score":0,"creation_date":1500536331,"post_id":44228421,"comment_id":77382638,"body_markdown":"This function produces the same number over and over again. In my case it was: 2147483647","body":"This function produces the same number over and over again. In my case it was: 2147483647"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1524518814,"post_id":44228421,"comment_id":86996944,"body_markdown":"Fail: you have a function that requires a double and then perform + 1? This certainly goes against the principle of least surprise. What happens if you use min = 0.1 and max = 0.2?","body":"Fail: you have a function that requires a double and then perform + 1? This certainly goes against the principle of least surprise. What happens if you use min = 0.1 and max = 0.2?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1524519391,"post_id":44228421,"comment_id":86997151,"body_markdown":"@sokras the method calls `new Random` (check the JavaDoc): &quot;Creates a new random number generator. This constructor sets the seed of the random number generator to a value very likely to be distinct from any other invocation of this constructor.&quot; Very likely might just involve using the current time as seed. If that time uses milliseconds then current computers are fast enough to generate the same number. But besides that 2147483647 is `Integer.MAX_VALUE`; the output obviously depends on the input, which you haven&#39;t specified.","body":"@sokras the method calls <code>new Random</code> (check the JavaDoc): &quot;Creates a new random number generator. This constructor sets the seed of the random number generator to a value very likely to be distinct from any other invocation of this constructor.&quot; Very likely might just involve using the current time as seed. If that time uses milliseconds then current computers are fast enough to generate the same number. But besides that 2147483647 is <code>Integer.MAX_VALUE</code>; the output obviously depends on the input, which you haven&#39;t specified."}],"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":3,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1564640739,"creation_date":1495981849,"answer_id":44228421,"question_id":363681,"body_markdown":"I use this:\r\n\r\n     /**\r\n       * @param min - The minimum.\r\n       * @param max - The maximum.\r\n       * @return A random double between these numbers (inclusive the minimum and maximum).\r\n       */\r\n     public static double getRandom(double min, double max) {\r\n       return (Math.random() * (max + 1 - min)) + min;\r\n     }\r\n\r\nYou can cast it to an Integer if you want.\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>I use this:</p>\n\n<pre><code> /**\n   * @param min - The minimum.\n   * @param max - The maximum.\n   * @return A random double between these numbers (inclusive the minimum and maximum).\n   */\n public static double getRandom(double min, double max) {\n   return (Math.random() * (max + 1 - min)) + min;\n }\n</code></pre>\n\n<p>You can cast it to an Integer if you want.</p>\n"},{"tags":[],"owner":{"display_name":"user5150135"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1549635255,"creation_date":1497962357,"answer_id":44653324,"question_id":363681,"body_markdown":"You can achieve that concisely in Java 8:\r\n\r\n    Random random = new Random();\r\n\r\n\tint max = 10;\r\n\tint min = 5;\r\n\tint totalNumber = 10;\r\n\r\n\tIntStream stream = random.ints(totalNumber, min, max);\r\n\tstream.forEach(System.out::println);","title":"How do I generate random integers within a specific range in Java?","body":"<p>You can achieve that concisely in Java 8:</p>\n\n<pre><code>Random random = new Random();\n\nint max = 10;\nint min = 5;\nint totalNumber = 10;\n\nIntStream stream = random.ints(totalNumber, min, max);\nstream.forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1546683680,"post_id":46642267,"comment_id":94936481,"body_markdown":"An explanation would be in order.","body":"An explanation would be in order."}],"tags":[],"owner":{"account_id":11854068,"reputation":224,"user_id":8674497,"display_name":"namezhouyu"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1549634960,"creation_date":1507538908,"answer_id":46642267,"question_id":363681,"body_markdown":"    Random random = new Random();\r\n    int max = 10;\r\n    int min = 3;\r\n    int randomNum = random.nextInt(max) % (max - min + 1) + min;\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>Random random = new Random();\nint max = 10;\nint min = 3;\nint randomNum = random.nextInt(max) % (max - min + 1) + min;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5670392,"reputation":2796,"user_id":4485195,"display_name":"Lawakush Kurmi"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1549634952,"creation_date":1509604687,"answer_id":47069053,"question_id":363681,"body_markdown":"To generate a random number &quot;in between two numbers&quot;, use the following code:\r\n\r\n    Random r = new Random();\r\n    int lowerBound = 1;\r\n    int upperBound = 11;\r\n    int result = r.nextInt(upperBound-lowerBound) + lowerBound;\r\n\r\nThis gives you a random number in between 1 (inclusive) and 11 (exclusive), so initialize the upperBound value by adding 1. For example, if you want to generate random number between 1 to 10 then initialize the upperBound number with 11 instead of 10.\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>To generate a random number \"in between two numbers\", use the following code:</p>\n\n<pre><code>Random r = new Random();\nint lowerBound = 1;\nint upperBound = 11;\nint result = r.nextInt(upperBound-lowerBound) + lowerBound;\n</code></pre>\n\n<p>This gives you a random number in between 1 (inclusive) and 11 (exclusive), so initialize the upperBound value by adding 1. For example, if you want to generate random number between 1 to 10 then initialize the upperBound number with 11 instead of 10.</p>\n"},{"tags":[],"owner":{"account_id":963148,"reputation":794,"user_id":987044,"accept_rate":50,"display_name":"ledlogic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512169307,"creation_date":1512169307,"answer_id":47602699,"question_id":363681,"body_markdown":"There is a library at https://sourceforge.net/projects/stochunit/ for handling selection of ranges.\r\n\r\n    StochIntegerSelector randomIntegerSelector = new StochIntegerSelector();\r\n    randomIntegerSelector.setMin(-1);\r\n    randomIntegerSelector.setMax(1);\r\n    Integer selectInteger = randomIntegerSelector.selectInteger();\r\n\r\nIt has edge inclusion/preclusion.\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>There is a library at <a href=\"https://sourceforge.net/projects/stochunit/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/stochunit/</a> for handling selection of ranges.</p>\n\n<pre><code>StochIntegerSelector randomIntegerSelector = new StochIntegerSelector();\nrandomIntegerSelector.setMin(-1);\nrandomIntegerSelector.setMax(1);\nInteger selectInteger = randomIntegerSelector.selectInteger();\n</code></pre>\n\n<p>It has edge inclusion/preclusion.</p>\n"},{"comments":[{"owner":{"account_id":14193977,"reputation":670,"user_id":10253771,"display_name":"user10253771"},"score":0,"creation_date":1548205437,"post_id":48978108,"comment_id":95457036,"body_markdown":"This doesn&#39;t look right. In &quot;int n = (max + 1 - min) + min; return (int) (Math.random() * n);&quot; , n = max + 1, and you are just creating an int in [0, max] instead of [min, max]. It should be &quot;int n = max + 1 - min; return (int) (Math.random() * n) + min;&quot;","body":"This doesn&#39;t look right. In &quot;int n = (max + 1 - min) + min; return (int) (Math.random() * n);&quot; , n = max + 1, and you are just creating an int in [0, max] instead of [min, max]. It should be &quot;int n = max + 1 - min; return (int) (Math.random() * n) + min;&quot;"}],"tags":[],"owner":{"account_id":903020,"reputation":2058,"user_id":6441370,"accept_rate":67,"display_name":"Sidd Thota"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549634986,"creation_date":1519590394,"answer_id":48978108,"question_id":363681,"body_markdown":"Say you want range between 0-9, 0 is minimum and 9 is maximum. The below function will print anything between 0 and 9. It&#39;s the same for all ranges.\r\n\r\n    public static void main(String[] args) {\r\n        int b = randomNumberRange(0, 9);\r\n        int d = randomNumberRange (100, 200);\r\n        System.out.println(&quot;value of b is &quot; + b);\r\n        System.out.println(&quot;value of d is &quot; + d);\r\n    }\r\n\r\n    public static int randomNumberRange(int min, int max) {\r\n        int n = (max + 1 - min) + min;\r\n        return (int) (Math.random() * n);\r\n    }\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>Say you want range between 0-9, 0 is minimum and 9 is maximum. The below function will print anything between 0 and 9. It's the same for all ranges.</p>\n\n<pre><code>public static void main(String[] args) {\n    int b = randomNumberRange(0, 9);\n    int d = randomNumberRange (100, 200);\n    System.out.println(\"value of b is \" + b);\n    System.out.println(\"value of d is \" + d);\n}\n\npublic static int randomNumberRange(int min, int max) {\n    int n = (max + 1 - min) + min;\n    return (int) (Math.random() * n);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":928419,"reputation":2169,"user_id":958732,"display_name":"Johnbot"},"score":0,"creation_date":1532068152,"post_id":49784982,"comment_id":89842521,"body_markdown":"Is there a reason why the example includes a `.parallel()`? It seems to me like generating a 100 random numbers would be too trivial to warrant parallelism.","body":"Is there a reason why the example includes a <code>.parallel()</code>? It seems to me like generating a 100 random numbers would be too trivial to warrant parallelism."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1532075720,"post_id":49784982,"comment_id":89846690,"body_markdown":"@Johnbot Thanks for comment, you are right. But, the main reason was to show an API (of course, the smart path is to measure performance before using `parallel` processing). By the way, for array of `1_000_000` elements, the `parallel` version was 2 times faster on my machine in comparison with sequential.","body":"@Johnbot Thanks for comment, you are right. But, the main reason was to show an API (of course, the smart path is to measure performance before using <code>parallel</code> processing). By the way, for array of <code>1_000_000</code> elements, the <code>parallel</code> version was 2 times faster on my machine in comparison with sequential."}],"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1694296430,"creation_date":1523483679,"answer_id":49784982,"question_id":363681,"body_markdown":"&gt; As of Java 7, you should no longer use *Random*. For most uses, the\r\n&gt; random number generator of choice is now\r\n&gt; [ThreadLocalRandom][1].&lt;br/&gt;&lt;br/&gt;For fork join pools and parallel\r\n&gt; streams, use [SplittableRandom][2].\r\n\r\n*Joshua Bloch. Effective Java. Third Edition.*\r\n\r\nStarting from Java 8\r\n---\r\n\r\nFor fork join pools and parallel streams, use [SplittableRandom][2] (it implements [SplittableGenerator][4] interface, see Java 17 notes below) that is usually faster, has a better statistical independence and uniformity properties in comparison with *Random*.\r\n\r\nTo generate a random `int` in the range `[0, 1_000]:`\r\n\r\n    int n = new SplittableRandom().nextInt(0, 1_001);\r\n\r\nTo generate a random `int[100]` array of values in the range `[0, 1_000]:`\r\n\r\n    int[] a = new SplittableRandom().ints(100, 0, 1_001).parallel().toArray();\r\n\r\nTo return a Stream of random values:\r\n\r\n    IntStream stream = new SplittableRandom().ints(100, 0, 1_001);\r\n\r\nJava 17\r\n---\r\n\r\n&gt; It is recommended that multithreaded applications\r\n&gt; use either [ThreadLocalRandom][3] or (preferably) pseudorandom number\r\n&gt; generators that implement the [RandomGenerator.SplittableGenerator][4] or\r\n&gt; [RandomGenerator.JumpableGenerator][5] interface.\r\n\r\n*[RandomGenerator][6]&lt;sup&gt;1&lt;/sup&gt; documentation*.\r\n\r\n---\r\n\r\n&lt;sup&gt;1 - RandomGenerator is a modern interface that was introduced in Java 17. It is a common protocol for objects that generate random or pseudorandom sequences of numbers and has more features and methods than Random.&lt;/sup&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java#answer-363692\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.SplittableGenerator.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.JumpableGenerator.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html","title":"How do I generate random integers within a specific range in Java?","body":"<blockquote>\n<p>As of Java 7, you should no longer use <em>Random</em>. For most uses, the\nrandom number generator of choice is now\n<a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java#answer-363692\">ThreadLocalRandom</a>.<br/><br/>For fork join pools and parallel\nstreams, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html\" rel=\"nofollow noreferrer\">SplittableRandom</a>.</p>\n</blockquote>\n<p><em>Joshua Bloch. Effective Java. Third Edition.</em></p>\n<h2>Starting from Java 8</h2>\n<p>For fork join pools and parallel streams, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html\" rel=\"nofollow noreferrer\">SplittableRandom</a> (it implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.SplittableGenerator.html\" rel=\"nofollow noreferrer\">SplittableGenerator</a> interface, see Java 17 notes below) that is usually faster, has a better statistical independence and uniformity properties in comparison with <em>Random</em>.</p>\n<p>To generate a random <code>int</code> in the range <code>[0, 1_000]:</code></p>\n<pre><code>int n = new SplittableRandom().nextInt(0, 1_001);\n</code></pre>\n<p>To generate a random <code>int[100]</code> array of values in the range <code>[0, 1_000]:</code></p>\n<pre><code>int[] a = new SplittableRandom().ints(100, 0, 1_001).parallel().toArray();\n</code></pre>\n<p>To return a Stream of random values:</p>\n<pre><code>IntStream stream = new SplittableRandom().ints(100, 0, 1_001);\n</code></pre>\n<h2>Java 17</h2>\n<blockquote>\n<p>It is recommended that multithreaded applications\nuse either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">ThreadLocalRandom</a> or (preferably) pseudorandom number\ngenerators that implement the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.SplittableGenerator.html\" rel=\"nofollow noreferrer\">RandomGenerator.SplittableGenerator</a> or\n<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.JumpableGenerator.html\" rel=\"nofollow noreferrer\">RandomGenerator.JumpableGenerator</a> interface.</p>\n</blockquote>\n<p><em><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\">RandomGenerator</a><sup>1</sup> documentation</em>.</p>\n<hr />\n<p><sup>1 - RandomGenerator is a modern interface that was introduced in Java 17. It is a common protocol for objects that generate random or pseudorandom sequences of numbers and has more features and methods than Random.</sup></p>\n"},{"tags":[],"owner":{"account_id":2673138,"reputation":51,"user_id":2310053,"display_name":"Sanjeev Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527089053,"creation_date":1527089053,"answer_id":50492122,"question_id":363681,"body_markdown":"The following is another example using Random and forEach\r\n\r\n    int firstNum = 20;//Inclusive\r\n    int lastNum = 50;//Exclusive\r\n    int streamSize = 10;\r\n    Random num = new Random().ints(10, 20, 50).forEach(System.out::println);\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>The following is another example using Random and forEach</p>\n\n<pre><code>int firstNum = 20;//Inclusive\nint lastNum = 50;//Exclusive\nint streamSize = 10;\nRandom num = new Random().ints(10, 20, 50).forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1650977188,"post_id":50627635,"comment_id":127247490,"body_markdown":"The whole point of ThreadLocalRandom is higher performance by letting each thread generate random numbers independently, without locking or other interaction with state shared across threads. Also, this answer doesn&#39;t show how to use a range where the min isn&#39;t zero, or the range method that ThreadLocalRandom provides.  But other answers do, so this doesn&#39;t seem to be adding much new information for future readers.","body":"The whole point of ThreadLocalRandom is higher performance by letting each thread generate random numbers independently, without locking or other interaction with state shared across threads. Also, this answer doesn&#39;t show how to use a range where the min isn&#39;t zero, or the range method that ThreadLocalRandom provides.  But other answers do, so this doesn&#39;t seem to be adding much new information for future readers."}],"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":1,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1549600855,"creation_date":1527779794,"answer_id":50627635,"question_id":363681,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class RandomSSNTest {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tgenerateDummySSNNumber();\r\n    \t}\r\n    \r\n    \t\r\n    \t//831-33-6049\r\n    \tpublic static void generateDummySSNNumber() {\r\n    \t\tRandom random = new Random();\r\n    \t\t\r\n    \t\tint id1 = random.nextInt(1000);//3\r\n    \t\tint id2 = random.nextInt(100);//2\r\n    \t\tint id3 = random.nextInt(10000);//4\r\n    \t\t\r\n    \t\tSystem.out.print((id1+&quot;-&quot;+id2+&quot;-&quot;+id3));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nYou can also use \r\n       \r\n   \r\n\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    Random random = ThreadLocalRandom.current();\r\n\r\nHowever, this class doesnt perform well in a multi-threaded environment.\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>import java.util.Random;\n\npublic class RandomSSNTest {\n\n    public static void main(String args[]) {\n        generateDummySSNNumber();\n    }\n\n\n    //831-33-6049\n    public static void generateDummySSNNumber() {\n        Random random = new Random();\n\n        int id1 = random.nextInt(1000);//3\n        int id2 = random.nextInt(100);//2\n        int id3 = random.nextInt(10000);//4\n\n        System.out.print((id1+\"-\"+id2+\"-\"+id3));\n    }\n\n}\n</code></pre>\n\n<p>You can also use </p>\n\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\nRandom random = ThreadLocalRandom.current();\n</code></pre>\n\n<p>However, this class doesnt perform well in a multi-threaded environment.</p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1698204154,"post_id":51961141,"comment_id":136374162,"body_markdown":"This does not answer the question.  It outputs a random number between 0 and the max value, rather than returning a random number between a minimum and maximum value.","body":"This does not answer the question.  It outputs a random number between 0 and the max value, rather than returning a random number between a minimum and maximum value."}],"tags":[],"owner":{"account_id":12609725,"reputation":235,"user_id":9169330,"display_name":"Alekya"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1549635091,"creation_date":1534920392,"answer_id":51961141,"question_id":363681,"body_markdown":"\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tRandom ran = new Random();\r\n    \r\n    \tint min, max;\r\n    \tScanner sc = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Enter min range:&quot;);\r\n    \tmin = sc.nextInt();\r\n    \tSystem.out.println(&quot;Enter max range:&quot;);\r\n    \tmax = sc.nextInt();\r\n    \tint num = ran.nextInt(min);\r\n    \tint num1 = ran.nextInt(max);\r\n    \tSystem.out.println(&quot;Random Number between given range is &quot; + num1);\r\n    \r\n    }","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>public static void main(String[] args) {\n\n    Random ran = new Random();\n\n    int min, max;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(\"Enter min range:\");\n    min = sc.nextInt();\n    System.out.println(\"Enter max range:\");\n    max = sc.nextInt();\n    int num = ran.nextInt(min);\n    int num1 = ran.nextInt(max);\n    System.out.println(\"Random Number between given range is \" + num1);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650294440,"creation_date":1562403760,"answer_id":56912649,"question_id":363681,"body_markdown":"_Here&#39;s a function that returns exactly one integer random number in a range defined by_ ```lowerBoundIncluded``` _and_ ```upperBoundIncluded```_, as requested by_ user42155\r\n\r\n```SplittableRandom splittableRandom = new SplittableRandom();```\r\n\r\n    BiFunction&lt;Integer,Integer,Integer&gt; randomInt = (lowerBoundIncluded, upperBoundIncluded)\r\n        -&gt; splittableRandom.nextInt(lowerBoundIncluded, upperBoundIncluded + 1);\r\n\r\n```randomInt.apply( ,  );  // gets the random number```\r\n\r\n&lt;br /&gt;_or shorter for the one-time generation of a random number_\r\n\r\n    new SplittableRandom().nextInt(lowerBoundIncluded, upperBoundIncluded + 1);\r\n\r\n\r\n\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p><em>Here's a function that returns exactly one integer random number in a range defined by</em> <code>lowerBoundIncluded</code> <em>and</em> <code>upperBoundIncluded</code><em>, as requested by</em> user42155</p>\n<p><code>SplittableRandom splittableRandom = new SplittableRandom();</code></p>\n<pre><code>BiFunction&lt;Integer,Integer,Integer&gt; randomInt = (lowerBoundIncluded, upperBoundIncluded)\n    -&gt; splittableRandom.nextInt(lowerBoundIncluded, upperBoundIncluded + 1);\n</code></pre>\n<p><code>randomInt.apply( ,  );  // gets the random number</code></p>\n<p><br /><em>or shorter for the one-time generation of a random number</em></p>\n<pre><code>new SplittableRandom().nextInt(lowerBoundIncluded, upperBoundIncluded + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611770979,"creation_date":1611770979,"answer_id":65924896,"question_id":363681,"body_markdown":"To avoid repeating what have been said multiple times, I am showing an alternative for those that need a cryptographically stronger pseudo-random number generator by using the [SecureRandom][1] class, which extends the class `Random`.  From [source][1] one can read:\r\n\r\n&gt; **This class provides a cryptographically strong random number generator\r\n&gt; (RNG).** A cryptographically strong random number minimally complies\r\n&gt; with the statistical random number generator tests specified in FIPS\r\n&gt; 140-2, Security Requirements for Cryptographic Modules, section 4.9.1.\r\n&gt; Additionally, SecureRandom must produce non-deterministic output.\r\n&gt; Therefore any seed material passed to a SecureRandom object must be\r\n&gt; unpredictable, and all SecureRandom output sequences must be\r\n&gt; cryptographically strong, as described in RFC 1750: Randomness\r\n&gt; Recommendations for Security.\r\n&gt; \r\n&gt; A caller obtains a SecureRandom instance via the no-argument\r\n&gt; constructor or one of the getInstance methods:\r\n&gt; \r\n&gt;       SecureRandom random = new SecureRandom();  \r\n&gt;\r\n&gt; Many SecureRandom implementations are in the form of a pseudo-random number generator\r\n&gt; (PRNG), which means they use a deterministic algorithm to produce a\r\n&gt; pseudo-random sequence from a true random seed. Other implementations\r\n&gt; may produce true random numbers, and yet others may use a combination\r\n&gt; of both techniques.\r\n\r\nTo generate a random number between a `min` and `max` values inclusive:\r\n\r\n    public static int generate(SecureRandom secureRandom, int min, int max) {\r\n            return min + secureRandom.nextInt((max - min) + 1);\r\n    }\r\n    \r\nfor a given a `min` (inclusive) and `max` (exclusive) values:\r\n\r\n    return min + secureRandom.nextInt((max - min));\r\n\r\nA running code example:\r\n\r\n    public class Main {\r\n    \r\n        public static int generate(SecureRandom secureRandom, int min, int max) {\r\n            return min + secureRandom.nextInt((max - min) + 1);\r\n        }\r\n    \r\n        public static void main(String[] arg) {\r\n            SecureRandom random = new SecureRandom();\r\n            System.out.println(generate(random, 0, 2 ));\r\n        }\r\n    }\r\n\r\nSource such as [stackoverflow][2], [baeldung][3], [geeksforgeeks][4] provide comparisons between `Random` and `SecureRandom` classes.\r\n\r\nFrom [baeldung][3] one can read:\r\n\r\n&gt; The most common way of using SecureRandom is to generate int, long,\r\n&gt; float, double or boolean values:\r\n&gt; \r\n&gt; int randomInt = secureRandom.nextInt(); &lt;br&gt;\r\n&gt; long randomLong = secureRandom.nextLong();  &lt;br&gt;\r\n&gt; float randomFloat = secureRandom.nextFloat();  &lt;br&gt;\r\n&gt; double randomDouble = secureRandom.nextDouble();  &lt;br&gt;\r\n&gt; boolean randomBoolean = secureRandom.nextBoolean();  &lt;br&gt;\r\n&gt;\r\n&gt; **For generating int values we can pass an upper bound as a parameter:**\r\n&gt; \r\n&gt; int randomInt = secureRandom.nextInt(upperBound); &lt;br&gt;\r\n&gt;\r\n&gt; **In addition, we can generate a stream of values for int, double and long:**\r\n&gt; \r\n&gt; IntStream randomIntStream = secureRandom.ints(); &lt;br&gt;\r\n&gt; LongStream randomLongStream = secureRandom.longs(); &lt;br&gt;\r\n&gt; DoubleStream randomDoubleStream = secureRandom.doubles(); &lt;br&gt;\r\n&gt;\r\n&gt; **For all streams we can explicitly set the stream size:**\r\n&gt; \r\n&gt; IntStream intStream = secureRandom.ints(streamSize);\r\n\r\nThis class offers several other options (*e.g.,* choosing the underlying random number generator) that are out of the scope of this question.  \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\r\n  [2]: https://stackoverflow.com/questions/11051205/difference-between-java-util-random-and-java-security-securerandom\r\n  [3]: https://www.baeldung.com/java-secure-random\r\n  [4]: https://www.geeksforgeeks.org/random-vs-secure-random-numbers-java/","title":"How do I generate random integers within a specific range in Java?","body":"<p>To avoid repeating what have been said multiple times, I am showing an alternative for those that need a cryptographically stronger pseudo-random number generator by using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">SecureRandom</a> class, which extends the class <code>Random</code>.  From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">source</a> one can read:</p>\n<blockquote>\n<p><strong>This class provides a cryptographically strong random number generator\n(RNG).</strong> A cryptographically strong random number minimally complies\nwith the statistical random number generator tests specified in FIPS\n140-2, Security Requirements for Cryptographic Modules, section 4.9.1.\nAdditionally, SecureRandom must produce non-deterministic output.\nTherefore any seed material passed to a SecureRandom object must be\nunpredictable, and all SecureRandom output sequences must be\ncryptographically strong, as described in RFC 1750: Randomness\nRecommendations for Security.</p>\n<p>A caller obtains a SecureRandom instance via the no-argument\nconstructor or one of the getInstance methods:</p>\n<pre><code>  SecureRandom random = new SecureRandom();  \n</code></pre>\n<p>Many SecureRandom implementations are in the form of a pseudo-random number generator\n(PRNG), which means they use a deterministic algorithm to produce a\npseudo-random sequence from a true random seed. Other implementations\nmay produce true random numbers, and yet others may use a combination\nof both techniques.</p>\n</blockquote>\n<p>To generate a random number between a <code>min</code> and <code>max</code> values inclusive:</p>\n<pre><code>public static int generate(SecureRandom secureRandom, int min, int max) {\n        return min + secureRandom.nextInt((max - min) + 1);\n}\n</code></pre>\n<p>for a given a <code>min</code> (inclusive) and <code>max</code> (exclusive) values:</p>\n<pre><code>return min + secureRandom.nextInt((max - min));\n</code></pre>\n<p>A running code example:</p>\n<pre><code>public class Main {\n\n    public static int generate(SecureRandom secureRandom, int min, int max) {\n        return min + secureRandom.nextInt((max - min) + 1);\n    }\n\n    public static void main(String[] arg) {\n        SecureRandom random = new SecureRandom();\n        System.out.println(generate(random, 0, 2 ));\n    }\n}\n</code></pre>\n<p>Source such as <a href=\"https://stackoverflow.com/questions/11051205/difference-between-java-util-random-and-java-security-securerandom\">stackoverflow</a>, <a href=\"https://www.baeldung.com/java-secure-random\" rel=\"nofollow noreferrer\">baeldung</a>, <a href=\"https://www.geeksforgeeks.org/random-vs-secure-random-numbers-java/\" rel=\"nofollow noreferrer\">geeksforgeeks</a> provide comparisons between <code>Random</code> and <code>SecureRandom</code> classes.</p>\n<p>From <a href=\"https://www.baeldung.com/java-secure-random\" rel=\"nofollow noreferrer\">baeldung</a> one can read:</p>\n<blockquote>\n<p>The most common way of using SecureRandom is to generate int, long,\nfloat, double or boolean values:</p>\n<p>int randomInt = secureRandom.nextInt(); <br>\nlong randomLong = secureRandom.nextLong();  <br>\nfloat randomFloat = secureRandom.nextFloat();  <br>\ndouble randomDouble = secureRandom.nextDouble();  <br>\nboolean randomBoolean = secureRandom.nextBoolean();  <br></p>\n<p><strong>For generating int values we can pass an upper bound as a parameter:</strong></p>\n<p>int randomInt = secureRandom.nextInt(upperBound); <br></p>\n<p><strong>In addition, we can generate a stream of values for int, double and long:</strong></p>\n<p>IntStream randomIntStream = secureRandom.ints(); <br>\nLongStream randomLongStream = secureRandom.longs(); <br>\nDoubleStream randomDoubleStream = secureRandom.doubles(); <br></p>\n<p><strong>For all streams we can explicitly set the stream size:</strong></p>\n<p>IntStream intStream = secureRandom.ints(streamSize);</p>\n</blockquote>\n<p>This class offers several other options (<em>e.g.,</em> choosing the underlying random number generator) that are out of the scope of this question.</p>\n"},{"tags":[],"owner":{"account_id":21383109,"reputation":101,"user_id":15748687,"display_name":"Shital Ghimire"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1624915492,"creation_date":1624883136,"answer_id":68163344,"question_id":363681,"body_markdown":"    Random rng = new Random();\r\n\tint min = 3;\r\n    int max = 11;\r\n    int upperBound = max - min + 1; // upper bound is exclusive, so +1\r\n    int num = min + rng.nextInt(upperBound);\r\n\tSystem.out.println(num);","title":"How do I generate random integers within a specific range in Java?","body":"<pre><code>Random rng = new Random();\nint min = 3;\nint max = 11;\nint upperBound = max - min + 1; // upper bound is exclusive, so +1\nint num = min + rng.nextInt(upperBound);\nSystem.out.println(num);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7080737,"reputation":85,"user_id":5419246,"display_name":"jonas dufek"},"score":0,"creation_date":1645043799,"post_id":70529176,"comment_id":125769053,"body_markdown":"This is much easier to read and more user friendly than the old way but not many people know about it. Deserves an upvote.","body":"This is much easier to read and more user friendly than the old way but not many people know about it. Deserves an upvote."},{"owner":{"account_id":270905,"reputation":1480,"user_id":561139,"accept_rate":65,"display_name":"Bj&#248;rn Stenfeldt"},"score":1,"creation_date":1663919928,"post_id":70529176,"comment_id":130356981,"body_markdown":"Be aware that there is a bug in `RandomGenerator.getDefault().nextInt(int, int)` in Java 17 causing it to return the same number every time. For example `RandomGenerator.getDefault().nextInt(0, 10)` always return `2`. It is fixed in version 19 as far as I know.","body":"Be aware that there is a bug in <code>RandomGenerator.getDefault().nextInt(int, int)</code> in Java 17 causing it to return the same number every time. For example <code>RandomGenerator.getDefault().nextInt(0, 10)</code> always return <code>2</code>. It is fixed in version 19 as far as I know."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1663952248,"post_id":70529176,"comment_id":130368501,"body_markdown":"@Bj&#248;rnStenfeldt Good to be aware of.  I&#39;m not sure if that&#39;s a &quot;bug&quot; per se since those aren&#39;t subsequent requests to the same `RandomGenerator` so there&#39;s no requirement that two created `RandomGenerator` instances be distinguishable from each other.  It&#39;s also not the first time in Java that creating the `Random` class each time lead to this sort of behavior.  I remember `Random` behaving the same way back in the day when the starting seed was based solely on the millisecond timestamp of when it was created.  They did add a &quot;seed uniquifier&quot; back in Java 5 or something to prevent that.","body":"@Bj&#248;rnStenfeldt Good to be aware of.  I&#39;m not sure if that&#39;s a &quot;bug&quot; per se since those aren&#39;t subsequent requests to the same <code>RandomGenerator</code> so there&#39;s no requirement that two created <code>RandomGenerator</code> instances be distinguishable from each other.  It&#39;s also not the first time in Java that creating the <code>Random</code> class each time lead to this sort of behavior.  I remember <code>Random</code> behaving the same way back in the day when the starting seed was based solely on the millisecond timestamp of when it was created.  They did add a &quot;seed uniquifier&quot; back in Java 5 or something to prevent that."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684173185,"post_id":70529176,"comment_id":134475437,"body_markdown":"@Bj&#248;rnStenfeldt To follow up on my comment from last year for anybody new reading these, a solution would be to reuse the same `RandomGenerator`, being careful not to violate the thread safety requirements.`RandomGenerator random = RandomGenerator.getDefault(); int int1 = random.nextInt(0, 10); int int2 = random.nextInt(0, 10);`","body":"@Bj&#248;rnStenfeldt To follow up on my comment from last year for anybody new reading these, a solution would be to reuse the same <code>RandomGenerator</code>, being careful not to violate the thread safety requirements.<code>RandomGenerator random = RandomGenerator.getDefault(); int int1 = random.nextInt(0, 10); int int2 = random.nextInt(0, 10);</code>"}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":4,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1688415468,"creation_date":1640853049,"answer_id":70529176,"question_id":363681,"body_markdown":"The [`int nextInt(int origin, int bound)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)) method was added in Java 17 as part of the [`RandomGenerator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html) interface.  This will generate a random integer in a given range:\r\n\r\n```java\r\n// Returns a random int between minimum (inclusive) &amp; maximum (exclusive)\r\nint randomNum = RandomGenerator.getDefault().nextInt(minimum, maximum);\r\n```\r\n\r\nThis interface is used for new random generation algorithms added in Java 17:\r\n\r\n```lang-java\r\nRandomGenerator.getDefault().nextInt(minimum, maximum);\r\nRandomGenerator.of(&quot;L128X1024MixRandom&quot;).nextInt(minimum, maximum);\r\nRandomGenerator.of(&quot;Xoroshiro128PlusPlus&quot;).nextInt(minimum, maximum);\r\n// ...\r\n```\r\n\r\nThe `RandomGenerator` interface was also added to the existing random generation classes ([`Random`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html), [`SecureRandom`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/SecureRandom.html), [`SplittableRandom`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SplittableRandom.html), and [`ThreadLocalRandom`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html)).  Therefore, as of Java 17, those four classes also have this bounded `nextInt` method:\r\n\r\n```lang-java\r\nnew Random().nextInt(minimum, maximum);\r\nnew SecureRandom().nextInt(minimum, maximum);\r\nnew SplittableRandom().nextInt(minimum, maximum);\r\nnew ThreadLocalRandom().nextInt(minimum, maximum);\r\n```\r\n\r\nThis method is new to `Random` and `SecureRandom` as of Java 17.  Prior to Java 17, `ThreadLocalRandom` and `SplittableRandom` already had this method, though it was not specified by a shared interface.","title":"How do I generate random integers within a specific range in Java?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\"><code>int nextInt(int origin, int bound)</code></a> method was added in Java 17 as part of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\"><code>RandomGenerator</code></a> interface.  This will generate a random integer in a given range:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a random int between minimum (inclusive) &amp; maximum (exclusive)\nint randomNum = RandomGenerator.getDefault().nextInt(minimum, maximum);\n</code></pre>\n<p>This interface is used for new random generation algorithms added in Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RandomGenerator.getDefault().nextInt(minimum, maximum);\nRandomGenerator.of(&quot;L128X1024MixRandom&quot;).nextInt(minimum, maximum);\nRandomGenerator.of(&quot;Xoroshiro128PlusPlus&quot;).nextInt(minimum, maximum);\n// ...\n</code></pre>\n<p>The <code>RandomGenerator</code> interface was also added to the existing random generation classes (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SplittableRandom.html\" rel=\"nofollow noreferrer\"><code>SplittableRandom</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a>).  Therefore, as of Java 17, those four classes also have this bounded <code>nextInt</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Random().nextInt(minimum, maximum);\nnew SecureRandom().nextInt(minimum, maximum);\nnew SplittableRandom().nextInt(minimum, maximum);\nnew ThreadLocalRandom().nextInt(minimum, maximum);\n</code></pre>\n<p>This method is new to <code>Random</code> and <code>SecureRandom</code> as of Java 17.  Prior to Java 17, <code>ThreadLocalRandom</code> and <code>SplittableRandom</code> already had this method, though it was not specified by a shared interface.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669919984,"creation_date":1669919984,"answer_id":74646697,"question_id":363681,"body_markdown":"Because the [Android question][1] redirects here, this is how you would do it with Kotlin:\r\n\r\n```kotlin\r\nval r = (0..10).random() // A random integer between 0 and 10 inclusive\r\n```\r\n\r\nThis works with Kotlin *1.3* and higher. Refer to [this answer][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/6029495/8583692\r\n  [2]: https://stackoverflow.com/a/45687695/8583692","title":"How do I generate random integers within a specific range in Java?","body":"<p>Because the <a href=\"https://stackoverflow.com/q/6029495/8583692\">Android question</a> redirects here, this is how you would do it with Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val r = (0..10).random() // A random integer between 0 and 10 inclusive\n</code></pre>\n<p>This works with Kotlin <em>1.3</em> and higher. Refer to <a href=\"https://stackoverflow.com/a/45687695/8583692\">this answer</a>.</p>\n"}],"owner":{"account_id":18419,"reputation":49125,"user_id":42155,"accept_rate":22,"display_name":"user42155"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5172035,"favorite_count":0,"down_vote_count":17,"up_vote_count":4103,"answer_count":59,"score":4086,"last_activity_date":1698203884,"creation_date":1229106057,"question_id":363681,"body_markdown":"How do I generate a random `int` value in a specific range?\r\n\r\nThe following methods have bugs related to integer overflow:\r\n\r\n```java\r\nrandomNum = minimum + (int)(Math.random() * maximum);\r\n// Bug: `randomNum` can be bigger than `maximum`.\r\n```\r\n\r\n```java\r\nRandom rn = new Random();\r\nint n = maximum - minimum + 1;\r\nint i = rn.nextInt() % n;\r\nrandomNum =  minimum + i;\r\n// Bug: `randomNum` can be smaller than `minimum`.\r\n```\r\n","title":"How do I generate random integers within a specific range in Java?","body":"<p>How do I generate a random <code>int</code> value in a specific range?</p>\n<p>The following methods have bugs related to integer overflow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>randomNum = minimum + (int)(Math.random() * maximum);\n// Bug: `randomNum` can be bigger than `maximum`.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt() % n;\nrandomNum =  minimum + i;\n// Bug: `randomNum` can be smaller than `minimum`.\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698202992,"post_id":77356182,"comment_id":136374091,"body_markdown":"```@Lock(LockMode.PESSIMISTIC_WRITE) Optional&lt;MyStuff&gt; findByFooAndBar(Foo foo, Bar bar);``` Is it what you want?","body":"<code>@Lock(LockMode.PESSIMISTIC_WRITE) Optional&lt;MyStuff&gt; findByFooAndBar(Foo foo, Bar bar);</code> Is it what you want?"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1698242189,"post_id":77356182,"comment_id":136380430,"body_markdown":"no because that would make findByFooAndBar lock all the time, I want to have a locking and non locking version without having to rewrite","body":"no because that would make findByFooAndBar lock all the time, I want to have a locking and non locking version without having to rewrite"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698244129,"post_id":77356182,"comment_id":136380907,"body_markdown":"There are other settings can add to pessimistic lock like time-out, derived queries idea come from the criteria part contains the entity-specific condition expressions of the query. It&#39;s going to be tough to add all those settings, hints to derived method name. I think your 2nd query is simple enough to do it.","body":"There are other settings can add to pessimistic lock like time-out, derived queries idea come from the criteria part contains the entity-specific condition expressions of the query. It&#39;s going to be tough to add all those settings, hints to derived method name. I think your 2nd query is simple enough to do it."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698219133,"post_id":77356402,"comment_id":136375737,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77356402/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18133603,"reputation":1,"user_id":13188412,"display_name":"Arwing116"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698203231,"creation_date":1698203231,"answer_id":77356402,"question_id":77356182,"body_markdown":"pass in LockModeType.PESSIMISTIC_WRITE in the method. look into this for more details \r\n\r\nhttps://www.baeldung.com/jpa-pessimistic-locking","title":"In Spring Data JPA how do I perform a `SELECT FOR UPDATE` without resorting to writing the SQL and keeping non-blocking versions?","body":"<p>pass in LockModeType.PESSIMISTIC_WRITE in the method. look into this for more details</p>\n<p><a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-pessimistic-locking</a></p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698203231,"creation_date":1698197909,"question_id":77356182,"body_markdown":"So in Spring Data JPA I can do the following\r\n\r\n```\r\nOptional&lt;MyStuff&gt; findByFooAndBar(Foo foo, Bar bar);\r\n\r\n@Lock(LockMode.PESSIMISTIC_WRITE)\r\n@Query(&quot;from MyStuff m where m.foo = :foo and m.bar = :bar&quot;)\r\nOptional&lt;MyStuff&gt; findByFooAndBarForUpdate(Foo foo, Bar bar);\r\n```\r\n\r\nI sort of want to avoid having to do the second one, and simply have something like\r\n\r\n```\r\nOptional&lt;MyStuff&gt; findByFooAndBarForUpdate(Foo foo, Bar bar);\r\n```\r\n","title":"In Spring Data JPA how do I perform a `SELECT FOR UPDATE` without resorting to writing the SQL and keeping non-blocking versions?","body":"<p>So in Spring Data JPA I can do the following</p>\n<pre><code>Optional&lt;MyStuff&gt; findByFooAndBar(Foo foo, Bar bar);\n\n@Lock(LockMode.PESSIMISTIC_WRITE)\n@Query(&quot;from MyStuff m where m.foo = :foo and m.bar = :bar&quot;)\nOptional&lt;MyStuff&gt; findByFooAndBarForUpdate(Foo foo, Bar bar);\n</code></pre>\n<p>I sort of want to avoid having to do the second one, and simply have something like</p>\n<pre><code>Optional&lt;MyStuff&gt; findByFooAndBarForUpdate(Foo foo, Bar bar);\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1698140411,"post_id":77350190,"comment_id":136364407,"body_markdown":"1) what do you mean by &quot;mark&quot;? &quot;select&quot;? 2) how do you paste it without first copying it? your procedure does not mention copying. 3) why do you even want the cursor to move to the end? what good does this do you?","body":"1) what do you mean by &quot;mark&quot;? &quot;select&quot;? 2) how do you paste it without first copying it? your procedure does not mention copying. 3) why do you even want the cursor to move to the end? what good does this do you?"},{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1698141121,"post_id":77350190,"comment_id":136364541,"body_markdown":"@starball my bad. I meant select, I am not a native English speaker. I added some additional information. I Select the code (as you can see in the screenshot), copy it with ctrl+c and just paste it without any other action before with ctrl+v.","body":"@starball my bad. I meant select, I am not a native English speaker. I added some additional information. I Select the code (as you can see in the screenshot), copy it with ctrl+c and just paste it without any other action before with ctrl+v."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1698175438,"post_id":77350190,"comment_id":136371251,"body_markdown":"please answer my question #3.","body":"please answer my question #3."}],"answers":[{"comments":[{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1698210272,"post_id":77356366,"comment_id":136374679,"body_markdown":"Thank you! I missed that feature, I was searching for &quot;format&quot; instead. It works.","body":"Thank you! I missed that feature, I was searching for &quot;format&quot; instead. It works."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698212721,"post_id":77356366,"comment_id":136374908,"body_markdown":"Glad you solved the problem. Can you share your solution? What features did you turn off after searching?","body":"Glad you solved the problem. Can you share your solution? What features did you turn off after searching?"},{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1698226530,"post_id":77356366,"comment_id":136377211,"body_markdown":"I disabled the &quot;paste as&quot; option your screenshot shows. I tried to find if there was a way to disable paste as for the Java Extension but I was unable to find an option.","body":"I disabled the &quot;paste as&quot; option your screenshot shows. I tried to find if there was a way to disable paste as for the Java Extension but I was unable to find an option."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698202313,"creation_date":1698202313,"answer_id":77356366,"question_id":77350190,"body_markdown":"This feature called [***Paste as***][1] was updated in May 2023.\r\n\r\nYou can disable this feature by unchecking it in the **Settings** panel or adding the following to ***settings.json***.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```json\r\n    &quot;editor.pasteAs.enabled&quot;: false,\r\n```\r\n\r\n  [1]: https://code.visualstudio.com/updates/v1_79#_paste-as\r\n  [2]: https://i.stack.imgur.com/qj8FG.png","title":"Cannot paste marked Java code in vscode with Java extension","body":"<p>This feature called <a href=\"https://code.visualstudio.com/updates/v1_79#_paste-as\" rel=\"nofollow noreferrer\"><em><strong>Paste as</strong></em></a> was updated in May 2023.</p>\n<p>You can disable this feature by unchecking it in the <strong>Settings</strong> panel or adding the following to <em><strong>settings.json</strong></em>.</p>\n<p><a href=\"https://i.stack.imgur.com/qj8FG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qj8FG.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;editor.pasteAs.enabled&quot;: false,\n</code></pre>\n"}],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77356366,"answer_count":1,"score":0,"last_activity_date":1698202313,"creation_date":1698132269,"question_id":77350190,"body_markdown":"I am using vscode for Java with the Java extensions. When I select a method, copy it via ctrl+c and just paste it with ctrl+v without moving the cursor a layover menu appears but nothing happens:\r\n\r\n[![screenshot of code that shows the layover menu][1]][1]\r\n\r\nWhat I expect it to do, like it always did and still does with Go and other languages is to replace the code with itself and place my cursor at the end.\r\nIs there a way to disable this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZtZiR.png","title":"Cannot paste marked Java code in vscode with Java extension","body":"<p>I am using vscode for Java with the Java extensions. When I select a method, copy it via ctrl+c and just paste it with ctrl+v without moving the cursor a layover menu appears but nothing happens:</p>\n<p><a href=\"https://i.stack.imgur.com/ZtZiR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZtZiR.png\" alt=\"screenshot of code that shows the layover menu\" /></a></p>\n<p>What I expect it to do, like it always did and still does with Go and other languages is to replace the code with itself and place my cursor at the end.\nIs there a way to disable this?</p>\n"},{"tags":["java","class","object","abstract"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":6,"creation_date":1698177958,"post_id":77355098,"comment_id":136371687,"body_markdown":"Why not to have  `rank` as class variable? Then you would not need sub-classing.","body":"Why not to have  <code>rank</code> as class variable? Then you would not need sub-classing."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698251200,"post_id":77355098,"comment_id":136382418,"body_markdown":"Based on your reply to the answer, I suggest you look into the [Decorator Pattern](https://www.google.com/search?q=decorator+pattern+java)","body":"Based on your reply to the answer, I suggest you look into the <a href=\"https://www.google.com/search?q=decorator+pattern+java\" rel=\"nofollow noreferrer\">Decorator Pattern</a>"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1698201509,"post_id":77356296,"comment_id":136373967,"body_markdown":"...and they can be demoted.","body":"...and they can be demoted."},{"owner":{"account_id":18327006,"reputation":121,"user_id":13346423,"display_name":"tmsnvk"},"score":0,"creation_date":1698217264,"post_id":77356296,"comment_id":136375476,"body_markdown":"Hi Basil,\nThanks, this is reasonable and I thought about it. I forgot to mention that the three types of Fighters can fight different missions, so for example Juniors can only do Mission A, Mediors A and B, and Seniors A, B, C. The MissionTypes are stored in enums. Currently these types are stored in static variables in each Fighter class. If I followed your example, I would have to store one list and set the MissionTypes in the constructor. This sounds and seems reasonable by me, however, I was warned against using too much logic in constructors. What&#39;s your take on this? Cheers, T","body":"Hi Basil, Thanks, this is reasonable and I thought about it. I forgot to mention that the three types of Fighters can fight different missions, so for example Juniors can only do Mission A, Mediors A and B, and Seniors A, B, C. The MissionTypes are stored in enums. Currently these types are stored in static variables in each Fighter class. If I followed your example, I would have to store one list and set the MissionTypes in the constructor. This sounds and seems reasonable by me, however, I was warned against using too much logic in constructors. What&#39;s your take on this? Cheers, T"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698611726,"post_id":77356296,"comment_id":136424494,"body_markdown":"@tmsnvk Constructors should indeed be kept simple. However, data validation of inputs is a legitimate function for a constructor if it can be kept simple (if not simple, use a builder). When validating an assigned mission, use an [exhaustive `switch` statement](https://openjdk.org/jeps/441) with a case for each rank. If the mission is wrong for that rank, throw an illegal argument exception. Tip: You can use `EnumSet` to keep a set of missions appropriate for each rank; call `Set#contains`.","body":"@tmsnvk Constructors should indeed be kept simple. However, data validation of inputs is a legitimate function for a constructor if it can be kept simple (if not simple, use a builder). When validating an assigned mission, use an <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">exhaustive <code>switch</code> statement</a> with a case for each rank. If the mission is wrong for that rank, throw an illegal argument exception. Tip: You can use <code>EnumSet</code> to keep a set of missions appropriate for each rank; call <code>Set#contains</code>."},{"owner":{"account_id":18327006,"reputation":121,"user_id":13346423,"display_name":"tmsnvk"},"score":0,"creation_date":1698685508,"post_id":77356296,"comment_id":136433881,"body_markdown":"Thanks @BasilBourque for your detailed explanations, much appreciated!","body":"Thanks @BasilBourque for your detailed explanations, much appreciated!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698202143,"creation_date":1698200681,"answer_id":77356296,"question_id":77355098,"body_markdown":"[As Commented][1], it sounds like *rank* should simply be a property of your `Fighter` class. \r\n\r\nYou should not use inheritance unless the subclasses have additional data or behavior beyond that of the superclass.\r\n\r\nHere is an entire example class. We define `Rank` as an enum with three named constant objects, your three levels of rank. We have a getter as well as a setter method for you to alter the rank field on an instance. \r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.util.Objects;\r\n\r\npublic final class Fighter\r\n{\r\n    // Member fields\r\n    private String name;\r\n    private Rank rank;\r\n\r\n    enum Rank { JUNIOR, MEDIOR, SENIOR; }\r\n\r\n    // Constructor\r\n    public Fighter ( String name ,\r\n                     Rank rank )\r\n    {\r\n        this.name = name;\r\n        this.rank = rank;\r\n    }\r\n\r\n    // Accessors\r\n    public String getName ( )\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public void setName ( final String name )\r\n    {\r\n       this.name = name ;\r\n    }\r\n\r\n    public Rank getRank ( )\r\n    {\r\n        return rank;\r\n    }\r\n\r\n    public void setRank ( final Rank rank )\r\n    {\r\n        this.rank = rank;\r\n    }\r\n\r\n    // `Object` overrides.\r\n    @Override\r\n    public boolean equals ( Object obj )\r\n    {\r\n        if ( obj == this ) return true;\r\n        if ( obj == null || obj.getClass ( ) != this.getClass ( ) ) return false;\r\n        var that = ( Fighter ) obj;\r\n        return Objects.equals ( this.name , that.name ) &amp;&amp;\r\n                Objects.equals ( this.rank , that.rank );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ( )\r\n    {\r\n        return Objects.hash ( name , rank );\r\n    }\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Fighter[&quot; +\r\n                &quot;name=&quot; + name + &quot;, &quot; +\r\n                &quot;rank=&quot; + rank + &#39;]&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n    Fighter alice = new Fighter ( &quot;Alice&quot; , Fighter.Rank.MEDIOR ) ;\r\n    alice.setRank( Rank.SENIOR ) ;  // Alice earned a promotion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77355098/is-there-an-elegant-way-to-recreate-an-object-when-i-need-to-change-its-type/77356296#comment136371687_77355098","title":"Is there an elegant way to recreate an object when I need to change its type?","body":"<p><a href=\"https://stackoverflow.com/questions/77355098/is-there-an-elegant-way-to-recreate-an-object-when-i-need-to-change-its-type/77356296#comment136371687_77355098\">As Commented</a>, it sounds like <em>rank</em> should simply be a property of your <code>Fighter</code> class.</p>\n<p>You should not use inheritance unless the subclasses have additional data or behavior beyond that of the superclass.</p>\n<p>Here is an entire example class. We define <code>Rank</code> as an enum with three named constant objects, your three levels of rank. We have a getter as well as a setter method for you to alter the rank field on an instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.util.Objects;\n\npublic final class Fighter\n{\n    // Member fields\n    private String name;\n    private Rank rank;\n\n    enum Rank { JUNIOR, MEDIOR, SENIOR; }\n\n    // Constructor\n    public Fighter ( String name ,\n                     Rank rank )\n    {\n        this.name = name;\n        this.rank = rank;\n    }\n\n    // Accessors\n    public String getName ( )\n    {\n        return name;\n    }\n\n    public void setName ( final String name )\n    {\n       this.name = name ;\n    }\n\n    public Rank getRank ( )\n    {\n        return rank;\n    }\n\n    public void setRank ( final Rank rank )\n    {\n        this.rank = rank;\n    }\n\n    // `Object` overrides.\n    @Override\n    public boolean equals ( Object obj )\n    {\n        if ( obj == this ) return true;\n        if ( obj == null || obj.getClass ( ) != this.getClass ( ) ) return false;\n        var that = ( Fighter ) obj;\n        return Objects.equals ( this.name , that.name ) &amp;&amp;\n                Objects.equals ( this.rank , that.rank );\n    }\n\n    @Override\n    public int hashCode ( )\n    {\n        return Objects.hash ( name , rank );\n    }\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Fighter[&quot; +\n                &quot;name=&quot; + name + &quot;, &quot; +\n                &quot;rank=&quot; + rank + ']';\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>Fighter alice = new Fighter ( &quot;Alice&quot; , Fighter.Rank.MEDIOR ) ;\nalice.setRank( Rank.SENIOR ) ;  // Alice earned a promotion.\n</code></pre>\n"}],"owner":{"account_id":18327006,"reputation":121,"user_id":13346423,"display_name":"tmsnvk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77356296,"answer_count":1,"score":1,"last_activity_date":1698202143,"creation_date":1698177724,"question_id":77355098,"body_markdown":"A practice task of mine is about having Fighters taking part in Missions and an aggregator class that can count/filter/keep track of Fighters and Missions.\r\n\r\nI have a Fighter abstract class and three different types of fighters (Junior, Medior and Senior) that inherit this abstract class with a number of fields.\r\n\r\nThe programme should be able to promote fighters to a higher rank - a Junior to Medior and a Medior to Senior. I understand it is not possible to change an object&#39;s type after it has been initialised, but is there a better / more elegant solution than my current one? i.e. I create a new object of a higher level fighter, copy the original object&#39;s data into it and then just delete the original object.","title":"Is there an elegant way to recreate an object when I need to change its type?","body":"<p>A practice task of mine is about having Fighters taking part in Missions and an aggregator class that can count/filter/keep track of Fighters and Missions.</p>\n<p>I have a Fighter abstract class and three different types of fighters (Junior, Medior and Senior) that inherit this abstract class with a number of fields.</p>\n<p>The programme should be able to promote fighters to a higher rank - a Junior to Medior and a Medior to Senior. I understand it is not possible to change an object's type after it has been initialised, but is there a better / more elegant solution than my current one? i.e. I create a new object of a higher level fighter, copy the original object's data into it and then just delete the original object.</p>\n"},{"tags":["java","visual-studio-code","hide","visibility"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1667289975,"post_id":74272910,"comment_id":131127897,"body_markdown":"that will give you **1** line of code extra, a huge win, if you set the font size a point smaller you have the same result, then your next question would be that you can&#39;t see the editor menu and you cant close tabs","body":"that will give you <b>1</b> line of code extra, a huge win, if you set the font size a point smaller you have the same result, then your next question would be that you can&#39;t see the editor menu and you cant close tabs"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667298527,"post_id":74272910,"comment_id":131130209,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":13782932,"reputation":31,"user_id":19489276,"display_name":"Jacob"},"score":0,"creation_date":1667385174,"post_id":74272910,"comment_id":131152939,"body_markdown":"Well, I&#39;d still like that extra line of code.","body":"Well, I&#39;d still like that extra line of code."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1669365032,"post_id":74272910,"comment_id":131629669,"body_markdown":"You can turn on [**Zen Mode**](https://code.visualstudio.com/docs/getstarted/userinterface#_zen-mode) using `View: Toggle Zen Mode` in the command palette. Does this work for you?","body":"You can turn on <a href=\"https://code.visualstudio.com/docs/getstarted/userinterface#_zen-mode\" rel=\"nofollow noreferrer\"><b>Zen Mode</b></a> using <code>View: Toggle Zen Mode</code> in the command palette. Does this work for you?"}],"answers":[{"comments":[{"owner":{"account_id":13782932,"reputation":31,"user_id":19489276,"display_name":"Jacob"},"score":0,"creation_date":1667385104,"post_id":74273021,"comment_id":131152914,"body_markdown":"The breadcrumbs are already disabled. All that achieves is to hide the path visible on the toolbar but does not hide the toolbar itself.","body":"The breadcrumbs are already disabled. All that achieves is to hide the path visible on the toolbar but does not hide the toolbar itself."},{"owner":{"account_id":23654794,"reputation":39,"user_id":17683245,"display_name":"Muhammad Zarith"},"score":0,"creation_date":1667448902,"post_id":74273021,"comment_id":131171048,"body_markdown":"i dont think you can hide the group editor itself","body":"i dont think you can hide the group editor itself"}],"tags":[],"owner":{"account_id":23654794,"reputation":39,"user_id":17683245,"display_name":"Muhammad Zarith"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1667289619,"creation_date":1667289619,"answer_id":74273021,"question_id":74272910,"body_markdown":"Go to **File** &gt; **Preferences** &gt; **Settings** &gt; in the search box type **Breadcrumbs** &gt; untick **Breadcrumbs: Enabled**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPVjO.png","title":"How to hide the VS Code bar with file name, breadcrumbs, and action buttons?","body":"<p>Go to <strong>File</strong> &gt; <strong>Preferences</strong> &gt; <strong>Settings</strong> &gt; in the search box type <strong>Breadcrumbs</strong> &gt; untick <strong>Breadcrumbs: Enabled</strong></p>\n<p><a href=\"https://i.stack.imgur.com/xPVjO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPVjO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698201977,"creation_date":1688442532,"answer_id":76609290,"question_id":74272910,"body_markdown":"### VS Code 1.84 answer\r\n\r\nIt&#39;s coming. You can thank [Benjamin Simmonds](https://github.com/benibenj) for their Pull Request, [Allow to hide editor title section entirely (tabs, breadcrumbs) (#33607) #195222](https://github.com/microsoft/vscode/pull/195222), which got merged and is scheduled for the October 2023 release. It changes the `workbench.editor.showTabs` setting from a boolean to an enum, which you can set to `&quot;none&quot;`, which purportedly causes tabs and breadcrumbs to both be hidden. Setting it to `&quot;single&quot;` will cause only the breadcrumbs to be shown.\r\n\r\nIf you can&#39;t wait, then the new feature is available in the latest VS Code Insiders.\r\n\r\nFor Zen Mode, use the `zenMode.showTabs` setting.\r\n\r\n### Pre-VS-Code-1.84 answer\r\n\r\nThis feature doesn&#39;t exist at the time of this writing. You can get part of what you&#39;re looking for with the following settings in a [settings.json file](https://code.visualstudio.com/docs/getstarted/settings#_settingsjson):\r\n\r\n```json\r\n&quot;workbench.editor.showTabs&quot;: false,\r\n&quot;breadcrumbs.enabled&quot;: false,\r\n```\r\n\r\nThe full feature is covered by this feature-request issue ticket: [Allow to hide editor title section entirely (tabs, breadcrumbs) #33607](https://github.com/microsoft/vscode/issues/33607). Give it a thumbs up to show support for it, subscribe to it to get notified about discussion and updates. Please avoid making noisy comments like &quot;+1&quot; / &quot;bump&quot;.\r\n\r\nIn that issue ticket, people suggest other workarounds such as:\r\n\r\n- [Using extensions to customize the CSS of the VS Code installation](https://github.com/microsoft/vscode/issues/33607#issuecomment-1221462235) (see also [this](https://github.com/microsoft/vscode/issues/33607#issuecomment-1663235122))\r\n- [Manually deleting the DOM elements using devtools every time](https://github.com/microsoft/vscode/issues/33607#issuecomment-423894998)\r\n\r\nFor Zen Mode, use the `zenMode.hideTabs` setting.","title":"How to hide the VS Code bar with file name, breadcrumbs, and action buttons?","body":"<h3>VS Code 1.84 answer</h3>\n<p>It's coming. You can thank <a href=\"https://github.com/benibenj\" rel=\"nofollow noreferrer\">Benjamin Simmonds</a> for their Pull Request, <a href=\"https://github.com/microsoft/vscode/pull/195222\" rel=\"nofollow noreferrer\">Allow to hide editor title section entirely (tabs, breadcrumbs) (#33607) #195222</a>, which got merged and is scheduled for the October 2023 release. It changes the <code>workbench.editor.showTabs</code> setting from a boolean to an enum, which you can set to <code>&quot;none&quot;</code>, which purportedly causes tabs and breadcrumbs to both be hidden. Setting it to <code>&quot;single&quot;</code> will cause only the breadcrumbs to be shown.</p>\n<p>If you can't wait, then the new feature is available in the latest VS Code Insiders.</p>\n<p>For Zen Mode, use the <code>zenMode.showTabs</code> setting.</p>\n<h3>Pre-VS-Code-1.84 answer</h3>\n<p>This feature doesn't exist at the time of this writing. You can get part of what you're looking for with the following settings in a <a href=\"https://code.visualstudio.com/docs/getstarted/settings#_settingsjson\" rel=\"nofollow noreferrer\">settings.json file</a>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;workbench.editor.showTabs&quot;: false,\n&quot;breadcrumbs.enabled&quot;: false,\n</code></pre>\n<p>The full feature is covered by this feature-request issue ticket: <a href=\"https://github.com/microsoft/vscode/issues/33607\" rel=\"nofollow noreferrer\">Allow to hide editor title section entirely (tabs, breadcrumbs) #33607</a>. Give it a thumbs up to show support for it, subscribe to it to get notified about discussion and updates. Please avoid making noisy comments like &quot;+1&quot; / &quot;bump&quot;.</p>\n<p>In that issue ticket, people suggest other workarounds such as:</p>\n<ul>\n<li><a href=\"https://github.com/microsoft/vscode/issues/33607#issuecomment-1221462235\" rel=\"nofollow noreferrer\">Using extensions to customize the CSS of the VS Code installation</a> (see also <a href=\"https://github.com/microsoft/vscode/issues/33607#issuecomment-1663235122\" rel=\"nofollow noreferrer\">this</a>)</li>\n<li><a href=\"https://github.com/microsoft/vscode/issues/33607#issuecomment-423894998\" rel=\"nofollow noreferrer\">Manually deleting the DOM elements using devtools every time</a></li>\n</ul>\n<p>For Zen Mode, use the <code>zenMode.hideTabs</code> setting.</p>\n"}],"owner":{"account_id":13782932,"reputation":31,"user_id":19489276,"display_name":"Jacob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1698201977,"creation_date":1667288954,"question_id":74272910,"body_markdown":"I&#39;d like to hide the toolbar visible in the screenshot:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bi0YN.png)](https://i.stack.imgur.com/bi0YN.png)\r\n\r\nI can hide the menu bar by going into full-screen mode, but I haven&#39;t been able to get rid of the bar with the file name, run button, split, etc.\r\n\r\nIs that possible?\r\n\r\nI tried to look in settings but all you can do apparently is disable the various icons (like the breadcrumbs) and what I&#39;d like is for the bar to disappear completely so that I see more of the code.","title":"How to hide the VS Code bar with file name, breadcrumbs, and action buttons?","body":"<p>I'd like to hide the toolbar visible in the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/bi0YN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bi0YN.png\" alt=\"enter image description here\" /></a></p>\n<p>I can hide the menu bar by going into full-screen mode, but I haven't been able to get rid of the bar with the file name, run button, split, etc.</p>\n<p>Is that possible?</p>\n<p>I tried to look in settings but all you can do apparently is disable the various icons (like the breadcrumbs) and what I'd like is for the bar to disappear completely so that I see more of the code.</p>\n"},{"tags":["java","file","lambda"],"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1460863494,"post_id":36671152,"comment_id":60935647,"body_markdown":"What&#39;s wrong with doing an ordinary `for` loop? It&#39;s simple, clear, and already works.","body":"What&#39;s wrong with doing an ordinary <code>for</code> loop? It&#39;s simple, clear, and already works."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698200832,"creation_date":1460852515,"answer_id":36671329,"question_id":36671152,"body_markdown":"The problem is that the signature for `forEachOrdered` requires a `Consumer` and a `Consumer` does not declare that its `accept` method can throw any checked exceptions.\r\n\r\n[JLS 11.2.3][1] says:\r\n\r\n&gt; It is a compile-time error if a lambda body can throw some exception class E when E is a checked exception class and E is not a subclass of some class declared in the throws clause of the function type targeted by the lambda expression. \r\n\r\nTherefore, the `IOException` must be caught by the lambda itself.  The recommended solutions&lt;sup&gt;1&lt;/sup&gt; are: \r\n\r\n  - catch and handle it within the lambda, or\r\n  - catch it in the lambda and rethrow it wrapped in an unchecked exception, then catch / handle the wrapped exception at the outer level.  @Hank D&#39;s answer illustrates this.\r\n\r\nThe problem with handling the IOException within the lambda is that the &quot;for each&quot; will continue running.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - There is also the &quot;sneaky throw&quot; approach where you call a special method that subverts the Java rules and throws a checked exception without letting on.  But it is &quot;nasty&quot;, and I&#39;m not sure it would directly help here.  You would need to catch the `IOException` and sneakily rethrow it in the lambda.&lt;/sup&gt;\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.2.3","title":"error: unreported exception IOException; must be caught or declared to be thrown in stream()","body":"<p>The problem is that the signature for <code>forEachOrdered</code> requires a <code>Consumer</code> and a <code>Consumer</code> does not declare that its <code>accept</code> method can throw any checked exceptions.</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.2.3\" rel=\"nofollow noreferrer\">JLS 11.2.3</a> says:</p>\n<blockquote>\n<p>It is a compile-time error if a lambda body can throw some exception class E when E is a checked exception class and E is not a subclass of some class declared in the throws clause of the function type targeted by the lambda expression.</p>\n</blockquote>\n<p>Therefore, the <code>IOException</code> must be caught by the lambda itself.  The recommended solutions<sup>1</sup> are:</p>\n<ul>\n<li>catch and handle it within the lambda, or</li>\n<li>catch it in the lambda and rethrow it wrapped in an unchecked exception, then catch / handle the wrapped exception at the outer level.  @Hank D's answer illustrates this.</li>\n</ul>\n<p>The problem with handling the IOException within the lambda is that the &quot;for each&quot; will continue running.</p>\n<hr />\n<p><sup>1 - There is also the &quot;sneaky throw&quot; approach where you call a special method that subverts the Java rules and throws a checked exception without letting on.  But it is &quot;nasty&quot;, and I'm not sure it would directly help here.  You would need to catch the <code>IOException</code> and sneakily rethrow it in the lambda.</sup></p>\n"},{"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460862853,"creation_date":1460858028,"answer_id":36671864,"question_id":36671152,"body_markdown":"You could catch the `IOException` and rethrow it wrapped in an UncheckedIOException, like this:\r\n\r\n    .forEachOrdered(x-&gt; {\r\n         try{\r\n             writer.write(x.getName()));\r\n         } catch (IOException e) {\r\n             throw new UncheckedIOException(e);\r\n         }\r\n    }\r\n\r\nThe stream will not continue processing if an IOException is thrown.\r\n\r\nOutside of the stream, you should then change your catch to \r\n \r\n        } catch (IOException | UncheckedIOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nYou might create convenience functional types that take care of the try/catch for you, something like \r\n\r\n    @FunctionalInterface\r\n    public interface CheckedIOConsumer&lt;T&gt; {\r\n\r\n        void accept(T t) throws IOException;\r\n\r\n        static &lt;T&gt; Consumer&lt;T&gt; toUnchecked(CheckedIOConsumer&lt;T&gt; consumer) {\r\n            return t -&gt; {\r\n                try {\r\n                    consumer.accept(t);\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nwhich would make your terminal function\r\n\r\n    .forEachOrdered(toUnchecked(x -&gt; writer.write(x.getName())));","title":"error: unreported exception IOException; must be caught or declared to be thrown in stream()","body":"<p>You could catch the <code>IOException</code> and rethrow it wrapped in an UncheckedIOException, like this:</p>\n\n<pre><code>.forEachOrdered(x-&gt; {\n     try{\n         writer.write(x.getName()));\n     } catch (IOException e) {\n         throw new UncheckedIOException(e);\n     }\n}\n</code></pre>\n\n<p>The stream will not continue processing if an IOException is thrown.</p>\n\n<p>Outside of the stream, you should then change your catch to </p>\n\n<pre><code>    } catch (IOException | UncheckedIOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>You might create convenience functional types that take care of the try/catch for you, something like </p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedIOConsumer&lt;T&gt; {\n\n    void accept(T t) throws IOException;\n\n    static &lt;T&gt; Consumer&lt;T&gt; toUnchecked(CheckedIOConsumer&lt;T&gt; consumer) {\n        return t -&gt; {\n            try {\n                consumer.accept(t);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>which would make your terminal function</p>\n\n<pre><code>.forEachOrdered(toUnchecked(x -&gt; writer.write(x.getName())));\n</code></pre>\n"}],"owner":{"account_id":7935495,"reputation":23,"user_id":6214546,"display_name":"Caio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1695795158,"accepted_answer_id":36671329,"answer_count":2,"score":1,"last_activity_date":1698200832,"creation_date":1460850737,"question_id":36671152,"body_markdown":"I&#39;m trying to write a File and here is the code: \r\n\r\n    \tpublic static void writeFile(File f, int n) throws IOException{\r\n\t\t//reads n teams which go to next phase\r\n\r\n\t\ttry(BufferedWriter writer = new BufferedWriter(new FileWriter(f))){\r\n\t\t\ttable.stream()\r\n\t\t\t .sorted()\r\n\t\t\t .limit(n)\r\n\t\t\t .forEachOrdered(x-&gt;writer.write(x.getName()));\r\n\t\t\t/*for(int i=0;i&lt;n;i++){\r\n\t\t\t\twriter.write(table.get(i).getName());\r\n\t\t\t\twriter.newLine();\r\n\t\t\t}*/ this if uncommented works great!\r\n\t\t}catch (IOException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nand I get this error when I try to compile:\r\n\r\nCounter.java:123: error: unreported exception IOException; must be caught or declared to be thrown\r\n\t\t\t .forEachOrdered(x-&gt;writer.write(x.getName()));\r\n\r\n\r\nMy doubt:  Even if I declare the IOException in the method I am using the .forEachOrdered() I can&#39;t use it because the method which I define inside the .forEachOrdered() (which is a Consumer) doesn&#39;t declare it? I don&#39;t know if I am clear, but maybe you could infer something just looking at the code. Thanks.\r\n\r\nNote: the table is a declared static list with Teams.","title":"error: unreported exception IOException; must be caught or declared to be thrown in stream()","body":"<p>I'm trying to write a File and here is the code: </p>\n\n<pre><code>    public static void writeFile(File f, int n) throws IOException{\n    //reads n teams which go to next phase\n\n    try(BufferedWriter writer = new BufferedWriter(new FileWriter(f))){\n        table.stream()\n         .sorted()\n         .limit(n)\n         .forEachOrdered(x-&gt;writer.write(x.getName()));\n        /*for(int i=0;i&lt;n;i++){\n            writer.write(table.get(i).getName());\n            writer.newLine();\n        }*/ this if uncommented works great!\n    }catch (IOException e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>and I get this error when I try to compile:</p>\n\n<p>Counter.java:123: error: unreported exception IOException; must be caught or declared to be thrown\n             .forEachOrdered(x->writer.write(x.getName()));</p>\n\n<p>My doubt:  Even if I declare the IOException in the method I am using the .forEachOrdered() I can't use it because the method which I define inside the .forEachOrdered() (which is a Consumer) doesn't declare it? I don't know if I am clear, but maybe you could infer something just looking at the code. Thanks.</p>\n\n<p>Note: the table is a declared static list with Teams.</p>\n"},{"tags":["java","spring-boot","intellij-idea","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698052773,"creation_date":1697795857,"answer_id":77329997,"question_id":77305135,"body_markdown":"This post just tends to be something that helps but not fully solve your problem.\r\n\r\nI tried this tutorial https://blog.jetbrains.com/idea/2022/02/aws-in-intellij-idea/#lambda and https://docs.aws.amazon.com/toolkit-for-jetbrains/latest/userguide/create-new-lambda.html but choose Java for the project. After creation, the class is a bit different from Spring&#39;s sample:\r\n\r\n```\r\npackage helloworld;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent;\r\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayProxyResponseEvent;\r\n\r\n/**\r\n * Handler for requests to Lambda function.\r\n */\r\npublic class App implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\r\n\r\n    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\r\n\r\n        APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent()\r\n                .withHeaders(headers);\r\n        try {\r\n            final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\r\n            String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;hello world\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\r\n\r\n            return response\r\n                    .withStatusCode(200)\r\n                    .withBody(output);\r\n        } catch (IOException e) {\r\n            return response\r\n                    .withBody(&quot;{}&quot;)\r\n                    .withStatusCode(500);\r\n        }\r\n    }\r\n\r\n    private String getPageContents(String address) throws IOException{\r\n        URL url = new URL(address);\r\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\r\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the run dialog:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo I think your project should input **Handler** like `example.FunctionConfiguration`, however, I can&#39;t build the spring sample project successfully as I&#39;m really new to AWS Lamda, and there are some errors in the log.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TV7ld.png","title":"Cannot find handler &#39;org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest&#39; in project","body":"<p>This post just tends to be something that helps but not fully solve your problem.</p>\n<p>I tried this tutorial <a href=\"https://blog.jetbrains.com/idea/2022/02/aws-in-intellij-idea/#lambda\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2022/02/aws-in-intellij-idea/#lambda</a> and <a href=\"https://docs.aws.amazon.com/toolkit-for-jetbrains/latest/userguide/create-new-lambda.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/toolkit-for-jetbrains/latest/userguide/create-new-lambda.html</a> but choose Java for the project. After creation, the class is a bit different from Spring's sample:</p>\n<pre><code>package helloworld;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent;\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayProxyResponseEvent;\n\n/**\n * Handler for requests to Lambda function.\n */\npublic class App implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\n\n    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\n\n        APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent()\n                .withHeaders(headers);\n        try {\n            final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\n            String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;hello world\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\n\n            return response\n                    .withStatusCode(200)\n                    .withBody(output);\n        } catch (IOException e) {\n            return response\n                    .withBody(&quot;{}&quot;)\n                    .withStatusCode(500);\n        }\n    }\n\n    private String getPageContents(String address) throws IOException{\n        URL url = new URL(address);\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\n        }\n    }\n}\n\n</code></pre>\n<p>This is the run dialog:</p>\n<p><a href=\"https://i.stack.imgur.com/TV7ld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TV7ld.png\" alt=\"enter image description here\" /></a></p>\n<p>So I think your project should input <strong>Handler</strong> like <code>example.FunctionConfiguration</code>, however, I can't build the spring sample project successfully as I'm really new to AWS Lamda, and there are some errors in the log.</p>\n"},{"tags":[],"owner":{"account_id":2375014,"reputation":1,"user_id":2078642,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698200591,"creation_date":1698200591,"answer_id":77356292,"question_id":77305135,"body_markdown":"This is AWS Toolkit for IntelliJ&#39;s problem. The plugin is only accepting the handler if it is in your project source root. so you can&#39;t use Spring Cloud Function&#39;s `handleRequest`.\r\n\r\nTo solve that, as answered above, you need to implement or extend requestHandler. For example :\r\n\r\n```\r\npublic class HandlerWrapper extends FunctionInvoker{\r\n\tpublic void invokerWrapper(InputStream input, OutputStream output, Context context) throws IOException {\r\n\t\tthis.handleRequest(input, output, context);\r\n\t}\r\n}\r\n```\r\n\r\nThen set `HandlerWrapper::invokerWrapper` as a handler.","title":"Cannot find handler &#39;org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest&#39; in project","body":"<p>This is AWS Toolkit for IntelliJ's problem. The plugin is only accepting the handler if it is in your project source root. so you can't use Spring Cloud Function's <code>handleRequest</code>.</p>\n<p>To solve that, as answered above, you need to implement or extend requestHandler. For example :</p>\n<pre><code>public class HandlerWrapper extends FunctionInvoker{\n    public void invokerWrapper(InputStream input, OutputStream output, Context context) throws IOException {\n        this.handleRequest(input, output, context);\n    }\n}\n</code></pre>\n<p>Then set <code>HandlerWrapper::invokerWrapper</code> as a handler.</p>\n"}],"owner":{"account_id":9361051,"reputation":23,"user_id":6947360,"display_name":"javi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698200591,"creation_date":1697493065,"question_id":77305135,"body_markdown":"I am trying to run/debug a lambda application locally but my intellij keeps giving this error.\r\n\r\nMy AWS Lambda configuration looks like -&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\nError in Intellij : \r\n[![enter image description here][2]][2]\r\n\r\n\r\nI am using springboot 3.1, java 17 and using the springframework.cloud dependency in my gradle file.\r\n```implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-function-adapter-aws&#39;, version: &#39;3.+&#39;```\r\n\r\nI am following this doc to create the lambda application-&gt; https://docs.spring.io/spring-cloud-function/docs/current/reference/html/aws.html\r\n\r\n\r\nIs there any missing configuration?  What am I doing wrong here? :(\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZjN6S.png\r\n  [2]: https://i.stack.imgur.com/Dg2Co.png","title":"Cannot find handler &#39;org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest&#39; in project","body":"<p>I am trying to run/debug a lambda application locally but my intellij keeps giving this error.</p>\n<p>My AWS Lambda configuration looks like -&gt;\n<a href=\"https://i.stack.imgur.com/ZjN6S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZjN6S.png\" alt=\"enter image description here\" /></a></p>\n<p>Error in Intellij :\n<a href=\"https://i.stack.imgur.com/Dg2Co.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dg2Co.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using springboot 3.1, java 17 and using the springframework.cloud dependency in my gradle file.\n<code>implementation group: 'org.springframework.cloud', name: 'spring-cloud-function-adapter-aws', version: '3.+'</code></p>\n<p>I am following this doc to create the lambda application-&gt; <a href=\"https://docs.spring.io/spring-cloud-function/docs/current/reference/html/aws.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-function/docs/current/reference/html/aws.html</a></p>\n<p>Is there any missing configuration?  What am I doing wrong here? :(</p>\n"},{"tags":["java","swing","user-interface","netbeans","jlabel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1698199146,"post_id":77356158,"comment_id":136373806,"body_markdown":"You&#39;re mixing heavy-weight AWT components, such as `java.awt.Label`, with Swing GUI&#39;s. Don&#39;t do this. Use only `javax.swing.JLabel`s, not `java.awt.Label`s.","body":"You&#39;re mixing heavy-weight AWT components, such as <code>java.awt.Label</code>, with Swing GUI&#39;s. Don&#39;t do this. Use only <code>javax.swing.JLabel</code>s, not <code>java.awt.Label</code>s."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698200463,"creation_date":1698199492,"answer_id":77356244,"question_id":77356158,"body_markdown":"You&#39;re not just adding JLabels; you&#39;re also adding `java.awt.Label` components:\r\n\r\n```\r\nprivate java.awt.Label resultAmountLabel;\r\n```\r\n\r\nDon&#39;t do this. Don&#39;t mix heavy-weight AWT components, such as Labels, with light weight Swing GUI&#39;s. Instead, every `java.awt.Label` should be declared and initialized as a `javax.swing.JLabel`.\r\n\r\nThe same is true for Button. Instead of,\r\n```\r\nsearchButton = new java.awt.Button();\r\n```\r\nand \r\n```\r\nprivate java.awt.Button searchButton;\r\n```\r\n\r\nYou should do:\r\n\r\n```\r\nsearchButton = new javax.swing.JButton();\r\n```\r\nand \r\n```\r\nprivate javax.swing.JButton searchButton;\r\n```\r\n\r\nNote that it is OK to use non-component `java.awt` classes, such as those for Font, Color, layout managers, and such.\r\nThis is likely happening because you are choosing the wrong components with your NetBeans GUI builder, and will have to be more careful.\r\n\r\nOr even better, learn to create GUI&#39;s without use of a GUI builder. ","title":"JLabel Not Showing up when i run the program, but shows in my GUI builder in NetBeans","body":"<p>You're not just adding JLabels; you're also adding <code>java.awt.Label</code> components:</p>\n<pre><code>private java.awt.Label resultAmountLabel;\n</code></pre>\n<p>Don't do this. Don't mix heavy-weight AWT components, such as Labels, with light weight Swing GUI's. Instead, every <code>java.awt.Label</code> should be declared and initialized as a <code>javax.swing.JLabel</code>.</p>\n<p>The same is true for Button. Instead of,</p>\n<pre><code>searchButton = new java.awt.Button();\n</code></pre>\n<p>and</p>\n<pre><code>private java.awt.Button searchButton;\n</code></pre>\n<p>You should do:</p>\n<pre><code>searchButton = new javax.swing.JButton();\n</code></pre>\n<p>and</p>\n<pre><code>private javax.swing.JButton searchButton;\n</code></pre>\n<p>Note that it is OK to use non-component <code>java.awt</code> classes, such as those for Font, Color, layout managers, and such.\nThis is likely happening because you are choosing the wrong components with your NetBeans GUI builder, and will have to be more careful.</p>\n<p>Or even better, learn to create GUI's without use of a GUI builder.</p>\n"}],"owner":{"account_id":29747029,"reputation":3,"user_id":22797799,"display_name":"Yash Savani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77356244,"answer_count":1,"score":0,"last_activity_date":1698200463,"creation_date":1698197336,"question_id":77356158,"body_markdown":"I am using Java GUI builder in NetBeans(drag and drop), and I added JLabels, Text Fields and Buttons in a container. However, only Text Fields and Buttons are showing up and not JLabels. \r\n\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template\r\n */\r\npackage View;\r\n\r\n/**\r\n *\r\n * @author Yash\r\n */\r\npublic class ModifyTransactionPanel extends javax.swing.JPanel {\r\n\r\n    private MainFrame mainFrame;\r\n    /**\r\n     * Creates new form HomePanel\r\n     */\r\n    public ModifyTransactionPanel(MainFrame mainFrame) {\r\n        this.mainFrame = mainFrame;\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        menuPanel = new javax.swing.JPanel();\r\n        menuItems = new javax.swing.JPanel();\r\n        backButton = new javax.swing.JButton();\r\n        logoutButton = new javax.swing.JButton();\r\n        exitButton = new javax.swing.JButton();\r\n        expenseTrackerLogoContainer = new javax.swing.JPanel();\r\n        expenseTrackerLogo = new javax.swing.JLabel();\r\n        modifyTransactionPanelContainer = new javax.swing.JPanel();\r\n        addIncomeTitleLabel = new javax.swing.JLabel();\r\n        searchBar = new javax.swing.JTextField();\r\n        searchButton = new java.awt.Button();\r\n        searchTransactionIDButton = new java.awt.Label();\r\n        searchResultContainer = new javax.swing.JPanel();\r\n        resultTransactionID = new java.awt.Label();\r\n        resultTransactionTypeLabel = new java.awt.Label();\r\n        resultTransactionIDLabel = new java.awt.Label();\r\n        resultNameLabel = new java.awt.Label();\r\n        resultName = new javax.swing.JTextField();\r\n        resultDateLabel = new java.awt.Label();\r\n        resultDate = new javax.swing.JTextField();\r\n        resultCategoryLabel = new java.awt.Label();\r\n        resultCategory = new javax.swing.JTextField();\r\n        resultAmountLabel = new java.awt.Label();\r\n        resultAmount = new javax.swing.JTextField();\r\n        updateTransactionButton = new java.awt.Button();\r\n        addIncomeButton1 = new java.awt.Button();\r\n\r\n        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n\r\n        menuPanel.setBackground(new java.awt.Color(0, 0, 0));\r\n        menuPanel.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n\r\n        menuItems.setBackground(new java.awt.Color(0, 0, 0));\r\n        menuItems.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n        menuItems.setLayout(new java.awt.GridLayout(3, 0));\r\n\r\n        backButton.setBackground(new java.awt.Color(0, 0, 0));\r\n        backButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        backButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        backButton.setText(&quot;Back&quot;);\r\n        backButton.setBorder(null);\r\n        backButton.setBorderPainted(false);\r\n        backButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        menuItems.add(backButton);\r\n\r\n        logoutButton.setBackground(new java.awt.Color(0, 0, 0));\r\n        logoutButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        logoutButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        logoutButton.setText(&quot;Logout&quot;);\r\n        logoutButton.setBorder(null);\r\n        logoutButton.setBorderPainted(false);\r\n        logoutButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        menuItems.add(logoutButton);\r\n\r\n        exitButton.setBackground(new java.awt.Color(0, 0, 0));\r\n        exitButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        exitButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        exitButton.setText(&quot;Exit&quot;);\r\n        exitButton.setBorder(null);\r\n        exitButton.setBorderPainted(false);\r\n        exitButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        exitButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                exitButtonActionPerformed(evt);\r\n            }\r\n        });\r\n        menuItems.add(exitButton);\r\n\r\n        menuPanel.add(menuItems, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 270, 370, 730));\r\n\r\n        expenseTrackerLogo.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/expenseTrackerLogo.jpg&quot;))); // NOI18N\r\n        expenseTrackerLogo.setOpaque(true);\r\n\r\n        javax.swing.GroupLayout expenseTrackerLogoContainerLayout = new javax.swing.GroupLayout(expenseTrackerLogoContainer);\r\n        expenseTrackerLogoContainer.setLayout(expenseTrackerLogoContainerLayout);\r\n        expenseTrackerLogoContainerLayout.setHorizontalGroup(\r\n            expenseTrackerLogoContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(expenseTrackerLogo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n        expenseTrackerLogoContainerLayout.setVerticalGroup(\r\n            expenseTrackerLogoContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(expenseTrackerLogo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n\r\n        menuPanel.add(expenseTrackerLogoContainer, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 370, 270));\r\n\r\n        add(menuPanel, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 370, 1000));\r\n\r\n        modifyTransactionPanelContainer.setBackground(new java.awt.Color(255, 255, 255));\r\n        modifyTransactionPanelContainer.setForeground(new java.awt.Color(0, 0, 0));\r\n\r\n        addIncomeTitleLabel.setBackground(new java.awt.Color(255, 255, 255));\r\n        addIncomeTitleLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 36)); // NOI18N\r\n        addIncomeTitleLabel.setForeground(new java.awt.Color(0, 0, 0));\r\n        addIncomeTitleLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n        addIncomeTitleLabel.setText(&quot;ModifyTransaction&quot;);\r\n\r\n        searchBar.setBackground(new java.awt.Color(255, 255, 255));\r\n        searchBar.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n\r\n        searchButton.setBackground(new java.awt.Color(0, 0, 0));\r\n        searchButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        searchButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        searchButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        searchButton.setLabel(&quot;Search&quot;);\r\n        searchButton.setName(&quot;&quot;); // NOI18N\r\n        searchButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                searchButtonActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        searchTransactionIDButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        searchTransactionIDButton.setText(&quot;Search Transaction ID&quot;);\r\n\r\n        searchResultContainer.setBackground(new java.awt.Color(255, 255, 255));\r\n        searchResultContainer.setForeground(new java.awt.Color(255, 255, 255));\r\n\r\n        resultTransactionID.setAlignment(java.awt.Label.CENTER);\r\n        resultTransactionID.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 20)); // NOI18N\r\n        resultTransactionID.setText(&quot;INC000001&quot;);\r\n\r\n        resultTransactionTypeLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 20)); // NOI18N\r\n        resultTransactionTypeLabel.setText(&quot;(Income)&quot;);\r\n\r\n        resultTransactionIDLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        resultTransactionIDLabel.setText(&quot;Transaction ID:&quot;);\r\n\r\n        resultNameLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        resultNameLabel.setText(&quot;Income Name&quot;);\r\n\r\n        resultName.setBackground(new java.awt.Color(255, 255, 255));\r\n        resultName.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n\r\n        resultDateLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        resultDateLabel.setText(&quot;Date (in dd/mm/yyyy format)&quot;);\r\n\r\n        resultDate.setBackground(new java.awt.Color(255, 255, 255));\r\n        resultDate.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n\r\n        resultCategoryLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        resultCategoryLabel.setText(&quot;Category&quot;);\r\n\r\n        resultCategory.setBackground(new java.awt.Color(255, 255, 255));\r\n        resultCategory.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n\r\n        resultAmountLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\r\n        resultAmountLabel.setText(&quot;Amount&quot;);\r\n\r\n        resultAmount.setBackground(new java.awt.Color(255, 255, 255));\r\n        resultAmount.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\r\n\r\n        updateTransactionButton.setBackground(new java.awt.Color(0, 0, 0));\r\n        updateTransactionButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        updateTransactionButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        updateTransactionButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        updateTransactionButton.setLabel(&quot;Update&quot;);\r\n        updateTransactionButton.setName(&quot;&quot;); // NOI18N\r\n        updateTransactionButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                updateTransactionButtonActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        addIncomeButton1.setBackground(new java.awt.Color(0, 0, 0));\r\n        addIncomeButton1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n        addIncomeButton1.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\r\n        addIncomeButton1.setForeground(new java.awt.Color(255, 255, 255));\r\n        addIncomeButton1.setLabel(&quot;Delete&quot;);\r\n        addIncomeButton1.setName(&quot;&quot;); // NOI18N\r\n        addIncomeButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                addIncomeButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout searchResultContainerLayout = new javax.swing.GroupLayout(searchResultContainer);\r\n        searchResultContainer.setLayout(searchResultContainerLayout);\r\n        searchResultContainerLayout.setHorizontalGroup(\r\n            searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchResultContainerLayout.createSequentialGroup()\r\n                .addGap(48, 48, 48)\r\n                .addComponent(updateTransactionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 94, Short.MAX_VALUE)\r\n                .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(addIncomeButton1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(resultTransactionTypeLabel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(43, 43, 43))\r\n            .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(searchResultContainerLayout.createSequentialGroup()\r\n                    .addGap(46, 46, 46)\r\n                    .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                        .addGroup(searchResultContainerLayout.createSequentialGroup()\r\n                            .addComponent(resultTransactionIDLabel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(resultTransactionID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addComponent(resultAmount, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultAmountLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultCategory, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultCategoryLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultDate, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultDateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultName, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\r\n                        .addComponent(resultNameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE))\r\n                    .addContainerGap(47, Short.MAX_VALUE)))\r\n        );\r\n        searchResultContainerLayout.setVerticalGroup(\r\n            searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchResultContainerLayout.createSequentialGroup()\r\n                .addGap(20, 20, 20)\r\n                .addComponent(resultTransactionTypeLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addGap(441, 441, 441)\r\n                .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(updateTransactionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(addIncomeButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(30, 30, 30))\r\n            .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(searchResultContainerLayout.createSequentialGroup()\r\n                    .addGap(22, 22, 22)\r\n                    .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(resultTransactionIDLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addComponent(resultTransactionID, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .addGap(28, 28, 28)\r\n                    .addComponent(resultNameLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(resultName, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\r\n                    .addGap(18, 18, 18)\r\n                    .addComponent(resultDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(resultDate, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)\r\n                    .addGap(24, 24, 24)\r\n                    .addComponent(resultCategoryLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(resultCategory, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)\r\n                    .addGap(23, 23, 23)\r\n                    .addComponent(resultAmountLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(resultAmount, javax.swing.GroupLayout.DEFAULT_SIZE, 34, Short.MAX_VALUE)\r\n                    .addGap(121, 121, 121)))\r\n        );\r\n\r\n        javax.swing.GroupLayout modifyTransactionPanelContainerLayout = new javax.swing.GroupLayout(modifyTransactionPanelContainer);\r\n        modifyTransactionPanelContainer.setLayout(modifyTransactionPanelContainerLayout);\r\n        modifyTransactionPanelContainerLayout.setHorizontalGroup(\r\n            modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                .addContainerGap(374, Short.MAX_VALUE)\r\n                .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                        .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addComponent(searchTransactionIDButton, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                                .addComponent(searchBar, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addGap(24, 24, 24)\r\n                                .addComponent(searchButton, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                        .addGap(350, 350, 350))\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                        .addComponent(addIncomeTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 355, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addGap(374, 374, 374))))\r\n            .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                    .addContainerGap(327, Short.MAX_VALUE)\r\n                    .addComponent(searchResultContainer, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(304, Short.MAX_VALUE)))\r\n        );\r\n        modifyTransactionPanelContainerLayout.setVerticalGroup(\r\n            modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                .addGap(90, 90, 90)\r\n                .addComponent(addIncomeTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(37, 37, 37)\r\n                .addComponent(searchTransactionIDButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(searchBar, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\r\n                    .addComponent(searchButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                .addGap(713, 713, 713))\r\n            .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\r\n                    .addContainerGap(309, Short.MAX_VALUE)\r\n                    .addComponent(searchResultContainer, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(130, Short.MAX_VALUE)))\r\n        );\r\n\r\n        add(modifyTransactionPanelContainer, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, 0, 1130, 1000));\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        // TODO add your handling code here:\r\n        System.exit(0);\r\n    }                                          \r\n\r\n    private void updateTransactionButtonActionPerformed(java.awt.event.ActionEvent evt) {                                                        \r\n        // TODO add your handling code here:\r\n        mainFrame.showTransactionPanel();\r\n    }                                                       \r\n\r\n    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n        // TODO add your handling code here:\r\n    }                                            \r\n\r\n    private void addIncomeButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                                 \r\n        // TODO add your handling code here:\r\n    }                                                \r\n\r\n\r\n    // Variables declaration - do not modify                     \r\n    private java.awt.Button addIncomeButton1;\r\n    private javax.swing.JLabel addIncomeTitleLabel;\r\n    private javax.swing.JButton backButton;\r\n    private javax.swing.JButton exitButton;\r\n    private javax.swing.JLabel expenseTrackerLogo;\r\n    private javax.swing.JPanel expenseTrackerLogoContainer;\r\n    private javax.swing.JButton logoutButton;\r\n    private javax.swing.JPanel menuItems;\r\n    private javax.swing.JPanel menuPanel;\r\n    private javax.swing.JPanel modifyTransactionPanelContainer;\r\n    private javax.swing.JTextField resultAmount;\r\n    private java.awt.Label resultAmountLabel;\r\n    private javax.swing.JTextField resultCategory;\r\n    private java.awt.Label resultCategoryLabel;\r\n    private javax.swing.JTextField resultDate;\r\n    private java.awt.Label resultDateLabel;\r\n    private javax.swing.JTextField resultName;\r\n    private java.awt.Label resultNameLabel;\r\n    private java.awt.Label resultTransactionID;\r\n    private java.awt.Label resultTransactionIDLabel;\r\n    private java.awt.Label resultTransactionTypeLabel;\r\n    private javax.swing.JTextField searchBar;\r\n    private java.awt.Button searchButton;\r\n    private javax.swing.JPanel searchResultContainer;\r\n    private java.awt.Label searchTransactionIDButton;\r\n    private java.awt.Button updateTransactionButton;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\n[Here is the design:](https://i.stack.imgur.com/0oJQA.png)\r\n\r\n[Here is what it looks like when i run it:](https://i.stack.imgur.com/cxjyW.png)\r\n\r\n\r\n\r\nI tried checking if the visitiblity for everything is true, and it was true","title":"JLabel Not Showing up when i run the program, but shows in my GUI builder in NetBeans","body":"<p>I am using Java GUI builder in NetBeans(drag and drop), and I added JLabels, Text Fields and Buttons in a container. However, only Text Fields and Buttons are showing up and not JLabels.</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template\n */\npackage View;\n\n/**\n *\n * @author Yash\n */\npublic class ModifyTransactionPanel extends javax.swing.JPanel {\n\n    private MainFrame mainFrame;\n    /**\n     * Creates new form HomePanel\n     */\n    public ModifyTransactionPanel(MainFrame mainFrame) {\n        this.mainFrame = mainFrame;\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        menuPanel = new javax.swing.JPanel();\n        menuItems = new javax.swing.JPanel();\n        backButton = new javax.swing.JButton();\n        logoutButton = new javax.swing.JButton();\n        exitButton = new javax.swing.JButton();\n        expenseTrackerLogoContainer = new javax.swing.JPanel();\n        expenseTrackerLogo = new javax.swing.JLabel();\n        modifyTransactionPanelContainer = new javax.swing.JPanel();\n        addIncomeTitleLabel = new javax.swing.JLabel();\n        searchBar = new javax.swing.JTextField();\n        searchButton = new java.awt.Button();\n        searchTransactionIDButton = new java.awt.Label();\n        searchResultContainer = new javax.swing.JPanel();\n        resultTransactionID = new java.awt.Label();\n        resultTransactionTypeLabel = new java.awt.Label();\n        resultTransactionIDLabel = new java.awt.Label();\n        resultNameLabel = new java.awt.Label();\n        resultName = new javax.swing.JTextField();\n        resultDateLabel = new java.awt.Label();\n        resultDate = new javax.swing.JTextField();\n        resultCategoryLabel = new java.awt.Label();\n        resultCategory = new javax.swing.JTextField();\n        resultAmountLabel = new java.awt.Label();\n        resultAmount = new javax.swing.JTextField();\n        updateTransactionButton = new java.awt.Button();\n        addIncomeButton1 = new java.awt.Button();\n\n        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        menuPanel.setBackground(new java.awt.Color(0, 0, 0));\n        menuPanel.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        menuItems.setBackground(new java.awt.Color(0, 0, 0));\n        menuItems.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n        menuItems.setLayout(new java.awt.GridLayout(3, 0));\n\n        backButton.setBackground(new java.awt.Color(0, 0, 0));\n        backButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        backButton.setForeground(new java.awt.Color(255, 255, 255));\n        backButton.setText(&quot;Back&quot;);\n        backButton.setBorder(null);\n        backButton.setBorderPainted(false);\n        backButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        menuItems.add(backButton);\n\n        logoutButton.setBackground(new java.awt.Color(0, 0, 0));\n        logoutButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        logoutButton.setForeground(new java.awt.Color(255, 255, 255));\n        logoutButton.setText(&quot;Logout&quot;);\n        logoutButton.setBorder(null);\n        logoutButton.setBorderPainted(false);\n        logoutButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        menuItems.add(logoutButton);\n\n        exitButton.setBackground(new java.awt.Color(0, 0, 0));\n        exitButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        exitButton.setForeground(new java.awt.Color(255, 255, 255));\n        exitButton.setText(&quot;Exit&quot;);\n        exitButton.setBorder(null);\n        exitButton.setBorderPainted(false);\n        exitButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        exitButton.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                exitButtonActionPerformed(evt);\n            }\n        });\n        menuItems.add(exitButton);\n\n        menuPanel.add(menuItems, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 270, 370, 730));\n\n        expenseTrackerLogo.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/expenseTrackerLogo.jpg&quot;))); // NOI18N\n        expenseTrackerLogo.setOpaque(true);\n\n        javax.swing.GroupLayout expenseTrackerLogoContainerLayout = new javax.swing.GroupLayout(expenseTrackerLogoContainer);\n        expenseTrackerLogoContainer.setLayout(expenseTrackerLogoContainerLayout);\n        expenseTrackerLogoContainerLayout.setHorizontalGroup(\n            expenseTrackerLogoContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(expenseTrackerLogo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        expenseTrackerLogoContainerLayout.setVerticalGroup(\n            expenseTrackerLogoContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(expenseTrackerLogo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n\n        menuPanel.add(expenseTrackerLogoContainer, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 370, 270));\n\n        add(menuPanel, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 370, 1000));\n\n        modifyTransactionPanelContainer.setBackground(new java.awt.Color(255, 255, 255));\n        modifyTransactionPanelContainer.setForeground(new java.awt.Color(0, 0, 0));\n\n        addIncomeTitleLabel.setBackground(new java.awt.Color(255, 255, 255));\n        addIncomeTitleLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 36)); // NOI18N\n        addIncomeTitleLabel.setForeground(new java.awt.Color(0, 0, 0));\n        addIncomeTitleLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        addIncomeTitleLabel.setText(&quot;ModifyTransaction&quot;);\n\n        searchBar.setBackground(new java.awt.Color(255, 255, 255));\n        searchBar.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n\n        searchButton.setBackground(new java.awt.Color(0, 0, 0));\n        searchButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        searchButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        searchButton.setForeground(new java.awt.Color(255, 255, 255));\n        searchButton.setLabel(&quot;Search&quot;);\n        searchButton.setName(&quot;&quot;); // NOI18N\n        searchButton.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                searchButtonActionPerformed(evt);\n            }\n        });\n\n        searchTransactionIDButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        searchTransactionIDButton.setText(&quot;Search Transaction ID&quot;);\n\n        searchResultContainer.setBackground(new java.awt.Color(255, 255, 255));\n        searchResultContainer.setForeground(new java.awt.Color(255, 255, 255));\n\n        resultTransactionID.setAlignment(java.awt.Label.CENTER);\n        resultTransactionID.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 20)); // NOI18N\n        resultTransactionID.setText(&quot;INC000001&quot;);\n\n        resultTransactionTypeLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 20)); // NOI18N\n        resultTransactionTypeLabel.setText(&quot;(Income)&quot;);\n\n        resultTransactionIDLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        resultTransactionIDLabel.setText(&quot;Transaction ID:&quot;);\n\n        resultNameLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        resultNameLabel.setText(&quot;Income Name&quot;);\n\n        resultName.setBackground(new java.awt.Color(255, 255, 255));\n        resultName.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n\n        resultDateLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        resultDateLabel.setText(&quot;Date (in dd/mm/yyyy format)&quot;);\n\n        resultDate.setBackground(new java.awt.Color(255, 255, 255));\n        resultDate.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n\n        resultCategoryLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        resultCategoryLabel.setText(&quot;Category&quot;);\n\n        resultCategory.setBackground(new java.awt.Color(255, 255, 255));\n        resultCategory.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n\n        resultAmountLabel.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 20)); // NOI18N\n        resultAmountLabel.setText(&quot;Amount&quot;);\n\n        resultAmount.setBackground(new java.awt.Color(255, 255, 255));\n        resultAmount.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 14)); // NOI18N\n\n        updateTransactionButton.setBackground(new java.awt.Color(0, 0, 0));\n        updateTransactionButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        updateTransactionButton.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        updateTransactionButton.setForeground(new java.awt.Color(255, 255, 255));\n        updateTransactionButton.setLabel(&quot;Update&quot;);\n        updateTransactionButton.setName(&quot;&quot;); // NOI18N\n        updateTransactionButton.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                updateTransactionButtonActionPerformed(evt);\n            }\n        });\n\n        addIncomeButton1.setBackground(new java.awt.Color(0, 0, 0));\n        addIncomeButton1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n        addIncomeButton1.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 18)); // NOI18N\n        addIncomeButton1.setForeground(new java.awt.Color(255, 255, 255));\n        addIncomeButton1.setLabel(&quot;Delete&quot;);\n        addIncomeButton1.setName(&quot;&quot;); // NOI18N\n        addIncomeButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                addIncomeButton1ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout searchResultContainerLayout = new javax.swing.GroupLayout(searchResultContainer);\n        searchResultContainer.setLayout(searchResultContainerLayout);\n        searchResultContainerLayout.setHorizontalGroup(\n            searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchResultContainerLayout.createSequentialGroup()\n                .addGap(48, 48, 48)\n                .addComponent(updateTransactionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 94, Short.MAX_VALUE)\n                .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(addIncomeButton1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(resultTransactionTypeLabel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(43, 43, 43))\n            .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addGroup(searchResultContainerLayout.createSequentialGroup()\n                    .addGap(46, 46, 46)\n                    .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                        .addGroup(searchResultContainerLayout.createSequentialGroup()\n                            .addComponent(resultTransactionIDLabel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                            .addComponent(resultTransactionID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                        .addComponent(resultAmount, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultAmountLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultCategory, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultCategoryLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultDate, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultDateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultName, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE)\n                        .addComponent(resultNameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 406, Short.MAX_VALUE))\n                    .addContainerGap(47, Short.MAX_VALUE)))\n        );\n        searchResultContainerLayout.setVerticalGroup(\n            searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, searchResultContainerLayout.createSequentialGroup()\n                .addGap(20, 20, 20)\n                .addComponent(resultTransactionTypeLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addGap(441, 441, 441)\n                .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(updateTransactionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(addIncomeButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(30, 30, 30))\n            .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addGroup(searchResultContainerLayout.createSequentialGroup()\n                    .addGap(22, 22, 22)\n                    .addGroup(searchResultContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addComponent(resultTransactionIDLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addComponent(resultTransactionID, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .addGap(28, 28, 28)\n                    .addComponent(resultNameLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                    .addComponent(resultName, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\n                    .addGap(18, 18, 18)\n                    .addComponent(resultDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                    .addComponent(resultDate, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)\n                    .addGap(24, 24, 24)\n                    .addComponent(resultCategoryLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, Short.MAX_VALUE)\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                    .addComponent(resultCategory, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)\n                    .addGap(23, 23, 23)\n                    .addComponent(resultAmountLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                    .addComponent(resultAmount, javax.swing.GroupLayout.DEFAULT_SIZE, 34, Short.MAX_VALUE)\n                    .addGap(121, 121, 121)))\n        );\n\n        javax.swing.GroupLayout modifyTransactionPanelContainerLayout = new javax.swing.GroupLayout(modifyTransactionPanelContainer);\n        modifyTransactionPanelContainer.setLayout(modifyTransactionPanelContainerLayout);\n        modifyTransactionPanelContainerLayout.setHorizontalGroup(\n            modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(modifyTransactionPanelContainerLayout.createSequentialGroup()\n                .addContainerGap(374, Short.MAX_VALUE)\n                .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\n                        .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addComponent(searchTransactionIDButton, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\n                                .addComponent(searchBar, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(24, 24, 24)\n                                .addComponent(searchButton, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                        .addGap(350, 350, 350))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\n                        .addComponent(addIncomeTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 355, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(374, 374, 374))))\n            .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\n                    .addContainerGap(327, Short.MAX_VALUE)\n                    .addComponent(searchResultContainer, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addContainerGap(304, Short.MAX_VALUE)))\n        );\n        modifyTransactionPanelContainerLayout.setVerticalGroup(\n            modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(modifyTransactionPanelContainerLayout.createSequentialGroup()\n                .addGap(90, 90, 90)\n                .addComponent(addIncomeTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(37, 37, 37)\n                .addComponent(searchTransactionIDButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(searchBar, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\n                    .addComponent(searchButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .addGap(713, 713, 713))\n            .addGroup(modifyTransactionPanelContainerLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, modifyTransactionPanelContainerLayout.createSequentialGroup()\n                    .addContainerGap(309, Short.MAX_VALUE)\n                    .addComponent(searchResultContainer, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addContainerGap(130, Short.MAX_VALUE)))\n        );\n\n        add(modifyTransactionPanelContainer, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, 0, 1130, 1000));\n    }// &lt;/editor-fold&gt;                        \n\n    private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        // TODO add your handling code here:\n        System.exit(0);\n    }                                          \n\n    private void updateTransactionButtonActionPerformed(java.awt.event.ActionEvent evt) {                                                        \n        // TODO add your handling code here:\n        mainFrame.showTransactionPanel();\n    }                                                       \n\n    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        // TODO add your handling code here:\n    }                                            \n\n    private void addIncomeButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                                 \n        // TODO add your handling code here:\n    }                                                \n\n\n    // Variables declaration - do not modify                     \n    private java.awt.Button addIncomeButton1;\n    private javax.swing.JLabel addIncomeTitleLabel;\n    private javax.swing.JButton backButton;\n    private javax.swing.JButton exitButton;\n    private javax.swing.JLabel expenseTrackerLogo;\n    private javax.swing.JPanel expenseTrackerLogoContainer;\n    private javax.swing.JButton logoutButton;\n    private javax.swing.JPanel menuItems;\n    private javax.swing.JPanel menuPanel;\n    private javax.swing.JPanel modifyTransactionPanelContainer;\n    private javax.swing.JTextField resultAmount;\n    private java.awt.Label resultAmountLabel;\n    private javax.swing.JTextField resultCategory;\n    private java.awt.Label resultCategoryLabel;\n    private javax.swing.JTextField resultDate;\n    private java.awt.Label resultDateLabel;\n    private javax.swing.JTextField resultName;\n    private java.awt.Label resultNameLabel;\n    private java.awt.Label resultTransactionID;\n    private java.awt.Label resultTransactionIDLabel;\n    private java.awt.Label resultTransactionTypeLabel;\n    private javax.swing.JTextField searchBar;\n    private java.awt.Button searchButton;\n    private javax.swing.JPanel searchResultContainer;\n    private java.awt.Label searchTransactionIDButton;\n    private java.awt.Button updateTransactionButton;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0oJQA.png\" rel=\"nofollow noreferrer\">Here is the design:</a></p>\n<p><a href=\"https://i.stack.imgur.com/cxjyW.png\" rel=\"nofollow noreferrer\">Here is what it looks like when i run it:</a></p>\n<p>I tried checking if the visitiblity for everything is true, and it was true</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9813,"page":104,"page_size":100}
