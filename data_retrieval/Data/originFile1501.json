{"items":[{"tags":["java","swing","visual-studio-code"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1643944399,"post_id":70980150,"comment_id":125479892,"body_markdown":"Just an FYI. Netbeans, IntelliJ &amp; Eclipse are all free to download and use. It&#39;s likely all three will run Java code effortlessly, and in case there is a problem, there will be far more people willing &amp; able to help.","body":"Just an FYI. Netbeans, IntelliJ &amp; Eclipse are all free to download and use. It&#39;s likely all three will run Java code effortlessly, and in case there is a problem, there will be far more people willing &amp; able to help."}],"answers":[{"tags":[],"owner":{"account_id":20235680,"reputation":41,"user_id":14840970,"display_name":"john94"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647840409,"creation_date":1647840409,"answer_id":71553135,"question_id":70980150,"body_markdown":"I got the same message in vs code but importing ```java.awt.event.ActionListener``` should work.","title":"ActionListener not resolved on VSCode","body":"<p>I got the same message in vs code but importing <code>java.awt.event.ActionListener</code> should work.</p>\n"}],"owner":{"account_id":20081113,"reputation":59,"user_id":14723731,"display_name":"CosmosLee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647840409,"creation_date":1643934862,"question_id":70980150,"body_markdown":"I&#39;m getting into JFrame.\r\n\r\nI&#39;m trying to implement *ActionListener* but my VSCode keeps saying &quot;type cant&#39;t resolve&quot; and either change it into *AncestorListener* or *Create an ActionListener Class*.\r\n\r\nSo I thought it maybe the complier and extensions are messing with it (I have alot of extension on VSC). I changed to IJ and it worked there is *ActionListener* working.\r\n\r\nSo now I thought about the versions (I have two versions 8 and 16). I changed the versions on IJ and *ActionListener* would still work on IJ.\r\n\r\nSo I when back to VSCode, uninstalled the un-needed extensions and changed the versions, It still won&#39;t work. I changed it to *Action* class and so far so good.\r\n\r\nAfterwhich, I restart my machine, restart VSCode it suddenly have ActionListener now, I changed the versions of Java and it still work on VSCode. Re-installed all the extensions and *ActionListener* still worked.\r\n\r\nNow I&#39;m wondering what happened, is it because i changed the versions so quickly VSCode doesn&#39;t update fast enough or there is something else *(I&#39;m sorry for the wording if it is not clear and I&#39;m sorry if there is no pictures or code)*","title":"ActionListener not resolved on VSCode","body":"<p>I'm getting into JFrame.</p>\n<p>I'm trying to implement <em>ActionListener</em> but my VSCode keeps saying &quot;type cant't resolve&quot; and either change it into <em>AncestorListener</em> or <em>Create an ActionListener Class</em>.</p>\n<p>So I thought it maybe the complier and extensions are messing with it (I have alot of extension on VSC). I changed to IJ and it worked there is <em>ActionListener</em> working.</p>\n<p>So now I thought about the versions (I have two versions 8 and 16). I changed the versions on IJ and <em>ActionListener</em> would still work on IJ.</p>\n<p>So I when back to VSCode, uninstalled the un-needed extensions and changed the versions, It still won't work. I changed it to <em>Action</em> class and so far so good.</p>\n<p>Afterwhich, I restart my machine, restart VSCode it suddenly have ActionListener now, I changed the versions of Java and it still work on VSCode. Re-installed all the extensions and <em>ActionListener</em> still worked.</p>\n<p>Now I'm wondering what happened, is it because i changed the versions so quickly VSCode doesn't update fast enough or there is something else <em>(I'm sorry for the wording if it is not clear and I'm sorry if there is no pictures or code)</em></p>\n"},{"tags":["java","android","jcenter"],"comments":[{"owner":{"account_id":1363888,"reputation":10679,"user_id":1300730,"accept_rate":79,"display_name":"Eldad Assis"},"score":1,"creation_date":1647807468,"post_id":71550250,"comment_id":126458418,"body_markdown":"Does https://developer.android.com/studio/build/jcenter-migration answer this?","body":"Does <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/jcenter-migration</a> answer this?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1647807542,"post_id":71550250,"comment_id":126458432,"body_markdown":"&quot;But jcenter is shutting down&quot; -- JCenter is pledging to stay open for legacy artifacts like this indefinitely. However, that library has not been updated in nearly six years, so you should be looking for some alternative library anyway.","body":"&quot;But jcenter is shutting down&quot; -- JCenter is pledging to stay open for legacy artifacts like this indefinitely. However, that library has not been updated in nearly six years, so you should be looking for some alternative library anyway."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647839012,"creation_date":1647839012,"answer_id":71553033,"question_id":71550250,"body_markdown":"You can use it as a jitpick library.\r\n\r\nTo implement , follow the steps:\r\n\r\n1. Add it to you `settings.gradle` file:\r\n```\r\nmaven { url &#39;https://jitpack.io&#39; }\r\n``` \r\n\r\n2. Add this to your `build.gradle`:\r\n```\r\nimplementation &#39;com.github.flschweiger:SwipeStack:0.3.0&#39;\r\n```\r\n\r\nIt is very easy to use. This will now build.","title":"jcenter() is shutting down now, please tell me how can I use - &quot;link.fls:swipestack:0.3.0&quot; -this library?","body":"<p>You can use it as a jitpick library.</p>\n<p>To implement , follow the steps:</p>\n<ol>\n<li>Add it to you <code>settings.gradle</code> file:</li>\n</ol>\n<pre><code>maven { url 'https://jitpack.io' }\n</code></pre>\n<ol start=\"2\">\n<li>Add this to your <code>build.gradle</code>:</li>\n</ol>\n<pre><code>implementation 'com.github.flschweiger:SwipeStack:0.3.0'\n</code></pre>\n<p>It is very easy to use. This will now build.</p>\n"}],"owner":{"account_id":14688496,"reputation":15,"user_id":10607820,"display_name":"MK Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71553033,"answer_count":1,"score":1,"last_activity_date":1647839012,"creation_date":1647806789,"question_id":71550250,"body_markdown":"I am new in Android Studio. I want to use a library:\r\n\r\n    implementation &#39;link.fls:swipestack:0.3.0&#39;\r\nBut error comes up \r\n\r\n&gt; Failed to resolve: link.fls:swipestack:0.3.0\r\n\r\nIt need Jcenter(). But jcenter is shutting down. Then how can I use the library?","title":"jcenter() is shutting down now, please tell me how can I use - &quot;link.fls:swipestack:0.3.0&quot; -this library?","body":"<p>I am new in Android Studio. I want to use a library:</p>\n<pre><code>implementation 'link.fls:swipestack:0.3.0'\n</code></pre>\n<p>But error comes up</p>\n<blockquote>\n<p>Failed to resolve: link.fls:swipestack:0.3.0</p>\n</blockquote>\n<p>It need Jcenter(). But jcenter is shutting down. Then how can I use the library?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1647824763,"post_id":71551838,"comment_id":126461155,"body_markdown":"Hi @BenBerinsky - your code doesn&#39;t call the `findLetter` method?","body":"Hi @BenBerinsky - your code doesn&#39;t call the <code>findLetter</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647825604,"creation_date":1647825604,"answer_id":71551912,"question_id":71551838,"body_markdown":"The first mistake is in `findLetter` where you have\r\n\r\n    count = count++; // this is effectively count = count;\r\n\r\nThat should be\r\n\r\n    count++; // or count = count + 1;\r\n\r\nThen you aren&#39;t calling `findLetter`. Change your current `println` to something like\r\n\r\n    System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, \r\n            test.findLetter(letter, message));\r\n\r\nWith no other changes, I then get\r\n\r\n    Apples and Oranges contains p 2 times.\r\n","title":"Return the number of times a character shows up in a string","body":"<p>The first mistake is in <code>findLetter</code> where you have</p>\n<pre><code>count = count++; // this is effectively count = count;\n</code></pre>\n<p>That should be</p>\n<pre><code>count++; // or count = count + 1;\n</code></pre>\n<p>Then you aren't calling <code>findLetter</code>. Change your current <code>println</code> to something like</p>\n<pre><code>System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, \n        test.findLetter(letter, message));\n</code></pre>\n<p>With no other changes, I then get</p>\n<pre><code>Apples and Oranges contains p 2 times.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24230693,"reputation":26,"user_id":18184495,"display_name":"VillySO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647838183,"creation_date":1647826803,"answer_id":71551996,"question_id":71551838,"body_markdown":"To complete the answer given by Elliott Frisch, your function has the first parameter wrong it is an char instead of a string and given that, you need to change the way you are finding the char in the string by using the function charAt to make it more simple (https://www.w3schools.com/java/ref_string_charat.asp). It’s not a mandatory change, but I think it makes more sense.\r\n\r\n    public class StringFind {\r\n        /** findLetter looks for a letter in a String\r\n         * @param String letter to look for\r\n         * @param String text to look in\r\n         * @return boolean true if letter is in text\r\n         * After running the code, change this method to return\r\n         * an int count of how many times letter is in the text.\r\n         */\r\n        public int findLetter(char letter, String text)\r\n        {\r\n            int count = 0;\r\n            for(int i=0; i &lt; text.length(); i++)\r\n            {    if(text.charAt(i) == letter)\r\n                count++;\r\n            }\r\n\r\n\r\n            return(count);\r\n\r\n        }\r\n\r\n        public static void main(String args[])\r\n        {\r\n            StringFind test = new StringFind();\r\n            String message = &quot;Apples and Oranges&quot;;\r\n            Character letter = &#39;p&#39;;\r\n            System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, test.findLetter(letter, message));\r\n        }\r\n    }\r\n\r\n ","title":"Return the number of times a character shows up in a string","body":"<p>To complete the answer given by Elliott Frisch, your function has the first parameter wrong it is an char instead of a string and given that, you need to change the way you are finding the char in the string by using the function charAt to make it more simple (<a href=\"https://www.w3schools.com/java/ref_string_charat.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/ref_string_charat.asp</a>). It’s not a mandatory change, but I think it makes more sense.</p>\n<pre><code>public class StringFind {\n    /** findLetter looks for a letter in a String\n     * @param String letter to look for\n     * @param String text to look in\n     * @return boolean true if letter is in text\n     * After running the code, change this method to return\n     * an int count of how many times letter is in the text.\n     */\n    public int findLetter(char letter, String text)\n    {\n        int count = 0;\n        for(int i=0; i &lt; text.length(); i++)\n        {    if(text.charAt(i) == letter)\n            count++;\n        }\n\n\n        return(count);\n\n    }\n\n    public static void main(String args[])\n    {\n        StringFind test = new StringFind();\n        String message = &quot;Apples and Oranges&quot;;\n        Character letter = 'p';\n        System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, test.findLetter(letter, message));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24622752,"reputation":3,"user_id":18522856,"display_name":"BENJAMIN BERINSKY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551912,"answer_count":2,"score":0,"last_activity_date":1647838377,"creation_date":1647824459,"question_id":71551838,"body_markdown":"    public class StringFind {\r\n\r\n       /** findLetter looks for a letter in a String\r\n        * @param String letter to look for\r\n        * @param String text to look in\r\n        * @return boolean true if letter is in text\r\n        * After running the code, change this method to return\r\n        * an int count of how many times letter is in the text.\r\n        */\r\n        public int findLetter(String letter, String text) {\r\n            int count = 0;\r\n            for(int i=0; i &lt; text.length(); i++) {\r\n                if (text.substring(i, i+1).equalsIgnoreCase(letter)) {         \r\n                    count = count++;\r\n                }\r\n            }\r\n             \r\n            return(count);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            StringFind test = new StringFind();\r\n            String message = &quot;Apples and Oranges&quot;;\r\n            String letter = &quot;p&quot;;\r\n            System.out.println(&quot;Does &quot; + message +  &quot; contain a &quot; + letter + &quot;?&quot;);\r\n        }\r\n    }\r\n\r\nThere is an error with this code and I am not sure how to fix it. This code is supposed to return the number of times a letter shows up in a message that the user inputs. I have struggled to figure out what I need to change without error.","title":"Return the number of times a character shows up in a string","body":"<pre><code>public class StringFind {\n\n   /** findLetter looks for a letter in a String\n    * @param String letter to look for\n    * @param String text to look in\n    * @return boolean true if letter is in text\n    * After running the code, change this method to return\n    * an int count of how many times letter is in the text.\n    */\n    public int findLetter(String letter, String text) {\n        int count = 0;\n        for(int i=0; i &lt; text.length(); i++) {\n            if (text.substring(i, i+1).equalsIgnoreCase(letter)) {         \n                count = count++;\n            }\n        }\n         \n        return(count);\n    }\n\n    public static void main(String args[]) {\n        StringFind test = new StringFind();\n        String message = &quot;Apples and Oranges&quot;;\n        String letter = &quot;p&quot;;\n        System.out.println(&quot;Does &quot; + message +  &quot; contain a &quot; + letter + &quot;?&quot;);\n    }\n}\n</code></pre>\n<p>There is an error with this code and I am not sure how to fix it. This code is supposed to return the number of times a letter shows up in a message that the user inputs. I have struggled to figure out what I need to change without error.</p>\n"},{"tags":["java","math","processing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639184208,"post_id":70311523,"comment_id":124291751,"body_markdown":"Which values of i produce the incorrect lines?","body":"Which values of i produce the incorrect lines?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1639184675,"post_id":70311523,"comment_id":124291818,"body_markdown":"You are using integer divising: 3/2 == 1. Change it to 3.0/2 or simply 1.5.","body":"You are using integer divising: 3/2 == 1. Change it to 3.0/2 or simply 1.5."}],"answers":[{"tags":[],"owner":{"account_id":10160160,"reputation":2213,"user_id":7503887,"display_name":"phentnil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647838126,"creation_date":1647838126,"answer_id":71552937,"question_id":70311523,"body_markdown":"The reason you are getting these erroneous values (as [Joop Eggen][1] pointed out) is that you&#39;re using integer division in some of your values:\r\n\r\n```java\r\nfloat[] xs = { ... sqrt(3/2) ... sqrt(3/2)};\r\n```\r\n\r\nChange these to the following and it should resolve your issue:\r\n\r\n```java\r\nfloat[] xs = { ... sqrt((float) 3/2) ... sqrt((float) 3/2)};\r\n```\r\n\r\nAll the other calculations perform float division, so no need to adjust them particularly. Full code with these changes applied:\r\n\r\n```java\r\nfloat r = 300;\r\nfloat[] xs = {1, sqrt((float) 3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt((float) 3/2)};\r\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\r\n\r\nvoid setup() {\r\n  size(900, 900);\r\n  background(0);\r\n  noFill();\r\n  stroke(255);\r\n  strokeWeight(4);\r\n  textAlign(CENTER, CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  translate(width / 2, height / 2);\r\n  circle(0,0,r * 2);\r\n  for (int i = 0; i &lt; xs.length; i++) {\r\n    line(0, 0, xs[i] * r, ys[i] * r);\r\n  }  \r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/984823","title":"Unit Circle Animation setting X as 1 three times instead of 1","body":"<p>The reason you are getting these erroneous values (as <a href=\"https://stackoverflow.com/users/984823\">Joop Eggen</a> pointed out) is that you're using integer division in some of your values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] xs = { ... sqrt(3/2) ... sqrt(3/2)};\n</code></pre>\n<p>Change these to the following and it should resolve your issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] xs = { ... sqrt((float) 3/2) ... sqrt((float) 3/2)};\n</code></pre>\n<p>All the other calculations perform float division, so no need to adjust them particularly. Full code with these changes applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float r = 300;\nfloat[] xs = {1, sqrt((float) 3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt((float) 3/2)};\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\n\nvoid setup() {\n  size(900, 900);\n  background(0);\n  noFill();\n  stroke(255);\n  strokeWeight(4);\n  textAlign(CENTER, CENTER);\n}\n\nvoid draw() {\n  background(0);\n  translate(width / 2, height / 2);\n  circle(0,0,r * 2);\n  for (int i = 0; i &lt; xs.length; i++) {\n    line(0, 0, xs[i] * r, ys[i] * r);\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":18004757,"reputation":19,"user_id":13085815,"display_name":"Tristen Gordon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71552937,"answer_count":1,"score":1,"last_activity_date":1647838126,"creation_date":1639179906,"question_id":70311523,"body_markdown":"I&#39;m doing a project about the unit circle and decided to code a visual representation in Java Processing, however when testing the code displays as the X value being 1 three times even though it&#39;s in the list of X values one time. Any ideas as to why?\r\n\r\nCode:\r\n```java\r\nfloat r = 300;\r\nfloat[] xs = {1, sqrt(3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt(3/2)};\r\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\r\n\r\nvoid setup() {\r\n  size(900, 900);\r\n  background(0);\r\n  noFill();\r\n  stroke(255);\r\n  strokeWeight(4);\r\n  textAlign(CENTER, CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  translate(width / 2, height / 2);\r\n  circle(0,0,r * 2);\r\n  for (int i = 0; i &lt; xs.length; i++) {\r\n    line(0, 0, xs[i] * r, ys[i] * r);\r\n  }  \r\n}\r\n```\r\n\r\n![What the result is][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuO2E.png","title":"Unit Circle Animation setting X as 1 three times instead of 1","body":"<p>I'm doing a project about the unit circle and decided to code a visual representation in Java Processing, however when testing the code displays as the X value being 1 three times even though it's in the list of X values one time. Any ideas as to why?</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float r = 300;\nfloat[] xs = {1, sqrt(3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt(3/2)};\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\n\nvoid setup() {\n  size(900, 900);\n  background(0);\n  noFill();\n  stroke(255);\n  strokeWeight(4);\n  textAlign(CENTER, CENTER);\n}\n\nvoid draw() {\n  background(0);\n  translate(width / 2, height / 2);\n  circle(0,0,r * 2);\n  for (int i = 0; i &lt; xs.length; i++) {\n    line(0, 0, xs[i] * r, ys[i] * r);\n  }  \n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/iuO2E.png\" alt=\"What the result is\" /></p>\n"},{"tags":["java","algorithm","recursion","n-queens"],"comments":[{"owner":{"account_id":1963769,"reputation":2063,"user_id":1764528,"accept_rate":85,"display_name":"DollarAkshay"},"score":0,"creation_date":1647808106,"post_id":71550363,"comment_id":126458566,"body_markdown":"Please format your code before posting. It helps with reading your code.","body":"Please format your code before posting. It helps with reading your code."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1647812287,"post_id":71550363,"comment_id":126459283,"body_markdown":"You should step through it for the smallest case that has wrong output. Arrays seem a more natural representation of a board.","body":"You should step through it for the smallest case that has wrong output. Arrays seem a more natural representation of a board."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1647812890,"post_id":71550363,"comment_id":126459393,"body_markdown":"Your solution should remove each col entry after your recursive call to &quot;function&quot; (which could be more descriptively named) to check child paths whether it succeeds or not.  Otherwise, your first valid placement prevents all other possible placements for that row.","body":"Your solution should remove each col entry after your recursive call to &quot;function&quot; (which could be more descriptively named) to check child paths whether it succeeds or not.  Otherwise, your first valid placement prevents all other possible placements for that row."}],"owner":{"account_id":19563586,"reputation":1,"user_id":14316293,"display_name":"warlock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647838044,"creation_date":1647807698,"question_id":71550363,"body_markdown":"The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.\r\n\r\nGiven an integer n, return the number of distinct solutions to the n-queens puzzle.\r\n\r\nThis is my code for the n queens question. I cant find any error but my output keeps coming out to be 0. pls help\r\n```\r\nclass Solution \r\n{\r\n    public int totalNQueens(int n)\r\n {\r\n        List&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n        function(n,0,result,new ArrayList&lt;Integer&gt;());\r\n        return result.size();\r\n    }\r\n    \r\n    \r\n  public void function(int n, int row,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; col)\r\n    {\r\n        if(n==row)\r\n        {\r\n            result.add(new ArrayList&lt;&gt;(col));\r\n        }\r\n        else\r\n        {\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                col.add(i);\r\n                if(isvalid(col))\r\n                {\r\n                 function(n,row+1,result,col);\r\n                }\r\n                else\r\n                    col.remove(col.size()-1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public boolean isvalid(List&lt;Integer&gt; col)\r\n    {\r\n        // if(col.size()==1)\r\n        //     return true;\r\n        // int c=col.get(col.size()-1);\r\n        int r=col.size()-1;\r\n        for(int i=0;i&lt;r;i++)\r\n        {\r\n            if(col.get(r)==col.get(i) || Math.abs(i-r)==Math.abs(col.get(r)-col.get(i)))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n}","title":"N-Queens 2 leetcode question different output","body":"<p>The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.</p>\n<p>Given an integer n, return the number of distinct solutions to the n-queens puzzle.</p>\n<p>This is my code for the n queens question. I cant find any error but my output keeps coming out to be 0. pls help</p>\n<pre><code>class Solution \n{\n    public int totalNQueens(int n)\n {\n        List&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n        function(n,0,result,new ArrayList&lt;Integer&gt;());\n        return result.size();\n    }\n    \n    \n  public void function(int n, int row,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; col)\n    {\n        if(n==row)\n        {\n            result.add(new ArrayList&lt;&gt;(col));\n        }\n        else\n        {\n            for(int i=0;i&lt;n;i++)\n            {\n                col.add(i);\n                if(isvalid(col))\n                {\n                 function(n,row+1,result,col);\n                }\n                else\n                    col.remove(col.size()-1);\n            }\n        }\n    }\n    \n    \n    public boolean isvalid(List&lt;Integer&gt; col)\n    {\n        // if(col.size()==1)\n        //     return true;\n        // int c=col.get(col.size()-1);\n        int r=col.size()-1;\n        for(int i=0;i&lt;r;i++)\n        {\n            if(col.get(r)==col.get(i) || Math.abs(i-r)==Math.abs(col.get(r)-col.get(i)))\n                return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","super","superclass"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647837220,"post_id":71552712,"comment_id":126462932,"body_markdown":"You should probably also show the code of how you&#39;re using the class.","body":"You should probably also show the code of how you&#39;re using the class."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647837816,"creation_date":1647837296,"answer_id":71552857,"question_id":71552712,"body_markdown":"You can resolve this by simply removing the duplicate variables `factoryName`, `employeeAmount` and `producedAmount` from your `SteelFactory` class, otherwise the class will use the local variables that were never initialized instead of the correct variables from the super class. One big reason for extending a class is so that we don&#39;t have to re-use/re-type the same variables and methods in multiple classes.\r\n\r\nAlso, don&#39;t forget to use `@Override` annotation, it helps you keep track of which methods have been extended and [helps prevent common mistakes][1].\r\n\r\nWorking code as follows:\r\n\r\n        static class SteelFactory extends Factory {\r\n            //Attributes:\r\n            int yearCreated; // the year the factory was made\r\n            \r\n            //Constructor: \r\n            public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\r\n                super ( ifactoryName, iemployeeAmount,iproducedAmount);\r\n                yearCreated = iyearCreated;\r\n            }\r\n            // Methods\r\n            @Override\r\n            public String getFactoryName() {\r\n                return (factoryName);\r\n            }\r\n            @Override\r\n            public int getEmployeeAmount() {\r\n                return (employeeAmount);\r\n            }\r\n            @Override\r\n            public int getProducedAmount() {\r\n                return (producedAmount);\r\n            }\r\n            @Override\r\n            public String toString () {\r\n                return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\r\n            }\r\n        }   \r\n\r\nThen simply use:\r\n\r\n    SteelFactory test = new SteelFactory(&quot;Test&quot;, 78, 26, 2022);\r\n    System.out.println(test.toString());\r\n\r\nWill correctly print the following result (You&#39;ll need to fix your formatting to include spaces):\r\n\r\n    The Factory called Test with 78makes cars at a rate of 26since the year 2022\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why","title":"Super class is not passing along values","body":"<p>You can resolve this by simply removing the duplicate variables <code>factoryName</code>, <code>employeeAmount</code> and <code>producedAmount</code> from your <code>SteelFactory</code> class, otherwise the class will use the local variables that were never initialized instead of the correct variables from the super class. One big reason for extending a class is so that we don't have to re-use/re-type the same variables and methods in multiple classes.</p>\n<p>Also, don't forget to use <code>@Override</code> annotation, it helps you keep track of which methods have been extended and <a href=\"https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why\">helps prevent common mistakes</a>.</p>\n<p>Working code as follows:</p>\n<pre><code>    static class SteelFactory extends Factory {\n        //Attributes:\n        int yearCreated; // the year the factory was made\n        \n        //Constructor: \n        public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\n            super ( ifactoryName, iemployeeAmount,iproducedAmount);\n            yearCreated = iyearCreated;\n        }\n        // Methods\n        @Override\n        public String getFactoryName() {\n            return (factoryName);\n        }\n        @Override\n        public int getEmployeeAmount() {\n            return (employeeAmount);\n        }\n        @Override\n        public int getProducedAmount() {\n            return (producedAmount);\n        }\n        @Override\n        public String toString () {\n            return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\n        }\n    }   \n</code></pre>\n<p>Then simply use:</p>\n<pre><code>SteelFactory test = new SteelFactory(&quot;Test&quot;, 78, 26, 2022);\nSystem.out.println(test.toString());\n</code></pre>\n<p>Will correctly print the following result (You'll need to fix your formatting to include spaces):</p>\n<pre><code>The Factory called Test with 78makes cars at a rate of 26since the year 2022\n</code></pre>\n"}],"owner":{"account_id":20889260,"reputation":7,"user_id":15345065,"display_name":"Tusk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71552857,"answer_count":1,"score":0,"last_activity_date":1647837816,"creation_date":1647835656,"question_id":71552712,"body_markdown":"Super class is not functioning, as when the Steelfactory class try&#39;s to get the data from the super class, the output shows that there is noting there. \r\nLooking to solves as to why this might be happening. \r\n The Factory called null with 0makes cars at a rate of 0since the year 1998\r\nI am wondering if it is due to, having called my super class wrong, but I did not  gain any errors  when writing it. Or could there there be another issue in the code logic wise? \r\nThe code: \r\n\r\n    package finalsproject;\r\n\r\n\tstatic abstract class Factory {\r\n\t\t//Atributes: \r\n\t\tString factoryName; //The name of the factory\r\n\t\tint employeeAmount; // number of workers in the factory\r\n\t\tint producedAmount; // number of products made\r\n\t\t// Constructor: \r\n\t\tpublic Factory (String ifactoryName,int iemployeeAmount,int iproducedAmount) {// Prameterized consrtuctor\r\n\t\t\tfactoryName = ifactoryName;\r\n\t\t\temployeeAmount = iemployeeAmount;\r\n\t\t\tproducedAmount = iproducedAmount;\r\n\t\t}\r\n\t    //Methods: \r\n\t\tpublic abstract String getFactoryName();\r\n\t\tpublic abstract int getEmployeeAmount();\r\n\t\tpublic abstract int getProducedAmount();\r\n\t\t\t\r\n    }\r\n\t\t   \r\n    //The class SteelFactory must have the following specifications\r\n    //-It must implement the abstract class Factory\r\n    //Make these two classes implement the abstract class above\r\n\t\t\r\n\tstatic class SteelFactory extends Factory {\r\n\t\t//Attributes:\r\n\t\tString factoryName; // Name of the factory\r\n\t\tint employeeAmount; // Number of workers\r\n\t\tint producedAmount; // number of products\r\n\t\tint yearCreated; // the year the factory was made\r\n\t\t\r\n\t\t//Constructor: \r\n\t\tpublic SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\r\n\t\t\tsuper ( ifactoryName, iemployeeAmount,iproducedAmount);\r\n\t\t\tyearCreated = iyearCreated;\r\n\t\t}\r\n\t\t// Methods\r\n\t\tpublic String getFactoryName() {\r\n\t\t\treturn (factoryName);\r\n\t\t}\r\n\t\tpublic int getEmployeeAmount() {\r\n\t\t\treturn (employeeAmount);\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic int getProducedAmount() {\r\n\t\t\treturn (producedAmount);\r\n\t\t}\r\n\t\tpublic String toString () {\r\n\t\t\treturn (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n","title":"Super class is not passing along values","body":"<p>Super class is not functioning, as when the Steelfactory class try's to get the data from the super class, the output shows that there is noting there.\nLooking to solves as to why this might be happening.\nThe Factory called null with 0makes cars at a rate of 0since the year 1998\nI am wondering if it is due to, having called my super class wrong, but I did not  gain any errors  when writing it. Or could there there be another issue in the code logic wise?\nThe code:</p>\n<pre><code>package finalsproject;\n\nstatic abstract class Factory {\n    //Atributes: \n    String factoryName; //The name of the factory\n    int employeeAmount; // number of workers in the factory\n    int producedAmount; // number of products made\n    // Constructor: \n    public Factory (String ifactoryName,int iemployeeAmount,int iproducedAmount) {// Prameterized consrtuctor\n        factoryName = ifactoryName;\n        employeeAmount = iemployeeAmount;\n        producedAmount = iproducedAmount;\n    }\n    //Methods: \n    public abstract String getFactoryName();\n    public abstract int getEmployeeAmount();\n    public abstract int getProducedAmount();\n        \n}\n       \n//The class SteelFactory must have the following specifications\n//-It must implement the abstract class Factory\n//Make these two classes implement the abstract class above\n    \nstatic class SteelFactory extends Factory {\n    //Attributes:\n    String factoryName; // Name of the factory\n    int employeeAmount; // Number of workers\n    int producedAmount; // number of products\n    int yearCreated; // the year the factory was made\n    \n    //Constructor: \n    public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\n        super ( ifactoryName, iemployeeAmount,iproducedAmount);\n        yearCreated = iyearCreated;\n    }\n    // Methods\n    public String getFactoryName() {\n        return (factoryName);\n    }\n    public int getEmployeeAmount() {\n        return (employeeAmount);\n        \n    }\n    public int getProducedAmount() {\n        return (producedAmount);\n    }\n    public String toString () {\n        return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\n    }\n    \n}   \n</code></pre>\n"},{"tags":["java","android","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":5236795,"reputation":211,"user_id":4185127,"display_name":"Leonard Shi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1430215022,"creation_date":1430215022,"answer_id":29916156,"question_id":29898364,"body_markdown":"can&#39;t wait, so kept researching when i was free for the whole day, fortunately found the solution, hope this can help some beginners like me.\r\n\r\n - if u run the service in the same process with ur application, that means u should declare the service in the Manifest.xml without &#39;android:process&#39;, if u do this, then the above absolutely works fine.\r\n - the above exception will be threw when u try to bind ur app component to a service which is run in a different process\r\n - so the solution is wrapping ur IBinder with AIDL.\r\n - following is the code based the above one\r\n\r\n**define ur AIDL interface**\r\n\r\n    package com.leonard.sg.okcoin.service.robot.aidl;\r\n\r\n    interface ISyncAndTradeService {\r\n\r\n        boolean startTradeEngine();\r\n\r\n    }\r\n**then change the onBind method in ur service to this:**\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return new ISyncAndTradeService.Stub() {\r\n\r\n            @Override\r\n            public boolean startTradeEngine() throws RemoteException {\r\n                return false;\r\n            }\r\n        };\r\n    }\r\n**then refine the build service connection class to this:**\r\n\r\n    private ISyncAndTradeService syncAndTradeService;\r\n    private boolean hasBounded = false;\r\n\r\n    private Intent syncAndTradeServiceIntent;\r\n\r\n    private ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            syncAndTradeService = ISyncAndTradeService.Stub.asInterface((IBinder) service);\r\n            hasBounded = true;\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            syncAndTradeService = null;\r\n            hasBounded = false;\r\n        }\r\n    };\r\n\r\n**then everything will work fine**\r\n\r\nbut this raise another problem, according to the google documentation of the attribute &#39;android:process&#39; of service declaration, we can do this:\r\n\r\n&gt; android:process\r\nThe name of the process where the service is to run. Normally, all components of an application run in the default process created for the application. It has the same name as the application package. The &lt;application&gt; element&#39;s process attribute can set a different default for all components. But component can override the default with its own process attribute, allowing you to spread your application across multiple processes.\r\nIf the name assigned to this attribute begins with a colon (&#39;:&#39;), a new process, private to the application, is created when it&#39;s needed and the service runs in that process. If the process name begins with a lowercase character, the service will run in a global process of that name, provided that it has permission to do so. This allows components in different applications to share a process, reducing resource usage.\r\n\r\n**but in practice, if i declare the &#39;android:process&#39; start with character, no matter lowercase or uppercase, i will get this error:**\r\n\r\n    DEVICE SHELL COMMAND: pm install -r &quot;/data/local/tmp/com.leonard.sg.okcoin&quot;\r\n    pkg: /data/local/tmp/com.leonard.sg.okcoin\r\n    Failure [INSTALL_PARSE_FAILED_MANIFEST_MALFORMED]\r\n\r\n**the only choice is start with &#39;:&#39; or &#39;.&#39;**","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>can't wait, so kept researching when i was free for the whole day, fortunately found the solution, hope this can help some beginners like me.</p>\n\n<ul>\n<li>if u run the service in the same process with ur application, that means u should declare the service in the Manifest.xml without 'android:process', if u do this, then the above absolutely works fine.</li>\n<li>the above exception will be threw when u try to bind ur app component to a service which is run in a different process</li>\n<li>so the solution is wrapping ur IBinder with AIDL.</li>\n<li>following is the code based the above one</li>\n</ul>\n\n<p><strong>define ur AIDL interface</strong></p>\n\n<pre><code>package com.leonard.sg.okcoin.service.robot.aidl;\n\ninterface ISyncAndTradeService {\n\n    boolean startTradeEngine();\n\n}\n</code></pre>\n\n<p><strong>then change the onBind method in ur service to this:</strong></p>\n\n<pre><code>@Override\npublic IBinder onBind(Intent intent) {\n    return new ISyncAndTradeService.Stub() {\n\n        @Override\n        public boolean startTradeEngine() throws RemoteException {\n            return false;\n        }\n    };\n}\n</code></pre>\n\n<p><strong>then refine the build service connection class to this:</strong></p>\n\n<pre><code>private ISyncAndTradeService syncAndTradeService;\nprivate boolean hasBounded = false;\n\nprivate Intent syncAndTradeServiceIntent;\n\nprivate ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder service) {\n        syncAndTradeService = ISyncAndTradeService.Stub.asInterface((IBinder) service);\n        hasBounded = true;\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        syncAndTradeService = null;\n        hasBounded = false;\n    }\n};\n</code></pre>\n\n<p><strong>then everything will work fine</strong></p>\n\n<p>but this raise another problem, according to the google documentation of the attribute 'android:process' of service declaration, we can do this:</p>\n\n<blockquote>\n  <p>android:process\n  The name of the process where the service is to run. Normally, all components of an application run in the default process created for the application. It has the same name as the application package. The  element's process attribute can set a different default for all components. But component can override the default with its own process attribute, allowing you to spread your application across multiple processes.\n  If the name assigned to this attribute begins with a colon (':'), a new process, private to the application, is created when it's needed and the service runs in that process. If the process name begins with a lowercase character, the service will run in a global process of that name, provided that it has permission to do so. This allows components in different applications to share a process, reducing resource usage.</p>\n</blockquote>\n\n<p><strong>but in practice, if i declare the 'android:process' start with character, no matter lowercase or uppercase, i will get this error:</strong></p>\n\n<pre><code>DEVICE SHELL COMMAND: pm install -r \"/data/local/tmp/com.leonard.sg.okcoin\"\npkg: /data/local/tmp/com.leonard.sg.okcoin\nFailure [INSTALL_PARSE_FAILED_MANIFEST_MALFORMED]\n</code></pre>\n\n<p><strong>the only choice is start with ':' or '.'</strong></p>\n"},{"tags":[],"owner":{"account_id":2308892,"reputation":1,"user_id":2027517,"display_name":"user2027517"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647837717,"creation_date":1647837717,"answer_id":71552901,"question_id":29898364,"body_markdown":"I just remove the below line in my activity. it is working fine.\r\nandroid:process=&quot;:UsbEventReceiverActivityProcess&quot;","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>I just remove the below line in my activity. it is working fine.\nandroid:process=&quot;:UsbEventReceiverActivityProcess&quot;</p>\n"}],"owner":{"account_id":5236795,"reputation":211,"user_id":4185127,"display_name":"Leonard Shi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29916156,"answer_count":2,"score":2,"last_activity_date":1647837717,"creation_date":1430144470,"question_id":29898364,"body_markdown":"I tried to bind the MainActivity to a foreground service, then got the following Exceptions, already searched more than one hour, no idea what i did wrongly, pls save me.\r\n\r\n    java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder\r\n            at com.leonard.sg.okcoin.MainActivity$1.onServiceConnected(MainActivity.java:50)\r\n            at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1101)\r\n            at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1118)\r\n            at android.os.Handler.handleCallback(Handler.java:725)\r\n            at android.os.Handler.dispatchMessage(Handler.java:92)\r\n            at android.os.Looper.loop(Looper.java:137)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5227)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:511)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n\r\nThe code in my MainActivity:\r\n\r\n    private SyncAndTradeService syncAndTradeService;\r\n    private boolean hasBounded = false;\r\n\r\n    private Intent syncAndTradeServiceIntent;\r\n\r\n    private ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            SyncAndTradeService.SyncAndTradeBinder syncAndTradeBinder = (SyncAndTradeService.SyncAndTradeBinder) service;\r\n            syncAndTradeService = syncAndTradeBinder.getSyncAndTradeService();\r\n            hasBounded = true;\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            syncAndTradeService = null;\r\n            hasBounded = false;\r\n        }\r\n    };\r\n\r\nAnd i tried to do this in onCreate method:\r\n\r\n    syncAndTradeServiceIntent = new Intent(this, SyncAndTradeService.class);\r\n\r\n    bindService(syncAndTradeServiceIntent, syncAndTradeServiceConnection, Context.BIND_AUTO_CREATE);\r\n\r\nAnd this is my service code:\r\n\r\n    public class SyncAndTradeService extends Service {\r\n\r\n        public static final int MY_FOREGROUND_SERVICE_START_ID = 996539;\r\n\r\n        private IBinder syncAndTradeBinder = new SyncAndTradeBinder();\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n            startSyncAndTradeService();\r\n\r\n            return Service.START_REDELIVER_INTENT;\r\n        }\r\n\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return syncAndTradeBinder;\r\n        }\r\n\r\n        @Override\r\n        public boolean onUnbind(Intent intent) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onRebind(Intent intent) {\r\n            super.onRebind(intent);\r\n        }\r\n\r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n        }\r\n\r\n        public class SyncAndTradeBinder extends Binder {\r\n\r\n            public SyncAndTradeService getSyncAndTradeService() {\r\n                return SyncAndTradeService.this;\r\n            }\r\n\r\n        }\r\n\r\n        private void startSyncAndTradeService() {\r\n            startForeground(MY_FOREGROUND_SERVICE_START_ID, buildFixedNotification());\r\n        }\r\n\r\n        private Notification buildFixedNotification() {\r\n\r\n            Intent notificationIntent = new Intent(this, MainActivity.class);\r\n\r\n            notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);\r\n\r\n            Notification notification = new Notification.Builder(this)\r\n                .setContentTitle(&quot;OKCoin Robot&quot;)\r\n                .setContentText(&quot;OKCoin robot is running in background&quot;)\r\n                .setSmallIcon(R.drawable.bitcoin)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n\r\n            return notification;\r\n        }\r\n\r\n    }\r\n\r\nAnd this is my declaration of my service in the Manifest.xml\r\n\r\n    &lt;service\r\n        android:name=&quot;.service.SyncAndTradeService&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:icon=&quot;@drawable/bitcoin&quot;\r\n        android:process=&quot;:SyncAndTrade&quot;&gt;\r\n    &lt;/service&gt;","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>I tried to bind the MainActivity to a foreground service, then got the following Exceptions, already searched more than one hour, no idea what i did wrongly, pls save me.</p>\n\n<pre><code>java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder\n        at com.leonard.sg.okcoin.MainActivity$1.onServiceConnected(MainActivity.java:50)\n        at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1101)\n        at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1118)\n        at android.os.Handler.handleCallback(Handler.java:725)\n        at android.os.Handler.dispatchMessage(Handler.java:92)\n        at android.os.Looper.loop(Looper.java:137)\n        at android.app.ActivityThread.main(ActivityThread.java:5227)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:511)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The code in my MainActivity:</p>\n\n<pre><code>private SyncAndTradeService syncAndTradeService;\nprivate boolean hasBounded = false;\n\nprivate Intent syncAndTradeServiceIntent;\n\nprivate ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder service) {\n        SyncAndTradeService.SyncAndTradeBinder syncAndTradeBinder = (SyncAndTradeService.SyncAndTradeBinder) service;\n        syncAndTradeService = syncAndTradeBinder.getSyncAndTradeService();\n        hasBounded = true;\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        syncAndTradeService = null;\n        hasBounded = false;\n    }\n};\n</code></pre>\n\n<p>And i tried to do this in onCreate method:</p>\n\n<pre><code>syncAndTradeServiceIntent = new Intent(this, SyncAndTradeService.class);\n\nbindService(syncAndTradeServiceIntent, syncAndTradeServiceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n\n<p>And this is my service code:</p>\n\n<pre><code>public class SyncAndTradeService extends Service {\n\n    public static final int MY_FOREGROUND_SERVICE_START_ID = 996539;\n\n    private IBinder syncAndTradeBinder = new SyncAndTradeBinder();\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        startSyncAndTradeService();\n\n        return Service.START_REDELIVER_INTENT;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return syncAndTradeBinder;\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        return false;\n    }\n\n    @Override\n    public void onRebind(Intent intent) {\n        super.onRebind(intent);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    public class SyncAndTradeBinder extends Binder {\n\n        public SyncAndTradeService getSyncAndTradeService() {\n            return SyncAndTradeService.this;\n        }\n\n    }\n\n    private void startSyncAndTradeService() {\n        startForeground(MY_FOREGROUND_SERVICE_START_ID, buildFixedNotification());\n    }\n\n    private Notification buildFixedNotification() {\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);\n\n        Notification notification = new Notification.Builder(this)\n            .setContentTitle(\"OKCoin Robot\")\n            .setContentText(\"OKCoin robot is running in background\")\n            .setSmallIcon(R.drawable.bitcoin)\n            .setContentIntent(pendingIntent)\n            .build();\n\n        return notification;\n    }\n\n}\n</code></pre>\n\n<p>And this is my declaration of my service in the Manifest.xml</p>\n\n<pre><code>&lt;service\n    android:name=\".service.SyncAndTradeService\"\n    android:exported=\"false\"\n    android:icon=\"@drawable/bitcoin\"\n    android:process=\":SyncAndTrade\"&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":16398545,"reputation":95,"user_id":11845279,"display_name":"kingofswords"},"score":0,"creation_date":1647818597,"post_id":71550686,"comment_id":126460326,"body_markdown":"Does `localhost:8080/api/getRightAll` hit your endpoint?","body":"Does <code>localhost:8080&#47;api&#47;getRightAll</code> hit your endpoint?"},{"owner":{"account_id":10280177,"reputation":71,"user_id":7585635,"display_name":"Rangan Roy"},"score":0,"creation_date":1647835358,"post_id":71550686,"comment_id":126462640,"body_markdown":"No. It is not working.","body":"No. It is not working."}],"answers":[{"tags":[],"owner":{"account_id":10949787,"reputation":71,"user_id":8046502,"display_name":"Subhash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647819595,"creation_date":1647819595,"answer_id":71551488,"question_id":71550686,"body_markdown":"I am sure it is your main class configuration issue. By default, framework will scan beans in same package as of main class and sub-packages. e.g. below will not work\r\n\r\ncom/example/controller/FooController.java\r\n\r\ncom/example/main/MainClass.java\r\n\r\nas applciation will scan for beans in com.example.main package and its subpackages only.\r\n\r\nIf that is case, you will need to update &#39;scanBasePackages&#39; attribute of @SpringBootApplication annotation.\r\n\r\n","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>I am sure it is your main class configuration issue. By default, framework will scan beans in same package as of main class and sub-packages. e.g. below will not work</p>\n<p>com/example/controller/FooController.java</p>\n<p>com/example/main/MainClass.java</p>\n<p>as applciation will scan for beans in com.example.main package and its subpackages only.</p>\n<p>If that is case, you will need to update 'scanBasePackages' attribute of @SpringBootApplication annotation.</p>\n"},{"tags":[],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647835665,"creation_date":1647835665,"answer_id":71552713,"question_id":71550686,"body_markdown":"You need to add a package name in the component scan, in your case, it is @ComponentScan(&quot;com.example.controller&quot;), Standard way to create other packages is \r\nunder the main root package","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>You need to add a package name in the component scan, in your case, it is @ComponentScan(&quot;com.example.controller&quot;), Standard way to create other packages is\nunder the main root package</p>\n"}],"owner":{"account_id":10280177,"reputation":71,"user_id":7585635,"display_name":"Rangan Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647836868,"creation_date":1647810772,"question_id":71550686,"body_markdown":"I have below pom.xml in the SpringBoot application. While running the application, I am not facing any errors. But when I am hitting the URL through postman or browser, then my java code present inside controller is not getting executed.\r\n\r\n**pom.xml:**\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MENU-RIGHT&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      \r\n      &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;8.0.26&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Controller:**\r\n\r\n    package com.example.controller;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.model.MenuRightModel;\r\n    import com.example.service.MenuRightService;\r\n    \r\n    @RestController\r\n    public class MenuRightController {\r\n    \r\n    \tLogger logger = Logger.getAnonymousLogger();\r\n    \t@Autowired\r\n    \tprivate MenuRightService menuRightService;\r\n    \t\r\n    \t@RequestMapping(value  = &quot;/getRightByUser/{id}&quot;, method=RequestMethod.GET)\r\n    \tpublic MenuRightModel findRightByUser(@PathVariable(&quot;id&quot;) int id) {\r\n    \t\tlogger.info(&quot;Request Received for User Id : &quot;+id);\r\n    \t\treturn menuRightService.findRightByUser(id);\r\n    \t\t\r\n    \t}\r\n    \t@RequestMapping(value  = &quot;/getRightAll&quot;, method=RequestMethod.GET)\r\n    \tpublic MenuRightModel findAllRight() {\r\n    \t\treturn new MenuRightModel();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n**Project Execution Screenshot:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Postman Execution Screenshot:**\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6Zkk.png\r\n  [2]: https://i.stack.imgur.com/yqkSd.png\r\n  [3]: https://i.stack.imgur.com/yA1NT.png\r\n\r\n**Spring Boot Application Class:**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    @ComponentScan(&quot;src/main/java&quot;)\r\n    public class MenuRightApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSpringApplication.run(MenuRightApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Spring Boot Repository Class:**\r\n\r\n    package com.dbs.repository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.example.model.MenuRightModel;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    @Repository\r\n    public interface MenuRightRepository extends JpaRepository&lt;MenuRightModel, Integer&gt;{\r\n    \tMenuRightModel findByUserId(int id);\r\n    }\r\n\r\n\r\n**After Adding BasePackage as com.example facing below Exception:**\r\n\r\n2022-03-21 09:51:35.169  WARN 20560 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;menuRightController&#39;: Unsatisfied dependency expressed through field &#39;menuRightService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;menuRightServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;menuRightRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.repository.MenuRightRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2022-03-21 09:51:35.172  INFO 20560 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-03-21 09:51:35.189  INFO 20560 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-21 09:51:35.312 ERROR 20560 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField menuRightRepository in com.example.service.impl.MenuRightServiceImpl required a bean of type &#39;com.example.repository.MenuRightRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.repository.MenuRightRepository&#39; in your configuration.\r\n","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>I have below pom.xml in the SpringBoot application. While running the application, I am not facing any errors. But when I am hitting the URL through postman or browser, then my java code present inside controller is not getting executed.</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;MENU-RIGHT&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  \n  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.26&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package com.example.controller;\n\nimport java.util.logging.Logger;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.model.MenuRightModel;\nimport com.example.service.MenuRightService;\n\n@RestController\npublic class MenuRightController {\n\n    Logger logger = Logger.getAnonymousLogger();\n    @Autowired\n    private MenuRightService menuRightService;\n    \n    @RequestMapping(value  = &quot;/getRightByUser/{id}&quot;, method=RequestMethod.GET)\n    public MenuRightModel findRightByUser(@PathVariable(&quot;id&quot;) int id) {\n        logger.info(&quot;Request Received for User Id : &quot;+id);\n        return menuRightService.findRightByUser(id);\n        \n    }\n    @RequestMapping(value  = &quot;/getRightAll&quot;, method=RequestMethod.GET)\n    public MenuRightModel findAllRight() {\n        return new MenuRightModel();\n        \n    }\n}\n</code></pre>\n<p><strong>Project Execution Screenshot:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/t6Zkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6Zkk.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Postman Execution Screenshot:</strong>\n<a href=\"https://i.stack.imgur.com/yqkSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yqkSd.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/yA1NT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA1NT.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Spring Boot Application Class:</strong></p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n@ComponentScan(&quot;src/main/java&quot;)\npublic class MenuRightApplication {\n\n    public static void main(String[] args) {\n    \n        SpringApplication.run(MenuRightApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Spring Boot Repository Class:</strong></p>\n<pre><code>package com.dbs.repository;\n\nimport org.springframework.stereotype.Repository;\n\nimport com.example.model.MenuRightModel;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n@Repository\npublic interface MenuRightRepository extends JpaRepository&lt;MenuRightModel, Integer&gt;{\n    MenuRightModel findByUserId(int id);\n}\n</code></pre>\n<p><strong>After Adding BasePackage as com.example facing below Exception:</strong></p>\n<p>2022-03-21 09:51:35.169  WARN 20560 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'menuRightController': Unsatisfied dependency expressed through field 'menuRightService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'menuRightServiceImpl': Unsatisfied dependency expressed through field 'menuRightRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.repository.MenuRightRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-03-21 09:51:35.172  INFO 20560 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-03-21 09:51:35.189  INFO 20560 --- [  restartedMain] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-21 09:51:35.312 ERROR 20560 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field menuRightRepository in com.example.service.impl.MenuRightServiceImpl required a bean of type 'com.example.repository.MenuRightRepository' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.example.repository.MenuRightRepository' in your configuration.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1647835807,"post_id":71552696,"comment_id":126462718,"body_markdown":"MySQL default port is 3306. Did you change it somewhere?","body":"MySQL default port is 3306. Did you change it somewhere?"},{"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"score":0,"creation_date":1647835867,"post_id":71552696,"comment_id":126462723,"body_markdown":"Try to remove the links, also depends_on doesn&#39;t prevent your application to start before the database is ready to handle the call","body":"Try to remove the links, also depends_on doesn&#39;t prevent your application to start before the database is ready to handle the call"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647835952,"post_id":71552696,"comment_id":126462735,"body_markdown":"Yea that&#39;s right. MySQL does take time to start up. I had the same problem with docker-compose","body":"Yea that&#39;s right. MySQL does take time to start up. I had the same problem with docker-compose"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1647836143,"post_id":71552696,"comment_id":126462778,"body_markdown":"removing depends_on didn&#39;t change anything. In fact i added after many tries. Concerning the port 3309, I set it in docker compose. I also expose mysql to port 3309.","body":"removing depends_on didn&#39;t change anything. In fact i added after many tries. Concerning the port 3309, I set it in docker compose. I also expose mysql to port 3309."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647836205,"post_id":71552696,"comment_id":126462790,"body_markdown":"https://docs.docker.com/compose/startup-order/","body":"<a href=\"https://docs.docker.com/compose/startup-order/\" rel=\"nofollow noreferrer\">docs.docker.com/compose/startup-order</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647836309,"post_id":71552696,"comment_id":126462803,"body_markdown":"[This](https://github.com/psamsotha/docker-jersey-mysql/blob/5618e07a9308126979922ae6c5f447c176583345/src/main/java/org/example/resource/db/DatabaseManager.java#L50) is what I had to do in a project.","body":"<a href=\"https://github.com/psamsotha/docker-jersey-mysql/blob/5618e07a9308126979922ae6c5f447c176583345/src/main/java/org/example/resource/db/DatabaseManager.java#L50\" rel=\"nofollow noreferrer\">This</a> is what I had to do in a project."},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1647863705,"post_id":71552696,"comment_id":126470096,"body_markdown":"The MySQL server will listen on port 3306 unless you reconfigure the server.  The second `ports:` number and any inter-container communication need to use the standard port 3306.  `expose:` does essentially nothing in modern Compose and you can delete that block.","body":"The MySQL server will listen on port 3306 unless you reconfigure the server.  The second <code>ports:</code> number and any inter-container communication need to use the standard port 3306.  <code>expose:</code> does essentially nothing in modern Compose and you can delete that block."}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647835408,"creation_date":1647835408,"question_id":71552696,"body_markdown":"Im having an issue with docker-compose. \r\nI try to implement some really basic application: \r\n- A spring boot application \r\n- Mysql\r\n\r\nI created a Dockerfile for my springboot: \r\n\r\n    FROM maven:3.8.1-openjdk-11\r\n    FROM openjdk:11\r\n    \r\n    WORKDIR /app\r\n    COPY target/app-ws.jar /app/app-ws.jar\r\n    CMD mvn clean install -DskipTests\r\n    \r\n    EXPOSE 8092\r\n    # CMD ls\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app-ws.jar&quot;]\r\n\r\nIn my docker compose: \r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      # build mysql\r\n      mysqldb:\r\n        container_name: mysqldb\r\n        image: mysql:8.0.28\r\n        restart: unless-stopped\r\n        env_file:\r\n          - .env\r\n        environment:\r\n          - MYSQL_ROOT_PASSWORD:root\r\n          - MYSQL_ROOT_USER:root\r\n          - MYSQL_DATABASE:mydbname\r\n        ports:\r\n          - 3309:3309\r\n        expose:\r\n          - 3309\r\n        volumes:\r\n          - dbdata:/var/lib/mysql\r\n        networks:\r\n          - app-network\r\n        \r\n      # build app-ws\r\n      app-ws:\r\n        container_name: app-ws\r\n        restart: on-failure\r\n        build:\r\n          context: ../app-ws/\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8092:8092\r\n        expose:\r\n          - 8092\r\n        environment:\r\n          - SPRING_DATASOURCE_URL:jdbc:mysql://mysqldb:3309/mydbname?autoReconnect=true&amp;useSSL=false\r\n          - SPRING_DATASOURCE_USERNAME:root\r\n          - SPRING_DATASOURCE_PASSWORD:root\r\n        depends_on:\r\n          - mysqldb\r\n        links:\r\n          - mysqldb:mysqldb\r\n        networks:\r\n          - app-network\r\n    \r\n    # # # Create the private network\r\n    networks:\r\n      app-network:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n        dbdata:\r\n            driver: local\r\n\r\n\r\nMy application-docker.properties contains the following informations: \r\n\r\n    spring.datasource.url=jdbc:mysql://mysqldb:3309/mydbname?useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.sql.init.mode=always\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.generate-ddl=true\r\n\r\nI have 2 issues: When running docker compose up --build I do have the following errors concerning the springboot application: \r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    ... 57 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n\r\nMy second issue is that i can&#39;t connect to the database using the port 3309. I don&#39;t know what&#39;s going wrong: i use depends on to specify my app depends on mysql, i also added the environment variables with SPRING_DATASOURCE_URL, etc.","title":"Docker compose: Springboot connect to mysql8 databases","body":"<p>Im having an issue with docker-compose.\nI try to implement some really basic application:</p>\n<ul>\n<li>A spring boot application</li>\n<li>Mysql</li>\n</ul>\n<p>I created a Dockerfile for my springboot:</p>\n<pre><code>FROM maven:3.8.1-openjdk-11\nFROM openjdk:11\n\nWORKDIR /app\nCOPY target/app-ws.jar /app/app-ws.jar\nCMD mvn clean install -DskipTests\n\nEXPOSE 8092\n# CMD ls\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app-ws.jar&quot;]\n</code></pre>\n<p>In my docker compose:</p>\n<pre><code>version: '3'\n\nservices:\n  # build mysql\n  mysqldb:\n    container_name: mysqldb\n    image: mysql:8.0.28\n    restart: unless-stopped\n    env_file:\n      - .env\n    environment:\n      - MYSQL_ROOT_PASSWORD:root\n      - MYSQL_ROOT_USER:root\n      - MYSQL_DATABASE:mydbname\n    ports:\n      - 3309:3309\n    expose:\n      - 3309\n    volumes:\n      - dbdata:/var/lib/mysql\n    networks:\n      - app-network\n    \n  # build app-ws\n  app-ws:\n    container_name: app-ws\n    restart: on-failure\n    build:\n      context: ../app-ws/\n      dockerfile: Dockerfile\n    ports:\n      - 8092:8092\n    expose:\n      - 8092\n    environment:\n      - SPRING_DATASOURCE_URL:jdbc:mysql://mysqldb:3309/mydbname?autoReconnect=true&amp;useSSL=false\n      - SPRING_DATASOURCE_USERNAME:root\n      - SPRING_DATASOURCE_PASSWORD:root\n    depends_on:\n      - mysqldb\n    links:\n      - mysqldb:mysqldb\n    networks:\n      - app-network\n\n# # # Create the private network\nnetworks:\n  app-network:\n    driver: bridge\n\nvolumes:\n    dbdata:\n        driver: local\n</code></pre>\n<p>My application-docker.properties contains the following informations:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://mysqldb:3309/mydbname?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=create\nspring.sql.init.mode=always\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>I have 2 issues: When running docker compose up --build I do have the following errors concerning the springboot application:</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n... 57 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\nat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\nat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n</code></pre>\n<p>My second issue is that i can't connect to the database using the port 3309. I don't know what's going wrong: i use depends on to specify my app depends on mysql, i also added the environment variables with SPRING_DATASOURCE_URL, etc.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"score":0,"creation_date":1368422268,"post_id":16515249,"comment_id":23711435,"body_markdown":"Check your Spring config/annotations - possibly the transaction is configured as read only?","body":"Check your Spring config/annotations - possibly the transaction is configured as read only?"},{"owner":{"account_id":1990050,"reputation":1135,"user_id":1784277,"accept_rate":62,"display_name":"MigRome"},"score":0,"creation_date":1368422410,"post_id":16515249,"comment_id":23711470,"body_markdown":"Here is my Sprin XMl config file...                                    &lt;!-- Database Configuration --&gt;    \n    &lt;import resource=&quot;../database/DataSource.xml&quot;/&gt;\n    &lt;!-- Hibernate Configuration --&gt;\n    &lt;import resource=&quot;../database/Hibernate.xml&quot;/&gt;\n    &lt;!-- Auto scan the components --&gt;\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan  \n        base-package=&quot;BO,DAO&quot;  /&gt;\n    &lt;!-- Context Manager --&gt;\n    &lt;bean id=&quot;appContextProvider&quot; class=&quot;GUI.AppContextProvider&quot;&gt;&lt;/bean&gt;\n    &lt;!-- JaSypt --&gt;\n    &lt;bean id=&quot;encryptModule&quot; class=&quot;DAO.Util.EncryptModule&quot;&gt;&lt;/bean&gt;&#39; I don&#39;t see that.","body":"Here is my Sprin XMl config file...                                    &lt;!-- Database Configuration --&gt;         &lt;import resource=&quot;../database/DataSource.xml&quot;/&gt;     &lt;!-- Hibernate Configuration --&gt;     &lt;import resource=&quot;../database/Hibernate.xml&quot;/&gt;     &lt;!-- Auto scan the components --&gt;     &lt;context:annotation-config/&gt;     &lt;context:component-scan           base-package=&quot;BO,DAO&quot;  /&gt;     &lt;!-- Context Manager --&gt;     &lt;bean id=&quot;appContextProvider&quot; class=&quot;GUI.AppContextProvider&quot;&gt;&lt;/bean&gt;     &lt;!-- JaSypt --&gt;     &lt;bean id=&quot;encryptModule&quot; class=&quot;DAO.Util.EncryptModule&quot;&gt;&lt;/bean&gt;&#39; I don&#39;t see that."}],"answers":[{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1368474360,"creation_date":1368474360,"answer_id":16529931,"question_id":16515249,"body_markdown":"Just throwing rocks to the darkness, but one possibility could be: \r\n\r\n - Variable [tx_read_only][1] was introduced in MySQL 5.6.5.\r\n - Probably MySQL version is older than that, but Connector/J tries to use new variable anyway.\r\n - According [release notes][2], support for this variable came in Connector/J 5.1.23.\r\n\r\n==&gt; maybe version older than 5.1.23 will work, or this is the bug that is fixed in version newer than that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17952_01/refman-5.6-en/server-system-variables.html#sysvar_tx_read_only\r\n  [2]: http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>Just throwing rocks to the darkness, but one possibility could be: </p>\n\n<ul>\n<li>Variable <a href=\"http://docs.oracle.com/cd/E17952_01/refman-5.6-en/server-system-variables.html#sysvar_tx_read_only\" rel=\"noreferrer\">tx_read_only</a> was introduced in MySQL 5.6.5.</li>\n<li>Probably MySQL version is older than that, but Connector/J tries to use new variable anyway.</li>\n<li>According <a href=\"http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html\" rel=\"noreferrer\">release notes</a>, support for this variable came in Connector/J 5.1.23.</li>\n</ul>\n\n<p>==> maybe version older than 5.1.23 will work, or this is the bug that is fixed in version newer than that.</p>\n"},{"tags":[],"owner":{"account_id":2869174,"reputation":316,"user_id":2462868,"display_name":"dev Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624688951,"creation_date":1624688951,"answer_id":68139838,"question_id":16515249,"body_markdown":"In my case I was connecting to mariadb with default innodb url format.\r\nSo it was selecting the wrong driver\r\nIncorrect: jdbc:mysql://\r\nCorrect: jdbc:mariadb://","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>In my case I was connecting to mariadb with default innodb url format.\nSo it was selecting the wrong driver\nIncorrect: jdbc:mysql://\nCorrect: jdbc:mariadb://</p>\n"},{"tags":[],"owner":{"account_id":14656255,"reputation":1,"user_id":10584732,"display_name":"dx chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647835124,"creation_date":1647835124,"answer_id":71552667,"question_id":16515249,"body_markdown":"upgrade mysql-connector-java&gt;=5.1.46\r\n\r\nsee: https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>upgrade mysql-connector-java&gt;=5.1.46</p>\n<p>see: <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html</a></p>\n"}],"owner":{"account_id":1990050,"reputation":1135,"user_id":1784277,"accept_rate":62,"display_name":"MigRome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9924,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16529931,"answer_count":3,"score":3,"last_activity_date":1647835124,"creation_date":1368422080,"question_id":16515249,"body_markdown":"I&#39;m working on a Java Swing-based application+ Hibernate+Mysql+Spring.\r\nWhen I test CRUD operations, I don&#39;t have problems with read, but in insert statements system shows the message:\r\n\r\n    Unknown system variable `tx_read_only`\r\n\r\nI have the last version of MySQl\r\n\r\n- Hibernate 4\r\n- Java annotations\r\n\r\nCan you tell me which is the problem to solve now?","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>I'm working on a Java Swing-based application+ Hibernate+Mysql+Spring.\nWhen I test CRUD operations, I don't have problems with read, but in insert statements system shows the message:</p>\n\n<pre><code>Unknown system variable `tx_read_only`\n</code></pre>\n\n<p>I have the last version of MySQl</p>\n\n<ul>\n<li>Hibernate 4</li>\n<li>Java annotations</li>\n</ul>\n\n<p>Can you tell me which is the problem to solve now?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":0,"creation_date":1647838967,"post_id":71552644,"comment_id":126463146,"body_markdown":"what do you mean by element is not there, are you passing elementName as null or simply not matching elementName ? I am not able to reproduce your problem, &quot;Element not found&quot; is working for me.","body":"what do you mean by element is not there, are you passing elementName as null or simply not matching elementName ? I am not able to reproduce your problem, &quot;Element not found&quot; is working for me."},{"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"score":0,"creation_date":1647839424,"post_id":71552644,"comment_id":126463191,"body_markdown":"@NishikantTayade thanks for replying, i meant if the text i was searching i snot inside the table","body":"@NishikantTayade thanks for replying, i meant if the text i was searching i snot inside the table"}],"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647834833,"creation_date":1647834833,"question_id":71552644,"body_markdown":"I have written a function to search for the element inside a flextable in GWT. The function is given below:\r\n\r\n    public void searchElement(String elementName){\r\n    String column_element;\r\n    boolean found=false;\r\n    for(int i=1;i&lt;=stocksFlexTable.getRowCount();i++){\r\n      column_element=stocksFlexTable.getText(i,0);\r\n\r\n      if(column_element.equalsIgnoreCase(elementName)) {\r\n        found = true;\r\n        Window.alert(&quot;found&quot;);\r\n\r\n      }\r\n\r\n    }\r\n    if(!found) {\r\n      Window.alert(&quot;Element not found&quot;);\r\n    }} \r\n\r\nThe function is working fine, it is able to look for element and generate alert found. However when the element is  not there, the code saying element is not found does not run. \r\n\r\nI checked, as soon as i put a for loop, then the last line .i.e.\r\n\r\n     Window.alert(&quot;Element not found&quot;);\r\n\r\ndoes not work\r\n\r\n","title":"Basic For loop and function Question Java","body":"<p>I have written a function to search for the element inside a flextable in GWT. The function is given below:</p>\n<pre><code>public void searchElement(String elementName){\nString column_element;\nboolean found=false;\nfor(int i=1;i&lt;=stocksFlexTable.getRowCount();i++){\n  column_element=stocksFlexTable.getText(i,0);\n\n  if(column_element.equalsIgnoreCase(elementName)) {\n    found = true;\n    Window.alert(&quot;found&quot;);\n\n  }\n\n}\nif(!found) {\n  Window.alert(&quot;Element not found&quot;);\n}} \n</code></pre>\n<p>The function is working fine, it is able to look for element and generate alert found. However when the element is  not there, the code saying element is not found does not run.</p>\n<p>I checked, as soon as i put a for loop, then the last line .i.e.</p>\n<pre><code> Window.alert(&quot;Element not found&quot;);\n</code></pre>\n<p>does not work</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647834483,"creation_date":1647834483,"answer_id":71552605,"question_id":71552564,"body_markdown":"You can add `WebRequest` (or HttpSession, etc...) as a parameter in your exception handler, it will be injected by Spring. \r\n\r\nYou can have a look at the documentation [here][1] to see what parameter can be injected by Spring when the handler is called.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html","title":"Handle an exception in another method without losing the request objects from original one","body":"<p>You can add <code>WebRequest</code> (or HttpSession, etc...) as a parameter in your exception handler, it will be injected by Spring.</p>\n<p>You can have a look at the documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\" rel=\"nofollow noreferrer\">here</a> to see what parameter can be injected by Spring when the handler is called.</p>\n"}],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71552605,"answer_count":1,"score":0,"last_activity_date":1647834483,"creation_date":1647833925,"question_id":71552564,"body_markdown":"There is an Exception that is thrown *when an user is not found in database* and i&#39;d like to handle that particular exception *from the controller perspective layer in a separated method by @ExceptionHandler annotation* **without losing the original data sent by the user**. Well, so, *i&#39;m using Sessions* and my first attempt was trying to get the object back from it by HttpServletRequest but i got:\r\n\r\n    java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;pontoEditar&#39; available as request attribute\r\n\r\nThe code:\r\n\r\n    @ExceptionHandler(ConversionFailException.class)\r\n    public String handleConversionFailException(HttpServletRequest request, RedirectAttributes attr) {\r\n\r\n    \tPontoEditarDTO ponto = (PontoEditarDTO) request.getAttribute(&quot;pontoEditar&quot;);\r\n        // I&#39;d like to get the original object back ... \t\r\n    \r\n        return &quot;pontos/editar&quot;;\r\n    }\r\n\r\nHow would it be if i use a try-catch block\r\n------------------------------------------------------------------------\r\n\r\n\r\n    @PostMapping\r\n    public String editar(@ModelAttribute(&quot;pontoEditar&quot;) PontoEditarDTO ponto, HttpSession session) {\r\n    \t\r\n    \t// ... simplified.\r\n        Ponto pontoConvertido = null;\r\n    \ttry {\r\n    \t\tpontoConvertido = pontoConverter.convert(ponto);\r\n     \tcatch (ConversionFailException ex) {\r\n    \t\tattr.addFlashAttribute(&quot;error&quot;, &quot;User not found!&quot;);\r\n    \t\treturn &quot;redirect:/ponto/listar&quot;;\r\n    \t}\r\n    \r\n    \t// ... \r\n    \treturn &quot;redirect:/ponto/listar&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\nHere the simplified code:\r\n\r\n    public class ConversionFailException extends RuntimeException {\r\n    \tpublic ConversionFailException(String mensagem) {\r\n    \t\tsuper(mensagem);\r\n    \t}\r\n    }\r\n\r\n\r\n - Controller with POST. \r\n\r\n**The exception happens in the POST at line with: Ponto pontoConvertido = pontoConverter.convert(ponto);**\r\n\r\n\r\n        @Controller\r\n        @SessionAttributes(&quot;pontoEditar&quot;)\r\n        @RequestMapping(&quot;/ponto/editar&quot;)\r\n        public class PontoEditarController {\r\n    \t\t\r\n    \t\t// ... GET Removed.\r\n    \r\n    \t\t@PostMapping\r\n    \t\tpublic String editar(@ModelAttribute(&quot;pontoEditar&quot;) PontoEditarDTO ponto, HttpSession session) {\r\n    \t\t\t\r\n    \t\t\t// ... simplified.\r\n    \t\t\tPonto pontoConvertido = pontoConverter.convert(ponto);\r\n    \t\t\t// ... \r\n    \t\t\treturn &quot;redirect:/ponto/listar&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@ExceptionHandler(ConversionFailException.class)\r\n    \t\tpublic String handleConversionFailException(HttpServletRequest request, RedirectAttributes attr) {\r\n    \t\t\tattr.addFlashAttribute(&quot;falha&quot;, &quot;Usu&#225;rio n&#227;o foi encontrado&quot;);\r\n    \t\t\t\r\n    \t\t\t/* I tried but it failed, how can i get ? */\r\n    \t\t\tPontoEditarDTO ponto = (PontoEditarDTO) request.getAttribute(&quot;pontoEditar&quot;);\r\n    \t\t\t\r\n    \r\n    \t\t\treturn &quot;pontos/editar&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@GetMapping(&quot;pontoEditar&quot;)\r\n    \t\tpublic PontoEditarDTO getPontoModel() {\r\n    \t\t\treturn new PontoEditarDTO();\r\n    \t\t}\r\n       }\r\n\r\n\r\n\r\n","title":"Handle an exception in another method without losing the request objects from original one","body":"<p>There is an Exception that is thrown <em>when an user is not found in database</em> and i'd like to handle that particular exception <em>from the controller perspective layer in a separated method by @ExceptionHandler annotation</em> <strong>without losing the original data sent by the user</strong>. Well, so, <em>i'm using Sessions</em> and my first attempt was trying to get the object back from it by HttpServletRequest but i got:</p>\n<pre><code>java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'pontoEditar' available as request attribute\n</code></pre>\n<p>The code:</p>\n<pre><code>@ExceptionHandler(ConversionFailException.class)\npublic String handleConversionFailException(HttpServletRequest request, RedirectAttributes attr) {\n\n    PontoEditarDTO ponto = (PontoEditarDTO) request.getAttribute(&quot;pontoEditar&quot;);\n    // I'd like to get the original object back ...     \n\n    return &quot;pontos/editar&quot;;\n}\n</code></pre>\n<h2>How would it be if i use a try-catch block</h2>\n<pre><code>@PostMapping\npublic String editar(@ModelAttribute(&quot;pontoEditar&quot;) PontoEditarDTO ponto, HttpSession session) {\n    \n    // ... simplified.\n    Ponto pontoConvertido = null;\n    try {\n        pontoConvertido = pontoConverter.convert(ponto);\n    catch (ConversionFailException ex) {\n        attr.addFlashAttribute(&quot;error&quot;, &quot;User not found!&quot;);\n        return &quot;redirect:/ponto/listar&quot;;\n    }\n\n    // ... \n    return &quot;redirect:/ponto/listar&quot;;\n}\n</code></pre>\n<p>Here the simplified code:</p>\n<pre><code>public class ConversionFailException extends RuntimeException {\n    public ConversionFailException(String mensagem) {\n        super(mensagem);\n    }\n}\n</code></pre>\n<ul>\n<li>Controller with POST.</li>\n</ul>\n<p><strong>The exception happens in the POST at line with: Ponto pontoConvertido = pontoConverter.convert(ponto);</strong></p>\n<pre><code>    @Controller\n    @SessionAttributes(&quot;pontoEditar&quot;)\n    @RequestMapping(&quot;/ponto/editar&quot;)\n    public class PontoEditarController {\n        \n        // ... GET Removed.\n\n        @PostMapping\n        public String editar(@ModelAttribute(&quot;pontoEditar&quot;) PontoEditarDTO ponto, HttpSession session) {\n            \n            // ... simplified.\n            Ponto pontoConvertido = pontoConverter.convert(ponto);\n            // ... \n            return &quot;redirect:/ponto/listar&quot;;\n        }\n        \n        @ExceptionHandler(ConversionFailException.class)\n        public String handleConversionFailException(HttpServletRequest request, RedirectAttributes attr) {\n            attr.addFlashAttribute(&quot;falha&quot;, &quot;Usuário não foi encontrado&quot;);\n            \n            /* I tried but it failed, how can i get ? */\n            PontoEditarDTO ponto = (PontoEditarDTO) request.getAttribute(&quot;pontoEditar&quot;);\n            \n\n            return &quot;pontos/editar&quot;;\n        }\n        \n        @GetMapping(&quot;pontoEditar&quot;)\n        public PontoEditarDTO getPontoModel() {\n            return new PontoEditarDTO();\n        }\n   }\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":10211932,"reputation":648,"user_id":7538762,"display_name":"Suresh Chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647834329,"creation_date":1647834329,"answer_id":71552591,"question_id":71551809,"body_markdown":"Add **mavenCentral()** to your **repositories** block,\r\n\r\n    plugins {\r\n        // Apply the java plugin to add support for Java\r\n        id &#39;java&#39;\r\n\r\n        // Apply the application plugin to add support for building a CLI application.\r\n        id &#39;application&#39;\r\n    }\r\n\r\n    repositories {\r\n        // Use jcenter for resolving dependencies.\r\n        // You can declare any Maven/Ivy/file repository here.\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        // This dependency is used by the application.\r\n        implementation &#39;com.google.guava:guava:28.2-jre&#39;\r\n        implementation files(&#39;./lib/jython-standalone-2.7.0.jar&#39;)\r\n\r\n        // Use JUnit test framework\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\n    application {\r\n        // Define the main class for the application.\r\n        mainClassName = &#39;Zumi.App&#39;\r\n    }","title":"Gradle not resolving JRE dependency","body":"<p>Add <strong>mavenCentral()</strong> to your <strong>repositories</strong> block,</p>\n<pre><code>plugins {\n    // Apply the java plugin to add support for Java\n    id 'java'\n\n    // Apply the application plugin to add support for building a CLI application.\n    id 'application'\n}\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:28.2-jre'\n    implementation files('./lib/jython-standalone-2.7.0.jar')\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.12'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClassName = 'Zumi.App'\n}\n</code></pre>\n"}],"owner":{"account_id":14457688,"reputation":21,"user_id":10964044,"display_name":"Benjiboy50Fonz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647834329,"creation_date":1647824072,"question_id":71551809,"body_markdown":"I am a beginner with Gradle projects and am struggling to build a project. \r\n\r\nI am receiving this error when running `gradle -PmainClass run`:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.google.guava:guava:28.2-jre.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.google.guava:guava:28.2-jre.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/google/guava/guava/28.2-jre/guava-28.2-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/google/guava/guava/28.2-jre/guava-28.2-jre.pom&#39;.\r\n               &gt; sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 11s\r\n1 actionable task: 1 executed\r\n```\r\n\r\nI am trying to run a Java application here by following the first example in [this][1] post. \r\n\r\nFor clarification, I do have an internet connection. I&#39;m wondering if there is some sort of certificate I need. \r\n\r\nHere is my `build.gradle`:\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java project to get you started.\r\n * For more details take a look at the Java Quickstart chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/6.3/userguide/tutorial_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the java plugin to add support for Java\r\n    id &#39;java&#39;\r\n\r\n    // Apply the application plugin to add support for building a CLI application.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use jcenter for resolving dependencies.\r\n    // You can declare any Maven/Ivy/file repository here.\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:28.2-jre&#39;\r\n    implementation files(&#39;./lib/jython-standalone-2.7.0.jar&#39;)\r\n\r\n    // Use JUnit test framework\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClassName = &#39;Zumi.App&#39;\r\n}\r\n```\r\n\r\nAny help is appreciated. Thanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/21358466/gradle-to-execute-java-class-without-modifying-build-gradle","title":"Gradle not resolving JRE dependency","body":"<p>I am a beginner with Gradle projects and am struggling to build a project.</p>\n<p>I am receiving this error when running <code>gradle -PmainClass run</code>:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.google.guava:guava:28.2-jre.\n     Required by:\n         project :\n      &gt; Could not resolve com.google.guava:guava:28.2-jre.\n         &gt; Could not get resource 'https://jcenter.bintray.com/com/google/guava/guava/28.2-jre/guava-28.2-jre.pom'.\n            &gt; Could not GET 'https://jcenter.bintray.com/com/google/guava/guava/28.2-jre/guava-28.2-jre.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 11s\n1 actionable task: 1 executed\n</code></pre>\n<p>I am trying to run a Java application here by following the first example in <a href=\"https://stackoverflow.com/questions/21358466/gradle-to-execute-java-class-without-modifying-build-gradle\">this</a> post.</p>\n<p>For clarification, I do have an internet connection. I'm wondering if there is some sort of certificate I need.</p>\n<p>Here is my <code>build.gradle</code>:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java project to get you started.\n * For more details take a look at the Java Quickstart chapter in the Gradle\n * User Manual available at https://docs.gradle.org/6.3/userguide/tutorial_java_projects.html\n */\n\nplugins {\n    // Apply the java plugin to add support for Java\n    id 'java'\n\n    // Apply the application plugin to add support for building a CLI application.\n    id 'application'\n}\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:28.2-jre'\n    implementation files('./lib/jython-standalone-2.7.0.jar')\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.12'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClassName = 'Zumi.App'\n}\n</code></pre>\n<p>Any help is appreciated. Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1647804031,"post_id":71549753,"comment_id":126457637,"body_markdown":"When asking a question about code, the very first tag you should be adding is for the programming language you&#39;re using. Please [edit] your post to do so. Thanks.","body":"When asking a question about code, the very first tag you should be adding is for the programming language you&#39;re using. Please <a href=\"https://stackoverflow.com/posts/71549753/edit\">edit</a> your post to do so. Thanks."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1647827881,"post_id":71549753,"comment_id":126461567,"body_markdown":"No, you didn&#39;t. I asked you to add a **tag** to your post, not edit the title. Editing the title was exactly the wrong thing to do. I&#39;ve fixed it for you, but please do it properly yourself on future questions. :-)","body":"No, you didn&#39;t. I asked you to add a <b>tag</b> to your post, not edit the title. Editing the title was exactly the wrong thing to do. I&#39;ve fixed it for you, but please do it properly yourself on future questions. :-)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1647830566,"post_id":71549753,"comment_id":126461990,"body_markdown":"Why do you want to trim the last letter? Why not iterate left to right across all characters?","body":"Why do you want to trim the last letter? Why not iterate left to right across all characters?"}],"answers":[{"tags":[],"owner":{"account_id":6347349,"reputation":1,"user_id":4927455,"display_name":"Nirbhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647831243,"creation_date":1647831243,"answer_id":71552339,"question_id":71549753,"body_markdown":"    public static void reverseString() {\r\n     StringBuilder reverseStr = new StringBuilder();\r\n        for (int i = phrase.length() - 1; i &gt;= 0; i--) {\r\n            reverseStr.append(phrase.charAt(i));\r\n        }\r\n     reverse = reverseStr.toString();\r\n        System.out.println(reverse);\r\n    }\r\n    \r\n    //    OR You can use inbuild method reverse() of StringBuilder \r\n    \r\n    public static void reverseString() {\r\n        StringBuilder reverseStr = new StringBuilder(phrase);\r\n        reverse = reverseStr.reverse().toString();\r\n        System.out.println(reverse);\r\n    }","title":"How can I trim the last letter of a String while looping (until what&#39;s left is a single letter)?","body":"<pre><code>public static void reverseString() {\n StringBuilder reverseStr = new StringBuilder();\n    for (int i = phrase.length() - 1; i &gt;= 0; i--) {\n        reverseStr.append(phrase.charAt(i));\n    }\n reverse = reverseStr.toString();\n    System.out.println(reverse);\n}\n\n//    OR You can use inbuild method reverse() of StringBuilder \n\npublic static void reverseString() {\n    StringBuilder reverseStr = new StringBuilder(phrase);\n    reverse = reverseStr.reverse().toString();\n    System.out.println(reverse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647831828,"creation_date":1647831434,"answer_id":71552357,"question_id":71549753,"body_markdown":"Sometimes rather than fixing code, you find an easier way:\r\n\r\n    vowel = phrase.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\r\n    consonant = phrase.replaceAll(&quot;(?i)[^b-z&amp;&amp;[^eiou]]&quot;, &quot;&quot;).length();\r\n    reverse = new StringBuilder(phrase).reverse().toString();\r\n\r\nSee [live demo][1].\r\n\r\nThe character counts work by replacing with blank (ie &quot;deleting&quot;) characters that aren&#39;t the type being counted and using the length of the resulting string.\r\n\r\nReversing uses functionality provided by the `StringBuilder` built-in class.\r\n\r\n\r\n  [1]: https://ideone.com/fCnzXN","title":"How can I trim the last letter of a String while looping (until what&#39;s left is a single letter)?","body":"<p>Sometimes rather than fixing code, you find an easier way:</p>\n<pre><code>vowel = phrase.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\nconsonant = phrase.replaceAll(&quot;(?i)[^b-z&amp;&amp;[^eiou]]&quot;, &quot;&quot;).length();\nreverse = new StringBuilder(phrase).reverse().toString();\n</code></pre>\n<p>See <a href=\"https://ideone.com/fCnzXN\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>The character counts work by replacing with blank (ie &quot;deleting&quot;) characters that aren't the type being counted and using the length of the resulting string.</p>\n<p>Reversing uses functionality provided by the <code>StringBuilder</code> built-in class.</p>\n"}],"owner":{"account_id":22780840,"reputation":3,"user_id":16936799,"display_name":"Preston Meyers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647831828,"creation_date":1647802687,"question_id":71549753,"body_markdown":"I&#39;m creating a program that will count the number of letters, vowels and consonants from what user put into using Scanner.\r\nHere&#39;s my code:\r\n&#39;&#39;&#39;\r\n\r\n\tstatic String phrase;\r\n\tstatic int vowel = 0;\r\n\tstatic int consonant = 0;\r\n\tstatic String reverse = &quot;&quot;;\r\n\r\n\tpublic static void countChar() {\r\n\t\tSystem.out.println(&quot;\\nNumber of characters: &quot; + phrase.length());\r\n\t}\r\n\r\n\tpublic static void countVowelCons() {\r\n\t\tphrase = phrase.toLowerCase();\r\n\r\n\t\tfor (int i = 0; i &lt; phrase.length(); i++) {\r\n\t\t\tif (phrase.charAt(i) == &#39;a&#39; || phrase.charAt(i) == &#39;e&#39; || phrase.charAt(i) == &#39;i&#39; || phrase.charAt(i) == &#39;o&#39;\r\n\t\t\t\t\t|| phrase.charAt(i) == &#39;u&#39;) {\r\n\t\t\t\tvowel++;\r\n\t\t\t} else if (phrase.charAt(i) &gt;= &#39;a&#39; &amp;&amp; phrase.charAt(i) &lt;= &#39;z&#39;) {\r\n\t\t\t\tconsonant++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Number of vowels: &quot; + vowel);\r\n\t\tSystem.out.println(&quot;Number of consonants: &quot; + consonant);\r\n\t}\r\n\r\n\tpublic static void reverseString() {\r\n\r\n\t\tfor (int i = phrase.length() - 1; i &gt;= 0; i--) {\r\n\t\t\treverse += phrase.charAt(i);\r\n\t\t}\r\n\t\tSystem.out.println(reverse);\r\n\t}\r\n&#39;&#39;&#39;\r\n\r\nIn the **reverseString()** method, how can I make the reversed String **get trimmed or make the last letter deleted in a loop** until all what&#39;s left is a single letter.\r\n\r\n**For example:** \r\nUser inputs &quot;qwertyuiop&quot;.\r\n\r\nWhat should be the output is something like this:\r\n\r\n - poiuytrewq poiuytrew poiuytre poiuytr poiuyt poiuy poiu poi po p\r\n\r\nHow can I make it done like that? Please help thanks alot!\r\n\r\n&#39;&#39;&#39; \r\npublic static void reverseString() {\r\n\r\n\t\tfor (int i = phrase.length() - 1; i &gt;= 0; i--) {\r\n\t\t\treverse += phrase.charAt(i);\r\n\t\t}\r\n\t\tSystem.out.println(reverse);\r\n&#39;&#39;&#39;\r\n","title":"How can I trim the last letter of a String while looping (until what&#39;s left is a single letter)?","body":"<p>I'm creating a program that will count the number of letters, vowels and consonants from what user put into using Scanner.\nHere's my code:\n'''</p>\n<pre><code>static String phrase;\nstatic int vowel = 0;\nstatic int consonant = 0;\nstatic String reverse = &quot;&quot;;\n\npublic static void countChar() {\n    System.out.println(&quot;\\nNumber of characters: &quot; + phrase.length());\n}\n\npublic static void countVowelCons() {\n    phrase = phrase.toLowerCase();\n\n    for (int i = 0; i &lt; phrase.length(); i++) {\n        if (phrase.charAt(i) == 'a' || phrase.charAt(i) == 'e' || phrase.charAt(i) == 'i' || phrase.charAt(i) == 'o'\n                || phrase.charAt(i) == 'u') {\n            vowel++;\n        } else if (phrase.charAt(i) &gt;= 'a' &amp;&amp; phrase.charAt(i) &lt;= 'z') {\n            consonant++;\n        }\n    }\n    System.out.println(&quot;Number of vowels: &quot; + vowel);\n    System.out.println(&quot;Number of consonants: &quot; + consonant);\n}\n\npublic static void reverseString() {\n\n    for (int i = phrase.length() - 1; i &gt;= 0; i--) {\n        reverse += phrase.charAt(i);\n    }\n    System.out.println(reverse);\n}\n</code></pre>\n<p>'''</p>\n<p>In the <strong>reverseString()</strong> method, how can I make the reversed String <strong>get trimmed or make the last letter deleted in a loop</strong> until all what's left is a single letter.</p>\n<p><strong>For example:</strong>\nUser inputs &quot;qwertyuiop&quot;.</p>\n<p>What should be the output is something like this:</p>\n<ul>\n<li>poiuytrewq poiuytrew poiuytre poiuytr poiuyt poiuy poiu poi po p</li>\n</ul>\n<p>How can I make it done like that? Please help thanks alot!</p>\n<p>'''\npublic static void reverseString() {</p>\n<pre><code>    for (int i = phrase.length() - 1; i &gt;= 0; i--) {\n        reverse += phrase.charAt(i);\n    }\n    System.out.println(reverse);\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24624651,"reputation":26,"user_id":18524483,"display_name":"Adam Chappell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647831268,"creation_date":1647831268,"answer_id":71552344,"question_id":71552185,"body_markdown":"I am on a similar project. \r\n- &#39;roles&#39; is defined as a Set of Roles, so you are seeing the identifiers of that object, rather than the values. \r\n- You will need to iterate through the roles themselves if the intent is to display the list of names of roles. \r\n- Also remember, the role has a name and Id since it in itself is an entity/model, so you will want to iterate the roles and show role name, something like:\r\n\r\n       - &lt;el  th:each=&quot;role : ${user.getRoles()}&quot;/&gt;\r\n       - &lt;el th:text=&quot;${role.getName()}&quot;/&gt;\r\n    If you are liking the Table, I would recommend a span for each role name.\r\nThere are alternatives depending on how you want it shown. You may also do this in your controller or UserDetails class depending on what the desired functionality/application or display is beyond verifying it within a thymeleaf page for users or Admins.","title":"Get Userlist with rolename in spring boot","body":"<p>I am on a similar project.</p>\n<ul>\n<li><p>'roles' is defined as a Set of Roles, so you are seeing the identifiers of that object, rather than the values.</p>\n</li>\n<li><p>You will need to iterate through the roles themselves if the intent is to display the list of names of roles.</p>\n</li>\n<li><p>Also remember, the role has a name and Id since it in itself is an entity/model, so you will want to iterate the roles and show role name, something like:</p>\n<pre><code> - &lt;el  th:each=&quot;role : ${user.getRoles()}&quot;/&gt;\n - &lt;el th:text=&quot;${role.getName()}&quot;/&gt;\n</code></pre>\n<p>If you are liking the Table, I would recommend a span for each role name.\nThere are alternatives depending on how you want it shown. You may also do this in your controller or UserDetails class depending on what the desired functionality/application or display is beyond verifying it within a thymeleaf page for users or Admins.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":14802633,"reputation":21,"user_id":10690482,"display_name":"Shamim Ul Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647831268,"creation_date":1647829146,"question_id":71552185,"body_markdown":"In My spring boot Application, I want to see total userlist like below:\r\n\r\n| username | role |\r\n|:---------|:----:|\r\n| admin    | ADMIN|\r\n\r\nBut i got like:\r\n\r\n| username | role |\r\n|:---------|:----:|\r\n| admin    | [com.test.springCRUD.model.Role@3e39aaf6]|\r\n\r\n**My User model:**\r\n\r\n```\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \t@Id\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \t@GeneratedValue(strategy =GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate boolean enabled;\r\n    \t\r\n    \t@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    \t@JoinTable(name =&quot;users_roles&quot;, joinColumns = @JoinColumn (name=&quot;user_id&quot;), inverseJoinColumns = @JoinColumn (name=&quot;role_id&quot;))\r\n    \tprivate Set&lt;Role&gt; roles=new HashSet&lt;&gt;();\r\n\r\n```\r\n\r\n**Role model:**\r\n\r\n```\r\n\r\n    @Entity\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n    \t@Id\r\n    \t@Column(name=&quot;role_id&quot;)\r\n    \t@GeneratedValue(strategy =GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \tprivate String name;\r\n\r\n```\r\n\r\n**UserService Class:**\r\n```\r\n\r\n    @Service\r\n    public class UserServices {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserRepository userRepository;\r\n    \t\r\n    \tpublic List&lt;User&gt; listAll(){\r\n    \t\treturn (List&lt;User&gt;) userRepository.findAll();\r\n    \t}\r\n\r\n```\r\n\r\n**Controller:**\r\n\r\n```\r\n\r\n    @RequestMapping(&quot;/userlist&quot;)\r\n    \tpublic String viewUserList(Model model) {\r\n    \t\tList&lt;User&gt; listUsers = userServices.listAll();\r\n    \t\tmodel.addAttribute(&quot;listUsers&quot;, listUsers);\r\n    \t\treturn &quot;userList&quot;;\r\n    \t}\r\n\r\n```\r\n**thymleaf page:**\r\n\r\n```\r\n\r\n    &lt;tbody&gt;\r\n    \t\t\t\t&lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\r\n    \t\t\t\t\t&lt;td th:text=&quot;${user.id}&quot;&gt;User ID&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td th:text=&quot;${user.username}&quot;&gt;User Name&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td th:text=&quot;${user.roles}&quot;&gt;User Role&lt;/td&gt;\r\n    \r\n    \t\t\t\t\t&lt;td&gt;\r\n    \t\t\t\t\t&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;/tbody&gt;\r\n\r\n```\r\n\r\nHow to get userlist with rolename.","title":"Get Userlist with rolename in spring boot","body":"<p>In My spring boot Application, I want to see total userlist like below:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">username</th>\n<th style=\"text-align: center;\">role</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">admin</td>\n<td style=\"text-align: center;\">ADMIN</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But i got like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">username</th>\n<th style=\"text-align: center;\">role</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">admin</td>\n<td style=\"text-align: center;\">[com.test.springCRUD.model.Role@3e39aaf6]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>My User model:</strong></p>\n<pre><code>\n    @Entity\n    @Table(name = &quot;users&quot;)\n    public class User {\n        @Id\n        @Column(name=&quot;user_id&quot;)\n        @GeneratedValue(strategy =GenerationType.IDENTITY)\n        private Long id;\n        private String username;\n        private String password;\n        private boolean enabled;\n        \n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        @JoinTable(name =&quot;users_roles&quot;, joinColumns = @JoinColumn (name=&quot;user_id&quot;), inverseJoinColumns = @JoinColumn (name=&quot;role_id&quot;))\n        private Set&lt;Role&gt; roles=new HashSet&lt;&gt;();\n\n</code></pre>\n<p><strong>Role model:</strong></p>\n<pre><code>\n    @Entity\n    @Table(name = &quot;roles&quot;)\n    public class Role {\n        @Id\n        @Column(name=&quot;role_id&quot;)\n        @GeneratedValue(strategy =GenerationType.IDENTITY)\n        private Integer id;\n        private String name;\n\n</code></pre>\n<p><strong>UserService Class:</strong></p>\n<pre><code>\n    @Service\n    public class UserServices {\n        \n        @Autowired\n        private UserRepository userRepository;\n        \n        public List&lt;User&gt; listAll(){\n            return (List&lt;User&gt;) userRepository.findAll();\n        }\n\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>\n    @RequestMapping(&quot;/userlist&quot;)\n        public String viewUserList(Model model) {\n            List&lt;User&gt; listUsers = userServices.listAll();\n            model.addAttribute(&quot;listUsers&quot;, listUsers);\n            return &quot;userList&quot;;\n        }\n\n</code></pre>\n<p><strong>thymleaf page:</strong></p>\n<pre><code>\n    &lt;tbody&gt;\n                    &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                        &lt;td th:text=&quot;${user.id}&quot;&gt;User ID&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.username}&quot;&gt;User Name&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.roles}&quot;&gt;User Role&lt;/td&gt;\n    \n                        &lt;td&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n\n</code></pre>\n<p>How to get userlist with rolename.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647823733,"post_id":71551770,"comment_id":126461013,"body_markdown":"Use `Scanner#nextLine` instead, check the resulting `String` to see if it&#39;s empty or not and either use another `Scanner` to parse the `String` or parse the `String` directly to an `int` with `Integer.parseInt` (just catch the exception)","body":"Use <code>Scanner#nextLine</code> instead, check the resulting <code>String</code> to see if it&#39;s empty or not and either use another <code>Scanner</code> to parse the <code>String</code> or parse the <code>String</code> directly to an <code>int</code> with <code>Integer.parseInt</code> (just catch the exception)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647825367,"creation_date":1647825367,"answer_id":71551899,"question_id":71551770,"body_markdown":"Simply configure the scanner for keyboard input. You do so as follows:\r\n\r\n```java\r\nScanner s = new Scanner(System.in);\r\ns.useDelimiter(&quot;\\\\R&quot;); // this fixes everything\r\n```\r\n\r\nThen, use any of the `.nextX()` methods to read whatever you want to read - except `nextLine()` which you simply do not use. ALL the next methods read entire lines (`.nextInt()` reads a line and parses it as an int, `.next()` just reads a line, etcetera).\r\n\r\n## Why?\r\n\r\nOut of the box, scanner is configured to treat &#39;any amount of whitespace&#39; as the delimiter. This is not what you want or expect when dealing with keyboard input. As a consequence.. just hitting enter a bunch of times doesn&#39;t do anything - the delimiter is __any amount__ of whitespace, and enter is.. whitespace. So just repeatedly hitting enter is just more delimiter; nothing happens.\r\n\r\nBy setting the delimiter to `\\\\R`, which is: Exactly one newline of any sort (different platforms have different newlines, `\\\\R` works for all of them), multiple enters would mean that the user is entering multiple delimiters, meaning, the `.nextX` methods return &#39;the things in between&#39;. Blank string if need be.\r\n\r\nThis means calling `.nextInt()` when the user is repeatedly hitting enter, there _are_ tokens being generated that the .next methods will return to you, but it&#39;s invalid when you ask `.nextInt()`. Now there is no difference whatsoever between a user just hitting enter and typing &#39;hello&#39; and hitting enter. This makes it easy - just catch the appropriate exception (or use `.hasNextInt()` instead - whichever strategy you prefer). Works for both scenarios now.\r\n","title":"Java and nextInt() - what if user just hits enter?","body":"<p>Simply configure the scanner for keyboard input. You do so as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(System.in);\ns.useDelimiter(&quot;\\\\R&quot;); // this fixes everything\n</code></pre>\n<p>Then, use any of the <code>.nextX()</code> methods to read whatever you want to read - except <code>nextLine()</code> which you simply do not use. ALL the next methods read entire lines (<code>.nextInt()</code> reads a line and parses it as an int, <code>.next()</code> just reads a line, etcetera).</p>\n<h2>Why?</h2>\n<p>Out of the box, scanner is configured to treat 'any amount of whitespace' as the delimiter. This is not what you want or expect when dealing with keyboard input. As a consequence.. just hitting enter a bunch of times doesn't do anything - the delimiter is <strong>any amount</strong> of whitespace, and enter is.. whitespace. So just repeatedly hitting enter is just more delimiter; nothing happens.</p>\n<p>By setting the delimiter to <code>\\\\R</code>, which is: Exactly one newline of any sort (different platforms have different newlines, <code>\\\\R</code> works for all of them), multiple enters would mean that the user is entering multiple delimiters, meaning, the <code>.nextX</code> methods return 'the things in between'. Blank string if need be.</p>\n<p>This means calling <code>.nextInt()</code> when the user is repeatedly hitting enter, there <em>are</em> tokens being generated that the .next methods will return to you, but it's invalid when you ask <code>.nextInt()</code>. Now there is no difference whatsoever between a user just hitting enter and typing 'hello' and hitting enter. This makes it easy - just catch the appropriate exception (or use <code>.hasNextInt()</code> instead - whichever strategy you prefer). Works for both scenarios now.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647830963,"creation_date":1647828639,"answer_id":71552149,"question_id":71551770,"body_markdown":"If you want to know when the user enters a blank string (or you don&#39;t care and just want to deal with invalid input), I&#39;d start by using `Scanner#nextLine` instead of `Scanner#nextInt` or `Scanner#hasNextInt`\r\n\r\nBy reading the whole line of text, you will also overcome the issue of the dangling new line character been left in the buffer, which can have adverse effects if you try and read from the `Scanner` again.\r\n\r\nI&#39;d then parse the `int` through a seperate workflow, for example...\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Integer intValue = null;\r\n    do {\r\n        System.out.print(&quot;Please enter an int: &quot;);\r\n        String text = scanner.nextLine();\r\n        try {\r\n            intValue = Integer.parseInt(text);\r\n        } catch (NumberFormatException exp) {\r\n            if (text.isEmpty()) {\r\n                System.out.println(&quot;You must provide an input&quot;);\r\n            } else {\r\n                System.out.println(text + &quot; is not a valid int value&quot;);\r\n            }\r\n        }\r\n    } while (intValue == null);\r\n\r\n    System.out.println(&quot;&gt;&gt; &quot; + intValue);\r\n\r\n    System.out.print(&quot;This input should not be skipped: &quot;);\r\n    String nextLine = scanner.nextLine();\r\n    System.out.println(&quot;&gt;&gt; &quot; + nextLine);\r\n\r\nPersonally, I don&#39;t like using `try-catch` as a control mechanism and would instead make use of a second `Scanner` to do the parsing, but I appreciate that some people don&#39;t like that workflow either.\r\n\r\nAlso, I tried using `useDelimiter(&quot;\\\\R&quot;);`, but this did not solve the problem for me, in fact, it created more.\r\n\r\nIf I used `hasNextInt` or `nextInt`, I could press &lt;kbd&gt;Enter&lt;/kbd&gt; twice, before it was handled.  Subsequent inputs also seemed to double up (it would display two error messages) and didn&#39;t solve the issue of a dangling new line been left in the buffer. But, I&#39;m probably no using it as expected.\r\n\r\nSo I ended up using the above workflow anyway.\r\n\r\nI, personally, prefer to get the whole line of text from the user and then parse it as a seperate workflow, this reduces the potential for a lot of other issues associated with getting input from the user when using `Scanner` (looking at you dangling new lines)\r\n","title":"Java and nextInt() - what if user just hits enter?","body":"<p>If you want to know when the user enters a blank string (or you don't care and just want to deal with invalid input), I'd start by using <code>Scanner#nextLine</code> instead of <code>Scanner#nextInt</code> or <code>Scanner#hasNextInt</code></p>\n<p>By reading the whole line of text, you will also overcome the issue of the dangling new line character been left in the buffer, which can have adverse effects if you try and read from the <code>Scanner</code> again.</p>\n<p>I'd then parse the <code>int</code> through a seperate workflow, for example...</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nInteger intValue = null;\ndo {\n    System.out.print(&quot;Please enter an int: &quot;);\n    String text = scanner.nextLine();\n    try {\n        intValue = Integer.parseInt(text);\n    } catch (NumberFormatException exp) {\n        if (text.isEmpty()) {\n            System.out.println(&quot;You must provide an input&quot;);\n        } else {\n            System.out.println(text + &quot; is not a valid int value&quot;);\n        }\n    }\n} while (intValue == null);\n\nSystem.out.println(&quot;&gt;&gt; &quot; + intValue);\n\nSystem.out.print(&quot;This input should not be skipped: &quot;);\nString nextLine = scanner.nextLine();\nSystem.out.println(&quot;&gt;&gt; &quot; + nextLine);\n</code></pre>\n<p>Personally, I don't like using <code>try-catch</code> as a control mechanism and would instead make use of a second <code>Scanner</code> to do the parsing, but I appreciate that some people don't like that workflow either.</p>\n<p>Also, I tried using <code>useDelimiter(&quot;\\\\R&quot;);</code>, but this did not solve the problem for me, in fact, it created more.</p>\n<p>If I used <code>hasNextInt</code> or <code>nextInt</code>, I could press <kbd>Enter</kbd> twice, before it was handled.  Subsequent inputs also seemed to double up (it would display two error messages) and didn't solve the issue of a dangling new line been left in the buffer. But, I'm probably no using it as expected.</p>\n<p>So I ended up using the above workflow anyway.</p>\n<p>I, personally, prefer to get the whole line of text from the user and then parse it as a seperate workflow, this reduces the potential for a lot of other issues associated with getting input from the user when using <code>Scanner</code> (looking at you dangling new lines)</p>\n"}],"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647830963,"creation_date":1647823639,"question_id":71551770,"body_markdown":"I&#39;m using a Scanner object to read in an integer from the user in a try/catch block. I catch wrong inputs (user entered a letter instead of a number etc). But if the user simply hits &#39;Enter&#39; at the prompt, it simply enters a new line, and waits for the user to hit a key other than &quot;Enter&quot;.\r\n\r\nI can&#39;t see an easy way to capture this and let the user know they need to do something...?","title":"Java and nextInt() - what if user just hits enter?","body":"<p>I'm using a Scanner object to read in an integer from the user in a try/catch block. I catch wrong inputs (user entered a letter instead of a number etc). But if the user simply hits 'Enter' at the prompt, it simply enters a new line, and waits for the user to hit a key other than &quot;Enter&quot;.</p>\n<p>I can't see an easy way to capture this and let the user know they need to do something...?</p>\n"},{"tags":["java","spring","spring-boot","testing","spring-test"],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647830622,"creation_date":1647830622,"answer_id":71552293,"question_id":71538328,"body_markdown":"You just have to mock all the related services aswell. \r\n\r\nTake this as an example, imagine you want to test an ItemService class, that has ItemRepositoy and AuthService autowired.\r\n\r\n&gt; ItemService.java\r\n\r\n    @Service\r\n    public class ItemService {\r\n\r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n\r\n        @Autowired\r\n        private AuthService authService;\r\n\r\n        public Item fetchItem() {\r\n            return new Item(1, &quot;name&quot;, 10, 100);\r\n        }\r\n\r\n        public List&lt;Item&gt; fetchItems() {\r\n            List&lt;Item&gt; items = itemRepository.findAll();\r\n            Boolean isValidItems = authService.checkItems();\r\n            if (isValidItems) items.forEach((item) -&gt; item.setValue(item.getPrice() * item.getQuantity()));\r\n            return items;\r\n        }\r\n    }\r\n\r\n&gt; Item.java\r\n\r\n    @Entity\r\n    public class Item {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n\r\n        private String name;\r\n        private Integer price;\r\n        private Integer quantity;\r\n   \r\n        // getters, setters and constructors...\r\n       \r\n    }\r\n\r\n&gt; AuthService.java\r\n\r\n    @Service\r\n    public class AuthService {\r\n\r\n        public Boolean checkItems() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n&gt; ItemRepository.java\r\n\r\n    public interface ItemRepository extends JpaRepository&lt;Item, Integer&gt; {\r\n    }\r\n\r\n&gt; ItemServiceTest.java\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class ItemServiceTest {\r\n\r\n        @InjectMocks\r\n        private ItemService itemServiceMock;\r\n\r\n        @Mock\r\n        private ItemRepository itemRepositoryMock;\r\n\r\n        @Mock\r\n        private AuthService authServiceMock;\r\n\r\n        @Test\r\n        public void fetchItems_basic() {\r\n            // arrange\r\n            List&lt;Item&gt; items = Arrays.asList(new Item(1, &quot;first&quot;, 10, 100), new Item(2, &quot;second&quot;, 20, 200));\r\n            Integer expectedResultFirst = 1000;\r\n            Integer expectedResultSecond = 4000;\r\n            when(itemRepositoryMock.findAll()).thenReturn(items);\r\n            when(authServiceMock.checkItems()).thenReturn(true);\r\n\r\n            // act\r\n            List&lt;Item&gt; actualResult = itemServiceMock.fetchItems();\r\n\r\n            // assert\r\n            assertEquals(expectedResultFirst, actualResult.get(0).getValue());\r\n            assertEquals(expectedResultSecond, actualResult.get(1).getValue());\r\n        }\r\n\r\n    }\r\n\r\nIf you don&#39;t mock the autowired classes and set the when().thenReturn() as you expect you will always get a NullPointException.\r\n\r\n\r\n\r\n\r\n","title":"How do I write a test for a service that uses other services in Springboot?","body":"<p>You just have to mock all the related services aswell.</p>\n<p>Take this as an example, imagine you want to test an ItemService class, that has ItemRepositoy and AuthService autowired.</p>\n<blockquote>\n<p>ItemService.java</p>\n</blockquote>\n<pre><code>@Service\npublic class ItemService {\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    @Autowired\n    private AuthService authService;\n\n    public Item fetchItem() {\n        return new Item(1, &quot;name&quot;, 10, 100);\n    }\n\n    public List&lt;Item&gt; fetchItems() {\n        List&lt;Item&gt; items = itemRepository.findAll();\n        Boolean isValidItems = authService.checkItems();\n        if (isValidItems) items.forEach((item) -&gt; item.setValue(item.getPrice() * item.getQuantity()));\n        return items;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Item.java</p>\n</blockquote>\n<pre><code>@Entity\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n    private Integer price;\n    private Integer quantity;\n\n    // getters, setters and constructors...\n   \n}\n</code></pre>\n<blockquote>\n<p>AuthService.java</p>\n</blockquote>\n<pre><code>@Service\npublic class AuthService {\n\n    public Boolean checkItems() {\n        return true;\n    }\n}\n</code></pre>\n<blockquote>\n<p>ItemRepository.java</p>\n</blockquote>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, Integer&gt; {\n}\n</code></pre>\n<blockquote>\n<p>ItemServiceTest.java</p>\n</blockquote>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ItemServiceTest {\n\n    @InjectMocks\n    private ItemService itemServiceMock;\n\n    @Mock\n    private ItemRepository itemRepositoryMock;\n\n    @Mock\n    private AuthService authServiceMock;\n\n    @Test\n    public void fetchItems_basic() {\n        // arrange\n        List&lt;Item&gt; items = Arrays.asList(new Item(1, &quot;first&quot;, 10, 100), new Item(2, &quot;second&quot;, 20, 200));\n        Integer expectedResultFirst = 1000;\n        Integer expectedResultSecond = 4000;\n        when(itemRepositoryMock.findAll()).thenReturn(items);\n        when(authServiceMock.checkItems()).thenReturn(true);\n\n        // act\n        List&lt;Item&gt; actualResult = itemServiceMock.fetchItems();\n\n        // assert\n        assertEquals(expectedResultFirst, actualResult.get(0).getValue());\n        assertEquals(expectedResultSecond, actualResult.get(1).getValue());\n    }\n\n}\n</code></pre>\n<p>If you don't mock the autowired classes and set the when().thenReturn() as you expect you will always get a NullPointException.</p>\n"}],"owner":{"account_id":16265472,"reputation":53,"user_id":12653752,"display_name":"Ninety5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3444,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71552293,"answer_count":1,"score":3,"last_activity_date":1647830622,"creation_date":1647694685,"question_id":71538328,"body_markdown":"I have a `BookManagementService` that uses the `@Autowired` implementation of three other services, like so\r\n\r\n```\r\n@Service\r\npublic class BookManagementService {\r\n\r\n    private final BookRepo repo;\r\n    private final BookItemRepo itemRepo;\r\n    private final BookEditionRepo editionRepo;\r\n    // the below services are the ones I want to mock in the test.\r\n    @Autowired AuthorService authorService;\r\n    @Autowired YearService yearService;\r\n    @Autowired GenreService genreService;\r\n\r\n\r\n    static String position = &quot;1000&quot;;\r\n\r\n    public BookManagementService(BookRepo repo, BookItemRepo itemRepo, BookEditionRepo editionRepo,\r\n    YearService yearService) {\r\n        this.repo = repo;\r\n        this.itemRepo = itemRepo;\r\n        this.editionRepo = editionRepo;\r\n    }\r\n    // Rest of the methods that perform the business logic.\r\n}\r\n```\r\n\r\nSo how do I mock the aforementioned services and their repo in the BookManagementServiceTest?\r\nWhen the test start running and it gets to the yearService layer, it throws a NullPointerEXception cause the year it receives is `null`\r\nThe BookManagementServiceTest\r\n\r\n```\r\n@SpringBootTest\r\n@ExtendWith(MockitoExtension.class)\r\nclass BookManagementServiceTest {\r\n\r\n    // Injects the needed services\r\n    @InjectMocks private BookManagementService service;\r\n    @InjectMocks private YearService yearService;\r\n    @InjectMocks private GenreService genreService;\r\n    @InjectMocks private AuthorService authorService;\r\n\r\n    // Mock the needed repos\r\n    @Mock private BookItemRepo repoItem;\r\n    @Mock private BookEditionRepo repoEdition;\r\n    @Mock private BookRepo repo;\r\n    // External repo\r\n    @Mock private BookYearRepo yearRepo;\r\n    @Mock private GenreRepo genreRepo;\r\n    @Mock private AuthorRepo authorRepo;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // instantiate the injected services\r\n        service = new BookManagementService(repo, repoItem, repoEdition, yearService);\r\n        yearService = new YearService(yearRepo);\r\n        genreService = new GenreService(genreRepo);\r\n        authorService = new AuthorService(authorRepo);\r\n       // setting the needed variables\r\n\r\n       // calling when.thenReturn for all the repos like I would in a normal single class test.\r\n\r\n        lenient().when(yearRepo.findByYear(&quot;2006&quot;)).thenReturn(year);\r\n        lenient().when(yearRepo.save(year)).thenReturn(year);\r\n        lenient().when(repoItem.save(item)).thenReturn(item);\r\n        lenient().when(yearService.create(&quot;2006&quot;, edition)).thenReturn(year);\r\n\r\n        lenient().when(repoEdition.save(edition)).thenReturn(edition);\r\n        lenient().when(repo.save(book)).thenReturn(book);\r\n    }\r\n    // Tests\r\n}\r\n```\r\n","title":"How do I write a test for a service that uses other services in Springboot?","body":"<p>I have a <code>BookManagementService</code> that uses the <code>@Autowired</code> implementation of three other services, like so</p>\n<pre><code>@Service\npublic class BookManagementService {\n\n    private final BookRepo repo;\n    private final BookItemRepo itemRepo;\n    private final BookEditionRepo editionRepo;\n    // the below services are the ones I want to mock in the test.\n    @Autowired AuthorService authorService;\n    @Autowired YearService yearService;\n    @Autowired GenreService genreService;\n\n\n    static String position = &quot;1000&quot;;\n\n    public BookManagementService(BookRepo repo, BookItemRepo itemRepo, BookEditionRepo editionRepo,\n    YearService yearService) {\n        this.repo = repo;\n        this.itemRepo = itemRepo;\n        this.editionRepo = editionRepo;\n    }\n    // Rest of the methods that perform the business logic.\n}\n</code></pre>\n<p>So how do I mock the aforementioned services and their repo in the BookManagementServiceTest?\nWhen the test start running and it gets to the yearService layer, it throws a NullPointerEXception cause the year it receives is <code>null</code>\nThe BookManagementServiceTest</p>\n<pre><code>@SpringBootTest\n@ExtendWith(MockitoExtension.class)\nclass BookManagementServiceTest {\n\n    // Injects the needed services\n    @InjectMocks private BookManagementService service;\n    @InjectMocks private YearService yearService;\n    @InjectMocks private GenreService genreService;\n    @InjectMocks private AuthorService authorService;\n\n    // Mock the needed repos\n    @Mock private BookItemRepo repoItem;\n    @Mock private BookEditionRepo repoEdition;\n    @Mock private BookRepo repo;\n    // External repo\n    @Mock private BookYearRepo yearRepo;\n    @Mock private GenreRepo genreRepo;\n    @Mock private AuthorRepo authorRepo;\n\n    @BeforeEach\n    void setUp() {\n        // instantiate the injected services\n        service = new BookManagementService(repo, repoItem, repoEdition, yearService);\n        yearService = new YearService(yearRepo);\n        genreService = new GenreService(genreRepo);\n        authorService = new AuthorService(authorRepo);\n       // setting the needed variables\n\n       // calling when.thenReturn for all the repos like I would in a normal single class test.\n\n        lenient().when(yearRepo.findByYear(&quot;2006&quot;)).thenReturn(year);\n        lenient().when(yearRepo.save(year)).thenReturn(year);\n        lenient().when(repoItem.save(item)).thenReturn(item);\n        lenient().when(yearService.create(&quot;2006&quot;, edition)).thenReturn(year);\n\n        lenient().when(repoEdition.save(edition)).thenReturn(edition);\n        lenient().when(repo.save(book)).thenReturn(book);\n    }\n    // Tests\n}\n</code></pre>\n"},{"tags":["java","image","url","javafx"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647827825,"post_id":71552067,"comment_id":126461559,"body_markdown":"Why do a try/catch when you can do a simple and less costly null check?","body":"Why do a try/catch when you can do a simple and less costly null check?"},{"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"score":0,"creation_date":1647828201,"post_id":71552067,"comment_id":126461618,"body_markdown":"How do I do that?","body":"How do I do that?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647828305,"post_id":71552067,"comment_id":126461634,"body_markdown":"`ImagePattern imgPattern = new ImagePattern(new Image(&quot;https://link-to-image&quot;));` followed by `if (imagePattern != null) { ... } else { ... }`","body":"<code>ImagePattern imgPattern = new ImagePattern(new Image(&quot;https:&#47;&#47;link-to-image&quot;));</code> followed by <code>if (imagePattern != null) { ... } else { ... }</code>"},{"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"score":0,"creation_date":1647828545,"post_id":71552067,"comment_id":126461678,"body_markdown":"Doesn&#39;t null check for an object reference? So that will never be null.","body":"Doesn&#39;t null check for an object reference? So that will never be null."}],"answers":[{"tags":[],"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647829218,"creation_date":1647829218,"answer_id":71552189,"question_id":71552067,"body_markdown":"Okay nevermind I found how to fix it, there&#39;s a method in `Image` for checking if there&#39;s an error:\r\n\r\n    image.isError()","title":"Try/Catch isn&#39;t catching my null Image exception from URL in JavaFX","body":"<p>Okay nevermind I found how to fix it, there's a method in <code>Image</code> for checking if there's an error:</p>\n<pre><code>image.isError()\n</code></pre>\n"}],"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71552189,"answer_count":1,"score":0,"last_activity_date":1647829218,"creation_date":1647827740,"question_id":71552067,"body_markdown":"Okay so, I have a `Circle` component which I assigned in SceneBuilder. I want to fill this Circle with an ImagePattern object, however I&#39;m running into a weird problem. I&#39;m assigning a lot of images from lots of URL&#39;s in a database and they&#39;re only set when I click them, and some of the links appear to be broken, but for some reason I can&#39;t prevent my program from crashing using try/catch.\r\n\r\nHere are examples of working links:\r\n\r\nhttps://a0.muscache.com/im/users/67564/profile_pic/1320663729/original.jpg?aki_policy=profile_x_medium\r\n\r\nhttps://a0.muscache.com/im/users/168920/profile_pic/1279390466/original.jpg?aki_policy=profile_x_medium\r\n\r\nhttps://a0.muscache.com/im/users/502496/profile_pic/1385405597/original.jpg?aki_policy=profile_x_medium\r\n\r\nHere is an example of a link which crashes my program:\r\n\r\nhttps://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium\r\n\r\nAs you can see the link leads to a Null directory, and I get this error in my console:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Image must be non-null\r\n\r\n\r\nSo I assumed I could fix this with a simple try/catch, so I did the following:\r\n\r\n        try {\r\n            circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium&quot;)));\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nAnd nada, it doesn&#39;t catch my error. I&#39;ve tried using the correct IllegalArgumentException catch, I&#39;ve tried ignore the catch, no differences.\r\n\r\nI&#39;ve made a mini recreation of my problem below and the error is still prevalent:\r\n\r\n    public class Test extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage){\r\n    \r\n    BorderPane root = new BorderPane();\r\n            Circle circle = new Circle(50);\r\n            root.setCenter(circle);\r\n    \r\n            // Works fine (Working link)\r\n            //circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/users/67564/profile_pic/1320663729/original.jpg?aki_policy=profile_x_medium&quot;)));\r\n    \r\n            // Dies and cries (Broken link)\r\n            try {\r\n                circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium&quot;)));\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            scene = new Scene(root);\r\n            stage.setTitle(&quot;test&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nJust to affirm what my goal is, I just want my program to completely ignore this line if the link is invalid, how would I do this? Thanks.\r\n\r\nAlso in case there&#39;s any confusion as to why I&#39;m trying to load a dead link, as I said before I&#39;m loading images from a database so I have no idea which links work and which don&#39;t, and I don&#39;t know how to check and researching just seems to tell me to use a try/catch.\r\n","title":"Try/Catch isn&#39;t catching my null Image exception from URL in JavaFX","body":"<p>Okay so, I have a <code>Circle</code> component which I assigned in SceneBuilder. I want to fill this Circle with an ImagePattern object, however I'm running into a weird problem. I'm assigning a lot of images from lots of URL's in a database and they're only set when I click them, and some of the links appear to be broken, but for some reason I can't prevent my program from crashing using try/catch.</p>\n<p>Here are examples of working links:</p>\n<p><a href=\"https://a0.muscache.com/im/users/67564/profile_pic/1320663729/original.jpg?aki_policy=profile_x_medium\" rel=\"nofollow noreferrer\">https://a0.muscache.com/im/users/67564/profile_pic/1320663729/original.jpg?aki_policy=profile_x_medium</a></p>\n<p><a href=\"https://a0.muscache.com/im/users/168920/profile_pic/1279390466/original.jpg?aki_policy=profile_x_medium\" rel=\"nofollow noreferrer\">https://a0.muscache.com/im/users/168920/profile_pic/1279390466/original.jpg?aki_policy=profile_x_medium</a></p>\n<p><a href=\"https://a0.muscache.com/im/users/502496/profile_pic/1385405597/original.jpg?aki_policy=profile_x_medium\" rel=\"nofollow noreferrer\">https://a0.muscache.com/im/users/502496/profile_pic/1385405597/original.jpg?aki_policy=profile_x_medium</a></p>\n<p>Here is an example of a link which crashes my program:</p>\n<p><a href=\"https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium\" rel=\"nofollow noreferrer\">https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium</a></p>\n<p>As you can see the link leads to a Null directory, and I get this error in my console:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Image must be non-null\n</code></pre>\n<p>So I assumed I could fix this with a simple try/catch, so I did the following:</p>\n<pre><code>    try {\n        circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium&quot;)));\n    }\n    catch (Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>And nada, it doesn't catch my error. I've tried using the correct IllegalArgumentException catch, I've tried ignore the catch, no differences.</p>\n<p>I've made a mini recreation of my problem below and the error is still prevalent:</p>\n<pre><code>public class Test extends Application {\n\n    @Override\n    public void start(Stage stage){\n\nBorderPane root = new BorderPane();\n        Circle circle = new Circle(50);\n        root.setCenter(circle);\n\n        // Works fine (Working link)\n        //circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/users/67564/profile_pic/1320663729/original.jpg?aki_policy=profile_x_medium&quot;)));\n\n        // Dies and cries (Broken link)\n        try {\n            circle.setFill(new ImagePattern(new Image(&quot;https://a0.muscache.com/im/pictures/c5b5bc4e-0133-4103-b68e-66f33bbf9e27.jpg?aki_policy=profile_x_medium&quot;)));\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n\n        scene = new Scene(root);\n        stage.setTitle(&quot;test&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n}\n\n}\n</code></pre>\n<p>Just to affirm what my goal is, I just want my program to completely ignore this line if the link is invalid, how would I do this? Thanks.</p>\n<p>Also in case there's any confusion as to why I'm trying to load a dead link, as I said before I'm loading images from a database so I have no idea which links work and which don't, and I don't know how to check and researching just seems to tell me to use a try/catch.</p>\n"},{"tags":["java","h2","hsqldb","schemacrawler"],"comments":[{"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"score":0,"creation_date":1647703393,"post_id":71521657,"comment_id":126439840,"body_markdown":"is your connection null? I tried your code out, and I get a &quot;ExecutionRuntimeException: No matching schemas found&quot;. You should not be excluding all schemas, because you will not get any tables.","body":"is your connection null? I tried your code out, and I get a &quot;ExecutionRuntimeException: No matching schemas found&quot;. You should not be excluding all schemas, because you will not get any tables."},{"owner":{"account_id":15433650,"reputation":35,"user_id":11134319,"display_name":"psilocybe"},"score":0,"creation_date":1647813815,"post_id":71521657,"comment_id":126459559,"body_markdown":"@ Sualeh, My connection is not null for sure, it&#39;s the catalog who is null. I fixed the `new ExcludeAll()` sorry it&#39;s a typo...If I use this typo code I always have a &quot;NullPointerException&quot; never &quot;No matching schemas found&quot;. If I use the CatalogLoader and print it it&#39;s seem to be empty: `CatalogLoader [[]]`","body":"@ Sualeh, My connection is not null for sure, it&#39;s the catalog who is null. I fixed the <code>new ExcludeAll()</code> sorry it&#39;s a typo...If I use this typo code I always have a &quot;NullPointerException&quot; never &quot;No matching schemas found&quot;. If I use the CatalogLoader and print it it&#39;s seem to be empty: <code>CatalogLoader [[]]</code>"},{"owner":{"account_id":15433650,"reputation":35,"user_id":11134319,"display_name":"psilocybe"},"score":0,"creation_date":1647827049,"post_id":71521657,"comment_id":126461449,"body_markdown":"@Sualeh I use SchemaCrawler in a JDBC driver for LibreOffice to make it agnostic (connection.getMetaData, ResultSetMetaData...) and to be able to offer different Database (HsqlDB, H2).\nCan you tell me where to look?","body":"@Sualeh I use SchemaCrawler in a JDBC driver for LibreOffice to make it agnostic (connection.getMetaData, ResultSetMetaData...) and to be able to offer different Database (HsqlDB, H2). Can you tell me where to look?"}],"answers":[{"tags":[],"owner":{"account_id":15433650,"reputation":35,"user_id":11134319,"display_name":"psilocybe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647827251,"creation_date":1647826216,"answer_id":71551955,"question_id":71521657,"body_markdown":"After changing some code I managed to have something that works...\r\n\r\n    new LoggingConfig(Level.ALL);\r\n    final LimitOptionsBuilder limit = LimitOptionsBuilder.builder()\r\n        .includeSchemas(new IncludeAll())\r\n        .includeTables(new IncludeAll());\r\n    final LoadOptionsBuilder load = LoadOptionsBuilder.builder()\r\n        .withSchemaInfoLevel(SchemaInfoLevelBuilder.minimum());\r\n    final SchemaCrawlerOptions options = SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\r\n        .withLimitOptions(limit.toOptions())\r\n        .withLoadOptions(load.toOptions());\t\r\n    final SchemaRetrievalOptions retrieval = SchemaCrawlerUtility.matchSchemaRetrievalOptions(connection);\r\n    schemacrawler.crawl.SchemaCrawler crawler = new schemacrawler.crawl.SchemaCrawler(connection, retrieval, options);\r\n    final Catalog catalog = crawler.crawl();\r\n    for (final schemacrawler.schema.Table t : catalog.getTables())\r\n        {\r\n            //more code...\r\n        }\r\n\r\nHowever, the first code always gives me the same error...","title":"schemacrawler java.lang.NullPointerException: Catalog could not be retrieved","body":"<p>After changing some code I managed to have something that works...</p>\n<pre><code>new LoggingConfig(Level.ALL);\nfinal LimitOptionsBuilder limit = LimitOptionsBuilder.builder()\n    .includeSchemas(new IncludeAll())\n    .includeTables(new IncludeAll());\nfinal LoadOptionsBuilder load = LoadOptionsBuilder.builder()\n    .withSchemaInfoLevel(SchemaInfoLevelBuilder.minimum());\nfinal SchemaCrawlerOptions options = SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\n    .withLimitOptions(limit.toOptions())\n    .withLoadOptions(load.toOptions()); \nfinal SchemaRetrievalOptions retrieval = SchemaCrawlerUtility.matchSchemaRetrievalOptions(connection);\nschemacrawler.crawl.SchemaCrawler crawler = new schemacrawler.crawl.SchemaCrawler(connection, retrieval, options);\nfinal Catalog catalog = crawler.crawl();\nfor (final schemacrawler.schema.Table t : catalog.getTables())\n    {\n        //more code...\n    }\n</code></pre>\n<p>However, the first code always gives me the same error...</p>\n"}],"owner":{"account_id":15433650,"reputation":35,"user_id":11134319,"display_name":"psilocybe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647827251,"creation_date":1647568596,"question_id":71521657,"body_markdown":"I try to use schemacrawler with hsqldb 2.51 and h2 2.x with the following code:\r\n\r\n    final LimitOptionsBuilder limit = LimitOptionsBuilder.builder()\r\n        .includeSchemas(new IncludeAll())\r\n        .includeTables(new IncludeAll());\r\n    final LoadOptionsBuilder load = LoadOptionsBuilder.builder()\r\n        .withSchemaInfoLevel(SchemaInfoLevelBuilder.minimum());\r\n    final SchemaCrawlerOptions options = SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\r\n        .withLimitOptions(limit.toOptions())\r\n        .withLoadOptions(load.toOptions());\r\n    final Catalog catalog = SchemaCrawlerUtility.getCatalog(connection, options);\r\n    // throw NullPointerException\r\n    for (final schemacrawler.schema.Table t : catalog.getTables())\r\n    {\r\n        //more code...\r\n    }\r\n\r\nI can&#39;t get the catalog without an NullPointerException error.\r\nI have two archives in the classpath:\r\n\r\n - schemacrawler-16.16.11.jar\r\n - schemacrawler-hsqldb-16.16.11.jar\r\n\r\nIf someone has an idea...\r\n\r\n","title":"schemacrawler java.lang.NullPointerException: Catalog could not be retrieved","body":"<p>I try to use schemacrawler with hsqldb 2.51 and h2 2.x with the following code:</p>\n<pre><code>final LimitOptionsBuilder limit = LimitOptionsBuilder.builder()\n    .includeSchemas(new IncludeAll())\n    .includeTables(new IncludeAll());\nfinal LoadOptionsBuilder load = LoadOptionsBuilder.builder()\n    .withSchemaInfoLevel(SchemaInfoLevelBuilder.minimum());\nfinal SchemaCrawlerOptions options = SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\n    .withLimitOptions(limit.toOptions())\n    .withLoadOptions(load.toOptions());\nfinal Catalog catalog = SchemaCrawlerUtility.getCatalog(connection, options);\n// throw NullPointerException\nfor (final schemacrawler.schema.Table t : catalog.getTables())\n{\n    //more code...\n}\n</code></pre>\n<p>I can't get the catalog without an NullPointerException error.\nI have two archives in the classpath:</p>\n<ul>\n<li>schemacrawler-16.16.11.jar</li>\n<li>schemacrawler-hsqldb-16.16.11.jar</li>\n</ul>\n<p>If someone has an idea...</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1647824906,"post_id":71551789,"comment_id":126461174,"body_markdown":"Hi @Zimmermr - where is `loggedInUser` assigned a value - that&#39;s possibly what the null pointer exception is from.","body":"Hi @Zimmermr - where is <code>loggedInUser</code> assigned a value - that&#39;s possibly what the null pointer exception is from."},{"owner":{"account_id":24624117,"reputation":1,"user_id":18524019,"display_name":"zimmermr"},"score":0,"creation_date":1647825656,"post_id":71551789,"comment_id":126461262,"body_markdown":"loggedInUser is a non-null LinkedInUser passed to the process function. I just added the full code for both functions.","body":"loggedInUser is a non-null LinkedInUser passed to the process function. I just added the full code for both functions."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647826220,"creation_date":1647824944,"answer_id":71551872,"question_id":71551789,"body_markdown":"By the way… Your naming is confusing. `String skillset;` should be `String skill`, and `.addSkill` not `.addSkillset`, because you are adding *individual* skills rather than adding a set.\r\n\r\nClarifying your naming may clarify your code. Notice the singular `skill` and plural `skills` naming used in code below.\r\n\r\n\r\n----------\r\n\r\n\r\nYou did not provide enough details to diagnose the problem. But I can show you some example code based on your descriptions.\r\n\r\nYour problem may be related to your not properly instantiating the `TreeSet`. Notice in this code that you have a choice of at least two places in which to instantiate: \r\n\r\n - On the declaration line of `skills`. \r\n - In the constructor. (Code currently commented-out.)\r\n\r\nThe `LinkedInUser` class.\r\n\r\n```java\r\npackage work.basil.linkedin;\r\n\r\nimport java.util.NavigableSet;\r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\npublic class LinkedInUser\r\n{\r\n    private String name;\r\n    private NavigableSet &lt; String &gt; skills = new TreeSet &lt;&gt;();\r\n\r\n    // Constructor\r\n    public LinkedInUser ( final String name )\r\n    {\r\n        this.name = name;\r\n//        this.skills = new TreeSet &lt;&gt;() ;\r\n    }\r\n\r\n    // Modifiers\r\n\r\n    public void setName ( String name ) { this.name = name; }\r\n\r\n    public void addSkill ( String skill ) { this.skills.add( skill ); }\r\n\r\n    // Getters\r\n\r\n    public String getName ( ) { return name; }\r\n\r\n    public Set &lt; String &gt; getSkills ( ) { return Set.copyOf( this.skills ); }  // Return a unmodifiable copy of the set. (defensive programming)\r\n}\r\n```\r\n\r\nFor [defensive programming][1], we return a copy of the set. This unmodifiable copy returned by `Set.copyOf` has no order. In some implementations, the order may even change arbitrarily for each iterator. If you want to return an ordered `NavigableSet` instead, do this: \r\n\r\n - Change the return type of the method to `NavigableSet`.\r\n - Change the code to pass the instance’s set to the constructor of another set.\r\n\r\n```java\r\npublic NavigableSet &lt; String &gt; getSkills ( ) { return new TreeSet &lt;&gt;(this.skills ); }\r\n```\r\n\r\nUsage.\r\n\r\n```java\r\nLinkedInUser alice = new LinkedInUser( &quot;Alice&quot; );\r\nLinkedInUser bob = new LinkedInUser( &quot;Bob&quot; );\r\n\r\nalice.addSkill( &quot;Yodeling&quot; );\r\nalice.addSkill( &quot;Tap Dancing&quot; );\r\nbob.addSkill( &quot;Juggling&quot; );\r\n\r\nSystem.out.println( alice.getName() + &quot; does &quot; + alice.getSkills() );\r\nSystem.out.println( bob.getName() + &quot; does &quot; + bob.getSkills() );\r\n\r\nSystem.out.println( List.of( alice , bob ) );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nAlice does [Yodeling, Tap Dancing]\r\nBob does [Juggling]\r\n[LinkedInUser{name=&#39;Alice&#39;, skills=[Tap Dancing, Yodeling]}, LinkedInUser{name=&#39;Bob&#39;, skills=[Juggling]}]\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nYou said:\r\n\r\n&gt;I thought instantiating the Set with:\r\n&gt;\r\n&gt;`private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();`\r\n\r\nYes, that would indeed instantiate a `TreeSet` object, and store a reference to that set in a variable named `skillsets`. I expect you are placing that code in the wrong location. Again, look at the two locations I suggested earlier in this Answer: on declaration line, or in constructor.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Defensive_programming","title":"Why is my TreeSet in Java giving me a null pointer exception when I try to add a String?","body":"<p>By the way… Your naming is confusing. <code>String skillset;</code> should be <code>String skill</code>, and <code>.addSkill</code> not <code>.addSkillset</code>, because you are adding <em>individual</em> skills rather than adding a set.</p>\n<p>Clarifying your naming may clarify your code. Notice the singular <code>skill</code> and plural <code>skills</code> naming used in code below.</p>\n<hr />\n<p>You did not provide enough details to diagnose the problem. But I can show you some example code based on your descriptions.</p>\n<p>Your problem may be related to your not properly instantiating the <code>TreeSet</code>. Notice in this code that you have a choice of at least two places in which to instantiate:</p>\n<ul>\n<li>On the declaration line of <code>skills</code>.</li>\n<li>In the constructor. (Code currently commented-out.)</li>\n</ul>\n<p>The <code>LinkedInUser</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.linkedin;\n\nimport java.util.NavigableSet;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class LinkedInUser\n{\n    private String name;\n    private NavigableSet &lt; String &gt; skills = new TreeSet &lt;&gt;();\n\n    // Constructor\n    public LinkedInUser ( final String name )\n    {\n        this.name = name;\n//        this.skills = new TreeSet &lt;&gt;() ;\n    }\n\n    // Modifiers\n\n    public void setName ( String name ) { this.name = name; }\n\n    public void addSkill ( String skill ) { this.skills.add( skill ); }\n\n    // Getters\n\n    public String getName ( ) { return name; }\n\n    public Set &lt; String &gt; getSkills ( ) { return Set.copyOf( this.skills ); }  // Return a unmodifiable copy of the set. (defensive programming)\n}\n</code></pre>\n<p>For <a href=\"https://en.wikipedia.org/wiki/Defensive_programming\" rel=\"nofollow noreferrer\">defensive programming</a>, we return a copy of the set. This unmodifiable copy returned by <code>Set.copyOf</code> has no order. In some implementations, the order may even change arbitrarily for each iterator. If you want to return an ordered <code>NavigableSet</code> instead, do this:</p>\n<ul>\n<li>Change the return type of the method to <code>NavigableSet</code>.</li>\n<li>Change the code to pass the instance’s set to the constructor of another set.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public NavigableSet &lt; String &gt; getSkills ( ) { return new TreeSet &lt;&gt;(this.skills ); }\n</code></pre>\n<p>Usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedInUser alice = new LinkedInUser( &quot;Alice&quot; );\nLinkedInUser bob = new LinkedInUser( &quot;Bob&quot; );\n\nalice.addSkill( &quot;Yodeling&quot; );\nalice.addSkill( &quot;Tap Dancing&quot; );\nbob.addSkill( &quot;Juggling&quot; );\n\nSystem.out.println( alice.getName() + &quot; does &quot; + alice.getSkills() );\nSystem.out.println( bob.getName() + &quot; does &quot; + bob.getSkills() );\n\nSystem.out.println( List.of( alice , bob ) );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Alice does [Yodeling, Tap Dancing]\nBob does [Juggling]\n[LinkedInUser{name='Alice', skills=[Tap Dancing, Yodeling]}, LinkedInUser{name='Bob', skills=[Juggling]}]\n</code></pre>\n<hr />\n<p>You said:</p>\n<blockquote>\n<p>I thought instantiating the Set with:</p>\n<p><code>private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();</code></p>\n</blockquote>\n<p>Yes, that would indeed instantiate a <code>TreeSet</code> object, and store a reference to that set in a variable named <code>skillsets</code>. I expect you are placing that code in the wrong location. Again, look at the two locations I suggested earlier in this Answer: on declaration line, or in constructor.</p>\n"}],"owner":{"account_id":24624117,"reputation":1,"user_id":18524019,"display_name":"zimmermr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647833870,"answer_count":1,"score":-1,"last_activity_date":1647826220,"creation_date":1647823849,"question_id":71551789,"body_markdown":"I&#39;m working on a project for a Java class, and I can&#39;t seem to get past this NullPointerException. The project is a command-line LinkedIn program. One of the aspects I&#39;m implementing is the ability to add a skillset to a user&#39;s profile. \r\n\r\nI have a LinkedInUser class in which I define a TreeSet to hold these skillsets in the form of Strings entered by the user. I&#39;m using TreeSet, because the assignment requires them to be sorted.\r\n\r\nI define the TreeSet in the LinkedInUser class here:\r\n\r\n    private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\r\n\r\nThe action the user takes is defined in the AddSkillsetAction class:\r\n\r\n    String skillset;\r\n\t\t\r\n\tSystem.out.println(&quot;Enter a skillset to add to your list:&quot;);\r\n\tskillset = scanner.nextLine();\r\n\t\r\n\tloggedInUser.addSkillset(skillset);\r\n\tSystem.out.println(skillset + &quot; has been added to your skillsets.&quot;);\r\n\r\nAnd the String they enter is passed to the addSkillSet function in the LinkedInUser class:\r\n\r\n    public void addSkillset(String skillset) {\r\n    \tskillsets.add(skillset);\r\n    }\r\n\r\nI keep getting a NullPointerException on the line:\r\n\r\n\tskillsets.add(skillset);\r\n\r\nWhat am I doing wrong? I&#39;ve tested every level up to that line. I even tested the TreeSet inside the addSkillset function with this code:\r\n\r\n    if(skillsets == null) {\r\n       System.out.println(&quot;The TreeSet is null.&quot;)\r\n    }\r\n\r\nIt&#39;s telling me the TreeSet is null. I thought instantiating the Set with:\r\n\r\n    private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\r\n\r\nwould actually create an empty TreeSet, instead of it pointing to a null location. Why is my set &quot;skillsets&quot; still pointing to null? What am I doing wrong here?\r\n\r\nEDIT: \r\nHere are the full classes:\r\n\r\n    package edu.institution.asn2;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    \r\n    public class LinkedInUser extends UserAccount implements Comparable&lt;LinkedInUser&gt;, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 75648957489235739L;\r\n    \tprivate String type;\r\n    \tprivate List&lt;LinkedInUser&gt; connections = new ArrayList&lt;&gt;(); \r\n    \tprivate Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\r\n    \t\r\n    \tpublic LinkedInUser(String username, String password) {\r\n    \t\tsuper(username, password);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \t\r\n    \tpublic String getType() {\r\n    \t\treturn this.type;\r\n    \t}\r\n    \t\r\n    \t// Add a connection to user&#39;s list\r\n    \tpublic void addConnection(LinkedInUser user) throws LinkedInException {\r\n    \t\tint index = connections.indexOf(user);\r\n    \t\tif (index &gt;= 0) {\r\n    \t\t\tthrow new LinkedInException(&quot;You are already connected with this user.&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tconnections.add(user);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// Remove a connection from the user&#39;s connection list\r\n    \tpublic void removeConnection(LinkedInUser user) throws LinkedInException {\r\n    \t\tint index = connections.indexOf(user);\r\n    \t\tif (index &lt; 0) {\r\n    \t\t\tthrow new LinkedInException(&quot;You are NOT connected to this user.&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tconnections.remove(index);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// Return a copy of the ArrayList of connections\r\n    \tpublic List&lt;LinkedInUser&gt; getConnections() {\r\n    \t\tArrayList&lt;LinkedInUser&gt; copy = new ArrayList&lt;&gt;(connections);\r\n    \t\treturn copy;\r\n    \t}\r\n    \t\r\n    \t// Return the number of connections\r\n    \tpublic int getNumberOfConnections() {\r\n    \t\treturn connections.size();\r\n    \t}\r\n    \t\r\n    \t// Return the skillsets\r\n    \tpublic Set&lt;String&gt; getSkillsets(){\r\n    \t\treturn skillsets;\r\n    \t}\r\n    \t\r\n    \t// Add a skillset\r\n    \tpublic void addSkillset(String skillset) {\r\n    \t\tskillsets.add(skillset);\r\n    \t}\r\n    \t\r\n    \t// Remove a skillset\r\n    \tpublic void removeSkillset (String skillset) {\r\n    \t\tif(skillsets.contains(skillset)){\r\n    \t\t\tskillsets.remove(skillset);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(skillset + &quot; is not in your skills list.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// Override the compareTo function\r\n    \t@Override\r\n    \tpublic int compareTo(LinkedInUser user) {\r\n    \t\tint i = this.getUsername().compareToIgnoreCase(user.getUsername());\r\n    \t\treturn i;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd the class to add a skillset:\r\n\r\n    package edu.institution.actions.asn7;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    import edu.institution.ApplicationHelper;\r\n    import edu.institution.UserRepository;\r\n    import edu.institution.actions.MenuAction;\r\n    import edu.institution.asn2.LinkedInUser;\r\n    \r\n    public class AddSkillsetAction implements MenuAction {\r\n    \r\n    \t@Override\r\n    \tpublic boolean process(Scanner scanner, UserRepository userRepository, LinkedInUser loggedInUser) {\r\n    \t\tString skillset;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter a skillset to add to your list:&quot;);\r\n    \t\tskillset = scanner.nextLine();\r\n    \t\t\r\n    \t\tloggedInUser.addSkillset(skillset);\r\n    \t\tSystem.out.println(skillset + &quot; has been added to your skillsets.&quot;);\r\n    \t\t\r\n    \t\tApplicationHelper.incrementSkillsetCount(skillset);\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nAfter I run and try to add a skillset, I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat edu.institution.asn2.LinkedInUser.addSkillset(LinkedInUser.java:69)\r\n    \tat edu.institution.actions.asn7.AddSkillsetAction.process(AddSkillsetAction.java:19)\r\n    \tat edu.institution.ApplicationController.process(ApplicationController.java:61)\r\n    \tat edu.institution.LinkedInCLI.main(LinkedInCLI.java:39)\r\n\r\nLinkedInUser.java:69 is:\r\n\r\n\t\tskillsets.add(skillset);\r\n\r\n","title":"Why is my TreeSet in Java giving me a null pointer exception when I try to add a String?","body":"<p>I'm working on a project for a Java class, and I can't seem to get past this NullPointerException. The project is a command-line LinkedIn program. One of the aspects I'm implementing is the ability to add a skillset to a user's profile.</p>\n<p>I have a LinkedInUser class in which I define a TreeSet to hold these skillsets in the form of Strings entered by the user. I'm using TreeSet, because the assignment requires them to be sorted.</p>\n<p>I define the TreeSet in the LinkedInUser class here:</p>\n<pre><code>private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\n</code></pre>\n<p>The action the user takes is defined in the AddSkillsetAction class:</p>\n<pre><code>String skillset;\n    \nSystem.out.println(&quot;Enter a skillset to add to your list:&quot;);\nskillset = scanner.nextLine();\n\nloggedInUser.addSkillset(skillset);\nSystem.out.println(skillset + &quot; has been added to your skillsets.&quot;);\n</code></pre>\n<p>And the String they enter is passed to the addSkillSet function in the LinkedInUser class:</p>\n<pre><code>public void addSkillset(String skillset) {\n    skillsets.add(skillset);\n}\n</code></pre>\n<p>I keep getting a NullPointerException on the line:</p>\n<pre><code>skillsets.add(skillset);\n</code></pre>\n<p>What am I doing wrong? I've tested every level up to that line. I even tested the TreeSet inside the addSkillset function with this code:</p>\n<pre><code>if(skillsets == null) {\n   System.out.println(&quot;The TreeSet is null.&quot;)\n}\n</code></pre>\n<p>It's telling me the TreeSet is null. I thought instantiating the Set with:</p>\n<pre><code>private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\n</code></pre>\n<p>would actually create an empty TreeSet, instead of it pointing to a null location. Why is my set &quot;skillsets&quot; still pointing to null? What am I doing wrong here?</p>\n<p>EDIT:\nHere are the full classes:</p>\n<pre><code>package edu.institution.asn2;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class LinkedInUser extends UserAccount implements Comparable&lt;LinkedInUser&gt;, Serializable {\n\n    private static final long serialVersionUID = 75648957489235739L;\n    private String type;\n    private List&lt;LinkedInUser&gt; connections = new ArrayList&lt;&gt;(); \n    private Set&lt;String&gt; skillsets = new TreeSet&lt;&gt;();\n    \n    public LinkedInUser(String username, String password) {\n        super(username, password);\n    }\n    \n    @Override\n    public void setType(String type) {\n        this.type = type;\n    }\n    \n    public String getType() {\n        return this.type;\n    }\n    \n    // Add a connection to user's list\n    public void addConnection(LinkedInUser user) throws LinkedInException {\n        int index = connections.indexOf(user);\n        if (index &gt;= 0) {\n            throw new LinkedInException(&quot;You are already connected with this user.&quot;);\n        }\n        else {\n            connections.add(user);\n        }\n    }\n    \n    // Remove a connection from the user's connection list\n    public void removeConnection(LinkedInUser user) throws LinkedInException {\n        int index = connections.indexOf(user);\n        if (index &lt; 0) {\n            throw new LinkedInException(&quot;You are NOT connected to this user.&quot;);\n        }\n        else {\n            connections.remove(index);\n        }\n    }\n    \n    // Return a copy of the ArrayList of connections\n    public List&lt;LinkedInUser&gt; getConnections() {\n        ArrayList&lt;LinkedInUser&gt; copy = new ArrayList&lt;&gt;(connections);\n        return copy;\n    }\n    \n    // Return the number of connections\n    public int getNumberOfConnections() {\n        return connections.size();\n    }\n    \n    // Return the skillsets\n    public Set&lt;String&gt; getSkillsets(){\n        return skillsets;\n    }\n    \n    // Add a skillset\n    public void addSkillset(String skillset) {\n        skillsets.add(skillset);\n    }\n    \n    // Remove a skillset\n    public void removeSkillset (String skillset) {\n        if(skillsets.contains(skillset)){\n            skillsets.remove(skillset);\n        } else {\n            System.out.println(skillset + &quot; is not in your skills list.&quot;);\n        }\n    }\n    \n    // Override the compareTo function\n    @Override\n    public int compareTo(LinkedInUser user) {\n        int i = this.getUsername().compareToIgnoreCase(user.getUsername());\n        return i;\n    }\n\n}\n</code></pre>\n<p>And the class to add a skillset:</p>\n<pre><code>package edu.institution.actions.asn7;\n\nimport java.util.Scanner;\n\nimport edu.institution.ApplicationHelper;\nimport edu.institution.UserRepository;\nimport edu.institution.actions.MenuAction;\nimport edu.institution.asn2.LinkedInUser;\n\npublic class AddSkillsetAction implements MenuAction {\n\n    @Override\n    public boolean process(Scanner scanner, UserRepository userRepository, LinkedInUser loggedInUser) {\n        String skillset;\n        \n        System.out.println(&quot;Enter a skillset to add to your list:&quot;);\n        skillset = scanner.nextLine();\n        \n        loggedInUser.addSkillset(skillset);\n        System.out.println(skillset + &quot; has been added to your skillsets.&quot;);\n        \n        ApplicationHelper.incrementSkillsetCount(skillset);\n        \n        return true;\n    }\n}\n</code></pre>\n<p>After I run and try to add a skillset, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at edu.institution.asn2.LinkedInUser.addSkillset(LinkedInUser.java:69)\n    at edu.institution.actions.asn7.AddSkillsetAction.process(AddSkillsetAction.java:19)\n    at edu.institution.ApplicationController.process(ApplicationController.java:61)\n    at edu.institution.LinkedInCLI.main(LinkedInCLI.java:39)\n</code></pre>\n<p>LinkedInUser.java:69 is:</p>\n<pre><code>    skillsets.add(skillset);\n</code></pre>\n"},{"tags":["java","visual-studio-code","minecraft-fabric"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647782925,"post_id":71535931,"comment_id":126452816,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1647825413,"post_id":71535931,"comment_id":126461237,"body_markdown":"Please provide more information, such as the tool used and the version number, and what you expect. The content given at present is not enough for us to reproduce the problem","body":"Please provide more information, such as the tool used and the version number, and what you expect. The content given at present is not enough for us to reproduce the problem"}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647825644,"creation_date":1647825644,"answer_id":71551914,"question_id":71535931,"body_markdown":"Your Java is mentioned at the end of the error report_ The home setting is inconsistent with the Java JDK version number actually used. Please confirm whether your system environment setting and Java setting are correct and use java17 as required.`You are using an outdated version of Java (11). Java 17 or higher is required. `","title":"Fabric Mod Creation error trying to run client through vscode","body":"<p>Your Java is mentioned at the end of the error report_ The home setting is inconsistent with the Java JDK version number actually used. Please confirm whether your system environment setting and Java setting are correct and use java17 as required.<code>You are using an outdated version of Java (11). Java 17 or higher is required. </code></p>\n"}],"owner":{"account_id":24608528,"reputation":11,"user_id":18510420,"display_name":"Chanlanfan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":999,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647825644,"creation_date":1647671971,"question_id":71535931,"body_markdown":"Can someone help find the problem?\r\n`The supplied phased action failed with an exception.\r\nA problem occurred configuring root project &#39;GrassyMod&#39;.\r\nBuild file &#39;C:\\Users\\user-pc\\Desktop\\GrassyMod\\build.gradle&#39; line: 2\r\nAn exception occurred applying plugin request [id: &#39;fabric-loom&#39;, version: &#39;0.11-SNAPSHOT&#39;]\r\nFailed to apply plugin &#39;fabric-loom&#39;.\r\nYou are using an outdated version of Java (11). Java 17 or higher is required.\r\nThe JAVA_HOME environment variable is currently set to (C:\\Program Files\\Java\\jdk-17.0.2).\r\n`","title":"Fabric Mod Creation error trying to run client through vscode","body":"<p>Can someone help find the problem?\n<code>The supplied phased action failed with an exception. A problem occurred configuring root project 'GrassyMod'. Build file 'C:\\Users\\user-pc\\Desktop\\GrassyMod\\build.gradle' line: 2 An exception occurred applying plugin request [id: 'fabric-loom', version: '0.11-SNAPSHOT'] Failed to apply plugin 'fabric-loom'. You are using an outdated version of Java (11). Java 17 or higher is required. The JAVA_HOME environment variable is currently set to (C:\\Program Files\\Java\\jdk-17.0.2). </code></p>\n"},{"tags":["java","docker","rest","dockerfile"],"comments":[{"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"score":0,"creation_date":1647821286,"post_id":71551558,"comment_id":126460677,"body_markdown":"There is some samples using the openJDK docker image as base. Have a look here: https://hub.docker.com/_/openjdk","body":"There is some samples using the openJDK docker image as base. Have a look here: <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">hub.docker.com/_/openjdk</a>"}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647825462,"creation_date":1647823976,"answer_id":71551802,"question_id":71551558,"body_markdown":"In theory you actually only need a container with a JVM (or the relevant parts of it) and your one Java file.\r\n\r\n## Building Java Application (Replace Maven)\r\nThe thing that you need to do different is the compilation/ packaging as you don&#39;t have Maven. But if you only have one `.java` file and no dependencies this is fairly straightforward. You could simply compile your application using `javac` and then run it using `java`.\r\nHere a quick walkthrough for a HelloWorld application which would resemble your project: one `.java` file, no dependencies.\r\n\r\nApplication.java\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n### Compilation\r\nUse `javac` to get `Application.class`\r\n```bash\r\njavac Application.java\r\n```\r\nOptionally you could now create a `.jar` file for your application.\r\n```bash\r\njar -cvf Application.jar Application.class\r\n```\r\n\r\n### Run it\r\nOnce you have `Application.class` you can simply run it using `java`.\r\n```bash\r\njava Application\r\n```\r\nor for a `.jar` file\r\n```bash\r\njava -jar Application.jar\r\n```\r\n\r\n## JVM\r\nSo you can now build your Java application the only real question is which image you start your Docker image off. You need a `JVM` to run it and `javac` to build it, nothing else. \r\nYou could use pre-built images like [eclipse-termurin](https://hub.docker.com/_/eclipse-temurin?tab=description) then your Docker image would look something like this. I am using my little HelloWorld application here.\r\n\r\n&gt; Note: This is using Java 11, you will need to do some adjustments for later Java versions. \r\n\r\nDockerfile\r\n```Dockerfile\r\n# Multi-stage docker build\r\n# this is the image we are using to build the docker image\r\nFROM eclipse-temurin:11 as builder\r\n# make a folder for the build\r\nRUN mkdir /opt/build\r\nCOPY Application.java /opt/build/Application.java\r\nRUN javac /opt/build/Application.java\r\n\r\n# this is the actual production docker image\r\nFROM eclipse-temurin:11\r\nENV APP_HOME=/opt/app\r\n# make a folder for the application\r\nRUN mkdir ${APP_HOME}\r\n# copy the built application over from the builder image\r\nCOPY --from=builder /opt/build/Application.class  /opt/app/Application.class\r\n# Not required for my application but your web server\r\n# The next line exposes port 8080 (if uncommented)\r\n# EXPOSE 8080\r\n# this is run on docker run\r\nCMD cd $APP_HOME &amp;&amp; java Application\r\n```\r\nUsing this Dockerfile you will then be able to to build the image (when you are in the directory of your Dockerfile)\r\n```bash\r\ndocker build -t test/java .\r\n``` \r\nAnd last but not least run it.\r\n```bash\r\ndocker run --rm test/java\r\n```\r\nFor your web server you would need to provide a port mapping using option `-p` like `-p 8080:8080` as well.\r\n\r\nThis will print\r\n```\r\nHello World!\r\n```\r\n\r\nThe relevant part is the `FROM`. There are many options out there.\r\n1. Start from a OS image\r\n\r\nYou could start from a simple OS image like Ubuntu or Alpine Linux install a JVM using e.g. apt repository, binaries or whatever and then build your project and run it as shown above.\r\n\r\n2. Start from pre-built image\r\n\r\nThere are small pre-built images with a JVM already ready for use out there e.g. [Eclipse-Termurin](https://hub.docker.com/_/eclipse-temurin?tab=description) or [OpenJDK](https://hub.docker.com/_/openjdk), some of which are actually outdated and you would need to choose the right tag for your desired java version. As explained on DockerHub for Eclipse Termurin you could also build your own JVM using **jlink** which might give you an even smaller container.\r\n\r\n3. Distroless images\r\n\r\nAll those abovementioned options are actually bigger or smaller Linux distributions with a JVM running, but there also are [Distroless containers](https://github.com/GoogleContainerTools/distroless) which are quite small and there is no shell or other unnecessary stuff for your application installed. \r\n\r\nThere are also some best practices for building good Docker container which focus on areas such as security, image size, caching etc. so it is certainly worth exploring those, as the Dockerfile I have shown you is by no means production ready, but it works and will help you get started.  ","title":"Docker a framework-less Java REST API","body":"<p>In theory you actually only need a container with a JVM (or the relevant parts of it) and your one Java file.</p>\n<h2>Building Java Application (Replace Maven)</h2>\n<p>The thing that you need to do different is the compilation/ packaging as you don't have Maven. But if you only have one <code>.java</code> file and no dependencies this is fairly straightforward. You could simply compile your application using <code>javac</code> and then run it using <code>java</code>.\nHere a quick walkthrough for a HelloWorld application which would resemble your project: one <code>.java</code> file, no dependencies.</p>\n<p>Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<h3>Compilation</h3>\n<p>Use <code>javac</code> to get <code>Application.class</code></p>\n<pre class=\"lang-sh prettyprint-override\"><code>javac Application.java\n</code></pre>\n<p>Optionally you could now create a <code>.jar</code> file for your application.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jar -cvf Application.jar Application.class\n</code></pre>\n<h3>Run it</h3>\n<p>Once you have <code>Application.class</code> you can simply run it using <code>java</code>.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java Application\n</code></pre>\n<p>or for a <code>.jar</code> file</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar Application.jar\n</code></pre>\n<h2>JVM</h2>\n<p>So you can now build your Java application the only real question is which image you start your Docker image off. You need a <code>JVM</code> to run it and <code>javac</code> to build it, nothing else.\nYou could use pre-built images like <a href=\"https://hub.docker.com/_/eclipse-temurin?tab=description\" rel=\"nofollow noreferrer\">eclipse-termurin</a> then your Docker image would look something like this. I am using my little HelloWorld application here.</p>\n<blockquote>\n<p>Note: This is using Java 11, you will need to do some adjustments for later Java versions.</p>\n</blockquote>\n<p>Dockerfile</p>\n<pre><code># Multi-stage docker build\n# this is the image we are using to build the docker image\nFROM eclipse-temurin:11 as builder\n# make a folder for the build\nRUN mkdir /opt/build\nCOPY Application.java /opt/build/Application.java\nRUN javac /opt/build/Application.java\n\n# this is the actual production docker image\nFROM eclipse-temurin:11\nENV APP_HOME=/opt/app\n# make a folder for the application\nRUN mkdir ${APP_HOME}\n# copy the built application over from the builder image\nCOPY --from=builder /opt/build/Application.class  /opt/app/Application.class\n# Not required for my application but your web server\n# The next line exposes port 8080 (if uncommented)\n# EXPOSE 8080\n# this is run on docker run\nCMD cd $APP_HOME &amp;&amp; java Application\n</code></pre>\n<p>Using this Dockerfile you will then be able to to build the image (when you are in the directory of your Dockerfile)</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker build -t test/java .\n</code></pre>\n<p>And last but not least run it.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker run --rm test/java\n</code></pre>\n<p>For your web server you would need to provide a port mapping using option <code>-p</code> like <code>-p 8080:8080</code> as well.</p>\n<p>This will print</p>\n<pre><code>Hello World!\n</code></pre>\n<p>The relevant part is the <code>FROM</code>. There are many options out there.</p>\n<ol>\n<li>Start from a OS image</li>\n</ol>\n<p>You could start from a simple OS image like Ubuntu or Alpine Linux install a JVM using e.g. apt repository, binaries or whatever and then build your project and run it as shown above.</p>\n<ol start=\"2\">\n<li>Start from pre-built image</li>\n</ol>\n<p>There are small pre-built images with a JVM already ready for use out there e.g. <a href=\"https://hub.docker.com/_/eclipse-temurin?tab=description\" rel=\"nofollow noreferrer\">Eclipse-Termurin</a> or <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">OpenJDK</a>, some of which are actually outdated and you would need to choose the right tag for your desired java version. As explained on DockerHub for Eclipse Termurin you could also build your own JVM using <strong>jlink</strong> which might give you an even smaller container.</p>\n<ol start=\"3\">\n<li>Distroless images</li>\n</ol>\n<p>All those abovementioned options are actually bigger or smaller Linux distributions with a JVM running, but there also are <a href=\"https://github.com/GoogleContainerTools/distroless\" rel=\"nofollow noreferrer\">Distroless containers</a> which are quite small and there is no shell or other unnecessary stuff for your application installed.</p>\n<p>There are also some best practices for building good Docker container which focus on areas such as security, image size, caching etc. so it is certainly worth exploring those, as the Dockerfile I have shown you is by no means production ready, but it works and will help you get started.</p>\n"}],"owner":{"account_id":8964776,"reputation":43,"user_id":6685913,"display_name":"darrenpw23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1647847688,"accepted_answer_id":71551802,"answer_count":1,"score":-2,"last_activity_date":1647825462,"creation_date":1647820790,"question_id":71551558,"body_markdown":"I have a Java RESTful API project, not using any framework or project management like Maven or Gradle. It&#39;s just one .java file being compiled and run.\r\n\r\nI have been tasked to Dockerize it, but cannot find any articles or tutorials showing how to do it in my case. All articles make use of Spring and Maven.\r\n\r\nCan someone please point me in the right direction?\r\n\r\nP.S. I&#39;m not using an IDE; I&#39;m using VSCode and its Java Extensions.","title":"Docker a framework-less Java REST API","body":"<p>I have a Java RESTful API project, not using any framework or project management like Maven or Gradle. It's just one .java file being compiled and run.</p>\n<p>I have been tasked to Dockerize it, but cannot find any articles or tutorials showing how to do it in my case. All articles make use of Spring and Maven.</p>\n<p>Can someone please point me in the right direction?</p>\n<p>P.S. I'm not using an IDE; I'm using VSCode and its Java Extensions.</p>\n"},{"tags":["java","multithreading","synchronization","synchronized"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1490836013,"post_id":43106742,"comment_id":73294659,"body_markdown":"There&#39;s no such thing as an `atomic` attribute. Atomicity is a concept.","body":"There&#39;s no such thing as an <code>atomic</code> attribute. Atomicity is a concept."},{"owner":{"account_id":9839035,"reputation":63,"user_id":7288514,"display_name":"FaceFTW"},"score":0,"creation_date":1490836505,"post_id":43106742,"comment_id":73294775,"body_markdown":"@shmosel https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html","body":"@shmosel <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1490836667,"post_id":43106742,"comment_id":73294811,"body_markdown":"What&#39;s your point?","body":"What&#39;s your point?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490836712,"post_id":43106742,"comment_id":73294819,"body_markdown":"There is nothing in that link about an &#39;`atomic` attribute&#39;, or indeed about any attribute at all. You are making it up.","body":"There is nothing in that link about an &#39;<code>atomic</code> attribute&#39;, or indeed about any attribute at all. You are making it up."},{"owner":{"account_id":10504224,"reputation":294,"user_id":7741985,"display_name":"Mikenno"},"score":0,"creation_date":1490839611,"post_id":43106742,"comment_id":73295499,"body_markdown":"Possible duplicate of [Synchronization while using AtomicInteger](http://stackoverflow.com/questions/17253260/synchronization-while-using-atomicinteger)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/17253260/synchronization-while-using-atomicinteger\">Synchronization while using AtomicInteger</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490839904,"post_id":43106742,"comment_id":73295571,"body_markdown":"@Mikenno I see no evidence of that, and I see no point in guessing about it. He has clearly stated a (mistaken) belief in the existence of an &#39;`atomic` *attribute*&#39;, on &#39;*methods*&#39;, and I am here quoting his words. It&#39;s up to the OP to clarify his question if he thinks it has been misunderstood.","body":"@Mikenno I see no evidence of that, and I see no point in guessing about it. He has clearly stated a (mistaken) belief in the existence of an &#39;<code>atomic</code> <i>attribute</i>&#39;, on &#39;<i>methods</i>&#39;, and I am here quoting his words. It&#39;s up to the OP to clarify his question if he thinks it has been misunderstood."},{"owner":{"account_id":10504224,"reputation":294,"user_id":7741985,"display_name":"Mikenno"},"score":0,"creation_date":1490840070,"post_id":43106742,"comment_id":73295609,"body_markdown":"@EJP right, i suppose, still new at this apreciate the advice and pointers","body":"@EJP right, i suppose, still new at this apreciate the advice and pointers"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1490840288,"creation_date":1490839646,"answer_id":43107267,"question_id":43106742,"body_markdown":"The linked article is describing a category of different actions that result in all-or-nothing changes. There is no atomic keyword and no concept of designating a method as atomic.\r\n\r\nIt wouldn&#39;t make sense to worry about whether something on a synchronized block was executed atomically because the synchronization should be providing sufficient guarantees of excluding other threads and making changes visible across threads; if no other threads can access an object while it&#39;s changing it does not matter if the change is atomic.\r\n\r\nYou could combine atomic variables with synchronized methods or blocks. Say you want to expose a counter that is incremented within a synchronized method so other threads can get its current value without acquiring the lock. Using an AtomicInteger for the counter would update its value and make it visible even while the current thread is still executing the synchronized method.\r\n","title":"Why can&#39;t `atomic` and `synchronized` attributes be applied to the same method","body":"<p>The linked article is describing a category of different actions that result in all-or-nothing changes. There is no atomic keyword and no concept of designating a method as atomic.</p>\n\n<p>It wouldn't make sense to worry about whether something on a synchronized block was executed atomically because the synchronization should be providing sufficient guarantees of excluding other threads and making changes visible across threads; if no other threads can access an object while it's changing it does not matter if the change is atomic.</p>\n\n<p>You could combine atomic variables with synchronized methods or blocks. Say you want to expose a counter that is incremented within a synchronized method so other threads can get its current value without acquiring the lock. Using an AtomicInteger for the counter would update its value and make it visible even while the current thread is still executing the synchronized method.</p>\n"}],"owner":{"account_id":9839035,"reputation":63,"user_id":7288514,"display_name":"FaceFTW"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":43107267,"answer_count":1,"score":-5,"last_activity_date":1647824916,"creation_date":1490835980,"question_id":43106742,"body_markdown":"In Java, threading is one of the fundamental topics within the language. The two commonly used attributes associated with this topic is `atomic` and `synchronized`, which are used for different purposes. As I understand it, `atomic` methods must execute in its entirety, whereas `synchronized` methods place a &quot;lock&quot; on the objects used with the method, preventing other threads from causing memory errors or interference. My question is why can&#39;t the `atomic` and `synchronized` attributes be used in the same method declaration.","title":"Why can&#39;t `atomic` and `synchronized` attributes be applied to the same method","body":"<p>In Java, threading is one of the fundamental topics within the language. The two commonly used attributes associated with this topic is <code>atomic</code> and <code>synchronized</code>, which are used for different purposes. As I understand it, <code>atomic</code> methods must execute in its entirety, whereas <code>synchronized</code> methods place a \"lock\" on the objects used with the method, preventing other threads from causing memory errors or interference. My question is why can't the <code>atomic</code> and <code>synchronized</code> attributes be used in the same method declaration.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":16549355,"reputation":13,"user_id":11958105,"display_name":"S Mej&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647824116,"creation_date":1647824116,"answer_id":71551814,"question_id":67716343,"body_markdown":"Here are my solutions:\r\n\r\nClasses:\r\n\r\n```\r\npublic class Message {\r\n    private String level;\r\n    private List&lt;MessageData&gt; messages;\r\n}\r\n\r\npublic class MessageData {\r\n    private String appId;\r\n    private long dateCreated;\r\n    private String type;\r\n}\r\n\r\n\r\npublic class Event {\r\n    private String type;\r\n    private String processId;\r\n    private List&lt;EventData&gt; events;\r\n}\r\n\r\npublic class EventData {\r\n    private String name;\r\n    private long dateCreated;\r\n}\r\n\r\n```\r\n\r\nSolution #1: Using Context\r\n\r\n```\r\n@Mapper\r\npublic interface MessageMapper2 {\r\n    @Mapping(target = &quot;level&quot;, constant = &quot;MEDIUM&quot;)\r\n    @Mapping(target = &quot;messages&quot;, source = &quot;event&quot;, qualifiedByName = &quot;mapEventsToMessages&quot;)\r\n    Message mapEvenToMessage(Event event, @Context String progressId);\r\n\r\n    List&lt;MessageData&gt; mapEventsToMessages(List&lt;EventData&gt; events, @Context String progressId);\r\n\r\n\r\n    @Mapping(target = &quot;type&quot;, source = &quot;name&quot;)\r\n    @Mapping(target = &quot;appId&quot;, expression = &quot;java(progressId)&quot;)\r\n    MessageData mapEventDataToMessageData(EventData eventData, @Context String progressId);\r\n\r\n}\r\n```\r\n\r\nSolution #2: If the property is inside the source object, this solution will work\r\n\r\nmessageData.appId = event.processId\r\n\r\n```\r\n@Mapper\r\npublic interface MessageMapper {\r\n\r\n        @Mapping(target = &quot;level&quot;, constant = &quot;MEDIUM&quot;)\r\n        @Mapping(target = &quot;messages&quot;, source = &quot;event&quot;, qualifiedByName = &quot;mapEventsToMessages&quot;)\r\n        Message mapEvenToMessage(Event event);\r\n\r\n        @Named(&quot;mapEventsToMessages&quot;)\r\n        default List&lt;MessageData&gt; mapEventsToMessages(Event event) {\r\n               return event.getEvents().stream()\r\n                        .map(eventData -&gt; new MessageData(event.getProcessId(), eventData.getDateCreated(), eventData.getName()))\r\n                        .collect(Collectors.toList());\r\n        }\r\n}\r\n\r\n```","title":"How pass parameter from List mapper method to Object mapper method in Java mapstruct","body":"<p>Here are my solutions:</p>\n<p>Classes:</p>\n<pre><code>public class Message {\n    private String level;\n    private List&lt;MessageData&gt; messages;\n}\n\npublic class MessageData {\n    private String appId;\n    private long dateCreated;\n    private String type;\n}\n\n\npublic class Event {\n    private String type;\n    private String processId;\n    private List&lt;EventData&gt; events;\n}\n\npublic class EventData {\n    private String name;\n    private long dateCreated;\n}\n\n</code></pre>\n<p>Solution #1: Using Context</p>\n<pre><code>@Mapper\npublic interface MessageMapper2 {\n    @Mapping(target = &quot;level&quot;, constant = &quot;MEDIUM&quot;)\n    @Mapping(target = &quot;messages&quot;, source = &quot;event&quot;, qualifiedByName = &quot;mapEventsToMessages&quot;)\n    Message mapEvenToMessage(Event event, @Context String progressId);\n\n    List&lt;MessageData&gt; mapEventsToMessages(List&lt;EventData&gt; events, @Context String progressId);\n\n\n    @Mapping(target = &quot;type&quot;, source = &quot;name&quot;)\n    @Mapping(target = &quot;appId&quot;, expression = &quot;java(progressId)&quot;)\n    MessageData mapEventDataToMessageData(EventData eventData, @Context String progressId);\n\n}\n</code></pre>\n<p>Solution #2: If the property is inside the source object, this solution will work</p>\n<p>messageData.appId = event.processId</p>\n<pre><code>@Mapper\npublic interface MessageMapper {\n\n        @Mapping(target = &quot;level&quot;, constant = &quot;MEDIUM&quot;)\n        @Mapping(target = &quot;messages&quot;, source = &quot;event&quot;, qualifiedByName = &quot;mapEventsToMessages&quot;)\n        Message mapEvenToMessage(Event event);\n\n        @Named(&quot;mapEventsToMessages&quot;)\n        default List&lt;MessageData&gt; mapEventsToMessages(Event event) {\n               return event.getEvents().stream()\n                        .map(eventData -&gt; new MessageData(event.getProcessId(), eventData.getDateCreated(), eventData.getName()))\n                        .collect(Collectors.toList());\n        }\n}\n\n</code></pre>\n"}],"owner":{"account_id":6069196,"reputation":59,"user_id":4738573,"display_name":"art"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647824116,"creation_date":1622094480,"question_id":67716343,"body_markdown":"I cannot pass some common parameter from List mapper (String company) to Object mapper\r\n\r\n    @Mapper\r\n    public abstract class EmployeeMapper {\r\n    public abstract Employee getEmployeeFromDTO(EmployeeDTO employeeDTO, String \r\n    company);\r\n    @AfterMapping\r\n    public void addCompany(@MappingTarget Employee employee, String company) {\r\n\t   employee.setCompany(company);\r\n    }\r\n    public abstract List&lt;Employee&gt; getEmployeeFromDTOs(List&lt;EmployeeDTO&gt; employeeDTOs, \r\n    String company);\r\n    }\r\n\r\n\r\nAt first I used interface not abstract class. And there were no @AfterMapping method. Indeed I do not know how correctly pass it as @Context String company. Is it possible without @Context and @AfterMapping, or at least with it?\r\nSo my question is exactly how pass  &quot;String company&quot; when list mapper getEmployeeFromDTOs would call in sequence &quot;item&quot; mapper getEmployeeFromDTO. If it would be passed to last method I would easily map common &quot;company&quot; to Employee as constant with @Mapping as EmployeeDTO has no such data. The other way around I suppose is to use @Context and @AfterMapping.\r\nIn this case should I put @AfterMapping method before or after relative mapping method? Whether I should put @AfterMapping method inside Employee/EmployeeDTO class?","title":"How pass parameter from List mapper method to Object mapper method in Java mapstruct","body":"<p>I cannot pass some common parameter from List mapper (String company) to Object mapper</p>\n<pre><code>@Mapper\npublic abstract class EmployeeMapper {\npublic abstract Employee getEmployeeFromDTO(EmployeeDTO employeeDTO, String \ncompany);\n@AfterMapping\npublic void addCompany(@MappingTarget Employee employee, String company) {\n   employee.setCompany(company);\n}\npublic abstract List&lt;Employee&gt; getEmployeeFromDTOs(List&lt;EmployeeDTO&gt; employeeDTOs, \nString company);\n}\n</code></pre>\n<p>At first I used interface not abstract class. And there were no @AfterMapping method. Indeed I do not know how correctly pass it as @Context String company. Is it possible without @Context and @AfterMapping, or at least with it?\nSo my question is exactly how pass  &quot;String company&quot; when list mapper getEmployeeFromDTOs would call in sequence &quot;item&quot; mapper getEmployeeFromDTO. If it would be passed to last method I would easily map common &quot;company&quot; to Employee as constant with @Mapping as EmployeeDTO has no such data. The other way around I suppose is to use @Context and @AfterMapping.\nIn this case should I put @AfterMapping method before or after relative mapping method? Whether I should put @AfterMapping method inside Employee/EmployeeDTO class?</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647712405,"post_id":71540581,"comment_id":126441778,"body_markdown":"Do you understand [`Object`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html) is a class pre-defined in Java?","body":"Do you understand <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\"><code>Object</code></a> is a class pre-defined in Java?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647716321,"post_id":71540581,"comment_id":126442661,"body_markdown":"The real answer here is: the compiler **only** knows that the `item` in your Item class is of type **Object**. Go lookup the javadoc for java.lang.Object and check for the methods that you find in there. The compiler doesn&#39;t know that AT RUNTIME, that `item` refers to this or that specific other class. So the real point here is: you should do a bit of research on the java type system, and how everything is a subclass of Object somehow.","body":"The real answer here is: the compiler <b>only</b> knows that the <code>item</code> in your Item class is of type <b>Object</b>. Go lookup the javadoc for java.lang.Object and check for the methods that you find in there. The compiler doesn&#39;t know that AT RUNTIME, that <code>item</code> refers to this or that specific other class. So the real point here is: you should do a bit of research on the java type system, and how everything is a subclass of Object somehow."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647712432,"creation_date":1647712432,"answer_id":71540649,"question_id":71540581,"body_markdown":"If you know that this is an Object1, you can cast it, like\r\n\r\n    print(&quot;&quot; + ((Object1)list.get(i).access()).getNum());\r\n\r\nIf you don&#39;t know it&#39;s an Object1, you can use instanceof\r\n\r\n    if (list.get(i).access() instanceof Object1) {\r\n      ...\r\n    }\r\n\r\nFinally, in the case where you know nothing, there is a way introspect an Object&#39;s methods\r\n\r\n    list.get(i).access().getClass().getMethods();\r\n\r\n","title":"Access Object1 methods from a returned Object","body":"<p>If you know that this is an Object1, you can cast it, like</p>\n<pre><code>print(&quot;&quot; + ((Object1)list.get(i).access()).getNum());\n</code></pre>\n<p>If you don't know it's an Object1, you can use instanceof</p>\n<pre><code>if (list.get(i).access() instanceof Object1) {\n  ...\n}\n</code></pre>\n<p>Finally, in the case where you know nothing, there is a way introspect an Object's methods</p>\n<pre><code>list.get(i).access().getClass().getMethods();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647716025,"creation_date":1647716025,"answer_id":71541109,"question_id":71540581,"body_markdown":"With Java 17, you can try this (with preview being activated):\r\n\r\n```Java\r\n…\r\nswitch( list.get( i ).access() )\r\n{\r\n  case Object1 object1 -&gt; object1.getNum();\r\n  case Object2 object2 -&gt; object2. … // whatever method fits …\r\n  case Object3 object3 -&gt; object3. …\r\n  case null -&gt; throw new Error( &quot;access() returned null&quot; );\r\n  default -&gt; throw new Error( &quot;No clue what accessed() returned …&quot;;\r\n}\r\n```\r\n\r\nThe keyword here is &quot;pattern matching for switch&quot;, and I think it is a nice feature to solve problems like yours – although I personally prefer to avoid such designs whenever possible.","title":"Access Object1 methods from a returned Object","body":"<p>With Java 17, you can try this (with preview being activated):</p>\n<pre><code>…\nswitch( list.get( i ).access() )\n{\n  case Object1 object1 -&gt; object1.getNum();\n  case Object2 object2 -&gt; object2. … // whatever method fits …\n  case Object3 object3 -&gt; object3. …\n  case null -&gt; throw new Error( &quot;access() returned null&quot; );\n  default -&gt; throw new Error( &quot;No clue what accessed() returned …&quot;;\n}\n</code></pre>\n<p>The keyword here is &quot;pattern matching for switch&quot;, and I think it is a nice feature to solve problems like yours – although I personally prefer to avoid such designs whenever possible.</p>\n"}],"owner":{"account_id":20882148,"reputation":3,"user_id":15339608,"display_name":"Eirals"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71540649,"answer_count":2,"score":0,"last_activity_date":1647823573,"creation_date":1647711913,"question_id":71540581,"body_markdown":"I have to make a list of objects, `Object1`, `Object2`, `Object3`. \r\n\r\n```\r\nclass Object1 {\r\n    private String str;\r\n    private double num;\r\n    \r\n    public Object1(...){\r\n    ...\r\n    }\r\n\r\n    public double getNum(){\r\n        return this.num;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return String.format(&quot; String: %s, Number %.2f&quot;, this.str, this.num);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn order to do this I created another class `Item` which, depending on the input of the constructor, initializes either `Object1` or `Object2` and so on and instantiate an `access()` method that returns said object.\r\n\r\n```\r\nclass Item{\r\n    private Object item;\r\n    \r\n    public Item(String str, double num){\r\n        item = new Object1(str, num);\r\n    }\r\n\r\n    public Item(String str, double num, int num1){\r\n        item = new Object2(str, num, num1);\r\n    }\r\n\r\n    ...\r\n\r\n    public Object access(){\r\n        return item;\r\n    }\r\n}\r\n```\r\n\r\nIn the Main if I access the item `toString` it gives back the right output, but I cannot access any other methods of `Object1` etc.\r\n\r\n```none\r\nprint(list.get(i).access().toString());\r\n\r\n&gt;&gt;&gt; String: Something, Number: 99.92\r\n\r\nprint(&quot;&quot; + list.get(i).access().getNum());\r\n\r\n&gt;&gt;&gt; Cannot resolve method getNum() in Object\r\n```\r\n\r\nHow can I do this properly?","title":"Access Object1 methods from a returned Object","body":"<p>I have to make a list of objects, <code>Object1</code>, <code>Object2</code>, <code>Object3</code>.</p>\n<pre><code>class Object1 {\n    private String str;\n    private double num;\n    \n    public Object1(...){\n    ...\n    }\n\n    public double getNum(){\n        return this.num;\n    }\n\n    @Override\n    public String toString(){\n        return String.format(&quot; String: %s, Number %.2f&quot;, this.str, this.num);\n    }\n\n}\n</code></pre>\n<p>In order to do this I created another class <code>Item</code> which, depending on the input of the constructor, initializes either <code>Object1</code> or <code>Object2</code> and so on and instantiate an <code>access()</code> method that returns said object.</p>\n<pre><code>class Item{\n    private Object item;\n    \n    public Item(String str, double num){\n        item = new Object1(str, num);\n    }\n\n    public Item(String str, double num, int num1){\n        item = new Object2(str, num, num1);\n    }\n\n    ...\n\n    public Object access(){\n        return item;\n    }\n}\n</code></pre>\n<p>In the Main if I access the item <code>toString</code> it gives back the right output, but I cannot access any other methods of <code>Object1</code> etc.</p>\n<pre class=\"lang-none prettyprint-override\"><code>print(list.get(i).access().toString());\n\n&gt;&gt;&gt; String: Something, Number: 99.92\n\nprint(&quot;&quot; + list.get(i).access().getNum());\n\n&gt;&gt;&gt; Cannot resolve method getNum() in Object\n</code></pre>\n<p>How can I do this properly?</p>\n"},{"tags":["java","search","iteration","binary-search-tree"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647820405,"post_id":71551526,"comment_id":126460567,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1647821494,"post_id":71551526,"comment_id":126460705,"body_markdown":"As well as the problem mentioned in Cezar Todirisca&#39;s answer, you are assigning values to `root`, but checking `subRoot`.  It seems to me that you should be checking the variable you&#39;ve just assigned - that is, use `subRoot` everywhere you&#39;ve used `root`.","body":"As well as the problem mentioned in Cezar Todirisca&#39;s answer, you are assigning values to <code>root</code>, but checking <code>subRoot</code>.  It seems to me that you should be checking the variable you&#39;ve just assigned - that is, use <code>subRoot</code> everywhere you&#39;ve used <code>root</code>."}],"answers":[{"tags":[],"owner":{"account_id":18883218,"reputation":191,"user_id":13775206,"display_name":"Cezar Todirisca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647820413,"creation_date":1647820413,"answer_id":71551542,"question_id":71551526,"body_markdown":"The problem is that you initialize subRoot with null before the while loop, so when you check the condition it will always be false, therefore going to the end of the function","title":"I want to search for values in binary search tree using iteration","body":"<p>The problem is that you initialize subRoot with null before the while loop, so when you check the condition it will always be false, therefore going to the end of the function</p>\n"},{"tags":[],"owner":{"account_id":19692117,"reputation":82,"user_id":14416830,"display_name":"David Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647823110,"creation_date":1647823110,"answer_id":71551726,"question_id":71551526,"body_markdown":"Not having more input this is everything I can do.\r\nYou forgot to assign subRoot to root at the beginning.\r\nYou here assigning values to your root in the loop this would lead to loss of data and most likely a infinite-loop.\r\nPlus your else statement had no brakets, so it would always return true if you entered the loop.\r\n\r\n    public boolean search(int key) {\r\n    BinaryTreeNode subRoot = root;\r\n          \r\n        while (subRoot != null)  \r\n        {  \r\n             \r\n            if (key &gt; subRoot.getData()) \r\n                subRoot = subRoot.getRight();             \r\n            else if (key &lt; subRoot.getData())  \r\n                subRoot = subRoot.getLeft();  \r\n            else{\r\n                System.out.println(&quot;Searching for &quot; + key + &quot;: found&quot;);\r\n                return true;\r\n            } \r\n        }  \r\n        System.out.println(&quot;Searching for &quot; + key + &quot;: NOT found&quot;);\r\n        return false;  \r\n    \r\n    }","title":"I want to search for values in binary search tree using iteration","body":"<p>Not having more input this is everything I can do.\nYou forgot to assign subRoot to root at the beginning.\nYou here assigning values to your root in the loop this would lead to loss of data and most likely a infinite-loop.\nPlus your else statement had no brakets, so it would always return true if you entered the loop.</p>\n<pre><code>public boolean search(int key) {\nBinaryTreeNode subRoot = root;\n      \n    while (subRoot != null)  \n    {  \n         \n        if (key &gt; subRoot.getData()) \n            subRoot = subRoot.getRight();             \n        else if (key &lt; subRoot.getData())  \n            subRoot = subRoot.getLeft();  \n        else{\n            System.out.println(&quot;Searching for &quot; + key + &quot;: found&quot;);\n            return true;\n        } \n    }  \n    System.out.println(&quot;Searching for &quot; + key + &quot;: NOT found&quot;);\n    return false;  \n\n}\n</code></pre>\n"}],"owner":{"account_id":21938014,"reputation":5,"user_id":18304827,"display_name":"user16218933"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551726,"answer_count":2,"score":0,"last_activity_date":1647823110,"creation_date":1647820128,"question_id":71551526,"body_markdown":"Hello I wrote this method to search for values in my binary search tree but it is always returning false whether the value is found in my bst or not. can someone please tell me what&#39;s my mistake and how I can fix it.\r\n\r\n    \tpublic boolean search(int key) {\r\n\t\tBinaryTreeNode subRoot = null;\r\n\t\t      \r\n\t\t    while (subRoot != null)  \r\n\t\t    {  \r\n\t\t         \r\n\t\t        if (key &gt; subRoot.getData()) {\r\n\t\t            root = subRoot.getRight();  \r\n\t\t        }\r\n\t\t         \r\n\t\t        else if (key &lt; subRoot.getData())  \r\n\t\t            root = subRoot.getLeft();  \r\n\t\t        else\r\n\t\t        \tSystem.out.println(&quot;Searching for &quot; + key + &quot;: found&quot;);\r\n\t\t            return true; \r\n\t\t    }  \r\n\t\t    System.out.println(&quot;Searching for &quot; + key + &quot;: NOT found&quot;);\r\n\t\t    return false;  \r\n\t\t\r\n\t}","title":"I want to search for values in binary search tree using iteration","body":"<p>Hello I wrote this method to search for values in my binary search tree but it is always returning false whether the value is found in my bst or not. can someone please tell me what's my mistake and how I can fix it.</p>\n<pre><code>    public boolean search(int key) {\n    BinaryTreeNode subRoot = null;\n          \n        while (subRoot != null)  \n        {  \n             \n            if (key &gt; subRoot.getData()) {\n                root = subRoot.getRight();  \n            }\n             \n            else if (key &lt; subRoot.getData())  \n                root = subRoot.getLeft();  \n            else\n                System.out.println(&quot;Searching for &quot; + key + &quot;: found&quot;);\n                return true; \n        }  \n        System.out.println(&quot;Searching for &quot; + key + &quot;: NOT found&quot;);\n        return false;  \n    \n}\n</code></pre>\n"},{"tags":["java","servlets","jakarta-ee","web.xml"],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1647822606,"creation_date":1647808476,"answer_id":71550451,"question_id":71544097,"body_markdown":"# Example from Tomcat\r\n\r\nHere is what I am using in my *web.xml* file. \r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n        xmlns = &quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n        xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation = &quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n        version = &quot;5.0&quot;\r\n        metadata-complete = &quot;false&quot;\r\n&gt;\r\n    &lt;display-name&gt; Welcome to Tomcat&lt;/display-name&gt;\r\n    &lt;description&gt; Welcome to Tomcat&lt;/description&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThis example is based on the *web.xml* file found within the `ROOT` web app bundled with Tomcat 10.0.x. Read section [*8.1 Annotations and Pluggability*][1] of the [Jakarta Servlet 5 spec][2] to decide whether you want `metadata-complete` set to `true` or `false`. \r\n\r\n# Example in Servlet spec\r\n\r\nSee also an example of a deployment descriptor (web.xml) in section [*14.4.1. A Basic Example*][3] of the [Jakarta Servlet Specification, Version 5.0][2], Copyright (c) 2019, 2020 Eclipse Foundation.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee\r\n         web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n\r\n  &lt;display-name&gt;A Simple Application&lt;/display-name&gt;\r\n\r\n  &lt;context-param&gt;\r\n    &lt;param-name&gt;Webmaster&lt;/param-name&gt;\r\n    &lt;param-value&gt;webmaster@example.com&lt;/param-value&gt;\r\n  &lt;/context-param&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;catalog&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.CatalogServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;catalog&lt;/param-name&gt;\r\n      &lt;param-value&gt;Spring&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;catalog&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/catalog/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n  &lt;session-config&gt;\r\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n  &lt;/session-config&gt;\r\n\r\n  &lt;mime-mapping&gt;\r\n    &lt;extension&gt;pdf&lt;/extension&gt;\r\n    &lt;mime-type&gt;application/pdf&lt;/mime-type&gt;\r\n  &lt;/mime-mapping&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n\r\n  &lt;error-page&gt;\r\n    &lt;error-code&gt;404&lt;/error-code&gt;\r\n    &lt;location&gt;/404.html&lt;/location&gt;\r\n  &lt;/error-page&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#_Annotations_and_pluggability\r\n  [2]: https://jakarta.ee/specifications/servlet/5.0/\r\n  [3]: https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#a-basic-example","title":"Updating &quot;web.xml&quot; when transitioning from Java Servlet 4 to Jakarta Servlet 5","body":"<h1>Example from Tomcat</h1>\n<p>Here is what I am using in my <em>web.xml</em> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n        xmlns = &quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n        xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation = &quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n        version = &quot;5.0&quot;\n        metadata-complete = &quot;false&quot;\n&gt;\n    &lt;display-name&gt; Welcome to Tomcat&lt;/display-name&gt;\n    &lt;description&gt; Welcome to Tomcat&lt;/description&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>This example is based on the <em>web.xml</em> file found within the <code>ROOT</code> web app bundled with Tomcat 10.0.x. Read section <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#_Annotations_and_pluggability\" rel=\"noreferrer\"><em>8.1 Annotations and Pluggability</em></a> of the <a href=\"https://jakarta.ee/specifications/servlet/5.0/\" rel=\"noreferrer\">Jakarta Servlet 5 spec</a> to decide whether you want <code>metadata-complete</code> set to <code>true</code> or <code>false</code>.</p>\n<h1>Example in Servlet spec</h1>\n<p>See also an example of a deployment descriptor (web.xml) in section <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#a-basic-example\" rel=\"noreferrer\"><em>14.4.1. A Basic Example</em></a> of the <a href=\"https://jakarta.ee/specifications/servlet/5.0/\" rel=\"noreferrer\">Jakarta Servlet Specification, Version 5.0</a>, Copyright (c) 2019, 2020 Eclipse Foundation.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee\n         web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n\n  &lt;display-name&gt;A Simple Application&lt;/display-name&gt;\n\n  &lt;context-param&gt;\n    &lt;param-name&gt;Webmaster&lt;/param-name&gt;\n    &lt;param-value&gt;webmaster@example.com&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;catalog&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.CatalogServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;catalog&lt;/param-name&gt;\n      &lt;param-value&gt;Spring&lt;/param-value&gt;\n    &lt;/init-param&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;catalog&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/catalog/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n\n  &lt;mime-mapping&gt;\n    &lt;extension&gt;pdf&lt;/extension&gt;\n    &lt;mime-type&gt;application/pdf&lt;/mime-type&gt;\n  &lt;/mime-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/404.html&lt;/location&gt;\n  &lt;/error-page&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8922,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71550451,"answer_count":1,"score":6,"last_activity_date":1647822606,"creation_date":1647751192,"question_id":71544097,"body_markdown":"I am transitioning a simple Servlet from using Java Servlet 4 to [Jakarta Servlet 5][1]. \r\n\r\nI noticed my `web.xml` file has references to the 4 spec.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns = &quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation = &quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version = &quot;4.0&quot;&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n - What does that fragment do anyways?\r\n - How should I change those values to be appropriate the Jakarta Servlet 5?\r\n\r\nI expect those `javaee` &amp; `4` values should change. \r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/5.0/","title":"Updating &quot;web.xml&quot; when transitioning from Java Servlet 4 to Jakarta Servlet 5","body":"<p>I am transitioning a simple Servlet from using Java Servlet 4 to <a href=\"https://jakarta.ee/specifications/servlet/5.0/\" rel=\"noreferrer\">Jakarta Servlet 5</a>.</p>\n<p>I noticed my <code>web.xml</code> file has references to the 4 spec.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns = &quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation = &quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version = &quot;4.0&quot;&gt;\n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>What does that fragment do anyways?</li>\n<li>How should I change those values to be appropriate the Jakarta Servlet 5?</li>\n</ul>\n<p>I expect those <code>javaee</code> &amp; <code>4</code> values should change.</p>\n"},{"tags":["java","linux","swing","intellij-idea","gnome"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1647791387,"post_id":71547700,"comment_id":126454730,"body_markdown":"Short version: `Icon icon = new ImageIcon(&quot;/usr/share/icons/Adwaita/32x32/actions/document-open.png&quot;);`  Long version:  Parse the [theme file](https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html).  I don’t know if there exists a library to make it easier.","body":"Short version: <code>Icon icon = new ImageIcon(&quot;&#47;usr&#47;share&#47;icons&#47;Adwaita&#47;32x32&#47;actions&#47;document-o&zwnj;&#8203;pen.png&quot;);</code>  Long version:  Parse the <a href=\"https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html\" rel=\"nofollow noreferrer\">theme file</a>.  I don’t know if there exists a library to make it easier."},{"owner":{"account_id":21142227,"reputation":27,"user_id":15544342,"display_name":"Mattia Gamba"},"score":0,"creation_date":1647793686,"post_id":71547700,"comment_id":126455214,"body_markdown":"@VGR It works, thank you. Reply to the post if you want me to mark your answer as correct","body":"@VGR It works, thank you. Reply to the post if you want me to mark your answer as correct"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647800056,"creation_date":1647800056,"answer_id":71549411,"question_id":71547700,"body_markdown":"The simplest approach is to just use an icon file directly:\r\n\r\n    Icon icon = new ImageIcon(&quot;/usr/share/icons/Adwaita/32x32/actions/document-open.png&quot;);\r\n\r\nBut really, icons are more complicated than that.  There is [a whole specification](https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html) for how icon themes work.  It includes a moderately complex algorithm for matching a desired icon by type and size.\r\n\r\nJava SE has no way to read SVG images that I know of, so either you would need to locate a robust, stable SVG library for Java, or you would need to ignore a theme’s scalable directories.\r\n\r\nThe only way I know to obtain the end user’s current icon theme is with a command like:\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(\r\n        &quot;gsettings&quot;, &quot;get&quot;, &quot;org.gnome.desktop.interface&quot;, &quot;icon-theme&quot;);\r\n    builder.redirectError(ProcessBuilder.Redirect.INHERIT);\r\n\r\n    String themeName;\r\n    Process iconThemeCommand = builder.start();\r\n    try (InputStream commandOutput = iconThemeCommand.getInputStream()) {\r\n        themeName = new String(commandOutput.readAllBytes()).trim();\r\n    }\r\n    iconThemeCommand.waitFor();\r\n\r\nThere is also the problem of being multi-platform.  Obviously Windows and OSX won’t have a `/usr/share/icons/Adwaita` directory.  You can bundle an icon theme tree with your application, but it’s probably under GPL or a similar license, so you would have to release your software under that license (or never release it at all) and include a copy of that license with your program, along with a notice to users where to obtain your program’s source.\r\n","title":"How use system default icons pack in Java Swing?","body":"<p>The simplest approach is to just use an icon file directly:</p>\n<pre><code>Icon icon = new ImageIcon(&quot;/usr/share/icons/Adwaita/32x32/actions/document-open.png&quot;);\n</code></pre>\n<p>But really, icons are more complicated than that.  There is <a href=\"https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html\" rel=\"nofollow noreferrer\">a whole specification</a> for how icon themes work.  It includes a moderately complex algorithm for matching a desired icon by type and size.</p>\n<p>Java SE has no way to read SVG images that I know of, so either you would need to locate a robust, stable SVG library for Java, or you would need to ignore a theme’s scalable directories.</p>\n<p>The only way I know to obtain the end user’s current icon theme is with a command like:</p>\n<pre><code>ProcessBuilder builder = new ProcessBuilder(\n    &quot;gsettings&quot;, &quot;get&quot;, &quot;org.gnome.desktop.interface&quot;, &quot;icon-theme&quot;);\nbuilder.redirectError(ProcessBuilder.Redirect.INHERIT);\n\nString themeName;\nProcess iconThemeCommand = builder.start();\ntry (InputStream commandOutput = iconThemeCommand.getInputStream()) {\n    themeName = new String(commandOutput.readAllBytes()).trim();\n}\niconThemeCommand.waitFor();\n</code></pre>\n<p>There is also the problem of being multi-platform.  Obviously Windows and OSX won’t have a <code>/usr/share/icons/Adwaita</code> directory.  You can bundle an icon theme tree with your application, but it’s probably under GPL or a similar license, so you would have to release your software under that license (or never release it at all) and include a copy of that license with your program, along with a notice to users where to obtain your program’s source.</p>\n"},{"tags":[],"owner":{"account_id":19692117,"reputation":82,"user_id":14416830,"display_name":"David Almeida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647821912,"creation_date":1647821912,"answer_id":71551646,"question_id":71547700,"body_markdown":"Not completely sure if this is what you are asking but these will set the look and feel OS specific:\r\n\r\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());","title":"How use system default icons pack in Java Swing?","body":"<p>Not completely sure if this is what you are asking but these will set the look and feel OS specific:</p>\n<pre><code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n</code></pre>\n"}],"owner":{"account_id":21142227,"reputation":27,"user_id":15544342,"display_name":"Mattia Gamba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71549411,"answer_count":2,"score":0,"last_activity_date":1647821912,"creation_date":1647786856,"question_id":71547700,"body_markdown":"I want use the default icons of my OS (kali linux gnome) in my Java application. I don&#39;t know if need to import the entire icons pack or if i just use some java swing method.\r\nCan you explain to me how to proceed?","title":"How use system default icons pack in Java Swing?","body":"<p>I want use the default icons of my OS (kali linux gnome) in my Java application. I don't know if need to import the entire icons pack or if i just use some java swing method.\nCan you explain to me how to proceed?</p>\n"},{"tags":["java","error-handling","try-catch","discord-jda"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1647793270,"post_id":71548468,"comment_id":126455111,"body_markdown":"Please provide a [mcve]. We don&#39;t have the context of what you mean by &quot;the error gets generated&quot; or what method your code is in.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We don&#39;t have the context of what you mean by &quot;the error gets generated&quot; or what method your code is in."}],"answers":[{"tags":[],"owner":{"account_id":14373556,"reputation":66,"user_id":13059477,"display_name":"Ncgomez17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647794064,"creation_date":1647794064,"answer_id":71548587,"question_id":71548468,"body_markdown":"it is normal that you get everything you indicated since e.printStackTrace(),It&#39;s a method on Exception instances that prints the stack trace of the instance to System.err.\r\n\r\nIt&#39;s a very simple, but very useful tool for diagnosing an exceptions. It tells you what happened and where in the code this happened.\r\n\r\n\r\n    try {\r\n      throw new NullPointerException();\r\n    }\r\n    catch (NullPointerException e) {\r\n      System.out.println(e);\r\n    }\r\n\r\n    try {\r\n      throw new IOException();\r\n    }\r\n    catch (IOException e) {\r\n       e.printStackTrace();\r\n    }\r\n    System.exit(0);\r\n\r\n**Calling println(e):**\r\n\r\n    java.lang.NullPointerException\r\n\r\n**Calling e.printStackTrace():**\r\n\r\n    java.io.IOException\r\n          at package.Test.main(Test.java:74)","title":"Java try catch block not catching an exception","body":"<p>it is normal that you get everything you indicated since e.printStackTrace(),It's a method on Exception instances that prints the stack trace of the instance to System.err.</p>\n<p>It's a very simple, but very useful tool for diagnosing an exceptions. It tells you what happened and where in the code this happened.</p>\n<pre><code>try {\n  throw new NullPointerException();\n}\ncatch (NullPointerException e) {\n  System.out.println(e);\n}\n\ntry {\n  throw new IOException();\n}\ncatch (IOException e) {\n   e.printStackTrace();\n}\nSystem.exit(0);\n</code></pre>\n<p><strong>Calling println(e):</strong></p>\n<pre><code>java.lang.NullPointerException\n</code></pre>\n<p><strong>Calling e.printStackTrace():</strong></p>\n<pre><code>java.io.IOException\n      at package.Test.main(Test.java:74)\n</code></pre>\n"}],"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1928,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71548587,"answer_count":1,"score":-1,"last_activity_date":1647821827,"creation_date":1647793149,"question_id":71548468,"body_markdown":"I was making a command to clear messages using JDA. \r\nI made this code\r\n\r\n    public class Main {\r\n      public static JDA jda;\r\n      public static void main(String[] args) throws LoginException {\r\n      jda = JDABuilder.createDefault(&quot;OTM0ODA4NTY1ODYzMDM5MDA3.Ye1eUg.JExQxPx8UUli8YQfN7TfdbzLHqI&quot;).build();\r\n      jda.addEventListener(new CommandExecutor());\r\n    } }\r\n\r\n    public class CommandExecutor extends ListenerAdapter {\r\n    \tpublic static final String prefix = &quot;!-&quot;;\r\n    \tpublic void onMessageReceived(MessageReceivedEvent event) {\r\n    \t\tString[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\r\n    \t\tif (args[0].equalsIgnoreCase(prefix + &quot;clear&quot;))\r\n    \t\t\tnew Clear(event, args);\r\n    } }\r\n\r\n    public class Clear {\r\n    \tpublic Clear(MessageReceivedEvent event, String[] args) {\r\n    \t\ttry {\r\n    \t\t\tint numberOfMessages = Integer.parseInt(args[1]);\r\n    \t\t\tList&lt;Message&gt; messages = event.getChannel().getHistory().retrievePast(numberOfMessages + 1).complete();\r\n    \t\t\tevent.getChannel().purgeMessages(messages);\r\n    \t\t\tevent.getChannel().sendMessage(&quot;Messages have been deleted!&quot;).queue(m -&gt; m.delete().queueAfter(5, TimeUnit.SECONDS));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    } } }\r\n\r\n   \r\nThe code inside the try block will clear the messages if a valid argument is passed. In case an invalid argument is passed, like a string, it should go to the catch block and print the details of the exception. However, this does not happen, and the error gets generated.  \r\nHere is the error generated\r\n\r\n    java.lang.NumberFormatException: For input string: &quot;de&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:668) \r\n        at java.base/java.lang.Integer.parseInt(Integer.java:786) \r\n        at JDA.TelevisionBot.Commands.Clear.&lt;init&gt;(Clear.java:24) \r\n        at JDA.TelevisionBot.CommandExecutor.onMessageReceived(CommandExecutor.java:26)\r\n        at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:359)\r\n        at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n        at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:164)\r\n        at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:121)\r\n        at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:991)\r\n        at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n        at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n        at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n        at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n        at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n\r\nThanks in advance","title":"Java try catch block not catching an exception","body":"<p>I was making a command to clear messages using JDA.\nI made this code</p>\n<pre><code>public class Main {\n  public static JDA jda;\n  public static void main(String[] args) throws LoginException {\n  jda = JDABuilder.createDefault(&quot;OTM0ODA4NTY1ODYzMDM5MDA3.Ye1eUg.JExQxPx8UUli8YQfN7TfdbzLHqI&quot;).build();\n  jda.addEventListener(new CommandExecutor());\n} }\n\npublic class CommandExecutor extends ListenerAdapter {\n    public static final String prefix = &quot;!-&quot;;\n    public void onMessageReceived(MessageReceivedEvent event) {\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\n        if (args[0].equalsIgnoreCase(prefix + &quot;clear&quot;))\n            new Clear(event, args);\n} }\n\npublic class Clear {\n    public Clear(MessageReceivedEvent event, String[] args) {\n        try {\n            int numberOfMessages = Integer.parseInt(args[1]);\n            List&lt;Message&gt; messages = event.getChannel().getHistory().retrievePast(numberOfMessages + 1).complete();\n            event.getChannel().purgeMessages(messages);\n            event.getChannel().sendMessage(&quot;Messages have been deleted!&quot;).queue(m -&gt; m.delete().queueAfter(5, TimeUnit.SECONDS));\n        } catch (Exception e) {\n            e.printStackTrace();\n} } }\n</code></pre>\n<p>The code inside the try block will clear the messages if a valid argument is passed. In case an invalid argument is passed, like a string, it should go to the catch block and print the details of the exception. However, this does not happen, and the error gets generated.<br />\nHere is the error generated</p>\n<pre><code>java.lang.NumberFormatException: For input string: &quot;de&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668) \n    at java.base/java.lang.Integer.parseInt(Integer.java:786) \n    at JDA.TelevisionBot.Commands.Clear.&lt;init&gt;(Clear.java:24) \n    at JDA.TelevisionBot.CommandExecutor.onMessageReceived(CommandExecutor.java:26)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:359)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:164)\n    at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:121)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:991)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-kafka","akka"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647820989,"creation_date":1647820989,"answer_id":71551577,"question_id":71546627,"body_markdown":"A `SourceWithContext&lt;A, B, M&gt;` defines the stream operations which it supports  to only work on the `A` part of the value.\r\n\r\nSo if `f` is a function taking an `A` and returning a `C`, `.map(f)` results in a `SourceWithContext&lt;C, B, M&gt;`.\r\n\r\nUnder the hood, it&#39;s a `Source&lt;Pair&lt;A, B&gt;, M&gt;`.  `map` could be defined as something like (as always apologies for atrocious Java):\r\n\r\n```java\r\nprivate Source&lt;Pair&lt;A, B&gt;, M&gt; underlying;\r\n\r\npublic &lt;C&gt; SourceWithContext&lt;C, B, M&gt; map(Function&lt;A, C&gt; f) {\r\n    Source&lt;Pair&lt;C, B&gt;, M&gt; src =\r\n        underlying.map(pair -&gt; {\r\n            A a = pair.first();\r\n            C c = f(a);\r\n            return Pair.of&lt;C, B&gt;(c, pair.second()); // no idea if this is the correct Java syntax, but you get the idea\r\n        })\r\n    return SourceWithContext.fromPairs&lt;C, B, M&gt;(src);\r\n}\r\n```\r\n\r\nNote that the `f` never gets to see the `second` part of the `Pair`.  So long as every operation does the right thing with respect to the context, it just works.\r\n\r\nThere are operations where there&#39;s no unambiguous &quot;right thing&quot; to do.  An example of this is an operation which could reorder elements.","title":"Akka streams - why is the context not dropped?","body":"<p>A <code>SourceWithContext&lt;A, B, M&gt;</code> defines the stream operations which it supports  to only work on the <code>A</code> part of the value.</p>\n<p>So if <code>f</code> is a function taking an <code>A</code> and returning a <code>C</code>, <code>.map(f)</code> results in a <code>SourceWithContext&lt;C, B, M&gt;</code>.</p>\n<p>Under the hood, it's a <code>Source&lt;Pair&lt;A, B&gt;, M&gt;</code>.  <code>map</code> could be defined as something like (as always apologies for atrocious Java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Source&lt;Pair&lt;A, B&gt;, M&gt; underlying;\n\npublic &lt;C&gt; SourceWithContext&lt;C, B, M&gt; map(Function&lt;A, C&gt; f) {\n    Source&lt;Pair&lt;C, B&gt;, M&gt; src =\n        underlying.map(pair -&gt; {\n            A a = pair.first();\n            C c = f(a);\n            return Pair.of&lt;C, B&gt;(c, pair.second()); // no idea if this is the correct Java syntax, but you get the idea\n        })\n    return SourceWithContext.fromPairs&lt;C, B, M&gt;(src);\n}\n</code></pre>\n<p>Note that the <code>f</code> never gets to see the <code>second</code> part of the <code>Pair</code>.  So long as every operation does the right thing with respect to the context, it just works.</p>\n<p>There are operations where there's no unambiguous &quot;right thing&quot; to do.  An example of this is an operation which could reorder elements.</p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551577,"answer_count":1,"score":0,"last_activity_date":1647820989,"creation_date":1647778282,"question_id":71546627,"body_markdown":"I&#39;m working on reading data from Kafka and have encountered this code to return the Kafka connection details but I don&#39;t understand how the context is shared. Here is the class to setup the KafkaConnection : \r\n\r\n    import akka.actor.typed.ActorSystem;\r\n    import akka.kafka.ConsumerMessage;\r\n    import akka.kafka.ConsumerSettings;\r\n    import akka.kafka.Subscriptions;\r\n    import akka.kafka.javadsl.Consumer;\r\n    import akka.stream.javadsl.SourceWithContext;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.common.serialization.Deserializer;\r\n    \r\n    import java.time.Duration;\r\n    \r\n    @Getter\r\n    @Slf4j\r\n    public final class KafkaSource&lt;K, V&gt; {\r\n    \r\n        private final SourceWithContext&lt;ConsumerRecord&lt;K, V&gt;, ConsumerMessage.Committable, ?&gt; commitableSource;\r\n    \r\n        @Builder\r\n        private KafkaSource(final Deserializer&lt;K&gt; keyd, final Deserializer&lt;V&gt; valueDeserializer, final ActorSystem actorSystem) {\r\n    \r\n            final String kafkaBootstrapServers = &quot;localhost:9092&quot;;\r\n    \r\n            final ConsumerSettings&lt;K, V&gt; kafkaConsumerSettings =\r\n                    ConsumerSettings.create(actorSystem, keyd, valueDeserializer)\r\n                            .withBootstrapServers(kafkaBootstrapServers)\r\n                            .withGroupId(&quot;testGroup12&quot;)\r\n                            .withProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;)\r\n                            .withStopTimeout(Duration.ofSeconds(5));\r\n    \r\n            final String topics = &quot;request-topic&quot;;\r\n    \r\n            this.commitableSource = Consumer.sourceWithOffsetContext(kafkaConsumerSettings,\r\n                    Subscriptions.topics(topics)).mapContext(ctx -&gt; ctx);\r\n        }\r\n    }\r\n\r\nHere is the Akka Stream to process the data from Kafka I&#39;ve written : \r\n\r\n    import akka.actor.typed.ActorSystem;\r\n    import akka.actor.typed.javadsl.Behaviors;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    \r\n    public class ReadFromKafka {\r\n    \r\n        private static ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            final ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;as&quot;);\r\n    \r\n            var ksource = KafkaSource.&lt;String, String&gt;builder()\r\n                    .actorSystem(actorSystem)\r\n                    .keyd(new StringDeserializer()).valueDeserializer(new StringDeserializer())\r\n                    .build();\r\n    \r\n            ksource.getCommitableSource()\r\n                    .map(ConsumerRecord::value)\r\n                    .map(x -&gt; {\r\n                                var mappedObject = objectMapper.readValue(x, RequestDto.class);\r\n                                System.out.println(&quot;mappedObject is :&quot; + mappedObject);\r\n                                return mappedObject;\r\n                            }\r\n                    )\r\n                    .log(&quot;error&quot;)\r\n                    .asSource()\r\n                    .map(pair -&gt; pair.second().commitInternal())\r\n                    .run(actorSystem);\r\n        }\r\n    }\r\n\r\nThe class being mapped, RequestDto : \r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import lombok.*;\r\n    import lombok.extern.jackson.Jacksonized;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @Jacksonized\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Builder\r\n    @ToString\r\n    public class RequestDto {\r\n    \r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:sss&quot;)\r\n        private final Date datePurchased;\r\n    \r\n        private String someOtherField;\r\n    \r\n    }\r\n\r\nAlthough `ReadFromKafka` works as expected why is `ConsumerMessage.Committable from SourceWithContext&lt;ConsumerRecord&lt;K, V&gt;, ConsumerMessage.Committable, ?&gt;` not dropped when executing : \r\n\r\n    .map(ConsumerRecord::value)\r\n    .map(x -&gt; {\r\n                var mappedObject = objectMapper.readValue(x, RequestDto.class);\r\n                System.out.println(&quot;mappedObject is :&quot; + mappedObject);\r\n                return mappedObject;\r\n            }\r\n    ) \r\n\r\n.asSource() allows accessing the context within the Tuple at second position to then commit the offset using :\r\n\r\n    .map(pair -&gt; pair.second().commitInternal())\r\n\r\nI&#39;m confused as to how this works, it appears something implicit is happening in the background that allows the context to be propagated throughout the stream?","title":"Akka streams - why is the context not dropped?","body":"<p>I'm working on reading data from Kafka and have encountered this code to return the Kafka connection details but I don't understand how the context is shared. Here is the class to setup the KafkaConnection :</p>\n<pre><code>import akka.actor.typed.ActorSystem;\nimport akka.kafka.ConsumerMessage;\nimport akka.kafka.ConsumerSettings;\nimport akka.kafka.Subscriptions;\nimport akka.kafka.javadsl.Consumer;\nimport akka.stream.javadsl.SourceWithContext;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.common.serialization.Deserializer;\n\nimport java.time.Duration;\n\n@Getter\n@Slf4j\npublic final class KafkaSource&lt;K, V&gt; {\n\n    private final SourceWithContext&lt;ConsumerRecord&lt;K, V&gt;, ConsumerMessage.Committable, ?&gt; commitableSource;\n\n    @Builder\n    private KafkaSource(final Deserializer&lt;K&gt; keyd, final Deserializer&lt;V&gt; valueDeserializer, final ActorSystem actorSystem) {\n\n        final String kafkaBootstrapServers = &quot;localhost:9092&quot;;\n\n        final ConsumerSettings&lt;K, V&gt; kafkaConsumerSettings =\n                ConsumerSettings.create(actorSystem, keyd, valueDeserializer)\n                        .withBootstrapServers(kafkaBootstrapServers)\n                        .withGroupId(&quot;testGroup12&quot;)\n                        .withProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;)\n                        .withStopTimeout(Duration.ofSeconds(5));\n\n        final String topics = &quot;request-topic&quot;;\n\n        this.commitableSource = Consumer.sourceWithOffsetContext(kafkaConsumerSettings,\n                Subscriptions.topics(topics)).mapContext(ctx -&gt; ctx);\n    }\n}\n</code></pre>\n<p>Here is the Akka Stream to process the data from Kafka I've written :</p>\n<pre><code>import akka.actor.typed.ActorSystem;\nimport akka.actor.typed.javadsl.Behaviors;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\npublic class ReadFromKafka {\n\n    private static ObjectMapper objectMapper = new ObjectMapper();\n\n    public static void main(String args[]) {\n\n        final ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;as&quot;);\n\n        var ksource = KafkaSource.&lt;String, String&gt;builder()\n                .actorSystem(actorSystem)\n                .keyd(new StringDeserializer()).valueDeserializer(new StringDeserializer())\n                .build();\n\n        ksource.getCommitableSource()\n                .map(ConsumerRecord::value)\n                .map(x -&gt; {\n                            var mappedObject = objectMapper.readValue(x, RequestDto.class);\n                            System.out.println(&quot;mappedObject is :&quot; + mappedObject);\n                            return mappedObject;\n                        }\n                )\n                .log(&quot;error&quot;)\n                .asSource()\n                .map(pair -&gt; pair.second().commitInternal())\n                .run(actorSystem);\n    }\n}\n</code></pre>\n<p>The class being mapped, RequestDto :</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport lombok.*;\nimport lombok.extern.jackson.Jacksonized;\n\nimport java.util.Date;\n\n@Jacksonized\n@AllArgsConstructor\n@Getter\n@Builder\n@ToString\npublic class RequestDto {\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:sss&quot;)\n    private final Date datePurchased;\n\n    private String someOtherField;\n\n}\n</code></pre>\n<p>Although <code>ReadFromKafka</code> works as expected why is <code>ConsumerMessage.Committable from SourceWithContext&lt;ConsumerRecord&lt;K, V&gt;, ConsumerMessage.Committable, ?&gt;</code> not dropped when executing :</p>\n<pre><code>.map(ConsumerRecord::value)\n.map(x -&gt; {\n            var mappedObject = objectMapper.readValue(x, RequestDto.class);\n            System.out.println(&quot;mappedObject is :&quot; + mappedObject);\n            return mappedObject;\n        }\n) \n</code></pre>\n<p>.asSource() allows accessing the context within the Tuple at second position to then commit the offset using :</p>\n<pre><code>.map(pair -&gt; pair.second().commitInternal())\n</code></pre>\n<p>I'm confused as to how this works, it appears something implicit is happening in the background that allows the context to be propagated throughout the stream?</p>\n"},{"tags":["java","multithreading","concurrency","multiprocessing"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1647821583,"post_id":71551572,"comment_id":126460711,"body_markdown":"Given that the lock from the book works, why change it?","body":"Given that the lock from the book works, why change it?"},{"owner":{"account_id":8506703,"reputation":103,"user_id":6378023,"display_name":"CYC"},"score":0,"creation_date":1647901602,"post_id":71551572,"comment_id":126483728,"body_markdown":"There&#39;s no need to change it but I just wanted to know why the second one does not work for my learning purpose","body":"There&#39;s no need to change it but I just wanted to know why the second one does not work for my learning purpose"},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1647913577,"post_id":71551572,"comment_id":126485785,"body_markdown":"Do you have any ideas so far? Anything that can be tested?","body":"Do you have any ideas so far? Anything that can be tested?"}],"owner":{"account_id":8506703,"reputation":103,"user_id":6378023,"display_name":"CYC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647820943,"creation_date":1647820943,"question_id":71551572,"body_markdown":"Below is the implementation of CLH Lock from the book The Art of Multiprocessor Programming.\r\n```\r\npublic class CLHLock implements Lock {\r\n    private final AtomicReference&lt;QNode&gt; tail;\r\n    private final ThreadLocal&lt;QNode&gt; current;\r\n    private final ThreadLocal&lt;QNode&gt; previous;\r\n\r\n    public CLHLock() {\r\n        tail = new AtomicReference&lt;&gt;(new QNode());\r\n        current = ThreadLocal.withInitial(QNode::new);\r\n        previous = ThreadLocal.withInitial(() -&gt; null);\r\n    }\r\n\r\n    @Override\r\n    public void lock() {\r\n        QNode cur = current.get();\r\n        cur.locked = true;\r\n        QNode prev = tail.getAndSet(cur);\r\n        previous.set(prev);\r\n        while (prev.locked) {\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void unlock() {\r\n        QNode cur = current.get();\r\n        cur.locked = false;\r\n        current.set(previous.get());\r\n    }\r\n\r\n    private static class QNode {\r\n        volatile boolean locked = false;\r\n    }\r\n}\r\n```\r\nI replace the ThreadLocal previous field by a volatile field inside QNode to keep track of the predecessor as follows\r\n```\r\npublic class CLHLock implements Lock {\r\n    private final AtomicReference&lt;QNode&gt; tail;\r\n    private final ThreadLocal&lt;QNode&gt; current;\r\n\r\n    public CLHLock() {\r\n        tail = new AtomicReference&lt;&gt;(new QNode());\r\n        current = ThreadLocal.withInitial(QNode::new);\r\n    }\r\n\r\n    @Override\r\n    public void lock() {\r\n        QNode cur = current.get();\r\n        cur.locked = true;\r\n        QNode prev = tail.getAndSet(cur);\r\n        cur.prev = prev;\r\n        while (prev.locked) {\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void unlock() {\r\n        QNode cur = current.get();\r\n        cur.locked = false;\r\n        current.set(cur.prev);\r\n    }\r\n\r\n    private static class QNode {\r\n        volatile boolean locked = false;\r\n        volatile QNode prev = null;\r\n    }\r\n}\r\n```\r\n\r\nThe first implementation runs fine but the second one deadlocks sometimes. Can someone please explain to me what is wrong with the second implementation? Thank you","title":"Multiprocessor programming: CLH Lock","body":"<p>Below is the implementation of CLH Lock from the book The Art of Multiprocessor Programming.</p>\n<pre><code>public class CLHLock implements Lock {\n    private final AtomicReference&lt;QNode&gt; tail;\n    private final ThreadLocal&lt;QNode&gt; current;\n    private final ThreadLocal&lt;QNode&gt; previous;\n\n    public CLHLock() {\n        tail = new AtomicReference&lt;&gt;(new QNode());\n        current = ThreadLocal.withInitial(QNode::new);\n        previous = ThreadLocal.withInitial(() -&gt; null);\n    }\n\n    @Override\n    public void lock() {\n        QNode cur = current.get();\n        cur.locked = true;\n        QNode prev = tail.getAndSet(cur);\n        previous.set(prev);\n        while (prev.locked) {\n        }\n    }\n\n    @Override\n    public void unlock() {\n        QNode cur = current.get();\n        cur.locked = false;\n        current.set(previous.get());\n    }\n\n    private static class QNode {\n        volatile boolean locked = false;\n    }\n}\n</code></pre>\n<p>I replace the ThreadLocal previous field by a volatile field inside QNode to keep track of the predecessor as follows</p>\n<pre><code>public class CLHLock implements Lock {\n    private final AtomicReference&lt;QNode&gt; tail;\n    private final ThreadLocal&lt;QNode&gt; current;\n\n    public CLHLock() {\n        tail = new AtomicReference&lt;&gt;(new QNode());\n        current = ThreadLocal.withInitial(QNode::new);\n    }\n\n    @Override\n    public void lock() {\n        QNode cur = current.get();\n        cur.locked = true;\n        QNode prev = tail.getAndSet(cur);\n        cur.prev = prev;\n        while (prev.locked) {\n        }\n    }\n\n    @Override\n    public void unlock() {\n        QNode cur = current.get();\n        cur.locked = false;\n        current.set(cur.prev);\n    }\n\n    private static class QNode {\n        volatile boolean locked = false;\n        volatile QNode prev = null;\n    }\n}\n</code></pre>\n<p>The first implementation runs fine but the second one deadlocks sometimes. Can someone please explain to me what is wrong with the second implementation? Thank you</p>\n"},{"tags":["java","eclipse","inheritance","methods","extends"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":4,"creation_date":1647733476,"post_id":71542924,"comment_id":126445823,"body_markdown":"Test code is not to be used in source code.","body":"Test code is not to be used in source code."},{"owner":{"account_id":24615491,"reputation":3,"user_id":18516556,"display_name":"Jay Shah"},"score":0,"creation_date":1647733910,"post_id":71542924,"comment_id":126445873,"body_markdown":"@pringi    It’s just 2 packages with same name, inside 2 different folders. whether it’s test or not, it should still inherit wth extends. So, how to resolve this? Please suggest. Please refer to image I attached.","body":"@pringi    It’s just 2 packages with same name, inside 2 different folders. whether it’s test or not, it should still inherit wth extends. So, how to resolve this? Please suggest. Please refer to image I attached."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647734160,"post_id":71542924,"comment_id":126445913,"body_markdown":"Your package structure is looks to be messed up. If the code is in the same project, why not make the package root the same?","body":"Your package structure is looks to be messed up. If the code is in the same project, why not make the package root the same?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647735572,"post_id":71542924,"comment_id":126446099,"body_markdown":"Can you update your question to show **Base,java** as well?","body":"Can you update your question to show <b>Base,java</b> as well?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647737885,"post_id":71542924,"comment_id":126446389,"body_markdown":"@skomisa - While I agree that it would have been good if the OP had done that, the contents of Base.java are not the real issue here.  The real cause of the problem is clear from the posted image.","body":"@skomisa - While I agree that it would have been good if the OP had done that, the contents of Base.java are not the real issue here.  The real cause of the problem is clear from the posted image."},{"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"score":0,"creation_date":1647774151,"post_id":71542924,"comment_id":126451002,"body_markdown":"try to understand what people are saying, especially @StephenC","body":"try to understand what people are saying, especially @StephenC"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647736402,"creation_date":1647736402,"answer_id":71543152,"question_id":71542924,"body_markdown":"The `import` was irrelevant.\r\n\r\nYour src/main/java/, src/main/resources/ are packed for your main product, probably something like E2EProject1.jar.\r\n\r\nYour src/test/java/, src/test/resources/ are packed in your unit tests, probably something like E2EProject1-test.jar. These test classes are kept outside your main product, but have the main product on the class path as dependency.\r\n\r\nSo it should be something like:\r\n\r\n- src/main/java/Base.java\r\n- src/test/resources/data.properties (or src/main/resources/)\r\n\r\nThat the packages are named identical is for being able to test (implicitly import) non-public, package private classes of src/main/java in unit test classes in src/test/java.","title":"inheritance in java is not detecting extended class from other package, of same name","body":"<p>The <code>import</code> was irrelevant.</p>\n<p>Your src/main/java/, src/main/resources/ are packed for your main product, probably something like E2EProject1.jar.</p>\n<p>Your src/test/java/, src/test/resources/ are packed in your unit tests, probably something like E2EProject1-test.jar. These test classes are kept outside your main product, but have the main product on the class path as dependency.</p>\n<p>So it should be something like:</p>\n<ul>\n<li>src/main/java/Base.java</li>\n<li>src/test/resources/data.properties (or src/main/resources/)</li>\n</ul>\n<p>That the packages are named identical is for being able to test (implicitly import) non-public, package private classes of src/main/java in unit test classes in src/test/java.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647820101,"creation_date":1647736414,"answer_id":71543153,"question_id":71542924,"body_markdown":"You are using Maven as the build system for your Eclipse project.\r\n\r\nMaven does not allow a class in your main tree to depend on a class in the test tree.  It prevents this by telling the Java compiler and runtime that classes and resources in the test tree are not in the build time and runtime classpaths for the main code.  That is why you are getting the compilation error.\r\n\r\nSolution:\r\n\r\nMove the `Base.java` class into &quot;src/main/java/Academy&quot; directory.\r\n\r\n------------------------------\r\n\r\nYou commented:\r\n\r\n&gt;  It&#39;s just 2 packages with same name, inside 2 different folders. whether it&#39;s test or not, it should still inherit with extends. \r\n\r\nSorry ... but you are wrong.  It **does** matter which tree you put the classes in.  This is a Maven project, and Maven is &quot;opinionated&quot; about these things.  For good reason, IMO.  But either way, Maven&#39;s opinion takes precedence ... if you choose to use Maven.\r\n\r\n\r\n------------------------------\r\n\r\nThere are a couple of other problems:\r\n\r\n  1.  A package name should start with a lowercase letter.  Read [this](https://google.github.io/styleguide/javaguide.html#s5.2.1-package-names) for example.\r\n\r\n      Solution: Rename `Academy` to `academy`&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n  2.  Non-code resources should not be in a &quot;java&quot; directory.  Non-code resources in a &quot;java&quot; source directory won&#39;t be on the runtime classpath ... and won&#39;t be included in (regular) JAR files.\r\n\r\n      Solution: Create a &quot;resources&quot; directory and put it there. \r\n\r\n  3.  The `import Academy.Base;` is redundant.  It is not necessary to import a class in the same package. \r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Alternate solution: don&#39;t ask other people to work on your code, or help you with it.  If other people don&#39;t **ever** need to read your code, it only matters to you what your code looks like.  The compiler doesn&#39;t care.  Only humans do.&lt;/sup&gt;","title":"inheritance in java is not detecting extended class from other package, of same name","body":"<p>You are using Maven as the build system for your Eclipse project.</p>\n<p>Maven does not allow a class in your main tree to depend on a class in the test tree.  It prevents this by telling the Java compiler and runtime that classes and resources in the test tree are not in the build time and runtime classpaths for the main code.  That is why you are getting the compilation error.</p>\n<p>Solution:</p>\n<p>Move the <code>Base.java</code> class into &quot;src/main/java/Academy&quot; directory.</p>\n<hr />\n<p>You commented:</p>\n<blockquote>\n<p>It's just 2 packages with same name, inside 2 different folders. whether it's test or not, it should still inherit with extends.</p>\n</blockquote>\n<p>Sorry ... but you are wrong.  It <strong>does</strong> matter which tree you put the classes in.  This is a Maven project, and Maven is &quot;opinionated&quot; about these things.  For good reason, IMO.  But either way, Maven's opinion takes precedence ... if you choose to use Maven.</p>\n<hr />\n<p>There are a couple of other problems:</p>\n<ol>\n<li><p>A package name should start with a lowercase letter.  Read <a href=\"https://google.github.io/styleguide/javaguide.html#s5.2.1-package-names\" rel=\"nofollow noreferrer\">this</a> for example.</p>\n<p>Solution: Rename <code>Academy</code> to <code>academy</code><sup>1</sup>.</p>\n</li>\n<li><p>Non-code resources should not be in a &quot;java&quot; directory.  Non-code resources in a &quot;java&quot; source directory won't be on the runtime classpath ... and won't be included in (regular) JAR files.</p>\n<p>Solution: Create a &quot;resources&quot; directory and put it there.</p>\n</li>\n<li><p>The <code>import Academy.Base;</code> is redundant.  It is not necessary to import a class in the same package.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - Alternate solution: don't ask other people to work on your code, or help you with it.  If other people don't <strong>ever</strong> need to read your code, it only matters to you what your code looks like.  The compiler doesn't care.  Only humans do.</sup></p>\n"},{"tags":[],"owner":{"account_id":24615491,"reputation":3,"user_id":18516556,"display_name":"Jay Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1647756130,"creation_date":1647756130,"answer_id":71544443,"question_id":71542924,"body_markdown":"**Solved the above error by following these steps:**\r\n\r\nRight click on project-&gt;Build path-&gt;Configure build path-&gt;source tab\r\n\r\n\r\nthen search tab search under your project src/main/java \r\n\r\n\r\nand change &quot;contains test sources&quot; from No to Yes \r\nand apply the changes\r\n","title":"inheritance in java is not detecting extended class from other package, of same name","body":"<p><strong>Solved the above error by following these steps:</strong></p>\n<p>Right click on project-&gt;Build path-&gt;Configure build path-&gt;source tab</p>\n<p>then search tab search under your project src/main/java</p>\n<p>and change &quot;contains test sources&quot; from No to Yes\nand apply the changes</p>\n"}],"owner":{"account_id":24615491,"reputation":3,"user_id":18516556,"display_name":"Jay Shah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":71544443,"answer_count":3,"score":-3,"last_activity_date":1647820101,"creation_date":1647733096,"question_id":71542924,"body_markdown":"I am using Eclipse.\r\n\r\n2 folders: src/test  and src/main\r\n\r\nBoth have a package with same name: `Academy`. \r\n\r\nThe `Academy` package in **src/test** has in it a class name: **Base.java** \r\n\r\nThe `Academy` package in **src/main** has in it a class name: **HomePage.java** \r\n\r\nIn the **HomePage.java** class, `extends Base` is not detecting base class in it.\r\nThis is the code inside **HomePage.java**\r\n\r\n--------------------\r\n\r\n    package Academy;\r\n    \r\n    import Academy.Base;\r\n    \r\n    public class HomePage extends Base{\r\n    }\r\n\r\n--------------------\r\n\r\nThere is a red line on `Academy.Base` and on `Base`. It tells to make `Base` class, but it is already there. I tried to save the file. I tried to make new project too. Please Help. Thank you.\r\n\r\nHere is the reference image:\r\n\r\n[![refImage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jqnNK.png","title":"inheritance in java is not detecting extended class from other package, of same name","body":"<p>I am using Eclipse.</p>\n<p>2 folders: src/test  and src/main</p>\n<p>Both have a package with same name: <code>Academy</code>.</p>\n<p>The <code>Academy</code> package in <strong>src/test</strong> has in it a class name: <strong>Base.java</strong></p>\n<p>The <code>Academy</code> package in <strong>src/main</strong> has in it a class name: <strong>HomePage.java</strong></p>\n<p>In the <strong>HomePage.java</strong> class, <code>extends Base</code> is not detecting base class in it.\nThis is the code inside <strong>HomePage.java</strong></p>\n<hr />\n<pre><code>package Academy;\n\nimport Academy.Base;\n\npublic class HomePage extends Base{\n}\n</code></pre>\n<hr />\n<p>There is a red line on <code>Academy.Base</code> and on <code>Base</code>. It tells to make <code>Base</code> class, but it is already there. I tried to save the file. I tried to make new project too. Please Help. Thank you.</p>\n<p>Here is the reference image:</p>\n<p><a href=\"https://i.stack.imgur.com/jqnNK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqnNK.png\" alt=\"refImage\" /></a></p>\n"},{"tags":["java","gradle","build.gradle","java-module"],"comments":[{"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"score":0,"creation_date":1646531602,"post_id":71366524,"comment_id":126146172,"body_markdown":"Hi @voodoo_patch could refer this link https://stackoverflow.com/questions/45970742/java9-jnlp-add-opens-not-working","body":"Hi @voodoo_patch could refer this link <a href=\"https://stackoverflow.com/questions/45970742/java9-jnlp-add-opens-not-working\" title=\"java9 jnlp add opens not working\">stackoverflow.com/questions/45970742/&hellip;</a>"},{"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"score":0,"creation_date":1646531617,"post_id":71366524,"comment_id":126146173,"body_markdown":"I hope this will help for you","body":"I hope this will help for you"},{"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"score":0,"creation_date":1646531632,"post_id":71366524,"comment_id":126146174,"body_markdown":"https://github.com/quarkusio/quarkus/issues/16862","body":"<a href=\"https://github.com/quarkusio/quarkus/issues/16862\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/16862</a>"},{"owner":{"account_id":7166981,"reputation":472,"user_id":5475793,"display_name":"voodoo_patch"},"score":0,"creation_date":1646576679,"post_id":71366524,"comment_id":126152842,"body_markdown":"@Sathiyaraj thanks for your reply. Unfortunately this does not seem to be my case. The first link points out a wrong setup of jvm args. The second one refers to quarkus which i&#39;m not using. The point here is that i don&#39;t have the control of jvm args since i&#39;m simply executing &#39;gradle build&#39; command","body":"@Sathiyaraj thanks for your reply. Unfortunately this does not seem to be my case. The first link points out a wrong setup of jvm args. The second one refers to quarkus which i&#39;m not using. The point here is that i don&#39;t have the control of jvm args since i&#39;m simply executing &#39;gradle build&#39; command"}],"answers":[{"tags":[],"owner":{"account_id":7166981,"reputation":472,"user_id":5475793,"display_name":"voodoo_patch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647820067,"creation_date":1647820067,"answer_id":71551518,"question_id":71366524,"body_markdown":"After cloning the project in another location the error went away. This error remains a mistery.","title":"java.lang.RuntimeException: Unable to parse --add-opens","body":"<p>After cloning the project in another location the error went away. This error remains a mistery.</p>\n"}],"owner":{"account_id":7166981,"reputation":472,"user_id":5475793,"display_name":"voodoo_patch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551518,"answer_count":1,"score":0,"last_activity_date":1647820067,"creation_date":1646520725,"question_id":71366524,"body_markdown":"When building *mailclient* java module through  ``` gradle build ``` i get the following error in the :test task\r\n``` \r\nTask :test FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.RuntimeException: Unable to parse --add-opens &lt;module&gt;/&lt;package&gt;: com.unito.mailclient/\r\n```\r\n****\r\nI&#39;m building with gradle a modularized java solution which is structured in the following way:\r\n\r\n - module *common*: shared between different applications;\r\n - module *mailclient*: one of the applications utilizing common module.\r\n\r\n*Common* and *mailclient* are siblings in the folder structure.\r\nRunning gradle build for *common* module results in no errors.\r\n\r\n****\r\n**build.gradle (mailclient)**\r\n``` \r\n\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:common&#39;)\r\n    implementation &#39;com.google.inject:guice:5.1.0&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:2.19.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:4.3.0&#39;\r\n\r\n    implementation &#39;org.kordamp.bootstrapfx:bootstrapfx-core:0.4.0&#39;\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n}\r\n\r\njava {\r\n    modularity.inferModulePath.set(true)\r\n}\r\n\r\njacoco {\r\n    toolVersion = &quot;0.8.7&quot;\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test \r\n}\r\n\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter(&#39;5.8.1&#39;)\r\n        }\r\n    }\r\n}\r\n\r\njavafx {\r\n    version = &quot;17.0.1&quot;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.unito.mailclient&#39;\r\n    mainClass = &#39;com.unito.mailclient.HelloApplication&#39;\r\n}\r\n\r\ngroup = &#39;com.unito&#39;\r\ndescription = &#39;mailclient&#39;\r\n ```\r\n**module-info.java**\r\n``` \r\nmodule com.unito.mailclient {\r\n    requires com.unito.common;\r\n    requires com.google.gson;\r\n    requires com.google.guice;\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires javafx.graphics;\r\n}\r\n ```\r\n\r\nI&#39;m not able to understand what is causing the problem; The error is not clear at all to me. \r\n\r\nCan anybody give a hand please?","title":"java.lang.RuntimeException: Unable to parse --add-opens","body":"<p>When building <em>mailclient</em> java module through  <code>gradle build</code> i get the following error in the :test task</p>\n<pre><code>Task :test FAILED\nError occurred during initialization of boot layer\njava.lang.RuntimeException: Unable to parse --add-opens &lt;module&gt;/&lt;package&gt;: com.unito.mailclient/\n</code></pre>\n<hr />\n<p>I'm building with gradle a modularized java solution which is structured in the following way:</p>\n<ul>\n<li>module <em>common</em>: shared between different applications;</li>\n<li>module <em>mailclient</em>: one of the applications utilizing common module.</li>\n</ul>\n<p><em>Common</em> and <em>mailclient</em> are siblings in the folder structure.\nRunning gradle build for <em>common</em> module results in no errors.</p>\n<hr />\n<p><strong>build.gradle (mailclient)</strong></p>\n<pre><code>\nplugins {\n    id 'application'\n    id 'jacoco'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation project(':common')\n    implementation 'com.google.inject:guice:5.1.0'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n    testImplementation 'org.mockito:mockito-junit-jupiter:2.19.0'\n    testImplementation 'org.mockito:mockito-core:4.3.0'\n\n    implementation 'org.kordamp.bootstrapfx:bootstrapfx-core:0.4.0'\n    implementation 'com.google.guava:guava:30.1.1-jre'\n}\n\njava {\n    modularity.inferModulePath.set(true)\n}\n\njacoco {\n    toolVersion = &quot;0.8.7&quot;\n}\n\njacocoTestReport {\n    dependsOn test \n}\n\ntesting {\n    suites {\n        test {\n            useJUnitJupiter('5.8.1')\n        }\n    }\n}\n\njavafx {\n    version = &quot;17.0.1&quot;\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\napplication {\n    mainModule = 'com.unito.mailclient'\n    mainClass = 'com.unito.mailclient.HelloApplication'\n}\n\ngroup = 'com.unito'\ndescription = 'mailclient'\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre><code>module com.unito.mailclient {\n    requires com.unito.common;\n    requires com.google.gson;\n    requires com.google.guice;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires org.kordamp.bootstrapfx.core;\n    requires javafx.graphics;\n}\n</code></pre>\n<p>I'm not able to understand what is causing the problem; The error is not clear at all to me.</p>\n<p>Can anybody give a hand please?</p>\n"},{"tags":["java","ssl","javafx","netty","jpackage"],"comments":[{"owner":{"account_id":9346445,"reputation":530,"user_id":6937598,"accept_rate":60,"display_name":"G.M"},"score":0,"creation_date":1686852047,"post_id":71551384,"comment_id":134858640,"body_markdown":"Did you find a solution? I am currently facing a similar problem.","body":"Did you find a solution? I am currently facing a similar problem."},{"owner":{"account_id":14204150,"reputation":61,"user_id":10261257,"display_name":"Fredy Nazary"},"score":0,"creation_date":1689054020,"post_id":71551384,"comment_id":135154735,"body_markdown":"Not really, but i&#39;ve noticed it has do with the network failing","body":"Not really, but i&#39;ve noticed it has do with the network failing"}],"owner":{"account_id":14204150,"reputation":61,"user_id":10261257,"display_name":"Fredy Nazary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1379,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647820035,"creation_date":1647818298,"question_id":71551384,"body_markdown":"So I&#39;m developing a JavaFX app and when I run it on IntelliJ it works perfectly without any errors nor warnings but when I deploy it using Jpackage on sending WebSockets it throws the exception ```io.netty.channel.StacklessClosedChannelException``` \r\nhere&#39;s my Jpackage code\r\n\r\n```jpackage -t exe --name &quot;App Name&quot; --description &quot;App Description&quot; --app-version 1.1.0 --input input --dest output --icon favicon.ico --main-jar app.jar --module-path Path\\to\\javafx-jmods-17.0.1 --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.web,javafx.fxml,java.sql,javafx.media --win-shortcut --win-menu --win-console```\r\n\r\nI tried narrowing the error down and it looks like its caused by ChannelFuture.sync() although this only occurs during packaging of the jar\r\n\r\nAm I missing a java option or an export that I overlooked by mistake?\r\nAny help would be appreciated, Thanks in advance.","title":"What is the cause of io.netty.channel.StacklessClosedChannelException on deplyoment","body":"<p>So I'm developing a JavaFX app and when I run it on IntelliJ it works perfectly without any errors nor warnings but when I deploy it using Jpackage on sending WebSockets it throws the exception <code>io.netty.channel.StacklessClosedChannelException</code>\nhere's my Jpackage code</p>\n<p><code>jpackage -t exe --name &quot;App Name&quot; --description &quot;App Description&quot; --app-version 1.1.0 --input input --dest output --icon favicon.ico --main-jar app.jar --module-path Path\\to\\javafx-jmods-17.0.1 --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.web,javafx.fxml,java.sql,javafx.media --win-shortcut --win-menu --win-console</code></p>\n<p>I tried narrowing the error down and it looks like its caused by ChannelFuture.sync() although this only occurs during packaging of the jar</p>\n<p>Am I missing a java option or an export that I overlooked by mistake?\nAny help would be appreciated, Thanks in advance.</p>\n"},{"tags":["java","scala","akka"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647819608,"creation_date":1647819608,"answer_id":71551492,"question_id":71541124,"body_markdown":"In general there is no way out of the box to do this.\r\n\r\nThe only way to know that a message has been processed is for the recipient of that message (or its designee) to send a message in reply.  This requires designing a protocol (in this case in the `SiteProtocol`) around this request-reply interaction.  The sender then keeps track of which replies it&#39;s waiting for (correlation IDs or being sure that you don&#39;t have concurrent interactions with the same actor are helpful here) and when all the replies are received it can then move on to doing the next thing.\r\n\r\nLikewise, a request-response protocol can be used to gather values computed by the site actors.  Note that there are no intrinsic protections against the actors processing other messages (and possibly changing their own state), though limiting how widely (and how general the message type) the `ActorRef`s are disseminated can limit this.\r\n\r\nIt is technically possible to have a side-channel using non-Akka concurrency approaches to share data between actors: note that if going this route, one is largely throwing away the benefits of the actor model (especially the single-threaded illusion and location transparency).  If considering this, it&#39;s also worth considering not using Akka.","title":"How to make part of Akka ActorSystem synchronous in Typed Akka?","body":"<p>In general there is no way out of the box to do this.</p>\n<p>The only way to know that a message has been processed is for the recipient of that message (or its designee) to send a message in reply.  This requires designing a protocol (in this case in the <code>SiteProtocol</code>) around this request-reply interaction.  The sender then keeps track of which replies it's waiting for (correlation IDs or being sure that you don't have concurrent interactions with the same actor are helpful here) and when all the replies are received it can then move on to doing the next thing.</p>\n<p>Likewise, a request-response protocol can be used to gather values computed by the site actors.  Note that there are no intrinsic protections against the actors processing other messages (and possibly changing their own state), though limiting how widely (and how general the message type) the <code>ActorRef</code>s are disseminated can limit this.</p>\n<p>It is technically possible to have a side-channel using non-Akka concurrency approaches to share data between actors: note that if going this route, one is largely throwing away the benefits of the actor model (especially the single-threaded illusion and location transparency).  If considering this, it's also worth considering not using Akka.</p>\n"}],"owner":{"account_id":16267456,"reputation":298,"user_id":11747069,"display_name":"LinkCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551492,"answer_count":1,"score":0,"last_activity_date":1647819608,"creation_date":1647716156,"question_id":71541124,"body_markdown":"I am trying to make part of the code synchronous and the other part asynchronous. What I want to achieve is getting the latest `Map` from each child Actor in an Actor System. So basically wait for the asynchronous calls of messages to complete and then call a synchronous procedure. Until now I have failed to achieve this kind of behaviour (see TODO in MasterSite.scala). Any idea&#39;s on how to do that in Scala Typed Akka?\r\n\r\n*MasterSite.scala*\r\n```\r\nobject MasterSite {\r\n  sealed trait MasterSiteProtocol\r\n  final case class Broadcast(\r\n                              msg: Site.SiteProtocol,\r\n                              from: ActorRef[Site.SiteProtocol],\r\n                              partitionSet: Set[ActorRef[SiteProtocol]]\r\n                            ) extends MasterSiteProtocol\r\n\r\n  def apply(): Behavior[MasterSiteProtocol] =\r\n    Behaviors.setup { context =&gt;\r\n     // create/spawn actors (here actors represent Sites)\r\n      val siteA = context.spawn(Site(), &quot;A&quot;)\r\n      val siteB = context.spawn(Site(), &quot;B&quot;)\r\n      val siteC = context.spawn(Site(), &quot;C&quot;)\r\n      val siteD = context.spawn(Site(), &quot;D&quot;)\r\n      \r\n      var init_sitePartitionList: List[Set[ActorRef[SiteProtocol]]] = List(Set(siteA,siteB,siteC,siteD))\r\n      \r\n      val time_a1 = System.currentTimeMillis().toString\r\n\r\n      val partitionSet1 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB, siteC, siteD)\r\n      siteA ! Site.FileUpload(time_a1, context.self, &quot;test.txt&quot;, partitionSet1)\r\n\r\n      // split into List(Set{A,B}, Set{C,D})\r\n      init_sitePartitionList = splitPartition(init_sitePartitionList, Set(siteA, siteB))\r\n\r\n      val partitionSet2 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB)\r\n      siteA ! Site.FileUpdate((&quot;A&quot;, time_a1), context.self, partitionSet2)\r\n      siteA ! Site.FileUpdate((&quot;A&quot;, time_a1), context.self, partitionSet2)\r\n\r\n      init_sitePartitionList = mergePartition(init_sitePartitionList, Set(siteA, siteB, siteC, siteD)) // returns Set(siteA, siteB, siteC, siteD)\r\n\r\n      val partitionSet3 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB, siteC, siteD)\r\n      siteA ! Merged(siteC, context.self, partitionSet3) // --&gt; TODO: when code reaches this point, I want that all the message calls before this call are fully executed by the sites and then this message should be sent and handled by `siteA`. How to achieve that?\r\n\r\n      Behaviors.receiveMessage {\r\n        case Broadcast(msg: SiteProtocol, from: ActorRef[SiteProtocol], partitionSet: Set[ActorRef[SiteProtocol]]) =&gt;\r\n          partitionSet.foreach { child =&gt;\r\n            if(!child.equals(from)) {\r\n              child ! msg\r\n            }\r\n          }\r\n          Behaviors.same\r\n      }\r\n    }\r\n\r\n}\r\n```","title":"How to make part of Akka ActorSystem synchronous in Typed Akka?","body":"<p>I am trying to make part of the code synchronous and the other part asynchronous. What I want to achieve is getting the latest <code>Map</code> from each child Actor in an Actor System. So basically wait for the asynchronous calls of messages to complete and then call a synchronous procedure. Until now I have failed to achieve this kind of behaviour (see TODO in MasterSite.scala). Any idea's on how to do that in Scala Typed Akka?</p>\n<p><em>MasterSite.scala</em></p>\n<pre><code>object MasterSite {\n  sealed trait MasterSiteProtocol\n  final case class Broadcast(\n                              msg: Site.SiteProtocol,\n                              from: ActorRef[Site.SiteProtocol],\n                              partitionSet: Set[ActorRef[SiteProtocol]]\n                            ) extends MasterSiteProtocol\n\n  def apply(): Behavior[MasterSiteProtocol] =\n    Behaviors.setup { context =&gt;\n     // create/spawn actors (here actors represent Sites)\n      val siteA = context.spawn(Site(), &quot;A&quot;)\n      val siteB = context.spawn(Site(), &quot;B&quot;)\n      val siteC = context.spawn(Site(), &quot;C&quot;)\n      val siteD = context.spawn(Site(), &quot;D&quot;)\n      \n      var init_sitePartitionList: List[Set[ActorRef[SiteProtocol]]] = List(Set(siteA,siteB,siteC,siteD))\n      \n      val time_a1 = System.currentTimeMillis().toString\n\n      val partitionSet1 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB, siteC, siteD)\n      siteA ! Site.FileUpload(time_a1, context.self, &quot;test.txt&quot;, partitionSet1)\n\n      // split into List(Set{A,B}, Set{C,D})\n      init_sitePartitionList = splitPartition(init_sitePartitionList, Set(siteA, siteB))\n\n      val partitionSet2 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB)\n      siteA ! Site.FileUpdate((&quot;A&quot;, time_a1), context.self, partitionSet2)\n      siteA ! Site.FileUpdate((&quot;A&quot;, time_a1), context.self, partitionSet2)\n\n      init_sitePartitionList = mergePartition(init_sitePartitionList, Set(siteA, siteB, siteC, siteD)) // returns Set(siteA, siteB, siteC, siteD)\n\n      val partitionSet3 = findPartitionSet(siteA, init_sitePartitionList) // returns Set(siteA, siteB, siteC, siteD)\n      siteA ! Merged(siteC, context.self, partitionSet3) // --&gt; TODO: when code reaches this point, I want that all the message calls before this call are fully executed by the sites and then this message should be sent and handled by `siteA`. How to achieve that?\n\n      Behaviors.receiveMessage {\n        case Broadcast(msg: SiteProtocol, from: ActorRef[SiteProtocol], partitionSet: Set[ActorRef[SiteProtocol]]) =&gt;\n          partitionSet.foreach { child =&gt;\n            if(!child.equals(from)) {\n              child ! msg\n            }\n          }\n          Behaviors.same\n      }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1723373,"reputation":70790,"user_id":1578604,"accept_rate":100,"display_name":"Jerry"},"score":0,"creation_date":1379839796,"post_id":18941982,"comment_id":27970588,"body_markdown":"Use a loop and test each element of the list?","body":"Use a loop and test each element of the list?"},{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1379839820,"post_id":18941982,"comment_id":27970594,"body_markdown":"Please include sample input and the desired output.","body":"Please include sample input and the desired output."},{"owner":{"account_id":1766146,"reputation":592,"user_id":1611996,"accept_rate":31,"display_name":"J.L"},"score":0,"creation_date":1379839848,"post_id":18941982,"comment_id":27970601,"body_markdown":"@no, i don&#39;t think loop is the best way, the best way i think is put a list there, i reckon","body":"@no, i don&#39;t think loop is the best way, the best way i think is put a list there, i reckon"},{"owner":{"account_id":1723373,"reputation":70790,"user_id":1578604,"accept_rate":100,"display_name":"Jerry"},"score":0,"creation_date":1379840163,"post_id":18941982,"comment_id":27970668,"body_markdown":"@Justin Ok, good luck with that.","body":"@Justin Ok, good luck with that."}],"answers":[{"tags":[],"owner":{"account_id":1080820,"reputation":11829,"user_id":1103412,"accept_rate":75,"display_name":"Dušan Rychnovsk&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379840192,"creation_date":1379840192,"answer_id":18942033,"question_id":18941982,"body_markdown":"How about using the pipe operator like this?\r\n\r\n\tString input = &quot;Karel Alena Josef Petr Marta Vojtěch&quot;;\r\n\tString regexp = &quot;\\\\bAlena\\\\b|\\\\bMarta\\\\b&quot;;\t\r\n\tString output = input.replaceAll(regexp, &quot; &quot;);\r\n\tassert(&quot;Karel   Josef Petr   Vojtěch&quot;.equals(output));","title":"how to add list of words in the java regular expression for common words filter","body":"<p>How about using the pipe operator like this?</p>\n\n<pre><code>String input = \"Karel Alena Josef Petr Marta Vojtěch\";\nString regexp = \"\\\\bAlena\\\\b|\\\\bMarta\\\\b\";  \nString output = input.replaceAll(regexp, \" \");\nassert(\"Karel   Josef Petr   Vojtěch\".equals(output));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1254231,"reputation":2707,"user_id":1214055,"accept_rate":25,"display_name":"bsd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379841119,"creation_date":1379841119,"answer_id":18942149,"question_id":18941982,"body_markdown":"The regex should be \r\n  \r\n    String commonWordsRegex = &quot;\\\\b(http|haha|commonWords)\\\\b&quot;;\r\n\r\nConcatenate the list of words with `|`.\r\n","title":"how to add list of words in the java regular expression for common words filter","body":"<p>The regex should be </p>\n\n<pre><code>String commonWordsRegex = \"\\\\b(http|haha|commonWords)\\\\b\";\n</code></pre>\n\n<p>Concatenate the list of words with <code>|</code>.</p>\n"},{"tags":[],"owner":{"account_id":3322107,"reputation":231,"user_id":2793038,"display_name":"Desidero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379842239,"creation_date":1379842239,"answer_id":18942323,"question_id":18941982,"body_markdown":"The best method depends on the number of noise words that you&#39;re filtering, the type of replacement you&#39;re performing, and the amount of text that you&#39;re processing.\r\n\r\n##Single-word Noise##\r\n\r\n###*Purging*###\r\nIf you&#39;re just doing something simple like deleting all occurrences of &quot;http&quot;, &quot;otherword&quot;, and &quot;anotherword&quot;, you can make a regex for that with an OR statement:\r\n\r\n`\\b(http|otherword|anotherword)\\b`\r\n\r\nIf you&#39;re going to have a massive list of single words to purge and you&#39;re processing relatively short strings, you can just make a hashset of the noise words and then tokenize the input string so you can check if each token is a noise word.\r\n\r\n###*Custom Replacements*###\r\n\r\nInstead of making a hashset of noise words, you can make it a hashmap with the word and replacement value.\r\n\r\n##Multi-word Noise##\r\n\r\n###*Purging*###\r\n\r\nIf you&#39;re trying to purge multi-word noise, the first method would still work:\r\n\r\n`\\b(phrase one|phrase two|four word noise phrase)\\b`\r\n\r\nIf the list becomes really big, this can get ugly too though.\r\n\r\n###*Custom Replacements*###\r\n\r\nIf you want to do custom replacements with multi-word phrases, things become more complicated. You could play with a loop of String.indexOf(String) to see if your noise phrases are in there, you could run multiple regex replacements, or you could create unique capture groups for each word in a big ugly combined regex:\r\n\r\n`\\b((phrase one)|(phrase two)|(four word phrase))\\b`\r\n\r\nIf the captured group is 2, then phrase one matched. If it&#39;s 3, phrase 2 matched. etc... Then you grab the corresponding replacement value from your hashmap/array/whatever and plug it in.\r\n\r\n&lt;br/&gt;\r\n&lt;hr&gt;\r\nIf you end up using regular expressions and performance starts to drag, keep in mind that you can usually combine multiple expressions for a more efficient replacement process:\r\n\r\n&quot;apple&quot;, &quot;apples&quot;, &quot;applesauce&quot; -&gt; apple(s(auce)?)?","title":"how to add list of words in the java regular expression for common words filter","body":"<p>The best method depends on the number of noise words that you're filtering, the type of replacement you're performing, and the amount of text that you're processing.</p>\n\n<h2>Single-word Noise</h2>\n\n<h3><em>Purging</em></h3>\n\n<p>If you're just doing something simple like deleting all occurrences of \"http\", \"otherword\", and \"anotherword\", you can make a regex for that with an OR statement:</p>\n\n<p><code>\\b(http|otherword|anotherword)\\b</code></p>\n\n<p>If you're going to have a massive list of single words to purge and you're processing relatively short strings, you can just make a hashset of the noise words and then tokenize the input string so you can check if each token is a noise word.</p>\n\n<h3><em>Custom Replacements</em></h3>\n\n<p>Instead of making a hashset of noise words, you can make it a hashmap with the word and replacement value.</p>\n\n<h2>Multi-word Noise</h2>\n\n<h3><em>Purging</em></h3>\n\n<p>If you're trying to purge multi-word noise, the first method would still work:</p>\n\n<p><code>\\b(phrase one|phrase two|four word noise phrase)\\b</code></p>\n\n<p>If the list becomes really big, this can get ugly too though.</p>\n\n<h3><em>Custom Replacements</em></h3>\n\n<p>If you want to do custom replacements with multi-word phrases, things become more complicated. You could play with a loop of String.indexOf(String) to see if your noise phrases are in there, you could run multiple regex replacements, or you could create unique capture groups for each word in a big ugly combined regex:</p>\n\n<p><code>\\b((phrase one)|(phrase two)|(four word phrase))\\b</code></p>\n\n<p>If the captured group is 2, then phrase one matched. If it's 3, phrase 2 matched. etc... Then you grab the corresponding replacement value from your hashmap/array/whatever and plug it in.</p>\n\n<p><br/>\n<hr>\nIf you end up using regular expressions and performance starts to drag, keep in mind that you can usually combine multiple expressions for a more efficient replacement process:</p>\n\n<p>\"apple\", \"apples\", \"applesauce\" -> apple(s(auce)?)?</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1379842297,"creation_date":1379842297,"answer_id":18942332,"question_id":18941982,"body_markdown":"Add all the words in a list then build your regex like this:\r\n\r\n    List wordList = new ArrayList&lt;String&gt;();\r\n    // populate your wordList\r\n     \r\n    // build the regex\r\n    String lstr = wordList.toString();\r\n    String regex  = lstr.substring(1, lstr.length()-1).replace(&quot;, &quot;, &quot;|&quot;);\r\n    \r\n    // replacement\r\n    String replaced = copyInputString.replaceAll(&quot;\\\\b(&quot; + regex + &quot;)\\\\b&quot;, &quot; &quot;);\r\n\r\n","title":"how to add list of words in the java regular expression for common words filter","body":"<p>Add all the words in a list then build your regex like this:</p>\n\n<pre><code>List wordList = new ArrayList&lt;String&gt;();\n// populate your wordList\n\n// build the regex\nString lstr = wordList.toString();\nString regex  = lstr.substring(1, lstr.length()-1).replace(\", \", \"|\");\n\n// replacement\nString replaced = copyInputString.replaceAll(\"\\\\b(\" + regex + \")\\\\b\", \" \");\n</code></pre>\n"}],"owner":{"account_id":1766146,"reputation":592,"user_id":1611996,"accept_rate":31,"display_name":"J.L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18942332,"answer_count":4,"score":1,"last_activity_date":1647818963,"creation_date":1379839743,"question_id":18941982,"body_markdown":"Here is my regular expression to filter some common words:   \r\n\r\n    copyInputString.replaceAll(&quot;\\\\b(&quot; +&quot;http&quot;+ &quot;)\\\\b&quot;, &quot; &quot;);\r\n\r\nhow to replace the &quot;http&quot; to include list of words? what I mean is to replace one single word with a list of words for filtering. \r\n\r\nhow to write the code? I have tried:  \r\n\r\n    String commonWords = &quot;http + haha + ...&quot;;\r\n\r\nBut it does not work. Need Help","title":"how to add list of words in the java regular expression for common words filter","body":"<p>Here is my regular expression to filter some common words:</p>\n<pre><code>copyInputString.replaceAll(&quot;\\\\b(&quot; +&quot;http&quot;+ &quot;)\\\\b&quot;, &quot; &quot;);\n</code></pre>\n<p>how to replace the &quot;http&quot; to include list of words? what I mean is to replace one single word with a list of words for filtering.</p>\n<p>how to write the code? I have tried:</p>\n<pre><code>String commonWords = &quot;http + haha + ...&quot;;\n</code></pre>\n<p>But it does not work. Need Help</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647814205,"post_id":71551007,"comment_id":126459623,"body_markdown":"You need to get much more specific about the problem","body":"You need to get much more specific about the problem"},{"owner":{"account_id":5356555,"reputation":1118,"user_id":4269072,"accept_rate":75,"display_name":"Adrian Ivasku"},"score":0,"creation_date":1647814414,"post_id":71551007,"comment_id":126459658,"body_markdown":"@g00se I believe it is explained in details. Please let me know which part you think is problematic ?","body":"@g00se I believe it is explained in details. Please let me know which part you think is problematic ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647814528,"post_id":71551007,"comment_id":126459678,"body_markdown":"So for example, you&#39;d like us to *guess* which &quot;specific language characters&quot; are a problem?","body":"So for example, you&#39;d like us to <i>guess</i> which &quot;specific language characters&quot; are a problem?"},{"owner":{"account_id":5356555,"reputation":1118,"user_id":4269072,"accept_rate":75,"display_name":"Adrian Ivasku"},"score":0,"creation_date":1647814749,"post_id":71551007,"comment_id":126459715,"body_markdown":"@g00se Updated that info in the question. Thank you.","body":"@g00se Updated that info in the question. Thank you."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647815433,"post_id":71551007,"comment_id":126459835,"body_markdown":"Well you probably need to set the characters encodings properly, in the output. Probably in the input too","body":"Well you probably need to set the characters encodings properly, in the output. Probably in the input too"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647817461,"creation_date":1647815495,"answer_id":71551158,"question_id":71551007,"body_markdown":"The likely problem is that your HTML file needs to identify its [character encoding][1]. Nowadays, generally best to use [UTF-8][2] as the encoding for most purposes. \r\n\r\n# Determine the file’s encoding\r\n\r\nIf you have access to the source code of your Java app, examine that to see what character encoding is being used when producing the HTML file. But I assume you have no such access.\r\n\r\nOpen the HTML file in a [text-editor][3] to examine its raw source code. See if it specifies a character encoding. If it does, and that character encoding indicator is incorrect, you will need to alter your HTML file.\r\n\r\nIf no character encoding is indicated within the HTML, you will need to experiment to discover the encoding. Open the HTML file in a web browser, then use the &quot;view&quot; or developer tools available in most browsers (Firefox, Safari, Edge, etc.) to explicitly switch between encodings. \r\n\r\n[![screenshot of Safari text-encoding menu][4]][4]\r\n\r\nIf switching to a particular encoding causes the text to appear as expected, then you know the likely encoding. \r\n\r\n# Specify the file’s encoding\r\n\r\nIn the modern version of HTML, [HTML5][5], [UTF-8][2] is the default encoding assumed by the web browser. But if the web browser switches into [Quirks Mode][6], the browser may assume another encoding. To help avoid Quirks Mode, a HTML5 document should start with `&lt;!DOCTYPE html&gt;`. \r\n\r\nSo, **best to be explicit about the encoding**. Once you determine the encoding being used by your Java app creating the HTML file, either alter that app (if you have source code) to write an indicator of the encoding, or else write another Java app to edit the produced HTML file to include the indicator. If you are not a Java developer, you could use any programming language or even a shell script to edit the produced HTML file.\r\n\r\nTo indicate the encoding of an HTML5 file, add a [`meta` element][7].\r\n\r\nFor UTF-8:\r\n\r\n```xml\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n```\r\n\r\nFor [Latin-1][8]:\r\n\r\n```xml\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n```\r\n\r\nIf your Java app was developed exclusively on Microsoft Windows, the developer may have knowingly or unwittingly used one of the Microsoft defined character encodings. Older versions of Java defaulted to using a character encoding specific to the host platform — but be aware in Java 18+ the [default changes to UTF-8][9] across platforms.\r\n\r\n\r\n# For more info\r\n\r\n\r\nYou can read about these issues in *many* places. Like [here][10] and [in Wikipedia][11].\r\n\r\n\r\nIf you are not savvy with character sets and character encoding, I highly recommend reading the surprisingly entertaining article, [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*][12], by Joel Spolsky. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Character_encoding\r\n  [2]: https://en.wikipedia.org/wiki/UTF-8\r\n  [3]: https://en.wikipedia.org/wiki/Text_editor\r\n  [4]: https://i.stack.imgur.com/gej6K.jpg\r\n  [5]: https://en.wikipedia.org/wiki/HTML5\r\n  [6]: https://en.wikipedia.org/wiki/Quirks_mode\r\n  [7]: https://en.wikipedia.org/wiki/Meta_element\r\n  [8]: https://en.wikipedia.org/wiki/ISO/IEC_8859-1\r\n  [9]: https://openjdk.java.net/jeps/400\r\n  [10]: https://www.w3schools.com/charsets/ref_html_utf8.asp\r\n  [11]: https://en.wikipedia.org/wiki/Character_encodings_in_HTML\r\n  [12]: https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/","title":"Java PC application - exported JAR do not behave as in development","body":"<p>The likely problem is that your HTML file needs to identify its <a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\">character encoding</a>. Nowadays, generally best to use <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a> as the encoding for most purposes.</p>\n<h1>Determine the file’s encoding</h1>\n<p>If you have access to the source code of your Java app, examine that to see what character encoding is being used when producing the HTML file. But I assume you have no such access.</p>\n<p>Open the HTML file in a <a href=\"https://en.wikipedia.org/wiki/Text_editor\" rel=\"nofollow noreferrer\">text-editor</a> to examine its raw source code. See if it specifies a character encoding. If it does, and that character encoding indicator is incorrect, you will need to alter your HTML file.</p>\n<p>If no character encoding is indicated within the HTML, you will need to experiment to discover the encoding. Open the HTML file in a web browser, then use the &quot;view&quot; or developer tools available in most browsers (Firefox, Safari, Edge, etc.) to explicitly switch between encodings.</p>\n<p><a href=\"https://i.stack.imgur.com/gej6K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gej6K.jpg\" alt=\"screenshot of Safari text-encoding menu\" /></a></p>\n<p>If switching to a particular encoding causes the text to appear as expected, then you know the likely encoding.</p>\n<h1>Specify the file’s encoding</h1>\n<p>In the modern version of HTML, <a href=\"https://en.wikipedia.org/wiki/HTML5\" rel=\"nofollow noreferrer\">HTML5</a>, <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a> is the default encoding assumed by the web browser. But if the web browser switches into <a href=\"https://en.wikipedia.org/wiki/Quirks_mode\" rel=\"nofollow noreferrer\">Quirks Mode</a>, the browser may assume another encoding. To help avoid Quirks Mode, a HTML5 document should start with <code>&lt;!DOCTYPE html&gt;</code>.</p>\n<p>So, <strong>best to be explicit about the encoding</strong>. Once you determine the encoding being used by your Java app creating the HTML file, either alter that app (if you have source code) to write an indicator of the encoding, or else write another Java app to edit the produced HTML file to include the indicator. If you are not a Java developer, you could use any programming language or even a shell script to edit the produced HTML file.</p>\n<p>To indicate the encoding of an HTML5 file, add a <a href=\"https://en.wikipedia.org/wiki/Meta_element\" rel=\"nofollow noreferrer\"><code>meta</code> element</a>.</p>\n<p>For UTF-8:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;meta charset=&quot;UTF-8&quot;&gt;\n</code></pre>\n<p>For <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">Latin-1</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n</code></pre>\n<p>If your Java app was developed exclusively on Microsoft Windows, the developer may have knowingly or unwittingly used one of the Microsoft defined character encodings. Older versions of Java defaulted to using a character encoding specific to the host platform — but be aware in Java 18+ the <a href=\"https://openjdk.java.net/jeps/400\" rel=\"nofollow noreferrer\">default changes to UTF-8</a> across platforms.</p>\n<h1>For more info</h1>\n<p>You can read about these issues in <em>many</em> places. Like <a href=\"https://www.w3schools.com/charsets/ref_html_utf8.asp\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://en.wikipedia.org/wiki/Character_encodings_in_HTML\" rel=\"nofollow noreferrer\">in Wikipedia</a>.</p>\n<p>If you are not savvy with character sets and character encoding, I highly recommend reading the surprisingly entertaining article, <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><em>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</em></a>, by Joel Spolsky.</p>\n"}],"owner":{"account_id":5356555,"reputation":1118,"user_id":4269072,"accept_rate":75,"display_name":"Adrian Ivasku"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551158,"answer_count":1,"score":0,"last_activity_date":1647817461,"creation_date":1647813825,"question_id":71551007,"body_markdown":"I have an classic Java application for PC. The result of the build is a JAR file which is running on Windows machine.\r\n\r\nThe application is reading some XML files and creating an HTML document as an end result. The Xml file contains specific language characters that are not native to English.\r\n\r\nWhile in development, in the IDE (Apache NetBeans 13), build - &gt; Run the exported HTML file **contains** specific language characters.\r\n\r\nWhen I run the JAR file, from the Project - &gt; dist directory , HTML **do not** contain specific language characters.\r\n\r\nFor example characters like: č , ć , đ, š are being exported as : &#196;�  , while running from NetBeans they are exported as such, not as that strange symbol.\r\nThe letters in question are from Serbian, Croatian and Bosnian.\r\n\r\nWhen I export the project from NetBeans, I made sure to have this option enabled:\r\nProject -&gt; Project properties -&gt; Build -&gt; Packaging where the &quot;Copy Dependent Libraries&quot; option is selected.\r\n\r\nI am puzzled at this point. If anybody has any idea why something is working one way in IDE and other when exported please let me know.","title":"Java PC application - exported JAR do not behave as in development","body":"<p>I have an classic Java application for PC. The result of the build is a JAR file which is running on Windows machine.</p>\n<p>The application is reading some XML files and creating an HTML document as an end result. The Xml file contains specific language characters that are not native to English.</p>\n<p>While in development, in the IDE (Apache NetBeans 13), build - &gt; Run the exported HTML file <strong>contains</strong> specific language characters.</p>\n<p>When I run the JAR file, from the Project - &gt; dist directory , HTML <strong>do not</strong> contain specific language characters.</p>\n<p>For example characters like: č , ć , đ, š are being exported as : Ä�  , while running from NetBeans they are exported as such, not as that strange symbol.\nThe letters in question are from Serbian, Croatian and Bosnian.</p>\n<p>When I export the project from NetBeans, I made sure to have this option enabled:\nProject -&gt; Project properties -&gt; Build -&gt; Packaging where the &quot;Copy Dependent Libraries&quot; option is selected.</p>\n<p>I am puzzled at this point. If anybody has any idea why something is working one way in IDE and other when exported please let me know.</p>\n"},{"tags":["java","html","text","clipboard","mime-types"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647808753,"post_id":71550362,"comment_id":126458701,"body_markdown":"You need to supply multiple `DataFlovor`s, each describing the style of content they support, for [example](https://stackoverflow.com/questions/24966974/copy-jtable-row-with-its-grid-lines-into-excel-word-documents/24978019#24978019); [example](https://stackoverflow.com/questions/30518705/copy-jtextarea-as-text-html-dataflavor/30519137#30519137)","body":"You need to supply multiple <code>DataFlovor</code>s, each describing the style of content they support, for <a href=\"https://stackoverflow.com/questions/24966974/copy-jtable-row-with-its-grid-lines-into-excel-word-documents/24978019#24978019\">example</a>; <a href=\"https://stackoverflow.com/questions/30518705/copy-jtextarea-as-text-html-dataflavor/30519137#30519137\">example</a>"},{"owner":{"account_id":13381263,"reputation":37,"user_id":9656454,"display_name":"RHSkinner"},"score":0,"creation_date":1647809426,"post_id":71550362,"comment_id":126458814,"body_markdown":"Thank you @MadProgrammer - I have implemented something similar to the first example already, the second example does appear to cover exactly the functionality I&#39;m looking for. I&#39;m going to try understand it and implement it, if it works I&#39;ll indicate that here and mark this as answered","body":"Thank you @MadProgrammer - I have implemented something similar to the first example already, the second example does appear to cover exactly the functionality I&#39;m looking for. I&#39;m going to try understand it and implement it, if it works I&#39;ll indicate that here and mark this as answered"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647815972,"creation_date":1647815972,"answer_id":71551196,"question_id":71550362,"body_markdown":"So, after a little bit of playing around (and reading the updated JavaDocs).  The basic answer is.\r\n\r\n1. You need to supply both a &quot;plain text&quot; and &quot;html text&quot; value\r\n2. You need to supply multiple data flavours, each representing the type of data you&#39;re willing to export\r\n3. You need to return the appropriate data from `getTransferData` based on the flavour (and the flavours desired export method)\r\n\r\n## Please Note\r\n\r\nThis example exports two different strings, one is plain text and one is HTML, this is deliberate, so as it&#39;s easier to see when different text is used by different consumers.  You could, obviously, use the html formatted text for both if you wished.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n\r\n            String plainText = &quot;Hello World&quot;;\r\n            String htmlText = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;This is a test&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n            HtmlSelection htmlSelection = new HtmlSelection(htmlText, plainText);\r\n            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n            clipboard.setContents(htmlSelection, null);\r\n        }\r\n\r\n        public static class HtmlSelection implements Transferable {\r\n\r\n            private static List&lt;DataFlavor&gt; htmlFlavors = new ArrayList&lt;&gt;(3);\r\n\r\n            static {\r\n                    htmlFlavors.add(DataFlavor.stringFlavor);\r\n                    htmlFlavors.add(DataFlavor.allHtmlFlavor);\r\n            }\r\n\r\n            private String html;\r\n            private String plainText;\r\n\r\n            public HtmlSelection(String html, String plainText) {\r\n                this.html = html;\r\n                this.plainText = plainText;\r\n            }\r\n\r\n            public DataFlavor[] getTransferDataFlavors() {\r\n                return (DataFlavor[]) htmlFlavors.toArray(new DataFlavor[htmlFlavors.size()]);\r\n            }\r\n\r\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                return htmlFlavors.contains(flavor);\r\n            }\r\n\r\n            public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException {\r\n\r\n                String toBeExported = plainText;\r\n                if (flavor == DataFlavor.stringFlavor) {\r\n                    toBeExported = plainText;\r\n                } else if (flavor == DataFlavor.allHtmlFlavor) {\r\n                    toBeExported = html;\r\n                }\r\n\r\n                if (String.class.equals(flavor.getRepresentationClass())) {\r\n                    return toBeExported;\r\n                }\r\n                throw new UnsupportedFlavorException(flavor);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Szplj.gif\r\n\r\nYou should also beware that some applications may prefer a different method of export (ie via a `Reader` or `InputStream`), this is demonstrated in...\r\n\r\n* https://stackoverflow.com/questions/24966974/copy-jtable-row-with-its-grid-lines-into-excel-word-documents/24978019#24978019\r\n* https://stackoverflow.com/questions/30518705/copy-jtextarea-as-text-html-dataflavor/30519137#30519137","title":"How to copy text/html and text/plain to clipboard using Java","body":"<p>So, after a little bit of playing around (and reading the updated JavaDocs).  The basic answer is.</p>\n<ol>\n<li>You need to supply both a &quot;plain text&quot; and &quot;html text&quot; value</li>\n<li>You need to supply multiple data flavours, each representing the type of data you're willing to export</li>\n<li>You need to return the appropriate data from <code>getTransferData</code> based on the flavour (and the flavours desired export method)</li>\n</ol>\n<h2>Please Note</h2>\n<p>This example exports two different strings, one is plain text and one is HTML, this is deliberate, so as it's easier to see when different text is used by different consumers.  You could, obviously, use the html formatted text for both if you wished.</p>\n<p><a href=\"https://i.stack.imgur.com/Szplj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Szplj.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic final class Main {\n    public static void main(String[] args) {\n\n        String plainText = &quot;Hello World&quot;;\n        String htmlText = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;This is a test&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n        HtmlSelection htmlSelection = new HtmlSelection(htmlText, plainText);\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.setContents(htmlSelection, null);\n    }\n\n    public static class HtmlSelection implements Transferable {\n\n        private static List&lt;DataFlavor&gt; htmlFlavors = new ArrayList&lt;&gt;(3);\n\n        static {\n                htmlFlavors.add(DataFlavor.stringFlavor);\n                htmlFlavors.add(DataFlavor.allHtmlFlavor);\n        }\n\n        private String html;\n        private String plainText;\n\n        public HtmlSelection(String html, String plainText) {\n            this.html = html;\n            this.plainText = plainText;\n        }\n\n        public DataFlavor[] getTransferDataFlavors() {\n            return (DataFlavor[]) htmlFlavors.toArray(new DataFlavor[htmlFlavors.size()]);\n        }\n\n        public boolean isDataFlavorSupported(DataFlavor flavor) {\n            return htmlFlavors.contains(flavor);\n        }\n\n        public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException {\n\n            String toBeExported = plainText;\n            if (flavor == DataFlavor.stringFlavor) {\n                toBeExported = plainText;\n            } else if (flavor == DataFlavor.allHtmlFlavor) {\n                toBeExported = html;\n            }\n\n            if (String.class.equals(flavor.getRepresentationClass())) {\n                return toBeExported;\n            }\n            throw new UnsupportedFlavorException(flavor);\n        }\n    }\n}\n</code></pre>\n<p>You should also beware that some applications may prefer a different method of export (ie via a <code>Reader</code> or <code>InputStream</code>), this is demonstrated in...</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24966974/copy-jtable-row-with-its-grid-lines-into-excel-word-documents/24978019#24978019\">Copy jTable row with its grid lines into excel/word documents</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30518705/copy-jtextarea-as-text-html-dataflavor/30519137#30519137\">Copy JTextArea as &quot;text/html&quot; DataFlavor</a></li>\n</ul>\n"}],"owner":{"account_id":13381263,"reputation":37,"user_id":9656454,"display_name":"RHSkinner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71551196,"answer_count":1,"score":2,"last_activity_date":1647815972,"creation_date":1647807696,"question_id":71550362,"body_markdown":"I need to set clipboard contents, with a java application, such that there are two MIME types available to the user. This will allow the user to paste the version of the text they want to.\r\n\r\nI found an example that applies to JavaScript, I&#39;m hoping that there is an equivalent for Java.\r\n\r\nJavaScript Example:\r\n\r\n    const blob = new Blob([\r\n        &#39;&lt;a href=&quot;https://stackoverflow.com/&quot;&gt;goto stack&lt;/a&gt;&#39;\r\n    ], { type: &quot;text/html&quot; });\r\n    const blobPlain = new Blob([&#39;goto stack&#39;], { type: &quot;text/plain&quot; });\r\n    \r\n    navigator.clipboard.write([\r\n        new ClipboardItem({\r\n            [blob.type]: blob,\r\n            [blobPlain.type]: blobPlain\r\n        },),\r\n    ])\r\n\r\nThis is essentially what I have in my Java application:\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.StringSelection;\r\n    import java.awt.datatransfer.Clipboard;\r\n    \r\n    public class tester{\r\n    \r\n     public static void main(String[] args){\r\n    \r\n         // from string to clipboard\r\n        StringSelection selection = new StringSelection(&quot;hi&quot;);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(selection, selection);\r\n     }\r\n    }\r\n\r\nI know how to set the contents, with either a &quot;text/plain&quot; string or a &quot;text/html&quot; string. The above Java example will place a plain-text string in the clipboard, it can easily be modified to put HTML formatted text in the clipboard instead - but only one or the other, not both.\r\n\r\nIf I use the following code, I can get the clipboard contents as a transferable object and then set the clipboard to that same transferable object.\r\n\r\n    @Override\r\n        public void run() {\r\n            try {\r\n                    Transferable trans = systemClipboard.getContents(this);\r\n                    setThisOwner(trans);\r\n                    ClipboardMonitor.sleep(sleepInterval);\r\n                }\r\n            } catch (Exception ex) {\r\n                System.out.println(ex.toString());\r\n            }\r\n        \r\n    \r\n        private void setThisOwner(Transferable clipContents) {\r\n            try {\r\n                systemClipboard.setContents(clipContents, this);\r\n            } catch (Exception ex) {\r\n                System.out.println(ex.toString());\r\n            }\r\n        }\r\n\r\nThe above isn&#39;t useful so far as my question here is concerned, but the code appears to indicate to me that there should be a way to do what I want to. If I could, for example, create a custom &quot;Transferable&quot; and place that in &quot;setContents()&quot;?\r\n\r\nIs there a way I can place both plain-text and HTML strings in the clipboard? \r\n\r\n","title":"How to copy text/html and text/plain to clipboard using Java","body":"<p>I need to set clipboard contents, with a java application, such that there are two MIME types available to the user. This will allow the user to paste the version of the text they want to.</p>\n<p>I found an example that applies to JavaScript, I'm hoping that there is an equivalent for Java.</p>\n<p>JavaScript Example:</p>\n<pre><code>const blob = new Blob([\n    '&lt;a href=&quot;https://stackoverflow.com/&quot;&gt;goto stack&lt;/a&gt;'\n], { type: &quot;text/html&quot; });\nconst blobPlain = new Blob(['goto stack'], { type: &quot;text/plain&quot; });\n\nnavigator.clipboard.write([\n    new ClipboardItem({\n        [blob.type]: blob,\n        [blobPlain.type]: blobPlain\n    },),\n])\n</code></pre>\n<p>This is essentially what I have in my Java application:</p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.datatransfer.StringSelection;\nimport java.awt.datatransfer.Clipboard;\n\npublic class tester{\n\n public static void main(String[] args){\n\n     // from string to clipboard\n    StringSelection selection = new StringSelection(&quot;hi&quot;);\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(selection, selection);\n }\n}\n</code></pre>\n<p>I know how to set the contents, with either a &quot;text/plain&quot; string or a &quot;text/html&quot; string. The above Java example will place a plain-text string in the clipboard, it can easily be modified to put HTML formatted text in the clipboard instead - but only one or the other, not both.</p>\n<p>If I use the following code, I can get the clipboard contents as a transferable object and then set the clipboard to that same transferable object.</p>\n<pre><code>@Override\n    public void run() {\n        try {\n                Transferable trans = systemClipboard.getContents(this);\n                setThisOwner(trans);\n                ClipboardMonitor.sleep(sleepInterval);\n            }\n        } catch (Exception ex) {\n            System.out.println(ex.toString());\n        }\n    \n\n    private void setThisOwner(Transferable clipContents) {\n        try {\n            systemClipboard.setContents(clipContents, this);\n        } catch (Exception ex) {\n            System.out.println(ex.toString());\n        }\n    }\n</code></pre>\n<p>The above isn't useful so far as my question here is concerned, but the code appears to indicate to me that there should be a way to do what I want to. If I could, for example, create a custom &quot;Transferable&quot; and place that in &quot;setContents()&quot;?</p>\n<p>Is there a way I can place both plain-text and HTML strings in the clipboard?</p>\n"},{"tags":["java","eclipse","autocomplete","ide","content-assist"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647857899,"post_id":71550961,"comment_id":126467957,"body_markdown":"I can&#39;t reproduce this, nor have I ever seen it myself or heard about it from others. Please provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) to reproduce your issue with current Eclipse 2022-03 and a fresh workspace (to make sure it is not caused by a plugin you have installed).","body":"I can&#39;t reproduce this, nor have I ever seen it myself or heard about it from others. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> to reproduce your issue with current Eclipse 2022-03 and a fresh workspace (to make sure it is not caused by a plugin you have installed)."},{"owner":{"account_id":22441774,"reputation":135,"user_id":16646191,"display_name":"Vance Brockberg"},"score":0,"creation_date":1647921567,"post_id":71550961,"comment_id":126487043,"body_markdown":"@howlger I restarted eclipse and the problem seems to have disappeared.. I don&#39;t think I could reproduce it at this point. If anyone has any idea what might have caused this &quot;glitch&quot; I would be interested in knowing..","body":"@howlger I restarted eclipse and the problem seems to have disappeared.. I don&#39;t think I could reproduce it at this point. If anyone has any idea what might have caused this &quot;glitch&quot; I would be interested in knowing.."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647934573,"post_id":71550961,"comment_id":126489503,"body_markdown":"Look in the error log whether there is something.","body":"Look in the error log whether there is something."}],"owner":{"account_id":22441774,"reputation":135,"user_id":16646191,"display_name":"Vance Brockberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647815906,"creation_date":1647813314,"question_id":71550961,"body_markdown":"When I press + press ctrl+space, `Eclipse` shows a list of suggestions via `Content Assist`:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nHowever, when I click on any of the suggestions, nothing happens. In other words, it doesn&#39;t actually select the suggestion I clicked on.\r\n\r\nWhat might be causing this?\r\n\r\n\r\nP.S\r\n\r\n[This question][2] deals with a case where `Content Assist` does not showing proposals at all so it is not the same as the scenario I&#39;m describing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kkAXu.jpg\r\n  [2]: https://stackoverflow.com/a/56906167","title":"Unable to Select Suggestion in Eclipse via Content Assist?","body":"<p>When I press + press ctrl+space, <code>Eclipse</code> shows a list of suggestions via <code>Content Assist</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/kkAXu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kkAXu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>However, when I click on any of the suggestions, nothing happens. In other words, it doesn't actually select the suggestion I clicked on.</p>\n<p>What might be causing this?</p>\n<p>P.S</p>\n<p><a href=\"https://stackoverflow.com/a/56906167\">This question</a> deals with a case where <code>Content Assist</code> does not showing proposals at all so it is not the same as the scenario I'm describing.</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1432573792,"post_id":30437058,"comment_id":48967970,"body_markdown":"possible duplicate of [Java Date rounding](http://stackoverflow.com/questions/9001384/java-date-rounding)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9001384/java-date-rounding\">Java Date rounding</a>"}],"answers":[{"tags":[],"owner":{"account_id":411395,"reputation":4636,"user_id":783818,"accept_rate":100,"display_name":"Asif Mujteba"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1432555101,"creation_date":1432552510,"answer_id":30437091,"question_id":30437058,"body_markdown":"You can use use the [`Calendar`][1] class to do this:\r\n\r\n    public Date roundToNextWholeHour(Date date) {\r\n        Calendar c = new GregorianCalendar();\r\n        c.setTime(date);\r\n        c.add(Calendar.HOUR, 1);\r\n        c.set(Calendar.MINUTE, 0);\r\n        c.set(Calendar.SECOND, 0);\r\n        return c.getTime();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","title":"Android: How to round date to 00 of next hour","body":"<p>You can use use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> class to do this:</p>\n\n<pre><code>public Date roundToNextWholeHour(Date date) {\n    Calendar c = new GregorianCalendar();\n    c.setTime(date);\n    c.add(Calendar.HOUR, 1);\n    c.set(Calendar.MINUTE, 0);\n    c.set(Calendar.SECOND, 0);\n    return c.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296058,"reputation":219,"user_id":3511120,"accept_rate":86,"display_name":"Srb"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1432555120,"creation_date":1432553964,"answer_id":30437523,"question_id":30437058,"body_markdown":"Easy way to solve this issue:\r\n\r\n    var d = new Date();\r\n    d.setMinutes (d.getMinutes() + 60);\r\n    d.setMinutes (0);","title":"Android: How to round date to 00 of next hour","body":"<p>Easy way to solve this issue:</p>\n\n<pre><code>var d = new Date();\nd.setMinutes (d.getMinutes() + 60);\nd.setMinutes (0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8335169,"reputation":706,"user_id":6262353,"display_name":"Vladislav Shcherbakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647815771,"creation_date":1647815771,"answer_id":71551180,"question_id":30437058,"body_markdown":"\r\n    fun roundDate(date: Date): Date {\r\n            val minToMs = TimeUnit.MINUTES.toMillis(60)\r\n            val roundAdd = minToMs - date.time % minToMs\r\n            return Date(date.time + roundAdd)\r\n    }","title":"Android: How to round date to 00 of next hour","body":"<pre><code>fun roundDate(date: Date): Date {\n        val minToMs = TimeUnit.MINUTES.toMillis(60)\n        val roundAdd = minToMs - date.time % minToMs\n        return Date(date.time + roundAdd)\n}\n</code></pre>\n"}],"owner":{"account_id":6361081,"reputation":53,"user_id":4936558,"display_name":"Soul Ripper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2247,"favorite_count":0,"down_vote_count":5,"up_vote_count":6,"accepted_answer_id":30437091,"answer_count":3,"score":1,"last_activity_date":1647815771,"creation_date":1432552416,"question_id":30437058,"body_markdown":"I want to round a `Date` object to the next whole hour. For example, 04:15 should be converted to 05:00.\r\n\r\nHow can I do this?","title":"Android: How to round date to 00 of next hour","body":"<p>I want to round a <code>Date</code> object to the next whole hour. For example, 04:15 should be converted to 05:00.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","finance","tws"],"answers":[{"tags":[],"owner":{"account_id":5303277,"reputation":991,"user_id":4232127,"display_name":"dno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647815550,"creation_date":1647811276,"answer_id":71550745,"question_id":71473146,"body_markdown":"reqOptionsMktData is obviously a method in the sample code you are using. Not sure what particular code your using, so this is a general response.\r\n\r\nFirstly you are correct, there is no way to tell via the API, this must be done by the client. Of course it will provide the requestID that was used when the request was made. The client needs to remember what each requestID was for and decide how to process that information when it is received in the callbacks.\r\nThis can be done via a dictionary or hashtable, where upon receiving data in the callback then check if the chain is complete.\r\n\r\nMessage delivery from the API often has unexpected results, receiving extra messages is common and is something that needs to be taken into account by the client. Consider the API stateless, and track everything in the client.\r\n\r\nSeems you are referring to Regulatory Snapshots, I would encourage you to look at the cost. It could quite quickly add up to the price of streaming live data. Add to that the 1/sec limit will make a chain take a long time to load. I wouldn&#39;t even recommend using snapshots with live data, cancelling the request yourself is trivial and much faster.\r\n\r\nSomething like (this is obviously incomplete C#, just a starting point)\r\n```\r\nclass OptionData\r\n{\r\n\tpublic int ReqId { get; }\r\n\tpublic double Strike { get; }\r\n\tpublic string Expiry { get; }\r\n\tpublic double? Bid { get; set; } = null;\r\n\tpublic double? Ask { get; set; } = null;\r\n\r\n\tpublic bool IsComplete()\r\n\t{\r\n\t\treturn Bid != null &amp;&amp; Ask != null;\r\n\t}\r\n\r\n\tpublic OptionData(int reqId, double strike, ....\r\n\t{ ...\r\n}\r\n\r\n...\r\nclass MyData()\r\n{\r\n\t// Create somewhere to store our data, indexed by reqId.\r\n\tDictionary&lt;int, OptionData&gt; optChain = new();\r\n\r\n\tpublic MyData()\r\n\t{\r\n\t\t// We would want to call reqSecDefOptParams to get a list of strikes etc.\r\n\t\t// Choose which part of the chain you want, likely you&#39;ll want to\r\n\t\t// get the current price of the underlying to decide.\r\n\t\tint reqId = 1;\r\n\t\t...\r\n\t\toptChain.Add(++reqId, new OptionData(reqId,strike,expiry));\r\n\t\t...\r\n\r\n\t\t// Request data for each contract\r\n\t\t// Note the 50 msg/sec limit https://interactivebrokers.github.io/tws-api/introduction.html#fifty_messages\r\n\t\t// Only 1/sec for Reg snapshot\r\n\t\tforeach(OptionData opt in optChain)\r\n\t\t{\r\n\t\t\tContract con = new() \r\n\t\t\t{ \r\n\t\t\t\tSymbol = &quot;SPY&quot;, \r\n\t\t\t\tCurrency = &quot;USD&quot;\r\n\t\t\t\tExchange = &quot;SMART&quot;, \r\n\t\t\t\tRight = &quot;C&quot;,\r\n\t\t\t\tSecType = &quot;OPT&quot;,\r\n\t\t\t\tStrike = opt.strike, \r\n\t\t\t\tExpiry = opt.Expiry \r\n\t\t\t};\r\n\t\t\tibClient.ClientSocket.reqMktData(opt.ReqId, con, &quot;&quot;, false, true, new List&lt;TagValue&gt;());\r\n\t\t}\r\n\t}\r\n\r\n\t...\r\n\tprivate void Recv_TickPrice(TickPriceMessage msg)\r\n\t{\r\n\t\tif(optChain.ContainsKey(msg.RequestId))\r\n\t\t{\r\n\t\t\tif (msg.Field == 2) optChain[msg.RequestId].Ask = msg.Price;\r\n\t\t\tif (msg.Field == 1) optChain[msg.RequestId].Bid = msg.Price;\r\n\t\t\t// You may want other tick types as well\r\n\t\t\t// see https://interactivebrokers.github.io/tws-api/tick_types.html\r\n\t\t\tif(optChain[msg.RequestId].IsComplete())\r\n\t\t\t{\r\n\t\t\t\t// This wont apply for reg snapshot.\r\n\t\t\t\tibClient.ClientSocket.cancelMktData(msg.RequestId);\r\n\t\t\t\t// You have the data, and have cancelled the request.\r\n\t\t\t\t// Maybe request more data or update display etc...\r\n\r\n\t\t\t\t// Check if the whole chain is complete\r\n\t\t\t\tbool complete=true;\r\n\t\t\t\tforeach(OptionData opt in optChain)\r\n\t\t\t\t\tif(!opt.IsComplete()) complete=false;\r\n\r\n\t\t\t\tif(complete)\r\n\t\t\t\t// do whatever\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"IBKR TWS API - How to tell when reqOptionsMktData is complete for all strikes?","body":"<p>reqOptionsMktData is obviously a method in the sample code you are using. Not sure what particular code your using, so this is a general response.</p>\n<p>Firstly you are correct, there is no way to tell via the API, this must be done by the client. Of course it will provide the requestID that was used when the request was made. The client needs to remember what each requestID was for and decide how to process that information when it is received in the callbacks.\nThis can be done via a dictionary or hashtable, where upon receiving data in the callback then check if the chain is complete.</p>\n<p>Message delivery from the API often has unexpected results, receiving extra messages is common and is something that needs to be taken into account by the client. Consider the API stateless, and track everything in the client.</p>\n<p>Seems you are referring to Regulatory Snapshots, I would encourage you to look at the cost. It could quite quickly add up to the price of streaming live data. Add to that the 1/sec limit will make a chain take a long time to load. I wouldn't even recommend using snapshots with live data, cancelling the request yourself is trivial and much faster.</p>\n<p>Something like (this is obviously incomplete C#, just a starting point)</p>\n<pre><code>class OptionData\n{\n    public int ReqId { get; }\n    public double Strike { get; }\n    public string Expiry { get; }\n    public double? Bid { get; set; } = null;\n    public double? Ask { get; set; } = null;\n\n    public bool IsComplete()\n    {\n        return Bid != null &amp;&amp; Ask != null;\n    }\n\n    public OptionData(int reqId, double strike, ....\n    { ...\n}\n\n...\nclass MyData()\n{\n    // Create somewhere to store our data, indexed by reqId.\n    Dictionary&lt;int, OptionData&gt; optChain = new();\n\n    public MyData()\n    {\n        // We would want to call reqSecDefOptParams to get a list of strikes etc.\n        // Choose which part of the chain you want, likely you'll want to\n        // get the current price of the underlying to decide.\n        int reqId = 1;\n        ...\n        optChain.Add(++reqId, new OptionData(reqId,strike,expiry));\n        ...\n\n        // Request data for each contract\n        // Note the 50 msg/sec limit https://interactivebrokers.github.io/tws-api/introduction.html#fifty_messages\n        // Only 1/sec for Reg snapshot\n        foreach(OptionData opt in optChain)\n        {\n            Contract con = new() \n            { \n                Symbol = &quot;SPY&quot;, \n                Currency = &quot;USD&quot;\n                Exchange = &quot;SMART&quot;, \n                Right = &quot;C&quot;,\n                SecType = &quot;OPT&quot;,\n                Strike = opt.strike, \n                Expiry = opt.Expiry \n            };\n            ibClient.ClientSocket.reqMktData(opt.ReqId, con, &quot;&quot;, false, true, new List&lt;TagValue&gt;());\n        }\n    }\n\n    ...\n    private void Recv_TickPrice(TickPriceMessage msg)\n    {\n        if(optChain.ContainsKey(msg.RequestId))\n        {\n            if (msg.Field == 2) optChain[msg.RequestId].Ask = msg.Price;\n            if (msg.Field == 1) optChain[msg.RequestId].Bid = msg.Price;\n            // You may want other tick types as well\n            // see https://interactivebrokers.github.io/tws-api/tick_types.html\n            if(optChain[msg.RequestId].IsComplete())\n            {\n                // This wont apply for reg snapshot.\n                ibClient.ClientSocket.cancelMktData(msg.RequestId);\n                // You have the data, and have cancelled the request.\n                // Maybe request more data or update display etc...\n\n                // Check if the whole chain is complete\n                bool complete=true;\n                foreach(OptionData opt in optChain)\n                    if(!opt.IsComplete()) complete=false;\n\n                if(complete)\n                // do whatever\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1521511,"reputation":1684,"user_id":1421014,"accept_rate":77,"display_name":"h_k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647815550,"creation_date":1647285633,"question_id":71473146,"body_markdown":"I am just getting started with IBKR API on Java. I am following the API sample code, specifically the options chain example, to figure out how to get options chains for specific stocks. \r\n\r\nThe example works well for this, but I have one question - how do I know once ALL data has been loaded? There does not seem to be a way to tell. The sample code is able to tell when each individual row has been loaded, but there doesn&#39;t seem to be a way to tell when ALL strikes have been successfully loaded.\r\n\r\nI thought that using `tickSnapshotEnd()` would be beneficial, but it doesn&#39;t not seem to work as I would expect it to. I would expect it to be called once for every request that completes. For example, if I do a query for a stock like SOFI on the 2022/03/18 expiry, I see that there are 35 strikes but `tickSnapshotEnd()` is called 40+ times, with some strikes repeated more than once. \r\n\r\nNote that I am doing requests for snapshot data, not live/streaming data","title":"IBKR TWS API - How to tell when reqOptionsMktData is complete for all strikes?","body":"<p>I am just getting started with IBKR API on Java. I am following the API sample code, specifically the options chain example, to figure out how to get options chains for specific stocks.</p>\n<p>The example works well for this, but I have one question - how do I know once ALL data has been loaded? There does not seem to be a way to tell. The sample code is able to tell when each individual row has been loaded, but there doesn't seem to be a way to tell when ALL strikes have been successfully loaded.</p>\n<p>I thought that using <code>tickSnapshotEnd()</code> would be beneficial, but it doesn't not seem to work as I would expect it to. I would expect it to be called once for every request that completes. For example, if I do a query for a stock like SOFI on the 2022/03/18 expiry, I see that there are 35 strikes but <code>tickSnapshotEnd()</code> is called 40+ times, with some strikes repeated more than once.</p>\n<p>Note that I am doing requests for snapshot data, not live/streaming data</p>\n"},{"tags":["java","exception","radix-tree"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1647810329,"post_id":71550620,"comment_id":126458950,"body_markdown":"Have you considered the case where `word` is empty?","body":"Have you considered the case where <code>word</code> is empty?"},{"owner":{"account_id":24231417,"reputation":1,"user_id":18185126,"display_name":"anonymous"},"score":0,"creation_date":1647810851,"post_id":71550620,"comment_id":126459041,"body_markdown":"@Sweeper not yet, but i put the word as a parameter so i know that it&#39;s not empty in this case","body":"@Sweeper not yet, but i put the word as a parameter so i know that it&#39;s not empty in this case"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647810341,"creation_date":1647810341,"answer_id":71550644,"question_id":71550620,"body_markdown":"The most likely reason is because your String `word` is empty.\r\n\r\nYou should check for emptiness before:\r\n\r\n    private void addWord(String word, RadixNode node) {\r\n      if (word.isEmpty()) {\r\n        // do nothing\r\n        return;\r\n      }\r\n      ...\r\n    }\r\n\r\nYou could also throw an explicit exception (eg: `IllegalArgumentException`) or handle this case.\r\n\r\nIf word should not be empty, then that&#39;s mean you have to check method calling `addWord`.","title":"why does this give a StringIndexOutOfBoundsException?","body":"<p>The most likely reason is because your String <code>word</code> is empty.</p>\n<p>You should check for emptiness before:</p>\n<pre><code>private void addWord(String word, RadixNode node) {\n  if (word.isEmpty()) {\n    // do nothing\n    return;\n  }\n  ...\n}\n</code></pre>\n<p>You could also throw an explicit exception (eg: <code>IllegalArgumentException</code>) or handle this case.</p>\n<p>If word should not be empty, then that's mean you have to check method calling <code>addWord</code>.</p>\n"}],"owner":{"account_id":24231417,"reputation":1,"user_id":18185126,"display_name":"anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647815509,"creation_date":1647810115,"question_id":71550620,"body_markdown":"This code is part of a method to add a word to a radix tree. if I call this method with the word in the parameter [e.g. addWord(&quot;food&quot;, node)], it throws a ```StringIndexOutOfBoundsException``` at the ```char character = word.charAt(0);``` line. I am struggling to figure out why that is. I have tried changing the number and still gets the same result.\r\n\r\n\r\n```\r\n\tprivate void addWord(String word, RadixNode node) \r\n\t{\r\n\t    RadixNode childNode;\r\n\t    word = word.toLowerCase();\r\n\t    do\r\n\t    {\r\n\t\t    char character = word.charAt(0);\r\n```\r\n","title":"why does this give a StringIndexOutOfBoundsException?","body":"<p>This code is part of a method to add a word to a radix tree. if I call this method with the word in the parameter [e.g. addWord(&quot;food&quot;, node)], it throws a <code>StringIndexOutOfBoundsException</code> at the <code>char character = word.charAt(0);</code> line. I am struggling to figure out why that is. I have tried changing the number and still gets the same result.</p>\n<pre><code>    private void addWord(String word, RadixNode node) \n    {\n        RadixNode childNode;\n        word = word.toLowerCase();\n        do\n        {\n            char character = word.charAt(0);\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1533737626,"post_id":51748701,"comment_id":90457516,"body_markdown":"@Billy Frost  check to edit","body":"@Billy Frost  check to edit"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1533738399,"post_id":51748701,"comment_id":90458082,"body_markdown":"@Billy Frost Is there a way to tell Criteria which schema to look for?","body":"@Billy Frost Is there a way to tell Criteria which schema to look for?"},{"owner":{"account_id":4602795,"reputation":8202,"user_id":3733070,"accept_rate":100,"display_name":"404"},"score":0,"creation_date":1533741799,"post_id":51748701,"comment_id":90460471,"body_markdown":"What&#39;s the exact error you&#39;re getting (check your postgres log file, it should tell you the name of the relation that doesn&#39;t exist) and what&#39;s the actual name of the table (check psql/pgadmin). My guess is there&#39;s a case sensitivity issue.","body":"What&#39;s the exact error you&#39;re getting (check your postgres log file, it should tell you the name of the relation that doesn&#39;t exist) and what&#39;s the actual name of the table (check psql/pgadmin). My guess is there&#39;s a case sensitivity issue."},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1533791296,"post_id":51748701,"comment_id":90477552,"body_markdown":"@eurotrash The error is: PSQLException: ERROR: relation doesn&#39;t exist. Because `session.createCriteria(entityClass)` doesn&#39;t append schema name while creating SQL query. So `SELECT * FROM EMPLOYEE` throws the error above. Sql query must be as such: `SELECT * FROM MYSCHEMA.EMPLOYEE`","body":"@eurotrash The error is: PSQLException: ERROR: relation doesn&#39;t exist. Because <code>session.createCriteria(entityClass)</code> doesn&#39;t append schema name while creating SQL query. So <code>SELECT * FROM EMPLOYEE</code> throws the error above. Sql query must be as such: <code>SELECT * FROM MYSCHEMA.EMPLOYEE</code>"}],"answers":[{"tags":[],"owner":{"account_id":3514610,"reputation":57,"user_id":2938357,"display_name":"Brian Quinn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647815307,"creation_date":1647815307,"answer_id":71551143,"question_id":51748701,"body_markdown":"For Postgres you might get this if your table name is not lower case ","title":"PSQLException: ERROR: relation doesn&#39;t exist","body":"<p>For Postgres you might get this if your table name is not lower case</p>\n"}],"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647815307,"creation_date":1533737070,"question_id":51748701,"body_markdown":"I&#39;m using Hibernate and PostgreSQL database. **I have several schemas (and many tables in each of them)** and a generic method which takes an entity class and returns all entries depending on passed entity:\r\n\r\n`public &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; entityClass)`\r\n\r\nAfter finding the table name of entity (&quot;EMPLOYEE&quot; for example),  it does    `List list = criteria.list();`  which creates this sql `SELECT * FROM EMPLOYEE`. But it throws `PSQLException: ERROR: relation doesn&#39;t exist` because it must be `SELECT * FROM MYSCHEMA.EMPLOYEE` (schema must be appended). How to handle it? \r\n\r\nThis is not my method, as i&#39;m using Spring Data JPA in persistence layer and it has no problem with identifying a schema and i&#39;m not good in native hibernate. I&#39;m trying to help my colleague.\r\n    \r\n \r\nAnd here&#39;s the method:\r\n\r\n     @Override\r\n    @Transactional\r\n    public &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; entityClass, Map&lt;String, Object&gt; filter, String... fetchProfiles) {\r\n        Session session;\r\n        try {\r\n            session = sessionFactory.getCurrentSession();\r\n\r\n            if (fetchProfiles != null) {\r\n                for (String fetchProfile : fetchProfiles) {\r\n                    session.enableFetchProfile(fetchProfile);\r\n                }\r\n            }\r\n            Criteria criteria = session.createCriteria(entityClass);\r\n\r\n            if (filter != null) {\r\n                for (Map.Entry&lt;String, Object&gt; entry : filter.entrySet()) {\r\n                    if (entry.getValue() == null) {\r\n                        criteria.add(Restrictions.isNull(entry.getKey()));\r\n                    } else {\r\n                        if (entry.getValue() instanceof Collection) {\r\n                            criteria.add(Restrictions.in(entry.getKey(), (Collection) entry.getValue()));\r\n                        } else if (entry.getValue() instanceof BetweenValue) {\r\n                            BetweenValue bv = (BetweenValue) entry.getValue();\r\n                            if (bv.getBoundLeft() != null) {\r\n                                criteria.add(Restrictions.ge(entry.getKey(), bv.getBoundLeft()));\r\n                            }\r\n                            if (bv.getBoundRight() != null) {\r\n                                criteria.add(Restrictions.le(entry.getKey(), bv.getBoundRight()));\r\n                            }\r\n                        } else if (BaseEntity.class.isAssignableFrom(ReflectionUtils.findField(entityClass, entry.getKey()).getType()) &amp;&amp; entry.getValue() instanceof Long) {\r\n                            BaseEntity fieldEntity = null;\r\n                            try {\r\n                                fieldEntity = (BaseEntity) ReflectUtils.createFieldInstance(entityClass, entry.getKey());\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            fieldEntity.setId((Long) entry.getValue());\r\n                            criteria.add(Restrictions.eq(entry.getKey(), fieldEntity));\r\n                        } else {\r\n                            criteria.add(Restrictions.eq(entry.getKey(), entry.getValue()));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n            List list = criteria.list();\r\n            if (fetchProfiles != null) {\r\n                for (String fetchProfile : fetchProfiles) {\r\n                    session.disableFetchProfile(fetchProfile);\r\n                }\r\n            }\r\n            return list;\r\n        }\r\n","title":"PSQLException: ERROR: relation doesn&#39;t exist","body":"<p>I'm using Hibernate and PostgreSQL database. <strong>I have several schemas (and many tables in each of them)</strong> and a generic method which takes an entity class and returns all entries depending on passed entity:</p>\n\n<p><code>public &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; entityClass)</code></p>\n\n<p>After finding the table name of entity (\"EMPLOYEE\" for example),  it does    <code>List list = criteria.list();</code>  which creates this sql <code>SELECT * FROM EMPLOYEE</code>. But it throws <code>PSQLException: ERROR: relation doesn't exist</code> because it must be <code>SELECT * FROM MYSCHEMA.EMPLOYEE</code> (schema must be appended). How to handle it? </p>\n\n<p>This is not my method, as i'm using Spring Data JPA in persistence layer and it has no problem with identifying a schema and i'm not good in native hibernate. I'm trying to help my colleague.</p>\n\n<p>And here's the method:</p>\n\n<pre><code> @Override\n@Transactional\npublic &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; entityClass, Map&lt;String, Object&gt; filter, String... fetchProfiles) {\n    Session session;\n    try {\n        session = sessionFactory.getCurrentSession();\n\n        if (fetchProfiles != null) {\n            for (String fetchProfile : fetchProfiles) {\n                session.enableFetchProfile(fetchProfile);\n            }\n        }\n        Criteria criteria = session.createCriteria(entityClass);\n\n        if (filter != null) {\n            for (Map.Entry&lt;String, Object&gt; entry : filter.entrySet()) {\n                if (entry.getValue() == null) {\n                    criteria.add(Restrictions.isNull(entry.getKey()));\n                } else {\n                    if (entry.getValue() instanceof Collection) {\n                        criteria.add(Restrictions.in(entry.getKey(), (Collection) entry.getValue()));\n                    } else if (entry.getValue() instanceof BetweenValue) {\n                        BetweenValue bv = (BetweenValue) entry.getValue();\n                        if (bv.getBoundLeft() != null) {\n                            criteria.add(Restrictions.ge(entry.getKey(), bv.getBoundLeft()));\n                        }\n                        if (bv.getBoundRight() != null) {\n                            criteria.add(Restrictions.le(entry.getKey(), bv.getBoundRight()));\n                        }\n                    } else if (BaseEntity.class.isAssignableFrom(ReflectionUtils.findField(entityClass, entry.getKey()).getType()) &amp;&amp; entry.getValue() instanceof Long) {\n                        BaseEntity fieldEntity = null;\n                        try {\n                            fieldEntity = (BaseEntity) ReflectUtils.createFieldInstance(entityClass, entry.getKey());\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                        fieldEntity.setId((Long) entry.getValue());\n                        criteria.add(Restrictions.eq(entry.getKey(), fieldEntity));\n                    } else {\n                        criteria.add(Restrictions.eq(entry.getKey(), entry.getValue()));\n                    }\n                }\n            }\n        }\n        criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n        List list = criteria.list();\n        if (fetchProfiles != null) {\n            for (String fetchProfile : fetchProfiles) {\n                session.disableFetchProfile(fetchProfile);\n            }\n        }\n        return list;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":1032025,"reputation":2197,"user_id":6591962,"display_name":"Andrei Kovrov"},"score":1,"creation_date":1602544004,"post_id":64325881,"comment_id":113748659,"body_markdown":"Does this answer your question? [How to solve Timeout FeignClient](https://stackoverflow.com/questions/38080283/how-to-solve-timeout-feignclient)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38080283/how-to-solve-timeout-feignclient\">How to solve Timeout FeignClient</a>"},{"owner":{"account_id":10501820,"reputation":94,"user_id":7740317,"display_name":"Hilmi Reda"},"score":0,"creation_date":1602574932,"post_id":64325881,"comment_id":113755874,"body_markdown":"Add a configuration class  definning two beans of &#39;@Bean\n    public Request.Options options() {\n        return new Request.Options(connectTimeOutMillis, readTimeOutMillis);\n    }&#39;","body":"Add a configuration class  definning two beans of &#39;@Bean     public Request.Options options() {         return new Request.Options(connectTimeOutMillis, readTimeOutMillis);     }&#39;"},{"owner":{"account_id":19549265,"reputation":35,"user_id":14305280,"display_name":"Mr.Fix"},"score":0,"creation_date":1602583133,"post_id":64325881,"comment_id":113759792,"body_markdown":"@hilmi can you explain ,it,,,means how i can i bring it in my case","body":"@hilmi can you explain ,it,,,means how i can i bring it in my case"},{"owner":{"account_id":10501820,"reputation":94,"user_id":7740317,"display_name":"Hilmi Reda"},"score":0,"creation_date":1602586544,"post_id":64325881,"comment_id":113761409,"body_markdown":"There is on way : 1- separate productCreationExternalRequest &amp; productUpdateExternalRequest in separated two feign clients(each feign client use its own configuration &#39;@FeignClient(value = &quot;product-service&quot;, configuration = UpdateFeignConfig.class, fallbackFactory = UpdatetFallbackFactory.class, url = &quot;&quot;)&#39;class that define the read time out ) that reference two services that its not the standard so i think that your need is not applicable for this purpose ..","body":"There is on way : 1- separate productCreationExternalRequest &amp; productUpdateExternalRequest in separated two feign clients(each feign client use its own configuration &#39;@FeignClient(value = &quot;product-service&quot;, configuration = UpdateFeignConfig.class, fallbackFactory = UpdatetFallbackFactory.class, url = &quot;&quot;)&#39;class that define the read time out ) that reference two services that its not the standard so i think that your need is not applicable for this purpose .."}],"answers":[{"tags":[],"owner":{"account_id":22917845,"reputation":356,"user_id":17054178,"display_name":"E.H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647815253,"creation_date":1647814673,"answer_id":71551088,"question_id":64325881,"body_markdown":"You can do it by sending options parameter as argument of you feign methods:\r\n\r\n    @FeignClient(name = &quot;product-service&quot;)\r\n    public interface ProductClient {\r\n        @PostMapping(value = &quot;/product/create&quot;)\r\n        ProductCreation productCreationExternalRequest(ProductCreationRequest productCreationRequest, Request.Options options);\r\n    \r\n        @PostMapping(value = &quot;/product/update&quot;)\r\n        ProductCreation productUpdateExternalRequest(ProductCreationRequest productCreationRequest, Request.Options options);\r\n    }\r\n\r\nAnd then use your methods like next:\r\n\r\n    productClient.productCreationExternalRequest(new ProductCreationRequest(), new Request.Options(300, TimeUnit.MILLISECONDS,\r\n               1000, TimeUnit.MILLISECONDS, true));\r\n    productClient.productUpdateExternalRequest(new ProductCreationRequest(), new Request.Options(100, TimeUnit.MILLISECONDS,\r\n               100, TimeUnit.MILLISECONDS, true));","title":"How to make seperate different read timeout for APIs in feign client?","body":"<p>You can do it by sending options parameter as argument of you feign methods:</p>\n<pre><code>@FeignClient(name = &quot;product-service&quot;)\npublic interface ProductClient {\n    @PostMapping(value = &quot;/product/create&quot;)\n    ProductCreation productCreationExternalRequest(ProductCreationRequest productCreationRequest, Request.Options options);\n\n    @PostMapping(value = &quot;/product/update&quot;)\n    ProductCreation productUpdateExternalRequest(ProductCreationRequest productCreationRequest, Request.Options options);\n}\n</code></pre>\n<p>And then use your methods like next:</p>\n<pre><code>productClient.productCreationExternalRequest(new ProductCreationRequest(), new Request.Options(300, TimeUnit.MILLISECONDS,\n           1000, TimeUnit.MILLISECONDS, true));\nproductClient.productUpdateExternalRequest(new ProductCreationRequest(), new Request.Options(100, TimeUnit.MILLISECONDS,\n           100, TimeUnit.MILLISECONDS, true));\n</code></pre>\n"}],"owner":{"account_id":19549265,"reputation":35,"user_id":14305280,"display_name":"Mr.Fix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647815253,"creation_date":1602540024,"question_id":64325881,"body_markdown":"I am using feign client in my spring boot application and I want to configure separate timeouts for different calls for example if I have update and create calls and I want to set read time out for update = 3000 and for create =12000, how can I do that?\r\n    \r\n\r\n```java\r\n@FeignClient(name = &quot;product-service&quot;)\r\npublic interface ProductClient {\r\n\r\n\t@PostMapping(value = &quot;/product/create&quot;)\r\n\tpublic ProductCreation productCreationExternalRequest(@RequestBody ProductCreationRequest productCreationRequest);\r\n\t\r\n\t@PostMapping(value = &quot;/product/update&quot;)\r\n\tpublic ProductCreation productUpdateExternalRequest(@RequestBody ProductCreationRequest productCreationRequest );\r\n\t\r\n}\r\n```\r\n\t\r\nMy service class is :\r\n```java\r\n\r\n    public class  MyService {\r\n    .\r\n    .\r\n    productCreationResponse = productClient.productCreationExternalRequest(productCreationRequest);\r\n    ..\r\n    productupdateResponse = productClient.productUpdateExternalRequest(productCreationRequest);\r\n    \r\n    }\r\n```","title":"How to make seperate different read timeout for APIs in feign client?","body":"<p>I am using feign client in my spring boot application and I want to configure separate timeouts for different calls for example if I have update and create calls and I want to set read time out for update = 3000 and for create =12000, how can I do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;product-service&quot;)\npublic interface ProductClient {\n\n    @PostMapping(value = &quot;/product/create&quot;)\n    public ProductCreation productCreationExternalRequest(@RequestBody ProductCreationRequest productCreationRequest);\n    \n    @PostMapping(value = &quot;/product/update&quot;)\n    public ProductCreation productUpdateExternalRequest(@RequestBody ProductCreationRequest productCreationRequest );\n    \n}\n</code></pre>\n<p>My service class is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public class  MyService {\n    .\n    .\n    productCreationResponse = productClient.productCreationExternalRequest(productCreationRequest);\n    ..\n    productupdateResponse = productClient.productUpdateExternalRequest(productCreationRequest);\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","api","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1647813328,"post_id":71550950,"comment_id":126459476,"body_markdown":"first of all, `IdModel()` this shouldn&#39;t work, since you have a data class with a primary constructor that you are ignoring. Secondly, what do you want to happen when the value is null? Considering that the IdModel expects a non-null `String`.","body":"first of all, <code>IdModel()</code> this shouldn&#39;t work, since you have a data class with a primary constructor that you are ignoring. Secondly, what do you want to happen when the value is null? Considering that the IdModel expects a non-null <code>String</code>."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1647813887,"post_id":71550950,"comment_id":126459570,"body_markdown":"Does this answer your question? [In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them](https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a>"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1647814059,"post_id":71550950,"comment_id":126459600,"body_markdown":"What you probably want is to do `val idValue: String = iDRepo.findByIdOrNull(email) ?: return null` (note the type of `idValue` is `String`, not `String?`), then you can create and return your model `return IdModel(idValue)`. See the example in the docs https://kotlinlang.org/docs/null-safety.html#elvis-operator. You can also throw the exception if you want, `val idValue: String = iDRepo.findByIdOrNull(email) ?: throw IDLookupException(...)`, and then the return type of your function is non-nullable, `fun lookupIdValue(...): IdModel`","body":"What you probably want is to do <code>val idValue: String = iDRepo.findByIdOrNull(email) ?: return null</code> (note the type of <code>idValue</code> is <code>String</code>, not <code>String?</code>), then you can create and return your model <code>return IdModel(idValue)</code>. See the example in the docs <a href=\"https://kotlinlang.org/docs/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/null-safety.html#elvis-operator</a>. You can also throw the exception if you want, <code>val idValue: String = iDRepo.findByIdOrNull(email) ?: throw IDLookupException(...)</code>, and then the return type of your function is non-nullable, <code>fun lookupIdValue(...): IdModel</code>"}],"answers":[{"tags":[],"owner":{"account_id":1676941,"reputation":498,"user_id":1542237,"accept_rate":50,"display_name":"Anuj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647815024,"creation_date":1647814649,"answer_id":71551083,"question_id":71550950,"body_markdown":"I think you need something like this (please use try catch as per your need, but basic code hopefully will look like this) -\r\n\r\n\r\n    \r\n\r\n    @Service\r\n        class IDLookupService(\r\n            private val iDRepo: IdRepo,\r\n        ) : Logging {\r\n            fun lookupIdValue(email: String): IdModel? {\r\n                runCatching { \r\n                   Failures.failsafeRun {\r\n                     return iDRepo.findByIdOrNull(email)?.run {\r\n                       IdModel(this)\r\n                     } ?: null\r\n                   }\r\n                }.onFailure {\r\n                   throw IDLookupException(&quot;Exception while searching DB for IDValue&quot;)\r\n                }\r\n            }","title":"handle null or return value from jpa repository method","body":"<p>I think you need something like this (please use try catch as per your need, but basic code hopefully will look like this) -</p>\n<pre><code>@Service\n    class IDLookupService(\n        private val iDRepo: IdRepo,\n    ) : Logging {\n        fun lookupIdValue(email: String): IdModel? {\n            runCatching { \n               Failures.failsafeRun {\n                 return iDRepo.findByIdOrNull(email)?.run {\n                   IdModel(this)\n                 } ?: null\n               }\n            }.onFailure {\n               throw IDLookupException(&quot;Exception while searching DB for IDValue&quot;)\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":13954908,"reputation":11,"user_id":10077570,"display_name":"Yazzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647815024,"creation_date":1647813197,"question_id":71550950,"body_markdown":"How do I grab whatever value comes back from the JpaRepository findByIdOrNull method and return?\r\n\r\n    @Service\r\n    class IDLookupService(\r\n        private val iDRepo: IdRepo,\r\n    ) : Logging {\r\n        fun lookupIdValue(email: String): IdModel? {\r\n            var response = IdModel()\r\n            runCatching { \r\n                Failures.failsafeRun {\r\n                    iDRepo.findByIdOrNull(email)\r\n                }\r\n            }.onFailure {\r\n                throw IDLookupException(&quot;Exception while searching DB for IDValue&quot;)\r\n            }\r\n            return response\r\n        }\r\n    }\r\n    \r\n    @JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy::class)\r\n    data class IdModel(\r\n        val IdValue: String\r\n        )\r\n\r\n\r\nit could be a value that should go directly into the IdModel I setup or null. I seem to be having issues with the !! not-null assertion operator whenever I try to assign variables within the failsafe run ","title":"handle null or return value from jpa repository method","body":"<p>How do I grab whatever value comes back from the JpaRepository findByIdOrNull method and return?</p>\n<pre><code>@Service\nclass IDLookupService(\n    private val iDRepo: IdRepo,\n) : Logging {\n    fun lookupIdValue(email: String): IdModel? {\n        var response = IdModel()\n        runCatching { \n            Failures.failsafeRun {\n                iDRepo.findByIdOrNull(email)\n            }\n        }.onFailure {\n            throw IDLookupException(&quot;Exception while searching DB for IDValue&quot;)\n        }\n        return response\n    }\n}\n\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy::class)\ndata class IdModel(\n    val IdValue: String\n    )\n</code></pre>\n<p>it could be a value that should go directly into the IdModel I setup or null. I seem to be having issues with the !! not-null assertion operator whenever I try to assign variables within the failsafe run</p>\n"},{"tags":["java","colors","processing","philips-hue"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1395420043,"post_id":22564187,"comment_id":34344967,"body_markdown":"The HSB values look right.  I went to colorpicker.com.  The values it accepts for H, S, B have maximums of 360, 100, 100 (like Gary said), so your values translate to H=193, S=39, B=82, which shows up as a bluish color with RGB very close to your original values.  I&#39;d double-check the hardware documentation to find out exactly what values it&#39;s expecting (most importantly, what range of values).","body":"The HSB values look right.  I went to colorpicker.com.  The values it accepts for H, S, B have maximums of 360, 100, 100 (like Gary said), so your values translate to H=193, S=39, B=82, which shows up as a bluish color with RGB very close to your original values.  I&#39;d double-check the hardware documentation to find out exactly what values it&#39;s expecting (most importantly, what range of values)."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1395420253,"post_id":22564187,"comment_id":34345088,"body_markdown":"@GaryKlasen No, the [Philips Hue API](http://developers.meethue.com/1_lightsapi.html#16_set_light_state) uses values of 0–255 for brightness and saturation, and 0–65535 for the hue angle.","body":"@GaryKlasen No, the <a href=\"http://developers.meethue.com/1_lightsapi.html#16_set_light_state\" rel=\"nofollow noreferrer\">Philips Hue API</a> uses values of 0–255 for brightness and saturation, and 0–65535 for the hue angle."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1395420442,"post_id":22564187,"comment_id":34345217,"body_markdown":"Instead of testing the light with values computed from RGB, try hardcoding HSB values for known colors and make sure that the light is behaving properly. In other words, isolate the problem by determining whether your conversion is wrong, or the communication with the light is broken.","body":"Instead of testing the light with values computed from RGB, try hardcoding HSB values for known colors and make sure that the light is behaving properly. In other words, isolate the problem by determining whether your conversion is wrong, or the communication with the light is broken."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1395425598,"post_id":22564187,"comment_id":34348409,"body_markdown":"@erickson Betcha that after all this discussion, the answer is going to be that somebody plugged some wire into the wrong hole.  :)","body":"@erickson Betcha that after all this discussion, the answer is going to be that somebody plugged some wire into the wrong hole.  :)"},{"owner":{"account_id":1442445,"reputation":6760,"user_id":2976366,"accept_rate":58,"display_name":"timr"},"score":0,"creation_date":1395435616,"post_id":22564187,"comment_id":34354219,"body_markdown":"@erickson The light bulbs do show correct colors when playing around with the official Philips App. There are three of the the chance that they are all broken at the same time, ...","body":"@erickson The light bulbs do show correct colors when playing around with the official Philips App. There are three of the the chance that they are all broken at the same time, ..."},{"owner":{"account_id":1116560,"reputation":3471,"user_id":1105759,"accept_rate":92,"display_name":"Nico"},"score":0,"creation_date":1395436193,"post_id":22564187,"comment_id":34354488,"body_markdown":"Could your `colorMode()` be the culprit? http://processing.org/reference/colorMode_.html Being able to see some code is usually helpful.","body":"Could your <code>colorMode()</code> be the culprit? <a href=\"http://processing.org/reference/colorMode_.html\" rel=\"nofollow noreferrer\">processing.org/reference/colorMode_.html</a> Being able to see some code is usually helpful."},{"owner":{"account_id":1442445,"reputation":6760,"user_id":2976366,"accept_rate":58,"display_name":"timr"},"score":0,"creation_date":1395436360,"post_id":22564187,"comment_id":34354556,"body_markdown":"The Colors are sent to the Philips Hue Light Bulbs they are set on Colormode &#39;hs&#39;. It doens&#39;t matter what colorMode Processing is using.\nhttp://developers.meethue.com/1_lightsapi.html","body":"The Colors are sent to the Philips Hue Light Bulbs they are set on Colormode &#39;hs&#39;. It doens&#39;t matter what colorMode Processing is using. <a href=\"http://developers.meethue.com/1_lightsapi.html\" rel=\"nofollow noreferrer\">developers.meethue.com/1_lightsapi.html</a>"},{"owner":{"account_id":1116560,"reputation":3471,"user_id":1105759,"accept_rate":92,"display_name":"Nico"},"score":0,"creation_date":1395436546,"post_id":22564187,"comment_id":34354643,"body_markdown":"I see. Missed your last edit.","body":"I see. Missed your last edit."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1395437021,"post_id":22564187,"comment_id":34354873,"body_markdown":"I wasn&#39;t suggesting the bulbs were broken, but questioning whether the bug is in conversion or some later code. Simple tests to divide the search space is basic debugging strategy. Post an [SSCCE](http://www.sscce.org/), since the description of your code and its results don&#39;t match.","body":"I wasn&#39;t suggesting the bulbs were broken, but questioning whether the bug is in conversion or some later code. Simple tests to divide the search space is basic debugging strategy. Post an <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>, since the description of your code and its results don&#39;t match."},{"owner":{"account_id":1116560,"reputation":3471,"user_id":1105759,"accept_rate":92,"display_name":"Nico"},"score":0,"creation_date":1395437426,"post_id":22564187,"comment_id":34355061,"body_markdown":"This dude seems to be doing the same thing as you. Like I said, no code means its all vague: http://www.everyhue.com/vanilla/discussion/111/processinghue-disco-lights/p1","body":"This dude seems to be doing the same thing as you. Like I said, no code means its all vague: <a href=\"http://www.everyhue.com/vanilla/discussion/111/processinghue-disco-lights/p1\" rel=\"nofollow noreferrer\">everyhue.com/vanilla/discussion/111/processinghue-disco-ligh&zwnj;&#8203;ts/&hellip;</a>"},{"owner":{"account_id":1442445,"reputation":6760,"user_id":2976366,"accept_rate":58,"display_name":"timr"},"score":0,"creation_date":1395438481,"post_id":22564187,"comment_id":34355520,"body_markdown":"@erickson It does sent the right values to the light bulbs. You can check by surfing to ipadressBridgePhilipsHue//debug/clip.html. And do a get on /api/developname/lights/Lightbulbnumberonwhichyoumadethechanges","body":"@erickson It does sent the right values to the light bulbs. You can check by surfing to ipadressBridgePhilipsHue//debug/clip.html. And do a get on /api/developname/lights/Lightbulbnumberonwhichyoumadethechan&zwnj;&#8203;ges"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":1,"creation_date":1395494275,"post_id":22564187,"comment_id":34369552,"body_markdown":"Really off-topic, but couldn&#39;t help it: How many programmers does it take to program a light bulb ? :P","body":"Really off-topic, but couldn&#39;t help it: How many programmers does it take to program a light bulb ? :P"}],"answers":[{"tags":[],"owner":{"account_id":136873,"reputation":3699,"user_id":340681,"accept_rate":67,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395420996,"creation_date":1395420996,"answer_id":22564849,"question_id":22564187,"body_markdown":"Your RGB as HSB should be 193 degrees, 39% and 82% respectively.  So at the very least S and B seem correct.  Looking at the Philips hue API documentation, you&#39;re doing the right thing by multiplying those numbers by 255.\r\n\r\nTo get the H value as degrees, multiply the calculated H value by 360.  That&#39;s how you arrive at the 193 in your case.  Once you have the degrees, you multiply by 182 to get the value that you should send to the Philips hue API (from [Hack the Hue][1]):\r\n\r\n    hue\r\n    The parameters &#39;hue&#39; and &#39;sat&#39; are used to set the colour\r\n    The &#39;hue&#39; parameter has the range 0-65535 so represents approximately \r\n    182*degrees (technically 182.04 but the difference is imperceptible)\r\n\r\nThis should give you different H values than you&#39;re obtaining with the `* 65535` method.\r\n\r\n\r\n  [1]: http://rsmck.co.uk/hue","title":"RGB to Philips Hue (HSB)","body":"<p>Your RGB as HSB should be 193 degrees, 39% and 82% respectively.  So at the very least S and B seem correct.  Looking at the Philips hue API documentation, you're doing the right thing by multiplying those numbers by 255.</p>\n\n<p>To get the H value as degrees, multiply the calculated H value by 360.  That's how you arrive at the 193 in your case.  Once you have the degrees, you multiply by 182 to get the value that you should send to the Philips hue API (from <a href=\"http://rsmck.co.uk/hue\" rel=\"nofollow\">Hack the Hue</a>):</p>\n\n<pre><code>hue\nThe parameters 'hue' and 'sat' are used to set the colour\nThe 'hue' parameter has the range 0-65535 so represents approximately \n182*degrees (technically 182.04 but the difference is imperceptible)\n</code></pre>\n\n<p>This should give you different H values than you're obtaining with the <code>* 65535</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395441090,"creation_date":1395441090,"answer_id":22570663,"question_id":22564187,"body_markdown":"I think the problem here is that the [Hue has a pretty limited color gamut.][1] It&#39;s heavy on reds and purples, but can&#39;t produce as much saturation in the blue-green region..\r\n\r\nI would suggest setting the saturation to the maximum, 255, and vary only the hue. \r\n\r\nBased on the table given in the documentation, the Hue&#39;s &quot;hue&quot; attribute doesn&#39;t map directly to HSV&#39;s hue. The approximation might be close enough, but if not, it might be worthwhile to try a [conversion to CIE 1931 color space,][2] and then set the &quot;xy&quot; attribute instead of the hue.\r\n\r\n\r\n  [1]: http://developers.meethue.com/coreconcepts.html#color_gets_more_complicated\r\n  [2]: https://stackoverflow.com/questions/20283401/php-how-to-convert-rgb-color-to-cie-1931-color-specification","title":"RGB to Philips Hue (HSB)","body":"<p>I think the problem here is that the <a href=\"http://developers.meethue.com/coreconcepts.html#color_gets_more_complicated\" rel=\"nofollow noreferrer\">Hue has a pretty limited color gamut.</a> It's heavy on reds and purples, but can't produce as much saturation in the blue-green region..</p>\n\n<p>I would suggest setting the saturation to the maximum, 255, and vary only the hue. </p>\n\n<p>Based on the table given in the documentation, the Hue's \"hue\" attribute doesn't map directly to HSV's hue. The approximation might be close enough, but if not, it might be worthwhile to try a <a href=\"https://stackoverflow.com/questions/20283401/php-how-to-convert-rgb-color-to-cie-1931-color-specification\">conversion to CIE 1931 color space,</a> and then set the \"xy\" attribute instead of the hue.</p>\n"},{"tags":[],"owner":{"account_id":1442445,"reputation":6760,"user_id":2976366,"accept_rate":58,"display_name":"timr"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1395797674,"creation_date":1395797292,"answer_id":22649803,"question_id":22564187,"body_markdown":"A special thanks to StackOverflow user, Gee858eeG, to notice my typo and Erickson for the great tips and links.\r\n\r\nHere is a working function to convert any RGB color to a Philips Hue XY values. The list returned contains just two element 0 being X, 1 being Y.\r\nThe code is based on this brilliant note: https://github.com/PhilipsHue/PhilipsHueSDK-iOS-OSX/commit/f41091cf671e13fe8c32fcced12604cd31cceaf3\r\n\r\nEventhought this doesn&#39;t return the HSB value the XY values can be used as a replacement for changing colors on the Hue.Hopefully it can be helpful for other people, because Philips&#39; API doesn&#39;t mention any formula.\r\n\r\n\r\n    public static List&lt;Double&gt; getRGBtoXY(Color c) {\r\n    \t// For the hue bulb the corners of the triangle are:\r\n    \t// -Red: 0.675, 0.322\r\n    \t// -Green: 0.4091, 0.518\r\n    \t// -Blue: 0.167, 0.04\r\n    \tdouble[] normalizedToOne = new double[3];\r\n    \tfloat cred, cgreen, cblue;\r\n    \tcred = c.getRed();\r\n    \tcgreen = c.getGreen();\r\n    \tcblue = c.getBlue();\r\n    \tnormalizedToOne[0] = (cred / 255);\r\n    \tnormalizedToOne[1] = (cgreen / 255);\r\n    \tnormalizedToOne[2] = (cblue / 255);\r\n    \tfloat red, green, blue;\r\n    \r\n    \t// Make red more vivid\r\n    \tif (normalizedToOne[0] &gt; 0.04045) {\r\n    \t\tred = (float) Math.pow(\r\n    \t\t\t\t(normalizedToOne[0] + 0.055) / (1.0 + 0.055), 2.4);\r\n    \t} else {\r\n    \t\tred = (float) (normalizedToOne[0] / 12.92);\r\n    \t}\r\n    \r\n    \t// Make green more vivid\r\n    \tif (normalizedToOne[1] &gt; 0.04045) {\r\n    \t\tgreen = (float) Math.pow((normalizedToOne[1] + 0.055)\r\n    \t\t\t\t/ (1.0 + 0.055), 2.4);\r\n    \t} else {\r\n    \t\tgreen = (float) (normalizedToOne[1] / 12.92);\r\n    \t}\r\n    \r\n    \t// Make blue more vivid\r\n    \tif (normalizedToOne[2] &gt; 0.04045) {\r\n    \t\tblue = (float) Math.pow((normalizedToOne[2] + 0.055)\r\n    \t\t\t\t/ (1.0 + 0.055), 2.4);\r\n    \t} else {\r\n    \t\tblue = (float) (normalizedToOne[2] / 12.92);\r\n    \t}\r\n    \r\n    \tfloat X = (float) (red * 0.649926 + green * 0.103455 + blue * 0.197109);\r\n    \tfloat Y = (float) (red * 0.234327 + green * 0.743075 + blue * 0.022598);\r\n    \tfloat Z = (float) (red * 0.0000000 + green * 0.053077 + blue * 1.035763);\r\n    \r\n    \tfloat x = X / (X + Y + Z);\r\n    \tfloat y = Y / (X + Y + Z);\r\n    \r\n    \tdouble[] xy = new double[2];\r\n    \txy[0] = x;\r\n    \txy[1] = y;\r\n    \tList&lt;Double&gt; xyAsList = Doubles.asList(xy);\r\n    \treturn xyAsList;\r\n    }","title":"RGB to Philips Hue (HSB)","body":"<p>A special thanks to StackOverflow user, Gee858eeG, to notice my typo and Erickson for the great tips and links.</p>\n\n<p>Here is a working function to convert any RGB color to a Philips Hue XY values. The list returned contains just two element 0 being X, 1 being Y.\nThe code is based on this brilliant note: <a href=\"https://github.com/PhilipsHue/PhilipsHueSDK-iOS-OSX/commit/f41091cf671e13fe8c32fcced12604cd31cceaf3\">https://github.com/PhilipsHue/PhilipsHueSDK-iOS-OSX/commit/f41091cf671e13fe8c32fcced12604cd31cceaf3</a></p>\n\n<p>Eventhought this doesn't return the HSB value the XY values can be used as a replacement for changing colors on the Hue.Hopefully it can be helpful for other people, because Philips' API doesn't mention any formula.</p>\n\n<pre><code>public static List&lt;Double&gt; getRGBtoXY(Color c) {\n    // For the hue bulb the corners of the triangle are:\n    // -Red: 0.675, 0.322\n    // -Green: 0.4091, 0.518\n    // -Blue: 0.167, 0.04\n    double[] normalizedToOne = new double[3];\n    float cred, cgreen, cblue;\n    cred = c.getRed();\n    cgreen = c.getGreen();\n    cblue = c.getBlue();\n    normalizedToOne[0] = (cred / 255);\n    normalizedToOne[1] = (cgreen / 255);\n    normalizedToOne[2] = (cblue / 255);\n    float red, green, blue;\n\n    // Make red more vivid\n    if (normalizedToOne[0] &gt; 0.04045) {\n        red = (float) Math.pow(\n                (normalizedToOne[0] + 0.055) / (1.0 + 0.055), 2.4);\n    } else {\n        red = (float) (normalizedToOne[0] / 12.92);\n    }\n\n    // Make green more vivid\n    if (normalizedToOne[1] &gt; 0.04045) {\n        green = (float) Math.pow((normalizedToOne[1] + 0.055)\n                / (1.0 + 0.055), 2.4);\n    } else {\n        green = (float) (normalizedToOne[1] / 12.92);\n    }\n\n    // Make blue more vivid\n    if (normalizedToOne[2] &gt; 0.04045) {\n        blue = (float) Math.pow((normalizedToOne[2] + 0.055)\n                / (1.0 + 0.055), 2.4);\n    } else {\n        blue = (float) (normalizedToOne[2] / 12.92);\n    }\n\n    float X = (float) (red * 0.649926 + green * 0.103455 + blue * 0.197109);\n    float Y = (float) (red * 0.234327 + green * 0.743075 + blue * 0.022598);\n    float Z = (float) (red * 0.0000000 + green * 0.053077 + blue * 1.035763);\n\n    float x = X / (X + Y + Z);\n    float y = Y / (X + Y + Z);\n\n    double[] xy = new double[2];\n    xy[0] = x;\n    xy[1] = y;\n    List&lt;Double&gt; xyAsList = Doubles.asList(xy);\n    return xyAsList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2215143,"reputation":3,"user_id":1955964,"display_name":"NinjaBunny9000 - Krissy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625536958,"creation_date":1625536958,"answer_id":68263672,"question_id":22564187,"body_markdown":"For those struggling with this issue and looking for a solution in Javascript, I convereted the top answer&#39;s response w/reference to @error454&#39;s python adaptation and confirmed it works with HUE bulbs and the API :D\r\n\r\n\r\n```\r\nfunction EnhanceColor(normalized) {\r\n    if (normalized &gt; 0.04045) {\r\n        return Math.pow( (normalized + 0.055) / (1.0 + 0.055), 2.4);\r\n    }\r\n    else { return normalized / 12.92; }\r\n        \r\n}\r\n\r\nfunction RGBtoXY(r, g, b) {\r\n    let rNorm = r / 255.0;\r\n    let gNorm = g / 255.0;\r\n    let bNorm = b / 255.0;\r\n\r\n    let rFinal = EnhanceColor(rNorm);\r\n    let gFinal = EnhanceColor(gNorm);\r\n    let bFinal = EnhanceColor(bNorm);\r\n\r\n    let X = rFinal * 0.649926 + gFinal * 0.103455 + bFinal * 0.197109;\r\n    let Y = rFinal * 0.234327 + gFinal * 0.743075 + bFinal * 0.022598;\r\n    let Z = rFinal * 0.000000 + gFinal * 0.053077 + bFinal * 1.035763;\r\n\r\n    if ( X + Y + Z === 0) {\r\n        return [0,0];\r\n    } else {\r\n        let xFinal = X / (X + Y + Z);\r\n        let yFinal = Y / (X + Y + Z);\r\n    \r\n        return [xFinal, yFinal];\r\n    }\r\n\r\n};\r\n```\r\n\r\nhttps://gist.github.com/NinjaBunny9000/fa81c231a9c205b5193bb76c95aeb75f","title":"RGB to Philips Hue (HSB)","body":"<p>For those struggling with this issue and looking for a solution in Javascript, I convereted the top answer's response w/reference to @error454's python adaptation and confirmed it works with HUE bulbs and the API :D</p>\n<pre><code>function EnhanceColor(normalized) {\n    if (normalized &gt; 0.04045) {\n        return Math.pow( (normalized + 0.055) / (1.0 + 0.055), 2.4);\n    }\n    else { return normalized / 12.92; }\n        \n}\n\nfunction RGBtoXY(r, g, b) {\n    let rNorm = r / 255.0;\n    let gNorm = g / 255.0;\n    let bNorm = b / 255.0;\n\n    let rFinal = EnhanceColor(rNorm);\n    let gFinal = EnhanceColor(gNorm);\n    let bFinal = EnhanceColor(bNorm);\n\n    let X = rFinal * 0.649926 + gFinal * 0.103455 + bFinal * 0.197109;\n    let Y = rFinal * 0.234327 + gFinal * 0.743075 + bFinal * 0.022598;\n    let Z = rFinal * 0.000000 + gFinal * 0.053077 + bFinal * 1.035763;\n\n    if ( X + Y + Z === 0) {\n        return [0,0];\n    } else {\n        let xFinal = X / (X + Y + Z);\n        let yFinal = Y / (X + Y + Z);\n    \n        return [xFinal, yFinal];\n    }\n\n};\n</code></pre>\n<p><a href=\"https://gist.github.com/NinjaBunny9000/fa81c231a9c205b5193bb76c95aeb75f\" rel=\"nofollow noreferrer\">https://gist.github.com/NinjaBunny9000/fa81c231a9c205b5193bb76c95aeb75f</a></p>\n"},{"tags":[],"owner":{"account_id":3225124,"reputation":119,"user_id":2721685,"display_name":"jokkebk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647814449,"creation_date":1647814449,"answer_id":71551061,"question_id":22564187,"body_markdown":"This post was about the only good hit I got when googling this 8 years later. Here&#39;s the Python version of Philips&#39; Meethue Developer doc conversion routine (gamma settings are a bit different I think):\r\n\r\n```python\r\ndef rgb2xyb(r,g,b):\r\n    r = ((r+0.055)/1.055)**2.4 if r &gt; 0.04045 else r/12.92\r\n    g = ((g+0.055)/1.055)**2.4 if g &gt; 0.04045 else g/12.92\r\n    b = ((b+0.055)/1.055)**2.4 if b &gt; 0.04045 else b/12.92\r\n\r\n    X = r * 0.4124 + g * 0.3576 + b * 0.1805\r\n    Y = r * 0.2126 + g * 0.7152 + b * 0.0722\r\n    Z = r * 0.0193 + g * 0.1192 + b * 0.9505\r\n\r\n    return X / (X + Y + Z), Y / (X + Y + Z), int(Y*254)\r\n```\r\n\r\nIt also returns brightness information in the range 0..254 as used by\r\nHue Bridge API.","title":"RGB to Philips Hue (HSB)","body":"<p>This post was about the only good hit I got when googling this 8 years later. Here's the Python version of Philips' Meethue Developer doc conversion routine (gamma settings are a bit different I think):</p>\n<pre class=\"lang-py prettyprint-override\"><code>def rgb2xyb(r,g,b):\n    r = ((r+0.055)/1.055)**2.4 if r &gt; 0.04045 else r/12.92\n    g = ((g+0.055)/1.055)**2.4 if g &gt; 0.04045 else g/12.92\n    b = ((b+0.055)/1.055)**2.4 if b &gt; 0.04045 else b/12.92\n\n    X = r * 0.4124 + g * 0.3576 + b * 0.1805\n    Y = r * 0.2126 + g * 0.7152 + b * 0.0722\n    Z = r * 0.0193 + g * 0.1192 + b * 0.9505\n\n    return X / (X + Y + Z), Y / (X + Y + Z), int(Y*254)\n</code></pre>\n<p>It also returns brightness information in the range 0..254 as used by\nHue Bridge API.</p>\n"}],"owner":{"account_id":1442445,"reputation":6760,"user_id":2976366,"accept_rate":58,"display_name":"timr"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29022,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":22649803,"answer_count":5,"score":19,"last_activity_date":1647814449,"creation_date":1395419119,"question_id":22564187,"body_markdown":"I&#39;m making a musicplayer in Processing for an assignment for school. The Philips Hue lights will make some corresponding visual effects.\r\nI wanted to make the visuals kinda unique for each song.\r\nSo I fetched the cover art (using LastFM API) of the playing track to get the most frequent color and use this as a base for creating the other colors.\r\nThe Philips Hue has a different way of showing colors namely (HSB). So I converted it via \r\n\r\n`Color.RGBtoHSB();`\r\n\r\nFor ex. it gives me for R= 127, G=190, B=208 the values H= 0.5370371, S=0.38942307, B=0.8156863. Now I&#39;m guessing they were calculated on base 1 so I multiplied the Brightness en Saturation by 255. And the Hue by 65535.\r\n(As seen on [http://developers.meethue.com/1_lightsapi.html][1])\r\n\r\nWhen setting these calculated values in the Philips Hue no matter what song is playing the color is always redish or white. \r\n\r\nDid something go wrong with the conversion between RGB to HSB?\r\n\r\nOn popular request my code:\r\n\r\nAs a test:\r\n\r\n    Color c = Colorconverter.getMostCommonColour(&quot;urltoimage&quot;);\r\n    float[] f = Colorconverter.getRGBtoHSB(c);\r\n    ArrayList&lt;Lamp&gt; myLamps = PhilipsHue.getInstance().getMyLamps();\r\n    State state = new State();\r\n    state.setBri((int) Math.ceil(f[2]*255));\r\n    state.setSat((int) Math.ceil(f[1]*255));\r\n    state.setHue((int) Math.ceil(f[0]*65535));\r\n    state.setOn(true);\r\n    PhilipsHue.setState(myLamps.get(1), state);\r\n\r\nThe functions as seen above\r\n\r\n        public static Color getMostCommonColour(String coverArtURL) {\r\n        \t\tColor coulourHex = null;\r\n        \t\ttry {\r\n        \t\t\tBufferedImage image = ImageIO.read(new URL(coverArtURL));\r\n        \t\t\tint height = image.getHeight();\r\n        \t\t\tint width = image.getWidth();\r\n        \r\n        \t\t\tMap m = new HashMap();\r\n        \t\t\tfor (int i = 0; i &lt; width; i++) {\r\n        \t\t\t\tfor (int j = 0; j &lt; height; j++) {\r\n        \t\t\t\t\tint rgb = image.getRGB(i, j);\r\n        \t\t\t\t\tint[] rgbArr = getRGBArr(rgb);\r\n        \t\t\t\t\t// No grays ...\r\n        \t\t\t\t\tif (!isGray(rgbArr)) {\r\n        \t\t\t\t\t\tInteger counter = (Integer) m.get(rgb);\r\n        \t\t\t\t\t\tif (counter == null) {\r\n        \t\t\t\t\t\t\tcounter = 0;\r\n        \t\t\t\t\t\t}\r\n        \t\t\t\t\t\tcounter++;\r\n        \t\t\t\t\t\tm.put(rgb, counter);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \r\n        \t\t\tcoulourHex = getMostCommonColour(m);\r\n        \t\t\tSystem.out.println(coulourHex);\r\n        \t\t} catch (IOException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\treturn coulourHex;\r\n        \t}\r\n    \r\n        private static Color getMostCommonColour(Map map) {\r\n        \t\tList list = new LinkedList(map.entrySet());\r\n        \t\tCollections.sort(list, new Comparator() {\r\n        \t\t\tpublic int compare(Object o1, Object o2) {\r\n        \t\t\t\treturn ((Comparable) ((Map.Entry) (o1)).getValue())\r\n        \t\t\t\t\t\t.compareTo(((Map.Entry) (o2)).getValue());\r\n        \t\t\t}\r\n        \t\t});\r\n        \t\tMap.Entry me = (Map.Entry) list.get(list.size() - 1);\r\n        \t\tint[] rgb = getRGBArr((Integer) me.getKey());\r\n        \t\tString r = Integer.toHexString(rgb[0]);\r\n        \t\tString g = Integer.toHexString(rgb[1]);\r\n        \t\tString b = Integer.toHexString(rgb[2]);\r\n        \t\tColor c = new Color(rgb[0], rgb[1], rgb[2]);\r\n        \t\treturn c;\r\n        \t}\r\n    private static int[] getRGBArr(int pixel) {\r\n    \t\tint alpha = (pixel &gt;&gt; 24) &amp; 0xff;\r\n    \t\tint red = (pixel &gt;&gt; 16) &amp; 0xff;\r\n    \t\tint green = (pixel &gt;&gt; 8) &amp; 0xff;\r\n    \t\tint blue = (pixel) &amp; 0xff;\r\n    \t\treturn new int[] { red, green, blue };\r\n    \r\n    \t}\r\n    \r\n    \tprivate static boolean isGray(int[] rgbArr) {\r\n    \t\tint rgDiff = rgbArr[0] - rgbArr[1];\r\n    \t\tint rbDiff = rgbArr[0] - rgbArr[2];\r\n    \t\t// Filter out black, white and grays...... (tolerance within 10 pixels)\r\n    \t\tint tolerance = 10;\r\n    \t\tif (rgDiff &gt; tolerance || rgDiff &lt; -tolerance)\r\n    \t\t\tif (rbDiff &gt; tolerance || rbDiff &lt; -tolerance) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic static float[] getRGBtoHSB(Color c) {\r\n    \t\tfloat[] hsv = new float[3];\r\n    \t\treturn Color.RGBtoHSB(c.getRed(), c.getGreen(), c.getBlue(), hsv);\r\n    \t}\r\n\r\nThe set state just does a simple put to the philips light bulbs. When I check the JSON on the Affected Light bulb\r\n\r\n    {\r\n    \t&quot;state&quot;: {\r\n    \t\t&quot;on&quot;: true,\r\n    \t\t&quot;bri&quot;: 81,\r\n    \t\t&quot;hue&quot;: 34277,\r\n    \t\t&quot;sat&quot;: 18,\r\n    \t\t&quot;xy&quot;: [\r\n    \t\t\t0.298,\r\n    \t\t\t0.2471\r\n    \t\t],\r\n    \t\t&quot;ct&quot;: 153,\r\n    \t\t&quot;alert&quot;: &quot;none&quot;,\r\n    \t\t&quot;effect&quot;: &quot;none&quot;,\r\n    \t\t&quot;colormode&quot;: &quot;hs&quot;,\r\n    \t\t&quot;reachable&quot;: true\r\n    \t},\r\n    \t&quot;type&quot;: &quot;Extended color light&quot;,\r\n    \t&quot;name&quot;: &quot;Hue Spot 1&quot;,\r\n    \t&quot;modelid&quot;: &quot;LCT003&quot;,\r\n    \t&quot;swversion&quot;: &quot;66010732&quot;,\r\n    \t&quot;pointsymbol&quot;: {\r\n    \t\t&quot;1&quot;: &quot;none&quot;,\r\n    \t\t&quot;2&quot;: &quot;none&quot;,\r\n    \t\t&quot;3&quot;: &quot;none&quot;,\r\n    \t\t&quot;4&quot;: &quot;none&quot;,\r\n    \t\t&quot;5&quot;: &quot;none&quot;,\r\n    \t\t&quot;6&quot;: &quot;none&quot;,\r\n    \t\t&quot;7&quot;: &quot;none&quot;,\r\n    \t\t&quot;8&quot;: &quot;none&quot;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://developers.meethue.com/1_lightsapi.html &quot;Philips Hue API&quot;","title":"RGB to Philips Hue (HSB)","body":"<p>I'm making a musicplayer in Processing for an assignment for school. The Philips Hue lights will make some corresponding visual effects.\nI wanted to make the visuals kinda unique for each song.\nSo I fetched the cover art (using LastFM API) of the playing track to get the most frequent color and use this as a base for creating the other colors.\nThe Philips Hue has a different way of showing colors namely (HSB). So I converted it via </p>\n\n<p><code>Color.RGBtoHSB();</code></p>\n\n<p>For ex. it gives me for R= 127, G=190, B=208 the values H= 0.5370371, S=0.38942307, B=0.8156863. Now I'm guessing they were calculated on base 1 so I multiplied the Brightness en Saturation by 255. And the Hue by 65535.\n(As seen on <a href=\"http://developers.meethue.com/1_lightsapi.html\">http://developers.meethue.com/1_lightsapi.html</a>)</p>\n\n<p>When setting these calculated values in the Philips Hue no matter what song is playing the color is always redish or white. </p>\n\n<p>Did something go wrong with the conversion between RGB to HSB?</p>\n\n<p>On popular request my code:</p>\n\n<p>As a test:</p>\n\n<pre><code>Color c = Colorconverter.getMostCommonColour(\"urltoimage\");\nfloat[] f = Colorconverter.getRGBtoHSB(c);\nArrayList&lt;Lamp&gt; myLamps = PhilipsHue.getInstance().getMyLamps();\nState state = new State();\nstate.setBri((int) Math.ceil(f[2]*255));\nstate.setSat((int) Math.ceil(f[1]*255));\nstate.setHue((int) Math.ceil(f[0]*65535));\nstate.setOn(true);\nPhilipsHue.setState(myLamps.get(1), state);\n</code></pre>\n\n<p>The functions as seen above</p>\n\n<pre><code>    public static Color getMostCommonColour(String coverArtURL) {\n            Color coulourHex = null;\n            try {\n                BufferedImage image = ImageIO.read(new URL(coverArtURL));\n                int height = image.getHeight();\n                int width = image.getWidth();\n\n                Map m = new HashMap();\n                for (int i = 0; i &lt; width; i++) {\n                    for (int j = 0; j &lt; height; j++) {\n                        int rgb = image.getRGB(i, j);\n                        int[] rgbArr = getRGBArr(rgb);\n                        // No grays ...\n                        if (!isGray(rgbArr)) {\n                            Integer counter = (Integer) m.get(rgb);\n                            if (counter == null) {\n                                counter = 0;\n                            }\n                            counter++;\n                            m.put(rgb, counter);\n                        }\n                    }\n                }\n\n                coulourHex = getMostCommonColour(m);\n                System.out.println(coulourHex);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return coulourHex;\n        }\n\n    private static Color getMostCommonColour(Map map) {\n            List list = new LinkedList(map.entrySet());\n            Collections.sort(list, new Comparator() {\n                public int compare(Object o1, Object o2) {\n                    return ((Comparable) ((Map.Entry) (o1)).getValue())\n                            .compareTo(((Map.Entry) (o2)).getValue());\n                }\n            });\n            Map.Entry me = (Map.Entry) list.get(list.size() - 1);\n            int[] rgb = getRGBArr((Integer) me.getKey());\n            String r = Integer.toHexString(rgb[0]);\n            String g = Integer.toHexString(rgb[1]);\n            String b = Integer.toHexString(rgb[2]);\n            Color c = new Color(rgb[0], rgb[1], rgb[2]);\n            return c;\n        }\nprivate static int[] getRGBArr(int pixel) {\n        int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\n        int red = (pixel &gt;&gt; 16) &amp; 0xff;\n        int green = (pixel &gt;&gt; 8) &amp; 0xff;\n        int blue = (pixel) &amp; 0xff;\n        return new int[] { red, green, blue };\n\n    }\n\n    private static boolean isGray(int[] rgbArr) {\n        int rgDiff = rgbArr[0] - rgbArr[1];\n        int rbDiff = rgbArr[0] - rgbArr[2];\n        // Filter out black, white and grays...... (tolerance within 10 pixels)\n        int tolerance = 10;\n        if (rgDiff &gt; tolerance || rgDiff &lt; -tolerance)\n            if (rbDiff &gt; tolerance || rbDiff &lt; -tolerance) {\n                return false;\n            }\n        return true;\n    }\n\n    public static float[] getRGBtoHSB(Color c) {\n        float[] hsv = new float[3];\n        return Color.RGBtoHSB(c.getRed(), c.getGreen(), c.getBlue(), hsv);\n    }\n</code></pre>\n\n<p>The set state just does a simple put to the philips light bulbs. When I check the JSON on the Affected Light bulb</p>\n\n<pre><code>{\n    \"state\": {\n        \"on\": true,\n        \"bri\": 81,\n        \"hue\": 34277,\n        \"sat\": 18,\n        \"xy\": [\n            0.298,\n            0.2471\n        ],\n        \"ct\": 153,\n        \"alert\": \"none\",\n        \"effect\": \"none\",\n        \"colormode\": \"hs\",\n        \"reachable\": true\n    },\n    \"type\": \"Extended color light\",\n    \"name\": \"Hue Spot 1\",\n    \"modelid\": \"LCT003\",\n    \"swversion\": \"66010732\",\n    \"pointsymbol\": {\n        \"1\": \"none\",\n        \"2\": \"none\",\n        \"3\": \"none\",\n        \"4\": \"none\",\n        \"5\": \"none\",\n        \"6\": \"none\",\n        \"7\": \"none\",\n        \"8\": \"none\"\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","java.util.scanner","file-handling","nosuchelementexception"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1647805387,"post_id":71544271,"comment_id":126457983,"body_markdown":"Does this answer your question? [No Such Element Exception?](https://stackoverflow.com/questions/8032099/no-such-element-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8032099/no-such-element-exception\">No Such Element Exception?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8136200,"reputation":355,"user_id":6127740,"display_name":"Arka Bandyopadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647781705,"creation_date":1647781705,"answer_id":71547022,"question_id":71544271,"body_markdown":"hasNextLine() method waits unitl there is no nextLine \r\nbut hasNext() waits until there is next token \r\n\r\n\r\nFor solution perspective use :\r\n\r\n     while (scan.hasNext()) {\r\n\t\t        String name = scan.next();\r\n\t\t        String barcode = scan.next();\r\n\t\t        double unitPrice = scan.nextDouble();\r\n\t\t        double shipCost = scan.nextDouble();\r\n\r\n\t\t        System.out.println(name);\r\n\r\n\t\t        n++;\r\n\t\t     }\r\n\r\nThis will solve your problem","title":"Reading from the file with Scanner.useDelimiter() and hasNextLine() - NoSuchElementException","body":"<p>hasNextLine() method waits unitl there is no nextLine\nbut hasNext() waits until there is next token</p>\n<p>For solution perspective use :</p>\n<pre><code> while (scan.hasNext()) {\n            String name = scan.next();\n            String barcode = scan.next();\n            double unitPrice = scan.nextDouble();\n            double shipCost = scan.nextDouble();\n\n            System.out.println(name);\n\n            n++;\n         }\n</code></pre>\n<p>This will solve your problem</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647811995,"creation_date":1647803919,"answer_id":71549910,"question_id":71544271,"body_markdown":"There are several approaches how you can solve this.\r\n\r\n **1.** Advance to the next line when all token on the current line have been read.\r\n\r\nFor that, add the line `scan.nextLine()` at the end of the *loop*. Method `nextLine()` will return the whole current line (that value will be omitted) and will set the scanners position at the beginning of the next line.\r\n```\r\nwhile (scan.hasNextLine()) {\r\n    // reading tokens and creating new Product\r\n\r\n    scan.nextLine();\r\n}\r\n```\r\n\r\n **2.** *Change the condition* in the `while` loop to `scan.hasNext()`.  So that it&#39;ll check whether more token exists.\r\n\r\nBut another problem will arise: stating from the second *item* all *item names* will contain a new line character (`\\n`) at the beginning. \r\n\r\nTo handle it, you can either apply `strip()` on a *name*, change the delimiter to `&quot;[;\\\\r\\\\n]+&quot; (with that every new line character `\\n` and carriage return `\\r` character as well as semicolon will be omitted.\r\n```\r\ncan = new Scanner(new File(this.filename)).useDelimiter(&quot;[;\\\\r\\\\n]+&quot;);\r\nthis.items.clear();\r\n            \r\nwhile (scan.hasNext()) {\r\n    // code inside the loop remains the same\r\n}\r\n```\r\n*The drawback of this approach*: condition `scan.hasNext()` that check existence of a single token doesn&#39;t clearly show the intention to read the line comprised of four tokens.\r\n\r\n **3.** The last option is to read the file line by line with `scan.nextLine()` and then apply `split(&quot;;&quot;)` on it, which will give an array of strings. \r\n\r\nThis solution might look a bit more tedious because it&#39;ll require to handle the splitting to parse `double` values manually.\r\n```\r\nwhile (scan.hasNextLine()) {\r\n    String[] line = scan.nextLine().split(&quot;;&quot;);\r\n    String name = line[0];\r\n    String barcode = line[1];\r\n    double unitPrice = Double.parseDouble(line[2]);\r\n    double shipCost = Double.parseDouble(line[3]);\r\n\r\n    Product newProduct = new Product(name, barcode, unitPrice, shipCost);\r\n    this.items.add(newProduct);\r\n}\r\n```\r\nAll solutions above are tested with the provided *file-example* and a dummy `Product` class.\r\n\r\n**Output** (`items` list contents)\r\n```\r\n[Product{name=&#39;java&#39;, barcode=&#39;sdf&#39;, unitPrice=2.0, shipCost=3.0}, Product{name=&#39;cpp&#39;, barcode=&#39;sdks&#39;, unitPrice=24.6, shipCost=89.0}]\r\n```","title":"Reading from the file with Scanner.useDelimiter() and hasNextLine() - NoSuchElementException","body":"<p>There are several approaches how you can solve this.</p>\n<p><strong>1.</strong> Advance to the next line when all token on the current line have been read.</p>\n<p>For that, add the line <code>scan.nextLine()</code> at the end of the <em>loop</em>. Method <code>nextLine()</code> will return the whole current line (that value will be omitted) and will set the scanners position at the beginning of the next line.</p>\n<pre><code>while (scan.hasNextLine()) {\n    // reading tokens and creating new Product\n\n    scan.nextLine();\n}\n</code></pre>\n<p><strong>2.</strong> <em>Change the condition</em> in the <code>while</code> loop to <code>scan.hasNext()</code>.  So that it'll check whether more token exists.</p>\n<p>But another problem will arise: stating from the second <em>item</em> all <em>item names</em> will contain a new line character (<code>\\n</code>) at the beginning.</p>\n<p>To handle it, you can either apply <code>strip()</code> on a <em>name</em>, change the delimiter to <code>&quot;[;\\\\r\\\\n]+&quot; (with that every new line character </code>\\n<code>and carriage return</code>\\r` character as well as semicolon will be omitted.</p>\n<pre><code>can = new Scanner(new File(this.filename)).useDelimiter(&quot;[;\\\\r\\\\n]+&quot;);\nthis.items.clear();\n            \nwhile (scan.hasNext()) {\n    // code inside the loop remains the same\n}\n</code></pre>\n<p><em>The drawback of this approach</em>: condition <code>scan.hasNext()</code> that check existence of a single token doesn't clearly show the intention to read the line comprised of four tokens.</p>\n<p><strong>3.</strong> The last option is to read the file line by line with <code>scan.nextLine()</code> and then apply <code>split(&quot;;&quot;)</code> on it, which will give an array of strings.</p>\n<p>This solution might look a bit more tedious because it'll require to handle the splitting to parse <code>double</code> values manually.</p>\n<pre><code>while (scan.hasNextLine()) {\n    String[] line = scan.nextLine().split(&quot;;&quot;);\n    String name = line[0];\n    String barcode = line[1];\n    double unitPrice = Double.parseDouble(line[2]);\n    double shipCost = Double.parseDouble(line[3]);\n\n    Product newProduct = new Product(name, barcode, unitPrice, shipCost);\n    this.items.add(newProduct);\n}\n</code></pre>\n<p>All solutions above are tested with the provided <em>file-example</em> and a dummy <code>Product</code> class.</p>\n<p><strong>Output</strong> (<code>items</code> list contents)</p>\n<pre><code>[Product{name='java', barcode='sdf', unitPrice=2.0, shipCost=3.0}, Product{name='cpp', barcode='sdks', unitPrice=24.6, shipCost=89.0}]\n</code></pre>\n"}],"owner":{"account_id":24617058,"reputation":1,"user_id":18517910,"display_name":"Sumitr Banik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647813595,"creation_date":1647753712,"question_id":71544271,"body_markdown":"When I try to load the data from the **textfile**, with data like this\r\n```\r\njava;sdf;2.0;3.0;\r\ncpp;sdks;24.6;89.0;\r\n```\r\nI&#39;m getting the `NoSuchElementException` with this code.\r\n   \r\n\r\n    public void loadFile() {\r\n      Scanner scan = null;  \r\n      int n = 0;\r\n      try {\r\n         scan = new Scanner(new File(this.filename)).useDelimiter(&quot;;&quot;);\r\n         this.items.clear();\r\n         \r\n         while (scan.hasNextLine()) {\r\n            String name = scan.next();\r\n            String barcode = scan.next();\r\n            double unitPrice = scan.nextDouble();\r\n            double shipCost = scan.nextDouble();\r\n\r\n            Product newProduct = new Product(name, barcode, unitPrice, shipCost);\r\n            this.items.add(newProduct);\r\n            n++;\r\n         }\r\n      } \r\n      catch (IOException e) {\r\n         System.err.println(&quot;Caught IOException: &quot; + e.getMessage());\r\n      } catch (InputMismatchException e) {\r\n         System.err.println(&quot;Caught InputMismatchException: &quot; + e.getMessage());\r\n         System.out.println(n + &quot; products loaded!&quot;);\r\n      } catch (NoSuchElementException e) {\r\n         System.err.println(&quot;Attempt to read past end of file&quot;);\r\n      } catch (IllegalStateException e) {\r\n         System.err.println(&quot;Attempt to read a closed file&quot;);\r\n      } finally {\r\n         if (scan != null)\r\n            scan.close();\r\n      }\r\n    }\r\n","title":"Reading from the file with Scanner.useDelimiter() and hasNextLine() - NoSuchElementException","body":"<p>When I try to load the data from the <strong>textfile</strong>, with data like this</p>\n<pre><code>java;sdf;2.0;3.0;\ncpp;sdks;24.6;89.0;\n</code></pre>\n<p>I'm getting the <code>NoSuchElementException</code> with this code.</p>\n<pre><code>public void loadFile() {\n  Scanner scan = null;  \n  int n = 0;\n  try {\n     scan = new Scanner(new File(this.filename)).useDelimiter(&quot;;&quot;);\n     this.items.clear();\n     \n     while (scan.hasNextLine()) {\n        String name = scan.next();\n        String barcode = scan.next();\n        double unitPrice = scan.nextDouble();\n        double shipCost = scan.nextDouble();\n\n        Product newProduct = new Product(name, barcode, unitPrice, shipCost);\n        this.items.add(newProduct);\n        n++;\n     }\n  } \n  catch (IOException e) {\n     System.err.println(&quot;Caught IOException: &quot; + e.getMessage());\n  } catch (InputMismatchException e) {\n     System.err.println(&quot;Caught InputMismatchException: &quot; + e.getMessage());\n     System.out.println(n + &quot; products loaded!&quot;);\n  } catch (NoSuchElementException e) {\n     System.err.println(&quot;Attempt to read past end of file&quot;);\n  } catch (IllegalStateException e) {\n     System.err.println(&quot;Attempt to read a closed file&quot;);\n  } finally {\n     if (scan != null)\n        scan.close();\n  }\n}\n</code></pre>\n"},{"tags":["java","sorting","hashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1647807414,"post_id":71550295,"comment_id":126458409,"body_markdown":"Do you mean you want to end up with a list of the map entries sorted by their keys, with each key sorted first by Date1 then by Date2?","body":"Do you mean you want to end up with a list of the map entries sorted by their keys, with each key sorted first by Date1 then by Date2?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":3,"creation_date":1647807492,"post_id":71550295,"comment_id":126458421,"body_markdown":"This is not a help forum, and you are expected to demonstrate some research effort before asking questions here. Update your question with a _specific_ problem you have when trying to sort the HashMap.","body":"This is not a help forum, and you are expected to demonstrate some research effort before asking questions here. Update your question with a <i>specific</i> problem you have when trying to sort the HashMap."},{"owner":{"account_id":291102,"reputation":597,"user_id":593045,"display_name":"BitLauncher"},"score":0,"creation_date":1647807605,"post_id":71550295,"comment_id":126458444,"body_markdown":"HashMaps should not be sorted by any value of the key, except the hashing algorithm delivers already such a value, what would be a quite bad hashing algorithm - perhaps start [here](https://en.wikipedia.org/wiki/Hash_function)","body":"HashMaps should not be sorted by any value of the key, except the hashing algorithm delivers already such a value, what would be a quite bad hashing algorithm - perhaps start <a href=\"https://en.wikipedia.org/wiki/Hash_function\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647807636,"post_id":71550295,"comment_id":126458449,"body_markdown":"Write a [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) for `Pair`.","body":"Write a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> for <code>Pair</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1647807655,"post_id":71550295,"comment_id":126458455,"body_markdown":"Just don&#39;t use a `HashMap`, use a `TreeMap`.","body":"Just don&#39;t use a <code>HashMap</code>, use a <code>TreeMap</code>."},{"owner":{"account_id":19830557,"reputation":85,"user_id":14525238,"display_name":"voteforkodaline"},"score":0,"creation_date":1647807961,"post_id":71550295,"comment_id":126458529,"body_markdown":"@DaveNewton It is an option.","body":"@DaveNewton It is an option."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647813590,"creation_date":1647813234,"answer_id":71550956,"question_id":71550295,"body_markdown":"Here are several ways. Given two records (classes would also work).\r\n```\r\nrecord Pair&lt;T&gt; (T getItem1, T getItem2) {\r\n}\r\nrecord OtherObject() {}\r\n```\r\nThe first simply establishes a `TreeMap` as suggested by [Louis Wasserman](https://stackoverflow.com/users/869736/louis-wasserman) in the comments. A comparator first compares the first item of the pair, and, if equal, the second item.  To resolve object inference issues, the first comparison uses a lambda.  The next comparison can then use a method reference.\r\n```\r\nComparator&lt;Pair&lt;LocalDate&gt;&gt; comp = Comparator.comparing(\r\n\t\t\t\t\t(Pair&lt;LocalDate&gt; p) -&gt; p.getItem1())\r\n\t\t\t\t\t.thenComparing(Pair::getItem2);\r\n```\r\nNow establish the `TreeMap` using the comparator.\r\n```\t\t\r\nNavigableMap&lt;Pair&lt;LocalDate&gt;, Pair&lt;OtherObject&gt;&gt; navigableMap = new TreeMap&lt;&gt;(comp);\r\n```\r\nThe second way simply sorts the map entries based on the map key and places them in a list.  The first item the comparator is a `keyExtractor`, the return type of which is `Pair&lt;LocalDate&gt;` used in the comparisons. \r\n```\r\nList&lt;Entry&lt;Pair&lt;LocalDate&gt;,Pair&lt;OtherObject&gt;&gt;&gt; entryList = \r\n      someMap.entrySet().stream().sorted(Comparator.comparing(Entry::getKey,\r\n    \t\t   Comparator.comparing(\r\n   \t\t\t\t\t(Pair&lt;LocalDate&gt; p) -&gt; p.getItem1())\r\n   \t\t\t\t\t.thenComparing(Pair::getItem2))).toList();\r\n\r\n\t\r\n```\r\nNote:  `TreeMap` implements `NavigableMap` which extends `SortedMap` which extends `Map`","title":"Sorting a Hashmap by key, where key is a Pair of dates","body":"<p>Here are several ways. Given two records (classes would also work).</p>\n<pre><code>record Pair&lt;T&gt; (T getItem1, T getItem2) {\n}\nrecord OtherObject() {}\n</code></pre>\n<p>The first simply establishes a <code>TreeMap</code> as suggested by <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\">Louis Wasserman</a> in the comments. A comparator first compares the first item of the pair, and, if equal, the second item.  To resolve object inference issues, the first comparison uses a lambda.  The next comparison can then use a method reference.</p>\n<pre><code>Comparator&lt;Pair&lt;LocalDate&gt;&gt; comp = Comparator.comparing(\n                    (Pair&lt;LocalDate&gt; p) -&gt; p.getItem1())\n                    .thenComparing(Pair::getItem2);\n</code></pre>\n<p>Now establish the <code>TreeMap</code> using the comparator.</p>\n<pre><code>NavigableMap&lt;Pair&lt;LocalDate&gt;, Pair&lt;OtherObject&gt;&gt; navigableMap = new TreeMap&lt;&gt;(comp);\n</code></pre>\n<p>The second way simply sorts the map entries based on the map key and places them in a list.  The first item the comparator is a <code>keyExtractor</code>, the return type of which is <code>Pair&lt;LocalDate&gt;</code> used in the comparisons.</p>\n<pre><code>List&lt;Entry&lt;Pair&lt;LocalDate&gt;,Pair&lt;OtherObject&gt;&gt;&gt; entryList = \n      someMap.entrySet().stream().sorted(Comparator.comparing(Entry::getKey,\n               Comparator.comparing(\n                    (Pair&lt;LocalDate&gt; p) -&gt; p.getItem1())\n                    .thenComparing(Pair::getItem2))).toList();\n\n    \n</code></pre>\n<p>Note:  <code>TreeMap</code> implements <code>NavigableMap</code> which extends <code>SortedMap</code> which extends <code>Map</code></p>\n"}],"owner":{"account_id":19830557,"reputation":85,"user_id":14525238,"display_name":"voteforkodaline"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1647813968,"accepted_answer_id":71550956,"answer_count":1,"score":-1,"last_activity_date":1647813590,"creation_date":1647807197,"question_id":71550295,"body_markdown":"I&#39;ve got a Hashmap like this:\r\n\r\n    Map&lt;Pair&lt;Date1, Date2&gt;, Pair&lt;DoesntMatter1, DoesntMatter2&gt;&gt; dates = new HashMap&lt;&gt;();\r\n\r\nI want to sort that Hashmap at first by Date1 (ascending/chronological) and when Date1 dates are equal, then by Date2.\r\nHow to do it in a proper and efficient way?\r\n\r\nAny help appreciated!","title":"Sorting a Hashmap by key, where key is a Pair of dates","body":"<p>I've got a Hashmap like this:</p>\n<pre><code>Map&lt;Pair&lt;Date1, Date2&gt;, Pair&lt;DoesntMatter1, DoesntMatter2&gt;&gt; dates = new HashMap&lt;&gt;();\n</code></pre>\n<p>I want to sort that Hashmap at first by Date1 (ascending/chronological) and when Date1 dates are equal, then by Date2.\nHow to do it in a proper and efficient way?</p>\n<p>Any help appreciated!</p>\n"},{"tags":["java","maven","javafx"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647775751,"creation_date":1647775751,"answer_id":71546340,"question_id":71546089,"body_markdown":"The problem is not in your code. It&#39;s your project/launch setup. Go here and have a look at how to configure Maven correctly. https://openjfx.io/openjfx-docs/","title":"Exception in Application constructor in JavaFX project","body":"<p>The problem is not in your code. It's your project/launch setup. Go here and have a look at how to configure Maven correctly. <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647812613,"creation_date":1647812613,"answer_id":71550899,"question_id":71546089,"body_markdown":"The JavaFX framework instantiates your `Application` implementation class using reflection. Code can only reflectively access code in a separate module if the necessary &quot;permissions&quot; are given by said module. An `IllegalAccessException` will be thrown if those &quot;permissions&quot; are not given.\r\n\r\nHere is your root exception:\r\n\r\n```none\r\nCaused by: java.lang.IllegalAccessException: class com.sun.javafx.application.LauncherImpl (in module javafx.graphics) cannot access class classes.Main (in module com.example.javacoursework) because module com.example.javacoursework does not export classes to module javafx.graphics\r\n```\r\n\r\nThe fix is simple. Just add the following directive to your module-info descriptor (`module-info.java`):\r\n\r\n```java\r\nexports classes to javafx.graphics;\r\n```\r\n\r\nWhich package needs to be exported, and to which module it needs to be exported, can be determined by reading the exception message. Note you only need to use `exports`, instead of `opens`, because the JavaFX application class and its constructor are required to be `public`.\r\n\r\n---\r\n\r\nIt may help to read: [What is a stack trace, and how can I use it to debug my application errors?][1]\r\n\r\n  [1]: https://stackoverflow.com/q/3988788/6395627","title":"Exception in Application constructor in JavaFX project","body":"<p>The JavaFX framework instantiates your <code>Application</code> implementation class using reflection. Code can only reflectively access code in a separate module if the necessary &quot;permissions&quot; are given by said module. An <code>IllegalAccessException</code> will be thrown if those &quot;permissions&quot; are not given.</p>\n<p>Here is your root exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.IllegalAccessException: class com.sun.javafx.application.LauncherImpl (in module javafx.graphics) cannot access class classes.Main (in module com.example.javacoursework) because module com.example.javacoursework does not export classes to module javafx.graphics\n</code></pre>\n<p>The fix is simple. Just add the following directive to your module-info descriptor (<code>module-info.java</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>exports classes to javafx.graphics;\n</code></pre>\n<p>Which package needs to be exported, and to which module it needs to be exported, can be determined by reading the exception message. Note you only need to use <code>exports</code>, instead of <code>opens</code>, because the JavaFX application class and its constructor are required to be <code>public</code>.</p>\n<hr />\n<p>It may help to read: <a href=\"https://stackoverflow.com/q/3988788/6395627\">What is a stack trace, and how can I use it to debug my application errors?</a></p>\n"}],"owner":{"account_id":21519345,"reputation":1,"user_id":15860708,"display_name":"NkL322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1647812613,"creation_date":1647773536,"question_id":71546089,"body_markdown":"I migrate my old JavaFX project to JavaFX-maven. I use openjdk-17 for this. When I starts this code, I catch exception in Application constructor. Maybe I uses incorrect libriries? But then why compiler says okay when build my project?\r\n\r\nMy stack trace\r\n```\r\nException in Application constructor\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Unable to construct Application instance: class classes.Main\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:891)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalAccessException: class com.sun.javafx.application.LauncherImpl (in module javafx.graphics) cannot access class classes.Main (in module com.example.javacoursework) because module com.example.javacoursework does not export classes to module javafx.graphics\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:803)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\n```\r\n\r\nMy code\r\n```\r\npackage classes;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.*;\r\nimport javafx.scene.control.Button;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.Objects;\r\n\r\npublic class Main extends Application //Error occured in constructor!?\r\n{\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException\r\n    {\r\n        Button button = new Button(&quot;Hello&quot;);\r\n        Scene scene = new Scene(button);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n//        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;../../resources/123.fxml&quot;)));\r\n//        primaryStage.setTitle(&quot;Vote app&quot;);\r\n//        primaryStage.setScene(new Scene(root));\r\n//        primaryStage.setResizable(false);\r\n//        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        //launch(args);\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf need more info, I will add to this post.","title":"Exception in Application constructor in JavaFX project","body":"<p>I migrate my old JavaFX project to JavaFX-maven. I use openjdk-17 for this. When I starts this code, I catch exception in Application constructor. Maybe I uses incorrect libriries? But then why compiler says okay when build my project?</p>\n<p>My stack trace</p>\n<pre><code>Exception in Application constructor\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Unable to construct Application instance: class classes.Main\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:891)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessException: class com.sun.javafx.application.LauncherImpl (in module javafx.graphics) cannot access class classes.Main (in module com.example.javacoursework) because module com.example.javacoursework does not export classes to module javafx.graphics\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:803)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\n</code></pre>\n<p>My code</p>\n<pre><code>package classes;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.*;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Objects;\n\npublic class Main extends Application //Error occured in constructor!?\n{\n    @Override\n    public void start(Stage primaryStage) throws IOException\n    {\n        Button button = new Button(&quot;Hello&quot;);\n        Scene scene = new Scene(button);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n//        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;../../resources/123.fxml&quot;)));\n//        primaryStage.setTitle(&quot;Vote app&quot;);\n//        primaryStage.setScene(new Scene(root));\n//        primaryStage.setResizable(false);\n//        primaryStage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        //launch(args);\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>If need more info, I will add to this post.</p>\n"},{"tags":["java","clover"],"answers":[{"tags":[],"owner":{"account_id":24607110,"reputation":49,"user_id":18509169,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647812609,"creation_date":1647812609,"answer_id":71550896,"question_id":71534997,"body_markdown":"I heard back from OpenClover, apparently JDK17 is not supported.  Still having troubles with jdk 1.8/1.9 (supported versions) and will update when I solve that.","title":"Problem with OpenClover - Clover registry file does not exist, cannot be read or is a directory","body":"<p>I heard back from OpenClover, apparently JDK17 is not supported.  Still having troubles with jdk 1.8/1.9 (supported versions) and will update when I solve that.</p>\n"}],"owner":{"account_id":24607110,"reputation":49,"user_id":18509169,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647812609,"creation_date":1647658306,"question_id":71534997,"body_markdown":"Error is\r\n\r\nClover registry file &quot;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&quot; does not exist, cannot be read or is a directory.\r\nPlease ensure Clover has instrumented your source files.\r\n\r\nI have this same problem with a new build I&#39;m creating so I went to the document\r\n\r\nhttps://openclover.org/doc/manual/4.3.0/ant--tutorial-part-0-clover-in-10-minutes.html\r\n\r\nant -f build_quick.xml\r\nBuildfile: /Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build_quick.xml\r\n\r\nwith.clover:\r\n[clover-setup] OpenClover Version 4.4.1, built on October 11 2019 (build-1020)\r\n[clover-setup] Clover is enabled with initstring &#39;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&#39;\r\n\r\ncompile:\r\n\r\ntest:\r\n    [junit] Running com.atlassian.samples.money.MoneyBagTest\r\n    [junit] Tests run: 22, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.286 sec\r\n    [junit] Running com.atlassian.samples.money.MoneyTest\r\n    [junit] Tests taking too long? Try Clover&#39;s test optimization.\r\n    [junit] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.073 sec\r\n\r\nclover.report:\r\n[clover-html-report] OpenClover Version 4.4.1, built on October 11 2019 (build-1020)\r\n[clover-html-report] Loading coverage database from: &#39;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&#39;\r\n\r\nBUILD FAILED\r\n/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build_quick.xml:74: com.atlassian.clover.registry.NoSuchRegistryException: Clover registry file &quot;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&quot; does not exist, cannot be read or is a directory.\r\nPlease ensure Clover has instrumented your source files.\r\nYou may need to remove existing .class files for this to occur.\r\nat com.atlassian.clover.CloverDatabase.&lt;init&gt;(CloverDatabase.java:87)\r\nat com.atlassian.clover.CloverDatabase.&lt;init&gt;(CloverDatabase.java:65)\r\nat com.atlassian.clover.reporters.CloverReportConfig.getCoverageDatabase(CloverReportConfig.java:325)\r\n\r\n\r\njava -version\r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\n\r\nOn macos\r\n\r\nsw_vers\r\nProductName: Mac OS X\r\nProductVersion: 10.15.7\r\nBuildVersion: 19H1715\r\n\r\nI&#39;ve had the same problem using OpenClover within a new ant build script, so to prove the problem wasn&#39;t with my script, I downloaded the latest OpenClover quick tutorial and built it using their maven script, same error (details above)","title":"Problem with OpenClover - Clover registry file does not exist, cannot be read or is a directory","body":"<p>Error is</p>\n<p>Clover registry file &quot;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&quot; does not exist, cannot be read or is a directory.\nPlease ensure Clover has instrumented your source files.</p>\n<p>I have this same problem with a new build I'm creating so I went to the document</p>\n<p><a href=\"https://openclover.org/doc/manual/4.3.0/ant--tutorial-part-0-clover-in-10-minutes.html\" rel=\"nofollow noreferrer\">https://openclover.org/doc/manual/4.3.0/ant--tutorial-part-0-clover-in-10-minutes.html</a></p>\n<p>ant -f build_quick.xml\nBuildfile: /Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build_quick.xml</p>\n<p>with.clover:\n[clover-setup] OpenClover Version 4.4.1, built on October 11 2019 (build-1020)\n[clover-setup] Clover is enabled with initstring '/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db'</p>\n<p>compile:</p>\n<p>test:\n[junit] Running com.atlassian.samples.money.MoneyBagTest\n[junit] Tests run: 22, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.286 sec\n[junit] Running com.atlassian.samples.money.MoneyTest\n[junit] Tests taking too long? Try Clover's test optimization.\n[junit] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.073 sec</p>\n<p>clover.report:\n[clover-html-report] OpenClover Version 4.4.1, built on October 11 2019 (build-1020)\n[clover-html-report] Loading coverage database from: '/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db'</p>\n<p>BUILD FAILED\n/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build_quick.xml:74: com.atlassian.clover.registry.NoSuchRegistryException: Clover registry file &quot;/Users/tobermei/Downloads/clover-ant-4.4.1/tutorial/build/clover/db/clover.db&quot; does not exist, cannot be read or is a directory.\nPlease ensure Clover has instrumented your source files.\nYou may need to remove existing .class files for this to occur.\nat com.atlassian.clover.CloverDatabase.(CloverDatabase.java:87)\nat com.atlassian.clover.CloverDatabase.(CloverDatabase.java:65)\nat com.atlassian.clover.reporters.CloverReportConfig.getCoverageDatabase(CloverReportConfig.java:325)</p>\n<p>java -version\njava version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>On macos</p>\n<p>sw_vers\nProductName: Mac OS X\nProductVersion: 10.15.7\nBuildVersion: 19H1715</p>\n<p>I've had the same problem using OpenClover within a new ant build script, so to prove the problem wasn't with my script, I downloaded the latest OpenClover quick tutorial and built it using their maven script, same error (details above)</p>\n"},{"tags":["java","loops","try-catch","jgrasp"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647812105,"creation_date":1647812105,"answer_id":71550841,"question_id":71550728,"body_markdown":"If your intent is to read the __entire file__ and then check if the entire contents are a palindrome or not, then lines in general are a bit of a complicated mess.\r\n\r\nIs:\r\n\r\n```\r\nHello, there!\r\n\r\n!ereht ,olleH\r\n```\r\n\r\nA palindromic file? Note that it ends in a newline, so if you attempt to compare byte-for-byte, it&#39;s not. If the intent is that it _is_ supposed to &#39;count&#39;, then presumably you&#39;d first trim (lop any whitespace off of the front and back of the entire thing) and _then_ compare byte-for-byte?\r\n\r\nIf the file&#39;s encoding involves characters smearing out over bytes (common - UTF_8, the most common encoding, can do that for any character that isn&#39;t simple ASCII), byte-for-byte fails immediately, so I guess character-by-character? Java&#39;s &#39;character&#39; is actually part of surrogate pairs, so symbols from the higher unicode planes, such as emoji, will thus immediately cause trouble (as the emoji is two characters, and therefore won&#39;t be the same backwards and forwards). Just go with &#39;eh, whatever, no files will contain emoji&#39;? Or try to compare codepoints instead?\r\n\r\nWhat about commas, capitals, and other symbol characters? Is this:\r\n\r\n```\r\nHello, there!\r\nEreht, olleh!\r\n```\r\n\r\nsupposed to &#39;count&#39;? If you look at _Just_ the actually letters and forget about casing, it is. But a char-by-char comparison will obviously fail. Before you say: That&#39;s not palindromic, the usual &quot;A man, a plan, a canal, Panama!&quot; requires that you disregard non-letters and disregard casing.\r\n\r\nIn any case, it all starts with reading _the entire file_ as a string; Scanner is designed to read tokens (tokens are the things in between the separator), and it has some ugly misplaced baggage in the form of the `nextLine()` method that you probably shouldn&#39;t be using. In any case, it can&#39;t read the entire file in one go which makes this vastly more complicated than it needs to be, so step 1 is __do not use it__.\r\n\r\nThere&#39;s the new file API which is great for this:\r\n\r\n```\r\nimport java.nio.file.*;\r\n\r\nPath p = Paths.get(fileName);\r\nString contents = Files.readString(p);\r\n```\r\n\r\nThat will read the entire contents. We can then remove everything that isn&#39;t a letter from it:\r\n\r\n```\r\ncontents.toLowerCase().replaceAll(&quot;[^a-z]&quot;, &quot;&quot;);\r\n```\r\n\r\nThat thing is a &#39;regular expression&#39; which is a mini language for text manipulation. `[^...]` is &#39;match any character that isn&#39;t mentioned here&#39;, and `a-z` is naturally, everything from a to z. In other words, that says: Take the input, lowercase everything, then replace all non-letters with blank, thus giving you _only_ the letters. I turns &quot;A man, a plan, a canal, Panama!&quot; into &quot;amanaplanacanalpanama&quot;.\r\n\r\nIt even gets rid of newlines entirely.\r\n\r\nNow you can use the principle at work in your code (start from the beginning and end, fetch the characters there, compare them. If not equal - it is not a palindrome. If equal, increment your &#39;front pointer&#39;, decrement your &#39;back pointer&#39;, and keep going with the comparisons until your pointers are identical, then it is a palindrome.\r\n\r\n`Scanner` has only two uses:\r\n\r\n* Keyboard input. In which case you should __never__ use `.nextLine()` (nextLine is broken. It does what the javadoc says it does, which not what anyone expects, hence, do not use it for this) - and always call `.useDelimiter(&quot;\\\\R&quot;)` immediately after making the scanner. This configures it the way you&#39;d expect. Use `.nextX()` calls to fetch info. `next()` for strings `.nextInt()` for integers, etc. All next calls will read entire lines.\r\n* Tokenizing inputs. This is only useful if the input is defined in terms of tokens separated by separators. Only a few formats follow that kinda rule. Even your usual &#39;CSV&#39; files don&#39;t, not really - you need custom CSV parsers for that.\r\n\r\n&quot;Read an entire file to see if it is palindromic&quot; fits neither use.\r\n","title":"Creating a menu for user to make a choice and determine if it is a Palindrome","body":"<p>If your intent is to read the <strong>entire file</strong> and then check if the entire contents are a palindrome or not, then lines in general are a bit of a complicated mess.</p>\n<p>Is:</p>\n<pre><code>Hello, there!\n\n!ereht ,olleH\n</code></pre>\n<p>A palindromic file? Note that it ends in a newline, so if you attempt to compare byte-for-byte, it's not. If the intent is that it <em>is</em> supposed to 'count', then presumably you'd first trim (lop any whitespace off of the front and back of the entire thing) and <em>then</em> compare byte-for-byte?</p>\n<p>If the file's encoding involves characters smearing out over bytes (common - UTF_8, the most common encoding, can do that for any character that isn't simple ASCII), byte-for-byte fails immediately, so I guess character-by-character? Java's 'character' is actually part of surrogate pairs, so symbols from the higher unicode planes, such as emoji, will thus immediately cause trouble (as the emoji is two characters, and therefore won't be the same backwards and forwards). Just go with 'eh, whatever, no files will contain emoji'? Or try to compare codepoints instead?</p>\n<p>What about commas, capitals, and other symbol characters? Is this:</p>\n<pre><code>Hello, there!\nEreht, olleh!\n</code></pre>\n<p>supposed to 'count'? If you look at <em>Just</em> the actually letters and forget about casing, it is. But a char-by-char comparison will obviously fail. Before you say: That's not palindromic, the usual &quot;A man, a plan, a canal, Panama!&quot; requires that you disregard non-letters and disregard casing.</p>\n<p>In any case, it all starts with reading <em>the entire file</em> as a string; Scanner is designed to read tokens (tokens are the things in between the separator), and it has some ugly misplaced baggage in the form of the <code>nextLine()</code> method that you probably shouldn't be using. In any case, it can't read the entire file in one go which makes this vastly more complicated than it needs to be, so step 1 is <strong>do not use it</strong>.</p>\n<p>There's the new file API which is great for this:</p>\n<pre><code>import java.nio.file.*;\n\nPath p = Paths.get(fileName);\nString contents = Files.readString(p);\n</code></pre>\n<p>That will read the entire contents. We can then remove everything that isn't a letter from it:</p>\n<pre><code>contents.toLowerCase().replaceAll(&quot;[^a-z]&quot;, &quot;&quot;);\n</code></pre>\n<p>That thing is a 'regular expression' which is a mini language for text manipulation. <code>[^...]</code> is 'match any character that isn't mentioned here', and <code>a-z</code> is naturally, everything from a to z. In other words, that says: Take the input, lowercase everything, then replace all non-letters with blank, thus giving you <em>only</em> the letters. I turns &quot;A man, a plan, a canal, Panama!&quot; into &quot;amanaplanacanalpanama&quot;.</p>\n<p>It even gets rid of newlines entirely.</p>\n<p>Now you can use the principle at work in your code (start from the beginning and end, fetch the characters there, compare them. If not equal - it is not a palindrome. If equal, increment your 'front pointer', decrement your 'back pointer', and keep going with the comparisons until your pointers are identical, then it is a palindrome.</p>\n<p><code>Scanner</code> has only two uses:</p>\n<ul>\n<li>Keyboard input. In which case you should <strong>never</strong> use <code>.nextLine()</code> (nextLine is broken. It does what the javadoc says it does, which not what anyone expects, hence, do not use it for this) - and always call <code>.useDelimiter(&quot;\\\\R&quot;)</code> immediately after making the scanner. This configures it the way you'd expect. Use <code>.nextX()</code> calls to fetch info. <code>next()</code> for strings <code>.nextInt()</code> for integers, etc. All next calls will read entire lines.</li>\n<li>Tokenizing inputs. This is only useful if the input is defined in terms of tokens separated by separators. Only a few formats follow that kinda rule. Even your usual 'CSV' files don't, not really - you need custom CSV parsers for that.</li>\n</ul>\n<p>&quot;Read an entire file to see if it is palindromic&quot; fits neither use.</p>\n"}],"owner":{"account_id":24622975,"reputation":1,"user_id":18523047,"display_name":"iKnowVeryLittle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647812105,"creation_date":1647811129,"question_id":71550728,"body_markdown":"[Example output][1]\r\n\r\n[file1.txt contents][2]\r\n\r\nI have to do a project to determine whether user input is a Palindrome (same letters forwards as backwards). I must create a menu and the user selects whether to input through the console or through a file. I had no issue with reading from the console. I am having trouble producing the correct output through reading Files however.\r\n\r\nFor a file to be a palindrome, the whole file must be able to be read forwards and backwards and be equal. Then the file contents must be printed and labeled as a Palindrome. I am able to determine if a string is a palindrome within the file, but not the whole file itself. I tried to use .hasNextLine() and compare the lines, but the output is not exactly what is desired. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.InputMismatchException;\r\n    import java.util.Scanner;\r\n\r\n    public class PalindromeMachine { //begin class\r\n\r\n\r\n      public static void main(String[] args) { //begin main\r\n    \r\n\r\n        boolean choice1 = false;\r\n        boolean choice2 = false;\r\n        boolean choice3 = false;\r\n    \r\n    \r\n        while (choice3 == false) {\r\n    \r\n          //create a menu\r\n          System.out.println(&quot;Welcome to the Palindrome Machine!&quot;);\r\n          for (int i = 0; i &lt; 35; i++) {\r\n             System.out.print(&quot;-&quot;);\r\n          }\r\n  \r\n    \r\n  \r\n          System.out.printf(&quot;\\n1. Read one word from the keyboard&quot;);\r\n          System.out.printf(&quot;\\n2. Read one or more words from a file&quot;);\r\n          System.out.printf(&quot;\\n3. Exit&quot;);\r\n          System.out.printf(&quot;\\nEnter your selection: &quot;);\r\n  \r\n  \r\n          //gather user input\r\n          Scanner user = new Scanner(System.in);\r\n      \r\n          try {\r\n            int num = user.nextInt();\r\n        \r\n            if (num &gt; 3 || num &lt; 1) {\r\n              System.out.println(&quot;Invalid menu option&quot;);\r\n        \r\n        \r\n            }\r\n  \r\n            if (num == 1) {\r\n              choice1 = true;\r\n  \r\n            }\r\n  \r\n            if (num == 2) {\r\n              choice2 = true;\r\n  \r\n            }\r\n            if (num == 3) {\r\n              choice3 = true;\r\n  \r\n            }\r\n          } catch (InputMismatchException e) {\r\n      \r\n            System.out.println(&quot;Invalid menu option&quot;);\r\n      \r\n          }\r\n  \r\n  \r\n  \r\n  \r\n          //based on user selection, read in the word  or read in lines from a file\r\n  \r\n          while (choice1 == true) {\r\n  \r\n            System.out.printf(&quot;Enter the word you would like to check: &quot;);\r\n  \r\n            String checkThis = user.next();\r\n            int front = 0;\r\n            int back = checkThis.length() - 1;\r\n      \r\n  \r\n  \r\n            while (front &lt; back) {\r\n        \r\n              if (checkThis.charAt(front) != checkThis.charAt(back)) {\r\n                choice1 = false;\r\n                System.out.printf(&quot;%s: this word is not a palindrome\\n\\n&quot;, checkThis);\r\n        \r\n              } \r\n        \r\n              front++;\r\n              back--;     \r\n          \r\n  \r\n  \r\n            }\r\n      \r\n            if (choice1 == true) {\r\n              System.out.printf(&quot;%s: this word is a palindrome\\n\\n&quot;, checkThis);\r\n              choice1 = false;\r\n          \r\n            }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n          } //end while for choice 1\r\n  \r\n  \r\n          //read from file and determine if palindrome\r\n    \r\n    \r\n    \r\n          while (choice2 == true) {\r\n            System.out.printf(&quot;Enter the file you would like to check: &quot;);\r\n            String name;\r\n            name = user.nextLine();\r\n            try {\r\n        \r\n              File pali = new File(name);\r\n              Scanner userRead = new Scanner(pali);\r\n        \r\n              while (userRead.hasNextLine()) {\r\n        \r\n            \r\n          \r\n                String checkThis = userRead.nextLine();\r\n            \r\n            \r\n            \r\n            \r\n                //palindrome info\r\n                int front = 0;\r\n                int back = checkThis.length() - 1;\r\n      \r\n  \r\n  \r\n                while (front &lt; back) { //palindrome\r\n        \r\n                  if (checkThis.charAt(front) != checkThis.charAt(back)) {\r\n                    choice2 = false;\r\n                    System.out.printf(&quot;\\n%s: this file is not a palindrome&quot;,\r\n                        checkThis);\r\n        \r\n                  } \r\n        \r\n                  front++;\r\n                  back--;     \r\n        \r\n  \r\n                } //end palindrome\r\n          \r\n                if (choice2 == true &amp;&amp; userRead.hasNextLine() != false) {\r\n                  System.out.printf(checkThis\r\n                       + &quot;: this file is a palindrome\\n&quot;);\r\n                  choice2 = false;\r\n              \r\n            \r\n            \r\n                } else {\r\n                  System.out.println(&quot;&quot;);\r\n                  System.out.printf(checkThis);\r\n                }\r\n              } //end of while the file has text\r\n           \r\n      \r\n      \r\n            } catch (FileNotFoundException e) {\r\n        \r\n              System.out.printf(&quot;\\nInvalid file&quot;);\r\n        \r\n        \r\n        \r\n            }\r\n      \r\n      \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          } // end choice 2\r\n    \r\n    \r\n    \r\n  \r\n  \r\n          //loop until the user exits + catch inputmismatch\r\n    \r\n        } // end while it loop until exit\r\n  \r\n      } //end main\r\n\r\n\r\n\r\n    } //end class\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oQVRK.png\r\n  [2]: https://i.stack.imgur.com/1aPh1.png","title":"Creating a menu for user to make a choice and determine if it is a Palindrome","body":"<p><a href=\"https://i.stack.imgur.com/oQVRK.png\" rel=\"nofollow noreferrer\">Example output</a></p>\n<p><a href=\"https://i.stack.imgur.com/1aPh1.png\" rel=\"nofollow noreferrer\">file1.txt contents</a></p>\n<p>I have to do a project to determine whether user input is a Palindrome (same letters forwards as backwards). I must create a menu and the user selects whether to input through the console or through a file. I had no issue with reading from the console. I am having trouble producing the correct output through reading Files however.</p>\n<p>For a file to be a palindrome, the whole file must be able to be read forwards and backwards and be equal. Then the file contents must be printed and labeled as a Palindrome. I am able to determine if a string is a palindrome within the file, but not the whole file itself. I tried to use .hasNextLine() and compare the lines, but the output is not exactly what is desired.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class PalindromeMachine { //begin class\n\n\n  public static void main(String[] args) { //begin main\n\n\n    boolean choice1 = false;\n    boolean choice2 = false;\n    boolean choice3 = false;\n\n\n    while (choice3 == false) {\n\n      //create a menu\n      System.out.println(&quot;Welcome to the Palindrome Machine!&quot;);\n      for (int i = 0; i &lt; 35; i++) {\n         System.out.print(&quot;-&quot;);\n      }\n\n\n\n      System.out.printf(&quot;\\n1. Read one word from the keyboard&quot;);\n      System.out.printf(&quot;\\n2. Read one or more words from a file&quot;);\n      System.out.printf(&quot;\\n3. Exit&quot;);\n      System.out.printf(&quot;\\nEnter your selection: &quot;);\n\n\n      //gather user input\n      Scanner user = new Scanner(System.in);\n  \n      try {\n        int num = user.nextInt();\n    \n        if (num &gt; 3 || num &lt; 1) {\n          System.out.println(&quot;Invalid menu option&quot;);\n    \n    \n        }\n\n        if (num == 1) {\n          choice1 = true;\n\n        }\n\n        if (num == 2) {\n          choice2 = true;\n\n        }\n        if (num == 3) {\n          choice3 = true;\n\n        }\n      } catch (InputMismatchException e) {\n  \n        System.out.println(&quot;Invalid menu option&quot;);\n  \n      }\n\n\n\n\n      //based on user selection, read in the word  or read in lines from a file\n\n      while (choice1 == true) {\n\n        System.out.printf(&quot;Enter the word you would like to check: &quot;);\n\n        String checkThis = user.next();\n        int front = 0;\n        int back = checkThis.length() - 1;\n  \n\n\n        while (front &lt; back) {\n    \n          if (checkThis.charAt(front) != checkThis.charAt(back)) {\n            choice1 = false;\n            System.out.printf(&quot;%s: this word is not a palindrome\\n\\n&quot;, checkThis);\n    \n          } \n    \n          front++;\n          back--;     \n      \n\n\n        }\n  \n        if (choice1 == true) {\n          System.out.printf(&quot;%s: this word is a palindrome\\n\\n&quot;, checkThis);\n          choice1 = false;\n      \n        }\n\n\n\n\n\n      } //end while for choice 1\n\n\n      //read from file and determine if palindrome\n\n\n\n      while (choice2 == true) {\n        System.out.printf(&quot;Enter the file you would like to check: &quot;);\n        String name;\n        name = user.nextLine();\n        try {\n    \n          File pali = new File(name);\n          Scanner userRead = new Scanner(pali);\n    \n          while (userRead.hasNextLine()) {\n    \n        \n      \n            String checkThis = userRead.nextLine();\n        \n        \n        \n        \n            //palindrome info\n            int front = 0;\n            int back = checkThis.length() - 1;\n  \n\n\n            while (front &lt; back) { //palindrome\n    \n              if (checkThis.charAt(front) != checkThis.charAt(back)) {\n                choice2 = false;\n                System.out.printf(&quot;\\n%s: this file is not a palindrome&quot;,\n                    checkThis);\n    \n              } \n    \n              front++;\n              back--;     \n    \n\n            } //end palindrome\n      \n            if (choice2 == true &amp;&amp; userRead.hasNextLine() != false) {\n              System.out.printf(checkThis\n                   + &quot;: this file is a palindrome\\n&quot;);\n              choice2 = false;\n          \n        \n        \n            } else {\n              System.out.println(&quot;&quot;);\n              System.out.printf(checkThis);\n            }\n          } //end of while the file has text\n       \n  \n  \n        } catch (FileNotFoundException e) {\n    \n          System.out.printf(&quot;\\nInvalid file&quot;);\n    \n    \n    \n        }\n  \n  \n\n\n\n\n\n\n      } // end choice 2\n\n\n\n\n\n      //loop until the user exits + catch inputmismatch\n\n    } // end while it loop until exit\n\n  } //end main\n\n\n\n} //end class\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1647812658,"post_id":71550796,"comment_id":126459336,"body_markdown":"What is the type of productData in `Scanner readFile = new Scanner(productData)` ?","body":"What is the type of productData in <code>Scanner readFile = new Scanner(productData)</code> ?"},{"owner":{"account_id":24621708,"reputation":1,"user_id":18521967,"display_name":"Frank"},"score":0,"creation_date":1647812789,"post_id":71550796,"comment_id":126459364,"body_markdown":"This is the data in the file. int followed by String, then an int i want to read as a double, then a double:\n0 DX1000 700 .02\n1 DX5000 1300 .03\n2 SX1000 1100 .02\n3 SX5000 1500 .04","body":"This is the data in the file. int followed by String, then an int i want to read as a double, then a double: 0 DX1000 700 .02 1 DX5000 1300 .03 2 SX1000 1100 .02 3 SX5000 1500 .04"},{"owner":{"account_id":24621708,"reputation":1,"user_id":18521967,"display_name":"Frank"},"score":0,"creation_date":1647813704,"post_id":71550796,"comment_id":126459534,"body_markdown":"Or maybe you were asking about this?\njava.io.File productData = new File(&quot;/Users/User/Desktop/MidtermProject/ProductData.txt&quot;);","body":"Or maybe you were asking about this? java.io.File productData = new File(&quot;/Users/User/Desktop/MidtermProject/ProductData.txt&quot;);"}],"owner":{"account_id":24621708,"reputation":1,"user_id":18521967,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647811655,"creation_date":1647811655,"question_id":71550796,"body_markdown":"I am getting this exception and I am stumped on how to fix it.\r\nNot sure what to do with that. Any help would be appreciated. Here is the code snippet that I think is the issue, posted after the exception.\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.util.Scanner.throwFor(Scanner.java:840)\r\n        at java.util.Scanner.next(Scanner.java:1461)\r\n        at java.util.Scanner.nextDouble(Scanner.java:2387)\r\n        at SalesRecord.main(SalesRecord.java:22)\r\n\r\n    Scanner readFile = new Scanner(productData);\r\n        while (readFile.hasNext()) {\r\n            String modelName = readFile.nextLine();\r\n            int id = readFile.nextInt();\r\n            double price = readFile.nextDouble();\r\n            double commissionRate = readFile.nextDouble();\r\n            productList.add(new Product(id, modelName, price, commissionRate));\r\n        }\r\n        readFile.close();","title":"How to fix this Exception Input Mismatch for this project","body":"<p>I am getting this exception and I am stumped on how to fix it.\nNot sure what to do with that. Any help would be appreciated. Here is the code snippet that I think is the issue, posted after the exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Scanner.java:840)\n    at java.util.Scanner.next(Scanner.java:1461)\n    at java.util.Scanner.nextDouble(Scanner.java:2387)\n    at SalesRecord.main(SalesRecord.java:22)\n\nScanner readFile = new Scanner(productData);\n    while (readFile.hasNext()) {\n        String modelName = readFile.nextLine();\n        int id = readFile.nextInt();\n        double price = readFile.nextDouble();\n        double commissionRate = readFile.nextDouble();\n        productList.add(new Product(id, modelName, price, commissionRate));\n    }\n    readFile.close();\n</code></pre>\n"},{"tags":["java","android","email","email-attachments"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647788743,"post_id":71547916,"comment_id":126454116,"body_markdown":"You would have to use `ACTION_SEND_MULTIPLE` rather than `ACTION_SEND`. Also note that `plain/text` is not a valid MIME type and is not the MIME type of your image.","body":"You would have to use <code>ACTION_SEND_MULTIPLE</code> rather than <code>ACTION_SEND</code>. Also note that <code>plain&#47;text</code> is not a valid MIME type and is not the MIME type of your image."},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1647790548,"post_id":71547916,"comment_id":126454522,"body_markdown":"I&#39;ve tried to use ACTION_SEND_MULTIPLE, I don&#39;t understand what is meant by valid MIME type for my image.","body":"I&#39;ve tried to use ACTION_SEND_MULTIPLE, I don&#39;t understand what is meant by valid MIME type for my image."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647795376,"post_id":71547916,"comment_id":126455591,"body_markdown":"The MIME type that you put on the `Intent` for `ACTION_SEND` and `ACTION_SEND_MULTIPLE` is supposed to be the MIME type for the content in `EXTRA_STREAM`, if you are using `EXTRA_STREAM` (which you are). So, you should be using a MIME type associated with your image. Also, FWIW, `plain/text` is not a valid MIME type in any case -- plain text is `text/plain`.","body":"The MIME type that you put on the <code>Intent</code> for <code>ACTION_SEND</code> and <code>ACTION_SEND_MULTIPLE</code> is supposed to be the MIME type for the content in <code>EXTRA_STREAM</code>, if you are using <code>EXTRA_STREAM</code> (which you are). So, you should be using a MIME type associated with your image. Also, FWIW, <code>plain&#47;text</code> is not a valid MIME type in any case -- plain text is <code>text&#47;plain</code>."},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1647809501,"post_id":71547916,"comment_id":126458825,"body_markdown":"I&#39;ve tried yet I&#39;m still stuck","body":"I&#39;ve tried yet I&#39;m still stuck"}],"answers":[{"tags":[],"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647810111,"creation_date":1647810111,"answer_id":71550619,"question_id":71547916,"body_markdown":"Change your `sendEmail` function to the following:\r\n\r\n```\r\nprivate void sendEmail() {\r\n    try {\r\n        String recipient = &quot;kondja99@gmail.com&quot;;\r\n        subject = etSubject.getText().toString();\r\n        message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\r\n        final Intent emailIntent = new Intent(Intent.ACTION_SEND_MULTIPLE);\r\n        emailIntent.setType(&quot;*/*&quot;);\r\n        emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{recipient});\r\n        emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\r\n        ArrayList&lt;Uri&gt; uris = new ArrayList&lt;Uri&gt;();\r\n        uris.add(URI);\r\n        uris.add(URI2);\r\n        emailIntent.putExtra(Intent.EXTRA_STREAM, uris);\r\n        emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\r\n        this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\r\n    } catch (Throwable t) {\r\n        Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n```\r\nAs someone in comments pointed out, your MIME type is invalid (reversed.) Safest bet is to use `&quot;*/*&quot;`. You also need to use `ACTION_SEND_MULTIPLE` for the Intent action since you are attaching multiple Uris.","title":"How do we attach multiple images on intent in android email","body":"<p>Change your <code>sendEmail</code> function to the following:</p>\n<pre><code>private void sendEmail() {\n    try {\n        String recipient = &quot;kondja99@gmail.com&quot;;\n        subject = etSubject.getText().toString();\n        message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\n        final Intent emailIntent = new Intent(Intent.ACTION_SEND_MULTIPLE);\n        emailIntent.setType(&quot;*/*&quot;);\n        emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{recipient});\n        emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\n        ArrayList&lt;Uri&gt; uris = new ArrayList&lt;Uri&gt;();\n        uris.add(URI);\n        uris.add(URI2);\n        emailIntent.putExtra(Intent.EXTRA_STREAM, uris);\n        emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\n        this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\n    } catch (Throwable t) {\n        Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>As someone in comments pointed out, your MIME type is invalid (reversed.) Safest bet is to use <code>&quot;*/*&quot;</code>. You also need to use <code>ACTION_SEND_MULTIPLE</code> for the Intent action since you are attaching multiple Uris.</p>\n"}],"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71550619,"answer_count":1,"score":0,"last_activity_date":1647810111,"creation_date":1647788642,"question_id":71547916,"body_markdown":"I&#39;m struggling with attaching more than one image before before sending it to gmail or other email client. I would like to have each button attach an image, for example I would like user to attach on first button, copy of ID then another button, proof of payment copy(image). \r\n\r\nMy java code\r\n\r\n     private void openFolder() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\r\n    }\r\n\r\n    private void openFolder2() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY2);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK)\r\n         {\r\n             URI = data.getData();\r\n             tvAttachment.setText(URI.getLastPathSegment());\r\n             tvAttachment.setVisibility(View.INVISIBLE);\r\n\r\n             URI2 = data.getData();\r\n             tvAttachment2.setText(URI.getLastPathSegment());\r\n             tvAttachment2.setVisibility(View.INVISIBLE);\r\n\r\n        }\r\n    }\r\n\r\n    private void sendEmail() {\r\n        try {\r\n            String recipient = &quot;kondja99@gmail.com&quot;;\r\n            subject = etSubject.getText().toString();\r\n            message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\r\n            final Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n            emailIntent.setType(&quot;plain/text&quot;);\r\n            emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{recipient});\r\n            emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\r\n            if (URI != null) {\r\n                emailIntent.putExtra(Intent.EXTRA_STREAM, URI);\r\n            }\r\n            emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\r\n            this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\r\n        } catch (Throwable t) {\r\n            Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"How do we attach multiple images on intent in android email","body":"<p>I'm struggling with attaching more than one image before before sending it to gmail or other email client. I would like to have each button attach an image, for example I would like user to attach on first button, copy of ID then another button, proof of payment copy(image).</p>\n<p>My java code</p>\n<pre><code> private void openFolder() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    intent.putExtra(&quot;return-data&quot;, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\n}\n\nprivate void openFolder2() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    intent.putExtra(&quot;return-data&quot;, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY2);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK)\n     {\n         URI = data.getData();\n         tvAttachment.setText(URI.getLastPathSegment());\n         tvAttachment.setVisibility(View.INVISIBLE);\n\n         URI2 = data.getData();\n         tvAttachment2.setText(URI.getLastPathSegment());\n         tvAttachment2.setVisibility(View.INVISIBLE);\n\n    }\n}\n\nprivate void sendEmail() {\n    try {\n        String recipient = &quot;kondja99@gmail.com&quot;;\n        subject = etSubject.getText().toString();\n        message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\n        final Intent emailIntent = new Intent(Intent.ACTION_SEND);\n        emailIntent.setType(&quot;plain/text&quot;);\n        emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{recipient});\n        emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\n        if (URI != null) {\n            emailIntent.putExtra(Intent.EXTRA_STREAM, URI);\n        }\n        emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\n        this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\n    } catch (Throwable t) {\n        Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","object","parsing","dto"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647820310,"post_id":71550527,"comment_id":126460555,"body_markdown":"You need to add the source for ContactBasicRequest and its components","body":"You need to add the source for ContactBasicRequest and its components"},{"owner":{"account_id":10349419,"reputation":1,"user_id":9365634,"display_name":"flosan17"},"score":0,"creation_date":1647896439,"post_id":71550527,"comment_id":126482363,"body_markdown":"Hello @tgdavies, the ContactBasicRequest class was the one I added in the question as &quot;My DTO Object&quot; is above","body":"Hello @tgdavies, the ContactBasicRequest class was the one I added in the question as &quot;My DTO Object&quot; is above"}],"owner":{"account_id":10349419,"reputation":1,"user_id":9365634,"display_name":"flosan17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647809296,"creation_date":1647809296,"question_id":71550527,"body_markdown":"I am trying to convert a JSON to a disc that I already have implemented in my code and in this way be able to access the values of the properties with which the disc will remain to build a logic in another part of my code, thank you your help as i have been trying for several hours and i always get this error,\r\n\r\nAdditionally I attach the JSON, my DTO and the error to see if you know why I am getting the error, thank you\r\n\r\nThis is the Json I am trying to convert\r\n\r\n````\r\n{\r\n  &quot;TaxID&quot;: &quot;123456798&quot;,\r\n  &quot;DocumentType_Ext&quot;: &quot;C&quot;,\r\n  &quot;creationDate&quot;: &quot;&quot;,\r\n  &quot;name&quot;: &quot;William&quot;,\r\n  &quot;firstLastName&quot;: &quot;Dan&quot;,\r\n  &quot;tagType&quot;: &quot;client&quot;,\r\n  &quot;email&quot;: &quot;noaplica@gmail.com&quot;\r\n}\r\n````\r\n\r\nMy DTO Object\r\n\r\n````\r\n  @JsonProperty\r\n  @Required\r\n  public var TaxID            : String\r\n\r\n  @JsonProperty\r\n  @Required\r\n  public var DocumentType_Ext : typekey.IdentificationType_Ext\r\n\r\n  @JsonProperty\r\n  public var creationDate : Date\r\n\r\n  @JsonProperty\r\n  public var name : String\r\n\r\n  @JsonProperty\r\n  public var firstLastName : String\r\n\r\n  @JsonProperty\r\n  public var tagType : typekey.ContactTagType\r\n\r\n  @JsonProperty\r\n  public var email : String\r\n````\r\n\r\nImplementation class for parsing\r\n\r\n````\r\n  var result = false\r\n    var parserJSON = new JSONParser()\r\n    var gson = new Gson()\r\n    var json = parserJSON.parse(new String(body))\r\n\r\n\r\n    try{\r\n\r\n      result = InboundMessageUtil.validateMessageNull(json)\r\n      var message = gson.fromJson(json, ContactBasicRequest)\r\n````\r\n\r\n\r\nOutpout Error\r\n\r\n````\r\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 22\r\n````\r\n\r\nThanks for your help!","title":"Error when I try to convert Json String to Object DTO in Java","body":"<p>I am trying to convert a JSON to a disc that I already have implemented in my code and in this way be able to access the values of the properties with which the disc will remain to build a logic in another part of my code, thank you your help as i have been trying for several hours and i always get this error,</p>\n<p>Additionally I attach the JSON, my DTO and the error to see if you know why I am getting the error, thank you</p>\n<p>This is the Json I am trying to convert</p>\n<pre><code>{\n  &quot;TaxID&quot;: &quot;123456798&quot;,\n  &quot;DocumentType_Ext&quot;: &quot;C&quot;,\n  &quot;creationDate&quot;: &quot;&quot;,\n  &quot;name&quot;: &quot;William&quot;,\n  &quot;firstLastName&quot;: &quot;Dan&quot;,\n  &quot;tagType&quot;: &quot;client&quot;,\n  &quot;email&quot;: &quot;noaplica@gmail.com&quot;\n}\n</code></pre>\n<p>My DTO Object</p>\n<pre><code>  @JsonProperty\n  @Required\n  public var TaxID            : String\n\n  @JsonProperty\n  @Required\n  public var DocumentType_Ext : typekey.IdentificationType_Ext\n\n  @JsonProperty\n  public var creationDate : Date\n\n  @JsonProperty\n  public var name : String\n\n  @JsonProperty\n  public var firstLastName : String\n\n  @JsonProperty\n  public var tagType : typekey.ContactTagType\n\n  @JsonProperty\n  public var email : String\n</code></pre>\n<p>Implementation class for parsing</p>\n<pre><code>  var result = false\n    var parserJSON = new JSONParser()\n    var gson = new Gson()\n    var json = parserJSON.parse(new String(body))\n\n\n    try{\n\n      result = InboundMessageUtil.validateMessageNull(json)\n      var message = gson.fromJson(json, ContactBasicRequest)\n</code></pre>\n<p>Outpout Error</p>\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 22\n</code></pre>\n<p>Thanks for your help!</p>\n"},{"tags":["java","eclipse","junit"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647791835,"creation_date":1647791835,"answer_id":71548293,"question_id":71547133,"body_markdown":"This seems to be a limitation of JUnit4 ([at least you get the same error on the command line][1]).\r\n\r\nThe simplest and straightforward solution would be to **migrate** from JUnit4 **to JUnit5**, which would also mean less code:\r\n\r\n\tpackage com.stackexchange.toolbox;\r\n\t\r\n\timport java.util.Arrays;\r\n\timport java.util.stream.Stream;\r\n\t\r\n\timport org.junit.Assert;\r\n\timport org.junit.jupiter.params.ParameterizedTest;\r\n\timport org.junit.jupiter.params.provider.Arguments;\r\n\timport org.junit.jupiter.params.provider.MethodSource;\r\n\t\r\n\tclass Tester {\r\n\t\t\r\n\t    private static final Object[][] testCases = { { &quot;A1&quot;, &quot;B1&quot; }, { &quot;A2&quot;, new String[] { &quot;B2&quot;, &quot;C2&quot; } } };\r\n\t\r\n\t    @ParameterizedTest(name = &quot;{index}: {0} --&gt; {1}&quot;)\r\n\t    @MethodSource(&quot;provideArguments&quot;)\r\n\t    void test(String source, Object target) {\r\n\t        if (target instanceof String) {\r\n\t            Assert.assertEquals(source.charAt(1), ((String)target).charAt(1));\r\n\t        } else {\r\n\t            for (String targetElement : (String[])target) {\r\n\t                Assert.assertEquals(source.charAt(1), targetElement.charAt(1));\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    static Stream&lt;? extends Arguments&gt; provideArguments() throws Exception {\r\n\t    \treturn Arrays.stream(testCases).map(Arguments::of);\r\n\t    }\r\n\t\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/31637451/6505250","title":"Rerunning parametrized JUnit test with string array parameter fails","body":"<p>This seems to be a limitation of JUnit4 (<a href=\"https://stackoverflow.com/q/31637451/6505250\">at least you get the same error on the command line</a>).</p>\n<p>The simplest and straightforward solution would be to <strong>migrate</strong> from JUnit4 <strong>to JUnit5</strong>, which would also mean less code:</p>\n<pre><code>package com.stackexchange.toolbox;\n\nimport java.util.Arrays;\nimport java.util.stream.Stream;\n\nimport org.junit.Assert;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.Arguments;\nimport org.junit.jupiter.params.provider.MethodSource;\n\nclass Tester {\n    \n    private static final Object[][] testCases = { { &quot;A1&quot;, &quot;B1&quot; }, { &quot;A2&quot;, new String[] { &quot;B2&quot;, &quot;C2&quot; } } };\n\n    @ParameterizedTest(name = &quot;{index}: {0} --&gt; {1}&quot;)\n    @MethodSource(&quot;provideArguments&quot;)\n    void test(String source, Object target) {\n        if (target instanceof String) {\n            Assert.assertEquals(source.charAt(1), ((String)target).charAt(1));\n        } else {\n            for (String targetElement : (String[])target) {\n                Assert.assertEquals(source.charAt(1), targetElement.charAt(1));\n            }\n        }\n    }\n\n    static Stream&lt;? extends Arguments&gt; provideArguments() throws Exception {\n        return Arrays.stream(testCases).map(Arguments::of);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71548293,"answer_count":1,"score":0,"last_activity_date":1647809149,"creation_date":1647782626,"question_id":71547133,"body_markdown":"While using [parametrized JUnit tests](https://www.tutorialspoint.com/junit/junit_parameterized_test.htm) in Eclipse, I&#39;m running into a problem when I want to rerun a single test. The tests themselves run fine, and while I *can* rerun the first test from the context menu, rerunning the second test:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nfails with the following message:\r\n\r\n&gt; java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=test[1: A2 --&gt; [Ljava.lang.String;@1e4a7dd4]], {ExactMatcher:fDisplayName=test[1: A2 --&gt; [Ljava.lang.String;@1e4a7dd4](com.stackexchange.toolbox.Tester)]] from org.junit.internal.requests.ClassRequest@6c3f5566\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;m pretty sure this is because JUnit doesn&#39;t &#39;like&#39; my arrays; for some context: I&#39;m using this to account for the fact that due to external circumstances, the code under test can produce one of two outcomes for a particular test case.\r\n\r\nHere is some code to reproduce this:\r\n\r\n```\r\npackage com.stackexchange.toolbox;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.Parameterized;\r\nimport org.junit.runners.Parameterized.Parameters;\r\n\r\n@RunWith(Parameterized.class)\r\npublic class Tester {\r\n\tpublic Tester(String source, Object target) {\r\n\t\tthis.source = source;\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\tprivate final String source;\r\n\tprivate final Object target;\r\n\r\n\tprivate static final Object[][] testCases = { { &quot;A1&quot;, &quot;B1&quot; }, { &quot;A2&quot;, new String[] { &quot;B2&quot;, &quot;C2&quot; } } };\r\n\r\n\t@Parameters(name = &quot;{index}: {0} --&gt; {1}&quot;)\r\n\tpublic static Iterable&lt;Object[]&gt; data() throws Exception {\r\n\t\treturn new ArrayList&lt;&gt;(Arrays.asList(testCases));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() throws Exception {\r\n\t\tif (target instanceof String) {\r\n\t\t\tAssert.assertEquals(source.charAt(1), ((String)target).charAt(1));\r\n\t\t} else {\r\n\t\t\tfor (String target : (String[])this.target) {\r\n\t\t\t\tAssert.assertEquals(source.charAt(1), target.charAt(1));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIs there an easy way to fix this, perhaps with `List`s or variadic arguments? Most of the (100+) test cases are simple &#39;source&#39;, &#39;target&#39; entries, and I&#39;d like to keep the conciseness of `{ &quot;A1&quot;, &quot;B1&quot; }`.\r\n\r\n  [1]: https://i.stack.imgur.com/OiSaD.png\r\n  [2]: https://i.stack.imgur.com/qH0Gr.png","title":"Rerunning parametrized JUnit test with string array parameter fails","body":"<p>While using <a href=\"https://www.tutorialspoint.com/junit/junit_parameterized_test.htm\" rel=\"nofollow noreferrer\">parametrized JUnit tests</a> in Eclipse, I'm running into a problem when I want to rerun a single test. The tests themselves run fine, and while I <em>can</em> rerun the first test from the context menu, rerunning the second test:</p>\n<p><a href=\"https://i.stack.imgur.com/OiSaD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OiSaD.png\" alt=\"enter image description here\" /></a></p>\n<p>fails with the following message:</p>\n<blockquote>\n<p>java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=test[1: A2 --&gt; [Ljava.lang.String;@1e4a7dd4]], {ExactMatcher:fDisplayName=test[1: A2 --&gt; Ljava.lang.String;@1e4a7dd4]] from org.junit.internal.requests.ClassRequest@6c3f5566</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/qH0Gr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qH0Gr.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm pretty sure this is because JUnit doesn't 'like' my arrays; for some context: I'm using this to account for the fact that due to external circumstances, the code under test can produce one of two outcomes for a particular test case.</p>\n<p>Here is some code to reproduce this:</p>\n<pre><code>package com.stackexchange.toolbox;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\nimport org.junit.runners.Parameterized.Parameters;\n\n@RunWith(Parameterized.class)\npublic class Tester {\n    public Tester(String source, Object target) {\n        this.source = source;\n        this.target = target;\n    }\n\n    private final String source;\n    private final Object target;\n\n    private static final Object[][] testCases = { { &quot;A1&quot;, &quot;B1&quot; }, { &quot;A2&quot;, new String[] { &quot;B2&quot;, &quot;C2&quot; } } };\n\n    @Parameters(name = &quot;{index}: {0} --&gt; {1}&quot;)\n    public static Iterable&lt;Object[]&gt; data() throws Exception {\n        return new ArrayList&lt;&gt;(Arrays.asList(testCases));\n    }\n\n    @Test\n    public void test() throws Exception {\n        if (target instanceof String) {\n            Assert.assertEquals(source.charAt(1), ((String)target).charAt(1));\n        } else {\n            for (String target : (String[])this.target) {\n                Assert.assertEquals(source.charAt(1), target.charAt(1));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there an easy way to fix this, perhaps with <code>List</code>s or variadic arguments? Most of the (100+) test cases are simple 'source', 'target' entries, and I'd like to keep the conciseness of <code>{ &quot;A1&quot;, &quot;B1&quot; }</code>.</p>\n"},{"tags":["java","user-interface","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1560796619,"creation_date":1560796619,"answer_id":56637049,"question_id":56636795,"body_markdown":"Just add `IDEA_HOME\\redist\\forms_rt.jar` file to the [module dependencies](https://www.jetbrains.com/help/idea/creating-and-managing-modules.html#working-with-module-dependencies).\r\n\r\nYou can switch off source code generation and use the default option for GUI Designer which will instrument the bytecode so that you don&#39;t see the generated code at all in the editor.","title":"Intellij giving me an error when it builds project from gui form","body":"<p>Just add <code>IDEA_HOME\\redist\\forms_rt.jar</code> file to the <a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html#working-with-module-dependencies\" rel=\"nofollow noreferrer\">module dependencies</a>.</p>\n\n<p>You can switch off source code generation and use the default option for GUI Designer which will instrument the bytecode so that you don't see the generated code at all in the editor.</p>\n"},{"tags":[],"owner":{"account_id":6365177,"reputation":407,"user_id":4939361,"display_name":"Artur Łysik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647809122,"creation_date":1647809122,"answer_id":71550506,"question_id":56636795,"body_markdown":"For those using maven, adding dependency helps:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.intellij&lt;/groupId&gt;\r\n        &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Intellij giving me an error when it builds project from gui form","body":"<p>For those using maven, adding dependency helps:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.intellij&lt;/groupId&gt;\n    &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\n    &lt;version&gt;7.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11376923,"reputation":85,"user_id":10998243,"display_name":"User1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56637049,"answer_count":2,"score":1,"last_activity_date":1647809122,"creation_date":1560795393,"question_id":56636795,"body_markdown":"I&#39;m somewhat new to Java and using intellij to learn gui. If I understand right, intellij doesn&#39;t build the source code for your gui when you design it, you have to select build-&gt;buildproject. It auto generates the code but provides things that give me an error in my code. Everywhere this shows up &quot;com.intellij.uiDesigner.core.GridConstraints&quot;, it&#39;s red in the editor.\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GameGUI {\r\n    private JPanel contolPanel;\r\n    private JLabel labelImage;\r\n\r\n    {\r\n// GUI initializer generated by IntelliJ IDEA GUI Designer\r\n// &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\r\n// DO NOT EDIT OR ADD ANY CODE HERE!\r\n        $$$setupUI$$$();\r\n    }\r\n\r\n    /**\r\n     * Method generated by IntelliJ IDEA GUI Designer\r\n     * &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\r\n     * DO NOT edit this method OR call it in your code!\r\n     *\r\n     * @noinspection ALL\r\n     */\r\n    private void $$$setupUI$$$() {\r\n        contolPanel = new JPanel();\r\n        contolPanel.setLayout(new com.intellij.uiDesigner.core.GridLayoutManager(1, 2, new Insets(0, 0, 0, 0), -1, -1));\r\n        contolPanel.setAlignmentX(1.0f);\r\n        contolPanel.setAlignmentY(1.0f);\r\n        contolPanel.setAutoscrolls(false);\r\n        contolPanel.putClientProperty(&quot;html.disable&quot;, Boolean.FALSE);\r\n        labelImage = new JLabel();\r\n        labelImage.setIcon(new ImageIcon(getClass().getResource(&quot;/images/java.png&quot;)));\r\n        labelImage.setText(&quot;Label&quot;);\r\n        contolPanel.add(labelImage, new com.intellij.uiDesigner.core.GridConstraints(0, 0, 1, 1, com.intellij.uiDesigner.core.GridConstraints.ANCHOR_WEST, com.intellij.uiDesigner.core.GridConstraints.FILL_NONE, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_FIXED, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_FIXED, null, null, null, 0, false));\r\n        final com.intellij.uiDesigner.core.Spacer spacer1 = new com.intellij.uiDesigner.core.Spacer();\r\n        contolPanel.add(spacer1, new com.intellij.uiDesigner.core.GridConstraints(0, 1, 1, 1, com.intellij.uiDesigner.core.GridConstraints.ANCHOR_CENTER, com.intellij.uiDesigner.core.GridConstraints.FILL_HORIZONTAL, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_WANT_GROW, 1, null, null, null, 0, false));\r\n    }\r\n\r\n    /**\r\n     * @noinspection ALL\r\n     */\r\n    public JComponent $$$getRootComponent$$$() {\r\n        return contolPanel;\r\n    }\r\n}\r\n\r\n```","title":"Intellij giving me an error when it builds project from gui form","body":"<p>I'm somewhat new to Java and using intellij to learn gui. If I understand right, intellij doesn't build the source code for your gui when you design it, you have to select build->buildproject. It auto generates the code but provides things that give me an error in my code. Everywhere this shows up \"com.intellij.uiDesigner.core.GridConstraints\", it's red in the editor.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GameGUI {\n    private JPanel contolPanel;\n    private JLabel labelImage;\n\n    {\n// GUI initializer generated by IntelliJ IDEA GUI Designer\n// &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\n// DO NOT EDIT OR ADD ANY CODE HERE!\n        $$$setupUI$$$();\n    }\n\n    /**\n     * Method generated by IntelliJ IDEA GUI Designer\n     * &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\n     * DO NOT edit this method OR call it in your code!\n     *\n     * @noinspection ALL\n     */\n    private void $$$setupUI$$$() {\n        contolPanel = new JPanel();\n        contolPanel.setLayout(new com.intellij.uiDesigner.core.GridLayoutManager(1, 2, new Insets(0, 0, 0, 0), -1, -1));\n        contolPanel.setAlignmentX(1.0f);\n        contolPanel.setAlignmentY(1.0f);\n        contolPanel.setAutoscrolls(false);\n        contolPanel.putClientProperty(\"html.disable\", Boolean.FALSE);\n        labelImage = new JLabel();\n        labelImage.setIcon(new ImageIcon(getClass().getResource(\"/images/java.png\")));\n        labelImage.setText(\"Label\");\n        contolPanel.add(labelImage, new com.intellij.uiDesigner.core.GridConstraints(0, 0, 1, 1, com.intellij.uiDesigner.core.GridConstraints.ANCHOR_WEST, com.intellij.uiDesigner.core.GridConstraints.FILL_NONE, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_FIXED, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_FIXED, null, null, null, 0, false));\n        final com.intellij.uiDesigner.core.Spacer spacer1 = new com.intellij.uiDesigner.core.Spacer();\n        contolPanel.add(spacer1, new com.intellij.uiDesigner.core.GridConstraints(0, 1, 1, 1, com.intellij.uiDesigner.core.GridConstraints.ANCHOR_CENTER, com.intellij.uiDesigner.core.GridConstraints.FILL_HORIZONTAL, com.intellij.uiDesigner.core.GridConstraints.SIZEPOLICY_WANT_GROW, 1, null, null, null, 0, false));\n    }\n\n    /**\n     * @noinspection ALL\n     */\n    public JComponent $$$getRootComponent$$$() {\n        return contolPanel;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","hibernate","unit-testing","junit4"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1647811331,"post_id":71550505,"comment_id":126459135,"body_markdown":"What is the purpose of the `A` parameter in your `findById` method? You should return instead a `B` type or `List&lt;B&gt;`. In point of view, you don&#39;t need a `A` type.","body":"What is the purpose of the <code>A</code> parameter in your <code>findById</code> method? You should return instead a <code>B</code> type or <code>List&lt;B&gt;</code>. In point of view, you don&#39;t need a <code>A</code> type."},{"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"score":0,"creation_date":1647840981,"post_id":71550505,"comment_id":126463402,"body_markdown":"@HarryCoder A in this context refers to the Test class","body":"@HarryCoder A in this context refers to the Test class"},{"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"score":0,"creation_date":1647841012,"post_id":71550505,"comment_id":126463406,"body_markdown":"any help with the unit test?","body":"any help with the unit test?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1647842102,"post_id":71550505,"comment_id":126463574,"body_markdown":"Why do you return the `A` that reprensent the test class?","body":"Why do you return the <code>A</code> that reprensent the test class?"},{"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"score":0,"creation_date":1647845154,"post_id":71550505,"comment_id":126464113,"body_markdown":"Because I want to find A using B . B is the id (primary key)","body":"Because I want to find A using B . B is the id (primary key)"},{"owner":{"account_id":8295144,"reputation":565,"user_id":6235606,"display_name":"briadeus"},"score":0,"creation_date":1647858318,"post_id":71550505,"comment_id":126468123,"body_markdown":"You would have to provide more information about your setup - which build tool, how is your persistence unit initialised, etc.","body":"You would have to provide more information about your setup - which build tool, how is your persistence unit initialised, etc."}],"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647809095,"creation_date":1647809095,"question_id":71550505,"body_markdown":"My generic DAO class looks like:\r\n```\r\npublic abstract class DAO&lt;A,B&gt; {\r\n     public Class&lt;B&gt; entity;\r\n\r\n     protected final Provider&lt;EntityManager&gt; entityManagerFactory;\r\n     \r\n     @Inject\r\n     public DAO(Provider&lt;EntityManager&gt; entityManagerFactory){\r\n         this.entityManagerFactory = entityManagerFactory;\r\n     }\r\n\r\n     public A findById(B id){\r\n        return entityManagerFactory.get().find(entity, id);\r\n     }\r\n}\r\n```\r\n\r\nThe class I want to write unit tests for looks like:\r\n```\r\npublic class TestDAO extends DAO&lt;Test, Long&gt; {\r\n     @Inject\r\n     public TestDAO(Provider&lt;EntityManager&gt; entityManagerFactory){\r\n         super(entityManagerFactory);\r\n         entity = Test.class;\r\n     }\r\n}\r\n\r\n```\r\n\r\nI am unable to figure out how to initialize stuff for writing unit tests for this class? Any help would be appreciated. The generic DAO would later on also contain functions for updating, deleting, creating etc. I want to use junit4 for my testing purposes","title":"Unit testing a DAO class extending a generic DAO class","body":"<p>My generic DAO class looks like:</p>\n<pre><code>public abstract class DAO&lt;A,B&gt; {\n     public Class&lt;B&gt; entity;\n\n     protected final Provider&lt;EntityManager&gt; entityManagerFactory;\n     \n     @Inject\n     public DAO(Provider&lt;EntityManager&gt; entityManagerFactory){\n         this.entityManagerFactory = entityManagerFactory;\n     }\n\n     public A findById(B id){\n        return entityManagerFactory.get().find(entity, id);\n     }\n}\n</code></pre>\n<p>The class I want to write unit tests for looks like:</p>\n<pre><code>public class TestDAO extends DAO&lt;Test, Long&gt; {\n     @Inject\n     public TestDAO(Provider&lt;EntityManager&gt; entityManagerFactory){\n         super(entityManagerFactory);\n         entity = Test.class;\n     }\n}\n\n</code></pre>\n<p>I am unable to figure out how to initialize stuff for writing unit tests for this class? Any help would be appreciated. The generic DAO would later on also contain functions for updating, deleting, creating etc. I want to use junit4 for my testing purposes</p>\n"},{"tags":["java","database","concurrency"],"answers":[{"tags":[],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647808256,"creation_date":1647808256,"answer_id":71550418,"question_id":71545182,"body_markdown":"Both have advantages and disadvantages.\r\n\r\nThe first option creates one transaction for the whole loop, hence if you have 1000 elements in the list:\r\n\r\n 1. If an exception occurs for the 1000th element, all 999 will not be persisted\r\n 2. If an exception does not occur, you gain a performance benefit, because you created only one transaction\r\n\r\nFor the second option:\r\n 1. If an exception occurs for the 1000th element, all 999 will be persisted\r\n 2. However you create a transaction for every loop iteration which slows down your program significantly\r\n\r\nAs far as concurrency is concerned, it all depends on the transaction isolation level of your RBMS. \r\n\r\nFor example, for Oracle, it is ```READ_COMMITTED```, so in the case of updating the row by one thread, the rest can freely read this row regardless the transaction of the update is finished or not. Hence both options should behave similarly.\r\n\r\nFor MySql it is ```REPEATABLE_READ```. Therefore the first option potentially locks many rows by one thread, what prevents the rest from reading those locked rows. In that case, the second option may be better.\r\n\r\nSo as you can see there are many factors and there is no best answer. It depends on the database which you use, on the exceptions frequency and on what stands behind xxx in your methods. ","title":"How to reduce multi inventory, each transaction or only one transaction?","body":"<p>Both have advantages and disadvantages.</p>\n<p>The first option creates one transaction for the whole loop, hence if you have 1000 elements in the list:</p>\n<ol>\n<li>If an exception occurs for the 1000th element, all 999 will not be persisted</li>\n<li>If an exception does not occur, you gain a performance benefit, because you created only one transaction</li>\n</ol>\n<p>For the second option:</p>\n<ol>\n<li>If an exception occurs for the 1000th element, all 999 will be persisted</li>\n<li>However you create a transaction for every loop iteration which slows down your program significantly</li>\n</ol>\n<p>As far as concurrency is concerned, it all depends on the transaction isolation level of your RBMS.</p>\n<p>For example, for Oracle, it is <code>READ_COMMITTED</code>, so in the case of updating the row by one thread, the rest can freely read this row regardless the transaction of the update is finished or not. Hence both options should behave similarly.</p>\n<p>For MySql it is <code>REPEATABLE_READ</code>. Therefore the first option potentially locks many rows by one thread, what prevents the rest from reading those locked rows. In that case, the second option may be better.</p>\n<p>So as you can see there are many factors and there is no best answer. It depends on the database which you use, on the exceptions frequency and on what stands behind xxx in your methods.</p>\n"}],"owner":{"account_id":11787209,"reputation":13,"user_id":8624467,"display_name":"SoneWinstone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71550418,"answer_count":1,"score":1,"last_activity_date":1647808256,"creation_date":1647764803,"question_id":71545182,"body_markdown":"like that `method1`\r\n```java  \r\n@Transactional(rollbackFor = Exception.class)\r\npublic void reduce(list) {\r\n    for (someone : list) {\r\n        xxx\r\n    }\r\n}\r\n```\r\nor `method2`\r\n```java\r\npublic void reduce(list) {\r\n    for (someone : list) {\r\n        reduceOne();\r\n    }\r\n}\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\nprivate void reduceOne(one) {\r\n    xxx\r\n}\r\n```\r\nwhich one is better for concurrent system? and why?\r\nif choose `method2`, how to resolve someone reduce fail?","title":"How to reduce multi inventory, each transaction or only one transaction?","body":"<p>like that <code>method1</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = Exception.class)\npublic void reduce(list) {\n    for (someone : list) {\n        xxx\n    }\n}\n</code></pre>\n<p>or <code>method2</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void reduce(list) {\n    for (someone : list) {\n        reduceOne();\n    }\n}\n\n@Transactional(rollbackFor = Exception.class)\nprivate void reduceOne(one) {\n    xxx\n}\n</code></pre>\n<p>which one is better for concurrent system? and why?\nif choose <code>method2</code>, how to resolve someone reduce fail?</p>\n"},{"tags":["java","oracle","jdbc","rx-java2"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1647512846,"post_id":71510676,"comment_id":126392061,"body_markdown":"You can&#39;t run multiple statements with a single `execute()` call. You need to split up your script in individual statements, then run each one separately in a loop using `execute()`  (so it would be 5 calls based on your example script)","body":"You can&#39;t run multiple statements with a single <code>execute()</code> call. You need to split up your script in individual statements, then run each one separately in a loop using <code>execute()</code>  (so it would be 5 calls based on your example script)"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647513038,"post_id":71510676,"comment_id":126392134,"body_markdown":"&quot;if can I use in a only this SQL script all I am using or not&quot;—This arrangement of words does not make sense. Perhaps you could have another try at explaining what you mean.","body":"&quot;if can I use in a only this SQL script all I am using or not&quot;—This arrangement of words does not make sense. Perhaps you could have another try at explaining what you mean."},{"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"score":0,"creation_date":1647513347,"post_id":71510676,"comment_id":126392242,"body_markdown":"thanks @khelwood I&#39;ve edited my question, let me know if it&#39;s understandable now.","body":"thanks @khelwood I&#39;ve edited my question, let me know if it&#39;s understandable now."},{"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"score":0,"creation_date":1647513745,"post_id":71510676,"comment_id":126392374,"body_markdown":"so then it&#39;s needed the statements splits in different scripts although in https://livesql.oracle.com/ sql worksheet sections my script works in only one? @a_horse_with_no_name","body":"so then it&#39;s needed the statements splits in different scripts although in <a href=\"https://livesql.oracle.com/\" rel=\"nofollow noreferrer\">livesql.oracle.com</a> sql worksheet sections my script works in only one? @a_horse_with_no_name"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1647514003,"post_id":71510676,"comment_id":126392471,"body_markdown":"livesql (like any other SQL client) will do the splitting for you.","body":"livesql (like any other SQL client) will do the splitting for you."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647517667,"creation_date":1647517339,"answer_id":71511730,"question_id":71510676,"body_markdown":"You are mixing PL/SQL and SQL code in the same script.\r\n\r\n - SQL statements can be terminated by `;`.\r\n - PL/SQL blocks are terminated by `/` on a newline and will contain nested PL/SQL (or SQL) statements that are each terminated by `;`.\r\n\r\nSo you cannot naively split your code on `;` and expect it to work as you will incorrectly split the PL/SQL blocks.\r\n\r\nIn addition to using `;` as an SQL statement terminator, you can also use `/` on a newline; so you could rewrite your script as:\r\n\r\n``` sql\r\nBEGIN\r\n  EXECUTE IMMEDIATE &#39;DROP TABLE animals&#39;;\r\nEXCEPTION\r\n  WHEN OTHERS THEN\r\n    IF SQLCODE != -942 THEN\r\n      RAISE;\r\n    END IF;\r\nEND;\r\n/\r\n\r\nCREATE TABLE animals (\r\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\r\n  name      VARCHAR2(40) NOT NULL,\r\n  amount    INT,\r\n  CONSTRAINT animals_pk PRIMARY KEY (id)\r\n)\r\n/\r\n\r\nINSERT INTO animals (name, amount) values (&#39;Cats&#39;, 10)\r\n/\r\nINSERT INTO animals (name, amount) values (&#39;Dogs&#39;, 10)\r\n/\r\nINSERT INTO animals (name, amount) values (&#39;Rats&#39;, 10)\r\n/\r\n\r\n```\r\n\r\nAnd split the script on `\\n/\\n`.\r\n\r\nOr, you can just ignore catching the ORA-00942 exception and just use SQL and continue using the `;` statement terminator:\r\n\r\n``` sql\r\nDROP TABLE animals;\r\n\r\nCREATE TABLE animals (\r\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\r\n  name      VARCHAR2(40) NOT NULL,\r\n  amount    INT,\r\n  CONSTRAINT animals_pk PRIMARY KEY (id)\r\n);\r\n\r\nINSERT INTO animals (name, amount) values (&#39;Cats&#39;, 10);\r\nINSERT INTO animals (name, amount) values (&#39;Dogs&#39;, 10);\r\nINSERT INTO animals (name, amount) values (&#39;Rats&#39;, 10);\r\n```\r\n\r\nOr, you can create a more complicated solution that actually parses PL/SQL and SQL statements and can split the script into individual statement based on the syntax tree.","title":"ORA-06550 line 2, column 44:PLS-00103: Encountered the symbol &quot;end-of-file&quot;","body":"<p>You are mixing PL/SQL and SQL code in the same script.</p>\n<ul>\n<li>SQL statements can be terminated by <code>;</code>.</li>\n<li>PL/SQL blocks are terminated by <code>/</code> on a newline and will contain nested PL/SQL (or SQL) statements that are each terminated by <code>;</code>.</li>\n</ul>\n<p>So you cannot naively split your code on <code>;</code> and expect it to work as you will incorrectly split the PL/SQL blocks.</p>\n<p>In addition to using <code>;</code> as an SQL statement terminator, you can also use <code>/</code> on a newline; so you could rewrite your script as:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>BEGIN\n  EXECUTE IMMEDIATE 'DROP TABLE animals';\nEXCEPTION\n  WHEN OTHERS THEN\n    IF SQLCODE != -942 THEN\n      RAISE;\n    END IF;\nEND;\n/\n\nCREATE TABLE animals (\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\n  name      VARCHAR2(40) NOT NULL,\n  amount    INT,\n  CONSTRAINT animals_pk PRIMARY KEY (id)\n)\n/\n\nINSERT INTO animals (name, amount) values ('Cats', 10)\n/\nINSERT INTO animals (name, amount) values ('Dogs', 10)\n/\nINSERT INTO animals (name, amount) values ('Rats', 10)\n/\n\n</code></pre>\n<p>And split the script on <code>\\n/\\n</code>.</p>\n<p>Or, you can just ignore catching the ORA-00942 exception and just use SQL and continue using the <code>;</code> statement terminator:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DROP TABLE animals;\n\nCREATE TABLE animals (\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\n  name      VARCHAR2(40) NOT NULL,\n  amount    INT,\n  CONSTRAINT animals_pk PRIMARY KEY (id)\n);\n\nINSERT INTO animals (name, amount) values ('Cats', 10);\nINSERT INTO animals (name, amount) values ('Dogs', 10);\nINSERT INTO animals (name, amount) values ('Rats', 10);\n</code></pre>\n<p>Or, you can create a more complicated solution that actually parses PL/SQL and SQL statements and can split the script into individual statement based on the syntax tree.</p>\n"}],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647807473,"creation_date":1647512549,"question_id":71510676,"body_markdown":"I am trying to execute a SQL script from Java using some rxjava2 methods. \r\nI have a resource file called `init_db.sql`.\r\n\r\nIts content:\r\n\r\n```sql\r\nBEGIN\r\nEXECUTE IMMEDIATE &#39;DROP TABLE animals&#39;;\r\nEXCEPTION\r\n   WHEN OTHERS THEN\r\n      IF SQLCODE != -942 THEN\r\n         RAISE;\r\n      END IF;\r\nEND;\r\n/\r\nCREATE TABLE animals (\r\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\r\n  name      VARCHAR2(40) NOT NULL,\r\n  amount    INT,\r\n  CONSTRAINT animals_pk PRIMARY KEY (id));\r\n\r\nINSERT INTO animals (name, amount) values (&#39;Cats&#39;, 10);\r\nINSERT INTO animals (name, amount) values (&#39;Dogs&#39;, 10);\r\nINSERT INTO animals (name, amount) values (&#39;Rats&#39;, 10);\r\n```\r\nThe method where the Java code is executed is the next:\r\n\r\n```java\r\npublic  Completable initOracleDatabase(Vertx vertx, JDBCClient jdbc) {\r\n    System.out.println(&quot;Init Oracle Database **** executing..sql script...&quot;);\r\n    Completable completable =\r\n      jdbc.rxGetConnection().flatMapCompletable(sqlConnection -&gt; vertx.fileSystem().rxReadFile(&quot;init_db.sql&quot;)\r\n        .flatMapObservable(buffer -&gt; Observable.fromArray(buffer.toString().replaceAll(&quot;;.*$&quot;, &quot;&quot;).split(&quot;;&quot;)))\r\n        .flatMapCompletable(sqlConnection::rxExecute)\r\n        .doAfterTerminate(sqlConnection::close));\r\n   \r\n    return completable;\r\n```\r\nAnd this is the error that I got from the logs: \r\n\r\n```none\r\njava.sql.SQLException: ORA-06550: line 2, column 44:\r\nPLS-00103: Encountered the symbol &quot;end-of-file&quot; when expecting one of the following:\r\n * &amp; = - + ; &lt; / &gt; at in is mod remainder not rem return\r\nreturning &lt;an exponent (**)&gt; &lt;&gt; or != or ~= &gt;= &lt;= &lt;&gt; and or\r\n like like2 like4 likec between into using || multiset bulk\r\n member submultiset\r\n```\r\n\r\n and the error trace log: \r\n\r\n```none\r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\r\n  at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\r\n  at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\r\n  at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\r\n  at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\r\n  at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\r\n  at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:229)\r\n  at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:41)\r\n  at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:928)\r\n  at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1205)\r\n  at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1823)\r\n  at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1778)\r\n  at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:303)\r\n```\r\nBasically I would like to know if can I use in one only statement this SQL scriptor not? or if I am missing anything or some error code translate between SQL script and Java?","title":"ORA-06550 line 2, column 44:PLS-00103: Encountered the symbol &quot;end-of-file&quot;","body":"<p>I am trying to execute a SQL script from Java using some rxjava2 methods.\nI have a resource file called <code>init_db.sql</code>.</p>\n<p>Its content:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>BEGIN\nEXECUTE IMMEDIATE 'DROP TABLE animals';\nEXCEPTION\n   WHEN OTHERS THEN\n      IF SQLCODE != -942 THEN\n         RAISE;\n      END IF;\nEND;\n/\nCREATE TABLE animals (\n  id        NUMBER GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1),\n  name      VARCHAR2(40) NOT NULL,\n  amount    INT,\n  CONSTRAINT animals_pk PRIMARY KEY (id));\n\nINSERT INTO animals (name, amount) values ('Cats', 10);\nINSERT INTO animals (name, amount) values ('Dogs', 10);\nINSERT INTO animals (name, amount) values ('Rats', 10);\n</code></pre>\n<p>The method where the Java code is executed is the next:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  Completable initOracleDatabase(Vertx vertx, JDBCClient jdbc) {\n    System.out.println(&quot;Init Oracle Database **** executing..sql script...&quot;);\n    Completable completable =\n      jdbc.rxGetConnection().flatMapCompletable(sqlConnection -&gt; vertx.fileSystem().rxReadFile(&quot;init_db.sql&quot;)\n        .flatMapObservable(buffer -&gt; Observable.fromArray(buffer.toString().replaceAll(&quot;;.*$&quot;, &quot;&quot;).split(&quot;;&quot;)))\n        .flatMapCompletable(sqlConnection::rxExecute)\n        .doAfterTerminate(sqlConnection::close));\n   \n    return completable;\n</code></pre>\n<p>And this is the error that I got from the logs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLException: ORA-06550: line 2, column 44:\nPLS-00103: Encountered the symbol &quot;end-of-file&quot; when expecting one of the following:\n * &amp; = - + ; &lt; / &gt; at in is mod remainder not rem return\nreturning &lt;an exponent (**)&gt; &lt;&gt; or != or ~= &gt;= &lt;= &lt;&gt; and or\n like like2 like4 likec between into using || multiset bulk\n member submultiset\n</code></pre>\n<p>and the error trace log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\n  at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\n  at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\n  at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\n  at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\n  at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\n  at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:229)\n  at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:41)\n  at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:928)\n  at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1205)\n  at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1823)\n  at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1778)\n  at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:303)\n</code></pre>\n<p>Basically I would like to know if can I use in one only statement this SQL scriptor not? or if I am missing anything or some error code translate between SQL script and Java?</p>\n"},{"tags":["java","word-count"],"answers":[{"tags":[],"owner":{"account_id":24360996,"reputation":1,"user_id":18295358,"display_name":"Nadia Lorena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647807408,"creation_date":1647807408,"answer_id":71550321,"question_id":71534472,"body_markdown":"I watched this video\r\nhttps://www.youtube.com/watch?v=Wb5p8S5jZCc&amp;t=429s\r\n\r\nand then I realize that I needed to add more external JARs libraries.\r\n\r\nI added all the libraries mentioned in the video and it works.\r\n","title":"Word count Hadoop","body":"<p>I watched this video\n<a href=\"https://www.youtube.com/watch?v=Wb5p8S5jZCc&amp;t=429s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Wb5p8S5jZCc&amp;t=429s</a></p>\n<p>and then I realize that I needed to add more external JARs libraries.</p>\n<p>I added all the libraries mentioned in the video and it works.</p>\n"}],"owner":{"account_id":24360996,"reputation":1,"user_id":18295358,"display_name":"Nadia Lorena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647807408,"creation_date":1647649866,"question_id":71534472,"body_markdown":"I am working in a hadoop tutorial to count the numbers of words in a txt file.  The code is as follows:\r\n\r\n```\r\npackage edu.stanford.cs246.wordcount;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.conf.Configured;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.LongWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.TextOutputFormat;\r\nimport org.apache.hadoop.util.Tool;\r\nimport org.apache.hadoop.util.ToolRunner;\r\n\r\npublic class WordCount extends Configured implements Tool {\r\n   public static void main(String[] args) throws Exception {\r\n      System.out.println(Arrays.toString(args));\r\n      int res = ToolRunner.run(new Configuration(), new WordCount(), args);\r\n      \r\n      System.exit(res);\r\n   }\r\n\r\n   @Override\r\n   public int run(String[] args) throws Exception {\r\n\t  \r\n      System.out.println(Arrays.toString(args));\r\n      @SuppressWarnings(&quot;deprecation&quot;)\r\n\tJob job = new Job(getConf(), &quot;WordCount&quot;);\r\n      job.setJarByClass(WordCount.class);\r\n      job.setOutputKeyClass(Text.class);\r\n      job.setOutputValueClass(IntWritable.class);\r\n\r\n      job.setMapperClass(Map.class);\r\n      job.setReducerClass(Reduce.class);\r\n\r\n      //reads byte offset as key and whole line as value\r\n      job.setInputFormatClass(TextInputFormat.class);\r\n      //writes &lt;k, v&gt; pair per line\r\n      job.setOutputFormatClass(TextOutputFormat.class);\r\n      \r\n     \r\n     FileInputFormat.addInputPath(job, new Path(args[0]));\r\n      FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n      \r\n      \r\n\r\n      job.waitForCompletion(true);\r\n      \r\n      return 0;\r\n   }\r\n   \r\n   public static class Map extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n      private final static IntWritable ONE = new IntWritable(1);\r\n      private Text word = new Text();\r\n\r\n      @Override\r\n      public void map(LongWritable key, Text value, Context context)\r\n              throws IOException, InterruptedException {\r\n                  for (String token: value.toString().split(&quot;\\\\s+&quot;)) {\r\n                      word.set(token);\r\n                      context.write(word, ONE);\r\n                  }\r\n      }\r\n   }\r\n\r\n   public static class Reduce extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n      @Override\r\n      public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n              throws IOException, InterruptedException {\r\n         int sum = 0;\r\n         for (IntWritable val : values) {\r\n            sum += val.get();\r\n         }\r\n         context.write(key, new IntWritable(sum));\r\n      }\r\n   }\r\n   \r\n   \r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run the code I got the followings errors:\r\n\r\n    WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\r\n    INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\r\n    WARN security.UserGroupInformation: PriviledgedActionException as:cloudera (auth:SIMPLE) cause:org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/home/cloudera/workspace/WordCount/output already exists\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/home/cloudera/workspace/WordCount/output already exists\r\n    \tat org.apache.hadoop.mapreduce.lib.output.FileOutputFormat.checkOutputSpecs(FileOutputFormat.java:146)\r\n    \tat org.apache.hadoop.mapreduce.JobSubmitter.checkSpecs(JobSubmitter.java:269)\r\n    \tat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:142)\r\n    \tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1307)\r\n    \tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1304)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:415)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\r\n    \tat org.apache.hadoop.mapreduce.Job.submit(Job.java:1304)\r\n    \tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1325)\r\n    \tat edu.stanford.cs246.wordcount.WordCount.run(WordCount.java:52)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n    \tat edu.stanford.cs246.wordcount.WordCount.main(WordCount.java:25)\r\n\r\nI really appreciate if someone can give me some advise to solve these errors. When I tried to change the number to  args[1]  and   args[2]  int following lines:\r\n\r\n    FileInputFormat.addInputPath(job, new Path(args[0]));\r\n    FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n      \r\n\r\nThen I got less amount of errors \r\n\r\n\r\n```WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 2\r\n\tat edu.stanford.cs246.wordcount.WordCount.run(WordCount.java:50)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n\tat edu.stanford.cs246.wordcount.WordCount.main(WordCount.java:25)\r\n```\r\n\r\n","title":"Word count Hadoop","body":"<p>I am working in a hadoop tutorial to count the numbers of words in a txt file.  The code is as follows:</p>\n<pre><code>package edu.stanford.cs246.wordcount;\n\nimport java.io.IOException;\nimport java.util.Arrays;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.conf.Configured;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.TextOutputFormat;\nimport org.apache.hadoop.util.Tool;\nimport org.apache.hadoop.util.ToolRunner;\n\npublic class WordCount extends Configured implements Tool {\n   public static void main(String[] args) throws Exception {\n      System.out.println(Arrays.toString(args));\n      int res = ToolRunner.run(new Configuration(), new WordCount(), args);\n      \n      System.exit(res);\n   }\n\n   @Override\n   public int run(String[] args) throws Exception {\n      \n      System.out.println(Arrays.toString(args));\n      @SuppressWarnings(&quot;deprecation&quot;)\n    Job job = new Job(getConf(), &quot;WordCount&quot;);\n      job.setJarByClass(WordCount.class);\n      job.setOutputKeyClass(Text.class);\n      job.setOutputValueClass(IntWritable.class);\n\n      job.setMapperClass(Map.class);\n      job.setReducerClass(Reduce.class);\n\n      //reads byte offset as key and whole line as value\n      job.setInputFormatClass(TextInputFormat.class);\n      //writes &lt;k, v&gt; pair per line\n      job.setOutputFormatClass(TextOutputFormat.class);\n      \n     \n     FileInputFormat.addInputPath(job, new Path(args[0]));\n      FileOutputFormat.setOutputPath(job, new Path(args[1]));\n      \n      \n\n      job.waitForCompletion(true);\n      \n      return 0;\n   }\n   \n   public static class Map extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n      private final static IntWritable ONE = new IntWritable(1);\n      private Text word = new Text();\n\n      @Override\n      public void map(LongWritable key, Text value, Context context)\n              throws IOException, InterruptedException {\n                  for (String token: value.toString().split(&quot;\\\\s+&quot;)) {\n                      word.set(token);\n                      context.write(word, ONE);\n                  }\n      }\n   }\n\n   public static class Reduce extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n      @Override\n      public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n              throws IOException, InterruptedException {\n         int sum = 0;\n         for (IntWritable val : values) {\n            sum += val.get();\n         }\n         context.write(key, new IntWritable(sum));\n      }\n   }\n   \n   \n}\n\n</code></pre>\n<p>When I run the code I got the followings errors:</p>\n<pre><code>WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nINFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\nINFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\nWARN security.UserGroupInformation: PriviledgedActionException as:cloudera (auth:SIMPLE) cause:org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/home/cloudera/workspace/WordCount/output already exists\nException in thread &quot;main&quot; org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/home/cloudera/workspace/WordCount/output already exists\n    at org.apache.hadoop.mapreduce.lib.output.FileOutputFormat.checkOutputSpecs(FileOutputFormat.java:146)\n    at org.apache.hadoop.mapreduce.JobSubmitter.checkSpecs(JobSubmitter.java:269)\n    at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:142)\n    at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1307)\n    at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1304)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:415)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\n    at org.apache.hadoop.mapreduce.Job.submit(Job.java:1304)\n    at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1325)\n    at edu.stanford.cs246.wordcount.WordCount.run(WordCount.java:52)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\n    at edu.stanford.cs246.wordcount.WordCount.main(WordCount.java:25)\n</code></pre>\n<p>I really appreciate if someone can give me some advise to solve these errors. When I tried to change the number to  args[1]  and   args[2]  int following lines:</p>\n<pre><code>FileInputFormat.addInputPath(job, new Path(args[0]));\nFileOutputFormat.setOutputPath(job, new Path(args[1]));\n  \n</code></pre>\n<p>Then I got less amount of errors</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 2\n    at edu.stanford.cs246.wordcount.WordCount.run(WordCount.java:50)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\n    at edu.stanford.cs246.wordcount.WordCount.main(WordCount.java:25)\n</code></pre>\n"},{"tags":["java","wso2","esb","wso2-esb"],"answers":[{"tags":[],"owner":{"account_id":3279603,"reputation":1259,"user_id":2760506,"display_name":"tmoasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647540896,"creation_date":1647540896,"answer_id":71517213,"question_id":71513449,"body_markdown":"It is much easier to do this with the `ScriptMediator` It is a very useful mediator and allows you to use a programming language. Your example will look like below. I used `nashornJs` here as there is no problem with number formatting (age is still integer not a decimal).\r\n\r\n     &lt;script language=&quot;nashornJs&quot;&gt;&lt;![CDATA[\r\n        var log = mc.getServiceLog(); \r\n        var age_value = mc.getProperty(&#39;age_value&#39;);\r\n        var msg = mc.getPayloadJSON();\r\n        msg.data.user.age = parseInt(age_value);\r\n        mc.setPayloadJSON(message);\r\n        log.info(&quot;#### The new age value is: &quot; + mc.getProperty(&#39;age_value&#39;));]]&gt;\r\n    &lt;/script&gt;\r\n\r\nIf you are still not convinced and want to use `Class Mediator`, you have to use appropriate json conversion libraries.","title":"ESB WSO2 Java - I want to modify a value from a json file with Class Mediator","body":"<p>It is much easier to do this with the <code>ScriptMediator</code> It is a very useful mediator and allows you to use a programming language. Your example will look like below. I used <code>nashornJs</code> here as there is no problem with number formatting (age is still integer not a decimal).</p>\n<pre><code> &lt;script language=&quot;nashornJs&quot;&gt;&lt;![CDATA[\n    var log = mc.getServiceLog(); \n    var age_value = mc.getProperty('age_value');\n    var msg = mc.getPayloadJSON();\n    msg.data.user.age = parseInt(age_value);\n    mc.setPayloadJSON(message);\n    log.info(&quot;#### The new age value is: &quot; + mc.getProperty('age_value'));]]&gt;\n&lt;/script&gt;\n</code></pre>\n<p>If you are still not convinced and want to use <code>Class Mediator</code>, you have to use appropriate json conversion libraries.</p>\n"},{"tags":[],"owner":{"account_id":7061047,"reputation":317,"user_id":5406285,"accept_rate":92,"display_name":"Dil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647807326,"creation_date":1647807326,"answer_id":71550311,"question_id":71513449,"body_markdown":"You can use existing mediators to achieve your requirement(enrich, payload factory etc). But if you really want to use a class mediator, you can do something like below.\r\n\r\n        public boolean mediate(MessageContext messageContext) {\r\n\r\n        org.apache.axis2.context.MessageContext axis2MessageContext = ((Axis2MessageContext) messageContext).getAxis2MessageContext();\r\n        JSONObject jsonPayload = new JSONObject(JsonUtil.jsonPayloadToString(axis2MessageContext));\r\n        JSONObject data = jsonPayload.getJSONObject(&quot;data&quot;).getJSONObject(&quot;user&quot;);\r\n        data.remove(&quot;age&quot;);\r\n        data.put(&quot;age&quot;,33);\r\n        jsonPayload.getJSONObject(&quot;data&quot;).put(&quot;user&quot;,data);\r\n        try {\r\n            JsonUtil.getNewJsonPayload(axis2MessageContext,jsonPayload.toString(),true,true);\r\n        } catch (AxisFault axisFault) {\r\n            axisFault.printStackTrace();\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\nHere, I have used additional dependency to construct the JSON objects.\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20090211&lt;/version&gt; \r\n     &lt;/dependency&gt;\r\n","title":"ESB WSO2 Java - I want to modify a value from a json file with Class Mediator","body":"<p>You can use existing mediators to achieve your requirement(enrich, payload factory etc). But if you really want to use a class mediator, you can do something like below.</p>\n<pre><code>    public boolean mediate(MessageContext messageContext) {\n\n    org.apache.axis2.context.MessageContext axis2MessageContext = ((Axis2MessageContext) messageContext).getAxis2MessageContext();\n    JSONObject jsonPayload = new JSONObject(JsonUtil.jsonPayloadToString(axis2MessageContext));\n    JSONObject data = jsonPayload.getJSONObject(&quot;data&quot;).getJSONObject(&quot;user&quot;);\n    data.remove(&quot;age&quot;);\n    data.put(&quot;age&quot;,33);\n    jsonPayload.getJSONObject(&quot;data&quot;).put(&quot;user&quot;,data);\n    try {\n        JsonUtil.getNewJsonPayload(axis2MessageContext,jsonPayload.toString(),true,true);\n    } catch (AxisFault axisFault) {\n        axisFault.printStackTrace();\n    }\n\n    return true;\n}\n</code></pre>\n<p>Here, I have used additional dependency to construct the JSON objects.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20090211&lt;/version&gt; \n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24250936,"reputation":65,"user_id":18201933,"display_name":"EAGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647807326,"creation_date":1647524910,"question_id":71513449,"body_markdown":"So I have this Class Mediator for my API:\r\n```\r\npublic class CheckUser extends AbstractMediator {\r\n\r\n    public boolean mediate(MessageContext context) {\r\n        String age_value = (String) context.getProperty(&quot;age_value&quot;);\r\n        context.setProperty(&quot;age_value&quot;, 33);\r\n        log.info(&quot;#### The new age value is: &quot; + context.getProperty(&quot;age_value&quot;));\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nAnd I want to modify the age value in the response\r\n\r\nInitial json file:\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;user&quot;: {\r\n            &quot;name&quot;: &quot;Andrei&quot;,\r\n            &quot;adress&quot;: &quot;Tudor Vladimirescu, nr2&quot;,\r\n            &quot;cnp&quot;: 123456789,\r\n            &quot;age&quot;: 22,\r\n            &quot;valid&quot;: &quot;Yes&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDesired json file:\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;user&quot;: {\r\n            &quot;name&quot;: &quot;Andrei&quot;,\r\n            &quot;adress&quot;: &quot;Tudor Vladimirescu, nr2&quot;,\r\n            &quot;cnp&quot;: 123456789,\r\n            &quot;age&quot;: 33,\r\n            &quot;valid&quot;: &quot;Yes&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThank you!","title":"ESB WSO2 Java - I want to modify a value from a json file with Class Mediator","body":"<p>So I have this Class Mediator for my API:</p>\n<pre><code>public class CheckUser extends AbstractMediator {\n\n    public boolean mediate(MessageContext context) {\n        String age_value = (String) context.getProperty(&quot;age_value&quot;);\n        context.setProperty(&quot;age_value&quot;, 33);\n        log.info(&quot;#### The new age value is: &quot; + context.getProperty(&quot;age_value&quot;));\n\n        return true;\n    }\n}\n</code></pre>\n<p>And I want to modify the age value in the response</p>\n<p>Initial json file:</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;user&quot;: {\n            &quot;name&quot;: &quot;Andrei&quot;,\n            &quot;adress&quot;: &quot;Tudor Vladimirescu, nr2&quot;,\n            &quot;cnp&quot;: 123456789,\n            &quot;age&quot;: 22,\n            &quot;valid&quot;: &quot;Yes&quot;\n        }\n    }\n}\n</code></pre>\n<p>Desired json file:</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;user&quot;: {\n            &quot;name&quot;: &quot;Andrei&quot;,\n            &quot;adress&quot;: &quot;Tudor Vladimirescu, nr2&quot;,\n            &quot;cnp&quot;: 123456789,\n            &quot;age&quot;: 33,\n            &quot;valid&quot;: &quot;Yes&quot;\n        }\n    }\n}\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","bitwise-operators"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1570312914,"post_id":58252660,"comment_id":102875475,"body_markdown":"Precedence.........","body":"Precedence........."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1570313107,"post_id":58252660,"comment_id":102875510,"body_markdown":"For the second case: the value of an assignment is the assigned value. And since `count += 1&amp;1` is just a shorthand for `count = count + (1&amp;1)`, the assigned value is `2`","body":"For the second case: the value of an assignment is the assigned value. And since <code>count += 1&amp;1</code> is just a shorthand for <code>count = count + (1&amp;1)</code>, the assigned value is <code>2</code>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570312918,"creation_date":1570312918,"answer_id":58252666,"question_id":58252660,"body_markdown":"Simple order of evaluation. The first example is equivalent to\r\n\r\n    System.out.println((count + 1) &amp; 1);\r\n\r\nwhich is (of course) `System.out.println(2 &amp; 1);` which is `0`.","title":"Basic question about java bit-wise operation","body":"<p>Simple order of evaluation. The first example is equivalent to</p>\n\n<pre><code>System.out.println((count + 1) &amp; 1);\n</code></pre>\n\n<p>which is (of course) <code>System.out.println(2 &amp; 1);</code> which is <code>0</code>.</p>\n"}],"owner":{"account_id":16832289,"reputation":41,"user_id":12169954,"display_name":"klu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":58252666,"answer_count":1,"score":-2,"last_activity_date":1647806368,"creation_date":1570312814,"question_id":58252660,"body_markdown":"Can anyone explain why the first println output 0 and the second println output 2? \r\n```\r\nint count = 1;\r\nSystem.out.println(count + 1&amp;1);\r\nSystem.out.println(count += 1&amp;1);\r\n```","title":"Basic question about java bit-wise operation","body":"<p>Can anyone explain why the first println output 0 and the second println output 2?</p>\n<pre><code>int count = 1;\nSystem.out.println(count + 1&amp;1);\nSystem.out.println(count += 1&amp;1);\n</code></pre>\n"},{"tags":["java","spring","kotlin","tomcat"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647797685,"post_id":71548996,"comment_id":126456114,"body_markdown":"Does this answer your question? [How to get list of files in some folder of my war file?](https://stackoverflow.com/questions/19734133/how-to-get-list-of-files-in-some-folder-of-my-war-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19734133/how-to-get-list-of-files-in-some-folder-of-my-war-file\">How to get list of files in some folder of my war file?</a>"},{"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"score":0,"creation_date":1647805985,"post_id":71548996,"comment_id":126458120,"body_markdown":"No  I ve try this but it&#39;s not worked, I don&#39;t know why. I found a solution. Thank you for your proposition","body":"No  I ve try this but it&#39;s not worked, I don&#39;t know why. I found a solution. Thank you for your proposition"}],"answers":[{"tags":[],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647805935,"creation_date":1647805935,"answer_id":71550156,"question_id":71548996,"body_markdown":"I found a solution\r\nNot sure it&#39;s the best and clean but it&#39;s worked\r\nI use 2 way to do it, one for developpment and the other when it&#39;s package inside war\r\n\r\nloadFilesFromDirectory(&quot;/static&quot;)\r\n\r\n    fun listFilesFromDirectory(path: String, request: HttpServletRequest? = null): List&lt;String&gt; {\r\n        return if (request == null || request.requestURL.contains(&quot;localhost&quot;)) {\r\n           //Don&#39;t work on war but work on IDE\r\n           Thread.currentThread().contextClassLoader?.getResourceAsStream(path) \r\n                ?.bufferedReader()?.use(BufferedReader::readText)?.split(&quot;\\n&quot;)\r\n                ?.filter { it.endsWith(&quot;.html&quot;) }\r\n                ?: throw Exception(&quot;Non trouv&#233; :$path&quot;)\r\n        } else {\r\n            //Not work on IDE but work on war\r\n            val root: URL = request.servletContext.getResource(&quot;/WEB-INF/classes/$path&quot;)\r\n            var rootPath: String = root.path\r\n             rootPath = rootPath.substring(rootPath.indexOf(&quot;/WEB-INF&quot;), rootPath.length)\r\n            return request.servletContext.getResourcePaths(rootPath).map {\r\n                        it.replace(&quot;.*/&quot;, &quot;&quot;)\r\n                    }.filter { it.endsWith(&quot;.html&quot;) }\r\n            }\r\n    }","title":"Spring List all files in static directory","body":"<p>I found a solution\nNot sure it's the best and clean but it's worked\nI use 2 way to do it, one for developpment and the other when it's package inside war</p>\n<p>loadFilesFromDirectory(&quot;/static&quot;)</p>\n<pre><code>fun listFilesFromDirectory(path: String, request: HttpServletRequest? = null): List&lt;String&gt; {\n    return if (request == null || request.requestURL.contains(&quot;localhost&quot;)) {\n       //Don't work on war but work on IDE\n       Thread.currentThread().contextClassLoader?.getResourceAsStream(path) \n            ?.bufferedReader()?.use(BufferedReader::readText)?.split(&quot;\\n&quot;)\n            ?.filter { it.endsWith(&quot;.html&quot;) }\n            ?: throw Exception(&quot;Non trouvé :$path&quot;)\n    } else {\n        //Not work on IDE but work on war\n        val root: URL = request.servletContext.getResource(&quot;/WEB-INF/classes/$path&quot;)\n        var rootPath: String = root.path\n         rootPath = rootPath.substring(rootPath.indexOf(&quot;/WEB-INF&quot;), rootPath.length)\n        return request.servletContext.getResourcePaths(rootPath).map {\n                    it.replace(&quot;.*/&quot;, &quot;&quot;)\n                }.filter { it.endsWith(&quot;.html&quot;) }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647805935,"creation_date":1647797095,"question_id":71548996,"body_markdown":"I use Spring with embeded Tomcat and a War file in prodution.\r\n\r\nI need to list all files in the &quot;static&quot; directory. It&#39;s like 4 days I m on it\r\nThis kind of code not working :  \r\n\r\n    Stream.of(new File(dir).listFiles()\r\n\r\nIt lists the files where the war is located but the static directory is inside the war\r\n\r\nWith this code I arrive to read a file inside the war : \r\n    Thread.currentThread().contextClassLoader?.getResourceAsStream(path)?.bufferedReader()?.use(BufferedReader::readText)\r\n\r\nBut it&#39;s not working with a directory\r\nAnd now i have no idea how i can list all files inside the static directory\r\n","title":"Spring List all files in static directory","body":"<p>I use Spring with embeded Tomcat and a War file in prodution.</p>\n<p>I need to list all files in the &quot;static&quot; directory. It's like 4 days I m on it\nThis kind of code not working :</p>\n<pre><code>Stream.of(new File(dir).listFiles()\n</code></pre>\n<p>It lists the files where the war is located but the static directory is inside the war</p>\n<p>With this code I arrive to read a file inside the war :\nThread.currentThread().contextClassLoader?.getResourceAsStream(path)?.bufferedReader()?.use(BufferedReader::readText)</p>\n<p>But it's not working with a directory\nAnd now i have no idea how i can list all files inside the static directory</p>\n"},{"tags":["java","android","android-edittext","line-height"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1647782567,"post_id":71546195,"comment_id":126452735,"body_markdown":"Capture the height of the text when each line is added. Then, when another line is added or removed, the difference between the current height and the last height is the amount to grow or shrink. Does it need to be any more complicated than that?","body":"Capture the height of the text when each line is added. Then, when another line is added or removed, the difference between the current height and the last height is the amount to grow or shrink. Does it need to be any more complicated than that?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647783268,"post_id":71546195,"comment_id":126452896,"body_markdown":"@Cheticamp let me try that. Actually the `getHeight()` method returns 0 and `getLayoutParams().height` gives -2. I had tried what you had said. But, it does not work","body":"@Cheticamp let me try that. Actually the <code>getHeight()</code> method returns 0 and <code>getLayoutParams().height</code> gives -2. I had tried what you had said. But, it does not work"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1647784150,"post_id":71546195,"comment_id":126453083,"body_markdown":"If `getHeight()` returns zero, you will have to wait for layout to get the measurement.","body":"If <code>getHeight()</code> returns zero, you will have to wait for layout to get the measurement."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647784172,"post_id":71546195,"comment_id":126453090,"body_markdown":"can you provide the code?","body":"can you provide the code?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1647784467,"post_id":71546195,"comment_id":126453146,"body_markdown":"To wait for layout to complete, take a look at [View.OnLayoutChangeListener](https://developer.android.com/reference/android/view/View.OnLayoutChangeListener) or [ViewTreeObserver.OnGlobalLayoutListener](https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener). There are sample of usage online.","body":"To wait for layout to complete, take a look at <a href=\"https://developer.android.com/reference/android/view/View.OnLayoutChangeListener\" rel=\"nofollow noreferrer\">View.OnLayoutChangeListener</a> or <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener\" rel=\"nofollow noreferrer\">ViewTreeObserver.OnGlobalLayoutListener</a>. There are sample of usage online."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647784521,"post_id":71546195,"comment_id":126453159,"body_markdown":"Thanks. It would be great if you could post it as an answer. I will test it out","body":"Thanks. It would be great if you could post it as an answer. I will test it out"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647804162,"creation_date":1647796120,"answer_id":71548857,"question_id":71546195,"body_markdown":"The height of each line of an _EditText_ is given by a [StaticLayout](https://developer.android.com/reference/android/text/StaticLayout) that is created by the _EditText_.\r\n\r\n    // Get vertical padding of the EditText\r\n    int padding = binding.message.getPaddingTop() + binding.message.getPaddingBottom();\r\n\r\n    // Get the total height of the EditText\r\n    int totalHeight = binding.message.getLayout().getHeight() + padding;\r\n    // or\r\n    int totalHeight = binding.message.getHeight();\r\n\r\n    // Get the height that line i contributes to the EditText. \r\n    int height = binding.message.getLayout().getLineBottom(i) - binding.message.getLayout().getLineTop(i);\r\n\r\nSo, your animation definitions would look like this:\r\n\r\n    int i = linesCount - 1;\r\n    int height = binding.message.getLayout().getLineBottom(i) - binding.message.getLayout().getLineTop(i);\r\n    ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + height)\r\n                    .setDuration(250);\r\n\r\n\r\nIf you need to wait for the layout, you can use the following:\r\n\r\n    binding.message.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n        // code here \r\n    };\r\n\r\n","title":"How to get the height of each line in edit text","body":"<p>The height of each line of an <em>EditText</em> is given by a <a href=\"https://developer.android.com/reference/android/text/StaticLayout\" rel=\"nofollow noreferrer\">StaticLayout</a> that is created by the <em>EditText</em>.</p>\n<pre><code>// Get vertical padding of the EditText\nint padding = binding.message.getPaddingTop() + binding.message.getPaddingBottom();\n\n// Get the total height of the EditText\nint totalHeight = binding.message.getLayout().getHeight() + padding;\n// or\nint totalHeight = binding.message.getHeight();\n\n// Get the height that line i contributes to the EditText. \nint height = binding.message.getLayout().getLineBottom(i) - binding.message.getLayout().getLineTop(i);\n</code></pre>\n<p>So, your animation definitions would look like this:</p>\n<pre><code>int i = linesCount - 1;\nint height = binding.message.getLayout().getLineBottom(i) - binding.message.getLayout().getLineTop(i);\nValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + height)\n                .setDuration(250);\n</code></pre>\n<p>If you need to wait for the layout, you can use the following:</p>\n<pre><code>binding.message.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n    // code here \n};\n</code></pre>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71548857,"answer_count":1,"score":1,"last_activity_date":1647804162,"creation_date":1647774515,"question_id":71546195,"body_markdown":"I want to animate the keyboard when a new line is added or removed just like how telegram does. I am able to add the animation like this:\r\n```java\r\nprivate void doAnimation(int linesCount, String s){\r\n        Toast.makeText(this, &quot;&quot; + linesCount, Toast.LENGTH_SHORT).show();\r\n        if (linesCount == 1){\r\n            binding.message.getLayoutParams().height = defEditTextHeight;\r\n            return;\r\n        }\r\n        if (linesCount &lt; binding.message.getLineCount()) {\r\n            ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + 60)\r\n                    .setDuration(250);\r\n            anim.addUpdateListener(animation -&gt; {\r\n                binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\r\n                binding.message.requestLayout();\r\n            });\r\n            anim.start();\r\n        }else if( linesCount &gt; binding.message.getLineCount()){\r\n            ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() - 60)\r\n                    .setDuration(250);\r\n            anim.addUpdateListener(animation -&gt; {\r\n                binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\r\n                binding.message.requestLayout();\r\n            });\r\n            anim.start();\r\n        }\r\n    }\r\n```\r\n\r\nBut, as you can see for the animation I am adding a random value like 60. But, this is not reliable for all the devices. \r\n\r\nSo, how can I get the height of each line so that I can add it and get a good animation?\r\n\r\nThanks in advance &#128578;","title":"How to get the height of each line in edit text","body":"<p>I want to animate the keyboard when a new line is added or removed just like how telegram does. I am able to add the animation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void doAnimation(int linesCount, String s){\n        Toast.makeText(this, &quot;&quot; + linesCount, Toast.LENGTH_SHORT).show();\n        if (linesCount == 1){\n            binding.message.getLayoutParams().height = defEditTextHeight;\n            return;\n        }\n        if (linesCount &lt; binding.message.getLineCount()) {\n            ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + 60)\n                    .setDuration(250);\n            anim.addUpdateListener(animation -&gt; {\n                binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\n                binding.message.requestLayout();\n            });\n            anim.start();\n        }else if( linesCount &gt; binding.message.getLineCount()){\n            ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() - 60)\n                    .setDuration(250);\n            anim.addUpdateListener(animation -&gt; {\n                binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\n                binding.message.requestLayout();\n            });\n            anim.start();\n        }\n    }\n</code></pre>\n<p>But, as you can see for the animation I am adding a random value like 60. But, this is not reliable for all the devices.</p>\n<p>So, how can I get the height of each line so that I can add it and get a good animation?</p>\n<p>Thanks in advance 🙂</p>\n"},{"tags":["java","performance","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1647817607,"post_id":71549782,"comment_id":126460208,"body_markdown":"work through a tutorial about java (or any) language basics and apply what you learned","body":"work through a tutorial about java (or any) language basics and apply what you learned"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647803866,"creation_date":1647803866,"answer_id":71549898,"question_id":71549782,"body_markdown":"AFAIU you want this:\r\n\r\n    targetIDCombo.setOnKeyReleased(keyEvent -&gt; {\r\n        defineBehaviour(targetIDCombo);\r\n    });\r\n    \r\n    \r\n    targetIDCombo.setOnAction(actionEvent -&gt; {\r\n        defineBehaviour(targetIDCombo)\r\n    });\r\n\r\n    void defineBehaviour(ComboBox comboBox) {\r\n        comboBox.setValue(comboBox.getEditor().getText());\r\n        updateConnectBtnText(comboBox.getValue());\r\n    }","title":"Is it possible to define the same code for multiple methods more efficiently in Java?","body":"<p>AFAIU you want this:</p>\n<pre><code>targetIDCombo.setOnKeyReleased(keyEvent -&gt; {\n    defineBehaviour(targetIDCombo);\n});\n\n\ntargetIDCombo.setOnAction(actionEvent -&gt; {\n    defineBehaviour(targetIDCombo)\n});\n\nvoid defineBehaviour(ComboBox comboBox) {\n    comboBox.setValue(comboBox.getEditor().getText());\n    updateConnectBtnText(comboBox.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647803866,"creation_date":1647802887,"question_id":71549782,"body_markdown":"I&#39;m trying to define the same behaviour for two different interaction events on a JavaFX ComboBox. To do this, I first call \r\n```\r\ntargetIDCombo.setOnKeyReleased(keyEvent -&gt; {\r\n    targetIDCombo.setValue(targetIDCombo.getEditor().getText());\r\n    updateConnectBtnText(targetIDCombo.getValue());\r\n});\r\n```\r\nand then\r\n```\r\ntargetIDCombo.setOnAction(actionEvent -&gt; {\r\n    targetIDCombo.setValue(targetIDCombo.getEditor().getText());\r\n    updateConnectBtnText(targetIDCombo.getValue());\r\n});\r\n```\r\n\r\nClearly the two listeners execute the same code. Therefore, is it possible to do this in such a way that I define my desired behaviour once, and then provide it to both listeners at the same time in order to have more efficient code, per se?\r\n\r\nSomething like\r\n```\r\ndefineBehaviour(targetIDCombo::setOnKeyReleased, targetIDCombo::setOnAction, Controller::comboBoxAction)\r\n```\r\nwhere the ```defineBehaviour()``` method will assign ```comboBoxAction()``` to both action events for ```targetIDCombo```","title":"Is it possible to define the same code for multiple methods more efficiently in Java?","body":"<p>I'm trying to define the same behaviour for two different interaction events on a JavaFX ComboBox. To do this, I first call</p>\n<pre><code>targetIDCombo.setOnKeyReleased(keyEvent -&gt; {\n    targetIDCombo.setValue(targetIDCombo.getEditor().getText());\n    updateConnectBtnText(targetIDCombo.getValue());\n});\n</code></pre>\n<p>and then</p>\n<pre><code>targetIDCombo.setOnAction(actionEvent -&gt; {\n    targetIDCombo.setValue(targetIDCombo.getEditor().getText());\n    updateConnectBtnText(targetIDCombo.getValue());\n});\n</code></pre>\n<p>Clearly the two listeners execute the same code. Therefore, is it possible to do this in such a way that I define my desired behaviour once, and then provide it to both listeners at the same time in order to have more efficient code, per se?</p>\n<p>Something like</p>\n<pre><code>defineBehaviour(targetIDCombo::setOnKeyReleased, targetIDCombo::setOnAction, Controller::comboBoxAction)\n</code></pre>\n<p>where the <code>defineBehaviour()</code> method will assign <code>comboBoxAction()</code> to both action events for <code>targetIDCombo</code></p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":5448189,"reputation":429,"user_id":4333961,"display_name":"alexandrum"},"score":0,"creation_date":1634894910,"post_id":69673907,"comment_id":123154887,"body_markdown":"Do you know the number of lines that need to be skipped before the header?","body":"Do you know the number of lines that need to be skipped before the header?"}],"answers":[{"tags":[],"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634892984,"creation_date":1634892984,"answer_id":69674088,"question_id":69673907,"body_markdown":"There is no built-in functionality that skips lines that are not part of the CSV.\r\n\r\nThis must be a custom implementation as follows:\r\n\r\n1. specify which one is the header\r\n2. skip until that part\r\n3. start your parsing","title":"Read CSV using header while ignoring some lines in JAVA","body":"<p>There is no built-in functionality that skips lines that are not part of the CSV.</p>\n<p>This must be a custom implementation as follows:</p>\n<ol>\n<li>specify which one is the header</li>\n<li>skip until that part</li>\n<li>start your parsing</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23973748,"reputation":11,"user_id":17962090,"display_name":"Thomasovellgkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647803787,"creation_date":1647803787,"answer_id":71549889,"question_id":69673907,"body_markdown":"Let me describe your problem. You need to skip the first n lines (except the header) in the CSV file and parse it. There isn’t a ready-to-use method in Apache Commons CSV library to skip the n lines. So you have to write your own Java code to do this.\r\n\r\nIt is simple to get it done using Java’s open-source package SPL. You just need one line of code:\r\n\r\n|　|A|\r\n|:-|:-|\r\n|1|=file(&quot;skip3lines.txt&quot;).read@n().to(4;).export().import@ct()|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as skiplines.splx and invoke it in Java as you call a stored procedure:\r\n\r\n    …\r\n    \r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    \r\n    con&#160;= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    \r\n    st&#160;=&#160;con.prepareCall(&quot;call skiplines()&quot;);\r\n    \r\n    st.execute();\r\n    \r\n    …\r\n\r\nOr execute the SPL string within a Java program as we execute a SQL statement:\r\n\r\n    …\r\n    \r\n    st = con.prepareStatement(&quot;==file(\\&quot;skip3lines.txt\\&quot;).read@n().to(4;).export().import@ct()&quot;);\r\n    \r\n    st.execute();\r\n    \r\n    …\r\n\r\n","title":"Read CSV using header while ignoring some lines in JAVA","body":"<p>Let me describe your problem. You need to skip the first n lines (except the header) in the CSV file and parse it. There isn’t a ready-to-use method in Apache Commons CSV library to skip the n lines. So you have to write your own Java code to do this.</p>\n<p>It is simple to get it done using Java’s open-source package SPL. You just need one line of code:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">　</th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=file(&quot;skip3lines.txt&quot;).read@n().to(4;).export().import@ct()</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as skiplines.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…\n\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\n\ncon = DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\n\nst = con.prepareCall(&quot;call skiplines()&quot;);\n\nst.execute();\n\n…\n</code></pre>\n<p>Or execute the SPL string within a Java program as we execute a SQL statement:</p>\n<pre><code>…\n\nst = con.prepareStatement(&quot;==file(\\&quot;skip3lines.txt\\&quot;).read@n().to(4;).export().import@ct()&quot;);\n\nst.execute();\n\n…\n</code></pre>\n"}],"owner":{"account_id":22541025,"reputation":29,"user_id":16731584,"display_name":"JCALTS ako"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647803787,"creation_date":1634892169,"question_id":69673907,"body_markdown":"I&#39;m trying to read CSV file using header. I am Using this code:\r\n\r\n```\r\npublic String getSpecificCSVDataUsingHeader(String filePath, String header) {\r\n        String value = &quot;&quot;;\r\n        String basePath = new File(filePath).getAbsolutePath();\r\n        try (\r\n                BufferedReader br = new BufferedReader(new FileReader(basePath));\r\n                org.apache.commons.csv.CSVParser parser = CSVFormat.DEFAULT.withDelimiter(&#39;,&#39;).withHeader().parse(br);\r\n         ) {\r\n            for (CSVRecord record : parser) {\r\n                value = record.get(header);\r\n            }\r\n            return value;\r\n        } catch (IOException e) {\r\n            LogUtil.error(this, e.getMessage());\r\n        }\r\n        return value;\r\n    }\r\n```\r\n\r\nit works perfectly for this kind of CSV (where the first line is header):\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow I wanted to read CSV with some lines before the actual header. like this one:\r\n[![enter image description here][2]][2]\r\n\r\nIs there any way where I could read csv using header while skipping the other lines. Thank you in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/LxVqb.png\r\n  [2]: https://i.stack.imgur.com/vQEW6.png","title":"Read CSV using header while ignoring some lines in JAVA","body":"<p>I'm trying to read CSV file using header. I am Using this code:</p>\n<pre><code>public String getSpecificCSVDataUsingHeader(String filePath, String header) {\n        String value = &quot;&quot;;\n        String basePath = new File(filePath).getAbsolutePath();\n        try (\n                BufferedReader br = new BufferedReader(new FileReader(basePath));\n                org.apache.commons.csv.CSVParser parser = CSVFormat.DEFAULT.withDelimiter(',').withHeader().parse(br);\n         ) {\n            for (CSVRecord record : parser) {\n                value = record.get(header);\n            }\n            return value;\n        } catch (IOException e) {\n            LogUtil.error(this, e.getMessage());\n        }\n        return value;\n    }\n</code></pre>\n<p>it works perfectly for this kind of CSV (where the first line is header):\n<a href=\"https://i.stack.imgur.com/LxVqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LxVqb.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I wanted to read CSV with some lines before the actual header. like this one:\n<a href=\"https://i.stack.imgur.com/vQEW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vQEW6.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way where I could read csv using header while skipping the other lines. Thank you in advance.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":15546478,"reputation":113,"user_id":11215529,"display_name":"Onke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647803703,"creation_date":1647803703,"answer_id":71549878,"question_id":71549521,"body_markdown":"So there are two java versions here.\r\nOne is the default java version for your system which is java 11.\r\nThe other one is the default java version on your intellij which is 17.\r\nSo if you compile your jar with intellij and then try to run that jar on your terminal, it will spit out that error since the java version for run and compilation don&#39;t match.\r\n\r\nWhen you do stuff on your terminal/console, it will use the systems default java version. \r\nPick one place for both compilation and run.\r\nIts either you make your IntelliJ java version match with the systems java version or you do both you compilation and jar run on intelliJ\r\n","title":"Running Java -jar command, and get a version error","body":"<p>So there are two java versions here.\nOne is the default java version for your system which is java 11.\nThe other one is the default java version on your intellij which is 17.\nSo if you compile your jar with intellij and then try to run that jar on your terminal, it will spit out that error since the java version for run and compilation don't match.</p>\n<p>When you do stuff on your terminal/console, it will use the systems default java version.\nPick one place for both compilation and run.\nIts either you make your IntelliJ java version match with the systems java version or you do both you compilation and jar run on intelliJ</p>\n"}],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647803703,"creation_date":1647801061,"question_id":71549521,"body_markdown":"When I run my Java -jar command, I get this error. I have tried to change my Intellij JDK to 11, but it gave the exact same error.\r\n\r\n(both project structure SDK/language level is 17 currently. when I change the jdk from 11-17, it does not change the java --version output.)\r\n\r\n\r\n```\r\nError: LinkageError occurred while loading main class KioskApp\r\n\tjava.lang.UnsupportedClassVersionError: KioskApp has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\nmy Intellij is running on openJDK17(17.0.2)\r\nbut from my command line(where I am running the Java -jar command from) my java --version shows \r\n\r\n\r\n```openjdk 11.0.14 2022-01-18\r\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n```","title":"Running Java -jar command, and get a version error","body":"<p>When I run my Java -jar command, I get this error. I have tried to change my Intellij JDK to 11, but it gave the exact same error.</p>\n<p>(both project structure SDK/language level is 17 currently. when I change the jdk from 11-17, it does not change the java --version output.)</p>\n<pre><code>Error: LinkageError occurred while loading main class KioskApp\n    java.lang.UnsupportedClassVersionError: KioskApp has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>my Intellij is running on openJDK17(17.0.2)\nbut from my command line(where I am running the Java -jar command from) my java --version shows</p>\n<pre class=\"lang-java prettyprint-override\"><code>OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","file","privileges"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647796454,"post_id":71548876,"comment_id":126455847,"body_markdown":"You should not require administrator permissions to use the serial port, or to link with a native library (dll or so file). Your question is not answerable in its present form.","body":"You should not require administrator permissions to use the serial port, or to link with a native library (dll or so file). Your question is not answerable in its present form."},{"owner":{"account_id":11384943,"reputation":165,"user_id":8346755,"display_name":"John"},"score":0,"creation_date":1647803827,"post_id":71548876,"comment_id":126457593,"body_markdown":"@ElliottFrisch what do you think that may be happening in the screenshot I added then? We can clearly see from the 5th line the .dll trying to be accesed and failing because of missing privileges.","body":"@ElliottFrisch what do you think that may be happening in the screenshot I added then? We can clearly see from the 5th line the .dll trying to be accesed and failing because of missing privileges."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647809679,"post_id":71548876,"comment_id":126458854,"body_markdown":"Well, there&#39;s a `FileNotFoundException`. Try [changing the ownership](https://stackoverflow.com/a/33445728/2970947) of the dll. If the user can&#39;t open that file you would get that error.","body":"Well, there&#39;s a <code>FileNotFoundException</code>. Try <a href=\"https://stackoverflow.com/a/33445728/2970947\">changing the ownership</a> of the dll. If the user can&#39;t open that file you would get that error."}],"owner":{"account_id":11384943,"reputation":165,"user_id":8346755,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647803669,"creation_date":1647796262,"question_id":71548876,"body_markdown":"I have this application coded in Eclipse IDE 03-22 that uses the [jserialcomm][1] jar library and some others like PostgreSQL. When I export it as a Runnable JAR file (whether by extraction or packaging), I found that the jserialcomm needs a .dll (.so for Linux) for making it work.\r\n\r\nWhen this dll is called by the .jar, I get the **Exception &quot;Access is denied&quot;** (showing the jar&#39;s location in a temporary folder, and not inside the .jar package). If I run the application with administrator privileges, it works properly.\r\n\r\nBy user requirement, I can&#39;t let him run it in Administrator mode because the program must start automatically on system startup and it can&#39;t do it that way.\r\n\r\n**How could I arrange the jar files or what could I do in order to prevent this?**\r\n\r\n\r\nEDIT 1: &quot;(Acceso denegado)&quot; means &quot;(Access is denied)&quot;. \r\n[![Exception ocurred exactly at the moment of calling the methods of the .jar.][2]][2]\r\n\r\n\r\n  [1]: https://fazecast.github.io/jSerialComm/\r\n  [2]: https://i.stack.imgur.com/Yv2MD.jpg","title":"Preventing the need of privileges in Java application","body":"<p>I have this application coded in Eclipse IDE 03-22 that uses the <a href=\"https://fazecast.github.io/jSerialComm/\" rel=\"nofollow noreferrer\">jserialcomm</a> jar library and some others like PostgreSQL. When I export it as a Runnable JAR file (whether by extraction or packaging), I found that the jserialcomm needs a .dll (.so for Linux) for making it work.</p>\n<p>When this dll is called by the .jar, I get the <strong>Exception &quot;Access is denied&quot;</strong> (showing the jar's location in a temporary folder, and not inside the .jar package). If I run the application with administrator privileges, it works properly.</p>\n<p>By user requirement, I can't let him run it in Administrator mode because the program must start automatically on system startup and it can't do it that way.</p>\n<p><strong>How could I arrange the jar files or what could I do in order to prevent this?</strong></p>\n<p>EDIT 1: &quot;(Acceso denegado)&quot; means &quot;(Access is denied)&quot;.\n<a href=\"https://i.stack.imgur.com/Yv2MD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yv2MD.jpg\" alt=\"Exception ocurred exactly at the moment of calling the methods of the .jar.\" /></a></p>\n"},{"tags":["java","spring-boot","maven","properties","mvn-repo"],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647797198,"creation_date":1647797198,"answer_id":71549011,"question_id":71548908,"body_markdown":"I think you can do that using the example below :\r\n\r\n  \r\n\r\n     @Configuration\r\n    public class DataSourceConfig {\r\n        @Bean\r\n        public DataSource getDataSource() {\r\n            Properties properties = null;\r\n            InputStream inputStream = null;\r\n            DataSourceBuilder dataSourceBuilder =null;\r\n            try {\r\n            properties = new Properties();\r\n            inputStream = new FileInputStream(&quot;./src/main/resources/config.properties&quot;);\r\n            properties.load(inputStream);\r\n            dataSourceBuilder = DataSourceBuilder.create();\r\n            dataSourceBuilder.url(properties.getProperty(&quot;url&quot;));\r\n            dataSourceBuilder.username(properties.getProperty(&quot;user&quot;));\r\n            dataSourceBuilder.password(properties.getProperty(&quot;password&quot;));\r\n            }\r\n            catch(Exception ex) {\r\n                System.out.println(&quot;CONFIG EXCEPTION :&quot;+ex);\r\n            }\r\n            return dataSourceBuilder.build();\r\n        }\r\n    }","title":"How to use variables from other file in maven pom.xml or in .properties file?","body":"<p>I think you can do that using the example below :</p>\n<pre><code> @Configuration\npublic class DataSourceConfig {\n    @Bean\n    public DataSource getDataSource() {\n        Properties properties = null;\n        InputStream inputStream = null;\n        DataSourceBuilder dataSourceBuilder =null;\n        try {\n        properties = new Properties();\n        inputStream = new FileInputStream(&quot;./src/main/resources/config.properties&quot;);\n        properties.load(inputStream);\n        dataSourceBuilder = DataSourceBuilder.create();\n        dataSourceBuilder.url(properties.getProperty(&quot;url&quot;));\n        dataSourceBuilder.username(properties.getProperty(&quot;user&quot;));\n        dataSourceBuilder.password(properties.getProperty(&quot;password&quot;));\n        }\n        catch(Exception ex) {\n            System.out.println(&quot;CONFIG EXCEPTION :&quot;+ex);\n        }\n        return dataSourceBuilder.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22470996,"reputation":86,"user_id":16671436,"display_name":"massimo lauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647803304,"creation_date":1647803304,"answer_id":71549828,"question_id":71548908,"body_markdown":"Start your jar with this command \r\n\r\n    java -jar -Dspring.config.location=file:///Users/home/jdbc.properties  ./app.jar\r\n\r\n     OR use Env variable \r\n\r\n    export SPRING_CONFIG_LOCATION=file:///Users/home/jdbc.properties\r\n\r\nand set option in your jdbc.properties.","title":"How to use variables from other file in maven pom.xml or in .properties file?","body":"<p>Start your jar with this command</p>\n<pre><code>java -jar -Dspring.config.location=file:///Users/home/jdbc.properties  ./app.jar\n\n OR use Env variable \n\nexport SPRING_CONFIG_LOCATION=file:///Users/home/jdbc.properties\n</code></pre>\n<p>and set option in your jdbc.properties.</p>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647803304,"creation_date":1647796469,"question_id":71548908,"body_markdown":"I want to use database username and password from some other file in pom.xml.\r\nI am aware that one way is to use this is to use properties file in resources folder, but then how do I refer the variables from some other file in properties file also?","title":"How to use variables from other file in maven pom.xml or in .properties file?","body":"<p>I want to use database username and password from some other file in pom.xml.\nI am aware that one way is to use this is to use properties file in resources folder, but then how do I refer the variables from some other file in properties file also?</p>\n"},{"tags":["java","python","architecture","hdf5","pytables"],"comments":[{"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"score":2,"creation_date":1261585324,"post_id":1953731,"comment_id":1865563,"body_markdown":"I don&#39;t know enough about Python to answer, but I want to say that this is a **beautifully written and illustrated** question.  All I can offer is a suggestion that if you use Jython, you can call Java code and libraries from Python, and I believe also Jython code fro Java.   Also, although HDF5 is a wonderfully designed format for large datasets, if your data is truly relational and your analytics complex, a DB would still make more sense for the ease of SQL queries.","body":"I don&#39;t know enough about Python to answer, but I want to say that this is a <b>beautifully written and illustrated</b> question.  All I can offer is a suggestion that if you use Jython, you can call Java code and libraries from Python, and I believe also Jython code fro Java.   Also, although HDF5 is a wonderfully designed format for large datasets, if your data is truly relational and your analytics complex, a DB would still make more sense for the ease of SQL queries."},{"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"score":1,"creation_date":1261585614,"post_id":1953731,"comment_id":1865604,"body_markdown":"+1 great question, very well articulated","body":"+1 great question, very well articulated"},{"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"score":1,"creation_date":1261585816,"post_id":1953731,"comment_id":1865632,"body_markdown":"...perhaps a naive question, but why do you have to have Java interact with Python?  You seem to have a nicely layered architecture which provides a data interface expressed by your HDF5 file.  It&#39;s not clear to me from your question what you want to do in Java from Python - or vice versa - and why.","body":"...perhaps a naive question, but why do you have to have Java interact with Python?  You seem to have a nicely layered architecture which provides a data interface expressed by your HDF5 file.  It&#39;s not clear to me from your question what you want to do in Java from Python - or vice versa - and why."},{"owner":{"account_id":13528,"reputation":4577,"user_id":27247,"accept_rate":88,"display_name":"Ichorus"},"score":0,"creation_date":1261586178,"post_id":1953731,"comment_id":1865679,"body_markdown":"Relational databases don&#39;t have to have high overhead.  Have you looked at something like SQLite?","body":"Relational databases don&#39;t have to have high overhead.  Have you looked at something like SQLite?"},{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":0,"creation_date":1261586997,"post_id":1953731,"comment_id":1865777,"body_markdown":"Re: Ichorus:\n\nI had suggested using a RDBMS like SQLite if the HDF5 datahose plan failed, but we never got to the point of implementing it to see its performance.  It just seems like overkill when we don&#39;t need any of the row-level locking or transactional features a full RDBMS","body":"Re: Ichorus:  I had suggested using a RDBMS like SQLite if the HDF5 datahose plan failed, but we never got to the point of implementing it to see its performance.  It just seems like overkill when we don&#39;t need any of the row-level locking or transactional features a full RDBMS"},{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":0,"creation_date":1261587135,"post_id":1953731,"comment_id":1865794,"body_markdown":"Re: Simon\n\nI guess what I&#39;m not sure of is how do I get the filtered query results out of python and into Java - the easiest (probably worst) way I know how would be to write those results to a CSV and then have Java parse it, but it seems like there must be a better way to do so.","body":"Re: Simon  I guess what I&#39;m not sure of is how do I get the filtered query results out of python and into Java - the easiest (probably worst) way I know how would be to write those results to a CSV and then have Java parse it, but it seems like there must be a better way to do so."},{"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"score":0,"creation_date":1261587676,"post_id":1953731,"comment_id":1865847,"body_markdown":"From the wiki entry for HDF5 I see that there are Java API (bindings) available as well to interface with HDF5. Did you consider using any of them (say like JHDF5) and before finalizing on  PyTables ?  I think if you can get something working with Java alone then this is less of maintenance overhead as your existing code base is Java alone.","body":"From the wiki entry for HDF5 I see that there are Java API (bindings) available as well to interface with HDF5. Did you consider using any of them (say like JHDF5) and before finalizing on  PyTables ?  I think if you can get something working with Java alone then this is less of maintenance overhead as your existing code base is Java alone."}],"answers":[{"tags":[],"owner":{"account_id":7936,"reputation":11487,"user_id":13992,"accept_rate":67,"display_name":"badp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1261585171,"creation_date":1261585171,"answer_id":1953764,"question_id":1953731,"body_markdown":"You could try [Jython][1], a Python interpreter for the JVM which can `import` Java classes.\r\n\r\n**[Jython project homepage][2]**\r\n\r\n\r\n&lt;sup&gt;Unfortunately, that&#39;s all I know on the subject.&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://wiki.python.org/jython/WhyJython\r\n  [2]: http://www.jython.org/","title":"Python, PyTables, Java - tying all together","body":"<p>You could try <a href=\"http://wiki.python.org/jython/WhyJython\" rel=\"nofollow noreferrer\">Jython</a>, a Python interpreter for the JVM which can <code>import</code> Java classes.</p>\n\n<p><strong><a href=\"http://www.jython.org/\" rel=\"nofollow noreferrer\">Jython project homepage</a></strong></p>\n\n<p><sup>Unfortunately, that's all I know on the subject.</sup></p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1261588185,"creation_date":1261585948,"answer_id":1953842,"question_id":1953731,"body_markdown":"Do not make this more complex than it needs to be.\r\n\r\nYour Java process can -- simply -- spawn a separate subprocess to run your PyTables queries.  Let the Operating System do what OS&#39;s do best.\r\n\r\nYour Java application can simply fork a process which has the necessary parameters as command-line options.  Then your Java can move on to the next thing while Python runs in the background.\r\n\r\nThis has HUGE advantages in terms of concurrent performance.  Your Python &quot;backend&quot; runs concurrently with your Java simulation &quot;front end&quot;.\r\n","title":"Python, PyTables, Java - tying all together","body":"<p>Do not make this more complex than it needs to be.</p>\n\n<p>Your Java process can -- simply -- spawn a separate subprocess to run your PyTables queries.  Let the Operating System do what OS's do best.</p>\n\n<p>Your Java application can simply fork a process which has the necessary parameters as command-line options.  Then your Java can move on to the next thing while Python runs in the background.</p>\n\n<p>This has HUGE advantages in terms of concurrent performance.  Your Python \"backend\" runs concurrently with your Java simulation \"front end\".</p>\n"},{"tags":[],"owner":{"account_id":55947,"reputation":4282,"user_id":167630,"display_name":"Travis Bradshaw"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1261589232,"creation_date":1261589232,"answer_id":1954175,"question_id":1953731,"body_markdown":"This is an epic question, and there are lots of considerations.  Since you didn&#39;t mention any specific performance or architectural constraints, I&#39;ll try and offer the best well-rounded suggestions.\r\n\r\nThe initial plan of using PyTables as an intermediary layer between your other elements and the datafiles seems solid.  However, one design constraint that wasn&#39;t mentioned is one of the most critical of all data processing:  Which of these data processing tasks can be done in batch processing style and which data processing tasks are more of a live stream.\r\n\r\nThis differentiation between &quot;we know exactly our input and output and can just do the processing&quot; (batch) and &quot;we know our input and what needs to be available for something else to ask&quot; (live) makes all the difference to an architectural question.  Looking at your diagram, there are several relationships that imply the different processing styles.\r\n\r\nAdditionally, on your diagram you have components of different types all using the same symbols.  It makes it a little bit difficult to analyze the expected performance and efficiency.\r\n\r\nAnother contraint that&#39;s significant is your IT infrastructure.  Do you have high speed network available storage?  If you do, intermediary files become a brilliant, simple, and fast way of sharing data between the elements of your infrastructure for all batch processing needs.  You mentioned running your PyTables-using-application on the same server that&#39;s running the Java simulation.  However, that means that server will experience load for both writing and reading the data.  (That is to say, the simulation environment could be affected by the needs of unrelated software when they query the data.)\r\n\r\nTo answer your questions directly:\r\n\r\n - PyTables looks like a nice match.\r\n - There are many ways for Python and Java to communicate, but consider a language agnostic communication method so these components can be changed later if necessarily.  This is just as simple as finding libraries that support both Java and Python and trying them.  The API you choose to implement with whatever library should be the same anyway. (XML-RPC would be fine for prototyping, as it&#39;s in the standard library, Google&#39;s Protocol Buffers or Facebook&#39;s Thrift make good production choices.  But don&#39;t underestimate how great and simple just &quot;writing things to intermediary files&quot; can be if data is predictable and batchable.\r\n\r\nTo help with the design process more and flesh out your needs:\r\n\r\nIt&#39;s easy to look at a small piece of the puzzle, make some reasonable assumptions, and jump into solution evaluation.  But it&#39;s even better to look at the problem holistically with a clear understanding of your constraints.  May I suggest this process:\r\n\r\n - Create two diagrams of your current architecture, physical and logical.\r\n   - On the physical diagram, create boxes for each physical server and diagram the physical connections between each.\r\n     - Be certain to label the resources available to each server and the type and resources available to each connection.\r\n     - Include physical hardware that isn&#39;t involved in your current setup if it might be useful.  (If you have a SAN available, but aren&#39;t using it, include it in case the solution might want to.)\r\n   - On the logical diagram, create boxes for every *application* that is running in your current architecture.\r\n     - Include relevant libraries as boxes *inside* the application boxes.  (This is important, because your future solution diagram currently has PyTables as a box, but it&#39;s just a library and can&#39;t do anything on it&#39;s own.)\r\n     - Draw on disk resources (like the HDF5 and CSV files) as cylinders.\r\n     - Connect the applications with arrows to other applications and resources as necessary.  Always draw the arrow *from* the &quot;actor&quot; *to* the &quot;target&quot;.  So if an app writes and HDF5 file, they arrow goes from the app to the file.  If an app reads a CSV file, the arrow goes from the app to the file.\r\n     - Every arrow must be labeled with the communication mechanism.  Unlabeled arrows show a relationship, but they don&#39;t show *what* relationship and so they won&#39;t help you make decisions or communicate constraints.\r\n\r\nOnce you&#39;ve got these diagrams done, make a few copies of them, and then right on top of them start to do data-flow doodles.  With a copy of the diagram for each &quot;end point&quot; application that needs your original data, start at the simulation and end at the end point with a pretty much solid flowing arrow.  Any time your data arrow flows across a communication/protocol arrow, make notes of how the data changes (if any).\r\n\r\nAt this point, if you and your team all agree on what&#39;s on paper, then you&#39;ve explained your current architecture in a manner that should be easily communicable to anyone.  (Not just helpers here on stackoverflow, but also to bosses and project managers and other purse holders.)\r\n\r\nTo start planning your solution, look at your dataflow diagrams and work your way backwards from endpoint to startpoint and create a nested list that contains every app and intermediary format on the way back to the start.  Then, list requirements for every application.  Be sure to feature:\r\n\r\n - What data formats or methods can this application use to communicate.\r\n - What data does it actually want. (Is this always the same or does it change on a whim depending on other requirements?)\r\n - How often does it need it.\r\n - Approximately how much resources does the application need.\r\n - What does the application do now that it doesn&#39;t do that well.\r\n - What can this application do now that would help, but it isn&#39;t doing.\r\n\r\nIf you do a good job with this list, you can see how this will help define what protocols and solutions you choose.  You look at the situations where the data crosses a communication line, and you compare the requirements list for *both sides* of the communication.\r\n\r\nYou&#39;ve already described one particular situation where you have quite a bit of java post-processing code that is doing &quot;joins&quot; on tables of data in CSV files, thats a &quot;do now but doesn&#39;t do that well&quot;.  So you look at the other side of that communication to see if the other side can do that thing well.  At this point, the other side is the CSV file and before that, the simulation, so no, there&#39;s nothing that can do that better in the current architecture.\r\n\r\nSo you&#39;ve proposed a new Python application that uses the PyTables library to make that process better.  Sounds good so far!  But in your next diagram, you added a bunch of other things that talk to &quot;PyTables&quot;.  Now we&#39;ve extended past the understanding of the group here at StackOverflow, because we don&#39;t know the requirements of those other applications.  But if you make the requirements list like mentioned above, you&#39;ll know exactly what to consider.  Maybe your Python application using PyTables to provide querying on the HDF5 files can support all of these applications.  Maybe it will only support one or two of them.  Maybe it will provide live querying to the post-processor, but periodically write intermediary files for the other applications.  We can&#39;t tell, but with planning, you can.\r\n\r\nSome final guidelines:\r\n\r\n - **Keep things simple!** The enemy here is complexity.  The more complex your solution, the more difficult the solution to implement and the more likely it is to fail.  Use the least number operations, use the least complex operations.  Sometimes just one application to handle the queries for all the other parts of your architecture is the simplest.  Sometimes an application to handle &quot;live&quot; queries and a separate application to handle &quot;batch requests&quot; is better.\r\n - **Keep things simple!**  It&#39;s a big deal!  Don&#39;t write anything that can already be done for you.  (This is why intermediary files can be so great, the OS handles all the difficult parts.)  Also, you mention that a relational database is too much overhead, but consider that a relational database also comes with a very expressive and well-known query language, the network communication protocol that goes with it, *and* you don&#39;t have to develop anything to use it!  Whatever solution you come up with has to be *better* than using the off-the-shelf solution that&#39;s going to work, for certain, very well, or it&#39;s not the best solution.\r\n - **Refer to your physical layer documentation frequently** so you understand the resource use of your considerations.  A slow network link or putting too much on one server can both rule out otherwise good solutions.\r\n - **Save those docs.** Whatever you decide, the documentation you generated in the process is valuable.  Wiki-them or file them away so you can whip them out again when the topic come s up.\r\n\r\nAnd the answer to the direct question, &quot;How to get Python and Java to play nice together?&quot; is simply &quot;use a language agnostic communication method.&quot;  The truth of the matter is that Python and Java are both not important to your describe problem-set.  What&#39;s important is the data that&#39;s flowing through it.  Anything that can easily and effectively share data is going to be just fine.","title":"Python, PyTables, Java - tying all together","body":"<p>This is an epic question, and there are lots of considerations.  Since you didn't mention any specific performance or architectural constraints, I'll try and offer the best well-rounded suggestions.</p>\n\n<p>The initial plan of using PyTables as an intermediary layer between your other elements and the datafiles seems solid.  However, one design constraint that wasn't mentioned is one of the most critical of all data processing:  Which of these data processing tasks can be done in batch processing style and which data processing tasks are more of a live stream.</p>\n\n<p>This differentiation between \"we know exactly our input and output and can just do the processing\" (batch) and \"we know our input and what needs to be available for something else to ask\" (live) makes all the difference to an architectural question.  Looking at your diagram, there are several relationships that imply the different processing styles.</p>\n\n<p>Additionally, on your diagram you have components of different types all using the same symbols.  It makes it a little bit difficult to analyze the expected performance and efficiency.</p>\n\n<p>Another contraint that's significant is your IT infrastructure.  Do you have high speed network available storage?  If you do, intermediary files become a brilliant, simple, and fast way of sharing data between the elements of your infrastructure for all batch processing needs.  You mentioned running your PyTables-using-application on the same server that's running the Java simulation.  However, that means that server will experience load for both writing and reading the data.  (That is to say, the simulation environment could be affected by the needs of unrelated software when they query the data.)</p>\n\n<p>To answer your questions directly:</p>\n\n<ul>\n<li>PyTables looks like a nice match.</li>\n<li>There are many ways for Python and Java to communicate, but consider a language agnostic communication method so these components can be changed later if necessarily.  This is just as simple as finding libraries that support both Java and Python and trying them.  The API you choose to implement with whatever library should be the same anyway. (XML-RPC would be fine for prototyping, as it's in the standard library, Google's Protocol Buffers or Facebook's Thrift make good production choices.  But don't underestimate how great and simple just \"writing things to intermediary files\" can be if data is predictable and batchable.</li>\n</ul>\n\n<p>To help with the design process more and flesh out your needs:</p>\n\n<p>It's easy to look at a small piece of the puzzle, make some reasonable assumptions, and jump into solution evaluation.  But it's even better to look at the problem holistically with a clear understanding of your constraints.  May I suggest this process:</p>\n\n<ul>\n<li>Create two diagrams of your current architecture, physical and logical.\n\n<ul>\n<li>On the physical diagram, create boxes for each physical server and diagram the physical connections between each.\n\n<ul>\n<li>Be certain to label the resources available to each server and the type and resources available to each connection.</li>\n<li>Include physical hardware that isn't involved in your current setup if it might be useful.  (If you have a SAN available, but aren't using it, include it in case the solution might want to.)</li>\n</ul></li>\n<li>On the logical diagram, create boxes for every <em>application</em> that is running in your current architecture.\n\n<ul>\n<li>Include relevant libraries as boxes <em>inside</em> the application boxes.  (This is important, because your future solution diagram currently has PyTables as a box, but it's just a library and can't do anything on it's own.)</li>\n<li>Draw on disk resources (like the HDF5 and CSV files) as cylinders.</li>\n<li>Connect the applications with arrows to other applications and resources as necessary.  Always draw the arrow <em>from</em> the \"actor\" <em>to</em> the \"target\".  So if an app writes and HDF5 file, they arrow goes from the app to the file.  If an app reads a CSV file, the arrow goes from the app to the file.</li>\n<li>Every arrow must be labeled with the communication mechanism.  Unlabeled arrows show a relationship, but they don't show <em>what</em> relationship and so they won't help you make decisions or communicate constraints.</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Once you've got these diagrams done, make a few copies of them, and then right on top of them start to do data-flow doodles.  With a copy of the diagram for each \"end point\" application that needs your original data, start at the simulation and end at the end point with a pretty much solid flowing arrow.  Any time your data arrow flows across a communication/protocol arrow, make notes of how the data changes (if any).</p>\n\n<p>At this point, if you and your team all agree on what's on paper, then you've explained your current architecture in a manner that should be easily communicable to anyone.  (Not just helpers here on stackoverflow, but also to bosses and project managers and other purse holders.)</p>\n\n<p>To start planning your solution, look at your dataflow diagrams and work your way backwards from endpoint to startpoint and create a nested list that contains every app and intermediary format on the way back to the start.  Then, list requirements for every application.  Be sure to feature:</p>\n\n<ul>\n<li>What data formats or methods can this application use to communicate.</li>\n<li>What data does it actually want. (Is this always the same or does it change on a whim depending on other requirements?)</li>\n<li>How often does it need it.</li>\n<li>Approximately how much resources does the application need.</li>\n<li>What does the application do now that it doesn't do that well.</li>\n<li>What can this application do now that would help, but it isn't doing.</li>\n</ul>\n\n<p>If you do a good job with this list, you can see how this will help define what protocols and solutions you choose.  You look at the situations where the data crosses a communication line, and you compare the requirements list for <em>both sides</em> of the communication.</p>\n\n<p>You've already described one particular situation where you have quite a bit of java post-processing code that is doing \"joins\" on tables of data in CSV files, thats a \"do now but doesn't do that well\".  So you look at the other side of that communication to see if the other side can do that thing well.  At this point, the other side is the CSV file and before that, the simulation, so no, there's nothing that can do that better in the current architecture.</p>\n\n<p>So you've proposed a new Python application that uses the PyTables library to make that process better.  Sounds good so far!  But in your next diagram, you added a bunch of other things that talk to \"PyTables\".  Now we've extended past the understanding of the group here at StackOverflow, because we don't know the requirements of those other applications.  But if you make the requirements list like mentioned above, you'll know exactly what to consider.  Maybe your Python application using PyTables to provide querying on the HDF5 files can support all of these applications.  Maybe it will only support one or two of them.  Maybe it will provide live querying to the post-processor, but periodically write intermediary files for the other applications.  We can't tell, but with planning, you can.</p>\n\n<p>Some final guidelines:</p>\n\n<ul>\n<li><strong>Keep things simple!</strong> The enemy here is complexity.  The more complex your solution, the more difficult the solution to implement and the more likely it is to fail.  Use the least number operations, use the least complex operations.  Sometimes just one application to handle the queries for all the other parts of your architecture is the simplest.  Sometimes an application to handle \"live\" queries and a separate application to handle \"batch requests\" is better.</li>\n<li><strong>Keep things simple!</strong>  It's a big deal!  Don't write anything that can already be done for you.  (This is why intermediary files can be so great, the OS handles all the difficult parts.)  Also, you mention that a relational database is too much overhead, but consider that a relational database also comes with a very expressive and well-known query language, the network communication protocol that goes with it, <em>and</em> you don't have to develop anything to use it!  Whatever solution you come up with has to be <em>better</em> than using the off-the-shelf solution that's going to work, for certain, very well, or it's not the best solution.</li>\n<li><strong>Refer to your physical layer documentation frequently</strong> so you understand the resource use of your considerations.  A slow network link or putting too much on one server can both rule out otherwise good solutions.</li>\n<li><strong>Save those docs.</strong> Whatever you decide, the documentation you generated in the process is valuable.  Wiki-them or file them away so you can whip them out again when the topic come s up.</li>\n</ul>\n\n<p>And the answer to the direct question, \"How to get Python and Java to play nice together?\" is simply \"use a language agnostic communication method.\"  The truth of the matter is that Python and Java are both not important to your describe problem-set.  What's important is the data that's flowing through it.  Anything that can easily and effectively share data is going to be just fine.</p>\n"},{"tags":[],"owner":{"account_id":42534,"reputation":1958,"user_id":123930,"accept_rate":85,"display_name":"oob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282431346,"creation_date":1282431346,"answer_id":3539368,"question_id":1953731,"body_markdown":"Not sure if this is good etiquette.  I couldn&#39;t fit all my comments into a normal comment, and the post has no activity for 8 months. \r\n\r\nJust wanted to see how this was going for you?  We have a very very very similar situation where I work - only the simulation is written in C and the storage format is binary files.  Every time a boss wants a different summary we have to make/modify handwritten code to do summaries.  Our binary files are about 10 GB in size and there is one of these for every year of the simulation, so as you can imagine, things get hairy when we want to run it with different seeds and such.  \r\n\r\nI&#39;ve just discovered pyTables and had a similar idea to yours.  I was hoping to change our storage format to hdf5 and then run our summary reports/queries using pytables.  Part of this involves joining tables from each year.  Have you had much luck doing these types of &quot;joins&quot; using pytables?","title":"Python, PyTables, Java - tying all together","body":"<p>Not sure if this is good etiquette.  I couldn't fit all my comments into a normal comment, and the post has no activity for 8 months. </p>\n\n<p>Just wanted to see how this was going for you?  We have a very very very similar situation where I work - only the simulation is written in C and the storage format is binary files.  Every time a boss wants a different summary we have to make/modify handwritten code to do summaries.  Our binary files are about 10 GB in size and there is one of these for every year of the simulation, so as you can imagine, things get hairy when we want to run it with different seeds and such.  </p>\n\n<p>I've just discovered pyTables and had a similar idea to yours.  I was hoping to change our storage format to hdf5 and then run our summary reports/queries using pytables.  Part of this involves joining tables from each year.  Have you had much luck doing these types of \"joins\" using pytables?</p>\n"}],"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3369,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":1954175,"answer_count":4,"score":26,"last_activity_date":1647803269,"creation_date":1261584852,"question_id":1953731,"body_markdown":"&lt;h1&gt;Question in nutshell&lt;/h1&gt;\r\nWhat is the best way to get Python and Java to play nice with each other?\r\n\r\n&lt;h1&gt;More detailed explanation&lt;/h1&gt;\r\n\r\nI have a somewhat complicated situation.  I&#39;ll try my best to explain both in pictures and words.  Here&#39;s the current system architecture:\r\n\r\n[![Current system architecture][1]][1]\n&lt;!-- source: http://i50.tinypic.com/2s6lutk.png --&gt;\r\n\r\nWe have an agent-based modeling simulation written in Java.  It has options of either writing locally to CSV files, or remotely via a connection to a Java server to an [HDF5][2] file.  Each simulation run spits out over a gigabyte of data, and we run the simulation dozens of times.  We need to be able to aggregate over multiple runs of the same scenario (with different random seeds) in order to see some trends (e.g. min, max, median, mean).  As you can imagine, trying to move around all these CSV files is a nightmare; there are multiple files produced per run, and like I said some of them are enormous.  That&#39;s the reason we&#39;ve been trying to move towards an HDF5 solution, where all the data for a study is stored in one place, rather than scattered across dozens of plain text files.  Furthermore, since it is a binary file format, it should be able to get significant space savings as compared to uncompressed CSVS.\r\n\r\nAs the diagram shows, the current post-processing we do of the raw output data from simulation also takes place in Java, and reads in the CSV files produced by local output.  This post-processing module uses JFreeChart to create some charts and graphs related to the simulation.\r\n\r\n\r\n\r\n&lt;h2&gt; The Problem &lt;/h2&gt;\r\nAs I alluded to earlier, the CSVs are really untenable and are not scaling well as we generate more and more data from simulation.  Furthermore, the post-processing code is doing more than it should have to do, essentially performing the work of a very, very poor man&#39;s relational database (making joins across &#39;tables&#39; (csv files) based on foreign keys (the unique agent IDs).  It is also difficult in this system to visualize the data in other ways (e.g. Prefuse, Processing, JMonkeyEngine getting some subset of the raw data to play with in MatLab or SPSS).\r\n\r\n&lt;h2&gt; Solution? &lt;/h2&gt;\r\nMy group decided we really need a way of filtering and querying the data we have, as well as performing cross table joins.  Given this is a write-once, read-many situation, we really don&#39;t need the overhead of a real relational database; instead we just need some way to put a nicer front end on the HDF5 files.  I found a few papers about this, such as one describing how to use [XQuery as the query language on HDF5 files][3], but the paper describes having to write a compiler to convert from XQuery/XPath into the native HDF5 calls, way beyond our needs.\r\nEnter [PyTables][4].  It seems to do exactly what we need (provides two different ways of querying data, either through Python list comprehension or through [in-kernel (C level) searches][5].\r\n\r\nThe proposed architecture I envision is this:\r\n[![Envisioned architecture][6]][6]\n&lt;!-- source: http://i46.tinypic.com/9aseg3.png --&gt;\r\n\r\nWhat I&#39;m not really sure how to do is to link together the python code that will be written for querying, with the Java code that serves up the HDF5 files, and the Java code that does the post processing of the data.  Obviously I will want to rewrite much of the post-processing code that is implicitly doing queries and instead let the excellent PyTables do this much more elegantly.\r\n\r\n&lt;h2&gt; Java/Python options&lt;/h2&gt;\r\nA simple google search turns up a few options for [communicating between Java and Python][7], but I am so new to the topic that I&#39;m looking for some actual expertise and criticism of the proposed architecture.  It seems like the Python process should be running on same machine as the Datahose so that the large .h5 files do not have to be transferred over the network, but rather the much smaller, filtered views of it would be transmitted to the clients.  [Pyro][8] seems to be an interesting choice - does anyone have experience with that?\r\n\r\n  [1]: https://i.stack.imgur.com/N4P37.png\r\n  [2]: https://www.hdfgroup.org/solutions/hdf5/\r\n  [3]: http://www.springerlink.com/content/8fudjp9enmkcgyr8/\r\n  [4]: https://web.archive.org/web/20141221211615/http://www.pytables.org/moin\r\n  [5]: https://web.archive.org/web/20100714092546/http://www.pytables.org/docs/manual/ch05.html#inkernelSearch\r\n  [6]: https://i.stack.imgur.com/Q8QzN.png\r\n  [7]: https://web.archive.org/web/20120104052757/http://wiki.cacr.caltech.edu:80/danse/index.php/Communication_between_Java_and_Python\r\n  [8]: https://web.archive.org/web/20100314165925/http://pyro.sourceforge.net:80/projects.html","title":"Python, PyTables, Java - tying all together","body":"<h1>Question in nutshell</h1>\nWhat is the best way to get Python and Java to play nice with each other?\n<h1>More detailed explanation</h1>\n<p>I have a somewhat complicated situation.  I'll try my best to explain both in pictures and words.  Here's the current system architecture:</p>\n<p><a href=\"https://i.stack.imgur.com/N4P37.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4P37.png\" alt=\"Current system architecture\" /></a></p>\n\n<p>We have an agent-based modeling simulation written in Java.  It has options of either writing locally to CSV files, or remotely via a connection to a Java server to an <a href=\"https://www.hdfgroup.org/solutions/hdf5/\" rel=\"nofollow noreferrer\">HDF5</a> file.  Each simulation run spits out over a gigabyte of data, and we run the simulation dozens of times.  We need to be able to aggregate over multiple runs of the same scenario (with different random seeds) in order to see some trends (e.g. min, max, median, mean).  As you can imagine, trying to move around all these CSV files is a nightmare; there are multiple files produced per run, and like I said some of them are enormous.  That's the reason we've been trying to move towards an HDF5 solution, where all the data for a study is stored in one place, rather than scattered across dozens of plain text files.  Furthermore, since it is a binary file format, it should be able to get significant space savings as compared to uncompressed CSVS.</p>\n<p>As the diagram shows, the current post-processing we do of the raw output data from simulation also takes place in Java, and reads in the CSV files produced by local output.  This post-processing module uses JFreeChart to create some charts and graphs related to the simulation.</p>\n<h2> The Problem </h2>\nAs I alluded to earlier, the CSVs are really untenable and are not scaling well as we generate more and more data from simulation.  Furthermore, the post-processing code is doing more than it should have to do, essentially performing the work of a very, very poor man's relational database (making joins across 'tables' (csv files) based on foreign keys (the unique agent IDs).  It is also difficult in this system to visualize the data in other ways (e.g. Prefuse, Processing, JMonkeyEngine getting some subset of the raw data to play with in MatLab or SPSS).\n<h2> Solution? </h2>\nMy group decided we really need a way of filtering and querying the data we have, as well as performing cross table joins.  Given this is a write-once, read-many situation, we really don't need the overhead of a real relational database; instead we just need some way to put a nicer front end on the HDF5 files.  I found a few papers about this, such as one describing how to use [XQuery as the query language on HDF5 files][3], but the paper describes having to write a compiler to convert from XQuery/XPath into the native HDF5 calls, way beyond our needs.\nEnter [PyTables][4].  It seems to do exactly what we need (provides two different ways of querying data, either through Python list comprehension or through [in-kernel (C level) searches][5].\n<p>The proposed architecture I envision is this:\n<a href=\"https://i.stack.imgur.com/Q8QzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q8QzN.png\" alt=\"Envisioned architecture\" /></a></p>\n\n<p>What I'm not really sure how to do is to link together the python code that will be written for querying, with the Java code that serves up the HDF5 files, and the Java code that does the post processing of the data.  Obviously I will want to rewrite much of the post-processing code that is implicitly doing queries and instead let the excellent PyTables do this much more elegantly.</p>\n<h2> Java/Python options</h2>\nA simple google search turns up a few options for [communicating between Java and Python][7], but I am so new to the topic that I'm looking for some actual expertise and criticism of the proposed architecture.  It seems like the Python process should be running on same machine as the Datahose so that the large .h5 files do not have to be transferred over the network, but rather the much smaller, filtered views of it would be transmitted to the clients.  [Pyro][8] seems to be an interesting choice - does anyone have experience with that?\n"},{"tags":["java","spring","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":20124745,"reputation":31,"user_id":14758490,"display_name":"Sandra Markerud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647802776,"creation_date":1647802776,"answer_id":71549762,"question_id":71545944,"body_markdown":"Ok, I found the answer:\r\nAccording to [here][1] it is intentional, that the path of the uri is ignored.\r\nSo in my case, the set path filter would fix the problem:\r\n\r\n```java\r\nprivate final URI routingTargetWithPath = URI.create(&quot;http://hapi.fhir.org/baseR4&quot;);\r\n\r\n  @Bean\r\n  public RouteLocator routeLocator(RouteLocatorBuilder builder) {\r\n    return builder.routes()\r\n        .route(&quot;patient&quot;, r -&gt; r\r\n            .path(&quot;/Patient&quot;, &quot;/Patient/*&quot;)\r\n            .and()\r\n            .method(GET)\r\n            .filters(f -&gt; f.prefixPath(routingTargetWithPath.getPath()))\r\n            .uri(routingTargetWithPath)\r\n        )\r\n        .build();\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-gateway/issues/881","title":"spring cloud gateway only forwards to base path of url","body":"<p>Ok, I found the answer:\nAccording to <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/881\" rel=\"nofollow noreferrer\">here</a> it is intentional, that the path of the uri is ignored.\nSo in my case, the set path filter would fix the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final URI routingTargetWithPath = URI.create(&quot;http://hapi.fhir.org/baseR4&quot;);\n\n  @Bean\n  public RouteLocator routeLocator(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(&quot;patient&quot;, r -&gt; r\n            .path(&quot;/Patient&quot;, &quot;/Patient/*&quot;)\n            .and()\n            .method(GET)\n            .filters(f -&gt; f.prefixPath(routingTargetWithPath.getPath()))\n            .uri(routingTargetWithPath)\n        )\n        .build();\n  }\n</code></pre>\n"}],"owner":{"account_id":20124745,"reputation":31,"user_id":14758490,"display_name":"Sandra Markerud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71549762,"answer_count":1,"score":1,"last_activity_date":1647802776,"creation_date":1647772310,"question_id":71545944,"body_markdown":"I&#39;m trying to build a simple api-gateway using spring-cloud-gateway. So far I understood the basic principle but I&#39;m running in a specific Problem:\r\n\r\nThe target url which I&#39;m forwarding my request potentially contains zero, one or multiple path segments. Unfortunately, these path segments are ignored.\r\n\r\n```java\r\n\r\nprivate final String routingTargetWithPath = &quot;http://hapi.fhir.org/baseR4&quot;;\r\n\r\n  @Bean\r\n  public RouteLocator routeLocator(RouteLocatorBuilder builder) {\r\n    return builder.routes()\r\n        .route(&quot;patient&quot;, r -&gt; r\r\n            .path(&quot;/Patient&quot;, &quot;/Patient/*&quot;)\r\n            .and()\r\n            .method(GET)\r\n            .uri(routingTargetWithPath)\r\n        )\r\n        .build();\r\n  }\r\n```\r\n\r\nUsing curl sending the request to my api-gateway:\r\n```\r\ncurl http://localhost:8080/Patient\r\n  and accordingly\r\ncurl http://localhost:8080/Patient/2069748\r\n```\r\nI would assume the requests would be routed to:\r\n```\r\nhttp://hapi.fhir.org/baseR4/Patient\r\n  and accordingly\r\nhttp://hapi.fhir.org/baseR4/Patient/2069748\r\n```\r\nBut instead they are being routed to:\r\n```\r\nhttp://hapi.fhir.org/Patient\r\n  and accordingly\r\nhttp://hapi.fhir.org/Patient/2069748\r\n```\r\nSo, the path of the configured routing url is ignored.\r\nUnfortunately, I can&#39;t do a manual rewrite here, since in production the &quot;routingTarget&quot; will be configured and I don&#39;t know, if and how many path segments it will contain.\r\n\r\nHow can I achieve to route to the complete configured routing target?","title":"spring cloud gateway only forwards to base path of url","body":"<p>I'm trying to build a simple api-gateway using spring-cloud-gateway. So far I understood the basic principle but I'm running in a specific Problem:</p>\n<p>The target url which I'm forwarding my request potentially contains zero, one or multiple path segments. Unfortunately, these path segments are ignored.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final String routingTargetWithPath = &quot;http://hapi.fhir.org/baseR4&quot;;\n\n  @Bean\n  public RouteLocator routeLocator(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(&quot;patient&quot;, r -&gt; r\n            .path(&quot;/Patient&quot;, &quot;/Patient/*&quot;)\n            .and()\n            .method(GET)\n            .uri(routingTargetWithPath)\n        )\n        .build();\n  }\n</code></pre>\n<p>Using curl sending the request to my api-gateway:</p>\n<pre><code>curl http://localhost:8080/Patient\n  and accordingly\ncurl http://localhost:8080/Patient/2069748\n</code></pre>\n<p>I would assume the requests would be routed to:</p>\n<pre><code>http://hapi.fhir.org/baseR4/Patient\n  and accordingly\nhttp://hapi.fhir.org/baseR4/Patient/2069748\n</code></pre>\n<p>But instead they are being routed to:</p>\n<pre><code>http://hapi.fhir.org/Patient\n  and accordingly\nhttp://hapi.fhir.org/Patient/2069748\n</code></pre>\n<p>So, the path of the configured routing url is ignored.\nUnfortunately, I can't do a manual rewrite here, since in production the &quot;routingTarget&quot; will be configured and I don't know, if and how many path segments it will contain.</p>\n<p>How can I achieve to route to the complete configured routing target?</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647802357,"creation_date":1647663021,"answer_id":71535295,"question_id":71503468,"body_markdown":"Most libraries only use Log4j 1.x to log messages, they don&#39;t configure the logging system programmatically. Therefore you can simply replace `log4j` with [`log4j-1.2-api`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api/2.17.2).\r\n\r\nThe Log4j 1.x bridge (`log4j-1.2-api`) shares its configuration with Log4j 2.x Core, so you can use a native Log4j 2.x configuration file to configure a `RollingFileAppender`. No `log4j.properties` file or `log4j1.compatibility` property required.\r\n\r\nPS: Out of 4 configuration file formats supported by Log4j 2.x (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#ConfigurationSyntax)) the properties format is probably the more convoluted. Personally I would choose one of the remaining 3 (XML, JSON or YAML). The XML format does not require additional dependencies.","title":"How to use log4j and log4j2 properies file to log into same file","body":"<p>Most libraries only use Log4j 1.x to log messages, they don't configure the logging system programmatically. Therefore you can simply replace <code>log4j</code> with <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api/2.17.2\" rel=\"nofollow noreferrer\"><code>log4j-1.2-api</code></a>.</p>\n<p>The Log4j 1.x bridge (<code>log4j-1.2-api</code>) shares its configuration with Log4j 2.x Core, so you can use a native Log4j 2.x configuration file to configure a <code>RollingFileAppender</code>. No <code>log4j.properties</code> file or <code>log4j1.compatibility</code> property required.</p>\n<p>PS: Out of 4 configuration file formats supported by Log4j 2.x (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#ConfigurationSyntax\" rel=\"nofollow noreferrer\">documentation</a>) the properties format is probably the more convoluted. Personally I would choose one of the remaining 3 (XML, JSON or YAML). The XML format does not require additional dependencies.</p>\n"}],"owner":{"account_id":11827924,"reputation":15,"user_id":8655410,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71535295,"answer_count":1,"score":1,"last_activity_date":1647802357,"creation_date":1647460370,"question_id":71503468,"body_markdown":"I want to roll and compress log files based on **size** and **time**. I have found out that this can easily be performed with log4j2.\r\nThe problem is many internal jars still use log4j for logging, which I want to be logged.\r\n\r\nThe possible solution I can think of here is by using **log4j1.compatibility=true** by keeping log4j.properties and log4j2.properties\r\n\r\nWhat I can&#39;t figure out is how do I use RollingFileAppender in log4j.properties and log4j2 properties?\r\n\r\nPlease suggest me how can I use both the properties file(log4j and log4j2) to log to the same file with automatic compression when the specific size or time is reached.\r\n\r\n**Note:** I tried using **uk.org.simonsite.log4j.appender.TimeAndSizeRollingAppender** but getting error **NoClassDefError : org.apache.log4j.xml.unrecognizedelementhandler** due to class is removed in log4j versions greater than v1.2.17.","title":"How to use log4j and log4j2 properies file to log into same file","body":"<p>I want to roll and compress log files based on <strong>size</strong> and <strong>time</strong>. I have found out that this can easily be performed with log4j2.\nThe problem is many internal jars still use log4j for logging, which I want to be logged.</p>\n<p>The possible solution I can think of here is by using <strong>log4j1.compatibility=true</strong> by keeping log4j.properties and log4j2.properties</p>\n<p>What I can't figure out is how do I use RollingFileAppender in log4j.properties and log4j2 properties?</p>\n<p>Please suggest me how can I use both the properties file(log4j and log4j2) to log to the same file with automatic compression when the specific size or time is reached.</p>\n<p><strong>Note:</strong> I tried using <strong>uk.org.simonsite.log4j.appender.TimeAndSizeRollingAppender</strong> but getting error <strong>NoClassDefError : org.apache.log4j.xml.unrecognizedelementhandler</strong> due to class is removed in log4j versions greater than v1.2.17.</p>\n"},{"tags":["java","hex","decode"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1647603915,"post_id":71526536,"comment_id":126418103,"body_markdown":"You want to convert hexadecimal inside a String into bytes, that&#39;s not what `getBytes()` does. It&#39;s more of `Integer.parseInt(&quot;4B&quot;, 16)` territory (but that won&#39;t parse the full String).","body":"You want to convert hexadecimal inside a String into bytes, that&#39;s not what <code>getBytes()</code> does. It&#39;s more of <code>Integer.parseInt(&quot;4B&quot;, 16)</code> territory (but that won&#39;t parse the full String)."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647604259,"post_id":71526536,"comment_id":126418188,"body_markdown":"&quot;it doesn&#39;t work&quot; is inadequate description of a problem.","body":"&quot;it doesn&#39;t work&quot; is inadequate description of a problem."},{"owner":{"account_id":13255868,"reputation":13,"user_id":9577993,"display_name":"Zenk0"},"score":0,"creation_date":1647605580,"post_id":71526536,"comment_id":126418569,"body_markdown":"please show me the right way. my knowledge is not enough","body":"please show me the right way. my knowledge is not enough"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647605995,"creation_date":1647605995,"answer_id":71526936,"question_id":71526536,"body_markdown":"        String hex = &quot;0412044B0020043F043E043B044C043704430435044204350441044C002004420430044004380444043D044B043C0020043F043B0430043D043E043C0020002204110438002B002200200441002000300033002E00310032002E0032003000320031002E002004230442043E0447043D04380442044C002004430441043B043E04320438044F&quot;;\r\n\r\n        int n = hex.length/4;\r\n        char[] chars = new char[n];\r\n        for (int i = 0; i &lt; n; ++i) {\r\n            chars[i] = Integer.parseInt(hex.substring(4*i, 4*i+4), 15) &amp; 0xFFFF);\r\n        }\r\n        String str = new String(chars);\r\n        System.out.println(str);\r\n\r\n4 hex chars form one UCS-2 big endian char. Same size as java char (2 bytes).\r\n[UTF-16 is superior to UCS-2][1] which forms a fixed-size subset. So from UCS-2 to UTF-16 needs no special treatment, only whether the 2 bytes of a char are big endian or little endian.\r\n\r\n\r\n  [1]: http://www.differencebetween.net/technology/software-technology/difference-between-ucs-2-and-utf-16/","title":"Convert UCS-2 HEX в UTF16 BE java","body":"<pre><code>    String hex = &quot;0412044B0020043F043E043B044C043704430435044204350441044C002004420430044004380444043D044B043C0020043F043B0430043D043E043C0020002204110438002B002200200441002000300033002E00310032002E0032003000320031002E002004230442043E0447043D04380442044C002004430441043B043E04320438044F&quot;;\n\n    int n = hex.length/4;\n    char[] chars = new char[n];\n    for (int i = 0; i &lt; n; ++i) {\n        chars[i] = Integer.parseInt(hex.substring(4*i, 4*i+4), 15) &amp; 0xFFFF);\n    }\n    String str = new String(chars);\n    System.out.println(str);\n</code></pre>\n<p>4 hex chars form one UCS-2 big endian char. Same size as java char (2 bytes).\n<a href=\"http://www.differencebetween.net/technology/software-technology/difference-between-ucs-2-and-utf-16/\" rel=\"nofollow noreferrer\">UTF-16 is superior to UCS-2</a> which forms a fixed-size subset. So from UCS-2 to UTF-16 needs no special treatment, only whether the 2 bytes of a char are big endian or little endian.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647614508,"creation_date":1647614508,"answer_id":71528748,"question_id":71526536,"body_markdown":"Try the following:\r\n``` \r\n            BigInteger bi = new BigInteger(hex, 16);\r\n            byte[] a = bi.toByteArray();\r\n            System.out.println(new String(a, Charset.forName(&quot;UTF-16&quot;)));\r\n``` ","title":"Convert UCS-2 HEX в UTF16 BE java","body":"<p>Try the following:</p>\n<pre><code>            BigInteger bi = new BigInteger(hex, 16);\n            byte[] a = bi.toByteArray();\n            System.out.println(new String(a, Charset.forName(&quot;UTF-16&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647802250,"creation_date":1647802250,"answer_id":71549694,"question_id":71526536,"body_markdown":"With JDK17 or above you could also make use of [HexFormat][1] class:\r\n\r\n    String str = new String(HexFormat.of().parseHex(hex), StandardCharsets.UTF_16BE);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html#parseHex(java.lang.CharSequence)","title":"Convert UCS-2 HEX в UTF16 BE java","body":"<p>With JDK17 or above you could also make use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html#parseHex(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">HexFormat</a> class:</p>\n<pre><code>String str = new String(HexFormat.of().parseHex(hex), StandardCharsets.UTF_16BE);\n</code></pre>\n"}],"owner":{"account_id":13255868,"reputation":13,"user_id":9577993,"display_name":"Zenk0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71528748,"answer_count":3,"score":0,"last_activity_date":1647802250,"creation_date":1647603665,"question_id":71526536,"body_markdown":"I have a string in which the SMS text is encrypted in USC2 format received from a GSM modem\r\nI&#39;m trying to convert it to UTF16 but it doesn&#39;t work. Please tell me what am I doing wrong\r\n\r\n    public class USC {\r\n        public static void main(String[] args) {\r\n            String hex = &quot;0412044B0020043F043E043B044C043704430435044204350441044C002004420430044004380444043D044B043C0020043F043B0430043D043E043C0020002204110438002B002200200441002000300033002E00310032002E0032003000320031002E002004230442043E0447043D04380442044C002004430441043B043E04320438044F&quot;;\r\n    \r\n            byte[] v = hex.getBytes(StandardCharsets.UTF_16BE);\r\n            String str = new String(v);\r\n            System.out.println(str);\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\nOn the online decoder through the service https://dencode.com/ works fine\r\n\r\n","title":"Convert UCS-2 HEX в UTF16 BE java","body":"<p>I have a string in which the SMS text is encrypted in USC2 format received from a GSM modem\nI'm trying to convert it to UTF16 but it doesn't work. Please tell me what am I doing wrong</p>\n<pre><code>public class USC {\n    public static void main(String[] args) {\n        String hex = &quot;0412044B0020043F043E043B044C043704430435044204350441044C002004420430044004380444043D044B043C0020043F043B0430043D043E043C0020002204110438002B002200200441002000300033002E00310032002E0032003000320031002E002004230442043E0447043D04380442044C002004430441043B043E04320438044F&quot;;\n\n        byte[] v = hex.getBytes(StandardCharsets.UTF_16BE);\n        String str = new String(v);\n        System.out.println(str);\n}\n}\n</code></pre>\n<p>On the online decoder through the service <a href=\"https://dencode.com/\" rel=\"nofollow noreferrer\">https://dencode.com/</a> works fine</p>\n"},{"tags":["java","sql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":6484127,"reputation":9341,"user_id":5020253,"accept_rate":88,"display_name":"SDekov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647801889,"creation_date":1647801396,"answer_id":71549562,"question_id":71549208,"body_markdown":"Found a way to do that using a `javax.persistence.Converter;`.\r\n  \r\n\r\n    @Converter\r\n    public class ExternalSystemObjectConverter implements AttributeConverter&lt;ExternalSystemObject, String&gt; {\r\n    \r\n        @Override public String convertToDatabaseColumn(ExternalSystemObjectConverter eso) {\r\n            return eso.getId();\r\n        }\r\n    \r\n        @Override public ExternalSystemObjectConverter convertToEntityAttribute(String dbData) {\r\n            // retrieve or build eso\r\n            return eso;\r\n        }\r\n    }\r\n\r\n","title":"JPA Store object as string identifier only","body":"<p>Found a way to do that using a <code>javax.persistence.Converter;</code>.</p>\n<pre><code>@Converter\npublic class ExternalSystemObjectConverter implements AttributeConverter&lt;ExternalSystemObject, String&gt; {\n\n    @Override public String convertToDatabaseColumn(ExternalSystemObjectConverter eso) {\n        return eso.getId();\n    }\n\n    @Override public ExternalSystemObjectConverter convertToEntityAttribute(String dbData) {\n        // retrieve or build eso\n        return eso;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6484127,"reputation":9341,"user_id":5020253,"accept_rate":88,"display_name":"SDekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647801889,"creation_date":1647798654,"question_id":71549208,"body_markdown":"Let’s say we have a User\r\n\r\n    @Entity\r\n    class User {\r\n        String name;\r\n        …\r\n        ExternalSystemObject eso;\r\n        …\r\n    }\r\n\r\n\r\n Is there an easy way to store the `ExternalSystemObject` as it’s identifier only (e.g. a column `eso_id: String` for example) and provide a mapper to map the ID back to an object when retrieving the data?\r\n\r\nObviously I can define the field as `String` in the model but that would involve creating another object to represent the original required data model.\r\n\r\nI thought that is a simple commonly desired behaviour but couldn’t find anything in the documentation.\r\n","title":"JPA Store object as string identifier only","body":"<p>Let’s say we have a User</p>\n<pre><code>@Entity\nclass User {\n    String name;\n    …\n    ExternalSystemObject eso;\n    …\n}\n</code></pre>\n<p>Is there an easy way to store the <code>ExternalSystemObject</code> as it’s identifier only (e.g. a column <code>eso_id: String</code> for example) and provide a mapper to map the ID back to an object when retrieving the data?</p>\n<p>Obviously I can define the field as <code>String</code> in the model but that would involve creating another object to represent the original required data model.</p>\n<p>I thought that is a simple commonly desired behaviour but couldn’t find anything in the documentation.</p>\n"},{"tags":["java","datetime","timezone","freemarker"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1562835649,"post_id":56985317,"comment_id":100505576,"body_markdown":"you can use LocalDateTime from java 8","body":"you can use LocalDateTime from java 8"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1562870978,"post_id":56985317,"comment_id":100525363,"body_markdown":"It displays the time zone as you have asked that with the `z` at the end of the pattern. As of displaying the time &quot;as is&quot;, there&#39;s no such thing, since there is a time zone in the input string. But, if you set the time zone configurations setting of FreeMarker to GMT+02, you will get back the time as is. Would that work?","body":"It displays the time zone as you have asked that with the <code>z</code> at the end of the pattern. As of displaying the time &quot;as is&quot;, there&#39;s no such thing, since there is a time zone in the input string. But, if you set the time zone configurations setting of FreeMarker to GMT+02, you will get back the time as is. Would that work?"},{"owner":{"account_id":1358233,"reputation":33,"user_id":1296181,"display_name":"NoobsDeSroobs"},"score":0,"creation_date":1562936914,"post_id":56985317,"comment_id":100547929,"body_markdown":"@ddekany Yes, that would work if all the dates in the template were to use the same timezone. \nIf I wanted to show `12:00+03:00 - 16:00+02:00` &quot;as is&quot; then it would be printed as `12:00 - 16:00`. If I set a template timezone, then one of the times would be off by one hour.","body":"@ddekany Yes, that would work if all the dates in the template were to use the same timezone.  If I wanted to show <code>12:00+03:00 - 16:00+02:00</code> &quot;as is&quot; then it would be printed as <code>12:00 - 16:00</code>. If I set a template timezone, then one of the times would be off by one hour."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1563035687,"post_id":56985317,"comment_id":100572331,"body_markdown":"@NoobsDeSroobs So in that case you wanted to show `12:00` and `16:00`? That&#39;s weird as then there&#39;s no single time zone where those are the proper local times. Anyway, if that&#39;s still what needed, then you have to remove the time zone from the string, as you did, so they in effect become local date-times.","body":"@NoobsDeSroobs So in that case you wanted to show <code>12:00</code> and <code>16:00</code>? That&#39;s weird as then there&#39;s no single time zone where those are the proper local times. Anyway, if that&#39;s still what needed, then you have to remove the time zone from the string, as you did, so they in effect become local date-times."},{"owner":{"account_id":1358233,"reputation":33,"user_id":1296181,"display_name":"NoobsDeSroobs"},"score":0,"creation_date":1563048337,"post_id":56985317,"comment_id":100575190,"body_markdown":"@ddekany Yes, I have the times relate to different timezones and as such I have to show the time as per those timezones. Imagine a plane ticket. The departure and arrival timezones is reflected in the date and time shown for each respectively. Thanks.","body":"@ddekany Yes, I have the times relate to different timezones and as such I have to show the time as per those timezones. Imagine a plane ticket. The departure and arrival timezones is reflected in the date and time shown for each respectively. Thanks."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1563110744,"post_id":56985317,"comment_id":100584879,"body_markdown":"@NoobsDeSroobs In that chase probably the cleanest solution is to have a `depratureTimeZone` and a `arrivalTimeZone` in the data-mode, together with the date-times with offset (not a local time). Then you can show the two time zone if you want (at least the arrival zone is probably interesting for the user), and then use `&lt;#setting time_zone=xxxTimeZone&gt;` before formatting the corresponding date-time. Anyway, maybe you have no influence on the data-model... just saying that an improper data-model is often the root of somewhat tricky use-cases on the template side.","body":"@NoobsDeSroobs In that chase probably the cleanest solution is to have a <code>depratureTimeZone</code> and a <code>arrivalTimeZone</code> in the data-mode, together with the date-times with offset (not a local time). Then you can show the two time zone if you want (at least the arrival zone is probably interesting for the user), and then use <code>&lt;#setting time_zone=xxxTimeZone&gt;</code> before formatting the corresponding date-time. Anyway, maybe you have no influence on the data-model... just saying that an improper data-model is often the root of somewhat tricky use-cases on the template side."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562835849,"creation_date":1562835849,"answer_id":56985485,"question_id":56985317,"body_markdown":"Use the class `java.time.OffsetDateTime` in order to handle the offset:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString t = &quot;2019-03-12T16:02:00+02:00&quot;;\r\n\t\tOffsetDateTime odt = OffsetDateTime.parse(t);\r\n\t\tSystem.out.println(odt.format(DateTimeFormatter.ofPattern(&quot;EEEE dd. MMMM yyyy HH:mm&quot;)));\r\n\t}\r\n\r\nThis prints `Dienstag 12. M&#228;rz 2019 16:02`, translation depends on your system default `Locale`.\r\n\r\n&gt;Note that your desired output will not be produced by correct code, because 12th March 2019 was a Tuesday and not a Monday.","title":"How to display date time as local time without the timezone at the end?","body":"<p>Use the class <code>java.time.OffsetDateTime</code> in order to handle the offset:</p>\n\n<pre><code>public static void main(String[] args) {\n    String t = \"2019-03-12T16:02:00+02:00\";\n    OffsetDateTime odt = OffsetDateTime.parse(t);\n    System.out.println(odt.format(DateTimeFormatter.ofPattern(\"EEEE dd. MMMM yyyy HH:mm\")));\n}\n</code></pre>\n\n<p>This prints <code>Dienstag 12. März 2019 16:02</code>, translation depends on your system default <code>Locale</code>.</p>\n\n<blockquote>\n  <p>Note that your desired output will not be produced by correct code, because 12th March 2019 was a Tuesday and not a Monday.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1358233,"reputation":33,"user_id":1296181,"display_name":"NoobsDeSroobs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1562847971,"creation_date":1562847971,"answer_id":56989167,"question_id":56985317,"body_markdown":"This is by far not a good solution, but it works for the one case I have where the time I want to show is in the original string before it is parsed.\r\n\r\n\r\n```\r\ndepartureScheduled?keep_before(&quot;+&quot;)?datetime.iso?string(&quot;EEEE dd. MMMM yyyy HH:mm&quot;)?capitalize\r\n```\r\nNote the __`keep_before(&quot;+&quot;)`__.\r\n\r\nThe solution above works by removing whatever is after the `+` in `2019-03-12T16:02:00+02:00`. Then, the datetime parser assumes that the time is in UTC. Thus, I avoid the entire issue by instead using a built in string manipulation function that returns the substring that will not be modified further: `2019-03-12T16:02:00(+00:00)`. The bracket shows how it is interpreted. \r\n\r\nIf anybody has a better answer I will mark that as correct, but in a few days time, if no answer has been given, I will mark this as correct for anyone who might have the same problem.","title":"How to display date time as local time without the timezone at the end?","body":"<p>This is by far not a good solution, but it works for the one case I have where the time I want to show is in the original string before it is parsed.</p>\n\n<pre><code>departureScheduled?keep_before(\"+\")?datetime.iso?string(\"EEEE dd. MMMM yyyy HH:mm\")?capitalize\n</code></pre>\n\n<p>Note the <strong><code>keep_before(\"+\")</code></strong>.</p>\n\n<p>The solution above works by removing whatever is after the <code>+</code> in <code>2019-03-12T16:02:00+02:00</code>. Then, the datetime parser assumes that the time is in UTC. Thus, I avoid the entire issue by instead using a built in string manipulation function that returns the substring that will not be modified further: <code>2019-03-12T16:02:00(+00:00)</code>. The bracket shows how it is interpreted. </p>\n\n<p>If anybody has a better answer I will mark that as correct, but in a few days time, if no answer has been given, I will mark this as correct for anyone who might have the same problem.</p>\n"},{"tags":[],"owner":{"account_id":4142568,"reputation":3246,"user_id":3397345,"accept_rate":25,"display_name":"Davideas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647801536,"creation_date":1647801536,"answer_id":71549581,"question_id":56985317,"body_markdown":"None of the answer above were good for a practical implementation so I did some experiments and this works perfect (in Java):\r\n\r\n    ZoneId userTimezone = ZoneId.of(&quot;Europe/Rome&quot;); // To provide as parameter\r\n    DateTimeFormatter formatter = DateTimeFormatter\r\n        .ofPattern(&quot;dd/MM/yyyy HH:mm&quot;)\r\n        .withZone(userTimezone);\r\n\r\n    String formattedDateTime = &lt;any instance of ZonedDateTime&gt;\r\n                .format(formatter);\r\n    // OR\r\n    String formattedDateTime = &lt;any instance of LocalDateTime&gt; // JVM with UTC time\r\n                .atZone(ZoneId.of(&quot;UTC&quot;)) // Adds timezone info &lt;- Very important\r\n                .format(formatter);       // Transforms the time at the desired zone\r\n\r\nThe string can now be used in any template/email that will be seen by the user of that time zone.\r\n\r\n    UTC Value: 20/03/2022 10:00\r\n    Output:    20/03/2022 11:00 // Without the timezone at the end","title":"How to display date time as local time without the timezone at the end?","body":"<p>None of the answer above were good for a practical implementation so I did some experiments and this works perfect (in Java):</p>\n<pre><code>ZoneId userTimezone = ZoneId.of(&quot;Europe/Rome&quot;); // To provide as parameter\nDateTimeFormatter formatter = DateTimeFormatter\n    .ofPattern(&quot;dd/MM/yyyy HH:mm&quot;)\n    .withZone(userTimezone);\n\nString formattedDateTime = &lt;any instance of ZonedDateTime&gt;\n            .format(formatter);\n// OR\nString formattedDateTime = &lt;any instance of LocalDateTime&gt; // JVM with UTC time\n            .atZone(ZoneId.of(&quot;UTC&quot;)) // Adds timezone info &lt;- Very important\n            .format(formatter);       // Transforms the time at the desired zone\n</code></pre>\n<p>The string can now be used in any template/email that will be seen by the user of that time zone.</p>\n<pre><code>UTC Value: 20/03/2022 10:00\nOutput:    20/03/2022 11:00 // Without the timezone at the end\n</code></pre>\n"}],"owner":{"account_id":1358233,"reputation":33,"user_id":1296181,"display_name":"NoobsDeSroobs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56989167,"answer_count":3,"score":2,"last_activity_date":1647801536,"creation_date":1562835384,"question_id":56985317,"body_markdown":"EDIT: Due to some seeming confusion, let me clarify. If at all possible I want the solution to be done IN freemarker and not in java.\r\n\r\nI have a datetime string that looks like this: `2019-03-12T16:02:00+02:00`\r\nI have to show this in a specific format like this: `EEEE dd. MMMM yyyy HH:mm`\r\nHowever, if I do it like this it shows the time as `14:02` instead of `16:02`. \r\nIt converts the datetime to UTC and then displays it. How do I make it display the hours and minutes as is, just without &quot;utc&quot; at the end? Or any timezone for that matter.\r\n`Tuesday 12. March 2019 16:02` is the desired output.\r\n\r\nI do not know the timezone of the recipient.\r\n\r\nUsing `iso_local_nz` gives me the american standard display which is STILL wrong. \r\n\r\nThank you in advance.\r\n\r\nI have tried just about all I can think of from here: https://freemarker.apache.org/docs/ref_builtins_date.html#ref_builtin_date_iso.\r\n\r\n```FREEMARKER\r\ndepartureScheduled?datetime.iso?string(&quot;EEEE dd. MMMM yyyy HH:mmz&quot;)?capitalize\r\n```\r\nThe configuration I use is the following:\r\n```JAVA\r\nconfig = new Configuration(Configuration.VERSION_2_3_28);\r\nconfig.setTemplateLoader(new S3TemplateLoader());\r\nconfig.setDefaultEncoding(&quot;UTF-8&quot;);\r\nconfig.setLocalizedLookup(false);\r\nconfig.setLocale(Locale.forLanguageTag(&quot;NO&quot;));\r\nconfig.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\r\n```\r\n\r\nThe string being fed in is the string I provided above.","title":"How to display date time as local time without the timezone at the end?","body":"<p>EDIT: Due to some seeming confusion, let me clarify. If at all possible I want the solution to be done IN freemarker and not in java.</p>\n\n<p>I have a datetime string that looks like this: <code>2019-03-12T16:02:00+02:00</code>\nI have to show this in a specific format like this: <code>EEEE dd. MMMM yyyy HH:mm</code>\nHowever, if I do it like this it shows the time as <code>14:02</code> instead of <code>16:02</code>. \nIt converts the datetime to UTC and then displays it. How do I make it display the hours and minutes as is, just without \"utc\" at the end? Or any timezone for that matter.\n<code>Tuesday 12. March 2019 16:02</code> is the desired output.</p>\n\n<p>I do not know the timezone of the recipient.</p>\n\n<p>Using <code>iso_local_nz</code> gives me the american standard display which is STILL wrong. </p>\n\n<p>Thank you in advance.</p>\n\n<p>I have tried just about all I can think of from here: <a href=\"https://freemarker.apache.org/docs/ref_builtins_date.html#ref_builtin_date_iso\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/ref_builtins_date.html#ref_builtin_date_iso</a>.</p>\n\n<pre><code>departureScheduled?datetime.iso?string(\"EEEE dd. MMMM yyyy HH:mmz\")?capitalize\n</code></pre>\n\n<p>The configuration I use is the following:</p>\n\n<pre><code>config = new Configuration(Configuration.VERSION_2_3_28);\nconfig.setTemplateLoader(new S3TemplateLoader());\nconfig.setDefaultEncoding(\"UTF-8\");\nconfig.setLocalizedLookup(false);\nconfig.setLocale(Locale.forLanguageTag(\"NO\"));\nconfig.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\n</code></pre>\n\n<p>The string being fed in is the string I provided above.</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1647796153,"post_id":71548829,"comment_id":126455773,"body_markdown":"First if you have written a plugin it should be installed like way to test it...I could recommend to take a look at: https://github.com/khmarbaise/maven-it-extension/ furthermore using things like [maven-invoker-plugin](https://maven.apache.org/plugins/maven-invoker-plugin/) is also a way to make integration tests for your plugin...","body":"First if you have written a plugin it should be installed like way to test it...I could recommend to take a look at: <a href=\"https://github.com/khmarbaise/maven-it-extension/\" rel=\"nofollow noreferrer\">github.com/khmarbaise/maven-it-extension</a> furthermore using things like <a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/\" rel=\"nofollow noreferrer\">maven-invoker-plugin</a> is also a way to make integration tests for your plugin..."},{"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"score":0,"creation_date":1647807723,"post_id":71548829,"comment_id":126458473,"body_markdown":"@khmarbaise Thank you for your comment this is very helpful!\nI have looked at the links and as you say, it seems there is no supported way to run those tests as part of my plugin&#39;s build. \nMeaning I can not fail my plugin build in case of IT test failures?\nIf I have to install/deploy my plugin first and then an IT fails it is too late...\n\n\nThis seems odd to me since I imaging this is a common usecase, am I missing something?","body":"@khmarbaise Thank you for your comment this is very helpful! I have looked at the links and as you say, it seems there is no supported way to run those tests as part of my plugin&#39;s build.  Meaning I can not fail my plugin build in case of IT test failures? If I have to install/deploy my plugin first and then an IT fails it is too late...   This seems odd to me since I imaging this is a common usecase, am I missing something?"},{"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"score":0,"creation_date":1647865638,"post_id":71548829,"comment_id":126470858,"body_markdown":"I have found our the invoker plugin can install the artifact in a temp repo using &quot;install&quot; goal :) This is definitely the direction I should have taken from the beginning.","body":"I have found our the invoker plugin can install the artifact in a temp repo using &quot;install&quot; goal :) This is definitely the direction I should have taken from the beginning."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1647870273,"post_id":71548829,"comment_id":126472708,"body_markdown":"The maven-it-extension does the same and can be run as the build and fail the build in case of issues...using maven-failsafe-plugin using the verfiy goal...is the way to fail the build in case of failing IT&#39;s...","body":"The maven-it-extension does the same and can be run as the build and fail the build in case of issues...using maven-failsafe-plugin using the verfiy goal...is the way to fail the build in case of failing IT&#39;s..."}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647801531,"creation_date":1647795860,"question_id":71548829,"body_markdown":"**Short version:** \\\r\nI am trying to reference a local JAR as a maven-plugin.\\\r\nIs that possible? if so, where can I find documentation for that?\r\n\r\n**Long version:**\\\r\nI know this is not recommended but this is done in an &quot;integration test&quot; context for my plugin.\\\r\nAs part of my plugin&#39;s unit tests I want to run a full &quot;clean test&quot; ([integration test][1]) cycle to a sample project.\\\r\nThis sample project needs the jar of the plugin and not necessarily the one installed on my local repository.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugin-developers/plugin-testing.html#integration-functional-testing","title":"How can I specify a direct path to a maven plugin &quot;jar&quot;?","body":"<p><strong>Short version:</strong> <br />\nI am trying to reference a local JAR as a maven-plugin.<br />\nIs that possible? if so, where can I find documentation for that?</p>\n<p><strong>Long version:</strong><br />\nI know this is not recommended but this is done in an &quot;integration test&quot; context for my plugin.<br />\nAs part of my plugin's unit tests I want to run a full &quot;clean test&quot; (<a href=\"https://maven.apache.org/plugin-developers/plugin-testing.html#integration-functional-testing\" rel=\"nofollow noreferrer\">integration test</a>) cycle to a sample project.<br />\nThis sample project needs the jar of the plugin and not necessarily the one installed on my local repository.</p>\n"},{"tags":["java","oop","arraylist","output"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1647801974,"post_id":71549546,"comment_id":126457133,"body_markdown":"1. You need to read the user input and populate the `car` fields; currently the setters do NOT set any values.  2. You need to override method `toString` in `Car` class so that the `Car` instances have appropriate string representation.","body":"1. You need to read the user input and populate the <code>car</code> fields; currently the setters do NOT set any values.  2. You need to override method <code>toString</code> in <code>Car</code> class so that the <code>Car</code> instances have appropriate string representation."},{"owner":{"account_id":13170387,"reputation":1,"user_id":9513005,"display_name":"WangJexi"},"score":0,"creation_date":1647802571,"post_id":71549546,"comment_id":126457297,"body_markdown":"@NowhereMan Sorry, couldn&#39;t understand. Can you please elaborate?","body":"@NowhereMan Sorry, couldn&#39;t understand. Can you please elaborate?"}],"owner":{"account_id":13170387,"reputation":1,"user_id":9513005,"display_name":"WangJexi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647801708,"answer_count":0,"score":0,"last_activity_date":1647801299,"creation_date":1647801299,"question_id":71549546,"body_markdown":"This is my main function: \r\n\r\n\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;CarDetails&gt; carList = new ArrayList&lt;CarDetails&gt;();\r\n\t\tString addAnother;\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\tdo {\r\n\t\t\tCarDetails car = new CarDetails();\r\n\t\t\tcar.setCarModel();\r\n\t\t\tcar.setCarType();\r\n\t\t\tcar.setCarCostPrice();\r\n\t\t\tcar.setInsuranceType();\r\n\t\t\tcar.setInsurancePremium();\r\n\t\t\tcarList.add(car);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Do you want to enter details of any other car (y/n): &quot;);\r\n\t\t\taddAnother = scan.nextLine();\r\n\t\t\t\r\n\t\t}while(addAnother.equals(&quot;y&quot;));\r\n\t\t\r\n\t\tfor(int i=0; i&lt;carList.size(); i++) {\r\n\t\t\tSystem.out.println(carList.get(i));\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\nWhen I&#39;m trying to get an output of my code, I&#39;m getting weird output. \r\nIt is my first time using an ArrayList of objects.\r\nPlease help me.\r\nThis is my output screenshot.\r\n[Output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3c6fv.png","title":"How to get a proper output of this arraylist","body":"<p>This is my main function:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;CarDetails&gt; carList = new ArrayList&lt;CarDetails&gt;();\n    String addAnother;\n    \n    Scanner scan = new Scanner(System.in);\n    \n    \n    do {\n        CarDetails car = new CarDetails();\n        car.setCarModel();\n        car.setCarType();\n        car.setCarCostPrice();\n        car.setInsuranceType();\n        car.setInsurancePremium();\n        carList.add(car);\n        \n        System.out.print(&quot;Do you want to enter details of any other car (y/n): &quot;);\n        addAnother = scan.nextLine();\n        \n    }while(addAnother.equals(&quot;y&quot;));\n    \n    for(int i=0; i&lt;carList.size(); i++) {\n        System.out.println(carList.get(i));\n    }\n    \n    \n\n}\n</code></pre>\n<p>When I'm trying to get an output of my code, I'm getting weird output.\nIt is my first time using an ArrayList of objects.\nPlease help me.\nThis is my output screenshot.\n<a href=\"https://i.stack.imgur.com/3c6fv.png\" rel=\"nofollow noreferrer\">Output</a></p>\n"},{"tags":["java","floating-point"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":3,"creation_date":1647795321,"post_id":71548717,"comment_id":126455582,"body_markdown":"How are you displaying the numbers?","body":"How are you displaying the numbers?"},{"owner":{"account_id":235400,"reputation":376,"user_id":17524790,"display_name":"R&#250;ben Dias"},"score":0,"creation_date":1647795872,"post_id":71548717,"comment_id":126455712,"body_markdown":"I am using Double.toString() to display the result.","body":"I am using Double.toString() to display the result."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647796794,"post_id":71548717,"comment_id":126455937,"body_markdown":"Add details as edits to your Question rather than as Comments.","body":"Add details as edits to your Question rather than as Comments."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1647797184,"post_id":71548717,"comment_id":126456010,"body_markdown":"What happens if you use `StrictMath`?","body":"What happens if you use <code>StrictMath</code>?"},{"owner":{"account_id":235400,"reputation":376,"user_id":17524790,"display_name":"R&#250;ben Dias"},"score":0,"creation_date":1647797399,"post_id":71548717,"comment_id":126456055,"body_markdown":"With StrictMath, the JDK 13 result matches the JDK 8 result. Oki Doki.","body":"With StrictMath, the JDK 13 result matches the JDK 8 result. Oki Doki."},{"owner":{"account_id":1489317,"reputation":9140,"user_id":1396822,"accept_rate":82,"display_name":"aka.nice"},"score":1,"creation_date":1647883268,"post_id":71548717,"comment_id":126478232,"body_markdown":"For what it&#39;s worth, using libraries wih arbitrary precision, we can show that exact cos of nearest double to 2.3 extends like this ...302fe09b9492... Thus the exact value is in between the two, nearer to the JDK 13 output.","body":"For what it&#39;s worth, using libraries wih arbitrary precision, we can show that exact cos of nearest double to 2.3 extends like this ...302fe09b9492... Thus the exact value is in between the two, nearer to the JDK 13 output."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1647800202,"creation_date":1647800202,"answer_id":71549434,"question_id":71548717,"body_markdown":"This seems to be caused by a JVM intrinsic function for `Math.cos`, which is described in the related issue [JDK-8242461](https://bugs.openjdk.java.net/browse/JDK-8242461). The behavior experienced there is not considered an issue:\r\n\r\n&gt; The returned results reported in this bug are indeed adjacent floating-point values [_this is the case here as well_]\r\n&gt; \r\n&gt; [...]\r\n&gt;\r\n&gt; Therefore, while it is possible one or the other of the returned values is outside of the accuracy bounds, just have different return values for Math.cos is not in and of itself evidence of a problem.\r\n&gt; \r\n&gt; For reproducible results, use the StrictMath.cos instead. \r\n\r\nAnd indeed, disabling the intrinsics using `-XX:+UnlockDiagnosticVMOptions -XX:DisableIntrinsic=_dcos` (as proposed in the linked issue), causes `Math.cos` to have the same (expected) result as `StrictMath.cos`.\r\n\r\nSo it appears the behavior you are seeing here is most likely compliant with the `Math` documentation as well.","title":"Differences in floating point between JDK 8 and JDK 13","body":"<p>This seems to be caused by a JVM intrinsic function for <code>Math.cos</code>, which is described in the related issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8242461\" rel=\"noreferrer\">JDK-8242461</a>. The behavior experienced there is not considered an issue:</p>\n<blockquote>\n<p>The returned results reported in this bug are indeed adjacent floating-point values [<em>this is the case here as well</em>]</p>\n<p>[...]</p>\n<p>Therefore, while it is possible one or the other of the returned values is outside of the accuracy bounds, just have different return values for Math.cos is not in and of itself evidence of a problem.</p>\n<p>For reproducible results, use the StrictMath.cos instead.</p>\n</blockquote>\n<p>And indeed, disabling the intrinsics using <code>-XX:+UnlockDiagnosticVMOptions -XX:DisableIntrinsic=_dcos</code> (as proposed in the linked issue), causes <code>Math.cos</code> to have the same (expected) result as <code>StrictMath.cos</code>.</p>\n<p>So it appears the behavior you are seeing here is most likely compliant with the <code>Math</code> documentation as well.</p>\n"}],"owner":{"account_id":235400,"reputation":376,"user_id":17524790,"display_name":"R&#250;ben Dias"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":71549434,"answer_count":1,"score":10,"last_activity_date":1647800202,"creation_date":1647795010,"question_id":71548717,"body_markdown":"It seems that JDK 8 and JDK 13 have different floating points.  \r\nI get on JDK 8, using Math:\r\n```\r\ncos(2.3) = -0.666276021279824\r\n```\r\nAnd on JDK 13:\r\n```\r\ncos(2.3) = -0.6662760212798241\r\n```\r\nHow does this happen? Difference shows on 11th Gen Intel and on AMD Ryzen using Windows 10.\r\n\r\n**Edit 20.03.2022:**  \r\nUsing Long.toHexString(Double.doubleToRawLongBits()) I get different bit patterns:  \r\nI get on JDK 8:\r\n```\r\ncos(2.3) = 0xbfe5522217302fe0\r\n```\r\nAnd I get on JDK 13:\r\n```\r\ncos(2.3) = 0xbfe5522217302fe1\r\n```\r\n\r\n","title":"Differences in floating point between JDK 8 and JDK 13","body":"<p>It seems that JDK 8 and JDK 13 have different floating points.<br />\nI get on JDK 8, using Math:</p>\n<pre><code>cos(2.3) = -0.666276021279824\n</code></pre>\n<p>And on JDK 13:</p>\n<pre><code>cos(2.3) = -0.6662760212798241\n</code></pre>\n<p>How does this happen? Difference shows on 11th Gen Intel and on AMD Ryzen using Windows 10.</p>\n<p><strong>Edit 20.03.2022:</strong><br />\nUsing Long.toHexString(Double.doubleToRawLongBits()) I get different bit patterns:<br />\nI get on JDK 8:</p>\n<pre><code>cos(2.3) = 0xbfe5522217302fe0\n</code></pre>\n<p>And I get on JDK 13:</p>\n<pre><code>cos(2.3) = 0xbfe5522217302fe1\n</code></pre>\n"},{"tags":["java","string","java-stream","reverse"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647800190,"creation_date":1647779355,"answer_id":71546748,"question_id":71546463,"body_markdown":"1. Split the string _keeping the delimiters_\r\n2. Collect the chunks using custom collector with the `StringBuilder::insert` method, or simpler `Stream::reduce`:\r\n```java\r\nString str = &quot;Hi hello stack over flow&quot;;\r\n\r\nSystem.out.println(&quot;&#39;&quot; + \r\n    Arrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\r\n    .collect(StringBuilder::new, (sb, s) -&gt; sb.insert(0, s), StringBuilder::append)\r\n    .toString()\r\n    + &quot;&#39;&quot;\r\n);\r\n\r\nSystem.out.println(&quot;&#39;&quot; + \r\n    Arrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\r\n          .reduce(&quot;&quot;, (acc, s) -&gt; s + acc)\r\n    + &quot;&#39;&quot;\r\n);\r\n```\r\nOutput:\r\n```\r\n&#39;flow over stack hello Hi&#39;\r\n&#39;flow over stack hello Hi&#39;\r\n```","title":"How to reverse the sentence using streams in java","body":"<ol>\n<li>Split the string <em>keeping the delimiters</em></li>\n<li>Collect the chunks using custom collector with the <code>StringBuilder::insert</code> method, or simpler <code>Stream::reduce</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Hi hello stack over flow&quot;;\n\nSystem.out.println(&quot;'&quot; + \n    Arrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\n    .collect(StringBuilder::new, (sb, s) -&gt; sb.insert(0, s), StringBuilder::append)\n    .toString()\n    + &quot;'&quot;\n);\n\nSystem.out.println(&quot;'&quot; + \n    Arrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\n          .reduce(&quot;&quot;, (acc, s) -&gt; s + acc)\n    + &quot;'&quot;\n);\n</code></pre>\n<p>Output:</p>\n<pre><code>'flow over stack hello Hi'\n'flow over stack hello Hi'\n</code></pre>\n"}],"owner":{"account_id":4686674,"reputation":13,"user_id":3793927,"display_name":"user3793927"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1647780505,"answer_count":1,"score":-3,"last_activity_date":1647800190,"creation_date":1647776964,"question_id":71546463,"body_markdown":"i would like to reverse the sentence using streams api in java\r\n\r\neg: input --&gt; Hi hello stack over flow\r\n\r\noutput --&gt; flow over stack hello Hi","title":"How to reverse the sentence using streams in java","body":"<p>i would like to reverse the sentence using streams api in java</p>\n<p>eg: input --&gt; Hi hello stack over flow</p>\n<p>output --&gt; flow over stack hello Hi</p>\n"},{"tags":["java","future","executorservice"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1647103605,"post_id":71451466,"comment_id":126291593,"body_markdown":"Cancellation of futures is cooperative, and given your task is not actually cancellable, cancellation does nothing.","body":"Cancellation of futures is cooperative, and given your task is not actually cancellable, cancellation does nothing."},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1647103687,"post_id":71451466,"comment_id":126291609,"body_markdown":"Since the external library is not cooperating, what options do I have?","body":"Since the external library is not cooperating, what options do I have?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1647103927,"post_id":71451466,"comment_id":126291654,"body_markdown":"Given the task is even ignoring interruption, it&#39;s either a native library (interruption is only within Java), or doing something that doesn&#39;t check for interruption, or it was written to actively ignore interruptions (i.e. continue on as if nothing happened). I don&#39;t think you can do anything in this case beyond to switching to another library or filing a bug report with whoever maintains this library.","body":"Given the task is even ignoring interruption, it&#39;s either a native library (interruption is only within Java), or doing something that doesn&#39;t check for interruption, or it was written to actively ignore interruptions (i.e. continue on as if nothing happened). I don&#39;t think you can do anything in this case beyond to switching to another library or filing a bug report with whoever maintains this library."},{"owner":{"account_id":24507686,"reputation":51,"user_id":18422455,"display_name":"Sachin"},"score":0,"creation_date":1647105797,"post_id":71451466,"comment_id":126292081,"body_markdown":"You might be looking for timeouts.\nHave a look at https://stackoverflow.com/questions/71322315/java-8-mulithreading-how-to-achieve-parallelism-alongwith-timeout-for-individua","body":"You might be looking for timeouts. Have a look at <a href=\"https://stackoverflow.com/questions/71322315/java-8-mulithreading-how-to-achieve-parallelism-alongwith-timeout-for-individua\" title=\"java 8 mulithreading how to achieve parallelism alongwith timeout for individua\">stackoverflow.com/questions/71322315/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647106183,"post_id":71451466,"comment_id":126292162,"body_markdown":"@Sachin That wouldn&#39;t stop the external library from doing work, it will complete the future exceptionally, but the library will continue doing whatever it&#39;s doing.","body":"@Sachin That wouldn&#39;t stop the external library from doing work, it will complete the future exceptionally, but the library will continue doing whatever it&#39;s doing."},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1647112489,"post_id":71451466,"comment_id":126293174,"body_markdown":"@MarkRotteveel `Thread.stop()` is doing the trick! I read it shouldn&#39;t be used, but it seems it&#39;s the best solution [so far] to this problem.","body":"@MarkRotteveel <code>Thread.stop()</code> is doing the trick! I read it shouldn&#39;t be used, but it seems it&#39;s the best solution [so far] to this problem."},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1647113052,"post_id":71451466,"comment_id":126293268,"body_markdown":"@JoeDiNottra you should try Thread.interrupt() first; if that doesn&#39;t work then Thread.stop() can be used as a last resort","body":"@JoeDiNottra you should try Thread.interrupt() first; if that doesn&#39;t work then Thread.stop() can be used as a last resort"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1647162557,"post_id":71451466,"comment_id":126297508,"body_markdown":"@Charlie The OP is using interruption, that is what the `true` in `cancel(true)` does.","body":"@Charlie The OP is using interruption, that is what the <code>true</code> in <code>cancel(true)</code> does."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1647162588,"post_id":71451466,"comment_id":126297515,"body_markdown":"@JoeDiNottra You really shouldn&#39;t use `Thread.stop`, it can cause deadlocks and other problems.","body":"@JoeDiNottra You really shouldn&#39;t use <code>Thread.stop</code>, it can cause deadlocks and other problems."}],"answers":[{"tags":[],"owner":{"account_id":24507686,"reputation":51,"user_id":18422455,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647112524,"creation_date":1647112524,"answer_id":71452444,"question_id":71451466,"body_markdown":"@joe That is correct. Unless you have control over the thread and inside the thread you can&#39;t kill it. \r\n\r\n    this.extlib.doSomething();\r\nif this line starts a thread then we need to get hold of that thread to kill it as we don&#39;t have reference to stop it.","title":"How do I kill a Java Future?","body":"<p>@joe That is correct. Unless you have control over the thread and inside the thread you can't kill it.</p>\n<pre><code>this.extlib.doSomething();\n</code></pre>\n<p>if this line starts a thread then we need to get hold of that thread to kill it as we don't have reference to stop it.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647116582,"creation_date":1647113638,"answer_id":71452564,"question_id":71451466,"body_markdown":"If I understand your requirement correctly &amp; based on your requirement (i.e. 1 thread), you can look for shutting down `executorservice` in 2 phases, code is available in [java doc][1] of executorservice: \r\n\r\n    try {\r\n          Integer r = f.get(120, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n          e.printStackTrace();\r\n          //f.cancel(true);  you can omit this call if you wish. \r\n          shutdownAndAwaitTermination(queue);\r\n        } ... //remaining method code\r\n   \r\n\r\n    void shutdownAndAwaitTermination(ExecutorService pool) {\r\n       pool.shutdown(); // Disable new tasks from being submitted\r\n       try {\r\n         // Wait a while for existing tasks to terminate\r\n         if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n           pool.shutdownNow(); // Cancel currently executing tasks\r\n           // Wait a while for tasks to respond to being cancelled\r\n           if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n               System.err.println(&quot;Pool did not terminate&quot;);\r\n         }\r\n       } catch (InterruptedException ie) {\r\n         // (Re-)Cancel if current thread also interrupted\r\n         pool.shutdownNow();\r\n         // Preserve interrupt status\r\n         Thread.currentThread().interrupt();\r\n       }\r\n     }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\r\n\r\nPlease read documentation about `shutdown()` , `shutdownNow()` how they behaves because it clearly mentions there is no 100% guarantee that tasks / executorservice will get stopped if its running.","title":"How do I kill a Java Future?","body":"<p>If I understand your requirement correctly &amp; based on your requirement (i.e. 1 thread), you can look for shutting down <code>executorservice</code> in 2 phases, code is available in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">java doc</a> of executorservice:</p>\n<pre><code>try {\n      Integer r = f.get(120, TimeUnit.SECONDS);\n    } catch (InterruptedException | ExecutionException | TimeoutException e) {\n      e.printStackTrace();\n      //f.cancel(true);  you can omit this call if you wish. \n      shutdownAndAwaitTermination(queue);\n    } ... //remaining method code\n\n\nvoid shutdownAndAwaitTermination(ExecutorService pool) {\n   pool.shutdown(); // Disable new tasks from being submitted\n   try {\n     // Wait a while for existing tasks to terminate\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n       pool.shutdownNow(); // Cancel currently executing tasks\n       // Wait a while for tasks to respond to being cancelled\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n           System.err.println(&quot;Pool did not terminate&quot;);\n     }\n   } catch (InterruptedException ie) {\n     // (Re-)Cancel if current thread also interrupted\n     pool.shutdownNow();\n     // Preserve interrupt status\n     Thread.currentThread().interrupt();\n   }\n }\n</code></pre>\n<p>Please read documentation about <code>shutdown()</code> , <code>shutdownNow()</code> how they behaves because it clearly mentions there is no 100% guarantee that tasks / executorservice will get stopped if its running.</p>\n"},{"tags":[],"owner":{"account_id":3411733,"reputation":251,"user_id":2861499,"display_name":"David B.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647533052,"creation_date":1647533052,"answer_id":71515539,"question_id":71451466,"body_markdown":"In your code, the call:\r\n\r\n    this.extlib.doSomething()\r\n\r\nmust be synchronous, because if it is not, the code lost sense. With that assumption, you can try:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Future&lt;Integer&gt; future = executor.submit(new MyTask());\r\n    try {\r\n    \tfuture.get(120, TimeUnit.SECONDS);\r\n    } catch (InterruptedException | ExecutionException e) {\r\n    \te.printStackTrace();\r\n    } catch (TimeoutException e) {\r\n    \tfuture.cancel(true);\r\n    } finally {\r\n    \texecutor.shutdownNow();\r\n    }\r\n\r\nIf this doesn&#39;t stop the `doSomethig` work is because this `doSomething` function is opening other threads to do the work. In that case, maybe you can check the threads that are running with:\r\n\r\n    Thread.getAllStackTraces()\r\n\r\nAnd try to kill the right one...\r\n","title":"How do I kill a Java Future?","body":"<p>In your code, the call:</p>\n<pre><code>this.extlib.doSomething()\n</code></pre>\n<p>must be synchronous, because if it is not, the code lost sense. With that assumption, you can try:</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;Integer&gt; future = executor.submit(new MyTask());\ntry {\n    future.get(120, TimeUnit.SECONDS);\n} catch (InterruptedException | ExecutionException e) {\n    e.printStackTrace();\n} catch (TimeoutException e) {\n    future.cancel(true);\n} finally {\n    executor.shutdownNow();\n}\n</code></pre>\n<p>If this doesn't stop the <code>doSomethig</code> work is because this <code>doSomething</code> function is opening other threads to do the work. In that case, maybe you can check the threads that are running with:</p>\n<pre><code>Thread.getAllStackTraces()\n</code></pre>\n<p>And try to kill the right one...</p>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647623828,"creation_date":1647623828,"answer_id":71530845,"question_id":71451466,"body_markdown":"Even if you could kill the future hanging in the buggy library, this does likely not solve your problem. The library might still have acquired some resource which will not be properly clean up. This might be memory allocations, open file handles or even monitors leaving some internal data structures in an inconsistent state. Eventually you will likely be back at the point where you have to restart your JVM. \r\n\r\nThere&#39;s basically two options: **Fix** or **isolate** it.\r\n\r\n 1. Fix: try to get the library fixed. If this is not possible,\r\n 2. isolate: isolate the library into a external service your application depends on. E.g. implement a REST API for calling the library and wrap everything up into a Docker image. Automate restarting of the Docker container as needed. ","title":"How do I kill a Java Future?","body":"<p>Even if you could kill the future hanging in the buggy library, this does likely not solve your problem. The library might still have acquired some resource which will not be properly clean up. This might be memory allocations, open file handles or even monitors leaving some internal data structures in an inconsistent state. Eventually you will likely be back at the point where you have to restart your JVM.</p>\n<p>There's basically two options: <strong>Fix</strong> or <strong>isolate</strong> it.</p>\n<ol>\n<li>Fix: try to get the library fixed. If this is not possible,</li>\n<li>isolate: isolate the library into a external service your application depends on. E.g. implement a REST API for calling the library and wrap everything up into a Docker image. Automate restarting of the Docker container as needed.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647631607,"creation_date":1647630941,"answer_id":71532146,"question_id":71451466,"body_markdown":"As others have mentioned, stopping a `Future` is cooperative, meaning, the thread running async must respond to cancellation from the waiting thread. If the async task isn&#39;t cooperative simply invoking `shutdown` or `shutdownNow` won&#39;t be enough as the underlying TPE will just `interrupt` the threads.\r\n\r\nIf you have no control over `extlib`, and `extlib` is not cooperative, I see two options\r\n\r\n1. You can `stop` the thread currently running. This can cause issues if the thread being stopped currently is holding a lock or some other resource. It can lead to interesting bugs that could be hard to dissect.  \r\n2. This could take some more work, but you could run the async task as a separate process entirely. The TPE can still run the process and, on interruption, can `destroy` the process. This obviously has more interesting issues like how to load the process with required input.\r\n","title":"How do I kill a Java Future?","body":"<p>As others have mentioned, stopping a <code>Future</code> is cooperative, meaning, the thread running async must respond to cancellation from the waiting thread. If the async task isn't cooperative simply invoking <code>shutdown</code> or <code>shutdownNow</code> won't be enough as the underlying TPE will just <code>interrupt</code> the threads.</p>\n<p>If you have no control over <code>extlib</code>, and <code>extlib</code> is not cooperative, I see two options</p>\n<ol>\n<li>You can <code>stop</code> the thread currently running. This can cause issues if the thread being stopped currently is holding a lock or some other resource. It can lead to interesting bugs that could be hard to dissect.</li>\n<li>This could take some more work, but you could run the async task as a separate process entirely. The TPE can still run the process and, on interruption, can <code>destroy</code> the process. This obviously has more interesting issues like how to load the process with required input.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5168218,"reputation":234,"user_id":4137589,"display_name":"Pradeep Krishna Govindaraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647800139,"creation_date":1647800139,"answer_id":71549426,"question_id":71451466,"body_markdown":"Unfortunately if the external library is not co-operating to thread interrupts, there is nothing you can do to kill the `Thread` running the task managed by the `ExecutorService`. \r\n\r\nAn alternative that I can think of is to run the offending code as a separate process. Using `ProcessBuilder` and `Process`, your task can effectively control (or) even kill the offending process after a timeout (https://docs.oracle.com/javase/9/docs/api/java/lang/Process.html#destroyForcibly--).\r\n\r\nAlso see https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessBuilder.html","title":"How do I kill a Java Future?","body":"<p>Unfortunately if the external library is not co-operating to thread interrupts, there is nothing you can do to kill the <code>Thread</code> running the task managed by the <code>ExecutorService</code>.</p>\n<p>An alternative that I can think of is to run the offending code as a separate process. Using <code>ProcessBuilder</code> and <code>Process</code>, your task can effectively control (or) even kill the offending process after a timeout (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Process.html#destroyForcibly--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/Process.html#destroyForcibly--</a>).</p>\n<p>Also see <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessBuilder.html</a></p>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1549,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1647800139,"creation_date":1647103397,"question_id":71451466,"body_markdown":"\r\nThe service I&#39;m working on uses a Future to run multiple tasks in parallel; each task can take up to a minute to complete. However, it seems the external lib is buggy, since in some occasions (2% of the time) it doesn&#39;t return. In those cases I would like to give a 2-minute wait time, and if it hasn&#39;t returned, I would like to kill the future and re-schedule again later (it will succeed eventually).\r\n\r\nHow do I kill the Future?\r\n\r\n      private void run() {\r\n        ExecutorService queue = Executors.newFixedThreadPool(1);\r\n    \r\n        Future&lt;Integer&gt; f = queue.submit(new MyTask());\r\n        Thread.sleep(500);\r\n    \r\n        try {\r\n          Integer r = f.get(120, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n          e.printStackTrace();\r\n          f.cancel(true);\r\n        }\r\n\r\n        // Bad future still running here and I need it dead.\r\n    \r\n      }\r\n    \r\n      private class MyTask implements Callable&lt;Integer&gt; {\r\n        private ExternalLibrary extlib = new ExternalLibrary();\r\n    \r\n        @Override\r\n        public Integer call() throws Exception {\r\n          // step 1 - do a few things\r\n    \r\n          // step 2 - process data\r\n          Integer val = this.extlib.doSomething(); // here&#39;s the problem!\r\n    \r\n          // step 3 - do other things\r\n    \r\n          return val;\r\n        }\r\n    \r\n      }\r\n\r\nI can see the external lib running and consuming CPU (for 24 hours)... doing nothing. It&#39;s a simple task that should never take more than 60 seconds to complete its work.\r\n\r\nSo far, I&#39;m killing the whole JVM once a day to get rid of this issue, but I&#39;m sure there must be a better way. I wonder how app servers (Tomcat, JBoss, Weblogic, etc.) do it with rogue processes.\r\n\r\n\r\n\r\n\r\n","title":"How do I kill a Java Future?","body":"<p>The service I'm working on uses a Future to run multiple tasks in parallel; each task can take up to a minute to complete. However, it seems the external lib is buggy, since in some occasions (2% of the time) it doesn't return. In those cases I would like to give a 2-minute wait time, and if it hasn't returned, I would like to kill the future and re-schedule again later (it will succeed eventually).</p>\n<p>How do I kill the Future?</p>\n<pre><code>  private void run() {\n    ExecutorService queue = Executors.newFixedThreadPool(1);\n\n    Future&lt;Integer&gt; f = queue.submit(new MyTask());\n    Thread.sleep(500);\n\n    try {\n      Integer r = f.get(120, TimeUnit.SECONDS);\n    } catch (InterruptedException | ExecutionException | TimeoutException e) {\n      e.printStackTrace();\n      f.cancel(true);\n    }\n\n    // Bad future still running here and I need it dead.\n\n  }\n\n  private class MyTask implements Callable&lt;Integer&gt; {\n    private ExternalLibrary extlib = new ExternalLibrary();\n\n    @Override\n    public Integer call() throws Exception {\n      // step 1 - do a few things\n\n      // step 2 - process data\n      Integer val = this.extlib.doSomething(); // here's the problem!\n\n      // step 3 - do other things\n\n      return val;\n    }\n\n  }\n</code></pre>\n<p>I can see the external lib running and consuming CPU (for 24 hours)... doing nothing. It's a simple task that should never take more than 60 seconds to complete its work.</p>\n<p>So far, I'm killing the whole JVM once a day to get rid of this issue, but I'm sure there must be a better way. I wonder how app servers (Tomcat, JBoss, Weblogic, etc.) do it with rogue processes.</p>\n"},{"tags":["java","inheritance","null"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647800082,"creation_date":1647799757,"answer_id":71549366,"question_id":71549285,"body_markdown":"You only set name in the Employee parent class in the `emp()` method here:\r\n\r\n```\r\npublic void emp() {        \r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Name: &quot;);\r\n    Name = scan.nextLine();  // here!\r\n}\r\n```\r\n\r\nAnd yes, you give your child classes the same method and override and call it, but you never call the parent&#39;s version of the method, the `super.emp()` method, and so the name field never gets set.\r\n\r\nA solution would be to call the `super.emp()` in your overrides, but this isn&#39;t good as it breaks the &quot;single responsibility principle&quot;. And Employee should be responsible for Employee data and behaviors, but shouldn&#39;t be also responsible for handling a Scanner object and getting *direct* input from the user. Also, there are potential dangers from creating multiple Scanner objects based on `System.in`.\r\n\r\nMuch better, get all I/O, all use of Scanner, out of the Employee class and its children. The I/O should be in the main method (for this code) and instead, set name in the Employee constructor, and by calling the super constructor in the child classes, or by directly calling `.setName(...)` on any instances created.\r\n\r\ne.g.,\r\n\r\n\r\n```\r\nclass Employee {\r\n    public String name;\r\n\t\r\n\tpublic Employee(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic Employee() {\r\n\t\tthis(null);\r\n\t}\r\n    \r\n    public void setName(String Name) {\r\n        this.Name = Name;\r\n    }\r\n    \r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\t\r\n\t\r\n\t// get rid of this\r\n\t/* \r\n    public void emp()  {        \r\n    Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Name: &quot;);\r\n            Name = scan.nextLine();\r\n    }\r\n\t*/\r\n}\r\n```\r\n\r\n```\r\npublic class FullTimeEmployee extends Employee {\r\n    private double monthlySalary;\r\n    // Scanner scan = new Scanner(System.in); // *** get rid of this!\r\n\t\r\n\tpublic FullTimeEmployee(String name) {\r\n\t\tsuper(name);\r\n\t}\r\n\t\r\n\tpublic FullTimeEmployee() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n    public void setMonthSalary(double monthlySalary) {\r\n        this.monthlySalary = monthlySalary;\r\n    }\r\n    \r\n    public double getMonthlySalary() {\r\n        return monthlySalary;\r\n    }\r\n    \r\n\t/*    // get rid of this!\r\n    @Override\r\n    public void emp() {\r\n    System.out.println(&quot;Enter monthly salary: &quot;);\r\n    monthlySalary = scan.nextDouble();\r\n    System.out.println(&quot;Name: &quot; + getName());\r\n    System.out.println();\r\n    System.out.println(&quot;Monthly Salary: &quot; + monthlySalary);\r\n    }\r\n\t*/\r\n}\r\n```\r\n\r\nand then again, put all Scanner code in the main method.\r\n\r\n________________________________\r\n\r\nRegarding variable `public String Name;`\r\n\r\nAs an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.\r\n\r\nAlso, avoid using public fields unless absolutely necessary. Better to make this field protected, or even better yet, make it private.","title":"3 subclass and 1 main class inheritance, but shows null in output in java?","body":"<p>You only set name in the Employee parent class in the <code>emp()</code> method here:</p>\n<pre><code>public void emp() {        \n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter Name: &quot;);\n    Name = scan.nextLine();  // here!\n}\n</code></pre>\n<p>And yes, you give your child classes the same method and override and call it, but you never call the parent's version of the method, the <code>super.emp()</code> method, and so the name field never gets set.</p>\n<p>A solution would be to call the <code>super.emp()</code> in your overrides, but this isn't good as it breaks the &quot;single responsibility principle&quot;. And Employee should be responsible for Employee data and behaviors, but shouldn't be also responsible for handling a Scanner object and getting <em>direct</em> input from the user. Also, there are potential dangers from creating multiple Scanner objects based on <code>System.in</code>.</p>\n<p>Much better, get all I/O, all use of Scanner, out of the Employee class and its children. The I/O should be in the main method (for this code) and instead, set name in the Employee constructor, and by calling the super constructor in the child classes, or by directly calling <code>.setName(...)</code> on any instances created.</p>\n<p>e.g.,</p>\n<pre><code>class Employee {\n    public String name;\n    \n    public Employee(String name) {\n        this.name = name;\n    }\n    \n    public Employee() {\n        this(null);\n    }\n    \n    public void setName(String Name) {\n        this.Name = Name;\n    }\n    \n    public String getName() {\n        return Name;\n    }\n    \n    \n    // get rid of this\n    /* \n    public void emp()  {        \n    Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter Name: &quot;);\n            Name = scan.nextLine();\n    }\n    */\n}\n</code></pre>\n<pre><code>public class FullTimeEmployee extends Employee {\n    private double monthlySalary;\n    // Scanner scan = new Scanner(System.in); // *** get rid of this!\n    \n    public FullTimeEmployee(String name) {\n        super(name);\n    }\n    \n    public FullTimeEmployee() {\n        super();\n    }\n    \n    public void setMonthSalary(double monthlySalary) {\n        this.monthlySalary = monthlySalary;\n    }\n    \n    public double getMonthlySalary() {\n        return monthlySalary;\n    }\n    \n    /*    // get rid of this!\n    @Override\n    public void emp() {\n    System.out.println(&quot;Enter monthly salary: &quot;);\n    monthlySalary = scan.nextDouble();\n    System.out.println(&quot;Name: &quot; + getName());\n    System.out.println();\n    System.out.println(&quot;Monthly Salary: &quot; + monthlySalary);\n    }\n    */\n}\n</code></pre>\n<p>and then again, put all Scanner code in the main method.</p>\n<hr />\n<p>Regarding variable <code>public String Name;</code></p>\n<p>As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.</p>\n<p>Also, avoid using public fields unless absolutely necessary. Better to make this field protected, or even better yet, make it private.</p>\n"}],"owner":{"account_id":24621571,"reputation":1,"user_id":18521851,"display_name":"lauuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647800118,"creation_date":1647799148,"question_id":71549285,"body_markdown":"I&#39;m starting to get into coding. My formats are bad, but I wanna see first if my idea for the program works then correct it later on. This is program consists of the main class (Employee), then two subclasses that inherit from the main class (Part-Time and Full-Time employees) The code works but I encountered null in my employee&#39;s name output in this code or maybe I missed something. Any help, correction, or advice would be great! Thank you\r\n\r\n\r\n\r\nMain Class\r\n\r\n\r\n    class Employee {\r\n        public String Name;\r\n        \r\n        public void setName(String Name) \r\n        {\r\n            this.Name = Name;\r\n        }\r\n        \r\n        public String getName() \r\n        {\r\n            return Name;\r\n        }\r\n        public void emp() \r\n        {        \r\n        Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter Name: &quot;);\r\n                Name = scan.nextLine();\r\n        }\r\n    }\r\n\r\nSubclass FullTimeEmployee\r\n\r\n\r\n    class FullTimeEmployee extends Employee {\r\n        private double monthlySalary;\r\n        Scanner scan = new Scanner(System.in);\r\n        public void setMonthSalary(double monthlySalary) {\r\n            this.monthlySalary = monthlySalary;\r\n        }\r\n        \r\n        public double getMonthlySalary() {\r\n            return monthlySalary;\r\n        }\r\n        \r\n        @Override\r\n        public void emp() {\r\n        System.out.println(&quot;Enter monthly salary: &quot;);\r\n        monthlySalary = scan.nextDouble();\r\n        System.out.println(&quot;Name: &quot; + getName());\r\n        System.out.println();\r\n        System.out.println(&quot;Monthly Salary: &quot; + monthlySalary);\r\n        }\r\n    }\r\n\r\n\r\nsubclass PartTimeEmployee\r\n\r\n\r\n    public class PartTimeEmployee extends Employee {\r\n        Scanner scan = new Scanner(System.in);\r\n        private double ratePerHour;\r\n        private int hoursWorked;\r\n        private double wage;\r\n        \r\n        \r\n        public void setWage(double wage) {\r\n            this.wage = wage;\r\n        }\r\n        \r\n        public double getWage() {\r\n            return wage;\r\n            \r\n        }\r\n        \r\n        @Override\r\n        public void emp() {\r\n        System.out.println(&quot;Enter rate per hour and no of hours worked separated by space: &quot;);\r\n        ratePerHour = scan.nextDouble();\r\n        hoursWorked = scan.nextInt();\r\n        System.out.println(&quot;Name: &quot; + getName());\r\n        wage = ratePerHour * hoursWorked;\r\n        System.out.println(&quot;Wage: &quot; + wage);\r\n        \r\n        }\r\n    }\r\n\r\n\r\n\r\nRunEmployee\r\n\r\n\r\n    public class RunEmployee {\r\n    \r\n\r\n        public static void main(String[] args) \r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n            Employee emp1 = new Employee();\r\n            FullTimeEmployee fte = new FullTimeEmployee();\r\n            PartTimeEmployee pte = new PartTimeEmployee();\r\n           \r\n            emp1.emp();\r\n            System.out.println(&quot;Press F for Full Time or P for Part Time: &quot;);\r\n            char select = scan.nextLine().charAt(0);\r\n            if(select == &#39;F&#39;) {\r\n                fte.emp();\r\n            } else if (select ==&#39;P&#39;) {\r\n                pte.emp();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOUTPUT OF BOTH\r\n\r\n    Enter monthly salary: \r\n    500\r\n    Name: null\r\n\r\n\r\n","title":"3 subclass and 1 main class inheritance, but shows null in output in java?","body":"<p>I'm starting to get into coding. My formats are bad, but I wanna see first if my idea for the program works then correct it later on. This is program consists of the main class (Employee), then two subclasses that inherit from the main class (Part-Time and Full-Time employees) The code works but I encountered null in my employee's name output in this code or maybe I missed something. Any help, correction, or advice would be great! Thank you</p>\n<p>Main Class</p>\n<pre><code>class Employee {\n    public String Name;\n    \n    public void setName(String Name) \n    {\n        this.Name = Name;\n    }\n    \n    public String getName() \n    {\n        return Name;\n    }\n    public void emp() \n    {        \n    Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter Name: &quot;);\n            Name = scan.nextLine();\n    }\n}\n</code></pre>\n<p>Subclass FullTimeEmployee</p>\n<pre><code>class FullTimeEmployee extends Employee {\n    private double monthlySalary;\n    Scanner scan = new Scanner(System.in);\n    public void setMonthSalary(double monthlySalary) {\n        this.monthlySalary = monthlySalary;\n    }\n    \n    public double getMonthlySalary() {\n        return monthlySalary;\n    }\n    \n    @Override\n    public void emp() {\n    System.out.println(&quot;Enter monthly salary: &quot;);\n    monthlySalary = scan.nextDouble();\n    System.out.println(&quot;Name: &quot; + getName());\n    System.out.println();\n    System.out.println(&quot;Monthly Salary: &quot; + monthlySalary);\n    }\n}\n</code></pre>\n<p>subclass PartTimeEmployee</p>\n<pre><code>public class PartTimeEmployee extends Employee {\n    Scanner scan = new Scanner(System.in);\n    private double ratePerHour;\n    private int hoursWorked;\n    private double wage;\n    \n    \n    public void setWage(double wage) {\n        this.wage = wage;\n    }\n    \n    public double getWage() {\n        return wage;\n        \n    }\n    \n    @Override\n    public void emp() {\n    System.out.println(&quot;Enter rate per hour and no of hours worked separated by space: &quot;);\n    ratePerHour = scan.nextDouble();\n    hoursWorked = scan.nextInt();\n    System.out.println(&quot;Name: &quot; + getName());\n    wage = ratePerHour * hoursWorked;\n    System.out.println(&quot;Wage: &quot; + wage);\n    \n    }\n}\n</code></pre>\n<p>RunEmployee</p>\n<pre><code>public class RunEmployee {\n\n\n    public static void main(String[] args) \n    {\n        Scanner scan = new Scanner(System.in);\n        Employee emp1 = new Employee();\n        FullTimeEmployee fte = new FullTimeEmployee();\n        PartTimeEmployee pte = new PartTimeEmployee();\n       \n        emp1.emp();\n        System.out.println(&quot;Press F for Full Time or P for Part Time: &quot;);\n        char select = scan.nextLine().charAt(0);\n        if(select == 'F') {\n            fte.emp();\n        } else if (select =='P') {\n            pte.emp();\n        }\n    }\n}\n</code></pre>\n<p>OUTPUT OF BOTH</p>\n<pre><code>Enter monthly salary: \n500\nName: null\n</code></pre>\n"},{"tags":["java","spring","jpa","quartz"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":1,"creation_date":1647842438,"post_id":71549275,"comment_id":126463634,"body_markdown":"did you check whether the data presents all kinds of environments or not?","body":"did you check whether the data presents all kinds of environments or not?"},{"owner":{"account_id":7417182,"reputation":83,"user_id":5642555,"display_name":"IkyryguJava"},"score":0,"creation_date":1647846124,"post_id":71549275,"comment_id":126464318,"body_markdown":"@JoonseoLee yes, the weird thing is that I can receive this data on the Env when I use an HTTP request via rest controller. In the beginning, I thought that I have a problem with Transaction, but right now those Env instances are my biggest suspicious. There are triggered almost at the same time.","body":"@JoonseoLee yes, the weird thing is that I can receive this data on the Env when I use an HTTP request via rest controller. In the beginning, I thought that I have a problem with Transaction, but right now those Env instances are my biggest suspicious. There are triggered almost at the same time."},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647846446,"post_id":71549275,"comment_id":126464386,"body_markdown":"then you could see the env text in profile.active while running spring boot. and those are different each env?","body":"then you could see the env text in profile.active while running spring boot. and those are different each env?"},{"owner":{"account_id":7417182,"reputation":83,"user_id":5642555,"display_name":"IkyryguJava"},"score":0,"creation_date":1647847258,"post_id":71549275,"comment_id":126464594,"body_markdown":"@JoonseoLee of course there are different but when we talk about data source configuration and scheduled is almost similar.","body":"@JoonseoLee of course there are different but when we talk about data source configuration and scheduled is almost similar."},{"owner":{"account_id":7417182,"reputation":83,"user_id":5642555,"display_name":"IkyryguJava"},"score":0,"creation_date":1648207354,"post_id":71549275,"comment_id":126571707,"body_markdown":"I&#39;ve checked the database again and the problem was different databases on each instance and the problem with the task scheduler on correct instances caused by Thread pooling. Thanks @JoonseoLee","body":"I&#39;ve checked the database again and the problem was different databases on each instance and the problem with the task scheduler on correct instances caused by Thread pooling. Thanks @JoonseoLee"}],"owner":{"account_id":7417182,"reputation":83,"user_id":5642555,"display_name":"IkyryguJava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647799952,"creation_date":1647799047,"question_id":71549275,"body_markdown":"I have a confusing problem with fetching data from JPA during Job processing - Postgresql\r\n\r\nRepository extends JpaRepository: \r\n\r\n    \r\n\t@QueryHints(value = @QueryHint(name = HINT_FETCH_SIZE, value = &quot;1&quot;))\r\n\tStream&lt;Object&gt; findAll(Specification specification);\r\n    \r\nService: \r\n\r\n    @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n\tpublic void runTask() {\r\n\t\ttry(myRepository.findAll(spec)) {}\r\n\t}\r\nIt&#39;s a bit strange because it works on my local machine, but when I publish an application on the environment with 3 instances. As a result, I have an empty stream.\r\n\r\nThe problem doesn&#39;t occur when I create a Rest controller with will trigger this method.\r\n\r\n ","title":"Job fetching data from JPA returns empty list","body":"<p>I have a confusing problem with fetching data from JPA during Job processing - Postgresql</p>\n<p>Repository extends JpaRepository:</p>\n<pre><code>@QueryHints(value = @QueryHint(name = HINT_FETCH_SIZE, value = &quot;1&quot;))\nStream&lt;Object&gt; findAll(Specification specification);\n</code></pre>\n<p>Service:</p>\n<pre><code>@Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void runTask() {\n    try(myRepository.findAll(spec)) {}\n}\n</code></pre>\n<p>It's a bit strange because it works on my local machine, but when I publish an application on the environment with 3 instances. As a result, I have an empty stream.</p>\n<p>The problem doesn't occur when I create a Rest controller with will trigger this method.</p>\n"},{"tags":["java","spring-cloud-gateway","reactor","webflux"],"comments":[{"owner":{"account_id":14213490,"reputation":555,"user_id":10268003,"display_name":"Aniket Singla"},"score":0,"creation_date":1633144264,"post_id":68191851,"comment_id":122688758,"body_markdown":"Seems like yor filter is not picked by spring or it is not added in the required order. You need to share your whole filter class definition.","body":"Seems like yor filter is not picked by spring or it is not added in the required order. You need to share your whole filter class definition."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647799414,"creation_date":1647798397,"answer_id":71549182,"question_id":68191851,"body_markdown":"`GatewayFilter` is applied to gateway-proxied routes only and will not be applied to web controllers/routes automatically.\r\n\r\nTo achieve this you could register `WebFilter` instead\r\n\r\n\r\n```\r\npublic class TestWebFilter implements WebFilter {\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        return chain.filter(exchange)\r\n                .contextWrite(ctx -&gt; ctx.put(&quot;key&quot;, &quot;hello gate&quot;));\r\n    }\r\n}\r\n```\r\n\r\nps\r\n\r\n`subscriberContext` is deprecated. Better use `contextWrite` &amp; `deferContextual`.","title":"how to use Reactor3&#39;s Context in SpringCloud Gateway","body":"<p><code>GatewayFilter</code> is applied to gateway-proxied routes only and will not be applied to web controllers/routes automatically.</p>\n<p>To achieve this you could register <code>WebFilter</code> instead</p>\n<pre><code>public class TestWebFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        return chain.filter(exchange)\n                .contextWrite(ctx -&gt; ctx.put(&quot;key&quot;, &quot;hello gate&quot;));\n    }\n}\n</code></pre>\n<p>ps</p>\n<p><code>subscriberContext</code> is deprecated. Better use <code>contextWrite</code> &amp; <code>deferContextual</code>.</p>\n"}],"owner":{"account_id":19702917,"reputation":31,"user_id":14425266,"display_name":"LI_guoyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647799414,"creation_date":1625044454,"question_id":68191851,"body_markdown":"I tried to use the context to set some value of Reactor3 in the filter of SpringCloud Gateway but in the controller，I can&#39;t get the value in the Context.\r\n\r\nActually， I am new to Reactor3. So please give me some tips or help, thank you very much!\r\n\r\n```\r\n//my GatewayFilter\r\n@Override\r\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\r\n    return chain.filter(exchange)\r\n             .subscriberContext(ctx -&gt; ctx.put(&quot;key&quot;, &quot;hello gate&quot;));\r\n}\r\n\r\n//my Controller\r\n@ResponseBody\r\n@RequestMapping(&quot;/test&quot;)\r\npublic Mono&lt;String&gt; test() {\r\n\r\n     return Mono.subscriberContext()\r\n            .map(ctx -&gt; ctx.get(&quot;key&quot;));\r\n}\r\n```\r\n\r\nwhen I try to get the value of Context , it will throw an Exception &quot;context is empty&quot;","title":"how to use Reactor3&#39;s Context in SpringCloud Gateway","body":"<p>I tried to use the context to set some value of Reactor3 in the filter of SpringCloud Gateway but in the controller，I can't get the value in the Context.</p>\n<p>Actually， I am new to Reactor3. So please give me some tips or help, thank you very much!</p>\n<pre><code>//my GatewayFilter\n@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n\n    return chain.filter(exchange)\n             .subscriberContext(ctx -&gt; ctx.put(&quot;key&quot;, &quot;hello gate&quot;));\n}\n\n//my Controller\n@ResponseBody\n@RequestMapping(&quot;/test&quot;)\npublic Mono&lt;String&gt; test() {\n\n     return Mono.subscriberContext()\n            .map(ctx -&gt; ctx.get(&quot;key&quot;));\n}\n</code></pre>\n<p>when I try to get the value of Context , it will throw an Exception &quot;context is empty&quot;</p>\n"},{"tags":["java","android","html","mysql"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647799301,"creation_date":1647799301,"answer_id":71549312,"question_id":71547605,"body_markdown":"Your backend isn&#39;t HTML.  HTML is a display language-  it&#39;s a front end only technology.  It&#39;s just for a web front end. And HTML can&#39;t talk to a database-  there&#39;s no logic in HTML.  What it sounds like is you don&#39;t have a backend, or you don&#39;t know what you actually have.\r\n\r\nWhat you need is a webservice that can access your DB and send data from it to whomever requests it.  But I suggest you first find out what your actual architecture is, because you don&#39;t seem to know it.","title":"How to get data from mysql and view that data in android application?","body":"<p>Your backend isn't HTML.  HTML is a display language-  it's a front end only technology.  It's just for a web front end. And HTML can't talk to a database-  there's no logic in HTML.  What it sounds like is you don't have a backend, or you don't know what you actually have.</p>\n<p>What you need is a webservice that can access your DB and send data from it to whomever requests it.  But I suggest you first find out what your actual architecture is, because you don't seem to know it.</p>\n"}],"owner":{"account_id":23026672,"reputation":1,"user_id":17146789,"display_name":"Saint Blue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647799301,"creation_date":1647786035,"question_id":71547605,"body_markdown":"I have a project that my backend is html and my frontend is android application. I am adding new quotes thru html and store it in MySQL. The quotes that was store will be added and view in the android app. \r\n\r\nthis is my code to display the quote in the app. I just store automatically the some quotes inside because i need to test if the next quote button is working. I don&#39;t how i will call the quotes that was in the database\r\n\r\n``` \r\nRandom random = new Random();\r\n    TextView textQuot;\r\n    Button buttonQuot;\r\n    ImageView backmenu;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_motivquotes);\r\n\r\n        textQuot = findViewById(R.id.textViewNextQuote);\r\n        buttonQuot = findViewById(R.id.buttonNextQuote);\r\n        backmenu = findViewById(R.id.backmenu);\r\n\r\n        backmenu.setOnClickListener(new View.OnClickListener(){\r\n            public void onClick(View v){\r\n                Intent myIntent1 = new Intent(v.getContext(), Home.class);\r\n                startActivity(myIntent1);\r\n            }\r\n        });\r\n\r\n        buttonQuot.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                displayQuote();\r\n\r\n            }\r\n        });\r\n\r\n        displayQuote();\r\n    }\r\n\r\n    public void displayQuote(){\r\n\r\n        int randNum = random.nextInt((5+1)-1)+1;\r\n        String randQuote=&quot;&quot;;\r\n\r\n        switch(randNum){\r\n            case 1:\r\n                randQuote = getString(R.string.quote1);\r\n                break;\r\n            case 2:\r\n                randQuote = getString(R.string.quote2);\r\n                break;\r\n            case 3:\r\n                randQuote = getString(R.string.quote3);\r\n                break;\r\n            case 4:\r\n                randQuote = getString(R.string.quote4);\r\n                break;\r\n            case 5:\r\n                randQuote = getString(R.string.quote5);\r\n                break;\r\n        }\r\n        textQuot.setText(randQuote);\r\n\r\n    }\r\n}\r\n\r\n ```\r\n","title":"How to get data from mysql and view that data in android application?","body":"<p>I have a project that my backend is html and my frontend is android application. I am adding new quotes thru html and store it in MySQL. The quotes that was store will be added and view in the android app.</p>\n<p>this is my code to display the quote in the app. I just store automatically the some quotes inside because i need to test if the next quote button is working. I don't how i will call the quotes that was in the database</p>\n<pre><code>Random random = new Random();\n    TextView textQuot;\n    Button buttonQuot;\n    ImageView backmenu;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_motivquotes);\n\n        textQuot = findViewById(R.id.textViewNextQuote);\n        buttonQuot = findViewById(R.id.buttonNextQuote);\n        backmenu = findViewById(R.id.backmenu);\n\n        backmenu.setOnClickListener(new View.OnClickListener(){\n            public void onClick(View v){\n                Intent myIntent1 = new Intent(v.getContext(), Home.class);\n                startActivity(myIntent1);\n            }\n        });\n\n        buttonQuot.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                displayQuote();\n\n            }\n        });\n\n        displayQuote();\n    }\n\n    public void displayQuote(){\n\n        int randNum = random.nextInt((5+1)-1)+1;\n        String randQuote=&quot;&quot;;\n\n        switch(randNum){\n            case 1:\n                randQuote = getString(R.string.quote1);\n                break;\n            case 2:\n                randQuote = getString(R.string.quote2);\n                break;\n            case 3:\n                randQuote = getString(R.string.quote3);\n                break;\n            case 4:\n                randQuote = getString(R.string.quote4);\n                break;\n            case 5:\n                randQuote = getString(R.string.quote5);\n                break;\n        }\n        textQuot.setText(randQuote);\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","elasticsearch","logstash","kibana","elk"],"answers":[{"tags":[],"owner":{"account_id":4361189,"reputation":431,"user_id":3558218,"accept_rate":25,"display_name":"Vakhtang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647799038,"creation_date":1647799038,"answer_id":71549272,"question_id":71206201,"body_markdown":"There are many ways to write into the index.\r\n \r\nFor example: index =&gt; &quot;logstash-%{+yyyy.MM.dd}&quot;\r\n\r\nIn this case the Logstash will write into day rollower index &quot;logstash-TODAY_DATE","title":"How to send logs into elastic - logstash","body":"<p>There are many ways to write into the index.</p>\n<p>For example: index =&gt; &quot;logstash-%{+yyyy.MM.dd}&quot;</p>\n<p>In this case the Logstash will write into day rollower index &quot;logstash-TODAY_DATE</p>\n"}],"owner":{"account_id":24300168,"reputation":3,"user_id":18243778,"display_name":"Pedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647799038,"creation_date":1645446012,"question_id":71206201,"body_markdown":"I need to send logs into elastic and then watch them with kibana \r\nI&#39;ve done this\r\n\r\n1.this is my yml file\r\n\r\n        spring:\r\n      application:\r\n        name: ELK-STACK-EXAMPLE\r\n    \r\n    server:\r\n      port: 9898\r\n    \r\n    logging:\r\n      file: /pedro/IdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.log\r\n\r\nthis is .conf file\r\n\r\n\r\n        input {\r\n      file {\r\n        path =&gt; &quot;/pedro/IdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.logIdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.log&quot;\r\n        start_position =&gt;&quot;beginning&quot;\r\n      }\r\n    }\r\n    \r\n    output {\r\n      stdout{\r\n          codec =&gt; rubydebug\r\n      }\r\n      elasticsearch {\r\n        hosts =&gt; [&quot;***********************************************************&quot;]\r\n      }\r\n    }\r\n\r\nin hosts it&#39;s written the host:port\r\n\r\nin &quot;kibana&quot; I want to create index pattern with logstash-* ,but it says not match with indexes \r\n\r\n\r\n\r\ndo I need to create index ?\r\n\r\nI even added&#39;\r\n\r\n    hosts =&gt; [&#39;host&#39;]\r\n    \r\n    user =&gt; &#39;elastic&#39;\r\n    password =&gt; &#39;******&#39;\r\n\r\n    index =&gt; don&#39;t know what to type","title":"How to send logs into elastic - logstash","body":"<p>I need to send logs into elastic and then watch them with kibana\nI've done this</p>\n<p>1.this is my yml file</p>\n<pre><code>    spring:\n  application:\n    name: ELK-STACK-EXAMPLE\n\nserver:\n  port: 9898\n\nlogging:\n  file: /pedro/IdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.log\n</code></pre>\n<p>this is .conf file</p>\n<pre><code>    input {\n  file {\n    path =&gt; &quot;/pedro/IdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.logIdeaProjects/elk-stack-logging-example/src/main/resources/elk-stack.log&quot;\n    start_position =&gt;&quot;beginning&quot;\n  }\n}\n\noutput {\n  stdout{\n      codec =&gt; rubydebug\n  }\n  elasticsearch {\n    hosts =&gt; [&quot;***********************************************************&quot;]\n  }\n}\n</code></pre>\n<p>in hosts it's written the host:port</p>\n<p>in &quot;kibana&quot; I want to create index pattern with logstash-* ,but it says not match with indexes</p>\n<p>do I need to create index ?</p>\n<p>I even added'</p>\n<pre><code>hosts =&gt; ['host']\n\nuser =&gt; 'elastic'\npassword =&gt; '******'\n\nindex =&gt; don't know what to type\n</code></pre>\n"},{"tags":["java","executorservice"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1647794783,"post_id":71548638,"comment_id":126455433,"body_markdown":"Ctrl-C doesn&#39;t do anything special to work smoothly with Java.","body":"Ctrl-C doesn&#39;t do anything special to work smoothly with Java."},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1647795484,"post_id":71548638,"comment_id":126455623,"body_markdown":"can I use the command: `kill pid`?","body":"can I use the command: <code>kill pid</code>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1647795583,"post_id":71548638,"comment_id":126455648,"body_markdown":"Like Ctrl-C, that will instantly kill the Java process and all its threads without giving them a chance to finish.","body":"Like Ctrl-C, that will instantly kill the Java process and all its threads without giving them a chance to finish."},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1647795688,"post_id":71548638,"comment_id":126455677,"body_markdown":"I will very appreciate if you have command to recommend .","body":"I will very appreciate if you have command to recommend ."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1647795916,"post_id":71548638,"comment_id":126455722,"body_markdown":"I do not have a command to recommend.","body":"I do not have a command to recommend."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647831034,"post_id":71548638,"comment_id":126462052,"body_markdown":"You might have some luck calling the executor’s awaitTermination method in a [shutdown hook](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)).  Of course, some types of process termination cannot be intercepted by the JVM or by any program.","body":"You might have some luck calling the executor’s awaitTermination method in a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">shutdown hook</a>.  Of course, some types of process termination cannot be intercepted by the JVM or by any program."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647796338,"creation_date":1647794942,"answer_id":71548709,"question_id":71548638,"body_markdown":"# Control+c kills entire JVM\r\n\r\nPressing Control+c on the console terminates the entire Java process running your threads. See [Wikipedia](https://en.wikipedia.org/wiki/Control-C#In_command-line_environments). \r\n\r\n\r\nYou are interrupting the [JVM][1]. This is *not* a graceful way to interact with your Java app. \r\n\r\nSo, no, you should not expect your executor service to continue running submitted tasks. You killed it. \r\n\r\nThe JVM is generally not designed to be manipulated in the console after launch. After launch, the only two ways I know of for interacting with the JVM is:\r\n\r\n - The user-interface of your app, [GUI][2] or [console-based][3]. \r\n - [Java Management Extensions (JMX)][4]\r\n\r\nYou said:\r\n\r\n&gt;we kill thread through ctrl+c\r\n\r\nNo, ctrl+c does not specifically kill a thread. It kills your entire JVM. \r\n\r\n## `awaitTermination`\r\n\r\nAfter calling `ExecutorService#shutdown`, if you want your code to block and wait until all submitted tasks are done, call `ExecutorService#awaitTermination`. Specify a certain amount of time to wait before throwing an exception if tasks are still running. \r\n\r\nThis waiting for termination is [shown in the JavaDoc][5] and has been discussed in many other Questions and Answers on Stack Overflow, some authored by me. So search to learn more.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://en.wikipedia.org/wiki/Graphical_user_interface\r\n  [3]: https://en.wikipedia.org/wiki/Console_application\r\n  [4]: https://en.wikipedia.org/wiki/Java_Management_Extensions\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"will java ExecutorService shutDown method can ensure all submit task will finally submitted","body":"<h1>Control+c kills entire JVM</h1>\n<p>Pressing Control+c on the console terminates the entire Java process running your threads. See <a href=\"https://en.wikipedia.org/wiki/Control-C#In_command-line_environments\" rel=\"nofollow noreferrer\">Wikipedia</a>.</p>\n<p>You are interrupting the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>. This is <em>not</em> a graceful way to interact with your Java app.</p>\n<p>So, no, you should not expect your executor service to continue running submitted tasks. You killed it.</p>\n<p>The JVM is generally not designed to be manipulated in the console after launch. After launch, the only two ways I know of for interacting with the JVM is:</p>\n<ul>\n<li>The user-interface of your app, <a href=\"https://en.wikipedia.org/wiki/Graphical_user_interface\" rel=\"nofollow noreferrer\">GUI</a> or <a href=\"https://en.wikipedia.org/wiki/Console_application\" rel=\"nofollow noreferrer\">console-based</a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Management_Extensions\" rel=\"nofollow noreferrer\">Java Management Extensions (JMX)</a></li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>we kill thread through ctrl+c</p>\n</blockquote>\n<p>No, ctrl+c does not specifically kill a thread. It kills your entire JVM.</p>\n<h2><code>awaitTermination</code></h2>\n<p>After calling <code>ExecutorService#shutdown</code>, if you want your code to block and wait until all submitted tasks are done, call <code>ExecutorService#awaitTermination</code>. Specify a certain amount of time to wait before throwing an exception if tasks are still running.</p>\n<p>This waiting for termination is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">shown in the JavaDoc</a> and has been discussed in many other Questions and Answers on Stack Overflow, some authored by me. So search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":5168218,"reputation":234,"user_id":4137589,"display_name":"Pradeep Krishna Govindaraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647798986,"creation_date":1647796301,"answer_id":71548882,"question_id":71548638,"body_markdown":"I believe it is clear from the docs for `ExecutorService` (https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--) that it doesn&#39;t wait for the tasks to complete. We have `awaitTermination` for this purpose.\r\n\r\n    This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.\r\n\r\nA clear example of how to achieve this is available in `Usage Example` section of this documentation as well.\r\n\r\n**Why is awaitTermination important during graceful shutdown?**\r\nUsing `shutdown()` is like informing your intention to stop all the threads managed by the `ExecutorService`. There is no blocking involved here. Your main thread shall resume execution and continue executing subsequent code after `shutdown()`. While handling graceful shutdown of a JVM (https://docs.oracle.com/javase/8/docs/technotes/guides/lang/hook-design.html), a separate thread will be called expecting it to complete its task and when it does complete, JVM shuts down. If you need to wait for the tasks to complete, **block** the shutdown hook thread using `awaitTermination()`.","title":"will java ExecutorService shutDown method can ensure all submit task will finally submitted","body":"<p>I believe it is clear from the docs for <code>ExecutorService</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--</a>) that it doesn't wait for the tasks to complete. We have <code>awaitTermination</code> for this purpose.</p>\n<pre><code>This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.\n</code></pre>\n<p>A clear example of how to achieve this is available in <code>Usage Example</code> section of this documentation as well.</p>\n<p><strong>Why is awaitTermination important during graceful shutdown?</strong>\nUsing <code>shutdown()</code> is like informing your intention to stop all the threads managed by the <code>ExecutorService</code>. There is no blocking involved here. Your main thread shall resume execution and continue executing subsequent code after <code>shutdown()</code>. While handling graceful shutdown of a JVM (<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/hook-design.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/lang/hook-design.html</a>), a separate thread will be called expecting it to complete its task and when it does complete, JVM shuts down. If you need to wait for the tasks to complete, <strong>block</strong> the shutdown hook thread using <code>awaitTermination()</code>.</p>\n"}],"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71548709,"answer_count":2,"score":0,"last_activity_date":1647798986,"creation_date":1647794405,"question_id":71548638,"body_markdown":"As the [ExecutorService document](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html) explains `The shutdown() method will allow previously submitted tasks to execute before terminating`. So in my initial understand, all submitted task will still be finally completed when we kill thread through **ctrl+c**.  But it seemed the actually result is not.\r\n\r\nThe generation of the executorService as below: \r\n\r\n    CORE_POOL_SIZE = 1\r\n    return new ThreadPoolExecutor(CORE_POOL_SIZE, numConsumers,\r\n                                      KEEP_ALIVE_TIME, TimeUnit.SECONDS,\r\n                                      new LinkedBlockingQueue&lt;&gt;(),\r\n                                      consumerThreadFactory);\r\n\r\nAnd in my task, I will log some information the task code sample like this:\r\n\r\n    log.info(&quot;before come into sleep.....&quot;)\r\n    try {\r\n            Thread.sleep(sleepTime);\r\n        } catch (InterruptedException e) {\r\n            log.warn(&quot; exception during sleep.....{}&quot;, request.getExecutionId());\r\n            e.printStackTrace();\r\n        }\r\n     log.info(&quot;after come into sleep...&quot;)\r\n\r\nI submit several task and then terminal thread through **control+c**, and the result is that only the log **before come into sleep** is print. \r\n\r\nSo I dont know whether my understand is correct that **shutDown can ensure all submitted task be completed finally**. I also google some similar question but find there are no explicit answer.\r\n \r\n","title":"will java ExecutorService shutDown method can ensure all submit task will finally submitted","body":"<p>As the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService document</a> explains <code>The shutdown() method will allow previously submitted tasks to execute before terminating</code>. So in my initial understand, all submitted task will still be finally completed when we kill thread through <strong>ctrl+c</strong>.  But it seemed the actually result is not.</p>\n<p>The generation of the executorService as below:</p>\n<pre><code>CORE_POOL_SIZE = 1\nreturn new ThreadPoolExecutor(CORE_POOL_SIZE, numConsumers,\n                                  KEEP_ALIVE_TIME, TimeUnit.SECONDS,\n                                  new LinkedBlockingQueue&lt;&gt;(),\n                                  consumerThreadFactory);\n</code></pre>\n<p>And in my task, I will log some information the task code sample like this:</p>\n<pre><code>log.info(&quot;before come into sleep.....&quot;)\ntry {\n        Thread.sleep(sleepTime);\n    } catch (InterruptedException e) {\n        log.warn(&quot; exception during sleep.....{}&quot;, request.getExecutionId());\n        e.printStackTrace();\n    }\n log.info(&quot;after come into sleep...&quot;)\n</code></pre>\n<p>I submit several task and then terminal thread through <strong>control+c</strong>, and the result is that only the log <strong>before come into sleep</strong> is print.</p>\n<p>So I dont know whether my understand is correct that <strong>shutDown can ensure all submitted task be completed finally</strong>. I also google some similar question but find there are no explicit answer.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1647798498,"post_id":71549159,"comment_id":126456281,"body_markdown":"Compiler errors on your English sentence. Follow up on your hash table idea.","body":"Compiler errors on your English sentence. Follow up on your hash table idea."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647802434,"post_id":71549159,"comment_id":126457261,"body_markdown":"_&quot;Is there a better way to solve this problem through nested loops&quot;_ - Why do you assume a nested loop is the best way? &quot;Time limit exceeded&quot; sounds like your algorithm takes too long to complete given a _large_ input. You will probably want to find an O(n) solution (single loop) to not get this error (rather than O(n^2)).","body":"<i>&quot;Is there a better way to solve this problem through nested loops&quot;</i> - Why do you assume a nested loop is the best way? &quot;Time limit exceeded&quot; sounds like your algorithm takes too long to complete given a <i>large</i> input. You will probably want to find an O(n) solution (single loop) to not get this error (rather than O(n^2))."},{"owner":{"account_id":24395925,"reputation":3,"user_id":18325301,"display_name":"Zenraven"},"score":0,"creation_date":1647885324,"post_id":71549159,"comment_id":126478932,"body_markdown":"I am a beginner and can&#39;t think of a better solution, I didn&#39;t necessarily mean nested loops. I meant to ask if it can be solved by loops in a better approach, which won&#39;t give the TLE error without using concepts like hashmap as I am not versed in it.","body":"I am a beginner and can&#39;t think of a better solution, I didn&#39;t necessarily mean nested loops. I meant to ask if it can be solved by loops in a better approach, which won&#39;t give the TLE error without using concepts like hashmap as I am not versed in it."}],"owner":{"account_id":24395925,"reputation":3,"user_id":18325301,"display_name":"Zenraven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647798746,"creation_date":1647798192,"question_id":71549159,"body_markdown":"Is there a better way to solve this problem through nested loops, or Hashtable (or any other methods)are the only way to deal with this error?      \r\n\r\n\r\n```\r\nclass Solution {\r\n    public boolean containsDuplicate(int[] nums) {\r\n        // traversing the array to find an element equal to the chosen element\r\n        for (int i = 0; i &lt; nums.length; i++){\r\n            // now after one element is chosen traversing the rest to find its equal\r\n            for (int j = i+1; j &lt; nums.length; j++){\r\n                int dupli = nums[i];\r\n                if (dupli == nums [j]){\r\n                    return true;\r\n                }                \r\n            }\r\n        }\r\n     return false;\r\n    }\r\n}\r\n```","title":"I was attempting the &#39;Contains Duplicate&#39; problem on Leetcode. My code seems fine but I am receiving the Time limit exceeded error","body":"<p>Is there a better way to solve this problem through nested loops, or Hashtable (or any other methods)are the only way to deal with this error?</p>\n<pre><code>class Solution {\n    public boolean containsDuplicate(int[] nums) {\n        // traversing the array to find an element equal to the chosen element\n        for (int i = 0; i &lt; nums.length; i++){\n            // now after one element is chosen traversing the rest to find its equal\n            for (int j = i+1; j &lt; nums.length; j++){\n                int dupli = nums[i];\n                if (dupli == nums [j]){\n                    return true;\n                }                \n            }\n        }\n     return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1647796099,"post_id":71548600,"comment_id":126455762,"body_markdown":"[1] Re the question in your title, see [Name of formatting symbol for shift+enter](https://answers.microsoft.com/en-us/msoffice/forum/all/name-of-formatting-symbol-for-shiftenter/83a3f3fc-8bfe-4db7-b5ca-30613905e127) [2] You are asking four distinct questions. They are all obviously related, but you might consider rewording your question to make it a bit more focused/coherent.","body":"[1] Re the question in your title, see <a href=\"https://answers.microsoft.com/en-us/msoffice/forum/all/name-of-formatting-symbol-for-shiftenter/83a3f3fc-8bfe-4db7-b5ca-30613905e127\" rel=\"nofollow noreferrer\">Name of formatting symbol for shift+enter</a> [2] You are asking four distinct questions. They are all obviously related, but you might consider rewording your question to make it a bit more focused/coherent."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647798153,"creation_date":1647797664,"answer_id":71549079,"question_id":71548600,"body_markdown":"I suspect you are talking about `XWPF` of `apache poi` which is the `apache poi` part to handle Office Open XML file format `*.docx`.\r\n\r\nAll [Office Open XML](https://en.wikipedia.org/wiki/Office_Open_XML) file formats are ZIP archives containing XML files and other files in a special directory structure. So one can simply unzip a `*.docx` file and have a look into it.\r\n\r\nFor an explicit line break (&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;) you will find following XML in `/word/document.xml` in that ZIP archive:\r\n\r\n    ...\r\n    &lt;w:r ...&gt;\r\n     &lt;w:br/&gt;\r\n    &lt;/w:r&gt;\r\n    ...\r\n\r\nSo it is a run element (`w:r`) containing one or more break elements (`w:br`).\r\n\r\nThe run element (`w:r`) is the low level source for a [XWPFRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFRun.html) in `apache poi`. It is represented by a `org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR` which can be got via `XWPFRun.getCTR`.\r\n\r\nSo if you got a `XWPFRun run`, you can get the explicit line breaks as so:\r\n\r\n    ...\r\n    for (int i = 0; i &lt; run.getCTR().getBrList().size(); i++) {\r\n     System.out.println(&quot;&lt;BR /&gt;&quot;);\r\n    }\r\n    ...\r\n\r\nIs this documented anywhere?\r\n\r\nThere is [ECMA-376](https://www.ecma-international.org/publications-and-standards/standards/ecma-376/) for Office Open XML.\r\n\r\nThe `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes are auto-generated from this specifications. Unfortunately  there is not a API documentation public available. So one needs downloading the sources from [ooxml-schemas](https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas) (up to `apache poi 4`) or [poi-ooxml-full](https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full) (from `apache poi 5` on) and then doing `javadoc` from them.\r\n\r\n","title":"How is shift-enter represented in a Word doc?","body":"<p>I suspect you are talking about <code>XWPF</code> of <code>apache poi</code> which is the <code>apache poi</code> part to handle Office Open XML file format <code>*.docx</code>.</p>\n<p>All <a href=\"https://en.wikipedia.org/wiki/Office_Open_XML\" rel=\"nofollow noreferrer\">Office Open XML</a> file formats are ZIP archives containing XML files and other files in a special directory structure. So one can simply unzip a <code>*.docx</code> file and have a look into it.</p>\n<p>For an explicit line break (<kbd>Shift</kbd>+<kbd>Enter</kbd>) you will find following XML in <code>/word/document.xml</code> in that ZIP archive:</p>\n<pre><code>...\n&lt;w:r ...&gt;\n &lt;w:br/&gt;\n&lt;/w:r&gt;\n...\n</code></pre>\n<p>So it is a run element (<code>w:r</code>) containing one or more break elements (<code>w:br</code>).</p>\n<p>The run element (<code>w:r</code>) is the low level source for a <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFRun.html\" rel=\"nofollow noreferrer\">XWPFRun</a> in <code>apache poi</code>. It is represented by a <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR</code> which can be got via <code>XWPFRun.getCTR</code>.</p>\n<p>So if you got a <code>XWPFRun run</code>, you can get the explicit line breaks as so:</p>\n<pre><code>...\nfor (int i = 0; i &lt; run.getCTR().getBrList().size(); i++) {\n System.out.println(&quot;&lt;BR /&gt;&quot;);\n}\n...\n</code></pre>\n<p>Is this documented anywhere?</p>\n<p>There is <a href=\"https://www.ecma-international.org/publications-and-standards/standards/ecma-376/\" rel=\"nofollow noreferrer\">ECMA-376</a> for Office Open XML.</p>\n<p>The <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes are auto-generated from this specifications. Unfortunately  there is not a API documentation public available. So one needs downloading the sources from <a href=\"https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas\" rel=\"nofollow noreferrer\">ooxml-schemas</a> (up to <code>apache poi 4</code>) or <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full\" rel=\"nofollow noreferrer\">poi-ooxml-full</a> (from <code>apache poi 5</code> on) and then doing <code>javadoc</code> from them.</p>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71549079,"answer_count":1,"score":0,"last_activity_date":1647798153,"creation_date":1647794158,"question_id":71548600,"body_markdown":"I&#39;m using Java and Apache POI to read a Word documen template and generate a new document from it. The original document has newline breaks entered with &quot;shift-enter&quot;; I thought it would allow a line break while continuing the paragraph. But as I sequence through runs, I seem to get an empty string at that point. There are &#39;flags&#39; on the run; do they indicate the line break somehow? I want to leave it in the resuling document; I think what&#39;s happening is that I detect it as an empty string and leave it out. How can I detect its presence so I can leave it in the resulting document after I&#39;ve processed the template?\r\n\r\nAs a side note, are those flags documented anywhere?","title":"How is shift-enter represented in a Word doc?","body":"<p>I'm using Java and Apache POI to read a Word documen template and generate a new document from it. The original document has newline breaks entered with &quot;shift-enter&quot;; I thought it would allow a line break while continuing the paragraph. But as I sequence through runs, I seem to get an empty string at that point. There are 'flags' on the run; do they indicate the line break somehow? I want to leave it in the resuling document; I think what's happening is that I detect it as an empty string and leave it out. How can I detect its presence so I can leave it in the resulting document after I've processed the template?</p>\n<p>As a side note, are those flags documented anywhere?</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647349780,"post_id":71482750,"comment_id":126344594,"body_markdown":"https://dz2cdn1.dzone.com/storage/temp/6603732-jdk-modules.jpg. And just note that &quot;dependence&quot; does not necessarily carry all the properties of &quot;inheritance&quot;. In some cases, when a module has a transitive dependency on another, you can see the &quot;base&quot; module being reflected on the one importing it, but in many situations, that is not the case.","body":"<a href=\"https://dz2cdn1.dzone.com/storage/temp/6603732-jdk-modules.jpg\" rel=\"nofollow noreferrer\">dz2cdn1.dzone.com/storage/temp/6603732-jdk-modules.jpg</a>. And just note that &quot;dependence&quot; does not necessarily carry all the properties of &quot;inheritance&quot;. In some cases, when a module has a transitive dependency on another, you can see the &quot;base&quot; module being reflected on the one importing it, but in many situations, that is not the case."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647797222,"creation_date":1647739753,"answer_id":71543376,"question_id":71482750,"body_markdown":"`java.base` is the base module; every other module implicitly or explicitly depends on it:\r\n\r\n&gt; If the declaration of a module does not express a dependence on the `java.base` module [...] then the module has an implicitly declared dependence on the `java.base` module.\r\n\r\n([Java Language Specification 17 &#167;7.7.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.1))\r\n\r\n\r\n`java.se` &quot;defines the API of the Java SE Platform&quot; (per documentation). It roughly (?) comprises all the classes which were present in Java SE before modularization, except being separated now in different modules, e.g. `java.desktop` or `java.sql`. It does not include JDK specific modules (such as `jdk.javadoc`). A Java runtime might not necessarily provide all of these modules; for example you could use [`jlink`](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html) to create a Java runtime which only contains the modules you need (at the minimum `java.base`).\r\n\r\nThe Java API specification can also be helpful for understanding the content of modules and their relations:\r\n- [`java.base`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/module-summary.html)\r\n- [`java.se`](https://docs.oracle.com/en/java/javase/17/docs/api/java.se/module-summary.html)\r\n\r\n\r\nYour comparison with a class (module `java.base`) and its subclass (module `java.se`) works in this case because `java.se` acts kind of like an &#39;aggregator&#39; module which itself does not contain or export any packages but only has indirect exports through `requires transitive`. See [this question](https://stackoverflow.com/q/44178366) for why the `java.se` module exists. Although normally you would not declare a dependency on `java.se` because that defeats the purpose of making custom small runtime images; instead you would only declare dependencies on the specific modules you really need, e.g. `java.logging`.\r\n\r\nSuch aggregator modules are rather uncommon though. In most cases modules will rather be used for grouping related packages, and restricting access to internal implementations. However, in these cases services defined by one module and the corresponding service provider being implemented and [declared by another module](https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.4) are similar to your analogy.","title":"What&#39;s the difference between the &#39;java.se&#39; and &#39;java.base&#39; Module in Java Platform Modules System","body":"<p><code>java.base</code> is the base module; every other module implicitly or explicitly depends on it:</p>\n<blockquote>\n<p>If the declaration of a module does not express a dependence on the <code>java.base</code> module [...] then the module has an implicitly declared dependence on the <code>java.base</code> module.</p>\n</blockquote>\n<p>(<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.1\" rel=\"nofollow noreferrer\">Java Language Specification 17 §7.7.1</a>)</p>\n<p><code>java.se</code> &quot;defines the API of the Java SE Platform&quot; (per documentation). It roughly (?) comprises all the classes which were present in Java SE before modularization, except being separated now in different modules, e.g. <code>java.desktop</code> or <code>java.sql</code>. It does not include JDK specific modules (such as <code>jdk.javadoc</code>). A Java runtime might not necessarily provide all of these modules; for example you could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> to create a Java runtime which only contains the modules you need (at the minimum <code>java.base</code>).</p>\n<p>The Java API specification can also be helpful for understanding the content of modules and their relations:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/module-summary.html\" rel=\"nofollow noreferrer\"><code>java.base</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.se/module-summary.html\" rel=\"nofollow noreferrer\"><code>java.se</code></a></li>\n</ul>\n<p>Your comparison with a class (module <code>java.base</code>) and its subclass (module <code>java.se</code>) works in this case because <code>java.se</code> acts kind of like an 'aggregator' module which itself does not contain or export any packages but only has indirect exports through <code>requires transitive</code>. See <a href=\"https://stackoverflow.com/q/44178366\">this question</a> for why the <code>java.se</code> module exists. Although normally you would not declare a dependency on <code>java.se</code> because that defeats the purpose of making custom small runtime images; instead you would only declare dependencies on the specific modules you really need, e.g. <code>java.logging</code>.</p>\n<p>Such aggregator modules are rather uncommon though. In most cases modules will rather be used for grouping related packages, and restricting access to internal implementations. However, in these cases services defined by one module and the corresponding service provider being implemented and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.4\" rel=\"nofollow noreferrer\">declared by another module</a> are similar to your analogy.</p>\n"}],"owner":{"account_id":5605009,"reputation":83,"user_id":4439936,"display_name":"Yoo oo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":71543376,"answer_count":1,"score":4,"last_activity_date":1647797222,"creation_date":1647349403,"question_id":71482750,"body_markdown":"I am not sure if I got it right:  `java.base` is the underlying base module from all other modules and contains all the base stuff from them, like  a superclass from a class. And `java.se` is the module which contains the whole JDK, like a subclass (which contains the basic functionality and more specific stuff)","title":"What&#39;s the difference between the &#39;java.se&#39; and &#39;java.base&#39; Module in Java Platform Modules System","body":"<p>I am not sure if I got it right:  <code>java.base</code> is the underlying base module from all other modules and contains all the base stuff from them, like  a superclass from a class. And <code>java.se</code> is the module which contains the whole JDK, like a subclass (which contains the basic functionality and more specific stuff)</p>\n"},{"tags":["javascript","java","html","database","web"],"comments":[{"owner":{"account_id":1463349,"reputation":62353,"user_id":1377002,"display_name":"Andy"},"score":0,"creation_date":1647795589,"post_id":71548784,"comment_id":126455651,"body_markdown":"Welcome to SO. You might find reading the site [help section](https://stackoverflow.com/help) useful when it comes to [asking a good question](https://stackoverflow.com/help/how-to-ask), and this [question checklist](https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). Code that you have worked on to solve the problem should include a [mcve], and be included in your question. Also: JavaScript is a different language from Java. You should edit your tags.","body":"Welcome to SO. You might find reading the site <a href=\"https://stackoverflow.com/help\">help section</a> useful when it comes to <a href=\"https://stackoverflow.com/help/how-to-ask\">asking a good question</a>, and this <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">question checklist</a>. Code that you have worked on to solve the problem should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and be included in your question. Also: JavaScript is a different language from Java. You should edit your tags."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647796029,"post_id":71548784,"comment_id":126455749,"body_markdown":"You could use &quot;cookies&quot;, &quot;localstorage&quot;, or a back-end file that stores the current count. You could even use a &quot;get url&quot; but why bother. In other words there are many ways to do what you want to do. What have you tried and if any, show your code?","body":"You could use &quot;cookies&quot;, &quot;localstorage&quot;, or a back-end file that stores the current count. You could even use a &quot;get url&quot; but why bother. In other words there are many ways to do what you want to do. What have you tried and if any, show your code?"},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647796698,"post_id":71548784,"comment_id":126455913,"body_markdown":"@GetSet \n\nThis is my first experience with a database\nI dont really know where to start -&gt; I created a website (diepstats.com) for a small Online Game I am playing. I also managed to create a small API to load some data from the players.\n\nBut now I want to include a little game (count clicks and never reset) on my page to get a simple start with a database -&gt; because it only needs to store one variable (the button click count)\n\nI think I cant really send you any code because (regarding databases) I`ve got none","body":"@GetSet   This is my first experience with a database I dont really know where to start -&gt; I created a website (diepstats.com) for a small Online Game I am playing. I also managed to create a small API to load some data from the players.  But now I want to include a little game (count clicks and never reset) on my page to get a simple start with a database -&gt; because it only needs to store one variable (the button click count)  I think I cant really send you any code because (regarding databases) I`ve got none"},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647796843,"post_id":71548784,"comment_id":126455945,"body_markdown":"@GetSet\n&gt; I opened a MYSQL Database on my provider (Ionos). Now I am figuring out how to store a variable / update it and load it on the page","body":"@GetSet &gt; I opened a MYSQL Database on my provider (Ionos). Now I am figuring out how to store a variable / update it and load it on the page"},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647800176,"post_id":71548784,"comment_id":126456691,"body_markdown":"Going with a database is not necessary for your current project. A db will increase the complexity of your learning experience. But if you want to go that route, of course do so. As an alternative you can use the local storage by Alejandro Gonzalez below. This will circumvent the need to know who the user is via a db setup, since the &quot;local storage&quot; is on the user&#39;s device. A &quot;cookie&quot; solution will also be comparable.","body":"Going with a database is not necessary for your current project. A db will increase the complexity of your learning experience. But if you want to go that route, of course do so. As an alternative you can use the local storage by Alejandro Gonzalez below. This will circumvent the need to know who the user is via a db setup, since the &quot;local storage&quot; is on the user&#39;s device. A &quot;cookie&quot; solution will also be comparable."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647800362,"post_id":71548784,"comment_id":126456735,"body_markdown":"However if your design goal is to know the total clicks no matter who the user is, you also don&#39;t need a full blown db (e.g. SQL). You could write the count via your server side code to a plain text file. BASICALLY: when a click event occurs, ajax to your sever, your server side script reads the current count, +1 it, rewrites that file, and done.","body":"However if your design goal is to know the total clicks no matter who the user is, you also don&#39;t need a full blown db (e.g. SQL). You could write the count via your server side code to a plain text file. BASICALLY: when a click event occurs, ajax to your sever, your server side script reads the current count, +1 it, rewrites that file, and done."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647800802,"post_id":71548784,"comment_id":126456847,"body_markdown":"There is some code that should be involved to check if the file that stores the count, is not currently being written to. Essentially to make &quot;concurrency&quot; possible. This is also easy. Simply make a &quot;lock&quot; file before writing to it, and if another process encounters that &quot;lock&quot; file, make it wait some N milliseconds. Ahh well this is sounding complex as I write it but really its not.","body":"There is some code that should be involved to check if the file that stores the count, is not currently being written to. Essentially to make &quot;concurrency&quot; possible. This is also easy. Simply make a &quot;lock&quot; file before writing to it, and if another process encounters that &quot;lock&quot; file, make it wait some N milliseconds. Ahh well this is sounding complex as I write it but really its not."},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647803166,"post_id":71548784,"comment_id":126457423,"body_markdown":"@GetSet\n\ndamn that sounds really hard for me :D But I appreciate it, I never would have thought about these things ... I will look into all these words and topics right now.\n\nand yes, for my idea I dont care who the user is -&gt; I just want an &quot;All-Time&quot; Clicker Count","body":"@GetSet  damn that sounds really hard for me :D But I appreciate it, I never would have thought about these things ... I will look into all these words and topics right now.  and yes, for my idea I dont care who the user is -&gt; I just want an &quot;All-Time&quot; Clicker Count"},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647803321,"post_id":71548784,"comment_id":126457464,"body_markdown":"Alright I&#39;ll post a basic code example that you can modify to make it work for how you want it to. In *proof* that it&#39;s not complicated. But wait I can&#39;t do that because your question doesn&#39;t have a server-side language tagged. You will **need** a server side stack setup. I cant advise one over the other but I do have experience in PHP. Look into getting that setup on your dev machine. XAMPP is a good option.","body":"Alright I&#39;ll post a basic code example that you can modify to make it work for how you want it to. In <i>proof</i> that it&#39;s not complicated. But wait I can&#39;t do that because your question doesn&#39;t have a server-side language tagged. You will <b>need</b> a server side stack setup. I cant advise one over the other but I do have experience in PHP. Look into getting that setup on your dev machine. XAMPP is a good option."},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647805918,"post_id":71548784,"comment_id":126458100,"body_markdown":"@GetSet\n\nI am so sorry- i tired to look &quot;server-side&quot; / &quot;Side stack setup&quot; up but it seems more complicated than anything I&#39;ve done :,D Wserver-side language tagged -&gt; what is this exactly for? Something so you can enter you`re code? -&gt; btw whatever you are trying to do -&gt; you dont need to do that - dont wanna waste your time","body":"@GetSet  I am so sorry- i tired to look &quot;server-side&quot; / &quot;Side stack setup&quot; up but it seems more complicated than anything I&#39;ve done :,D Wserver-side language tagged -&gt; what is this exactly for? Something so you can enter you`re code? -&gt; btw whatever you are trying to do -&gt; you dont need to do that - dont wanna waste your time"},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647806147,"post_id":71548784,"comment_id":126458152,"body_markdown":"I don&#39;t know what OS you are using is why I suggested you look into it. Also I dont know what &quot;server&quot; side language you will be deploying to. But on your local machine you can use whatever. And from there when you actually go live, just pick a hosting provider that supports the server side language you chose.","body":"I don&#39;t know what OS you are using is why I suggested you look into it. Also I dont know what &quot;server&quot; side language you will be deploying to. But on your local machine you can use whatever. And from there when you actually go live, just pick a hosting provider that supports the server side language you chose."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647806304,"post_id":71548784,"comment_id":126458183,"body_markdown":"Your search terms were generic and is why it came up like that with too many options. I&#39;d suggest going directly to https://www.apachefriends.org/download.html to get XAMPP installed on your dev machine (your computer). From there you will be able to write server side code in PHP. When you want to test &quot;live&quot; and for deployment, pick a hosting provider that supports PHP out the box.","body":"Your search terms were generic and is why it came up like that with too many options. I&#39;d suggest going directly to <a href=\"https://www.apachefriends.org/download.html\" rel=\"nofollow noreferrer\">apachefriends.org/download.html</a> to get XAMPP installed on your dev machine (your computer). From there you will be able to write server side code in PHP. When you want to test &quot;live&quot; and for deployment, pick a hosting provider that supports PHP out the box."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647806736,"post_id":71548784,"comment_id":126458283,"body_markdown":"But you wont need a &quot;hosting provider&quot; to learn and get experience. Once you install XAMPP, your computer itself will be the &quot;server&quot; which you can test out code by directing your browser to &quot;localhost&quot;.","body":"But you wont need a &quot;hosting provider&quot; to learn and get experience. Once you install XAMPP, your computer itself will be the &quot;server&quot; which you can test out code by directing your browser to &quot;localhost&quot;."},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647806871,"post_id":71548784,"comment_id":126458307,"body_markdown":"@GetSet\nI think I understand you now. \n&gt; I started a statistics website for a game I am playing (diepstats.com is what I created so far) -&gt; I developed that with HTML / CSS / little bit of JS. I also got XAMPP to test out my simple database (I am using the provider IONOS which gives me space to store my HTML/CSS/JS files and gives me a database) -&gt; I also connected &quot;diepstats.com&quot; to that database, but its useless atm... With PHP I got the connection but now my problem is to store / upload and download the latest &quot;CLICK COUNT&quot; / display it on my HTML code","body":"@GetSet I think I understand you now.  &gt; I started a statistics website for a game I am playing (diepstats.com is what I created so far) -&gt; I developed that with HTML / CSS / little bit of JS. I also got XAMPP to test out my simple database (I am using the provider IONOS which gives me space to store my HTML/CSS/JS files and gives me a database) -&gt; I also connected &quot;diepstats.com&quot; to that database, but its useless atm... With PHP I got the connection but now my problem is to store / upload and download the latest &quot;CLICK COUNT&quot; / display it on my HTML code"},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647807037,"post_id":71548784,"comment_id":126458348,"body_markdown":"So my thought was that my next step is this:\nIve got a button at the website -&gt; With JS I am counting the clicks and now I have problems -&gt; The live/latest click-count variable needs to be uploaded to the database for the next user etc...\nIf this is even the right approach. You guys also said I should look into the LocalStorage thing. Will do that","body":"So my thought was that my next step is this: Ive got a button at the website -&gt; With JS I am counting the clicks and now I have problems -&gt; The live/latest click-count variable needs to be uploaded to the database for the next user etc... If this is even the right approach. You guys also said I should look into the LocalStorage thing. Will do that"},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647807306,"post_id":71548784,"comment_id":126458398,"body_markdown":"Well since I&#39;m just learning now you already have a PHP setup, I will post a answer to doing the click count. Give me a moment.","body":"Well since I&#39;m just learning now you already have a PHP setup, I will post a answer to doing the click count. Give me a moment."},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647807670,"post_id":71548784,"comment_id":126458461,"body_markdown":"@GetSet\n\nI dont know if you need to know this but XAMPP doesnt work with my server, IONOS (the provider) only accepts databases-calls from its own website. So I couldnt connect my &quot;Localhost&quot; /XAMPP with that database. I had to upload the .php file on IONOS to access the database.\n\nNo idea if this information is needed.","body":"@GetSet  I dont know if you need to know this but XAMPP doesnt work with my server, IONOS (the provider) only accepts databases-calls from its own website. So I couldnt connect my &quot;Localhost&quot; /XAMPP with that database. I had to upload the .php file on IONOS to access the database.  No idea if this information is needed."},{"owner":{"account_id":1985524,"reputation":1548,"user_id":1780873,"display_name":"GetSet"},"score":0,"creation_date":1647807977,"post_id":71548784,"comment_id":126458533,"body_markdown":"I used IONOS on several projects and they support PHP out the box. And of course your local db will have to be migrated to a 3rd party to work.","body":"I used IONOS on several projects and they support PHP out the box. And of course your local db will have to be migrated to a 3rd party to work."},{"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"score":0,"creation_date":1647966093,"post_id":71548784,"comment_id":126501935,"body_markdown":"@GetSet\nHey! I kinda got a solution now (not perfect) but this is my first attempt -&gt; I got a .php sub-page and for each &quot;refresh&quot; it adds +1 to the database (and displays the number on the page). So my &quot;button&quot; is just a refresh-button. -&gt; But I still cant figure out, how to include a normal button on my .html page which adds +1, and where you can also SPAM the button and dont have to wait for the page refresh","body":"@GetSet Hey! I kinda got a solution now (not perfect) but this is my first attempt -&gt; I got a .php sub-page and for each &quot;refresh&quot; it adds +1 to the database (and displays the number on the page). So my &quot;button&quot; is just a refresh-button. -&gt; But I still cant figure out, how to include a normal button on my .html page which adds +1, and where you can also SPAM the button and dont have to wait for the page refresh"}],"answers":[{"tags":[],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647796115,"creation_date":1647795883,"answer_id":71548832,"question_id":71548784,"body_markdown":"You can use localstorage to persist the count.\r\n\r\nExample when the page starts:\r\n\r\n    var cat = localStorage.getItem(&#39;miGato&#39;);\r\n\r\nExample to save the count:\r\n\r\n    localStorage.setItem(&#39;miGato&#39;, &#39;Juan&#39;);\r\n\r\nThe documentation is:\r\n\r\n[Localstorage][1] \r\n\r\n\r\n  [1]: https://developer.mozilla.org/es/docs/Web/API/Window/localStorage","title":"Website -&gt; Count Button Clicks and never reset","body":"<p>You can use localstorage to persist the count.</p>\n<p>Example when the page starts:</p>\n<pre><code>var cat = localStorage.getItem('miGato');\n</code></pre>\n<p>Example to save the count:</p>\n<pre><code>localStorage.setItem('miGato', 'Juan');\n</code></pre>\n<p>The documentation is:</p>\n<p><a href=\"https://developer.mozilla.org/es/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">Localstorage</a></p>\n"},{"tags":[],"owner":{"account_id":12993868,"reputation":9,"user_id":17347045,"display_name":"Satyanarayan Bhuniya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647796578,"creation_date":1647796578,"answer_id":71548922,"question_id":71548784,"body_markdown":"Yes you can use Window.localStorage,\r\nSyntaxis\r\n\r\n    var cat = localStorage.setItem(&#39;miGato&#39;, &#39;Juan&#39;);","title":"Website -&gt; Count Button Clicks and never reset","body":"<p>Yes you can use Window.localStorage,\nSyntaxis</p>\n<pre><code>var cat = localStorage.setItem('miGato', 'Juan');\n</code></pre>\n"}],"owner":{"account_id":24621443,"reputation":29,"user_id":18521738,"display_name":"Tim Bordasch"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647796578,"creation_date":1647795460,"question_id":71548784,"body_markdown":"Holaaa\r\n\r\nI wanted to create a simple website containing a button. If I press the button 5 times, it says 5. When I refresh the page, it should still say 5.\r\nAnd when You load the page, it also says 5 and you can go on clicking.\r\n\r\nI know how to build a counter for ONE session and one user, but I have nooo idea how to implement it to be stored &quot;online&quot;.\r\n\r\nI know that I need to implement a database to store the value and load the latest click-value once the website is opened but I dont know where to simply start","title":"Website -&gt; Count Button Clicks and never reset","body":"<p>Holaaa</p>\n<p>I wanted to create a simple website containing a button. If I press the button 5 times, it says 5. When I refresh the page, it should still say 5.\nAnd when You load the page, it also says 5 and you can go on clicking.</p>\n<p>I know how to build a counter for ONE session and one user, but I have nooo idea how to implement it to be stored &quot;online&quot;.</p>\n<p>I know that I need to implement a database to store the value and load the latest click-value once the website is opened but I dont know where to simply start</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":5,"creation_date":1271563990,"post_id":2661065,"comment_id":2678333,"body_markdown":"TreeSet gives you log(n) lookup, not linear.","body":"TreeSet gives you log(n) lookup, not linear."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":0,"creation_date":1271564247,"post_id":2661065,"comment_id":2678344,"body_markdown":"Do you have any performance metrics which dictate that log(n) is too slow? You&#39;re almost certainly pre-optimizing. &quot;Several thousands of elements&quot; sorts in nanoseconds, and maintaining a treeset takes little to no time. log_10(thousands) = 5.","body":"Do you have any performance metrics which dictate that log(n) is too slow? You&#39;re almost certainly pre-optimizing. &quot;Several thousands of elements&quot; sorts in nanoseconds, and maintaining a treeset takes little to no time. log_10(thousands) = 5."},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":5,"creation_date":1271588538,"post_id":2661065,"comment_id":2679317,"body_markdown":"@Stefan: TreeSet gives you a log(n) `contains` test (where n is the size), but no way to access the i-th element easily (where i is an arbitrary index).","body":"@Stefan: TreeSet gives you a log(n) <code>contains</code> test (where n is the size), but no way to access the i-th element easily (where i is an arbitrary index)."},{"owner":{"account_id":88142,"reputation":8795,"user_id":244000,"accept_rate":65,"display_name":"Phương Nguyễn"},"score":0,"creation_date":1271600899,"post_id":2661065,"comment_id":2679971,"body_markdown":"@Stefan: If I want to get 20 random item from a list of 4000 item, then I would normally do 20*4000/2=40000 iteration. And if I need to get 20 random items times over times then the number of iterations would probably very high. That&#39;s why I hesitated in choosing TreeSet/TreeMap.","body":"@Stefan: If I want to get 20 random item from a list of 4000 item, then I would normally do 20*4000/2=40000 iteration. And if I need to get 20 random items times over times then the number of iterations would probably very high. That&#39;s why I hesitated in choosing TreeSet/TreeMap."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":1,"creation_date":1271601190,"post_id":2661065,"comment_id":2679989,"body_markdown":"No, it wouldn&#39;t! That&#39;s the point, if you cared to read what I said.\n\nIt would take 20 * log_2(4000) = 20*~12 = 240 iterations. This is NEGLIGIBLE on modern hardware!","body":"No, it wouldn&#39;t! That&#39;s the point, if you cared to read what I said.  It would take 20 * log_2(4000) = 20*~12 = 240 iterations. This is NEGLIGIBLE on modern hardware!"},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":0,"creation_date":1271601258,"post_id":2661065,"comment_id":2679995,"body_markdown":"Now note: the actual log base will vary depending on how treeset is actually implemented, as well as insertion order, but the order of magnitude for operations should be correct.","body":"Now note: the actual log base will vary depending on how treeset is actually implemented, as well as insertion order, but the order of magnitude for operations should be correct."},{"owner":{"account_id":88142,"reputation":8795,"user_id":244000,"accept_rate":65,"display_name":"Phương Nguyễn"},"score":1,"creation_date":1271601385,"post_id":2661065,"comment_id":2680007,"body_markdown":"@Stefan: Thanks for the warning of pre-optimization. Actually, I&#39;m using an ArrayList without sort right now. (Because, I don&#39;t actually need sort. I just need sort for faster adding, removing element). But if there is an optimized solution out there, why not adapt it? I believed that the solution should be around (because .NET has it for quite some time, so I guess Java should have it, too).","body":"@Stefan: Thanks for the warning of pre-optimization. Actually, I&#39;m using an ArrayList without sort right now. (Because, I don&#39;t actually need sort. I just need sort for faster adding, removing element). But if there is an optimized solution out there, why not adapt it? I believed that the solution should be around (because .NET has it for quite some time, so I guess Java should have it, too)."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":1,"creation_date":1271601514,"post_id":2661065,"comment_id":2680023,"body_markdown":"No, there&#39;s no reason to use a faster solution, ever, unless performance requirements dictate it. If a solution is intuitive, use it. Furthermore, if you work in interfaces instead of implementations, you can always switch the implementation later for performance benefits. This is no longer 1985; sorting 40,000 elements is no longer a performance burden.","body":"No, there&#39;s no reason to use a faster solution, ever, unless performance requirements dictate it. If a solution is intuitive, use it. Furthermore, if you work in interfaces instead of implementations, you can always switch the implementation later for performance benefits. This is no longer 1985; sorting 40,000 elements is no longer a performance burden."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":0,"creation_date":1271602173,"post_id":2661065,"comment_id":2680066,"body_markdown":"Also, &quot;Because .NET has it&quot; is possibly the worst reason I&#39;ve heard to add a feature to an API.","body":"Also, &quot;Because .NET has it&quot; is possibly the worst reason I&#39;ve heard to add a feature to an API."},{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":2,"creation_date":1271608950,"post_id":2661065,"comment_id":2680561,"body_markdown":"I&#39;m not sure .NET even has this. `List` does not have a Sort or Sorted property. It does have a Sort method. This does not behave as you are asking for here (this is no different than Java `Collections.sort` method). Even in .NET, keeping a sorted list doesn&#39;t improve the remove time.","body":"I&#39;m not sure .NET even has this. <code>List</code> does not have a Sort or Sorted property. It does have a Sort method. This does not behave as you are asking for here (this is no different than Java <code>Collections.sort</code> method). Even in .NET, keeping a sorted list doesn&#39;t improve the remove time."},{"owner":{"account_id":2045,"reputation":2940,"user_id":2815,"accept_rate":82,"display_name":"Petriborg"},"score":1,"creation_date":1349189772,"post_id":2661065,"comment_id":17133728,"body_markdown":"Your accepted answer is not about a sorted list. You really should update your question to reflect this. It confused me when I read the TreeList documentation and discovered TreeList was *NOT SORTED*.","body":"Your accepted answer is not about a sorted list. You really should update your question to reflect this. It confused me when I read the TreeList documentation and discovered TreeList was <i>NOT SORTED</i>."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1575300120,"post_id":2661065,"comment_id":104510330,"body_markdown":"I guess, the &quot;sorted&quot; property comes from Delphi (or alike). It really has nothing to do in an ordinary list as it requires a much more complicated data structure to be of any use - otherwise the performance is terrible.","body":"I guess, the &quot;sorted&quot; property comes from Delphi (or alike). It really has nothing to do in an ordinary list as it requires a much more complicated data structure to be of any use - otherwise the performance is terrible."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1647796061,"post_id":2661065,"comment_id":126455757,"body_markdown":"There exists an enhancement request for the JDK requesting a `SortedList` ([JDK-4151747](https://bugs.openjdk.java.net/browse/JDK-4151747)), but that is open for a long time now without any activity.","body":"There exists an enhancement request for the JDK requesting a <code>SortedList</code> (<a href=\"https://bugs.openjdk.java.net/browse/JDK-4151747\" rel=\"nofollow noreferrer\">JDK-4151747</a>), but that is open for a long time now without any activity."}],"answers":[{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647795858,"creation_date":1271563727,"answer_id":2661099,"question_id":2661065,"body_markdown":"[GlazedLists][1] has a very, very good sorted list implementation\r\n\r\n\r\n  [1]: https://github.com/glazedlists/glazedlists","title":"A good Sorted List for Java","body":"<p><a href=\"https://github.com/glazedlists/glazedlists\" rel=\"nofollow noreferrer\">GlazedLists</a> has a very, very good sorted list implementation</p>\n"},{"tags":[],"owner":{"account_id":40014,"reputation":242580,"user_id":115730,"accept_rate":92,"display_name":"Dave DeLong"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1271563732,"creation_date":1271563732,"answer_id":2661100,"question_id":2661065,"body_markdown":"What about using a `HashMap`?  Insertion, deletion, and retrieval are all O(1) operations.  If you wanted to sort everything, you could grab a List of the values in the Map and run them through an O(n log n) sorting algorithm.\r\n\r\n**edit**\r\n\r\nA quick search has found [LinkedHashMap][1], which maintains insertion order of your keys.  It&#39;s not an exact solution, but it&#39;s pretty close.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/LinkedHashMap.html","title":"A good Sorted List for Java","body":"<p>What about using a <code>HashMap</code>?  Insertion, deletion, and retrieval are all O(1) operations.  If you wanted to sort everything, you could grab a List of the values in the Map and run them through an O(n log n) sorting algorithm.</p>\n\n<p><strong>edit</strong></p>\n\n<p>A quick search has found <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a>, which maintains insertion order of your keys.  It's not an exact solution, but it's pretty close.</p>\n"},{"tags":[],"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271564036,"creation_date":1271564036,"answer_id":2661108,"question_id":2661065,"body_markdown":"Depending on how you&#39;re using the list, it may be worth it to use a TreeSet and then use the toArray() method at the end. I had a case where I needed a sorted list, and I found that the TreeSet + toArray() was much faster than adding to an array and merge sorting at the end.","title":"A good Sorted List for Java","body":"<p>Depending on how you're using the list, it may be worth it to use a TreeSet and then use the toArray() method at the end. I had a case where I needed a sorted list, and I found that the TreeSet + toArray() was much faster than adding to an array and merge sorting at the end.</p>\n"},{"tags":[],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1271601874,"creation_date":1271601874,"answer_id":2662586,"question_id":2661065,"body_markdown":"Phuong:\r\n\r\n&lt;h1&gt;Sorting 40,000 random numbers:&lt;/h1&gt;\r\n&lt;h2&gt;0.022 seconds&lt;/h2&gt;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    \r\n    public class test\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tList&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\r\n    \t\tRandom rand = new Random();\r\n    \t\tfor( int i = 0; i &lt; 40000; i++ )\r\n    \t\t{\r\n    \t\t\tnums.add( rand.nextInt(Integer.MAX_VALUE) );\r\n    \t\t}\r\n    \t\t\r\n    \t\tlong start = System.nanoTime();\r\n    \t\tCollections.sort(nums);\r\n    \t\tlong end = System.nanoTime();\r\n    \t\t\r\n    \t\tSystem.out.println((end-start)/1e9);\r\n    \t}\r\n    }\t\r\n\r\nSince you rarely need sorting, as per your problem statement, this is probably ***more*** efficient than it needs to be.","title":"A good Sorted List for Java","body":"<p>Phuong:</p>\n\n<h1>Sorting 40,000 random numbers:</h1>\n\n<h2>0.022 seconds</h2>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\n\n\npublic class test\n{\n    public static void main(String[] args)\n    {\n        List&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\n        Random rand = new Random();\n        for( int i = 0; i &lt; 40000; i++ )\n        {\n            nums.add( rand.nextInt(Integer.MAX_VALUE) );\n        }\n\n        long start = System.nanoTime();\n        Collections.sort(nums);\n        long end = System.nanoTime();\n\n        System.out.println((end-start)/1e9);\n    }\n}   \n</code></pre>\n\n<p>Since you rarely need sorting, as per your problem statement, this is probably <strong><em>more</em></strong> efficient than it needs to be.</p>\n"},{"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1460913256,"creation_date":1271610169,"answer_id":2663098,"question_id":2661065,"body_markdown":"It seems that you want a list structure with very fast removal and random access **by index** (not by key) times. An `ArrayList` gives you the latter and a `HashMap` or `TreeMap` give you the former.\r\n\r\nThere is one structure in Apache Commons Collections that may be what you are looking for, the [TreeList][1]. The JavaDoc specifies that it is optimized for quick insertion and removal at any index in the list. If you also need generics though, this will not help you.\r\n\r\n            \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/TreeList.html","title":"A good Sorted List for Java","body":"<p>It seems that you want a list structure with very fast removal and random access <strong>by index</strong> (not by key) times. An <code>ArrayList</code> gives you the latter and a <code>HashMap</code> or <code>TreeMap</code> give you the former.</p>\n\n<p>There is one structure in Apache Commons Collections that may be what you are looking for, the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/TreeList.html\" rel=\"noreferrer\">TreeList</a>. The JavaDoc specifies that it is optimized for quick insertion and removal at any index in the list. If you also need generics though, this will not help you.</p>\n"},{"tags":[],"owner":{"account_id":239783,"reputation":10069,"user_id":509619,"accept_rate":75,"display_name":"Mark Rhodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298490475,"creation_date":1298490475,"answer_id":5096224,"question_id":2661065,"body_markdown":"Generally you can&#39;t have constant time look up and log time deletions/insertions, but if you&#39;re happy with log time look ups then you can use a SortedList.\r\n\r\nNot sure if you&#39;ll trust my coding but I recently wrote a SortedList implementation in Java, which you can download from http://www.scottlogic.co.uk/2010/12/sorted_lists_in_java/.  This implementation allows you to look up the i-th element of the list in log time.\r\n","title":"A good Sorted List for Java","body":"<p>Generally you can't have constant time look up and log time deletions/insertions, but if you're happy with log time look ups then you can use a SortedList.</p>\n\n<p>Not sure if you'll trust my coding but I recently wrote a SortedList implementation in Java, which you can download from <a href=\"http://www.scottlogic.co.uk/2010/12/sorted_lists_in_java/\" rel=\"nofollow\">http://www.scottlogic.co.uk/2010/12/sorted_lists_in_java/</a>.  This implementation allows you to look up the i-th element of the list in log time.</p>\n"},{"tags":[],"owner":{"account_id":1689535,"reputation":626,"user_id":1552187,"display_name":"Konrad Holl"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1502449632,"creation_date":1348829384,"answer_id":12638571,"question_id":2661065,"body_markdown":"This is the SortedList implementation I am using. Maybe this helps with your problem:\r\n\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.LinkedList;\r\n    /**\r\n     * This class is a List implementation which sorts the elements using the\r\n     * comparator specified when constructing a new instance.\r\n     * \r\n     * @param &lt;T&gt;\r\n     */\r\n    public class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \t/**\r\n    \t * Needed for serialization.\r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t/**\r\n    \t * Comparator used to sort the list.\r\n    \t */\r\n    \tprivate Comparator&lt;? super T&gt; comparator = null;\r\n    \t/**\r\n    \t * Construct a new instance with the list elements sorted in their\r\n    \t * {@link java.lang.Comparable} natural ordering.\r\n    \t */\r\n    \tpublic SortedList() {\r\n    \t}\r\n    \t/**\r\n    \t * Construct a new instance using the given comparator.\r\n    \t * \r\n    \t * @param comparator\r\n    \t */\r\n    \tpublic SortedList(Comparator&lt;? super T&gt; comparator) {\r\n    \t\tthis.comparator = comparator;\r\n    \t}\r\n    \t/**\r\n    \t * Construct a new instance containing the elements of the specified\r\n    \t * collection with the list elements sorted in their\r\n    \t * {@link java.lang.Comparable} natural ordering.\r\n    \t * \r\n    \t * @param collection\r\n    \t */\r\n    \tpublic SortedList(Collection&lt;? extends T&gt; collection) {\r\n    \t\taddAll(collection);\r\n    \t}\r\n    \t/**\r\n    \t * Construct a new instance containing the elements of the specified\r\n    \t * collection with the list elements sorted using the given comparator.\r\n    \t * \r\n    \t * @param collection\r\n    \t * @param comparator\r\n    \t */\r\n    \tpublic SortedList(Collection&lt;? extends T&gt; collection, Comparator&lt;? super T&gt; comparator) {\r\n    \t\tthis(comparator);\r\n    \t\taddAll(collection);\r\n    \t}\r\n    \t/**\r\n    \t * Add a new entry to the list. The insertion point is calculated using the\r\n    \t * comparator.\r\n    \t * \r\n    \t * @param paramT\r\n    \t * @return &lt;code&gt;true&lt;/code&gt; if this collection changed as a result of the call.\r\n    \t */\r\n    \t@Override\r\n    \tpublic boolean add(T paramT) {\r\n    \t\tint initialSize = this.size();\r\n    \t\t// Retrieves the position of an existing, equal element or the \r\n    \t\t// insertion position for new elements (negative).\r\n    \t\tint insertionPoint = Collections.binarySearch(this, paramT, comparator);\r\n    \t\tsuper.add((insertionPoint &gt; -1) ? insertionPoint : (-insertionPoint) - 1, paramT);\r\n    \t\treturn (this.size() != initialSize);\r\n    \t}\r\n    \t/**\r\n    \t * Adds all elements in the specified collection to the list. Each element\r\n    \t * will be inserted at the correct position to keep the list sorted.\r\n    \t * \r\n    \t * @param paramCollection\r\n    \t * @return &lt;code&gt;true&lt;/code&gt; if this collection changed as a result of the call.\r\n    \t */\r\n    \t@Override\r\n    \tpublic boolean addAll(Collection&lt;? extends T&gt; paramCollection) {\r\n    \t\tboolean result = false;\r\n    \t\tif (paramCollection.size() &gt; 4) {\r\n    \t\t\tresult = super.addAll(paramCollection);\r\n    \t\t\tCollections.sort(this, comparator);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfor (T paramT:paramCollection) {\r\n    \t\t\t\tresult |= add(paramT);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \t/**\r\n    \t * Check, if this list contains the given Element. This is faster than the\r\n    \t * {@link #contains(Object)} method, since it is based on binary search.\r\n    \t * \r\n    \t * @param paramT\r\n    \t * @return &lt;code&gt;true&lt;/code&gt;, if the element is contained in this list;\r\n    \t * &lt;code&gt;false&lt;/code&gt;, otherwise.\r\n    \t */\r\n    \tpublic boolean containsElement(T paramT) {\r\n    \t\treturn (Collections.binarySearch(this, paramT, comparator) &gt; -1);\r\n    \t}\r\n    \t/**\r\n    \t * @return The comparator used for sorting this list.\r\n    \t */\r\n    \tpublic Comparator&lt;? super T&gt; getComparator() {\r\n    \t\treturn comparator;\r\n    \t}\r\n    \t/**\r\n    \t * Assign a new comparator and sort the list using this new comparator.\r\n    \t * \r\n    \t * @param comparator\r\n    \t */\r\n    \tpublic void setComparator(Comparator&lt;? super T&gt; comparator) {\r\n    \t\tthis.comparator = comparator;\r\n    \t\tCollections.sort(this, comparator);\r\n    \t}\r\n    }\r\n\r\nThis solution is very flexible and uses existing Java functions:\r\n\r\n - Completely based on generics\r\n - Uses java.util.Collections for finding and inserting list elements\r\n - Option to use a custom Comparator for list sorting\r\n\r\nSome notes:\r\n\r\n  - This sorted list is **not synchronized** since it inherits from `java.util.ArrayList`. Use `Collections.synchronizedList` if you need this (refer to the Java documentation for `java.util.ArrayList` for details).\r\n  - The initial solution was based on `java.util.LinkedList`. For better performance, specifically for finding the insertion point (Logan&#39;s comment) and quicker **get** operations (https://dzone.com/articles/arraylist-vs-linkedlist-vs), this has been changed to `java.util.ArrayList`.\r\n","title":"A good Sorted List for Java","body":"<p>This is the SortedList implementation I am using. Maybe this helps with your problem:</p>\n\n<pre><code>import java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.LinkedList;\n/**\n * This class is a List implementation which sorts the elements using the\n * comparator specified when constructing a new instance.\n * \n * @param &lt;T&gt;\n */\npublic class SortedList&lt;T&gt; extends ArrayList&lt;T&gt; {\n    /**\n     * Needed for serialization.\n     */\n    private static final long serialVersionUID = 1L;\n    /**\n     * Comparator used to sort the list.\n     */\n    private Comparator&lt;? super T&gt; comparator = null;\n    /**\n     * Construct a new instance with the list elements sorted in their\n     * {@link java.lang.Comparable} natural ordering.\n     */\n    public SortedList() {\n    }\n    /**\n     * Construct a new instance using the given comparator.\n     * \n     * @param comparator\n     */\n    public SortedList(Comparator&lt;? super T&gt; comparator) {\n        this.comparator = comparator;\n    }\n    /**\n     * Construct a new instance containing the elements of the specified\n     * collection with the list elements sorted in their\n     * {@link java.lang.Comparable} natural ordering.\n     * \n     * @param collection\n     */\n    public SortedList(Collection&lt;? extends T&gt; collection) {\n        addAll(collection);\n    }\n    /**\n     * Construct a new instance containing the elements of the specified\n     * collection with the list elements sorted using the given comparator.\n     * \n     * @param collection\n     * @param comparator\n     */\n    public SortedList(Collection&lt;? extends T&gt; collection, Comparator&lt;? super T&gt; comparator) {\n        this(comparator);\n        addAll(collection);\n    }\n    /**\n     * Add a new entry to the list. The insertion point is calculated using the\n     * comparator.\n     * \n     * @param paramT\n     * @return &lt;code&gt;true&lt;/code&gt; if this collection changed as a result of the call.\n     */\n    @Override\n    public boolean add(T paramT) {\n        int initialSize = this.size();\n        // Retrieves the position of an existing, equal element or the \n        // insertion position for new elements (negative).\n        int insertionPoint = Collections.binarySearch(this, paramT, comparator);\n        super.add((insertionPoint &gt; -1) ? insertionPoint : (-insertionPoint) - 1, paramT);\n        return (this.size() != initialSize);\n    }\n    /**\n     * Adds all elements in the specified collection to the list. Each element\n     * will be inserted at the correct position to keep the list sorted.\n     * \n     * @param paramCollection\n     * @return &lt;code&gt;true&lt;/code&gt; if this collection changed as a result of the call.\n     */\n    @Override\n    public boolean addAll(Collection&lt;? extends T&gt; paramCollection) {\n        boolean result = false;\n        if (paramCollection.size() &gt; 4) {\n            result = super.addAll(paramCollection);\n            Collections.sort(this, comparator);\n        }\n        else {\n            for (T paramT:paramCollection) {\n                result |= add(paramT);\n            }\n        }\n        return result;\n    }\n    /**\n     * Check, if this list contains the given Element. This is faster than the\n     * {@link #contains(Object)} method, since it is based on binary search.\n     * \n     * @param paramT\n     * @return &lt;code&gt;true&lt;/code&gt;, if the element is contained in this list;\n     * &lt;code&gt;false&lt;/code&gt;, otherwise.\n     */\n    public boolean containsElement(T paramT) {\n        return (Collections.binarySearch(this, paramT, comparator) &gt; -1);\n    }\n    /**\n     * @return The comparator used for sorting this list.\n     */\n    public Comparator&lt;? super T&gt; getComparator() {\n        return comparator;\n    }\n    /**\n     * Assign a new comparator and sort the list using this new comparator.\n     * \n     * @param comparator\n     */\n    public void setComparator(Comparator&lt;? super T&gt; comparator) {\n        this.comparator = comparator;\n        Collections.sort(this, comparator);\n    }\n}\n</code></pre>\n\n<p>This solution is very flexible and uses existing Java functions:</p>\n\n<ul>\n<li>Completely based on generics</li>\n<li>Uses java.util.Collections for finding and inserting list elements</li>\n<li>Option to use a custom Comparator for list sorting</li>\n</ul>\n\n<p>Some notes:</p>\n\n<ul>\n<li>This sorted list is <strong>not synchronized</strong> since it inherits from <code>java.util.ArrayList</code>. Use <code>Collections.synchronizedList</code> if you need this (refer to the Java documentation for <code>java.util.ArrayList</code> for details).</li>\n<li>The initial solution was based on <code>java.util.LinkedList</code>. For better performance, specifically for finding the insertion point (Logan's comment) and quicker <strong>get</strong> operations (<a href=\"https://dzone.com/articles/arraylist-vs-linkedlist-vs\" rel=\"noreferrer\">https://dzone.com/articles/arraylist-vs-linkedlist-vs</a>), this has been changed to <code>java.util.ArrayList</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2193066,"reputation":221,"user_id":1939550,"display_name":"thinker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356960218,"creation_date":1356960218,"answer_id":14102148,"question_id":2661065,"body_markdown":"SortedList decorator from Java Happy Libraries can be used to decorate TreeList from Apache Collections. That would produce a new list which performance is compareable to TreeSet.\r\nhttps://sourceforge.net/p/happy-guys/wiki/Sorted%20List/","title":"A good Sorted List for Java","body":"<p>SortedList decorator from Java Happy Libraries can be used to decorate TreeList from Apache Collections. That would produce a new list which performance is compareable to TreeSet.\n<a href=\"https://sourceforge.net/p/happy-guys/wiki/Sorted%20List/\" rel=\"nofollow\">https://sourceforge.net/p/happy-guys/wiki/Sorted%20List/</a></p>\n"},{"tags":[],"owner":{"account_id":3033117,"reputation":111,"user_id":2571738,"display_name":"EarlB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439364454,"creation_date":1439305263,"answer_id":31945350,"question_id":2661065,"body_markdown":"To test the efficiancy of earlier awnser by Konrad Holl, I did a quick comparison with what I thought would be the slow way of doing it:\r\n\r\n    package util.collections;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    /**\r\n     *\r\n     * @author Earl Bosch\r\n     * @param &lt;E&gt; Comparable Element\r\n     *\r\n     */\r\n    public class SortedList&lt;E extends Comparable&gt; implements List&lt;E&gt; {\r\n    \r\n        /**\r\n         * The list of elements\r\n         */\r\n        private final List&lt;E&gt; list = new ArrayList();\r\n    \r\n        public E first() {\r\n            return list.get(0);\r\n        }\r\n    \r\n        public E last() {\r\n            return list.get(list.size() - 1);\r\n        }\r\n    \r\n        public E mid() {\r\n            return list.get(list.size() &gt;&gt;&gt; 1);\r\n        }\r\n    \r\n        @Override\r\n        public void clear() {\r\n            list.clear();\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(E e) {\r\n            list.add(e);\r\n            Collections.sort(list);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return list.size();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() {\r\n            return list.isEmpty();\r\n        }\r\n    \r\n        @Override\r\n        public boolean contains(Object obj) {\r\n            return list.contains((E) obj);\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;E&gt; iterator() {\r\n            return list.iterator();\r\n        }\r\n    \r\n        @Override\r\n        public Object[] toArray() {\r\n            return list.toArray();\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; T[] toArray(T[] arg0) {\r\n            return list.toArray(arg0);\r\n        }\r\n    \r\n        @Override\r\n        public boolean remove(Object obj) {\r\n            return list.remove((E) obj);\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsAll(Collection&lt;?&gt; c) {\r\n            return list.containsAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public boolean addAll(Collection&lt;? extends E&gt; c) {\r\n    \r\n            list.addAll(c);\r\n            Collections.sort(list);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\r\n            throw new UnsupportedOperationException(&quot;Not supported.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean removeAll(Collection&lt;?&gt; c) {\r\n            return list.removeAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public boolean retainAll(Collection&lt;?&gt; c) {\r\n            return list.retainAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public E get(int index) {\r\n            return list.get(index);\r\n        }\r\n    \r\n        @Override\r\n        public E set(int index, E element) {\r\n            throw new UnsupportedOperationException(&quot;Not supported.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void add(int index, E element) {\r\n            throw new UnsupportedOperationException(&quot;Not supported.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public E remove(int index) {\r\n            return list.remove(index);\r\n        }\r\n    \r\n        @Override\r\n        public int indexOf(Object obj) {\r\n            return list.indexOf((E) obj);\r\n        }\r\n    \r\n        @Override\r\n        public int lastIndexOf(Object obj) {\r\n            return list.lastIndexOf((E) obj);\r\n        }\r\n    \r\n        @Override\r\n        public ListIterator&lt;E&gt; listIterator() {\r\n            return list.listIterator();\r\n        }\r\n    \r\n        @Override\r\n        public ListIterator&lt;E&gt; listIterator(int index) {\r\n            return list.listIterator(index);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;E&gt; subList(int fromIndex, int toIndex) {\r\n            throw new UnsupportedOperationException(&quot;Not supported.&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nTurns out its about twice as fast! I think its because of SortedLinkList slow get - which make&#39;s it not a good choice for a list.\r\n\r\nCompared times for same random list:\r\n\r\n - SortedLinkList : 15731.460 \r\n - SortedList : 6895.494\r\n - ca.odell.glazedlists.SortedList : 712.460\r\n - org.apache.commons.collections4.TreeList : 3226.546\r\n\r\nSeems glazedlists.SortedList is really fast...","title":"A good Sorted List for Java","body":"<p>To test the efficiancy of earlier awnser by Konrad Holl, I did a quick comparison with what I thought would be the slow way of doing it:</p>\n\n<pre><code>package util.collections;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.ListIterator;\n\n/**\n *\n * @author Earl Bosch\n * @param &lt;E&gt; Comparable Element\n *\n */\npublic class SortedList&lt;E extends Comparable&gt; implements List&lt;E&gt; {\n\n    /**\n     * The list of elements\n     */\n    private final List&lt;E&gt; list = new ArrayList();\n\n    public E first() {\n        return list.get(0);\n    }\n\n    public E last() {\n        return list.get(list.size() - 1);\n    }\n\n    public E mid() {\n        return list.get(list.size() &gt;&gt;&gt; 1);\n    }\n\n    @Override\n    public void clear() {\n        list.clear();\n    }\n\n    @Override\n    public boolean add(E e) {\n        list.add(e);\n        Collections.sort(list);\n        return true;\n    }\n\n    @Override\n    public int size() {\n        return list.size();\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return list.isEmpty();\n    }\n\n    @Override\n    public boolean contains(Object obj) {\n        return list.contains((E) obj);\n    }\n\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        return list.iterator();\n    }\n\n    @Override\n    public Object[] toArray() {\n        return list.toArray();\n    }\n\n    @Override\n    public &lt;T&gt; T[] toArray(T[] arg0) {\n        return list.toArray(arg0);\n    }\n\n    @Override\n    public boolean remove(Object obj) {\n        return list.remove((E) obj);\n    }\n\n    @Override\n    public boolean containsAll(Collection&lt;?&gt; c) {\n        return list.containsAll(c);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\n\n        list.addAll(c);\n        Collections.sort(list);\n        return true;\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends E&gt; c) {\n        throw new UnsupportedOperationException(\"Not supported.\");\n    }\n\n    @Override\n    public boolean removeAll(Collection&lt;?&gt; c) {\n        return list.removeAll(c);\n    }\n\n    @Override\n    public boolean retainAll(Collection&lt;?&gt; c) {\n        return list.retainAll(c);\n    }\n\n    @Override\n    public E get(int index) {\n        return list.get(index);\n    }\n\n    @Override\n    public E set(int index, E element) {\n        throw new UnsupportedOperationException(\"Not supported.\");\n    }\n\n    @Override\n    public void add(int index, E element) {\n        throw new UnsupportedOperationException(\"Not supported.\");\n    }\n\n    @Override\n    public E remove(int index) {\n        return list.remove(index);\n    }\n\n    @Override\n    public int indexOf(Object obj) {\n        return list.indexOf((E) obj);\n    }\n\n    @Override\n    public int lastIndexOf(Object obj) {\n        return list.lastIndexOf((E) obj);\n    }\n\n    @Override\n    public ListIterator&lt;E&gt; listIterator() {\n        return list.listIterator();\n    }\n\n    @Override\n    public ListIterator&lt;E&gt; listIterator(int index) {\n        return list.listIterator(index);\n    }\n\n    @Override\n    public List&lt;E&gt; subList(int fromIndex, int toIndex) {\n        throw new UnsupportedOperationException(\"Not supported.\");\n    }\n\n}\n</code></pre>\n\n<p>Turns out its about twice as fast! I think its because of SortedLinkList slow get - which make's it not a good choice for a list.</p>\n\n<p>Compared times for same random list:</p>\n\n<ul>\n<li>SortedLinkList : 15731.460 </li>\n<li>SortedList : 6895.494</li>\n<li>ca.odell.glazedlists.SortedList : 712.460</li>\n<li>org.apache.commons.collections4.TreeList : 3226.546</li>\n</ul>\n\n<p>Seems glazedlists.SortedList is really fast...</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575299894,"creation_date":1575299894,"answer_id":59141860,"question_id":2661065,"body_markdown":"You need no sorted list. You need no sorting at all.\r\n\r\n&gt; I need to add/remove keys from the list when object is added / removed from database.\r\n\r\nBut not immediately, the removal can wait. Use an `ArrayList` containing the ID&#39;s all alive objects plus at most some bounded percentage of deleted objects. Use a separate `HashSet` to keep track of deleted objects.\r\n\r\n\r\n    private List&lt;ID&gt; mostlyAliveIds = new ArrayList&lt;&gt;();\r\n    private Set&lt;ID&gt; deletedIds = new HashSet&lt;&gt;();\r\n\r\n&gt; I want to randomly select few dozens of element from the whole list.\r\n\r\n    ID selectOne(Random random) {\r\n        checkState(deletedIds.size() &lt; mostlyAliveIds.size());\r\n        while (true) {\r\n            int index = random.nextInt(mostlyAliveIds.size());\r\n            ID id = mostlyAliveIds.get(index);\r\n            if (!deletedIds.contains(ID)) return ID;\r\n        }\r\n    }\r\n\r\n    Set&lt;ID&gt; selectSome(Random random, int count) {\r\n        checkArgument(deletedIds.size() &lt;= mostlyAliveIds.size() - count);\r\n        Set&lt;ID&gt; result = new HashSet&lt;&gt;();\r\n        while (result.size() &lt; count) result.add(selectOne(random));\r\n    }\r\n\r\nFor maintaining the data, do something like\r\n\r\n    void insert(ID id) {\r\n        if (!deletedIds.remove(id)) mostlyAliveIds.add(ID);\r\n    } \r\n\r\n    void delete(ID id) {\r\n        if (!deletedIds.add(id)) {\r\n             throw new ImpossibleException(&quot;Deleting a deleted element);\r\n        }\r\n        if (deletedIds.size() &gt; 0.1 * mostlyAliveIds.size()) {\r\n            mostlyAliveIds.removeAll(deletedIds);\r\n            deletedIds.clear();\r\n        }\r\n    }\r\n\r\nThe only tricky part is the `insert` which has to check if an already deleted ID was resurrected.\r\n\r\nThe `delete` ensures that no more than 10% of elements in `mostlyAliveIds` are deleted IDs. When this happens, they get all removed in one sweep (I didn&#39;t check the JDK sources, but I hope, they do it right) and the show goes on.\r\n\r\nWith no more than 10% of dead IDs, the overhead of `selectOne` is no more than 10% on the average.\r\n\r\nI&#39;m pretty sure that it&#39;s faster than any sorting as the amortized complexity is `O(n)`.\r\n","title":"A good Sorted List for Java","body":"<p>You need no sorted list. You need no sorting at all.</p>\n\n<blockquote>\n  <p>I need to add/remove keys from the list when object is added / removed from database.</p>\n</blockquote>\n\n<p>But not immediately, the removal can wait. Use an <code>ArrayList</code> containing the ID's all alive objects plus at most some bounded percentage of deleted objects. Use a separate <code>HashSet</code> to keep track of deleted objects.</p>\n\n<pre><code>private List&lt;ID&gt; mostlyAliveIds = new ArrayList&lt;&gt;();\nprivate Set&lt;ID&gt; deletedIds = new HashSet&lt;&gt;();\n</code></pre>\n\n<blockquote>\n  <p>I want to randomly select few dozens of element from the whole list.</p>\n</blockquote>\n\n<pre><code>ID selectOne(Random random) {\n    checkState(deletedIds.size() &lt; mostlyAliveIds.size());\n    while (true) {\n        int index = random.nextInt(mostlyAliveIds.size());\n        ID id = mostlyAliveIds.get(index);\n        if (!deletedIds.contains(ID)) return ID;\n    }\n}\n\nSet&lt;ID&gt; selectSome(Random random, int count) {\n    checkArgument(deletedIds.size() &lt;= mostlyAliveIds.size() - count);\n    Set&lt;ID&gt; result = new HashSet&lt;&gt;();\n    while (result.size() &lt; count) result.add(selectOne(random));\n}\n</code></pre>\n\n<p>For maintaining the data, do something like</p>\n\n<pre><code>void insert(ID id) {\n    if (!deletedIds.remove(id)) mostlyAliveIds.add(ID);\n} \n\nvoid delete(ID id) {\n    if (!deletedIds.add(id)) {\n         throw new ImpossibleException(\"Deleting a deleted element);\n    }\n    if (deletedIds.size() &gt; 0.1 * mostlyAliveIds.size()) {\n        mostlyAliveIds.removeAll(deletedIds);\n        deletedIds.clear();\n    }\n}\n</code></pre>\n\n<p>The only tricky part is the <code>insert</code> which has to check if an already deleted ID was resurrected.</p>\n\n<p>The <code>delete</code> ensures that no more than 10% of elements in <code>mostlyAliveIds</code> are deleted IDs. When this happens, they get all removed in one sweep (I didn't check the JDK sources, but I hope, they do it right) and the show goes on.</p>\n\n<p>With no more than 10% of dead IDs, the overhead of <code>selectOne</code> is no more than 10% on the average.</p>\n\n<p>I'm pretty sure that it's faster than any sorting as the amortized complexity is <code>O(n)</code>.</p>\n"}],"owner":{"account_id":88142,"reputation":8795,"user_id":244000,"accept_rate":65,"display_name":"Phương Nguyễn"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167135,"favorite_count":0,"down_vote_count":3,"up_vote_count":50,"accepted_answer_id":2663098,"answer_count":10,"score":47,"last_activity_date":1647795858,"creation_date":1271562880,"question_id":2661065,"body_markdown":"I&#39;m looking for a good sorted list for java. Googling around give me some hints about using TreeSet/TreeMap. But these components is lack of one thing: random access to an element in the set.\r\nFor example, I want to access nth element in the sorted set, but with TreeSet, I must iterate over other n-1 elements before I can get there. It would be a waste since I would have upto several thousands elements in my Set.\r\n\r\nBasically, I&#39;m looking for some thing similar to a sorted list in .NET, with ability to add element fast, remove element fast, and have random access to any element in the list.\r\n\r\nHas this kind of sorted list implemented somewhere?\r\nThanks.\r\n\r\n**Edited**\r\n\r\nMy interest in SortedList grows out of this problems:\r\nI need to maintains a list of many thousands object (and can grow up to many hundred of thousands). These objects will be persisted to database. I want to randomly select few dozens of element from the whole list. So, I tried to maintain a separated on-memory list that contains the primary keys (Long numbers) of all objects. I need to add/remove keys from the list when object is added / removed from database. I&#39;m using an ArrayList right now but I&#39;m afraid ArrayList would not suit it when the number of records grows. (Imagine you have to iterate over several hundred thousands of elements every time an object is removed from database). Back to the time when I did .NET programming, then I would use a sorted List (List is a .NET class that once Sorted property set to true, will maintain order of its element, and provide binary search that help remove/insert element very quick). I&#39;m hoping that I can find some thing similar from java BCL but unluckily, I didn&#39;t find a good match.\r\n","title":"A good Sorted List for Java","body":"<p>I'm looking for a good sorted list for java. Googling around give me some hints about using TreeSet/TreeMap. But these components is lack of one thing: random access to an element in the set.\nFor example, I want to access nth element in the sorted set, but with TreeSet, I must iterate over other n-1 elements before I can get there. It would be a waste since I would have upto several thousands elements in my Set.</p>\n\n<p>Basically, I'm looking for some thing similar to a sorted list in .NET, with ability to add element fast, remove element fast, and have random access to any element in the list.</p>\n\n<p>Has this kind of sorted list implemented somewhere?\nThanks.</p>\n\n<p><strong>Edited</strong></p>\n\n<p>My interest in SortedList grows out of this problems:\nI need to maintains a list of many thousands object (and can grow up to many hundred of thousands). These objects will be persisted to database. I want to randomly select few dozens of element from the whole list. So, I tried to maintain a separated on-memory list that contains the primary keys (Long numbers) of all objects. I need to add/remove keys from the list when object is added / removed from database. I'm using an ArrayList right now but I'm afraid ArrayList would not suit it when the number of records grows. (Imagine you have to iterate over several hundred thousands of elements every time an object is removed from database). Back to the time when I did .NET programming, then I would use a sorted List (List is a .NET class that once Sorted property set to true, will maintain order of its element, and provide binary search that help remove/insert element very quick). I'm hoping that I can find some thing similar from java BCL but unluckily, I didn't find a good match.</p>\n"},{"tags":["java","nullpointerexception","mockito","null-pointer"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647794785,"post_id":71548678,"comment_id":126455434,"body_markdown":"The heuristic for debugging a NullPointerException is almost always the same: You should critically read your exception&#39;s stacktrace to find the line of code at fault, the line that throws the exception, and then inspect that line carefully, find out which variable is null, and then trace back into your code to see why. You will run into these again and again, trust me. In the future, please search on the subject before posting, since this is too common a problem to post yet another NPE question.","body":"The heuristic for debugging a NullPointerException is almost always the same: You should critically read your exception&#39;s stacktrace to find the line of code at fault, the line that throws the exception, and then inspect that line carefully, find out which variable is null, and then trace back into your code to see why. You will run into these again and again, trust me. In the future, please search on the subject before posting, since this is too common a problem to post yet another NPE question."},{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1647794794,"post_id":71548678,"comment_id":126455439,"body_markdown":"You seem to already be aware of the problem that some pointer is supposed to be set to some value, but it isn&#39;t, so what exactly is your question?","body":"You seem to already be aware of the problem that some pointer is supposed to be set to some value, but it isn&#39;t, so what exactly is your question?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647794815,"post_id":71548678,"comment_id":126455444,"body_markdown":"So, 1) please post the stack trace. 2) show the line that throws the exception. 3) tell which variable on that line is null and why you think that it shouldn&#39;t be null...","body":"So, 1) please post the stack trace. 2) show the line that throws the exception. 3) tell which variable on that line is null and why you think that it shouldn&#39;t be null..."},{"owner":{"account_id":14850441,"reputation":1,"user_id":10724566,"display_name":"Ondra Hrub&#253;"},"score":0,"creation_date":1647795139,"post_id":71548678,"comment_id":126455532,"body_markdown":"@mkrieger1 problem is that I am trying to change the products value by having the foreach loop through the Map but it doesn&#39;t seem to work, first error is on line 92 where I try to get the price of the lastScannedProduct","body":"@mkrieger1 problem is that I am trying to change the products value by having the foreach loop through the Map but it doesn&#39;t seem to work, first error is on line 92 where I try to get the price of the lastScannedProduct"},{"owner":{"account_id":14850441,"reputation":1,"user_id":10724566,"display_name":"Ondra Hrub&#253;"},"score":0,"creation_date":1647795173,"post_id":71548678,"comment_id":126455542,"body_markdown":"@HovercraftFullOfEels ```java.lang.NullPointerException\n\tat ps.CashRegister.scan(CashRegister.java:92)\nat ps.CashRegisterTest.lookupandDisplayNonPerishableProduct(CashRegisterTest.java:81)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)```","body":"@HovercraftFullOfEels <code>java.lang.NullPointerException \tat ps.CashRegister.scan(CashRegister.java:92) at ps.CashRegisterTest.lookupandDisplayNonPerishableProduct(Cas&zwnj;&#8203;hRegisterTest.java:8&zwnj;&#8203;1) at java.base&#47;java.util.ArrayList.forEach(ArrayList.java:1507) at java.base&#47;java.util.ArrayList.forEach(ArrayList.java:1507)</code>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647795434,"post_id":71548678,"comment_id":126455609,"body_markdown":"Ondra: important information such as this should be posted in the question as an [edit], not in comments. Also, as previously requested, please indicate which line throws the exception, which line is `CashRegister.java:92`, the 92nd line of your class. Again, post that information *in the question itself*.","body":"Ondra: important information such as this should be posted in the question as an <a href=\"https://stackoverflow.com/posts/71548678/edit\">edit</a>, not in comments. Also, as previously requested, please indicate which line throws the exception, which line is <code>CashRegister.java:92</code>, the 92nd line of your class. Again, post that information <i>in the question itself</i>."},{"owner":{"account_id":14850441,"reputation":1,"user_id":10724566,"display_name":"Ondra Hrub&#253;"},"score":0,"creation_date":1647795688,"post_id":71548678,"comment_id":126455676,"body_markdown":"@HovercraftFullOfEels Line 92 is this &#39;&#39;&#39;SalesRecord salesRecord = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());&#39;&#39;&#39; in the public void scan(int barcode) method. I&#39;m sorry I&#39;ll add it as an edit","body":"@HovercraftFullOfEels Line 92 is this &#39;&#39;&#39;SalesRecord salesRecord = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());&#39;&#39;&#39; in the public void scan(int barcode) method. I&#39;m sorry I&#39;ll add it as an edit"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647796586,"post_id":71548678,"comment_id":126455886,"body_markdown":"You will have to look into your own running code to see why `lastScannedProduct` stays null. Use of a debugger will help you with this.","body":"You will have to look into your own running code to see why <code>lastScannedProduct</code> stays null. Use of a debugger will help you with this."}],"owner":{"account_id":14850441,"reputation":1,"user_id":10724566,"display_name":"Ondra Hrub&#253;"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647794741,"answer_count":0,"score":0,"last_activity_date":1647795732,"creation_date":1647794691,"question_id":71548678,"body_markdown":"I keep getting NullPointerException on all my Tests.\r\nI have a CashRegister Class with a Product object lastScannedProduct that is supposed to be initially null but then it&#39;s supposed to be changed I tried to change it by using a foreach loop that scans through a LinkedHashMap&lt;Product, SalesRecord&gt; salesCache that saves all the Products and Sales Records but it doesn&#39;t seem to work, I would grately appreciate any help:\r\n```\r\nclass CashRegister {\r\n\r\n    private final Clock clock;\r\n    private final Printer printer;\r\n    private final UI ui;\r\n    private final SalesService salesService;\r\n\r\n    // Declare a field to keep a salesCache, which is a mapping between a Product and a SalesRecord.\r\n    // When a product gets scanned multiple times, the quantity of the salesRecord is increased. \r\n    // A LinkedHashMap has the benefit that, in contrast to the HashMap, the order in which \r\n    // the items were added is preserved.\r\n\r\n    // Declare a field to keep track of the last scanned product, initially being null.\r\n\r\n    // TODO Declare and initialize fields.\r\n    Product lastScannedProduct = null;\r\n    LinkedHashMap&lt;Product, SalesRecord&gt; salesCache;\r\n    int quantity = 1;\r\n\r\n\r\n    /**\r\n     * Create a business object\r\n     *\r\n     * @param clock        wall clock\r\n     * @param printer      to use\r\n     * @param ui           to use\r\n     * @param salesService to use\r\n     */\r\n    CashRegister(Clock clock, Printer printer, UI ui, SalesService salesService) {\r\n        this.clock = clock;\r\n        this.printer = printer;\r\n        this.ui = ui;\r\n        this.salesService = salesService;\r\n        //lastScannedProduct = null;\r\n        salesCache = new LinkedHashMap&lt;&gt;();\r\n\r\n    }\r\n\r\n    /**\r\n     * The scan method is triggered by scanning a product by the cashier.\r\n     * Get the product from the salesService. If the product can&#39;t be found, an UnknownProductException is thrown and the\r\n     * error message from the exception is shown on the display (ui).\r\n     * If found, check if there is a salesRecord for this product already. If not, create one. If it exists, update the quantity.\r\n     * In case a perishable product was scanned, the cashier should get a calendar on his/her display.\r\n     * The product is displayed on the display.\r\n     *\r\n     * @param barcode\r\n     */\r\n    public void scan(int barcode) {\r\n        //TODO implement scan\r\n        //Product product = salesService.lookupProduct(barcode);\r\n\r\n        if (salesCache.containsKey(barcode)) { //TODO get the existing Sales Record and change quantity\r\n            SalesRecord existing = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());\r\n            for (SalesRecord sr :\r\n                    salesCache.values()) {\r\n                if (sr.getBarcode() == barcode) {\r\n                    existing = sr;\r\n                }\r\n            }\r\n            for (Product pr :\r\n                    salesCache.keySet()) {\r\n                if (pr.getBarcode() == barcode) {\r\n                    lastScannedProduct = pr;\r\n                }\r\n            }\r\n            existing.increaseQuantity(1);\r\n            quantity++;\r\n            salesCache.put(lastScannedProduct, existing);\r\n        } else {\r\n            for (Product pr :\r\n                    salesCache.keySet()) {\r\n                if (pr.getBarcode() == barcode) {\r\n                    lastScannedProduct = pr;\r\n                }\r\n            }\r\n            SalesRecord salesRecord = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());\r\n            salesCache.put(lastScannedProduct, salesRecord);\r\n        }\r\n        if (lastScannedProduct.isPerishable() == false) {\r\n            //salesService.lookupProduct(barcode);\r\n            ui.displayProduct(lastScannedProduct);\r\n\r\n        } else if ((lastScannedProduct.isPerishable() == true)) {\r\n            ui.displayCalendar();\r\n            //correctSalesPrice();\r\n        } else {\r\n            ui.displayErrorMessage(&quot;Unknown Product!&quot;);\r\n            //throw new UnknownProductException(&quot;&quot;);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Submit the sales to the sales service, finalizing the sales transaction.\r\n     * All salesRecords in the salesCache are stored (one-by-one) in the salesService.\r\n     * All caches are reset.\r\n     */\r\n    public void finalizeSalesTransaction() {\r\n        //TODO implement finalizeSalesTransaction()\r\n        for (SalesRecord sr :\r\n                salesCache.values()) {\r\n            salesService.sold(sr);\r\n        }\r\n        salesCache.clear();\r\n\r\n\r\n//        SalesRecord salesRecord = new SalesRecord(lastScannedProduct.getBarcode(), clock , lastScannedProduct.getPrice())\r\n//\r\n//        salesService.sold(salesRecord);\r\n\r\n}\r\n\r\n    /**\r\n     * Correct the sales price of the last scanned product by considering the\r\n     * given best before date, then submit the product to the service and save\r\n     * in list.\r\n     *\r\n     * This method consults the clock to see if the product is eligible for a\r\n     * price reduction because it is near or at its best before date.\r\n     * \r\n     * Precondition is that the last scanned product is the perishable product. \r\n     * You don&#39;t need to check that in your code. \r\n     * \r\n     * To find the number of days from now till the bestBeforeDate, use\r\n     * LocalDate.now(clock).until(bestBeforeDate).getDays();\r\n     * \r\n     * Depending on the number of days, update the price in the salesRecord folowing the \r\n     * pricing strategy as described in the assignment\r\n     *\r\n     * Update the salesRecord belonging to the last scanned product if necessary, so \r\n     * update the price and set the BestBeforeDate.\r\n     * \r\n     * @param bestBeforeDate\r\n     * @throws UnknownBestBeforeException in case the best before date is null.\r\n     */\r\n    public void correctSalesPrice(LocalDate bestBeforeDate) throws UnknownBestBeforeException {\r\n        //TODO implement correctSalesPrice\r\n        int percentOff = 0;\r\n        int remainingPricePerc = 100;\r\n//        for (Product pr :\r\n//                salesCache.keySet()) {\r\n//            if (pr.getBarcode() == barcode) {\r\n//                lastScannedProduct = pr;\r\n//            }\r\n//        }\r\n        int brc = lastScannedProduct.getBarcode();\r\n        SalesRecord sc = null;\r\n        for (SalesRecord sr :\r\n                salesCache.values()) {\r\n                if (sr.getBarcode() == brc) {\r\n                    sc = sr;\r\n                }\r\n        }\r\n       if (bestBeforeDate == null) {\r\n           ui.displayErrorMessage(&quot;Best before Date is null&quot;);\r\n       } else {\r\n           //Number of days left till expiring\r\n           int left =  LocalDate.now(clock).until(bestBeforeDate).getDays();\r\n           if (left &gt;= 2) {\r\n               percentOff = 0;\r\n               remainingPricePerc = 100;\r\n\r\n           } else if (left == 1) {\r\n               percentOff = 30;\r\n               remainingPricePerc = 65;\r\n\r\n           } else if ( left == 0) {\r\n               percentOff = 65;\r\n               remainingPricePerc = 35;\r\n\r\n           } else if (left &lt; 0) {\r\n               percentOff = 100;\r\n               remainingPricePerc = 0;\r\n\r\n           }\r\n           int beforePrice = lastScannedProduct.getPrice();\r\n           int afterPrice = beforePrice/100 * remainingPricePerc;\r\n           sc.setSalesPrice(afterPrice);\r\n           sc.setBestBeforeDate(bestBeforeDate);\r\n\r\n       }\r\n\r\n        \r\n    }\r\n\r\n    /**\r\n     * Print the receipt for all the sold products, to hand the receipt to the\r\n     * customer. The receipt contains lines containing: the product description,\r\n     * the (possibly reduced) sales price per piece and the quantity, separated by\r\n     * a tab.\r\n     * The order of printing is the order of scanning, however Perishable\r\n     * products are printed first. The non-perishables afterwards.\r\n     */\r\n    public void printReceipt() {\r\n        //TODO implement printReceipt\r\n//        Collection prko =new ArrayList();\r\n//        for (Product pr :\r\n//                salesCache.keySet()) {\r\n//            lastScannedProduct = pr;\r\n//            prko.add(lastScannedProduct.getDescription());\r\n//            prko.add(lastScannedProduct.getPrice());\r\n//\r\n//        }\r\n//        for (SalesRecord sr :\r\n//                salesCache.values()) {\r\n//            prko.add(sr.getSalesPrice());\r\n//            prko.add(sr.getQuantity());\r\n//        }\r\n//\r\n//        for (Entry:\r\n//             prko.stream().toArray()) {\r\n//\r\n//        }\r\n        for (Product pr :\r\n                salesCache.keySet()) {\r\n            printer.println(pr.getDescription() + &quot;\\t&quot;  + pr.getPrice() + &quot;\\t&quot; + quantity);\r\n\r\n        }\r\n\r\n        \r\n    }\r\n}\r\n```\r\n\r\nCashRegisterTest.Class :\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class CashRegisterTest {\r\n\r\n    Product lamp = new Product(&quot;led lamp&quot;, &quot;Led Lamp&quot;, 250, 1_234, false);\r\n    Product banana = new Product(&quot;banana&quot;, &quot;Bananas Fyffes&quot;, 150, 9_234, true);\r\n    Product cheese = new Product(&quot;cheese&quot;, &quot;Gouda 48+&quot;, 800, 7_687, true);\r\n    Clock clock = Clock.systemDefaultZone();\r\n\r\n    Map&lt;String, Product&gt; products = Map.of(\r\n            &quot;lamp&quot;, lamp,\r\n            &quot;banana&quot;, banana,\r\n            &quot;cheese&quot;, cheese\r\n    );\r\n\r\n    @Mock\r\n    Printer printer;\r\n\r\n    @Mock\r\n    SalesService salesService;\r\n\r\n    @Mock\r\n    UI ui;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;SalesRecord&gt; salesRecordCaptor;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;Product&gt; productCaptor;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;String&gt; stringLineCaptor;\r\n\r\n    CashRegister cashRegister;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        cashRegister = new CashRegister(clock, printer, ui, salesService);\r\n    }\r\n\r\n    /**\r\n     * Test that after a scan, a non perishable product is looked up and\r\n     * correctly displayed.Have a look at requirements in the JavaDoc of the\r\n     * CashRegister methods. Test product is non-perishable, e.g. led lamp.\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;Train the mocked salesService and check if a lookup has been\r\n     * done.&lt;li&gt;Check if the mocked UI was asked to display the\r\n     * product.&lt;li&gt;Ensure that ui.displayCalendar is not called.&lt;b&gt;NOTE\r\n     *\r\n     * @throws ps.UnknownProductException\r\n     */\r\n    @Test\r\n    public void lookupandDisplayNonPerishableProduct() throws UnknownProductException {\r\n\r\n        //TODO 1 Implement Test Method and write necessary implementation in scan() method of CashRegister\r\n        //when()\r\n            cashRegister.scan(lamp.getBarcode());\r\n            ui.displayProduct(lamp);\r\n            assertThat(lamp.isPerishable()).isFalse();\r\n            verify(ui, times(0)).displayCalendar();\r\n\r\n        //fail( &quot;method lookupandDisplayNonPerishableProduct reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Test that both the product and calendar are displayed when a perishable\r\n     * product is scanned.\r\n     *\r\n     * @throws UnknownProductException but don&#39;t worry about it, since you test\r\n     * with an existing product now.\r\n     */\r\n    @Test\r\n    public void lookupandDisplayPerishableProduct() throws UnknownProductException {\r\n        //TODO 2 Implement Test Method and write necessary implementation in scan() method of CashRegister\r\n        cashRegister.scan(banana.getBarcode());\r\n        ui.displayProduct(banana);\r\n        assertThat(banana.isPerishable()).isTrue();\r\n        verify(ui).displayCalendar();\r\n        //fail( &quot;method lookupandDisplayPerishableProduct reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Scan a product, finalize the sales transaction, then verify that the\r\n     * correct salesRecord is sent to the SalesService. Use a non-perishable\r\n     * product. SalesRecord has no equals method (and do not add it), instead\r\n     * use {@code assertThat(...).usingRecursiveComparison().isEqualTo(...)}.\r\n     * Also verify that if you print a receipt after finalizing, there is no output.\r\n     *\r\n     * @throws ps.UnknownProductException\r\n     */\r\n    @Test\r\n    public void finalizeSalesTransaction() throws UnknownProductException {\r\n        //TODO 3 Implement Test Method and write necessary implementation in finalizeSalesTransaction() method of CashRegister\r\n        cashRegister.scan(lamp.getBarcode());\r\n        cashRegister.finalizeSalesTransaction();\r\n        SalesRecord expected = new SalesRecord(lamp.getBarcode(), LocalDate.now(), lamp.getPrice());\r\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\r\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\r\n        assertThat(salesRecordCaptor.capture()).usingRecursiveComparison().isEqualTo(expected);\r\n        cashRegister.printReceipt();\r\n        verify(printer, times(0)).println(stringLineCaptor.capture());\r\n\r\n        //fail( &quot;method finalizeSalesTransaction reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Verify price reductions. For a perishable product with: 10 days till\r\n     * best-before, no reduction; 2 days till best-before, no reduction; 1 day\r\n     * till best-before, 35% price reduction; 0 days till best-before (so sales\r\n     * date is best-before date), 65% price reduction; -1 days till best-before\r\n     * (product over date), 100% price reduction.\r\n     *\r\n     * Check the correct price using the salesService and an argument captor.\r\n     */\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n        &quot;banana,10,100&quot;,\r\n        &quot;banana,2,100&quot;,\r\n        &quot;banana,1,65&quot;,\r\n        &quot;banana,0,35&quot;,\r\n        &quot;banana,-1,0&quot;,})\r\n    public void priceReductionNearBestBefore(String productName, int daysBest, int pricePercent) throws UnknownBestBeforeException, UnknownProductException {\r\n        //TODO 4 Implement Test Method and write necessary implementation in correctSalesPrice() method of CashRegister\r\n        LocalDate days = LocalDate.now().plusDays(daysBest);\r\n        productCaptor = ArgumentCaptor.forClass(Product.class);\r\n        cashRegister.correctSalesPrice(days);\r\n\r\n\r\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\r\n\r\n        //salesService;\r\n\r\n        verify(salesRecordCaptor.capture()).setSalesPrice(productCaptor.capture().getPrice()/100*pricePercent);\r\n\r\n\r\n        //assertThat(cashRegister.correctSalesPrice(daysBest))\r\n        //fail( &quot;method priceReductionNearBestBefore reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * When multiple products are scanned, the resulting lines on the receipt\r\n     * should be perishable first, not perishables last. Scan a banana, led lamp\r\n     * and a cheese. The products should appear on the printed receipt in\r\n     * banana, cheese, lamp order. The printed product line on the receipt\r\n     * should contain description, (reduced) salesprice per piece and the\r\n     * quantity.\r\n     *\r\n     */\r\n    @Test\r\n    public void printInProperOrder() throws UnknownBestBeforeException, UnknownProductException {\r\n        //TODO 5 Implement Test Method and write necessary implementation in printReceipt() method of CashRegister\r\n        cashRegister.scan(lamp.getBarcode());\r\n        cashRegister.scan(banana.getBarcode());\r\n        cashRegister.scan(cheese.getBarcode());\r\n\r\n        StringBuilder str = new StringBuilder();\r\n        str.append(lamp.toString());\r\n        str.append(banana.toString());\r\n        str.append(cheese.toString());\r\n\r\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\r\n        List&lt;Product&gt; expected = new ArrayList&lt;&gt;();\r\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\r\n        List&lt;SalesRecord&gt; actual = salesRecordCaptor.getAllValues();\r\n        cashRegister.printReceipt();\r\n        InOrder inOrder = Mockito.inOrder();\r\n\r\n\r\n        verify(stringLineCaptor.capture()).equals(str.toString());\r\n       // fail( &quot;method printInProperOrder reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Test that invoking correctSalesPrice with null parameter results in\r\n     * exception.\r\n     *\r\n     * @throws UnknownProductException (but that one is irrelevant). First scan\r\n     * (scan) a perishable product. Afterwards invoke correctSalesPrice with\r\n     * null parameter. An UnknownProductException should be thrown.\r\n     */\r\n    @Test\r\n    public void correctSalesPriceWithBestBeforeIsNullThrowsException() throws UnknownProductException {\r\n        try {\r\n            Product rhino = new Product(&quot;rhino&quot;, &quot;Rhino&quot;, 250, 1_234, true);\r\n            cashRegister.scan(rhino.getBarcode());\r\n            LocalDate da = null;\r\n            cashRegister.correctSalesPrice(da);\r\n            fail(&quot;Should have thrown UnknownBestBeforeException&quot;);\r\n        }\r\n        catch (UnknownBestBeforeException e){\r\n                System.out.println(e);\r\n            }\r\n        //TODO 6 Implement Test Method and write necessary implementation in correctSalesPrice() method of CashRegister\r\n        //fail( &quot;method correctSalesPriceWithBestBeforeIsNull reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Test scanning an unknown product results in error message on GUI.\r\n     */\r\n    @Test\r\n    public void lookupUnknownProductShouldDisplayErrorMessage() throws UnknownProductException {\r\n\r\n        //TODO 7 Implement Test Method and write necessary implementation in scan() method of CashRegister\r\n        Product rhino = new Product(&quot;rhino&quot;, &quot;Rhino&quot;, 250, 1_234, false);\r\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\r\n        cashRegister.scan(rhino.getBarcode());\r\n        //when(cashRegister.scan(rhino.getBarcode())).thenThrow(UnknownProductException.class);\r\n        verify(ui).displayErrorMessage(stringLineCaptor.capture());\r\n        //fail( &quot;method lookupUnknownProduct... reached end. You know what to do.&quot; );\r\n    }\r\n\r\n    /**\r\n     * Test that a product that is scanned twice, is registered in the\r\n     * salesService with the proper quantity AND make sure printer prints the\r\n     * proper quantity as well.\r\n     *\r\n     * @throws UnknownProductException\r\n     */\r\n    @Test\r\n    public void scanProductTwiceShouldIncreaseQuantity() throws UnknownProductException {\r\n        cashRegister.scan(lamp.getBarcode());\r\n        cashRegister.scan(lamp.getBarcode());\r\n        verify(salesService, times(2)).lookupProduct(lamp.getBarcode());\r\n        //TODO 8 Implement Test Method and write necessary implementation in scan() method of CashRegister\r\n        //fail( &quot;method scanProductTwice reached end. You know what to do.&quot; );\r\n    }\r\n}\r\n```\r\nErrorMessage: \r\n```\r\njava.lang.NullPointerException\r\n\tat ps.CashRegister.scan(CashRegister.java:92)\r\n\tat ps.CashRegisterTest.lookupandDisplayNonPerishableProduct(CashRegisterTest.java:81)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```","title":"I keep getting NullPointerException on CashRegisterClass","body":"<p>I keep getting NullPointerException on all my Tests.\nI have a CashRegister Class with a Product object lastScannedProduct that is supposed to be initially null but then it's supposed to be changed I tried to change it by using a foreach loop that scans through a LinkedHashMap&lt;Product, SalesRecord&gt; salesCache that saves all the Products and Sales Records but it doesn't seem to work, I would grately appreciate any help:</p>\n<pre><code>class CashRegister {\n\n    private final Clock clock;\n    private final Printer printer;\n    private final UI ui;\n    private final SalesService salesService;\n\n    // Declare a field to keep a salesCache, which is a mapping between a Product and a SalesRecord.\n    // When a product gets scanned multiple times, the quantity of the salesRecord is increased. \n    // A LinkedHashMap has the benefit that, in contrast to the HashMap, the order in which \n    // the items were added is preserved.\n\n    // Declare a field to keep track of the last scanned product, initially being null.\n\n    // TODO Declare and initialize fields.\n    Product lastScannedProduct = null;\n    LinkedHashMap&lt;Product, SalesRecord&gt; salesCache;\n    int quantity = 1;\n\n\n    /**\n     * Create a business object\n     *\n     * @param clock        wall clock\n     * @param printer      to use\n     * @param ui           to use\n     * @param salesService to use\n     */\n    CashRegister(Clock clock, Printer printer, UI ui, SalesService salesService) {\n        this.clock = clock;\n        this.printer = printer;\n        this.ui = ui;\n        this.salesService = salesService;\n        //lastScannedProduct = null;\n        salesCache = new LinkedHashMap&lt;&gt;();\n\n    }\n\n    /**\n     * The scan method is triggered by scanning a product by the cashier.\n     * Get the product from the salesService. If the product can't be found, an UnknownProductException is thrown and the\n     * error message from the exception is shown on the display (ui).\n     * If found, check if there is a salesRecord for this product already. If not, create one. If it exists, update the quantity.\n     * In case a perishable product was scanned, the cashier should get a calendar on his/her display.\n     * The product is displayed on the display.\n     *\n     * @param barcode\n     */\n    public void scan(int barcode) {\n        //TODO implement scan\n        //Product product = salesService.lookupProduct(barcode);\n\n        if (salesCache.containsKey(barcode)) { //TODO get the existing Sales Record and change quantity\n            SalesRecord existing = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());\n            for (SalesRecord sr :\n                    salesCache.values()) {\n                if (sr.getBarcode() == barcode) {\n                    existing = sr;\n                }\n            }\n            for (Product pr :\n                    salesCache.keySet()) {\n                if (pr.getBarcode() == barcode) {\n                    lastScannedProduct = pr;\n                }\n            }\n            existing.increaseQuantity(1);\n            quantity++;\n            salesCache.put(lastScannedProduct, existing);\n        } else {\n            for (Product pr :\n                    salesCache.keySet()) {\n                if (pr.getBarcode() == barcode) {\n                    lastScannedProduct = pr;\n                }\n            }\n            SalesRecord salesRecord = new SalesRecord(barcode, LocalDate.now(), lastScannedProduct.getPrice());\n            salesCache.put(lastScannedProduct, salesRecord);\n        }\n        if (lastScannedProduct.isPerishable() == false) {\n            //salesService.lookupProduct(barcode);\n            ui.displayProduct(lastScannedProduct);\n\n        } else if ((lastScannedProduct.isPerishable() == true)) {\n            ui.displayCalendar();\n            //correctSalesPrice();\n        } else {\n            ui.displayErrorMessage(&quot;Unknown Product!&quot;);\n            //throw new UnknownProductException(&quot;&quot;);\n        }\n\n\n    }\n\n    /**\n     * Submit the sales to the sales service, finalizing the sales transaction.\n     * All salesRecords in the salesCache are stored (one-by-one) in the salesService.\n     * All caches are reset.\n     */\n    public void finalizeSalesTransaction() {\n        //TODO implement finalizeSalesTransaction()\n        for (SalesRecord sr :\n                salesCache.values()) {\n            salesService.sold(sr);\n        }\n        salesCache.clear();\n\n\n//        SalesRecord salesRecord = new SalesRecord(lastScannedProduct.getBarcode(), clock , lastScannedProduct.getPrice())\n//\n//        salesService.sold(salesRecord);\n\n}\n\n    /**\n     * Correct the sales price of the last scanned product by considering the\n     * given best before date, then submit the product to the service and save\n     * in list.\n     *\n     * This method consults the clock to see if the product is eligible for a\n     * price reduction because it is near or at its best before date.\n     * \n     * Precondition is that the last scanned product is the perishable product. \n     * You don't need to check that in your code. \n     * \n     * To find the number of days from now till the bestBeforeDate, use\n     * LocalDate.now(clock).until(bestBeforeDate).getDays();\n     * \n     * Depending on the number of days, update the price in the salesRecord folowing the \n     * pricing strategy as described in the assignment\n     *\n     * Update the salesRecord belonging to the last scanned product if necessary, so \n     * update the price and set the BestBeforeDate.\n     * \n     * @param bestBeforeDate\n     * @throws UnknownBestBeforeException in case the best before date is null.\n     */\n    public void correctSalesPrice(LocalDate bestBeforeDate) throws UnknownBestBeforeException {\n        //TODO implement correctSalesPrice\n        int percentOff = 0;\n        int remainingPricePerc = 100;\n//        for (Product pr :\n//                salesCache.keySet()) {\n//            if (pr.getBarcode() == barcode) {\n//                lastScannedProduct = pr;\n//            }\n//        }\n        int brc = lastScannedProduct.getBarcode();\n        SalesRecord sc = null;\n        for (SalesRecord sr :\n                salesCache.values()) {\n                if (sr.getBarcode() == brc) {\n                    sc = sr;\n                }\n        }\n       if (bestBeforeDate == null) {\n           ui.displayErrorMessage(&quot;Best before Date is null&quot;);\n       } else {\n           //Number of days left till expiring\n           int left =  LocalDate.now(clock).until(bestBeforeDate).getDays();\n           if (left &gt;= 2) {\n               percentOff = 0;\n               remainingPricePerc = 100;\n\n           } else if (left == 1) {\n               percentOff = 30;\n               remainingPricePerc = 65;\n\n           } else if ( left == 0) {\n               percentOff = 65;\n               remainingPricePerc = 35;\n\n           } else if (left &lt; 0) {\n               percentOff = 100;\n               remainingPricePerc = 0;\n\n           }\n           int beforePrice = lastScannedProduct.getPrice();\n           int afterPrice = beforePrice/100 * remainingPricePerc;\n           sc.setSalesPrice(afterPrice);\n           sc.setBestBeforeDate(bestBeforeDate);\n\n       }\n\n        \n    }\n\n    /**\n     * Print the receipt for all the sold products, to hand the receipt to the\n     * customer. The receipt contains lines containing: the product description,\n     * the (possibly reduced) sales price per piece and the quantity, separated by\n     * a tab.\n     * The order of printing is the order of scanning, however Perishable\n     * products are printed first. The non-perishables afterwards.\n     */\n    public void printReceipt() {\n        //TODO implement printReceipt\n//        Collection prko =new ArrayList();\n//        for (Product pr :\n//                salesCache.keySet()) {\n//            lastScannedProduct = pr;\n//            prko.add(lastScannedProduct.getDescription());\n//            prko.add(lastScannedProduct.getPrice());\n//\n//        }\n//        for (SalesRecord sr :\n//                salesCache.values()) {\n//            prko.add(sr.getSalesPrice());\n//            prko.add(sr.getQuantity());\n//        }\n//\n//        for (Entry:\n//             prko.stream().toArray()) {\n//\n//        }\n        for (Product pr :\n                salesCache.keySet()) {\n            printer.println(pr.getDescription() + &quot;\\t&quot;  + pr.getPrice() + &quot;\\t&quot; + quantity);\n\n        }\n\n        \n    }\n}\n</code></pre>\n<p>CashRegisterTest.Class :</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class CashRegisterTest {\n\n    Product lamp = new Product(&quot;led lamp&quot;, &quot;Led Lamp&quot;, 250, 1_234, false);\n    Product banana = new Product(&quot;banana&quot;, &quot;Bananas Fyffes&quot;, 150, 9_234, true);\n    Product cheese = new Product(&quot;cheese&quot;, &quot;Gouda 48+&quot;, 800, 7_687, true);\n    Clock clock = Clock.systemDefaultZone();\n\n    Map&lt;String, Product&gt; products = Map.of(\n            &quot;lamp&quot;, lamp,\n            &quot;banana&quot;, banana,\n            &quot;cheese&quot;, cheese\n    );\n\n    @Mock\n    Printer printer;\n\n    @Mock\n    SalesService salesService;\n\n    @Mock\n    UI ui;\n\n    @Captor\n    private ArgumentCaptor&lt;SalesRecord&gt; salesRecordCaptor;\n\n    @Captor\n    private ArgumentCaptor&lt;Product&gt; productCaptor;\n\n    @Captor\n    private ArgumentCaptor&lt;String&gt; stringLineCaptor;\n\n    CashRegister cashRegister;\n\n    @BeforeEach\n    void setup() {\n        cashRegister = new CashRegister(clock, printer, ui, salesService);\n    }\n\n    /**\n     * Test that after a scan, a non perishable product is looked up and\n     * correctly displayed.Have a look at requirements in the JavaDoc of the\n     * CashRegister methods. Test product is non-perishable, e.g. led lamp.\n     * &lt;ul&gt;\n     * &lt;li&gt;Train the mocked salesService and check if a lookup has been\n     * done.&lt;li&gt;Check if the mocked UI was asked to display the\n     * product.&lt;li&gt;Ensure that ui.displayCalendar is not called.&lt;b&gt;NOTE\n     *\n     * @throws ps.UnknownProductException\n     */\n    @Test\n    public void lookupandDisplayNonPerishableProduct() throws UnknownProductException {\n\n        //TODO 1 Implement Test Method and write necessary implementation in scan() method of CashRegister\n        //when()\n            cashRegister.scan(lamp.getBarcode());\n            ui.displayProduct(lamp);\n            assertThat(lamp.isPerishable()).isFalse();\n            verify(ui, times(0)).displayCalendar();\n\n        //fail( &quot;method lookupandDisplayNonPerishableProduct reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Test that both the product and calendar are displayed when a perishable\n     * product is scanned.\n     *\n     * @throws UnknownProductException but don't worry about it, since you test\n     * with an existing product now.\n     */\n    @Test\n    public void lookupandDisplayPerishableProduct() throws UnknownProductException {\n        //TODO 2 Implement Test Method and write necessary implementation in scan() method of CashRegister\n        cashRegister.scan(banana.getBarcode());\n        ui.displayProduct(banana);\n        assertThat(banana.isPerishable()).isTrue();\n        verify(ui).displayCalendar();\n        //fail( &quot;method lookupandDisplayPerishableProduct reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Scan a product, finalize the sales transaction, then verify that the\n     * correct salesRecord is sent to the SalesService. Use a non-perishable\n     * product. SalesRecord has no equals method (and do not add it), instead\n     * use {@code assertThat(...).usingRecursiveComparison().isEqualTo(...)}.\n     * Also verify that if you print a receipt after finalizing, there is no output.\n     *\n     * @throws ps.UnknownProductException\n     */\n    @Test\n    public void finalizeSalesTransaction() throws UnknownProductException {\n        //TODO 3 Implement Test Method and write necessary implementation in finalizeSalesTransaction() method of CashRegister\n        cashRegister.scan(lamp.getBarcode());\n        cashRegister.finalizeSalesTransaction();\n        SalesRecord expected = new SalesRecord(lamp.getBarcode(), LocalDate.now(), lamp.getPrice());\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\n        assertThat(salesRecordCaptor.capture()).usingRecursiveComparison().isEqualTo(expected);\n        cashRegister.printReceipt();\n        verify(printer, times(0)).println(stringLineCaptor.capture());\n\n        //fail( &quot;method finalizeSalesTransaction reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Verify price reductions. For a perishable product with: 10 days till\n     * best-before, no reduction; 2 days till best-before, no reduction; 1 day\n     * till best-before, 35% price reduction; 0 days till best-before (so sales\n     * date is best-before date), 65% price reduction; -1 days till best-before\n     * (product over date), 100% price reduction.\n     *\n     * Check the correct price using the salesService and an argument captor.\n     */\n    @ParameterizedTest\n    @CsvSource({\n        &quot;banana,10,100&quot;,\n        &quot;banana,2,100&quot;,\n        &quot;banana,1,65&quot;,\n        &quot;banana,0,35&quot;,\n        &quot;banana,-1,0&quot;,})\n    public void priceReductionNearBestBefore(String productName, int daysBest, int pricePercent) throws UnknownBestBeforeException, UnknownProductException {\n        //TODO 4 Implement Test Method and write necessary implementation in correctSalesPrice() method of CashRegister\n        LocalDate days = LocalDate.now().plusDays(daysBest);\n        productCaptor = ArgumentCaptor.forClass(Product.class);\n        cashRegister.correctSalesPrice(days);\n\n\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\n\n        //salesService;\n\n        verify(salesRecordCaptor.capture()).setSalesPrice(productCaptor.capture().getPrice()/100*pricePercent);\n\n\n        //assertThat(cashRegister.correctSalesPrice(daysBest))\n        //fail( &quot;method priceReductionNearBestBefore reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * When multiple products are scanned, the resulting lines on the receipt\n     * should be perishable first, not perishables last. Scan a banana, led lamp\n     * and a cheese. The products should appear on the printed receipt in\n     * banana, cheese, lamp order. The printed product line on the receipt\n     * should contain description, (reduced) salesprice per piece and the\n     * quantity.\n     *\n     */\n    @Test\n    public void printInProperOrder() throws UnknownBestBeforeException, UnknownProductException {\n        //TODO 5 Implement Test Method and write necessary implementation in printReceipt() method of CashRegister\n        cashRegister.scan(lamp.getBarcode());\n        cashRegister.scan(banana.getBarcode());\n        cashRegister.scan(cheese.getBarcode());\n\n        StringBuilder str = new StringBuilder();\n        str.append(lamp.toString());\n        str.append(banana.toString());\n        str.append(cheese.toString());\n\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\n        List&lt;Product&gt; expected = new ArrayList&lt;&gt;();\n        salesRecordCaptor = ArgumentCaptor.forClass(SalesRecord.class);\n        List&lt;SalesRecord&gt; actual = salesRecordCaptor.getAllValues();\n        cashRegister.printReceipt();\n        InOrder inOrder = Mockito.inOrder();\n\n\n        verify(stringLineCaptor.capture()).equals(str.toString());\n       // fail( &quot;method printInProperOrder reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Test that invoking correctSalesPrice with null parameter results in\n     * exception.\n     *\n     * @throws UnknownProductException (but that one is irrelevant). First scan\n     * (scan) a perishable product. Afterwards invoke correctSalesPrice with\n     * null parameter. An UnknownProductException should be thrown.\n     */\n    @Test\n    public void correctSalesPriceWithBestBeforeIsNullThrowsException() throws UnknownProductException {\n        try {\n            Product rhino = new Product(&quot;rhino&quot;, &quot;Rhino&quot;, 250, 1_234, true);\n            cashRegister.scan(rhino.getBarcode());\n            LocalDate da = null;\n            cashRegister.correctSalesPrice(da);\n            fail(&quot;Should have thrown UnknownBestBeforeException&quot;);\n        }\n        catch (UnknownBestBeforeException e){\n                System.out.println(e);\n            }\n        //TODO 6 Implement Test Method and write necessary implementation in correctSalesPrice() method of CashRegister\n        //fail( &quot;method correctSalesPriceWithBestBeforeIsNull reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Test scanning an unknown product results in error message on GUI.\n     */\n    @Test\n    public void lookupUnknownProductShouldDisplayErrorMessage() throws UnknownProductException {\n\n        //TODO 7 Implement Test Method and write necessary implementation in scan() method of CashRegister\n        Product rhino = new Product(&quot;rhino&quot;, &quot;Rhino&quot;, 250, 1_234, false);\n        stringLineCaptor = ArgumentCaptor.forClass(String.class);\n        cashRegister.scan(rhino.getBarcode());\n        //when(cashRegister.scan(rhino.getBarcode())).thenThrow(UnknownProductException.class);\n        verify(ui).displayErrorMessage(stringLineCaptor.capture());\n        //fail( &quot;method lookupUnknownProduct... reached end. You know what to do.&quot; );\n    }\n\n    /**\n     * Test that a product that is scanned twice, is registered in the\n     * salesService with the proper quantity AND make sure printer prints the\n     * proper quantity as well.\n     *\n     * @throws UnknownProductException\n     */\n    @Test\n    public void scanProductTwiceShouldIncreaseQuantity() throws UnknownProductException {\n        cashRegister.scan(lamp.getBarcode());\n        cashRegister.scan(lamp.getBarcode());\n        verify(salesService, times(2)).lookupProduct(lamp.getBarcode());\n        //TODO 8 Implement Test Method and write necessary implementation in scan() method of CashRegister\n        //fail( &quot;method scanProductTwice reached end. You know what to do.&quot; );\n    }\n}\n</code></pre>\n<p>ErrorMessage:</p>\n<pre><code>java.lang.NullPointerException\n    at ps.CashRegister.scan(CashRegister.java:92)\n    at ps.CashRegisterTest.lookupandDisplayNonPerishableProduct(CashRegisterTest.java:81)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","oracle19c"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647795048,"creation_date":1647790901,"answer_id":71548194,"question_id":71547369,"body_markdown":"**1. LIKE is slow**\r\n&lt;br&gt; In your implementation, you use `LIKE &#39;%string%&#39;`. It fails index search.\r\n&lt;br&gt;Example of LIKE search:&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;Use `LIKE &#39;string%&#39;` and not `LIKE &#39;%string%&#39;`. If you specify a leading character, Oracle has a better chance of being able to use your upper index to perform the query - this will increase performance.\r\n\r\n&lt;br&gt;Another option is to try to create an inverse text index in case your name field consists of several words. See [CTXCAT index documentation][2]. Please note the table memory space will be increased significantly.\r\n\r\n**2. Hibernate is generating cross join**&lt;br&gt;\r\nThe second problem that Hibernate is generating `cross join`. It needs to be avoided.\r\n&lt;br&gt;Use [`JoinType.INNER`][3] in your criteria.\r\n&lt;br&gt;Another solution is to define Entity Graph. [Example][4].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AwwAQ.png\r\n  [2]: https://docs.oracle.com/cd/E11882_01/text.112/e24435/ind.htm#CCAPP9024\r\n  [3]: https://en.wikibooks.org/wiki/Java_Persistence/Criteria#JoinType\r\n  [4]: https://www.baeldung.com/jpa-entity-graph","title":"Spring JPA slow query with Oracle using like and upper","body":"<p><strong>1. LIKE is slow</strong>\n<br> In your implementation, you use <code>LIKE '%string%'</code>. It fails index search.\n<br>Example of LIKE search:<br>\n<a href=\"https://i.stack.imgur.com/AwwAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwwAQ.png\" alt=\"enter image description here\" /></a>\n<br>Use <code>LIKE 'string%'</code> and not <code>LIKE '%string%'</code>. If you specify a leading character, Oracle has a better chance of being able to use your upper index to perform the query - this will increase performance.</p>\n<p><br>Another option is to try to create an inverse text index in case your name field consists of several words. See <a href=\"https://docs.oracle.com/cd/E11882_01/text.112/e24435/ind.htm#CCAPP9024\" rel=\"nofollow noreferrer\">CTXCAT index documentation</a>. Please note the table memory space will be increased significantly.</p>\n<p><strong>2. Hibernate is generating cross join</strong><br>\nThe second problem that Hibernate is generating <code>cross join</code>. It needs to be avoided.\n<br>Use <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Criteria#JoinType\" rel=\"nofollow noreferrer\"><code>JoinType.INNER</code></a> in your criteria.\n<br>Another solution is to define Entity Graph. <a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"nofollow noreferrer\">Example</a>.</p>\n"}],"owner":{"account_id":24619680,"reputation":41,"user_id":18520230,"display_name":"Burl21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647795048,"creation_date":1647784296,"question_id":71547369,"body_markdown":"I encounter an optimisation problem and I can&#39;t figure out why my query is so slow.\r\n\r\nIn production when searching for `document.name` the application takes about 4 minutes when there are no results and without `IDX_DOC_NAME_UPPER`. With `IDX_DOC_NAME_UPPER` it is variable from 40s to 2m. \r\nIn **sqlplus** it takes about 3-4s with index and without 8-9s.\r\n\r\n`DOCUMENTS` contains about 2M records and `ACTIVITIES` 7M records.\r\n## DB SCHEMA\r\n~~~oracle\r\n-- DOCUMENTS\r\nCREATE TABLE DOCUMENTS\r\n(\r\n    ID          NUMBER(16) PRIMARY KEY,\r\n    NAME        VARCHAR(1024) NOT NULL,\r\n    DOC_SIZE    NUMBER(16)    NOT NULL,\r\n    CREATED     TIMESTAMP     NOT NULL\r\n);\r\nCREATE INDEX IDX_DOC_NAME_UPPER ON DOCUMENTS (UPPER(NAME));\r\n\r\n-- USERS\r\nCREATE TABLE USERS\r\n(\r\n    ID    NUMBER(16) PRIMARY KEY,\r\n    CNAME VARCHAR(256) NOT NULL\r\n    --others, removed for brevity\r\n);\r\n\r\n-- ACTIVITIES\r\nCREATE TABLE ACTIVITIES\r\n(\r\n    ID     NUMBER(16) PRIMARY KEY,\r\n    USR_ID NUMBER(16) references USERS (ID) NOT NULL,\r\n    DOC_ID NUMBER(16) references DOCUMENTS (ID),\r\n    PRT_ID NUMBER(16) references USERS (ID) NOT NULL\r\n    --others, removed for brevity\r\n);\r\nCREATE INDEX IDX_ACT_USR_ID ON ACTIVITIES (USR_ID);\r\nCREATE INDEX IDX_ACT_DOC_ID ON ACTIVITIES (DOC_ID);\r\n\r\n-- LOGS\r\nCREATE VIEW V_LOGS AS\r\nSELECT CNAME,\r\n       ACTIVITIES.USR_ID,\r\n       PRT_ID,\r\n       DOC_ID\r\n       --others, removed for brevity\r\nFROM ACTIVITIES,\r\n     USERS\r\nWHERE USERS.ID = ACTIVITIES.USR_ID;\r\n~~~\r\n\r\n## ENTITIES\r\n~~~java\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@Table(name = &quot;USERS&quot;)\r\n@SequenceGenerator(allocationSize = 1, name = &quot;USERS_ID&quot;, sequenceName = &quot;USERS_ID&quot;)\r\npublic class User {\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, nullable = false)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USERS_ID&quot;)\r\n\tprivate Long id;\r\n\r\n\t@NotNull\r\n\t@Column(name = &quot;CNAME&quot;, nullable = false, length = 256)\r\n\tprivate String cname;\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Immutable\r\n@Table(name = &quot;V_LOGS&quot;)\r\npublic class LogsView {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;USR_ID&quot;, nullable = false)\r\n\tprivate long usrId;\r\n\r\n\t@Column(name = &quot;PRT_ID&quot;, nullable = false)\r\n\tprivate long prtId;\r\n\r\n\t@Column(name = &quot;DOC_ID&quot;)\r\n\tprivate Long docId;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;USR_ID&quot;,\r\n\t\t\tnullable = false,\r\n\t\t\tinsertable = false,\r\n\t\t\tupdatable = false)\r\n\tprivate User user;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;PRT_ID&quot;,\r\n\t\t\tnullable = false,\r\n\t\t\tinsertable = false,\r\n\t\t\tupdatable = false)\r\n\tprivate User partner;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;DOC_ID&quot;,\r\n\t\t\tinsertable = false,\r\n\t\t\tupdatable = false)\r\n\tprivate Document document;\r\n\r\n\t//others, removed for brevity\r\n}\r\n\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;DOCUMENTS&quot;)\r\n@SequenceGenerator(allocationSize = 1, name = &quot;DOCUMENTS_ID&quot;, sequenceName = &quot;DOCUMENTS_ID&quot;)\r\npublic class Document {\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, nullable = false)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DOCUMENTS_ID&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;NAME&quot;, nullable = false, length = 1024)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;DOC_SIZE&quot;, nullable = false)\r\n\tprivate long size;\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@Column(name = &quot;CREATED&quot;, nullable = false)\r\n\tprivate Date created;\r\n\r\n\t//others, removed for brevity\r\n}\r\n~~~\r\n## SPECIFICATION\r\n~~~java\r\n@RequiredArgsConstructor\r\npublic class LogsSpecification implements Specification&lt;LogsView&gt; {\r\n\tprivate final List&lt;SimpleFilter&gt; filters;\r\n\r\n\t@Override\r\n\tpublic Predicate toPredicate(Root&lt;LogsView&gt; root,\r\n\t                             CriteriaQuery&lt;?&gt; criteriaQuery,\r\n\t                             CriteriaBuilder criteriaBuilder) {\r\n\t\tif (CollectionUtils.isEmpty(filters)) return null;\r\n\r\n\t\tPredicate[] predicates = filters.stream()\r\n\t\t\t\t.filter(Objects::nonNull)\r\n\t\t\t\t.map(filter -&gt; getPredicate(filter, root, criteriaBuilder))\r\n\t\t\t\t.toArray(Predicate[]::new);\r\n\r\n\t\treturn criteriaBuilder.and(predicates);\r\n\t}\r\n\r\n\tprivate Predicate getPredicate(SimpleFilter filter,\r\n\t                               Root&lt;LogsView&gt; root,\r\n\t                               CriteriaBuilder builder) {\r\n\t\tObjects.requireNonNull(filter.getName());\r\n\t\tPredicate predicate;\r\n\t\tString[] keys = filter.getName().split(&quot;\\\\.&quot;);\r\n\t\tif (filter.getPredicate() == LIKE) {\r\n\t\t\tpredicate = builder.like(\r\n\t\t\t\t\tbuilder.upper(PredicateUtils.getChildPath(root, keys)),\r\n\t\t\t\t\t(&quot;%&quot; + filter.getValue() + &quot;%&quot;).toUpperCase());\r\n\t\t} else {\r\n\t\t\tpredicate = builder.equal(\r\n\t\t\t\t\tPredicateUtils.getChildPath(root, keys),\r\n\t\t\t\t\tfilter.getValue());\r\n\t\t}\r\n        //others, removed for brevity\r\n\r\n\t\treturn predicate;\r\n\t}\r\n}\r\n~~~\r\n### REPOSITORY\r\n~~~java\r\n@Repository\r\npublic interface LogsRepository extends ReadOnlyRepository&lt;LogsView, Long&gt;, JpaSpecificationExecutor&lt;Logs&gt; {}\r\n~~~\r\n### SERVICE\r\n~~~java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class LogsService {\r\n\tprivate final LogsRepository logsRepository;\r\n\tprivate final ObjectMapper mapper;\r\n\tprivate final Pattern pattern = Pattern.compile(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n\r\n\tpublic Page&lt;LogsDto&gt; paginated(String name, String value) {\r\n\t\tvar type = isNumeric(value) ? SimpleFilter.PredicateType.EQUAL : SimpleFilter.PredicateType.LIKE;\r\n\t\tvar filter = new SimpleFilter(name, value, type);\r\n\t\treturn logsRepository\r\n\t\t\t\t.findAll(new LogsSpecification(List.of(filter)), Pageable.ofSize(10))\r\n\t\t\t\t.map(en -&gt; mapper.convertValue(en, LogsDto.class));\r\n\t}\r\n\r\n\r\n\tprivate boolean isNumeric(String strNum) {\r\n\t\treturn strNum != null &amp;&amp; pattern.matcher(strNum).matches();\r\n\t}\r\n}\r\n~~~\r\n## QUERY GENERATED\r\n~~~sql\r\n-- Hibernate: \r\n-- executing 5 JDBC statements;\r\nselect *\r\nfrom (select * -- removed for brevity\r\n      from v_logs v_logs0_\r\n               cross join documents document1_\r\n      where v_logs0_.doc_id = document1_.id\r\n        and (\r\n          upper(document1_.name) like ?\r\n          )\r\n        and (\r\n              v_logs0_.usr_id in (4, 72, 76, 123, 147, 199, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22)\r\n          )\r\n        and v_logs0_.usr_id &lt;&gt; 1\r\n      order by v_logs0_.usr_id asc)\r\nwhere rownum &lt;= ?\r\n~~~\r\n\r\n##### Without `document.name` filter, page 10\r\n    1.228738106 seconds\r\n\r\n##### With `document.name` filter, page 10 and results\r\n    2.900642325 seconds\r\n\r\n##### With `document.name` filter, page 10 and no results\r\n    Without IDX_DOC_NAME_UPPER: 240.123813697 seconds, sqlpus: 8-9 seconds\r\n    With IDX_DOC_NAME_UPPER: 110.123813697(not stable), seconds sqlpus: 3-4 seconds\r\n\r\n### SQL FIDDLE\r\n#### [View Execution Plan][1] \r\n\r\n\r\n## CONFIGURATION\r\n- **Database**: Oracle 19c\r\n- **Jdk**: 11\r\n- **Ojdbc8**: 21.3.0\r\n- **SpringBoot**: 2.6.4\r\n- **Hibernate**: 5.6.5.Final\r\n\r\nI recreated a simple application with the code structure, you can find it at this link: [demo-oracle-slow][2].\r\n \r\nThanks\r\n\r\n\r\n  [1]: http://sqlfiddle.com/#!4/b3c15/3/0\r\n  [2]: https://github.com/burl21/demo-oracle-slow","title":"Spring JPA slow query with Oracle using like and upper","body":"<p>I encounter an optimisation problem and I can't figure out why my query is so slow.</p>\n<p>In production when searching for <code>document.name</code> the application takes about 4 minutes when there are no results and without <code>IDX_DOC_NAME_UPPER</code>. With <code>IDX_DOC_NAME_UPPER</code> it is variable from 40s to 2m.\nIn <strong>sqlplus</strong> it takes about 3-4s with index and without 8-9s.</p>\n<p><code>DOCUMENTS</code> contains about 2M records and <code>ACTIVITIES</code> 7M records.</p>\n<h2>DB SCHEMA</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>-- DOCUMENTS\nCREATE TABLE DOCUMENTS\n(\n    ID          NUMBER(16) PRIMARY KEY,\n    NAME        VARCHAR(1024) NOT NULL,\n    DOC_SIZE    NUMBER(16)    NOT NULL,\n    CREATED     TIMESTAMP     NOT NULL\n);\nCREATE INDEX IDX_DOC_NAME_UPPER ON DOCUMENTS (UPPER(NAME));\n\n-- USERS\nCREATE TABLE USERS\n(\n    ID    NUMBER(16) PRIMARY KEY,\n    CNAME VARCHAR(256) NOT NULL\n    --others, removed for brevity\n);\n\n-- ACTIVITIES\nCREATE TABLE ACTIVITIES\n(\n    ID     NUMBER(16) PRIMARY KEY,\n    USR_ID NUMBER(16) references USERS (ID) NOT NULL,\n    DOC_ID NUMBER(16) references DOCUMENTS (ID),\n    PRT_ID NUMBER(16) references USERS (ID) NOT NULL\n    --others, removed for brevity\n);\nCREATE INDEX IDX_ACT_USR_ID ON ACTIVITIES (USR_ID);\nCREATE INDEX IDX_ACT_DOC_ID ON ACTIVITIES (DOC_ID);\n\n-- LOGS\nCREATE VIEW V_LOGS AS\nSELECT CNAME,\n       ACTIVITIES.USR_ID,\n       PRT_ID,\n       DOC_ID\n       --others, removed for brevity\nFROM ACTIVITIES,\n     USERS\nWHERE USERS.ID = ACTIVITIES.USR_ID;\n</code></pre>\n<h2>ENTITIES</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@NoArgsConstructor\n@Table(name = &quot;USERS&quot;)\n@SequenceGenerator(allocationSize = 1, name = &quot;USERS_ID&quot;, sequenceName = &quot;USERS_ID&quot;)\npublic class User {\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USERS_ID&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;CNAME&quot;, nullable = false, length = 256)\n    private String cname;\n}\n\n@Entity\n@Getter\n@Immutable\n@Table(name = &quot;V_LOGS&quot;)\npublic class LogsView {\n\n    @Id\n    @Column(name = &quot;USR_ID&quot;, nullable = false)\n    private long usrId;\n\n    @Column(name = &quot;PRT_ID&quot;, nullable = false)\n    private long prtId;\n\n    @Column(name = &quot;DOC_ID&quot;)\n    private Long docId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;USR_ID&quot;,\n            nullable = false,\n            insertable = false,\n            updatable = false)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;PRT_ID&quot;,\n            nullable = false,\n            insertable = false,\n            updatable = false)\n    private User partner;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;DOC_ID&quot;,\n            insertable = false,\n            updatable = false)\n    private Document document;\n\n    //others, removed for brevity\n}\n\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;DOCUMENTS&quot;)\n@SequenceGenerator(allocationSize = 1, name = &quot;DOCUMENTS_ID&quot;, sequenceName = &quot;DOCUMENTS_ID&quot;)\npublic class Document {\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DOCUMENTS_ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false, length = 1024)\n    private String name;\n\n    @Column(name = &quot;DOC_SIZE&quot;, nullable = false)\n    private long size;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;CREATED&quot;, nullable = false)\n    private Date created;\n\n    //others, removed for brevity\n}\n</code></pre>\n<h2>SPECIFICATION</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class LogsSpecification implements Specification&lt;LogsView&gt; {\n    private final List&lt;SimpleFilter&gt; filters;\n\n    @Override\n    public Predicate toPredicate(Root&lt;LogsView&gt; root,\n                                 CriteriaQuery&lt;?&gt; criteriaQuery,\n                                 CriteriaBuilder criteriaBuilder) {\n        if (CollectionUtils.isEmpty(filters)) return null;\n\n        Predicate[] predicates = filters.stream()\n                .filter(Objects::nonNull)\n                .map(filter -&gt; getPredicate(filter, root, criteriaBuilder))\n                .toArray(Predicate[]::new);\n\n        return criteriaBuilder.and(predicates);\n    }\n\n    private Predicate getPredicate(SimpleFilter filter,\n                                   Root&lt;LogsView&gt; root,\n                                   CriteriaBuilder builder) {\n        Objects.requireNonNull(filter.getName());\n        Predicate predicate;\n        String[] keys = filter.getName().split(&quot;\\\\.&quot;);\n        if (filter.getPredicate() == LIKE) {\n            predicate = builder.like(\n                    builder.upper(PredicateUtils.getChildPath(root, keys)),\n                    (&quot;%&quot; + filter.getValue() + &quot;%&quot;).toUpperCase());\n        } else {\n            predicate = builder.equal(\n                    PredicateUtils.getChildPath(root, keys),\n                    filter.getValue());\n        }\n        //others, removed for brevity\n\n        return predicate;\n    }\n}\n</code></pre>\n<h3>REPOSITORY</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface LogsRepository extends ReadOnlyRepository&lt;LogsView, Long&gt;, JpaSpecificationExecutor&lt;Logs&gt; {}\n</code></pre>\n<h3>SERVICE</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class LogsService {\n    private final LogsRepository logsRepository;\n    private final ObjectMapper mapper;\n    private final Pattern pattern = Pattern.compile(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n    public Page&lt;LogsDto&gt; paginated(String name, String value) {\n        var type = isNumeric(value) ? SimpleFilter.PredicateType.EQUAL : SimpleFilter.PredicateType.LIKE;\n        var filter = new SimpleFilter(name, value, type);\n        return logsRepository\n                .findAll(new LogsSpecification(List.of(filter)), Pageable.ofSize(10))\n                .map(en -&gt; mapper.convertValue(en, LogsDto.class));\n    }\n\n\n    private boolean isNumeric(String strNum) {\n        return strNum != null &amp;&amp; pattern.matcher(strNum).matches();\n    }\n}\n</code></pre>\n<h2>QUERY GENERATED</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>-- Hibernate: \n-- executing 5 JDBC statements;\nselect *\nfrom (select * -- removed for brevity\n      from v_logs v_logs0_\n               cross join documents document1_\n      where v_logs0_.doc_id = document1_.id\n        and (\n          upper(document1_.name) like ?\n          )\n        and (\n              v_logs0_.usr_id in (4, 72, 76, 123, 147, 199, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22)\n          )\n        and v_logs0_.usr_id &lt;&gt; 1\n      order by v_logs0_.usr_id asc)\nwhere rownum &lt;= ?\n</code></pre>\n<h5>Without <code>document.name</code> filter, page 10</h5>\n<pre><code>1.228738106 seconds\n</code></pre>\n<h5>With <code>document.name</code> filter, page 10 and results</h5>\n<pre><code>2.900642325 seconds\n</code></pre>\n<h5>With <code>document.name</code> filter, page 10 and no results</h5>\n<pre><code>Without IDX_DOC_NAME_UPPER: 240.123813697 seconds, sqlpus: 8-9 seconds\nWith IDX_DOC_NAME_UPPER: 110.123813697(not stable), seconds sqlpus: 3-4 seconds\n</code></pre>\n<h3>SQL FIDDLE</h3>\n<h4><a href=\"http://sqlfiddle.com/#!4/b3c15/3/0\" rel=\"nofollow noreferrer\">View Execution Plan</a></h4>\n<h2>CONFIGURATION</h2>\n<ul>\n<li><strong>Database</strong>: Oracle 19c</li>\n<li><strong>Jdk</strong>: 11</li>\n<li><strong>Ojdbc8</strong>: 21.3.0</li>\n<li><strong>SpringBoot</strong>: 2.6.4</li>\n<li><strong>Hibernate</strong>: 5.6.5.Final</li>\n</ul>\n<p>I recreated a simple application with the code structure, you can find it at this link: <a href=\"https://github.com/burl21/demo-oracle-slow\" rel=\"nofollow noreferrer\">demo-oracle-slow</a>.</p>\n<p>Thanks</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1647706946,"post_id":71539891,"comment_id":126440621,"body_markdown":"Are coords of cube location changing ? or it&#39;s just set one time and that all ? Also, why do &quot;+1&quot; and &quot;-1&quot; ? in constuctor ?","body":"Are coords of cube location changing ? or it&#39;s just set one time and that all ? Also, why do &quot;+1&quot; and &quot;-1&quot; ? in constuctor ?"},{"owner":{"account_id":18973637,"reputation":3,"user_id":13846585,"display_name":"dmf"},"score":0,"creation_date":1647707253,"post_id":71539891,"comment_id":126440681,"body_markdown":"The coords cannot change, might as well make them final now that I think about it. Anyways the +1 -1 is just a middle cube which is just a smaller cube inside. This is the effect that you get (https://imgur.com/a/JQtkDCw)","body":"The coords cannot change, might as well make them final now that I think about it. Anyways the +1 -1 is just a middle cube which is just a smaller cube inside. This is the effect that you get (<a href=\"https://imgur.com/a/JQtkDCw\" rel=\"nofollow noreferrer\">imgur.com/a/JQtkDCw</a>)"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647709845,"creation_date":1647709845,"answer_id":71540296,"question_id":71539891,"body_markdown":"I suggest you to do multiple things :\r\n\r\n1. **Use less variable**. It will not directly fix the amount of items, but it will help in performance. It&#39;s also mostly a suggestion than will make the code quickly more readable. For example, you can add position of a center, then store the size. So you require only 5 variables:\r\n```java\r\npublic int centerX, centerY, centerZ;\r\npublic int sizeBorder, sizeCube;\r\n```\r\nWith these, if you have 30k instance, you will economise 7*30000 so 210k var.\r\n\r\n2. **Use chunk**. This can really help you. The objective is to store cube according to chunk.\r\n\r\nFirstly, you need to get chunk X/Z :\r\n```java\r\npublic static getChunkX(Location loc) {\r\n    rreturn floor(loc.getX()) &gt;&gt; 4;\r\n}\r\n\r\n/**\r\n * NumberConversions#floor(double), used by Location#getBlockX(), Location#getBlockZ()\r\n *\r\n * @param num the number to floor\r\n * @return the floored number\r\n */\r\npublic static int floor(double num) {\r\n    int floor = (int) num;\r\n    return floor == num ? floor : floor - (int) (Double.doubleToRawLongBits(num) &gt;&gt;&gt; 63);\r\n}\r\n```\r\n([Source](https://www.spigotmc.org/threads/456619/))\r\n\r\nNow, you should declare the variable that will contains everything:\r\n```java\r\nHashMap&lt;Integer, HashMap&lt;Integer, CubeLocation&gt;&gt; cubePerChunk = new HashMap&lt;&gt;();\r\n```\r\nIt&#39;s a table of table of an array. You can refer to [this](https://www.geeksforgeeks.org/array-of-arraylist-in-java/) if you want to learn more.\r\n\r\n```java\r\nLocation myLoc = ...;\r\nList&lt;CubeLocation&gt; allCubesInChunk = cubePerChunk.get(getChunkX(myLoc)).get(getChunkZ(myLoc));\r\n```\r\nNow, you can do what you did with all cube location, but instead of a list of 30k items you will have only item in this chunk, so less than 5 one.\r\n\r\nTo store values, you should get chunk of 4 points and try to add it in all list. If all points are in the same chunk, you will have the items stored only one time, else it will be available from all chunk where it is. Example of code:\r\n```java\r\npublic void loadCube(CubeLocation loadedCube) {\r\n   for(Location loc : loadedCube.getAllXZPoints()) {\r\n      List&lt;CubeLocation&gt; allCubesInChunk = cubePerChunk.computeIfAbsent(getChunkX(loc), HashMap::new)\r\n             .computeIfAbsent(getChunkZ(loc), ArrayList::new);\r\n      if(!allCubesInChunk.contains(loadedCube)) // if not already added\r\n         allCubesInChunk.add(loadedCube); // add it\r\n   }\r\n}\r\n```\r\nJust, about the `getAllPoints()` method :\r\n\r\nIt&#39;s just something that return all points without taking in count Y, such as:\r\n```java\r\npublic List&lt;Location&gt; getAllXZPoints() {\r\n    // w is your world\r\n    return Arrays.asList(new Location(w, minX, minY, minZ), new Location(w, maxX, minY, minZ),\r\n    new Location(w, minX, minY, maxZ), new Location(w, minX, minY, maxZ));\r\n}\r\n```","title":"Loop through tens to hundreds of thousands locations at multiples times per second","body":"<p>I suggest you to do multiple things :</p>\n<ol>\n<li><strong>Use less variable</strong>. It will not directly fix the amount of items, but it will help in performance. It's also mostly a suggestion than will make the code quickly more readable. For example, you can add position of a center, then store the size. So you require only 5 variables:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public int centerX, centerY, centerZ;\npublic int sizeBorder, sizeCube;\n</code></pre>\n<p>With these, if you have 30k instance, you will economise 7*30000 so 210k var.</p>\n<ol start=\"2\">\n<li><strong>Use chunk</strong>. This can really help you. The objective is to store cube according to chunk.</li>\n</ol>\n<p>Firstly, you need to get chunk X/Z :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static getChunkX(Location loc) {\n    rreturn floor(loc.getX()) &gt;&gt; 4;\n}\n\n/**\n * NumberConversions#floor(double), used by Location#getBlockX(), Location#getBlockZ()\n *\n * @param num the number to floor\n * @return the floored number\n */\npublic static int floor(double num) {\n    int floor = (int) num;\n    return floor == num ? floor : floor - (int) (Double.doubleToRawLongBits(num) &gt;&gt;&gt; 63);\n}\n</code></pre>\n<p>(<a href=\"https://www.spigotmc.org/threads/456619/\" rel=\"nofollow noreferrer\">Source</a>)</p>\n<p>Now, you should declare the variable that will contains everything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Integer, HashMap&lt;Integer, CubeLocation&gt;&gt; cubePerChunk = new HashMap&lt;&gt;();\n</code></pre>\n<p>It's a table of table of an array. You can refer to <a href=\"https://www.geeksforgeeks.org/array-of-arraylist-in-java/\" rel=\"nofollow noreferrer\">this</a> if you want to learn more.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Location myLoc = ...;\nList&lt;CubeLocation&gt; allCubesInChunk = cubePerChunk.get(getChunkX(myLoc)).get(getChunkZ(myLoc));\n</code></pre>\n<p>Now, you can do what you did with all cube location, but instead of a list of 30k items you will have only item in this chunk, so less than 5 one.</p>\n<p>To store values, you should get chunk of 4 points and try to add it in all list. If all points are in the same chunk, you will have the items stored only one time, else it will be available from all chunk where it is. Example of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void loadCube(CubeLocation loadedCube) {\n   for(Location loc : loadedCube.getAllXZPoints()) {\n      List&lt;CubeLocation&gt; allCubesInChunk = cubePerChunk.computeIfAbsent(getChunkX(loc), HashMap::new)\n             .computeIfAbsent(getChunkZ(loc), ArrayList::new);\n      if(!allCubesInChunk.contains(loadedCube)) // if not already added\n         allCubesInChunk.add(loadedCube); // add it\n   }\n}\n</code></pre>\n<p>Just, about the <code>getAllPoints()</code> method :</p>\n<p>It's just something that return all points without taking in count Y, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Location&gt; getAllXZPoints() {\n    // w is your world\n    return Arrays.asList(new Location(w, minX, minY, minZ), new Location(w, maxX, minY, minZ),\n    new Location(w, minX, minY, maxZ), new Location(w, minX, minY, maxZ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21685741,"reputation":23,"user_id":16001229,"display_name":"Pedro Paulo Monte Pagani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647712992,"creation_date":1647712992,"answer_id":71540718,"question_id":71539891,"body_markdown":"Some more tips for you dmf, when you&#39;re looking for performance here you have two points you can work on, which is memory optimization, basically you&#39;re going to use less memory, which is basically what Elikill already told you up here ^^.\r\n\r\nThe second thing is you use NMS, since you&#39;re setting (i believe, a lot of blocks), its best if you access the deepest nms method you can access, you can find some tutorials on the main spigot website on how to place blocks fast(or you could go and look at FAWE src).\r\n\r\nAnother thing is, to check if the block broken is inside of the cube all you have todo is get the maximum point of the cube, get the minimum point of the cube,\r\nand check if the x of the block is &lt;= max x,\r\nand the same process, for all the coordinates, x y z.\r\n\r\nPlease do not call .getAllPoints() to just check if the block is inside of the cube, that would be the worst scenario possible you could write.","title":"Loop through tens to hundreds of thousands locations at multiples times per second","body":"<p>Some more tips for you dmf, when you're looking for performance here you have two points you can work on, which is memory optimization, basically you're going to use less memory, which is basically what Elikill already told you up here ^^.</p>\n<p>The second thing is you use NMS, since you're setting (i believe, a lot of blocks), its best if you access the deepest nms method you can access, you can find some tutorials on the main spigot website on how to place blocks fast(or you could go and look at FAWE src).</p>\n<p>Another thing is, to check if the block broken is inside of the cube all you have todo is get the maximum point of the cube, get the minimum point of the cube,\nand check if the x of the block is &lt;= max x,\nand the same process, for all the coordinates, x y z.</p>\n<p>Please do not call .getAllPoints() to just check if the block is inside of the cube, that would be the worst scenario possible you could write.</p>\n"}],"owner":{"account_id":18973637,"reputation":3,"user_id":13846585,"display_name":"dmf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71540296,"answer_count":2,"score":0,"last_activity_date":1647794283,"creation_date":1647706674,"question_id":71539891,"body_markdown":"Trying to make a minecraft plugin here. I am trying to make a custom ore generator. The generator is cube, it has no exterior walls on the outside and the middle is filled with ores. \r\n\r\nWhen I create a generator I don&#39;t save every single location object because every player can have multiple generator and that would be a massive amount of blocks in no time. What I do instead is that I save the min and max location for the border and for that inside cube(Why save both for border and cube? Well I&#39;ll explain in a bit) in a Object called CubeLocation that also stores the cubeId.\r\n\r\nSo I save the cubes in a HashMap&lt;UUID, PlayerCube&gt; - (This is not the id of a player, but i generate a random uuid when creating  each code).\r\n\r\nAnd I also save the Location in a HashSet &lt;CubeLocation\r\n\r\nNow for my problem. I need to check if the location of the broken block is inside a cube. What I have at the moment is something like this\r\n\r\n```\t\r\npublic class LocationManager {\r\n\t\r\n\tprivate HashMap&lt;UUID, PlayerCube&gt; cubes;\r\n\tprivate HashSet&lt;CubeLocation&gt; cubeLocations;\r\n\tprivate HashMap&lt;UUID, PlayerHold&gt; playerHolds;\r\n\tprivate HashMap&lt;UUID, Integer&gt; tasks;\r\n\tprivate HashMap&lt;UUID, UUID&gt; lastKnownGenerator;\r\n\t\r\n\tpublic LocationManager() {\r\n\t\tcubes = new HashMap&lt;&gt;();\r\n\t\tcubeLocations = new HashSet&lt;&gt;();\r\n\t\tplayerHolds = new HashMap&lt;&gt;();\r\n\t\ttasks = new HashMap&lt;&gt;();\r\n\t\tlastKnownGenerator = new HashMap&lt;&gt;();\r\n\t}\r\n\t\r\n\tpublic HashMap&lt;UUID, PlayerCube&gt; getCubes(){\r\n\t\treturn cubes;\r\n\t}\r\n\t\r\n\tpublic HashSet&lt;CubeLocation&gt; getCubeLocations(){\r\n\t\treturn cubeLocations;\r\n\t}\r\n\t\r\n\tpublic HashMap&lt;UUID, PlayerHold&gt; getPlayerHolds(){\r\n\t\treturn playerHolds;\r\n\t}\r\n\t\r\n\tpublic HashMap&lt;UUID, Integer&gt; getTasks(){\r\n\t\treturn tasks;\r\n\t}\r\n\t\r\n\tpublic HashMap&lt;UUID, UUID&gt; getLastKnownGenerator(){\r\n\t\treturn lastKnownGenerator;\r\n\t}\r\n\t\r\n\tpublic String[] isLocationInsideCube(UUID player, Location loc) {\r\n\t\tUUID world = loc.getWorld().getUID();\r\n\t\tint x = loc.getBlockX();\r\n\t\tint y = loc.getBlockY();\r\n\t\tint z = loc.getBlockZ();\r\n\t\tString arr[] = {null, null};\r\n\t\t\r\n\t\tUUID last = lastKnownGenerator.get(player);\r\n\t\t\r\n\t\tif(last != null) {\r\n\t\t\tCubeLocation cubeLoc = cubes.get(last).getCubeLocation();\r\n\t\t\tlastKnownGenerator.remove(player);\r\n\t\t\t\r\n\t\t\tif(cubeLoc != null &amp;&amp; cubeLoc.isInside(world, x, y, z)) {\r\n\t\t\t\tif(cubeLoc.isCubeLocation(world, x, y, z)) {\r\n\t\t\t\t\tarr[1] = last.toString();\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(arr[0] == null &amp;&amp; cubeLoc.isBorderLocation(world, x, y, z)) {\r\n\t\t\t\t\tarr[0] = last.toString();\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(CubeLocation cubeLoc : cubeLocations) {\r\n\t\t\tif(!cubeLoc.isInside(world, x, y, z))\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tString id = cubeLoc.getCubeId().toString();\r\n\t\t\t\r\n\t\t\tif(arr[1] == null &amp;&amp; cubeLoc.isCubeLocation(world, x, y, z)) {\r\n\t\t\t\tarr[1] = id;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(arr[0] == null &amp;&amp; cubeLoc.isBorderLocation(world, x, y, z)) {\r\n\t\t\t\tarr[0] = id;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd this is CubeLocation\r\n```\r\npublic class CubeLocation {\r\n\t\r\n\tprivate UUID world;\r\n\t\r\n\tprivate int minX;\r\n\tprivate int maxX;\r\n\tprivate int minY;\r\n\tprivate int maxY;\r\n\tprivate int minZ;\r\n\tprivate int maxZ;\r\n\t\r\n\tprivate int bMinX;\r\n\tprivate int bMaxX;\r\n\tprivate int bMinY;\r\n\tprivate int bMaxY;\r\n\tprivate int bMinZ;\r\n\tprivate int bMaxZ;\r\n\t\r\n\tprivate UUID cubeId;\r\n\t\r\n\tpublic CubeLocation(UUID world, UUID cubeId) {\r\n\t\tthis.world = world;\r\n\t\tthis.cubeId = cubeId;\r\n\t}\r\n\t\r\n\tpublic void setCoords(int x1, int x2, int y1, int y2, int z1, int z2) {\r\n\t\t//Border\r\n\t\tthis.bMinX = x1;\r\n\t\tthis.bMaxX = x2;\r\n\t\tthis.bMinY = y1;\r\n\t\tthis.bMaxY = y2;\r\n\t\tthis.bMinZ = z1;\r\n\t\tthis.bMaxZ = z2;\r\n\t\t\r\n\t\t//Cube\r\n\t\tthis.minX = x1 + 1;\r\n\t\tthis.maxX = x2 - 1;\r\n\t\tthis.minY = y1 + 1;\r\n\t\tthis.maxY = y2 - 1;\r\n\t\tthis.minZ = z1 + 1;\r\n\t\tthis.maxZ = z2 - 1;\r\n\t}\r\n\t\r\n\tpublic UUID getCubeId() {\r\n\t\treturn cubeId;\r\n\t}\r\n\t\r\n\tpublic boolean isInside(UUID world, int x, int y, int z) {\r\n\t\tif(!world.equals(this.world))\r\n\t\t\treturn false;\r\n\t\t\r\n\t\treturn (x &gt;= bMinX &amp;&amp; x &lt;= bMaxX) &amp;&amp; (y &gt;= bMinY &amp;&amp; y &lt;= bMaxY) &amp;&amp; (z &gt;= bMinZ &amp;&amp; z &lt;= bMaxZ);\r\n\t}\r\n\t\r\n\tpublic boolean isBorderLocation(UUID world, int x, int y, int z) {\r\n\t\tif(!world.equals(this.world))\r\n\t\t\treturn false;\r\n\t\t\r\n\t\tif(y == bMinY || y == bMaxY) {\r\n\t\t\treturn (x == bMinX &amp;&amp; (z &gt;= bMinZ || z &lt;= bMaxZ)) || (x == bMaxX &amp;&amp; (z &gt;= bMinZ || z &lt;= bMaxZ)) || (z == bMinZ &amp;&amp; (x &gt;= bMinX || x &lt;= bMaxX)) || (z == bMaxZ &amp;&amp; (x &gt;= bMinX || x &lt;= bMaxX));\r\n\t\t\t\r\n\t\t}\r\n\t\treturn (x == bMinX &amp;&amp; z == bMinZ) || (x == bMaxX &amp;&amp; z == bMinZ) || (x == bMinX &amp;&amp; z == bMaxZ) || (x == bMaxX &amp;&amp; z == bMaxZ);\r\n\t}\r\n\t\r\n\tpublic boolean isCubeLocation(UUID world, int x, int y, int z) {\r\n\t\tif(!world.equals(this.world))\r\n\t\t\treturn false;\r\n\t\t\r\n\t\treturn (x &gt;= minX &amp;&amp; x &lt;= maxX) &amp;&amp; (y &gt;= minY &amp;&amp; y &lt;= maxY) &amp;&amp; (z &gt;= minZ &amp;&amp; z &lt;= maxZ);\r\n\t}\r\n\r\n}\r\n```\r\nThis was also why I saved the border separate from the cube. Because I don&#39;t want the player to be able to break the border itself but also leave not take the walls into account(Anyways this isn&#39;t the problem but I wanted to explain that).\r\n\r\nThe problem is that every time a block is broken it will check each and every single CubeLocation to check if the location is a generator. That means that every time a block is broken it will do this check every single time (This is why I added the lastKnownGenerator, it&#39;ll first check this to see if the player is breaking blocks in the same generator so it doesn&#39;t have to do the loop again). \r\n\r\nHowever this does not help if the player breaks blocks that are not inside a generator (For example in a mine, a house or idk) it will do the loop for every single broken block. And this is not even the worst part, the worst part is that BlockBreakEvent (The event that triggers when a player breaks a block) can be trigger dozens of times per second by a single player (If you have enchants on your pickaxe, shovel or axe) and not only that but it can be triggered by multiple players at once.\r\n\r\nSo image this, there have been like 30k cube placed on the world in total and there are like 30 players with full enchant minning 20 blocks per second each. The means that every second the plugin checks 600k coords per second. This won&#39;t do, it&#39;s too wasteful.\r\n\r\nYou also can&#39;t save each and every location separate or mark a block with block.setMetadata(key, FixedMetadataValue(plugin, value)); Because you would have to loop through  (Let&#39;s say all the generator in our case are 11x11x11 which is 1331 per generator) 30.000 * 1331 which is a whopping 39.930.000 blocks so it&#39;s even worse than what I&#39;m doing.\r\n\r\nWhat would be the appropriate method to save the cubes and also check if the broken block is inside a cube. Am I completely wrong with what I was trying to do? Any and all suggestion are welcome!","title":"Loop through tens to hundreds of thousands locations at multiples times per second","body":"<p>Trying to make a minecraft plugin here. I am trying to make a custom ore generator. The generator is cube, it has no exterior walls on the outside and the middle is filled with ores.</p>\n<p>When I create a generator I don't save every single location object because every player can have multiple generator and that would be a massive amount of blocks in no time. What I do instead is that I save the min and max location for the border and for that inside cube(Why save both for border and cube? Well I'll explain in a bit) in a Object called CubeLocation that also stores the cubeId.</p>\n<p>So I save the cubes in a HashMap&lt;UUID, PlayerCube&gt; - (This is not the id of a player, but i generate a random uuid when creating  each code).</p>\n<p>And I also save the Location in a HashSet &lt;CubeLocation</p>\n<p>Now for my problem. I need to check if the location of the broken block is inside a cube. What I have at the moment is something like this</p>\n<pre><code>public class LocationManager {\n    \n    private HashMap&lt;UUID, PlayerCube&gt; cubes;\n    private HashSet&lt;CubeLocation&gt; cubeLocations;\n    private HashMap&lt;UUID, PlayerHold&gt; playerHolds;\n    private HashMap&lt;UUID, Integer&gt; tasks;\n    private HashMap&lt;UUID, UUID&gt; lastKnownGenerator;\n    \n    public LocationManager() {\n        cubes = new HashMap&lt;&gt;();\n        cubeLocations = new HashSet&lt;&gt;();\n        playerHolds = new HashMap&lt;&gt;();\n        tasks = new HashMap&lt;&gt;();\n        lastKnownGenerator = new HashMap&lt;&gt;();\n    }\n    \n    public HashMap&lt;UUID, PlayerCube&gt; getCubes(){\n        return cubes;\n    }\n    \n    public HashSet&lt;CubeLocation&gt; getCubeLocations(){\n        return cubeLocations;\n    }\n    \n    public HashMap&lt;UUID, PlayerHold&gt; getPlayerHolds(){\n        return playerHolds;\n    }\n    \n    public HashMap&lt;UUID, Integer&gt; getTasks(){\n        return tasks;\n    }\n    \n    public HashMap&lt;UUID, UUID&gt; getLastKnownGenerator(){\n        return lastKnownGenerator;\n    }\n    \n    public String[] isLocationInsideCube(UUID player, Location loc) {\n        UUID world = loc.getWorld().getUID();\n        int x = loc.getBlockX();\n        int y = loc.getBlockY();\n        int z = loc.getBlockZ();\n        String arr[] = {null, null};\n        \n        UUID last = lastKnownGenerator.get(player);\n        \n        if(last != null) {\n            CubeLocation cubeLoc = cubes.get(last).getCubeLocation();\n            lastKnownGenerator.remove(player);\n            \n            if(cubeLoc != null &amp;&amp; cubeLoc.isInside(world, x, y, z)) {\n                if(cubeLoc.isCubeLocation(world, x, y, z)) {\n                    arr[1] = last.toString();\n                    return arr;\n                }\n                \n                if(arr[0] == null &amp;&amp; cubeLoc.isBorderLocation(world, x, y, z)) {\n                    arr[0] = last.toString();\n                    return arr;\n                }\n            }\n        }\n        \n        for(CubeLocation cubeLoc : cubeLocations) {\n            if(!cubeLoc.isInside(world, x, y, z))\n                continue;\n            \n            String id = cubeLoc.getCubeId().toString();\n            \n            if(arr[1] == null &amp;&amp; cubeLoc.isCubeLocation(world, x, y, z)) {\n                arr[1] = id;\n                break;\n            }\n            \n            if(arr[0] == null &amp;&amp; cubeLoc.isBorderLocation(world, x, y, z)) {\n                arr[0] = id;\n                break;\n            }\n\n        }\n        \n        return arr;\n    }\n\n}\n</code></pre>\n<p>And this is CubeLocation</p>\n<pre><code>public class CubeLocation {\n    \n    private UUID world;\n    \n    private int minX;\n    private int maxX;\n    private int minY;\n    private int maxY;\n    private int minZ;\n    private int maxZ;\n    \n    private int bMinX;\n    private int bMaxX;\n    private int bMinY;\n    private int bMaxY;\n    private int bMinZ;\n    private int bMaxZ;\n    \n    private UUID cubeId;\n    \n    public CubeLocation(UUID world, UUID cubeId) {\n        this.world = world;\n        this.cubeId = cubeId;\n    }\n    \n    public void setCoords(int x1, int x2, int y1, int y2, int z1, int z2) {\n        //Border\n        this.bMinX = x1;\n        this.bMaxX = x2;\n        this.bMinY = y1;\n        this.bMaxY = y2;\n        this.bMinZ = z1;\n        this.bMaxZ = z2;\n        \n        //Cube\n        this.minX = x1 + 1;\n        this.maxX = x2 - 1;\n        this.minY = y1 + 1;\n        this.maxY = y2 - 1;\n        this.minZ = z1 + 1;\n        this.maxZ = z2 - 1;\n    }\n    \n    public UUID getCubeId() {\n        return cubeId;\n    }\n    \n    public boolean isInside(UUID world, int x, int y, int z) {\n        if(!world.equals(this.world))\n            return false;\n        \n        return (x &gt;= bMinX &amp;&amp; x &lt;= bMaxX) &amp;&amp; (y &gt;= bMinY &amp;&amp; y &lt;= bMaxY) &amp;&amp; (z &gt;= bMinZ &amp;&amp; z &lt;= bMaxZ);\n    }\n    \n    public boolean isBorderLocation(UUID world, int x, int y, int z) {\n        if(!world.equals(this.world))\n            return false;\n        \n        if(y == bMinY || y == bMaxY) {\n            return (x == bMinX &amp;&amp; (z &gt;= bMinZ || z &lt;= bMaxZ)) || (x == bMaxX &amp;&amp; (z &gt;= bMinZ || z &lt;= bMaxZ)) || (z == bMinZ &amp;&amp; (x &gt;= bMinX || x &lt;= bMaxX)) || (z == bMaxZ &amp;&amp; (x &gt;= bMinX || x &lt;= bMaxX));\n            \n        }\n        return (x == bMinX &amp;&amp; z == bMinZ) || (x == bMaxX &amp;&amp; z == bMinZ) || (x == bMinX &amp;&amp; z == bMaxZ) || (x == bMaxX &amp;&amp; z == bMaxZ);\n    }\n    \n    public boolean isCubeLocation(UUID world, int x, int y, int z) {\n        if(!world.equals(this.world))\n            return false;\n        \n        return (x &gt;= minX &amp;&amp; x &lt;= maxX) &amp;&amp; (y &gt;= minY &amp;&amp; y &lt;= maxY) &amp;&amp; (z &gt;= minZ &amp;&amp; z &lt;= maxZ);\n    }\n\n}\n</code></pre>\n<p>This was also why I saved the border separate from the cube. Because I don't want the player to be able to break the border itself but also leave not take the walls into account(Anyways this isn't the problem but I wanted to explain that).</p>\n<p>The problem is that every time a block is broken it will check each and every single CubeLocation to check if the location is a generator. That means that every time a block is broken it will do this check every single time (This is why I added the lastKnownGenerator, it'll first check this to see if the player is breaking blocks in the same generator so it doesn't have to do the loop again).</p>\n<p>However this does not help if the player breaks blocks that are not inside a generator (For example in a mine, a house or idk) it will do the loop for every single broken block. And this is not even the worst part, the worst part is that BlockBreakEvent (The event that triggers when a player breaks a block) can be trigger dozens of times per second by a single player (If you have enchants on your pickaxe, shovel or axe) and not only that but it can be triggered by multiple players at once.</p>\n<p>So image this, there have been like 30k cube placed on the world in total and there are like 30 players with full enchant minning 20 blocks per second each. The means that every second the plugin checks 600k coords per second. This won't do, it's too wasteful.</p>\n<p>You also can't save each and every location separate or mark a block with block.setMetadata(key, FixedMetadataValue(plugin, value)); Because you would have to loop through  (Let's say all the generator in our case are 11x11x11 which is 1331 per generator) 30.000 * 1331 which is a whopping 39.930.000 blocks so it's even worse than what I'm doing.</p>\n<p>What would be the appropriate method to save the cubes and also check if the broken block is inside a cube. Am I completely wrong with what I was trying to do? Any and all suggestion are welcome!</p>\n"},{"tags":["java","nullpointerexception","com"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647611081,"post_id":71527914,"comment_id":126420455,"body_markdown":"how does that even compile? You are calling setText(&quot;..&quot;) and setVisible(..) on variables you don&#39;t even declare","body":"how does that even compile? You are calling setText(&quot;..&quot;) and setVisible(..) on variables you don&#39;t even declare"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647611227,"post_id":71527914,"comment_id":126420518,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1647611323,"post_id":71527914,"comment_id":126420556,"body_markdown":"It seems, that one of your jTextFieldXX not set to an instance of an Object. Try debugging it.","body":"It seems, that one of your jTextFieldXX not set to an instance of an Object. Try debugging it."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1647611662,"post_id":71527914,"comment_id":126420731,"body_markdown":"In general it is bad practice to create Swing Components that extend JFrame: If you extend from another class (like JPanel) it gives you the power later to use this GUI component in a JFrame or a JDialog or a simple JWindow, and you can also visualize it using JOptionPane","body":"In general it is bad practice to create Swing Components that extend JFrame: If you extend from another class (like JPanel) it gives you the power later to use this GUI component in a JFrame or a JDialog or a simple JWindow, and you can also visualize it using JOptionPane"},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1647613656,"post_id":71527914,"comment_id":126421557,"body_markdown":"All variables are declared, I just didn&#39;t want to paste all of the code, as it would be too much. All GUI components were created by NetBeans builder and automatically generated and declared.\nEverything works to the point where I call the method from the other class, thats where I get the exception.","body":"All variables are declared, I just didn&#39;t want to paste all of the code, as it would be too much. All GUI components were created by NetBeans builder and automatically generated and declared. Everything works to the point where I call the method from the other class, thats where I get the exception."}],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647793961,"creation_date":1647610833,"question_id":71527914,"body_markdown":"I&#39;m getting a NullPointerException when trying to call a method in a GUI class from another GUI class. I&#39;m trying to call a method from RejectData.class in MainWindow.class.\r\nMethod is called at the end of MainWindow.class code snippet.\r\n\r\nRejectData.class\r\n\r\n    public class RejectData extends JFrame{\r\n    \r\n    MainWindow window = null;\r\n\r\n    /**\r\n     * Creates new form CountData\r\n     */\r\n    public RejectData() {\r\n        initComponents();\r\n        this.setSize(245,420);\r\n        this.setLocationRelativeTo(window);\r\n        this.setContentPane(jPanel2);\r\n    }\r\n    \r\n    public RejectData(MainWindow window){\r\n        this.window = window;\r\n    }\r\n    \r\n    \r\n    public void RejectMIBrsd(){\r\n            \r\n        jTextField1.setText(&quot;10RSD&quot;);\r\n        jTextField3.setText(&quot;20RSD&quot;);\r\n        jTextField5.setText(&quot;50RSD&quot;);\r\n        jTextField7.setText(&quot;100RSD&quot;);\r\n        jTextField9.setText(&quot;200RSD&quot;);\r\n        jTextField11.setText(&quot;500RSD&quot;);\r\n        jTextField13.setText(&quot;1000RSD&quot;);\r\n        jTextField15.setText(&quot;2000RSD&quot;);\r\n        jTextField15.setVisible(true);\r\n        jTextField16.setVisible(true);\r\n        jTextField17.setText(&quot;5000RSD&quot;);\r\n        jTextField17.setVisible(true);\r\n        jTextField18.setVisible(true);\r\n        \r\n    }\r\n`\r\nMainWindow.class\r\n\r\n    public class MainWindow extends javax.swing.JFrame {\r\n\r\n    public SerialPort serialPort;\r\n    List&lt;String&gt; line;\r\n    JComm jcomm = null;\r\n    RejectData rejectData = null;\r\n    Thread thread;\r\n\r\n    public MainWindow() {\r\n        createObjects();\r\n        initComponents();\r\n        this.setLocationRelativeTo(null);\r\n        cb_portovi.setEnabled(true);\r\n        btn_start.setEnabled(true);\r\n        btn_stop.setEnabled(false);\r\n    }\r\n\r\n    private void createObjects() {\r\n        jcomm = new JComm(this);\r\n        rejectData = new RejectData(this);\r\n\r\n    }public class MainWindow extends javax.swing.JFrame {\r\n\r\n    public SerialPort serialPort;\r\n    List&lt;String&gt; line;\r\n    JComm jcomm = null;\r\n    RejectData rejectData = null;\r\n    Thread thread;\r\n\r\n    public MainWindow() {\r\n        createObjects();\r\n        initComponents();\r\n        this.setLocationRelativeTo(null);\r\n        cb_portovi.setEnabled(true);\r\n        btn_start.setEnabled(true);\r\n        btn_stop.setEnabled(false);\r\n    }\r\n\r\n    private void createObjects() {\r\n        jcomm = new JComm(this);\r\n        rejectData = new RejectData(this);\r\n\r\n    }                     \r\n\r\n    private void btn_startActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // TODO add your handling code here:\r\n        if (btn_start.getText().equals(&quot;START&quot;)) {\r\n            try {\r\n                SerialPort[] allAvailableComPorts = SerialPort.getCommPorts();\r\n                serialPort = allAvailableComPorts[cb_portovi.getSelectedIndex()];\r\n\r\n                serialPort.setBaudRate(Integer.parseInt(cb_brzina.getSelectedItem().toString()));\r\n\r\n                serialPort.openPort();\r\n\r\n                if (serialPort.openPort()) {\r\n\r\n                    JOptionPane.showMessageDialog(this, serialPort.getDescriptivePortName() + &quot; je povezan.&quot;);\r\n                    serialPort.setComPortTimeouts(SerialPort.TIMEOUT_SCANNER, 0, 0);\r\n\r\n                    cb_portovi.setEnabled(false);\r\n                    cb_brzina.setEnabled(false);\r\n                    cb_brojacica.setEnabled(false);\r\n\r\n                    btn_start.setEnabled(false);\r\n                    btn_stop.setEnabled(true);\r\n\r\n                    thread = new Thread() {\r\n                        @Override\r\n                        public void run() {\r\n                            boolean running = true;\r\n\r\n                            while (running) {\r\n\r\n                                if (cb_brojacica.getSelectedItem().equals(&quot;SB7/SB9/MIB9&quot;)) {\r\n\r\n                                    line = readFromPort(serialPort);\r\n\r\n                                    JOptionPane.showMessageDialog(null, &quot;Apoenska struktura primljena.&quot;);\r\n\r\n                                    switch (line.get(15)) {\r\n                                        case &quot;RSD&quot;:\r\n                                            new RejectData().setVisible(true);\r\n                                            ***rejectData.RejectMIBrsd();***\r\n                                            jcomm.toTableMIB9rsd(line);\r\n                                            \r\n                                            break;\r\n\r\nException:\r\n\r\n&gt; Exception in thread &quot;Thread-3&quot; java.lang.NullPointerException\r\n\tat masterteam.RejectData.RejectMIBrsd(RejectData.java:36)\r\n\tat masterteam.MainWindow$10.run(MainWindow.java:458)\r\n\r\nI can&#39;t see what I&#39;m doing wrong.\r\n\r\n\r\n","title":"Java GUI Swing NullPointerException","body":"<p>I'm getting a NullPointerException when trying to call a method in a GUI class from another GUI class. I'm trying to call a method from RejectData.class in MainWindow.class.\nMethod is called at the end of MainWindow.class code snippet.</p>\n<p>RejectData.class</p>\n<pre><code>public class RejectData extends JFrame{\n\nMainWindow window = null;\n\n/**\n * Creates new form CountData\n */\npublic RejectData() {\n    initComponents();\n    this.setSize(245,420);\n    this.setLocationRelativeTo(window);\n    this.setContentPane(jPanel2);\n}\n\npublic RejectData(MainWindow window){\n    this.window = window;\n}\n\n\npublic void RejectMIBrsd(){\n        \n    jTextField1.setText(&quot;10RSD&quot;);\n    jTextField3.setText(&quot;20RSD&quot;);\n    jTextField5.setText(&quot;50RSD&quot;);\n    jTextField7.setText(&quot;100RSD&quot;);\n    jTextField9.setText(&quot;200RSD&quot;);\n    jTextField11.setText(&quot;500RSD&quot;);\n    jTextField13.setText(&quot;1000RSD&quot;);\n    jTextField15.setText(&quot;2000RSD&quot;);\n    jTextField15.setVisible(true);\n    jTextField16.setVisible(true);\n    jTextField17.setText(&quot;5000RSD&quot;);\n    jTextField17.setVisible(true);\n    jTextField18.setVisible(true);\n    \n}\n</code></pre>\n<p>`\nMainWindow.class</p>\n<pre><code>public class MainWindow extends javax.swing.JFrame {\n\npublic SerialPort serialPort;\nList&lt;String&gt; line;\nJComm jcomm = null;\nRejectData rejectData = null;\nThread thread;\n\npublic MainWindow() {\n    createObjects();\n    initComponents();\n    this.setLocationRelativeTo(null);\n    cb_portovi.setEnabled(true);\n    btn_start.setEnabled(true);\n    btn_stop.setEnabled(false);\n}\n\nprivate void createObjects() {\n    jcomm = new JComm(this);\n    rejectData = new RejectData(this);\n\n}public class MainWindow extends javax.swing.JFrame {\n\npublic SerialPort serialPort;\nList&lt;String&gt; line;\nJComm jcomm = null;\nRejectData rejectData = null;\nThread thread;\n\npublic MainWindow() {\n    createObjects();\n    initComponents();\n    this.setLocationRelativeTo(null);\n    cb_portovi.setEnabled(true);\n    btn_start.setEnabled(true);\n    btn_stop.setEnabled(false);\n}\n\nprivate void createObjects() {\n    jcomm = new JComm(this);\n    rejectData = new RejectData(this);\n\n}                     \n\nprivate void btn_startActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    // TODO add your handling code here:\n    if (btn_start.getText().equals(&quot;START&quot;)) {\n        try {\n            SerialPort[] allAvailableComPorts = SerialPort.getCommPorts();\n            serialPort = allAvailableComPorts[cb_portovi.getSelectedIndex()];\n\n            serialPort.setBaudRate(Integer.parseInt(cb_brzina.getSelectedItem().toString()));\n\n            serialPort.openPort();\n\n            if (serialPort.openPort()) {\n\n                JOptionPane.showMessageDialog(this, serialPort.getDescriptivePortName() + &quot; je povezan.&quot;);\n                serialPort.setComPortTimeouts(SerialPort.TIMEOUT_SCANNER, 0, 0);\n\n                cb_portovi.setEnabled(false);\n                cb_brzina.setEnabled(false);\n                cb_brojacica.setEnabled(false);\n\n                btn_start.setEnabled(false);\n                btn_stop.setEnabled(true);\n\n                thread = new Thread() {\n                    @Override\n                    public void run() {\n                        boolean running = true;\n\n                        while (running) {\n\n                            if (cb_brojacica.getSelectedItem().equals(&quot;SB7/SB9/MIB9&quot;)) {\n\n                                line = readFromPort(serialPort);\n\n                                JOptionPane.showMessageDialog(null, &quot;Apoenska struktura primljena.&quot;);\n\n                                switch (line.get(15)) {\n                                    case &quot;RSD&quot;:\n                                        new RejectData().setVisible(true);\n                                        ***rejectData.RejectMIBrsd();***\n                                        jcomm.toTableMIB9rsd(line);\n                                        \n                                        break;\n</code></pre>\n<p>Exception:</p>\n<blockquote>\n<p>Exception in thread &quot;Thread-3&quot; java.lang.NullPointerException\nat masterteam.RejectData.RejectMIBrsd(RejectData.java:36)\nat masterteam.MainWindow$10.run(MainWindow.java:458)</p>\n</blockquote>\n<p>I can't see what I'm doing wrong.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10740920,"reputation":1,"user_id":7904040,"display_name":"Starhoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647793957,"creation_date":1647387182,"answer_id":71490177,"question_id":71472128,"body_markdown":"After hours of research on this problem, I care to admit, I was reading through this article: \r\n\r\nhttps://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\r\n\r\nand under Web Applications/@RequestMapping, I found &quot;If you would like to match to all paths, please use &quot;/**&quot; as the pattern.&quot; So I changed my AppController.setupForm(GET) from \r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n\r\nto\r\n\r\n    @RequestMapping(value=&quot;/**&quot;, method = RequestMethod.GET)\r\n\r\nand it worked! Hope this helps others...\r\n\r\n\r\n\r\n","title":"Spring 3 to Spring 5 Migration - URL problems","body":"<p>After hours of research on this problem, I care to admit, I was reading through this article:</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x</a></p>\n<p>and under Web Applications/@RequestMapping, I found &quot;If you would like to match to all paths, please use &quot;/**&quot; as the pattern.&quot; So I changed my AppController.setupForm(GET) from</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET)\n</code></pre>\n<p>to</p>\n<pre><code>@RequestMapping(value=&quot;/**&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>and it worked! Hope this helps others...</p>\n"}],"owner":{"account_id":10740920,"reputation":1,"user_id":7904040,"display_name":"Starhoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647793957,"creation_date":1647280251,"question_id":71472128,"body_markdown":"I recently had to migrate a web app from Spring 3.x to Spring 5.  Most of the migration process was a success until I noticed that any links (like from the menu) to JSP pages are failing with org.springframework.web.servlet.PageNotFound errors. The index page is fine and is pulling in content normally.  Also, links that go to Controller URLs are working. Just that any link going only to a JSP page is failing.  The app-servlet.xml file is pretty much the same as before.  Here&#39;s  a snippet:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot;\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\t\t\t\t\r\n    &lt;/bean&gt;\r\n\r\nAnd, also, I am using &lt;mvc:annotation-driven /&gt; and &lt;context:component scan...&gt;.  I have built probably 15 or 20 small to large web apps using Spring 3.x, this is my first spring 5 app (an what a pain!) but never seen this issue before.\r\n\r\nAppreciate any help.\r\n\r\n","title":"Spring 3 to Spring 5 Migration - URL problems","body":"<p>I recently had to migrate a web app from Spring 3.x to Spring 5.  Most of the migration process was a success until I noticed that any links (like from the menu) to JSP pages are failing with org.springframework.web.servlet.PageNotFound errors. The index page is fine and is pulling in content normally.  Also, links that go to Controller URLs are working. Just that any link going only to a JSP page is failing.  The app-servlet.xml file is pretty much the same as before.  Here's  a snippet:</p>\n<pre><code>&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;             \n&lt;/bean&gt;\n</code></pre>\n<p>And, also, I am using &lt;mvc:annotation-driven /&gt; and &lt;context:component scan...&gt;.  I have built probably 15 or 20 small to large web apps using Spring 3.x, this is my first spring 5 app (an what a pain!) but never seen this issue before.</p>\n<p>Appreciate any help.</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1455161006,"post_id":35330202,"comment_id":58368558,"body_markdown":"Why are you using Math.pow? You are saying (1+interest)^6 on that line","body":"Why are you using Math.pow? You are saying (1+interest)^6 on that line"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1455161079,"post_id":35330202,"comment_id":58368578,"body_markdown":"Why not make your loop work the same way as the code above?","body":"Why not make your loop work the same way as the code above?"},{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":1,"creation_date":1455161142,"post_id":35330202,"comment_id":58368590,"body_markdown":"Your `for` loop has a trailing semicolon (`;`). Meaning the next block, `{ ... }`, will only execute once. Once that&#39;s fixed you should look into your logic. Your effectively setting `sixthMonth` to the same thing `6` times.","body":"Your <code>for</code> loop has a trailing semicolon (<code>;</code>). Meaning the next block, <code>{ ... }</code>, will only execute once. Once that&#39;s fixed you should look into your logic. Your effectively setting <code>sixthMonth</code> to the same thing <code>6</code> times."}],"answers":[{"tags":[],"owner":{"account_id":6719220,"reputation":3760,"user_id":5179910,"accept_rate":69,"display_name":"Benjamin Lowry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1455161713,"creation_date":1455161252,"answer_id":35330263,"question_id":35330202,"body_markdown":"Try this:\r\n\r\n    for (int i = 1; i &lt;= 6; i++) {\r\n\t    monthAmount = (savingAmount + monthAmount) * (1 + monthlyInterestRate); \r\n    }\r\n\r\nThis should get you to the same answer.\r\n\r\nYou were on the right track, but this will allow you to use the previous months amount in the formula. This code will also work for however long you want the loop to run for.","title":"How can I turn this compound value function into a for-loop?","body":"<p>Try this:</p>\n\n<pre><code>for (int i = 1; i &lt;= 6; i++) {\n    monthAmount = (savingAmount + monthAmount) * (1 + monthlyInterestRate); \n}\n</code></pre>\n\n<p>This should get you to the same answer.</p>\n\n<p>You were on the right track, but this will allow you to use the previous months amount in the formula. This code will also work for however long you want the loop to run for.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455161804,"creation_date":1455161567,"answer_id":35330303,"question_id":35330202,"body_markdown":"I would recommending storing the amounts in a list for easy lookup if you want to see how much savings you will have at each month. \r\n\r\n    public static void main(String args[]) {\r\n\r\n        double savingsAmount = 543.23;\r\n        double annualInterestRate = 0.85; // %\r\n        double monthlyInterestRate = annualInterestRate / 12;\r\n\r\n        List&lt;Double&gt; savings = new ArrayList&lt;Double&gt;();\r\n\r\n        savings.add(savingsAmount); // month 0\r\n\r\n        int monthsInTheFuture = 6;\r\n        double compoundInterest = 1 + monthlyInterestRate;\r\n        for (int i = 1; i &lt;= monthsInTheFuture; i++) {\r\n            double previousSavings = savings.get(i-1);\r\n            double nextSavings = previousSavings * compoundInterest;\r\n            savings.add(nextSavings);\r\n        }\r\n\r\n        System.out.println(savings);\r\n    }","title":"How can I turn this compound value function into a for-loop?","body":"<p>I would recommending storing the amounts in a list for easy lookup if you want to see how much savings you will have at each month. </p>\n\n<pre><code>public static void main(String args[]) {\n\n    double savingsAmount = 543.23;\n    double annualInterestRate = 0.85; // %\n    double monthlyInterestRate = annualInterestRate / 12;\n\n    List&lt;Double&gt; savings = new ArrayList&lt;Double&gt;();\n\n    savings.add(savingsAmount); // month 0\n\n    int monthsInTheFuture = 6;\n    double compoundInterest = 1 + monthlyInterestRate;\n    for (int i = 1; i &lt;= monthsInTheFuture; i++) {\n        double previousSavings = savings.get(i-1);\n        double nextSavings = previousSavings * compoundInterest;\n        savings.add(nextSavings);\n    }\n\n    System.out.println(savings);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3271718,"reputation":867,"user_id":2754938,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647793913,"creation_date":1455161662,"answer_id":35330317,"question_id":35330202,"body_markdown":"I would actually recommend using the *compound interest formula* `A = P (1 + r/n) ^ nt`.\r\n\r\n* A - final amount with compound growth\r\n* P - principal investment\r\n* r - annual interest rate\r\n* n - number of times the interest is compounded per time period\r\n* t - number of time periods compounded\r\n\r\nSo you could then reduce all of this to:\r\n\r\n    amount = savingAmount * Math.pow(1 + monthlyInterestRate/timesCompoundedPerMonth, \r\n        timesCompoundedPerMonth * monthsCompounded); \r\n\r\n---\r\n[Compound Interest Formula - Explained](http://www.thecalculatorsite.com/articles/finance/compound-interest-formula.php)","title":"How can I turn this compound value function into a for-loop?","body":"<p>I would actually recommend using the <em>compound interest formula</em> <code>A = P (1 + r/n) ^ nt</code>.</p>\n<ul>\n<li>A - final amount with compound growth</li>\n<li>P - principal investment</li>\n<li>r - annual interest rate</li>\n<li>n - number of times the interest is compounded per time period</li>\n<li>t - number of time periods compounded</li>\n</ul>\n<p>So you could then reduce all of this to:</p>\n<pre><code>amount = savingAmount * Math.pow(1 + monthlyInterestRate/timesCompoundedPerMonth, \n    timesCompoundedPerMonth * monthsCompounded); \n</code></pre>\n<hr />\n<p><a href=\"http://www.thecalculatorsite.com/articles/finance/compound-interest-formula.php\" rel=\"nofollow noreferrer\">Compound Interest Formula - Explained</a></p>\n"}],"owner":{"account_id":7723344,"reputation":35,"user_id":5848836,"display_name":"josh102894"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35330263,"answer_count":3,"score":1,"last_activity_date":1647793913,"creation_date":1455160831,"question_id":35330202,"body_markdown":"Okay so I am new to Java. I have a program that calculates the compound value after asking the user for a savings amount and an annual interest rate. I&#39;m having trouble getting it into a for loop but I feel like I&#39;m somewhat close? The hard part in my mind is understanding how to get the last months total into the new calculation.\r\n\r\nHere&#39;s my formula for the compound value currently:\r\n\r\n        firstMonth = savingAmount * (1 + monthlyInterestRate); \r\n\t \tsecondMonth = (savingAmount + firstMonth) * (1 + monthlyInterestRate);\r\n\t \tthirdMonth = (savingAmount + secondMonth) * (1 + monthlyInterestRate);\r\n\t\tfourthMonth = (savingAmount + thirdMonth) * (1 + monthlyInterestRate);\r\n\t \tfifthMonth = (savingAmount + fourthMonth) * (1 + monthlyInterestRate);\r\n\t \tsixthMonth = (savingAmount + fifthMonth) * (1 + monthlyInterestRate);\r\nIt is ugly obviously and it should be in a for-loop. Again the savingAmount is user input and the annualInterestRate is user input. The the monthlyInterestRate is annualInterestRate/12.\r\n\r\nHere is the for-loop I have so far.\r\n\r\n    \tfor (int i = 1; i &lt;= 6; i++ );\r\n\t\t{\r\n\t\t\tsixthMonth = savingAmount * Math.pow(1+monthlyInterestRate, 6);\r\n\t\t}\t\r\n\t \t\r\n\r\nI am still learning for-loops but doesn&#39;t my code say it adds up while it is less than or equal to 6? And while those are true to do the formula I provided. No you don&#39;t have to answer the question but if you could lead me in the right direction that&#39;d be great. So how would I start to convert it? Feel free to ask for more info if needed.","title":"How can I turn this compound value function into a for-loop?","body":"<p>Okay so I am new to Java. I have a program that calculates the compound value after asking the user for a savings amount and an annual interest rate. I'm having trouble getting it into a for loop but I feel like I'm somewhat close? The hard part in my mind is understanding how to get the last months total into the new calculation.</p>\n\n<p>Here's my formula for the compound value currently:</p>\n\n<pre><code>    firstMonth = savingAmount * (1 + monthlyInterestRate); \n    secondMonth = (savingAmount + firstMonth) * (1 + monthlyInterestRate);\n    thirdMonth = (savingAmount + secondMonth) * (1 + monthlyInterestRate);\n    fourthMonth = (savingAmount + thirdMonth) * (1 + monthlyInterestRate);\n    fifthMonth = (savingAmount + fourthMonth) * (1 + monthlyInterestRate);\n    sixthMonth = (savingAmount + fifthMonth) * (1 + monthlyInterestRate);\n</code></pre>\n\n<p>It is ugly obviously and it should be in a for-loop. Again the savingAmount is user input and the annualInterestRate is user input. The the monthlyInterestRate is annualInterestRate/12.</p>\n\n<p>Here is the for-loop I have so far.</p>\n\n<pre><code>    for (int i = 1; i &lt;= 6; i++ );\n    {\n        sixthMonth = savingAmount * Math.pow(1+monthlyInterestRate, 6);\n    }   \n</code></pre>\n\n<p>I am still learning for-loops but doesn't my code say it adds up while it is less than or equal to 6? And while those are true to do the formula I provided. No you don't have to answer the question but if you could lead me in the right direction that'd be great. So how would I start to convert it? Feel free to ask for more info if needed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1647717766,"post_id":71541324,"comment_id":126442958,"body_markdown":"You don&#39;t need the `switch` at all - just use string concatenation &quot;directly.&quot;","body":"You don&#39;t need the <code>switch</code> at all - just use string concatenation &quot;directly.&quot;"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647717805,"post_id":71541324,"comment_id":126442964,"body_markdown":"@EJoshuaS-StandwithUkraine Only if `default` isn&#39;t a **no-op**.","body":"@EJoshuaS-StandwithUkraine Only if <code>default</code> isn&#39;t a <b>no-op</b>."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1647717854,"post_id":71541324,"comment_id":126442974,"body_markdown":"@ElliottFrisch True.","body":"@ElliottFrisch True."},{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1647718852,"post_id":71541324,"comment_id":126443165,"body_markdown":"Why do you need an alternative way to get the value, instead of using the same expression as in the `switch` parentheses? If it takes time to generate and return the value, store it in a variable (perhaps a `final` one) before using it in a `switch`.","body":"Why do you need an alternative way to get the value, instead of using the same expression as in the <code>switch</code> parentheses? If it takes time to generate and return the value, store it in a variable (perhaps a <code>final</code> one) before using it in a <code>switch</code>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647793435,"creation_date":1647717758,"answer_id":71541337,"question_id":71541324,"body_markdown":"No. It is not. But, `weatherSystem.getRealClass().getSimpleName()` is. I suggest you save that value to a local variable. And all your `case`(s) seem to do the same thing. So, as posted, you could simplify it. Like\r\n\r\n    String sName = weatherSystem.getRealClass().getSimpleName();\r\n    switch (sName)\r\n    {\r\n        case &quot;SyncWeatherSystem&quot;:\r\n        case &quot;AsyncWeatherSystem&quot;:\r\n        case &quot;FixedWeatherSystem&quot;:\r\n        case &quot;NoWeatherSystem&quot;:\r\n            logger.info(&quot;initializing {}&quot;, sName);\r\n            break;\r\n    }\r\n","title":"Can you refer to case values inside the code block of the switch statement?","body":"<p>No. It is not. But, <code>weatherSystem.getRealClass().getSimpleName()</code> is. I suggest you save that value to a local variable. And all your <code>case</code>(s) seem to do the same thing. So, as posted, you could simplify it. Like</p>\n<pre><code>String sName = weatherSystem.getRealClass().getSimpleName();\nswitch (sName)\n{\n    case &quot;SyncWeatherSystem&quot;:\n    case &quot;AsyncWeatherSystem&quot;:\n    case &quot;FixedWeatherSystem&quot;:\n    case &quot;NoWeatherSystem&quot;:\n        logger.info(&quot;initializing {}&quot;, sName);\n        break;\n}\n</code></pre>\n"}],"owner":{"account_id":18076496,"reputation":201,"user_id":13139607,"display_name":"Snorik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647793435,"creation_date":1647717619,"question_id":71541324,"body_markdown":"So can you do something like this in Java:\r\n\r\nhttps://stackoverflow.com/questions/66147790/can-you-get-the-value-being-switched-on-inside-a-switch-expression\r\n\r\nI have quite a few cases in my code which look like this (actual logic code removed for clarity reasons):\r\n\r\n        switch (weatherSystem.getRealClass().getSimpleName())\r\n        {\r\n        \tcase &quot;SyncWeatherSystem&quot;:\r\n        \t    logger.info(&quot;initializing sync weather system&quot;);\r\n        \t    …\r\n        \t\tbreak;\r\n        \tcase &quot;AsyncWeatherSystem&quot;:\r\n        \t\tlogger.info(&quot;initializing  async weather system&quot;);\r\n        \t    …\t\t\r\n        \t\tbreak;\r\n        \tcase &quot;FixedWeatherSystem&quot;:\r\n        \t\tlogger.info(&quot;initializing fixed weather system&quot;);\r\n        \t    …\r\n        \t\tbreak;\r\n        \tcase &quot;NoWeatherSystem&quot;:\r\n        \t\tlogger.info(&quot;initializing no weather system&quot;);\r\n        \t    …\r\n        \t\tbreak;\r\n    \t}\r\n\r\nAnd I really would love to do like:\r\n\r\n        switch (weatherSystem.getRealClass().getSimpleName())\r\n        {\r\n        \tcase &quot;SyncWeatherSystem&quot;:\r\n        \t    logger.info(&quot;initializing {}&quot;, case.value);\r\n        \t    …\r\n        \t\tbreak;\r\n        \tcase &quot;AsyncWeatherSystem&quot;:\r\n        \t\tlogger.info(&quot;initializing {}&quot;, case.value);\t\r\n        \t    …\r\n        \t\tbreak;\r\n        \tcase &quot;FixedWeatherSystem&quot;:\r\n        \t\tlogger.info(&quot;initializing {}&quot;, case.value);\r\n        \t    …\r\n        \t\tbreak;\r\n            case &quot;NoWeatherSystem&quot;:\r\n            \tlogger.info(&quot;initializing {}&quot;, case.value);\r\n        \t    …\r\n            \tbreak;\r\n        }\r\n\r\nIs this possible in Java?","title":"Can you refer to case values inside the code block of the switch statement?","body":"<p>So can you do something like this in Java:</p>\n<p><a href=\"https://stackoverflow.com/questions/66147790/can-you-get-the-value-being-switched-on-inside-a-switch-expression\">Can you get the value being switched on inside a switch expression</a></p>\n<p>I have quite a few cases in my code which look like this (actual logic code removed for clarity reasons):</p>\n<pre><code>    switch (weatherSystem.getRealClass().getSimpleName())\n    {\n        case &quot;SyncWeatherSystem&quot;:\n            logger.info(&quot;initializing sync weather system&quot;);\n            …\n            break;\n        case &quot;AsyncWeatherSystem&quot;:\n            logger.info(&quot;initializing  async weather system&quot;);\n            …       \n            break;\n        case &quot;FixedWeatherSystem&quot;:\n            logger.info(&quot;initializing fixed weather system&quot;);\n            …\n            break;\n        case &quot;NoWeatherSystem&quot;:\n            logger.info(&quot;initializing no weather system&quot;);\n            …\n            break;\n    }\n</code></pre>\n<p>And I really would love to do like:</p>\n<pre><code>    switch (weatherSystem.getRealClass().getSimpleName())\n    {\n        case &quot;SyncWeatherSystem&quot;:\n            logger.info(&quot;initializing {}&quot;, case.value);\n            …\n            break;\n        case &quot;AsyncWeatherSystem&quot;:\n            logger.info(&quot;initializing {}&quot;, case.value); \n            …\n            break;\n        case &quot;FixedWeatherSystem&quot;:\n            logger.info(&quot;initializing {}&quot;, case.value);\n            …\n            break;\n        case &quot;NoWeatherSystem&quot;:\n            logger.info(&quot;initializing {}&quot;, case.value);\n            …\n            break;\n    }\n</code></pre>\n<p>Is this possible in Java?</p>\n"},{"tags":["java","spring","hibernate","java-8","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3323857,"reputation":2511,"user_id":2794332,"accept_rate":81,"display_name":"pezetem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501136205,"creation_date":1501136205,"answer_id":45342719,"question_id":45342603,"body_markdown":"In case of the list with more than one element, the first approach will be much faster (if the list is has just one element, it should be the same)\r\n\r\nJust briefly describing the reason why. During batch insert you will not have the overhead of multiple connection established with single insert multiple time.","title":"Spring Data JPA save method effectiveness in Java 8 functional map","body":"<p>In case of the list with more than one element, the first approach will be much faster (if the list is has just one element, it should be the same)</p>\n\n<p>Just briefly describing the reason why. During batch insert you will not have the overhead of multiple connection established with single insert multiple time.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501136997,"creation_date":1501136997,"answer_id":45342939,"question_id":45342603,"body_markdown":"It depends on many things and therefore is hard to predict. But I would expect it not to make much of a difference.\r\n\r\nYou seem to be talking Spring Data JPA here since the question is tagged with `hibernate`. Assuming your transaction spans all the calls to `save`, saving really just adds the entity to the `EntityManager` without actually accessing the database. And when finally a flush happens (typically at the end of the transaction), all entities will get persisted to the database in one go by Hibernate. \r\n\r\nTherefore performance differences come from the different code paths in your code and in Spring Data. Those differences should be neglectable from anything coming from actually persisting entities.\r\n\r\nIf we are talking about huge numbers of entities the performance characteristics of the `EntityManager` itself might become relevant.\r\n\r\nIf every call to `save` creates its own transaction single calls will most likely be much slower.\r\n\r\nSo in the end, it boils down to:\r\n\r\nWhy don&#39;t you just try it with your data? And let us know the results?","title":"Spring Data JPA save method effectiveness in Java 8 functional map","body":"<p>It depends on many things and therefore is hard to predict. But I would expect it not to make much of a difference.</p>\n\n<p>You seem to be talking Spring Data JPA here since the question is tagged with <code>hibernate</code>. Assuming your transaction spans all the calls to <code>save</code>, saving really just adds the entity to the <code>EntityManager</code> without actually accessing the database. And when finally a flush happens (typically at the end of the transaction), all entities will get persisted to the database in one go by Hibernate. </p>\n\n<p>Therefore performance differences come from the different code paths in your code and in Spring Data. Those differences should be neglectable from anything coming from actually persisting entities.</p>\n\n<p>If we are talking about huge numbers of entities the performance characteristics of the <code>EntityManager</code> itself might become relevant.</p>\n\n<p>If every call to <code>save</code> creates its own transaction single calls will most likely be much slower.</p>\n\n<p>So in the end, it boils down to:</p>\n\n<p>Why don't you just try it with your data? And let us know the results?</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501137001,"creation_date":1501137001,"answer_id":45342941,"question_id":45342603,"body_markdown":"`save(Iterable&lt;S&gt; entities)` relies on iterating and invoking `save(S entity)` :\r\n\r\n\t@Transactional\r\n\tpublic &lt;S extends T&gt; List&lt;S&gt; save(Iterable&lt;S&gt; entities) {\r\n\r\n\t\tList&lt;S&gt; result = new ArrayList&lt;S&gt;();\r\n\r\n\t\tif (entities == null) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tfor (S entity : entities) {\r\n\t\t\tresult.add(save(entity));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\nSo the two should give the same result in terms of performance.&lt;br&gt;\r\n\r\nTo do batch insert, you have to specify it in your hibernate configuration (`hibernate.jdbc.batch_size`) and handle yourself the flush.&lt;br&gt;\r\n\r\n","title":"Spring Data JPA save method effectiveness in Java 8 functional map","body":"<p><code>save(Iterable&lt;S&gt; entities)</code> relies on iterating and invoking <code>save(S entity)</code> :</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; List&lt;S&gt; save(Iterable&lt;S&gt; entities) {\n\n    List&lt;S&gt; result = new ArrayList&lt;S&gt;();\n\n    if (entities == null) {\n        return result;\n    }\n\n    for (S entity : entities) {\n        result.add(save(entity));\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>So the two should give the same result in terms of performance.<br></p>\n\n<p>To do batch insert, you have to specify it in your hibernate configuration (<code>hibernate.jdbc.batch_size</code>) and handle yourself the flush.<br></p>\n"}],"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45342941,"answer_count":3,"score":0,"last_activity_date":1647793211,"creation_date":1501135759,"question_id":45342603,"body_markdown":"When using Spring Data together with Java 8 we have two options to save the collection:\r\n\r\n 1. We can use classic `List&lt;S&gt; save(Iterable&lt;S&gt; entities)` method that takes the whole list.  \r\nExample:\r\n\r\n        someOtherRepository.save(\r\n            someRepository.findAll()\r\n            .stream()\r\n            .map(something -&gt; {\r\n                //some operations\r\n                return someOtherThing;\r\n            })\r\n            .collect(Collectors.toList())\r\n        );\r\n\r\n 2. We can use `S save(S entity)` method that takes single entity and use it in a `stream` in a `map`.  \r\nExample:\r\n\r\n        someRepository.findAll()\r\n        .stream()\r\n        .map(something -&gt; {\r\n            //some operations\r\n            return someOtherThing;\r\n        })\r\n        .map(someOtherRepository::save)\r\n        .collect(Collectors.toList());\r\n\r\nThe question is:  \r\nIs there a difference in execution time between those two approaches? If yes which is more effective (faster).","title":"Spring Data JPA save method effectiveness in Java 8 functional map","body":"<p>When using Spring Data together with Java 8 we have two options to save the collection:</p>\n\n<ol>\n<li><p>We can use classic <code>List&lt;S&gt; save(Iterable&lt;S&gt; entities)</code> method that takes the whole list.<br>\nExample:</p>\n\n<pre><code>someOtherRepository.save(\n    someRepository.findAll()\n    .stream()\n    .map(something -&gt; {\n        //some operations\n        return someOtherThing;\n    })\n    .collect(Collectors.toList())\n);\n</code></pre></li>\n<li><p>We can use <code>S save(S entity)</code> method that takes single entity and use it in a <code>stream</code> in a <code>map</code>.<br>\nExample:</p>\n\n<pre><code>someRepository.findAll()\n.stream()\n.map(something -&gt; {\n    //some operations\n    return someOtherThing;\n})\n.map(someOtherRepository::save)\n.collect(Collectors.toList());\n</code></pre></li>\n</ol>\n\n<p>The question is:<br>\nIs there a difference in execution time between those two approaches? If yes which is more effective (faster).</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":8295144,"reputation":565,"user_id":6235606,"display_name":"briadeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647617580,"creation_date":1647617580,"answer_id":71529471,"question_id":71528668,"body_markdown":"Yes it is, you can define your own Stream using\r\n\r\n    LoggingOutputStream extends OutputStream {\r\n\r\nand chain in order to intercept the logs\r\n\r\n    System.setOut(new PrintStream(new LoggingOutputStream(\r\n\r\nHave a look at [this nice example][1] based on innoq/log4j [LoggingOutputStream][2].\r\n\r\n\r\n  [1]: https://sysgears.com/articles/how-to-redirect-stdout-and-stderr-writing-to-a-log4j-appender/\r\n  [2]: https://github.com/innoq/log4j/blob/master/contribs/JimMoore/LoggingOutputStream.java","title":"Log4j Logging OutputStream chaining","body":"<p>Yes it is, you can define your own Stream using</p>\n<pre><code>LoggingOutputStream extends OutputStream {\n</code></pre>\n<p>and chain in order to intercept the logs</p>\n<pre><code>System.setOut(new PrintStream(new LoggingOutputStream(\n</code></pre>\n<p>Have a look at <a href=\"https://sysgears.com/articles/how-to-redirect-stdout-and-stderr-writing-to-a-log4j-appender/\" rel=\"nofollow noreferrer\">this nice example</a> based on innoq/log4j <a href=\"https://github.com/innoq/log4j/blob/master/contribs/JimMoore/LoggingOutputStream.java\" rel=\"nofollow noreferrer\">LoggingOutputStream</a>.</p>\n"}],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71529471,"answer_count":1,"score":0,"last_activity_date":1647793200,"creation_date":1647614166,"question_id":71528668,"body_markdown":"I have a legacy Java app, It uses Log4j as logging tool. The app is lacking metrics, so I want to find a way to smartly retrieve some Java class based metrics.\r\n\r\nThe issue is, I want to intercept all Log4j logging before they are served.\r\n\r\nThe idea is inspired by the chaining of the `System.out` looking like this \r\n\r\n\r\n    TeeOutputStream myOut=new TeeOutputStream(System.out, mySpecificOut);\r\n    PrintStream ps = new PrintStream(myOut, true); //true - auto-flush after println\r\n    System.setOut(ps);\r\n\r\nSo is there a way to chain the Log4j output stream and fully control it on Java because I need to do some logic before logging.\r\n\r\nThanks","title":"Log4j Logging OutputStream chaining","body":"<p>I have a legacy Java app, It uses Log4j as logging tool. The app is lacking metrics, so I want to find a way to smartly retrieve some Java class based metrics.</p>\n<p>The issue is, I want to intercept all Log4j logging before they are served.</p>\n<p>The idea is inspired by the chaining of the <code>System.out</code> looking like this</p>\n<pre><code>TeeOutputStream myOut=new TeeOutputStream(System.out, mySpecificOut);\nPrintStream ps = new PrintStream(myOut, true); //true - auto-flush after println\nSystem.setOut(ps);\n</code></pre>\n<p>So is there a way to chain the Log4j output stream and fully control it on Java because I need to do some logic before logging.</p>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8491,"page":1501,"page_size":100}
