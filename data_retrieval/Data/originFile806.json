{"items":[{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1653826338,"post_id":72423380,"comment_id":127941352,"body_markdown":"The raw folder is like any other *resource* folder - you access the stuff in it through IDs, like ``R.raw.my_thing``, so there&#39;s no hierarchy. You probably want to use the `assets` folder instead, through `Resources.getAssets().open(&quot;songs/2009/macarena.mp3&quot;)`","body":"The raw folder is like any other <i>resource</i> folder - you access the stuff in it through IDs, like <code>R.raw.my_thing</code>, so there&#39;s no hierarchy. You probably want to use the <code>assets</code> folder instead, through <code>Resources.getAssets().open(&quot;songs&#47;2009&#47;macarena.mp3&quot;)</code>"},{"owner":{"account_id":17084038,"reputation":25,"user_id":12361794,"display_name":"sdwd23"},"score":0,"creation_date":1654014567,"post_id":72423380,"comment_id":127989551,"body_markdown":"@cactustictacs I&#39;ve found a way using `AssetFileDescriptor` but it doesn&#39;t seem to work with subfolders. I&#39;ve also tried without any folder but sometimes the audio played isn&#39;t the same as mentioned in the code e.g. `getAssets().openFd(&quot;macarena.mp3&quot;)` but thank you, I decided to filter them by name instead.","body":"@cactustictacs I&#39;ve found a way using <code>AssetFileDescriptor</code> but it doesn&#39;t seem to work with subfolders. I&#39;ve also tried without any folder but sometimes the audio played isn&#39;t the same as mentioned in the code e.g. <code>getAssets().openFd(&quot;macarena.mp3&quot;)</code> but thank you, I decided to filter them by name instead."}],"answers":[{"comments":[{"owner":{"account_id":17084038,"reputation":25,"user_id":12361794,"display_name":"sdwd23"},"score":0,"creation_date":1654014898,"post_id":72423796,"comment_id":127989603,"body_markdown":"Thank you, I&#39;ve tried adding `if (fields[i].getName().startsWith(&quot;TITLE_HERE&quot;))` and it works very well.","body":"Thank you, I&#39;ve tried adding <code>if (fields[i].getName().startsWith(&quot;TITLE_HERE&quot;))</code> and it works very well."}],"tags":[],"owner":{"display_name":"user18790868"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653831465,"creation_date":1653828558,"answer_id":72423796,"question_id":72423380,"body_markdown":"**Question A: Fix:**\r\nWhen you create All Audio Files in /resources folder or raw folder(similar), create audio files with name 2008 and append by some string and current timestamp. So, all files for 2008 year will have the string &quot;2008&quot; in /resources folder. So, to retrieve parse the String and retrieve audio files which contain the string &quot;2008&quot;, Similarly for 2009 and 2010 years.\r\nReading files from Raw folder: **Fix:**  using resources.getBundle() in java or create file with properties class in default directory which is src/resources folder and using library InputStream or FileInputStream.\r\nIs it possible to create folders and sub folders in /resources folder? Yes its possible with Java&#39;s mkdir. But keep in mind to create folder names with string like &quot;2008&quot; dynamically appended by current timestamp. and while retrieval, retrieve all files in respective folders  which has names like &quot;2008|, &quot;2009&quot; etc. If Filenames become too recursive and tedious, may be some algorithm that has random string can be used and with fixed length. ofcourse, we can put all permutations and combinations of strings to best use to keep number of strings(filenames)(reusable permutation of filenames)  to minimum. \r\nHope i answered your question.","title":"How to read certain files from raw folder?","body":"<p><strong>Question A: Fix:</strong>\nWhen you create All Audio Files in /resources folder or raw folder(similar), create audio files with name 2008 and append by some string and current timestamp. So, all files for 2008 year will have the string &quot;2008&quot; in /resources folder. So, to retrieve parse the String and retrieve audio files which contain the string &quot;2008&quot;, Similarly for 2009 and 2010 years.\nReading files from Raw folder: <strong>Fix:</strong>  using resources.getBundle() in java or create file with properties class in default directory which is src/resources folder and using library InputStream or FileInputStream.\nIs it possible to create folders and sub folders in /resources folder? Yes its possible with Java's mkdir. But keep in mind to create folder names with string like &quot;2008&quot; dynamically appended by current timestamp. and while retrieval, retrieve all files in respective folders  which has names like &quot;2008|, &quot;2009&quot; etc. If Filenames become too recursive and tedious, may be some algorithm that has random string can be used and with fixed length. ofcourse, we can put all permutations and combinations of strings to best use to keep number of strings(filenames)(reusable permutation of filenames)  to minimum.\nHope i answered your question.</p>\n"},{"tags":[],"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671143073,"creation_date":1671143073,"answer_id":74818224,"question_id":72423380,"body_markdown":"There are few steps to complete the task:\r\n 1. Create a `Model` Class\r\n\r\n&gt;     public class Model implements Serializable {\r\n&gt;     \r\n&gt;         public int resId;\r\n&gt;         public String fname;\r\n&gt;     \r\n&gt;         public Model (int resId, String name){\r\n&gt;             this.resId = resId;\r\n&gt;             this.fname = name;\r\n&gt;         }\r\n&gt;     \r\n&gt;     \r\n&gt;         public int getResId() {\r\n&gt;             return resId;\r\n&gt;         }\r\n&gt;     \r\n&gt;         public void setResId(int resId) {\r\n&gt;             this.resId = resId;\r\n&gt;         }\r\n&gt;     \r\n&gt;     }\r\n\r\n 2. Create the following function in your activity\r\n\r\n&gt;      public void listRawFiles(String word){\r\n&gt;             String type = &quot;raw&quot;;\r\n&gt;             Resources res = getResources();\r\n&gt; \r\n&gt;             // Get the list of MP3 files that start with the specified word\r\n&gt;             for (int i = 1; ; i++) {\r\n&gt;                 String name = word + i;\r\n&gt;                 Log.e(&quot;Resource&quot;, name);\r\n&gt; \r\n&gt;                 // Get the ID of the resource with the specified name and type\r\n&gt;                 int id = res.getIdentifier(name, type, getPackageName());\r\n&gt; \r\n&gt;                 // If the ID is invalid, we have reached the end of the list\r\n&gt;                 if (id == 0) {\r\n&gt;                     break;\r\n&gt;                 }\r\n&gt;                 // Add the resource name to the list\r\n&gt;                 Model model = new Model(id,name, &quot;0&quot;);\r\n&gt;                 files.add(model); //files is Model type arraylist\r\n&gt;             }\r\n&gt;     }\r\n\r\nNow to read the specific files from the raw folder call the function as \r\n\r\n    listRawFiles(&quot;songFrom2008_&quot;);\r\n\r\nhere I suppose that your raw folder has songs with the names like songFrom2008_1,songFrom2008_2 ..., songFrom2010_1 ... and so on the list.\r\n\r\nTo call the list of songs from 2010 use, \r\n\r\n    listRawFiles(&quot;songFrom2010_&quot;);\r\n\r\nInside your `musicListView.setOnItemClickListener`, you can use:\r\n\r\n    Model model = arrayList.get(i); //arrayList is Model type\r\n    musicplayer = MediaPlayer.create(MainActivity.this, model.getResId());\r\n    musicplayer.start();\r\n  \r\nHope it helps!","title":"How to read certain files from raw folder?","body":"<p>There are few steps to complete the task:</p>\n<ol>\n<li>Create a <code>Model</code> Class</li>\n</ol>\n<blockquote>\n<pre><code>public class Model implements Serializable {\n\n    public int resId;\n    public String fname;\n\n    public Model (int resId, String name){\n        this.resId = resId;\n        this.fname = name;\n    }\n\n\n    public int getResId() {\n        return resId;\n    }\n\n    public void setResId(int resId) {\n        this.resId = resId;\n    }\n\n}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Create the following function in your activity</li>\n</ol>\n<blockquote>\n<pre><code> public void listRawFiles(String word){\n        String type = &quot;raw&quot;;\n        Resources res = getResources();\n\n        // Get the list of MP3 files that start with the specified word\n        for (int i = 1; ; i++) {\n            String name = word + i;\n            Log.e(&quot;Resource&quot;, name);\n\n            // Get the ID of the resource with the specified name and type\n            int id = res.getIdentifier(name, type, getPackageName());\n\n            // If the ID is invalid, we have reached the end of the list\n            if (id == 0) {\n                break;\n            }\n            // Add the resource name to the list\n            Model model = new Model(id,name, &quot;0&quot;);\n            files.add(model); //files is Model type arraylist\n        }\n}\n</code></pre>\n</blockquote>\n<p>Now to read the specific files from the raw folder call the function as</p>\n<pre><code>listRawFiles(&quot;songFrom2008_&quot;);\n</code></pre>\n<p>here I suppose that your raw folder has songs with the names like songFrom2008_1,songFrom2008_2 ..., songFrom2010_1 ... and so on the list.</p>\n<p>To call the list of songs from 2010 use,</p>\n<pre><code>listRawFiles(&quot;songFrom2010_&quot;);\n</code></pre>\n<p>Inside your <code>musicListView.setOnItemClickListener</code>, you can use:</p>\n<pre><code>Model model = arrayList.get(i); //arrayList is Model type\nmusicplayer = MediaPlayer.create(MainActivity.this, model.getResId());\nmusicplayer.start();\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":17084038,"reputation":25,"user_id":12361794,"display_name":"sdwd23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72423796,"answer_count":2,"score":0,"last_activity_date":1671143073,"creation_date":1653825186,"question_id":72423380,"body_markdown":"I have created a simple activity for playing a list of music stored in the raw folder but I wanted to create another activities for example, `MainActivity` - songs from 2008, Other Activity 1 - songs from 2009, Other Activity 2 - songs from 2010, etc. So How do I only read certain files from the raw folder Or is it possible to create sub-directories or read from other new folders?\r\n\r\nHere are the codes I have done so far:\r\n\r\n`MainActivity.java`\r\n\r\n```java\r\n    package com.example.myapplication;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.media.MediaPlayer;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ListView musicListView;\r\n    ArrayList&lt;String&gt; arrayList;\r\n\r\n    ArrayAdapter musicAdapter;\r\n    MediaPlayer musicplayer;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        musicListView = findViewById(R.id.musicListView);\r\n        arrayList = new ArrayList&lt;String&gt;();\r\n\r\n        Field[] fields = R.raw.class.getFields();\r\n        for (int i= i=0; i&lt;fields.length; i++) {\r\n            arrayList.add(fields[i].getName());\r\n        }\r\n\r\n        musicAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, arrayList);\r\n        musicListView.setAdapter(musicAdapter);\r\n\r\n        musicListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                if (musicplayer != null) {\r\n                    musicplayer.release();\r\n                }\r\n\r\n                int resId = getResources().getIdentifier(arrayList.get(i), &quot;raw&quot;, getPackageName());\r\n                musicplayer = MediaPlayer.create(MainActivity.this, resId);\r\n                musicplayer.start();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to read certain files from raw folder?","body":"<p>I have created a simple activity for playing a list of music stored in the raw folder but I wanted to create another activities for example, <code>MainActivity</code> - songs from 2008, Other Activity 1 - songs from 2009, Other Activity 2 - songs from 2010, etc. So How do I only read certain files from the raw folder Or is it possible to create sub-directories or read from other new folders?</p>\n<p>Here are the codes I have done so far:</p>\n<p><code>MainActivity.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.myapplication;\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.media.MediaPlayer;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.AdapterView;\n    import android.widget.ArrayAdapter;\n    import android.widget.ListView;\n\n    import java.lang.reflect.Field;\n    import java.util.ArrayList;\n\n    public class MainActivity extends AppCompatActivity {\n\n    ListView musicListView;\n    ArrayList&lt;String&gt; arrayList;\n\n    ArrayAdapter musicAdapter;\n    MediaPlayer musicplayer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        musicListView = findViewById(R.id.musicListView);\n        arrayList = new ArrayList&lt;String&gt;();\n\n        Field[] fields = R.raw.class.getFields();\n        for (int i= i=0; i&lt;fields.length; i++) {\n            arrayList.add(fields[i].getName());\n        }\n\n        musicAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, arrayList);\n        musicListView.setAdapter(musicAdapter);\n\n        musicListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                if (musicplayer != null) {\n                    musicplayer.release();\n                }\n\n                int resId = getResources().getIdentifier(arrayList.get(i), &quot;raw&quot;, getPackageName());\n                musicplayer = MediaPlayer.create(MainActivity.this, resId);\n                musicplayer.start();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","deserialization"],"answers":[{"tags":[],"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1671142860,"creation_date":1671127972,"answer_id":74815850,"question_id":74782416,"body_markdown":"In order to fix this, make the ```MyObject``` inner class static:\r\n\r\n```\r\npublic static class MyObject {\r\n    public int value1;\r\n    public String value2;\r\n}\r\n```\r\n\r\nWithout the static keyword, the inner class needs an instance of the encompassing outer class in order to exist. This is what causes the exception.\r\n\r\nFor the ```enum``` that is not the case because inner enums are implicitly static, see the [Java Language Specification, chapter 8.9][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9","title":"Non-static inner classes like this can only by instantiated using default, no-argument constructor error when deserialize","body":"<p>In order to fix this, make the <code>MyObject</code> inner class static:</p>\n<pre><code>public static class MyObject {\n    public int value1;\n    public String value2;\n}\n</code></pre>\n<p>Without the static keyword, the inner class needs an instance of the encompassing outer class in order to exist. This is what causes the exception.</p>\n<p>For the <code>enum</code> that is not the case because inner enums are implicitly static, see the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9\" rel=\"noreferrer\">Java Language Specification, chapter 8.9</a></p>\n"}],"owner":{"account_id":16959839,"reputation":1945,"user_id":12267227,"display_name":"Silny ToJa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12444,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":74815850,"answer_count":1,"score":5,"last_activity_date":1671142860,"creation_date":1670922837,"question_id":74782416,"body_markdown":"I am trying to serialize and deserialize my object but I got an error during deserialization:\r\n\r\n    Cannot construct an instance of &#39;MyObject&#39; (although at least one Creator exists): \r\n    non-static inner classes like this can only be instantiated using a default, no-argument constructor.\r\nI had constructor for class MyObject with 2 parameters but I changed it to default constructor, but it still throw the same error.\r\n\r\nThis is my code:\r\n\r\n    @Test\r\n    public void serializeAndDeserializeTest() throws JsonProcessingException {\r\n        var list = new MyObject[2];\r\n        var t1 = new MyObject();\r\n        t1.value1 = TestEnum.VALUE5.numVal;\r\n        t1.value2 = &quot;A&quot;;\r\n        var t2 = new MyObject();\r\n        t2.value1 = TestEnum.VALUE1.numVal;\r\n        t2.value2 = &quot;B&quot;;\r\n        list[0] = t1;\r\n        list[1] = t2;\r\n        var mapper = new ObjectMapper();\r\n        var json = mapper.writeValueAsString(list);\r\n        MyObject[] output = mapper.readValue(json, MyObject[].class);\r\n    }\r\n\r\n    public class MyObject\r\n    {\r\n        public int value1;\r\n        public String value2;\r\n    }\r\n\r\n    public enum TestEnum\r\n    {\r\n        VALUE1(1),\r\n        VALUE3(3),\r\n        VALUE5(5);\r\n\r\n        public int numVal;\r\n\r\n        TestEnum(int numVal) {\r\n            this.numVal = numVal;\r\n        }\r\n    }\r\n\r\nI also tried to create a private default constructor but it doesn&#39;t work.","title":"Non-static inner classes like this can only by instantiated using default, no-argument constructor error when deserialize","body":"<p>I am trying to serialize and deserialize my object but I got an error during deserialization:</p>\n<pre><code>Cannot construct an instance of 'MyObject' (although at least one Creator exists): \nnon-static inner classes like this can only be instantiated using a default, no-argument constructor.\n</code></pre>\n<p>I had constructor for class MyObject with 2 parameters but I changed it to default constructor, but it still throw the same error.</p>\n<p>This is my code:</p>\n<pre><code>@Test\npublic void serializeAndDeserializeTest() throws JsonProcessingException {\n    var list = new MyObject[2];\n    var t1 = new MyObject();\n    t1.value1 = TestEnum.VALUE5.numVal;\n    t1.value2 = &quot;A&quot;;\n    var t2 = new MyObject();\n    t2.value1 = TestEnum.VALUE1.numVal;\n    t2.value2 = &quot;B&quot;;\n    list[0] = t1;\n    list[1] = t2;\n    var mapper = new ObjectMapper();\n    var json = mapper.writeValueAsString(list);\n    MyObject[] output = mapper.readValue(json, MyObject[].class);\n}\n\npublic class MyObject\n{\n    public int value1;\n    public String value2;\n}\n\npublic enum TestEnum\n{\n    VALUE1(1),\n    VALUE3(3),\n    VALUE5(5);\n\n    public int numVal;\n\n    TestEnum(int numVal) {\n        this.numVal = numVal;\n    }\n}\n</code></pre>\n<p>I also tried to create a private default constructor but it doesn't work.</p>\n"},{"tags":["java","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671142843,"creation_date":1671142119,"answer_id":74818108,"question_id":74736118,"body_markdown":"This is the expected behavior. By default all the methods of a &#39;...Repository&#39; are &#39;derived query methods&#39; and Spring tries to map the implementation based on the method name (It will generate the queries for you).\r\n\r\nOnce you annotate a method with `@Query` annotation, Spring expects you to specify your own query and will not do any derivation on its own irrespective of the name of the method.\r\n\r\n\r\nCheck this article for more detailed explanation - [Spring Data MongoDB - Guide to the @Query Annotation](https://stackabuse.com/spring-data-mongodb-guide-to-the-query-annotation/) ","title":"How can I sort and do a search in mongodb spring boot","body":"<p>This is the expected behavior. By default all the methods of a '...Repository' are 'derived query methods' and Spring tries to map the implementation based on the method name (It will generate the queries for you).</p>\n<p>Once you annotate a method with <code>@Query</code> annotation, Spring expects you to specify your own query and will not do any derivation on its own irrespective of the name of the method.</p>\n<p>Check this article for more detailed explanation - <a href=\"https://stackabuse.com/spring-data-mongodb-guide-to-the-query-annotation/\" rel=\"nofollow noreferrer\">Spring Data MongoDB - Guide to the @Query Annotation</a></p>\n"}],"owner":{"account_id":27112240,"reputation":1,"user_id":20657198,"display_name":"Ivan G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671142843,"creation_date":1670532174,"question_id":74736118,"body_markdown":"I cannot sort my search results using Mongodb, I added a method query that uses findAllByorderByDateDesc()\r\n\r\nI tried using &quot;findAllByOrderByDateDesc() and it works if I&#39;m not doing a search query but once I add the @Query annotation it stops sorting by dates.\r\n\r\nRepository\r\n\r\n```\r\n@Repository\r\npublic interface WarrantiesRepository extends MongoRepository&lt;WarrantyModel, String&gt; {\r\n\tpublic Page&lt;WarrantyModel&gt; findAllByOrderByDateDesc(PageRequest pageRequest);\r\n\r\n\t@Query(&quot;{$text: {$search: ?0}}&quot;)\r\n\tpublic Page&lt;WarrantyModel&gt; findAllByOrderByDateDesc(String search, PageRequest pageRequest);\r\n\tpublic WarrantyModel getWarrantyById(String id);\r\n\tpublic WarrantyModel getWarrantyByCar(String car);\r\n\tpublic WarrantyModel getWarrantyByPart(String part);\r\n\tpublic WarrantyModel getWarrantyBypartNumber(String partNumber);\r\n}\r\n\r\n```\r\n\r\n\r\nController\r\n\r\n```\r\n\t@PostMapping(&quot;/warranties/search&quot;)\r\n\tpublic ModelAndView getLiveWarranties(@RequestBody String search, Model model) {\r\n\t\tinput = search.substring(1, search.length()-1);\r\n\t\tif(search.length() == 2) {\r\n\t        warranties = warrantiesRepository.findAllByOrderByDateDesc(PageRequest.of(currentPage, pageSize));\r\n\t\t} else {\r\n\t\t\twarranties = warrantiesRepository.findAllByOrderByDateDesc(search, PageRequest.of(currentPage, pageSize));\r\n\t\t}\r\n\t\tModelAndView mv = new ModelAndView(&quot;warranties::search&quot;);\r\n\t\tmv.addObject(&quot;warranties&quot;, warranties);\r\n\t\t\r\n\t\treturn mv;\r\n\t}\r\n```\r\n\r\nModel\r\n\r\n```\r\n@Component\r\n@Document(&quot;Warranty&quot;)\r\npublic class WarrantyModel {\r\n\t\r\n\t@Id\r\n\tpublic String id;\r\n\t\r\n\t@TextIndexed\r\n\tpublic String car;\r\n\t@TextIndexed\r\n\tpublic String part;\r\n\tpublic String store;\r\n\t@TextIndexed\r\n\tpublic String partNumber;\r\n\tpublic String warranty;\r\n\tpublic LocalDate date;\r\n\t\r\nConstructors/getter/setters\r\n```\r\n\r\n[Search Queries](https://i.stack.imgur.com/f34EG.png)\r\n","title":"How can I sort and do a search in mongodb spring boot","body":"<p>I cannot sort my search results using Mongodb, I added a method query that uses findAllByorderByDateDesc()</p>\n<p>I tried using &quot;findAllByOrderByDateDesc() and it works if I'm not doing a search query but once I add the @Query annotation it stops sorting by dates.</p>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface WarrantiesRepository extends MongoRepository&lt;WarrantyModel, String&gt; {\n    public Page&lt;WarrantyModel&gt; findAllByOrderByDateDesc(PageRequest pageRequest);\n\n    @Query(&quot;{$text: {$search: ?0}}&quot;)\n    public Page&lt;WarrantyModel&gt; findAllByOrderByDateDesc(String search, PageRequest pageRequest);\n    public WarrantyModel getWarrantyById(String id);\n    public WarrantyModel getWarrantyByCar(String car);\n    public WarrantyModel getWarrantyByPart(String part);\n    public WarrantyModel getWarrantyBypartNumber(String partNumber);\n}\n\n</code></pre>\n<p>Controller</p>\n<pre><code>    @PostMapping(&quot;/warranties/search&quot;)\n    public ModelAndView getLiveWarranties(@RequestBody String search, Model model) {\n        input = search.substring(1, search.length()-1);\n        if(search.length() == 2) {\n            warranties = warrantiesRepository.findAllByOrderByDateDesc(PageRequest.of(currentPage, pageSize));\n        } else {\n            warranties = warrantiesRepository.findAllByOrderByDateDesc(search, PageRequest.of(currentPage, pageSize));\n        }\n        ModelAndView mv = new ModelAndView(&quot;warranties::search&quot;);\n        mv.addObject(&quot;warranties&quot;, warranties);\n        \n        return mv;\n    }\n</code></pre>\n<p>Model</p>\n<pre><code>@Component\n@Document(&quot;Warranty&quot;)\npublic class WarrantyModel {\n    \n    @Id\n    public String id;\n    \n    @TextIndexed\n    public String car;\n    @TextIndexed\n    public String part;\n    public String store;\n    @TextIndexed\n    public String partNumber;\n    public String warranty;\n    public LocalDate date;\n    \nConstructors/getter/setters\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f34EG.png\" rel=\"nofollow noreferrer\">Search Queries</a></p>\n"},{"tags":["java","windows","dll","java-8","windows-server-2012-r2"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1483696224,"post_id":41502918,"comment_id":70211216,"body_markdown":"looking at [this](http://www.oracle.com/technetwork/java/javase/certconfig-2095354.html) Windows 2012 32-bit is not listed...","body":"looking at <a href=\"http://www.oracle.com/technetwork/java/javase/certconfig-2095354.html\" rel=\"nofollow noreferrer\">this</a> Windows 2012 32-bit is not listed..."},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1483697669,"post_id":41502918,"comment_id":70212086,"body_markdown":"@Bagus Tesa: Windows 2012 server R2 is 64 bits. Java 8 update 71 is 32 bits. In the link they just talk about java 8 and not the bit. The link clearly says &quot;On 64-bit operating systems (OSs), both 32-bit and 64-bit Java virtual machines (JVMs) are certified, except where noted&quot;.","body":"@Bagus Tesa: Windows 2012 server R2 is 64 bits. Java 8 update 71 is 32 bits. In the link they just talk about java 8 and not the bit. The link clearly says &quot;On 64-bit operating systems (OSs), both 32-bit and 64-bit Java virtual machines (JVMs) are certified, except where noted&quot;."},{"owner":{"account_id":8541795,"reputation":31740,"user_id":6401656,"display_name":"RbMm"},"score":2,"creation_date":1483698565,"post_id":41502918,"comment_id":70212599,"body_markdown":"look on error code - `0xc00000fd` - this is `STATUS_STACK_OVERFLOW` - so some infinite recursion or huge stack allocation (not think for java) during remote call (`rpcrt4.dll` in stack trace). now most helpful will be look on stack during crash. from what all is begin","body":"look on error code - <code>0xc00000fd</code> - this is <code>STATUS_STACK_OVERFLOW</code> - so some infinite recursion or huge stack allocation (not think for java) during remote call (<code>rpcrt4.dll</code> in stack trace). now most helpful will be look on stack during crash. from what all is begin"},{"owner":{"account_id":8541795,"reputation":31740,"user_id":6401656,"display_name":"RbMm"},"score":1,"creation_date":1483699346,"post_id":41502918,"comment_id":70213069,"body_markdown":"also possible incompatible in interface definition between .Net and java. like `ULONG` vs `ULONG_PTR` which the same in x86 but different in x64. if take to account bug begin when you migrate from x86 to x64.","body":"also possible incompatible in interface definition between .Net and java. like <code>ULONG</code> vs <code>ULONG_PTR</code> which the same in x86 but different in x64. if take to account bug begin when you migrate from x86 to x64."},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1483703036,"post_id":41502918,"comment_id":70215168,"body_markdown":"@RbMm: Thanks for your help. I might me sounding stupid but dont know much abt windows, Can you please also let me know where to look for the file having stack?","body":"@RbMm: Thanks for your help. I might me sounding stupid but dont know much abt windows, Can you please also let me know where to look for the file having stack?"},{"owner":{"account_id":8541795,"reputation":31740,"user_id":6401656,"display_name":"RbMm"},"score":0,"creation_date":1483703884,"post_id":41502918,"comment_id":70215653,"body_markdown":"the best of course have debugger attached to process (say windbg) with symbols installed. on crash will be stop in debugger and visible stack trace. also possible configure and collect crash dump - https://msdn.microsoft.com/en-us/library/windows/desktop/bb787181(v=vs.85).aspx","body":"the best of course have debugger attached to process (say windbg) with symbols installed. on crash will be stop in debugger and visible stack trace. also possible configure and collect crash dump - <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb787181(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1484143708,"post_id":41502918,"comment_id":70389033,"body_markdown":"weired but true. i have modified the -Xss on windows 2012 server r2 to have 4m value and the issue seems to be gone for now.. I will keep an eye on this as this is not the right fix and also try to find out why do i need this huge stack size","body":"weired but true. i have modified the -Xss on windows 2012 server r2 to have 4m value and the issue seems to be gone for now.. I will keep an eye on this as this is not the right fix and also try to find out why do i need this huge stack size"}],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671142453,"creation_date":1483695975,"question_id":41502918,"body_markdown":"I have a Java application which communicates with .Net application via com. Of late (since we have migrated from **Windows Server 2003** to **Windows Server 2012 R2**) the Java application keeps on crashing randomly. \r\n\r\nSome times we will see the application crashed and all related consoles closed where as sometimes we observer the application and console are still there but that it has hanged. A restart of the application resolves the issue most of the time.\r\n\r\nThe event views in the windows system will point to some issue with DLL. The issue that I have is similar to [this][1] but we are using **Java 8 update 71 32 bit** on a **Windows Server 2012 R2** so I don&#39;t think the solution is applicable to us. \r\n\r\nCan someone please help me with this?\r\n\r\nListed below is the error log that we would get in windows event viewer.\r\n\r\n    Version=1\r\n    EventType=APPCRASH\r\n    EventTime=131281548825671250\r\n    ReportType=2\r\n    Consent=1\r\n    ReportIdentifier=c0ed1792-d3d2-11e6-bbd4-547879605a0a\r\n    IntegratorReportIdentifier=c0ed1791-d3d2-11e6-bbd4-547879605a0a\r\n    WOW64=1\r\n    Response.type=4\r\n    Sig[0].Name=Application Name\r\n    Sig[0].Value=java.exe\r\n    Sig[1].Name=Application Version\r\n    Sig[1].Value=8.0.710.15\r\n    Sig[2].Name=Application Timestamp\r\n    Sig[2].Value=5679f9aa\r\n    Sig[3].Name=Fault Module Name\r\n    Sig[3].Value=ole32.dll\r\n    Sig[4].Name=Fault Module Version\r\n    Sig[4].Value=6.1.7600.16385\r\n    Sig[5].Name=Fault Module Timestamp\r\n    Sig[5].Value=4a5bdac7\r\n    Sig[6].Name=Exception Code\r\n    Sig[6].Value=c00000fd\r\n    Sig[7].Name=Exception Offset\r\n    Sig[7].Value=0002c8cc\r\n    DynamicSig[1].Name=OS Version\r\n    DynamicSig[1].Value=6.1.7600.2.0.0.272.7\r\n    DynamicSig[2].Name=Locale ID\r\n    DynamicSig[2].Value=1033\r\n    DynamicSig[22].Name=Additional Information 1\r\n    DynamicSig[22].Value=7dd2\r\n    DynamicSig[23].Name=Additional Information 2\r\n    DynamicSig[23].Value=7dd2f8e82f91d939236dc5c2a70daa51\r\n    DynamicSig[24].Name=Additional Information 3\r\n    DynamicSig[24].Value=b1e2\r\n    DynamicSig[25].Name=Additional Information 4\r\n    DynamicSig[25].Value=b1e22acb6c6285591c95bac47c6c41b9\r\n    UI[2]=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\r\n    LoadedModule[0]=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\r\n    LoadedModule[1]=C:\\Windows\\SysWOW64\\ntdll.dll\r\n    LoadedModule[2]=C:\\Windows\\syswow64\\kernel32.dll\r\n    LoadedModule[3]=C:\\Windows\\syswow64\\KERNELBASE.dll\r\n    LoadedModule[4]=C:\\Windows\\SysWOW64\\SYSFER.DLL\r\n    LoadedModule[5]=C:\\Windows\\syswow64\\ADVAPI32.dll\r\n    LoadedModule[6]=C:\\Windows\\syswow64\\msvcrt.dll\r\n    LoadedModule[7]=C:\\Windows\\SysWOW64\\sechost.dll\r\n    LoadedModule[8]=C:\\Windows\\syswow64\\RPCRT4.dll\r\n    LoadedModule[9]=C:\\Windows\\syswow64\\SspiCli.dll\r\n    LoadedModule[10]=C:\\Windows\\syswow64\\CRYPTBASE.dll\r\n    LoadedModule[11]=C:\\Windows\\syswow64\\USER32.dll\r\n    LoadedModule[12]=C:\\Windows\\syswow64\\GDI32.dll\r\n    LoadedModule[13]=C:\\Windows\\syswow64\\LPK.dll\r\n    LoadedModule[14]=C:\\Windows\\syswow64\\USP10.dll\r\n    LoadedModule[15]=C:\\Windows\\WinSxS\\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.7600.16385_none_421189da2b7fabfc\\COMCTL32.dll\r\n    LoadedModule[16]=C:\\Windows\\syswow64\\SHLWAPI.dll\r\n    LoadedModule[17]=C:\\Windows\\syswow64\\psapi.dll\r\n    LoadedModule[18]=C:\\Windows\\system32\\IMM32.DLL\r\n    LoadedModule[19]=C:\\Windows\\syswow64\\MSCTF.dll\r\n    LoadedModule[20]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\msvcr100.dll\r\n    LoadedModule[21]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\client\\jvm.dll\r\n    LoadedModule[22]=C:\\Windows\\system32\\WSOCK32.dll\r\n    LoadedModule[23]=C:\\Windows\\syswow64\\WS2_32.dll\r\n    LoadedModule[24]=C:\\Windows\\syswow64\\NSI.dll\r\n    LoadedModule[25]=C:\\Windows\\system32\\WINMM.dll\r\n    LoadedModule[26]=C:\\Windows\\system32\\VERSION.dll\r\n    LoadedModule[27]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\verify.dll\r\n    LoadedModule[28]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\java.dll\r\n    LoadedModule[29]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\zip.dll\r\n    LoadedModule[30]=C:\\Windows\\syswow64\\SHELL32.dll\r\n    LoadedModule[31]=C:\\Windows\\syswow64\\ole32.dll\r\n    LoadedModule[32]=C:\\Windows\\system32\\profapi.dll\r\n    LoadedModule[33]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\net.dll\r\n    LoadedModule[34]=C:\\Windows\\system32\\mswsock.dll\r\n    LoadedModule[35]=C:\\Windows\\System32\\wship6.dll\r\n    LoadedModule[36]=C:\\Windows\\system32\\NLAapi.dll\r\n    LoadedModule[37]=C:\\Windows\\system32\\DNSAPI.dll\r\n    LoadedModule[38]=C:\\Windows\\System32\\winrnr.dll\r\n    LoadedModule[39]=C:\\Windows\\system32\\napinsp.dll\r\n    LoadedModule[40]=C:\\Windows\\System32\\wshtcpip.dll\r\n    LoadedModule[41]=C:\\Windows\\system32\\IPHLPAPI.DLL\r\n    LoadedModule[42]=C:\\Windows\\system32\\WINNSI.DLL\r\n    LoadedModule[43]=C:\\Windows\\system32\\rasadhlp.dll\r\n    LoadedModule[44]=C:\\Windows\\System32\\fwpuclnt.dll\r\n    LoadedModule[45]=C:\\JTailor\\com6402\\bin32\\ntvinv.dll\r\n    LoadedModule[46]=C:\\Windows\\syswow64\\OLEAUT32.dll\r\n    LoadedModule[47]=C:\\Windows\\system32\\mtxex.dll\r\n    LoadedModule[48]=C:\\Windows\\system32\\COMSVCS.DLL\r\n    LoadedModule[49]=C:\\Windows\\system32\\ATL.DLL\r\n    LoadedModule[50]=C:\\JTailor\\com6402\\bin32\\International\\ntvinvenglishresourcedll.dll\r\n    LoadedModule[51]=C:\\Windows\\system32\\MFC42.DLL\r\n    LoadedModule[52]=C:\\Windows\\system32\\ODBC32.dll\r\n    LoadedModule[53]=C:\\Windows\\system32\\odbcint.dll\r\n    LoadedModule[54]=C:\\Windows\\syswow64\\CLBCatQ.DLL\r\n    LoadedModule[55]=C:\\Windows\\system32\\CRYPTSP.dll\r\n    LoadedModule[56]=C:\\Windows\\system32\\rsaenh.dll\r\n    LoadedModule[57]=C:\\Windows\\system32\\RpcRtRemote.dll\r\n    LoadedModule[58]=C:\\Windows\\system32\\SXS.DLL\r\n    LoadedModule[59]=C:\\Windows\\system32\\USERENV.dll\r\n    LoadedModule[60]=C:\\Windows\\system32\\dhcpcsvc6.DLL\r\n    LoadedModule[61]=C:\\Windows\\system32\\dhcpcsvc.DLL\r\n    LoadedModule[62]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\nio.dll\r\n    File[0].CabName=AppCompat.txt\r\n    File[0].Path=WER6D18.tmp.appcompat.txt\r\n    File[0].Flags=65538\r\n    File[0].Type=5\r\n    File[0].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6D18.tmp.appcompat.txt\r\n    File[1].CabName=WERInternalMetadata.xml\r\n    File[1].Path=WER6E03.tmp.WERInternalMetadata.xml\r\n    File[1].Flags=65538\r\n    File[1].Type=5\r\n    File[1].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6E03.tmp.WERInternalMetadata.xml\r\n    File[2].CabName=memory.hdmp\r\n    File[2].Path=WER6E13.tmp.hdmp\r\n    File[2].Flags=2097152\r\n    File[2].Type=3\r\n    File[2].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6E13.tmp.hdmp\r\n    File[3].CabName=minidump.mdmp\r\n    File[3].Path=WER7DCD.tmp.mdmp\r\n    File[3].Flags=2162690\r\n    File[3].Type=2\r\n    File[3].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER7DCD.tmp.mdmp\r\n    FriendlyEventName=Stopped working\r\n    ConsentKey=APPCRASH\r\n    AppName=Java(TM) Platform SE binary\r\n    AppPath=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\r\n\r\n\r\nSome additional information. Most of the times the crash in windows dump will point to on of the follwoing\r\n\r\n 1. ntdll.dll\r\n 2. combase.dll \r\n 3. ole32.dll \r\n 4. RPCRT4.dll\r\n\r\nAttached below is one of the screen grabs from event viewer.\r\n[![enter image description here][2]][2]\r\n\r\n**Edit 1:**\r\nBelow is the windows 2012 server R2 details\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34779675/why-does-jvm-randomly-crashes-on-windows-server-2012-due-to-ntdll-dll\r\n  [2]: https://i.stack.imgur.com/Xfftn.jpg\r\n  [3]: https://i.stack.imgur.com/9H9i4.jpg","title":"Java application randomly crashes with DLL issues","body":"<p>I have a Java application which communicates with .Net application via com. Of late (since we have migrated from <strong>Windows Server 2003</strong> to <strong>Windows Server 2012 R2</strong>) the Java application keeps on crashing randomly.</p>\n<p>Some times we will see the application crashed and all related consoles closed where as sometimes we observer the application and console are still there but that it has hanged. A restart of the application resolves the issue most of the time.</p>\n<p>The event views in the windows system will point to some issue with DLL. The issue that I have is similar to <a href=\"https://stackoverflow.com/questions/34779675/why-does-jvm-randomly-crashes-on-windows-server-2012-due-to-ntdll-dll\">this</a> but we are using <strong>Java 8 update 71 32 bit</strong> on a <strong>Windows Server 2012 R2</strong> so I don't think the solution is applicable to us.</p>\n<p>Can someone please help me with this?</p>\n<p>Listed below is the error log that we would get in windows event viewer.</p>\n<pre><code>Version=1\nEventType=APPCRASH\nEventTime=131281548825671250\nReportType=2\nConsent=1\nReportIdentifier=c0ed1792-d3d2-11e6-bbd4-547879605a0a\nIntegratorReportIdentifier=c0ed1791-d3d2-11e6-bbd4-547879605a0a\nWOW64=1\nResponse.type=4\nSig[0].Name=Application Name\nSig[0].Value=java.exe\nSig[1].Name=Application Version\nSig[1].Value=8.0.710.15\nSig[2].Name=Application Timestamp\nSig[2].Value=5679f9aa\nSig[3].Name=Fault Module Name\nSig[3].Value=ole32.dll\nSig[4].Name=Fault Module Version\nSig[4].Value=6.1.7600.16385\nSig[5].Name=Fault Module Timestamp\nSig[5].Value=4a5bdac7\nSig[6].Name=Exception Code\nSig[6].Value=c00000fd\nSig[7].Name=Exception Offset\nSig[7].Value=0002c8cc\nDynamicSig[1].Name=OS Version\nDynamicSig[1].Value=6.1.7600.2.0.0.272.7\nDynamicSig[2].Name=Locale ID\nDynamicSig[2].Value=1033\nDynamicSig[22].Name=Additional Information 1\nDynamicSig[22].Value=7dd2\nDynamicSig[23].Name=Additional Information 2\nDynamicSig[23].Value=7dd2f8e82f91d939236dc5c2a70daa51\nDynamicSig[24].Name=Additional Information 3\nDynamicSig[24].Value=b1e2\nDynamicSig[25].Name=Additional Information 4\nDynamicSig[25].Value=b1e22acb6c6285591c95bac47c6c41b9\nUI[2]=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\nLoadedModule[0]=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\nLoadedModule[1]=C:\\Windows\\SysWOW64\\ntdll.dll\nLoadedModule[2]=C:\\Windows\\syswow64\\kernel32.dll\nLoadedModule[3]=C:\\Windows\\syswow64\\KERNELBASE.dll\nLoadedModule[4]=C:\\Windows\\SysWOW64\\SYSFER.DLL\nLoadedModule[5]=C:\\Windows\\syswow64\\ADVAPI32.dll\nLoadedModule[6]=C:\\Windows\\syswow64\\msvcrt.dll\nLoadedModule[7]=C:\\Windows\\SysWOW64\\sechost.dll\nLoadedModule[8]=C:\\Windows\\syswow64\\RPCRT4.dll\nLoadedModule[9]=C:\\Windows\\syswow64\\SspiCli.dll\nLoadedModule[10]=C:\\Windows\\syswow64\\CRYPTBASE.dll\nLoadedModule[11]=C:\\Windows\\syswow64\\USER32.dll\nLoadedModule[12]=C:\\Windows\\syswow64\\GDI32.dll\nLoadedModule[13]=C:\\Windows\\syswow64\\LPK.dll\nLoadedModule[14]=C:\\Windows\\syswow64\\USP10.dll\nLoadedModule[15]=C:\\Windows\\WinSxS\\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.7600.16385_none_421189da2b7fabfc\\COMCTL32.dll\nLoadedModule[16]=C:\\Windows\\syswow64\\SHLWAPI.dll\nLoadedModule[17]=C:\\Windows\\syswow64\\psapi.dll\nLoadedModule[18]=C:\\Windows\\system32\\IMM32.DLL\nLoadedModule[19]=C:\\Windows\\syswow64\\MSCTF.dll\nLoadedModule[20]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\msvcr100.dll\nLoadedModule[21]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\client\\jvm.dll\nLoadedModule[22]=C:\\Windows\\system32\\WSOCK32.dll\nLoadedModule[23]=C:\\Windows\\syswow64\\WS2_32.dll\nLoadedModule[24]=C:\\Windows\\syswow64\\NSI.dll\nLoadedModule[25]=C:\\Windows\\system32\\WINMM.dll\nLoadedModule[26]=C:\\Windows\\system32\\VERSION.dll\nLoadedModule[27]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\verify.dll\nLoadedModule[28]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\java.dll\nLoadedModule[29]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\zip.dll\nLoadedModule[30]=C:\\Windows\\syswow64\\SHELL32.dll\nLoadedModule[31]=C:\\Windows\\syswow64\\ole32.dll\nLoadedModule[32]=C:\\Windows\\system32\\profapi.dll\nLoadedModule[33]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\net.dll\nLoadedModule[34]=C:\\Windows\\system32\\mswsock.dll\nLoadedModule[35]=C:\\Windows\\System32\\wship6.dll\nLoadedModule[36]=C:\\Windows\\system32\\NLAapi.dll\nLoadedModule[37]=C:\\Windows\\system32\\DNSAPI.dll\nLoadedModule[38]=C:\\Windows\\System32\\winrnr.dll\nLoadedModule[39]=C:\\Windows\\system32\\napinsp.dll\nLoadedModule[40]=C:\\Windows\\System32\\wshtcpip.dll\nLoadedModule[41]=C:\\Windows\\system32\\IPHLPAPI.DLL\nLoadedModule[42]=C:\\Windows\\system32\\WINNSI.DLL\nLoadedModule[43]=C:\\Windows\\system32\\rasadhlp.dll\nLoadedModule[44]=C:\\Windows\\System32\\fwpuclnt.dll\nLoadedModule[45]=C:\\JTailor\\com6402\\bin32\\ntvinv.dll\nLoadedModule[46]=C:\\Windows\\syswow64\\OLEAUT32.dll\nLoadedModule[47]=C:\\Windows\\system32\\mtxex.dll\nLoadedModule[48]=C:\\Windows\\system32\\COMSVCS.DLL\nLoadedModule[49]=C:\\Windows\\system32\\ATL.DLL\nLoadedModule[50]=C:\\JTailor\\com6402\\bin32\\International\\ntvinvenglishresourcedll.dll\nLoadedModule[51]=C:\\Windows\\system32\\MFC42.DLL\nLoadedModule[52]=C:\\Windows\\system32\\ODBC32.dll\nLoadedModule[53]=C:\\Windows\\system32\\odbcint.dll\nLoadedModule[54]=C:\\Windows\\syswow64\\CLBCatQ.DLL\nLoadedModule[55]=C:\\Windows\\system32\\CRYPTSP.dll\nLoadedModule[56]=C:\\Windows\\system32\\rsaenh.dll\nLoadedModule[57]=C:\\Windows\\system32\\RpcRtRemote.dll\nLoadedModule[58]=C:\\Windows\\system32\\SXS.DLL\nLoadedModule[59]=C:\\Windows\\system32\\USERENV.dll\nLoadedModule[60]=C:\\Windows\\system32\\dhcpcsvc6.DLL\nLoadedModule[61]=C:\\Windows\\system32\\dhcpcsvc.DLL\nLoadedModule[62]=E:\\java\\jdk-8u71-32bits\\jre\\bin\\nio.dll\nFile[0].CabName=AppCompat.txt\nFile[0].Path=WER6D18.tmp.appcompat.txt\nFile[0].Flags=65538\nFile[0].Type=5\nFile[0].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6D18.tmp.appcompat.txt\nFile[1].CabName=WERInternalMetadata.xml\nFile[1].Path=WER6E03.tmp.WERInternalMetadata.xml\nFile[1].Flags=65538\nFile[1].Type=5\nFile[1].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6E03.tmp.WERInternalMetadata.xml\nFile[2].CabName=memory.hdmp\nFile[2].Path=WER6E13.tmp.hdmp\nFile[2].Flags=2097152\nFile[2].Type=3\nFile[2].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER6E13.tmp.hdmp\nFile[3].CabName=minidump.mdmp\nFile[3].Path=WER7DCD.tmp.mdmp\nFile[3].Flags=2162690\nFile[3].Type=2\nFile[3].Original.Path=C:\\Users\\tradeblade\\AppData\\Local\\Temp\\WER7DCD.tmp.mdmp\nFriendlyEventName=Stopped working\nConsentKey=APPCRASH\nAppName=Java(TM) Platform SE binary\nAppPath=E:\\java\\jdk-8u71-32bits\\bin\\java.exe\n</code></pre>\n<p>Some additional information. Most of the times the crash in windows dump will point to on of the follwoing</p>\n<ol>\n<li>ntdll.dll</li>\n<li>combase.dll</li>\n<li>ole32.dll</li>\n<li>RPCRT4.dll</li>\n</ol>\n<p>Attached below is one of the screen grabs from event viewer.\n<a href=\"https://i.stack.imgur.com/Xfftn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xfftn.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit 1:</strong>\nBelow is the windows 2012 server R2 details\n<a href=\"https://i.stack.imgur.com/9H9i4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9H9i4.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1671142180,"post_id":74818024,"comment_id":132041297,"body_markdown":"I think this is expected exception. When your applications starts, your old socket for some reason is unhealthy, so it fails, then driver just recreate it and normal workflow happens.","body":"I think this is expected exception. When your applications starts, your old socket for some reason is unhealthy, so it fails, then driver just recreate it and normal workflow happens."},{"owner":{"account_id":6897335,"reputation":31,"user_id":5298791,"display_name":"MoeMan"},"score":0,"creation_date":1671230055,"post_id":74818024,"comment_id":132062369,"body_markdown":"True, I was just looking for a way to hide that exception in the logs.","body":"True, I was just looking for a way to hide that exception in the logs."}],"owner":{"account_id":6897335,"reputation":31,"user_id":5298791,"display_name":"MoeMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671141407,"creation_date":1671141407,"question_id":74818024,"body_markdown":"I have a micro batch that runs every 5 mins, it works fine, but everytime it runs it&#39;ll throw that error in the logs at the beginning and then continue without any issues: \r\n\r\n    org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017\r\n    \r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:67)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:117)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n    \tat java.net.Socket.connect(Socket.java:606)\r\n    \tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:64)\r\n    \tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:62)\r\n\r\nConnection String in the properties file: `mongoDBConnectionString=mongodb://svc.myserviceid:xxxxxxxxxx@server1.mycompany.com:30200,server2.mycompany.com:30200,/?authMechanism=PLAIN&amp;replicaSet=myreplicateset&amp;readPreference=primaryPreferred&amp;authSource=$external&amp;ssl=true\r\nmongoDBName=mydatabase`\r\n\r\nSpring boot version: `1.5.3.RELEASE`\r\n\r\nMongo version:\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHere is my main Spring boot class:\r\n\r\n    @SpringBootApplication\r\n    @EnableTask\r\n    public class xxApplication { ... }\r\n\r\nI tried excluding (exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class}) with or without @EnableAutoConfiguration and it didn&#39;t work.\r\n\r\nI tried adding indiviual spring properties in the properties file, and it didn&#39;t work either.\r\n\r\nLet me know if there is anything I can do to prevent this from showing in the logs.\r\n\r\n","title":"How to suppress MongoSocketOpenException in the logs - Exception in monitor thread while connecting to server localhost:27017","body":"<p>I have a micro batch that runs every 5 mins, it works fine, but everytime it runs it'll throw that error in the logs at the beginning and then continue without any issues:</p>\n<pre><code>org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:67)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:117)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n    at java.net.Socket.connect(Socket.java:606)\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:64)\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:62)\n</code></pre>\n<p>Connection String in the properties file: <code>mongoDBConnectionString=mongodb://svc.myserviceid:xxxxxxxxxx@server1.mycompany.com:30200,server2.mycompany.com:30200,/?authMechanism=PLAIN&amp;replicaSet=myreplicateset&amp;readPreference=primaryPreferred&amp;authSource=$external&amp;ssl=true mongoDBName=mydatabase</code></p>\n<p>Spring boot version: <code>1.5.3.RELEASE</code></p>\n<p>Mongo version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my main Spring boot class:</p>\n<pre><code>@SpringBootApplication\n@EnableTask\npublic class xxApplication { ... }\n</code></pre>\n<p>I tried excluding (exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class}) with or without @EnableAutoConfiguration and it didn't work.</p>\n<p>I tried adding indiviual spring properties in the properties file, and it didn't work either.</p>\n<p>Let me know if there is anything I can do to prevent this from showing in the logs.</p>\n"},{"tags":["java","duplicates","hashset"],"answers":[{"comments":[{"owner":{"account_id":83471,"reputation":834,"user_id":234018,"accept_rate":95,"display_name":"PB_MLT"},"score":0,"creation_date":1351466977,"post_id":13114080,"comment_id":17829229,"body_markdown":"Objects.hashCode(this.id, this.name) is not valid since the hashCode method only takes one object.","body":"Objects.hashCode(this.id, this.name) is not valid since the hashCode method only takes one object."},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1351467109,"post_id":13114080,"comment_id":17829255,"body_markdown":"I assumed you were using the Google Collections library:","body":"I assumed you were using the Google Collections library:"},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1351467138,"post_id":13114080,"comment_id":17829265,"body_markdown":"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)","body":"<a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\" rel=\"nofollow noreferrer\">google-collections.googlecode.com/svn/trunk/javadoc/com/goog&zwnj;&#8203;le/&hellip;</a>"}],"tags":[],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1351466798,"creation_date":1351466798,"answer_id":13114080,"question_id":13114043,"body_markdown":"Objects.hashCode is meant to be used to generate a hascode using parameter objects. You are using it as part of the hascode calculation.\r\n\r\nTry replacing your implementation of hashCode with the following:\r\n\r\n    public int hashCode()\r\n    {\r\n        return Objects.hashCode(this.id, this.name);\r\n    }","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>Objects.hashCode is meant to be used to generate a hascode using parameter objects. You are using it as part of the hascode calculation.</p>\n\n<p>Try replacing your implementation of hashCode with the following:</p>\n\n<pre><code>public int hashCode()\n{\n    return Objects.hashCode(this.id, this.name);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83471,"reputation":834,"user_id":234018,"accept_rate":95,"display_name":"PB_MLT"},"score":0,"creation_date":1351467327,"post_id":13114108,"comment_id":17829296,"body_markdown":"Okay so the above scenario is invalid. I guess the only option is to copy the contents into a new HashSet.","body":"Okay so the above scenario is invalid. I guess the only option is to copy the contents into a new HashSet."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1351467456,"post_id":13114108,"comment_id":17829326,"body_markdown":"@Spi1988 The correct solution is to stick to the contract of `Set` and not modify objects after adding them to the collection.","body":"@Spi1988 The correct solution is to stick to the contract of <code>Set</code> and not modify objects after adding them to the collection."},{"owner":{"account_id":1791867,"reputation":289,"user_id":1632054,"accept_rate":54,"display_name":"HungryForKnowledge"},"score":1,"creation_date":1355582521,"post_id":13114108,"comment_id":19140664,"body_markdown":"@PB_MLT what will you achieve by copying the contents into new HashSet?","body":"@PB_MLT what will you achieve by copying the contents into new HashSet?"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1351466993,"creation_date":1351466993,"answer_id":13114108,"question_id":13114043,"body_markdown":"The situation you describe is invalid. See the [Javadoc][1]: &quot;The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.&quot;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>The situation you describe is invalid. See the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\" rel=\"noreferrer\">Javadoc</a>: \"The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.\"</p>\n"},{"tags":[],"owner":{"account_id":1081514,"reputation":3747,"user_id":1078390,"accept_rate":100,"display_name":"Martin Serrano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351467308,"creation_date":1351467308,"answer_id":13114148,"question_id":13114043,"body_markdown":"You are correct and I don&#39;t think there is any way to protect against the case you discuss.  All of collections which use hashing and equals are subject to this problem.  The collection has no notification that the object has changed since it was added to the collection.  I think the solution you outline is good.  \r\n\r\nIf you are so concerned with this issue, perhaps you need to rethink your data structures.  You could use immutable objects for instance.  With immutable objects you would not have this problem.","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>You are correct and I don't think there is any way to protect against the case you discuss.  All of collections which use hashing and equals are subject to this problem.  The collection has no notification that the object has changed since it was added to the collection.  I think the solution you outline is good.  </p>\n\n<p>If you are so concerned with this issue, perhaps you need to rethink your data structures.  You could use immutable objects for instance.  With immutable objects you would not have this problem.</p>\n"},{"tags":[],"owner":{"account_id":42803,"reputation":8951,"user_id":124839,"display_name":"Mike Valenty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351467317,"creation_date":1351467317,"answer_id":13114149,"question_id":13114043,"body_markdown":"`HashSet` is not aware of its member&#39;s properties changing after the object has been added. If this is a problem for you, then you may want to consider making `GraphEdge` immutable. For example:\r\n\r\n    GraphEdge edge4 = edge2.changeName(&quot;new_name&quot;);\r\n\r\nIn the case where `GraphEdge` is immutable, changing a value result in returning a new instance rather changing the existing instance.\r\n","title":"Java HashSet contains duplicates if contained element is modified","body":"<p><code>HashSet</code> is not aware of its member's properties changing after the object has been added. If this is a problem for you, then you may want to consider making <code>GraphEdge</code> immutable. For example:</p>\n\n<pre><code>GraphEdge edge4 = edge2.changeName(\"new_name\");\n</code></pre>\n\n<p>In the case where <code>GraphEdge</code> is immutable, changing a value result in returning a new instance rather changing the existing instance.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1351468604,"post_id":13114221,"comment_id":17829542,"body_markdown":"He doesn&#39;t have a list. He has a set. He is misusing it. Not an answer.","body":"He doesn&#39;t have a list. He has a set. He is misusing it. Not an answer."},{"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"score":0,"creation_date":1351472054,"post_id":13114221,"comment_id":17830272,"body_markdown":"He is using a set as a list. So he needs to use the set properly OR use a list.","body":"He is using a set as a list. So he needs to use the set properly OR use a list."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1351501303,"post_id":13114221,"comment_id":17836433,"body_markdown":"He doesn&#39;t want a list. He wants a set. He has a set. He is misusing it, and then wondering why its elements aren&#39;t unique. The solution is not to make it worse, but to stop it happening in the first place.","body":"He doesn&#39;t want a list. He wants a set. He has a set. He is misusing it, and then wondering why its elements aren&#39;t unique. The solution is not to make it worse, but to stop it happening in the first place."},{"owner":{"account_id":83471,"reputation":834,"user_id":234018,"accept_rate":95,"display_name":"PB_MLT"},"score":0,"creation_date":1351509547,"post_id":13114221,"comment_id":17839704,"body_markdown":"I don&#39;t want a set (as implement in Java). Since it is not suitable for my needs. I want a collection which is sensitive to the changes performed on its elements so as not to allow any duplicates ever.","body":"I don&#39;t want a set (as implement in Java). Since it is not suitable for my needs. I want a collection which is sensitive to the changes performed on its elements so as not to allow any duplicates ever."},{"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"score":2,"creation_date":1351554092,"post_id":13114221,"comment_id":17858136,"body_markdown":"short of some crazy hibernate style runtime hooking of set methods, there is no way a collection that can instantly react to changes on its contents. Do what EJP and others suggest. Use immutable objects and use the set properly (adding and removing as required). You could wrap this up into a class of your own to make it more convenient to the caller.","body":"short of some crazy hibernate style runtime hooking of set methods, there is no way a collection that can instantly react to changes on its contents. Do what EJP and others suggest. Use immutable objects and use the set properly (adding and removing as required). You could wrap this up into a class of your own to make it more convenient to the caller."}],"tags":[],"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1351467946,"creation_date":1351467946,"answer_id":13114221,"question_id":13114043,"body_markdown":"You will need to do the unique detection a the time you iterate your list.  Making a new HashSet might not seem the right way to go, but why not try this...  And maybe not use a HashSet to start with...\r\n\r\n    public class TestIterator {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n            list.add(&quot;1&quot;);\r\n            list.add(&quot;1&quot;);\r\n            list.add(&quot;2&quot;);\r\n            list.add(&quot;3&quot;);\r\n    \r\n            for (String s : new UniqueIterator&lt;String&gt;(list)) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class UniqueIterator&lt;T&gt; implements Iterable&lt;T&gt; {\r\n        private Set&lt;T&gt; hashSet = new HashSet&lt;T&gt;();\r\n\r\n        public UniqueIterator(Iterable&lt;T&gt; iterable) {\r\n            for (T t : iterable) {\r\n                hashSet.add(t);\r\n            }\r\n        }\r\n\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return hashSet.iterator();\r\n        }\r\n    }","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>You will need to do the unique detection a the time you iterate your list.  Making a new HashSet might not seem the right way to go, but why not try this...  And maybe not use a HashSet to start with...</p>\n\n<pre><code>public class TestIterator {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        list.add(\"1\");\n        list.add(\"1\");\n        list.add(\"2\");\n        list.add(\"3\");\n\n        for (String s : new UniqueIterator&lt;String&gt;(list)) {\n            System.out.println(s);\n        }\n    }\n}\n\npublic class UniqueIterator&lt;T&gt; implements Iterable&lt;T&gt; {\n    private Set&lt;T&gt; hashSet = new HashSet&lt;T&gt;();\n\n    public UniqueIterator(Iterable&lt;T&gt; iterable) {\n        for (T t : iterable) {\n            hashSet.add(t);\n        }\n    }\n\n    public Iterator&lt;T&gt; iterator() {\n        return hashSet.iterator();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83471,"reputation":834,"user_id":234018,"accept_rate":95,"display_name":"PB_MLT"},"score":0,"creation_date":1351509335,"post_id":13114376,"comment_id":17839634,"body_markdown":"Thx for the explanation. If you had a mechanism which could detect that an object in a set changed, and is now equal to another object present in the same set, then you could just remove any one of the duplicates (it doesn&#39;t matter which one you remove since they are equal).","body":"Thx for the explanation. If you had a mechanism which could detect that an object in a set changed, and is now equal to another object present in the same set, then you could just remove any one of the duplicates (it doesn&#39;t matter which one you remove since they are equal)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1351513875,"post_id":13114376,"comment_id":17841410,"body_markdown":"@Spi1988 - *&quot;it doesn&#39;t matter which one you remove since they are equal&quot;*.  That is not true in general.  Two objects for which `equals()` return `true` need not be identical.  And it could be important which one you drop.  And the mechanism you posit is hypothetical.","body":"@Spi1988 - <i>&quot;it doesn&#39;t matter which one you remove since they are equal&quot;</i>.  That is not true in general.  Two objects for which <code>equals()</code> return <code>true</code> need not be identical.  And it could be important which one you drop.  And the mechanism you posit is hypothetical."},{"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"score":0,"creation_date":1400380597,"post_id":13114376,"comment_id":36452699,"body_markdown":"Thank you, I was struggling with this for hours now. But honestly, this whole problem only happens because the implementation was too lazy to make a proper HashSet rather than just back it up by a HashTable thus freezing hashCode indexing to creation time. As far as I&#39;m concearned this HashSet they give us is not a HashSet, but an ImmutableHashSet and a proper HashSet implementation is still missing from the jdk, this is outrageous really - it caches!!!! wow.","body":"Thank you, I was struggling with this for hours now. But honestly, this whole problem only happens because the implementation was too lazy to make a proper HashSet rather than just back it up by a HashTable thus freezing hashCode indexing to creation time. As far as I&#39;m concearned this HashSet they give us is not a HashSet, but an ImmutableHashSet and a proper HashSet implementation is still missing from the jdk, this is outrageous really - it caches!!!! wow."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1407887505,"post_id":13114376,"comment_id":39387014,"body_markdown":"@PedroBorges You&#39;re on your own there. Everybody else manages with it OK, and every other hash table implementation I&#39;ve ever seen has the same behaviour, including several I wrote myself. You just don&#39;t really need to be able to modify the keys, and if you do you have to *inform* the table about it: otherwise it doesn&#39;t know and it breaks. The simple solution to that is delete-modify-insert.","body":"@PedroBorges You&#39;re on your own there. Everybody else manages with it OK, and every other hash table implementation I&#39;ve ever seen has the same behaviour, including several I wrote myself. You just don&#39;t really need to be able to modify the keys, and if you do you have to <i>inform</i> the table about it: otherwise it doesn&#39;t know and it breaks. The simple solution to that is delete-modify-insert."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351475326,"creation_date":1351469375,"answer_id":13114376,"question_id":13114043,"body_markdown":"To add to @EJP&#39;s answer, what will happen in practice if you mutate objects in a `HashSet` to make them duplicates (in the sense of the `equals` / `hashcode` contract) is that the hash table data structure will break.  \r\n\r\n  - Depending on the exact details of the mutation, and the state of the hash table, one or both of the instances will become invisible to lookup (e.g. `contains` and other operations).  Either it is on the wrong hash chain, or because the other instance appears before it on the hash chain.  And it is hard to predict which instance will be visible ... and whether it will remain visible.\r\n\r\n  - If you iterate the set, both instances will still be present ... in violation of the `Set` contract.\r\n\r\nOf course, this is very broken from the application perspective.\r\n\r\n--------------------------\r\n\r\nYou can avoid this problem by either:\r\n\r\n  - using an immutable type for your set elements,\r\n  - making a copy of the objects as you put them into the set and / or pull them out of the set,\r\n  - writing your code so that it &quot;knows&quot; not to change the objects for the duration ...\r\n\r\nFrom the perspective of correctness and robustness, the first option is clearly best.\r\n\r\n---------------------------\r\n\r\nIncidentally, it would be really difficult to &quot;fix&quot; this in a general way.  There is no pervasive mechanism in Java for knowing ... or being notified ... that some element has changed.  You can implement such a mechanism on a class by class basis, but it has to be coded explicitly (and it won&#39;t be cheap).  Even if you did have such a mechanism, what would you do?  Clearly one of the objects should now be removed from the set ... but which one?","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>To add to @EJP's answer, what will happen in practice if you mutate objects in a <code>HashSet</code> to make them duplicates (in the sense of the <code>equals</code> / <code>hashcode</code> contract) is that the hash table data structure will break.  </p>\n\n<ul>\n<li><p>Depending on the exact details of the mutation, and the state of the hash table, one or both of the instances will become invisible to lookup (e.g. <code>contains</code> and other operations).  Either it is on the wrong hash chain, or because the other instance appears before it on the hash chain.  And it is hard to predict which instance will be visible ... and whether it will remain visible.</p></li>\n<li><p>If you iterate the set, both instances will still be present ... in violation of the <code>Set</code> contract.</p></li>\n</ul>\n\n<p>Of course, this is very broken from the application perspective.</p>\n\n<hr>\n\n<p>You can avoid this problem by either:</p>\n\n<ul>\n<li>using an immutable type for your set elements,</li>\n<li>making a copy of the objects as you put them into the set and / or pull them out of the set,</li>\n<li>writing your code so that it \"knows\" not to change the objects for the duration ...</li>\n</ul>\n\n<p>From the perspective of correctness and robustness, the first option is clearly best.</p>\n\n<hr>\n\n<p>Incidentally, it would be really difficult to \"fix\" this in a general way.  There is no pervasive mechanism in Java for knowing ... or being notified ... that some element has changed.  You can implement such a mechanism on a class by class basis, but it has to be coded explicitly (and it won't be cheap).  Even if you did have such a mechanism, what would you do?  Clearly one of the objects should now be removed from the set ... but which one?</p>\n"},{"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1671516036,"post_id":74817997,"comment_id":132110331,"body_markdown":"Why not use ```hashSet.addAll(list)```?","body":"Why not use <code>hashSet.addAll(list)</code>?"}],"tags":[],"owner":{"account_id":27266393,"reputation":1,"user_id":20788351,"display_name":"nitron "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671141251,"creation_date":1671141251,"answer_id":74817997,"question_id":13114043,"body_markdown":"method that can be used to print the elements of a LinkedList of String objects, without any duplicate elements. The method takes a LinkedList object as an input, and then creates a new HashSet object. The method then iterates through the elements of the input LinkedList, and adds each element to the HashSet. Since a HashSet does not allow duplicate elements, this ensures that only unique elements are added to the HashSet.\r\n\r\nThen, the method iterates through the HashSet and prints each element to the console, separated by a space. Unlike the printList method, this method does not add any newlines before or after the list of elements. It simply prints the string &quot;Non-duplicates are: &quot; followed by the elements of the HashSet.\r\n\r\n\r\n\r\n       public static void printSetList(LinkedList&lt;String&gt; list) {\r\n\t\tSet&lt;String&gt; hashSet = new HashSet&lt;&gt;();\r\n\t\tfor (String v : list) {\r\n\t\t\thashSet.add(v);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Non-duplicates are: &quot;);\r\n\t\tfor (String v : hashSet) {\r\n\t\t\tSystem.out.print(v + &quot; &quot;);\r\n\t\t}\r\n\t}","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>method that can be used to print the elements of a LinkedList of String objects, without any duplicate elements. The method takes a LinkedList object as an input, and then creates a new HashSet object. The method then iterates through the elements of the input LinkedList, and adds each element to the HashSet. Since a HashSet does not allow duplicate elements, this ensures that only unique elements are added to the HashSet.</p>\n<p>Then, the method iterates through the HashSet and prints each element to the console, separated by a space. Unlike the printList method, this method does not add any newlines before or after the list of elements. It simply prints the string &quot;Non-duplicates are: &quot; followed by the elements of the HashSet.</p>\n<pre><code>   public static void printSetList(LinkedList&lt;String&gt; list) {\n    Set&lt;String&gt; hashSet = new HashSet&lt;&gt;();\n    for (String v : list) {\n        hashSet.add(v);\n    }\n    System.out.print(&quot;Non-duplicates are: &quot;);\n    for (String v : hashSet) {\n        System.out.print(v + &quot; &quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":83471,"reputation":834,"user_id":234018,"accept_rate":95,"display_name":"PB_MLT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11742,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13114108,"answer_count":7,"score":10,"last_activity_date":1671141251,"creation_date":1351466460,"question_id":13114043,"body_markdown":"Let&#39;s say you have a class and you create a HashSet which can store this instances of this class. If you try to add instances which are equal, only one instance is kept in the collection, and that is fine. \r\n\r\nHowever if you have two different instances in the HashSet, and you take one and make it an exact copy of the other (by copying the fields), the HashSet will then contain two duplicate instances. \r\n\r\nHere is the code which demonstrates this:\r\n  \r\n\r\n     public static void main(String[] args)\r\n        {\r\n             HashSet&lt;GraphEdge&gt; set = new HashSet&lt;&gt;();\r\n    \t\tGraphEdge edge1 = new GraphEdge(1, &quot;a&quot;);\r\n    \t\tGraphEdge edge2 = new GraphEdge(2, &quot;b&quot;);\r\n    \t\tGraphEdge edge3 = new GraphEdge(3, &quot;c&quot;);\r\n    \t\t\r\n    \t\tset.add(edge1);\r\n    \t\tset.add(edge2);\r\n    \t\tset.add(edge3);\r\n    \t\t\r\n    \t\tedge2.setId(1);\r\n    \t\tedge2.setName(&quot;a&quot;);\r\n    \t\t\r\n    \t\tfor(GraphEdge edge: set)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(edge.toString());\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(edge2.equals(edge1))\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Equals&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Not Equals&quot;);\r\n    \t\t}\r\n        }\r\n    \r\n        public class GraphEdge\r\n        {\r\n            private int id;\r\n            private String name;\r\n        \r\n            //Constructor ...\r\n        \r\n            //Getters &amp; Setters...\r\n        \r\n            public int hashCode()\r\n            {\r\n        \tint hash = 7;\r\n        \thash = 47 * hash + this.id;\r\n        \thash = 47 * hash + Objects.hashCode(this.name);\r\n        \treturn hash;\t\r\n            }\r\n        \t\t\r\n        \tpublic boolean equals(Object o)\r\n        \t{\r\n        \t\tif(o == this)\r\n        \t\t{\r\n        \t\t\treturn true;\r\n        \t\t}\r\n        \t\t\t\r\n        \t\tif(o instanceof GraphEdge)\r\n        \t\t{\r\n        \t\t\tGraphEdge anotherGraphEdge = (GraphEdge) o;\r\n        \t\t\tif(anotherGraphEdge.getId() == this.id &amp;&amp; anotherGraphEdge.getName().equals(this.name))\r\n        \t\t\t{\r\n        \t\t\t\treturn true;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\t\r\n                    return false;\r\n        \t}\r\n        }\r\n\r\nThe output from the above code:\r\n\r\n    1 a\r\n    1 a\r\n    3 c\r\n    Equals\r\n\r\nIs there a way to force the HashSet to validate its contents so that possible duplicate entries created as in the above scenario get removed? \r\n\r\nA possible solution could be to create a new HashSet and copy the contents from one hashset to another so that the new hashset won&#39;t contain duplicates however I don&#39;t like this solution.","title":"Java HashSet contains duplicates if contained element is modified","body":"<p>Let's say you have a class and you create a HashSet which can store this instances of this class. If you try to add instances which are equal, only one instance is kept in the collection, and that is fine. </p>\n\n<p>However if you have two different instances in the HashSet, and you take one and make it an exact copy of the other (by copying the fields), the HashSet will then contain two duplicate instances. </p>\n\n<p>Here is the code which demonstrates this:</p>\n\n<pre><code> public static void main(String[] args)\n    {\n         HashSet&lt;GraphEdge&gt; set = new HashSet&lt;&gt;();\n        GraphEdge edge1 = new GraphEdge(1, \"a\");\n        GraphEdge edge2 = new GraphEdge(2, \"b\");\n        GraphEdge edge3 = new GraphEdge(3, \"c\");\n\n        set.add(edge1);\n        set.add(edge2);\n        set.add(edge3);\n\n        edge2.setId(1);\n        edge2.setName(\"a\");\n\n        for(GraphEdge edge: set)\n        {\n            System.out.println(edge.toString());\n        }\n\n        if(edge2.equals(edge1))\n        {\n            System.out.println(\"Equals\");\n        }\n        else\n        {\n            System.out.println(\"Not Equals\");\n        }\n    }\n\n    public class GraphEdge\n    {\n        private int id;\n        private String name;\n\n        //Constructor ...\n\n        //Getters &amp; Setters...\n\n        public int hashCode()\n        {\n        int hash = 7;\n        hash = 47 * hash + this.id;\n        hash = 47 * hash + Objects.hashCode(this.name);\n        return hash;    \n        }\n\n        public boolean equals(Object o)\n        {\n            if(o == this)\n            {\n                return true;\n            }\n\n            if(o instanceof GraphEdge)\n            {\n                GraphEdge anotherGraphEdge = (GraphEdge) o;\n                if(anotherGraphEdge.getId() == this.id &amp;&amp; anotherGraphEdge.getName().equals(this.name))\n                {\n                    return true;\n                }\n            }\n\n                return false;\n        }\n    }\n</code></pre>\n\n<p>The output from the above code:</p>\n\n<pre><code>1 a\n1 a\n3 c\nEquals\n</code></pre>\n\n<p>Is there a way to force the HashSet to validate its contents so that possible duplicate entries created as in the above scenario get removed? </p>\n\n<p>A possible solution could be to create a new HashSet and copy the contents from one hashset to another so that the new hashset won't contain duplicates however I don't like this solution.</p>\n"},{"tags":["java","performance","numbers"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":1,"creation_date":1438928494,"post_id":31870932,"comment_id":51660178,"body_markdown":"What about `(B-A)/M`? If A and B should be considered into the range this should be handled additional. And also the other edge cases where M &gt; B, M &gt; (B-A), ...","body":"What about <code>(B-A)&#47;M</code>? If A and B should be considered into the range this should be handled additional. And also the other edge cases where M &gt; B, M &gt; (B-A), ..."},{"owner":{"account_id":3333080,"reputation":61,"user_id":2801487,"display_name":"Rajkumar Pagey"},"score":0,"creation_date":1438928791,"post_id":31870932,"comment_id":51660295,"body_markdown":"Sorry, but I didn&#39;t understand your question regarding `(B-A)/M`. There is a possibility that A==B.... In that case B-A will always be divisible by M","body":"Sorry, but I didn&#39;t understand your question regarding <code>(B-A)&#47;M</code>. There is a possibility that A==B.... In that case B-A will always be divisible by M"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1438929413,"post_id":31870932,"comment_id":51660569,"body_markdown":"Assume `A=10`, `B=23` and `M=5` the result (based on your code snippet) should be `3`. So `(23-10)/5` would give you `2` and as `10 is divisible by 5` you add one more.","body":"Assume <code>A=10</code>, <code>B=23</code> and <code>M=5</code> the result (based on your code snippet) should be <code>3</code>. So <code>(23-10)&#47;5</code> would give you <code>2</code> and as <code>10 is divisible by 5</code> you add one more."},{"owner":{"account_id":3333080,"reputation":61,"user_id":2801487,"display_name":"Rajkumar Pagey"},"score":0,"creation_date":1438931086,"post_id":31870932,"comment_id":51661320,"body_markdown":"Assume `A=5`, `B=10` and `M=3`. `(10-5)/3` gives us `1`. Neither 10 or 5 is divisible by 3... but correct answer should be 2... not 1","body":"Assume <code>A=5</code>, <code>B=10</code> and <code>M=3</code>. <code>(10-5)&#47;3</code> gives us <code>1</code>. Neither 10 or 5 is divisible by 3... but correct answer should be 2... not 1"}],"answers":[{"tags":[],"owner":{"account_id":1667638,"reputation":735,"user_id":1534737,"accept_rate":88,"display_name":"Bruno Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438929497,"creation_date":1438929497,"answer_id":31871205,"question_id":31870932,"body_markdown":"The smallest integer n1 such that n1*M  A is n1=ceil(A/M), and the largest integer n2 such that n2*M  B is n2=floor(B/M). The number of integers between n1 and n2 inclusive is max_of(n2n1+1 ; 0).\r\n\r\nCombining the above we have the answer:\r\n\r\nmax_of(floor(Z/X)ceil(Y/X)+1 ; 0)\r\n\r\nThis is a somewhat standard problem in competitive programming :D\r\n","title":"Finding Multiples of a number between a range [Java]","body":"<p>The smallest integer n1 such that n1*M  A is n1=ceil(A/M), and the largest integer n2 such that n2*M  B is n2=floor(B/M). The number of integers between n1 and n2 inclusive is max_of(n2n1+1 ; 0).</p>\n\n<p>Combining the above we have the answer:</p>\n\n<p>max_of(floor(Z/X)ceil(Y/X)+1 ; 0)</p>\n\n<p>This is a somewhat standard problem in competitive programming :D</p>\n"},{"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1438932210,"creation_date":1438930770,"answer_id":31871501,"question_id":31870932,"body_markdown":"Following should do it (after some more testing).\r\n\r\n    int r = (b/m - a/m) + (a % m == 0 ? 1 : 0);\r\n\r\nexplanation\r\n\r\n 1. find the amount of multiples `m` between `a/m` and `b/m`\r\n 2. if `a` is a multiple of `m` add one more `(a % m == 0 ? 1 : 0)`\r\n\r\n**small example PoC**\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[][] pairs = {{10, 24}, {10, 25}, {11, 24}, {11, 25}, {10, 27}};\r\n        int m = 5;\r\n        for (int[] pair : pairs) {\r\n            int a = pair[0];\r\n            int b = pair[1];\r\n            int r = (b/m - a/m) + (a % m == 0 ? 1 : 0);\r\n            System.out.printf(&quot;a: %d  b: %d  result = %d  &quot;, a, b, r);\r\n            for (int i = a; i &lt;= b; i++) {\r\n                if (i % m == 0) {\r\n                    System.out.print(&quot; &quot; + i);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n**output**\r\n\r\n    a: 10  b: 24  result = 3   10 15 20\r\n    a: 10  b: 25  result = 4   10 15 20 25\r\n    a: 11  b: 24  result = 2   15 20\r\n    a: 11  b: 25  result = 3   15 20 25\r\n    a: 10  b: 27  result = 4   10 15 20 25","title":"Finding Multiples of a number between a range [Java]","body":"<p>Following should do it (after some more testing).</p>\n\n<pre><code>int r = (b/m - a/m) + (a % m == 0 ? 1 : 0);\n</code></pre>\n\n<p>explanation</p>\n\n<ol>\n<li>find the amount of multiples <code>m</code> between <code>a/m</code> and <code>b/m</code></li>\n<li>if <code>a</code> is a multiple of <code>m</code> add one more <code>(a % m == 0 ? 1 : 0)</code></li>\n</ol>\n\n<p><strong>small example PoC</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    int[][] pairs = {{10, 24}, {10, 25}, {11, 24}, {11, 25}, {10, 27}};\n    int m = 5;\n    for (int[] pair : pairs) {\n        int a = pair[0];\n        int b = pair[1];\n        int r = (b/m - a/m) + (a % m == 0 ? 1 : 0);\n        System.out.printf(\"a: %d  b: %d  result = %d  \", a, b, r);\n        for (int i = a; i &lt;= b; i++) {\n            if (i % m == 0) {\n                System.out.print(\" \" + i);\n            }\n        }\n        System.out.println(\"\");\n    }\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a: 10  b: 24  result = 3   10 15 20\na: 10  b: 25  result = 4   10 15 20 25\na: 11  b: 24  result = 2   15 20\na: 11  b: 25  result = 3   15 20 25\na: 10  b: 27  result = 4   10 15 20 25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5432976,"reputation":1857,"user_id":4323229,"accept_rate":69,"display_name":"Keval"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438932207,"creation_date":1438931772,"answer_id":31871748,"question_id":31870932,"body_markdown":"Try this code :\r\n\r\n\tlong A = sc.nextLong();\r\n\t\tlong B = sc.nextLong();\r\n\t\tlong M = sc.nextLong();\r\n\r\n\t\tif (M &gt; A) {\r\n\t\t\tA = M;\r\n\t\t}\r\n\t\tif(M &gt; B){\r\n\t\t\tSystem.out.println(&quot;0&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(  (((B-A)/M)+1) + &quot;&quot;);\r\n\r\n**Explanation :**\r\n\r\nif 2 is first multiple than we dont need to check for 3, we have to add 2 to get next multiple so we dont need to traverse from first value to last and check if value is multiple or not, we just need to find first multiple and than number of steps it will take to reach last number means our B by adding M to A.","title":"Finding Multiples of a number between a range [Java]","body":"<p>Try this code :</p>\n\n<pre><code>long A = sc.nextLong();\n    long B = sc.nextLong();\n    long M = sc.nextLong();\n\n    if (M &gt; A) {\n        A = M;\n    }\n    if(M &gt; B){\n        System.out.println(\"0\");\n        return;\n    }\n    System.out.println(  (((B-A)/M)+1) + \"\");\n</code></pre>\n\n<p><strong>Explanation :</strong></p>\n\n<p>if 2 is first multiple than we dont need to check for 3, we have to add 2 to get next multiple so we dont need to traverse from first value to last and check if value is multiple or not, we just need to find first multiple and than number of steps it will take to reach last number means our B by adding M to A.</p>\n"},{"tags":[],"owner":{"account_id":19563079,"reputation":1,"user_id":14665398,"display_name":"Fluffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671140514,"creation_date":1671140514,"answer_id":74817888,"question_id":31870932,"body_markdown":"This works great.\r\n\r\n    int multiples = 0;\r\n        for(int i = x; i&lt;=y; i++){\r\n         if(i%z==0)\r\n          multiples++;\r\n        }\r\n\r\nAs long as y&gt;x, if that isn&#39;t always true just add an additional if statement that checks if y&gt;x or x&gt;y. :) ","title":"Finding Multiples of a number between a range [Java]","body":"<p>This works great.</p>\n<pre><code>int multiples = 0;\n    for(int i = x; i&lt;=y; i++){\n     if(i%z==0)\n      multiples++;\n    }\n</code></pre>\n<p>As long as y&gt;x, if that isn't always true just add an additional if statement that checks if y&gt;x or x&gt;y. :)</p>\n"}],"owner":{"account_id":3333080,"reputation":61,"user_id":2801487,"display_name":"Rajkumar Pagey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31871501,"answer_count":4,"score":2,"last_activity_date":1671140514,"creation_date":1438928297,"question_id":31870932,"body_markdown":"We have been given a range **A&lt;=B** and a number **M**. We have to find how many multiples of M lie in the given range.\r\n\r\nMy Solution:\r\n\r\n    \r\n    import java.util.Scanner;\r\n\r\n    class ABC {\r\n    public static void main(String args[] ) throws Exception {\r\n   \r\n        Scanner sc = new Scanner(System.in);\r\n        int N = sc.nextInt();\r\n        for (int i = 0; i &lt; N; i++) {\r\n          \tlong A = sc.nextLong();\r\n          \tlong B = sc.nextLong();\r\n          \tlong M = sc.nextLong();\r\n          \t\r\n          \tint res = 0;\r\n          \twhile(A&lt;=B)\r\n          \t{\r\n          \t\tif(A%M==0)res++;\r\n          \t\tA++;\r\n          \t}\r\n          \tSystem.out.println(res+&quot;&quot;);\r\n        }\r\n        }\r\n    }\r\n\r\nNow this is not very efficient. Please tell me how this problem can be solved in least amount of time.","title":"Finding Multiples of a number between a range [Java]","body":"<p>We have been given a range <strong>A&lt;=B</strong> and a number <strong>M</strong>. We have to find how many multiples of M lie in the given range.</p>\n\n<p>My Solution:</p>\n\n<pre><code>import java.util.Scanner;\n\nclass ABC {\npublic static void main(String args[] ) throws Exception {\n\n    Scanner sc = new Scanner(System.in);\n    int N = sc.nextInt();\n    for (int i = 0; i &lt; N; i++) {\n        long A = sc.nextLong();\n        long B = sc.nextLong();\n        long M = sc.nextLong();\n\n        int res = 0;\n        while(A&lt;=B)\n        {\n            if(A%M==0)res++;\n            A++;\n        }\n        System.out.println(res+\"\");\n    }\n    }\n}\n</code></pre>\n\n<p>Now this is not very efficient. Please tell me how this problem can be solved in least amount of time.</p>\n"},{"tags":["java","filter","collections","java-8"],"comments":[{"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"score":0,"creation_date":1594976182,"post_id":62950511,"comment_id":111321005,"body_markdown":"can you please format your code and give little more details","body":"can you please format your code and give little more details"},{"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1594977117,"post_id":62950511,"comment_id":111321450,"body_markdown":"If you want to use some internal variable from the inner code, you shouldn&#39;t use lambda, but instead use a classical loop. But better, rethink your logic so that this access isn&#39;t necessary.","body":"If you want to use some internal variable from the inner code, you shouldn&#39;t use lambda, but instead use a classical loop. But better, rethink your logic so that this access isn&#39;t necessary."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1594977852,"post_id":62950511,"comment_id":111321824,"body_markdown":"Please be more clear, what do you mean *bring outside the lambda*? Do you want something like this `itr -&gt; someVariableOutsideLambda = itr`?","body":"Please be more clear, what do you mean <i>bring outside the lambda</i>? Do you want something like this <code>itr -&gt; someVariableOutsideLambda = itr</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1594989397,"post_id":62950511,"comment_id":111327347,"body_markdown":"Why dont you use the `result` variable? If you are interested in the nonmatching elements, just reverse the filter condition.","body":"Why dont you use the <code>result</code> variable? If you are interested in the nonmatching elements, just reverse the filter condition."}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1595072171,"post_id":62950570,"comment_id":111351755,"body_markdown":"lambda expression is not a method, that document says you can &quot;think&quot; about it like this, but no more.","body":"lambda expression is not a method, that document says you can &quot;think&quot; about it like this, but no more."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1595072426,"post_id":62950570,"comment_id":111351808,"body_markdown":"@Eugene it&#39;s a value, if you&#39;d like to be so picky, and then it&#39;s not rather a function. Want to discuss what its bytecode is representing? my aim was to make this clear to someone asking the clarification. Actually, it&#39;s invoked in the same semantics as function, only the difference is that it&#39;s not belonging to the instance of class itself. By the way, several other documentations refer to it as exactly the *Anonymous Method*.","body":"@Eugene it&#39;s a value, if you&#39;d like to be so picky, and then it&#39;s not rather a function. Want to discuss what its bytecode is representing? my aim was to make this clear to someone asking the clarification. Actually, it&#39;s invoked in the same semantics as function, only the difference is that it&#39;s not belonging to the instance of class itself. By the way, several other documentations refer to it as exactly the <i>Anonymous Method</i>."}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594976202,"creation_date":1594976202,"answer_id":62950570,"question_id":62950511,"body_markdown":"Lamba expression [is][1] an anonymous, yet still *method*, an *Anonymous Method*.\r\n\r\nVariables declared within the scope of method are local to that scope and there&#39;s no way to reference them outside of that scope.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Is there any alternate way to bring lambda variables outside the lambda loop","body":"<p>Lamba expression <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">is</a> an anonymous, yet still <em>method</em>, an <em>Anonymous Method</em>.</p>\n<p>Variables declared within the scope of method are local to that scope and there's no way to reference them outside of that scope.</p>\n"},{"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1594976558,"post_id":62950645,"comment_id":111321210,"body_markdown":"I think the question asks more about whether one can refer to the variable declared inside the lambda.","body":"I think the question asks more about whether one can refer to the variable declared inside the lambda."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594976426,"creation_date":1594976426,"answer_id":62950645,"question_id":62950511,"body_markdown":"`itr` in the lambda expression represents an item in the stream. One of them (due to your usage of `findAny`) is returned as the `result` variable, which you can use later. Instead of just terminating the stream, you could use `forEach` and operate on all the elements:\r\n\r\n```java\r\nParcelFromDB.getParcelcodes()\r\n            .stream()\r\n            .filter( itr -&gt; itr.getCode().equals(parcelReq.getCode())\r\n            .forEach(itr -&gt; {\r\n                // Do something interesting with the item\r\n            });\r\n```","title":"Is there any alternate way to bring lambda variables outside the lambda loop","body":"<p><code>itr</code> in the lambda expression represents an item in the stream. One of them (due to your usage of <code>findAny</code>) is returned as the <code>result</code> variable, which you can use later. Instead of just terminating the stream, you could use <code>forEach</code> and operate on all the elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ParcelFromDB.getParcelcodes()\n            .stream()\n            .filter( itr -&gt; itr.getCode().equals(parcelReq.getCode())\n            .forEach(itr -&gt; {\n                // Do something interesting with the item\n            });\n</code></pre>\n"}],"owner":{"account_id":19098073,"reputation":58,"user_id":13946932,"display_name":"Vedant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1594979507,"answer_count":2,"score":-2,"last_activity_date":1671140279,"creation_date":1594976007,"question_id":62950511,"body_markdown":"    Result result = ParcelFromDB.getParcelcodes\r\n    .stream()\r\n    .filter( itr -&gt; itr.getCode().equals(parcelReq.getCode())\r\n    .findAny()\r\n    .orElse(null);\r\n    \r\n    if(result == null){ ... }\r\n\r\nAfter this, I have to take the existing code which is from the DB and based on that I will proceed on the rest of the logic. \r\n\r\nI am unable to take the &quot;itr&quot; value as it is a final variable. Please suggest if there is any alternate way to carry the value of &quot;itr&quot; outside the lambda? I have tried other ways but as per the code base, this is the only way I should do it.\r\n\r\n","title":"Is there any alternate way to bring lambda variables outside the lambda loop","body":"<pre><code>Result result = ParcelFromDB.getParcelcodes\n.stream()\n.filter( itr -&gt; itr.getCode().equals(parcelReq.getCode())\n.findAny()\n.orElse(null);\n\nif(result == null){ ... }\n</code></pre>\n<p>After this, I have to take the existing code which is from the DB and based on that I will proceed on the rest of the logic.</p>\n<p>I am unable to take the &quot;itr&quot; value as it is a final variable. Please suggest if there is any alternate way to carry the value of &quot;itr&quot; outside the lambda? I have tried other ways but as per the code base, this is the only way I should do it.</p>\n"},{"tags":["java","maven","jsp","web","resources"],"answers":[{"tags":[],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671139829,"creation_date":1671139829,"answer_id":74817784,"question_id":74816483,"body_markdown":"The line:\r\n\r\n```&lt;link href = &quot;css/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;```\r\n\r\nis relative to the ```webapp``` directory. However the line\r\n\r\n```&lt;img class = &quot;avatar&quot; src = &quot;images/skyrim-logo.png&quot; alt = &quot;avatar&quot;&gt;```\r\n\r\npoints to a directory which is not part of the ```webapp``` directory structure and therefor is not visible to the JSP page.\r\n\r\nYou need to move both the ```fonts``` and ```images``` directories into the ```webapp``` directory.","title":"Can&#39;t use contents of resources folder in JSP page","body":"<p>The line:</p>\n<p><code>&lt;link href = &quot;css/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</code></p>\n<p>is relative to the <code>webapp</code> directory. However the line</p>\n<p><code>&lt;img class = &quot;avatar&quot; src = &quot;images/skyrim-logo.png&quot; alt = &quot;avatar&quot;&gt;</code></p>\n<p>points to a directory which is not part of the <code>webapp</code> directory structure and therefor is not visible to the JSP page.</p>\n<p>You need to move both the <code>fonts</code> and <code>images</code> directories into the <code>webapp</code> directory.</p>\n"}],"owner":{"account_id":23529200,"reputation":39,"user_id":18067074,"display_name":"grxuau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74817784,"answer_count":1,"score":0,"last_activity_date":1671139829,"creation_date":1671131755,"question_id":74816483,"body_markdown":"*I tried to enter an absolute path, a path relative to the resources folder, and so on, it still does not see it.*\r\n\r\n\r\n**main.jsp**\r\n\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;  \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt; Simple Title &lt;/title&gt;\r\n        &lt;link href = &quot;css/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;header&gt;\r\n            &lt;img class = &quot;avatar&quot; src = &quot;images/skyrim-logo.png&quot; alt = &quot;avatar&quot;&gt;\r\n            &lt;span class = &quot;header-info&quot;&gt;\r\n                ... some info ...\r\n            &lt;/span&gt;\r\n        &lt;/header&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;container-header&quot;&gt;\r\n                Enter point coordinates\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n`src = &quot;images/skyrim-logo.png&quot;` - **this line contains the problem**\r\n\r\n\r\n\r\n\r\n[![project structure](https://i.stack.imgur.com/7AZy3.png)](https://i.stack.imgur.com/7AZy3.png)\r\n\r\n\r\n\r\n\r\n[![target structure](https://i.stack.imgur.com/JHliR.png)](https://i.stack.imgur.com/JHliR.png)\r\n\r\n\r\n","title":"Can&#39;t use contents of resources folder in JSP page","body":"<p><em>I tried to enter an absolute path, a path relative to the resources folder, and so on, it still does not see it.</em></p>\n<p><strong>main.jsp</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;  \n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt; Simple Title &lt;/title&gt;\n    &lt;link href = &quot;css/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        &lt;img class = &quot;avatar&quot; src = &quot;images/skyrim-logo.png&quot; alt = &quot;avatar&quot;&gt;\n        &lt;span class = &quot;header-info&quot;&gt;\n            ... some info ...\n        &lt;/span&gt;\n    &lt;/header&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;container-header&quot;&gt;\n            Enter point coordinates\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><code>src = &quot;images/skyrim-logo.png&quot;</code> - <strong>this line contains the problem</strong></p>\n<p><a href=\"https://i.stack.imgur.com/7AZy3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AZy3.png\" alt=\"project structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JHliR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JHliR.png\" alt=\"target structure\" /></a></p>\n"},{"tags":["java","arrays","search","similarity"],"answers":[{"comments":[{"owner":{"account_id":27037585,"reputation":1,"user_id":20592951,"display_name":"Yagel"},"score":0,"creation_date":1671019270,"post_id":74797237,"comment_id":132005595,"body_markdown":"Thank you for the compliments and for the detailed answer. If I may ask, I dont think the solution you offered checks if each value only repeats once in each column, could you offer advice on how to do that as well? Thank you in advance!","body":"Thank you for the compliments and for the detailed answer. If I may ask, I dont think the solution you offered checks if each value only repeats once in each column, could you offer advice on how to do that as well? Thank you in advance!"},{"owner":{"account_id":15165138,"reputation":459,"user_id":10942864,"display_name":"Stitt"},"score":0,"creation_date":1671019943,"post_id":74797237,"comment_id":132005828,"body_markdown":"Your script will solve that currently due to the `if ((numInColumn(similar, col1, similar[i][col2]) != 1))` condition, provided that you run the script in both directions as I detailed in the 1st option.","body":"Your script will solve that currently due to the <code>if ((numInColumn(similar, col1, similar[i][col2]) != 1))</code> condition, provided that you run the script in both directions as I detailed in the 1st option."}],"tags":[],"owner":{"account_id":15165138,"reputation":459,"user_id":10942864,"display_name":"Stitt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015805,"creation_date":1671015805,"answer_id":74797237,"question_id":74796821,"body_markdown":"Great phrasing of your first question, and thankyou for providing such a good code example and examples of what you have tried. The good news I have for you is that your logic in determining if column A is &quot;similar&quot; to column B is correct. The bad news is that this **does not** imply that column B is similar to column A.\r\n\r\nNotice that in your first test case, the value 5 appears twice in column 3. This means that as your code iterates down the column, it has successfully found an instance of each number that appears in column 3, and therefore returned true. If you swap the column indexes however ([3,1] instead of [1,3]), your code will then try to find a match for each value in column 1, and fail to find the value 7. This is where your algorithm is breaking down.\r\n\r\nYou have a couple of options here, depending on your interpretation of the instructions. \r\n\r\n 1. Run the same check you have currently in **both** directions. This will check that if a value appears in one column, it must also appear at least once in the other. However, this may be the incorrect result, depending on the instructions given.\r\n\r\n 2. Remove values from **both** columns (or a working copy of the columns) as you check off each pair of values. In this instance you will only need to run your check once, however, it will require that the same number of each digit appears in both columns, and will also be marginally more complicated to produce.\r\n\r\nAs an example of how these two methods differ, consider the two columns below.\r\n\r\n```\r\n2 2\r\n2 3\r\n2 3\r\n2 3\r\n```\r\nMethod 1 will return true; both columns contain 2&#39;s, and both contain 3&#39;s, no issue! However, Method 2 will return false, as the number of 2&#39;s is not equal to the number of 3&#39;s.\r\n\r\nBest of luck!","title":"Having trouble creating a loop to check if two columns of a matrix are similar (2D arrays, Java)","body":"<p>Great phrasing of your first question, and thankyou for providing such a good code example and examples of what you have tried. The good news I have for you is that your logic in determining if column A is &quot;similar&quot; to column B is correct. The bad news is that this <strong>does not</strong> imply that column B is similar to column A.</p>\n<p>Notice that in your first test case, the value 5 appears twice in column 3. This means that as your code iterates down the column, it has successfully found an instance of each number that appears in column 3, and therefore returned true. If you swap the column indexes however ([3,1] instead of [1,3]), your code will then try to find a match for each value in column 1, and fail to find the value 7. This is where your algorithm is breaking down.</p>\n<p>You have a couple of options here, depending on your interpretation of the instructions.</p>\n<ol>\n<li><p>Run the same check you have currently in <strong>both</strong> directions. This will check that if a value appears in one column, it must also appear at least once in the other. However, this may be the incorrect result, depending on the instructions given.</p>\n</li>\n<li><p>Remove values from <strong>both</strong> columns (or a working copy of the columns) as you check off each pair of values. In this instance you will only need to run your check once, however, it will require that the same number of each digit appears in both columns, and will also be marginally more complicated to produce.</p>\n</li>\n</ol>\n<p>As an example of how these two methods differ, consider the two columns below.</p>\n<pre><code>2 2\n2 3\n2 3\n2 3\n</code></pre>\n<p>Method 1 will return true; both columns contain 2's, and both contain 3's, no issue! However, Method 2 will return false, as the number of 2's is not equal to the number of 3's.</p>\n<p>Best of luck!</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671138257,"creation_date":1671137556,"answer_id":74817433,"question_id":74796821,"body_markdown":"The problem here is in your `similarColumns` method.  In it, you are only comparing one column with the value from the other column.  In the case of your first example, Each value from column 2 `{5,2,9,5,4}` exists only once in column 1 `{5,7,4,9,2}`.  Even though 5 appears twice in column 2, it only appears once in column 1.  Therefore, the conditional `!= 1` passes for both instances of 5 in column 2.\r\n\r\nYou can fix this easily enough by extending your code to repeat the check in the opposite direction\r\n```java\r\npublic static boolean similarColumns(int[][] similar, int col1, int col2) {\r\n  boolean isSimilar = true;\r\n  for (int[] ints : similar) {\r\n    if (numInColumn(similar, col1, ints[col2]) != 1 &amp;&amp; numInColumn(similar, col2, ints[col1]) != 1) {\r\n      isSimilar = false;\r\n      break;\r\n    }\r\n  }\r\n  return isSimilar;\r\n}\r\n```\r\n\r\nIf you are able to use non-primitive Objects and types, you can also accomplish this fairly easily without loops using the Java8 Stream api.  I&#39;d recommend rotating your columns to rows to make it a bit easier as well.  Something like this:\r\n```java\r\npublic static void main(String[] args) {\r\n  int[][] my2dArray = new int[][]{\r\n    {4, 5, 4, 7},\r\n    {3, 7, 3, 2},\r\n    {2, 4, 2, 9},\r\n    {2, 9, 2, 5},\r\n    {1, 2, 1, 4}};\r\n\r\n  /* creates new array\r\n    {4, 3, 2, 2, 1},\r\n    {5, 7, 4, 9, 2},\r\n    {4, 3, 2, 2, 1},\r\n    {7, 2, 9, 5, 4},\r\n   */\r\n  int[][] rotatedArray = new int[my2dArray[0].length][my2dArray.length];\r\n\r\n  rotate(my2dArray, rotatedArray);\r\n\r\n  for (int i = 0; i &lt; rotatedArray.length; i++) {\r\n    for (int j = i + 1; j &lt; rotatedArray.length; j++) {\r\n      System.out.println(&quot;Column &quot; + i + &quot; is similar to Column &quot; + j + &quot;: &quot; + similarColumns(rotatedArray[i], rotatedArray[j]));\r\n    }\r\n  }\r\n}\r\n\r\nprivate static boolean similarColumns(int[] column1, int[] column2) {\r\n\r\n  // creates a sorted array of distinct values\r\n  int[] filteredColumn1 = Arrays.stream(column1).distinct().sorted().toArray();\r\n  int[] filteredColumn2 = Arrays.stream(column2).distinct().sorted().toArray();\r\n\r\n  // if the length changed, then the column contained duplicate values\r\n  boolean lengthUnchanged = filteredColumn1.length == column1.length &amp;&amp; filteredColumn2.length == column2.length;\r\n\r\n  return Arrays.equals(filteredColumn1, filteredColumn2) &amp;&amp; lengthUnchanged;\r\n}\r\n\r\nprivate static void rotate(int[][] oldArray, int[][] rotatedArray) {\r\n  for (int i = 0; i &lt; oldArray[0].length; i++) {\r\n    for (int j = oldArray.length - 1; j &gt;= 0; j--) {\r\n      rotatedArray[i][j] = oldArray[j][i];\r\n    }\r\n  }\r\n}\r\n```\r\nAnother way to remove duplicate values would be to assign the array to a `HashSet`.  A `HashSet` can only contain unique values, so something like:\r\n```java\r\nint[] filteredColumn1 = new HashSet&lt;&gt;(Arrays.asList(IntStream.of(column1).boxed().toArray(Integer[]::new))).stream().mapToInt(i -&gt; i).sorted.toArray();\r\n```\r\nwould also work, although it may be a bit overly complicated.","title":"Having trouble creating a loop to check if two columns of a matrix are similar (2D arrays, Java)","body":"<p>The problem here is in your <code>similarColumns</code> method.  In it, you are only comparing one column with the value from the other column.  In the case of your first example, Each value from column 2 <code>{5,2,9,5,4}</code> exists only once in column 1 <code>{5,7,4,9,2}</code>.  Even though 5 appears twice in column 2, it only appears once in column 1.  Therefore, the conditional <code>!= 1</code> passes for both instances of 5 in column 2.</p>\n<p>You can fix this easily enough by extending your code to repeat the check in the opposite direction</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean similarColumns(int[][] similar, int col1, int col2) {\n  boolean isSimilar = true;\n  for (int[] ints : similar) {\n    if (numInColumn(similar, col1, ints[col2]) != 1 &amp;&amp; numInColumn(similar, col2, ints[col1]) != 1) {\n      isSimilar = false;\n      break;\n    }\n  }\n  return isSimilar;\n}\n</code></pre>\n<p>If you are able to use non-primitive Objects and types, you can also accomplish this fairly easily without loops using the Java8 Stream api.  I'd recommend rotating your columns to rows to make it a bit easier as well.  Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  int[][] my2dArray = new int[][]{\n    {4, 5, 4, 7},\n    {3, 7, 3, 2},\n    {2, 4, 2, 9},\n    {2, 9, 2, 5},\n    {1, 2, 1, 4}};\n\n  /* creates new array\n    {4, 3, 2, 2, 1},\n    {5, 7, 4, 9, 2},\n    {4, 3, 2, 2, 1},\n    {7, 2, 9, 5, 4},\n   */\n  int[][] rotatedArray = new int[my2dArray[0].length][my2dArray.length];\n\n  rotate(my2dArray, rotatedArray);\n\n  for (int i = 0; i &lt; rotatedArray.length; i++) {\n    for (int j = i + 1; j &lt; rotatedArray.length; j++) {\n      System.out.println(&quot;Column &quot; + i + &quot; is similar to Column &quot; + j + &quot;: &quot; + similarColumns(rotatedArray[i], rotatedArray[j]));\n    }\n  }\n}\n\nprivate static boolean similarColumns(int[] column1, int[] column2) {\n\n  // creates a sorted array of distinct values\n  int[] filteredColumn1 = Arrays.stream(column1).distinct().sorted().toArray();\n  int[] filteredColumn2 = Arrays.stream(column2).distinct().sorted().toArray();\n\n  // if the length changed, then the column contained duplicate values\n  boolean lengthUnchanged = filteredColumn1.length == column1.length &amp;&amp; filteredColumn2.length == column2.length;\n\n  return Arrays.equals(filteredColumn1, filteredColumn2) &amp;&amp; lengthUnchanged;\n}\n\nprivate static void rotate(int[][] oldArray, int[][] rotatedArray) {\n  for (int i = 0; i &lt; oldArray[0].length; i++) {\n    for (int j = oldArray.length - 1; j &gt;= 0; j--) {\n      rotatedArray[i][j] = oldArray[j][i];\n    }\n  }\n}\n</code></pre>\n<p>Another way to remove duplicate values would be to assign the array to a <code>HashSet</code>.  A <code>HashSet</code> can only contain unique values, so something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] filteredColumn1 = new HashSet&lt;&gt;(Arrays.asList(IntStream.of(column1).boxed().toArray(Integer[]::new))).stream().mapToInt(i -&gt; i).sorted.toArray();\n</code></pre>\n<p>would also work, although it may be a bit overly complicated.</p>\n"}],"owner":{"account_id":27037585,"reputation":1,"user_id":20592951,"display_name":"Yagel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671138257,"creation_date":1671013737,"question_id":74796821,"body_markdown":"So I was practicing 2D arrays in Java and I have this exercise that asks me to create 2 functions, one that receives a matrix, a column number and a value and checks how many times the value shows in a certain column of the matrix, and a second one that checks if 2 columns are similar.\r\n2 columns are considered similar if each value only shows once in each column, both columns contain the same values (they don&#39;t have to be in the same order).\r\nI haven&#39;t found a drill that tackles the same task online and I would also want to learn why my logic is wrong so I can learn in the future.\r\nI am obligated to use the first function in the 2nd drill.\r\nI was able to make the first function work but then when I got to the point where I have to check if 2 columns are similar I couldn&#39;t make it work, I tried multiple loops for the search method but none of them worked properly.\r\n\r\nThis is the code I am currently running which is not working: \r\n```\r\nimport java.util.Scanner;\r\npublic class Ex_4 {\r\n    public static Scanner input = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int drill;\r\n        System.out.println(&quot;Please enter the drill number you would like to test:&quot;);\r\n        drill = input.nextInt();\r\n        switch (drill) {\r\n            case (1) -&gt; {\r\n                int[][] num = createMatrix();\r\n                System.out.print(&quot;Please enter a value and the number of a column in the matrix: &quot;);\r\n                // please refer to the first column as 0 and not 1.\r\n                int val = input.nextInt();\r\n                int col = input.nextInt();\r\n                System.out.printf(&quot;The amount of times this value shows in the column is: %d&quot;, numInColumn(num, col, val));\r\n            }\r\n            case (2) -&gt; {\r\n                int[][] similar = createMatrix();\r\n                System.out.print(&quot;Please enter the number of two columns in the matrix: &quot;);\r\n                // please refer to the first column as 0 and not 1.\r\n                int col1 = input.nextInt();\r\n                int col2 = input.nextInt();\r\n                if (similarColumns(similar, col1, col2)) {\r\n                    System.out.println(&quot;true&quot;);\r\n                } else {\r\n                    System.out.println(&quot;false&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static int[][] createMatrix() {\r\n        System.out.print(&quot;Please enter the number of rows of the matrix: &quot;);\r\n        int rows = input.nextInt();\r\n        System.out.print(&quot;Please enter the number of columns of the matrix: &quot;);\r\n        int columns = input.nextInt();\r\n        int[][] matrix = new int[rows][columns];\r\n        System.out.println(&quot;Please enter the values of the matrix:&quot;);\r\n        int j, i;\r\n        for (i = 0; i &lt; matrix.length; i++) {\r\n            for (j = 0; j &lt; matrix[0].length; j++) {\r\n                /*\r\n                The user needs to enter values of the matrix in this order for example:\r\n                row 1: column 1 -&gt; column 2.\r\n                row 2: column 1 -&gt;column 2.\r\n                 */\r\n                matrix[i][j] = input.nextInt();\r\n            }\r\n        }\r\n        return matrix;\r\n    }\r\n\r\n    public static int numInColumn(int[][] num, int col, int val) {\r\n        int count = 0;\r\n        for (int i = 0; i &lt; num.length; i++) {\r\n            if (num[i][col] == val) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public static boolean similarColumns(int[][] similar, int col1, int col2) {\r\n        boolean isSimilar = true;\r\n        for (int i = 0; i &lt; similar.length; i++) {\r\n                if ((numInColumn(similar, col1, similar[i][col2]) != 1)) {\r\n                    isSimilar = false;\r\n                }\r\n        }\r\n        return isSimilar;\r\n    }\r\n}\r\n```\r\nfor example the matrix:\r\n```\r\n 4 5 4 5 \r\n 3 7 3 2 \r\n 2 4 2 9 \r\n 2 9 2 5 \r\n 1 2 1 4\r\n```\r\nshould return false if I check for column&#39;s 1 and 3, but it returns true.\r\n\r\nthis matrix:\r\n```\r\n 4 5 4 7 \r\n 3 7 3 2 \r\n 2 4 2 9 \r\n 2 9 2 5 \r\n 1 2 1 4\r\n```\r\nshould return true for columns 1 and 3 and it does.","title":"Having trouble creating a loop to check if two columns of a matrix are similar (2D arrays, Java)","body":"<p>So I was practicing 2D arrays in Java and I have this exercise that asks me to create 2 functions, one that receives a matrix, a column number and a value and checks how many times the value shows in a certain column of the matrix, and a second one that checks if 2 columns are similar.\n2 columns are considered similar if each value only shows once in each column, both columns contain the same values (they don't have to be in the same order).\nI haven't found a drill that tackles the same task online and I would also want to learn why my logic is wrong so I can learn in the future.\nI am obligated to use the first function in the 2nd drill.\nI was able to make the first function work but then when I got to the point where I have to check if 2 columns are similar I couldn't make it work, I tried multiple loops for the search method but none of them worked properly.</p>\n<p>This is the code I am currently running which is not working:</p>\n<pre><code>import java.util.Scanner;\npublic class Ex_4 {\n    public static Scanner input = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int drill;\n        System.out.println(&quot;Please enter the drill number you would like to test:&quot;);\n        drill = input.nextInt();\n        switch (drill) {\n            case (1) -&gt; {\n                int[][] num = createMatrix();\n                System.out.print(&quot;Please enter a value and the number of a column in the matrix: &quot;);\n                // please refer to the first column as 0 and not 1.\n                int val = input.nextInt();\n                int col = input.nextInt();\n                System.out.printf(&quot;The amount of times this value shows in the column is: %d&quot;, numInColumn(num, col, val));\n            }\n            case (2) -&gt; {\n                int[][] similar = createMatrix();\n                System.out.print(&quot;Please enter the number of two columns in the matrix: &quot;);\n                // please refer to the first column as 0 and not 1.\n                int col1 = input.nextInt();\n                int col2 = input.nextInt();\n                if (similarColumns(similar, col1, col2)) {\n                    System.out.println(&quot;true&quot;);\n                } else {\n                    System.out.println(&quot;false&quot;);\n                }\n            }\n        }\n    }\n\n    public static int[][] createMatrix() {\n        System.out.print(&quot;Please enter the number of rows of the matrix: &quot;);\n        int rows = input.nextInt();\n        System.out.print(&quot;Please enter the number of columns of the matrix: &quot;);\n        int columns = input.nextInt();\n        int[][] matrix = new int[rows][columns];\n        System.out.println(&quot;Please enter the values of the matrix:&quot;);\n        int j, i;\n        for (i = 0; i &lt; matrix.length; i++) {\n            for (j = 0; j &lt; matrix[0].length; j++) {\n                /*\n                The user needs to enter values of the matrix in this order for example:\n                row 1: column 1 -&gt; column 2.\n                row 2: column 1 -&gt;column 2.\n                 */\n                matrix[i][j] = input.nextInt();\n            }\n        }\n        return matrix;\n    }\n\n    public static int numInColumn(int[][] num, int col, int val) {\n        int count = 0;\n        for (int i = 0; i &lt; num.length; i++) {\n            if (num[i][col] == val) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    public static boolean similarColumns(int[][] similar, int col1, int col2) {\n        boolean isSimilar = true;\n        for (int i = 0; i &lt; similar.length; i++) {\n                if ((numInColumn(similar, col1, similar[i][col2]) != 1)) {\n                    isSimilar = false;\n                }\n        }\n        return isSimilar;\n    }\n}\n</code></pre>\n<p>for example the matrix:</p>\n<pre><code> 4 5 4 5 \n 3 7 3 2 \n 2 4 2 9 \n 2 9 2 5 \n 1 2 1 4\n</code></pre>\n<p>should return false if I check for column's 1 and 3, but it returns true.</p>\n<p>this matrix:</p>\n<pre><code> 4 5 4 7 \n 3 7 3 2 \n 2 4 2 9 \n 2 9 2 5 \n 1 2 1 4\n</code></pre>\n<p>should return true for columns 1 and 3 and it does.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671115038,"post_id":74813177,"comment_id":132032324,"body_markdown":"I would convert to long, then test the value to see what it could fit into.  Watch out for floating point when using this scheme.","body":"I would convert to long, then test the value to see what it could fit into.  Watch out for floating point when using this scheme."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1671115452,"post_id":74813177,"comment_id":132032495,"body_markdown":"The Integer.MAX_VALUE is 2147483647. So while it is not precise you could get a rough estimate by looking at the length of the String you are trying to parse. Everything 9 or less digits fits an Integer, anything with 11 or more doesn&#39;t and most numbers with 10 digits also don&#39;t fit. So length &lt;= 9 Integer else Long would give results that I personally would consider &quot;good enough&quot;","body":"The Integer.MAX_VALUE is 2147483647. So while it is not precise you could get a rough estimate by looking at the length of the String you are trying to parse. Everything 9 or less digits fits an Integer, anything with 11 or more doesn&#39;t and most numbers with 10 digits also don&#39;t fit. So length &lt;= 9 Integer else Long would give results that I personally would consider &quot;good enough&quot;"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1671115889,"post_id":74813177,"comment_id":132032660,"body_markdown":"I&#39;m with @markspace. The costs of a single long vs an int,short or byte are only relevant if you&#39;re working with very limited resources. Just convert to long, then compare against `Byte.MAX_VALUE`, `Short.MAX_VALUE` or `Integer.MAX_VALUE`.","body":"I&#39;m with @markspace. The costs of a single long vs an int,short or byte are only relevant if you&#39;re working with very limited resources. Just convert to long, then compare against <code>Byte.MAX_VALUE</code>, <code>Short.MAX_VALUE</code> or <code>Integer.MAX_VALUE</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1671115960,"post_id":74813177,"comment_id":132032686,"body_markdown":"Also note that you should only use `valueOf` if you want the result to be a wrapper. If you want a primitive, always use `Long.parseLong` / `Integer.parseInt` / `Short.parseShort` &#39; / `Byte.parseByte`.","body":"Also note that you should only use <code>valueOf</code> if you want the result to be a wrapper. If you want a primitive, always use <code>Long.parseLong</code> / <code>Integer.parseInt</code> / <code>Short.parseShort</code> &#39; / <code>Byte.parseByte</code>."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671370804,"post_id":74817419,"comment_id":132080825,"body_markdown":"@AlexanderIvanchenko I considered your point when drafting the Answer. The Question does not really focus on the issue of conserving memory. If we put that issue aside, then using `short` can be useful in expressing the fact that the programmer has determined the domains range of values fit within the range of that type.","body":"@AlexanderIvanchenko I considered your point when drafting the Answer. The Question does not really focus on the issue of conserving memory. If we put that issue aside, then using <code>short</code> can be useful in expressing the fact that the programmer has determined the domains range of values fit within the range of that type."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671417869,"post_id":74817419,"comment_id":132088256,"body_markdown":"Ok, fair point.","body":"Ok, fair point."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671418262,"post_id":74817419,"comment_id":132088314,"body_markdown":"As an opinionated remark: I would treat a whole number as `int` even they can fit into `byte` (if there&#39;s no requirement to plug `byte` value somewhere).","body":"As an opinionated remark: I would treat a whole number as <code>int</code> even they can fit into <code>byte</code> (if there&#39;s no requirement to plug <code>byte</code> value somewhere)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671429196,"post_id":74817419,"comment_id":132089568,"body_markdown":"@AlexanderIvanchenko And, thanks for your feedback and suggestions. And also thank you for your recent edit to fix a different Answer of mine.","body":"@AlexanderIvanchenko And, thanks for your feedback and suggestions. And also thank you for your recent edit to fix a different Answer of mine."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671137464,"creation_date":1671137464,"answer_id":74817419,"question_id":74813177,"body_markdown":"You asked:\r\n\r\n&gt; how to decide whether to use Long.valueOf() or is sufficient Integer.valueOf() \r\n\r\nWell, you have to know the kind of data expected to be used in your app.\r\n\r\nEach numeric integer type has a limit on its range. \r\n\r\n - If you know for certain the [domain][1] of values valid in your context, choose the most limited type to appropriately represent that fact.\r\n - If you do *not* know the domain of possible values, then go with the biggest possible range: `long`/`Long`. \r\n\r\nA `long`/`Long` is a [64-bit][2] value with a range of `Long.MIN_VALUE` to `Long.MAX_VALUE`, from 2^63-1 through -2^63. The `int`/`Integer` type is a [32-bit][3] value, with a range of a bit more than +/- two billion.\r\n\r\nTo learn the minimum/maximum range of the various types, look at the Javadoc of their wrapper class for their `MIN_VALUE` &amp; `MAX_VALUE` constants. That limit applies to both the respective primitive type and the object type.\r\n\r\n - [`Byte`][4]\r\n - [`Short`][5]\r\n - [`Integer`][6]\r\n - [`Long`][7]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_domain\r\n  [2]: https://en.wikipedia.org/wiki/64-bit_computing\r\n  [3]: https://en.wikipedia.org/wiki/32-bit\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Byte.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Short.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html","title":"Java: Converting a string to long or integer","body":"<p>You asked:</p>\n<blockquote>\n<p>how to decide whether to use Long.valueOf() or is sufficient Integer.valueOf()</p>\n</blockquote>\n<p>Well, you have to know the kind of data expected to be used in your app.</p>\n<p>Each numeric integer type has a limit on its range.</p>\n<ul>\n<li>If you know for certain the <a href=\"https://en.wikipedia.org/wiki/Data_domain\" rel=\"nofollow noreferrer\">domain</a> of values valid in your context, choose the most limited type to appropriately represent that fact.</li>\n<li>If you do <em>not</em> know the domain of possible values, then go with the biggest possible range: <code>long</code>/<code>Long</code>.</li>\n</ul>\n<p>A <code>long</code>/<code>Long</code> is a <a href=\"https://en.wikipedia.org/wiki/64-bit_computing\" rel=\"nofollow noreferrer\">64-bit</a> value with a range of <code>Long.MIN_VALUE</code> to <code>Long.MAX_VALUE</code>, from 2^63-1 through -2^63. The <code>int</code>/<code>Integer</code> type is a <a href=\"https://en.wikipedia.org/wiki/32-bit\" rel=\"nofollow noreferrer\">32-bit</a> value, with a range of a bit more than +/- two billion.</p>\n<p>To learn the minimum/maximum range of the various types, look at the Javadoc of their wrapper class for their <code>MIN_VALUE</code> &amp; <code>MAX_VALUE</code> constants. That limit applies to both the respective primitive type and the object type.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Byte.html\" rel=\"nofollow noreferrer\"><code>Byte</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Short.html\" rel=\"nofollow noreferrer\"><code>Short</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a></li>\n</ul>\n"}],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrveanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1671137464,"creation_date":1671114898,"question_id":74813177,"body_markdown":"I have a string representing a numerical value, how to decide whether to use `Long.valueOf()` or is sufficient `Integer.valueOf()`? The question may be extended to consider the whole range of types:  `byte`, `short`, `int` and `long`.  ","title":"Java: Converting a string to long or integer","body":"<p>I have a string representing a numerical value, how to decide whether to use <code>Long.valueOf()</code> or is sufficient <code>Integer.valueOf()</code>? The question may be extended to consider the whole range of types:  <code>byte</code>, <code>short</code>, <code>int</code> and <code>long</code>.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1415203997,"post_id":26761714,"comment_id":42104997,"body_markdown":"&quot;is not working.&quot; is not a working error description. Please be more specific. Are there compile time errors or is it printing &quot;I&#39;m on strike today, try again later.&quot;?","body":"&quot;is not working.&quot; is not a working error description. Please be more specific. Are there compile time errors or is it printing &quot;I&#39;m on strike today, try again later.&quot;?"},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415204188,"post_id":26761714,"comment_id":42105137,"body_markdown":"reversing is not working","body":"reversing is not working"},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415204204,"post_id":26761714,"comment_id":42105151,"body_markdown":"only the first number in the list is printed","body":"only the first number in the list is printed"},{"owner":{"account_id":124783,"reputation":4934,"user_id":320104,"accept_rate":79,"display_name":"WBAR"},"score":0,"creation_date":1415204213,"post_id":26761714,"comment_id":42105159,"body_markdown":"`rev(list, list)` is used for ? Reverse list or that ? why two list as input","body":"<code>rev(list, list)</code> is used for ? Reverse list or that ? why two list as input"},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415204266,"post_id":26761714,"comment_id":42105197,"body_markdown":"one for start and another for intermediate","body":"one for start and another for intermediate"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":2,"creation_date":1415204326,"post_id":26761714,"comment_id":42105237,"body_markdown":"I believe you will find the error if you make your code more readable","body":"I believe you will find the error if you make your code more readable"}],"answers":[{"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1415206219,"post_id":26762123,"comment_id":42106511,"body_markdown":"Note that C also passes arguments only by value.","body":"Note that C also passes arguments only by value."},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415206346,"post_id":26762123,"comment_id":42106604,"body_markdown":"NOT WORKING ITS SHOWING NOTHING","body":"NOT WORKING ITS SHOWING NOTHING"},{"owner":{"account_id":4872274,"reputation":34930,"user_id":3928341,"display_name":"nem035"},"score":0,"creation_date":1415210555,"post_id":26762123,"comment_id":42108967,"body_markdown":"@AbhishekDutta there is no need for caps-locking sir :). Also, I know this code works because I wrote it and tested it [**myself**](http://stojanovicnemanja.com/code/java/linked-lists/reverse-a-linked-list/). If you make your code cleaner and easier to read by using the Java Naming Conventions I suggested above and you show exactly what the problem is (what is the specific error, is something wrong with the output etc.) I have no problem helping you solve it.","body":"@AbhishekDutta there is no need for caps-locking sir :). Also, I know this code works because I wrote it and tested it <a href=\"http://stojanovicnemanja.com/code/java/linked-lists/reverse-a-linked-list/\" rel=\"nofollow noreferrer\"><b>myself</b></a>. If you make your code cleaner and easier to read by using the Java Naming Conventions I suggested above and you show exactly what the problem is (what is the specific error, is something wrong with the output etc.) I have no problem helping you solve it."},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415259439,"post_id":26762123,"comment_id":42127158,"body_markdown":"sorry for caps locking the code can reverse the list. its showing only the value of first node","body":"sorry for caps locking the code can reverse the list. its showing only the value of first node"},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415334069,"post_id":26762123,"comment_id":42162884,"body_markdown":"giving result 0 please help me","body":"giving result 0 please help me"}],"tags":[],"owner":{"account_id":4872274,"reputation":34930,"user_id":3928341,"display_name":"nem035"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415210306,"creation_date":1415204733,"answer_id":26762123,"question_id":26761714,"body_markdown":"First thing you should do is get yourself familiar with [Java Naming Conventions][1] because it will make your code cleaner and more understandable. Your current code doesn&#39;t distinguish between classes or methods or variables.\r\n\r\nSecondly, it seems like you are coming from a C++ background and don&#39;t know that Java always [passes by value][2]\r\n\r\nHere is one thing you are doing that makes no sense:\r\n\r\n    void rev(list lst,list lst1)\r\n    {\r\n\r\n        lst1=null;  // this is pointless, essentially, you are using a passed argument as a local variable. \r\n        // ...\r\n\r\nThe code bellow is practically equivalent:\r\n\r\n    void rev(list lst)\r\n    {\r\n\r\n        list lst1=null; //just create lst1 right here, don&#39;t need to pass it in as a parameter\r\n        // ...\r\n\r\nNow, I will not go into cleaning your whole code but I will give you the algorithm to reverse a Linked List that you can incorporate into your program:\r\n\r\n    public Node reverseList(Node head) {\r\n\t\tNode newHead = null; \t\t// New head of the reversed list\r\n\t\tNode prev, curr, next;     \t// Tracker pointers to previous, current and next node\r\n\t\tprev = null;\r\n\t\tcurr = head;\r\n\t\tnext = null;\r\n\t\twhile(curr != null) { \t\t// Iterate through the list\r\n\t\t\tnext = curr.next; \t    // Remember the next node\r\n\t\t\tcurr.next = prev;       // Point the current node to the previous\r\n\t\t\tprev = curr;            // Update the previous node tracker to the current node\r\n\t\t\tcurr = next;            // Update the current node tracker to the next node\r\n\t\t\tif(next == null) {      // If we reached list end, store the new head\r\n\t\t\t\tnewHead = prev;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn newHead;\r\n\t}\r\n\r\n  [1]: http://java.about.com/od/javasyntax/a/nameconventions.htm\r\n  [2]: https://stackoverflow.com/a/12429953/3928341","title":"Program to reverse a linked list in Java","body":"<p>First thing you should do is get yourself familiar with <a href=\"http://java.about.com/od/javasyntax/a/nameconventions.htm\" rel=\"nofollow noreferrer\">Java Naming Conventions</a> because it will make your code cleaner and more understandable. Your current code doesn't distinguish between classes or methods or variables.</p>\n\n<p>Secondly, it seems like you are coming from a C++ background and don't know that Java always <a href=\"https://stackoverflow.com/a/12429953/3928341\">passes by value</a></p>\n\n<p>Here is one thing you are doing that makes no sense:</p>\n\n<pre><code>void rev(list lst,list lst1)\n{\n\n    lst1=null;  // this is pointless, essentially, you are using a passed argument as a local variable. \n    // ...\n</code></pre>\n\n<p>The code bellow is practically equivalent:</p>\n\n<pre><code>void rev(list lst)\n{\n\n    list lst1=null; //just create lst1 right here, don't need to pass it in as a parameter\n    // ...\n</code></pre>\n\n<p>Now, I will not go into cleaning your whole code but I will give you the algorithm to reverse a Linked List that you can incorporate into your program:</p>\n\n<pre><code>public Node reverseList(Node head) {\n    Node newHead = null;        // New head of the reversed list\n    Node prev, curr, next;      // Tracker pointers to previous, current and next node\n    prev = null;\n    curr = head;\n    next = null;\n    while(curr != null) {       // Iterate through the list\n        next = curr.next;       // Remember the next node\n        curr.next = prev;       // Point the current node to the previous\n        prev = curr;            // Update the previous node tracker to the current node\n        curr = next;            // Update the current node tracker to the next node\n        if(next == null) {      // If we reached list end, store the new head\n            newHead = prev;\n        }\n    }\n    return newHead;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415207029,"post_id":26762227,"comment_id":42107038,"body_markdown":"CANT USE INBUILT METHOD","body":"CANT USE INBUILT METHOD"},{"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"score":0,"creation_date":1415209234,"post_id":26762227,"comment_id":42108268,"body_markdown":"Can anyone make necessary change in my original code that i have posted. It would be of great help to me","body":"Can anyone make necessary change in my original code that i have posted. It would be of great help to me"},{"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"score":0,"creation_date":1415211049,"post_id":26762227,"comment_id":42109213,"body_markdown":"Let&#39;s see what we can do for you.wait.","body":"Let&#39;s see what we can do for you.wait."},{"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"score":0,"creation_date":1415271469,"post_id":26762227,"comment_id":42133482,"body_markdown":"@AbhishekDutta:i had added a new answer.check it.","body":"@AbhishekDutta:i had added a new answer.check it."}],"tags":[],"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415205033,"creation_date":1415205033,"answer_id":26762227,"question_id":26761714,"body_markdown":"You Can Try this using Java Collection classes:\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    class ReverseList {\r\n\tList&lt;Integer&gt;list=new LinkedList&lt;Integer&gt;();\r\n\t\r\n\tpublic void initializeList(){\r\n\t\tScanner in=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter number of nodes:&quot;);\r\n\t\tint no=Integer.parseInt(in.next());\r\n\t\t\r\n\t\tfor(int i=0;i&lt;no;i++){\r\n\t\t\tlist.add(Integer.parseInt(in.next()));\r\n\t\t}\r\n\t\tin.close();\r\n\t}\r\n\t\r\n\tpublic void displayList(){\r\n\t\tSystem.out.println(list);\r\n\t}\r\n\t\r\n\tpublic void reverseList(){\r\n\t\tList&lt;Integer&gt;list2=new LinkedList&lt;Integer&gt;();\r\n\t\t\r\n\t\tfor(int i=list.size()-1;i&gt;=0;i--){\r\n\t\t\tlist2.add(list.get(i));\r\n\t\t}\r\n\t\tthis.list=list2;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tReverseList rl1=new ReverseList();\r\n\t\trl1.initializeList();\r\n\t\trl1.displayList();\r\n\t\trl1.reverseList();\r\n\t\trl1.displayList();\r\n\t}\r\n    }\r\n","title":"Program to reverse a linked list in Java","body":"<p>You Can Try this using Java Collection classes:</p>\n\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\n\nclass ReverseList {\nList&lt;Integer&gt;list=new LinkedList&lt;Integer&gt;();\n\npublic void initializeList(){\n    Scanner in=new Scanner(System.in);\n    System.out.println(\"Enter number of nodes:\");\n    int no=Integer.parseInt(in.next());\n\n    for(int i=0;i&lt;no;i++){\n        list.add(Integer.parseInt(in.next()));\n    }\n    in.close();\n}\n\npublic void displayList(){\n    System.out.println(list);\n}\n\npublic void reverseList(){\n    List&lt;Integer&gt;list2=new LinkedList&lt;Integer&gt;();\n\n    for(int i=list.size()-1;i&gt;=0;i--){\n        list2.add(list.get(i));\n    }\n    this.list=list2;\n\n}\n\npublic static void main(String[] args) {\n    ReverseList rl1=new ReverseList();\n    rl1.initializeList();\n    rl1.displayList();\n    rl1.reverseList();\n    rl1.displayList();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415206032,"creation_date":1415206032,"answer_id":26762572,"question_id":26761714,"body_markdown":"Please, *please* follow standard naming conventions.  Doing so will make your code *much* easier to read.  In particular, the names of reference types (classes and interfaces) should begin with capital letters (e.g. `List`) whereas the names of methods and instance variables should begin with lowercase letters.\r\n\r\nHere are some comments on your non-working method:\r\n\r\n    void rev(list lst,list lst1)\r\n    {\r\n\r\n\r\nIt is pointless to pass lst1 if you are immediately going to discard whatever value was passed, as you do here:\r\n\r\n        lst1=null;\r\n\r\nIt is also pointless to initialize variable &#39;ptr&#39; here, as the very first thing you do with it (at the beginning of the loop) is assign a new value.  In fact, it would be cleaner to declare it inside the loop body.\r\n\r\n        list ptr=new list();\r\n\r\nThe following loop looks like it&#39;s probably ok, but consider the state in which it leaves the object initially referenced by the `lst`.  Hint: `lst1` is initialized to `null`.\r\n\r\n        while(lst!=null)\r\n        {\r\n            ptr =lst;\r\n            lst=lst.l;\r\n            ptr.l=lst1;\r\n            lst1=ptr;\r\n        }\r\n\r\nNow consider that Java has only pass-by-value, so whatever references are passed to this method are not changed from the invoker&#39;s perspective.\r\n\r\n    }\r\n\r\nIf you&#39;re still not seeing it, then consider this question: which node is now at the head of the list?\r\n\r\nIn a more general sense, you have a bit of a modelling problem in that your `list` class tries to do double duty representing not only an overall list but also a node in that list.  That can work, and it has properties that could be useful, but it also has properties that can cause trouble.  For instance, you cannot represent an empty list with an instance of your class.  You also cannot usefully reverse a list represented by an instance of your class via a method having the signature of your `rev()`.\r\n","title":"Program to reverse a linked list in Java","body":"<p>Please, <em>please</em> follow standard naming conventions.  Doing so will make your code <em>much</em> easier to read.  In particular, the names of reference types (classes and interfaces) should begin with capital letters (e.g. <code>List</code>) whereas the names of methods and instance variables should begin with lowercase letters.</p>\n\n<p>Here are some comments on your non-working method:</p>\n\n<pre><code>void rev(list lst,list lst1)\n{\n</code></pre>\n\n<p>It is pointless to pass lst1 if you are immediately going to discard whatever value was passed, as you do here:</p>\n\n<pre><code>    lst1=null;\n</code></pre>\n\n<p>It is also pointless to initialize variable 'ptr' here, as the very first thing you do with it (at the beginning of the loop) is assign a new value.  In fact, it would be cleaner to declare it inside the loop body.</p>\n\n<pre><code>    list ptr=new list();\n</code></pre>\n\n<p>The following loop looks like it's probably ok, but consider the state in which it leaves the object initially referenced by the <code>lst</code>.  Hint: <code>lst1</code> is initialized to <code>null</code>.</p>\n\n<pre><code>    while(lst!=null)\n    {\n        ptr =lst;\n        lst=lst.l;\n        ptr.l=lst1;\n        lst1=ptr;\n    }\n</code></pre>\n\n<p>Now consider that Java has only pass-by-value, so whatever references are passed to this method are not changed from the invoker's perspective.</p>\n\n<pre><code>}\n</code></pre>\n\n<p>If you're still not seeing it, then consider this question: which node is now at the head of the list?</p>\n\n<p>In a more general sense, you have a bit of a modelling problem in that your <code>list</code> class tries to do double duty representing not only an overall list but also a node in that list.  That can work, and it has properties that could be useful, but it also has properties that can cause trouble.  For instance, you cannot represent an empty list with an instance of your class.  You also cannot usefully reverse a list represented by an instance of your class via a method having the signature of your <code>rev()</code>.</p>\n"},{"tags":[],"owner":{"account_id":124783,"reputation":4934,"user_id":320104,"accept_rate":79,"display_name":"WBAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415207539,"creation_date":1415207539,"answer_id":26763098,"question_id":26761714,"body_markdown":"Using **Java Class Naming Convention** i prepared and rewrote Your code to work as You asked:\r\n\r\n    import java.io.*;\r\n    public class List\r\n    {\r\n        private Integer data;\r\n        private List next;\r\n    \r\n    \tList(Integer data, List next){\r\n    \t\tthis.data = data;\r\n    \t\tthis.next = next;\r\n    \t}\r\n    \t\r\n        List(){\r\n            this(0);\r\n        }\r\n    \t\r\n    \tList(Integer data) {\r\n    \t\tthis(data, null);\r\n    \t}\r\n    \t\r\n    \tList(List list) {\r\n    \t\tthis(list.getData(), list.getNext());\r\n    \t}\r\n    \t\r\n    \tpublic void setData(Integer data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n    \t\r\n    \tpublic Integer getData() {\r\n    \t\treturn this.data;\r\n    \t}\r\n    \t\r\n    \tpublic void setNext(List next) {\r\n    \t\tthis.next = next;\r\n    \t}\r\n    \t\r\n    \tpublic List getNext() {\r\n    \t\treturn this.next;\r\n    \t}\r\n    \t\r\n    \tprivate List getElementAt(Integer element) {\r\n    \t\tList tmp = this;\r\n            for(int i = 0; i &lt; element; i++){\r\n    \t\t\tif (tmp.getNext() == null) {  // preventing NPE\r\n    \t\t\t\treturn tmp;\r\n    \t\t\t}\r\n                tmp = tmp.getNext();\r\n            }\r\n    \t\treturn tmp;\r\n    \t}\r\n    \r\n        public void add_nodes()throws IOException {\r\n            Integer number_of_nodes;// store number of nodes\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.println(&quot;Enter number of nodes to add&quot;);\r\n            number_of_nodes = Integer.parseInt(br.readLine());\r\n            List ptr = this;\r\n            for(int i = 1 ; i &lt; number_of_nodes ; i++)\r\n            {\r\n                List temp = new List();\r\n                System.out.println(&quot;Enter the next data&quot;);\r\n                temp.setData(Integer.parseInt(br.readLine()));\r\n                ptr.setNext(temp);\r\n                ptr = ptr.getNext();\r\n            }\r\n        }\r\n    \r\n    \t/**\r\n    \t* Function used to cut n-th element from list\r\n    \t*\r\n    \t* @param element - 0 means first element\r\n    \t*/\r\n        public void delete(Integer element){\r\n    \t\tList tmp = this.getElementAt(element);\r\n    \t\tif (tmp.getNext() == null) {\r\n    \t\t\treturn;                // preventing NPE\r\n    \t\t}\r\n            tmp.setNext( tmp.getNext().getNext() ); //cutting\r\n        }\r\n    \r\n        public void insertmid(Integer position, Integer data){\r\n    \t\tList tmp = this.getElementAt(position);\r\n            List element = new List(data, tmp.getNext());\r\n    \t\ttmp.setNext(element);\r\n    \t\t\r\n        }\r\n    \r\n        public void rewind(){\r\n    \t\tList tmp = this;\r\n    \t\tList result = new List(this);\r\n    \t\tresult.setNext(null);\r\n    \t\twhile(tmp.getNext() != null) { \r\n    \t\t\ttmp = tmp.getNext();\r\n    \t\t\tList current = new List(tmp);\r\n    \t\t\tcurrent.setNext(result);\r\n    \t\t\tresult = current;\r\n    \t\t}\r\n    \t\tthis.setData(result.getData());\r\n    \t\tthis.setNext(result.getNext());\r\n        }\r\n    \r\n    \r\n        void display()\r\n        {\r\n            List tmp = this;\r\n            while(tmp != null) {\r\n                System.out.print( tmp.getData() + &quot;\\t&quot;);\r\n                tmp = tmp.getNext();\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void main(String args[])throws IOException\r\n        {\r\n            List list = new List();\r\n    \r\n            list.add_nodes();\r\n            list.display();\r\n            list.insertmid(4, 2);\r\n            list.display();\r\n            list.delete(3);\r\n            list.display();\r\n            list.rewind();\r\n            list.display();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Program to reverse a linked list in Java","body":"<p>Using <strong>Java Class Naming Convention</strong> i prepared and rewrote Your code to work as You asked:</p>\n\n<pre><code>import java.io.*;\npublic class List\n{\n    private Integer data;\n    private List next;\n\n    List(Integer data, List next){\n        this.data = data;\n        this.next = next;\n    }\n\n    List(){\n        this(0);\n    }\n\n    List(Integer data) {\n        this(data, null);\n    }\n\n    List(List list) {\n        this(list.getData(), list.getNext());\n    }\n\n    public void setData(Integer data) {\n        this.data = data;\n    }\n\n    public Integer getData() {\n        return this.data;\n    }\n\n    public void setNext(List next) {\n        this.next = next;\n    }\n\n    public List getNext() {\n        return this.next;\n    }\n\n    private List getElementAt(Integer element) {\n        List tmp = this;\n        for(int i = 0; i &lt; element; i++){\n            if (tmp.getNext() == null) {  // preventing NPE\n                return tmp;\n            }\n            tmp = tmp.getNext();\n        }\n        return tmp;\n    }\n\n    public void add_nodes()throws IOException {\n        Integer number_of_nodes;// store number of nodes\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"Enter number of nodes to add\");\n        number_of_nodes = Integer.parseInt(br.readLine());\n        List ptr = this;\n        for(int i = 1 ; i &lt; number_of_nodes ; i++)\n        {\n            List temp = new List();\n            System.out.println(\"Enter the next data\");\n            temp.setData(Integer.parseInt(br.readLine()));\n            ptr.setNext(temp);\n            ptr = ptr.getNext();\n        }\n    }\n\n    /**\n    * Function used to cut n-th element from list\n    *\n    * @param element - 0 means first element\n    */\n    public void delete(Integer element){\n        List tmp = this.getElementAt(element);\n        if (tmp.getNext() == null) {\n            return;                // preventing NPE\n        }\n        tmp.setNext( tmp.getNext().getNext() ); //cutting\n    }\n\n    public void insertmid(Integer position, Integer data){\n        List tmp = this.getElementAt(position);\n        List element = new List(data, tmp.getNext());\n        tmp.setNext(element);\n\n    }\n\n    public void rewind(){\n        List tmp = this;\n        List result = new List(this);\n        result.setNext(null);\n        while(tmp.getNext() != null) { \n            tmp = tmp.getNext();\n            List current = new List(tmp);\n            current.setNext(result);\n            result = current;\n        }\n        this.setData(result.getData());\n        this.setNext(result.getNext());\n    }\n\n\n    void display()\n    {\n        List tmp = this;\n        while(tmp != null) {\n            System.out.print( tmp.getData() + \"\\t\");\n            tmp = tmp.getNext();\n        }\n        System.out.println();\n    }\n\n    public static void main(String args[])throws IOException\n    {\n        List list = new List();\n\n        list.add_nodes();\n        list.display();\n        list.insertmid(4, 2);\n        list.display();\n        list.delete(3);\n        list.display();\n        list.rewind();\n        list.display();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415272308,"creation_date":1415271416,"answer_id":26777710,"question_id":26761714,"body_markdown":"I had written code only for insert a node in the list at the end.\r\nyou can add a new method(function) to add a node at the beginning and deleting a node from the list according to your requirements.\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n\r\n    class Node{\r\n\tprivate int data;\r\n\tprivate Node next;\r\n\tprivate Node prev;\r\n\t\r\n\tNode(Node n){\r\n\t\tthis.data=n.data;\r\n\t\tthis.next=n.next;\r\n\t\tthis.prev=n.prev;\r\n\t}\r\n\t\r\n\tNode(int data){\r\n\t\tthis.data=data;\r\n\t\tthis.next=null;\r\n\t\tthis.prev=null;\r\n\t}\r\n\tpublic int getData() {return data;}\r\n\tpublic void setData(int data) {this.data = data;}\r\n\t\r\n\tpublic Node getNext() {return next;}\r\n\tpublic void setNext(Node next) {this.next = next;}\r\n\t\r\n\tpublic Node getPrev() {return prev;}\r\n\tpublic void setPrev(Node prev) {this.prev = prev;}\r\n    }\t\r\n\r\n\tclass MyLinkedList{\r\n\t\tprivate Node start;\r\n\t\tprivate Node end;\r\n\t\t\r\n\t\t\r\n\t\tpublic Node getStart() {\r\n\t\t\treturn start;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setStart(Node start) {\r\n\t\t\tthis.start = start;\r\n\t\t}\r\n\r\n\r\n\t\tpublic Node getEnd() {\r\n\t\t\treturn end;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setEnd(Node end) {\r\n\t\t\tthis.end = end;\r\n\t\t}\r\n\r\n\r\n\t\tpublic boolean isEmpty(){\r\n\t\t\treturn start==null;\r\n\t\t}\r\n\t\t\r\n\t\t//data from arguments\r\n\t\tpublic void addNode(int data) throws NumberFormatException, IOException{\r\n\t\t\t\r\n\t\t\tNode n=new Node(data);\r\n\t\t\tif(isEmpty()){\r\n\t\t\t\tstart=end=n;\r\n\t\t\t}else\r\n\t\t\t\tif(start==end){\r\n\t\t\t\t\tstart.setNext(n);\r\n\t\t\t\t\tn.setPrev(start);\r\n\t\t\t\t\tend=n;\r\n\t\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tend.setNext(n);\r\n\t\t\t\tn.setPrev(end);\r\n\t\t\t\tend=n;\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tpublic void reverse() throws NumberFormatException, IOException{\r\n\t\t\tMyLinkedList revList=new MyLinkedList();\r\n\t\t\tNode currNode=this.getEnd();\r\n\t\t\t\r\n\t\t\tdo{\r\n\t\t\t\t\r\n\t\t\t\trevList.addNode(currNode.getData());\r\n\t\t\t\tcurrNode=currNode.getPrev();\r\n\t\t\t}while(currNode!=null);\r\n\t\t\t\r\n\t\t\tthis.start=revList.getStart();\r\n\t\t\tthis.end=revList.getEnd();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void traverseFromStart(){\r\n\t\t\tNode n=start;\r\n\t\t\tdo{\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(n.getData()+&quot;--&gt;&quot;);\r\n\t\t\t\tn=n.getNext();\r\n\t\t\t}while(n!=null);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void traverseFromEnd(){\r\n\t\t\tNode n=end;\r\n\t\t\tdo{\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(n.getData()+&quot;--&gt;&quot;);\r\n\t\t\t\tn=n.getPrev();\r\n\t\t\t}while(n!=null);\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws NumberFormatException, IOException {\r\n\t\t\tMyLinkedList list=new MyLinkedList();\r\n\t\t\tSystem.out.print(&quot;Enter No. of Nodes:&quot;);\r\n\t\t\tBufferedReader in=new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tint noOfNodes=Integer.parseInt(in.readLine());\r\n\t\t\t\r\n\t\t\tfor(int i=0;i&lt;noOfNodes;i++){\r\n\t\t\t\tSystem.out.print(&quot;Enter value of this node:&quot;);\r\n\t\t\t\t\r\n\t\t\t\tlist.addNode(Integer.parseInt(in.readLine()));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tlist.traverseFromStart();\r\n\t\t\tlist.traverseFromEnd();\r\n\t\t\tlist.reverse();\r\n\t\t\tlist.traverseFromStart();\r\n\t\t\tlist.traverseFromEnd();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n \r\n\r\n","title":"Program to reverse a linked list in Java","body":"<p>I had written code only for insert a node in the list at the end.\nyou can add a new method(function) to add a node at the beginning and deleting a node from the list according to your requirements.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nclass Node{\nprivate int data;\nprivate Node next;\nprivate Node prev;\n\nNode(Node n){\n    this.data=n.data;\n    this.next=n.next;\n    this.prev=n.prev;\n}\n\nNode(int data){\n    this.data=data;\n    this.next=null;\n    this.prev=null;\n}\npublic int getData() {return data;}\npublic void setData(int data) {this.data = data;}\n\npublic Node getNext() {return next;}\npublic void setNext(Node next) {this.next = next;}\n\npublic Node getPrev() {return prev;}\npublic void setPrev(Node prev) {this.prev = prev;}\n}   \n\nclass MyLinkedList{\n    private Node start;\n    private Node end;\n\n\n    public Node getStart() {\n        return start;\n    }\n\n\n    public void setStart(Node start) {\n        this.start = start;\n    }\n\n\n    public Node getEnd() {\n        return end;\n    }\n\n\n    public void setEnd(Node end) {\n        this.end = end;\n    }\n\n\n    public boolean isEmpty(){\n        return start==null;\n    }\n\n    //data from arguments\n    public void addNode(int data) throws NumberFormatException, IOException{\n\n        Node n=new Node(data);\n        if(isEmpty()){\n            start=end=n;\n        }else\n            if(start==end){\n                start.setNext(n);\n                n.setPrev(start);\n                end=n;\n            }\n        else{\n            end.setNext(n);\n            n.setPrev(end);\n            end=n;\n        }\n\n    }\n\n\n\n    public void reverse() throws NumberFormatException, IOException{\n        MyLinkedList revList=new MyLinkedList();\n        Node currNode=this.getEnd();\n\n        do{\n\n            revList.addNode(currNode.getData());\n            currNode=currNode.getPrev();\n        }while(currNode!=null);\n\n        this.start=revList.getStart();\n        this.end=revList.getEnd();\n    }\n\n    public void traverseFromStart(){\n        Node n=start;\n        do{\n\n            System.out.print(n.getData()+\"--&gt;\");\n            n=n.getNext();\n        }while(n!=null);\n        System.out.println();\n    }\n\n    public void traverseFromEnd(){\n        Node n=end;\n        do{\n\n            System.out.print(n.getData()+\"--&gt;\");\n            n=n.getPrev();\n        }while(n!=null);\n        System.out.println();\n    }\n\n    public static void main(String[] args) throws NumberFormatException, IOException {\n        MyLinkedList list=new MyLinkedList();\n        System.out.print(\"Enter No. of Nodes:\");\n        BufferedReader in=new BufferedReader(new InputStreamReader(System.in));\n        int noOfNodes=Integer.parseInt(in.readLine());\n\n        for(int i=0;i&lt;noOfNodes;i++){\n            System.out.print(\"Enter value of this node:\");\n\n            list.addNode(Integer.parseInt(in.readLine()));\n        }\n\n\n        list.traverseFromStart();\n        list.traverseFromEnd();\n        list.reverse();\n        list.traverseFromStart();\n        list.traverseFromEnd();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27266068,"reputation":1,"user_id":20788082,"display_name":"king"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671137324,"creation_date":1671137324,"answer_id":74817398,"question_id":26761714,"body_markdown":"To do this, the code iterates over the elements in the list using a for-each loop and concatenates each element to the front of a string variable called output. After the loop is finished, the code prints out the output string.\r\n\r\n\r\n\r\n        public static void reverseList(LinkedList&lt;String&gt; list) {\r\n\t\tString output = &quot;&quot;;\r\n\t\tfor (String element : list) {\r\n\t\t\toutput = element + &quot; &quot; + output;\r\n\t\t}\r\n\t\tSystem.out.println(output);\r\n\t}","title":"Program to reverse a linked list in Java","body":"<p>To do this, the code iterates over the elements in the list using a for-each loop and concatenates each element to the front of a string variable called output. After the loop is finished, the code prints out the output string.</p>\n<pre><code>    public static void reverseList(LinkedList&lt;String&gt; list) {\n    String output = &quot;&quot;;\n    for (String element : list) {\n        output = element + &quot; &quot; + output;\n    }\n    System.out.println(output);\n}\n</code></pre>\n"}],"owner":{"account_id":5284997,"reputation":31,"user_id":4219293,"display_name":"Abhishek Dutta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":6,"score":0,"last_activity_date":1671137324,"creation_date":1415203564,"question_id":26761714,"body_markdown":"I have written the following code, in which method `rev(list,list)` is not working.  Please help me determine what&#39;s wrong.\r\n\r\n    import java.io.*;\r\n    public class list\r\n    {\r\n        int d;\r\n        list l;\r\n        list()\r\n        {\r\n            d=0;\r\n            l=null;\r\n        }\r\n    \r\n        void create()throws IOException\r\n        {\r\n            int n;// store number of nodes\r\n            BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.println(&quot;Enter the first data&quot;);\r\n            this.d=Integer.parseInt(br.readLine());\r\n            System.out.println(&quot;Enter number of nodes to be made&quot;);\r\n            n=Integer.parseInt(br.readLine());\r\n            list temp;\r\n            list ptr=this;\r\n            for(int i=1;i&lt;n;i++)\r\n            {\r\n                temp=new list();\r\n                System.out.println(&quot;Enter the next data&quot;);\r\n                temp.d=Integer.parseInt(br.readLine());\r\n                temp.l=null;\r\n                ptr.l=temp;\r\n                temp=null;\r\n                ptr=ptr.l;\r\n            }\r\n        }\r\n    \r\n        void delete(list lst, int n)\r\n        {\r\n            list ptr=lst;\r\n            list ptr1=ptr;\r\n            int c=1;\r\n            while(c&lt;n)\r\n            {\r\n                ptr1=ptr;\r\n                ptr=ptr.l;\r\n                c++;\r\n            }\r\n            ptr1.l=ptr.l;\r\n            ptr.l=null;\r\n            ptr=null;\r\n            ptr1=null;\r\n        }\r\n    \r\n        void insertmid(list lst,int x, int n)\r\n        {\r\n            list temp=new list();\r\n            temp.d=x;\r\n            temp.l=null;\r\n            list ptr=lst;\r\n            int c=1;\r\n            while(c&lt;n)\r\n            {\r\n                ptr=ptr.l;\r\n                c++;\r\n            }\r\n            temp.l=ptr.l;\r\n            ptr.l=temp;\r\n        }\r\n    \r\n        void rev(list lst,list lst1)\r\n        {\r\n    \r\n            lst1=null;\r\n            list ptr=new list();\r\n            \r\n            while(lst!=null)\r\n            {\r\n                ptr =lst;\r\n                lst=lst.l;\r\n                ptr.l=lst1;\r\n                lst1=ptr;\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        void display()\r\n        {\r\n            list ptr=this;\r\n    \r\n            while(ptr!=null)\r\n            {\r\n                System.out.print(ptr.d+&quot;\\t&quot;);\r\n                ptr=ptr.l;\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void main(String args[])throws IOException\r\n        {\r\n            list l2=new list();\r\n            list l3=new list();\r\n    \r\n            l2.create();\r\n            l2.display();\r\n            l2.insertmid(l2,14,2);\r\n            l2.display();\r\n            l2.delete(l2, 3);\r\n            l2.display();\r\n            l2.rev(l2,l3);\r\n            l2.display();\r\n    \r\n        }\r\n    }\r\n","title":"Program to reverse a linked list in Java","body":"<p>I have written the following code, in which method <code>rev(list,list)</code> is not working.  Please help me determine what's wrong.</p>\n\n<pre><code>import java.io.*;\npublic class list\n{\n    int d;\n    list l;\n    list()\n    {\n        d=0;\n        l=null;\n    }\n\n    void create()throws IOException\n    {\n        int n;// store number of nodes\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"Enter the first data\");\n        this.d=Integer.parseInt(br.readLine());\n        System.out.println(\"Enter number of nodes to be made\");\n        n=Integer.parseInt(br.readLine());\n        list temp;\n        list ptr=this;\n        for(int i=1;i&lt;n;i++)\n        {\n            temp=new list();\n            System.out.println(\"Enter the next data\");\n            temp.d=Integer.parseInt(br.readLine());\n            temp.l=null;\n            ptr.l=temp;\n            temp=null;\n            ptr=ptr.l;\n        }\n    }\n\n    void delete(list lst, int n)\n    {\n        list ptr=lst;\n        list ptr1=ptr;\n        int c=1;\n        while(c&lt;n)\n        {\n            ptr1=ptr;\n            ptr=ptr.l;\n            c++;\n        }\n        ptr1.l=ptr.l;\n        ptr.l=null;\n        ptr=null;\n        ptr1=null;\n    }\n\n    void insertmid(list lst,int x, int n)\n    {\n        list temp=new list();\n        temp.d=x;\n        temp.l=null;\n        list ptr=lst;\n        int c=1;\n        while(c&lt;n)\n        {\n            ptr=ptr.l;\n            c++;\n        }\n        temp.l=ptr.l;\n        ptr.l=temp;\n    }\n\n    void rev(list lst,list lst1)\n    {\n\n        lst1=null;\n        list ptr=new list();\n\n        while(lst!=null)\n        {\n            ptr =lst;\n            lst=lst.l;\n            ptr.l=lst1;\n            lst1=ptr;\n\n        }\n    }\n\n\n    void display()\n    {\n        list ptr=this;\n\n        while(ptr!=null)\n        {\n            System.out.print(ptr.d+\"\\t\");\n            ptr=ptr.l;\n        }\n        System.out.println();\n    }\n\n    public static void main(String args[])throws IOException\n    {\n        list l2=new list();\n        list l3=new list();\n\n        l2.create();\n        l2.display();\n        l2.insertmid(l2,14,2);\n        l2.display();\n        l2.delete(l2, 3);\n        l2.display();\n        l2.rev(l2,l3);\n        l2.display();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","spring-boot","concurrency","threadpool"],"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1698929017,"post_id":74006443,"comment_id":136468199,"body_markdown":"SimpleAsyncTaskExecutor fires up a new Thread for each task. So it is not used at all because you actually disabled @EnableAsync capability.","body":"SimpleAsyncTaskExecutor fires up a new Thread for each task. So it is not used at all because you actually disabled @EnableAsync capability."}],"answers":[{"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671136805,"creation_date":1671136805,"answer_id":74817314,"question_id":74006443,"body_markdown":"When you delete the configuration class `ConfigExecutor`, you also disable asynchronous method execution capability feature enabled using the `@EnableAsync` annotation. Then your calls will be executed synchronously using the calling thread (in this case `http-nio-8080-exec-1`, which is handling your request).\r\n\r\nIf you don&#39;t create `ThreadPoolTaskExecutor` bean, then the default `ThreadPoolTaskExecutor` will be created using configuration class `org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration`.\r\n\r\nThe `ThreadPoolTaskExecutor` uses internally `ThreadPoolExecutor`, therefore `ThreadPoolTaskExecutor` can be seen as a wrapper for `ThreadPoolExecutor` enabling it to be configured in Spring application using configuration properties.","title":"Does SimpleAsyncTaskExecutor use only one thread without concurrency in Spring Boot?","body":"<p>When you delete the configuration class <code>ConfigExecutor</code>, you also disable asynchronous method execution capability feature enabled using the <code>@EnableAsync</code> annotation. Then your calls will be executed synchronously using the calling thread (in this case <code>http-nio-8080-exec-1</code>, which is handling your request).</p>\n<p>If you don't create <code>ThreadPoolTaskExecutor</code> bean, then the default <code>ThreadPoolTaskExecutor</code> will be created using configuration class <code>org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration</code>.</p>\n<p>The <code>ThreadPoolTaskExecutor</code> uses internally <code>ThreadPoolExecutor</code>, therefore <code>ThreadPoolTaskExecutor</code> can be seen as a wrapper for <code>ThreadPoolExecutor</code> enabling it to be configured in Spring application using configuration properties.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671136805,"creation_date":1665332366,"question_id":74006443,"body_markdown":"I&#39;m learning about ThreadPoolTaskExecutor in Spring Boot Microservice. And I have a couple of microservice like accounts, cards, loans with h2 database. And I did some tests, one test is creating the bean ThreadPoolTaskExecutor. \r\n\r\nSo I have only this code:\r\n\r\n        @PostMapping(&quot;/myCustomerDetails&quot;)\r\n        public ResponseEntity&lt;CustomerDetails&gt; myCustomerDetails(\r\n                @RequestBody Customer customer) {\r\n    \r\n            CustomerDetails customerDetails;\r\n    \r\n            try {\r\n                long startRequestTime = System.currentTimeMillis();\r\n                logger.info(&quot;Started thread requests&quot;);\r\n    \r\n                CompletableFuture&lt;Accounts&gt; accountDetails =\r\n                        retrieveDetailsAsync.getAccountsDetails(customer.getCustomerId());\r\n    \r\n                CompletableFuture&lt;List&lt;Loans&gt;&gt; loansDetails =\r\n                        retrieveDetailsAsync.getLoansDetails(correlationId, customer);\r\n    \r\n                CompletableFuture&lt;List&lt;Cards&gt;&gt; cardsDetails =\r\n                        retrieveDetailsAsync.getCardsDetails(correlationId, customer);\r\n    \r\n                logger.info(&quot;Awaiting threads request to be completed&quot;);\r\n                CompletableFuture.allOf(loansDetails, cardsDetails).join();\r\n    \r\n                Accounts account = accountDetails.get();\r\n    \r\n                List&lt;Loans&gt; loansList = new ArrayList&lt;&gt;();\r\n                List&lt;Cards&gt; cardsList = new ArrayList&lt;&gt;();\r\n    \r\n                try {\r\n                    loansList.addAll(loansDetails.get());\r\n                } catch (ExecutionException | InterruptedException ex) {\r\n                    logger.warn(ex.toString());\r\n                    logger.warn(&quot;The call to GET loans details failed! Returning empty contactDetails body!&quot;);\r\n                }\r\n    \r\n                try {\r\n                    cardsList.addAll(cardsDetails.get());\r\n                } catch (ExecutionException | InterruptedException ex) {\r\n                    logger.warn(ex.toString());\r\n                    logger.warn(&quot;The call to GET cards details failed! Returning empty contactDetails body!&quot;);\r\n                }\r\n    \r\n                ...\r\n            } catch (Exception ex) {\r\n                logger.warn(&quot;Exception is ---&gt;&gt;&gt; {}&quot;, ex.toString());\r\n                logger.warn(&quot;The call to GET account from database failed!&quot;);\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n    \r\n            return ResponseEntity.status(HttpStatus.OK).body(customerDetails);\r\n        }\r\n\r\nThe Async methods:\r\n\r\n    @Async(&quot;taskExecutor&quot;)\r\n    public CompletableFuture&lt;Accounts&gt; getAccountsDetails(int customerId)\r\n            throws InterruptedException {\r\n    \r\n        log.info(&quot;Attempting to retrieve accounts details, thread =  {}&quot;, Thread.currentThread().getName());\r\n        Accounts accountDetails = accountsRepository.findByCustomerId(customerId);\r\n    \r\n        return CompletableFuture.completedFuture(accountDetails);\r\n    }\r\n    \r\n    @Async(&quot;taskExecutor&quot;)\r\n    public CompletableFuture&lt;List&lt;Loans&gt;&gt; getLoansDetails(\r\n            String correlationId, Customer customer) throws InterruptedException {\r\n    \r\n        log.info(&quot;Attempting to retrieve loans details, thread =  {}&quot;, Thread.currentThread().getName());\r\n        List&lt;Loans&gt; loansDetails =\r\n                loansFeignClient.getLoansDetails(correlationId, customer);\r\n    \r\n        return CompletableFuture.completedFuture(loansDetails);\r\n    }\r\n    \r\n    @Async(&quot;taskExecutor&quot;)\r\n    public CompletableFuture&lt;List&lt;Cards&gt;&gt; getCardsDetails(\r\n            String correlationId, Customer customer) throws Exception {\r\n    \r\n        log.info(&quot;Attempting to retrieve cards details, thread =  {}&quot;, Thread.currentThread().getName());\r\n        List&lt;Cards&gt; cardDetails =\r\n                cardsFeignClient.getCardDetails(correlationId, customer);\r\n    \r\n        return CompletableFuture.completedFuture(cardDetails);\r\n    }\r\n\r\nThe configuration class:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class ConfigExecutor {\r\n    \r\n        @Bean(name = &quot;taskExecutor&quot;)\r\n        public Executor taskExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(2);\r\n            executor.setMaxPoolSize(2);\r\n            executor.setQueueCapacity(100);\r\n            executor.setThreadNamePrefix(&quot;userThread-&quot;);\r\n            executor.initialize();\r\n    \r\n            return executor;\r\n        }\r\n    }\r\n\r\nUsing this code, the app works properly, I see in the logs that it creates 2 threads and uses the 2 threads for the 3 request. But if I delete the configuration class (so I don&#39;t configure the ThreadPoolTaskExecutor bean), the app compiles and runs perfectly, but I see in the logs that it uses only one thread:\r\n\r\n    2022-10-09 18:50:56.027  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\r\n    ieve accounts details, thread =  http-nio-8080-exec-1\r\n    Hibernate: select accounts0_.account_number as account_1_0_, accounts0_.account_type as account_2_0_, accounts0_.branch_address as branch_a3_0_, accounts0_.create_\r\n    dt as create_d4_0_, accounts0_.customer_id as customer5_0_ from accounts accounts0_ where accounts0_.customer_id=?\r\n    2022-10-09 18:50:56.341  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\r\n    ieve loans details, thread =  http-nio-8080-exec-1\r\n    2022-10-09 18:50:57.701  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\r\n    ieve cards details, thread =  http-nio-8080-exec-1\r\n\r\nIt look s that it creates and uses only one thread. So the 3 requests aren&#39;t done concurrently? From my research I understand that if I don&#39;t configure this ThreadPoolTaskExecutor bean, it will use SimpleAsyncTaskExecutor by default. If there is only one thread http-nio-8080-exec-1, does this mean that first request uses this thread, after the request is finished, the second request uses the same thread and after that the third request uses the same thread. So the request aren&#39;t done concurrently? \r\n\r\nAnd another question is about ThreadPoolExecutor (the implementation for ExecutorService interface). What exactly is the difference between ThreadPoolTaskExecutor and ThreadPoolExecutor. Is the difference only the fact that the first is from spring framework and the second is from JEE? Because I see that both uses tasks concurrently? And because ThreadPoolTaskExecutor is from Spring framework, it is better to use it in Spring Boot projects. Thank you for response! ","title":"Does SimpleAsyncTaskExecutor use only one thread without concurrency in Spring Boot?","body":"<p>I'm learning about ThreadPoolTaskExecutor in Spring Boot Microservice. And I have a couple of microservice like accounts, cards, loans with h2 database. And I did some tests, one test is creating the bean ThreadPoolTaskExecutor.</p>\n<p>So I have only this code:</p>\n<pre><code>    @PostMapping(&quot;/myCustomerDetails&quot;)\n    public ResponseEntity&lt;CustomerDetails&gt; myCustomerDetails(\n            @RequestBody Customer customer) {\n\n        CustomerDetails customerDetails;\n\n        try {\n            long startRequestTime = System.currentTimeMillis();\n            logger.info(&quot;Started thread requests&quot;);\n\n            CompletableFuture&lt;Accounts&gt; accountDetails =\n                    retrieveDetailsAsync.getAccountsDetails(customer.getCustomerId());\n\n            CompletableFuture&lt;List&lt;Loans&gt;&gt; loansDetails =\n                    retrieveDetailsAsync.getLoansDetails(correlationId, customer);\n\n            CompletableFuture&lt;List&lt;Cards&gt;&gt; cardsDetails =\n                    retrieveDetailsAsync.getCardsDetails(correlationId, customer);\n\n            logger.info(&quot;Awaiting threads request to be completed&quot;);\n            CompletableFuture.allOf(loansDetails, cardsDetails).join();\n\n            Accounts account = accountDetails.get();\n\n            List&lt;Loans&gt; loansList = new ArrayList&lt;&gt;();\n            List&lt;Cards&gt; cardsList = new ArrayList&lt;&gt;();\n\n            try {\n                loansList.addAll(loansDetails.get());\n            } catch (ExecutionException | InterruptedException ex) {\n                logger.warn(ex.toString());\n                logger.warn(&quot;The call to GET loans details failed! Returning empty contactDetails body!&quot;);\n            }\n\n            try {\n                cardsList.addAll(cardsDetails.get());\n            } catch (ExecutionException | InterruptedException ex) {\n                logger.warn(ex.toString());\n                logger.warn(&quot;The call to GET cards details failed! Returning empty contactDetails body!&quot;);\n            }\n\n            ...\n        } catch (Exception ex) {\n            logger.warn(&quot;Exception is ---&gt;&gt;&gt; {}&quot;, ex.toString());\n            logger.warn(&quot;The call to GET account from database failed!&quot;);\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n\n        return ResponseEntity.status(HttpStatus.OK).body(customerDetails);\n    }\n</code></pre>\n<p>The Async methods:</p>\n<pre><code>@Async(&quot;taskExecutor&quot;)\npublic CompletableFuture&lt;Accounts&gt; getAccountsDetails(int customerId)\n        throws InterruptedException {\n\n    log.info(&quot;Attempting to retrieve accounts details, thread =  {}&quot;, Thread.currentThread().getName());\n    Accounts accountDetails = accountsRepository.findByCustomerId(customerId);\n\n    return CompletableFuture.completedFuture(accountDetails);\n}\n\n@Async(&quot;taskExecutor&quot;)\npublic CompletableFuture&lt;List&lt;Loans&gt;&gt; getLoansDetails(\n        String correlationId, Customer customer) throws InterruptedException {\n\n    log.info(&quot;Attempting to retrieve loans details, thread =  {}&quot;, Thread.currentThread().getName());\n    List&lt;Loans&gt; loansDetails =\n            loansFeignClient.getLoansDetails(correlationId, customer);\n\n    return CompletableFuture.completedFuture(loansDetails);\n}\n\n@Async(&quot;taskExecutor&quot;)\npublic CompletableFuture&lt;List&lt;Cards&gt;&gt; getCardsDetails(\n        String correlationId, Customer customer) throws Exception {\n\n    log.info(&quot;Attempting to retrieve cards details, thread =  {}&quot;, Thread.currentThread().getName());\n    List&lt;Cards&gt; cardDetails =\n            cardsFeignClient.getCardDetails(correlationId, customer);\n\n    return CompletableFuture.completedFuture(cardDetails);\n}\n</code></pre>\n<p>The configuration class:</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ConfigExecutor {\n\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;userThread-&quot;);\n        executor.initialize();\n\n        return executor;\n    }\n}\n</code></pre>\n<p>Using this code, the app works properly, I see in the logs that it creates 2 threads and uses the 2 threads for the 3 request. But if I delete the configuration class (so I don't configure the ThreadPoolTaskExecutor bean), the app compiles and runs perfectly, but I see in the logs that it uses only one thread:</p>\n<pre><code>2022-10-09 18:50:56.027  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\nieve accounts details, thread =  http-nio-8080-exec-1\nHibernate: select accounts0_.account_number as account_1_0_, accounts0_.account_type as account_2_0_, accounts0_.branch_address as branch_a3_0_, accounts0_.create_\ndt as create_d4_0_, accounts0_.customer_id as customer5_0_ from accounts accounts0_ where accounts0_.customer_id=?\n2022-10-09 18:50:56.341  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\nieve loans details, thread =  http-nio-8080-exec-1\n2022-10-09 18:50:57.701  INFO [accounts,27e5f8bb1b00cda3,27e5f8bb1b00cda3] 2396 --- [nio-8080-exec-1] c.d.b.a.s.client.RetrieveDetailsAsync    : Attempting to retr\nieve cards details, thread =  http-nio-8080-exec-1\n</code></pre>\n<p>It look s that it creates and uses only one thread. So the 3 requests aren't done concurrently? From my research I understand that if I don't configure this ThreadPoolTaskExecutor bean, it will use SimpleAsyncTaskExecutor by default. If there is only one thread http-nio-8080-exec-1, does this mean that first request uses this thread, after the request is finished, the second request uses the same thread and after that the third request uses the same thread. So the request aren't done concurrently?</p>\n<p>And another question is about ThreadPoolExecutor (the implementation for ExecutorService interface). What exactly is the difference between ThreadPoolTaskExecutor and ThreadPoolExecutor. Is the difference only the fact that the first is from spring framework and the second is from JEE? Because I see that both uses tasks concurrently? And because ThreadPoolTaskExecutor is from Spring framework, it is better to use it in Spring Boot projects. Thank you for response!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":5,"creation_date":1671133536,"post_id":74816767,"comment_id":132038744,"body_markdown":"What are you expecting as output? What are you receiving? Pretend like the people answering have never seen this code before, don&#39;t know why you&#39;re writing it, and will not pull it down to run it locally just to see what happens.","body":"What are you expecting as output? What are you receiving? Pretend like the people answering have never seen this code before, don&#39;t know why you&#39;re writing it, and will not pull it down to run it locally just to see what happens."},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671133852,"post_id":74816767,"comment_id":132038862,"body_markdown":"Have the function LetterChanges(str) take the str parameter being passed and modify it using the following algorithm. Replace every letter in the string with the letter following it in the alphabet (ie. c becomes d, z becomes a).","body":"Have the function LetterChanges(str) take the str parameter being passed and modify it using the following algorithm. Replace every letter in the string with the letter following it in the alphabet (ie. c becomes d, z becomes a)."},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1671133929,"post_id":74816767,"comment_id":132038895,"body_markdown":"I don&#39;t know what this comment means. If you have an update to your question, please modify the question. Include some _specific_ examples of input, output, and expected output. Do not describe the intended algorithm (we can see that in the code and from your original question), describe the actual behaviour, and desired.","body":"I don&#39;t know what this comment means. If you have an update to your question, please modify the question. Include some <i>specific</i> examples of input, output, and expected output. Do not describe the intended algorithm (we can see that in the code and from your original question), describe the actual behaviour, and desired."},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1671134391,"post_id":74816767,"comment_id":132039053,"body_markdown":"Start with `String res = str` and then `res = res.replace(...)` instead of `res = str.replace(...)`","body":"Start with <code>String res = str</code> and then <code>res = res.replace(...)</code> instead of <code>res = str.replace(...)</code>"},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671134506,"post_id":74816767,"comment_id":132039091,"body_markdown":"I described as much as possible now, sorry for confusing","body":"I described as much as possible now, sorry for confusing"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1671134561,"post_id":74816767,"comment_id":132039107,"body_markdown":"Also I wonder what happens to the string `ZZZZZZZ` :)","body":"Also I wonder what happens to the string <code>ZZZZZZZ</code> :)"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1671134820,"post_id":74816767,"comment_id":132039175,"body_markdown":"`replace` is not suitable for what you are trying to do. Change the code inside your if block with `res += alphabet.charAt((j + 1) % 52);` to concat the next char to your result. The `%52` part is to rotate when you reach the end of your alphabet.","body":"<code>replace</code> is not suitable for what you are trying to do. Change the code inside your if block with <code>res += alphabet.charAt((j + 1) % 52);</code> to concat the next char to your result. The <code>%52</code> part is to rotate when you reach the end of your alphabet."},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671134825,"post_id":74816767,"comment_id":132039177,"body_markdown":"Im doing definitely something wrong, just asking help to understand what exactly I do wrong","body":"Im doing definitely something wrong, just asking help to understand what exactly I do wrong"},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671135164,"post_id":74816767,"comment_id":132039290,"body_markdown":"CollinD that helps actually,  thank you )","body":"CollinD that helps actually,  thank you )"},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671135245,"post_id":74816767,"comment_id":132039317,"body_markdown":"Eritrean what mean &quot;% 52&quot; could you explain please ?","body":"Eritrean what mean &quot;% 52&quot; could you explain please ?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671135671,"post_id":74816767,"comment_id":132039459,"body_markdown":"Each time through the loop, you&#39;re making just one change to `str` to give `res`, but you&#39;re throwing away the `res` from the previous time through the loop.  It seems to me that each time through, you want to make the change to the previous version of `res`, rather than to the original `str`.","body":"Each time through the loop, you&#39;re making just one change to <code>str</code> to give <code>res</code>, but you&#39;re throwing away the <code>res</code> from the previous time through the loop.  It seems to me that each time through, you want to make the change to the previous version of <code>res</code>, rather than to the original <code>str</code>."},{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671135792,"post_id":74816767,"comment_id":132039500,"body_markdown":"Dawood ibn Kareem, yes exactly","body":"Dawood ibn Kareem, yes exactly"}],"answers":[{"comments":[{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671217569,"post_id":74817253,"comment_id":132059447,"body_markdown":"Given me an Error (","body":"Given me an Error ("},{"owner":{"account_id":21412367,"reputation":31,"user_id":15772252,"display_name":"Buraxta"},"score":0,"creation_date":1671357628,"post_id":74817253,"comment_id":132078694,"body_markdown":"everything looks fine, check again [here](https://docs.google.com/document/d/1S_h9X9Is-T7dWTpSqM_nkqBjEnUYS8vbHKfoVeeejHo/edit?usp=sharing):","body":"everything looks fine, check again <a href=\"https://docs.google.com/document/d/1S_h9X9Is-T7dWTpSqM_nkqBjEnUYS8vbHKfoVeeejHo/edit?usp=sharing\" rel=\"nofollow noreferrer\">here</a>:"}],"tags":[],"owner":{"account_id":21412367,"reputation":31,"user_id":15772252,"display_name":"Buraxta"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671136544,"creation_date":1671136441,"answer_id":74817253,"question_id":74816767,"body_markdown":"Instead using \r\n\r\n    res = str.replace (str.charAt (i), alphabet.charAt (j + 1));\r\ntry it \r\n\r\n    res += alphabet.charAt(j+1);","title":"How to change letters","body":"<p>Instead using</p>\n<pre><code>res = str.replace (str.charAt (i), alphabet.charAt (j + 1));\n</code></pre>\n<p>try it</p>\n<pre><code>res += alphabet.charAt(j+1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"score":0,"creation_date":1671158280,"post_id":74817305,"comment_id":132043945,"body_markdown":"Thank you for your help, impressive solvation, but can you explain a bit more detail this part: \nch = (char) ((ch + 1 - &#39;A&#39;) % 26 + &#39;A&#39;)","body":"Thank you for your help, impressive solvation, but can you explain a bit more detail this part:  ch = (char) ((ch + 1 - &#39;A&#39;) % 26 + &#39;A&#39;)"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1671182107,"post_id":74817305,"comment_id":132048194,"body_markdown":"@GUST4 `ch - &#39;a&#39;` is the difference between the character and `&#39;a&#39;` - 0 if it&#39;s `&#39;a&#39;`, 1 if it&#39;s `&#39;b&#39;`, etc. Add 1 and you&#39;ll get the next character. Modulu it by 26 to make `&#39;z&#39;` loop over to `&#39;a&#39;` and then add `&#39;a&#39;` back to convert the different back to a character.","body":"@GUST4 <code>ch - &#39;a&#39;</code> is the difference between the character and <code>&#39;a&#39;</code> - 0 if it&#39;s <code>&#39;a&#39;</code>, 1 if it&#39;s <code>&#39;b&#39;</code>, etc. Add 1 and you&#39;ll get the next character. Modulu it by 26 to make <code>&#39;z&#39;</code> loop over to <code>&#39;a&#39;</code> and then add <code>&#39;a&#39;</code> back to convert the different back to a character."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671136755,"creation_date":1671136755,"answer_id":74817305,"question_id":74816767,"body_markdown":"You don&#39;t need a nested loop. The letters of the alphabet have sequential code points, so all you need to do is get the difference between the character you want to increase an `a` (or `A` for capitals), add one to it, modulo 26 for wrapping around `z` (or `Z`), and add this new distance back to `a`. I.e.:\r\n\r\n    public static String letterChanges(String str) {\r\n        StringBuilder res = new StringBuilder(str.length());\r\n        for (int i = 0; i &lt; str.length(); ++i) {\r\n            char ch = str.charAt(i);\r\n            if (Character.isUpperCase(ch)) {\r\n                ch = (char) ((ch + 1 - &#39;A&#39;) % 26 + &#39;A&#39;);\r\n            } else if (Character.isLowerCase(ch)) {\r\n                ch = (char) ((ch + 1 - &#39;a&#39;) % 26 + &#39;a&#39;);\r\n            }\r\n            res.append(ch);\r\n        }\r\n        return res.toString();\r\n    }","title":"How to change letters","body":"<p>You don't need a nested loop. The letters of the alphabet have sequential code points, so all you need to do is get the difference between the character you want to increase an <code>a</code> (or <code>A</code> for capitals), add one to it, modulo 26 for wrapping around <code>z</code> (or <code>Z</code>), and add this new distance back to <code>a</code>. I.e.:</p>\n<pre><code>public static String letterChanges(String str) {\n    StringBuilder res = new StringBuilder(str.length());\n    for (int i = 0; i &lt; str.length(); ++i) {\n        char ch = str.charAt(i);\n        if (Character.isUpperCase(ch)) {\n            ch = (char) ((ch + 1 - 'A') % 26 + 'A');\n        } else if (Character.isLowerCase(ch)) {\n            ch = (char) ((ch + 1 - 'a') % 26 + 'a');\n        }\n        res.append(ch);\n    }\n    return res.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":26487769,"reputation":7,"user_id":20126079,"display_name":"GUST4"},"comment_count":12,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1671169389,"answer_count":2,"score":-3,"last_activity_date":1671136755,"creation_date":1671133431,"question_id":74816767,"body_markdown":"```\r\npublic static String LetterChanges(String str) {\r\n\r\n   String alphabet = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n   String res=&quot;&quot;;\r\n\r\n   for (int i = 0; i &lt; str.length (); i++) {\r\n      for (int j = 0; j &lt; alphabet.length (); j++) {\r\n         if (str.charAt (i) == alphabet.charAt (j)) {\r\n            res = str.replace (str.charAt (i), alphabet.charAt (j + 1));\r\n            break;\r\n\r\n         }\r\n      }\r\n   }\r\n   return res;\r\n}\r\n```\r\n\r\n\r\nHave the function LetterChanges(str) take the str parameter being passed and modify it using the following algorithm. Replace every letter in the string with the letter following it in the alphabet (ie. c becomes d, z becomes a)\r\n\r\nFor example I passing &quot;Hello&quot; as parameter str, and want to get &quot;Ifmmp&quot;, but I got &quot;Hellp&quot; changing only last letter","title":"How to change letters","body":"<pre><code>public static String LetterChanges(String str) {\n\n   String alphabet = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n   String res=&quot;&quot;;\n\n   for (int i = 0; i &lt; str.length (); i++) {\n      for (int j = 0; j &lt; alphabet.length (); j++) {\n         if (str.charAt (i) == alphabet.charAt (j)) {\n            res = str.replace (str.charAt (i), alphabet.charAt (j + 1));\n            break;\n\n         }\n      }\n   }\n   return res;\n}\n</code></pre>\n<p>Have the function LetterChanges(str) take the str parameter being passed and modify it using the following algorithm. Replace every letter in the string with the letter following it in the alphabet (ie. c becomes d, z becomes a)</p>\n<p>For example I passing &quot;Hello&quot; as parameter str, and want to get &quot;Ifmmp&quot;, but I got &quot;Hellp&quot; changing only last letter</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1671138044,"post_id":74817099,"comment_id":132040252,"body_markdown":"Please report at https://youtrack.jetbrains.com/newIssue?project=IDEA with [idea.log](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085) attached. It may help if you delete `.idea` directory and [reimport the project](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start).  `idea.log` may contain the related exceptions or you can see them in the Build | Sync tool window if the dependency resolution fails.","body":"Please report at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a> attached. It may help if you delete <code>.idea</code> directory and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">reimport the project</a>.  <code>idea.log</code> may contain the related exceptions or you can see them in the Build | Sync tool window if the dependency resolution fails."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671153054,"post_id":74817099,"comment_id":132043202,"body_markdown":"I believe that is pretty common misbehaviour in IntelliJ, I primarily face with it when switching between branches, sometimes &quot;Reload All Maven Projects&quot; circle might help, sometimes restarting IntelliJ helps, last time I was need to remove IntelliJ caches in `~/Library/Caches/JetBrains`","body":"I believe that is pretty common misbehaviour in IntelliJ, I primarily face with it when switching between branches, sometimes &quot;Reload All Maven Projects&quot; circle might help, sometimes restarting IntelliJ helps, last time I was need to remove IntelliJ caches in <code>~&#47;Library&#47;Caches&#47;JetBrains</code>"}],"owner":{"account_id":185507,"reputation":511,"user_id":422268,"accept_rate":73,"display_name":"Tony Giaccone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671136600,"creation_date":1671135394,"question_id":74817099,"body_markdown":"**Environment:**\r\n\r\n```none\r\nmacOS Monterey\r\nJava: OpenJDK Runtime Environment Temurin-11.0.17+8 (build 11.0.17+8)\r\nIntelij IDEA: 2022.3 Build #IU-223.7571.182, built on November 29, 2022 \r\nIntelij bundled version of maven: 3.8.1\r\nCommand line Maven: Apache Maven 3.8.6\r\n```\r\n\r\nMy question has two part: \r\n\r\n**1) How does intelij&#39;s internal build system work with maven to identify dependencies that are needed for compiling code?**\r\n\r\n**2) When that dependency resolution fails, how you can you determine the cause of the failure?** \r\n\r\n**The problem:** \r\n\r\nI have a multi module maven project.  \r\n\r\nFrom the maven window in Intelij, I can build any module and the whole project. From the command line I can run maven builds that complete with out error. However when I try to build project, or rebuild project from the Intelij menu. (Build-&gt;Build Project) the build fails. \r\n\r\nIt fails with the following error: \r\n\r\n&gt;java: package com.fasterxml.jackson.annotation does not exist.  \r\n\r\nThe pom file includes the dependency for the jar file. I can go to each directory and execute this command \r\n\r\n```bash\r\nmvn dependency:tree | grep -i jackson-annotations\r\n```\r\n\r\nand I get:\r\n\r\n&gt;[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.8:compile\r\n\r\nIn each pom file the following dependency exists: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n     &lt;version&gt;2.9.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Why am I having a problem with intellij and maven","body":"<p><strong>Environment:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>macOS Monterey\nJava: OpenJDK Runtime Environment Temurin-11.0.17+8 (build 11.0.17+8)\nIntelij IDEA: 2022.3 Build #IU-223.7571.182, built on November 29, 2022 \nIntelij bundled version of maven: 3.8.1\nCommand line Maven: Apache Maven 3.8.6\n</code></pre>\n<p>My question has two part:</p>\n<p><strong>1) How does intelij's internal build system work with maven to identify dependencies that are needed for compiling code?</strong></p>\n<p><strong>2) When that dependency resolution fails, how you can you determine the cause of the failure?</strong></p>\n<p><strong>The problem:</strong></p>\n<p>I have a multi module maven project.</p>\n<p>From the maven window in Intelij, I can build any module and the whole project. From the command line I can run maven builds that complete with out error. However when I try to build project, or rebuild project from the Intelij menu. (Build-&gt;Build Project) the build fails.</p>\n<p>It fails with the following error:</p>\n<blockquote>\n<p>java: package com.fasterxml.jackson.annotation does not exist.</p>\n</blockquote>\n<p>The pom file includes the dependency for the jar file. I can go to each directory and execute this command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree | grep -i jackson-annotations\n</code></pre>\n<p>and I get:</p>\n<blockquote>\n<p>[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.8:compile</p>\n</blockquote>\n<p>In each pom file the following dependency exists:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n     &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"score":0,"creation_date":1671136595,"post_id":74817230,"comment_id":132039777,"body_markdown":"yeah no thank you, that&#39;s a good way but the example I made is a bit different than my actual situation. Imagine I have an object containing 100 booleans... and I want to know if one of these has been accessed... I would have to double the number of booleans in the class... I was looking for a smarter way to do it","body":"yeah no thank you, that&#39;s a good way but the example I made is a bit different than my actual situation. Imagine I have an object containing 100 booleans... and I want to know if one of these has been accessed... I would have to double the number of booleans in the class... I was looking for a smarter way to do it"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1671143330,"post_id":74817230,"comment_id":132041557,"body_markdown":"A hundred boolean member fields with getters? no offense, but that design doesn&#39;t sound smart at all. Why no `java.util.BitSet` ?","body":"A hundred boolean member fields with getters? no offense, but that design doesn&#39;t sound smart at all. Why no <code>java.util.BitSet</code> ?"}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671136251,"creation_date":1671136251,"answer_id":74817230,"question_id":74817181,"body_markdown":"This is exactly *why* we write getters and setters rather than directly accessing fields. Your getter can take logs internally, and it doesn&#39;t affect users of your API. Consider\r\n\r\n    public class House {\r\n      private String streetAddress;\r\n      private boolean streetAddressAccessed;\r\n\r\n      public House(String streetAddress) {\r\n        this.streetAddress = streetAddress;\r\n        this.streetAddressAccessed = false;\r\n      }\r\n\r\n      public String getStreetAddress() {\r\n        // Somebody called this function; make a note!\r\n        streetAddressAccessed = true;\r\n        return streetAddress;\r\n      }\r\n\r\n      public boolean wasStreetAddressAccessed() {\r\n        return streetAddressAccessed;\r\n      }\r\n\r\n    }","title":"Figure out If a session object field has been accessed","body":"<p>This is exactly <em>why</em> we write getters and setters rather than directly accessing fields. Your getter can take logs internally, and it doesn't affect users of your API. Consider</p>\n<pre><code>public class House {\n  private String streetAddress;\n  private boolean streetAddressAccessed;\n\n  public House(String streetAddress) {\n    this.streetAddress = streetAddress;\n    this.streetAddressAccessed = false;\n  }\n\n  public String getStreetAddress() {\n    // Somebody called this function; make a note!\n    streetAddressAccessed = true;\n    return streetAddress;\n  }\n\n  public boolean wasStreetAddressAccessed() {\n    return streetAddressAccessed;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671136567,"creation_date":1671136567,"answer_id":74817275,"question_id":74817181,"body_markdown":"You either have to write a proxy by which you access the `House` object that counts the method calls and provides them somehow, or you prepare the implementation of `House` itself to record calls to it&#39;s methods.\r\n\r\nAnother possibility would be the use of a so called &quot;profiler&quot; that measures the time that is spent in called methods. This is more something for the occasional use, e.g. when you are searching for performance bottlenecks.\r\n\r\nYou could use VisualVM that contains a very simple profiler that can connect to an already running JVM - https://visualvm.github.io/","title":"Figure out If a session object field has been accessed","body":"<p>You either have to write a proxy by which you access the <code>House</code> object that counts the method calls and provides them somehow, or you prepare the implementation of <code>House</code> itself to record calls to it's methods.</p>\n<p>Another possibility would be the use of a so called &quot;profiler&quot; that measures the time that is spent in called methods. This is more something for the occasional use, e.g. when you are searching for performance bottlenecks.</p>\n<p>You could use VisualVM that contains a very simple profiler that can connect to an already running JVM - <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">https://visualvm.github.io/</a></p>\n"}],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671136567,"creation_date":1671135933,"question_id":74817181,"body_markdown":"I have a java object, say `House`, which gets stored in session and gets retrieved by a number of methods. This `House` object has a String field called `streetAddress`.\r\nSay `method1` is a method that retrieves this object from the session and that possibly **accesses** the `streetAddress` field. \r\n\r\nBy **accesses** I mean even a simple read of this field like `house.getStreetAddress() != null`.\r\n\r\n\r\nI&#39;m now in `method2`, I retrieve the `House` object from session and I would like to know if the `streetAddress` field has ever been accessed. \r\nThis field is private, so the only ways to interact with it outside the class are the getter and setter methods.\r\nIs it possible to know if either one of these two methods has ever been called during this session?\r\n\r\n\r\n\r\n\r\nI&#39;ve looked into java reflection but didn&#39;t find anything useful.\r\n","title":"Figure out If a session object field has been accessed","body":"<p>I have a java object, say <code>House</code>, which gets stored in session and gets retrieved by a number of methods. This <code>House</code> object has a String field called <code>streetAddress</code>.\nSay <code>method1</code> is a method that retrieves this object from the session and that possibly <strong>accesses</strong> the <code>streetAddress</code> field.</p>\n<p>By <strong>accesses</strong> I mean even a simple read of this field like <code>house.getStreetAddress() != null</code>.</p>\n<p>I'm now in <code>method2</code>, I retrieve the <code>House</code> object from session and I would like to know if the <code>streetAddress</code> field has ever been accessed.\nThis field is private, so the only ways to interact with it outside the class are the getter and setter methods.\nIs it possible to know if either one of these two methods has ever been called during this session?</p>\n<p>I've looked into java reflection but didn't find anything useful.</p>\n"},{"tags":["java","flutter","dart","character-encoding","utf"],"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1568830667,"post_id":57995904,"comment_id":102403312,"body_markdown":"Based on your other question, I&#39;d guess that the bytes are *not* in UTF-16, but just have a Java object stream prefix.","body":"Based on your other question, I&#39;d guess that the bytes are <i>not</i> in UTF-16, but just have a Java object stream prefix."},{"owner":{"account_id":60124,"reputation":83599,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":0,"creation_date":1568872055,"post_id":57995904,"comment_id":102413705,"body_markdown":"You probably would be interested in this related question: [UTF-16LE txt file decode as String in Flutter (dart)](https://stackoverflow.com/questions/57943867/utf-16le-txt-file-decode-as-string-in-flutter-dart)","body":"You probably would be interested in this related question: <a href=\"https://stackoverflow.com/questions/57943867/utf-16le-txt-file-decode-as-string-in-flutter-dart\">UTF-16LE txt file decode as String in Flutter (dart)</a>"}],"answers":[{"comments":[{"owner":{"account_id":810600,"reputation":920,"user_id":441638,"accept_rate":27,"display_name":"Cliff Helsel"},"score":4,"creation_date":1588858278,"post_id":57998381,"comment_id":109066044,"body_markdown":"that package is discontinued","body":"that package is discontinued"},{"owner":{"account_id":7017450,"reputation":237,"user_id":5378255,"display_name":"Kretin"},"score":0,"creation_date":1597290747,"post_id":57998381,"comment_id":112085865,"body_markdown":"I discovered that it still works though. Lucky because it solved a big problem, Phew!","body":"I discovered that it still works though. Lucky because it solved a big problem, Phew!"},{"owner":{"account_id":3395798,"reputation":3700,"user_id":2849458,"accept_rate":52,"display_name":"M.ArslanKhan"},"score":0,"creation_date":1601817630,"post_id":57998381,"comment_id":113517426,"body_markdown":"utf  package is discontinued","body":"utf  package is discontinued"}],"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568829323,"creation_date":1568829323,"answer_id":57998381,"question_id":57995904,"body_markdown":"Use the `utf` [package][1].\r\n\r\n      var bytes = await file.readAsBytes();\r\n      var decoder = Utf16BytesToCodeUnitsDecoder(bytes); // use le variant if no BOM\r\n      var string = String.fromCharCodes(decoder.decodeRest());\r\n\r\n\r\n  [1]: https://pub.dev/packages/utf","title":"Dart/Flutter UTF-16 encoding","body":"<p>Use the <code>utf</code> <a href=\"https://pub.dev/packages/utf\" rel=\"nofollow noreferrer\">package</a>.</p>\n\n<pre><code>  var bytes = await file.readAsBytes();\n  var decoder = Utf16BytesToCodeUnitsDecoder(bytes); // use le variant if no BOM\n  var string = String.fromCharCodes(decoder.decodeRest());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60124,"reputation":83599,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":3,"creation_date":1622628361,"post_id":64196942,"comment_id":119844386,"body_markdown":"Base64 has nothing to do with UTF-16.","body":"Base64 has nothing to do with UTF-16."}],"tags":[],"owner":{"account_id":3395798,"reputation":3700,"user_id":2849458,"accept_rate":52,"display_name":"M.ArslanKhan"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1601827731,"creation_date":1601827731,"answer_id":64196942,"question_id":57995904,"body_markdown":"Use Base64. Importing  **&#39;dart:convert&#39;**.\r\n\r\n      var bytes = await file.readAsBytes();\r\n      final encoded = base64.encode(bytes);\r\n      debugPrint(&quot;onPressed &quot; + encoded);","title":"Dart/Flutter UTF-16 encoding","body":"<p>Use Base64. Importing  <strong>'dart:convert'</strong>.</p>\n<pre><code>  var bytes = await file.readAsBytes();\n  final encoded = base64.encode(bytes);\n  debugPrint(&quot;onPressed &quot; + encoded);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15550189,"reputation":61,"user_id":11218098,"display_name":"Adam Ghaffarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671136053,"creation_date":1671136053,"answer_id":74817196,"question_id":57995904,"body_markdown":"```\r\n  final File file = File(filePath);\r\n\r\n  final bytes = file.readAsBytesSync();\r\n\r\n  final utf16CodeUnits = bytes.buffer.asUint16List();\r\n\r\n  final s = String.fromCharCodes(utf16CodeUnits);\r\n```\r\n\r\nI was able to turn a UTF-16 file into a String using these 4 lines to avoid using the discontinued package. Hope this helps!","title":"Dart/Flutter UTF-16 encoding","body":"<pre><code>  final File file = File(filePath);\n\n  final bytes = file.readAsBytesSync();\n\n  final utf16CodeUnits = bytes.buffer.asUint16List();\n\n  final s = String.fromCharCodes(utf16CodeUnits);\n</code></pre>\n<p>I was able to turn a UTF-16 file into a String using these 4 lines to avoid using the discontinued package. Hope this helps!</p>\n"}],"owner":{"account_id":2056755,"reputation":1988,"user_id":1881719,"accept_rate":39,"display_name":"Wouter Vandenputte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671136053,"creation_date":1568819287,"question_id":57995904,"body_markdown":"I need to read in a file that&#39;s been saved in Java Android Studio with this code\r\n\r\n    fos = context.openFileOutput(filename, Context.MODE_PRIVATE);\r\n    ObjectOutputStream os = new ObjectOutputStream(fos);\r\n    os.writeObject(json);\r\n    os.close();\r\n    fos.close();\r\n\r\nIt turns out that Java uses internally UTF-16 for encoding the characters. I now need to read this files in Flutter SDK (with the Dart language)\r\n\r\n    file.readAsString(encoding: Latin1).then((str) =&gt; {\r\n           print(str)\r\n         }).catchError( (e) =&gt; {\r\n           print(e)\r\n    });\r\n\r\nHowever, the Latin1 encoding doesn&#39;t work perfectly. So I want to read it in using UTF-16 but it seems that Dart does simply not have this functionality, or at least not that I can find.\r\n\r\n`Utf8Codec` does exist but there&#39;s not `Utf16Codec` nor `Encoding.getByName(&quot;UTF-16&quot;)`. Utf8 is by the way giving exceptions so this is also no option.\r\n\r\nSo how can I still read in files in Dart which have been saved in Android Studio Java using UTF-16?","title":"Dart/Flutter UTF-16 encoding","body":"<p>I need to read in a file that's been saved in Java Android Studio with this code</p>\n<pre><code>fos = context.openFileOutput(filename, Context.MODE_PRIVATE);\nObjectOutputStream os = new ObjectOutputStream(fos);\nos.writeObject(json);\nos.close();\nfos.close();\n</code></pre>\n<p>It turns out that Java uses internally UTF-16 for encoding the characters. I now need to read this files in Flutter SDK (with the Dart language)</p>\n<pre><code>file.readAsString(encoding: Latin1).then((str) =&gt; {\n       print(str)\n     }).catchError( (e) =&gt; {\n       print(e)\n});\n</code></pre>\n<p>However, the Latin1 encoding doesn't work perfectly. So I want to read it in using UTF-16 but it seems that Dart does simply not have this functionality, or at least not that I can find.</p>\n<p><code>Utf8Codec</code> does exist but there's not <code>Utf16Codec</code> nor <code>Encoding.getByName(&quot;UTF-16&quot;)</code>. Utf8 is by the way giving exceptions so this is also no option.</p>\n<p>So how can I still read in files in Dart which have been saved in Android Studio Java using UTF-16?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":72122,"reputation":2758,"user_id":208344,"display_name":"Jes"},"score":0,"creation_date":1281966489,"post_id":3493588,"comment_id":3649626,"body_markdown":"What is doTest and what data does it hold?","body":"What is doTest and what data does it hold?"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1281966621,"post_id":3493588,"comment_id":3649655,"body_markdown":"In this example, doTest is just a dummy test to allow this testsuite to execute in JUnit. The problem is not in the test code, as you will see when you try to run this test as it stands; despite the fact that it has an almost empty test body, it still fails to run due to the aforementioned initialisation error.","body":"In this example, doTest is just a dummy test to allow this testsuite to execute in JUnit. The problem is not in the test code, as you will see when you try to run this test as it stands; despite the fact that it has an almost empty test body, it still fails to run due to the aforementioned initialisation error."},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1281966822,"post_id":3493588,"comment_id":3649692,"body_markdown":"I added part of the stacktrace that I see when I run your test to make it clear that the error is happening when the varargs constructor is invoked. If that&#39;s different from what you&#39;re seeing, feel free to change it or revert it.","body":"I added part of the stacktrace that I see when I run your test to make it clear that the error is happening when the varargs constructor is invoked. If that&#39;s different from what you&#39;re seeing, feel free to change it or revert it."}],"answers":[{"comments":[{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1281967145,"post_id":3493791,"comment_id":3649768,"body_markdown":"You&#39;re right, this did work. But it&#39;s not universally true. Normally, I could write something like:\n\n    myTest = new ExampleParamTest(0, &quot;hello&quot;, &quot;goodbye&quot;);\n\nThis is the entire point of variable argument methods. Why then does this not work in my example?","body":"You&#39;re right, this did work. But it&#39;s not universally true. Normally, I could write something like:      myTest = new ExampleParamTest(0, &quot;hello&quot;, &quot;goodbye&quot;);  This is the entire point of variable argument methods. Why then does this not work in my example?"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1281967676,"creation_date":1281966829,"answer_id":3493791,"question_id":3493588,"body_markdown":"Can&#39;t test it right now but I guess, if you invoke a method or a constructor with variable arguments, you have to invoke it with an array instead of a variable list of values.\r\n\r\nIf I&#39;m right, then this should work:\r\n\r\n    @Parameters\r\n     public static Collection&lt;Object[]&gt; data() {\r\n      return Arrays.asList(new Object[][] {\r\n        {0, new String[]{&quot;hello&quot;, &quot;goodbye&quot;}},\r\n        {1, new String[]{&quot;farewell&quot;}}\r\n      });\r\n     }\r\n\r\n**Some explanation**\r\n\r\nOn source code level, we can write\r\n\r\n    test = ExampleParamTest(0, &quot;one&quot;, &quot;two&quot;);\r\n\r\nThe compiler will convert this to an array of Strings. JUnit uses the reflection and invocation API, and from this perspective, the constructors signature is\r\n\r\n    public ExampleParamTest(int i, String[] strings);\r\n\r\nSo to invoke the constructor - and that&#39;s what JUnit is doing internally - you have to pass an integer and a String array.\r\n\r\n","title":"How do I use a JUnit Parameterized runner with a varargs constructor?","body":"<p>Can't test it right now but I guess, if you invoke a method or a constructor with variable arguments, you have to invoke it with an array instead of a variable list of values.</p>\n\n<p>If I'm right, then this should work:</p>\n\n<pre><code>@Parameters\n public static Collection&lt;Object[]&gt; data() {\n  return Arrays.asList(new Object[][] {\n    {0, new String[]{\"hello\", \"goodbye\"}},\n    {1, new String[]{\"farewell\"}}\n  });\n }\n</code></pre>\n\n<p><strong>Some explanation</strong></p>\n\n<p>On source code level, we can write</p>\n\n<pre><code>test = ExampleParamTest(0, \"one\", \"two\");\n</code></pre>\n\n<p>The compiler will convert this to an array of Strings. JUnit uses the reflection and invocation API, and from this perspective, the constructors signature is</p>\n\n<pre><code>public ExampleParamTest(int i, String[] strings);\n</code></pre>\n\n<p>So to invoke the constructor - and that's what JUnit is doing internally - you have to pass an integer and a String array.</p>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671135654,"creation_date":1641434748,"answer_id":70601660,"question_id":3493588,"body_markdown":"The workaround given by @marcphillip in this [JUnit feature request][1] works great for now:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;1,a&quot;, &quot;1,a,b,c&quot;})\r\n    void testAbc(int arg1, @AggregateWith(VarargsAggregator.class) String... elements) {\r\n        System.out.println(Arrays.toString(elements));\r\n    }\r\n\r\n    static class VarargsAggregator implements ArgumentsAggregator {\r\n        @Override\r\n        public Object aggregateArguments(ArgumentsAccessor accessor, ParameterContext context) throws ArgumentsAggregationException {\r\n            Class&lt;?&gt; parameterType = context.getParameter().getType();\r\n            Preconditions.condition(parameterType.isArray(), () -&gt; &quot;must be an array type, but was &quot; + parameterType);\r\n            Class&lt;?&gt; componentType = parameterType.getComponentType();\r\n            return IntStream.range(context.getIndex(), accessor.size())\r\n                    .mapToObj(index -&gt; accessor.get(index, componentType))\r\n                    .toArray(size -&gt; (Object[]) Array.newInstance(componentType, size));\r\n        }\r\n    }\r\n\r\n***Update:*** I added this tweak to give an empty array when there is nothing provided after the last comma:  ***Update2:*** I realized this is not needed: Just leave off the trailing comma (which I&#39;d assumed was mandatory) in order to pass in an empty vararg array.\r\n\r\n            if (result.length == 1 &amp;&amp; result[0] == null) {\r\n                return Array.newInstance(componentType, 0);\r\n            }\r\n            return result;\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/2256","title":"How do I use a JUnit Parameterized runner with a varargs constructor?","body":"<p>The workaround given by @marcphillip in this <a href=\"https://github.com/junit-team/junit5/issues/2256\" rel=\"nofollow noreferrer\">JUnit feature request</a> works great for now:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({&quot;1,a&quot;, &quot;1,a,b,c&quot;})\nvoid testAbc(int arg1, @AggregateWith(VarargsAggregator.class) String... elements) {\n    System.out.println(Arrays.toString(elements));\n}\n\nstatic class VarargsAggregator implements ArgumentsAggregator {\n    @Override\n    public Object aggregateArguments(ArgumentsAccessor accessor, ParameterContext context) throws ArgumentsAggregationException {\n        Class&lt;?&gt; parameterType = context.getParameter().getType();\n        Preconditions.condition(parameterType.isArray(), () -&gt; &quot;must be an array type, but was &quot; + parameterType);\n        Class&lt;?&gt; componentType = parameterType.getComponentType();\n        return IntStream.range(context.getIndex(), accessor.size())\n                .mapToObj(index -&gt; accessor.get(index, componentType))\n                .toArray(size -&gt; (Object[]) Array.newInstance(componentType, size));\n    }\n}\n</code></pre>\n<p><em><strong>Update:</strong></em> I added this tweak to give an empty array when there is nothing provided after the last comma:  <em><strong>Update2:</strong></em> I realized this is not needed: Just leave off the trailing comma (which I'd assumed was mandatory) in order to pass in an empty vararg array.</p>\n<pre><code>        if (result.length == 1 &amp;&amp; result[0] == null) {\n            return Array.newInstance(componentType, 0);\n        }\n        return result;\n</code></pre>\n"}],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7441,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3493791,"answer_count":2,"score":7,"last_activity_date":1671135654,"creation_date":1281965500,"question_id":3493588,"body_markdown":"I wrote a mockup example to illustrate this without exposing anything confidential. It&#39;s a &quot;dummy&quot; example which does nothing, but the problem occurs in the test initialiser.\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ExampleParamTest\r\n    {\r\n     int ordinal;\r\n     List&lt;String&gt; strings;\r\n    \r\n     public ExampleParamTest(int ordinal, String... strings)\r\n     {\r\n      this.ordinal = ordinal;\r\n      if (strings.length == 0)\r\n      {\r\n       this.strings = null;\r\n      }\r\n      else\r\n      {\r\n       this.strings = Arrays.asList(strings);\r\n      }\r\n     }\r\n    \r\n     @Parameters\r\n     public static Collection&lt;Object[]&gt; data() {\r\n      return Arrays.asList(new Object[][] {\r\n        {0, &quot;hello&quot;, &quot;goodbye&quot;},\r\n        {1, &quot;farewell&quot;}\r\n      });\r\n     }\r\n    \r\n     @Test\r\n     public void doTest() {\r\n      Assert.assertTrue(true);\r\n     }\r\n    }\r\n\r\nBasically I have a test constructor which accepts multiple arguments for a local list variable and I want to populate this through an array initialiser. The test method will handle the local list variable correctly - I have removed this logic to simplify the test.\r\n\r\nWhen I write this, my IDE has no complaints about syntax and the test class builds without any compile errors. However when I run it, I get:\r\n\r\n    doTest[0]:\r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n      at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    doTest[1]:\r\n    java.lang.IllegalArgumentException: argument type mismatch\r\n      at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\r\nWhat exactly has gone wrong here, and how do I correctly use this pattern?","title":"How do I use a JUnit Parameterized runner with a varargs constructor?","body":"<p>I wrote a mockup example to illustrate this without exposing anything confidential. It's a \"dummy\" example which does nothing, but the problem occurs in the test initialiser.</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class ExampleParamTest\n{\n int ordinal;\n List&lt;String&gt; strings;\n\n public ExampleParamTest(int ordinal, String... strings)\n {\n  this.ordinal = ordinal;\n  if (strings.length == 0)\n  {\n   this.strings = null;\n  }\n  else\n  {\n   this.strings = Arrays.asList(strings);\n  }\n }\n\n @Parameters\n public static Collection&lt;Object[]&gt; data() {\n  return Arrays.asList(new Object[][] {\n    {0, \"hello\", \"goodbye\"},\n    {1, \"farewell\"}\n  });\n }\n\n @Test\n public void doTest() {\n  Assert.assertTrue(true);\n }\n}\n</code></pre>\n\n<p>Basically I have a test constructor which accepts multiple arguments for a local list variable and I want to populate this through an array initialiser. The test method will handle the local list variable correctly - I have removed this logic to simplify the test.</p>\n\n<p>When I write this, my IDE has no complaints about syntax and the test class builds without any compile errors. However when I run it, I get:</p>\n\n<pre><code>doTest[0]:\njava.lang.IllegalArgumentException: wrong number of arguments\n  at java.lang.reflect.Constructor.newInstance(Unknown Source)\ndoTest[1]:\njava.lang.IllegalArgumentException: argument type mismatch\n  at java.lang.reflect.Constructor.newInstance(Unknown Source)\n</code></pre>\n\n<p>What exactly has gone wrong here, and how do I correctly use this pattern?</p>\n"},{"tags":["java"],"owner":{"account_id":242097,"reputation":6273,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671135476,"creation_date":1671135139,"question_id":74817052,"body_markdown":"I am writing a backend which should act intermediator to private APIs.\r\n\r\nThe backend should receive data in different models and send them to the private APIs. I want the backend to be able to receive the similar information, but in different data models. The models should be defined by the contributor, at runtime.\r\n\r\nThe goal is to shield the private API from flexible models and decouple the private API from changing models completely.\r\n\r\nExample of 2 models containing similar information:\r\n\r\nModel1\r\n```\r\n&lt;Entity&gt;Building:\r\n Inhabitant: 10\r\n Optional&lt;Size&gt;: 1000 square meters\r\n\r\n&lt;Entity&gt;Address:\r\n Street: wall street\r\n HousenNr: 1\r\n```\r\n\r\nModel2\r\n```\r\n&lt;Entity&gt;Site:\r\n People: 10\r\n Street: wall street\r\n HousenNr: 1\r\n\r\n```\r\nIs there a notation which would allow contributing at runtime, together with the model, also the mapping of the model fields to private API calls, allowing to store the model?\r\n\r\nSo that one gets to know, \r\nthat to store data in both models - one needs to do \r\n - the following API calls\r\n - in the following order\r\ndepending on how the private API looks like.\r\n\r\n\r\n\r\nExample of API calls, needed to store data from model1, model2:\r\n```\r\nPOST /location/\r\n{\r\nresidents: 10;\r\nsite: 1000\r\n}\r\n\r\nPOST /location/address/\r\n{\r\nstreet: wall street;\r\nhouse: 1\r\n}\r\n\r\n```\r\n","title":"Contribute a mapping to API calls as model annotations in Java","body":"<p>I am writing a backend which should act intermediator to private APIs.</p>\n<p>The backend should receive data in different models and send them to the private APIs. I want the backend to be able to receive the similar information, but in different data models. The models should be defined by the contributor, at runtime.</p>\n<p>The goal is to shield the private API from flexible models and decouple the private API from changing models completely.</p>\n<p>Example of 2 models containing similar information:</p>\n<p>Model1</p>\n<pre><code>&lt;Entity&gt;Building:\n Inhabitant: 10\n Optional&lt;Size&gt;: 1000 square meters\n\n&lt;Entity&gt;Address:\n Street: wall street\n HousenNr: 1\n</code></pre>\n<p>Model2</p>\n<pre><code>&lt;Entity&gt;Site:\n People: 10\n Street: wall street\n HousenNr: 1\n\n</code></pre>\n<p>Is there a notation which would allow contributing at runtime, together with the model, also the mapping of the model fields to private API calls, allowing to store the model?</p>\n<p>So that one gets to know,\nthat to store data in both models - one needs to do</p>\n<ul>\n<li>the following API calls</li>\n<li>in the following order\ndepending on how the private API looks like.</li>\n</ul>\n<p>Example of API calls, needed to store data from model1, model2:</p>\n<pre><code>POST /location/\n{\nresidents: 10;\nsite: 1000\n}\n\nPOST /location/address/\n{\nstreet: wall street;\nhouse: 1\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-aws"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671135258,"creation_date":1671135258,"answer_id":74817070,"question_id":74816890,"body_markdown":"The `ContextResourceLoaderAutoConfiguration` class indirectly imports `ContextResourceLoaderConfiguration.Registrar`, which has a hard-coded bean registration for an `AmazonS3Client` buried inside it. Neither the registrar nor the auto-configuration class supports the usual well-behaved property conditions to disable S3 client creation (e.g., `cloud.aws.{s3,loader}.enabled=false`).\r\n\r\nIn order to suppress creation of the S3 client (which is unconditional), the `ContextResourceLoaderAutoConfiguration` class must be listed in the `exclude` parameter of the `@EnableAutoConfiguration` or `@SpringBootApplication` annotation.","title":"Where does Spring Cloud AWS 2.x auto-configure the AmazonS3 bean?","body":"<p>The <code>ContextResourceLoaderAutoConfiguration</code> class indirectly imports <code>ContextResourceLoaderConfiguration.Registrar</code>, which has a hard-coded bean registration for an <code>AmazonS3Client</code> buried inside it. Neither the registrar nor the auto-configuration class supports the usual well-behaved property conditions to disable S3 client creation (e.g., <code>cloud.aws.{s3,loader}.enabled=false</code>).</p>\n<p>In order to suppress creation of the S3 client (which is unconditional), the <code>ContextResourceLoaderAutoConfiguration</code> class must be listed in the <code>exclude</code> parameter of the <code>@EnableAutoConfiguration</code> or <code>@SpringBootApplication</code> annotation.</p>\n"}],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74817070,"answer_count":1,"score":1,"last_activity_date":1671135258,"creation_date":1671134201,"question_id":74816890,"body_markdown":"I&#39;m currently running into the [well-known startup failure](https://github.com/spring-attic/spring-cloud-aws/issues/148#issuecomment-218163733) where Spring Cloud AWS is attempting to create an `AmazonS3` bean but doesn&#39;t have a region defined. In a particular profile, I do not want Spring Cloud AWS to activate _anything at all_. I have successfully suppressed SNS and SQS with `cloud.aws.{sns,sqs}.enabled=false`, but I can&#39;t find where the `AmazonWebserviceClientFactoryBean&lt;AmazonS3&gt;` is injected into the context; debugging the constructor shows it&#39;s being lazily created from a bean definition.\r\n\r\nWhat code in Spring Cloud AWS auto-configures the bean for the `AmazonS3` client?","title":"Where does Spring Cloud AWS 2.x auto-configure the AmazonS3 bean?","body":"<p>I'm currently running into the <a href=\"https://github.com/spring-attic/spring-cloud-aws/issues/148#issuecomment-218163733\" rel=\"nofollow noreferrer\">well-known startup failure</a> where Spring Cloud AWS is attempting to create an <code>AmazonS3</code> bean but doesn't have a region defined. In a particular profile, I do not want Spring Cloud AWS to activate <em>anything at all</em>. I have successfully suppressed SNS and SQS with <code>cloud.aws.{sns,sqs}.enabled=false</code>, but I can't find where the <code>AmazonWebserviceClientFactoryBean&lt;AmazonS3&gt;</code> is injected into the context; debugging the constructor shows it's being lazily created from a bean definition.</p>\n<p>What code in Spring Cloud AWS auto-configures the bean for the <code>AmazonS3</code> client?</p>\n"},{"tags":["java","c","comments"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1671132020,"post_id":74816497,"comment_id":132038272,"body_markdown":"Honestly, it&#39;s not clear to me what your teacher actually wanted you to do for these three questions.  I think the best thing for you to do is to ask them.","body":"Honestly, it&#39;s not clear to me what your teacher actually wanted you to do for these three questions.  I think the best thing for you to do is to ask them."}],"answers":[{"comments":[{"owner":{"account_id":27172177,"reputation":9,"user_id":20708675,"display_name":"Tina"},"score":0,"creation_date":1671132746,"post_id":74816545,"comment_id":132038524,"body_markdown":"Okay. I understand that for question 10, but for 8 and 9 I still don&#39;t understand. Could you give me an example?","body":"Okay. I understand that for question 10, but for 8 and 9 I still don&#39;t understand. Could you give me an example?"},{"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"score":0,"creation_date":1671145208,"post_id":74816545,"comment_id":132041983,"body_markdown":"I&#39;m still making assumptions because the use of the term &#39;comment&#39; is making it more confusing. If taken literally, what is currently written in 8 and 9 are multi and single-line comments.\n\nOtherwise I would read this document to understand the CLI arguments a little better: https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html","body":"I&#39;m still making assumptions because the use of the term &#39;comment&#39; is making it more confusing. If taken literally, what is currently written in 8 and 9 are multi and single-line comments.  Otherwise I would read this document to understand the CLI arguments a little better: <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>"}],"tags":[],"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671132268,"creation_date":1671132161,"answer_id":74816545,"question_id":74816497,"body_markdown":"I believe your teacher meant for the program to accept strings as an argument.\r\n\r\nThat&#39;s what the &#39;args&#39; in the main method represents, you would pass an argument, or in this case a comment, when running the program.\r\n\r\nThe String[] args would be represented as an array of strings. You would simply have to access this in your program like a normal array.\r\n\r\n\r\nThis is all a hunch on what is asked based on your post though, clarify with your teacher on this.","title":"Writing a Multiline/ Single line comment in Java/C","body":"<p>I believe your teacher meant for the program to accept strings as an argument.</p>\n<p>That's what the 'args' in the main method represents, you would pass an argument, or in this case a comment, when running the program.</p>\n<p>The String[] args would be represented as an array of strings. You would simply have to access this in your program like a normal array.</p>\n<p>This is all a hunch on what is asked based on your post though, clarify with your teacher on this.</p>\n"},{"tags":[],"owner":{"account_id":12814657,"reputation":46,"user_id":9271650,"display_name":"krivo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671134761,"creation_date":1671134761,"answer_id":74816978,"question_id":74816497,"body_markdown":"Yes, I think you have missungerstood the questions. The task is to write a program that **accepts** single/multi line comment/your name. That means it takes an input from somewhere (console, file, network etc.), from eg. the user and probably answers whether it contained the relevant comment/name. What you have done in contrast is written a program that simply **contains** a comment/name.","title":"Writing a Multiline/ Single line comment in Java/C","body":"<p>Yes, I think you have missungerstood the questions. The task is to write a program that <strong>accepts</strong> single/multi line comment/your name. That means it takes an input from somewhere (console, file, network etc.), from eg. the user and probably answers whether it contained the relevant comment/name. What you have done in contrast is written a program that simply <strong>contains</strong> a comment/name.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671135239,"creation_date":1671134827,"answer_id":74816990,"question_id":74816497,"body_markdown":"&quot;Write a program that can accept a multiline comment in C/Java&quot; means that you should write a program that accepts a String as input, and then checks whether this String follows the rules for Java/C/C++ multiline comments:\r\n\r\n```Java\r\npublic final class Main \r\n{\r\n  public static final void main( final String... args ) \r\n  {\r\n     if( !isValidMultilineComment( args [0] ) throw new IllegalArgumentException();\r\n     System.out.println( &quot;Valid comment entered!&quot; );\r\n  }\r\n}\r\n```\r\n\r\nSo now your task is to implement the function `isValidMultilineComment(String)` \r\n\r\nThe task for your question #9 is similar, but there you have to implement `isValidSingleLineComment(String)`.\r\n\r\nAnd for #10, the check is simply\r\n```Java\r\n\r\nif( !args.contains( &quot;Kayla Moore&quot; ) ) throw new IllegalArgumentException();\r\n\r\n```\r\n\r\n","title":"Writing a Multiline/ Single line comment in Java/C","body":"<p>&quot;Write a program that can accept a multiline comment in C/Java&quot; means that you should write a program that accepts a String as input, and then checks whether this String follows the rules for Java/C/C++ multiline comments:</p>\n<pre><code>public final class Main \n{\n  public static final void main( final String... args ) \n  {\n     if( !isValidMultilineComment( args [0] ) throw new IllegalArgumentException();\n     System.out.println( &quot;Valid comment entered!&quot; );\n  }\n}\n</code></pre>\n<p>So now your task is to implement the function <code>isValidMultilineComment(String)</code> </p>\n<p>The task for your question #9 is similar, but there you have to implement <code>isValidSingleLineComment(String)</code>.</p>\n<p>And for #10, the check is simply</p>\n<pre><code>\nif( !args.contains( &quot;Kayla Moore&quot; ) ) throw new IllegalArgumentException();\n\n</code></pre>\n"}],"owner":{"account_id":27172177,"reputation":9,"user_id":20708675,"display_name":"Tina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1671135239,"creation_date":1671131845,"question_id":74816497,"body_markdown":"so I&#39;m redoing my test right now for Programming language concepts because I got a 30% on it. I think my teacher graded it wrong though (unless I completely misunderstood the question) and took off 30 points for these three questions:\r\n\r\n8. Write a program that can accept a multiline comment in C/Java\r\n9. Write a program that can accept a single line comment in C/Java\r\n10. Write A program that can accept a string that has your name in it\r\n\r\nthe feedback just reads that i got -10 points off each\r\n\r\nDid I do this wrong/ incorrectly? Here&#39;s my code for each:\r\n\r\n\r\nQuestion 8\r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    /* A multiline comment is a comment\r\n      that spans multiple lines in\r\n      a program :)\r\n    */\r\n    System.out.println(&quot;Hello world!&quot;);\r\n  }\r\n}\r\n```\r\nQuestion 9\r\n\r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    //This is a one line comment\r\n    System.out.println(&quot;Hello world!&quot;);\r\n  }\r\n}\r\n```\r\n\r\nQuestion 10\r\n\r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    String x = &quot;Kayla&quot;;\r\n    String y = &quot; Moore&quot;;\r\n    System.out.println(&quot;Hello! My name is: &quot; + x + y );\r\n  }\r\n}\r\n```\r\n \r\n\r\nPlease help me understand!\r\n\r\n \r\n","title":"Writing a Multiline/ Single line comment in Java/C","body":"<p>so I'm redoing my test right now for Programming language concepts because I got a 30% on it. I think my teacher graded it wrong though (unless I completely misunderstood the question) and took off 30 points for these three questions:</p>\n<ol start=\"8\">\n<li>Write a program that can accept a multiline comment in C/Java</li>\n<li>Write a program that can accept a single line comment in C/Java</li>\n<li>Write A program that can accept a string that has your name in it</li>\n</ol>\n<p>the feedback just reads that i got -10 points off each</p>\n<p>Did I do this wrong/ incorrectly? Here's my code for each:</p>\n<p>Question 8</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    /* A multiline comment is a comment\n      that spans multiple lines in\n      a program :)\n    */\n    System.out.println(&quot;Hello world!&quot;);\n  }\n}\n</code></pre>\n<p>Question 9</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    //This is a one line comment\n    System.out.println(&quot;Hello world!&quot;);\n  }\n}\n</code></pre>\n<p>Question 10</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    String x = &quot;Kayla&quot;;\n    String y = &quot; Moore&quot;;\n    System.out.println(&quot;Hello! My name is: &quot; + x + y );\n  }\n}\n</code></pre>\n<p>Please help me understand!</p>\n"},{"tags":["java","android","html","kotlin","webview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671181665,"post_id":74816989,"comment_id":132048064,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27265394,"reputation":1,"user_id":20787521,"display_name":"Mansi Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671134824,"creation_date":1671134824,"question_id":74816989,"body_markdown":"I am making a webview Application in which I want to set header and footer in native and rest middle part in webview. so for setting different header and footer for different pages I want to load different fragments for different url.\r\n\r\nwhat I am doing is that I have taken one url loaded webview for it in fragment using loadUrl() and then check the url pattern and opened different fragment for it.  \r\n\r\nBut the problem I am facing is that when in current fragment say F1 having some item list, I am clicking on any one item I get the url using doUpdateVisitedHistory() and then loading the item details in new fragment say F2 using url catched in doUpdateVisitedHistory() but when returning back to previous fragment F1 from F2 that particular item details are also getting open in F1 but what I want is that item details only get opened in F2 when url is hit and when coming back on F1 from F2, F1 remains the same as it was before the item was clicked containg items list i.e. item details don&#39;t get loaded in F1.   \r\n\r\n\r\nFor solving this issue:\r\n \r\n1. I have tried to catch the url in shouldOverrideUrlLoading() function of webview but the url is not getting catched in that particular function so not able to stop loading of url in current fragment.\r\n\r\n2. I have also tried webview.stoploading() for this but its also not working. \r\n\r\nSo how can I stop loading url in current fragment and open new fragment for it leaving the current fragment as it is...","title":"open new fragment for different urls in webview without getting Url (web page) loaded in previous fragment","body":"<p>I am making a webview Application in which I want to set header and footer in native and rest middle part in webview. so for setting different header and footer for different pages I want to load different fragments for different url.</p>\n<p>what I am doing is that I have taken one url loaded webview for it in fragment using loadUrl() and then check the url pattern and opened different fragment for it.</p>\n<p>But the problem I am facing is that when in current fragment say F1 having some item list, I am clicking on any one item I get the url using doUpdateVisitedHistory() and then loading the item details in new fragment say F2 using url catched in doUpdateVisitedHistory() but when returning back to previous fragment F1 from F2 that particular item details are also getting open in F1 but what I want is that item details only get opened in F2 when url is hit and when coming back on F1 from F2, F1 remains the same as it was before the item was clicked containg items list i.e. item details don't get loaded in F1.</p>\n<p>For solving this issue:</p>\n<ol>\n<li><p>I have tried to catch the url in shouldOverrideUrlLoading() function of webview but the url is not getting catched in that particular function so not able to stop loading of url in current fragment.</p>\n</li>\n<li><p>I have also tried webview.stoploading() for this but its also not working.</p>\n</li>\n</ol>\n<p>So how can I stop loading url in current fragment and open new fragment for it leaving the current fragment as it is...</p>\n"},{"tags":["java","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671134769,"creation_date":1671134769,"answer_id":74816981,"question_id":74812791,"body_markdown":"Done, i just had to delete the\r\n\r\n    android:background = &quot;&quot;\r\n\r\nand just set the:\r\n\r\n    android:backgroundTint = &quot;&quot;\r\n\r\nto green...","title":"How do i change the background on the buttons XML-AndroidStudio?","body":"<p>Done, i just had to delete the</p>\n<pre><code>android:background = &quot;&quot;\n</code></pre>\n<p>and just set the:</p>\n<pre><code>android:backgroundTint = &quot;&quot;\n</code></pre>\n<p>to green...</p>\n"}],"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671134769,"creation_date":1671113000,"question_id":74812791,"body_markdown":"I am developing a small app in Android Studio, but I can&#39;t change the button color. I&#39;ve tried everyting, changing only the background, the backgroundtint, to make a new drawable object, but I can&#39;t seem to find any answer, this is my button XML layout:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/calc&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;55dp&quot;\r\n        android:layout_marginTop=&quot;45dp&quot;\r\n        android:background=&quot;@drawable/round_green_shape&quot;\r\n        android:text=&quot;CALCULA&quot;&gt;\r\n    &lt;/Button&gt;\r\n\r\nAnd this is the XML for my background:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;\r\n        android:padding = &quot;10dp&quot;&gt;\r\n\r\n    &lt;solid android:color=&quot;@color/buttonsGreen&quot;&gt;\r\n    &lt;/solid&gt;\r\n\r\n    &lt;corners\r\n        android:radius=&quot;15dp&quot;&gt;\r\n    &lt;/corners&gt;\r\n    &lt;/shape&gt;\r\n\r\nBut this is how my bottons look:\r\n[![enter image description here][1]][1]\r\n\r\nAnd on the app they look the same:\r\n[![enter image description here][2]][2]\r\n\r\nI would appreciate any help,\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9BJsU.jpg\r\n  [2]: https://i.stack.imgur.com/tVsaq.jpg","title":"How do i change the background on the buttons XML-AndroidStudio?","body":"<p>I am developing a small app in Android Studio, but I can't change the button color. I've tried everyting, changing only the background, the backgroundtint, to make a new drawable object, but I can't seem to find any answer, this is my button XML layout:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/calc&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;55dp&quot;\n    android:layout_marginTop=&quot;45dp&quot;\n    android:background=&quot;@drawable/round_green_shape&quot;\n    android:text=&quot;CALCULA&quot;&gt;\n&lt;/Button&gt;\n</code></pre>\n<p>And this is the XML for my background:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;\n    android:padding = &quot;10dp&quot;&gt;\n\n&lt;solid android:color=&quot;@color/buttonsGreen&quot;&gt;\n&lt;/solid&gt;\n\n&lt;corners\n    android:radius=&quot;15dp&quot;&gt;\n&lt;/corners&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>But this is how my bottons look:\n<a href=\"https://i.stack.imgur.com/9BJsU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9BJsU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And on the app they look the same:\n<a href=\"https://i.stack.imgur.com/tVsaq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tVsaq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I would appreciate any help,</p>\n<p>Thank you</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1671137194,"post_id":74816975,"comment_id":132039965,"body_markdown":"With some luck you can put prometheus on the module path, making it an automatic module.","body":"With some luck you can put prometheus on the module path, making it an automatic module."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1671168759,"post_id":74816975,"comment_id":132045436,"body_markdown":"Try java command line `--add-reads your.module=ALL-UNNAMED`.  If that works I&#39;ll document it in an answer.","body":"Try java command line <code>--add-reads your.module=ALL-UNNAMED</code>.  If that works I&#39;ll document it in an answer."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1671177499,"post_id":74816975,"comment_id":132047011,"body_markdown":"Alternately try &#39;requires simpleclient&#39; in your own module-info which is the automatic module name when one isn&#39;t defined otherwise.","body":"Alternately try &#39;requires simpleclient&#39; in your own module-info which is the automatic module name when one isn&#39;t defined otherwise."}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671134754,"creation_date":1671134754,"question_id":74816975,"body_markdown":"I have a simple Java project using the non-modularized dependency &quot;io.prometheus:simpleclient_hotspot:0.16.0&quot;. It has been working fine until, for other reasons, I wanted to use the Java module system and add a `module-info.java` to my project. Once I do that, I start getting the compilation error:\r\n\r\n    error: package io.prometheus.client is not visible import io.prometheus.client.CollectorRegistry;\r\n                        ^   (package io.prometheus.client is declared in the unnamed module, but module simpleserver does not read it)\r\n\r\nThe prometheus client library isn&#39;t modularized, so it is called an &quot;unnamed module&quot;. How do I get access to the packages of such a library? I assume I add a dependency in my `module-info.java`?\r\n\r\nThis seems like a basic, common JPMS newbie issue, but after doing lots of searches I can&#39;t find the solution to this issue.","title":"Java JPMS: `package xxx is not visible`","body":"<p>I have a simple Java project using the non-modularized dependency &quot;io.prometheus:simpleclient_hotspot:0.16.0&quot;. It has been working fine until, for other reasons, I wanted to use the Java module system and add a <code>module-info.java</code> to my project. Once I do that, I start getting the compilation error:</p>\n<pre><code>error: package io.prometheus.client is not visible import io.prometheus.client.CollectorRegistry;\n                    ^   (package io.prometheus.client is declared in the unnamed module, but module simpleserver does not read it)\n</code></pre>\n<p>The prometheus client library isn't modularized, so it is called an &quot;unnamed module&quot;. How do I get access to the packages of such a library? I assume I add a dependency in my <code>module-info.java</code>?</p>\n<p>This seems like a basic, common JPMS newbie issue, but after doing lots of searches I can't find the solution to this issue.</p>\n"},{"tags":["java","jasypt"],"comments":[{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":0,"creation_date":1595955203,"post_id":63114412,"comment_id":111650873,"body_markdown":"What is your jvm version ?","body":"What is your jvm version ?"},{"owner":{"account_id":15952102,"reputation":105,"user_id":11511191,"display_name":"Jixo"},"score":1,"creation_date":1596110641,"post_id":63114412,"comment_id":111709766,"body_markdown":"1.8.0_261 since the last update, jasypt is broken.","body":"1.8.0_261 since the last update, jasypt is broken."},{"owner":{"account_id":9209099,"reputation":347,"user_id":6843123,"accept_rate":100,"display_name":"Aleksander Burzec"},"score":0,"creation_date":1596720154,"post_id":63114412,"comment_id":111905914,"body_markdown":"Did you resolve this issue? I saw this error today and I have no idea, why it stopped working...","body":"Did you resolve this issue? I saw this error today and I have no idea, why it stopped working..."}],"answers":[{"comments":[{"owner":{"account_id":2682926,"reputation":2686,"user_id":2317875,"display_name":"unigeek"},"score":0,"creation_date":1598323945,"post_id":63354330,"comment_id":112414314,"body_markdown":"I didn&#39;t see a release with that commit in it. Just build it locally?","body":"I didn&#39;t see a release with that commit in it. Just build it locally?"},{"owner":{"account_id":8481787,"reputation":11,"user_id":14085638,"display_name":"Leif H"},"score":3,"creation_date":1598424946,"post_id":63354330,"comment_id":112450836,"body_markdown":"In practise I just replaced the old icu4j jar file in my apps lib directory with this one https://repo1.maven.org/maven2/com/ibm/icu/icu4j/67.1/icu4j-67.1.jar","body":"In practise I just replaced the old icu4j jar file in my apps lib directory with this one <a href=\"https://repo1.maven.org/maven2/com/ibm/icu/icu4j/67.1/icu4j-67.1.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/ibm/icu/icu4j/67.1/icu4j-67.1.jar</a>"},{"owner":{"account_id":2682926,"reputation":2686,"user_id":2317875,"display_name":"unigeek"},"score":0,"creation_date":1599051217,"post_id":63354330,"comment_id":112653018,"body_markdown":"Did the following with maven pom:\n\t\t&lt;dependency&gt;\n\t\t    &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\t\t\t    \t\t \n\t\t    &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\t\t\t    \t\t    \n                    &lt;version&gt;1.9.2&lt;/version&gt;\n\t\t\t&lt;exclusions&gt;\n\t\t\t\t&lt;exclusion&gt;\n\t\t\t\t\t&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n\t\t\t\t&lt;/exclusion&gt;\n\t\t\t&lt;/exclusions&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;67.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Did the following with maven pom: \t\t&lt;dependency&gt; \t\t    &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\t\t\t    \t\t  \t\t    &lt;artifactId&gt;jasypt&lt;/artifactId&gt;\t\t\t    \t\t                         &lt;version&gt;1.9.2&lt;/version&gt; \t\t\t&lt;exclusions&gt; \t\t\t\t&lt;exclusion&gt; \t\t\t\t\t&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt; \t\t\t\t\t&lt;artifactId&gt;icu4j&lt;/artifactId&gt; \t\t\t\t&lt;/exclusion&gt; \t\t\t&lt;/exclusions&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;icu4j&lt;/artifactId&gt; \t\t\t&lt;version&gt;67.1&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":8481787,"reputation":11,"user_id":14085638,"display_name":"Leif H"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597134334,"creation_date":1597134334,"answer_id":63354330,"question_id":63114412,"body_markdown":"Problem seems to be related (at least in my case) to icu4j.\r\nFound this commit on jasypt Github https://github.com/jasypt/jasypt/commit/d384f9a755af2938bc142f7575365bee42ba5f22\r\nUpdated dependency and application started running.\r\n","title":"java jasypt suddenly crashes","body":"<p>Problem seems to be related (at least in my case) to icu4j.\nFound this commit on jasypt Github <a href=\"https://github.com/jasypt/jasypt/commit/d384f9a755af2938bc142f7575365bee42ba5f22\" rel=\"nofollow noreferrer\">https://github.com/jasypt/jasypt/commit/d384f9a755af2938bc142f7575365bee42ba5f22</a>\nUpdated dependency and application started running.</p>\n"},{"comments":[{"owner":{"account_id":943792,"reputation":4540,"user_id":971443,"accept_rate":57,"display_name":"Zac"},"score":1,"creation_date":1678378499,"post_id":66147432,"comment_id":133524783,"body_markdown":"that worked also with windows version encrypt.bat","body":"that worked also with windows version encrypt.bat"}],"tags":[],"owner":{"account_id":953871,"reputation":3455,"user_id":979521,"display_name":"Brad Rippe"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1613005872,"creation_date":1613005872,"answer_id":66147432,"question_id":63114412,"body_markdown":"This is not a direct answer, but I&#39;m putting it here in case someone runs upon the issue.\r\n\r\nUsing Java 1.8.0_275, I was getting a\r\n``` \r\njava.lang.ExceptionInInitializerError\r\n```\r\nwhen running the ```encrypt.sh```.\r\n\r\nJasypt version 1.9.3 is using an old version of icu4j-3.4.4.jar. I replaced the icu4j-3.4.4.jar with [icu4j-68_2.jar][1] then I was able to run:\r\n\r\n```./encrypt.sh input=password password=aSecret algorithm=PBEWithMD5AndDES```\r\n\r\nwithout error.\r\n\r\nFor more information, see https://github.com/jasypt/jasypt/issues/58. Even though this is a little different from how you&#39;re running jasypt, I&#39;d recommend updating the icu4j.jar and try again.\r\n\r\n\r\n  [1]: https://github.com/unicode-org/icu/releases/tag/release-68-2","title":"java jasypt suddenly crashes","body":"<p>This is not a direct answer, but I'm putting it here in case someone runs upon the issue.</p>\n<p>Using Java 1.8.0_275, I was getting a</p>\n<pre><code>java.lang.ExceptionInInitializerError\n</code></pre>\n<p>when running the <code>encrypt.sh</code>.</p>\n<p>Jasypt version 1.9.3 is using an old version of icu4j-3.4.4.jar. I replaced the icu4j-3.4.4.jar with <a href=\"https://github.com/unicode-org/icu/releases/tag/release-68-2\" rel=\"noreferrer\">icu4j-68_2.jar</a> then I was able to run:</p>\n<p><code>./encrypt.sh input=password password=aSecret algorithm=PBEWithMD5AndDES</code></p>\n<p>without error.</p>\n<p>For more information, see <a href=\"https://github.com/jasypt/jasypt/issues/58\" rel=\"noreferrer\">https://github.com/jasypt/jasypt/issues/58</a>. Even though this is a little different from how you're running jasypt, I'd recommend updating the icu4j.jar and try again.</p>\n"},{"tags":[],"owner":{"account_id":7919992,"reputation":33,"user_id":5981274,"display_name":"Cris B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671134117,"creation_date":1671134117,"answer_id":74816878,"question_id":63114412,"body_markdown":"A jasypt issue 44 comment on github says just to remove the old icu4j-3.4.4.jar.  IOW, don&#39;t bother tracking down a replacement.  Worked OK for me.  :-)  Thanks `Brad Rippe` for providing the clue!\r\n\r\n`DSOANS commented on Aug 24, 2020`\r\n&gt; It appears the fix is to REMOVE the com.ibm.icu4j jar\r\n&gt; (icu4j-3.4.4.jar) file from the distribution - at least that seems to\r\n&gt; have worked for us.\r\n\r\n[https://github.com/jasypt/jasypt/issues/44][1]\r\n\r\n\r\n  [1]: https://github.com/jasypt/jasypt/issues/44","title":"java jasypt suddenly crashes","body":"<p>A jasypt issue 44 comment on github says just to remove the old icu4j-3.4.4.jar.  IOW, don't bother tracking down a replacement.  Worked OK for me.  :-)  Thanks <code>Brad Rippe</code> for providing the clue!</p>\n<p><code>DSOANS commented on Aug 24, 2020</code></p>\n<blockquote>\n<p>It appears the fix is to REMOVE the com.ibm.icu4j jar\n(icu4j-3.4.4.jar) file from the distribution - at least that seems to\nhave worked for us.</p>\n</blockquote>\n<p><a href=\"https://github.com/jasypt/jasypt/issues/44\" rel=\"nofollow noreferrer\">https://github.com/jasypt/jasypt/issues/44</a></p>\n"}],"owner":{"account_id":15952102,"reputation":105,"user_id":11511191,"display_name":"Jixo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6210,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1671134117,"creation_date":1595849537,"question_id":63114412,"body_markdown":"Since yesterday my textencrypter(jasypt) stopped working for no reason. Here is a code example and the error msg. Does anybody know what is going on?\r\n\r\nCode example:\r\n```\r\n\t\tStrongTextEncryptor crypter = new StrongTextEncryptor();\r\n\t\tcrypter.setPassword(&quot;Password&quot;);\r\n\t\tcrypter.encrypt(&quot;Test&quot;);\r\n```\r\nError msg:\r\n```\r\nException in thread &quot;main&quot; org.jasypt.exceptions.EncryptionInitializationException: java.lang.ExceptionInInitializerError\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:773)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:566)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.encrypt(StandardPBEStringEncryptor.java:644)\r\n\tat org.jasypt.util.text.StrongTextEncryptor.encrypt(StrongTextEncryptor.java:107)\r\n\tat A.main(A.java:8)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat com.ibm.icu.impl.NormalizerDataReader.&lt;clinit&gt;(NormalizerDataReader.java:300)\r\n\tat com.ibm.icu.impl.NormalizerImpl.&lt;init&gt;(NormalizerImpl.java:288)\r\n\tat com.ibm.icu.impl.NormalizerImpl.&lt;clinit&gt;(NormalizerImpl.java:35)\r\n\tat com.ibm.icu.text.Normalizer$Mode.normalize(Normalizer.java:188)\r\n\tat com.ibm.icu.text.Normalizer.normalize(Normalizer.java:1177)\r\n\tat com.ibm.icu.text.Normalizer.normalize(Normalizer.java:1146)\r\n\tat org.jasypt.normalization.Normalizer.normalizeWithIcu4j(Normalizer.java:205)\r\n\tat org.jasypt.normalization.Normalizer.normalizeToNfc(Normalizer.java:129)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:718)\r\n\t... 4 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid version number: Version number may be negative or greater than 255\r\n\tat com.ibm.icu.util.VersionInfo.getInstance(VersionInfo.java:188)\r\n\tat com.ibm.icu.impl.ICUDebug.getInstanceLenient(ICUDebug.java:65)\r\n\tat com.ibm.icu.impl.ICUDebug.&lt;clinit&gt;(ICUDebug.java:69)\r\n\t... 13 more\r\n```\r\n","title":"java jasypt suddenly crashes","body":"<p>Since yesterday my textencrypter(jasypt) stopped working for no reason. Here is a code example and the error msg. Does anybody know what is going on?</p>\n<p>Code example:</p>\n<pre><code>        StrongTextEncryptor crypter = new StrongTextEncryptor();\n        crypter.setPassword(&quot;Password&quot;);\n        crypter.encrypt(&quot;Test&quot;);\n</code></pre>\n<p>Error msg:</p>\n<pre><code>Exception in thread &quot;main&quot; org.jasypt.exceptions.EncryptionInitializationException: java.lang.ExceptionInInitializerError\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:773)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:566)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.encrypt(StandardPBEStringEncryptor.java:644)\n    at org.jasypt.util.text.StrongTextEncryptor.encrypt(StrongTextEncryptor.java:107)\n    at A.main(A.java:8)\nCaused by: java.lang.ExceptionInInitializerError\n    at com.ibm.icu.impl.NormalizerDataReader.&lt;clinit&gt;(NormalizerDataReader.java:300)\n    at com.ibm.icu.impl.NormalizerImpl.&lt;init&gt;(NormalizerImpl.java:288)\n    at com.ibm.icu.impl.NormalizerImpl.&lt;clinit&gt;(NormalizerImpl.java:35)\n    at com.ibm.icu.text.Normalizer$Mode.normalize(Normalizer.java:188)\n    at com.ibm.icu.text.Normalizer.normalize(Normalizer.java:1177)\n    at com.ibm.icu.text.Normalizer.normalize(Normalizer.java:1146)\n    at org.jasypt.normalization.Normalizer.normalizeWithIcu4j(Normalizer.java:205)\n    at org.jasypt.normalization.Normalizer.normalizeToNfc(Normalizer.java:129)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:718)\n    ... 4 more\nCaused by: java.lang.IllegalArgumentException: Invalid version number: Version number may be negative or greater than 255\n    at com.ibm.icu.util.VersionInfo.getInstance(VersionInfo.java:188)\n    at com.ibm.icu.impl.ICUDebug.getInstanceLenient(ICUDebug.java:65)\n    at com.ibm.icu.impl.ICUDebug.&lt;clinit&gt;(ICUDebug.java:69)\n    ... 13 more\n</code></pre>\n"},{"tags":["java","jsp","servlets","cookies","scriptlet"],"answers":[{"comments":[{"owner":{"account_id":1153185,"reputation":4975,"user_id":1134468,"accept_rate":89,"display_name":"Colin747"},"score":0,"creation_date":1359937603,"post_id":14678835,"comment_id":20521415,"body_markdown":"The `for` loop only has one field in the array, this is an issue I will look at later but for now it works.\n\nYou solution did not work, after your code is ran the `setMaxAge` remains at `-1`.","body":"The <code>for</code> loop only has one field in the array, this is an issue I will look at later but for now it works.  You solution did not work, after your code is ran the <code>setMaxAge</code> remains at <code>-1</code>."},{"owner":{"account_id":1556758,"reputation":179,"user_id":1447627,"display_name":"koji"},"score":0,"creation_date":1359938388,"post_id":14678835,"comment_id":20521543,"body_markdown":"How did you check thats value? from browser or once more JSP?","body":"How did you check thats value? from browser or once more JSP?"},{"owner":{"account_id":1153185,"reputation":4975,"user_id":1134468,"accept_rate":89,"display_name":"Colin747"},"score":0,"creation_date":1359938614,"post_id":14678835,"comment_id":20521582,"body_markdown":"I used the following code:\n\n\n`Cookie[] cookies2 = null;\n\t\t\tcookies2 = request.getCookies();\n\t\t\tif(cookies2 != null){\n\t\t\t\tfor(int i = 0; i &lt; cookies2.length; i++){\n\t\t\t\t\t Cookie cookie2 = cookies[i];\n\t\t\t\t\t if(cookie2.getName().equals(&quot;componentSearchOptionSelect&quot;)){\n\t\t\t\t\t\t System.out.println(cookie2.getMaxAge());\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t}`","body":"I used the following code:   <code>Cookie[] cookies2 = null; \t\t\tcookies2 = request.getCookies(); \t\t\tif(cookies2 != null){ \t\t\t\tfor(int i = 0; i &lt; cookies2.length; i++){ \t\t\t\t\t Cookie cookie2 = cookies[i]; \t\t\t\t\t if(cookie2.getName().equals(&quot;componentSearchOptionSelect&quot;)){ \t\t\t\t\t\t System.out.println(cookie2.getMaxAge()); \t\t\t\t\t } \t\t\t\t } \t\t\t}</code>"},{"owner":{"account_id":1556758,"reputation":179,"user_id":1447627,"display_name":"koji"},"score":0,"creation_date":1359940656,"post_id":14678835,"comment_id":20521937,"body_markdown":"for example, do you delete and check Cookie in the same jsp?  \nthis is of course Cookie is not yet delete from Browser.  \nBecause your action(delete) not yet provided to Browser.  \n  \na.jsp -&gt; delete Cookie and show HTML.  \nb.jsp -&gt; check Cookie.  \n  \ncan you do?  \nmaybe you can watch yet Cookie on Browser.  \nbut maybe Browser not provide that Cookie to b.jsp.","body":"for example, do you delete and check Cookie in the same jsp?   this is of course Cookie is not yet delete from Browser.   Because your action(delete) not yet provided to Browser.      a.jsp -&gt; delete Cookie and show HTML.   b.jsp -&gt; check Cookie.      can you do?   maybe you can watch yet Cookie on Browser.   but maybe Browser not provide that Cookie to b.jsp."},{"owner":{"account_id":1153185,"reputation":4975,"user_id":1134468,"accept_rate":89,"display_name":"Colin747"},"score":0,"creation_date":1359941851,"post_id":14678835,"comment_id":20522139,"body_markdown":"The problem is when I refresh the same .JSP page the cookie still exists even when it should have been previously deleted before the page refresh. It can be seen in the browser dev tools (Chrome) and as it is also setting my selected drop down option.","body":"The problem is when I refresh the same .JSP page the cookie still exists even when it should have been previously deleted before the page refresh. It can be seen in the browser dev tools (Chrome) and as it is also setting my selected drop down option."}],"tags":[],"owner":{"account_id":1556758,"reputation":179,"user_id":1447627,"display_name":"koji"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359937767,"creation_date":1359936304,"answer_id":14678835,"question_id":14678735,"body_markdown":"Please try this.\r\n\r\n    /*\r\n\tCookie[] cookies = null;\r\n\tcookies = request.getCookies();\r\n\tif(cookies != null){\r\n\t    for(int i = 0; i &lt; cookies.length; i++){\r\n\t         Cookie cookie = cookies[i];\r\n\t         if(cookie.getName().equals(&quot;componentSearchOptionSelect&quot;)){\r\n\t             selectedClass = cookie.getValue();\r\n\t             cookie.setMaxAge(0);\r\n\t             response.addCookie(cookie);\r\n\t         }\r\n\t     }\r\n\t}\r\n\t*/\r\n\r\n\tCookie cookie = new Cookie(&quot;componentSearchOptionSelect&quot;, &quot;&quot;);\r\n\tcookie.setMaxAge(0);\r\n\tresponse.addCookie(cookie);\r\n\r\nBy the way, Why do you set same value to `Cookie` many times?\r\nThe value of the cookie `componentSearchOptionSelect` is the value of the last from `request.getParameterValues(&quot;classId&quot;))`.","title":"Deleting Java cookie in .JSP file","body":"<p>Please try this.</p>\n\n<pre><code>/*\nCookie[] cookies = null;\ncookies = request.getCookies();\nif(cookies != null){\n    for(int i = 0; i &lt; cookies.length; i++){\n         Cookie cookie = cookies[i];\n         if(cookie.getName().equals(\"componentSearchOptionSelect\")){\n             selectedClass = cookie.getValue();\n             cookie.setMaxAge(0);\n             response.addCookie(cookie);\n         }\n     }\n}\n*/\n\nCookie cookie = new Cookie(\"componentSearchOptionSelect\", \"\");\ncookie.setMaxAge(0);\nresponse.addCookie(cookie);\n</code></pre>\n\n<p>By the way, Why do you set same value to <code>Cookie</code> many times?\nThe value of the cookie <code>componentSearchOptionSelect</code> is the value of the last from <code>request.getParameterValues(\"classId\"))</code>.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671134050,"creation_date":1359937707,"answer_id":14678988,"question_id":14678735,"body_markdown":"JSP as being a view technology is responsible for generating the HTTP response body. Cookies have to go in the HTTP response headers. So if you put that cookie code halfway in a JSP and JSP has at that point already genrated that much of HTML which caused that the response is already committed, then it&#39;s simply too late to set a HTTP response header. The HTTP response headers have already been sent to the client, which is a point of no return. If you have paid attention to the server logs, then you should have noticed an `IllegalStateException` with a pretty self-explaining message and trace.\r\n\r\nSo, to fix your problem, just make sure that you delete the cookie when the response isn&#39;t committed yet. Put the *scriptlet* containing all the business logic in the very top of the JSP page, long before the JSP writes anything to the HTTP response body.\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;%\r\n        // Business logic here.\r\n    %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        ... (presentation logic here)\r\n    &lt;/html&gt;\r\n\r\nActually, JSP is the **wrong** place to perform business logic (read: [you should not be using *scriptlets* at all][1]). You should be using a [servlet][2] or [servlet filter][3] for this. In your particular case, I think you just need a servlet with `doGet()` as demonstrated in https://stackoverflow.com/questions/3590961/calling-a-servlet-from-jsp-file-on-page-load/3590973#3590973.\r\n\r\n  [1]: https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files/3180202#3180202\r\n  [2]: https://stackoverflow.com/tags/servlets/info\r\n  [3]: https://stackoverflow.com/tags/servlet-filters/info","title":"Deleting Java cookie in .JSP file","body":"<p>JSP as being a view technology is responsible for generating the HTTP response body. Cookies have to go in the HTTP response headers. So if you put that cookie code halfway in a JSP and JSP has at that point already genrated that much of HTML which caused that the response is already committed, then it's simply too late to set a HTTP response header. The HTTP response headers have already been sent to the client, which is a point of no return. If you have paid attention to the server logs, then you should have noticed an <code>IllegalStateException</code> with a pretty self-explaining message and trace.</p>\n<p>So, to fix your problem, just make sure that you delete the cookie when the response isn't committed yet. Put the <em>scriptlet</em> containing all the business logic in the very top of the JSP page, long before the JSP writes anything to the HTTP response body.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%\n    // Business logic here.\n%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    ... (presentation logic here)\n&lt;/html&gt;\n</code></pre>\n<p>Actually, JSP is the <strong>wrong</strong> place to perform business logic (read: <a href=\"https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files/3180202#3180202\">you should not be using <em>scriptlets</em> at all</a>). You should be using a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> or <a href=\"https://stackoverflow.com/tags/servlet-filters/info\">servlet filter</a> for this. In your particular case, I think you just need a servlet with <code>doGet()</code> as demonstrated in <a href=\"https://stackoverflow.com/questions/3590961/calling-a-servlet-from-jsp-file-on-page-load/3590973#3590973\">Calling a servlet from JSP file on page load</a>.</p>\n"}],"owner":{"account_id":1153185,"reputation":4975,"user_id":1134468,"accept_rate":89,"display_name":"Colin747"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14678988,"answer_count":2,"score":1,"last_activity_date":1671134050,"creation_date":1359935358,"question_id":14678735,"body_markdown":"I&#39;m using the following function to create a cookie which is set in a Java Servlet. I am trying to delete it in a scriptlet in a .JSP file. However it is not deleting the cookie, any ideas as to why?\r\n\r\nThis is the function that I am using to create the cookie in the Servlet:\r\n\r\n\t\tfor(String classId :request.getParameterValues(&quot;classId&quot;)){\r\n\t\t\toptionCookie = new Cookie(&quot;componentSearchOptionSelect&quot;,classId);\r\n\t\t\tresponse.addCookie(optionCookie);\r\n\t\t}\r\n\r\nThis is the code I am using to delete the cookie in the scriptlet:\r\n\r\n\tCookie[] cookies = null;\r\n\t\t\tcookies = request.getCookies();\r\n\t\t\tif(cookies != null){\r\n\t\t\t\tfor(int i = 0; i &lt; cookies.length; i++){\r\n\t\t\t\t\t Cookie cookie = cookies[i];\r\n\t\t\t\t\t if(cookie.getName().equals(&quot;componentSearchOptionSelect&quot;)){\r\n\t\t\t\r\n\t\t\t\t\t\t selectedClass = cookie.getValue();\r\n\t\t\t\t\t\t cookie.setMaxAge(0);\r\n\t\t\t\t\t\t response.addCookie(cookie);\r\n\t\t\t\t\t }\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t","title":"Deleting Java cookie in .JSP file","body":"<p>I'm using the following function to create a cookie which is set in a Java Servlet. I am trying to delete it in a scriptlet in a .JSP file. However it is not deleting the cookie, any ideas as to why?</p>\n\n<p>This is the function that I am using to create the cookie in the Servlet:</p>\n\n<pre><code>    for(String classId :request.getParameterValues(\"classId\")){\n        optionCookie = new Cookie(\"componentSearchOptionSelect\",classId);\n        response.addCookie(optionCookie);\n    }\n</code></pre>\n\n<p>This is the code I am using to delete the cookie in the scriptlet:</p>\n\n<pre><code>Cookie[] cookies = null;\n        cookies = request.getCookies();\n        if(cookies != null){\n            for(int i = 0; i &lt; cookies.length; i++){\n                 Cookie cookie = cookies[i];\n                 if(cookie.getName().equals(\"componentSearchOptionSelect\")){\n\n                     selectedClass = cookie.getValue();\n                     cookie.setMaxAge(0);\n                     response.addCookie(cookie);\n                 }\n             }\n        }\n</code></pre>\n"},{"tags":["java","functional-interface","lambda"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1587981195,"post_id":61456066,"comment_id":108713112,"body_markdown":"Remove `implements MyFunction`. Your class does not implement your interface. It&#39;s using the interface inside a method. That&#39;s not the same thing.","body":"Remove <code>implements MyFunction</code>. Your class does not implement your interface. It&#39;s using the interface inside a method. That&#39;s not the same thing."},{"owner":{"account_id":14409466,"reputation":33,"user_id":10408699,"display_name":"Ritesh Shrestha"},"score":0,"creation_date":1587981306,"post_id":61456066,"comment_id":108713179,"body_markdown":"@khelwood  so that means the use of functional Interface is within the method ?","body":"@khelwood  so that means the use of functional Interface is within the method ?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1671134372,"post_id":61456066,"comment_id":132039041,"body_markdown":"@Ad.Kh Thanks for contributing a suggested edit! For as long as your are under 2k rep, when you suggest edits, please improve the entire post. I have improved your edit. Please study the improvement and learn from it how to improve future posts which you edit. You can see [ask] for guidance on what a good question post is like. Again, thanks for your contribution. Keep it up. Just make sure to _make the most_ of your contributions as good etiquette to the reviewers reviewing your edits. Ie. Improve the whole post.","body":"@Ad.Kh Thanks for contributing a suggested edit! For as long as your are under 2k rep, when you suggest edits, please improve the entire post. I have improved your edit. Please study the improvement and learn from it how to improve future posts which you edit. You can see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for guidance on what a good question post is like. Again, thanks for your contribution. Keep it up. Just make sure to <i>make the most</i> of your contributions as good etiquette to the reviewers reviewing your edits. Ie. Improve the whole post."}],"answers":[{"comments":[{"owner":{"account_id":14409466,"reputation":33,"user_id":10408699,"display_name":"Ritesh Shrestha"},"score":0,"creation_date":1587981586,"post_id":61456127,"comment_id":108713326,"body_markdown":"ok so that&#39;s how functional interfaces work. They are used for specific implementations within the method but they are not implemented for the whole class (in this case)","body":"ok so that&#39;s how functional interfaces work. They are used for specific implementations within the method but they are not implemented for the whole class (in this case)"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587981302,"creation_date":1587981302,"answer_id":61456127,"question_id":61456066,"body_markdown":"You defined your `Factorial` class to implement `MyFunction`, but it doesn&#39;t implement the method of that interface (`int getValue(int num);`).\r\n\r\nThe `MyFunction` instance implemented within your `main` using a lambda expression doesn&#39;t implement that interface for your `Factorial` class.\r\n\r\nJust change it to:\r\n\r\n    class Factorial {\r\n        public static void main (String [] args) {\r\n            MyFunction myFactorialFunc = (num) -&gt; {\r\n                int fact = 1;\r\n                for(int i = 1; i &lt;= num; i++){\r\n                    fact = i * fact;\r\n                }\r\n                return fact;\r\n            };\r\n            System.out.println(myFactorialFunc.getValue(7));\r\n        }\r\n    }","title":"Error assigning lambda to functional interface variable: inherited abstract method must be implemented. Why?","body":"<p>You defined your <code>Factorial</code> class to implement <code>MyFunction</code>, but it doesn't implement the method of that interface (<code>int getValue(int num);</code>).</p>\n\n<p>The <code>MyFunction</code> instance implemented within your <code>main</code> using a lambda expression doesn't implement that interface for your <code>Factorial</code> class.</p>\n\n<p>Just change it to:</p>\n\n<pre><code>class Factorial {\n    public static void main (String [] args) {\n        MyFunction myFactorialFunc = (num) -&gt; {\n            int fact = 1;\n            for(int i = 1; i &lt;= num; i++){\n                fact = i * fact;\n            }\n            return fact;\n        };\n        System.out.println(myFactorialFunc.getValue(7));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587987741,"creation_date":1587981752,"answer_id":61456277,"question_id":61456066,"body_markdown":"I guess you must have heard from somewhere that &quot;you can implement single-method interfaces with a lambda expression!&quot; and proceeded to try it out by writing this code, all the while misunderstanding what is meant by that.\r\n\r\nLambda expressions _doesn&#39;t_ actually allow you to write `class MyClass implements SomeInterface` without declaring the required method. As far as the compiler is concerned, `Factorial` only has a `main` method declared, and no `getValue` method, so it doesn&#39;t implement the `MyFunction` interface.\r\n\r\nYour code does demonstrate &quot;you can implement single-method interfaces with a lambda expression&quot; though. Here in the `main` method, you assigned a lambda expression to a variable of type `MyFunction`:\r\n\r\n    MyFunction myFactorialFunc = (num) -&gt; {\r\n        int fact = 1;\r\n        for(int i = 1; i &lt;= num; i++){\r\n            fact = i * fact;\r\n        }\r\n        return fact;\r\n    };\r\n\r\nNormally, you have to put _an implementation of_ `MyFunction` on the right-hand side of `=`, don&#39;t you? But now, you can just use a lambda expression! This is because the signature of the lambda expression matches the signature of the single method in the interface, so the compiler goes &quot;yeah, that&#39;s fine, I&#39;ll just use this as the implementation of that method&quot;.","title":"Error assigning lambda to functional interface variable: inherited abstract method must be implemented. Why?","body":"<p>I guess you must have heard from somewhere that \"you can implement single-method interfaces with a lambda expression!\" and proceeded to try it out by writing this code, all the while misunderstanding what is meant by that.</p>\n\n<p>Lambda expressions <em>doesn't</em> actually allow you to write <code>class MyClass implements SomeInterface</code> without declaring the required method. As far as the compiler is concerned, <code>Factorial</code> only has a <code>main</code> method declared, and no <code>getValue</code> method, so it doesn't implement the <code>MyFunction</code> interface.</p>\n\n<p>Your code does demonstrate \"you can implement single-method interfaces with a lambda expression\" though. Here in the <code>main</code> method, you assigned a lambda expression to a variable of type <code>MyFunction</code>:</p>\n\n<pre><code>MyFunction myFactorialFunc = (num) -&gt; {\n    int fact = 1;\n    for(int i = 1; i &lt;= num; i++){\n        fact = i * fact;\n    }\n    return fact;\n};\n</code></pre>\n\n<p>Normally, you have to put <em>an implementation of</em> <code>MyFunction</code> on the right-hand side of <code>=</code>, don't you? But now, you can just use a lambda expression! This is because the signature of the lambda expression matches the signature of the single method in the interface, so the compiler goes \"yeah, that's fine, I'll just use this as the implementation of that method\".</p>\n"}],"owner":{"account_id":14409466,"reputation":33,"user_id":10408699,"display_name":"Ritesh Shrestha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":61456277,"answer_count":2,"score":2,"last_activity_date":1671133998,"creation_date":1587981093,"question_id":61456066,"body_markdown":"I implemented the functional interface, using the functional method in a lambda function. Everything works fine except I get an error that this inherited abstract method (in my case, the functional method) must be implemented. And here I&#39;m confused. I used the lambda function to implement this functional method. Why should I again implement the method? \r\nHow is the implementation of functional methods done correctly?\r\n\r\nHere is my code:\r\n\r\n```java\r\ninterface MyFunction {\r\n    int getValue(int num);\r\n}\r\nclass Factorial implements MyFunction {\r\n    public static void main (String [] args) {\r\n\t\tMyFunction myFactorialFunc = (num) -&gt; {\r\n            int fact = 1;\r\n            for(int i = 1; i &lt;= num; i++){\r\n                fact = i * fact;\r\n            }\r\n            return fact;\r\n        };\r\n        System.out.println(myFactorialFunc.getValue(7));\r\n    }\r\n}\r\n```","title":"Error assigning lambda to functional interface variable: inherited abstract method must be implemented. Why?","body":"<p>I implemented the functional interface, using the functional method in a lambda function. Everything works fine except I get an error that this inherited abstract method (in my case, the functional method) must be implemented. And here I'm confused. I used the lambda function to implement this functional method. Why should I again implement the method?\nHow is the implementation of functional methods done correctly?</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyFunction {\n    int getValue(int num);\n}\nclass Factorial implements MyFunction {\n    public static void main (String [] args) {\n        MyFunction myFactorialFunc = (num) -&gt; {\n            int fact = 1;\n            for(int i = 1; i &lt;= num; i++){\n                fact = i * fact;\n            }\n            return fact;\n        };\n        System.out.println(myFactorialFunc.getValue(7));\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"comments":[{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1671126912,"post_id":74815461,"comment_id":132036745,"body_markdown":"`detector = new GestureDetectorCompat(this,this);` still gives an error. `&#39;GestureDetectorCompat(android.content.Context, android.view.GestureDetector.OnGestureListener)&#39; in &#39;androidx.core.view.GestureDetectorCompat&#39; cannot be applied to &#39;(com.example.testapp.MainActivity, com.example.testapp.MainActivity)&#39; `","body":"<code>detector = new GestureDetectorCompat(this,this);</code> still gives an error. <code>&#39;GestureDetectorCompat(android.content.Context, android.view.GestureDetector.OnGestureListener)&#39; in &#39;androidx.core.view.GestureDetectorCompat&#39; cannot be applied to &#39;(com.example.testapp.MainActivity, com.example.testapp.MainActivity)&#39; </code>"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1671134022,"post_id":74815461,"comment_id":132038930,"body_markdown":"Sorry, my bad, you can pass the lintener with &#39;this&#39; if you implemented GestureDetector.OnGestureListener or GestureDetector.SimpleOnGestureListener, etc... What does happen when you simply do ``detector = new GestureDetectorCompat(this, new homepageGestureListener());`` ?","body":"Sorry, my bad, you can pass the lintener with &#39;this&#39; if you implemented GestureDetector.OnGestureListener or GestureDetector.SimpleOnGestureListener, etc... What does happen when you simply do <code>detector = new GestureDetectorCompat(this, new homepageGestureListener());</code> ?"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1671134036,"post_id":74815461,"comment_id":132038934,"body_markdown":"I just made an edit, please try it","body":"I just made an edit, please try it"},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1671135835,"post_id":74815461,"comment_id":132039520,"body_markdown":"yess, that gets rid of the error. So i guess the classes you write are not &quot;alive&quot; in in compilation and you have to do &quot;new&quot; to create them in memory?","body":"yess, that gets rid of the error. So i guess the classes you write are not &quot;alive&quot; in in compilation and you have to do &quot;new&quot; to create them in memory?"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1671138215,"post_id":74815461,"comment_id":132040312,"body_markdown":"Yeah you need to instantiate that class first then pass it to the method","body":"Yeah you need to instantiate that class first then pass it to the method"},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1671138586,"post_id":74815461,"comment_id":132040445,"body_markdown":"makes sense, thanks for the speedy help!","body":"makes sense, thanks for the speedy help!"}],"tags":[],"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671133931,"creation_date":1671125592,"answer_id":74815461,"question_id":74815269,"body_markdown":"GestureDetectorCompat has 2 public constructors one that take a context and a listener and the other taking a context, a listener and a handler. In your case it&#39;s the first one. You need to pass an instance of your listener as the 2nd argument.\r\nSometing like this:\r\n\r\n    \r\n    //...\r\n\r\n    private GestureDetectorCompat mGestureDetector;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle bundle) {\r\n            super.onCreate(bundle);\r\n            setContentView(R.layout.main_activity);\r\n            \r\n            //...\r\n    \r\n            mGestureDetector = new GestureDetectorCompat(this, new LongPressListener()); // here passing LongPressListener()\r\n        }\r\n    \r\n    //..\r\n    }\r\n\r\nCheck on this [link][1] on the official documentation to learn more.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/core/view/GestureDetectorCompat#GestureDetectorCompat(android.content.Context,android.view.GestureDetector.OnGestureListener)\r\n\r\nEDIT:\r\nOh, your class extends ``GestureDetector.SimpleOnGestureListener``. Then in this case juste pass ``this`` as both arguments. \r\n\r\nLike:\r\n\r\n    private GestureDetectorCompat detector\r\n\r\nThen:\r\n\r\n    detector = new GestureDetectorCompat(this, new homepageGestureListener()); \r\n\r\nI slightly edited the answer so you can pass an instance of your inner class instead.","title":"Passing an inner class to gestureDetectorcompat as parameter","body":"<p>GestureDetectorCompat has 2 public constructors one that take a context and a listener and the other taking a context, a listener and a handler. In your case it's the first one. You need to pass an instance of your listener as the 2nd argument.\nSometing like this:</p>\n<pre><code>//...\n\nprivate GestureDetectorCompat mGestureDetector;\n\n    @Override\n    public void onCreate(Bundle bundle) {\n        super.onCreate(bundle);\n        setContentView(R.layout.main_activity);\n        \n        //...\n\n        mGestureDetector = new GestureDetectorCompat(this, new LongPressListener()); // here passing LongPressListener()\n    }\n\n//..\n}\n</code></pre>\n<p>Check on this <a href=\"https://developer.android.com/reference/androidx/core/view/GestureDetectorCompat#GestureDetectorCompat(android.content.Context,android.view.GestureDetector.OnGestureListener)\" rel=\"nofollow noreferrer\">link</a> on the official documentation to learn more.</p>\n<p>EDIT:\nOh, your class extends <code>GestureDetector.SimpleOnGestureListener</code>. Then in this case juste pass <code>this</code> as both arguments.</p>\n<p>Like:</p>\n<pre><code>private GestureDetectorCompat detector\n</code></pre>\n<p>Then:</p>\n<pre><code>detector = new GestureDetectorCompat(this, new homepageGestureListener()); \n</code></pre>\n<p>I slightly edited the answer so you can pass an instance of your inner class instead.</p>\n"}],"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815461,"answer_count":1,"score":0,"last_activity_date":1671133931,"creation_date":1671124555,"question_id":74815269,"body_markdown":"Im trying to handle swipes on an app im building. \r\nFound a way of doing this on youtube but it uses kotlin not java.\r\n\r\nThe method works with an inner class\r\n\r\n    class homepageGestureListener extends GestureDetector.SimpleOnGestureListener\r\n\r\nand in the super class i have \r\n\r\n    private GestureDetectorCompat detector;//needed to wire inner class to main activity\r\n\r\nBelow that, in the onCreate function im trying to assign the gestureDetector to the &quot;detector&quot;\r\n\r\n    detector=GestureDetectorCompat(this,homepageGestureListener());\r\nthis line gives the error &quot;method call expected&quot;, it wont take `homepageGestureListener()` as a paramater.\r\n\r\nHow can i pass an inner class there?","title":"Passing an inner class to gestureDetectorcompat as parameter","body":"<p>Im trying to handle swipes on an app im building.\nFound a way of doing this on youtube but it uses kotlin not java.</p>\n<p>The method works with an inner class</p>\n<pre><code>class homepageGestureListener extends GestureDetector.SimpleOnGestureListener\n</code></pre>\n<p>and in the super class i have</p>\n<pre><code>private GestureDetectorCompat detector;//needed to wire inner class to main activity\n</code></pre>\n<p>Below that, in the onCreate function im trying to assign the gestureDetector to the &quot;detector&quot;</p>\n<pre><code>detector=GestureDetectorCompat(this,homepageGestureListener());\n</code></pre>\n<p>this line gives the error &quot;method call expected&quot;, it wont take <code>homepageGestureListener()</code> as a paramater.</p>\n<p>How can i pass an inner class there?</p>\n"},{"tags":["java","react-native","react-native-calendars"],"owner":{"account_id":22210829,"reputation":117,"user_id":16450042,"display_name":"CrypticalMindz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671133848,"creation_date":1671133848,"question_id":74816831,"body_markdown":"I&#39;m using React Native Calendars with the markingType &quot;multi-period&quot;, which needs to be in the following format:\r\n\r\n```\r\nmarkedDates={{\r\n    &#39;2017-12-14&#39;: {\r\n      periods: [\r\n        {startingDay: false, endingDay: true, color: &#39;#5f9ea0&#39;},\r\n        {startingDay: false, endingDay: true, color: &#39;#ffa500&#39;},\r\n        {startingDay: true, endingDay: false, color: &#39;#f0e68c&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-15&#39;: {\r\n      periods: [\r\n        {startingDay: true, endingDay: false, color: &#39;#ffa500&#39;},\r\n        {color: &#39;transparent&#39;},\r\n        {startingDay: false, endingDay: false, color: &#39;#f0e68c&#39;}\r\n      ]\r\n    }\r\n  }}\r\n```\r\n\r\nLets say for example that we have two periods: 2022-12-14 - 2022-12-17 and 2022-12-16 - 2022-12-19. They have overlapping days. 2022-12-18 and 2022-12-19 need to have two &quot;invisible&quot; dates before them, so that in the final result they will be on the same height. Hardcoded it would look like this:\r\n\r\n```\r\nmarkedDates={{\r\n    &#39;2017-12-14&#39;: {\r\n      periods: [\r\n        {startingDay: true, endingDay: false, color: &#39;#5f9ea0&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-15&#39;: {\r\n      periods: [\r\n        {startingDay: false, endingDay: false, color: &#39;#ffa500&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-16&#39;: {\r\n      periods: [\r\n        {startingDay: false, endingDay: false, color: &#39;#5f9ea0&#39;},\r\n        {startingDay: true, endingDay: false, color: &#39;#5f9ea0&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-17&#39;: {\r\n      periods: [\r\n        {startingDay: false, endingDay: true, color: &#39;#ffa500&#39;},\r\n        {startingDay: false, endingDay: false, color: &#39;#5f9ea0&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-18&#39;: {\r\n      periods: [\r\n        {color: &#39;transparent&#39;},\r\n        {startingDay: false, endingDay: false, color: &#39;#5f9ea0&#39;}\r\n      ]\r\n    },\r\n    &#39;2017-12-19&#39;: {\r\n      periods: [\r\n        {color: &#39;transparent&#39;},\r\n        {startingDay: false, endingDay: true, color: &#39;#ffa500&#39;}\r\n      ]\r\n    },\r\n  }}\r\n```\r\n\r\nHow would the code look like, when dynamically setting markedDates from fetched data and caring about overlapping dates, means inserting\r\n```\r\n{color: &#39;transparent&#39;}\r\n```\r\nwhen needed since the position in the array is important?","title":"How to manage overlapping dates in React Native Calendars with multi-period marking","body":"<p>I'm using React Native Calendars with the markingType &quot;multi-period&quot;, which needs to be in the following format:</p>\n<pre><code>markedDates={{\n    '2017-12-14': {\n      periods: [\n        {startingDay: false, endingDay: true, color: '#5f9ea0'},\n        {startingDay: false, endingDay: true, color: '#ffa500'},\n        {startingDay: true, endingDay: false, color: '#f0e68c'}\n      ]\n    },\n    '2017-12-15': {\n      periods: [\n        {startingDay: true, endingDay: false, color: '#ffa500'},\n        {color: 'transparent'},\n        {startingDay: false, endingDay: false, color: '#f0e68c'}\n      ]\n    }\n  }}\n</code></pre>\n<p>Lets say for example that we have two periods: 2022-12-14 - 2022-12-17 and 2022-12-16 - 2022-12-19. They have overlapping days. 2022-12-18 and 2022-12-19 need to have two &quot;invisible&quot; dates before them, so that in the final result they will be on the same height. Hardcoded it would look like this:</p>\n<pre><code>markedDates={{\n    '2017-12-14': {\n      periods: [\n        {startingDay: true, endingDay: false, color: '#5f9ea0'}\n      ]\n    },\n    '2017-12-15': {\n      periods: [\n        {startingDay: false, endingDay: false, color: '#ffa500'}\n      ]\n    },\n    '2017-12-16': {\n      periods: [\n        {startingDay: false, endingDay: false, color: '#5f9ea0'},\n        {startingDay: true, endingDay: false, color: '#5f9ea0'}\n      ]\n    },\n    '2017-12-17': {\n      periods: [\n        {startingDay: false, endingDay: true, color: '#ffa500'},\n        {startingDay: false, endingDay: false, color: '#5f9ea0'}\n      ]\n    },\n    '2017-12-18': {\n      periods: [\n        {color: 'transparent'},\n        {startingDay: false, endingDay: false, color: '#5f9ea0'}\n      ]\n    },\n    '2017-12-19': {\n      periods: [\n        {color: 'transparent'},\n        {startingDay: false, endingDay: true, color: '#ffa500'}\n      ]\n    },\n  }}\n</code></pre>\n<p>How would the code look like, when dynamically setting markedDates from fetched data and caring about overlapping dates, means inserting</p>\n<pre><code>{color: 'transparent'}\n</code></pre>\n<p>when needed since the position in the array is important?</p>\n"},{"tags":["java","mongodb","mongodb-query","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671133733,"creation_date":1671133733,"answer_id":74816816,"question_id":74811380,"body_markdown":"You can use the group aggregation stage to get both the amount and the count. Here is a sample of how I tried:\r\n\r\n        Criteria matchCriteria = Criteria.where(&quot;projectId&quot;).in(projectIdList)\r\n                .and(&quot;isAvailable&quot;).is(false)\r\n                .and(&quot;status&quot;).is(&quot;rejected&quot;);\r\n\r\n        // Match stage\r\n        MatchOperation matchStage = Aggregation.match(matchCriteria);\r\n        \r\n        // Group Operation \r\n        GroupOperation group = group(&quot;projectId&quot;)\r\n                                        .sum(&quot;amount&quot;).as(&quot;totalAmount&quot;) // sum \r\n                                        .count().as(&quot;count&quot;);                       // count\r\n        // Aggregation\r\n        Aggregation aggregation = newAggregation(matchStage, group);\r\n\r\n        AggregationResults&lt;Project&gt; result = mongoTemplate.aggregate(aggregation, &quot;projects&quot;, Project.class);\r\n\r\nResult has both count and totalAmount:\r\n\r\n```\r\n[\r\n  {_id=1001, totalAmount=4000.0, count=4}, \r\n  {_id=1002, totalAmount=4000.0, count=2}, \r\n  {_id=1003, totalAmount=3000.0, count=1}}\r\n]\r\n```","title":"Spring data mongodb aggregation with Java list","body":"<p>You can use the group aggregation stage to get both the amount and the count. Here is a sample of how I tried:</p>\n<pre><code>    Criteria matchCriteria = Criteria.where(&quot;projectId&quot;).in(projectIdList)\n            .and(&quot;isAvailable&quot;).is(false)\n            .and(&quot;status&quot;).is(&quot;rejected&quot;);\n\n    // Match stage\n    MatchOperation matchStage = Aggregation.match(matchCriteria);\n    \n    // Group Operation \n    GroupOperation group = group(&quot;projectId&quot;)\n                                    .sum(&quot;amount&quot;).as(&quot;totalAmount&quot;) // sum \n                                    .count().as(&quot;count&quot;);                       // count\n    // Aggregation\n    Aggregation aggregation = newAggregation(matchStage, group);\n\n    AggregationResults&lt;Project&gt; result = mongoTemplate.aggregate(aggregation, &quot;projects&quot;, Project.class);\n</code></pre>\n<p>Result has both count and totalAmount:</p>\n<pre><code>[\n  {_id=1001, totalAmount=4000.0, count=4}, \n  {_id=1002, totalAmount=4000.0, count=2}, \n  {_id=1003, totalAmount=3000.0, count=1}}\n]\n</code></pre>\n"}],"owner":{"account_id":16968222,"reputation":3,"user_id":12273536,"display_name":"trytocode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671133733,"creation_date":1671106612,"question_id":74811380,"body_markdown":"I am new to using mongo aggregate query, where in the below query I use projectIdList and group totalCount &amp; totalAmount. \r\n    How can I get the individual projectId long with its totalCount and totalAmount.\r\n    \r\n    Aggregation aggregate = newAggregation(\r\n                    match(Criteria.where(&quot;projectId&quot;).in(projectIdList)\r\n                   .and(&quot;isAvailable&quot;).in(false)\r\n                   .and(status).in(&quot;rejected&quot;)\r\n                   .and(updatedTime).gt().lt()),\r\n                    group(&quot;projectId&quot;).count().as(&quot;totalCount&quot;)\r\n                  .sum(ConvertOperators.Convert.convertValueOf(&quot;amount&quot;).to(&quot;decimal&quot;).as(&quot;totalAmount&quot;));\r\n    \r\n    Please suggest.","title":"Spring data mongodb aggregation with Java list","body":"<p>I am new to using mongo aggregate query, where in the below query I use projectIdList and group totalCount &amp; totalAmount.\nHow can I get the individual projectId long with its totalCount and totalAmount.</p>\n<pre><code>Aggregation aggregate = newAggregation(\n                match(Criteria.where(&quot;projectId&quot;).in(projectIdList)\n               .and(&quot;isAvailable&quot;).in(false)\n               .and(status).in(&quot;rejected&quot;)\n               .and(updatedTime).gt().lt()),\n                group(&quot;projectId&quot;).count().as(&quot;totalCount&quot;)\n              .sum(ConvertOperators.Convert.convertValueOf(&quot;amount&quot;).to(&quot;decimal&quot;).as(&quot;totalAmount&quot;));\n\nPlease suggest.\n</code></pre>\n"},{"tags":["java","spring","ldap","spring-ldap","spring-security-ldap"],"comments":[{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1671113896,"post_id":74809344,"comment_id":132031878,"body_markdown":"code looks kinda okay, but it is impossible to help without some more error messages, knowing your AD structure, more of your program etc.","body":"code looks kinda okay, but it is impossible to help without some more error messages, knowing your AD structure, more of your program etc."},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1671113916,"post_id":74809344,"comment_id":132031886,"body_markdown":"did you look at some ldap java tutorials/help online?","body":"did you look at some ldap java tutorials/help online?"},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1671113962,"post_id":74809344,"comment_id":132031906,"body_markdown":"the error is saying invalid credentials (https://community.arubanetworks.com/community-home/digestviewer/viewthread?MID=40296)","body":"the error is saying invalid credentials (<a href=\"https://community.arubanetworks.com/community-home/digestviewer/viewthread?MID=40296\" rel=\"nofollow noreferrer\">community.arubanetworks.com/community-home/digestviewer/&hellip;</a>)"}],"answers":[{"comments":[{"owner":{"account_id":27259897,"reputation":81,"user_id":20782881,"display_name":"Ultiorra"},"score":0,"creation_date":1671204509,"post_id":74816765,"comment_id":132055539,"body_markdown":"thanks it was the problem","body":"thanks it was the problem"}],"tags":[],"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671133418,"creation_date":1671133418,"answer_id":74816765,"question_id":74809344,"body_markdown":"The error message makes it clear that you&#39;re using Active Directory. So I&#39;m pretty sure this is the problem:\r\n\r\n```\r\nspring.ldap.username=CN=Intranet company\r\n```\r\n\r\nI don&#39;t think Active Directory likes that format for the username. It either has to be:\r\n\r\n- The full DN (`CN=Intranet company,OU=Account,DC=company,DC=lan`), or\r\n- The plain username (`sAMAccountName` attribute), or\r\n- `DOMAIN\\username` if the user is not on the domain you&#39;re connecting to, or\r\n- The `userPrincipalName` (e.g. `username@company.lan`).","title":"LDAP: error code 49 - 80090308: LdapErr: DSID-0C09044E, comment: AcceptSecurityContext error, data 52e, v2580 (first time using ldap)","body":"<p>The error message makes it clear that you're using Active Directory. So I'm pretty sure this is the problem:</p>\n<pre><code>spring.ldap.username=CN=Intranet company\n</code></pre>\n<p>I don't think Active Directory likes that format for the username. It either has to be:</p>\n<ul>\n<li>The full DN (<code>CN=Intranet company,OU=Account,DC=company,DC=lan</code>), or</li>\n<li>The plain username (<code>sAMAccountName</code> attribute), or</li>\n<li><code>DOMAIN\\username</code> if the user is not on the domain you're connecting to, or</li>\n<li>The <code>userPrincipalName</code> (e.g. <code>username@company.lan</code>).</li>\n</ul>\n"}],"owner":{"account_id":27259897,"reputation":81,"user_id":20782881,"display_name":"Ultiorra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6922,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74816765,"answer_count":1,"score":1,"last_activity_date":1671133418,"creation_date":1671096418,"question_id":74809344,"body_markdown":"I am having problem with ldap on spring, I know what that error means but idk what i am doing wrong in the config of the connection\r\n\r\nthis is my application.properties :\r\n\r\n```\r\nspring.ldap.urls=ldap://***\r\nspring.ldap.base=OU=Account,DC=company,DC=lan\r\nspring.ldap.username=CN=Intranet company\r\nspring.ldap.password=pswd\r\n```\r\nThe password are good and username too but maybe my base is false? can anyone help me plz?\r\n\r\nand here is what i try to do \r\n```\r\n@Autowired\r\nprivate LdapTemplate ldapTemplate;\r\n```\r\n\r\n```\r\nSystem.out.println( ldapTemplate.search(\r\n        &quot;OU=Account,DC=company,DC=lan&quot;,\r\n        &quot;cn=&quot; + account.username ,\r\n                (AttributesMapper&lt;String&gt;) attrs -&gt; (String) attrs.get(&quot;sAMAccountName&quot;).get()));\r\n```\r\n\r\n\r\nI just try to connect to the active directory and discover how it works","title":"LDAP: error code 49 - 80090308: LdapErr: DSID-0C09044E, comment: AcceptSecurityContext error, data 52e, v2580 (first time using ldap)","body":"<p>I am having problem with ldap on spring, I know what that error means but idk what i am doing wrong in the config of the connection</p>\n<p>this is my application.properties :</p>\n<pre><code>spring.ldap.urls=ldap://***\nspring.ldap.base=OU=Account,DC=company,DC=lan\nspring.ldap.username=CN=Intranet company\nspring.ldap.password=pswd\n</code></pre>\n<p>The password are good and username too but maybe my base is false? can anyone help me plz?</p>\n<p>and here is what i try to do</p>\n<pre><code>@Autowired\nprivate LdapTemplate ldapTemplate;\n</code></pre>\n<pre><code>System.out.println( ldapTemplate.search(\n        &quot;OU=Account,DC=company,DC=lan&quot;,\n        &quot;cn=&quot; + account.username ,\n                (AttributesMapper&lt;String&gt;) attrs -&gt; (String) attrs.get(&quot;sAMAccountName&quot;).get()));\n</code></pre>\n<p>I just try to connect to the active directory and discover how it works</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","thread-safety"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1635344260,"post_id":69736511,"comment_id":123273177,"body_markdown":"First, your thread `run` method is a busy poll - it will run as fast as it can with zero wait.  This means that there isn&#39;t as much CPU available for other things.  Next, you shutdown your thread and then instantly check if it&#39;s shutdown.  It may take a bit, especially with the busy poll loop you have in your thread.  This code really need to be refactored.","body":"First, your thread <code>run</code> method is a busy poll - it will run as fast as it can with zero wait.  This means that there isn&#39;t as much CPU available for other things.  Next, you shutdown your thread and then instantly check if it&#39;s shutdown.  It may take a bit, especially with the busy poll loop you have in your thread.  This code really need to be refactored."}],"answers":[{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635350827,"creation_date":1635350827,"answer_id":69742018,"question_id":69736511,"body_markdown":"Just like any Java program: if your main thread needs to wait for another thread to complete you should call `join()` on the child thread.","title":"AWS lambda function not terminating the thread","body":"<p>Just like any Java program: if your main thread needs to wait for another thread to complete you should call <code>join()</code> on the child thread.</p>\n"}],"owner":{"account_id":2260319,"reputation":2196,"user_id":1990589,"accept_rate":55,"display_name":"PS Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671133392,"creation_date":1635328631,"question_id":69736511,"body_markdown":"I have a written a java code to execute from AWS lambda function. In my usecase I want to write some generic logs before it lambda function terminates. To achieve that i have crated a new thread which monitor a RemainingTimeInMillis of lambda function. If it reaches some limit i will write some generic message.\r\nNow my issue is even if i terminate a thread it is not terminating.\r\n\r\n   \r\n\r\n    public class Lambda implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\r\n\tpublic String handleRequests(Map&lt;String, String&gt; parameters, Context context) {\r\n\t\tLambdaTimeoutCheck thread = null;\r\n\t\tthread = new LambdaTimeoutCheck(context, &quot;applicationName&quot;);\r\n\t\t\tthread.setName(threadname);\r\n\t\t\tthread.setStopTimeout(true);\r\n\t\t\tthread.start();\r\n\r\n\t\t\t/* remaining function logic  */\r\n\t\t\tSystem.out.println(&quot;Lambda function starts&quot;+thread.isAlive());\r\n\r\n\t\t\tthread.shutdown();\r\n\r\n\t\t\tSystem.out.println(&quot;Lambda function ends&quot;+thread.isAlive());\r\n\t\t\treturn &quot;success&quot;\r\n    }\r\n\r\n\r\n\r\n    package com.pearson.autobahn.autobahnsdkheartbeat;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    \r\n    public class LambdaTimeoutCheck extends Thread {\r\n    \r\n    \tprivate Context context;\r\n    \r\n    \tprivate String applicationName;\r\n    \r\n    \tprivate boolean isStopTimeout;\r\n    \r\n    \r\n    \tpublic LambdaTimeoutCheck(Context context, String applicationName) {\r\n    \t\tthis.context = context;\r\n    \t\tthis.applicationName = applicationName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\twhile (isStopTimeout()) {\r\n    \r\n    \t\t\tif (context.getRemainingTimeInMillis() &lt;= 1000) {\r\n    \t\t\t\t\r\n    \t\t\t\tcontext.getLogger().log(&quot;Request ID: &quot; + context.getAwsRequestId() + &quot; &quot; + applicationName\r\n    \t\t\t\t\t\t+ &quot; function execution about to Timeout&quot;);\r\n    \t\t\t\tsetStopTimeout(false);\r\n    \t\t\t} \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void shutdown() {\r\n    \r\n    \t\tthis.setStopTimeout(false);\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \tpublic boolean isStopTimeout() {\r\n    \t\treturn isStopTimeout;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setStopTimeout(boolean isStopTimeout) {\r\n    \t\tthis.isStopTimeout = isStopTimeout;\r\n    \t}\r\n    \r\n    }\r\n\r\nthread.isAlive() is always coming as true, even if i shutdown a thread. Kindly anyone assist me how to comeout from this issue.\r\n","title":"AWS lambda function not terminating the thread","body":"<p>I have a written a java code to execute from AWS lambda function. In my usecase I want to write some generic logs before it lambda function terminates. To achieve that i have crated a new thread which monitor a RemainingTimeInMillis of lambda function. If it reaches some limit i will write some generic message.\nNow my issue is even if i terminate a thread it is not terminating.</p>\n<pre><code>public class Lambda implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\npublic String handleRequests(Map&lt;String, String&gt; parameters, Context context) {\n    LambdaTimeoutCheck thread = null;\n    thread = new LambdaTimeoutCheck(context, &quot;applicationName&quot;);\n        thread.setName(threadname);\n        thread.setStopTimeout(true);\n        thread.start();\n\n        /* remaining function logic  */\n        System.out.println(&quot;Lambda function starts&quot;+thread.isAlive());\n\n        thread.shutdown();\n\n        System.out.println(&quot;Lambda function ends&quot;+thread.isAlive());\n        return &quot;success&quot;\n}\n\n\n\npackage com.pearson.autobahn.autobahnsdkheartbeat;\n\nimport com.amazonaws.services.lambda.runtime.Context;\n\npublic class LambdaTimeoutCheck extends Thread {\n\n    private Context context;\n\n    private String applicationName;\n\n    private boolean isStopTimeout;\n\n\n    public LambdaTimeoutCheck(Context context, String applicationName) {\n        this.context = context;\n        this.applicationName = applicationName;\n    }\n\n    @Override\n    public void run() {\n        \n        while (isStopTimeout()) {\n\n            if (context.getRemainingTimeInMillis() &lt;= 1000) {\n                \n                context.getLogger().log(&quot;Request ID: &quot; + context.getAwsRequestId() + &quot; &quot; + applicationName\n                        + &quot; function execution about to Timeout&quot;);\n                setStopTimeout(false);\n            } \n            }\n\n        }\n    }\n\n    \n    public void shutdown() {\n\n        this.setStopTimeout(false);\n\n    }\n\n    \n    public boolean isStopTimeout() {\n        return isStopTimeout;\n    }\n\n\n    public void setStopTimeout(boolean isStopTimeout) {\n        this.isStopTimeout = isStopTimeout;\n    }\n\n}\n</code></pre>\n<p>thread.isAlive() is always coming as true, even if i shutdown a thread. Kindly anyone assist me how to comeout from this issue.</p>\n"},{"tags":["javascript","java","selenium","lambda","webdriver"],"comments":[{"owner":{"account_id":5585652,"reputation":51,"user_id":4426098,"display_name":"Aldrin Combalicer Sy"},"score":0,"creation_date":1513066030,"post_id":47767619,"comment_id":82496673,"body_markdown":"Hi Vins, yes I know sorry for that :(","body":"Hi Vins, yes I know sorry for that :("},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1513066859,"post_id":47767619,"comment_id":82497068,"body_markdown":"From that error, there problem isn&#39;t in your Java; it&#39;s that your jenkins job is trying to compile it with Java 1.6 instead of 1.8. Make sure you have Java 8 installed on the machine, and that the job is configured to use it.","body":"From that error, there problem isn&#39;t in your Java; it&#39;s that your jenkins job is trying to compile it with Java 1.6 instead of 1.8. Make sure you have Java 8 installed on the machine, and that the job is configured to use it."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1513067549,"post_id":47767619,"comment_id":82497415,"body_markdown":"@AldrinCombalicerSy seems jenkins is running java 1.6. Either update that or &quot;dumb&quot; down the EC part. Try this one if this works - https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String- . https://www.programcreek.com/java-api-examples/index.php?api=org.openqa.selenium.support.ui.ExpectedCondition  Else look at this with examples of custom EC, 5th has javascript. Combine your js in 4th example and it should work.","body":"@AldrinCombalicerSy seems jenkins is running java 1.6. Either update that or &quot;dumb&quot; down the EC part. Try this one if this works - <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-\" rel=\"nofollow noreferrer\">seleniumhq.github.io/selenium/docs/api/java/org/openqa/selen&zwnj;&#8203;ium/&hellip;</a> . <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.openqa.selenium.support.ui.ExpectedCondition\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>  Else look at this with examples of custom EC, 5th has javascript. Combine your js in 4th example and it should work."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":2,"creation_date":1513089813,"post_id":47767619,"comment_id":82511510,"body_markdown":"@AldrinCombalicerSy By the way - there is no point waiting until `document.readyState` is `complete`. Read answer in [this question](https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701)","body":"@AldrinCombalicerSy By the way - there is no point waiting until <code>document.readyState</code> is <code>complete</code>. Read answer in <a href=\"https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701\">this question</a>"},{"owner":{"account_id":5585652,"reputation":51,"user_id":4426098,"display_name":"Aldrin Combalicer Sy"},"score":0,"creation_date":1513132707,"post_id":47767619,"comment_id":82530743,"body_markdown":"@RafaLaskowski Thank you! It solves my problem","body":"@RafaLaskowski Thank you! It solves my problem"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1513151810,"post_id":47767619,"comment_id":82537062,"body_markdown":"@AldrinCombalicerSy Give the upvote to answer in that question :)","body":"@AldrinCombalicerSy Give the upvote to answer in that question :)"}],"owner":{"account_id":5585652,"reputation":51,"user_id":4426098,"display_name":"Aldrin Combalicer Sy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671133293,"creation_date":1513065079,"question_id":47767619,"body_markdown":"I just want to ask if someone is able to translate this to a normal method or convert this to lambda expression 8 or higher \r\n\r\n     public void waitUntilDocIsReady() \r\n     {\r\n\t\tnew WebDriverWait(driver, 30).until((ExpectedCondition&lt;Boolean&gt;) wd -&gt;\r\n\t\t((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n\t }\r\n\r\nActually this is running as expected in my local machine but once I tried to run it in Jenkin Server. I&#39;m having an error &quot;lambda expressions are not supported in -source 1.6&quot; Thank you everyone! I&#39;m really sorry for asking this question. I hope someone can answer this.","title":"Updating Lambda Expression 1.6 to 8 or Higher","body":"<p>I just want to ask if someone is able to translate this to a normal method or convert this to lambda expression 8 or higher</p>\n<pre><code> public void waitUntilDocIsReady() \n {\n    new WebDriverWait(driver, 30).until((ExpectedCondition&lt;Boolean&gt;) wd -&gt;\n    ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\n }\n</code></pre>\n<p>Actually this is running as expected in my local machine but once I tried to run it in Jenkin Server. I'm having an error &quot;lambda expressions are not supported in -source 1.6&quot; Thank you everyone! I'm really sorry for asking this question. I hope someone can answer this.</p>\n"},{"tags":["java","http"],"answers":[{"comments":[{"owner":{"account_id":23156106,"reputation":1,"user_id":17257338,"display_name":"CrummY"},"score":0,"creation_date":1671184324,"post_id":74816659,"comment_id":132048863,"body_markdown":"So in eclipse i would have to manaully check if the dependency is transitive? because i don&#39;t have maven i just use eclipse and i reference the libraries","body":"So in eclipse i would have to manaully check if the dependency is transitive? because i don&#39;t have maven i just use eclipse and i reference the libraries"},{"owner":{"account_id":23156106,"reputation":1,"user_id":17257338,"display_name":"CrummY"},"score":0,"creation_date":1671185211,"post_id":74816659,"comment_id":132049143,"body_markdown":"Im sorry I am really new to java and I have never worked with maven before so could you please dumb down the answer a bit.","body":"Im sorry I am really new to java and I have never worked with maven before so could you please dumb down the answer a bit."},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1671185498,"post_id":74816659,"comment_id":132049228,"body_markdown":"you can convert your eclipse project to a maven project. Updating the answer would be to exhaustive. Please checkout the tutorials here: [link](https://www.vogella.com/tutorials/EclipseMaven/article.html)","body":"you can convert your eclipse project to a maven project. Updating the answer would be to exhaustive. Please checkout the tutorials here: <a href=\"https://www.vogella.com/tutorials/EclipseMaven/article.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":23156106,"reputation":1,"user_id":17257338,"display_name":"CrummY"},"score":0,"creation_date":1671187883,"post_id":74816659,"comment_id":132049937,"body_markdown":"Do you have any good documentation that can assist me to become more familiar with maven because i originally just used to use the &quot;Add external archives&quot; option in eclipse in order to use libraries but now I understand it is ineffective. So do you have any references that can help me to understand more about maven and what it really is.","body":"Do you have any good documentation that can assist me to become more familiar with maven because i originally just used to use the &quot;Add external archives&quot; option in eclipse in order to use libraries but now I understand it is ineffective. So do you have any references that can help me to understand more about maven and what it really is."},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1671438174,"post_id":74816659,"comment_id":132091187,"body_markdown":"Maybe start with Maven in [5minutes](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html) and then move on to the [getting started guide](https://maven.apache.org/guides/getting-started/index.html)","body":"Maybe start with Maven in <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">5minutes</a> and then move on to the <a href=\"https://maven.apache.org/guides/getting-started/index.html\" rel=\"nofollow noreferrer\">getting started guide</a>"}],"tags":[],"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671133273,"creation_date":1671132783,"answer_id":74816659,"question_id":74815171,"body_markdown":"Welcome to the community. The reason for this error is, that one dependency is [transitive][1] and is not referenced directly. Either you need to include the dependency `org.eclipse.jetty:jetty-util` directly (see maven coordinates here: [mavencentral][2]), or you can use [maven][3] and use this pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n    &lt;artifactId&gt;stackoverflow&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nIf you want to find out, if there are more transitive dependencies, and you have no maven, you would need to unzip the dependency jar files and check the `META-INF` [folder][4]. It contains the `pom.xml` which contains the necessary dependencies.\r\n\r\n[![dependencies of jar][5]][5]\r\n\r\nIf you use already maven, you can use the command `mvn dependeny:tree` which will output all direct and transitive dependencies:\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ stackoverflow ---\r\n[INFO] com.stackoverflow:stackoverflow:jar:1.0-SNAPSHOT\r\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.5:compile\r\n[INFO] +- org.slf4j:slf4j-simple:jar:2.0.5:compile\r\n[INFO] \\- org.eclipse.jetty:jetty-client:jar:11.0.8:compile\r\n[INFO]    +- org.eclipse.jetty:jetty-http:jar:11.0.8:compile\r\n[INFO]    |  \\- org.eclipse.jetty:jetty-util:jar:11.0.8:compile\r\n[INFO]    +- org.eclipse.jetty:jetty-io:jar:11.0.8:compile\r\n[INFO]    \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.8:compile\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41725810/what-is-a-transitive-maven-dependency\r\n  [2]: https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-util/11.0.8\r\n  [3]: https://maven.apache.org/\r\n  [4]: https://stackoverflow.com/questions/70216/whats-the-purpose-of-meta-inf\r\n  [5]: https://i.stack.imgur.com/xZqjBm.png","title":"Java.lang.NoClassDefFoundError: org/eclipse/jetty/util/component/ContainerLifeCycle","body":"<p>Welcome to the community. The reason for this error is, that one dependency is <a href=\"https://stackoverflow.com/questions/41725810/what-is-a-transitive-maven-dependency\">transitive</a> and is not referenced directly. Either you need to include the dependency <code>org.eclipse.jetty:jetty-util</code> directly (see maven coordinates here: <a href=\"https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-util/11.0.8\" rel=\"nofollow noreferrer\">mavencentral</a>), or you can use <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a> and use this pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;stackoverflow&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\n            &lt;version&gt;11.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>If you want to find out, if there are more transitive dependencies, and you have no maven, you would need to unzip the dependency jar files and check the <code>META-INF</code> <a href=\"https://stackoverflow.com/questions/70216/whats-the-purpose-of-meta-inf\">folder</a>. It contains the <code>pom.xml</code> which contains the necessary dependencies.</p>\n<p><a href=\"https://i.stack.imgur.com/xZqjBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZqjBm.png\" alt=\"dependencies of jar\" /></a></p>\n<p>If you use already maven, you can use the command <code>mvn dependeny:tree</code> which will output all direct and transitive dependencies:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ stackoverflow ---\n[INFO] com.stackoverflow:stackoverflow:jar:1.0-SNAPSHOT\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.5:compile\n[INFO] +- org.slf4j:slf4j-simple:jar:2.0.5:compile\n[INFO] \\- org.eclipse.jetty:jetty-client:jar:11.0.8:compile\n[INFO]    +- org.eclipse.jetty:jetty-http:jar:11.0.8:compile\n[INFO]    |  \\- org.eclipse.jetty:jetty-util:jar:11.0.8:compile\n[INFO]    +- org.eclipse.jetty:jetty-io:jar:11.0.8:compile\n[INFO]    \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.8:compile\n</code></pre>\n"}],"owner":{"account_id":23156106,"reputation":1,"user_id":17257338,"display_name":"CrummY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671133273,"creation_date":1671123997,"question_id":74815171,"body_markdown":"I was writing a simple program to send requests to a certain api using java and i decided to use jetty-client for http request handling.I decided to use jetty-client-11.0.0 to do this but upon running a basic script I keep getting the java.lang.NoClassDeffoundError;\r\n\r\n\r\n\r\n\r\n```\r\npackage currencyconverter;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport org.eclipse.jetty.client.HttpClient;\r\nimport org.eclipse.jetty.client.api.ContentResponse;\r\n\r\n\r\npublic class urler{\r\n    public static void main(String[] args) throws InterruptedException, ExecutionException, TimeoutException, IOException {\r\n        HttpClient httpClient = new HttpClient();\r\n\r\n\r\n        ContentResponse response = httpClient.GET(&quot;example.com&quot;);\r\n        System.out.println(response.toString());\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nthen the error is;\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/util/component/ContainerLifeCycle\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat currencyconverter.urler.main(urler.java:12)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.component.ContainerLifeCycle\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 10 more\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried changing the version of jetty-client but it didn&#39;t seem to work ie from jetty-client 12.0.0.alpha3 to jetty-client 11.0.0 thinking that it was a version error and hoping that it would fix the issue but it didn&#39;t work.\r\n\r\n","title":"Java.lang.NoClassDefFoundError: org/eclipse/jetty/util/component/ContainerLifeCycle","body":"<p>I was writing a simple program to send requests to a certain api using java and i decided to use jetty-client for http request handling.I decided to use jetty-client-11.0.0 to do this but upon running a basic script I keep getting the java.lang.NoClassDeffoundError;</p>\n<pre><code>package currencyconverter;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeoutException;\n\nimport org.eclipse.jetty.client.HttpClient;\nimport org.eclipse.jetty.client.api.ContentResponse;\n\n\npublic class urler{\n    public static void main(String[] args) throws InterruptedException, ExecutionException, TimeoutException, IOException {\n        HttpClient httpClient = new HttpClient();\n\n\n        ContentResponse response = httpClient.GET(&quot;example.com&quot;);\n        System.out.println(response.toString());\n\n    }\n}\n\n</code></pre>\n<p>then the error is;</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/util/component/ContainerLifeCycle\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at currencyconverter.urler.main(urler.java:12)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.component.ContainerLifeCycle\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 10 more\n</code></pre>\n<p>I tried changing the version of jetty-client but it didn't seem to work ie from jetty-client 12.0.0.alpha3 to jetty-client 11.0.0 thinking that it was a version error and hoping that it would fix the issue but it didn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1129881,"reputation":11550,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1597051522,"post_id":63337400,"comment_id":111997759,"body_markdown":"What have you tried so far? Where are you stuck?","body":"What have you tried so far? Where are you stuck?"},{"owner":{"account_id":1771779,"reputation":11,"user_id":1616422,"display_name":"cheng.pro"},"score":0,"creation_date":1597051740,"post_id":63337400,"comment_id":111997854,"body_markdown":"@NicoHaase Are there multiple judgments in a loop?","body":"@NicoHaase Are there multiple judgments in a loop?"},{"owner":{"account_id":14488140,"reputation":1434,"user_id":10465344,"display_name":"Vinay Hegde"},"score":0,"creation_date":1597051921,"post_id":63337400,"comment_id":111997934,"body_markdown":"@cheng.pro Why you need stream here. for loop looks clean.","body":"@cheng.pro Why you need stream here. for loop looks clean."},{"owner":{"account_id":1771779,"reputation":11,"user_id":1616422,"display_name":"cheng.pro"},"score":0,"creation_date":1597052073,"post_id":63337400,"comment_id":111997993,"body_markdown":"@Daemon  Because many classes have such codes and want to remove duplication.","body":"@Daemon  Because many classes have such codes and want to remove duplication."},{"owner":{"account_id":1771779,"reputation":11,"user_id":1616422,"display_name":"cheng.pro"},"score":0,"creation_date":1597052154,"post_id":63337400,"comment_id":111998024,"body_markdown":"@Daemon The difference is that the compared strings are different.","body":"@Daemon The difference is that the compared strings are different."},{"owner":{"account_id":14488140,"reputation":1434,"user_id":10465344,"display_name":"Vinay Hegde"},"score":0,"creation_date":1597052305,"post_id":63337400,"comment_id":111998080,"body_markdown":"@cheng.pro I got that, but I feel if you convert to stream then also we can&#39;t get rid of those if loops. that&#39;s the reason I said for loop looks clean","body":"@cheng.pro I got that, but I feel if you convert to stream then also we can&#39;t get rid of those if loops. that&#39;s the reason I said for loop looks clean"},{"owner":{"account_id":1771779,"reputation":11,"user_id":1616422,"display_name":"cheng.pro"},"score":0,"creation_date":1597052512,"post_id":63337400,"comment_id":111998178,"body_markdown":"@Daemon My idea is to write a method, in the method to make equals and ```map.put()```, compare the string seat parameters passed in.","body":"@Daemon My idea is to write a method, in the method to make equals and <code>map.put()</code>, compare the string seat parameters passed in."}],"answers":[{"tags":[],"owner":{"display_name":"user4910279"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597059003,"creation_date":1597053690,"answer_id":63338043,"question_id":63337400,"body_markdown":"Try this.\r\n\r\n    static final Set&lt;String&gt; KEY_SELECTION = Set.of(&quot;op1&quot;, &quot;op2&quot;, &quot;op3&quot;);\r\n\r\n    public Map&lt;String, String&gt; doSomething(Tr req) {\r\n        return Optional.ofNullable(req.getSome())\r\n            .orElse(Collections.emptyList())\r\n            .stream()\r\n            .filter(sp -&gt; KEY_SELECTION.contains(sp.getKey()))\r\n            .collect(Collectors.toMap(Spp::getKey, Spp::getValue));\r\n    }\r\n\r\n","title":"how to convert the following code as a lambda expression","body":"<p>Try this.</p>\n<pre><code>static final Set&lt;String&gt; KEY_SELECTION = Set.of(&quot;op1&quot;, &quot;op2&quot;, &quot;op3&quot;);\n\npublic Map&lt;String, String&gt; doSomething(Tr req) {\n    return Optional.ofNullable(req.getSome())\n        .orElse(Collections.emptyList())\n        .stream()\n        .filter(sp -&gt; KEY_SELECTION.contains(sp.getKey()))\n        .collect(Collectors.toMap(Spp::getKey, Spp::getValue));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2889405,"reputation":2350,"user_id":2478531,"accept_rate":80,"display_name":"Pankaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597067949,"creation_date":1597060988,"answer_id":63339815,"question_id":63337400,"body_markdown":"I can suggest an alternative way, as you had asked for a functional interface (roughly based on @saka1029 answer, his answer is much better than mine).\r\n\r\nDefine a BiConsumer&lt;T, U&gt; biConsumer function\r\n\r\n      private static &lt;T, U&gt; void resolve(T t, U u, BiConsumer&lt;T, U&gt; biConsumer) {\r\n        biConsumer.accept(t, u);\r\n      }\r\n\r\nAnd make changes in your method as (BTW, do is a reserved keyword in java so it&#39;s not accepted as method name)\r\n\r\n      public static Map&lt;String, String&gt; do1(Tr req) {\r\n        Map&lt;String, String&gt; res = new HashMap&lt;&gt;();\r\n        List&lt;Spp&gt; list = req.getSome();\r\n        Set&lt;String&gt; operation = Set.of(&quot;op1&quot;, &quot;op2&quot;, &quot;op3&quot;);\r\n        if (null != list) {\r\n          for (Spp sp : list) {\r\n            resolve(res,sp,\r\n                (res1, sp1) -&gt; {\r\n                  if (operation.contains(sp.getKey())) {\r\n                    res.put(sp.getKey(), sp.getValue());\r\n                  }\r\n                });\r\n          }\r\n        }\r\n        return res;\r\n      }","title":"how to convert the following code as a lambda expression","body":"<p>I can suggest an alternative way, as you had asked for a functional interface (roughly based on @saka1029 answer, his answer is much better than mine).</p>\n<p>Define a BiConsumer&lt;T, U&gt; biConsumer function</p>\n<pre><code>  private static &lt;T, U&gt; void resolve(T t, U u, BiConsumer&lt;T, U&gt; biConsumer) {\n    biConsumer.accept(t, u);\n  }\n</code></pre>\n<p>And make changes in your method as (BTW, do is a reserved keyword in java so it's not accepted as method name)</p>\n<pre><code>  public static Map&lt;String, String&gt; do1(Tr req) {\n    Map&lt;String, String&gt; res = new HashMap&lt;&gt;();\n    List&lt;Spp&gt; list = req.getSome();\n    Set&lt;String&gt; operation = Set.of(&quot;op1&quot;, &quot;op2&quot;, &quot;op3&quot;);\n    if (null != list) {\n      for (Spp sp : list) {\n        resolve(res,sp,\n            (res1, sp1) -&gt; {\n              if (operation.contains(sp.getKey())) {\n                res.put(sp.getKey(), sp.getValue());\n              }\n            });\n      }\n    }\n    return res;\n  }\n</code></pre>\n"}],"owner":{"account_id":1771779,"reputation":11,"user_id":1616422,"display_name":"cheng.pro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1597141295,"answer_count":2,"score":-1,"last_activity_date":1671133250,"creation_date":1597051165,"question_id":63337400,"body_markdown":"there are a number of methods:\r\n\r\n```java\r\n   public Map&lt;String,String&gt; do(Tr req){\r\n       Map&lt;String,String&gt; res=new HashMap&lt;&gt;();\r\n       List&lt;Spp&gt; list=req.getSome();\r\n       if(null!=list) {\r\n           for (Spp sp : list) {\r\n               if (&quot;op1&quot;.equals(sp.getKey())) {\r\n                   res.put(&quot;op1&quot;, sp.getValue());\r\n               }\r\n               if (&quot;op2&quot;.equals(sp.getKey())) {\r\n                   res.put(&quot;op2&quot;, sp.getValue());\r\n               }\r\n               if (&quot;op3&quot;.equals(sp.getKey())) {\r\n                   res.put(&quot;op3&quot;, sp.getValue());\r\n               }\r\n           }\r\n       }\r\n       return res;\r\n    }\r\n```\r\n```java\r\nif (&quot;op1&quot;.equals(sp.getKey())) {\r\n      res.put(&quot;op1&quot;, sp.getValue());\r\n}\r\n```\r\n\r\nrepetitive parts want to convert lambda. I don&#39;t know what function to use.","title":"how to convert the following code as a lambda expression","body":"<p>there are a number of methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public Map&lt;String,String&gt; do(Tr req){\n       Map&lt;String,String&gt; res=new HashMap&lt;&gt;();\n       List&lt;Spp&gt; list=req.getSome();\n       if(null!=list) {\n           for (Spp sp : list) {\n               if (&quot;op1&quot;.equals(sp.getKey())) {\n                   res.put(&quot;op1&quot;, sp.getValue());\n               }\n               if (&quot;op2&quot;.equals(sp.getKey())) {\n                   res.put(&quot;op2&quot;, sp.getValue());\n               }\n               if (&quot;op3&quot;.equals(sp.getKey())) {\n                   res.put(&quot;op3&quot;, sp.getValue());\n               }\n           }\n       }\n       return res;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (&quot;op1&quot;.equals(sp.getKey())) {\n      res.put(&quot;op1&quot;, sp.getValue());\n}\n</code></pre>\n<p>repetitive parts want to convert lambda. I don't know what function to use.</p>\n"},{"tags":["java","testing","maven-2","maven-surefire-plugin"],"answers":[{"comments":[{"owner":{"account_id":978422,"reputation":2005,"user_id":998772,"accept_rate":54,"display_name":"pavel_kazlou"},"score":0,"creation_date":1321613307,"post_id":8180572,"comment_id":10049547,"body_markdown":"Thanks! Missed that option. So the only thing which is being output to console instead of file is that brief report, while all the other staff like xml, html reports are still being produced?","body":"Thanks! Missed that option. So the only thing which is being output to console instead of file is that brief report, while all the other staff like xml, html reports are still being produced?"},{"owner":{"account_id":960817,"reputation":2150,"user_id":985210,"display_name":"orien"},"score":0,"creation_date":1321614322,"post_id":8180572,"comment_id":10049825,"body_markdown":"Yes. So you have your assertion message, exception message and stack trace right there on `stdout`.","body":"Yes. So you have your assertion message, exception message and stack trace right there on <code>stdout</code>."},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1382365371,"post_id":8180572,"comment_id":28919581,"body_markdown":"That command doesn&#39;t seem to always work for me... it worked the first time, I fixed the issues, I hit the up arrow and ran it again, but the next time I spat out a message about needing to check target/surefire-reports again, without the contents of the file.","body":"That command doesn&#39;t seem to always work for me... it worked the first time, I fixed the issues, I hit the up arrow and ran it again, but the next time I spat out a message about needing to check target/surefire-reports again, without the contents of the file."}],"tags":[],"owner":{"account_id":960817,"reputation":2150,"user_id":985210,"display_name":"orien"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1588658272,"creation_date":1321610028,"answer_id":8180572,"question_id":8180315,"body_markdown":"I find there&#39;s way too much output produced on `stdout` to be useful. Try leaving the HTML report open in your browser. After running your tests just refresh the page. Have a look at `target/surefire-reports/index.html`.\r\n\r\nTo output test results to `stdout` rather than a file use the following command:\r\n\r\n    mvn test -Dsurefire.useFile=false\r\n\r\nOr to configure in your `pom.xml` add the following to your `plugins` section.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.10&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;useFile&gt;false&lt;/useFile&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Output failed test details to stdout using maven surefire","body":"<p>I find there's way too much output produced on <code>stdout</code> to be useful. Try leaving the HTML report open in your browser. After running your tests just refresh the page. Have a look at <code>target/surefire-reports/index.html</code>.</p>\n\n<p>To output test results to <code>stdout</code> rather than a file use the following command:</p>\n\n<pre><code>mvn test -Dsurefire.useFile=false\n</code></pre>\n\n<p>Or to configure in your <code>pom.xml</code> add the following to your <code>plugins</code> section.</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.10&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;useFile&gt;false&lt;/useFile&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079267,"reputation":776,"user_id":1076703,"display_name":"Vipul Gulhane"},"comment_count":0,"down_vote_count":12,"up_vote_count":0,"is_accepted":false,"score":-12,"last_activity_date":1531203662,"creation_date":1531196886,"answer_id":51257279,"question_id":8180315,"body_markdown":"try using bellow maven command\r\n\r\n`mvn clean install -DskipTests`\r\n\r\n`-DskipTests` compiles the tests, but skips running them","title":"Output failed test details to stdout using maven surefire","body":"<p>try using bellow maven command</p>\n\n<p><code>mvn clean install -DskipTests</code></p>\n\n<p><code>-DskipTests</code> compiles the tests, but skips running them</p>\n"},{"tags":[],"owner":{"account_id":140150,"reputation":1081,"user_id":346247,"display_name":"Jim Bethancourt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547651903,"creation_date":1547651903,"answer_id":54220161,"question_id":8180315,"body_markdown":"It&#39;s possible you may be using an older version of Surefire.  I have found that newer versions produce more useful output on the console.  \r\n\r\nIf you only want to see failing tests or tests with errors and only see errors in the build, you can pass the -q argument to your Maven build command.","title":"Output failed test details to stdout using maven surefire","body":"<p>It's possible you may be using an older version of Surefire.  I have found that newer versions produce more useful output on the console.  </p>\n\n<p>If you only want to see failing tests or tests with errors and only see errors in the build, you can pass the -q argument to your Maven build command.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671171038,"post_id":74779924,"comment_id":132045759,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74779924/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27235578,"reputation":1,"user_id":20762532,"display_name":"Vishal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671133195,"creation_date":1670905112,"answer_id":74779924,"question_id":8180315,"body_markdown":"please check your version of jacoco plugin is compatible with jdk or not:\r\ni was getting similar issue , test cases were passing but it was failing while building project. so upgraded version worked for me:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;jacoco-site&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Output failed test details to stdout using maven surefire","body":"<p>please check your version of jacoco plugin is compatible with jdk or not:\ni was getting similar issue , test cases were passing but it was failing while building project. so upgraded version worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-site&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":978422,"reputation":2005,"user_id":998772,"accept_rate":54,"display_name":"pavel_kazlou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44414,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":8180572,"answer_count":4,"score":27,"last_activity_date":1671133195,"creation_date":1321608706,"question_id":8180315,"body_markdown":"When I run my build using maven 2\r\n\r\n    mvn clean install\r\n\r\nmy tests are run by surefire plug-in. In case test failed I get the following output:\r\n\r\n    Results :\r\n    \r\n    Failed tests: \r\n      test1(com.my.MyClassTest)\r\n    \r\n    Tests run: 3, Failures: 1, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] There are test failures.\r\n    \r\n    Please refer to /home/user/myproject/mymodule/target/surefire-reports for the individual test results.\r\n\r\nTo get the details about the problem I have to go and check surefire reports folder. Doing this every time my tests fail becomes annoying. Is there any way I can get those details (assert message + exception + stack trace) right here on the stdout ?","title":"Output failed test details to stdout using maven surefire","body":"<p>When I run my build using maven 2</p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>my tests are run by surefire plug-in. In case test failed I get the following output:</p>\n\n<pre><code>Results :\n\nFailed tests: \n  test1(com.my.MyClassTest)\n\nTests run: 3, Failures: 1, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[ERROR] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] There are test failures.\n\nPlease refer to /home/user/myproject/mymodule/target/surefire-reports for the individual test results.\n</code></pre>\n\n<p>To get the details about the problem I have to go and check surefire reports folder. Doing this every time my tests fail becomes annoying. Is there any way I can get those details (assert message + exception + stack trace) right here on the stdout ?</p>\n"},{"tags":["java","android","android-fragments"],"owner":{"account_id":20871238,"reputation":31,"user_id":15331142,"display_name":"80s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671132939,"creation_date":1671132939,"question_id":74816683,"body_markdown":"I&#39;m having a strange issue in a project I&#39;m currently working on. I&#39;m currently creating an enigma machine app on Android Studio, the project is not complete as most of my time has been trying to get the UI stuff to work. \r\n\r\nWhen I press the letter q on the lower keyboard I want the upper keyboard&#39;s q to light up as well. This works properly when I launch the app for the first time, but when I move to a new fragment using the navigation bar, then move back to the Enigma Machine fragment, when I press the letter q, the upper keyboard does not light up. \r\n\r\nI tried using Log to track if the onKeyboardClick method was still being ran, and the if statement inside. Both are functioning correctly, the only thing that does now work, is the letters colorFill does not change (after coming from a different fragment). \r\n\r\n\r\nlampboardAL is an arraylist that contains all the letters in the upper image[![Before pressing button](https://i.stack.imgur.com/c2Em9.png)](https://i.stack.imgur.com/c2Em9.png)\r\n\r\n[![After pressing button](https://i.stack.imgur.com/gBpxp.png)](https://i.stack.imgur.com/gBpxp.png)\r\n\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                         Bundle savedInstanceState) {\r\n    // Inflate the layout for this fragment\r\n    int buttonID;\r\n    View rootView = inflater.inflate(R.layout.fragment_enigma, container, false);\r\n    RelativeLayout keyButton = rootView.findViewById(R.id.parent);\r\n\r\n    for (int i = 0; i &lt; keyButton.getChildCount(); i++) {\r\n        //Log.i(&quot;OnKeyboardClick&quot;, String.valueOf(keyButton.getChildAt(i)));\r\n        if(keyButton.getChildAt(i) instanceof AppCompatImageView &amp;&amp; i &lt;= 3) {\r\n            ImageView rotorImage = (ImageView) keyButton.getChildAt(i);\r\n            RotorAL.add(rotorImage);\r\n        }\r\n        if(keyButton.getChildAt(i) instanceof AppCompatImageView &amp;&amp; i &gt; 3){\r\n            ImageView lampboard = (ImageView) keyButton.getChildAt(i);\r\n            lampboardAL.add(lampboard);\r\n        }else if(keyButton.getChildAt(i) instanceof AppCompatImageButton){\r\n            ImageButton keyboard = (ImageButton) keyButton.getChildAt(i);\r\n            keyboard.setOnClickListener(this::onKeyboardClick);\r\n        }\r\n    }\r\n    blink = AnimationUtils.loadAnimation(getActivity().getApplicationContext(),R.anim.blink);\r\n    LampOnColor = ContextCompat.getColor(this.requireActivity(), R.color.electric_yellow);\r\n\r\n    if(savedInstanceState == null){\r\n        rotor1 = new Rotor(1,1);\r\n        rotor2 = new Rotor(2,1);\r\n        rotor3 = new Rotor(3,1);\r\n        reflect = new Rotor(4,1);\r\n    }else{\r\n        String rotorState = savedInstanceState.getString(ROTOR_STATE);\r\n        rotor1 = new Rotor(Character.getNumericValue(rotorState.charAt(0)),Character.getNumericValue(rotorState.charAt(1)));\r\n        rotor2 = new Rotor(Character.getNumericValue(rotorState.charAt(2)),Character.getNumericValue(rotorState.charAt(3)));\r\n        rotor3 = new Rotor(Character.getNumericValue(rotorState.charAt(4)),Character.getNumericValue(rotorState.charAt(5)));\r\n        reflect = new Rotor(Character.getNumericValue(rotorState.charAt(6)),Character.getNumericValue(rotorState.charAt(7)));\r\n    }\r\n\r\n\r\n    return rootView;\r\n```\r\n\r\n```\r\nprivate void onKeyboardClick(@NonNull View view){\r\n    Log.i(&quot;OnKeyboardClick&quot;, String .valueOf(view.getId()));\r\n    if(view.getId() == R.id.key_q){\r\n        Log.i(&quot;AfterKeyboardClick&quot;, String.valueOf(lampboardAL.get(0)));\r\n        lampboardAL.get(0).setColorFilter(LampOnColor);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;m not sure where to start when it comes to fixing this issue because both the onKeybardClick function triggers and the if statment, the only issue is that the setColorFilter does not work after you&#39;ve loaded a different fragment then returned to the enigma machine fragment. ","title":"Button Functionality not working after selecting loading a different fragment and then moving back","body":"<p>I'm having a strange issue in a project I'm currently working on. I'm currently creating an enigma machine app on Android Studio, the project is not complete as most of my time has been trying to get the UI stuff to work.</p>\n<p>When I press the letter q on the lower keyboard I want the upper keyboard's q to light up as well. This works properly when I launch the app for the first time, but when I move to a new fragment using the navigation bar, then move back to the Enigma Machine fragment, when I press the letter q, the upper keyboard does not light up.</p>\n<p>I tried using Log to track if the onKeyboardClick method was still being ran, and the if statement inside. Both are functioning correctly, the only thing that does now work, is the letters colorFill does not change (after coming from a different fragment).</p>\n<p>lampboardAL is an arraylist that contains all the letters in the upper image<a href=\"https://i.stack.imgur.com/c2Em9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2Em9.png\" alt=\"Before pressing button\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gBpxp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gBpxp.png\" alt=\"After pressing button\" /></a></p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    int buttonID;\n    View rootView = inflater.inflate(R.layout.fragment_enigma, container, false);\n    RelativeLayout keyButton = rootView.findViewById(R.id.parent);\n\n    for (int i = 0; i &lt; keyButton.getChildCount(); i++) {\n        //Log.i(&quot;OnKeyboardClick&quot;, String.valueOf(keyButton.getChildAt(i)));\n        if(keyButton.getChildAt(i) instanceof AppCompatImageView &amp;&amp; i &lt;= 3) {\n            ImageView rotorImage = (ImageView) keyButton.getChildAt(i);\n            RotorAL.add(rotorImage);\n        }\n        if(keyButton.getChildAt(i) instanceof AppCompatImageView &amp;&amp; i &gt; 3){\n            ImageView lampboard = (ImageView) keyButton.getChildAt(i);\n            lampboardAL.add(lampboard);\n        }else if(keyButton.getChildAt(i) instanceof AppCompatImageButton){\n            ImageButton keyboard = (ImageButton) keyButton.getChildAt(i);\n            keyboard.setOnClickListener(this::onKeyboardClick);\n        }\n    }\n    blink = AnimationUtils.loadAnimation(getActivity().getApplicationContext(),R.anim.blink);\n    LampOnColor = ContextCompat.getColor(this.requireActivity(), R.color.electric_yellow);\n\n    if(savedInstanceState == null){\n        rotor1 = new Rotor(1,1);\n        rotor2 = new Rotor(2,1);\n        rotor3 = new Rotor(3,1);\n        reflect = new Rotor(4,1);\n    }else{\n        String rotorState = savedInstanceState.getString(ROTOR_STATE);\n        rotor1 = new Rotor(Character.getNumericValue(rotorState.charAt(0)),Character.getNumericValue(rotorState.charAt(1)));\n        rotor2 = new Rotor(Character.getNumericValue(rotorState.charAt(2)),Character.getNumericValue(rotorState.charAt(3)));\n        rotor3 = new Rotor(Character.getNumericValue(rotorState.charAt(4)),Character.getNumericValue(rotorState.charAt(5)));\n        reflect = new Rotor(Character.getNumericValue(rotorState.charAt(6)),Character.getNumericValue(rotorState.charAt(7)));\n    }\n\n\n    return rootView;\n</code></pre>\n<pre><code>private void onKeyboardClick(@NonNull View view){\n    Log.i(&quot;OnKeyboardClick&quot;, String .valueOf(view.getId()));\n    if(view.getId() == R.id.key_q){\n        Log.i(&quot;AfterKeyboardClick&quot;, String.valueOf(lampboardAL.get(0)));\n        lampboardAL.get(0).setColorFilter(LampOnColor);\n    }\n\n}\n</code></pre>\n<p>I'm not sure where to start when it comes to fixing this issue because both the onKeybardClick function triggers and the if statment, the only issue is that the setColorFilter does not work after you've loaded a different fragment then returned to the enigma machine fragment.</p>\n"},{"tags":["java","android","kotlin","barcode","barcode-scanner"],"owner":{"account_id":16699468,"reputation":25,"user_id":12069636,"display_name":"freud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671132926,"creation_date":1671132926,"question_id":74816681,"body_markdown":"I want to take the data to edittext with a Bluetooth barcode scanner and save it to the list. I read the data from the edittext with the textwatcher.I want to automatically save it to the list and read the other barcode without pressing any button. However, when I receive the data from the textwatcher, the data is read as a single letter. There are many different barcode types and the exact number of characters is not clear, so I got stuck here. When I enter it with barcode, I want to automatically list it and update the recyclerview. Is there a way to capture the data from the edittext according to the barcode?\r\n\r\nMy code is as follows;\r\n\r\n \r\n\r\n     binding.barcodeTxtDevice.addTextChangedListener(object : TextWatcher {\r\n                override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {              \r\n                if(p0==null)return\r\n                barcodList.add(p0.toString())\r\n                barcodeAdapter.notifyDataSetChanged()\r\n\t           }\r\n            }","title":"Writing barcode data to Edittext with Bluetooth Barcode device","body":"<p>I want to take the data to edittext with a Bluetooth barcode scanner and save it to the list. I read the data from the edittext with the textwatcher.I want to automatically save it to the list and read the other barcode without pressing any button. However, when I receive the data from the textwatcher, the data is read as a single letter. There are many different barcode types and the exact number of characters is not clear, so I got stuck here. When I enter it with barcode, I want to automatically list it and update the recyclerview. Is there a way to capture the data from the edittext according to the barcode?</p>\n<p>My code is as follows;</p>\n<pre><code> binding.barcodeTxtDevice.addTextChangedListener(object : TextWatcher {\n            override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {              \n            if(p0==null)return\n            barcodList.add(p0.toString())\n            barcodeAdapter.notifyDataSetChanged()\n           }\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671053515,"post_id":74804367,"comment_id":132017326,"body_markdown":"Provide `xdDeliveryCallback` as a formal parameter to `xdDeliveryCore()`, not as an autowired field.","body":"Provide <code>xdDeliveryCallback</code> as a formal parameter to <code>xdDeliveryCore()</code>, not as an autowired field."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671053982,"post_id":74804367,"comment_id":132017453,"body_markdown":"@tgdavies I have tried that but I have got something like that bean cannot be autowired or instantiated, something like that","body":"@tgdavies I have tried that but I have got something like that bean cannot be autowired or instantiated, something like that"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1671055629,"post_id":74804367,"comment_id":132017873,"body_markdown":"What is the implementation of the `XDDeliveryCallback` interface?","body":"What is the implementation of the <code>XDDeliveryCallback</code> interface?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671055855,"post_id":74804367,"comment_id":132017939,"body_markdown":"@NikolasCharalambidis added to the OP","body":"@NikolasCharalambidis added to the OP"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":1,"creation_date":1671132525,"post_id":74804367,"comment_id":132038450,"body_markdown":"@tgdavies your solution worked with fixed configuration class","body":"@tgdavies your solution worked with fixed configuration class"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1671132622,"post_id":74804367,"comment_id":132038475,"body_markdown":"@JackTheKnife Good job! Glad it helped.","body":"@JackTheKnife Good job! Glad it helped."}],"answers":[{"comments":[{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671062034,"post_id":74804770,"comment_id":132019323,"body_markdown":"Sure, I will check if the Spring app picks that configuration file.","body":"Sure, I will check if the Spring app picks that configuration file."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671068623,"post_id":74804770,"comment_id":132020363,"body_markdown":"One thing I forgot to mention is that `XDRemoteDeliveryProcessor` has `@Configuration` annotation too. Not sure if that is the main problem","body":"One thing I forgot to mention is that <code>XDRemoteDeliveryProcessor</code> has <code>@Configuration</code> annotation too. Not sure if that is the main problem"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671078867,"post_id":74804770,"comment_id":132021663,"body_markdown":"So `@Cofiguration` `XDDeliveryConfig` is getting picked up when Spring boot application starts but autowired `XDDeliveryCallback ` is still null even `@Component` annotation was added.","body":"So <code>@Cofiguration</code> <code>XDDeliveryConfig</code> is getting picked up when Spring boot application starts but autowired <code>XDDeliveryCallback </code> is still null even <code>@Component</code> annotation was added."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671114635,"post_id":74804770,"comment_id":132032172,"body_markdown":"Even I have added explicit component scan `@ComponentScan(value = &quot;org.nhind.xd.streams&quot;)` and still is not autowire `XDDeliveryCallback`","body":"Even I have added explicit component scan <code>@ComponentScan(value = &quot;org.nhind.xd.streams&quot;)</code> and still is not autowire <code>XDDeliveryCallback</code>"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671132813,"post_id":74804770,"comment_id":132038537,"body_markdown":"It looks like it is Spring Boot &quot;thing&quot; that `XDeliveryCallback` was not initialized on time when the configuration class was scanned. `DependsOn` annotation will work fine on a bean, not an interface. Had a hard time getting `@Order` and `@ConditionalOnClass` to work in my case but getting config scanned + providing `xdDeliveryCallback` as a formal parameter to `xdDeliveryCore()` did the job.","body":"It looks like it is Spring Boot &quot;thing&quot; that <code>XDeliveryCallback</code> was not initialized on time when the configuration class was scanned. <code>DependsOn</code> annotation will work fine on a bean, not an interface. Had a hard time getting <code>@Order</code> and <code>@ConditionalOnClass</code> to work in my case but getting config scanned + providing <code>xdDeliveryCallback</code> as a formal parameter to <code>xdDeliveryCore()</code> did the job."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1671133080,"post_id":74804770,"comment_id":132038627,"body_markdown":"Regarding debugging it Spring Boot application must know where to scan for configurations. Otherwise, it will not reflect during the app start.","body":"Regarding debugging it Spring Boot application must know where to scan for configurations. Otherwise, it will not reflect during the app start."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671056442,"creation_date":1671056442,"answer_id":74804770,"question_id":74804367,"body_markdown":"You want to autowire a bean, an instance of the `XDDeliveryCallback` interface. Though the `XDRemoteDeliveryProcessor` is the implementation of the interface, it is not registered as a Spring bean (I assume there is no XML configuration as your code seems fully annotation based).\r\n\r\nThe solution is to either register a bean in the XML configuration using `&lt;bean class=... &gt;` element or rather annotate the `XDRemoteDeliveryProcessor` implementation with `@Component`/`@Service`.\r\n\r\nAs long as the bean is properly scanned (using `@SpringBootApplication`/`@Configuration` or `&lt;context:component-scan base-package=... &gt;`), the bean is registered and the autowiring successful.\r\n\r\n```java\r\n@Component\r\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback {\r\n\r\n    // implementation\r\n}\r\n```\r\nRemember the Spring annotations (such as `@Autowired`, `@Bean`, etc.) take no effect if the class is not registered as a proper Spring bean on configuration.","title":"How to debug autowired interface in configuration class","body":"<p>You want to autowire a bean, an instance of the <code>XDDeliveryCallback</code> interface. Though the <code>XDRemoteDeliveryProcessor</code> is the implementation of the interface, it is not registered as a Spring bean (I assume there is no XML configuration as your code seems fully annotation based).</p>\n<p>The solution is to either register a bean in the XML configuration using <code>&lt;bean class=... &gt;</code> element or rather annotate the <code>XDRemoteDeliveryProcessor</code> implementation with <code>@Component</code>/<code>@Service</code>.</p>\n<p>As long as the bean is properly scanned (using <code>@SpringBootApplication</code>/<code>@Configuration</code> or <code>&lt;context:component-scan base-package=... &gt;</code>), the bean is registered and the autowiring successful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback {\n\n    // implementation\n}\n</code></pre>\n<p>Remember the Spring annotations (such as <code>@Autowired</code>, <code>@Bean</code>, etc.) take no effect if the class is not registered as a proper Spring bean on configuration.</p>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74804770,"answer_count":1,"score":1,"last_activity_date":1671132601,"creation_date":1671053340,"question_id":74804367,"body_markdown":"I have a configuration class:\r\n\r\n```\r\n@Configuration\r\npublic class XDDeliveryConfig {\r\n\r\n    @Value(&quot;${direct.gateway.xd.endpointUrl: http://localhost:8080/xd/services/DocumentRepository_Service}&quot;)\r\n    protected String endpointURL;\r\n\r\n    @Autowired\r\n    protected RoutingResolver resolver;\r\n\r\n    @Autowired\r\n    protected XDDeliveryCallback xdDeliveryCallback;\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public XDDeliveryCore xdDeliveryCore() {\r\n        final ReliableDispatchedNotificationProducer notificationProducer =\r\n            new ReliableDispatchedNotificationProducer(\r\n                new NotificationSettings(true, &quot;Direct XD Delivery Agent&quot;,\r\n                        &quot;Your message was successfully dispatched.&quot;));\r\n\r\n        return new XDDeliveryCore(\r\n                resolver, xdDeliveryCallback, new DefaultTxDetailParser(),\r\n                new DefaultMimeXdsTransformer(), new DocumentRepository(), \r\n                notificationProducer, endpointURL);\r\n    }\r\n}\r\n```\r\n\r\nWhich for some reason has a problem with the autowired `XDDeliveryCallback` interface which looks like:\r\n\r\n```\r\npublic interface XDDeliveryCallback {\r\n    void sendNotificationMessage(NotificationMessage message) throws MessagingException;\r\n}\r\n```\r\n\r\nAnd constructor for the `XDDeliveryCore` class looks like:\r\n\r\n```\r\npublic class XDDeliveryCore {\r\n    protected final RoutingResolver resolver;\r\n    protected final XDDeliveryCallback callback;\r\n    protected final TxDetailParser txParser;\r\n    protected final MimeXdsTransformer mimeXDSTransformer;\r\n    protected final DocumentRepository documentRepository;\r\n    protected final NotificationProducer notificationProducer;\r\n    protected final String endpointUrl;\r\n\r\n    public XDDeliveryCore(RoutingResolver resolver, XDDeliveryCallback callback,\r\n                          TxDetailParser txParser,\r\n                          MimeXdsTransformer mimeXDSTransformer, DocumentRepository documentRepository,\r\n                          NotificationProducer notificationProducer, String endpointUrl) {\r\n        this.resolver = resolver;\r\n        this.callback = callback;\r\n        this.txParser = txParser;\r\n        this.mimeXDSTransformer = mimeXDSTransformer;\r\n        this.endpointUrl = endpointUrl;\r\n        this.documentRepository = documentRepository;\r\n        this.notificationProducer = notificationProducer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHow can I debug why `callback` in the `XDDeliveryCore` is `null` or what I have missed?\r\n\r\nPS.\r\nImplementation for the interface:\r\n\r\n```\r\n@Configuration\r\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback {\r\n\r\n    @Autowired\r\n    protected XDDeliveryCore deliveryCore;\r\n\r\n    @Autowired\r\n    protected SmtpGatewayMessageSource smtpMessageSource;\r\n\r\n    @Autowired\r\n    protected DSNCreator dsnCreator;\r\n\r\n    @Bean\r\n    public Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput() {\r\n        return streamMsg -&gt; {\r\n            try {\r\n                final SMTPMailMessage smtpMessage = SMTPMailMessageConverter.fromStreamMessage(streamMsg);\r\n\r\n                log.debug(&quot;XDRemoteDeliveryProcessor processing message from &quot; + smtpMessage.getMailFrom().toString());\r\n                deliveryCore.processAndDeliverXDMessage(smtpMessage);\r\n            } catch (MessagingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n\r\n    public void sendNotificationMessage(NotificationMessage message) throws MessagingException {\r\n        smtpMessageSource.sendMimeMessage(message);\r\n    }\r\n}\r\n```","title":"How to debug autowired interface in configuration class","body":"<p>I have a configuration class:</p>\n<pre><code>@Configuration\npublic class XDDeliveryConfig {\n\n    @Value(&quot;${direct.gateway.xd.endpointUrl: http://localhost:8080/xd/services/DocumentRepository_Service}&quot;)\n    protected String endpointURL;\n\n    @Autowired\n    protected RoutingResolver resolver;\n\n    @Autowired\n    protected XDDeliveryCallback xdDeliveryCallback;\n\n    @Bean\n    @ConditionalOnMissingBean\n    public XDDeliveryCore xdDeliveryCore() {\n        final ReliableDispatchedNotificationProducer notificationProducer =\n            new ReliableDispatchedNotificationProducer(\n                new NotificationSettings(true, &quot;Direct XD Delivery Agent&quot;,\n                        &quot;Your message was successfully dispatched.&quot;));\n\n        return new XDDeliveryCore(\n                resolver, xdDeliveryCallback, new DefaultTxDetailParser(),\n                new DefaultMimeXdsTransformer(), new DocumentRepository(), \n                notificationProducer, endpointURL);\n    }\n}\n</code></pre>\n<p>Which for some reason has a problem with the autowired <code>XDDeliveryCallback</code> interface which looks like:</p>\n<pre><code>public interface XDDeliveryCallback {\n    void sendNotificationMessage(NotificationMessage message) throws MessagingException;\n}\n</code></pre>\n<p>And constructor for the <code>XDDeliveryCore</code> class looks like:</p>\n<pre><code>public class XDDeliveryCore {\n    protected final RoutingResolver resolver;\n    protected final XDDeliveryCallback callback;\n    protected final TxDetailParser txParser;\n    protected final MimeXdsTransformer mimeXDSTransformer;\n    protected final DocumentRepository documentRepository;\n    protected final NotificationProducer notificationProducer;\n    protected final String endpointUrl;\n\n    public XDDeliveryCore(RoutingResolver resolver, XDDeliveryCallback callback,\n                          TxDetailParser txParser,\n                          MimeXdsTransformer mimeXDSTransformer, DocumentRepository documentRepository,\n                          NotificationProducer notificationProducer, String endpointUrl) {\n        this.resolver = resolver;\n        this.callback = callback;\n        this.txParser = txParser;\n        this.mimeXDSTransformer = mimeXDSTransformer;\n        this.endpointUrl = endpointUrl;\n        this.documentRepository = documentRepository;\n        this.notificationProducer = notificationProducer;\n    }\n\n}\n</code></pre>\n<p>How can I debug why <code>callback</code> in the <code>XDDeliveryCore</code> is <code>null</code> or what I have missed?</p>\n<p>PS.\nImplementation for the interface:</p>\n<pre><code>@Configuration\npublic class XDRemoteDeliveryProcessor implements XDDeliveryCallback {\n\n    @Autowired\n    protected XDDeliveryCore deliveryCore;\n\n    @Autowired\n    protected SmtpGatewayMessageSource smtpMessageSource;\n\n    @Autowired\n    protected DSNCreator dsnCreator;\n\n    @Bean\n    public Consumer&lt;Message&lt;?&gt;&gt; directXDDeliveryInput() {\n        return streamMsg -&gt; {\n            try {\n                final SMTPMailMessage smtpMessage = SMTPMailMessageConverter.fromStreamMessage(streamMsg);\n\n                log.debug(&quot;XDRemoteDeliveryProcessor processing message from &quot; + smtpMessage.getMailFrom().toString());\n                deliveryCore.processAndDeliverXDMessage(smtpMessage);\n            } catch (MessagingException e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n\n    public void sendNotificationMessage(NotificationMessage message) throws MessagingException {\n        smtpMessageSource.sendMimeMessage(message);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1629095782,"post_id":68798266,"comment_id":121585988,"body_markdown":"Gradle 2.10 is released 6 years ago so it may not compatible with Android Studio 2020.3","body":"Gradle 2.10 is released 6 years ago so it may not compatible with Android Studio 2020.3"}],"answers":[{"comments":[{"owner":{"account_id":21790737,"reputation":49,"user_id":16090970,"display_name":"Rajveer Jhalani"},"score":0,"creation_date":1629107462,"post_id":68798415,"comment_id":121590327,"body_markdown":"see i am new to android studio so wanted to know do i need the change the gradel version or the android gradel plugin version ???these are there in project structure","body":"see i am new to android studio so wanted to know do i need the change the gradel version or the android gradel plugin version ???these are there in project structure"},{"owner":{"account_id":21790737,"reputation":49,"user_id":16090970,"display_name":"Rajveer Jhalani"},"score":0,"creation_date":1629107636,"post_id":68798415,"comment_id":121590401,"body_markdown":"i just tried to upgrade the wrapper to 4.8 but now it says - Unable to load class &#39;javax.xml.bind.annotation.XmlSchema&#39;. ...what should i do ??","body":"i just tried to upgrade the wrapper to 4.8 but now it says - Unable to load class &#39;javax.xml.bind.annotation.XmlSchema&#39;. ...what should i do ??"}],"tags":[],"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629096127,"creation_date":1629096127,"answer_id":68798415,"question_id":68798266,"body_markdown":"The project&#39;s Gradle version you&#39;re trying to clone is outdated. Change it based on your android studio version. \r\n\r\non your build.gradle(Project) change the version and sync\r\n\r\n    classpath &quot;com.android.tools.build:gradle:4.1.2&quot;","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>The project's Gradle version you're trying to clone is outdated. Change it based on your android studio version.</p>\n<p>on your build.gradle(Project) change the version and sync</p>\n<pre><code>classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11277233,"reputation":21,"user_id":8270947,"display_name":"Rebecca Zee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636624181,"creation_date":1636554187,"answer_id":69914960,"question_id":68798266,"body_markdown":"If you did not figure this out yet, I am just starting the same project too. I changed the classpath like above. I then found a website to use the latest version of gradle and the plugin. It says &quot;You can specify the Gradle version in either the File &gt; Project Structure &gt; Project menu in Android Studio, or by editing the Gradle distribution reference in the gradle/wrapper/gradle-wrapper.properties file.&quot; I did the first one. \r\n\r\nThen, I got errors for both build.gradle files in the project and app version. I get this error: [Could not find com.android.tools.build:gradle:7.0.3][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Z2is6.png\r\nIf you get this error, click the link &quot;Add google Maven repository and sync project&quot;. Then you have to click &quot;Do refactor&quot;.\r\n\r\nNow you come across another error in one of the build.grade files. This stackoverflow link will tell you: [Gradle - Error Could not find method implementation() for arguments [com.android.support:appcompat-v7:26.0.0]][2]\r\n\r\n  [2]: https://stackoverflow.com/questions/45615474/gradle-error-could-not-find-method-implementation-for-arguments-com-android\r\nFinally, replace testCompile with testImplementation and then you should get BUILD SUCCESSFUL.","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>If you did not figure this out yet, I am just starting the same project too. I changed the classpath like above. I then found a website to use the latest version of gradle and the plugin. It says &quot;You can specify the Gradle version in either the File &gt; Project Structure &gt; Project menu in Android Studio, or by editing the Gradle distribution reference in the gradle/wrapper/gradle-wrapper.properties file.&quot; I did the first one.</p>\n<p>Then, I got errors for both build.gradle files in the project and app version. I get this error: <a href=\"https://i.stack.imgur.com/Z2is6.png\" rel=\"nofollow noreferrer\">Could not find com.android.tools.build:gradle:7.0.3</a></p>\n<p>If you get this error, click the link &quot;Add google Maven repository and sync project&quot;. Then you have to click &quot;Do refactor&quot;.</p>\n<p>Now you come across another error in one of the build.grade files. This stackoverflow link will tell you: <a href=\"https://stackoverflow.com/questions/45615474/gradle-error-could-not-find-method-implementation-for-arguments-com-android\">Gradle - Error Could not find method implementation() for arguments [com.android.support:appcompat-v7:26.0.0]</a></p>\n<p>Finally, replace testCompile with testImplementation and then you should get BUILD SUCCESSFUL.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1641657559,"post_id":70632537,"comment_id":124864369,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70632537/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22592116,"reputation":23,"user_id":16775065,"display_name":"Sagar Malhotra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641802460,"creation_date":1641646840,"answer_id":70632537,"question_id":68798266,"body_markdown":"If not getting any solution, the best you can do is copy the &quot;app&quot; folder of your project(using file explorer) and paste it in a newly created project(should be of same name as of your project), in that way you&#39;ll get already synced gradle and newly created version of your app.\r\nBecause, every important thing in your project is present in its app folder and when you create a new project with same name and copy app folder from your older version of your project, you will have a newer version of your project with all same resources.\r\n**Note: You can&#39;t move through branches and other commits**","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>If not getting any solution, the best you can do is copy the &quot;app&quot; folder of your project(using file explorer) and paste it in a newly created project(should be of same name as of your project), in that way you'll get already synced gradle and newly created version of your app.\nBecause, every important thing in your project is present in its app folder and when you create a new project with same name and copy app folder from your older version of your project, you will have a newer version of your project with all same resources.\n<strong>Note: You can't move through branches and other commits</strong></p>\n"},{"tags":[],"owner":{"account_id":22592116,"reputation":23,"user_id":16775065,"display_name":"Sagar Malhotra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641810885,"creation_date":1641810885,"answer_id":70651012,"question_id":68798266,"body_markdown":"Got the solution :)\r\n\r\nIn gradle-wrapper.properties:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\r\n\r\nIn build.gradle project level:\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nIn build.gradle module level:\r\n\r\n    Replace all &quot;compile&quot; with &quot;Implementation&quot; and do other suggested version updated and you are done here :)\r\n\r\nHope this works for you, if yes just press that up button :)\r\n\r\n","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>Got the solution :)</p>\n<p>In gradle-wrapper.properties:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\n</code></pre>\n<p>In build.gradle project level:</p>\n<pre><code>buildscript {\nrepositories {\n    google()\n    mavenCentral()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:7.0.4'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n<p>}</p>\n<p>In build.gradle module level:</p>\n<pre><code>Replace all &quot;compile&quot; with &quot;Implementation&quot; and do other suggested version updated and you are done here :)\n</code></pre>\n<p>Hope this works for you, if yes just press that up button :)</p>\n"},{"tags":[],"owner":{"account_id":6810729,"reputation":166,"user_id":5241030,"display_name":"Sreenu Yatam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644777313,"creation_date":1644777313,"answer_id":71103747,"question_id":68798266,"body_markdown":"I saw this issue several times with Android studio. Below trick worked me the best.\r\n\r\n1. Android Studio suggests to upgrade to newer version, please upgrade it and let it sync\r\n2. Mostly you would see error message again\r\n3. Now, Go to File -&gt; Invalidate Caches/Restart \r\n4. It should work now\r\n\r\nIf it shows same error then I don&#39;t know what to do.\r\nIf it shows different error then repeat from step 1 to 3 for new error. \r\n\r\nHope, it helps some..","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>I saw this issue several times with Android studio. Below trick worked me the best.</p>\n<ol>\n<li>Android Studio suggests to upgrade to newer version, please upgrade it and let it sync</li>\n<li>Mostly you would see error message again</li>\n<li>Now, Go to File -&gt; Invalidate Caches/Restart</li>\n<li>It should work now</li>\n</ol>\n<p>If it shows same error then I don't know what to do.\nIf it shows different error then repeat from step 1 to 3 for new error.</p>\n<p>Hope, it helps some..</p>\n"}],"owner":{"account_id":21790737,"reputation":49,"user_id":16090970,"display_name":"Rajveer Jhalani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12727,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1671132598,"creation_date":1629095281,"question_id":68798266,"body_markdown":"While learning android studio from udacity they asked me to download a project; I did so but while I was importing it to android studio I got an error message:\r\n\r\n&gt;The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3.\r\n\r\nWhy did I get this error?","title":"The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3","body":"<p>While learning android studio from udacity they asked me to download a project; I did so but while I was importing it to android studio I got an error message:</p>\n<blockquote>\n<p>The project uses Gradle 2.10 which is incompatible with Android Studio 2020.3.</p>\n</blockquote>\n<p>Why did I get this error?</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-sleuth","zipkin"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671131915,"creation_date":1671131915,"answer_id":74816511,"question_id":74816048,"body_markdown":"Spring Cloud Sleuth does not work with Spring Boot 3.0. You have to migrate to Micrometer Tracing - read more here https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide","title":"Spring Sleuth Do not generate Trace Id and span Id and not communicating with Zipkin server","body":"<p>Spring Cloud Sleuth does not work with Spring Boot 3.0. You have to migrate to Micrometer Tracing - read more here <a href=\"https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide</a></p>\n"}],"owner":{"account_id":17036335,"reputation":60,"user_id":12325296,"display_name":"ssj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74816511,"answer_count":1,"score":0,"last_activity_date":1671131915,"creation_date":1671129171,"question_id":74816048,"body_markdown":"I am trying to test spring cloud Zipkin.\r\nWhen I make a request to this API, it is not not generating Tracking ID or Span ID.\r\nAny idea what am I missing?\r\n\r\nMy Pom Dependencies\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.tracing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Zipkin-Server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Zipkin-Server&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.0-RC2&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nMy Application Properties\r\n\r\n    spring.application.name=sample-tracing\r\n    logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG\r\n    spring.zipkin.baseUrl: https://localhost:9411/\r\n    spring.sleuth.sampler.percentage=1.0\r\n\r\nMy Controller\r\n\r\n    @RestController\r\n    @Slf4j\r\n    public class HelloController {\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        log.info(&quot;Enter the Hellow World Controller&quot;);\r\n        return &quot;Hello world&quot;;\r\n    }}\r\n\r\nThe Logs:\r\n\r\n```2022-12-15T13:24:15.513-05:00 DEBUG [sample-tracing,,] 10220 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/hello&quot;, parameters={}\r\n2022-12-15T13:24:15.514-05:00  INFO [sample-tracing,,] 10220 --- [nio-8080-exec-2] c.tracing.zs.controller.HelloController  : Enter the Hellow World Controller\r\n2022-12-15T13:24:15.516-05:00 DEBUG [sample-tracing,,] 10220 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK```\r\n","title":"Spring Sleuth Do not generate Trace Id and span Id and not communicating with Zipkin server","body":"<p>I am trying to test spring cloud Zipkin.\nWhen I make a request to this API, it is not not generating Tracking ID or Span ID.\nAny idea what am I missing?</p>\n<p>My Pom Dependencies</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.tracing&lt;/groupId&gt;\n&lt;artifactId&gt;Zipkin-Server&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;Zipkin-Server&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.0-RC2&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>My Application Properties</p>\n<pre><code>spring.application.name=sample-tracing\nlogging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG\nspring.zipkin.baseUrl: https://localhost:9411/\nspring.sleuth.sampler.percentage=1.0\n</code></pre>\n<p>My Controller</p>\n<pre><code>@RestController\n@Slf4j\npublic class HelloController {\n@RequestMapping(&quot;/hello&quot;)\npublic String hello() {\n    log.info(&quot;Enter the Hellow World Controller&quot;);\n    return &quot;Hello world&quot;;\n}}\n</code></pre>\n<p>The Logs:</p>\n<pre><code>2022-12-15T13:24:15.514-05:00  INFO [sample-tracing,,] 10220 --- [nio-8080-exec-2] c.tracing.zs.controller.HelloController  : Enter the Hellow World Controller\n2022-12-15T13:24:15.516-05:00 DEBUG [sample-tracing,,] 10220 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK```\n</code></pre>\n"},{"tags":["java","spring","rest","digits"],"owner":{"account_id":27265177,"reputation":1,"user_id":20787340,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671131388,"creation_date":1671131221,"question_id":74816400,"body_markdown":"It&#39;s my first question on Stackoverflow so Hello everybody :)\r\n\r\nI&#39;m new to Spring and I want to use @Digits annotation to valid input from request to be only digits before  putting them to ArrayList&lt;BigDecimal&gt; but I don&#39;t know why an array like [1,2,3,&quot;g&quot;,5] is treated like OK ?\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class PostRequest {\r\n\r\n    private ArrayList&lt;@Digits(integer = 100, fraction = 0, message = &quot;Only integers please&quot;) BigDecimal&gt; numbers;\r\n\r\n    public ArrayList&lt;BigDecimal&gt; getNumbers() {\r\n        if (numbers==null) return null;\r\n        return numbers;\r\n    }\r\n\r\n    public void setNumbers(ArrayList&lt;BigDecimal&gt; numbers) {\r\n        this.numbers = numbers;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\nAnd here&#39;s my Controller:\r\n\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n    public void test(@Valid @RequestBody PostRequest postRequest){\r\n\r\n        System.out.println(postRequest.getNumbers());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nHere&#39;s JSON code:\r\n\r\n```\r\n{\r\n\t&quot;numbers&quot;:[1,2,3,&quot;g&quot;,5]\r\n}\r\n```\r\n\r\n\r\nWriting 10.2 triggers MethodArgumentNotValidException but writing letters not\r\n\r\nI have tried this:\r\n\r\n\r\n```\r\nprivate ArrayList&lt;@Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Only integers please&quot;) BigDecimal&gt; numbers;\r\n```\r\n\r\nbut I got this error:\r\n\r\njakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;jakarta.validation.constraints.Pattern&#39; validating type &#39;java.math.BigDecimal&#39;. Check configuration for &#39;numbers[0].&lt;list element&gt;&#39;\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java+Spring @Digits annotation allows String from JSON Request - I don&#39;t want them","body":"<p>It's my first question on Stackoverflow so Hello everybody :)</p>\n<p>I'm new to Spring and I want to use @Digits annotation to valid input from request to be only digits before  putting them to ArrayList but I don't know why an array like [1,2,3,&quot;g&quot;,5] is treated like OK ?</p>\n<p>Here's my code:</p>\n<pre><code>public class PostRequest {\n\n    private ArrayList&lt;@Digits(integer = 100, fraction = 0, message = &quot;Only integers please&quot;) BigDecimal&gt; numbers;\n\n    public ArrayList&lt;BigDecimal&gt; getNumbers() {\n        if (numbers==null) return null;\n        return numbers;\n    }\n\n    public void setNumbers(ArrayList&lt;BigDecimal&gt; numbers) {\n        this.numbers = numbers;\n    }\n\n    \n}\n</code></pre>\n<p>And here's my Controller:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @PostMapping(&quot;/test&quot;)\n    public void test(@Valid @RequestBody PostRequest postRequest){\n\n        System.out.println(postRequest.getNumbers());\n    }\n\n}\n</code></pre>\n<p>Here's JSON code:</p>\n<pre><code>{\n    &quot;numbers&quot;:[1,2,3,&quot;g&quot;,5]\n}\n</code></pre>\n<p>Writing 10.2 triggers MethodArgumentNotValidException but writing letters not</p>\n<p>I have tried this:</p>\n<pre><code>private ArrayList&lt;@Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Only integers please&quot;) BigDecimal&gt; numbers;\n</code></pre>\n<p>but I got this error:</p>\n<p>jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Pattern' validating type 'java.math.BigDecimal'. Check configuration for 'numbers[0].'</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","graphql","graphql-java"],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671131159,"creation_date":1671103506,"question_id":74810769,"body_markdown":"I want to make a API call using graphql:\r\n\r\n    URL url = new URL(&quot;https://www.some_web_site.com/voyager/api/graphql?variables=(jobCardPrefetchQuery:(jobUseCase:JOB_DETAILS,prefetchJobPostingCardUrns:List(urn%3Ali%3Afsd_jobPostingCard%3A%283381613144%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283309215638%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283390173915%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384739773%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283349746057%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283399364227%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283346758701%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283339724174%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283394131711%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283376993869%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283367203416%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283391072254%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283378145979%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283386882674%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283363291070%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283379552483%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384379850%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384189666%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283357674221%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%282921934527%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283360994137%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283400914209%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283322816290%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283389955425%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283385984792%2CJOB_DETAILS%29)))&amp;&amp;queryId=voyagerJobsDashJobCards.a2332c3024c06e104d995060b03b3e43&quot;);\r\n    HttpURLConnection httpConn = (HttpURLConnection) url.openConnection();\r\n    httpConn.setRequestMethod(&quot;GET&quot;);\r\n\r\n    httpConn.setRequestProperty(&quot;authority&quot;, &quot;www.some_web_site.com&quot;);\r\n    httpConn.setRequestProperty(&quot;accept&quot;, &quot;application/vnd.some_web_site.normalized+json+2.1&quot;);\r\n    httpConn.setRequestProperty(&quot;accept-language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n    httpConn.setRequestProperty(&quot;cookie&quot;, &quot;bcookie=\\&quot;v=2&amp;6fc50d25-9d9c-4c9c-8e15-cb85a0d0487b\\&quot;; bscookie=\\&quot;v=1&amp;20210323132219381954c4-ad82-44b3-8d2c-22095b879042AQGEhxQJj6yW11ERtduVNxs5rtVSAMBp\\&quot;; li_rm=AQGGLfZ06r63ZgAAAXsWmDpJhcTdHaPCFAvu2x_4WmdidiGZZgHI2VCkG9Vcm15E52dFwfTRZjD7-y6fFfZ3os-ouUFUUMAP9zUFRXtpppob6Jsk-5jywhWJ; _ga=GA1.2.978357381.1628171751; timezone=Europe/Sofia; aam_uuid=25646872215935551520582305049506167860; _gcl_au=1.1.798106900.1628171779; li_theme=system; li_alerts=e30=; __ssid=4461b759-d6fd-43a8-9aa6-6170e1b52f81; li_theme_set=app; VID=V_2022_01_19_10_1493; G_ENABLED_IDPS=google; li_gc=MTsyMTsxNjQ4NDI4MjQ1OzI7MDIxb+aBjuH+4tvdvwmua4v9UqyRyzc5sIUB38QjcHnEqQY=; visit=v=1&amp;M; liap=true; JSESSIONID=\\&quot;ajax:3454879913095470865\\&quot;; s_fid=1B1937DEEC2C6D37-2F033B1588EC1876; mbox=PC#830b22e2c1204684880490b80b06cb60.34_0#1682989647|session#6f6b357e1c5b44d1ae3c653b5c83f989#1667439507; s_ips=937; AnalyticsSyncHistory=AQKuwzqgAo50uAAAAYUIpWEC9kS13rXinz-XQWIXmd4Fq4Glmch0GzNnqIVIJlRwZMhL95WX5GCfYDJE2sCHMw; lms_ads=AQGr99ghK-2XugAAAYUIpWHGhGJwOoz_n5sH3AoFmuwV4_X1HGg0oD9yS7BdMBufU7J1lFVWiLUsMINxUT9QnPJh0dCuicrl; lms_analytics=AQGr99ghK-2XugAAAYUIpWHGhGJwOoz_n5sH3AoFmuwV4_X1HGg0oD9yS7BdMBufU7J1lFVWiLUsMINxUT9QnPJh0dCuicrl; li_at=AQEDARqyax8BofFVAAABhQuvuGkAAAGFL7w8aU0Aq95MvKsqbsob115un5v2PCrAkDC55M2vjdQiOXIekRn__kFf4G3e8KbfOR4xHerEh33Y4o77t9HPCfG6eKAICbmbiWB6UzSjxy5ieOuLy_I05Zgm; lang=v=2&amp;lang=en-us; AMCVS_14215E3D5995C57C0A495C55%40AdobeOrg=1; lil-lang=en_US; s_cc=true; gpv_pn=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp; s_tp=3337; s_plt=4.10; s_pltp=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp; s_ppv=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp%2C67%2C28%2C2237%2C2%2C3; s_tslv=1671032611869; AMCV_14215E3D5995C57C0A495C55%40AdobeOrg=-637568504%7CMCIDTS%7C19340%7CMCMID%7C25469860276152368910638363702655569919%7CMCAAMLH-1671655210%7C6%7CMCAAMB-1671655210%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1671057610s%7CNONE%7CMCCIDH%7C-173138152%7CvVersion%7C5.1.1; UserMatchHistory=AQIkSvhSMBMwDAAAAYUSkHzxlcAhQiwkqVW-fnoKFql17EjfqYUVpnT9u_X3_wgEKxbgMP0NKPdWcqy4JyBytaa8r7aBuSeZ52xEM5ViomuA8YbDshzpGmWcjbySw4ifRsckhAY1PeMzxtWWCv3cO84T4Aii8VdzlvIdnF3YkuO8zxtroIYtVJoi1tzxAaDMhRy3xKoUoFQruT7B0iyg61cyguKbBgpUPS_DNWjviIET8kbC-ZdINHtUfodXMxtYmz6a2YOYivvIE2Qfwfy97wA8YCMB-rWKObet_sk; lidc=\\&quot;b=VB47:s=V:r=V:a=V:p=V:g=3532:u=864:x=1:i=1671053737:t=1671134164:v=2:sig=AQF22ngB_c7HxFphw3OcQBCH-Z1vEk3\\&quot;; li_mc=MTsy33sxNjcxMDU0MDYwOzI7MDIxWvtOdIZ8/F4IRqSFMX7wJYOWOToT2pAAzOP8rEr5pyA=; sdsc=22%3A1%2C1671054185039%7EJAPP%2C0Z6uuB8klhAtG9A5iEG19Pz7UGyA%3D&quot;);\r\n    httpConn.setRequestProperty(&quot;csrf-token&quot;, &quot;ajax:3454129913095170865&quot;);\r\n    httpConn.setRequestProperty(&quot;referer&quot;, &quot;https://www.some_web_site.com/jobs/search/?currentJobId=1332613144&amp;geoId=103829153&amp;keywords=java&amp;location=Norway&amp;refresh=true&amp;start=950&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-ch-ua&quot;, &quot;\\&quot;Not?A_Brand\\&quot;;v=\\&quot;8\\&quot;, \\&quot;Chromium\\&quot;;v=\\&quot;108\\&quot;, \\&quot;Google Chrome\\&quot;;v=\\&quot;108\\&quot;&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-ch-ua-mobile&quot;, &quot;?0&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-ch-ua-platform&quot;, &quot;\\&quot;Windows\\&quot;&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-fetch-dest&quot;, &quot;empty&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-fetch-mode&quot;, &quot;cors&quot;);\r\n    httpConn.setRequestProperty(&quot;sec-fetch-site&quot;, &quot;same-origin&quot;);\r\n    httpConn.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36&quot;);\r\n    httpConn.setRequestProperty(&quot;x-li-lang&quot;, &quot;en_US&quot;);\r\n    httpConn.setRequestProperty(&quot;x-li-page-instance&quot;, &quot;urn:li:page:d_flagship3_search_srp_jobs;HsFe0k8FR5a+hftD/cGHXA==&quot;);\r\n    httpConn.setRequestProperty(&quot;x-li-track&quot;, &quot;{\\&quot;clientVersion\\&quot;:\\&quot;1.11.5479\\&quot;,\\&quot;mpVersion\\&quot;:\\&quot;1.11.5479\\&quot;,\\&quot;osName\\&quot;:\\&quot;web\\&quot;,\\&quot;timezoneOffset\\&quot;:2,\\&quot;timezone\\&quot;:\\&quot;Europe/Sofia\\&quot;,\\&quot;deviceFormFactor\\&quot;:\\&quot;DESKTOP\\&quot;,\\&quot;mpName\\&quot;:\\&quot;voyager-web\\&quot;,\\&quot;displayDensity\\&quot;:1,\\&quot;displayWidth\\&quot;:1920,\\&quot;displayHeight\\&quot;:1080}&quot;);\r\n    httpConn.setRequestProperty(&quot;x-restli-protocol-version&quot;, &quot;2.0.0&quot;);\r\n\r\n    InputStream responseStream = httpConn.getResponseCode() / 100 == 2\r\n            ? httpConn.getInputStream()\r\n            : httpConn.getErrorStream();\r\n    Scanner s = new Scanner(responseStream).useDelimiter(&quot;\\\\A&quot;);\r\n    String response = s.hasNext() ? s.next() : &quot;&quot;;\r\n    System.out.println(response); \r\n\r\nBut for some reason I get unreadable response when the call is made using the above Java code:\r\n\r\n    xlIjpudWxsLCJncm91cE5hbWUiOm51bGwsImh5cGVybGlua09wZW5FeHRlcm5hbGx5IjpudWxsLCJsaXN0U3R5bGUiOm51bGwsInByb2ZpbGVGdWxsTmFtZSI6bnVsbCwic3RyaW5nRmllbGRSZWZlcmVuY2UiOm51bGwsImxlYXJuaW5nQ291cnNlTmFtZSI6bnVsbCwicHJvZmlsZU1lbnRpb24iOm51bGwsInN0eWxlIjoiTElTVF9JVEVNIiwic2Nob29sTmFtZSI6bnVsbCwiaGFzaHRhZyI6bnVsbH0sIiRyZWNpcGVUeXBlcyI6WyJjb20ubGlua2VkaW4uYTg2ZWMzYTdhYjUwYzJjODAxZTAzOTVhODZmZjE5YzAiXSwiJHR5cGUiOiJjb20ubGlua2VkaW4udm95YWdlci5kYXNoLmNvbW1vbi50ZXh0LlRleHRBdHRyaWJ1dGUifSx7InN0YXJ0IjoxMzQzLCJsZW5ndGgiOjMwNSwiZGV0YWlsRGF0YSI6eyJqb2JQb3N0aW5nTmFtZSI6bnVsbCwiaHlwZXJsaW5rIjpudWxsLCJwcm9maWxlRmFtaWxpYXJOYW1lIjpudWxsLCJjb2xvciI6bnVsbCwiY29tcGFueU5hbWUiOm51bGwsImljb24iOm51bGwsImVwb2NoIjpudWxsLCJzeXN0ZW1JbWFnZSI6bnVsbCwibGlzdEl0ZW1TdHlsZSI6bnVsbCwiZ3JvdXBOYW1lIjpudWxsLCJoeXBlcmxpbmtPcGVuRXh0ZXJuYWxseSI6bnVsbCwibGlzdFN0eWxlIjpudWxsLCJwcm9maWxlRnVsbE5hbWUiOm51bGwsInN0cmluZ0ZpZWxkUmVmZXJlbmNl\r\n\r\nWhen I make the same call in curl format using **Postman** I get a readable `JSON` response. Do you know why in **IntelliJ** I get this unreadable response? It should be JSON? How can I solve the problem? \r\n\r\n# EDIT:\r\n\r\nThis is caused by **IntelliJ** bug: https://youtrack.jetbrains.com/issue/KTIJ-22158/JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE?s=JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE","title":"Decode request from API call","body":"<p>I want to make a API call using graphql:</p>\n<pre><code>URL url = new URL(&quot;https://www.some_web_site.com/voyager/api/graphql?variables=(jobCardPrefetchQuery:(jobUseCase:JOB_DETAILS,prefetchJobPostingCardUrns:List(urn%3Ali%3Afsd_jobPostingCard%3A%283381613144%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283309215638%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283390173915%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384739773%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283349746057%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283399364227%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283346758701%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283339724174%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283394131711%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283376993869%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283367203416%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283391072254%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283378145979%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283386882674%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283363291070%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283379552483%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384379850%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283384189666%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283357674221%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%282921934527%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283360994137%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283400914209%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283322816290%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283389955425%2CJOB_DETAILS%29,urn%3Ali%3Afsd_jobPostingCard%3A%283385984792%2CJOB_DETAILS%29)))&amp;&amp;queryId=voyagerJobsDashJobCards.a2332c3024c06e104d995060b03b3e43&quot;);\nHttpURLConnection httpConn = (HttpURLConnection) url.openConnection();\nhttpConn.setRequestMethod(&quot;GET&quot;);\n\nhttpConn.setRequestProperty(&quot;authority&quot;, &quot;www.some_web_site.com&quot;);\nhttpConn.setRequestProperty(&quot;accept&quot;, &quot;application/vnd.some_web_site.normalized+json+2.1&quot;);\nhttpConn.setRequestProperty(&quot;accept-language&quot;, &quot;en-US,en;q=0.9&quot;);\nhttpConn.setRequestProperty(&quot;cookie&quot;, &quot;bcookie=\\&quot;v=2&amp;6fc50d25-9d9c-4c9c-8e15-cb85a0d0487b\\&quot;; bscookie=\\&quot;v=1&amp;20210323132219381954c4-ad82-44b3-8d2c-22095b879042AQGEhxQJj6yW11ERtduVNxs5rtVSAMBp\\&quot;; li_rm=AQGGLfZ06r63ZgAAAXsWmDpJhcTdHaPCFAvu2x_4WmdidiGZZgHI2VCkG9Vcm15E52dFwfTRZjD7-y6fFfZ3os-ouUFUUMAP9zUFRXtpppob6Jsk-5jywhWJ; _ga=GA1.2.978357381.1628171751; timezone=Europe/Sofia; aam_uuid=25646872215935551520582305049506167860; _gcl_au=1.1.798106900.1628171779; li_theme=system; li_alerts=e30=; __ssid=4461b759-d6fd-43a8-9aa6-6170e1b52f81; li_theme_set=app; VID=V_2022_01_19_10_1493; G_ENABLED_IDPS=google; li_gc=MTsyMTsxNjQ4NDI4MjQ1OzI7MDIxb+aBjuH+4tvdvwmua4v9UqyRyzc5sIUB38QjcHnEqQY=; visit=v=1&amp;M; liap=true; JSESSIONID=\\&quot;ajax:3454879913095470865\\&quot;; s_fid=1B1937DEEC2C6D37-2F033B1588EC1876; mbox=PC#830b22e2c1204684880490b80b06cb60.34_0#1682989647|session#6f6b357e1c5b44d1ae3c653b5c83f989#1667439507; s_ips=937; AnalyticsSyncHistory=AQKuwzqgAo50uAAAAYUIpWEC9kS13rXinz-XQWIXmd4Fq4Glmch0GzNnqIVIJlRwZMhL95WX5GCfYDJE2sCHMw; lms_ads=AQGr99ghK-2XugAAAYUIpWHGhGJwOoz_n5sH3AoFmuwV4_X1HGg0oD9yS7BdMBufU7J1lFVWiLUsMINxUT9QnPJh0dCuicrl; lms_analytics=AQGr99ghK-2XugAAAYUIpWHGhGJwOoz_n5sH3AoFmuwV4_X1HGg0oD9yS7BdMBufU7J1lFVWiLUsMINxUT9QnPJh0dCuicrl; li_at=AQEDARqyax8BofFVAAABhQuvuGkAAAGFL7w8aU0Aq95MvKsqbsob115un5v2PCrAkDC55M2vjdQiOXIekRn__kFf4G3e8KbfOR4xHerEh33Y4o77t9HPCfG6eKAICbmbiWB6UzSjxy5ieOuLy_I05Zgm; lang=v=2&amp;lang=en-us; AMCVS_14215E3D5995C57C0A495C55%40AdobeOrg=1; lil-lang=en_US; s_cc=true; gpv_pn=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp; s_tp=3337; s_plt=4.10; s_pltp=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp; s_ppv=www.linkedin.com%2Flearning%2Fjava-ee-servlets-and-javaserver-pages-jsp%2C67%2C28%2C2237%2C2%2C3; s_tslv=1671032611869; AMCV_14215E3D5995C57C0A495C55%40AdobeOrg=-637568504%7CMCIDTS%7C19340%7CMCMID%7C25469860276152368910638363702655569919%7CMCAAMLH-1671655210%7C6%7CMCAAMB-1671655210%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1671057610s%7CNONE%7CMCCIDH%7C-173138152%7CvVersion%7C5.1.1; UserMatchHistory=AQIkSvhSMBMwDAAAAYUSkHzxlcAhQiwkqVW-fnoKFql17EjfqYUVpnT9u_X3_wgEKxbgMP0NKPdWcqy4JyBytaa8r7aBuSeZ52xEM5ViomuA8YbDshzpGmWcjbySw4ifRsckhAY1PeMzxtWWCv3cO84T4Aii8VdzlvIdnF3YkuO8zxtroIYtVJoi1tzxAaDMhRy3xKoUoFQruT7B0iyg61cyguKbBgpUPS_DNWjviIET8kbC-ZdINHtUfodXMxtYmz6a2YOYivvIE2Qfwfy97wA8YCMB-rWKObet_sk; lidc=\\&quot;b=VB47:s=V:r=V:a=V:p=V:g=3532:u=864:x=1:i=1671053737:t=1671134164:v=2:sig=AQF22ngB_c7HxFphw3OcQBCH-Z1vEk3\\&quot;; li_mc=MTsy33sxNjcxMDU0MDYwOzI7MDIxWvtOdIZ8/F4IRqSFMX7wJYOWOToT2pAAzOP8rEr5pyA=; sdsc=22%3A1%2C1671054185039%7EJAPP%2C0Z6uuB8klhAtG9A5iEG19Pz7UGyA%3D&quot;);\nhttpConn.setRequestProperty(&quot;csrf-token&quot;, &quot;ajax:3454129913095170865&quot;);\nhttpConn.setRequestProperty(&quot;referer&quot;, &quot;https://www.some_web_site.com/jobs/search/?currentJobId=1332613144&amp;geoId=103829153&amp;keywords=java&amp;location=Norway&amp;refresh=true&amp;start=950&quot;);\nhttpConn.setRequestProperty(&quot;sec-ch-ua&quot;, &quot;\\&quot;Not?A_Brand\\&quot;;v=\\&quot;8\\&quot;, \\&quot;Chromium\\&quot;;v=\\&quot;108\\&quot;, \\&quot;Google Chrome\\&quot;;v=\\&quot;108\\&quot;&quot;);\nhttpConn.setRequestProperty(&quot;sec-ch-ua-mobile&quot;, &quot;?0&quot;);\nhttpConn.setRequestProperty(&quot;sec-ch-ua-platform&quot;, &quot;\\&quot;Windows\\&quot;&quot;);\nhttpConn.setRequestProperty(&quot;sec-fetch-dest&quot;, &quot;empty&quot;);\nhttpConn.setRequestProperty(&quot;sec-fetch-mode&quot;, &quot;cors&quot;);\nhttpConn.setRequestProperty(&quot;sec-fetch-site&quot;, &quot;same-origin&quot;);\nhttpConn.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36&quot;);\nhttpConn.setRequestProperty(&quot;x-li-lang&quot;, &quot;en_US&quot;);\nhttpConn.setRequestProperty(&quot;x-li-page-instance&quot;, &quot;urn:li:page:d_flagship3_search_srp_jobs;HsFe0k8FR5a+hftD/cGHXA==&quot;);\nhttpConn.setRequestProperty(&quot;x-li-track&quot;, &quot;{\\&quot;clientVersion\\&quot;:\\&quot;1.11.5479\\&quot;,\\&quot;mpVersion\\&quot;:\\&quot;1.11.5479\\&quot;,\\&quot;osName\\&quot;:\\&quot;web\\&quot;,\\&quot;timezoneOffset\\&quot;:2,\\&quot;timezone\\&quot;:\\&quot;Europe/Sofia\\&quot;,\\&quot;deviceFormFactor\\&quot;:\\&quot;DESKTOP\\&quot;,\\&quot;mpName\\&quot;:\\&quot;voyager-web\\&quot;,\\&quot;displayDensity\\&quot;:1,\\&quot;displayWidth\\&quot;:1920,\\&quot;displayHeight\\&quot;:1080}&quot;);\nhttpConn.setRequestProperty(&quot;x-restli-protocol-version&quot;, &quot;2.0.0&quot;);\n\nInputStream responseStream = httpConn.getResponseCode() / 100 == 2\n        ? httpConn.getInputStream()\n        : httpConn.getErrorStream();\nScanner s = new Scanner(responseStream).useDelimiter(&quot;\\\\A&quot;);\nString response = s.hasNext() ? s.next() : &quot;&quot;;\nSystem.out.println(response); \n</code></pre>\n<p>But for some reason I get unreadable response when the call is made using the above Java code:</p>\n<pre><code>xlIjpudWxsLCJncm91cE5hbWUiOm51bGwsImh5cGVybGlua09wZW5FeHRlcm5hbGx5IjpudWxsLCJsaXN0U3R5bGUiOm51bGwsInByb2ZpbGVGdWxsTmFtZSI6bnVsbCwic3RyaW5nRmllbGRSZWZlcmVuY2UiOm51bGwsImxlYXJuaW5nQ291cnNlTmFtZSI6bnVsbCwicHJvZmlsZU1lbnRpb24iOm51bGwsInN0eWxlIjoiTElTVF9JVEVNIiwic2Nob29sTmFtZSI6bnVsbCwiaGFzaHRhZyI6bnVsbH0sIiRyZWNpcGVUeXBlcyI6WyJjb20ubGlua2VkaW4uYTg2ZWMzYTdhYjUwYzJjODAxZTAzOTVhODZmZjE5YzAiXSwiJHR5cGUiOiJjb20ubGlua2VkaW4udm95YWdlci5kYXNoLmNvbW1vbi50ZXh0LlRleHRBdHRyaWJ1dGUifSx7InN0YXJ0IjoxMzQzLCJsZW5ndGgiOjMwNSwiZGV0YWlsRGF0YSI6eyJqb2JQb3N0aW5nTmFtZSI6bnVsbCwiaHlwZXJsaW5rIjpudWxsLCJwcm9maWxlRmFtaWxpYXJOYW1lIjpudWxsLCJjb2xvciI6bnVsbCwiY29tcGFueU5hbWUiOm51bGwsImljb24iOm51bGwsImVwb2NoIjpudWxsLCJzeXN0ZW1JbWFnZSI6bnVsbCwibGlzdEl0ZW1TdHlsZSI6bnVsbCwiZ3JvdXBOYW1lIjpudWxsLCJoeXBlcmxpbmtPcGVuRXh0ZXJuYWxseSI6bnVsbCwibGlzdFN0eWxlIjpudWxsLCJwcm9maWxlRnVsbE5hbWUiOm51bGwsInN0cmluZ0ZpZWxkUmVmZXJlbmNl\n</code></pre>\n<p>When I make the same call in curl format using <strong>Postman</strong> I get a readable <code>JSON</code> response. Do you know why in <strong>IntelliJ</strong> I get this unreadable response? It should be JSON? How can I solve the problem?</p>\n<h1>EDIT:</h1>\n<p>This is caused by <strong>IntelliJ</strong> bug: <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-22158/JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE?s=JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-22158/JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE?s=JUnit5-test-prints-a-cryptic-AssertionError-message-in-the-IDE</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6466355,"reputation":488,"user_id":5008145,"display_name":"NorthernSky"},"score":1,"creation_date":1671131707,"post_id":74816372,"comment_id":132038185,"body_markdown":"While I don&#39;t have an answer to your question, isn&#39;t it better to return 403 when the user attempts to access a non-existing endpoint, rather than 404?\nAfter all, nobody is authorized to access an endpoint that does not exist. 404 might be more suitable for cases where there is no security, like a /resources directory.","body":"While I don&#39;t have an answer to your question, isn&#39;t it better to return 403 when the user attempts to access a non-existing endpoint, rather than 404? After all, nobody is authorized to access an endpoint that does not exist. 404 might be more suitable for cases where there is no security, like a /resources directory."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1671150610,"post_id":74816372,"comment_id":132042816,"body_markdown":"may i ask why you are not using the built in JWT support that comes with spring security instead of writing a custom security solution which is bad practice?","body":"may i ask why you are not using the built in JWT support that comes with spring security instead of writing a custom security solution which is bad practice?"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671207989,"post_id":74816372,"comment_id":132056742,"body_markdown":"I don&#39;t see how that&#39;s relevant but I&#39;m using a custom filter for learning purposes.","body":"I don&#39;t see how that&#39;s relevant but I&#39;m using a custom filter for learning purposes."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1671211889,"post_id":74816372,"comment_id":132057929,"body_markdown":"Add `logging.level.org.springframework.security=TRACE` to your `application.properties` and update your question with the log details","body":"Add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and update your question with the log details"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671131018,"creation_date":1671131018,"question_id":74816372,"body_markdown":"I configured Spring security with a customer filter to authenticate using JWT.\r\nHere&#39;s my config:\r\n\r\n```java\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nFilter:\r\n```java\r\npackage catsit.config;\r\n\r\nimport catsit.authentication.CustomerContext;\r\nimport catsit.authentication.CustomerCredentialsDao;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\n\r\n@RequiredArgsConstructor\r\npublic class JwtAuthFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtManager jwtManager;\r\n\r\n    private final CustomerCredentialsDao customerCredentialsDao;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        String jwt = authorizationHeader.substring(7);\r\n        if (jwtManager.isTokenValid(jwt)) {\r\n            CustomerContext userDetails = customerCredentialsDao.findCredentialsAndIdByEmail(jwtManager.extractEmail(jwt));\r\n\r\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                    userDetails, null, userDetails.getAuthorities()\r\n            );\r\n\r\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s working as expected but for some reason when I send a request to a random endpoint it returns 403. What I&#39;m expecting is 404 but I can&#39;t seem to figure out why it&#39;s returning 403.\r\nThe requests to random endpoints are sent with a token so they are authenticated.","title":"Spring security always giving 403","body":"<p>I configured Spring security with a customer filter to authenticate using JWT.\nHere's my config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider())\n                .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>Filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package catsit.config;\n\nimport catsit.authentication.CustomerContext;\nimport catsit.authentication.CustomerCredentialsDao;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\n\n@RequiredArgsConstructor\npublic class JwtAuthFilter extends OncePerRequestFilter {\n\n    private final JwtManager jwtManager;\n\n    private final CustomerCredentialsDao customerCredentialsDao;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain) throws ServletException, IOException {\n        final String authorizationHeader = request.getHeader(AUTHORIZATION);\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer&quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        String jwt = authorizationHeader.substring(7);\n        if (jwtManager.isTokenValid(jwt)) {\n            CustomerContext userDetails = customerCredentialsDao.findCredentialsAndIdByEmail(jwtManager.extractEmail(jwt));\n\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities()\n            );\n\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>It's working as expected but for some reason when I send a request to a random endpoint it returns 403. What I'm expecting is 404 but I can't seem to figure out why it's returning 403.\nThe requests to random endpoints are sent with a token so they are authenticated.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"score":6,"creation_date":1540283260,"post_id":52944433,"comment_id":92796875,"body_markdown":"And what&#39;s the question?","body":"And what&#39;s the question?"},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1540283411,"post_id":52944433,"comment_id":92796972,"body_markdown":"@NicholasK post updated.","body":"@NicholasK post updated."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1540283477,"post_id":52944433,"comment_id":92797006,"body_markdown":"what if i == j ?","body":"what if i == j ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1540283481,"post_id":52944433,"comment_id":92797011,"body_markdown":"After removing `j`, the next `get` is going to get `j+2`","body":"After removing <code>j</code>, the next <code>get</code> is going to get <code>j+2</code>"},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1540283575,"post_id":52944433,"comment_id":92797073,"body_markdown":"use list.sort and then iterate (once) again.If you have dublicates (and not triplecates) , you&#39;ll be fine.","body":"use list.sort and then iterate (once) again.If you have dublicates (and not triplecates) , you&#39;ll be fine."}],"answers":[{"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":2,"creation_date":1540283493,"post_id":52944541,"comment_id":92797023,"body_markdown":"4. the raw type","body":"4. the raw type"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1540283559,"post_id":52944541,"comment_id":92797065,"body_markdown":"@AndrewTobilko good point, but that doesn&#39;t affect the correctness of the code.","body":"@AndrewTobilko good point, but that doesn&#39;t affect the correctness of the code."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1540283499,"creation_date":1540283452,"answer_id":52944541,"question_id":52944433,"body_markdown":"You have many issues:\r\n\r\n1. You will remove non-duplicate records when `i == j`. To avoid that the inner loop should start with `int j = i + 1`.\r\n2. When you remove records, you should decrement `j`, since all the elements following the removed element are shifted one index down.\r\n3. You should compare `Integer`s with `equals`, not with `==`","title":"Remove duplicate items in ArrayList using for loop only","body":"<p>You have many issues:</p>\n\n<ol>\n<li>You will remove non-duplicate records when <code>i == j</code>. To avoid that the inner loop should start with <code>int j = i + 1</code>.</li>\n<li>When you remove records, you should decrement <code>j</code>, since all the elements following the removed element are shifted one index down.</li>\n<li>You should compare <code>Integer</code>s with <code>equals</code>, not with <code>==</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14325086,"reputation":28,"user_id":10347407,"display_name":"Bastmark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540285184,"creation_date":1540285184,"answer_id":52945081,"question_id":52944433,"body_markdown":"The inner loop always starts with `j = 1` which means you will remove every single element of the list except the one at index 0. You should instead let `j = i + 1`. The inner loop will then only check the following elements of the list and not the one you are comparing. After removing you should use `j--` so the index of the next element corresponds to j. And you can use `==` when comparing primitive types (`int`) When comparing reference types (`Integer`) you should use `equals`.\r\n\r\nThis is what i suggest:\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n            for (int j = i + 1; j &lt; list.size(); j++) {\r\n                if (list.get(i) == list.get(j)) {\r\n                    list.remove(j);\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Remove duplicate items in ArrayList using for loop only","body":"<p>The inner loop always starts with <code>j = 1</code> which means you will remove every single element of the list except the one at index 0. You should instead let <code>j = i + 1</code>. The inner loop will then only check the following elements of the list and not the one you are comparing. After removing you should use <code>j--</code> so the index of the next element corresponds to j. And you can use <code>==</code> when comparing primitive types (<code>int</code>) When comparing reference types (<code>Integer</code>) you should use <code>equals</code>.</p>\n\n<p>This is what i suggest:</p>\n\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n        for (int j = i + 1; j &lt; list.size(); j++) {\n            if (list.get(i) == list.get(j)) {\n                list.remove(j);\n                j--;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540285976,"creation_date":1540285976,"answer_id":52945322,"question_id":52944433,"body_markdown":"What about other values: 15 or 666? Are you sure you expect correct output?\r\nIt is much better to use `Iterator` to remove elements from the list:\r\n\r\n    public static ArrayList&lt;Integer&gt; removeDuplicates(ArrayList&lt;Integer&gt; numbers) {\r\n        ListIterator&lt;Integer&gt; it = numbers.listIterator();\r\n        numbers.removeIf(num -&gt; isDuplicated(numbers, it.previousIndex(), num));\r\n        return numbers;\r\n    }\r\n    \r\n    private static boolean isDuplicated(ArrayList&lt;Integer&gt; numbers, int toPos, int val) {\r\n        for (int pos = 0; pos &lt; toPos; pos++)\r\n            if (numbers.get(pos) == val)\r\n                return true;\r\n    \r\n        return false;\r\n    }\r\n\r\nOutput:\r\n\r\n    Before remove : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]\r\n    After remove duplicate items : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]","title":"Remove duplicate items in ArrayList using for loop only","body":"<p>What about other values: 15 or 666? Are you sure you expect correct output?\nIt is much better to use <code>Iterator</code> to remove elements from the list:</p>\n\n<pre><code>public static ArrayList&lt;Integer&gt; removeDuplicates(ArrayList&lt;Integer&gt; numbers) {\n    ListIterator&lt;Integer&gt; it = numbers.listIterator();\n    numbers.removeIf(num -&gt; isDuplicated(numbers, it.previousIndex(), num));\n    return numbers;\n}\n\nprivate static boolean isDuplicated(ArrayList&lt;Integer&gt; numbers, int toPos, int val) {\n    for (int pos = 0; pos &lt; toPos; pos++)\n        if (numbers.get(pos) == val)\n            return true;\n\n    return false;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Before remove : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]\nAfter remove duplicate items : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599631475,"creation_date":1569229567,"answer_id":58059058,"question_id":52944433,"body_markdown":"    public class ArrayListExample {\r\n        public static void main(String[] args) {\r\n            // ArrayList with duplicate elements\r\n            ArrayList&lt;Integer&gt; numbersList = new ArrayList&lt;&gt;(Arrays.asList(1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8));\r\n            System.out.println(numbersList);\r\n            Log.d(&quot;DBG&quot;,numbersList+&quot;&quot;);\r\n            // ArrayList without duplicate elements\r\n            LinkedHashSet&lt;Integer&gt; hashSet = new LinkedHashSet&lt;&gt;(numbersList); \r\n            ArrayList&lt;Integer&gt; listWithoutDuplicates = new ArrayList&lt;&gt;(hashSet);\r\n            System.out.println(listWithoutDuplicates);\r\n            Log.d(&quot;DBG&quot;,listWithoutDuplicates+&quot;&quot;);\r\n        }\r\n    }\r\ninput \r\n\r\n    [1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8]\r\n\r\noutput\r\n\r\n    [1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n","title":"Remove duplicate items in ArrayList using for loop only","body":"<pre><code>public class ArrayListExample {\n    public static void main(String[] args) {\n        // ArrayList with duplicate elements\n        ArrayList&lt;Integer&gt; numbersList = new ArrayList&lt;&gt;(Arrays.asList(1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8));\n        System.out.println(numbersList);\n        Log.d(&quot;DBG&quot;,numbersList+&quot;&quot;);\n        // ArrayList without duplicate elements\n        LinkedHashSet&lt;Integer&gt; hashSet = new LinkedHashSet&lt;&gt;(numbersList); \n        ArrayList&lt;Integer&gt; listWithoutDuplicates = new ArrayList&lt;&gt;(hashSet);\n        System.out.println(listWithoutDuplicates);\n        Log.d(&quot;DBG&quot;,listWithoutDuplicates+&quot;&quot;);\n    }\n}\n</code></pre>\n<p>input</p>\n<pre><code>[1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8]\n</code></pre>\n<p>output</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5199299,"reputation":760,"user_id":4159318,"display_name":"sonali"},"score":1,"creation_date":1612210238,"post_id":65999409,"comment_id":116690764,"body_markdown":"Please explain your answer","body":"Please explain your answer"}],"tags":[],"owner":{"account_id":20605122,"reputation":1,"user_id":15125553,"display_name":"Ankit Tayal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612209909,"creation_date":1612209909,"answer_id":65999409,"question_id":52944433,"body_markdown":"    // Code for Duplicates not allowed ... for upper example\r\n    for(int i = 0; i &lt; list.size(); i++) {\r\n                for(int j = i + 1; j &lt; list.size(); j++) {\r\n                    if(list.get(i).equals(list.get(j))){\r\n                    \tlist.remove(j);\r\n                        j--;\r\n                    }\r\n                }","title":"Remove duplicate items in ArrayList using for loop only","body":"<pre><code>// Code for Duplicates not allowed ... for upper example\nfor(int i = 0; i &lt; list.size(); i++) {\n            for(int j = i + 1; j &lt; list.size(); j++) {\n                if(list.get(i).equals(list.get(j))){\n                    list.remove(j);\n                    j--;\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604131,"reputation":1,"user_id":20225293,"display_name":"rushikesh sarolkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671130794,"creation_date":1671130794,"answer_id":74816333,"question_id":52944433,"body_markdown":"ublic class RemoveDublicate \r\n{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\r\n\t\tlist.add(1);\r\n        list.add(652);\r\n        list.add(5);\r\n        list.add(15);\r\n        list.add(385);\r\n        list.add(4);\r\n        list.add(55);\r\n        list.add(666);\r\n        list.add(13);\r\n        list.add(2);\r\n        list.add(4658);\r\n        list.add(9);\r\n        list.add(55);\r\n        list.add(-588);\r\n        list.add(10);\r\n        list.add(1083);\r\n        list.add(17);\r\n        list.add(4);\r\n\t        System.out.println(list);\r\n\t        \r\n\t        for(int i=0;i&lt;list.size();i++)\r\n\t        {\r\n\t        \tfor(int j=i+1;j&lt;list.size();j++)\r\n\t        \t{\r\n\t        \t\t\r\n\t        \t\tif(list.get(i)==list.get(j))\r\n\t        \t\t{\r\n\t        \t\t\tlist.remove(j);\r\n\t        \t\t}\r\n\t        \t}\r\n\t        }\r\n\t        System.out.println(list);\r\n\r\n\r\n\t}\r\n}\r\n","title":"Remove duplicate items in ArrayList using for loop only","body":"<p>ublic class RemoveDublicate\n{</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;();\n    list.add(1);\n    list.add(652);\n    list.add(5);\n    list.add(15);\n    list.add(385);\n    list.add(4);\n    list.add(55);\n    list.add(666);\n    list.add(13);\n    list.add(2);\n    list.add(4658);\n    list.add(9);\n    list.add(55);\n    list.add(-588);\n    list.add(10);\n    list.add(1083);\n    list.add(17);\n    list.add(4);\n        System.out.println(list);\n        \n        for(int i=0;i&lt;list.size();i++)\n        {\n            for(int j=i+1;j&lt;list.size();j++)\n            {\n                \n                if(list.get(i)==list.get(j))\n                {\n                    list.remove(j);\n                }\n            }\n        }\n        System.out.println(list);\n\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7427,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":52944541,"answer_count":6,"score":0,"last_activity_date":1671130794,"creation_date":1540283211,"question_id":52944433,"body_markdown":"You are given the following sequence of numbers,\r\n1, 652 ,5, 15, 385, 4 , 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17 ,4.\r\nYou can remove the duplicate numbers by only using For loop and ArrayList.\r\n\r\n    public class Ex {\r\n        public static void main(String[] args) {\r\n    \r\n            ArrayList list = new ArrayList();\r\n            list.add(1);\r\n            list.add(652);\r\n            list.add(5);\r\n            list.add(15);\r\n            list.add(385);\r\n            list.add(4);\r\n            list.add(55);\r\n            list.add(666);\r\n            list.add(13);\r\n            list.add(2);\r\n            list.add(4658);\r\n            list.add(9);\r\n            list.add(55);\r\n            list.add(-588);\r\n            list.add(10);\r\n            list.add(1083);\r\n            list.add(17);\r\n            list.add(4);\r\n    \r\n    \r\n            System.out.println(&quot;Before remove : &quot; + list);\r\n    \r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                for (int j = 1; j &lt; list.size(); j++) {\r\n                    if (list.get(i) == list.get(j)) {\r\n                        list.remove(j);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;After remove duplicate items : &quot;+list);\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    Before remove : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]\r\n    After remove duplicate items : [1, 5, 385, 55, 13, 4658, -588, 1083, 4]\r\n\r\nSome items that not duplicated is missing. Ex 10 and 652.","title":"Remove duplicate items in ArrayList using for loop only","body":"<p>You are given the following sequence of numbers,\n1, 652 ,5, 15, 385, 4 , 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17 ,4.\nYou can remove the duplicate numbers by only using For loop and ArrayList.</p>\n\n<pre><code>public class Ex {\n    public static void main(String[] args) {\n\n        ArrayList list = new ArrayList();\n        list.add(1);\n        list.add(652);\n        list.add(5);\n        list.add(15);\n        list.add(385);\n        list.add(4);\n        list.add(55);\n        list.add(666);\n        list.add(13);\n        list.add(2);\n        list.add(4658);\n        list.add(9);\n        list.add(55);\n        list.add(-588);\n        list.add(10);\n        list.add(1083);\n        list.add(17);\n        list.add(4);\n\n\n        System.out.println(\"Before remove : \" + list);\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            for (int j = 1; j &lt; list.size(); j++) {\n                if (list.get(i) == list.get(j)) {\n                    list.remove(j);\n                }\n            }\n        }\n        System.out.println(\"After remove duplicate items : \"+list);\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Before remove : [1, 652, 5, 15, 385, 4, 55, 666, 13, 2, 4658, 9, 55, -588, 10, 1083, 17, 4]\nAfter remove duplicate items : [1, 5, 385, 55, 13, 4658, -588, 1083, 4]\n</code></pre>\n\n<p>Some items that not duplicated is missing. Ex 10 and 652.</p>\n"},{"tags":["java","spring","jpa","join","many-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1671134008,"post_id":74816251,"comment_id":132038923,"body_markdown":"It isn&#39;t clear what you really want - approved_courses is just a key/value table. Are you asking how to get HostCourse referenced by a UniCourse? We can&#39;t know what your findByApprovedCoursesUniversityId is unless you show the definition. Is the issue that your JSON data isn&#39;t including the approvedCourses list, or is it you do not know how to write the Query to fetch particular data?","body":"It isn&#39;t clear what you really want - approved_courses is just a key/value table. Are you asking how to get HostCourse referenced by a UniCourse? We can&#39;t know what your findByApprovedCoursesUniversityId is unless you show the definition. Is the issue that your JSON data isn&#39;t including the approvedCourses list, or is it you do not know how to write the Query to fetch particular data?"},{"owner":{"account_id":26424332,"reputation":11,"user_id":20071551,"display_name":"Elif Kervan"},"score":0,"creation_date":1671135663,"post_id":74816251,"comment_id":132039455,"body_markdown":"I want to get all UniCourse and their respected approvedCourses (HostCourse) with a given universityId. \n\nThis the definition of the method:\n`public interface IUniCourseRepository extends JpaRepository&lt;UniCourse, UUID&gt; {\n    List&lt;Object&gt; findByApprovedCoursesUniversityId(UUID universityId);\n}`\n\nI don&#39;t know how to write a query that fetches UniCourse and HostCourse using universityId.","body":"I want to get all UniCourse and their respected approvedCourses (HostCourse) with a given universityId.   This the definition of the method: <code>public interface IUniCourseRepository extends JpaRepository&lt;UniCourse, UUID&gt; {     List&lt;Object&gt; findByApprovedCoursesUniversityId(UUID universityId); }</code>  I don&#39;t know how to write a query that fetches UniCourse and HostCourse using universityId."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1671142163,"post_id":74816251,"comment_id":132041295,"body_markdown":"Are you able to write the query to get the instances you want, or is it a problem with the JSON data being sent back. Spring combines far too much into &#39;repositories&#39;, so it isn&#39;t clear from this which part you are really asking for. You&#39;ve a bunch of JSON annotations on data, but have excluded the approvedCourses and uniCourses properties, so I wonder if they are ever sent back with your JSON data or how it is sending []. Otherwise, just using a List&lt;HostCourse&gt; findByUniversityId(UUID universityId); should work for you, as the returned HostCourses should reference the uniCourses set you want","body":"Are you able to write the query to get the instances you want, or is it a problem with the JSON data being sent back. Spring combines far too much into &#39;repositories&#39;, so it isn&#39;t clear from this which part you are really asking for. You&#39;ve a bunch of JSON annotations on data, but have excluded the approvedCourses and uniCourses properties, so I wonder if they are ever sent back with your JSON data or how it is sending []. Otherwise, just using a List&lt;HostCourse&gt; findByUniversityId(UUID universityId); should work for you, as the returned HostCourses should reference the uniCourses set you want"}],"owner":{"account_id":26424332,"reputation":11,"user_id":20071551,"display_name":"Elif Kervan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671130605,"creation_date":1671130365,"question_id":74816251,"body_markdown":"I am working on a Spring project and I am using JPA to access database. I have two tables that have `@ManyToMany` property. And one other table (join table) that keeps the foreign keys of those two tables. I need to retrieve the join table with a given property of one of the tables. I tried to use JPA methods and queries but I couldn&#39;t find a solution.\r\n\r\nI have an abstract class called `Course`: \r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\npublic abstract class Course {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID courseId;\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;course_code&quot;, nullable = false)\r\n    private String courseCode;\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;course_name&quot;, nullable = false)\r\n    private String courseName;\r\n    \r\n    @NotNull\r\n    @Column(name = &quot;ects&quot;, nullable = false)\r\n    private Double ects; \r\n\r\n    public Course(\r\n        @JsonProperty(&quot;id&quot;) UUID id,\r\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\r\n        @JsonProperty(&quot;courseName&quot;) String courseName,\r\n        @JsonProperty(&quot;ects&quot;) Double ects) {\r\n\r\n        this.courseId = id;\r\n        this.courseCode = courseCode;\r\n        this.courseName = courseName;\r\n        this.ects = ects;\r\n    }\r\n}\r\n\r\n```\r\nI have two database model classes that extends `Course`:\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Table(name = &quot;uni_course&quot;)\r\npublic class UniCourse extends Course {\r\n\r\n    @NotNull\r\n    @Column(name = &quot;department&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private Department department;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;approved_courses&quot;, \r\n        joinColumns = @JoinColumn(name = &quot;uni_course_id&quot;), \r\n        inverseJoinColumns = @JoinColumn(name = &quot;host_course_id&quot;))\r\n    private Set&lt;HostCourse&gt; approvedCourses;\r\n    \r\n    public UniCourse(\r\n        @JsonProperty(&quot;id&quot;) UUID id,\r\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\r\n        @JsonProperty(&quot;courseName&quot;) String courseName,\r\n        @JsonProperty(&quot;ects&quot;) Double ects,\r\n        @JsonProperty(&quot;department&quot;) Department department) {\r\n\r\n        super(id, courseCode, courseName, ects);\r\n        this.department = department;\r\n        this.bilkentCredit = bilkentCredit;\r\n    }\r\n}\r\n\r\n    \r\n\r\n```\r\nand,\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Table(name = &quot;host_course&quot;)\r\npublic class HostCourse extends Course {\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;syllabus&quot;, nullable = false)\r\n    private String syllabus;\r\n    \r\n    @NotBlank\r\n    @Column(name = &quot;web_page&quot;, nullable = true)\r\n    private String webPage;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;university_id&quot;, nullable = false)\r\n    private UUID universityId;\r\n\r\n    @ManyToMany(mappedBy = &quot;approvedCourses&quot;)\r\n    private Set&lt;UniCourse&gt; uniCourses;\r\n    \r\n    public HostCourse(\r\n        @JsonProperty(&quot;id&quot;) UUID id,\r\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\r\n        @JsonProperty(&quot;courseName&quot;) String courseName,\r\n        @JsonProperty(&quot;ects&quot;) Double ects,\r\n        @JsonProperty(&quot;syllabus&quot;) String syllabus,\r\n        @JsonProperty(&quot;webPage&quot;) String webPage,\r\n        @JsonProperty(&quot;universityId&quot;) UUID universityId) {\r\n        \r\n        super(id, courseCode, courseName, ects);\r\n        this.syllabus = syllabus;\r\n        this.webPage = webPage;\r\n        this.universityId = universityId;\r\n        this.courseApproval = courseApproval;\r\n    }\r\n}\r\n\r\n```\r\nI want to get `approvedCourses` using `universityId` of `HostCourse`. How can I achieve this?\r\n\r\nI tried using the `findByApprovedCoursesUniversityId(UUID universityId)` method and it returned the following:\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;courseCode&quot;: &quot;CS315&quot;,\r\n            &quot;courseName&quot;: &quot;Programming Languages&quot;,\r\n            &quot;ects&quot;: 5.0,\r\n            &quot;department&quot;: &quot;CS&quot;,\r\n            &quot;courseId&quot;: &quot;8a890716-aaf1-40bb-81b2-e0a638b878dd&quot;,\r\n            &quot;approvedCourses&quot;: []\r\n        }\r\n    ]\r\n    &quot;timestamp&quot;: &quot;2022.12.15 21.48.32&quot;,\r\n    &quot;status&quot;: &quot;OK&quot;\r\n}\r\n```\r\nI also want to get approved courses but it returns an empty array.","title":"Spring JPA how can I retrieve join table with a given property?","body":"<p>I am working on a Spring project and I am using JPA to access database. I have two tables that have <code>@ManyToMany</code> property. And one other table (join table) that keeps the foreign keys of those two tables. I need to retrieve the join table with a given property of one of the tables. I tried to use JPA methods and queries but I couldn't find a solution.</p>\n<p>I have an abstract class called <code>Course</code>:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@MappedSuperclass\npublic abstract class Course {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID courseId;\n\n    @NotBlank\n    @Column(name = &quot;course_code&quot;, nullable = false)\n    private String courseCode;\n\n    @NotBlank\n    @Column(name = &quot;course_name&quot;, nullable = false)\n    private String courseName;\n    \n    @NotNull\n    @Column(name = &quot;ects&quot;, nullable = false)\n    private Double ects; \n\n    public Course(\n        @JsonProperty(&quot;id&quot;) UUID id,\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\n        @JsonProperty(&quot;courseName&quot;) String courseName,\n        @JsonProperty(&quot;ects&quot;) Double ects) {\n\n        this.courseId = id;\n        this.courseCode = courseCode;\n        this.courseName = courseName;\n        this.ects = ects;\n    }\n}\n\n</code></pre>\n<p>I have two database model classes that extends <code>Course</code>:</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Table(name = &quot;uni_course&quot;)\npublic class UniCourse extends Course {\n\n    @NotNull\n    @Column(name = &quot;department&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private Department department;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;approved_courses&quot;, \n        joinColumns = @JoinColumn(name = &quot;uni_course_id&quot;), \n        inverseJoinColumns = @JoinColumn(name = &quot;host_course_id&quot;))\n    private Set&lt;HostCourse&gt; approvedCourses;\n    \n    public UniCourse(\n        @JsonProperty(&quot;id&quot;) UUID id,\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\n        @JsonProperty(&quot;courseName&quot;) String courseName,\n        @JsonProperty(&quot;ects&quot;) Double ects,\n        @JsonProperty(&quot;department&quot;) Department department) {\n\n        super(id, courseCode, courseName, ects);\n        this.department = department;\n        this.bilkentCredit = bilkentCredit;\n    }\n}\n\n    \n\n</code></pre>\n<p>and,</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Table(name = &quot;host_course&quot;)\npublic class HostCourse extends Course {\n\n    @NotBlank\n    @Column(name = &quot;syllabus&quot;, nullable = false)\n    private String syllabus;\n    \n    @NotBlank\n    @Column(name = &quot;web_page&quot;, nullable = true)\n    private String webPage;\n\n    @NotNull\n    @Column(name = &quot;university_id&quot;, nullable = false)\n    private UUID universityId;\n\n    @ManyToMany(mappedBy = &quot;approvedCourses&quot;)\n    private Set&lt;UniCourse&gt; uniCourses;\n    \n    public HostCourse(\n        @JsonProperty(&quot;id&quot;) UUID id,\n        @JsonProperty(&quot;courseCode&quot;) String courseCode,\n        @JsonProperty(&quot;courseName&quot;) String courseName,\n        @JsonProperty(&quot;ects&quot;) Double ects,\n        @JsonProperty(&quot;syllabus&quot;) String syllabus,\n        @JsonProperty(&quot;webPage&quot;) String webPage,\n        @JsonProperty(&quot;universityId&quot;) UUID universityId) {\n        \n        super(id, courseCode, courseName, ects);\n        this.syllabus = syllabus;\n        this.webPage = webPage;\n        this.universityId = universityId;\n        this.courseApproval = courseApproval;\n    }\n}\n\n</code></pre>\n<p>I want to get <code>approvedCourses</code> using <code>universityId</code> of <code>HostCourse</code>. How can I achieve this?</p>\n<p>I tried using the <code>findByApprovedCoursesUniversityId(UUID universityId)</code> method and it returned the following:</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;courseCode&quot;: &quot;CS315&quot;,\n            &quot;courseName&quot;: &quot;Programming Languages&quot;,\n            &quot;ects&quot;: 5.0,\n            &quot;department&quot;: &quot;CS&quot;,\n            &quot;courseId&quot;: &quot;8a890716-aaf1-40bb-81b2-e0a638b878dd&quot;,\n            &quot;approvedCourses&quot;: []\n        }\n    ]\n    &quot;timestamp&quot;: &quot;2022.12.15 21.48.32&quot;,\n    &quot;status&quot;: &quot;OK&quot;\n}\n</code></pre>\n<p>I also want to get approved courses but it returns an empty array.</p>\n"},{"tags":["java","java-8","initialization","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526391246,"creation_date":1526391246,"answer_id":50351637,"question_id":50347544,"body_markdown":"There is no &quot;snapshot&quot; taken of your Lambda execution environment, ever. There is however a concept of container reuse. A static initialization block will be called when the function runs for the first time in a new container, and each subsequent Lambda execution that is sent to that container will be able to skip the initialization step. Each time Lambda spins up a new container for your Lambda function that initialization work will need to happen again.\r\n\r\nI suggest reading [this post on the AWS blog][1] about Lambda container reuse.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/","title":"AWS Lambda - Java static initialization","body":"<p>There is no \"snapshot\" taken of your Lambda execution environment, ever. There is however a concept of container reuse. A static initialization block will be called when the function runs for the first time in a new container, and each subsequent Lambda execution that is sent to that container will be able to skip the initialization step. Each time Lambda spins up a new container for your Lambda function that initialization work will need to happen again.</p>\n\n<p>I suggest reading <a href=\"https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/\" rel=\"noreferrer\">this post on the AWS blog</a> about Lambda container reuse.</p>\n"},{"tags":[],"owner":{"account_id":215448,"reputation":480,"user_id":470107,"display_name":"Rapha&#235;l Brugier"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530456483,"creation_date":1530456483,"answer_id":51124337,"question_id":50347544,"body_markdown":"As `Mark B` explained, there is no such thing as a &#39;snapshot&#39;.\r\n\r\nAWS starts an execution context the first time your Lambda is called and then reuses it for the next requests. However, this is not guaranteed. AWS may shut down this context at any time, or create others to scale your Lambda in case your of heavy load.\r\n\r\nAn execution context consists of the container, the JVM, and _a Singleton instance_ of the Java class where your handler function is defined.\r\n\r\nTherefore, I would not recommend doing any &quot;one-time&quot; initialization in a static block, but instead in the constructor of your class. This will greatly improve the testability of your code.","title":"AWS Lambda - Java static initialization","body":"<p>As <code>Mark B</code> explained, there is no such thing as a 'snapshot'.</p>\n\n<p>AWS starts an execution context the first time your Lambda is called and then reuses it for the next requests. However, this is not guaranteed. AWS may shut down this context at any time, or create others to scale your Lambda in case your of heavy load.</p>\n\n<p>An execution context consists of the container, the JVM, and <em>a Singleton instance</em> of the Java class where your handler function is defined.</p>\n\n<p>Therefore, I would not recommend doing any \"one-time\" initialization in a static block, but instead in the constructor of your class. This will greatly improve the testability of your code.</p>\n"},{"tags":[],"owner":{"account_id":11040475,"reputation":119,"user_id":8108623,"display_name":"Keston"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671129752,"creation_date":1671129752,"answer_id":74816135,"question_id":50347544,"body_markdown":"You can configure [AWS Snapstart][1] which will save the state of your lambda after init. I just saw a 1/6 reduced cold start times on a simple java lambda. \r\n\r\nFrom AWS Documentation Linked above:\r\n&quot;Lambda SnapStart for Java can improve startup performance for latency-sensitive applications by up to 10x at no extra cost, typically with no changes to your function code. The largest contributor to startup latency (often referred to as cold start time) is the time that Lambda spends initializing the function, which includes loading the function&#39;s code, starting the runtime, and initializing the function code.\r\n\r\nWith SnapStart, Lambda initializes your function when you publish a function version. Lambda takes a Firecracker microVM snapshot of the memory and disk state of the initialized execution environment, encrypts the snapshot, and caches it for low-latency access. When you invoke the function version for the first time, and as the invocations scale up, Lambda resumes new execution environments from the cached snapshot instead of initializing them from scratch, improving startup latency.&quot;\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html","title":"AWS Lambda - Java static initialization","body":"<p>You can configure <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\" rel=\"nofollow noreferrer\">AWS Snapstart</a> which will save the state of your lambda after init. I just saw a 1/6 reduced cold start times on a simple java lambda.</p>\n<p>From AWS Documentation Linked above:\n&quot;Lambda SnapStart for Java can improve startup performance for latency-sensitive applications by up to 10x at no extra cost, typically with no changes to your function code. The largest contributor to startup latency (often referred to as cold start time) is the time that Lambda spends initializing the function, which includes loading the function's code, starting the runtime, and initializing the function code.</p>\n<p>With SnapStart, Lambda initializes your function when you publish a function version. Lambda takes a Firecracker microVM snapshot of the memory and disk state of the initialized execution environment, encrypts the snapshot, and caches it for low-latency access. When you invoke the function version for the first time, and as the invocations scale up, Lambda resumes new execution environments from the cached snapshot instead of initializing them from scratch, improving startup latency.&quot;</p>\n"}],"owner":{"account_id":1473667,"reputation":557,"user_id":1384608,"accept_rate":0,"display_name":"Hollow.Quincy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8131,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1671129752,"creation_date":1526378944,"question_id":50347544,"body_markdown":"Inside AWS lambda function (written in Java) I want to use AsyncHttpClient (https://github.com/AsyncHttpClient/async-http-client). \r\nUnfortunately it takes around 500 ms to create an instance of this object.. (but I still like it, please don&#39;t advice me to change the http client). \r\n\r\nI was considering creating AsyncHttpClient in static initialization block. So maybe it will be executed once by AWS and than the snapshot would be cloned for the every AWS Lambda execution. Am I correct ? \r\n\r\nWhen static block are executed in AWS Lambda ? \r\n\r\n - Once and than the snapshot is cloned to every AWS Lambda invocation\r\n - or static block is executed for every Lambda execution separately (and it will not help to put creation of Http Client there)\r\n\r\nThank you for help\r\n","title":"AWS Lambda - Java static initialization","body":"<p>Inside AWS lambda function (written in Java) I want to use AsyncHttpClient (<a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">https://github.com/AsyncHttpClient/async-http-client</a>). \nUnfortunately it takes around 500 ms to create an instance of this object.. (but I still like it, please don't advice me to change the http client). </p>\n\n<p>I was considering creating AsyncHttpClient in static initialization block. So maybe it will be executed once by AWS and than the snapshot would be cloned for the every AWS Lambda execution. Am I correct ? </p>\n\n<p>When static block are executed in AWS Lambda ? </p>\n\n<ul>\n<li>Once and than the snapshot is cloned to every AWS Lambda invocation</li>\n<li>or static block is executed for every Lambda execution separately (and it will not help to put creation of Http Client there)</li>\n</ul>\n\n<p>Thank you for help</p>\n"},{"tags":["java","android-studio","lambda"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1546500939,"post_id":54018001,"comment_id":94872417,"body_markdown":"It would definitely help to see the entire `onClick(...)` method instead of just the few lines.","body":"It would definitely help to see the entire <code>onClick(...)</code> method instead of just the few lines."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1546505153,"post_id":54018001,"comment_id":94873921,"body_markdown":"I don&#39;t know what they call the tooltip that you see as a yellow bulb there on the left of your screen. Click it and select the option to convert the code, you&#39;ll get the answer to what you&#39;re asking for.","body":"I don&#39;t know what they call the tooltip that you see as a yellow bulb there on the left of your screen. Click it and select the option to convert the code, you&#39;ll get the answer to what you&#39;re asking for."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1546505235,"post_id":54018001,"comment_id":94873951,"body_markdown":"Why bother?  It works as is.  At best its a micro-optimization, at worst a noop.  Its not worth the effort to go through old code and convert things like this.  Just turn that line rule off as overly nitty.","body":"Why bother?  It works as is.  At best its a micro-optimization, at worst a noop.  Its not worth the effort to go through old code and convert things like this.  Just turn that line rule off as overly nitty."}],"answers":[{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546504951,"creation_date":1546500816,"answer_id":54018106,"question_id":54018001,"body_markdown":"Assuming you could outsource the creation of the `User`-Object into it&#39;s own method `createAndStoreUser()` and both parameters of the `onClick(DialogInterface interface, int i)`method will not be used, the annonymous class can be rewrittern as:\r\n\r\n    alert.setPositiveButton(&quot;Yes&quot;, (di,i)-&gt; createAndStoreUser());\r\n\r\nYou could also define the concrete behvaiour directly within the lambda-expression. However this wouldn&#39;t bring many advantages:\r\n\r\n    alert.setPositiveButton(&quot;Yes&quot;, (di,i)-&gt; { User user = new User(...); ... });","title":"How to replace anonymous OnClickListener with Lambda expression?","body":"<p>Assuming you could outsource the creation of the <code>User</code>-Object into it's own method <code>createAndStoreUser()</code> and both parameters of the <code>onClick(DialogInterface interface, int i)</code>method will not be used, the annonymous class can be rewrittern as:</p>\n\n<pre><code>alert.setPositiveButton(\"Yes\", (di,i)-&gt; createAndStoreUser());\n</code></pre>\n\n<p>You could also define the concrete behvaiour directly within the lambda-expression. However this wouldn't bring many advantages:</p>\n\n<pre><code>alert.setPositiveButton(\"Yes\", (di,i)-&gt; { User user = new User(...); ... });\n</code></pre>\n"}],"owner":{"account_id":13483444,"reputation":31,"user_id":9727951,"display_name":"Mr MD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54018106,"answer_count":1,"score":-1,"last_activity_date":1671129554,"creation_date":1546500315,"question_id":54018001,"body_markdown":"How an I replace this OnClickListener with a Lamda expression?\r\n\r\n\r\n        alert.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int i) {\r\n                User user=new User(etnewname.getText().toString(),\r\n                        etnewtelp.getText().toString(),\r\n                        etnewemail.getText().toString(),\r\n                        etnewusername.getText().toString(),\r\n                        etnewpassword.getText().toString());\r\n\r\nSee below for the Android Studio message, which I don&#39;t really understand.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R737C.png","title":"How to replace anonymous OnClickListener with Lambda expression?","body":"<p>How an I replace this OnClickListener with a Lamda expression?</p>\n\n<pre><code>    alert.setPositiveButton(\"Yes\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int i) {\n            User user=new User(etnewname.getText().toString(),\n                    etnewtelp.getText().toString(),\n                    etnewemail.getText().toString(),\n                    etnewusername.getText().toString(),\n                    etnewpassword.getText().toString());\n</code></pre>\n\n<p>See below for the Android Studio message, which I don't really understand.</p>\n\n<p><a href=\"https://i.stack.imgur.com/R737C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R737C.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","amazon-dynamodb-dax"],"answers":[{"tags":[],"owner":{"account_id":4559992,"reputation":441,"user_id":3702618,"display_name":"Tushar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500363014,"creation_date":1500363014,"answer_id":45160269,"question_id":45159620,"body_markdown":"This is connection time out Exception. you should check AWS firewall settings if port 8111 is open in inbound rules.\r\n\r\nThese settings are on AWS dashboard in security policy section.","title":"Connect the DAX to lambda function in aws VPC","body":"<p>This is connection time out Exception. you should check AWS firewall settings if port 8111 is open in inbound rules.</p>\n\n<p>These settings are on AWS dashboard in security policy section.</p>\n"},{"tags":[],"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500364727,"creation_date":1500364727,"answer_id":45160772,"question_id":45159620,"body_markdown":"Can you check the security group configuration on the security group used to launch the DAX cluster? You will need to authorize inbound traffic on TCP port 8111 on the security group used to launch the cluster, using the security group used for the lambda function configuration as the source. Please refer to the [documentation](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html) for more help.","title":"Connect the DAX to lambda function in aws VPC","body":"<p>Can you check the security group configuration on the security group used to launch the DAX cluster? You will need to authorize inbound traffic on TCP port 8111 on the security group used to launch the cluster, using the security group used for the lambda function configuration as the source. Please refer to the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html\" rel=\"nofollow noreferrer\">documentation</a> for more help.</p>\n"}],"owner":{"account_id":3845484,"reputation":43,"user_id":3187171,"display_name":"user3187171"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671129540,"creation_date":1500360918,"question_id":45159620,"body_markdown":"Unable to connect the call the DAX api from lamda function getting error while connecting.\r\n\r\n    TART RequestId: 91744a72-6b81-11e7-b7b9-81ab3e1f67f1 Version: $LATEST\r\n    [2017-07-18 06:23:09.356] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\r\n    [2017-07-18 06:23:09.356] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\r\n    [2017-07-18 06:23:09.364] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\r\n    [2017-07-18 06:23:09.364] NO-REQUEST-ID ERROR c.a.d.c.c.Cluster - caught exception during cluster refresh: java.io.IOException: failed to configure cluster endpoints from hosts: [dax122.fwef.clusefwefwetercfg.dax.use1.cache.amazonaws.com:8111]\r\n    java.io.IOException: failed to configure cluster endpoints from hosts: [dax122.fwef.clusefwefwetercfg.dax.use1.cache.amazonaws.com:8111]","title":"Connect the DAX to lambda function in aws VPC","body":"<p>Unable to connect the call the DAX api from lamda function getting error while connecting.</p>\n\n<pre><code>TART RequestId: 91744a72-6b81-11e7-b7b9-81ab3e1f67f1 Version: $LATEST\n[2017-07-18 06:23:09.356] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\n[2017-07-18 06:23:09.356] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\n[2017-07-18 06:23:09.364] NO-REQUEST-ID ERROR c.a.d.c.SocketTubePool - error connecting to /172.31.20.237:8111 java.net.ConnectException: Connection timed out (Connection timed out)\n[2017-07-18 06:23:09.364] NO-REQUEST-ID ERROR c.a.d.c.c.Cluster - caught exception during cluster refresh: java.io.IOException: failed to configure cluster endpoints from hosts: [dax122.fwef.clusefwefwetercfg.dax.use1.cache.amazonaws.com:8111]\njava.io.IOException: failed to configure cluster endpoints from hosts: [dax122.fwef.clusefwefwetercfg.dax.use1.cache.amazonaws.com:8111]\n</code></pre>\n"},{"tags":["java","exception","lambda","java-8"],"answers":[{"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1597391352,"post_id":63395126,"comment_id":112122759,"body_markdown":"You are supperior as always &lt;3 Just wanted to mention that I&#39;m using Wrapper(s) only for casting and never use the interfaces in any other context. The `from` method was a result of playing in the sand (inventually forcing the user to wrap the whole chain that uses the lambda)... Both my IDEs rejected it at first, still were able to build it properly...","body":"You are supperior as always &lt;3 Just wanted to mention that I&#39;m using Wrapper(s) only for casting and never use the interfaces in any other context. The <code>from</code> method was a result of playing in the sand (inventually forcing the user to wrap the whole chain that uses the lambda)... Both my IDEs rejected it at first, still were able to build it properly..."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1597321507,"creation_date":1597321507,"answer_id":63395126,"question_id":63391917,"body_markdown":"Your method\r\n```\r\nstatic &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\r\n    return wrappedFunction::applyChecked;\r\n}\r\n```\r\n\r\nwas rejected by my Eclipse version, as well as `javac` of all JDKs from 9 to 14. Only JDK&#160;8 accepted it, so its a bug, but not worth reporting, as newer versions do not have it.\r\n\r\nThat said, subverting the exception checking via the generic type system is possible.\r\n\r\nWhen you change the method to\r\n```\r\nstatic &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\r\n    return (CheckedFunction)(CheckedFunction&lt;T, R, Exception&gt;)wrappedFunction::applyChecked;\r\n}\r\n```\r\nall compilers will accept it, but produce an unchecked warning. This is a known thing.\r\n\r\nYou can simplify the example to:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        CheckedFunction&lt;Path, Long, RuntimeException&gt; function = (CheckedFunction)\r\n            (CheckedFunction&lt;Path, Long, IOException&gt;)Files::size;\r\n        Path doesNotExist = Paths.get(&quot;/does/not/exist&quot;);\r\n\r\n        function.applyChecked(doesNotExist); // throws NoSuchFileException without the need of a try/catch block!\r\n    }\r\n\r\n    interface CheckedFunction&lt;T, R, E extends Exception&gt; {\r\n        R applyChecked(T t) throws E;\r\n    }\r\n}\r\n```\r\n\r\nThere are several variations possible, even without lambda expressions. All it needs, is a `throws` declaration using a type parameter and an unchecked operation regarding this type parameter.\r\n\r\nE.g.\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Files.size(Paths.get(&quot;/does/not/exist&quot;));\r\n        }\r\n        catch(IOException ex) {\r\n            doThrow(ex); // throws undeclared IOException\r\n        }\r\n    }\r\n\r\n    static &lt;T extends Throwable&gt; void doThrow(Throwable t) throws T {\r\n        throw (T)t;\r\n    }\r\n}\r\n```\r\n\r\nAs said, this is known and the takeaway is, you should never ignore unchecked warnings.\r\n","title":"Lambdas that bypass try/catch blocks for checked exceptions","body":"<p>Your method</p>\n<pre><code>static &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\n    return wrappedFunction::applyChecked;\n}\n</code></pre>\n<p>was rejected by my Eclipse version, as well as <code>javac</code> of all JDKs from 9 to 14. Only JDK8 accepted it, so its a bug, but not worth reporting, as newer versions do not have it.</p>\n<p>That said, subverting the exception checking via the generic type system is possible.</p>\n<p>When you change the method to</p>\n<pre><code>static &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\n    return (CheckedFunction)(CheckedFunction&lt;T, R, Exception&gt;)wrappedFunction::applyChecked;\n}\n</code></pre>\n<p>all compilers will accept it, but produce an unchecked warning. This is a known thing.</p>\n<p>You can simplify the example to:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        CheckedFunction&lt;Path, Long, RuntimeException&gt; function = (CheckedFunction)\n            (CheckedFunction&lt;Path, Long, IOException&gt;)Files::size;\n        Path doesNotExist = Paths.get(&quot;/does/not/exist&quot;);\n\n        function.applyChecked(doesNotExist); // throws NoSuchFileException without the need of a try/catch block!\n    }\n\n    interface CheckedFunction&lt;T, R, E extends Exception&gt; {\n        R applyChecked(T t) throws E;\n    }\n}\n</code></pre>\n<p>There are several variations possible, even without lambda expressions. All it needs, is a <code>throws</code> declaration using a type parameter and an unchecked operation regarding this type parameter.</p>\n<p>E.g.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        try {\n            Files.size(Paths.get(&quot;/does/not/exist&quot;));\n        }\n        catch(IOException ex) {\n            doThrow(ex); // throws undeclared IOException\n        }\n    }\n\n    static &lt;T extends Throwable&gt; void doThrow(Throwable t) throws T {\n        throw (T)t;\n    }\n}\n</code></pre>\n<p>As said, this is known and the takeaway is, you should never ignore unchecked warnings.</p>\n"}],"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":63395126,"answer_count":1,"score":5,"last_activity_date":1671129536,"creation_date":1597310255,"question_id":63391917,"body_markdown":"As a result of me trying to extract some common wrapping lambda routines that I use in most of my projects, I&#39;ve been able to create `CheckedFunction`, subclassed by `PermeableFunction` FunctionalInterface that bypasses the need of try/catch blocks. I&#39;ve tested that on Oracle jdks for windows(v1.8.0_251)/linux(v1.8.0_261) and several other online compilers(not sure which implementation is used there).\r\n\r\nWasn&#39;t sure if this actually violates the specification or is something allowed by the standard... According to my interpretaion of the [docs](https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8.3) this should not be possible:\r\n\r\n&gt; More precisely, suppose that B is a class or interface, and A is a superclass or superinterface of B, and a method declaration n in B overrides or hides a method declaration m in A. Then:\r\n&gt; \r\n&gt; - If n has a throws clause that mentions any checked exception types, then m must have a throws clause, or a compile-time error occurs.&lt;br/&gt;\r\n&gt; - For every checked exception type listed in the throws clause of n, that same exception class or one of its supertypes must occur in the erasure (&#167;4.6) of the throws clause of m; otherwise, a compile-time error occurs.&lt;br/&gt;\r\n&gt; - If the unerased throws clause of m does not contain a supertype of each exception type in the throws clause of n, a compile-time unchecked warning occurs.\r\n\r\nHere is the sample code that I&#39;ve used:\r\n\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.function.Function;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        PermeableFunction&lt;Path, Long&gt; function = PermeableFunction.from(Files::size);\r\n\r\n        Path doesNotExist = Paths.get(&quot;/does/not/exist&quot;);\r\n\r\n        // function.apply(doesNotExist); -&gt; throws WrappedException\r\n        function.applyChecked(doesNotExist); // throws NoSuchFileException without the need of a try/catch block!\r\n    }\r\n}\r\n\r\ninterface PermeableFunction&lt;T,R&gt; extends CheckedFunction&lt;T, R, RuntimeException&gt; {\r\n\r\n    static &lt;T, R&gt; PermeableFunction&lt;T, R&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\r\n\r\n        return CheckedFunction.&lt;T,R, RuntimeException&gt;from(wrappedFunction)::applyChecked;\r\n    }\r\n}\r\n\r\ninterface CheckedFunction&lt;T, R, E extends Exception&gt; extends WrappedFunction&lt;T, R&gt; {\r\n\r\n    @Override\r\n    R applyChecked(T t) throws E;\r\n\r\n    static &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\r\n\r\n        return wrappedFunction::applyChecked;\r\n    }\r\n}\r\n\r\ninterface WrappedFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\r\n\r\n    R applyChecked(T t) throws Exception;\r\n\r\n    @Override\r\n    default R apply(T t) {\r\n\r\n        try {\r\n\r\n            return applyChecked(t);\r\n\r\n        } catch (Exception e) {\r\n\r\n            throw new WrappedException(e);\r\n        }\r\n    }\r\n}\r\n\r\nclass WrappedException extends RuntimeException {\r\n\r\n    public WrappedException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n}\r\n```\r\n\r\nCheckedFunction also allows shadowing of the throwable like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo here is my question:\r\n\r\nIs this something that should be reported to the implementer(s) or it&#39;s a general issue imposed by the standard?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pkavj.png","title":"Lambdas that bypass try/catch blocks for checked exceptions","body":"<p>As a result of me trying to extract some common wrapping lambda routines that I use in most of my projects, I've been able to create <code>CheckedFunction</code>, subclassed by <code>PermeableFunction</code> FunctionalInterface that bypasses the need of try/catch blocks. I've tested that on Oracle jdks for windows(v1.8.0_251)/linux(v1.8.0_261) and several other online compilers(not sure which implementation is used there).</p>\n<p>Wasn't sure if this actually violates the specification or is something allowed by the standard... According to my interpretaion of the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8.3\" rel=\"noreferrer\">docs</a> this should not be possible:</p>\n<blockquote>\n<p>More precisely, suppose that B is a class or interface, and A is a superclass or superinterface of B, and a method declaration n in B overrides or hides a method declaration m in A. Then:</p>\n<ul>\n<li>If n has a throws clause that mentions any checked exception types, then m must have a throws clause, or a compile-time error occurs.<br/></li>\n<li>For every checked exception type listed in the throws clause of n, that same exception class or one of its supertypes must occur in the erasure (4.6) of the throws clause of m; otherwise, a compile-time error occurs.<br/></li>\n<li>If the unerased throws clause of m does not contain a supertype of each exception type in the throws clause of n, a compile-time unchecked warning occurs.</li>\n</ul>\n</blockquote>\n<p>Here is the sample code that I've used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.function.Function;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        PermeableFunction&lt;Path, Long&gt; function = PermeableFunction.from(Files::size);\n\n        Path doesNotExist = Paths.get(&quot;/does/not/exist&quot;);\n\n        // function.apply(doesNotExist); -&gt; throws WrappedException\n        function.applyChecked(doesNotExist); // throws NoSuchFileException without the need of a try/catch block!\n    }\n}\n\ninterface PermeableFunction&lt;T,R&gt; extends CheckedFunction&lt;T, R, RuntimeException&gt; {\n\n    static &lt;T, R&gt; PermeableFunction&lt;T, R&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\n\n        return CheckedFunction.&lt;T,R, RuntimeException&gt;from(wrappedFunction)::applyChecked;\n    }\n}\n\ninterface CheckedFunction&lt;T, R, E extends Exception&gt; extends WrappedFunction&lt;T, R&gt; {\n\n    @Override\n    R applyChecked(T t) throws E;\n\n    static &lt;T, R, E extends Exception&gt; CheckedFunction&lt;T, R, E&gt; from(WrappedFunction&lt;T, R&gt; wrappedFunction) {\n\n        return wrappedFunction::applyChecked;\n    }\n}\n\ninterface WrappedFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\n\n    R applyChecked(T t) throws Exception;\n\n    @Override\n    default R apply(T t) {\n\n        try {\n\n            return applyChecked(t);\n\n        } catch (Exception e) {\n\n            throw new WrappedException(e);\n        }\n    }\n}\n\nclass WrappedException extends RuntimeException {\n\n    public WrappedException(Throwable cause) {\n        super(cause);\n    }\n}\n</code></pre>\n<p>CheckedFunction also allows shadowing of the throwable like so:</p>\n<p><a href=\"https://i.stack.imgur.com/Pkavj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Pkavj.png\" alt=\"enter image description here\" /></a></p>\n<p>So here is my question:</p>\n<p>Is this something that should be reported to the implementer(s) or it's a general issue imposed by the standard?</p>\n"},{"tags":["java","spring-cloud-feign"],"answers":[{"comments":[{"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"score":6,"creation_date":1612632871,"post_id":58732925,"comment_id":116830028,"body_markdown":"i donno why, but i get illegalstateexception instead of feign exception","body":"i donno why, but i get illegalstateexception instead of feign exception"}],"tags":[],"owner":{"account_id":10652998,"reputation":768,"user_id":7843308,"display_name":"agascon"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1573052267,"creation_date":1573052267,"answer_id":58732925,"question_id":58727847,"body_markdown":"Unless any other better solution is provided, this is how I have overcome this...\r\n\r\n    when(mockedApiClient.userDataDelete(anyString()))\r\n                    .thenThrow(FeignException.errorStatus(\r\n                            &quot;userDataDelete&quot;,\r\n                            Response.builder()\r\n                                    .status(404)\r\n                                    .headers(new HashMap&lt;&gt;())\r\n                                    .reason(&quot;Not found&quot;).build()));","title":"Feign Unit Testing Not found response","body":"<p>Unless any other better solution is provided, this is how I have overcome this...</p>\n\n<pre><code>when(mockedApiClient.userDataDelete(anyString()))\n                .thenThrow(FeignException.errorStatus(\n                        \"userDataDelete\",\n                        Response.builder()\n                                .status(404)\n                                .headers(new HashMap&lt;&gt;())\n                                .reason(\"Not found\").build()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9718856,"reputation":21,"user_id":7208208,"display_name":"richie priya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589284560,"creation_date":1589284560,"answer_id":61751080,"question_id":58727847,"body_markdown":"To return 404 Feign Exception on mocking the service, you can try out these things :\r\n\r\n1. create your own exception class which will extends Feign Exception.\r\n2. Annotate Response Status with value of HttpStatus.NOT_FOUND.\r\n3. Override the constructor as given below :\r\n\r\n```\r\nimport feign.FeignException;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n@ResponseStatus(value = HttpStatus.NOT_FOUND)\r\npublic class SampleFeignClientException extends FeignException {\r\n\r\n    public SampleFeignClientException (String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n\r\n    public SampleFeignClientException (String message, Throwable cause, byte[] content) {\r\n        super(message, cause, content);\r\n    }\r\n\r\n    public SampleFeignClientException (String message) {\r\n        super(message);\r\n    }\r\n\r\n    public SampleFeignClientException (int status, String message, byte[] content) {\r\n        super(status, message, content);\r\n    }\r\n}\r\n```\r\n4. In Junit Test case dothrow the created sampleFeignException class.\r\n\r\n```\r\n    @Test\r\n    public void sampleTestMethod() {\r\n        SampleFeignClientException sampleFeignClientException = new sampleFeignClientException(404, &quot;NOT FOUND&quot;, new byte[1]);\r\n\r\n         doThrow(sampleFeignClientException).when(mockService).method();\r\n\r\n }\r\n```\r\n\r\nI hope this may helps you to resolve the problem.\r\n","title":"Feign Unit Testing Not found response","body":"<p>To return 404 Feign Exception on mocking the service, you can try out these things :</p>\n\n<ol>\n<li>create your own exception class which will extends Feign Exception.</li>\n<li>Annotate Response Status with value of HttpStatus.NOT_FOUND.</li>\n<li>Override the constructor as given below :</li>\n</ol>\n\n<pre><code>import feign.FeignException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class SampleFeignClientException extends FeignException {\n\n    public SampleFeignClientException (String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public SampleFeignClientException (String message, Throwable cause, byte[] content) {\n        super(message, cause, content);\n    }\n\n    public SampleFeignClientException (String message) {\n        super(message);\n    }\n\n    public SampleFeignClientException (int status, String message, byte[] content) {\n        super(status, message, content);\n    }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>In Junit Test case dothrow the created sampleFeignException class.</li>\n</ol>\n\n<pre><code>    @Test\n    public void sampleTestMethod() {\n        SampleFeignClientException sampleFeignClientException = new sampleFeignClientException(404, \"NOT FOUND\", new byte[1]);\n\n         doThrow(sampleFeignClientException).when(mockService).method();\n\n }\n</code></pre>\n\n<p>I hope this may helps you to resolve the problem.</p>\n"},{"comments":[{"owner":{"account_id":119963,"reputation":2552,"user_id":312067,"display_name":"Jon Ander Ortiz Dur&#225;ntez"},"score":1,"creation_date":1640084807,"post_id":66030120,"comment_id":124506364,"body_markdown":"Thanks, it works fine ;) . I&#39;ve found that Instead of building the whole `headersError` you can simply pass an empty map: `Collections.emptyMap()`.","body":"Thanks, it works fine ;) . I&#39;ve found that Instead of building the whole <code>headersError</code> you can simply pass an empty map: <code>Collections.emptyMap()</code>."}],"tags":[],"owner":{"account_id":19622332,"reputation":61,"user_id":14620970,"display_name":"Michael froids"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612364739,"creation_date":1612364439,"answer_id":66030120,"question_id":58727847,"body_markdown":" Well, to me worked as below (i used EasyRandom as generator of some fields):\r\n \r\n \r\n\r\n    private EasyRandom easyRandom = new EasyRandom();\r\n     Map&lt;String, Collection&lt;String&gt;&gt; headersError = easyRandom.nextObject(HashMap.class);\r\n     byte[] bodyError = easyRandom.nextObject(byte[].class);\r\n    \r\n     when(mockedApiClient.userDataDelete(anyString())\r\n                    .thenThrow(FeignException.errorStatus(\r\n                            &quot;userDataDelete&quot;,\r\n                            Response.builder()\r\n                                    .status(404)\r\n                                    .reason(&quot;message error&quot;)\r\n                                    .request(Request.create(\r\n                                            Request.HttpMethod.POST,\r\n                                            &quot;foo/foo/bar/v1/delete-data-user&quot;,\r\n                                            headersError, //this field is required for construtor//\r\n                                            null,\r\n                                            null,\r\n                                            null))\r\n                                    .body(bodyError)//this field is required for construtor\r\n                                    .build())\r\n                    );","title":"Feign Unit Testing Not found response","body":"<p>Well, to me worked as below (i used EasyRandom as generator of some fields):</p>\n<pre><code>private EasyRandom easyRandom = new EasyRandom();\n Map&lt;String, Collection&lt;String&gt;&gt; headersError = easyRandom.nextObject(HashMap.class);\n byte[] bodyError = easyRandom.nextObject(byte[].class);\n\n when(mockedApiClient.userDataDelete(anyString())\n                .thenThrow(FeignException.errorStatus(\n                        &quot;userDataDelete&quot;,\n                        Response.builder()\n                                .status(404)\n                                .reason(&quot;message error&quot;)\n                                .request(Request.create(\n                                        Request.HttpMethod.POST,\n                                        &quot;foo/foo/bar/v1/delete-data-user&quot;,\n                                        headersError, //this field is required for construtor//\n                                        null,\n                                        null,\n                                        null))\n                                .body(bodyError)//this field is required for construtor\n                                .build())\n                );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1799615,"reputation":299,"user_id":1638270,"accept_rate":88,"display_name":"HelLViS69"},"score":2,"creation_date":1638434140,"post_id":66080198,"comment_id":124088223,"body_markdown":"this should be the accepted answer","body":"this should be the accepted answer"}],"tags":[],"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1612634650,"creation_date":1612634650,"answer_id":66080198,"question_id":58727847,"body_markdown":"Feign Already provides inner classes like NotFound and other typica HTTP response code types. An example is shown here.\r\n\r\n    Request request = Request.create(Request.HttpMethod.GET, &quot;url&quot;,\r\n\t\t\t\t\t\tnew HashMap&lt;&gt;(), null, new RequestTemplate());\r\n\t\t\t\tthrow new FeignException.NotFound(&quot;&quot;, request, null);\r\n\r\nJust modify the above as per your needs! Key point to note is that Request object is mandatory. As of 2021 few overloads like Request.create are deprecated. Look out for what you use!\r\n\r\nHope that helps! happy Coding!","title":"Feign Unit Testing Not found response","body":"<p>Feign Already provides inner classes like NotFound and other typica HTTP response code types. An example is shown here.</p>\n<pre><code>Request request = Request.create(Request.HttpMethod.GET, &quot;url&quot;,\n                    new HashMap&lt;&gt;(), null, new RequestTemplate());\n            throw new FeignException.NotFound(&quot;&quot;, request, null);\n</code></pre>\n<p>Just modify the above as per your needs! Key point to note is that Request object is mandatory. As of 2021 few overloads like Request.create are deprecated. Look out for what you use!</p>\n<p>Hope that helps! happy Coding!</p>\n"},{"comments":[{"owner":{"account_id":5214616,"reputation":294,"user_id":4169987,"display_name":"fdrobidoux"},"score":0,"creation_date":1684354986,"post_id":74065348,"comment_id":134508168,"body_markdown":"This won&#39;t work. It gives a MockitoException saying &quot;Mockito cannot mock/spy because (bunch of lines)&quot;","body":"This won&#39;t work. It gives a MockitoException saying &quot;Mockito cannot mock/spy because (bunch of lines)&quot;"}],"tags":[],"owner":{"account_id":20390432,"reputation":9,"user_id":14958470,"display_name":"ruslanKhodzhaev"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665730128,"creation_date":1665730128,"answer_id":74065348,"question_id":58727847,"body_markdown":"     Request request = mock(Request.class);\r\n\r\n     when(someClient.someGetRequest(List.of(doc.getId())))\r\n                .thenThrow(new FeignException.NotFound(&quot;message&quot;, request, null, null));\r\n\r\nYou can avoid create Request, only mocking it. ","title":"Feign Unit Testing Not found response","body":"<pre><code> Request request = mock(Request.class);\n\n when(someClient.someGetRequest(List.of(doc.getId())))\n            .thenThrow(new FeignException.NotFound(&quot;message&quot;, request, null, null));\n</code></pre>\n<p>You can avoid create Request, only mocking it.</p>\n"},{"tags":[],"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671128856,"creation_date":1671128856,"answer_id":74815992,"question_id":58727847,"body_markdown":"Mock your `FeignException`:\r\n\r\n```java\r\n\r\nvar ex = Mockito.mock(FeignException.class);\r\nMockito.when(ex.status()).thenReturn(404);\r\nMockito.when(mockedApiClient.userDataDelete(anyString()))\r\n       .thenThrow(ex);\r\n\r\n```","title":"Feign Unit Testing Not found response","body":"<p>Mock your <code>FeignException</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvar ex = Mockito.mock(FeignException.class);\nMockito.when(ex.status()).thenReturn(404);\nMockito.when(mockedApiClient.userDataDelete(anyString()))\n       .thenThrow(ex);\n\n</code></pre>\n"}],"owner":{"account_id":10652998,"reputation":768,"user_id":7843308,"display_name":"agascon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22951,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1671128856,"creation_date":1573035544,"question_id":58727847,"body_markdown":"I&#39;m trying to implement a unit test involving a FeignClient call which should return a 404 Not Found.\r\n\r\nAs Feign is trowing a FeignException for 404, what is the proper way to implement this test case?\r\n\r\nI&#39;m trying something like this...\r\n\r\n    when(mockedApiClient.userDataDelete(anyString()))\r\n                    .thenThrow( ... );\r\n\r\nWhat should I throw?","title":"Feign Unit Testing Not found response","body":"<p>I'm trying to implement a unit test involving a FeignClient call which should return a 404 Not Found.</p>\n\n<p>As Feign is trowing a FeignException for 404, what is the proper way to implement this test case?</p>\n\n<p>I'm trying something like this...</p>\n\n<pre><code>when(mockedApiClient.userDataDelete(anyString()))\n                .thenThrow( ... );\n</code></pre>\n\n<p>What should I throw?</p>\n"},{"tags":["java","retrofit2","okhttp"],"owner":{"account_id":23793352,"reputation":3,"user_id":17804555,"display_name":"Michael Blaser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671128657,"creation_date":1671107423,"question_id":74811558,"body_markdown":"When using OKHTTP with retrofit and interceptor, the connection remains. If I make an inquiry to the same URL, all headers remain and are used for the request. But it is necessary for me to exchange the token. But how can I change the header if you have another request to the server? Or does it make sense to stop all OKHTTP connections?\r\n\r\n```\r\n\r\npublic class RetrofitClient {\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl, String token) {\r\n        if (retrofit == null) {\r\n\r\n            String auth = &quot;Bearer &quot; + token;\r\n            String cont = &quot;application/json&quot;;\r\n\r\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\r\n\r\n            okHttpClient.addInterceptor(chain -&gt; {\r\n                Request request = chain.request().newBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, auth)\r\n                        .addHeader(&quot;Content-Type&quot;, cont)\r\n                        .build();\r\n                return chain.proceed(request);\r\n            });\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(okHttpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n```\r\n\r\nHow can I update the token in the header in the existing connection to send a new request with the same URL?\r\n\r\nHow can I end the existing OKHTTP connection to create a new request?\r\n\r\nSolution found: I have the line: if (retrofit == null) {\r\nturned off. And it works!","title":"How can i refresh header from a OkHttp on a connection","body":"<p>When using OKHTTP with retrofit and interceptor, the connection remains. If I make an inquiry to the same URL, all headers remain and are used for the request. But it is necessary for me to exchange the token. But how can I change the header if you have another request to the server? Or does it make sense to stop all OKHTTP connections?</p>\n<pre><code>\npublic class RetrofitClient {\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseUrl, String token) {\n        if (retrofit == null) {\n\n            String auth = &quot;Bearer &quot; + token;\n            String cont = &quot;application/json&quot;;\n\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\n\n            okHttpClient.addInterceptor(chain -&gt; {\n                Request request = chain.request().newBuilder()\n                        .addHeader(&quot;Authorization&quot;, auth)\n                        .addHeader(&quot;Content-Type&quot;, cont)\n                        .build();\n                return chain.proceed(request);\n            });\n\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(okHttpClient.build())\n                    .build();\n        }\n        return retrofit;\n    }\n\n</code></pre>\n<p>How can I update the token in the header in the existing connection to send a new request with the same URL?</p>\n<p>How can I end the existing OKHTTP connection to create a new request?</p>\n<p>Solution found: I have the line: if (retrofit == null) {\nturned off. And it works!</p>\n"},{"tags":["java","variables","import","int","java.util.scanner"],"comments":[{"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"score":0,"creation_date":1415328247,"post_id":26793175,"comment_id":42161497,"body_markdown":"Oh yes btw, you can see that i refer to userChoice often, thats the variable name i want for whatever stores the user import!","body":"Oh yes btw, you can see that i refer to userChoice often, thats the variable name i want for whatever stores the user import!"},{"owner":{"account_id":4959811,"reputation":5014,"user_id":3991344,"accept_rate":92,"display_name":"Pokechu22"},"score":0,"creation_date":1415328279,"post_id":26793175,"comment_id":42161507,"body_markdown":"By import, do you mean entered text?  That&#39;s usually called &quot;input&quot;, &quot;import&quot; is a very different thing?","body":"By import, do you mean entered text?  That&#39;s usually called &quot;input&quot;, &quot;import&quot; is a very different thing?"},{"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"score":0,"creation_date":1415330912,"post_id":26793175,"comment_id":42162086,"body_markdown":"Oh ok ya sorry thats what i meant, im not a very good programmer yet xD. Sometimes my terminoligy is a bit off!","body":"Oh ok ya sorry thats what i meant, im not a very good programmer yet xD. Sometimes my terminoligy is a bit off!"}],"answers":[{"comments":[{"owner":{"account_id":4959811,"reputation":5014,"user_id":3991344,"accept_rate":92,"display_name":"Pokechu22"},"score":0,"creation_date":1415328859,"post_id":26793241,"comment_id":42161644,"body_markdown":"The other part was converting it to an `int` (that&#39;s at least what I can tell from the question so far; it&#39;s kind of hard to read)","body":"The other part was converting it to an <code>int</code> (that&#39;s at least what I can tell from the question so far; it&#39;s kind of hard to read)"},{"owner":{"account_id":2106903,"reputation":580,"user_id":1873047,"accept_rate":92,"display_name":"Jash Jacob"},"score":0,"creation_date":1415329636,"post_id":26793241,"comment_id":42161827,"body_markdown":"@Pokechu22 The string can be converted to integer easily","body":"@Pokechu22 The string can be converted to integer easily"},{"owner":{"account_id":4959811,"reputation":5014,"user_id":3991344,"accept_rate":92,"display_name":"Pokechu22"},"score":0,"creation_date":1415329692,"post_id":26793241,"comment_id":42161838,"body_markdown":"Yea, but it seems like OP doesn&#39;t know how to so it would be best to include that.","body":"Yea, but it seems like OP doesn&#39;t know how to so it would be best to include that."},{"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"score":1,"creation_date":1415330367,"post_id":26793241,"comment_id":42161986,"body_markdown":"Thanks! Good way to convert strings into intergers!","body":"Thanks! Good way to convert strings into intergers!"}],"tags":[],"owner":{"account_id":2106903,"reputation":580,"user_id":1873047,"accept_rate":92,"display_name":"Jash Jacob"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415329890,"creation_date":1415328720,"answer_id":26793241,"question_id":26793175,"body_markdown":"You&#39;ve already imported the Scanner class so you can now create a variable of the type Scanner for taking inputs.\r\n\r\n     Scanner in = new Scanner();\r\n     userChoice = in.nextLine();\r\n\r\n`nextLine()` can be used to input a character or a string from the user.\r\n\r\n\r\nTo convert the string into a integer, You can assign the integer value to the string in the following way. \r\n\r\n       if(userChoice == &quot;Heads&quot;) {\r\n                 userChoice = &quot;&quot; + 0;\r\n              }\r\n          else {\r\n                 userChoice = &quot;&quot; + 1;\r\n          }\r\n\r\n    \r\n","title":"How do you prompt a user for an input in java","body":"<p>You've already imported the Scanner class so you can now create a variable of the type Scanner for taking inputs.</p>\n\n<pre><code> Scanner in = new Scanner();\n userChoice = in.nextLine();\n</code></pre>\n\n<p><code>nextLine()</code> can be used to input a character or a string from the user.</p>\n\n<p>To convert the string into a integer, You can assign the integer value to the string in the following way. </p>\n\n<pre><code>   if(userChoice == \"Heads\") {\n             userChoice = \"\" + 0;\n          }\n      else {\n             userChoice = \"\" + 1;\n      }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"score":0,"creation_date":1415330314,"post_id":26793375,"comment_id":42161980,"body_markdown":"Cool ok thank you! Also thanks for that little tip about the Math.random thing. Sorry about that im used to javascript so ya!","body":"Cool ok thank you! Also thanks for that little tip about the Math.random thing. Sorry about that im used to javascript so ya!"},{"owner":{"account_id":2823293,"reputation":40,"user_id":2426515,"display_name":"Efe Esenwa"},"score":0,"creation_date":1415330589,"post_id":26793375,"comment_id":42162030,"body_markdown":"No problem at all, Ashwin. Good luck on your journey of learning java. A bit tricky/clumsy at first but gets easier Lol.","body":"No problem at all, Ashwin. Good luck on your journey of learning java. A bit tricky/clumsy at first but gets easier Lol."}],"tags":[],"owner":{"account_id":2823293,"reputation":40,"user_id":2426515,"display_name":"Efe Esenwa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415330161,"creation_date":1415329664,"answer_id":26793375,"question_id":26793175,"body_markdown":"Having imported java.util.Scanner, to get input from the user as a String, create a Scanner object that parameterizes System.in and assign userChoice the value of nextLine() invoked by the Scanner object:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    String userChoice = input.nextLine();\r\nA few things about your code. The relational operator, `==`, is used for comparing primitive data - not objects. Use `string1.equals(string2)` to see if two strings are equal.\r\nAlso, `bob = (int) Math.floor(Math.random()*2);` is really  `bob = (int)(Math.random() * 2);`\r\nbecause casting a double as an integer truncates the double to the highest integer less than or equal to it.\r\n\r\n ","title":"How do you prompt a user for an input in java","body":"<p>Having imported java.util.Scanner, to get input from the user as a String, create a Scanner object that parameterizes System.in and assign userChoice the value of nextLine() invoked by the Scanner object:</p>\n\n<pre><code>Scanner input = new Scanner(System.in);\nString userChoice = input.nextLine();\n</code></pre>\n\n<p>A few things about your code. The relational operator, <code>==</code>, is used for comparing primitive data - not objects. Use <code>string1.equals(string2)</code> to see if two strings are equal.\nAlso, <code>bob = (int) Math.floor(Math.random()*2);</code> is really  <code>bob = (int)(Math.random() * 2);</code>\nbecause casting a double as an integer truncates the double to the highest integer less than or equal to it.</p>\n"},{"comments":[{"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"score":0,"creation_date":1415330270,"post_id":26793394,"comment_id":42161972,"body_markdown":"Wow thank you so much! I really appreciate how detailed this explanation is and the thoroughness of the answer! Thanks so much for spending the time to write this! Heleped alot!","body":"Wow thank you so much! I really appreciate how detailed this explanation is and the thoroughness of the answer! Thanks so much for spending the time to write this! Heleped alot!"}],"tags":[],"owner":{"account_id":3621196,"reputation":604,"user_id":3019891,"accept_rate":62,"display_name":"CoderMusgrove"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1415330701,"creation_date":1415329829,"answer_id":26793394,"question_id":26793175,"body_markdown":"Use a scanner, as you said:\r\n\r\n    Scanner in = new Scanner(System.in);\r\n\r\nThen, prompt the user to enter something in:\r\n\r\n    String userChoice = in.nextLine();\r\n\r\nAlso, when you compared strings:\r\n\r\n    if(userChoice == &quot;Heads&quot;) {...\r\n\r\nthat&#39;s bad to do for none-primitive objects. It&#39;s best to only use the `==` to compare values that are `int`s or `enum`s. If you compare a String like this, it won&#39;t work, because it&#39;s checking if the objects are the same. Instead, compare like this:\r\n\r\n    if(userChoice.equals(&quot;Heads&quot;)) {...\r\n\r\nAlso, to convert to an int (NOTE: You can&#39;t convert one type of object to another that aren&#39;t related in any way! You&#39;ll have to create a new object if you&#39;re wanting to do that), do this:\r\n\r\n    int myInt = Integer.parseInt(myString); // NOTE: Can throw NumberFormatException if non-number character is found.\r\n\r\nSo your program should look somewhat like:\r\n\r\n\t\tpackage test;\r\n\t\timport java.util.Scanner;\r\n\r\n\t\tpublic class testclass {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\t//System.out.println(&quot;hi&quot;);\r\n\t\t\t\tScanner in = new Scanner(System.in);\r\n\t\t\t\tint bob;\r\n\t\t\t\tint userChoice;\r\n\t\t\t\tString input;\r\n\t\t\t\tbob = (int) Math.floor(Math.random()*2);\r\n\t\t\t\tSystem.out.println(bob);\r\n\r\n\t\t\t\tSystem.out.println(&quot;Enter heads or tails?&quot;);\r\n\t\t\t\tinput = in.nextLine(); // waits for user to press enter.\r\n\t\t\t\tSystem.out.println(&quot;You entered &quot;+ input);\r\n\r\n\t\t\t\tif (bob == 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Computer flipped heads&quot;); \r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Computer flipped tails&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(input.equals(&quot;Heads&quot;)) {\r\n\t\t\t\t\tuserChoice = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tuserChoice = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (userChoice == bob) {\r\n\t\t\t\t\tSystem.out.println(&quot;You win!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Sorry you lost!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tin.close(); // IMPORTANT to prevent memory leaks\r\n\t\t\t}\r\n\t\t}\r\n    ","title":"How do you prompt a user for an input in java","body":"<p>Use a scanner, as you said:</p>\n\n<pre><code>Scanner in = new Scanner(System.in);\n</code></pre>\n\n<p>Then, prompt the user to enter something in:</p>\n\n<pre><code>String userChoice = in.nextLine();\n</code></pre>\n\n<p>Also, when you compared strings:</p>\n\n<pre><code>if(userChoice == \"Heads\") {...\n</code></pre>\n\n<p>that's bad to do for none-primitive objects. It's best to only use the <code>==</code> to compare values that are <code>int</code>s or <code>enum</code>s. If you compare a String like this, it won't work, because it's checking if the objects are the same. Instead, compare like this:</p>\n\n<pre><code>if(userChoice.equals(\"Heads\")) {...\n</code></pre>\n\n<p>Also, to convert to an int (NOTE: You can't convert one type of object to another that aren't related in any way! You'll have to create a new object if you're wanting to do that), do this:</p>\n\n<pre><code>int myInt = Integer.parseInt(myString); // NOTE: Can throw NumberFormatException if non-number character is found.\n</code></pre>\n\n<p>So your program should look somewhat like:</p>\n\n<pre><code>    package test;\n    import java.util.Scanner;\n\n    public class testclass {\n\n        public static void main(String[] args) {\n            //System.out.println(\"hi\");\n            Scanner in = new Scanner(System.in);\n            int bob;\n            int userChoice;\n            String input;\n            bob = (int) Math.floor(Math.random()*2);\n            System.out.println(bob);\n\n            System.out.println(\"Enter heads or tails?\");\n            input = in.nextLine(); // waits for user to press enter.\n            System.out.println(\"You entered \"+ input);\n\n            if (bob == 0) {\n                System.out.println(\"Computer flipped heads\"); \n            }\n\n            else {\n                System.out.println(\"Computer flipped tails\");\n            }\n\n            if(input.equals(\"Heads\")) {\n                userChoice = 0;\n            }\n            else {\n                userChoice = 1;\n            }\n\n            if (userChoice == bob) {\n                System.out.println(\"You win!\");\n            }\n            else {\n                System.out.println(\"Sorry you lost!\");\n            }\n\n            in.close(); // IMPORTANT to prevent memory leaks\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282250,"reputation":1,"user_id":4217206,"display_name":"pvs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415330099,"creation_date":1415330099,"answer_id":26793435,"question_id":26793175,"body_markdown":"&quot;String&quot; datatype in Java can hold both numbers and strings (as you asked). You can get user input using Scanner utility as below: \r\n\r\n    Scanner input = new Scanner();\r\n    userChoice = input.nextLine(); // if it is a string \r\n    //userChoice = input.nextInt(); // if it&#39;s integer choice \r\n\r\nIf your string is an integer then you can also parse it to get its integer value. For parsing: \r\n\r\n    int value = Integer.parseInt(userChoice);\r\n\r\nAlso for comparing String values you should use &quot;equals&quot; function rather than &quot;==&quot;.\r\n   \r\n\r\n    if(userChoice.equals(&quot;Heads&quot;)){...} //rather than if(userChoice == &quot;Heads&quot;){...} ","title":"How do you prompt a user for an input in java","body":"<p>\"String\" datatype in Java can hold both numbers and strings (as you asked). You can get user input using Scanner utility as below: </p>\n\n<pre><code>Scanner input = new Scanner();\nuserChoice = input.nextLine(); // if it is a string \n//userChoice = input.nextInt(); // if it's integer choice \n</code></pre>\n\n<p>If your string is an integer then you can also parse it to get its integer value. For parsing: </p>\n\n<pre><code>int value = Integer.parseInt(userChoice);\n</code></pre>\n\n<p>Also for comparing String values you should use \"equals\" function rather than \"==\".</p>\n\n<pre><code>if(userChoice.equals(\"Heads\")){...} //rather than if(userChoice == \"Heads\"){...} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766348,"reputation":716,"user_id":3129780,"accept_rate":78,"display_name":"Hanzallah Afgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417490178,"creation_date":1415330133,"answer_id":26793440,"question_id":26793175,"body_markdown":"It might help you to get the ideas. \r\n\r\n    public static void main(String[] args) {\r\n        Random rd = new Random();\r\n        //Enter 1 0R 0\r\n        int bob = rd.nextInt(2);\r\n        String userChoice;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a number&quot;);\r\n        userChoice = sc.nextLine();\r\n        System.out.println(&quot;You entered &quot; + userChoice + &quot; and bob is &quot; + bob);\r\n        int uc = Integer.parseInt(userChoice);\r\n        if (uc == bob) {\r\n            System.out.println(&quot;Hehe&quot;);\r\n        } else {\r\n            System.out.println(&quot;Sorry&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How do you prompt a user for an input in java","body":"<p>It might help you to get the ideas. </p>\n\n<pre><code>public static void main(String[] args) {\n    Random rd = new Random();\n    //Enter 1 0R 0\n    int bob = rd.nextInt(2);\n    String userChoice;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(\"Please enter a number\");\n    userChoice = sc.nextLine();\n    System.out.println(\"You entered \" + userChoice + \" and bob is \" + bob);\n    int uc = Integer.parseInt(userChoice);\n    if (uc == bob) {\n        System.out.println(\"Hehe\");\n    } else {\n        System.out.println(\"Sorry\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5210311,"reputation":37,"user_id":4166968,"accept_rate":50,"display_name":"Bob Mc Muffins."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26793394,"answer_count":5,"score":2,"last_activity_date":1671128469,"creation_date":1415328187,"question_id":26793175,"body_markdown":"So I just started learning Java, its literally like my 1st day and I wanted to try to make a coinflip game. I already know a decent amount of Javascript and so i was trying to apply that knowledge to java. So everything has been working so far except one thing: Prompting a user for a choice. So read online that i have to import a scanner so i did that as you can see from my code. I also tried some code where you can have the user import a string but you can see a bit later in my program i change the variable userChoice into a number. So basically i just need help with this. If there is some way to have a variable type that can store both numbers or strings that would be best. But im tottaly open to other ways of doing this! Thanks in advanced! Here is the code:\r\n\r\n       \r\n    \r\n    package test;\r\n    import java.util.Scanner;\r\n    public class testclass {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(&quot;hi&quot;);\r\n    \t\tint bob;\r\n    \t\tbob = (int) Math.floor(Math.random()*2);\r\n    \t\tSystem.out.println(bob);\r\n    \t\t\r\n    \t\t\r\n    \t      System.out.println(&quot;Enter heads or tails?&quot;);\r\n    \t      System.out.println(&quot;You entered &quot;+ userChoice);\r\n    \t      \r\n    \t      if (bob == 0) {\r\n    \t    \tSystem.out.println(&quot;Computer flipped heads&quot;); \r\n    \t      }\r\n    \t      \r\n    \t      else {\r\n    \t    \t  System.out.println(&quot;Computer flipped tails&quot;);\r\n    \t      }\r\n    \t      \r\n    \t      \r\n    \t      \r\n    \t      if(userChoice == &quot;Heads&quot;) {\r\n    \t    \t  userChoice = 0;\r\n    \t    \t  \r\n    \t      }\r\n    \t      \r\n    \t      else {\r\n    \t    \t  userChoice = 1;\r\n    \t      }\r\n    \t      \r\n    \t      \r\n    \t      \r\n    \t      if (userChoice == bob) {\r\n    \t    \t  System.out.println(&quot;You win!&quot;);\r\n    \t      }\r\n    \t      \r\n    \t      \r\n    \t      else {\r\n    \t    \t  System.out.println(&quot;Sorry you lost!&quot;)\r\n    \t    \t  \r\n    \t      }\r\n    \t      \r\n    \t      \r\n    \t      }\r\n    \t \r\n    \t}\r\n\r\n","title":"How do you prompt a user for an input in java","body":"<p>So I just started learning Java, its literally like my 1st day and I wanted to try to make a coinflip game. I already know a decent amount of Javascript and so i was trying to apply that knowledge to java. So everything has been working so far except one thing: Prompting a user for a choice. So read online that i have to import a scanner so i did that as you can see from my code. I also tried some code where you can have the user import a string but you can see a bit later in my program i change the variable userChoice into a number. So basically i just need help with this. If there is some way to have a variable type that can store both numbers or strings that would be best. But im tottaly open to other ways of doing this! Thanks in advanced! Here is the code:</p>\n\n<pre><code>package test;\nimport java.util.Scanner;\npublic class testclass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(\"hi\");\n        int bob;\n        bob = (int) Math.floor(Math.random()*2);\n        System.out.println(bob);\n\n\n          System.out.println(\"Enter heads or tails?\");\n          System.out.println(\"You entered \"+ userChoice);\n\n          if (bob == 0) {\n            System.out.println(\"Computer flipped heads\"); \n          }\n\n          else {\n              System.out.println(\"Computer flipped tails\");\n          }\n\n\n\n          if(userChoice == \"Heads\") {\n              userChoice = 0;\n\n          }\n\n          else {\n              userChoice = 1;\n          }\n\n\n\n          if (userChoice == bob) {\n              System.out.println(\"You win!\");\n          }\n\n\n          else {\n              System.out.println(\"Sorry you lost!\")\n\n          }\n\n\n          }\n\n    }\n</code></pre>\n"},{"tags":["java","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671128274,"creation_date":1671128274,"answer_id":74815895,"question_id":74806650,"body_markdown":"You need to manually publish a version for SnapStart to work, you can&#39;t use SnapStart on `$LATEST`.  From the docs (https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html#snapstart-runtimes):\r\n\r\n&gt; You can use SnapStart only on published function versions and aliases\r\n&gt; that point to versions. You cant use SnapStart on a functions\r\n&gt; unpublished version ($LATEST).","title":"How do you attach CRaC runtime hooks to an AWS Lambda with SnapStart?","body":"<p>You need to manually publish a version for SnapStart to work, you can't use SnapStart on <code>$LATEST</code>.  From the docs (<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html#snapstart-runtimes\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html#snapstart-runtimes</a>):</p>\n<blockquote>\n<p>You can use SnapStart only on published function versions and aliases\nthat point to versions. You cant use SnapStart on a functions\nunpublished version ($LATEST).</p>\n</blockquote>\n"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74815895,"answer_count":1,"score":2,"last_activity_date":1671128274,"creation_date":1671076369,"question_id":74806650,"body_markdown":"I tried to follow [the instructions from the online docs][1] exactly, and I even included the `System.identityHashCode(this)` on each line to make sure it was the same object and wasn&#39;t being garbage collected:\r\n```\r\npublic class MyLambdaHandler extends AppConfigHelper implements RequestStreamHandler, Resource {\r\n    public MyLambdaHandler() {\r\n        System.out.println(&quot;Constructor called: &quot; + System.identityHashCode(this));\r\n        Core.getGlobalContext().register(this);\r\n    }\r\n    @Override\r\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        System.out.println(&quot;Before checkpoint: &quot; + System.identityHashCode(this));\r\n    }\r\n    @Override\r\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        System.out.println(&quot;After restore: &quot; + System.identityHashCode(this));\r\n    }\r\n    @Override\r\n    public void handleRequest(final InputStream input, final OutputStream output, final Context context) throws IOException {\r\n        System.out.println(&quot;Request handler called: &quot; + System.identityHashCode(this));\r\n    }\r\n}\r\n```\r\n\r\nBut on the first invocation, you can see that neither the `beforeCheckpoint()` or `afterRestore()` are getting called:\r\n```\r\nConstructor called: 91912419\r\nSTART RequestId: b56b282f-4712-4d18-b300-f6e031c9468a Version: $LATEST\r\nRequest handler called: 91912419\r\nEND RequestId: b56b282f-4712-4d18-b300-f6e031c9468a\r\nREPORT RequestId: b56b282f-4712-4d18-b300-f6e031c9468a\tDuration: 173.24 ms\tBilled Duration: 174 ms\tMemory Size: 1024 MB\tMax Memory Used: 196 MB\tInit Duration: 2084.86 ms\t\r\n```\r\n\r\nOn the second invocation, you can see the same object `91912419` is being reused, but again neither of the runtime hooks are being called:\r\n```\r\nSTART RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6 Version: $LATEST\r\nRequest handler called: 91912419\r\nEND RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6\r\nREPORT RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6\tDuration: 1.58 ms\tBilled Duration: 2 ms\tMemory Size: 1024 MB\tMax Memory Used: 195 MB\t\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart-runtime-hooks.html","title":"How do you attach CRaC runtime hooks to an AWS Lambda with SnapStart?","body":"<p>I tried to follow <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart-runtime-hooks.html\" rel=\"nofollow noreferrer\">the instructions from the online docs</a> exactly, and I even included the <code>System.identityHashCode(this)</code> on each line to make sure it was the same object and wasn't being garbage collected:</p>\n<pre><code>public class MyLambdaHandler extends AppConfigHelper implements RequestStreamHandler, Resource {\n    public MyLambdaHandler() {\n        System.out.println(&quot;Constructor called: &quot; + System.identityHashCode(this));\n        Core.getGlobalContext().register(this);\n    }\n    @Override\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        System.out.println(&quot;Before checkpoint: &quot; + System.identityHashCode(this));\n    }\n    @Override\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        System.out.println(&quot;After restore: &quot; + System.identityHashCode(this));\n    }\n    @Override\n    public void handleRequest(final InputStream input, final OutputStream output, final Context context) throws IOException {\n        System.out.println(&quot;Request handler called: &quot; + System.identityHashCode(this));\n    }\n}\n</code></pre>\n<p>But on the first invocation, you can see that neither the <code>beforeCheckpoint()</code> or <code>afterRestore()</code> are getting called:</p>\n<pre><code>Constructor called: 91912419\nSTART RequestId: b56b282f-4712-4d18-b300-f6e031c9468a Version: $LATEST\nRequest handler called: 91912419\nEND RequestId: b56b282f-4712-4d18-b300-f6e031c9468a\nREPORT RequestId: b56b282f-4712-4d18-b300-f6e031c9468a  Duration: 173.24 ms Billed Duration: 174 ms Memory Size: 1024 MB    Max Memory Used: 196 MB Init Duration: 2084.86 ms   \n</code></pre>\n<p>On the second invocation, you can see the same object <code>91912419</code> is being reused, but again neither of the runtime hooks are being called:</p>\n<pre><code>START RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6 Version: $LATEST\nRequest handler called: 91912419\nEND RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6\nREPORT RequestId: b1ca407e-725c-4c17-93aa-46251f1c65a6  Duration: 1.58 ms   Billed Duration: 2 ms   Memory Size: 1024 MB    Max Memory Used: 195 MB \n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1482272462,"post_id":41252079,"comment_id":69704958,"body_markdown":"`Integer::parseInt` will fail unless you trim out the prefix first.","body":"<code>Integer::parseInt</code> will fail unless you trim out the prefix first."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1482273870,"post_id":41252357,"comment_id":69705491,"body_markdown":"Why not use `collect(toSet())`? Alternatively, you could collect to a list and compare index to value (`.filter(i -&gt; taken.get(i) &gt; i)`).","body":"Why not use <code>collect(toSet())</code>? Alternatively, you could collect to a list and compare index to value (<code>.filter(i -&gt; taken.get(i) &gt; i)</code>)."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1482273987,"post_id":41252357,"comment_id":69705516,"body_markdown":"Thanks @shmosel, collect to a set is better, updated.","body":"Thanks @shmosel, collect to a set is better, updated."}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482273964,"creation_date":1482273612,"answer_id":41252357,"question_id":41252079,"body_markdown":"You could:\r\n\r\n1. Extract the numeric part from each name\r\n2. Store the used indexes in a set\r\n3. Iterate over the range from 0 until the size of the list\r\n4. The first index not in the used set is available\r\n\r\nFor example like this:\r\n\r\n    List&lt;String&gt; names = Arrays.asList(&quot;New2&quot;, &quot;New4&quot;, &quot;New0&quot;, &quot;New1&quot;);\r\n    Set&lt;Integer&gt; taken = names.stream()\r\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;))\r\n        .map(Integer::parseInt)\r\n        .collect(Collectors.toSet());\r\n    int first = IntStream.range(0, names.size())\r\n        .filter(index -&gt; !taken.contains(index))\r\n        .findFirst()\r\n        .orElse(names.size());\r\n\r\n\r\n\r\n","title":"Finding 1st free &quot;index&quot; using java streams","body":"<p>You could:</p>\n\n<ol>\n<li>Extract the numeric part from each name</li>\n<li>Store the used indexes in a set</li>\n<li>Iterate over the range from 0 until the size of the list</li>\n<li>The first index not in the used set is available</li>\n</ol>\n\n<p>For example like this:</p>\n\n<pre><code>List&lt;String&gt; names = Arrays.asList(\"New2\", \"New4\", \"New0\", \"New1\");\nSet&lt;Integer&gt; taken = names.stream()\n    .map(s -&gt; s.replaceAll(\"\\\\D+\", \"\"))\n    .map(Integer::parseInt)\n    .collect(Collectors.toSet());\nint first = IntStream.range(0, names.size())\n    .filter(index -&gt; !taken.contains(index))\n    .findFirst()\n    .orElse(names.size());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1482317316,"post_id":41260848,"comment_id":69722331,"body_markdown":"That is indeed very cool! +1 (and the checkmark should go to you)","body":"That is indeed very cool! +1 (and the checkmark should go to you)"},{"owner":{"account_id":3987383,"reputation":978,"user_id":3287551,"accept_rate":38,"display_name":"Ernio"},"score":0,"creation_date":1482327879,"post_id":41260848,"comment_id":69729105,"body_markdown":"I love one-liners! Thanks!","body":"I love one-liners! Thanks!"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1671128267,"creation_date":1482317009,"answer_id":41260848,"question_id":41252079,"body_markdown":"The most efficient way is to collect into a `BitSet`:\r\n\r\n    int first = names.stream()\r\n        .filter(name -&gt; name.startsWith(&quot;New&quot;))\r\n        .mapToInt(s -&gt; Integer.parseInt(s.substring(3)))\r\n        .collect(BitSet::new, BitSet::set, BitSet::or).nextClearBit(0);\r\nNote that the bits are intrinsically sorted and distinct. Also, there will always be a free index. If there is no gap between `0` and the maximum number, the next free will be maximum+1, if there are no matching elements at all, the next free will be zero.\r\n\r\n---\r\n\r\nStarting with Java&#160;9, we can do even more efficient with\r\n\r\n```java\r\nint first = names.stream()\r\n    .filter(name -&gt; name.startsWith(&quot;New&quot;))\r\n    .mapToInt(s -&gt; Integer.parseInt(s, 3, s.length(), 10))\r\n    .collect(BitSet::new, BitSet::set, BitSet::or).nextClearBit(0);\r\n```\r\nwhich parses the relevant part of the string directly, saving the `substring` operation.\r\n","title":"Finding 1st free &quot;index&quot; using java streams","body":"<p>The most efficient way is to collect into a <code>BitSet</code>:</p>\n<pre><code>int first = names.stream()\n    .filter(name -&gt; name.startsWith(&quot;New&quot;))\n    .mapToInt(s -&gt; Integer.parseInt(s.substring(3)))\n    .collect(BitSet::new, BitSet::set, BitSet::or).nextClearBit(0);\n</code></pre>\n<p>Note that the bits are intrinsically sorted and distinct. Also, there will always be a free index. If there is no gap between <code>0</code> and the maximum number, the next free will be maximum+1, if there are no matching elements at all, the next free will be zero.</p>\n<hr />\n<p>Starting with Java9, we can do even more efficient with</p>\n<pre class=\"lang-java prettyprint-override\"><code>int first = names.stream()\n    .filter(name -&gt; name.startsWith(&quot;New&quot;))\n    .mapToInt(s -&gt; Integer.parseInt(s, 3, s.length(), 10))\n    .collect(BitSet::new, BitSet::set, BitSet::or).nextClearBit(0);\n</code></pre>\n<p>which parses the relevant part of the string directly, saving the <code>substring</code> operation.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482438904,"creation_date":1482438904,"answer_id":41291272,"question_id":41252079,"body_markdown":"For the fun of it, if you *know* you have up to 63 entries...\r\n\r\n\r\n        private static int firstMissing(List&lt;Long&gt; input) {\r\n            if (!input.contains(0L)) {\r\n               return 0;\r\n            }\r\n\r\n            long firstMissing = Long.lowestOneBit(~input.stream().reduce(1L, (i, j) -&gt; i | 1L &lt;&lt; j));\r\n\r\n            int result = 0;\r\n            while (firstMissing != 0) {\r\n               ++result;\r\n               firstMissing = firstMissing &gt;&gt; 1;\r\n            }\r\n\r\n            return result - 1;\r\n        }\r\n\r\nThat&#39;s what @Holger did (+1 from me), but without the extra penalty of using BitSet.","title":"Finding 1st free &quot;index&quot; using java streams","body":"<p>For the fun of it, if you <em>know</em> you have up to 63 entries...</p>\n\n<pre><code>    private static int firstMissing(List&lt;Long&gt; input) {\n        if (!input.contains(0L)) {\n           return 0;\n        }\n\n        long firstMissing = Long.lowestOneBit(~input.stream().reduce(1L, (i, j) -&gt; i | 1L &lt;&lt; j));\n\n        int result = 0;\n        while (firstMissing != 0) {\n           ++result;\n           firstMissing = firstMissing &gt;&gt; 1;\n        }\n\n        return result - 1;\n    }\n</code></pre>\n\n<p>That's what @Holger did (+1 from me), but without the extra penalty of using BitSet.</p>\n"}],"owner":{"account_id":3987383,"reputation":978,"user_id":3287551,"accept_rate":38,"display_name":"Ernio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41260848,"answer_count":3,"score":5,"last_activity_date":1671128267,"creation_date":1482271988,"question_id":41252079,"body_markdown":"I need to find 1st free index in my file system having stream of names as source.\r\n\r\nConsider list: [&quot;New2&quot;, &quot;New4&quot;, &quot;New0&quot;, &quot;New1&quot;, ...]\r\n1st unused index of those will be 3.\r\n\r\n    int index = 0;\r\n    try (IntStream indexes = names.stream()\r\n    \t.filter(name -&gt; name.startsWith(&quot;New&quot;))\r\n    \t.mapToInt(Integer::parseInt)\r\n    \t.distinct()\r\n    \t.sorted())\r\n    {\r\n    \t// I was thinking about making possible indexes stream, removing existig ones from try-with-resource block, and getting .min().\r\n    \tIntStream.rangeClosed(0, 10)... // Idk what to do.\r\n    }\r\n\r\nI am asking someone to help me find right syntax for my idea or propose better solution.","title":"Finding 1st free &quot;index&quot; using java streams","body":"<p>I need to find 1st free index in my file system having stream of names as source.</p>\n\n<p>Consider list: [\"New2\", \"New4\", \"New0\", \"New1\", ...]\n1st unused index of those will be 3.</p>\n\n<pre><code>int index = 0;\ntry (IntStream indexes = names.stream()\n    .filter(name -&gt; name.startsWith(\"New\"))\n    .mapToInt(Integer::parseInt)\n    .distinct()\n    .sorted())\n{\n    // I was thinking about making possible indexes stream, removing existig ones from try-with-resource block, and getting .min().\n    IntStream.rangeClosed(0, 10)... // Idk what to do.\n}\n</code></pre>\n\n<p>I am asking someone to help me find right syntax for my idea or propose better solution.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":27222751,"reputation":1,"user_id":20751713,"display_name":"Boy Pika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671127939,"creation_date":1670797170,"question_id":74765001,"body_markdown":"I&#39;m trying to override the default Minecraft armor by replacing it with custom armor but so far it&#39;s told me to use .set()\r\n\r\nI&#39;ve tried to set my mod id to Minecraft and got told to use .set() Code: \r\n\r\n```\r\nLEATHER_HELMET = Registry.register(Registry.ITEM, new ResourceLocation(Armor.MODID, &quot;leather_helmet&quot;), new Leather.Helmet());\r\n```\r\n\r\nThen I tried Registry.set() which wouldn&#39;t even compile and I then looked it up on ChatGPT as a last resort and it told me to use \r\n\r\n```\r\nLEATHER_HELMET = Item.REGISTRY.set(new ResourceLocation(&quot;minecraft:leather_helmet&quot;), 1152, new ItemStack(Test2ModItems.LEATHER_HELMET));\r\n```\r\n\r\nbut my IDE told me that it &quot;cannot resolve symbol &#39;REGISTRY&#39;&quot;","title":"How to override default Minecraft ids","body":"<p>I'm trying to override the default Minecraft armor by replacing it with custom armor but so far it's told me to use .set()</p>\n<p>I've tried to set my mod id to Minecraft and got told to use .set() Code:</p>\n<pre><code>LEATHER_HELMET = Registry.register(Registry.ITEM, new ResourceLocation(Armor.MODID, &quot;leather_helmet&quot;), new Leather.Helmet());\n</code></pre>\n<p>Then I tried Registry.set() which wouldn't even compile and I then looked it up on ChatGPT as a last resort and it told me to use</p>\n<pre><code>LEATHER_HELMET = Item.REGISTRY.set(new ResourceLocation(&quot;minecraft:leather_helmet&quot;), 1152, new ItemStack(Test2ModItems.LEATHER_HELMET));\n</code></pre>\n<p>but my IDE told me that it &quot;cannot resolve symbol 'REGISTRY'&quot;</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2316153,"reputation":223,"user_id":2033178,"display_name":"Darkman"},"score":0,"creation_date":1671128249,"post_id":74815821,"comment_id":132037129,"body_markdown":"I believe  @Retryable(maxAttempts = 8) is supposed to be the exception value to retry...\ni.e.\n`@Retryable(value = SQLException.class)`\nand if that exception occurs it will retry.\n\nhttps://www.baeldung.com/spring-retry","body":"I believe  @Retryable(maxAttempts = 8) is supposed to be the exception value to retry... i.e. <code>@Retryable(value = SQLException.class)</code> and if that exception occurs it will retry.  <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">baeldung.com/spring-retry</a>"}],"owner":{"account_id":3085397,"reputation":2842,"user_id":2612651,"accept_rate":78,"display_name":"nerdlyist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671128095,"answer_count":0,"score":0,"last_activity_date":1671127788,"creation_date":1671127788,"question_id":74815821,"body_markdown":"I have a method on a service annotated with `@Retryable`. If I call that method direct in a Controller the retry logic works. When I call that method indirectly through a wrapper method the retry logic does not get triggered.\r\n\r\n```\r\npublic class SomeService{\r\n  // When calling this there is no retry\r\n  public void wrapper(){\r\n    isOn();\r\n  }\r\n  \r\n  // Calling this direct the retry works\r\n  @Retryable(maxAttempts = 8)\r\n  public boolean isOn() {\r\n    System.out.println(&quot;Testing&quot;);\r\n    throw new RuntimeException(&quot;Failing&quot;);\r\n  }\r\n}\r\n```\r\n\r\nI want to call the method with retry logic because there is a rather unstable endpoint that needs to be connected to. After that any errors would be valid and no retry is needed.\r\n\r\nIs there a way to make sure the nested retry logic runs without having to retry the entire wrapping method?\r\n\r\n","title":"Spring Retryable annotation indirect call not retrying","body":"<p>I have a method on a service annotated with <code>@Retryable</code>. If I call that method direct in a Controller the retry logic works. When I call that method indirectly through a wrapper method the retry logic does not get triggered.</p>\n<pre><code>public class SomeService{\n  // When calling this there is no retry\n  public void wrapper(){\n    isOn();\n  }\n  \n  // Calling this direct the retry works\n  @Retryable(maxAttempts = 8)\n  public boolean isOn() {\n    System.out.println(&quot;Testing&quot;);\n    throw new RuntimeException(&quot;Failing&quot;);\n  }\n}\n</code></pre>\n<p>I want to call the method with retry logic because there is a rather unstable endpoint that needs to be connected to. After that any errors would be valid and no retry is needed.</p>\n<p>Is there a way to make sure the nested retry logic runs without having to retry the entire wrapping method?</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671127324,"creation_date":1671127324,"answer_id":74815749,"question_id":74815671,"body_markdown":"You must use SpringDoc 2\r\n\r\nhttps://springdoc.org/v2/\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot 3.0.0 and Springdoc incompatible?","body":"<p>You must use SpringDoc 2</p>\n<p><a href=\"https://springdoc.org/v2/\" rel=\"noreferrer\">https://springdoc.org/v2/</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671127723,"creation_date":1671127351,"answer_id":74815754,"question_id":74815671,"body_markdown":"Only springdoc 2.0.0 is compatible with Spring Boot 3.0.0. Check the release here --&gt; https://github.com/springdoc/springdoc-openapi/releases/tag/v2.0.0.","title":"Spring Boot 3.0.0 and Springdoc incompatible?","body":"<p>Only springdoc 2.0.0 is compatible with Spring Boot 3.0.0. Check the release here --&gt; <a href=\"https://github.com/springdoc/springdoc-openapi/releases/tag/v2.0.0\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/releases/tag/v2.0.0</a>.</p>\n"}],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3588,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74815749,"answer_count":2,"score":4,"last_activity_date":1671127723,"creation_date":1671126816,"question_id":74815671,"body_markdown":"I have a barebones SpringBoot project, with the latest Springdoc dependency (as of this writing) in the pom file:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.13&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nIn addition I only have the web starter dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIt works fine with Spring Boot 2.7.5. On local machine, I can go to `http://localhost:8080/swagger-ui.html` and `http://localhost:8080/v3/api-docs` and be redirected to the OpenAPI resources. However, once I change Spring Boot version to 3.0.0 and restart the application, I only get `404 NOT FOUND` on the above two resources. \r\n\r\nHas anyone found a way to make this work with Spring Boot 3.0.0?\r\n","title":"Spring Boot 3.0.0 and Springdoc incompatible?","body":"<p>I have a barebones SpringBoot project, with the latest Springdoc dependency (as of this writing) in the pom file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In addition I only have the web starter dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It works fine with Spring Boot 2.7.5. On local machine, I can go to <code>http://localhost:8080/swagger-ui.html</code> and <code>http://localhost:8080/v3/api-docs</code> and be redirected to the OpenAPI resources. However, once I change Spring Boot version to 3.0.0 and restart the application, I only get <code>404 NOT FOUND</code> on the above two resources.</p>\n<p>Has anyone found a way to make this work with Spring Boot 3.0.0?</p>\n"},{"tags":["java","selenium","appium","appium-android","appium-ios"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1671123157,"post_id":74814537,"comment_id":132035568,"body_markdown":"Your problem is in intialization of `StepsDefinitions.LoginSteps`. So it is worth showing the code.","body":"Your problem is in intialization of <code>StepsDefinitions.LoginSteps</code>. So it is worth showing the code."},{"owner":{"account_id":27263669,"reputation":15,"user_id":20786104,"display_name":"CodingChecho"},"score":0,"creation_date":1671124610,"post_id":74814537,"comment_id":132036040,"body_markdown":"@AlexeyR. I just added it","body":"@AlexeyR. I just added it"}],"answers":[{"comments":[{"owner":{"account_id":27263669,"reputation":15,"user_id":20786104,"display_name":"CodingChecho"},"score":0,"creation_date":1671137935,"post_id":74815733,"comment_id":132040216,"body_markdown":"I actually tried BOTH options and both of them worked, so THANKS!","body":"I actually tried BOTH options and both of them worked, so THANKS!"}],"tags":[],"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671127585,"creation_date":1671127201,"answer_id":74815733,"question_id":74814537,"body_markdown":"Page Factory is no more working for Appium with Java JDK 16 and above. Refer this defect filed by me for more detail on this issue: https://github.com/appium/java-client/issues/1619\r\n\r\nAs a workaround, \r\n\r\nYou can either downgrade Java JDK to 15 or below (if using Eclipse, you may need to navigate to Project Settings and change the default JRE to your Java version)\r\n\r\nOR \r\n\r\nIf downgrading Java is not an option, then add below snippet in the pom.xml (you may want to use latest version of maven-surefire-plugin).\r\n\r\n      &lt;properties&gt;\r\n         &lt;jvm.options&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvm.options&gt;\r\n        &lt;/properties&gt;\r\n    \r\n      &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nFor Gradle based project, you may want to downgrade your Java JDK to 15 or below and check if that solves the problem. I&#39;m not sure if above workaround would work for Gradle too.","title":"How to fix PageFactory.initElements giving Unable to make protected final java.lang.Class problem?","body":"<p>Page Factory is no more working for Appium with Java JDK 16 and above. Refer this defect filed by me for more detail on this issue: <a href=\"https://github.com/appium/java-client/issues/1619\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client/issues/1619</a></p>\n<p>As a workaround,</p>\n<p>You can either downgrade Java JDK to 15 or below (if using Eclipse, you may need to navigate to Project Settings and change the default JRE to your Java version)</p>\n<p>OR</p>\n<p>If downgrading Java is not an option, then add below snippet in the pom.xml (you may want to use latest version of maven-surefire-plugin).</p>\n<pre><code>  &lt;properties&gt;\n     &lt;jvm.options&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvm.options&gt;\n    &lt;/properties&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>For Gradle based project, you may want to downgrade your Java JDK to 15 or below and check if that solves the problem. I'm not sure if above workaround would work for Gradle too.</p>\n"}],"owner":{"account_id":27263669,"reputation":15,"user_id":20786104,"display_name":"CodingChecho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815733,"answer_count":1,"score":0,"last_activity_date":1671127585,"creation_date":1671120932,"question_id":74814537,"body_markdown":"I am working in my first professional project building an Appium automation from scratch. To initialize my Driver I am using a Listener that \r\n\r\n\r\n```\r\npublic class TestListener implements ITestListener{\r\n\r\n    @Override\r\n    public void onTestStart(ITestResult result) {\r\n        ITestListener.super.onTestStart(result);\r\n        String platform = result.getMethod().getXmlTest().getLocalParameters().get(&quot;platform&quot;);\r\n\r\n        if(platform.contains(&quot;android&quot;))\r\n        {\r\n            try {\r\n                AppFactory.Android_LaunchAPP();\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }else\r\n        if(platform.contains(&quot;ios&quot;)){\r\n            try {\r\n                AppFactory.IOS_LaunchAPP();\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nMy Factory class:\r\n\r\n\r\n```\r\npublic class AppFactory {\r\n\r\n    public static DesiredCapabilities capabilities;\r\n    public static AppiumDriver driver;\r\n\r\n    public static void Android_LaunchAPP() throws MalformedURLException {\r\n        capabilities  = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;deviceName&quot;,&quot;Galaxy S10+&quot;);\r\n        capabilities.setCapability(&quot;udid&quot;,&quot;xxxxxxx&quot;);\r\n        capabilities.setCapability(&quot;platformName&quot;,&quot;Android&quot;);\r\n        capabilities.setCapability(&quot;platformVersion&quot;,&quot;12&quot;);\r\n        capabilities.setCapability(&quot;appPackage&quot;,&quot;xxxxxxxx&quot;);\r\n        capabilities.setCapability(&quot;appActivity&quot;,&quot;xxxxxxx&quot;);\r\n\r\n        URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\r\n        driver = new AppiumDriver(url, capabilities);\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\r\n\r\n        AppDriver.setDriver(driver);\r\n    }\r\n\r\n    public static void IOS_LaunchAPP() throws MalformedURLException{\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;deviceName&quot;,&quot;Galaxy S10+&quot;);\r\n        capabilities.setCapability(&quot;udid&quot;,&quot;R58N91SRTCB&quot;);\r\n        capabilities.setCapability(&quot;platformName&quot;,&quot;Android&quot;);\r\n        capabilities.setCapability(&quot;platformVersion&quot;,&quot;12&quot;);\r\n        capabilities.setCapability(&quot;appPackage&quot;,&quot;vendemas.niubiz.com.pe.qa&quot;);\r\n        capabilities.setCapability(&quot;appActivity&quot;,&quot;niubiz.lima.mobile.android.core.MainActivity&quot;);\r\n\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        AppDriver.setDriver(driver);\r\n    }\r\n\r\n    public void closeApp(){\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nAnd My driver is a:\r\n\r\n\r\n```\r\npublic class AppDriver {\r\n\r\n    private static final ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();\r\n\r\n    public static WebDriver getDriver(){\r\n        return driver.get();\r\n    }\r\n\r\n    static void setDriver(WebDriver Driver){\r\n        driver.set(Driver);\r\n    }\r\n}\r\n```\r\n\r\n\r\nhere is steps def\r\n\r\n```\r\npublic class LoginSteps {\r\n    private final WelcomeScreen welcomeScreen = new WelcomeScreen();\r\n\r\n    @Given(&quot;Estoy en la pantalla de Inicio&quot;)\r\n    public void estoyEnLaPantallaDeInicio() {\r\n    }\r\n\r\n    @When(&quot;Selecciono Ya estoy registrado&quot;)\r\n    public void seleccionoYaEstoyRegistrado() {\r\n        welcomeScreen.tapYaEstoyRegistrado();\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI Run my code from a TestNG.XML file, and I am using cucumber fro gherkin language\r\nThe problem is that when I try to initiliaze de PageFactory.initElements. in the constructor of a page for the first step it returns the following:\r\n\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nio.cucumber.core.exception.CucumberException: Failed to instantiate class StepsDefinitions.LoginSteps\r\n\r\n\tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\r\n\tat io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:85)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:57)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$1(TestNGCucumberRunner.java:132)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:129)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:129)\r\n\tat io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:129)\r\n\tat io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:35)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n\t... 42 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:53)\r\n\tat io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:33)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.proxyForAnElement(AppiumFieldDecorator.java:209)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.access$000(AppiumFieldDecorator.java:61)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator$1.proxyForLocator(AppiumFieldDecorator.java:100)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:63)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:147)\r\n\tat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\r\n\tat Screens.WelcomeScreen.&lt;init&gt;(WelcomeScreen.java:14)\r\n\tat StepsDefinitions.LoginSteps.&lt;init&gt;(LoginSteps.java:14)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\t... 45 more\r\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1a407d53\r\n\tat net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\r\n\tat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\tat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\r\n\tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n\tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n\t... 57 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1a407d53\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\r\n\tat net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n\tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n\tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\r\n\t... 69 more\r\n```\r\nHere is the page that tries to initialize the Elements:\r\n\r\n\r\n```\r\npublic class WelcomeScreen extends Base {\r\n\r\n    public WelcomeScreen(){\r\n        PageFactory.initElements(new AppiumFieldDecorator(AppDriver.getDriver()), this);\r\n    }\r\n\r\n    @AndroidFindBy(xpath = &quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.compose.ui.platform.ComposeView/android.view.View/android.view.View[2]/android.widget.Button&quot;)\r\n    @iOSXCUITFindBy()\r\n    private WebElement yaEstoyRegistrado_btn;\r\n\r\n    public void tapYaEstoyRegistrado(){\r\n        tapWebElement(yaEstoyRegistrado_btn);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI have installed Gradle, tried to initialize the driver on @Before, @BeforeMethod, @BeforeClass, and nothing works\r\nI am using Java 19, does anyone know how to solve this?","title":"How to fix PageFactory.initElements giving Unable to make protected final java.lang.Class problem?","body":"<p>I am working in my first professional project building an Appium automation from scratch. To initialize my Driver I am using a Listener that</p>\n<pre><code>public class TestListener implements ITestListener{\n\n    @Override\n    public void onTestStart(ITestResult result) {\n        ITestListener.super.onTestStart(result);\n        String platform = result.getMethod().getXmlTest().getLocalParameters().get(&quot;platform&quot;);\n\n        if(platform.contains(&quot;android&quot;))\n        {\n            try {\n                AppFactory.Android_LaunchAPP();\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n        }else\n        if(platform.contains(&quot;ios&quot;)){\n            try {\n                AppFactory.IOS_LaunchAPP();\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n</code></pre>\n<p>My Factory class:</p>\n<pre><code>public class AppFactory {\n\n    public static DesiredCapabilities capabilities;\n    public static AppiumDriver driver;\n\n    public static void Android_LaunchAPP() throws MalformedURLException {\n        capabilities  = new DesiredCapabilities();\n        capabilities.setCapability(&quot;deviceName&quot;,&quot;Galaxy S10+&quot;);\n        capabilities.setCapability(&quot;udid&quot;,&quot;xxxxxxx&quot;);\n        capabilities.setCapability(&quot;platformName&quot;,&quot;Android&quot;);\n        capabilities.setCapability(&quot;platformVersion&quot;,&quot;12&quot;);\n        capabilities.setCapability(&quot;appPackage&quot;,&quot;xxxxxxxx&quot;);\n        capabilities.setCapability(&quot;appActivity&quot;,&quot;xxxxxxx&quot;);\n\n        URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n\n        driver = new AppiumDriver(url, capabilities);\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n\n        AppDriver.setDriver(driver);\n    }\n\n    public static void IOS_LaunchAPP() throws MalformedURLException{\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;deviceName&quot;,&quot;Galaxy S10+&quot;);\n        capabilities.setCapability(&quot;udid&quot;,&quot;R58N91SRTCB&quot;);\n        capabilities.setCapability(&quot;platformName&quot;,&quot;Android&quot;);\n        capabilities.setCapability(&quot;platformVersion&quot;,&quot;12&quot;);\n        capabilities.setCapability(&quot;appPackage&quot;,&quot;vendemas.niubiz.com.pe.qa&quot;);\n        capabilities.setCapability(&quot;appActivity&quot;,&quot;niubiz.lima.mobile.android.core.MainActivity&quot;);\n\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        AppDriver.setDriver(driver);\n    }\n\n    public void closeApp(){\n        driver.quit();\n    }\n}\n</code></pre>\n<p>And My driver is a:</p>\n<pre><code>public class AppDriver {\n\n    private static final ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();\n\n    public static WebDriver getDriver(){\n        return driver.get();\n    }\n\n    static void setDriver(WebDriver Driver){\n        driver.set(Driver);\n    }\n}\n</code></pre>\n<p>here is steps def</p>\n<pre><code>public class LoginSteps {\n    private final WelcomeScreen welcomeScreen = new WelcomeScreen();\n\n    @Given(&quot;Estoy en la pantalla de Inicio&quot;)\n    public void estoyEnLaPantallaDeInicio() {\n    }\n\n    @When(&quot;Selecciono Ya estoy registrado&quot;)\n    public void seleccionoYaEstoyRegistrado() {\n        welcomeScreen.tapYaEstoyRegistrado();\n    }\n</code></pre>\n<p>I Run my code from a TestNG.XML file, and I am using cucumber fro gherkin language\nThe problem is that when I try to initiliaze de PageFactory.initElements. in the constructor of a page for the first step it returns the following:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\nio.cucumber.core.exception.CucumberException: Failed to instantiate class StepsDefinitions.LoginSteps\n\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\n    at io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:85)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:57)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$1(TestNGCucumberRunner.java:132)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:129)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:129)\n    at io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:129)\n    at io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:35)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    ... 42 more\nCaused by: java.lang.ExceptionInInitializerError\n    at io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:53)\n    at io.appium.java_client.pagefactory.utils.ProxyFactory.getEnhancedProxy(ProxyFactory.java:33)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator.proxyForAnElement(AppiumFieldDecorator.java:209)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator.access$000(AppiumFieldDecorator.java:61)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator$1.proxyForLocator(AppiumFieldDecorator.java:100)\n    at org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:63)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:147)\n    at org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:111)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\n    at Screens.WelcomeScreen.&lt;init&gt;(WelcomeScreen.java:14)\n    at StepsDefinitions.LoginSteps.&lt;init&gt;(LoginSteps.java:14)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 45 more\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1a407d53\n    at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\n    at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\n    at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\n    at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 57 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1a407d53\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\n    at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\n    ... 69 more\n</code></pre>\n<p>Here is the page that tries to initialize the Elements:</p>\n<pre><code>public class WelcomeScreen extends Base {\n\n    public WelcomeScreen(){\n        PageFactory.initElements(new AppiumFieldDecorator(AppDriver.getDriver()), this);\n    }\n\n    @AndroidFindBy(xpath = &quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.compose.ui.platform.ComposeView/android.view.View/android.view.View[2]/android.widget.Button&quot;)\n    @iOSXCUITFindBy()\n    private WebElement yaEstoyRegistrado_btn;\n\n    public void tapYaEstoyRegistrado(){\n        tapWebElement(yaEstoyRegistrado_btn);\n    }\n\n}\n</code></pre>\n<p>I have installed Gradle, tried to initialize the driver on @Before, @BeforeMethod, @BeforeClass, and nothing works\nI am using Java 19, does anyone know how to solve this?</p>\n"},{"tags":["java","jasper-reports","pdf-generation","dynamic-reports"],"answers":[{"tags":[],"owner":{"account_id":25552549,"reputation":11,"user_id":19336700,"display_name":"SillyLittleDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671126959,"creation_date":1671126959,"answer_id":74815692,"question_id":72615781,"body_markdown":"Due to the repository found under https://github.com/dynamicreports I could further look into it and found it easy to solve by simply overriding the Customizer. This problem thus stemmed largely from my own inexperience as a software developer.\r\n\r\nFor any future people who find this post, simply extend the super class TableOfContentsCustomizer and override the title(); method. There you can set the text component to be anything you desire.","title":"DynamicReports Changing the heading of a generated Table of Contents","body":"<p>Due to the repository found under <a href=\"https://github.com/dynamicreports\" rel=\"nofollow noreferrer\">https://github.com/dynamicreports</a> I could further look into it and found it easy to solve by simply overriding the Customizer. This problem thus stemmed largely from my own inexperience as a software developer.</p>\n<p>For any future people who find this post, simply extend the super class TableOfContentsCustomizer and override the title(); method. There you can set the text component to be anything you desire.</p>\n"}],"owner":{"account_id":25552549,"reputation":11,"user_id":19336700,"display_name":"SillyLittleDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74815692,"answer_count":1,"score":1,"last_activity_date":1671126959,"creation_date":1655204243,"question_id":72615781,"body_markdown":"This problem may be an impossibility to solve for a tool that no one seems to use but alas here we go.\r\n\r\nI am currently in the process of generating a PDF file through the use [DynamicReports](https://dynamicreports.lbayer.com/) that itself is based on JasperReports.\r\n\r\nThe main report is generated with various subreports,where as a table of contents is generated in the beginning\r\n\r\n\r\n```java\r\nJasperReportBuilder report = report();\r\n\r\nTableOfContentsCustomizerBuilder customTOC = new TableOfContentsCustomizerBuilder();\r\ncustomTOC.setTitleStyle(ReportStyles.BOLDSTYLE);\r\n\r\nreport\r\n    .setTemplate(Base.createTemplate())\r\n    .tableOfContents(customTOC)\r\n    .setDataSource(new JREmptyDataSource());\r\n\r\n```\r\n\r\nThis results in a table of contents that looks like this:\r\n\r\n```\r\nTable of Contents\r\nPage1       1\r\nPage2       2\r\nPage3       3\r\n```\r\n\r\nI wondered if there is a way or hack to change the Table of Contents string, as the generated PDF is not in English. Changing the locale doesnt change the heading title either.\r\n\r\nThanks for any assistance in advance.\r\n\r\nEDIT: Due to the repository found under https://github.com/dynamicreports I could further look into it and found it easy to solve by simply overriding the Customizer. This problem thus stemmed largely from my own inexperience as a software developer.\r\n\r\nFor any future people who find this post, simply extend the super class TableOfContentsCustomizer and override the title(); method. There you can set the text component to be anything you desire.","title":"DynamicReports Changing the heading of a generated Table of Contents","body":"<p>This problem may be an impossibility to solve for a tool that no one seems to use but alas here we go.</p>\n<p>I am currently in the process of generating a PDF file through the use <a href=\"https://dynamicreports.lbayer.com/\" rel=\"nofollow noreferrer\">DynamicReports</a> that itself is based on JasperReports.</p>\n<p>The main report is generated with various subreports,where as a table of contents is generated in the beginning</p>\n<pre class=\"lang-java prettyprint-override\"><code>JasperReportBuilder report = report();\n\nTableOfContentsCustomizerBuilder customTOC = new TableOfContentsCustomizerBuilder();\ncustomTOC.setTitleStyle(ReportStyles.BOLDSTYLE);\n\nreport\n    .setTemplate(Base.createTemplate())\n    .tableOfContents(customTOC)\n    .setDataSource(new JREmptyDataSource());\n\n</code></pre>\n<p>This results in a table of contents that looks like this:</p>\n<pre><code>Table of Contents\nPage1       1\nPage2       2\nPage3       3\n</code></pre>\n<p>I wondered if there is a way or hack to change the Table of Contents string, as the generated PDF is not in English. Changing the locale doesnt change the heading title either.</p>\n<p>Thanks for any assistance in advance.</p>\n<p>EDIT: Due to the repository found under <a href=\"https://github.com/dynamicreports\" rel=\"nofollow noreferrer\">https://github.com/dynamicreports</a> I could further look into it and found it easy to solve by simply overriding the Customizer. This problem thus stemmed largely from my own inexperience as a software developer.</p>\n<p>For any future people who find this post, simply extend the super class TableOfContentsCustomizer and override the title(); method. There you can set the text component to be anything you desire.</p>\n"},{"tags":["java","serenity-bdd","java-16","appium-java"],"answers":[{"tags":[],"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1658331693,"creation_date":1658331693,"answer_id":73054542,"question_id":73041409,"body_markdown":"This issue was fixed by following two things:\r\n\r\n1. Add following dependency\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n2. Downgrade to Java 11 ","title":"Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null - Java16","body":"<p>This issue was fixed by following two things:</p>\n<ol>\n<li><p>Add following dependency</p>\n<pre><code>     &lt;dependency&gt;\n         &lt;groupId&gt;cglib&lt;/groupId&gt;\n         &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n         &lt;version&gt;3.3.0&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Downgrade to Java 11</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6581964,"reputation":1,"user_id":5085986,"display_name":"Sudip Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671126768,"creation_date":1671126768,"answer_id":74815661,"question_id":73041409,"body_markdown":"This is a version issue, try to downgrade JDK to 11\r\nThis fixed my issue. Hope it will fix yours too.","title":"Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null - Java16","body":"<p>This is a version issue, try to downgrade JDK to 11\nThis fixed my issue. Hope it will fix yours too.</p>\n"}],"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4732,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73054542,"answer_count":2,"score":-1,"last_activity_date":1671126768,"creation_date":1658252820,"question_id":73041409,"body_markdown":"I am trying to setup an Appium project for learning purposes. I have created a basic structure of framework but it is throwing me following error:\r\n\r\n *net.serenitybdd.core.exceptions.StepInitialisationException: Failed to create step library for TestAppPage:Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null*\r\n\r\nBelow are some of my project classes:\r\n\r\nTestAppPage.java:\r\n\r\n    package pages;\r\n    \r\n    import io.appium.java_client.pagefactory.AndroidFindBy;\r\n    import io.appium.java_client.pagefactory.iOSXCUITFindBy;\r\n    import net.thucydides.core.annotations.Step;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class TestAppPage extends AppiumBaseScreen {\r\n        @AndroidFindBy(id =&quot;IntegerA&quot;)\r\n        @iOSXCUITFindBy(accessibility = &quot;IntegerA&quot;)\r\n        private WebElement txtFirstNumberField;\r\n    \r\n        @AndroidFindBy(id =&quot;IntegerB&quot;)\r\n        @iOSXCUITFindBy(accessibility = &quot;IntegerB&quot;)\r\n        private WebElement txtSecondNumberField;\r\n    \r\n        @AndroidFindBy(id =&quot;ComputeSumButton&quot;)\r\n        @iOSXCUITFindBy(accessibility = &quot;ComputeSumButton&quot;)\r\n        private WebElement btnComputeSum;\r\n    \r\n        @AndroidFindBy(id =&quot;Answer&quot;)\r\n        @iOSXCUITFindBy(accessibility = &quot;Answer&quot;)\r\n        private WebElement lblSumResults;\r\n    \r\n        @Step(&quot;Enter 1st number&quot;)\r\n        public void enterFirstNumber(int number) {\r\n            setText(String.valueOf(number), txtFirstNumberField);\r\n        }\r\n        @Step(&quot;Enter 2nd number&quot;)\r\n        public void enterSecondNumber(int number) {\r\n            setText(String.valueOf(number), txtSecondNumberField);\r\n        }\r\n        @Step(&quot;Press sum button&quot;)\r\n        public void pressSumButton() {\r\n            btnComputeSum.click();\r\n        }\r\n    \r\n        @Step(&quot;Return sum of numbers&quot;)\r\n        public String getSumOfNumbers() {\r\n            return lblSumResults.getText();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAppiumBaseScreen.java:\r\n\r\n    package pages;\r\n    \r\n    \r\n    import io.appium.java_client.pagefactory.AppiumFieldDecorator;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import static driver.DriverBase.getAppiumDriver;\r\n    \r\n    public class AppiumBaseScreen {\r\n    \r\n        public AppiumBaseScreen() {\r\n            PageFactory.initElements(new AppiumFieldDecorator(getAppiumDriver()), this);\r\n        }\r\n    \r\n        protected void setText(String text, WebElement element) {\r\n            click(element);\r\n            element.clear();\r\n            element.sendKeys(text);\r\n        }\r\n    \r\n        protected void click(WebElement element) {\r\n            moveFocusOnElement(element);\r\n            element.click();\r\n        }\r\n    \r\n        protected void moveFocusOnElement(WebElement element) {\r\n            new Actions(getAppiumDriver()).moveToElement(element).perform();\r\n        }\r\n    \r\n    }\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.appiumpractice&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AppiumPractice&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n            &lt;serenity.version&gt;3.2.5&lt;/serenity.version&gt;\r\n            &lt;serenity.cucumber.version&gt;3.2.5&lt;/serenity.cucumber.version&gt;\r\n            &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nDriverBase.java:\r\n\r\n    package driver;\r\n    \r\n    import io.appium.java_client.AppiumDriver;\r\n    import io.appium.java_client.ios.IOSDriver;\r\n    import io.appium.java_client.ios.options.XCUITestOptions;\r\n    import io.appium.java_client.safari.options.SafariOptions;\r\n    \r\n    import java.net.URL;\r\n    \r\n    public class DriverBase {\r\n        private static AppiumDriver driver;\r\n    \r\n        public static void initializeDriver(URL appiumURL, XCUITestOptions capabilities) {\r\n           initIOSDriver(appiumURL, capabilities);\r\n        }\r\n        public static void initializeDriver(URL appiumURL, SafariOptions capabilities) {\r\n            initIOSDriver(appiumURL, capabilities);\r\n        }\r\n    \r\n        public static AppiumDriver getAppiumDriver() {\r\n            return driver;\r\n        }\r\n    \r\n        private static void initIOSDriver(URL appiumURL, XCUITestOptions capabilities) {\r\n            driver = new IOSDriver(appiumURL, capabilities);\r\n        }\r\n    \r\n        private static void initIOSDriver(URL appiumURL, SafariOptions capabilities) {\r\n            driver = new IOSDriver(appiumURL, capabilities);\r\n        }\r\n        public static void closeDriver() {\r\n            driver.close();\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nI get the above error when I try to interact with element using page factory:\r\n\r\n    element.sendKeys(text);\r\n\r\n\r\n Everything works fine if I use the following code\r\n\r\n    driver.findElement(element).sendKeys(userName);\r\n\r\n\r\n\r\n\r\n","title":"Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null - Java16","body":"<p>I am trying to setup an Appium project for learning purposes. I have created a basic structure of framework but it is throwing me following error:</p>\n<p><em>net.serenitybdd.core.exceptions.StepInitialisationException: Failed to create step library for TestAppPage:Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null</em></p>\n<p>Below are some of my project classes:</p>\n<p>TestAppPage.java:</p>\n<pre><code>package pages;\n\nimport io.appium.java_client.pagefactory.AndroidFindBy;\nimport io.appium.java_client.pagefactory.iOSXCUITFindBy;\nimport net.thucydides.core.annotations.Step;\nimport org.openqa.selenium.WebElement;\n\npublic class TestAppPage extends AppiumBaseScreen {\n    @AndroidFindBy(id =&quot;IntegerA&quot;)\n    @iOSXCUITFindBy(accessibility = &quot;IntegerA&quot;)\n    private WebElement txtFirstNumberField;\n\n    @AndroidFindBy(id =&quot;IntegerB&quot;)\n    @iOSXCUITFindBy(accessibility = &quot;IntegerB&quot;)\n    private WebElement txtSecondNumberField;\n\n    @AndroidFindBy(id =&quot;ComputeSumButton&quot;)\n    @iOSXCUITFindBy(accessibility = &quot;ComputeSumButton&quot;)\n    private WebElement btnComputeSum;\n\n    @AndroidFindBy(id =&quot;Answer&quot;)\n    @iOSXCUITFindBy(accessibility = &quot;Answer&quot;)\n    private WebElement lblSumResults;\n\n    @Step(&quot;Enter 1st number&quot;)\n    public void enterFirstNumber(int number) {\n        setText(String.valueOf(number), txtFirstNumberField);\n    }\n    @Step(&quot;Enter 2nd number&quot;)\n    public void enterSecondNumber(int number) {\n        setText(String.valueOf(number), txtSecondNumberField);\n    }\n    @Step(&quot;Press sum button&quot;)\n    public void pressSumButton() {\n        btnComputeSum.click();\n    }\n\n    @Step(&quot;Return sum of numbers&quot;)\n    public String getSumOfNumbers() {\n        return lblSumResults.getText();\n    }\n\n}\n</code></pre>\n<p>AppiumBaseScreen.java:</p>\n<pre><code>package pages;\n\n\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.PageFactory;\nimport static driver.DriverBase.getAppiumDriver;\n\npublic class AppiumBaseScreen {\n\n    public AppiumBaseScreen() {\n        PageFactory.initElements(new AppiumFieldDecorator(getAppiumDriver()), this);\n    }\n\n    protected void setText(String text, WebElement element) {\n        click(element);\n        element.clear();\n        element.sendKeys(text);\n    }\n\n    protected void click(WebElement element) {\n        moveFocusOnElement(element);\n        element.click();\n    }\n\n    protected void moveFocusOnElement(WebElement element) {\n        new Actions(getAppiumDriver()).moveToElement(element).perform();\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.appiumpractice&lt;/groupId&gt;\n    &lt;artifactId&gt;AppiumPractice&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;serenity.version&gt;3.2.5&lt;/serenity.version&gt;\n        &lt;serenity.cucumber.version&gt;3.2.5&lt;/serenity.cucumber.version&gt;\n        &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>DriverBase.java:</p>\n<pre><code>package driver;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.ios.IOSDriver;\nimport io.appium.java_client.ios.options.XCUITestOptions;\nimport io.appium.java_client.safari.options.SafariOptions;\n\nimport java.net.URL;\n\npublic class DriverBase {\n    private static AppiumDriver driver;\n\n    public static void initializeDriver(URL appiumURL, XCUITestOptions capabilities) {\n       initIOSDriver(appiumURL, capabilities);\n    }\n    public static void initializeDriver(URL appiumURL, SafariOptions capabilities) {\n        initIOSDriver(appiumURL, capabilities);\n    }\n\n    public static AppiumDriver getAppiumDriver() {\n        return driver;\n    }\n\n    private static void initIOSDriver(URL appiumURL, XCUITestOptions capabilities) {\n        driver = new IOSDriver(appiumURL, capabilities);\n    }\n\n    private static void initIOSDriver(URL appiumURL, SafariOptions capabilities) {\n        driver = new IOSDriver(appiumURL, capabilities);\n    }\n    public static void closeDriver() {\n        driver.close();\n        driver.quit();\n    }\n}\n</code></pre>\n<p>I get the above error when I try to interact with element using page factory:</p>\n<pre><code>element.sendKeys(text);\n</code></pre>\n<p>Everything works fine if I use the following code</p>\n<pre><code>driver.findElement(element).sendKeys(userName);\n</code></pre>\n"},{"tags":["java","netty","connection-timeout"],"answers":[{"comments":[{"owner":{"account_id":4040673,"reputation":179,"user_id":3323631,"accept_rate":0,"display_name":"Caesar"},"score":0,"creation_date":1397629407,"post_id":23100699,"comment_id":35311566,"body_markdown":"thanks for the reply. So what should i use to limit the number of concurrent clients connecting to my server. Earlier i thought tha maybe if i limit the number of worker threads i mi8 be able to control  the number of conucrrent connections but since u say that is not the case. can you suggest a way to limit the maximum number of concurrent connections","body":"thanks for the reply. So what should i use to limit the number of concurrent clients connecting to my server. Earlier i thought tha maybe if i limit the number of worker threads i mi8 be able to control  the number of conucrrent connections but since u say that is not the case. can you suggest a way to limit the maximum number of concurrent connections"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1397630024,"post_id":23100699,"comment_id":35311866,"body_markdown":"I would comment that SOMAXCONN is a poorly chosen default. It guarantees maximum resource utilization where it should use the platform default, or Java&#39;s, which are both more sensibly chosen.","body":"I would comment that SOMAXCONN is a poorly chosen default. It guarantees maximum resource utilization where it should use the platform default, or Java&#39;s, which are both more sensibly chosen."}],"tags":[],"owner":{"account_id":22568,"reputation":12271,"user_id":55808,"accept_rate":92,"display_name":"trustin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397626025,"creation_date":1397626025,"answer_id":23100699,"question_id":23078560,"body_markdown":"`CONNECT_TIMEOUT_MILLIS` is the timeout for connection attempt.  Once the connection is established, it has no effect.  What you are interested in is `ReadTimeoutHandler`.\r\n\r\nThe default `SO_BACKLOG` is `NetUtils.SOMAXCONN`.  It does not limit the number of worker threads.  For more information about `SO_BACKLOG`, please refer to [this question](https://stackoverflow.com/questions/14075688/what-does-channeloption-so-backlog-do).  To limit the number of worker threads, you must specify it when you construct an `NioEventLoop`.  `SO_BACKLOG` is unrelated to the maximum number of concurrent connections, either.\r\n\r\nRe: How HTTP works in Netty - The question is too broad to give a simple answer.  Please use your debugger to step into the Netty internals to find our how it works.","title":"Netty Channel configuration for connection timeout &amp; number of open connections","body":"<p><code>CONNECT_TIMEOUT_MILLIS</code> is the timeout for connection attempt.  Once the connection is established, it has no effect.  What you are interested in is <code>ReadTimeoutHandler</code>.</p>\n\n<p>The default <code>SO_BACKLOG</code> is <code>NetUtils.SOMAXCONN</code>.  It does not limit the number of worker threads.  For more information about <code>SO_BACKLOG</code>, please refer to <a href=\"https://stackoverflow.com/questions/14075688/what-does-channeloption-so-backlog-do\">this question</a>.  To limit the number of worker threads, you must specify it when you construct an <code>NioEventLoop</code>.  <code>SO_BACKLOG</code> is unrelated to the maximum number of concurrent connections, either.</p>\n\n<p>Re: How HTTP works in Netty - The question is too broad to give a simple answer.  Please use your debugger to step into the Netty internals to find our how it works.</p>\n"},{"tags":[],"owner":{"account_id":10240788,"reputation":162,"user_id":7558264,"accept_rate":100,"display_name":"SaiVikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671126396,"creation_date":1671126396,"answer_id":74815600,"question_id":23078560,"body_markdown":"One way of limiting the number of concurrent connections is by limiting the number of open files a process can have. This property can be set in Linux using ulimit command or using limits.conf file ","title":"Netty Channel configuration for connection timeout &amp; number of open connections","body":"<p>One way of limiting the number of concurrent connections is by limiting the number of open files a process can have. This property can be set in Linux using ulimit command or using limits.conf file</p>\n"}],"owner":{"account_id":4040673,"reputation":179,"user_id":3323631,"accept_rate":0,"display_name":"Caesar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671126396,"creation_date":1397551176,"question_id":23078560,"body_markdown":"I am trying to implement a HTTP server using netty &amp; i wanted to know few thing which i could not understand from the netty api. I read many other netty related stackoverflow question but still i couldn&#39;t udnertand.\r\n\r\n1.If i want the connection from client to be opened for a certain period of time, what should i use CONNECT_TIMEOUT_MILLIS or add a read timeout handler &amp; add a timeout in it. Basically i want to understand the difference between these two. &amp; what is the default value of CONNECT_TIMEOUT_MILLIS.\r\n\r\n2. what is the default value of SO_BACKLOG,i read it in one of the that it is equal to SOMAXCONN in io.netty.netUtils.But what it the value of it. Also, i want to be sure that so_backlog limits the number of worker thread ri8?. I mean if i set it to say 1000 it means netty won&#39;t allow more than 1000 open connection at a time.\r\n\r\n3. can somebody explain how netty responds to a HTTP request as in internally in terms of writing &amp; reading from a channel?\r\n\r\nThanks in advance!!!","title":"Netty Channel configuration for connection timeout &amp; number of open connections","body":"<p>I am trying to implement a HTTP server using netty &amp; i wanted to know few thing which i could not understand from the netty api. I read many other netty related stackoverflow question but still i couldn't udnertand.</p>\n\n<p>1.If i want the connection from client to be opened for a certain period of time, what should i use CONNECT_TIMEOUT_MILLIS or add a read timeout handler &amp; add a timeout in it. Basically i want to understand the difference between these two. &amp; what is the default value of CONNECT_TIMEOUT_MILLIS.</p>\n\n<ol>\n<li><p>what is the default value of SO_BACKLOG,i read it in one of the that it is equal to SOMAXCONN in io.netty.netUtils.But what it the value of it. Also, i want to be sure that so_backlog limits the number of worker thread ri8?. I mean if i set it to say 1000 it means netty won't allow more than 1000 open connection at a time.</p></li>\n<li><p>can somebody explain how netty responds to a HTTP request as in internally in terms of writing &amp; reading from a channel?</p></li>\n</ol>\n\n<p>Thanks in advance!!!</p>\n"},{"tags":["java","elasticsearch","spring-data","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"score":0,"creation_date":1671179722,"post_id":74815470,"comment_id":132047593,"body_markdown":"More than enough.\nThanks it works now","body":"More than enough. Thanks it works now"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671125637,"creation_date":1671125637,"answer_id":74815470,"question_id":74814452,"body_markdown":"When using Spring Data Elasticsearch repositories - as you do - the normal behaviour is that the mapping is written to Elasticsearch after index creation on application startup when the index does not yet exist.\r\n\r\nThe problem in your code is that you do not define to what types the properties of your entity should be mapped; you need to add `@Field` annotations to do that:\r\n\r\n```java\r\n@Document(indexName = &quot;my_es_index&quot;)\r\npublic class MyEsIndex {\r\n\r\n    private String id;\r\n\r\n    @Field(type = FieldType.Long)\r\n    private Long counter;\r\n\r\n    @Field(type = FieldType.Long)\r\n    private Long timestamp;\r\n}\r\n```\r\n\r\nProperties that are not annotated with a `@Field` annotation are not written to the mapping but left for automatic mapping by Elasticsearch, that&#39;s the cause for the sort not working. As there is no document written to the index, Elasticsearch does not know what type it is and how to sort on that. \r\n\r\nIn your code there is another thing that might probably not match your desired application logic. In Spring Data Elasticsearch an entity needs to have an **id** property, that&#39;s the property that will be used as the document&#39;s id in Elasticsearch. This is normally defined by annotating the property with `@Id`, if that is missing - as in your case - a property with the name of &quot;id&quot; or &quot;document&quot; is used. So in your case the property `id` is used.\r\n\r\nA document&#39;s id is unique in Elasticsearch, if you store a new document under an existing id, the previous content will be overwritten. If that&#39;s what you want, the you should add the `@Id` annotation to your property to make it clear that this is the unique id. But in this case then your code `findFirstByIdOrderByTimestamp` does not make sense, as a find by id will always return at most one document, so the order by is irrelevant, you could just use a `findById()` then. I assume that the `id` should be unique as you initialize it with a UUID.\r\n\r\nIf your `id` is not unique and you have multiple documents with the same id and different timestamps, the you&#39;ll need to add a new unique property to your entity and annotate that with `@Id` to prevent `id` to be used as a unique identifier.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Elasticsearch and spring data with empty index","body":"<p>When using Spring Data Elasticsearch repositories - as you do - the normal behaviour is that the mapping is written to Elasticsearch after index creation on application startup when the index does not yet exist.</p>\n<p>The problem in your code is that you do not define to what types the properties of your entity should be mapped; you need to add <code>@Field</code> annotations to do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;my_es_index&quot;)\npublic class MyEsIndex {\n\n    private String id;\n\n    @Field(type = FieldType.Long)\n    private Long counter;\n\n    @Field(type = FieldType.Long)\n    private Long timestamp;\n}\n</code></pre>\n<p>Properties that are not annotated with a <code>@Field</code> annotation are not written to the mapping but left for automatic mapping by Elasticsearch, that's the cause for the sort not working. As there is no document written to the index, Elasticsearch does not know what type it is and how to sort on that.</p>\n<p>In your code there is another thing that might probably not match your desired application logic. In Spring Data Elasticsearch an entity needs to have an <strong>id</strong> property, that's the property that will be used as the document's id in Elasticsearch. This is normally defined by annotating the property with <code>@Id</code>, if that is missing - as in your case - a property with the name of &quot;id&quot; or &quot;document&quot; is used. So in your case the property <code>id</code> is used.</p>\n<p>A document's id is unique in Elasticsearch, if you store a new document under an existing id, the previous content will be overwritten. If that's what you want, the you should add the <code>@Id</code> annotation to your property to make it clear that this is the unique id. But in this case then your code <code>findFirstByIdOrderByTimestamp</code> does not make sense, as a find by id will always return at most one document, so the order by is irrelevant, you could just use a <code>findById()</code> then. I assume that the <code>id</code> should be unique as you initialize it with a UUID.</p>\n<p>If your <code>id</code> is not unique and you have multiple documents with the same id and different timestamps, the you'll need to add a new unique property to your entity and annotate that with <code>@Id</code> to prevent <code>id</code> to be used as a unique identifier.</p>\n"}],"owner":{"account_id":11501917,"reputation":105,"user_id":8429488,"display_name":"Yegor Saliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815470,"answer_count":1,"score":0,"last_activity_date":1671125637,"creation_date":1671120556,"question_id":74814452,"body_markdown":"I have a question about elasticsearch with spring data.\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(indexName = &quot;my_es_index&quot;)\r\npublic class MyEsIndex {\r\n\r\n\tprivate String id;\r\n\r\n    private Long counter;\r\n\r\n    private Long timestamp;\r\n}\r\n\r\n```\r\n\r\nand repository\r\n```\r\npublic interface MyEsIndexRepository extends ElasticsearchRepository&lt;MyEsIndex, String&gt; {\r\n\r\n\tOptional&lt;MyEsIndex&gt; findFirstByIdOrderByTimestampDesc(String id);\r\n}\r\n```\r\n\r\nso I have a service where I have to search first for previous one saved record to retrieve previous value, always doing search ordered by timestamp.\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyEsService {\r\n\r\nprivate final MyEsIndexRepository repository;\r\n\r\n  public MyEsIndex insert(String previousId) {\r\n    Long previousCounter = \r\nrepository.findFirstByIdOrderByTimestampDesc(previousId).map(MyEsIndex::getCounter).orElse(0L);\r\n    var index = new MyEsIndex(UUID.randomUUID().toString(), ++previousCounter, \r\n    Instant.now().toEpochMilli());\r\n    return repository.save(index);\r\n  }\r\n}\r\n```\r\nand when trying to do the operation receiving \r\n`\r\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;query_shard_exception&quot;,&quot;reason&quot;:&quot;No mapping found for [timestamp] in order to sort on&quot;,&quot;index&quot;:&quot;my_es_index&quot;}\r\n`\r\n\r\nis it possible to do initialization for fields in elasticsearch on empty index?\r\nbecause the solution of init config is not that clear because it will be used only once when starting working with empty index where never saved a record\r\n```\r\n@Configuration\r\npublic class InitElasticsearchConfig {\r\n\r\nprivate final MyEsIndexRepository repository;\r\n\r\n  @EventListener(ApplicationReadyEvent.class)\r\n  public void initIndex() {\r\n  if (repository.findAll(PageRequest.of(0, 1)).isEmpty()) {\r\n    var initIndex = new MyEsIndex(&quot;initId&quot;, 0L, 0L);\r\n    repository.save(initIndex);\r\n    repository.delete(initIndex);\r\n  }\r\n}\r\n```\r\nis it possible to delegate this solution to spring? I didn&#39;t find any","title":"Elasticsearch and spring data with empty index","body":"<p>I have a question about elasticsearch with spring data.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(indexName = &quot;my_es_index&quot;)\npublic class MyEsIndex {\n\n    private String id;\n\n    private Long counter;\n\n    private Long timestamp;\n}\n\n</code></pre>\n<p>and repository</p>\n<pre><code>public interface MyEsIndexRepository extends ElasticsearchRepository&lt;MyEsIndex, String&gt; {\n\n    Optional&lt;MyEsIndex&gt; findFirstByIdOrderByTimestampDesc(String id);\n}\n</code></pre>\n<p>so I have a service where I have to search first for previous one saved record to retrieve previous value, always doing search ordered by timestamp.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyEsService {\n\nprivate final MyEsIndexRepository repository;\n\n  public MyEsIndex insert(String previousId) {\n    Long previousCounter = \nrepository.findFirstByIdOrderByTimestampDesc(previousId).map(MyEsIndex::getCounter).orElse(0L);\n    var index = new MyEsIndex(UUID.randomUUID().toString(), ++previousCounter, \n    Instant.now().toEpochMilli());\n    return repository.save(index);\n  }\n}\n</code></pre>\n<p>and when trying to do the operation receiving\n<code>{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;query_shard_exception&quot;,&quot;reason&quot;:&quot;No mapping found for [timestamp] in order to sort on&quot;,&quot;index&quot;:&quot;my_es_index&quot;}</code></p>\n<p>is it possible to do initialization for fields in elasticsearch on empty index?\nbecause the solution of init config is not that clear because it will be used only once when starting working with empty index where never saved a record</p>\n<pre><code>@Configuration\npublic class InitElasticsearchConfig {\n\nprivate final MyEsIndexRepository repository;\n\n  @EventListener(ApplicationReadyEvent.class)\n  public void initIndex() {\n  if (repository.findAll(PageRequest.of(0, 1)).isEmpty()) {\n    var initIndex = new MyEsIndex(&quot;initId&quot;, 0L, 0L);\n    repository.save(initIndex);\n    repository.delete(initIndex);\n  }\n}\n</code></pre>\n<p>is it possible to delegate this solution to spring? I didn't find any</p>\n"},{"tags":["java","spring","spring-boot","properties"],"answers":[{"comments":[{"owner":{"account_id":95248,"reputation":1240,"user_id":259518,"display_name":"Kees van Dieren"},"score":1,"creation_date":1612267572,"post_id":47040012,"comment_id":116707920,"body_markdown":"Why having it both has field and as argument in the setter?  The field probably can be removed?","body":"Why having it both has field and as argument in the setter?  The field probably can be removed?"},{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1612289605,"post_id":47040012,"comment_id":116718696,"body_markdown":"@KeesvanDieren yes, well spotted","body":"@KeesvanDieren yes, well spotted"},{"owner":{"account_id":9112972,"reputation":540,"user_id":6780959,"display_name":"Galen Howlett"},"score":0,"creation_date":1670619096,"post_id":47040012,"comment_id":131923236,"body_markdown":"This is being overwritten by the properties file of an active profile for me (Spring Boot 2.7.1)","body":"This is being overwritten by the properties file of an active profile for me (Spring Boot 2.7.1)"}],"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612323428,"creation_date":1509466769,"answer_id":47040012,"question_id":47039289,"body_markdown":"Something like this should work, anything in secure.properties will not be able to be overridden as it will be added to the start of the env (from the properties file), regardless of what has been overridden.\r\n\r\n    @Configuration\r\n    public class SecurePropertiesConfig {\r\n    \r\n        @Autowired\r\n        public void setConfigurableEnvironment(ConfigurableEnvironment env) {\r\n            try {\r\n                final Resource resource = new ClassPathResource(&quot;secure.properties&quot;);\r\n                env.getPropertySources().addFirst(new PropertiesPropertySource(resource.getFilename(), PropertiesLoaderUtils.loadProperties(resource)));\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex.getMessage(), ex);\r\n            }\r\n        }\r\n    }\r\n","title":"Prevent overriding some property in application.properties - Spring Boot","body":"<p>Something like this should work, anything in secure.properties will not be able to be overridden as it will be added to the start of the env (from the properties file), regardless of what has been overridden.</p>\n<pre><code>@Configuration\npublic class SecurePropertiesConfig {\n\n    @Autowired\n    public void setConfigurableEnvironment(ConfigurableEnvironment env) {\n        try {\n            final Resource resource = new ClassPathResource(&quot;secure.properties&quot;);\n            env.getPropertySources().addFirst(new PropertiesPropertySource(resource.getFilename(), PropertiesLoaderUtils.loadProperties(resource)));\n        } catch (Exception ex) {\n            throw new RuntimeException(ex.getMessage(), ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9112972,"reputation":540,"user_id":6780959,"display_name":"Galen Howlett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671125462,"creation_date":1671122748,"answer_id":74814888,"question_id":47039289,"body_markdown":"I tried the SecurePropertiesConfig method posted here and interestingly what is happening for me is the property value is different based on if I use a @Value annotation or just load the Environment. The @Value annotation is resolving before the setConfigurableEnvironment method resolves. So @Value will resolve to property file values set directly in the classpath while the Environment variable will have the secure (un-overridable) property value once the method is actually running. It works if I just use Environment, but unfortunately that makes it a bit brittle to a future code change accidentally using @Value instead, thinking it is &quot;secure&quot;. I modified the SecurePropertiesConfig.java to be a ApplicationContextInitializer to force it to load the properties first.\r\n\r\nSecureProperties.java\r\n```\r\npublic class SecurePropertiesConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n\t@Override\r\n\tpublic void initialize(ConfigurableApplicationContext applicationContext) {\r\n\t\tConfigurableEnvironment environment = applicationContext.getEnvironment();\r\n        try {\r\n            final Resource resource = new ClassPathResource(&quot;secure.properties&quot;);\r\n            environment.getPropertySources().addFirst(new PropertiesPropertySource(resource.getFilename(), PropertiesLoaderUtils.loadProperties(resource)));\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex.getMessage(), ex);\r\n        }\r\n\t}\r\n```\r\n\r\nAnd then add the initializer in your application.properties:\r\n```\r\ncontext.initializer.classes=package.path.config.SecureProperties\r\n```","title":"Prevent overriding some property in application.properties - Spring Boot","body":"<p>I tried the SecurePropertiesConfig method posted here and interestingly what is happening for me is the property value is different based on if I use a @Value annotation or just load the Environment. The @Value annotation is resolving before the setConfigurableEnvironment method resolves. So @Value will resolve to property file values set directly in the classpath while the Environment variable will have the secure (un-overridable) property value once the method is actually running. It works if I just use Environment, but unfortunately that makes it a bit brittle to a future code change accidentally using @Value instead, thinking it is &quot;secure&quot;. I modified the SecurePropertiesConfig.java to be a ApplicationContextInitializer to force it to load the properties first.</p>\n<p>SecureProperties.java</p>\n<pre><code>public class SecurePropertiesConfig implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        ConfigurableEnvironment environment = applicationContext.getEnvironment();\n        try {\n            final Resource resource = new ClassPathResource(&quot;secure.properties&quot;);\n            environment.getPropertySources().addFirst(new PropertiesPropertySource(resource.getFilename(), PropertiesLoaderUtils.loadProperties(resource)));\n        } catch (Exception ex) {\n            throw new RuntimeException(ex.getMessage(), ex);\n        }\n    }\n</code></pre>\n<p>And then add the initializer in your application.properties:</p>\n<pre><code>context.initializer.classes=package.path.config.SecureProperties\n</code></pre>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47040012,"answer_count":2,"score":2,"last_activity_date":1671125462,"creation_date":1509464456,"question_id":47039289,"body_markdown":"I want to move some configuration in my property file, but don&#39;t want it to be overwritten at runtime, for security purpose. Is it possible to do it in spring boot?\r\n\r\nThanks,\r\nManish ","title":"Prevent overriding some property in application.properties - Spring Boot","body":"<p>I want to move some configuration in my property file, but don't want it to be overwritten at runtime, for security purpose. Is it possible to do it in spring boot?</p>\n\n<p>Thanks,\nManish </p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-grid","saucelabs"],"owner":{"account_id":25586414,"reputation":23,"user_id":19364109,"display_name":"Durgesh patidar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671125305,"creation_date":1671109386,"question_id":74811972,"body_markdown":"Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0 only in case of &quot;APAC Southeast&quot; datacenter.\r\nAnd same is working using selenium 4.7.0 jar.\r\nand other datacenter are working fine with 3.4.0\r\n\r\n      public static void main(String[] args) throws MalformedURLException {\r\n        String sauceUrl = &quot;https://{username}:{accesskey}@ondemand.apac-southeast-1.saucelabs.com/wd/hub&quot;;\r\n        DesiredCapabilities cap = new DesiredCapabilities();\r\n        cap.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\r\n        cap.setCapability(&quot;platformName&quot;, &quot;windows 10&quot;);\r\n        cap.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\r\n        RemoteWebDriver driver = new RemoteWebDriver(new URL(sauceUrl), cap);\r\n        driver.get(&quot;https://x.github.io/sample-todo-app/&quot;);\r\n        System.out.println(&quot;working&quot;);\r\n      }\r\n\r\n\r\n&gt; error : org.openqa.selenium.SessionNotCreatedException: Unable to\r\n&gt; create new remote session desired capabilities = Capabilities\r\n&gt; [{securityToken=null, acceptSslCerts=true, marionette=true, build=X\r\n&gt; Test Run 2022-12-15 17:10:56 IST, acceptInsecureCerts=true,\r\n&gt; name=test.testcase, browserName=chrome, version=106.0,\r\n&gt; platform=WIN10,\r\n&gt; firefox_profile=org.openqa.selenium.chrome.ChromeProfile@1595c99e}],\r\n&gt; required capabilities = Capabilities [{}]\r\n\r\n#selenium #saucelab\r\n\r\nIt should work for all data centers\r\n","title":"Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0","body":"<p>Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0 only in case of &quot;APAC Southeast&quot; datacenter.\nAnd same is working using selenium 4.7.0 jar.\nand other datacenter are working fine with 3.4.0</p>\n<pre><code>  public static void main(String[] args) throws MalformedURLException {\n    String sauceUrl = &quot;https://{username}:{accesskey}@ondemand.apac-southeast-1.saucelabs.com/wd/hub&quot;;\n    DesiredCapabilities cap = new DesiredCapabilities();\n    cap.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\n    cap.setCapability(&quot;platformName&quot;, &quot;windows 10&quot;);\n    cap.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\n    RemoteWebDriver driver = new RemoteWebDriver(new URL(sauceUrl), cap);\n    driver.get(&quot;https://x.github.io/sample-todo-app/&quot;);\n    System.out.println(&quot;working&quot;);\n  }\n</code></pre>\n<blockquote>\n<p>error : org.openqa.selenium.SessionNotCreatedException: Unable to\ncreate new remote session desired capabilities = Capabilities\n[{securityToken=null, acceptSslCerts=true, marionette=true, build=X\nTest Run 2022-12-15 17:10:56 IST, acceptInsecureCerts=true,\nname=test.testcase, browserName=chrome, version=106.0,\nplatform=WIN10,\nfirefox_profile=org.openqa.selenium.chrome.ChromeProfile@1595c99e}],\nrequired capabilities = Capabilities [{}]</p>\n</blockquote>\n<p>#selenium #saucelab</p>\n<p>It should work for all data centers</p>\n"},{"tags":["java","spring-boot","aspectj","spring-aop","aspect"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1671107876,"post_id":74811630,"comment_id":132029538,"body_markdown":"You are catching and swallowing the exception, what else would you expect? You shouldn&#39;t catch and swallow. You should at least do a `throw e` in your `catch` clause else processing will stop.","body":"You are catching and swallowing the exception, what else would you expect? You shouldn&#39;t catch and swallow. You should at least do a <code>throw e</code> in your <code>catch</code> clause else processing will stop."},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671108062,"post_id":74811630,"comment_id":132029616,"body_markdown":"I have add throw e, but still the exceptionHandler is not called. its like with finally block send null answer and nothing is showing in browser.","body":"I have add throw e, but still the exceptionHandler is not called. its like with finally block send null answer and nothing is showing in browser."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671108236,"post_id":74811630,"comment_id":132029677,"body_markdown":"Then there must be something else as well, however you should never swallow exceptions in an around aspect (unless you are writing a specific aspect for that).","body":"Then there must be something else as well, however you should never swallow exceptions in an around aspect (unless you are writing a specific aspect for that)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1671108870,"post_id":74811630,"comment_id":132029933,"body_markdown":"a `return` inside a `finally` block is calling for problems (at least an unexpected behavior for some developers) - the `finally` block is always executed, so even if (re-)throwing the Exception, the `return` statement will be executed and *override* (or *cancel*) the exception","body":"a <code>return</code> inside a <code>finally</code> block is calling for problems (at least an unexpected behavior for some developers) - the <code>finally</code> block is always executed, so even if (re-)throwing the Exception, the <code>return</code> statement will be executed and <i>override</i> (or <i>cancel</i>) the exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671109164,"post_id":74811630,"comment_id":132030023,"body_markdown":"actually it IS expected behavior according [JLS 14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.20.2-100-B-A-B-B): &quot;*If the catch block completes abruptly for reason R, then the finally block is executed. Then there is a choice: ...  If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and reason R is discarded)*&quot; (a `return` is also one reason for terminating the method abruptly)","body":"actually it IS expected behavior according <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.20.2-100-B-A-B-B\" rel=\"nofollow noreferrer\">JLS 14.20.2. Execution of try-finally and try-catch-finally</a>: &quot;<i>If the catch block completes abruptly for reason R, then the finally block is executed. Then there is a choice: ...  If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and reason R is discarded)</i>&quot; (a <code>return</code> is also one reason for terminating the method abruptly)"},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671113874,"post_id":74811630,"comment_id":132031870,"body_markdown":"I have changed the signature of log method to void and removed return statement. and what happened is that my handleException is called( shown in  log ) but as long as I have removed return statement nothing is shown in navigator.","body":"I have changed the signature of log method to void and removed return statement. and what happened is that my handleException is called( shown in  log ) but as long as I have removed return statement nothing is shown in navigator."},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671115387,"post_id":74811630,"comment_id":132032474,"body_markdown":"I think the solution is to exclude the method handleException, is there any way to exclude it from being intercepted ?","body":"I think the solution is to exclude the method handleException, is there any way to exclude it from being intercepted ?"}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671200040,"post_id":74815368,"comment_id":132053921,"body_markdown":"This code is just wrong. Like someone else already said before, **do not try to return values from a `finally` block!**","body":"This code is just wrong. Like someone else already said before, <b>do not try to return values from a <code>finally</code> block!</b>"},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671205466,"post_id":74815368,"comment_id":132055858,"body_markdown":"Normally finally is called either an exception is thrown or not. and my method except an Object, so it is normal to add a return in finally block.","body":"Normally finally is called either an exception is thrown or not. and my method except an Object, so it is normal to add a return in finally block."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671207776,"post_id":74815368,"comment_id":132056648,"body_markdown":"No, it is not. With all due respect, stop talking nonsense. Better learn how to canonically use try-catch-finally. Even if it is technically possible to put a return statement in a finally block, why are you so stubborn to defend bad code design and even risk problems, if there is a very simple, less contrived solution for your problem? Why would you throw an exception in the catch block and override same in finally?","body":"No, it is not. With all due respect, stop talking nonsense. Better learn how to canonically use try-catch-finally. Even if it is technically possible to put a return statement in a finally block, why are you so stubborn to defend bad code design and even risk problems, if there is a very simple, less contrived solution for your problem? Why would you throw an exception in the catch block and override same in finally?"}],"tags":[],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671125156,"creation_date":1671125156,"answer_id":74815368,"question_id":74811630,"body_markdown":"I have first exclude the method handleException annotated with @ExceptionHandler as the following :\r\n\r\n     @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\r\n                + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\r\n\r\nI have added a flag that is been set to true when there is an exception, adding a return null at the end of the method ( not in finally) solve the problem, I dont know why :\r\n\r\n     @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\r\n                + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\r\n     public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            Object temp = null;\r\n            String inputString = getInput(joinPoint);\r\n            logger.debug(inputString);\r\n            boolean flag = false;\r\n            try{\r\n                temp = joinPoint.proceed();\r\n            }\r\n            catch (Exception e) {\r\n                flag = true;\r\n                logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\r\n                throw e;\r\n            }\r\n            finally {\r\n                logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\r\n                if(! flag)\r\n                    return temp;\r\n            }\r\n            return null;\r\n        }","title":"Exception handler is not called when exception is thrown because of Interceptor Around","body":"<p>I have first exclude the method handleException annotated with @ExceptionHandler as the following :</p>\n<pre><code> @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\n            + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\n</code></pre>\n<p>I have added a flag that is been set to true when there is an exception, adding a return null at the end of the method ( not in finally) solve the problem, I dont know why :</p>\n<pre><code> @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\n            + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\n public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object temp = null;\n        String inputString = getInput(joinPoint);\n        logger.debug(inputString);\n        boolean flag = false;\n        try{\n            temp = joinPoint.proceed();\n        }\n        catch (Exception e) {\n            flag = true;\n            logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\n            throw e;\n        }\n        finally {\n            logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\n            if(! flag)\n                return temp;\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671208086,"answer_count":1,"score":0,"last_activity_date":1671125156,"creation_date":1671107776,"question_id":74811630,"body_markdown":"I have a method handleException that return a ResponseEntity :\r\n\r\n```\r\n\r\n@ExceptionHandler({Exception.class})\r\npublic ResponseEntity handleException(Exception e) {\r\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;( );\r\n    List temp;\r\n    data.put( &quot;message&quot;, e.getMessage() );\r\n    if (e instanceof MissingServletRequestParameterException) {\r\n        if ( e.getMessage().contains(&quot;countryName&quot;) )\r\n        {\r\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_CNABSENT);\r\n        } else{\r\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_DTABSENT);\r\n        }\r\n        data.clear();\r\n        data.put( &quot;message&quot;,  (String)temp.get(1));\r\n        return ResponseEntity.status((HttpStatus)temp.get(0)).body( data);\r\n    } else if (e instanceof CustomException) {\r\n        return ResponseEntity.status(((CustomException) e).getStatus()).body(data);\r\n    }\r\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(data);\r\n}\r\n```\r\n\r\nand it was working fine before adding loggingInterceptor :\r\n\r\n\r\n```\r\n@Around(&quot;execution(*  com.coviddata..*(..) )&quot;)\r\npublic Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    Object temp = null;\r\n    String inputString = getInput(joinPoint);\r\n    logger.debug(inputString);\r\n    try{\r\n        temp = joinPoint.proceed();\r\n    }\r\n    catch (Exception e) {\r\n        logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\r\n    }\r\n    finally {\r\n        logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\nNow, i can log before and after of all methods. the problem is when an exception is thrown, this log method prevent my exception handler to be called and thus nothing is send to the user as ResponseENtity and even the joinPoin.proceed() return null.\r\n\r\n\r\nI have tought to intercept all methods except handleException but I think this is not the problem. I think the solution of that. I want only to log when there is exception and return ResponseEntity.\r\n\r\nIs there a way to exclude handleException method from being intercepted ?","title":"Exception handler is not called when exception is thrown because of Interceptor Around","body":"<p>I have a method handleException that return a ResponseEntity :</p>\n<pre><code>\n@ExceptionHandler({Exception.class})\npublic ResponseEntity handleException(Exception e) {\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;( );\n    List temp;\n    data.put( &quot;message&quot;, e.getMessage() );\n    if (e instanceof MissingServletRequestParameterException) {\n        if ( e.getMessage().contains(&quot;countryName&quot;) )\n        {\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_CNABSENT);\n        } else{\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_DTABSENT);\n        }\n        data.clear();\n        data.put( &quot;message&quot;,  (String)temp.get(1));\n        return ResponseEntity.status((HttpStatus)temp.get(0)).body( data);\n    } else if (e instanceof CustomException) {\n        return ResponseEntity.status(((CustomException) e).getStatus()).body(data);\n    }\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(data);\n}\n</code></pre>\n<p>and it was working fine before adding loggingInterceptor :</p>\n<pre><code>@Around(&quot;execution(*  com.coviddata..*(..) )&quot;)\npublic Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n    Object temp = null;\n    String inputString = getInput(joinPoint);\n    logger.debug(inputString);\n    try{\n        temp = joinPoint.proceed();\n    }\n    catch (Exception e) {\n        logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\n    }\n    finally {\n        logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\n        return temp;\n    }\n}\n</code></pre>\n<p>Now, i can log before and after of all methods. the problem is when an exception is thrown, this log method prevent my exception handler to be called and thus nothing is send to the user as ResponseENtity and even the joinPoin.proceed() return null.</p>\n<p>I have tought to intercept all methods except handleException but I think this is not the problem. I think the solution of that. I want only to log when there is exception and return ResponseEntity.</p>\n<p>Is there a way to exclude handleException method from being intercepted ?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":27263586,"reputation":3,"user_id":20786030,"display_name":"ein storage"},"score":0,"creation_date":1671162666,"post_id":74815352,"comment_id":132044589,"body_markdown":"at first I&#39;m confuse why I need to put Uri before even starting to take the image, but I can actually just put it null since it optional, Thanks man. it works great","body":"at first I&#39;m confuse why I need to put Uri before even starting to take the image, but I can actually just put it null since it optional, Thanks man. it works great"},{"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1694276190,"post_id":74815352,"comment_id":135871449,"body_markdown":"I assume 1st code block to put inside onCreate method. Where should the 2nd block of code go ?","body":"I assume 1st code block to put inside onCreate method. Where should the 2nd block of code go ?"},{"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"score":0,"creation_date":1694377501,"post_id":74815352,"comment_id":135879723,"body_markdown":"I implemented complete example here https://github.com/theshoqanebi/image-cropper-java Check it.","body":"I implemented complete example here <a href=\"https://github.com/theshoqanebi/image-cropper-java\" rel=\"nofollow noreferrer\">github.com/theshoqanebi/image-cropper-java</a> Check it."}],"tags":[],"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671125037,"creation_date":1671125037,"answer_id":74815352,"question_id":74814279,"body_markdown":"Make sure you added last version\r\n```\r\ndependencies {\r\n    implementation &quot;com.vanniktech:android-image-cropper:4.5.0&quot;\r\n}\r\n```\r\n\r\nUse this code \r\n```\r\nActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\r\n    if (result.isSuccessful()) {\r\n        Bitmap cropped = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\r\n    }\r\n});\r\n```\r\n\r\n```\r\nCropImageOptions cropImageOptions = new CropImageOptions();\r\ncropImageOptions.imageSourceIncludeGallery = false;\r\ncropImageOptions.imageSourceIncludeCamera = true;\r\nCropImageContractOptions cropImageContractOptions = new CropImageContractOptions(/*pass you image uri*/, cropImageOptions);\r\ncropImage.launch(cropImageContractOptions);\r\n```","title":"How to use CanHub Image Cropper latest version on Java","body":"<p>Make sure you added last version</p>\n<pre><code>dependencies {\n    implementation &quot;com.vanniktech:android-image-cropper:4.5.0&quot;\n}\n</code></pre>\n<p>Use this code</p>\n<pre><code>ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\n    if (result.isSuccessful()) {\n        Bitmap cropped = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\n    }\n});\n</code></pre>\n<pre><code>CropImageOptions cropImageOptions = new CropImageOptions();\ncropImageOptions.imageSourceIncludeGallery = false;\ncropImageOptions.imageSourceIncludeCamera = true;\nCropImageContractOptions cropImageContractOptions = new CropImageContractOptions(/*pass you image uri*/, cropImageOptions);\ncropImage.launch(cropImageContractOptions);\n</code></pre>\n"}],"owner":{"account_id":27263586,"reputation":3,"user_id":20786030,"display_name":"ein storage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815352,"answer_count":1,"score":0,"last_activity_date":1671125037,"creation_date":1671119728,"question_id":74814279,"body_markdown":"Need help, I&#39;m stuck at how to convert kotlin function from CanHub Image Cropper to Java.\r\nIt include two code, Activity result and the calling method\r\n\r\nthe original kotlin code is like this for the activity result:\r\n\r\n```\r\nprivate val cropImage = registerForActivityResult(CropImageContract()) { result -&gt;\r\n    if (result.isSuccessful) {\r\n        // use the returned uri\r\n        val uriContent = result.uriContent\r\n        val bitmap = MediaStore.Images.Media.getBitmap(myActivity.contentResolver, uriContent)\r\n\r\n        imageView.setImageBitmap(bitmap)\r\n\r\n    } else {\r\n        // an error occurred\r\n        val exception = result.error\r\n    }\r\n}\r\n```\r\n\r\nand this is how the calling method in kotlin:\r\n\r\n```\r\ncropImage.launch(\r\n    options {\r\n        setImageSource(\r\n            includeGallery = true,\r\n            includeCamera = true\r\n        )\r\n        setAspectRatio(150,150)\r\n        setGuidelines(CropImageView.Guidelines.ON)\r\n        setOutputCompressFormat(Bitmap.CompressFormat.JPEG)\r\n        setOutputCompressQuality(85)\r\n    }\r\n)\r\n```\r\n\r\n\r\nI try to convert the code into java since my project right now is Java and older library is not compatible with Android 11\r\n\r\nhere is my activity result converted into java, I don&#39;t know if it&#39;s the right one but at least it has no error:\r\n\r\n```\r\nActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(\r\n        new CropImageContract(),\r\n        result -&gt; {\r\n            Uri uriContent = result.getUriContent();\r\n            Bitmap bitmap = null;\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(myActivity.getContentResolver(), uriContent);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            imageView.setImageBitmap(bitmap);\r\n        });\r\n```\r\n\r\nbut I&#39;m stuck at the calling method:\r\n\r\n```\r\nCropImageContractOptions cropImageContractOptions = ? /* &lt;-- what to put here?? */\r\ncropImage.launch(cropImageContractOptions);\r\n```\r\n\r\nI have tried to use option but it just error unresolved variable\r\n\r\nI have taking a look at this: https://stackoverflow.com/questions/71976279/how-to-croping-image-with-source-just-from-camera-with-canhub-android-image-crop\r\n\r\nBut for some reason it does not even work at all for me\r\n\r\nIs CanHub Image Cropper is not compatible with Java at all? ","title":"How to use CanHub Image Cropper latest version on Java","body":"<p>Need help, I'm stuck at how to convert kotlin function from CanHub Image Cropper to Java.\nIt include two code, Activity result and the calling method</p>\n<p>the original kotlin code is like this for the activity result:</p>\n<pre><code>private val cropImage = registerForActivityResult(CropImageContract()) { result -&gt;\n    if (result.isSuccessful) {\n        // use the returned uri\n        val uriContent = result.uriContent\n        val bitmap = MediaStore.Images.Media.getBitmap(myActivity.contentResolver, uriContent)\n\n        imageView.setImageBitmap(bitmap)\n\n    } else {\n        // an error occurred\n        val exception = result.error\n    }\n}\n</code></pre>\n<p>and this is how the calling method in kotlin:</p>\n<pre><code>cropImage.launch(\n    options {\n        setImageSource(\n            includeGallery = true,\n            includeCamera = true\n        )\n        setAspectRatio(150,150)\n        setGuidelines(CropImageView.Guidelines.ON)\n        setOutputCompressFormat(Bitmap.CompressFormat.JPEG)\n        setOutputCompressQuality(85)\n    }\n)\n</code></pre>\n<p>I try to convert the code into java since my project right now is Java and older library is not compatible with Android 11</p>\n<p>here is my activity result converted into java, I don't know if it's the right one but at least it has no error:</p>\n<pre><code>ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(\n        new CropImageContract(),\n        result -&gt; {\n            Uri uriContent = result.getUriContent();\n            Bitmap bitmap = null;\n            try {\n                bitmap = MediaStore.Images.Media.getBitmap(myActivity.getContentResolver(), uriContent);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            imageView.setImageBitmap(bitmap);\n        });\n</code></pre>\n<p>but I'm stuck at the calling method:</p>\n<pre><code>CropImageContractOptions cropImageContractOptions = ? /* &lt;-- what to put here?? */\ncropImage.launch(cropImageContractOptions);\n</code></pre>\n<p>I have tried to use option but it just error unresolved variable</p>\n<p>I have taking a look at this: <a href=\"https://stackoverflow.com/questions/71976279/how-to-croping-image-with-source-just-from-camera-with-canhub-android-image-crop\">How to croping image with source just from camera with Canhub Android Image Cropper with Java</a></p>\n<p>But for some reason it does not even work at all for me</p>\n<p>Is CanHub Image Cropper is not compatible with Java at all?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1671125405,"post_id":74815338,"comment_id":132036305,"body_markdown":"If I understand what you&#39;re saying, you shouldn&#39;t have a single Lambda function for multiple (dev/prod/etc) environments.","body":"If I understand what you&#39;re saying, you shouldn&#39;t have a single Lambda function for multiple (dev/prod/etc) environments."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671126264,"post_id":74815338,"comment_id":132036562,"body_markdown":"I have single lambda function , right, now that lambda is purely written using java APIs no framework, right, now I have multiple env like qa,dev,statging, right. I am not able to achieve the environment specific profiling, what is the approach, using ultiple lambda for each env??\\","body":"I have single lambda function , right, now that lambda is purely written using java APIs no framework, right, now I have multiple env like qa,dev,statging, right. I am not able to achieve the environment specific profiling, what is the approach, using ultiple lambda for each env??\\"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1671126826,"post_id":74815338,"comment_id":132036717,"body_markdown":"I&#39;m saying that if you have 3 environments (qa, dev, staging) then you should have 3 Lambda functions. Their code might be identical but they are 3 different Lambda functions and hence each can have its own environment variables or XML settings file or whatever so they can each do environment-specific things. Ideally, they&#39;d also be deployed in 3 different AWS accounts, but that&#39;s for another day.","body":"I&#39;m saying that if you have 3 environments (qa, dev, staging) then you should have 3 Lambda functions. Their code might be identical but they are 3 different Lambda functions and hence each can have its own environment variables or XML settings file or whatever so they can each do environment-specific things. Ideally, they&#39;d also be deployed in 3 different AWS accounts, but that&#39;s for another day."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671127101,"post_id":74815338,"comment_id":132036800,"body_markdown":"Fair enough, that means we don&#39;t have any provision to achieve env profiling just like spring boot in aws lambda java, please correct my understanding.","body":"Fair enough, that means we don&#39;t have any provision to achieve env profiling just like spring boot in aws lambda java, please correct my understanding."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1671127442,"post_id":74815338,"comment_id":132036901,"body_markdown":"I&#39;d expect you to be able to dictate which profile is active through a Lambda environment variable (see [example](https://www.kapresoft.com/java/2019/10/20/aws-lambda-spring-boot-profiles.html)). Each of your 3 Lambda functions would have a different value set for the active profile.","body":"I&#39;d expect you to be able to dictate which profile is active through a Lambda environment variable (see <a href=\"https://www.kapresoft.com/java/2019/10/20/aws-lambda-spring-boot-profiles.html\" rel=\"nofollow noreferrer\">example</a>). Each of your 3 Lambda functions would have a different value set for the active profile."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1671134162,"post_id":74815338,"comment_id":132038970,"body_markdown":"Your maven script already builds 3 different packages depending on the profile selected at build time.  Unless the caller to your Lambda specifies the environment how would the code &quot;know&quot; that which environment is being used?","body":"Your maven script already builds 3 different packages depending on the profile selected at build time.  Unless the caller to your Lambda specifies the environment how would the code &quot;know&quot; that which environment is being used?"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671169721,"post_id":74815338,"comment_id":132045564,"body_markdown":"That &quot;How would...&#39; I want to figured it out, if maven already build the selected profile, then How I tell lambda that you need to pick this profile, please help me on this","body":"That &quot;How would...&#39; I want to figured it out, if maven already build the selected profile, then How I tell lambda that you need to pick this profile, please help me on this"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671124986,"creation_date":1671124986,"question_id":74815338,"body_markdown":"I have written AWS lambda using java 11 runtime, not the lambda snippet require to invoke external API, the APIs are different for dev, qa, uat and preprod environment.\r\n\r\nThere is no framework has been integrating, the pure Java SDK is used to write the lambda handler.\r\n\r\nI have created environment specific properties file, dev.properties, qa.properties etc.\r\nI tried to create the jar using maven profile like below \r\n\r\nI have added profile section in my pom.xml\r\n\r\n    &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;&lt;/id&gt;\r\n    \t\t&lt;activation&gt;\r\n    \t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t&lt;/activation&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;local&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-local&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;dev&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-dev&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;qa&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-qa&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;preprod&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-preprod&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-prod&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;finalName&gt;trv-lambda&lt;/finalName&gt;\r\n    \t&lt;filters&gt;\r\n    \t\t&lt;filter&gt;src/main/resources/application${env}.properties&lt;/filter&gt;\r\n    \t&lt;/filters&gt;\r\n    \r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;*.properties&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n\r\nAnd then after, I used the below command\r\n\r\n    mvn -P dev clean install\r\n\r\nbut it didn&#39;t work.\r\n\r\nThen I tried to specify the environment variables inside AWS Lambda, but later I realized that it won&#39;t work, because I have trigger for every env, but I have single lambda to trigger for all the environment, how do I identify which profile need to pick, for single time, only single jar can be created, so I am stuck here\r\n\r\nI want to figure out the way to achieve the profiling just like we used to did in Spring boot.\r\n ","title":"Java 11 environment specific profiling in AWS lambda","body":"<p>I have written AWS lambda using java 11 runtime, not the lambda snippet require to invoke external API, the APIs are different for dev, qa, uat and preprod environment.</p>\n<p>There is no framework has been integrating, the pure Java SDK is used to write the lambda handler.</p>\n<p>I have created environment specific properties file, dev.properties, qa.properties etc.\nI tried to create the jar using maven profile like below</p>\n<p>I have added profile section in my pom.xml</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;env&gt;&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-local&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-dev&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;qa&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-qa&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;preprod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-preprod&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;prod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-prod&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;trv-lambda&lt;/finalName&gt;\n    &lt;filters&gt;\n        &lt;filter&gt;src/main/resources/application${env}.properties&lt;/filter&gt;\n    &lt;/filters&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>And then after, I used the below command</p>\n<pre><code>mvn -P dev clean install\n</code></pre>\n<p>but it didn't work.</p>\n<p>Then I tried to specify the environment variables inside AWS Lambda, but later I realized that it won't work, because I have trigger for every env, but I have single lambda to trigger for all the environment, how do I identify which profile need to pick, for single time, only single jar can be created, so I am stuck here</p>\n<p>I want to figure out the way to achieve the profiling just like we used to did in Spring boot.</p>\n"},{"tags":["java","retrofit2"],"comments":[{"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"score":0,"creation_date":1671108006,"post_id":74795424,"comment_id":132029587,"body_markdown":"I&#39;m not familiar with retrofit, but saw this line in your code: `if (retrofit == null) {` - that means that you only replace the retrofit instance if it was null... And the token&#39;s set in that code, so you&#39;ll keep getting the instance with the original token, rather than the instance with the modified token, if I&#39;ve understood correctly.","body":"I&#39;m not familiar with retrofit, but saw this line in your code: <code>if (retrofit == null) {</code> - that means that you only replace the retrofit instance if it was null... And the token&#39;s set in that code, so you&#39;ll keep getting the instance with the original token, rather than the instance with the modified token, if I&#39;ve understood correctly."},{"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"score":0,"creation_date":1671108265,"post_id":74795424,"comment_id":132029690,"body_markdown":"If that&#39;s the issue, a quick fix could be to compare the token passed to the method with the token used to create the retrofit instance (if it&#39;s exposed as a property on the Retrofit class use that; if not, hold it in another static variable and set it when you set the retrofit variable itself, so it shows the token that&#39;s used by that instance at any time); that way you reuse the existing instance when appropriate, but renew whenever you have a fresh token value, so it&#39;ll always work as expected.","body":"If that&#39;s the issue, a quick fix could be to compare the token passed to the method with the token used to create the retrofit instance (if it&#39;s exposed as a property on the Retrofit class use that; if not, hold it in another static variable and set it when you set the retrofit variable itself, so it shows the token that&#39;s used by that instance at any time); that way you reuse the existing instance when appropriate, but renew whenever you have a fresh token value, so it&#39;ll always work as expected."},{"owner":{"account_id":23793352,"reputation":3,"user_id":17804555,"display_name":"Michael Blaser"},"score":1,"creation_date":1671109973,"post_id":74795424,"comment_id":132030316,"body_markdown":"That is the solution of\nJohnlBevan. I have the line: if (retrofit == zero) {\nturned off. And it works! Thanks for your support.","body":"That is the solution of JohnlBevan. I have the line: if (retrofit == zero) { turned off. And it works! Thanks for your support."}],"answers":[{"tags":[],"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671124042,"creation_date":1671124042,"answer_id":74815177,"question_id":74795424,"body_markdown":"Your method has the below logic:\r\n\r\n\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl, String token) {\r\n        if (retrofit == null) {\r\n           // ...\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n\r\nBecause `retrofit` is defined as static it will keep its given value from the moment it&#39;s first assigned / even without the `static` keyword it would keep that value for the duration of the instantiated object&#39;s lifetime.  \r\n\r\nThe first time `getClient` is called the value is null, so the logic in the `if` block is run &amp; the retrofit gets defined with an Authorization header which includes the given `token` value.  \r\n\r\nHowever, subsequent calls to `getClient` will see that `retrofit` is already assigned, so will just return it; regardless of what parameters were sent to the method (i.e. even if there&#39;s a new token), and as the variable is static this will be true even if you&#39;ve created a new instance of your `RetrofitClient`.\r\n\r\nThere are various solutions:\r\n\r\n1) Remove the `if` statement so that the logic within it is run every time.  This will incur some performance overhead (i.e. as you&#39;re having to do work for every request, even if the `baseUrl` and `token` values are the same as previously), but will return a `Retrofit` instance with the correct values every time.  If doing this, you may not need the `private static Retrofit retrofit  = null;` line at all; as the value is created and returned entirely within your `getClient` method; so making the value accessible outside of this context just adds risk.\r\n\r\n2) Remove the `static` keyword and create a new instance of the `RetrofitClient` class for each new baseUrl + token value (i.e. each time your token expires).  This may require additional refactoring, as you&#39;ll then require an instance of your class to access the `getClient` method.\r\n\r\n3) Add code such as below, to check if the values are different to previous requests and update `retrofit` only when required.  E.g.\r\n\r\n```\r\nprivate static Retrofit retrofit = null;\r\nprivate static String baseUrlCached = null;\r\nprivate static String tokenCached = null;\r\n\r\npublic static Retrofit getClient(String baseUrl, String token) {\r\n    if (retrofit == null || (baseUrl != baseUrlCached || token != tokenCached)) {\r\n       // ...\r\n    }\r\n    return retrofit;\r\n}\r\n```\r\n\r\n","title":"Why does my retrofit always get the query with old tokens?","body":"<p>Your method has the below logic:</p>\n<pre><code>private static Retrofit retrofit = null;\n\npublic static Retrofit getClient(String baseUrl, String token) {\n    if (retrofit == null) {\n       // ...\n    }\n    return retrofit;\n}\n</code></pre>\n<p>Because <code>retrofit</code> is defined as static it will keep its given value from the moment it's first assigned / even without the <code>static</code> keyword it would keep that value for the duration of the instantiated object's lifetime.</p>\n<p>The first time <code>getClient</code> is called the value is null, so the logic in the <code>if</code> block is run &amp; the retrofit gets defined with an Authorization header which includes the given <code>token</code> value.</p>\n<p>However, subsequent calls to <code>getClient</code> will see that <code>retrofit</code> is already assigned, so will just return it; regardless of what parameters were sent to the method (i.e. even if there's a new token), and as the variable is static this will be true even if you've created a new instance of your <code>RetrofitClient</code>.</p>\n<p>There are various solutions:</p>\n<ol>\n<li><p>Remove the <code>if</code> statement so that the logic within it is run every time.  This will incur some performance overhead (i.e. as you're having to do work for every request, even if the <code>baseUrl</code> and <code>token</code> values are the same as previously), but will return a <code>Retrofit</code> instance with the correct values every time.  If doing this, you may not need the <code>private static Retrofit retrofit  = null;</code> line at all; as the value is created and returned entirely within your <code>getClient</code> method; so making the value accessible outside of this context just adds risk.</p>\n</li>\n<li><p>Remove the <code>static</code> keyword and create a new instance of the <code>RetrofitClient</code> class for each new baseUrl + token value (i.e. each time your token expires).  This may require additional refactoring, as you'll then require an instance of your class to access the <code>getClient</code> method.</p>\n</li>\n<li><p>Add code such as below, to check if the values are different to previous requests and update <code>retrofit</code> only when required.  E.g.</p>\n</li>\n</ol>\n<pre><code>private static Retrofit retrofit = null;\nprivate static String baseUrlCached = null;\nprivate static String tokenCached = null;\n\npublic static Retrofit getClient(String baseUrl, String token) {\n    if (retrofit == null || (baseUrl != baseUrlCached || token != tokenCached)) {\n       // ...\n    }\n    return retrofit;\n}\n</code></pre>\n"}],"owner":{"account_id":23793352,"reputation":3,"user_id":17804555,"display_name":"Michael Blaser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815177,"answer_count":1,"score":0,"last_activity_date":1671124042,"creation_date":1671006580,"question_id":74795424,"body_markdown":"In my app I use Retrofit2 with a service to collect data on eBay. For this I need a token that is valid for 2 hours. \r\n\r\nIf I start the query, the token is taken over from my database and works. If the 2 hours have expired, the token will be re-entered in the database. But when the data is picked up again on Ebay, I get an error 401 - unauthorized access. I use a `MainActivity` and invite the fragments there. As soon as I restart the app, everything works again. I suspect that the service does not update the token when query and use the old token. How can I end the service or query and start with the new token? What could be the problem?\r\n\r\n\r\n```java\r\npublic class RetrofitClient {\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl, String token) {\r\n        if (retrofit == null) {\r\n\r\n            String auth = &quot;Bearer &quot; + token;\r\n            String cont = &quot;application/json&quot;;\r\n\r\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\r\n\r\n            okHttpClient.addInterceptor(chain -&gt; {\r\n                Request request = chain.request().newBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, auth)\r\n                        .addHeader(&quot;Content-Type&quot;, cont)\r\n                        .build();\r\n                return chain.proceed(request);\r\n            });\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(okHttpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n```\r\n\r\n\r\nWhen picking up the token from the database, according to log, the current token is always read out. But the feedback from eBay is always the 401 error.\r\n\r\n**Edit:** The OkHttp connection keeps the token. Since the same address is called up, the previous connection with the old token is used. How can I replace/replace the token?","title":"Why does my retrofit always get the query with old tokens?","body":"<p>In my app I use Retrofit2 with a service to collect data on eBay. For this I need a token that is valid for 2 hours.</p>\n<p>If I start the query, the token is taken over from my database and works. If the 2 hours have expired, the token will be re-entered in the database. But when the data is picked up again on Ebay, I get an error 401 - unauthorized access. I use a <code>MainActivity</code> and invite the fragments there. As soon as I restart the app, everything works again. I suspect that the service does not update the token when query and use the old token. How can I end the service or query and start with the new token? What could be the problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RetrofitClient {\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseUrl, String token) {\n        if (retrofit == null) {\n\n            String auth = &quot;Bearer &quot; + token;\n            String cont = &quot;application/json&quot;;\n\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\n\n            okHttpClient.addInterceptor(chain -&gt; {\n                Request request = chain.request().newBuilder()\n                        .addHeader(&quot;Authorization&quot;, auth)\n                        .addHeader(&quot;Content-Type&quot;, cont)\n                        .build();\n                return chain.proceed(request);\n            });\n\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(okHttpClient.build())\n                    .build();\n        }\n        return retrofit;\n    }\n</code></pre>\n<p>When picking up the token from the database, according to log, the current token is always read out. But the feedback from eBay is always the 401 error.</p>\n<p><strong>Edit:</strong> The OkHttp connection keeps the token. Since the same address is called up, the previous connection with the old token is used. How can I replace/replace the token?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1630152722,"post_id":68962694,"comment_id":121881110,"body_markdown":"The error is saying that the address you provided is returning html, not JSON","body":"The error is saying that the address you provided is returning html, not JSON"},{"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"score":0,"creation_date":1630172540,"post_id":68962694,"comment_id":121885963,"body_markdown":"right, which means I&#39;m not connected to the schema somehow, and something is wrong with the configurations.. a. ny idea what exactly?","body":"right, which means I&#39;m not connected to the schema somehow, and something is wrong with the configurations.. a. ny idea what exactly?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1630239340,"post_id":68962694,"comment_id":121897002,"body_markdown":"I&#39;m not sure your ssl properties are all correct. The Kafka properties themselves have periods, not hyphens https://stackoverflow.com/questions/51200107/spring-kafka-ssl-setup-in-spring-boot-application-yml","body":"I&#39;m not sure your ssl properties are all correct. The Kafka properties themselves have periods, not hyphens <a href=\"https://stackoverflow.com/questions/51200107/spring-kafka-ssl-setup-in-spring-boot-application-yml\" title=\"spring kafka ssl setup in spring boot application yml\">stackoverflow.com/questions/51200107/&hellip;</a>"}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123857,"creation_date":1630139879,"question_id":68962694,"body_markdown":"I&#39;m trying to connect a spring boot Kafka application to a schema registry to read messages, but I keep running into an issue.\r\n\r\nmy **application.yaml** looks like this\r\n```yaml\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: //server_url:port\r\n    client-id: //client_id\r\n    consumer:\r\n      ssl:\r\n        key-password: //password\r\n        key-store-password: //password\r\n        key-store-location: //path to jks\r\n        key-store-type: jks\r\n        trust-store-password: //password\r\n        trust-store-location: //path to jks\r\n        trust-store-type: jks\r\n      bootstrap-servers: //server_url:port\r\n      auto-offset-reset: earliest\r\n      client-id: //client_id\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    properties:\r\n      schema.registry.url: // https:schema_reg_url\r\n      sasl.mechanism: PLAIN\r\n      security.protocol: SSL\r\n      ssl.endpoint.identification.algorithm:\r\n```\r\n\r\n**Main class**\r\n```java\r\n@SpringBootApplication\r\n@EnableKafka\r\npublic class AksKafkaConsumer {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(AksKafkaConsumer.class, args);\r\n  }\r\n}\r\n```\r\nThen my **Kafka Listener service**\r\n```java\r\n@Service\r\npublic class listenerService {\r\n  @KafkaListener(topics = &quot;topic_name&quot;, groupId = &quot;group_id&quot;)\r\n  public void consumer(GenericRecord record) {\r\n    System.out.println(record);\r\n  }\r\n}\r\n```\r\n\r\nwhile running this, I&#39;m always getting an error as follows\r\n```stack\r\nERROR o.s.klistener.LoggingErrorHandler.handle - Error while processing null\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition [---] at offset 700501. If needed, please seek past the record to continue consumption\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error retreiving Avro schema for id 1234\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exception.RestClientException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, oject, &#39;true&#39;, &#39;false&#39;, or &#39;null&#39;)\r\nat[source: (sun.net.www.protocol.http.HttpUrlConnection$HttpInputStream): line 1, column 2]; error code 50005\r\n.......\r\n```\r\n\r\nI know there&#39;s nothing wrong with the topic messages, because I can view it &amp; even consume it through another application.\r\n\r\nany thing I&#39;m doing wrong that&#39;s causing me not reading the message? is it a schema registry connection problem??? \r\n\r\nthe KafkaListener method is working for consuming String messages, but I need to consume a GenericRecord.\r\n\r\nany suggestions?\r\n\r\n**EDIT** - \r\nI can connect in a different way as a POC, but it doesn&#39;t really serve my purposes. This is how...\r\n**Main Class**\r\n```java\r\n@SpringBootApplication\r\n@EnableKafka\r\npublic class AksKafkaConsumer {\r\n  public void main (String[] args) {\r\n    ApplicationContext appContxt = SpringApplication.run(AksKafkaConsumer.class, args);\r\n    KafkaConsumerService service = appContxt.getBean(AksKafkaConsumer.class);\r\n    service.consumMsg(args);\r\n  }\r\n\r\n  @Service\r\n  class KafkaConsumerService {\r\n    public void consumMsg(String[] args) {\r\n      Properties props = new Properties();\r\n      ......\r\n      props.put(ProducreConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;bootstrap_config&quot;);\r\n      props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;schema_registry_url&quot;);\r\n      props.put(CONSUMER_CONFIG.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n      props.put(CONSUMER_CONFIG.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n      //this goes on to manually setup 12 other property\r\n      .....\r\n\r\n      KafkaConsumer&lt;GenericRecord, GenericRecord&gt; consumer = null\r\n\r\n      try {\r\n        ArrayList&lt;String&gt; topics = new ArrayList&lt;String&gt;();\r\n        topics.add(&quot;topic_name&quot;);\r\n        consumer = new KafkaConsumer&lt;GenericRecord, GenericRecord&gt;(props);\r\n        consumer.subscribe(topics);\r\n\r\n        while(true) {\r\n          ConsumerRecord&lt;GenericRecord, GenericRecord&gt; records = consumer.poll(1000);\r\n          for (ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record : records) {\r\n           System.out.println(record);  \r\n         }\r\n        }\r\n        catch (Exception e) { ... }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nManually adding all the configurations like that, is causing all sort of problems, especially with pulling the key/trust store jks files..... plus while running from an IDE I need to also set System.setProperty() too.\r\n\r\nAlso, I don&#39;t like exposing the jks file path &amp; passwords from the main class like that.\r\n\r\nI&#39;m okay with building a separate configuration class for it, I&#39;m just not sure I know how to configure something like that (w/ schema registry).\r\n\r\n**ANY** help or pointers would be appreciated.","title":"Connecting my Kafka Consumer to a Schema registry","body":"<p>I'm trying to connect a spring boot Kafka application to a schema registry to read messages, but I keep running into an issue.</p>\n<p>my <strong>application.yaml</strong> looks like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    bootstrap-servers: //server_url:port\n    client-id: //client_id\n    consumer:\n      ssl:\n        key-password: //password\n        key-store-password: //password\n        key-store-location: //path to jks\n        key-store-type: jks\n        trust-store-password: //password\n        trust-store-location: //path to jks\n        trust-store-type: jks\n      bootstrap-servers: //server_url:port\n      auto-offset-reset: earliest\n      client-id: //client_id\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n    properties:\n      schema.registry.url: // https:schema_reg_url\n      sasl.mechanism: PLAIN\n      security.protocol: SSL\n      ssl.endpoint.identification.algorithm:\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableKafka\npublic class AksKafkaConsumer {\n  public static void main(String[] args) {\n    SpringApplication.run(AksKafkaConsumer.class, args);\n  }\n}\n</code></pre>\n<p>Then my <strong>Kafka Listener service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class listenerService {\n  @KafkaListener(topics = &quot;topic_name&quot;, groupId = &quot;group_id&quot;)\n  public void consumer(GenericRecord record) {\n    System.out.println(record);\n  }\n}\n</code></pre>\n<p>while running this, I'm always getting an error as follows</p>\n<pre><code>ERROR o.s.klistener.LoggingErrorHandler.handle - Error while processing null\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition [---] at offset 700501. If needed, please seek past the record to continue consumption\nCaused by: org.apache.kafka.common.errors.SerializationException: Error retreiving Avro schema for id 1234\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exception.RestClientException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, oject, 'true', 'false', or 'null')\nat[source: (sun.net.www.protocol.http.HttpUrlConnection$HttpInputStream): line 1, column 2]; error code 50005\n.......\n</code></pre>\n<p>I know there's nothing wrong with the topic messages, because I can view it &amp; even consume it through another application.</p>\n<p>any thing I'm doing wrong that's causing me not reading the message? is it a schema registry connection problem???</p>\n<p>the KafkaListener method is working for consuming String messages, but I need to consume a GenericRecord.</p>\n<p>any suggestions?</p>\n<p><strong>EDIT</strong> -\nI can connect in a different way as a POC, but it doesn't really serve my purposes. This is how...\n<strong>Main Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableKafka\npublic class AksKafkaConsumer {\n  public void main (String[] args) {\n    ApplicationContext appContxt = SpringApplication.run(AksKafkaConsumer.class, args);\n    KafkaConsumerService service = appContxt.getBean(AksKafkaConsumer.class);\n    service.consumMsg(args);\n  }\n\n  @Service\n  class KafkaConsumerService {\n    public void consumMsg(String[] args) {\n      Properties props = new Properties();\n      ......\n      props.put(ProducreConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;bootstrap_config&quot;);\n      props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;schema_registry_url&quot;);\n      props.put(CONSUMER_CONFIG.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n      props.put(CONSUMER_CONFIG.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n      //this goes on to manually setup 12 other property\n      .....\n\n      KafkaConsumer&lt;GenericRecord, GenericRecord&gt; consumer = null\n\n      try {\n        ArrayList&lt;String&gt; topics = new ArrayList&lt;String&gt;();\n        topics.add(&quot;topic_name&quot;);\n        consumer = new KafkaConsumer&lt;GenericRecord, GenericRecord&gt;(props);\n        consumer.subscribe(topics);\n\n        while(true) {\n          ConsumerRecord&lt;GenericRecord, GenericRecord&gt; records = consumer.poll(1000);\n          for (ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record : records) {\n           System.out.println(record);  \n         }\n        }\n        catch (Exception e) { ... }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Manually adding all the configurations like that, is causing all sort of problems, especially with pulling the key/trust store jks files..... plus while running from an IDE I need to also set System.setProperty() too.</p>\n<p>Also, I don't like exposing the jks file path &amp; passwords from the main class like that.</p>\n<p>I'm okay with building a separate configuration class for it, I'm just not sure I know how to configure something like that (w/ schema registry).</p>\n<p><strong>ANY</strong> help or pointers would be appreciated.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1389717,"reputation":25845,"user_id":1320845,"display_name":"Charles Mager"},"score":0,"creation_date":1671123974,"post_id":74815132,"comment_id":132035838,"body_markdown":"Have you tried using [`read`](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#read--) instead of `readLine`?","body":"Have you tried using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#read--\" rel=\"nofollow noreferrer\"><code>read</code></a> instead of <code>readLine</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671124150,"post_id":74815132,"comment_id":132035882,"body_markdown":"`read(char[])` is what you need, as @CharlesMager says. Create a `String` from the array","body":"<code>read(char[])</code> is what you need, as @CharlesMager says. Create a <code>String</code> from the array"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671124156,"post_id":74815132,"comment_id":132035886,"body_markdown":"Any of the other `read` methods of `Reader` can be used. If you don&#39;t need `readLine` you can also just leave out the `BufferedReader` entirely. Also [please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"Any of the other <code>read</code> methods of <code>Reader</code> can be used. If you don&#39;t need <code>readLine</code> you can also just leave out the <code>BufferedReader</code> entirely. Also <a href=\"//meta.stackoverflow.com/q/285551\">please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":11773460,"reputation":13,"user_id":13014517,"display_name":"Bruno Morato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123855,"creation_date":1671123855,"question_id":74815132,"body_markdown":"I need to read only one character in a text File. Inside my method I&#39;ve already have the BufferedReader object with the resource inside. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/X4dIX.png)](https://i.stack.imgur.com/X4dIX.png) \r\n\r\nI can&#39;t read the line because my text file is ebcdic and it has more than 2GB on the same line.\r\nThere&#39;s no another line.\r\nThe object String doesn&#39;t support more than 2GB.\r\n\r\nI need to check the first characters.\r\n\r\nCan anybody help me?\r\nThanks!\r\n\r\nI&#39;ve tried to use the Scanner object and its methods but it didn&#39;t work.","title":"How to read just one character on a text File (or few characters) without using readLine() method?","body":"<p>I need to read only one character in a text File. Inside my method I've already have the BufferedReader object with the resource inside.</p>\n<p><a href=\"https://i.stack.imgur.com/X4dIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4dIX.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't read the line because my text file is ebcdic and it has more than 2GB on the same line.\nThere's no another line.\nThe object String doesn't support more than 2GB.</p>\n<p>I need to check the first characters.</p>\n<p>Can anybody help me?\nThanks!</p>\n<p>I've tried to use the Scanner object and its methods but it didn't work.</p>\n"},{"tags":["java","excel","apache-poi","file-writing"],"answers":[{"tags":[],"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671123426,"creation_date":1671123426,"answer_id":74815045,"question_id":74813902,"body_markdown":"You cannot always rely on the CellType in your special case. It may happen that you have a cell with whitespaces in, identified as STRING. So check the content of cell.getStringCellValue() and replace by dash if empty.","title":"Apache POI Blank cell enum isnt working properly?","body":"<p>You cannot always rely on the CellType in your special case. It may happen that you have a cell with whitespaces in, identified as STRING. So check the content of cell.getStringCellValue() and replace by dash if empty.</p>\n"}],"owner":{"display_name":"user20137453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815045,"answer_count":1,"score":0,"last_activity_date":1671123426,"creation_date":1671118124,"question_id":74813902,"body_markdown":"I am trying to write the data from an excel file to a text file and if there is a blank cell I need to write &quot;-&quot; to the file. However this doesn&#39;t work on some excel files for reasons I do not understand.\r\n\r\nHere&#39;s the code:\r\n\r\n    for (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\r\n            sheet = wb.getSheetAt(i);\r\n            fw = new FileWriter(&quot;C:\\\\Users\\\\Emre\\\\Desktop\\\\excelstore.txt&quot;);\r\n            for (Row row : sheet) {\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    switch (cell.getCellType()) {\r\n                        case STRING:\r\n                            fw.write(cell.getStringCellValue() + &quot;,&quot;);\r\n                            break;\r\n                        case NUMERIC:\r\n                            fw.write(cell.getNumericCellValue() + &quot;,&quot;);\r\n                            break;\r\n                        case BLANK:\r\n                            fw.write(&quot;-&quot; + &quot;,&quot;);\r\n                        default:\r\n                    }\r\n                }\r\n                fw.write(&quot;\\n&quot;);\r\n\r\n            }\r\n            fw.close();\r\n\r\nPic of the excel file im supposed to read it from: https://ibb.co/2NqDgtj\r\n\r\nHere is the output: https://ibb.co/MnMS0Dp","title":"Apache POI Blank cell enum isnt working properly?","body":"<p>I am trying to write the data from an excel file to a text file and if there is a blank cell I need to write &quot;-&quot; to the file. However this doesn't work on some excel files for reasons I do not understand.</p>\n<p>Here's the code:</p>\n<pre><code>for (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\n        sheet = wb.getSheetAt(i);\n        fw = new FileWriter(&quot;C:\\\\Users\\\\Emre\\\\Desktop\\\\excelstore.txt&quot;);\n        for (Row row : sheet) {\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                switch (cell.getCellType()) {\n                    case STRING:\n                        fw.write(cell.getStringCellValue() + &quot;,&quot;);\n                        break;\n                    case NUMERIC:\n                        fw.write(cell.getNumericCellValue() + &quot;,&quot;);\n                        break;\n                    case BLANK:\n                        fw.write(&quot;-&quot; + &quot;,&quot;);\n                    default:\n                }\n            }\n            fw.write(&quot;\\n&quot;);\n\n        }\n        fw.close();\n</code></pre>\n<p>Pic of the excel file im supposed to read it from: <a href=\"https://ibb.co/2NqDgtj\" rel=\"nofollow noreferrer\">https://ibb.co/2NqDgtj</a></p>\n<p>Here is the output: <a href=\"https://ibb.co/MnMS0Dp\" rel=\"nofollow noreferrer\">https://ibb.co/MnMS0Dp</a></p>\n"},{"tags":["java","xml","xsd","jaxb","moxy"],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671123415,"creation_date":1671123415,"question_id":74815041,"body_markdown":"I would like to validate the XML against XSD using the Moxy implementation so I have added the dependency for the same in `pom.xmml`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have created custom ErrorHandler to handle all the errors:\r\n```\r\nimport jakarta.xml.bind.ValidationEvent;\r\nimport jakarta.xml.bind.ValidationEventHandler;\r\n\r\npublic class MyValidationEventHandler implements ValidationEventHandler {\r\n\r\n    public boolean handleEvent(ValidationEvent event) {\r\n        System.out.println(&quot;EVENT&quot;);\r\n        System.out.println(&quot;SEVERITY: &quot; + event.getSeverity());\r\n        System.out.println(&quot;MESSAGE: &quot; + event.getMessage());\r\n        System.out.println(&quot;LINKED EXCEPTION: &quot; + event.getLinkedException());\r\n        System.out.println(&quot;LOCATOR&quot;);\r\n        System.out.println(&quot;LINE NUMBER: &quot; + event.getLocator().getLineNumber());\r\n        System.out.println(&quot;COLUMN NUMBER: &quot; + event.getLocator().getColumnNumber());\r\n        System.out.println(&quot;OFFSET: &quot; + event.getLocator().getOffset());\r\n        System.out.println(&quot;OBJECT: &quot; + event.getLocator().getObject());\r\n        System.out.println(&quot;NODE: &quot; + event.getLocator().getNode());\r\n        System.out.println(&quot;URL: &quot; + event.getLocator().getURL());\r\n        System.out.println(&quot;\\n \\n&quot;);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nFollowing is my Main class to validate the XML:\r\n```\r\nimport jakarta.xml.bind.JAXBContext;\r\nimport jakarta.xml.bind.Unmarshaller;\r\n\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport javax.xml.validation.Schema;\r\nimport javax.xml.validation.SchemaFactory;\r\nimport java.io.InputStream;\r\n\r\npublic class ValidateXmlWithXsd {\r\n    public static void main(String[] args) throws Exception {\r\n        // Create a SchemaFactory object\r\n        SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\r\n        // Load the XSD schema file\r\n        final InputStream xsdDocument = TestMain.class.getResourceAsStream(&quot;/xsd/myXSD.xsd&quot;);\r\n        final Source xsdSource = new StreamSource(xsdDocument);\r\n        Schema schema = sf.newSchema(xsdSource);\r\n\r\n        // Create a JAXBContext\r\n        JAXBContext jc = JAXBContext.newInstance();\r\n\r\n        // Create an Unmarshaller object\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        unmarshaller.setSchema(schema);\r\n        unmarshaller.setEventHandler(new MyValidationEventHandler());\r\n\r\n        // Unmarshal the XML document, using the schema for validation\r\n        final InputStream xmlDocument = TestMain.class.getResourceAsStream( &quot;/myXML.xml&quot;);\r\n        unmarshaller.unmarshal(xmlDocument);\r\n    }\r\n}\r\n```\r\n\r\nI am facing few issues:\r\n1. I am unable to add the `JAXBContext` from `Moxy` then I try to add something like this then I get the error:\r\n```\r\n// Create a JAXBContext\r\norg.eclipse.persistence.jaxb.JAXBContext jc = org.eclipse.persistence.jaxb.JAXBContext.newInstance();\r\n```\r\nThen I get the error:\r\n```\r\nRequired type: org.eclipse.persistence.jaxb.JAXBContext\r\nProvided: jakarta.xml.bind.JAXBContext\r\n```\r\n\r\n2. When I use the `jakarta.xml.bind.JAXBContext` and validate my XML then I for some reason get all the errors for all elements which should not happen because my XSD does not require all elements.\r\n\r\nI would like to know how to validate a XML against XSD using the `Moxy` without needing to use the `POJO` class and how to capture all the errors not just a single error and throw exception.","title":"How to validate XML against XSD using the Moxy implementation without POJO and capture all errors?","body":"<p>I would like to validate the XML against XSD using the Moxy implementation so I have added the dependency for the same in <code>pom.xmml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have created custom ErrorHandler to handle all the errors:</p>\n<pre><code>import jakarta.xml.bind.ValidationEvent;\nimport jakarta.xml.bind.ValidationEventHandler;\n\npublic class MyValidationEventHandler implements ValidationEventHandler {\n\n    public boolean handleEvent(ValidationEvent event) {\n        System.out.println(&quot;EVENT&quot;);\n        System.out.println(&quot;SEVERITY: &quot; + event.getSeverity());\n        System.out.println(&quot;MESSAGE: &quot; + event.getMessage());\n        System.out.println(&quot;LINKED EXCEPTION: &quot; + event.getLinkedException());\n        System.out.println(&quot;LOCATOR&quot;);\n        System.out.println(&quot;LINE NUMBER: &quot; + event.getLocator().getLineNumber());\n        System.out.println(&quot;COLUMN NUMBER: &quot; + event.getLocator().getColumnNumber());\n        System.out.println(&quot;OFFSET: &quot; + event.getLocator().getOffset());\n        System.out.println(&quot;OBJECT: &quot; + event.getLocator().getObject());\n        System.out.println(&quot;NODE: &quot; + event.getLocator().getNode());\n        System.out.println(&quot;URL: &quot; + event.getLocator().getURL());\n        System.out.println(&quot;\\n \\n&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p>Following is my Main class to validate the XML:</p>\n<pre><code>import jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.Unmarshaller;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport java.io.InputStream;\n\npublic class ValidateXmlWithXsd {\n    public static void main(String[] args) throws Exception {\n        // Create a SchemaFactory object\n        SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n\n        // Load the XSD schema file\n        final InputStream xsdDocument = TestMain.class.getResourceAsStream(&quot;/xsd/myXSD.xsd&quot;);\n        final Source xsdSource = new StreamSource(xsdDocument);\n        Schema schema = sf.newSchema(xsdSource);\n\n        // Create a JAXBContext\n        JAXBContext jc = JAXBContext.newInstance();\n\n        // Create an Unmarshaller object\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        unmarshaller.setSchema(schema);\n        unmarshaller.setEventHandler(new MyValidationEventHandler());\n\n        // Unmarshal the XML document, using the schema for validation\n        final InputStream xmlDocument = TestMain.class.getResourceAsStream( &quot;/myXML.xml&quot;);\n        unmarshaller.unmarshal(xmlDocument);\n    }\n}\n</code></pre>\n<p>I am facing few issues:</p>\n<ol>\n<li>I am unable to add the <code>JAXBContext</code> from <code>Moxy</code> then I try to add something like this then I get the error:</li>\n</ol>\n<pre><code>// Create a JAXBContext\norg.eclipse.persistence.jaxb.JAXBContext jc = org.eclipse.persistence.jaxb.JAXBContext.newInstance();\n</code></pre>\n<p>Then I get the error:</p>\n<pre><code>Required type: org.eclipse.persistence.jaxb.JAXBContext\nProvided: jakarta.xml.bind.JAXBContext\n</code></pre>\n<ol start=\"2\">\n<li>When I use the <code>jakarta.xml.bind.JAXBContext</code> and validate my XML then I for some reason get all the errors for all elements which should not happen because my XSD does not require all elements.</li>\n</ol>\n<p>I would like to know how to validate a XML against XSD using the <code>Moxy</code> without needing to use the <code>POJO</code> class and how to capture all the errors not just a single error and throw exception.</p>\n"},{"tags":["java","random","grouping","word-count"],"comments":[{"owner":{"account_id":1692682,"reputation":1535,"user_id":4198912,"display_name":"Slawomir Chodnicki"},"score":2,"creation_date":1558994011,"post_id":56332742,"comment_id":99272143,"body_markdown":"Hi, welcome to StackOverflow. You can help us understand your issue better by formatting your text into paragraphs, and reducing your question to a minimal set of relevant details.","body":"Hi, welcome to StackOverflow. You can help us understand your issue better by formatting your text into paragraphs, and reducing your question to a minimal set of relevant details."}],"answers":[{"tags":[],"owner":{"account_id":13854547,"reputation":5082,"user_id":10001688,"display_name":"Michael Bianconi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558994450,"creation_date":1558994450,"answer_id":56332870,"question_id":56332742,"body_markdown":"Personally, I would forego the if-else and do the array. Make an array with every integer from 0-N, where N is the number of the students. Then, shuffle the list around. I believe Java has a prebuilt function for it, but if not the algorithm for one is trivial.\r\n\r\nFrom there, simply read in the student file line by line and assign the corresponding number from the shuffled array.\r\nExample psuedocode:\r\n\r\n```python\r\n\r\n# &gt;&gt;&gt; Generate the list of numbers of shuffle it. &lt;&lt;&lt; #\r\nN = number of students\r\nnumbers = [i for i in range(N)]\r\nrandom.shuffle(numbers)\r\n\r\n# &gt;&gt;&gt; Initialize a list to store number-student pair &lt;&lt;&lt; #\r\nstudents = []\r\n\r\n# &gt;&gt;&gt; Read in the student file line by line &lt;&lt;&lt; #\r\nfor line in students.txt:\r\n    randomNumber = numbers.pop()\r\n    students.append((line, randomNumber))\r\n```\r\n\r\nViola, the ```students``` list now has all of the students, paired with a random number.\r\n\r\nAs for counting words, run the input through trim() and then split().\r\n\r\n```python\r\n# &gt;&gt;&gt; Removes whitespace before and after the string (&quot;  A &quot; -&gt; &quot;A&quot;) &lt;&lt;&lt; #\r\ninput = input.trim()\r\n# &gt;&gt;&gt; Splits input into an array (&quot;AA BB CC&quot; -&gt; [&quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;]) &lt;&lt;&lt; #\r\nwords = input.split(&quot; &quot;)\r\nnumWords = word.length\r\n```\r\n","title":"How to write a random group generator in java using else-if statements?","body":"<p>Personally, I would forego the if-else and do the array. Make an array with every integer from 0-N, where N is the number of the students. Then, shuffle the list around. I believe Java has a prebuilt function for it, but if not the algorithm for one is trivial.</p>\n\n<p>From there, simply read in the student file line by line and assign the corresponding number from the shuffled array.\nExample psuedocode:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n# &gt;&gt;&gt; Generate the list of numbers of shuffle it. &lt;&lt;&lt; #\nN = number of students\nnumbers = [i for i in range(N)]\nrandom.shuffle(numbers)\n\n# &gt;&gt;&gt; Initialize a list to store number-student pair &lt;&lt;&lt; #\nstudents = []\n\n# &gt;&gt;&gt; Read in the student file line by line &lt;&lt;&lt; #\nfor line in students.txt:\n    randomNumber = numbers.pop()\n    students.append((line, randomNumber))\n</code></pre>\n\n<p>Viola, the <code>students</code> list now has all of the students, paired with a random number.</p>\n\n<p>As for counting words, run the input through trim() and then split().</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># &gt;&gt;&gt; Removes whitespace before and after the string (\"  A \" -&gt; \"A\") &lt;&lt;&lt; #\ninput = input.trim()\n# &gt;&gt;&gt; Splits input into an array (\"AA BB CC\" -&gt; [\"AA\", \"BB\", \"CC\"]) &lt;&lt;&lt; #\nwords = input.split(\" \")\nnumWords = word.length\n</code></pre>\n"}],"owner":{"account_id":16023437,"reputation":3,"user_id":11564363,"display_name":"bella26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":56332870,"answer_count":1,"score":-3,"last_activity_date":1671123396,"creation_date":1558993611,"question_id":56332742,"body_markdown":"I have to code a program that allows the user to choose between two task: a random group generator, and a task that parses and counts an input sentence by word. I am really confused on how to go about it.\r\nThe instructions are: \r\nTeam Maker:\r\nIf 1 is entered, the application prompts the user to enter the desired number of teams to make.\r\nIf 0 is entered, nothing happens and the application continues on prompting the user to enter 1 or 2. See Fig-3.\r\nIf the number of teams is 1 or greater, the application displays the team number, beginning from 1, followed by three full names randomly selected from the 49 students provided in COP2510.txt. See also Fig-3, where 1 and 3 are entered for making one team and three teams, respectively.  Hint: Use the Random class as seen in GetRandom1.java or GR.zip of Quiz 3 to implement this random selection.  \r\nAll names of each team must be displayed beginning with a &#39;tab&#39;. \r\nIt&#39;s very important in this application that no student appears in the same or different teams more than once.\r\nHint: there are more than one way to &quot;map&quot; a random number (integer) to a specific student name. Using if....else if....else if....else if.... is one possible approach and is recommended here. Storing all names in an array is another way but is not introduced until Chapter 10 .\r\nCounting Words:\r\nIf 2 is entered, the application prompts the user to enter one or more sentences.  See Fig-4.\r\nThe application uses the space character, &quot; &quot;, to separate and count words in the input. If there are two or more consecutive spaces, they are treated as just one. That is, &quot;AA BB&quot; and &quot;AA             BB&quot; both contains two words.  See Fig-5.\r\nAll leading and trailing spaces in the input would be ignored. Hint: use &#39;trim()&#39; method of String.\r\nThe application display two lines of dashes, i.e., &quot;-------------------&quot; to enclose every word it finds. Each word must be displayed together with its length. For example, if &quot;Hi,  John!&quot; is entered, the two lines between dashes should be &quot;Hi, (3)&quot; and &quot;John!(5)&quot;.\r\nAfter the 2nd dashes line, the total number of words is displayed to end the task. \r\nIf no words or sentences are entered, a message of &quot;Nothing or only space(s) is entered.&quot; is displayed between the two dashes lines and the count is zero. See the last input in Fig-5.\r\nHint: You may use trim(), indexOf(), length(), substring(), and equals() methods of String to implement the above word count task. Even the same methods are used, there are different approaches to get this task completed.\r\n\r\n\r\nI got the first part where the program welcomes the user, and shows what the program does. However I don&#39;t know how to code the random team generator. I can only use else if statements. Someone told me to assign a random number to each name and then use the else if statements, however I have no idea how to do that. And as for the word counter I just have no clue. If anyone could help that would be great. \r\n\r\n       import java.util.Scanner;\r\n       import java.util.Random;\r\n       public class asssignment3 {\r\n       public static void main (String args[]){\r\n       Scanner sc = new Scanner(System.in);\r\n        //print out a task prompt \r\n        System.out.println(&quot;Assignment-3 can perform the following two task:&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;\\t1-Making 3-member tems from class of COP2510&quot;);\r\n        System.out.println(&quot;\\t2-Parsing and counting an input sentence by word&quot;);\r\n        System.out.println();\r\n        System.out.print(&quot;Enter 1 or 2 to begin your task or anything else to quit:   &quot;);\r\n        String choiceNumber = sc.nextLine (); \r\n\r\n      if (choiceNumber.equalsIgnoreCase(&quot;0&quot;)) {\r\n          System.out.println(&quot;Enter 1 or 2 to begin your task or anything else to quit:  &quot;);\r\n          String optionNumber = sc.nextLine ();\r\n      }\r\n      Random r = new Random();    \r\n     if (choiceNumber.equalsIgnoreCase (&quot;1&quot;)) {\r\n         String studentName = &quot;&quot;;`","title":"How to write a random group generator in java using else-if statements?","body":"<p>I have to code a program that allows the user to choose between two task: a random group generator, and a task that parses and counts an input sentence by word. I am really confused on how to go about it.\nThe instructions are: \nTeam Maker:\nIf 1 is entered, the application prompts the user to enter the desired number of teams to make.\nIf 0 is entered, nothing happens and the application continues on prompting the user to enter 1 or 2. See Fig-3.\nIf the number of teams is 1 or greater, the application displays the team number, beginning from 1, followed by three full names randomly selected from the 49 students provided in COP2510.txt. See also Fig-3, where 1 and 3 are entered for making one team and three teams, respectively.  Hint: Use the Random class as seen in GetRandom1.java or GR.zip of Quiz 3 to implement this random selection.<br>\nAll names of each team must be displayed beginning with a 'tab'. \nIt's very important in this application that no student appears in the same or different teams more than once.\nHint: there are more than one way to \"map\" a random number (integer) to a specific student name. Using if....else if....else if....else if.... is one possible approach and is recommended here. Storing all names in an array is another way but is not introduced until Chapter 10 .\nCounting Words:\nIf 2 is entered, the application prompts the user to enter one or more sentences.  See Fig-4.\nThe application uses the space character, \" \", to separate and count words in the input. If there are two or more consecutive spaces, they are treated as just one. That is, \"AA BB\" and \"AA             BB\" both contains two words.  See Fig-5.\nAll leading and trailing spaces in the input would be ignored. Hint: use 'trim()' method of String.\nThe application display two lines of dashes, i.e., \"-------------------\" to enclose every word it finds. Each word must be displayed together with its length. For example, if \"Hi,  John!\" is entered, the two lines between dashes should be \"Hi, (3)\" and \"John!(5)\".\nAfter the 2nd dashes line, the total number of words is displayed to end the task. \nIf no words or sentences are entered, a message of \"Nothing or only space(s) is entered.\" is displayed between the two dashes lines and the count is zero. See the last input in Fig-5.\nHint: You may use trim(), indexOf(), length(), substring(), and equals() methods of String to implement the above word count task. Even the same methods are used, there are different approaches to get this task completed.</p>\n\n<p>I got the first part where the program welcomes the user, and shows what the program does. However I don't know how to code the random team generator. I can only use else if statements. Someone told me to assign a random number to each name and then use the else if statements, however I have no idea how to do that. And as for the word counter I just have no clue. If anyone could help that would be great. </p>\n\n<pre><code>   import java.util.Scanner;\n   import java.util.Random;\n   public class asssignment3 {\n   public static void main (String args[]){\n   Scanner sc = new Scanner(System.in);\n    //print out a task prompt \n    System.out.println(\"Assignment-3 can perform the following two task:\");\n    System.out.println();\n    System.out.println(\"\\t1-Making 3-member tems from class of COP2510\");\n    System.out.println(\"\\t2-Parsing and counting an input sentence by word\");\n    System.out.println();\n    System.out.print(\"Enter 1 or 2 to begin your task or anything else to quit:   \");\n    String choiceNumber = sc.nextLine (); \n\n  if (choiceNumber.equalsIgnoreCase(\"0\")) {\n      System.out.println(\"Enter 1 or 2 to begin your task or anything else to quit:  \");\n      String optionNumber = sc.nextLine ();\n  }\n  Random r = new Random();    \n if (choiceNumber.equalsIgnoreCase (\"1\")) {\n     String studentName = \"\";`\n</code></pre>\n"},{"tags":["java","immutables-library"],"owner":{"account_id":273169,"reputation":2083,"user_id":564606,"accept_rate":79,"display_name":"ciferkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123364,"creation_date":1671123364,"question_id":74815027,"body_markdown":"In the Immutables [documentation](https://immutables.github.io/immutable.html#builder:~:text=For%20advanced%20use%20cases%2C%20it%20may%20be%20desirable%20to%20have%20builders%20that%20produce%20different%20types%20of%20objects%20but%20conform%20to%20the%20same%20interface%2C%20akin%20to%20the%20original%20Builder%20pattern.%20This%20is%20achievable%20by%20declaring%20a%20static%20nested%20class%20named%20%E2%80%9CBuilder%E2%80%9D%20which%20will%20be%20extended%20by%20the%20generated%20builder.) it says that:\r\n\r\n&gt; For advanced use cases, it may be desirable to have builders that produce different types of objects but conform to the same interface, akin to the original Builder pattern. This is achievable by declaring a static nested class named Builder which will be extended by the generated builder.\r\n\r\nIt then provides an example where:\r\n - there is an interface that multiple Immutable classes implement called Vehicle\r\n - there is an interface for the builders the Immutable class will generate call VehicleBuilder\r\n - the two abstract Immutable classes Scooter and Automobile implement Vehicle and have a abstract static class that implements VehicleBuilder.\r\n\r\nThis is super useful but it means every Immutable implementation needs to duplicate the abstract static class line. Is there any way to push this up into the parent definition?\r\n\r\nI&#39;ve tried making Vehicle an abstract class and moving the abstract static class into it:\r\n\r\n```java\r\npublic abstract class Vehicle {\r\n  public abstract static class Builder implements VehicleBuilder {}\r\n}\r\n```\r\n\r\nHowever this does not work and the builder on the generated class does not extend it.","title":"Java Immutables builder interface defintion in parent class?","body":"<p>In the Immutables <a href=\"https://immutables.github.io/immutable.html#builder:%7E:text=For%20advanced%20use%20cases%2C%20it%20may%20be%20desirable%20to%20have%20builders%20that%20produce%20different%20types%20of%20objects%20but%20conform%20to%20the%20same%20interface%2C%20akin%20to%20the%20original%20Builder%20pattern.%20This%20is%20achievable%20by%20declaring%20a%20static%20nested%20class%20named%20%E2%80%9CBuilder%E2%80%9D%20which%20will%20be%20extended%20by%20the%20generated%20builder.\" rel=\"nofollow noreferrer\">documentation</a> it says that:</p>\n<blockquote>\n<p>For advanced use cases, it may be desirable to have builders that produce different types of objects but conform to the same interface, akin to the original Builder pattern. This is achievable by declaring a static nested class named Builder which will be extended by the generated builder.</p>\n</blockquote>\n<p>It then provides an example where:</p>\n<ul>\n<li>there is an interface that multiple Immutable classes implement called Vehicle</li>\n<li>there is an interface for the builders the Immutable class will generate call VehicleBuilder</li>\n<li>the two abstract Immutable classes Scooter and Automobile implement Vehicle and have a abstract static class that implements VehicleBuilder.</li>\n</ul>\n<p>This is super useful but it means every Immutable implementation needs to duplicate the abstract static class line. Is there any way to push this up into the parent definition?</p>\n<p>I've tried making Vehicle an abstract class and moving the abstract static class into it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Vehicle {\n  public abstract static class Builder implements VehicleBuilder {}\n}\n</code></pre>\n<p>However this does not work and the builder on the generated class does not extend it.</p>\n"},{"tags":["java","arrays","json","list","org.json"],"answers":[{"comments":[{"owner":{"account_id":21295054,"reputation":11,"user_id":15671722,"display_name":"Elaine Ettariel"},"score":0,"creation_date":1671015814,"post_id":74797112,"comment_id":132004377,"body_markdown":"I don&#39;t quite uderstand the syntax. I have this error: org.json.JSONArray cannot be cast to java.util.List if I use list = (List) json .getJSONArray(&quot;data&quot;);","body":"I don&#39;t quite uderstand the syntax. I have this error: org.json.JSONArray cannot be cast to java.util.List if I use list = (List) json .getJSONArray(&quot;data&quot;);"},{"owner":{"account_id":8522790,"reputation":549,"user_id":6389080,"display_name":"Rohit Lalwani"},"score":0,"creation_date":1671016690,"post_id":74797112,"comment_id":132004679,"body_markdown":"insted of JSONArray use JsonArray.","body":"insted of JSONArray use JsonArray."}],"tags":[],"owner":{"account_id":8522790,"reputation":549,"user_id":6389080,"display_name":"Rohit Lalwani"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671015232,"creation_date":1671015232,"answer_id":74797112,"question_id":74797039,"body_markdown":"you can get this data as a JsonArray\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>you can get this data as a JsonArray</p>\n"},{"tags":[],"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671017353,"creation_date":1671017353,"answer_id":74797591,"question_id":74797039,"body_markdown":"You can customize a little bit of code like it \r\n\r\n    public static void main(String[] args) throws ParseException {\r\n    \t\tString data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\n    \t\tJSONObject json = new JSONObject(\r\n    \t\t\t\tdata);\r\n    \t\t \r\n    \t\tJSONArray jasonArray = json.getJSONArray(&quot;data&quot;);\r\n    \t\tList list = new ArrayList();\r\n    \r\n    \t\tint size = jasonArray.length();\r\n    \t\tint i = 0;\r\n    \t\twhile (i &lt; size) {\r\n    \t\t\tlist.add(jasonArray.get(i));\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t}","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>You can customize a little bit of code like it</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n        String data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\n        JSONObject json = new JSONObject(\n                data);\n         \n        JSONArray jasonArray = json.getJSONArray(&quot;data&quot;);\n        List list = new ArrayList();\n\n        int size = jasonArray.length();\n        int i = 0;\n        while (i &lt; size) {\n            list.add(jasonArray.get(i));\n            i++;\n        }\n\n        System.out.println(list);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017813,"creation_date":1671017813,"answer_id":74797701,"question_id":74797039,"body_markdown":"You wish to parse a JSON string using Java code. It is recommended to use a JSON library for Java. There are several. The below code uses [Gson](https://github.com/google/gson). There are many online examples such as [Convert String to JsonObject with Gson](https://www.baeldung.com/gson-string-to-jsonobject). You should also familiarize yourself with the Gson [API](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html).\r\n```java\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JsonList {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\n        JsonElement elem = JsonParser.parseString(json);\r\n        if (elem.isJsonObject()) {\r\n            JsonObject obj = elem.getAsJsonObject();\r\n            elem = obj.get(&quot;data&quot;);\r\n            if (elem.isJsonArray()) {\r\n                JsonArray arr = elem.getAsJsonArray();\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                int count = arr.size();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    elem = arr.get(i);\r\n                    if (elem.isJsonPrimitive()) {\r\n                        String str = elem.getAsString();\r\n                        list.add(str);\r\n                    }\r\n                }\r\n                System.out.println(list);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code gives the following output:\r\n```none\r\n[str1, str2, str3]\r\n```\r\nThere are other ways to convert the `JsonArray` to a `List`. The above is not the only way. As I wrote earlier, peruse the API documentation and search the Internet.\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>You wish to parse a JSON string using Java code. It is recommended to use a JSON library for Java. There are several. The below code uses <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>. There are many online examples such as <a href=\"https://www.baeldung.com/gson-string-to-jsonobject\" rel=\"nofollow noreferrer\">Convert String to JsonObject with Gson</a>. You should also familiarize yourself with the Gson <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JsonList {\n\n    public static void main(String[] args) {\n        String json = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\n        JsonElement elem = JsonParser.parseString(json);\n        if (elem.isJsonObject()) {\n            JsonObject obj = elem.getAsJsonObject();\n            elem = obj.get(&quot;data&quot;);\n            if (elem.isJsonArray()) {\n                JsonArray arr = elem.getAsJsonArray();\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                int count = arr.size();\n                for (int i = 0; i &lt; count; i++) {\n                    elem = arr.get(i);\n                    if (elem.isJsonPrimitive()) {\n                        String str = elem.getAsString();\n                        list.add(str);\n                    }\n                }\n                System.out.println(list);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Running the above code gives the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[str1, str2, str3]\n</code></pre>\n<p>There are other ways to convert the <code>JsonArray</code> to a <code>List</code>. The above is not the only way. As I wrote earlier, peruse the API documentation and search the Internet.</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671123161,"creation_date":1671122578,"answer_id":74814857,"question_id":74797039,"body_markdown":"Behind the scenes, the `JSONArray` object stores the json data in an `ArrayList&lt;Object&gt;`, and it has a method called `toList()`.  There&#39;s absolutely no need to loop through the `JSONArray` in order to set values in the array.  The simpler code would look something like this\r\n```java\r\nString data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\nJSONObject json = new JSONObject(data);\r\n\r\nList&lt;Object&gt; list = json.getJSONArray(&quot;data&quot;).toList();\r\n\r\nSystem.out.println(myList);\r\n```\r\n\r\n*Note:  This will create a list of generic Objects.  The currently accepted answer doesn&#39;t define a type for the List, which is unsafe.  It doesn&#39;t enforce type safety, and errors will occur at runtime instead of at compile time.*\r\n\r\nIf you want to convert all of the inner objects to a String, you can do this by upcasting the List to an Object, and then casting it to a `List&lt;String&gt;`.  I don&#39;t particularly recommend it, but it can be done like this.  `List&lt;String&gt; list = (List&lt;String&gt;) (Object) json.getJSONArray(&quot;data&quot;).toList();`.  \r\n\r\nA better way of casting the value to a specific type would be via a stream to call the `Object.toString()` method.\r\n```java\r\nList&lt;String&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(Object::toString).collect(Collectors.toList());\r\n```\r\nor, if you have a specific type you want to cast it to, you can use\r\n```java\r\nList&lt;MyObject&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(jsonObject -&gt; (MyObject) jsonObject).collect(Collectors.toList());\r\n```\r\n\r\nFinally, as others have pointed out, there are better libraries for dealing with json.  [Gson][1] is a great library, however I personally prefer [Jackson][2].  They both offer similar resources, but I&#39;ve found that Jackson&#39;s `ObjectMapper` is more customizable and more widely used.\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/FasterXML/jackson","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>Behind the scenes, the <code>JSONArray</code> object stores the json data in an <code>ArrayList&lt;Object&gt;</code>, and it has a method called <code>toList()</code>.  There's absolutely no need to loop through the <code>JSONArray</code> in order to set values in the array.  The simpler code would look something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\nJSONObject json = new JSONObject(data);\n\nList&lt;Object&gt; list = json.getJSONArray(&quot;data&quot;).toList();\n\nSystem.out.println(myList);\n</code></pre>\n<p><em>Note:  This will create a list of generic Objects.  The currently accepted answer doesn't define a type for the List, which is unsafe.  It doesn't enforce type safety, and errors will occur at runtime instead of at compile time.</em></p>\n<p>If you want to convert all of the inner objects to a String, you can do this by upcasting the List to an Object, and then casting it to a <code>List&lt;String&gt;</code>.  I don't particularly recommend it, but it can be done like this.  <code>List&lt;String&gt; list = (List&lt;String&gt;) (Object) json.getJSONArray(&quot;data&quot;).toList();</code>.</p>\n<p>A better way of casting the value to a specific type would be via a stream to call the <code>Object.toString()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(Object::toString).collect(Collectors.toList());\n</code></pre>\n<p>or, if you have a specific type you want to cast it to, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyObject&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(jsonObject -&gt; (MyObject) jsonObject).collect(Collectors.toList());\n</code></pre>\n<p>Finally, as others have pointed out, there are better libraries for dealing with json.  <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> is a great library, however I personally prefer <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>.  They both offer similar resources, but I've found that Jackson's <code>ObjectMapper</code> is more customizable and more widely used.</p>\n"}],"owner":{"account_id":21295054,"reputation":11,"user_id":15671722,"display_name":"Elaine Ettariel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4503,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74797591,"answer_count":4,"score":0,"last_activity_date":1671123161,"creation_date":1671014883,"question_id":74797039,"body_markdown":"I have a following JSON:\r\n\r\n```none\r\n{&quot;data&quot;:[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]}\r\n```\r\nI want to get a `List`, i.e. `[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]`\r\n\r\nMy code is:\r\n```java\r\nJSONObject json = new JSONObject();\r\nList list = new ArrayList();\r\n...\r\n// adding data in json\r\n...\r\nlist = (List) json.get(&quot;data&quot;);\r\n```\r\nThis is not working.\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>I have a following JSON:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;data&quot;:[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]}\n</code></pre>\n<p>I want to get a <code>List</code>, i.e. <code>[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]</code></p>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject json = new JSONObject();\nList list = new ArrayList();\n...\n// adding data in json\n...\nlist = (List) json.get(&quot;data&quot;);\n</code></pre>\n<p>This is not working.</p>\n"},{"tags":["java","asynchronous","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1553721903,"post_id":55379881,"comment_id":97495302,"body_markdown":"How long does it take for the client to fire the timeout?  There appear to be [several timers](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/constant-values.html#com.amazonaws.ClientConfiguration.DEFAULT_SOCKET_TIMEOUT) and perhaps the interval will give you an idea which one it is.","body":"How long does it take for the client to fire the timeout?  There appear to be <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/constant-values.html#com.amazonaws.ClientConfiguration.DEFAULT_SOCKET_TIMEOUT\" rel=\"nofollow noreferrer\">several timers</a> and perhaps the interval will give you an idea which one it is."}],"answers":[{"comments":[{"owner":{"account_id":9576517,"reputation":823,"user_id":7112415,"display_name":"Awad"},"score":0,"creation_date":1553698985,"post_id":55380331,"comment_id":97482944,"body_markdown":"I have my default set to 5 mins and I still get timeout.\nFWIW, my lambda function does its job, except that the response to to my caller gets timeout.","body":"I have my default set to 5 mins and I still get timeout. FWIW, my lambda function does its job, except that the response to to my caller gets timeout."},{"owner":{"account_id":6744301,"reputation":15398,"user_id":5196394,"display_name":"hoangdv"},"score":0,"creation_date":1553699288,"post_id":55380331,"comment_id":97483156,"body_markdown":"Maybe, your function doest not ` finish` the lambda function process (ex: return something).  `if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) )` if the condition is `false` , I think your function will wait until timedout ...","body":"Maybe, your function doest not ` finish` the lambda function process (ex: return something).  <code>if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) )</code> if the condition is <code>false</code> , I think your function will wait until timedout ..."},{"owner":{"account_id":9576517,"reputation":823,"user_id":7112415,"display_name":"Awad"},"score":0,"creation_date":1553699767,"post_id":55380331,"comment_id":97483504,"body_markdown":"This function works for for scan small files uses cases, but if a larger file is used as input. Then it takes more time and timesout on my client code. \nPlease checkout my update and share your thoughts.","body":"This function works for for scan small files uses cases, but if a larger file is used as input. Then it takes more time and timesout on my client code.  Please checkout my update and share your thoughts."},{"owner":{"account_id":6744301,"reputation":15398,"user_id":5196394,"display_name":"hoangdv"},"score":1,"creation_date":1553700257,"post_id":55380331,"comment_id":97483860,"body_markdown":"You could find another solution, ex: use another service to handle large file (EC2...), or hack to you lambda function https://medium.freecodecamp.org/how-to-set-timeouts-dynamically-using-lambda-invocation-context-3e78fa832a5b","body":"You could find another solution, ex: use another service to handle large file (EC2...), or hack to you lambda function <a href=\"https://medium.freecodecamp.org/how-to-set-timeouts-dynamically-using-lambda-invocation-context-3e78fa832a5b\" rel=\"nofollow noreferrer\">medium.freecodecamp.org/&hellip;</a>"}],"tags":[],"owner":{"account_id":6744301,"reputation":15398,"user_id":5196394,"display_name":"hoangdv"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573177742,"creation_date":1553698711,"answer_id":55380331,"question_id":55379881,"body_markdown":"AWS Lambda function has maximum execution duration per request is 900 seconds (15 minutes), the default value is 30 seconds.\r\n\r\nYou can increase this value in function settings:\r\n\r\nOpen the AWS Lambda console at https://console.aws.amazon.com/lambda/\r\n\r\nChoose your function.\r\n\r\nChange the Timeout setting.\r\n\r\n[![Timeout setting][1]][1]\r\r\n[1]: https://i.stack.imgur.com/JVoCw.png","title":"How to increase the timeout for AWS Lambda client","body":"<p>AWS Lambda function has maximum execution duration per request is 900 seconds (15 minutes), the default value is 30 seconds.</p>\n\n<p>You can increase this value in function settings:</p>\n\n<p>Open the AWS Lambda console at <a href=\"https://console.aws.amazon.com/lambda/\" rel=\"nofollow noreferrer\">https://console.aws.amazon.com/lambda/</a></p>\n\n<p>Choose your function.</p>\n\n<p>Change the Timeout setting.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JVoCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JVoCw.png\" alt=\"Timeout setting\"></a></p>\n"},{"tags":[],"owner":{"account_id":445434,"reputation":940,"user_id":837886,"display_name":"pbeardshear"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1553795560,"creation_date":1553795560,"answer_id":55404019,"question_id":55379881,"body_markdown":"When you say your client is timing out, do you mean your Lambda SDK client? If so, you may need to pass a longer socket timeout when creating your client:\r\n\r\n```java\r\nAWSLambdaClientBuilder.standard()\r\n  .withClientConfiguration(new ClientConfiguration()\r\n    .withSocketTimeout(SOCKET_TIMEOUT_IN_MS))\r\n  .build();\r\n```\r\n\r\nThe default socket timeout is 50 seconds: https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43\r\n\r\nYour Lambda function itself will continue running regardless of whether the socket is closed on the client side, which is likely why you see the function completing the job.","title":"How to increase the timeout for AWS Lambda client","body":"<p>When you say your client is timing out, do you mean your Lambda SDK client? If so, you may need to pass a longer socket timeout when creating your client:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>AWSLambdaClientBuilder.standard()\n  .withClientConfiguration(new ClientConfiguration()\n    .withSocketTimeout(SOCKET_TIMEOUT_IN_MS))\n  .build();\n</code></pre>\n\n<p>The default socket timeout is 50 seconds: <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43\" rel=\"noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43</a></p>\n\n<p>Your Lambda function itself will continue running regardless of whether the socket is closed on the client side, which is likely why you see the function completing the job.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638624469,"creation_date":1638624469,"answer_id":70226032,"question_id":55379881,"body_markdown":"In order to increase the timeout in 2021 you will need to:\r\n\r\n- edit your function\r\n- click on the configuration tab\r\n[![enter image description here][1]][1]\r\n- Click on the `Edit` button\r\n- Change the timeout property in the `Basic Settings` category:\r\n[![enter image description here][2]][2]\r\n- Press `Save` down below\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTbPX.png\r\n  [2]: https://i.stack.imgur.com/3FCrp.png","title":"How to increase the timeout for AWS Lambda client","body":"<p>In order to increase the timeout in 2021 you will need to:</p>\n<ul>\n<li>edit your function</li>\n<li>click on the configuration tab\n<a href=\"https://i.stack.imgur.com/iTbPX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iTbPX.png\" alt=\"enter image description here\" /></a></li>\n<li>Click on the <code>Edit</code> button</li>\n<li>Change the timeout property in the <code>Basic Settings</code> category:\n<a href=\"https://i.stack.imgur.com/3FCrp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3FCrp.png\" alt=\"enter image description here\" /></a></li>\n<li>Press <code>Save</code> down below</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641919455,"creation_date":1641919455,"answer_id":70670392,"question_id":55379881,"body_markdown":"When using the new sdk, for increasing the timeout in the client, you can do something like this:\r\n\r\n    SdkHttpClient httpClient = ApacheHttpClient.builder()\r\n                .socketTimeout(Duration.ofSeconds(50))\r\n                .build();\r\n\r\n    LambdaClient lambdaClient = LambdaClient.builder()\r\n                .httpClient(httpClient)\r\n                .build();\r\n\r\nNotice there is also a **ClientOverrideConfiguration** that could be passed to create the lambdaClient, which has methods **apiCallTimeout** and **apiCallAttemptTimeout**, but in my case it only started working when I set the timeout in the httpClient.","title":"How to increase the timeout for AWS Lambda client","body":"<p>When using the new sdk, for increasing the timeout in the client, you can do something like this:</p>\n<pre><code>SdkHttpClient httpClient = ApacheHttpClient.builder()\n            .socketTimeout(Duration.ofSeconds(50))\n            .build();\n\nLambdaClient lambdaClient = LambdaClient.builder()\n            .httpClient(httpClient)\n            .build();\n</code></pre>\n<p>Notice there is also a <strong>ClientOverrideConfiguration</strong> that could be passed to create the lambdaClient, which has methods <strong>apiCallTimeout</strong> and <strong>apiCallAttemptTimeout</strong>, but in my case it only started working when I set the timeout in the httpClient.</p>\n"},{"tags":[],"owner":{"account_id":3472591,"reputation":1474,"user_id":2906568,"accept_rate":71,"display_name":"F.H."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671123054,"creation_date":1671123054,"answer_id":74814971,"question_id":55379881,"body_markdown":"If the timeout occured after 120 seconds it is probably the sdk client which timed out.\r\n\r\nThis did the trick for me (nodejs example):\r\n\r\n```js\r\nimport aws from &#39;aws-sdk&#39;;\r\n\r\nconst lambdaHandler = new aws.Lambda({\r\n    ...\r\n    httpOptions: {\r\n        timeout: 15 * 60 * 1000 // 15 minutes\r\n    }, \r\n});\r\n```\r\n\r\nYou can see the available constructor parameters here: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property","title":"How to increase the timeout for AWS Lambda client","body":"<p>If the timeout occured after 120 seconds it is probably the sdk client which timed out.</p>\n<p>This did the trick for me (nodejs example):</p>\n<pre class=\"lang-js prettyprint-override\"><code>import aws from 'aws-sdk';\n\nconst lambdaHandler = new aws.Lambda({\n    ...\n    httpOptions: {\n        timeout: 15 * 60 * 1000 // 15 minutes\n    }, \n});\n</code></pre>\n<p>You can see the available constructor parameters here: <a href=\"https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property</a></p>\n"}],"owner":{"account_id":9576517,"reputation":823,"user_id":7112415,"display_name":"Awad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31069,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55404019,"answer_count":5,"score":7,"last_activity_date":1671123054,"creation_date":1553697469,"question_id":55379881,"body_markdown":"I am trying to scan a file using AWS Lambda, and I am getting timeout since the scan function is taking longer than expected.\r\n\r\nI would like to increase the timeout for my client since this process is @Async and I can handle few more seconds.\r\n\r\nThis is my method:\r\n\r\n       @Override\r\n       @Async\r\n       public void scanFile( String s3Bucket, String fileName, String path, String documentId, String createdBy ) throws IOException {\r\n    \r\n          FileScanInput input = new FileScanInput();\r\n          input.setS3Bucket( s3Bucket );\r\n          input.setS3Key( path );\r\n    \r\n          logger.debug( &quot;Scan file: &quot; + path + &quot;, in S3 bucket:  &quot; + s3Bucket );\r\n          if ( fileScanService == null ) {\r\n             fileScanService = buildFileScanService();\r\n          }\r\n    \r\n          FileScanOutput fileScanOutput = fileScanService.scanFile( input );\r\n    //      TODO: if the scan process failed, ask what should be the next step.\r\n    //      for now, the file stays in S3.\r\n          Assert.notNull( fileScanOutput );\r\n          String status = fileScanOutput.getStatus();\r\n    \r\n          // in case the document owner was not found an infected file was file. Email approved emails\r\n          if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) ) {\r\n             // delete file on S3\r\n             this.deleteFile( s3Bucket, path );\r\n             String toEmail = personInfoMapper.findStudentEmail( createdBy );\r\n             try {\r\n                sendVirusDetectedEmail( fileName, toEmail );\r\n             }\r\n             catch ( Exception e ) {\r\n                logger.error( e.getMessage() );\r\n             }\r\n    \r\n             //         we clean up the metadata table in case there was a virus since this is running async.\r\n             metadataDao.cleanUpMetadata( documentId );\r\n    \r\n             logger.error( &quot;The file is infected.&quot; );\r\n             throw new VirusFoundException( &quot;File is infected.&quot; );\r\n          }\r\n       }\r\n\r\n\r\n       public final FileScanService buildFileScanService() {\r\n          return LambdaInvokerFactory.builder().lambdaClient( AWSLambdaClientBuilder.defaultClient() ).build( FileScanService.class );\r\n       }\r\n\r\nAnd this is the resource configs for my Lambda function.\r\n[![enter image description here][1]][1]\r\n\r\n**Update**\r\nI also noticed that my Lambda function actually does its job, which means the issue is basically in this line\r\n`FileScanOutput fileScanOutput = fileScanService.scanFile( input );`\r\n\r\nfileScanOutput doesn&#39;t get initialized instead I get timeout issue.\r\n\r\nMy other classes look like:\r\n\r\n    public interface FileScanService {\r\n    \r\n       @LambdaFunction( functionName = &quot;s3-antivirus-api-scan&quot; )\r\n       public FileScanOutput scanFile( FileScanInput fileScanInput );\r\n    }\r\n\r\n    public class FileScanInput {\r\n    \r\n       private String s3Bucket;\r\n       private String s3Key;\r\n    \r\n       public String getS3Bucket() {\r\n          return s3Bucket;\r\n       }\r\n    \r\n       public void setS3Bucket( String value ) {\r\n          s3Bucket = value;\r\n       }\r\n    \r\n       public String getS3Key() {\r\n          return s3Key;\r\n       }\r\n    \r\n       public void setS3Key( String value ) {\r\n          s3Key = value;\r\n       }\r\n    }\r\n\r\n\r\n\r\n    public class FileScanOutput {\r\n    \r\n       private String status;\r\n    \r\n       public FileScanOutput() {\r\n       }\r\n    \r\n       public FileScanOutput( String status ) {\r\n          this.status = status;\r\n       }\r\n    \r\n       public String getStatus() {\r\n          return status;\r\n       }\r\n    \r\n       public void setStatus( String value ) {\r\n          status = value;\r\n       }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/9xcWG.png\r\n","title":"How to increase the timeout for AWS Lambda client","body":"<p>I am trying to scan a file using AWS Lambda, and I am getting timeout since the scan function is taking longer than expected.</p>\n\n<p>I would like to increase the timeout for my client since this process is @Async and I can handle few more seconds.</p>\n\n<p>This is my method:</p>\n\n<pre><code>   @Override\n   @Async\n   public void scanFile( String s3Bucket, String fileName, String path, String documentId, String createdBy ) throws IOException {\n\n      FileScanInput input = new FileScanInput();\n      input.setS3Bucket( s3Bucket );\n      input.setS3Key( path );\n\n      logger.debug( \"Scan file: \" + path + \", in S3 bucket:  \" + s3Bucket );\n      if ( fileScanService == null ) {\n         fileScanService = buildFileScanService();\n      }\n\n      FileScanOutput fileScanOutput = fileScanService.scanFile( input );\n//      TODO: if the scan process failed, ask what should be the next step.\n//      for now, the file stays in S3.\n      Assert.notNull( fileScanOutput );\n      String status = fileScanOutput.getStatus();\n\n      // in case the document owner was not found an infected file was file. Email approved emails\n      if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) ) {\n         // delete file on S3\n         this.deleteFile( s3Bucket, path );\n         String toEmail = personInfoMapper.findStudentEmail( createdBy );\n         try {\n            sendVirusDetectedEmail( fileName, toEmail );\n         }\n         catch ( Exception e ) {\n            logger.error( e.getMessage() );\n         }\n\n         //         we clean up the metadata table in case there was a virus since this is running async.\n         metadataDao.cleanUpMetadata( documentId );\n\n         logger.error( \"The file is infected.\" );\n         throw new VirusFoundException( \"File is infected.\" );\n      }\n   }\n\n\n   public final FileScanService buildFileScanService() {\n      return LambdaInvokerFactory.builder().lambdaClient( AWSLambdaClientBuilder.defaultClient() ).build( FileScanService.class );\n   }\n</code></pre>\n\n<p>And this is the resource configs for my Lambda function.\n<a href=\"https://i.stack.imgur.com/9xcWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9xcWG.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong>\nI also noticed that my Lambda function actually does its job, which means the issue is basically in this line\n<code>FileScanOutput fileScanOutput = fileScanService.scanFile( input );</code></p>\n\n<p>fileScanOutput doesn't get initialized instead I get timeout issue.</p>\n\n<p>My other classes look like:</p>\n\n<pre><code>public interface FileScanService {\n\n   @LambdaFunction( functionName = \"s3-antivirus-api-scan\" )\n   public FileScanOutput scanFile( FileScanInput fileScanInput );\n}\n\npublic class FileScanInput {\n\n   private String s3Bucket;\n   private String s3Key;\n\n   public String getS3Bucket() {\n      return s3Bucket;\n   }\n\n   public void setS3Bucket( String value ) {\n      s3Bucket = value;\n   }\n\n   public String getS3Key() {\n      return s3Key;\n   }\n\n   public void setS3Key( String value ) {\n      s3Key = value;\n   }\n}\n\n\n\npublic class FileScanOutput {\n\n   private String status;\n\n   public FileScanOutput() {\n   }\n\n   public FileScanOutput( String status ) {\n      this.status = status;\n   }\n\n   public String getStatus() {\n      return status;\n   }\n\n   public void setStatus( String value ) {\n      status = value;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671122791,"creation_date":1671122791,"answer_id":74814896,"question_id":74814739,"body_markdown":"The timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable is defined by the `Cache Manager`. \r\n\r\nYou can refer to this [article][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cache-tutorial","title":"What is the timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable","body":"<p>The timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable is defined by the <code>Cache Manager</code>.</p>\n<p>You can refer to this <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">article</a></p>\n"}],"owner":{"account_id":9340868,"reputation":23,"user_id":6933711,"display_name":"Patryk1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671122791,"creation_date":1671121936,"question_id":74814739,"body_markdown":"Im using a @Cacheable annotation for caching data from my GET Request. Im just wondering what is the default timeout for items getting removed from the cache. I cant really find anything to say what it is.\r\n","title":"What is the timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable","body":"<p>Im using a @Cacheable annotation for caching data from my GET Request. Im just wondering what is the default timeout for items getting removed from the cache. I cant really find anything to say what it is.</p>\n"},{"tags":["java","spring-boot","spring-jdbc","transbase"],"answers":[{"tags":[],"owner":{"account_id":1615024,"reputation":4089,"user_id":1492969,"accept_rate":56,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671122478,"creation_date":1671122478,"answer_id":74814842,"question_id":74814653,"body_markdown":"Yes, you need to add additional Transbase jdbc driver to your classpath. \r\n\r\nAnd you can configure your your spring boot with following properties:\r\n\r\n    spring.datasource.driver-class-name: transbase.jdbc.Driver\r\n    spring.datasource.url: jdbc:&lt;your jdbc url&gt;\r\n    spring.datasource.username: &lt;username&gt;\r\n    spring.datasource.password: &lt;password&gt;\r\n\r\nAnd if you got any database specific additional properties, set it like this\r\n\r\n    spring.datasource.hikari.data-source-properties.&lt;your datasource specific property key&gt; : &lt;value&gt;\r\n\r\n","title":"Connect to Transbase via Spring Boot","body":"<p>Yes, you need to add additional Transbase jdbc driver to your classpath.</p>\n<p>And you can configure your your spring boot with following properties:</p>\n<pre><code>spring.datasource.driver-class-name: transbase.jdbc.Driver\nspring.datasource.url: jdbc:&lt;your jdbc url&gt;\nspring.datasource.username: &lt;username&gt;\nspring.datasource.password: &lt;password&gt;\n</code></pre>\n<p>And if you got any database specific additional properties, set it like this</p>\n<pre><code>spring.datasource.hikari.data-source-properties.&lt;your datasource specific property key&gt; : &lt;value&gt;\n</code></pre>\n"}],"owner":{"account_id":10425609,"reputation":13,"user_id":7687007,"display_name":"luck2y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74814842,"answer_count":1,"score":0,"last_activity_date":1671122478,"creation_date":1671121483,"question_id":74814653,"body_markdown":"I&#39;m currently looking for the most convenient way to connect to a Transbase DB with Spring Boot.\r\nIs it even possible with Spring JDBC? Do I need additional drivers? And what do I need to configure in my application.properties? I couldn&#39;t make it work by now.\r\n\r\nAlready tried to search for someone who has done this before but Transbase does not seem to be very popular, so without success.\r\n\r\nBest regards","title":"Connect to Transbase via Spring Boot","body":"<p>I'm currently looking for the most convenient way to connect to a Transbase DB with Spring Boot.\nIs it even possible with Spring JDBC? Do I need additional drivers? And what do I need to configure in my application.properties? I couldn't make it work by now.</p>\n<p>Already tried to search for someone who has done this before but Transbase does not seem to be very popular, so without success.</p>\n<p>Best regards</p>\n"},{"tags":["java","jjwt"],"answers":[{"comments":[{"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"score":0,"creation_date":1583919544,"post_id":41704545,"comment_id":107270623,"body_markdown":"How can I work for `ECDSA using SHA-512` algorithms?","body":"How can I work for <code>ECDSA using SHA-512</code> algorithms?"}],"tags":[],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1484678160,"creation_date":1484678160,"answer_id":41704545,"question_id":41661821,"body_markdown":"`apiKey.getSecret()` in the blog article is a reference to the secure, randomly-generated &amp; Base64-encoded secret key (like a password) assigned to the API Key that Stormpath provides every customer.  Stormpath customers use this API key to authenticate every request into the Stormpath REST API.  Because every Stormpath customer has an API Key (and the key is accessible to your application), the API Key secret is an ideal &#39;default&#39; for signing and verifying JWTs specific to your application.\r\n\r\nIf you don&#39;t have a Stormpath API Key, any sufficiently strong secure-random byte array will be just fine for signing and verifying JWTs.\r\n\r\nIn your above example, the following is shown as a test key:\r\n\r\n    private static final String secret = &quot;MySecrete&quot;;\r\n\r\nThis is not a valid (JWT-compliant) key, and it cannot be used for JWT HMAC algorithms.\r\n\r\nThe JWT RFC _requires_ that you [MUST](https://www.rfc-editor.org/rfc/rfc7518#section-3.2) use a byte array key length equal to or greater than the hash output length.\r\n\r\nThis means that if you use HS256, HS384, or HS512, your key byte arrays must be 256 bits (32 bytes), 384 bits (48 bytes), or 512 bits (64 bytes) respectively.  I go into more detail on this in [another StackOverflow answer](https://stackoverflow.com/a/40274325/407170) - see the data there, and the `MacProvider` examples that can generate you a spec-compliant and secure key.\r\n\r\nBased on this, here is that code sample, rewritten to a) generate a valid key and b) reference that key as a Base64-encoded string:\r\n\r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n    \r\n    import java.security.Key;\r\n    import java.util.Base64;\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    public class JJWTDemo {\r\n    \r\n        private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\r\n        private static final byte[] secretBytes = secret.getEncoded();\r\n        private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\r\n    \r\n        private static String generateToken() {\r\n            String id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n            Date now = new Date();\r\n            Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\r\n    \r\n            String token = Jwts.builder()\r\n                .setId(id)\r\n                .setIssuedAt(now)\r\n                .setNotBefore(now)\r\n                .setExpiration(exp)\r\n                .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\r\n                .compact();\r\n            \r\n            return token;\r\n        }\r\n    \r\n        private static void verifyToken(String token) {\r\n            Claims claims = Jwts.parser()\r\n                .setSigningKey(base64SecretBytes)\r\n                .parseClaimsJws(token).getBody();\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(&quot;ID: &quot; + claims.getId());\r\n            System.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n            System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n            System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(generateToken());\r\n            String token = generateToken();\r\n            verifyToken(token);\r\n        }\r\n    }\r\n\r\nNote that Base64-encoded byte arrays are *not* encrypted (text encoding != encryption), so ensure that if you Base64-encode your secret key bytes that you still keep that Base64 string safe/hidden.\r\n\r\nFinally, the above static final constants (named `secret`, `secretBytes` and `base64SecretBytes`) are there for this simple test demonstration only - one should never hard code keys into source code, let alone make them static constants, as they can easily be decompiled.","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p><code>apiKey.getSecret()</code> in the blog article is a reference to the secure, randomly-generated &amp; Base64-encoded secret key (like a password) assigned to the API Key that Stormpath provides every customer.  Stormpath customers use this API key to authenticate every request into the Stormpath REST API.  Because every Stormpath customer has an API Key (and the key is accessible to your application), the API Key secret is an ideal 'default' for signing and verifying JWTs specific to your application.</p>\n<p>If you don't have a Stormpath API Key, any sufficiently strong secure-random byte array will be just fine for signing and verifying JWTs.</p>\n<p>In your above example, the following is shown as a test key:</p>\n<pre><code>private static final String secret = &quot;MySecrete&quot;;\n</code></pre>\n<p>This is not a valid (JWT-compliant) key, and it cannot be used for JWT HMAC algorithms.</p>\n<p>The JWT RFC <em>requires</em> that you <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">MUST</a> use a byte array key length equal to or greater than the hash output length.</p>\n<p>This means that if you use HS256, HS384, or HS512, your key byte arrays must be 256 bits (32 bytes), 384 bits (48 bytes), or 512 bits (64 bytes) respectively.  I go into more detail on this in <a href=\"https://stackoverflow.com/a/40274325/407170\">another StackOverflow answer</a> - see the data there, and the <code>MacProvider</code> examples that can generate you a spec-compliant and secure key.</p>\n<p>Based on this, here is that code sample, rewritten to a) generate a valid key and b) reference that key as a Base64-encoded string:</p>\n<pre><code>import io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\nimport java.security.Key;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.UUID;\n\npublic class JJWTDemo {\n\n    private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\n    private static final byte[] secretBytes = secret.getEncoded();\n    private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\n\n    private static String generateToken() {\n        String id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\n\n        String token = Jwts.builder()\n            .setId(id)\n            .setIssuedAt(now)\n            .setNotBefore(now)\n            .setExpiration(exp)\n            .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\n            .compact();\n        \n        return token;\n    }\n\n    private static void verifyToken(String token) {\n        Claims claims = Jwts.parser()\n            .setSigningKey(base64SecretBytes)\n            .parseClaimsJws(token).getBody();\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(&quot;ID: &quot; + claims.getId());\n        System.out.println(&quot;Subject: &quot; + claims.getSubject());\n        System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\n        System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\n    }\n\n    public static void main(String[] args) {\n        System.out.println(generateToken());\n        String token = generateToken();\n        verifyToken(token);\n    }\n}\n</code></pre>\n<p>Note that Base64-encoded byte arrays are <em>not</em> encrypted (text encoding != encryption), so ensure that if you Base64-encode your secret key bytes that you still keep that Base64 string safe/hidden.</p>\n<p>Finally, the above static final constants (named <code>secret</code>, <code>secretBytes</code> and <code>base64SecretBytes</code>) are there for this simple test demonstration only - one should never hard code keys into source code, let alone make them static constants, as they can easily be decompiled.</p>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506689778,"creation_date":1506689778,"answer_id":46489305,"question_id":41661821,"body_markdown":"I am 100% agree on Les Hazlewood. But we should always send the `Subject`, `Issuer` and `Audience` to identify the current login users more details. The code can be modified like below:\r\n\r\n\r\n    import java.security.Key;\r\n    import java.util.Base64;\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n    \r\n    public class TokenUtil {\r\n    \tprivate static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\r\n    \tprivate static final byte[] secretBytes = secret.getEncoded();\r\n    \tprivate static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\r\n    \r\n    \tprivate static String generateToken(String subject, String issuer, String audience) {\r\n    \t\tString id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n    \t\tDate now = new Date();\r\n    \t\tDate exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\r\n    \r\n    \t\tString token = Jwts.builder()\r\n    \t\t\t\t.setId(id)\r\n    \t\t\t\t.setIssuedAt(now)\r\n    \t\t\t\t.setNotBefore(now)\r\n    \t\t\t\t.setExpiration(exp)\r\n    \t\t\t\t.setSubject(subject)\r\n    \t\t\t\t.setIssuer(issuer)\r\n    \t\t\t\t.setAudience(audience)\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS256, base64SecretBytes)\r\n    \t\t\t\t.compact();\r\n    \r\n    \t\treturn token;\r\n    \t}\r\n    \r\n    \tprivate static void verifyToken(String token) {\r\n    \t\tClaims claims = Jwts.parser()\r\n    \t\t\t\t.setSigningKey(base64SecretBytes)\r\n    \t\t\t\t.parseClaimsJws(token).getBody();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;----------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + claims.getId());\r\n    \t\tSystem.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n    \t\tSystem.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n    \t\tSystem.out.println(&quot;Expiration : &quot; + claims.getExpiration());\r\n    \t\tSystem.out.println(&quot;Not Before : &quot;+claims.getNotBefore());\r\n    \t\tSystem.out.println(&quot;Audience :: &quot;+claims.getAudience());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString token = generateToken(&quot;MySubject&quot;, &quot;AH&quot;, &quot;MyAudience&quot;);\r\n    \t\tSystem.out.println(&quot;TOKEN :: &quot;+token);\r\n    \t\tverifyToken(token);\r\n    \t}\r\n    }\r\n\r\n","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>I am 100% agree on Les Hazlewood. But we should always send the <code>Subject</code>, <code>Issuer</code> and <code>Audience</code> to identify the current login users more details. The code can be modified like below:</p>\n\n<pre><code>import java.security.Key;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.UUID;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\npublic class TokenUtil {\n    private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\n    private static final byte[] secretBytes = secret.getEncoded();\n    private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\n\n    private static String generateToken(String subject, String issuer, String audience) {\n        String id = UUID.randomUUID().toString().replace(\"-\", \"\");\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\n\n        String token = Jwts.builder()\n                .setId(id)\n                .setIssuedAt(now)\n                .setNotBefore(now)\n                .setExpiration(exp)\n                .setSubject(subject)\n                .setIssuer(issuer)\n                .setAudience(audience)\n                .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\n                .compact();\n\n        return token;\n    }\n\n    private static void verifyToken(String token) {\n        Claims claims = Jwts.parser()\n                .setSigningKey(base64SecretBytes)\n                .parseClaimsJws(token).getBody();\n\n        System.out.println(\"----------------------------\");\n        System.out.println(\"ID: \" + claims.getId());\n        System.out.println(\"Subject: \" + claims.getSubject());\n        System.out.println(\"Issuer: \" + claims.getIssuer());\n        System.out.println(\"Expiration : \" + claims.getExpiration());\n        System.out.println(\"Not Before : \"+claims.getNotBefore());\n        System.out.println(\"Audience :: \"+claims.getAudience());\n    }\n\n    public static void main(String[] args) {\n        String token = generateToken(\"MySubject\", \"AH\", \"MyAudience\");\n        System.out.println(\"TOKEN :: \"+token);\n        verifyToken(token);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20026453,"reputation":11,"user_id":14680157,"display_name":"AbYa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671122197,"creation_date":1671122197,"answer_id":74814794,"question_id":41661821,"body_markdown":"To generate token :\r\n\r\n        AppUser appUserPrincipal = (AppUser) authentication.getPrincipal();\r\n\r\n        return Jwts.builder()\r\n                .setSubject((appUserPrincipal.getUsername()))\r\n                .setIssuedAt(new Date())\r\n                .signWith(getKey(), SignatureAlgorithm.HS512)\r\n                .compact();\r\n        }\r\n\r\n\r\n        public Key getKey() {\r\n          byte[] keyByte = Decoders.BASE64.decode(jwtSecret);\r\n          return Keys.hmacShaKeyFor(keyByte);\r\n        }  \r\n\r\nAnd then get the userName (subject) from token using this code :\r\n\r\n        public String getUserNameFromJwtToken(String token) {\r\n              return Jwts.parserBuilder().setSigningKey(getKey()).build()\r\n                .parseClaimsJws(token).getBody().getSubject();\r\n        }","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>To generate token :</p>\n<pre><code>    AppUser appUserPrincipal = (AppUser) authentication.getPrincipal();\n\n    return Jwts.builder()\n            .setSubject((appUserPrincipal.getUsername()))\n            .setIssuedAt(new Date())\n            .signWith(getKey(), SignatureAlgorithm.HS512)\n            .compact();\n    }\n\n\n    public Key getKey() {\n      byte[] keyByte = Decoders.BASE64.decode(jwtSecret);\n      return Keys.hmacShaKeyFor(keyByte);\n    }  \n</code></pre>\n<p>And then get the userName (subject) from token using this code :</p>\n<pre><code>    public String getUserNameFromJwtToken(String token) {\n          return Jwts.parserBuilder().setSigningKey(getKey()).build()\n            .parseClaimsJws(token).getBody().getSubject();\n    }\n</code></pre>\n"}],"owner":{"display_name":"user5778069"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28636,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41704545,"answer_count":3,"score":12,"last_activity_date":1671122197,"creation_date":1484488105,"question_id":41661821,"body_markdown":"I&#39;m looking to implement `JWT` in my application for that I&#39;m doing some R&amp;D on it by taking a reference from : https://stormpath.com/blog/jwt-java-create-verify. I was successfully able to implement the `generateToken()` method, when I am trying to `verifyToken()` by extracting claim sets. I dont understand from where `apiKey.getSecret()` is came from. Could you please guide me on this?\r\n\r\nThe code below for reference:\r\n\r\n    public class JJWTDemo {\r\n    \t\r\n    \tprivate static final String secret = &quot;MySecrete&quot;;\r\n    \t\r\n    \tprivate static String generateToken(){\r\n    \t\tString id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n    \t\tDate now = new Date();\r\n            Date exp = new Date(System.currentTimeMillis() + (1000*30)); // 30 seconds\r\n    \t\t\r\n    \t\tString token = Jwts.builder()\r\n    \t            .setId(id)\r\n    \t            .setIssuedAt(now)\r\n    \t            .setNotBefore(now)\r\n    \t            .setExpiration(exp)\r\n    \t            .signWith(SignatureAlgorithm.HS256, secret)\r\n    \t            .compact();\r\n    \t\t\r\n    \t\treturn token;\r\n    \t}\r\n    \t\r\n    \tprivate static void verifyToken(String token){\r\n    \t\tClaims claims = Jwts.parser().\r\n    \t\t\t\tsetSigningKey(DatatypeConverter.parseBase64Binary(apiKey.getSecret()))\r\n    \t\t\t\t.parseClaimsJws(token).getBody();\r\n    \t\tSystem.out.println(&quot;----------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + claims.getId());\r\n    \t    System.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n    \t    System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n    \t    System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(generateToken());\r\n    \t\tString token = generateToken();\r\n    \t\tverifyToken(token);\r\n    \t}\r\n    }\r\n\r\n I see the below error is coming:\r\n\r\n    eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4N2E5NmYwNTcyN2M0ZDY0YjZmODlhNDAyOTQ2OTZiNyIsImlhdCI6MTQ4NDQ4NjYyNiwibmJmIjoxNDg0NDg2NjI2LCJleHAiOjE0ODQ0ODY2NTZ9.ycS7nLWnPpe28DM7CcQYBswOmMUhBd3wQwfZ9C-yQYs\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed.\r\n    \tat io.jsonwebtoken.lang.Assert.notNull(Assert.java:85)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:331)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\r\n    \tat io.jsonwebtoken.jjwtfun.service.JJWTDemo.verifyToken(JJWTDemo.java:31)\r\n    \tat io.jsonwebtoken.jjwtfun.service.JJWTDemo.main(JJWTDemo.java:41)\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>I'm looking to implement <code>JWT</code> in my application for that I'm doing some R&amp;D on it by taking a reference from : <a href=\"https://stormpath.com/blog/jwt-java-create-verify\" rel=\"noreferrer\">https://stormpath.com/blog/jwt-java-create-verify</a>. I was successfully able to implement the <code>generateToken()</code> method, when I am trying to <code>verifyToken()</code> by extracting claim sets. I dont understand from where <code>apiKey.getSecret()</code> is came from. Could you please guide me on this?</p>\n\n<p>The code below for reference:</p>\n\n<pre><code>public class JJWTDemo {\n\n    private static final String secret = \"MySecrete\";\n\n    private static String generateToken(){\n        String id = UUID.randomUUID().toString().replace(\"-\", \"\");\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000*30)); // 30 seconds\n\n        String token = Jwts.builder()\n                .setId(id)\n                .setIssuedAt(now)\n                .setNotBefore(now)\n                .setExpiration(exp)\n                .signWith(SignatureAlgorithm.HS256, secret)\n                .compact();\n\n        return token;\n    }\n\n    private static void verifyToken(String token){\n        Claims claims = Jwts.parser().\n                setSigningKey(DatatypeConverter.parseBase64Binary(apiKey.getSecret()))\n                .parseClaimsJws(token).getBody();\n        System.out.println(\"----------------------------\");\n        System.out.println(\"ID: \" + claims.getId());\n        System.out.println(\"Subject: \" + claims.getSubject());\n        System.out.println(\"Issuer: \" + claims.getIssuer());\n        System.out.println(\"Expiration: \" + claims.getExpiration());\n    }\n\n    public static void main(String[] args) {\n        System.out.println(generateToken());\n        String token = generateToken();\n        verifyToken(token);\n    }\n}\n</code></pre>\n\n<p>I see the below error is coming:</p>\n\n<pre><code>eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4N2E5NmYwNTcyN2M0ZDY0YjZmODlhNDAyOTQ2OTZiNyIsImlhdCI6MTQ4NDQ4NjYyNiwibmJmIjoxNDg0NDg2NjI2LCJleHAiOjE0ODQ0ODY2NTZ9.ycS7nLWnPpe28DM7CcQYBswOmMUhBd3wQwfZ9C-yQYs\nException in thread \"main\" java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed.\n    at io.jsonwebtoken.lang.Assert.notNull(Assert.java:85)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:331)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\n    at io.jsonwebtoken.jjwtfun.service.JJWTDemo.verifyToken(JJWTDemo.java:31)\n    at io.jsonwebtoken.jjwtfun.service.JJWTDemo.main(JJWTDemo.java:41)\n</code></pre>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671118936,"post_id":74813991,"comment_id":132033958,"body_markdown":"You already have it , there is no copy. The line `ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});` doesn&#39;t do anything apart from starting yet another application which `@SpringBootTest` also does.","body":"You already have it , there is no copy. The line <code>ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});</code> doesn&#39;t do anything apart from starting yet another application which <code>@SpringBootTest</code> also does."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671120490,"post_id":74813991,"comment_id":132034551,"body_markdown":"@M.Deinum Ok, now I&#39;m sending args to main class like this: @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}), but now it doesn&#39;t do anything, I still have {}","body":"@M.Deinum Ok, now I&#39;m sending args to main class like this: @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}), but now it doesn&#39;t do anything, I still have {}"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671121059,"post_id":74813991,"comment_id":132034802,"body_markdown":"Are you using H2 db in test case?","body":"Are you using H2 db in test case?"},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671121612,"post_id":74813991,"comment_id":132035022,"body_markdown":"@RohitAgarwal PostgreSQL, but it doesn&#39;t matter, as I can&#39;t send data to args","body":"@RohitAgarwal PostgreSQL, but it doesn&#39;t matter, as I can&#39;t send data to args"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671122526,"post_id":74813991,"comment_id":132035366,"body_markdown":"Ok is it possible to share code in repo to debug it further?","body":"Ok is it possible to share code in repo to debug it further?"},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671124162,"post_id":74813991,"comment_id":132035890,"body_markdown":"@RohitAgarwal https://github.com/Kernazhytski/ClevertechTestTask","body":"@RohitAgarwal <a href=\"https://github.com/Kernazhytski/ClevertechTestTask\" rel=\"nofollow noreferrer\">github.com/Kernazhytski/ClevertechTestTask</a>"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671126416,"post_id":74813991,"comment_id":132036604,"body_markdown":"I checked your code, it looks fine. Test case is working as expected. If you want to get data from Items table then you have to first load data in that table in test case. In H2 database this is possible with data.sql file.","body":"I checked your code, it looks fine. Test case is working as expected. If you want to get data from Items table then you have to first load data in that table in test case. In H2 database this is possible with data.sql file."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671132218,"post_id":74813991,"comment_id":132038341,"body_markdown":"@RohitAgarwal It can&#39;t connect to an existing table?","body":"@RohitAgarwal It can&#39;t connect to an existing table?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671168280,"post_id":74813991,"comment_id":132045339,"body_markdown":"Yes you can but then you need to add same database details in application.properties file present in test/resource folder but this is not recommended to use actual database for testing. We should use in-memory database","body":"Yes you can but then you need to add same database details in application.properties file present in test/resource folder but this is not recommended to use actual database for testing. We should use in-memory database"}],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671122136,"creation_date":1671118533,"question_id":74813991,"body_markdown":"I have a SpringBootTest class:\r\n\r\n```\r\n\r\n@SpringBootTest\r\nclass EntryData1 {\r\n\r\n\t@Autowired\r\n\tprivate ItemsDAO itemsDAO;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});\r\n\t\tSystem.out.println(itemsDAO.getList());\r\n\t}\r\n\r\n}\r\n```\r\nWhen I call itemsDAO.getList() in test I get {}, but when I write System.out.println(itemsDAO.getList()); in the main code I get a HashMap. So that means, test class make copy of ItemsDAO Bean, how can I use the main one?\r\n\r\nEdit:\r\n\r\nNow I have @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}) and made in main method getter of args, to see, if String[] args getts anything. I got {} from getter, so it means nothing was sent to args","title":"How to get Bean from a main code to the SpringBootTest?","body":"<p>I have a SpringBootTest class:</p>\n<pre><code>\n@SpringBootTest\nclass EntryData1 {\n\n    @Autowired\n    private ItemsDAO itemsDAO;\n\n    @Test\n    void contextLoads() {\n        ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});\n        System.out.println(itemsDAO.getList());\n    }\n\n}\n</code></pre>\n<p>When I call itemsDAO.getList() in test I get {}, but when I write System.out.println(itemsDAO.getList()); in the main code I get a HashMap. So that means, test class make copy of ItemsDAO Bean, how can I use the main one?</p>\n<p>Edit:</p>\n<p>Now I have @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}) and made in main method getter of args, to see, if String[] args getts anything. I got {} from getter, so it means nothing was sent to args</p>\n"},{"tags":["java","hibernate","spring"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1313687785,"creation_date":1313686558,"answer_id":7111172,"question_id":7111134,"body_markdown":"Wrapping exceptions usually have a way to nest the original exception within them. For Hibernate, your ConstraintViolationException is a JDBCException, it has a method called [getSQLException][1] that returns the actual exception. So call getCause on the Spring DataIntegrityViolationException (in order to get the Hibernate exception), call getSQLException on that, and finally call getMessage() on the SQLException. The message should be the same as what you see logged by the Hibernate JDBCExceptionReporter, if you want only the constraint name you will have to parse the string.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/JDBCException.html#getSQLException%28%29","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>Wrapping exceptions usually have a way to nest the original exception within them. For Hibernate, your ConstraintViolationException is a JDBCException, it has a method called <a href=\"http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/JDBCException.html#getSQLException%28%29\" rel=\"noreferrer\">getSQLException</a> that returns the actual exception. So call getCause on the Spring DataIntegrityViolationException (in order to get the Hibernate exception), call getSQLException on that, and finally call getMessage() on the SQLException. The message should be the same as what you see logged by the Hibernate JDBCExceptionReporter, if you want only the constraint name you will have to parse the string.</p>\n"},{"comments":[{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":3,"creation_date":1493714879,"post_id":39010362,"comment_id":74510303,"body_markdown":"This will return a string in the format `ERROR: duplicate key value violates unique constraint &quot;uk_meb3tm159kt0clyot5mmv8oht&quot;\n  Detail: Key (organization_name)=(Villa College QI Campus) already exists.`. This will not be helpful if they want to provide a message for the end user","body":"This will return a string in the format <code>ERROR: duplicate key value violates unique constraint &quot;uk_meb3tm159kt0clyot5mmv8oht&quot;   Detail: Key (organization_name)=(Villa College QI Campus) already exists.</code>. This will not be helpful if they want to provide a message for the end user"},{"owner":{"account_id":1024292,"reputation":1918,"user_id":4988996,"accept_rate":100,"display_name":"Furkan Yavuz"},"score":0,"creation_date":1540485683,"post_id":39010362,"comment_id":92893521,"body_markdown":"I think the only part that we need to take care is giving meaningful unique constraint names then it will look like: \n`ERROR: duplicate key value violates unique constraint &quot;unique_organization_name&quot; Detail: Key (organization_name)=(Villa College QI Campus) already exists.`","body":"I think the only part that we need to take care is giving meaningful unique constraint names then it will look like:  <code>ERROR: duplicate key value violates unique constraint &quot;unique_organization_name&quot; Detail: Key (organization_name)=(Villa College QI Campus) already exists.</code>"}],"tags":[],"owner":{"account_id":9031814,"reputation":131,"user_id":6729129,"display_name":"Guilherme Berghauser"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1471500238,"creation_date":1471496784,"answer_id":39010362,"question_id":7111134,"body_markdown":"Insert a `catch` statement like this:\r\n\r\n    catch (DataIntegrityViolationException e) {\r\n\t\t\tString message = e.getMostSpecificCause().getMessage();\r\n    }","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>Insert a <code>catch</code> statement like this:</p>\n\n<pre><code>catch (DataIntegrityViolationException e) {\n        String message = e.getMostSpecificCause().getMessage();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18935660,"reputation":86,"user_id":13816773,"display_name":"Crist&#243;bal Gajardo Vera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646435120,"creation_date":1646435120,"answer_id":71358123,"question_id":7111134,"body_markdown":"If you are using PostgreSQL and you are really interested to find detailed cause of the exception, then you can use PostgreSQL in compilation time, as so:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis way, you will have utility methods and the PSQLException class. With this, now you can cast most specific cause to it.\r\n\r\n```java\r\nvar exceptionCause = exception.getMostSpecificCause();\r\n\r\nif (exceptionCause instanceof PSQLException psqlException) {\r\n    var serverErrorMessage = psqlException.getServerErrorMessage();\r\n\r\n    if (serverErrorMessage != null) {\r\n        var detail = serverErrorMessage.getDetail();\r\n        exceptionCause = new Exception(detail);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, now you can throw or handle this `exceptionCause` that will have your detailed or human-readable message.","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>If you are using PostgreSQL and you are really interested to find detailed cause of the exception, then you can use PostgreSQL in compilation time, as so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This way, you will have utility methods and the PSQLException class. With this, now you can cast most specific cause to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var exceptionCause = exception.getMostSpecificCause();\n\nif (exceptionCause instanceof PSQLException psqlException) {\n    var serverErrorMessage = psqlException.getServerErrorMessage();\n\n    if (serverErrorMessage != null) {\n        var detail = serverErrorMessage.getDetail();\n        exceptionCause = new Exception(detail);\n    }\n}\n</code></pre>\n<p>As you can see, now you can throw or handle this <code>exceptionCause</code> that will have your detailed or human-readable message.</p>\n"},{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696989689,"post_id":74814757,"comment_id":136221965,"body_markdown":"What about how to get constraint type? i.e. uniqueness error?","body":"What about how to get constraint type? i.e. uniqueness error?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696992726,"post_id":74814757,"comment_id":136222200,"body_markdown":"And column name and offending parameter?","body":"And column name and offending parameter?"}],"tags":[],"owner":{"account_id":11906277,"reputation":93,"user_id":8712753,"display_name":"ebey"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671122016,"creation_date":1671122016,"answer_id":74814757,"question_id":7111134,"body_markdown":"You can handle like that\r\n\r\n    catch (DataIntegrityViolationException ex){\r\n         String constraintName = ((ConstraintViolationException)ex.getCause()).getConstraintName();\r\n     ...\r\n\r\nBut be careful import will be\r\n\r\n     import org.hibernate.exception.ConstraintViolationException;\r\nnot \r\n\r\n     import javax.validaiton;","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>You can handle like that</p>\n<pre><code>catch (DataIntegrityViolationException ex){\n     String constraintName = ((ConstraintViolationException)ex.getCause()).getConstraintName();\n ...\n</code></pre>\n<p>But be careful import will be</p>\n<pre><code> import org.hibernate.exception.ConstraintViolationException;\n</code></pre>\n<p>not</p>\n<pre><code> import javax.validaiton;\n</code></pre>\n"}],"owner":{"account_id":60082,"reputation":801,"user_id":179589,"accept_rate":79,"display_name":"Arthur Accioly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9893,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7111172,"answer_count":4,"score":12,"last_activity_date":1671122016,"creation_date":1313686374,"question_id":7111134,"body_markdown":"In my application when a violation key is raised, I would like to get the constraint name, but I&#39;m not finding any method to get this information. The message returned by &quot;getMessage()&quot; is very summarized and I need more information about the error to make a customizable error message to the end user.\r\n\r\nThe stack trace:\r\n\r\n    84732 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\r\n    84732 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint &quot;ix_tb_oferta_vaga&quot;\r\n      Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\r\n    187405 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\r\n    187405 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint &quot;ix_tb_oferta_vaga&quot;\r\n      Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\r\n\r\nThe getMessage():\r\n\r\n    could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]\r\n\r\nThanks.\r\n\r\nArthur\r\n","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>In my application when a violation key is raised, I would like to get the constraint name, but I'm not finding any method to get this information. The message returned by \"getMessage()\" is very summarized and I need more information about the error to make a customizable error message to the end user.</p>\n\n<p>The stack trace:</p>\n\n<pre><code>84732 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\n84732 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint \"ix_tb_oferta_vaga\"\n  Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\n187405 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\n187405 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint \"ix_tb_oferta_vaga\"\n  Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\n</code></pre>\n\n<p>The getMessage():</p>\n\n<pre><code>could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>Arthur</p>\n"},{"tags":["java","android","httprequest","android-volley"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1671053378,"post_id":74801511,"comment_id":132017290,"body_markdown":"What does the documentation say exactly about the authentication token? Do you need to send it as a parameter, or maybe as a header? (If it&#39;s the latter, [this article about Volley headers](http://arnab.ch/blog/2013/08/asynchronous-http-requests-in-android-using-volley/) might help you","body":"What does the documentation say exactly about the authentication token? Do you need to send it as a parameter, or maybe as a header? (If it&#39;s the latter, <a href=\"http://arnab.ch/blog/2013/08/asynchronous-http-requests-in-android-using-volley/\" rel=\"nofollow noreferrer\">this article about Volley headers</a> might help you"}],"owner":{"account_id":20328218,"reputation":11,"user_id":14910955,"display_name":"BFM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671121434,"creation_date":1671035927,"question_id":74801511,"body_markdown":"I want to send a DELETE request to an API to delete a city with the given id. In the API request documentation it says that the DELETE request requires as parameters the authentication token and the city id. When I run the code below I always get a `com.android.volley.AuthFailureError`.\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nvoid deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\r\n    String url = baseUrl + &quot;city&quot;;\r\n\r\n    try {\r\n        JSONObject params = new JSONObject();\r\n        params.put(&quot;token&quot;, token);\r\n        params.put(&quot;city_id&quot;, cityId);\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\r\n                (Request.Method.DELETE, url, params, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try{\r\n                            String success = response.get(&quot;success&quot;).toString();\r\n                            if(success.equals(&quot;true&quot;)){\r\n                                volleyResponseListener.onResponse();\r\n                            }else{\r\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\r\n                                throw new Exception(errorMessage);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            volleyResponseListener.onError(e.getMessage());\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        System.out.println(error);\r\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\r\n                    }\r\n                });\r\n        requestQueue.add(jsonObjectRequest);\r\n    }catch (JSONException e){\r\n        volleyResponseListener.onError(&quot;Param error&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nUPDATE:\r\n\r\nI solved the problem by adding the city id as a query in the HTTP request and sent the authentication token in the header. Here is the final code:\r\n```java\r\nvoid deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\r\n    String url = baseUrl + &quot;city?city_id=&quot;+cityId;\r\n\r\n   \r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\r\n                (Request.Method.DELETE, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try{\r\n                            String success = response.get(&quot;success&quot;).toString();\r\n                            if(success.equals(&quot;true&quot;)){\r\n                                volleyResponseListener.onResponse();\r\n                            }else{\r\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\r\n                                throw new Exception(errorMessage);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            volleyResponseListener.onError(e.getMessage());\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        System.out.println(error);\r\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\r\n                    }\r\n                }){\r\n\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = super.getHeaders();\r\n\r\n                    if (headers == null || headers.equals(Collections.emptyMap())) {\r\n                        headers = new HashMap&lt;String, String&gt;();\r\n                    }\r\n\r\n                    headers.put(&quot;token&quot;, token);\r\n\r\n                    return headers;\r\n                }\r\n\r\n\r\n            };\r\n        requestQueue.add(jsonObjectRequest);\r\n}\r\n```","title":"How can I send a DELETE request with parameters using Volley?","body":"<p>I want to send a DELETE request to an API to delete a city with the given id. In the API request documentation it says that the DELETE request requires as parameters the authentication token and the city id. When I run the code below I always get a <code>com.android.volley.AuthFailureError</code>.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\n    String url = baseUrl + &quot;city&quot;;\n\n    try {\n        JSONObject params = new JSONObject();\n        params.put(&quot;token&quot;, token);\n        params.put(&quot;city_id&quot;, cityId);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\n                (Request.Method.DELETE, url, params, new Response.Listener&lt;JSONObject&gt;() {\n\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try{\n                            String success = response.get(&quot;success&quot;).toString();\n                            if(success.equals(&quot;true&quot;)){\n                                volleyResponseListener.onResponse();\n                            }else{\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\n                                throw new Exception(errorMessage);\n                            }\n                        } catch (Exception e) {\n                            volleyResponseListener.onError(e.getMessage());\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        System.out.println(error);\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\n                    }\n                });\n        requestQueue.add(jsonObjectRequest);\n    }catch (JSONException e){\n        volleyResponseListener.onError(&quot;Param error&quot;);\n    }\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>I solved the problem by adding the city id as a query in the HTTP request and sent the authentication token in the header. Here is the final code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\n    String url = baseUrl + &quot;city?city_id=&quot;+cityId;\n\n   \n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\n                (Request.Method.DELETE, url, null, new Response.Listener&lt;JSONObject&gt;() {\n\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try{\n                            String success = response.get(&quot;success&quot;).toString();\n                            if(success.equals(&quot;true&quot;)){\n                                volleyResponseListener.onResponse();\n                            }else{\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\n                                throw new Exception(errorMessage);\n                            }\n                        } catch (Exception e) {\n                            volleyResponseListener.onError(e.getMessage());\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        System.out.println(error);\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\n                    }\n                }){\n\n                @Override\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                    Map&lt;String, String&gt; headers = super.getHeaders();\n\n                    if (headers == null || headers.equals(Collections.emptyMap())) {\n                        headers = new HashMap&lt;String, String&gt;();\n                    }\n\n                    headers.put(&quot;token&quot;, token);\n\n                    return headers;\n                }\n\n\n            };\n        requestQueue.add(jsonObjectRequest);\n}\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1551086260,"post_id":54862835,"comment_id":96496316,"body_markdown":"I can&#39;t answer the first part (other than the usual: worry about performance when you have a performance problem to worry about), but re the latter, of course you can: `private Predicate&lt;String&gt; p = (arg) -&gt; true;`.","body":"I can&#39;t answer the first part (other than the usual: worry about performance when you have a performance problem to worry about), but re the latter, of course you can: <code>private Predicate&lt;String&gt; p = (arg) -&gt; true;</code>."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1551086263,"post_id":54862835,"comment_id":96496318,"body_markdown":"Doing what without lambda? This method does effectively nothing.","body":"Doing what without lambda? This method does effectively nothing."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1551086264,"post_id":54862835,"comment_id":96496319,"body_markdown":"The method `doThis` does not actually do anything except declaring a Predicate that remains unused. Did you want to return it ?","body":"The method <code>doThis</code> does not actually do anything except declaring a Predicate that remains unused. Did you want to return it ?"},{"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"score":0,"creation_date":1551086339,"post_id":54862835,"comment_id":96496359,"body_markdown":"@Henry added more code","body":"@Henry added more code"},{"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"score":0,"creation_date":1551086404,"post_id":54862835,"comment_id":96496398,"body_markdown":"@T.J.Crowder will it make any difference (good/bad)if I refactor it as a instance variable.","body":"@T.J.Crowder will it make any difference (good/bad)if I refactor it as a instance variable."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1551086544,"post_id":54862835,"comment_id":96496475,"body_markdown":"It depends on how often you would call that method (and hence create a new predicate). Making it a static class member (no need to access instance scope) is probably faster, but also it probably does not really matter.","body":"It depends on how often you would call that method (and hence create a new predicate). Making it a static class member (no need to access instance scope) is probably faster, but also it probably does not really matter."},{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1551086906,"post_id":54862835,"comment_id":96496689,"body_markdown":"You could also make it  a private static Predicate or even better a complete new private static method and use it in dothis().","body":"You could also make it  a private static Predicate or even better a complete new private static method and use it in dothis()."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671122254,"post_id":54862835,"comment_id":132035279,"body_markdown":"the only way to verify performance assumptions is to measure it ;) Everything else is as reliable as reading tea leaves ..","body":"the only way to verify performance assumptions is to measure it ;) Everything else is as reliable as reading tea leaves .."}],"answers":[{"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1551088194,"post_id":54863324,"comment_id":96497436,"body_markdown":"Are you as confused as I am about the 100000 iterations taking _less_ time than the single evaluation of the method? (Besides that method of measurement not being super-precise, I would not be surprised if the compiler optimized the lambda/inner class away as it is never used at all.)","body":"Are you as confused as I am about the 100000 iterations taking <i>less</i> time than the single evaluation of the method? (Besides that method of measurement not being super-precise, I would not be surprised if the compiler optimized the lambda/inner class away as it is never used at all.)"},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":0,"creation_date":1551089392,"post_id":54863324,"comment_id":96498076,"body_markdown":"Lamdas is faster if you have more iterations and only solwer in a first time initialization.","body":"Lamdas is faster if you have more iterations and only solwer in a first time initialization."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1551091263,"post_id":54863324,"comment_id":96499168,"body_markdown":"You can&#39;t trust the numbers from that code. Why: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"You can&#39;t trust the numbers from that code. Why: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"}],"tags":[],"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671121138,"creation_date":1551087928,"answer_id":54863324,"question_id":54862835,"body_markdown":"you can see performance:\r\n\r\n  \r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;Predicate using Lambda&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            doThis();\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Without Lambda&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            doThisWithoutLambda();\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Lambda 100000&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                doThis();\r\n            }\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Without Lambda 100000&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                doThisWithoutLambda();\r\n            }\r\n            System.out.println(System.currentTimeMillis());\r\n        }\r\n    \r\n        public static void doThis() {\r\n            Predicate&lt;String&gt; p = (arg) -&gt; true;\r\n    \r\n        }\r\n    \r\n        public static void doThisWithoutLambda() {\r\n            Predicate&lt;String&gt; p = new Predicate&lt;String&gt;() {\r\n                @Override\r\n                public boolean evaluate(String object) {\r\n                    return true;\r\n                }\r\n            };\r\n    \r\n        }\r\n\r\nOutput : \r\n\r\n    Predicate using Lambda\r\n    1551087600419\r\n    1551087600491\r\n    Predicate using Without Lambda\r\n    1551087600491\r\n    1551087600492\r\n    Predicate using Lambda 100000\r\n    1551087600492\r\n    1551087600496\r\n    Predicate using Without Lambda 100000\r\n    1551087600496\r\n    1551087600500\r\n\r\n\r\n&gt; [Java lambdas 20 times slower than anonymous classes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes","title":"lambda expression within method body","body":"<p>you can see performance:</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;Predicate using Lambda&quot;);\n        System.out.println(System.currentTimeMillis());\n        doThis();\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Without Lambda&quot;);\n        System.out.println(System.currentTimeMillis());\n        doThisWithoutLambda();\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Lambda 100000&quot;);\n        System.out.println(System.currentTimeMillis());\n        for (int i = 0; i &lt; 100000; i++) {\n            doThis();\n        }\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Without Lambda 100000&quot;);\n        System.out.println(System.currentTimeMillis());\n        for (int i = 0; i &lt; 100000; i++) {\n            doThisWithoutLambda();\n        }\n        System.out.println(System.currentTimeMillis());\n    }\n\n    public static void doThis() {\n        Predicate&lt;String&gt; p = (arg) -&gt; true;\n\n    }\n\n    public static void doThisWithoutLambda() {\n        Predicate&lt;String&gt; p = new Predicate&lt;String&gt;() {\n            @Override\n            public boolean evaluate(String object) {\n                return true;\n            }\n        };\n\n    }\n</code></pre>\n<p>Output :</p>\n<pre><code>Predicate using Lambda\n1551087600419\n1551087600491\nPredicate using Without Lambda\n1551087600491\n1551087600492\nPredicate using Lambda 100000\n1551087600492\n1551087600496\nPredicate using Without Lambda 100000\n1551087600496\n1551087600500\n</code></pre>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes\">Java lambdas 20 times slower than anonymous classes</a></p>\n</blockquote>\n"}],"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671121138,"creation_date":1551086120,"question_id":54862835,"body_markdown":"I have a method like this \r\n\r\n    public void doThis(){\r\n       Predicate&lt;String&gt; p = (arg) -&gt; true;\r\n       doThat(p);\r\n    }\r\n\r\nWill this have any performance impact as compared to doing it without lambda ?\r\nIs it possible to store this lambda expression as a instance variable to make it better ?","title":"lambda expression within method body","body":"<p>I have a method like this </p>\n\n<pre><code>public void doThis(){\n   Predicate&lt;String&gt; p = (arg) -&gt; true;\n   doThat(p);\n}\n</code></pre>\n\n<p>Will this have any performance impact as compared to doing it without lambda ?\nIs it possible to store this lambda expression as a instance variable to make it better ?</p>\n"},{"tags":["java","maven","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":0,"creation_date":1474270378,"post_id":39567434,"comment_id":66445370,"body_markdown":"Does your application contains web.xml?","body":"Does your application contains web.xml?"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":2,"creation_date":1474270714,"post_id":39567434,"comment_id":66445546,"body_markdown":"@SergeyBespalov I don&#39;t think it needs one with Spring Boot. See my answer below - I had forgotten to adjust my `Application.java` file.","body":"@SergeyBespalov I don&#39;t think it needs one with Spring Boot. See my answer below - I had forgotten to adjust my <code>Application.java</code> file."},{"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":0,"creation_date":1474271218,"post_id":39567434,"comment_id":66445817,"body_markdown":"you&#39;re right it&#39;s not necessary, but still can be used with Spring Boot","body":"you&#39;re right it&#39;s not necessary, but still can be used with Spring Boot"}],"answers":[{"comments":[{"owner":{"account_id":5398676,"reputation":460,"user_id":4299103,"accept_rate":100,"display_name":"mayank"},"score":2,"creation_date":1563445591,"post_id":39567726,"comment_id":100706366,"body_markdown":"Thanks a lot but now the class is depricated ;)","body":"Thanks a lot but now the class is depricated ;)"},{"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"score":0,"creation_date":1637148732,"post_id":39567726,"comment_id":123746595,"body_markdown":"mayank, can you tell the latest way?","body":"mayank, can you tell the latest way?"}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1506839801,"creation_date":1474270614,"answer_id":39567726,"question_id":39567434,"body_markdown":"I had forgotten to tweak my `Application.java` file to extend `SpringBootServletInitializer` and override the `configure` method.\r\n\r\nCorrected file:\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n      public static void main(String[] args) {\r\n          SpringApplication.run(Application.class, args);\r\n      }\r\n    \r\n      @Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n          return builder.sources(Application.class);\r\n      }\r\n    }\r\n\r\nHat tip to https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/ for pointing out my mistake.\r\n\r\nMore info at [Create a deployable war file][1] in Spring Boot Official docs.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle/#howto-create-a-deployable-war-file","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had forgotten to tweak my <code>Application.java</code> file to extend <code>SpringBootServletInitializer</code> and override the <code>configure</code> method.</p>\n\n<p>Corrected file:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n  public static void main(String[] args) {\n      SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n      return builder.sources(Application.class);\n  }\n}\n</code></pre>\n\n<p>Hat tip to <a href=\"https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/\" rel=\"noreferrer\">https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/</a> for pointing out my mistake.</p>\n\n<p>More info at <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle/#howto-create-a-deployable-war-file\" rel=\"noreferrer\">Create a deployable war file</a> in Spring Boot Official docs.</p>\n"},{"tags":[],"owner":{"account_id":9194624,"reputation":29,"user_id":6833774,"display_name":"Hanumant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571554328,"creation_date":1571554328,"answer_id":58470677,"question_id":39567434,"body_markdown":"In case anyone having same problem while using sprint boot in the IntelliJ community edition. You just need to put your main class in the main package (com.xyx) don&#39;t put it in any subpackage which is created inside com.xyx.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>In case anyone having same problem while using sprint boot in the IntelliJ community edition. You just need to put your main class in the main package (com.xyx) don't put it in any subpackage which is created inside com.xyx.</p>\n"},{"tags":[],"owner":{"account_id":14909662,"reputation":1,"user_id":10765596,"display_name":"Diego Mejia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593564763,"creation_date":1593564763,"answer_id":62668116,"question_id":39567434,"body_markdown":"Just add the route in the controller annotation, something like this: \r\n@RestController\r\n@RequestMapping(value = &quot;/&lt;route&gt;&quot;)","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Just add the route in the controller annotation, something like this:\n@RestController\n@RequestMapping(value = &quot;/&quot;)</p>\n"},{"comments":[{"owner":{"account_id":4283369,"reputation":928,"user_id":3502024,"display_name":"noman404"},"score":5,"creation_date":1630716646,"post_id":68917349,"comment_id":122040046,"body_markdown":"Very important information, was struggling for a while, thanks Dipu!","body":"Very important information, was struggling for a while, thanks Dipu!"},{"owner":{"account_id":23375,"reputation":2803,"user_id":58523,"accept_rate":84,"display_name":"Tone"},"score":3,"creation_date":1644016795,"post_id":68917349,"comment_id":125502315,"body_markdown":"I&#39;m using Tomcat 9 and still facing this issue.","body":"I&#39;m using Tomcat 9 and still facing this issue."},{"owner":{"account_id":90552,"reputation":6562,"user_id":249230,"accept_rate":91,"display_name":"szx"},"score":0,"creation_date":1673676736,"post_id":68917349,"comment_id":132556232,"body_markdown":"Thanks for the info, I&#39;ve wasted several hours of my life with this Tomcat BS","body":"Thanks for the info, I&#39;ve wasted several hours of my life with this Tomcat BS"}],"tags":[],"owner":{"account_id":6543259,"reputation":181,"user_id":5059995,"display_name":"Dipu Krishnan"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1629869817,"creation_date":1629869817,"answer_id":68917349,"question_id":39567434,"body_markdown":"As of August 2021 .\r\nIf anyone facing this issue in Tomcat 10 server, just read in the below post that Spring boot won&#39;t work in Tomcat 10.\r\nhttps://github.com/spring-projects/spring-boot/issues/22414\r\n\r\nI had faced this issue and switching to an previous version, which resolved the problem.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>As of August 2021 .\nIf anyone facing this issue in Tomcat 10 server, just read in the below post that Spring boot won't work in Tomcat 10.\n<a href=\"https://github.com/spring-projects/spring-boot/issues/22414\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/22414</a></p>\n<p>I had faced this issue and switching to an previous version, which resolved the problem.</p>\n"},{"tags":[],"owner":{"account_id":18262452,"reputation":31,"user_id":13294956,"display_name":"Achintya Shivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642769151,"creation_date":1642769151,"answer_id":70801496,"question_id":39567434,"body_markdown":"Downgrading Tomcat from version 10 to 9 did the trick for me.\r\nUpdate January 2022, apparently tomcat 10 still does not support spring-boot.\r\nAs mentioned by Dipu over here,\r\nhttps://stackoverflow.com/a/68917349/13294956","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Downgrading Tomcat from version 10 to 9 did the trick for me.\nUpdate January 2022, apparently tomcat 10 still does not support spring-boot.\nAs mentioned by Dipu over here,\n<a href=\"https://stackoverflow.com/a/68917349/13294956\">https://stackoverflow.com/a/68917349/13294956</a></p>\n"},{"tags":[],"owner":{"account_id":1643771,"reputation":11,"user_id":1515724,"display_name":"CesarJunior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652065959,"creation_date":1652065959,"answer_id":72166634,"question_id":39567434,"body_markdown":"For me, the Spring boot wasn&#39;t work with tomcat 10. I changed for 9 version and it worked.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>For me, the Spring boot wasn't work with tomcat 10. I changed for 9 version and it worked.</p>\n"},{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654061036,"creation_date":1654061036,"answer_id":72456765,"question_id":39567434,"body_markdown":"[Quoting dieter&#39;s answer on another SO question][1]:\r\n\r\n&gt; You war file name is priz-0.5.war. So the context name is also priz-0.5. You have to call for example http://localhost:8080/priz-0.5\r\n&gt;\r\n&gt; If you want to call it like http://localhost:8080/ just rename the war-File to ROOT.war\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40714904/after-deployment-of-war-to-tomcat-docker-container-always-getting-404","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p><a href=\"https://stackoverflow.com/questions/40714904/after-deployment-of-war-to-tomcat-docker-container-always-getting-404\">Quoting dieter's answer on another SO question</a>:</p>\n<blockquote>\n<p>You war file name is priz-0.5.war. So the context name is also priz-0.5. You have to call for example http://localhost:8080/priz-0.5</p>\n<p>If you want to call it like http://localhost:8080/ just rename the war-File to ROOT.war</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9276049,"reputation":1,"user_id":6888682,"display_name":"TractorTire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665066276,"creation_date":1665066276,"answer_id":73975467,"question_id":39567434,"body_markdown":"I had the same problem but everything was fine with my SpringBootConfiguration\r\nI finally found out why I had a 404\r\n\r\nI just removed maven-dependency-plugin in build-&gt;plugin from my pom.xml\r\n\r\n    &lt;!--\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t--&gt;\r\n\r\nThis removal allowed me to finally test my war file on a tomcat9 with success and still allow me to test via mvnw\r\n\r\nMay this help someone","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had the same problem but everything was fine with my SpringBootConfiguration\nI finally found out why I had a 404</p>\n<p>I just removed maven-dependency-plugin in build-&gt;plugin from my pom.xml</p>\n<pre><code>&lt;!--\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n--&gt;\n</code></pre>\n<p>This removal allowed me to finally test my war file on a tomcat9 with success and still allow me to test via mvnw</p>\n<p>May this help someone</p>\n"},{"tags":[],"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669826202,"creation_date":1669826202,"answer_id":74631206,"question_id":39567434,"body_markdown":"I had the same issue and it turned out that I had compiled the app for java 11, while my server was running java 8. Once I upgraded to java 11 it worked fine. It was tricky because I there was absolutely nothing in Tomcats log that indicated that issue.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had the same issue and it turned out that I had compiled the app for java 11, while my server was running java 8. Once I upgraded to java 11 it worked fine. It was tricky because I there was absolutely nothing in Tomcats log that indicated that issue.</p>\n"}],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59875,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":39567726,"answer_count":9,"score":59,"last_activity_date":1671121089,"creation_date":1474269562,"question_id":39567434,"body_markdown":"Guided by [Serving Web Content with Spring MVC](https://spring.io/guides/gs/serving-web-content/), I&#39;m creating a Spring Boot web application that I can run using both the embedded Tomcat instance as well as on a standalone Tomcat 8 server.\r\n\r\nThe application works as expected when executed as `java -jar adminpage.war` and I see the expected outcome when I visit `http://localhost:8080/table`. However, when I deploy to a Tomcat 8 server (by dropping `adminpage.war` into the `webapps` directory), I get a 404 error when I visit `https://myserver/adminpage/table`.\r\n\r\nThe `catelina.log` and `localhost.log` files contain nothing helpful on the Tomcat server.\r\n\r\nCan anyone suggest where I&#39;ve made a misconfiguration? I&#39;ve not had the same problems in the past when deploying RESTful services with Spring Boot, but this is my first foray into a web application.\r\n\r\nMy application files:\r\n\r\n`src/main/java/com/.../Application.java`\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n`src/main/java/com/.../MainController.java`\r\n\r\n    @Controller\r\n    public class MainController {\r\n    \r\n        @RequestMapping(&quot;/table&quot;)\r\n        public String greeting(Model model) {\r\n            model.addAttribute(&quot;name&quot;, &quot;Fooballs&quot;);\r\n            return &quot;table&quot;;\r\n        }\r\n    }\r\n\r\n`src/main/resources/templates/table.html`\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\t&lt;!DOCTYPE HTML&gt;\r\n\t&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\t&lt;head&gt;\r\n\t    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t    &lt;p th:text=&quot;&#39;Hello, &#39; + ${name} + &#39;!&#39;&quot; /&gt;\r\n\t&lt;/body&gt;\r\n\t&lt;/html&gt;\r\n\r\n`pom.xml`\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project\r\n      xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;adminpage&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;adminpage&lt;/finalName&gt;\r\n    \r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Guided by <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">Serving Web Content with Spring MVC</a>, I'm creating a Spring Boot web application that I can run using both the embedded Tomcat instance as well as on a standalone Tomcat 8 server.</p>\n\n<p>The application works as expected when executed as <code>java -jar adminpage.war</code> and I see the expected outcome when I visit <code>http://localhost:8080/table</code>. However, when I deploy to a Tomcat 8 server (by dropping <code>adminpage.war</code> into the <code>webapps</code> directory), I get a 404 error when I visit <code>https://myserver/adminpage/table</code>.</p>\n\n<p>The <code>catelina.log</code> and <code>localhost.log</code> files contain nothing helpful on the Tomcat server.</p>\n\n<p>Can anyone suggest where I've made a misconfiguration? I've not had the same problems in the past when deploying RESTful services with Spring Boot, but this is my first foray into a web application.</p>\n\n<p>My application files:</p>\n\n<p><code>src/main/java/com/.../Application.java</code></p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p><code>src/main/java/com/.../MainController.java</code></p>\n\n<pre><code>@Controller\npublic class MainController {\n\n    @RequestMapping(\"/table\")\n    public String greeting(Model model) {\n        model.addAttribute(\"name\", \"Fooballs\");\n        return \"table\";\n    }\n}\n</code></pre>\n\n<p><code>src/main/resources/templates/table.html</code></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=\"'Hello, ' + ${name} + '!'\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><code>pom.xml</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project\n  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n  &lt;artifactId&gt;adminpage&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n\n  &lt;build&gt;\n    &lt;finalName&gt;adminpage&lt;/finalName&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671176539,"post_id":74812894,"comment_id":132046761,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27262477,"reputation":1,"user_id":20785110,"display_name":"Xi Xi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671121022,"creation_date":1671113539,"question_id":74812894,"body_markdown":"expendablelistview pdf viewer tutorial from youtube.toast message is working.[youtube tutorial](https://youtu.be/O3J0q6nU6WM)\r\n\r\n```\r\n&gt; CustomAdapter.java\r\n```\r\n\r\n```\r\n@Override\r\npublic View getGroupView(int i, boolean b, View view, ViewGroup viewGroup) {\r\n\r\n    view= LayoutInflater.from(context).inflate(R.layout.chapter_item,viewGroup,false);\r\n    TextView chapterName = view.findViewById(R.id.chapterTitle);\r\n    chapterName.setText(chapterList.get(i).getChaptername());\r\n\r\n    return view;\r\n}\r\n@Override\r\npublic View getChildView(int i, int i1, boolean b, View view, ViewGroup viewGroup) {\r\n    view= LayoutInflater.from(context).inflate(R.layout.topics_item,viewGroup,false);\r\n    TextView topicName = (TextView) view.findViewById(R.id.topicTitle);\r\n    topicName.setText(chapterList.get(i).getTopicsList().get(i1).getTopicName());\r\n    CardView cardView=(CardView) view.findViewById(R.id.topicClick);\r\n    cardView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent intent =(new Intent(context, FullView.class));\r\n            intent.putExtra(&quot;fileName&quot;,chapterList.get(i).getTopicsList().get(i1).getFileName());\r\n            context.startActivity(intent);\r\n```\r\n","title":"ExpandableListView CustomAdapter app crack","body":"<p>expendablelistview pdf viewer tutorial from youtube.toast message is working.<a href=\"https://youtu.be/O3J0q6nU6WM\" rel=\"nofollow noreferrer\">youtube tutorial</a></p>\n<pre><code>&gt; CustomAdapter.java\n</code></pre>\n<pre><code>@Override\npublic View getGroupView(int i, boolean b, View view, ViewGroup viewGroup) {\n\n    view= LayoutInflater.from(context).inflate(R.layout.chapter_item,viewGroup,false);\n    TextView chapterName = view.findViewById(R.id.chapterTitle);\n    chapterName.setText(chapterList.get(i).getChaptername());\n\n    return view;\n}\n@Override\npublic View getChildView(int i, int i1, boolean b, View view, ViewGroup viewGroup) {\n    view= LayoutInflater.from(context).inflate(R.layout.topics_item,viewGroup,false);\n    TextView topicName = (TextView) view.findViewById(R.id.topicTitle);\n    topicName.setText(chapterList.get(i).getTopicsList().get(i1).getTopicName());\n    CardView cardView=(CardView) view.findViewById(R.id.topicClick);\n    cardView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent =(new Intent(context, FullView.class));\n            intent.putExtra(&quot;fileName&quot;,chapterList.get(i).getTopicsList().get(i1).getFileName());\n            context.startActivity(intent);\n</code></pre>\n"},{"tags":["java","java-stream","side-effects"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1671021261,"post_id":74798262,"comment_id":132006263,"body_markdown":"I think fundamentally any intentional side-effect inside of a stream will have the same problem of being non-obvious and easy to get wrong. I think your solution is reasonable with the caveats you gave. I don&#39;t think there&#39;s a way to fundamentally change the fact that side-effects are unintuitive/unexpected in streams.","body":"I think fundamentally any intentional side-effect inside of a stream will have the same problem of being non-obvious and easy to get wrong. I think your solution is reasonable with the caveats you gave. I don&#39;t think there&#39;s a way to fundamentally change the fact that side-effects are unintuitive/unexpected in streams."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1671144629,"post_id":74798262,"comment_id":132041867,"body_markdown":"Not everything should be implemented with streams","body":"Not everything should be implemented with streams"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1671205005,"post_id":74798262,"comment_id":132055704,"body_markdown":"@DidierL yes I think this is the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams.","body":"@DidierL yes I think this is the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams."}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671025295,"post_id":74798525,"comment_id":132007804,"body_markdown":"tricky question: is it safe to replace `peek` by `map` in particular TC case? IMO, javadoc fails to shed a light on that.","body":"tricky question: is it safe to replace <code>peek</code> by <code>map</code> in particular TC case? IMO, javadoc fails to shed a light on that."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671026010,"post_id":74798525,"comment_id":132008042,"body_markdown":"@AndreyB.Panfilov You mean `map(pc -&gt; { pc.setValidTill(dateNow); return pc; }`? API documentation says *&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would **not affect the result of the computation**&quot;*. Therefore, it&#39;s not guaranteed that implementation would not optimize away such `map` operation because it has no impact on the result (basically it&#39;s `map(Function.identity()`). Also, `map` is not meant to perform side-effects.","body":"@AndreyB.Panfilov You mean <code>map(pc -&gt; { pc.setValidTill(dateNow); return pc; }</code>? API documentation says <i>&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would <b>not affect the result of the computation</b>&quot;</i>. Therefore, it&#39;s not guaranteed that implementation would not optimize away such <code>map</code> operation because it has no impact on the result (basically it&#39;s <code>map(Function.identity()</code>). Also, <code>map</code> is not meant to perform side-effects."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671026427,"post_id":74798525,"comment_id":132008214,"body_markdown":"yep, at first glance it is clear that &quot;typically&quot; `map` does not affect result of `count`, however &quot;special note&quot; exists for `peek` operation, from my perspective the problematic operation is actually `count` but not `peek`, moreover, I wonder how implementation may prove that previous operation does not affect result of the computation if any operation may throw runtime exception.","body":"yep, at first glance it is clear that &quot;typically&quot; <code>map</code> does not affect result of <code>count</code>, however &quot;special note&quot; exists for <code>peek</code> operation, from my perspective the problematic operation is actually <code>count</code> but not <code>peek</code>, moreover, I wonder how implementation may prove that previous operation does not affect result of the computation if any operation may throw runtime exception."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671026769,"post_id":74798525,"comment_id":132008330,"body_markdown":"*&quot;problematic operation is actually `count`*&quot; - `count()` is only one example of such optimization. There are cases apart from it where `peek` or **any other** *intermediate operation* which doesn&#39;t affect the result of the stream execution can be optimized away.","body":"<i>&quot;problematic operation is actually <code>count</code></i>&quot; - <code>count()</code> is only one example of such optimization. There are cases apart from it where <code>peek</code> or <b>any other</b> <i>intermediate operation</i> which doesn&#39;t affect the result of the stream execution can be optimized away."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671059718,"post_id":74798525,"comment_id":132018835,"body_markdown":"Does that actually mean smth. like `.map(__ -&gt; 1).reduce(Integer::sum).orElse(0)` could potentially trigger such &quot;optimizations&quot; as well (besides that reviewer might &quot;optimize&quot; it manually)? Doesn&#39;t such behaviour make the idea of using stream api unusable in case when we would like to somehow process data but the only thing we are interested in is the amount of data processed?","body":"Does that actually mean smth. like <code>.map(__ -&gt; 1).reduce(Integer::sum).orElse(0)</code> could potentially trigger such &quot;optimizations&quot; as well (besides that reviewer might &quot;optimize&quot; it manually)? Doesn&#39;t such behaviour make the idea of using stream api unusable in case when we would like to somehow process data but the only thing we are interested in is the amount of data processed?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1671120327,"post_id":74798525,"comment_id":132034484,"body_markdown":"@AndreyB.Panfilov all that matters, is the *terminal operation*. The terminal operation tells the Stream, what kind of result you are interested in. Any other result created outside the terminal operation as a side effect, is unreliable. If your terminal operation is `.reduce(Integer::sum).orElse(0)`, any optimization that still produces the correct sum is valid.","body":"@AndreyB.Panfilov all that matters, is the <i>terminal operation</i>. The terminal operation tells the Stream, what kind of result you are interested in. Any other result created outside the terminal operation as a side effect, is unreliable. If your terminal operation is <code>.reduce(Integer::sum).orElse(0)</code>, any optimization that still produces the correct sum is valid."},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1671204973,"post_id":74798525,"comment_id":132055692,"body_markdown":"@AlexanderIvanchenko I think your point &quot;stick with a for-loop.&quot; is basically the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams.","body":"@AlexanderIvanchenko I think your point &quot;stick with a for-loop.&quot; is basically the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671120921,"creation_date":1671021944,"answer_id":74798525,"question_id":74798262,"body_markdown":"&gt; // to ensure that `peek` processes all components\r\n\r\nYou can&#39;t really ensure that `peek()` would process all the stream elements that should be modified. In some cases, this operation can be elided from the pipeline, and you should not perform any important actions via `peek()`.\r\n\r\nHere&#39;s a quote from the [documenation of `peek()`][peek]:\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; This method exists mainly to **support debugging**, where you want to see the elements as they flow past a certain point in a pipeline ...\r\n&gt; \r\n&gt; In cases where the **stream implementation is able to optimize away the production of some or all the elements** (such as with short-circuiting operations like findFirst, or in the example described in count()), the action will not be invoked for those elements.\r\n\r\nAlso, here&#39;s what [Stream API documentation][sideEffects] says regarding *Side-effects*:\r\n\r\n&gt; If the behavioral parameters do have side-effects, unless explicitly stated, there are no guarantees as to:\r\n&gt; \r\n&gt; * the visibility of those side-effects to other threads;\r\n&gt; * that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and\r\n&gt; * that behavioral parameters are always invoked, since a stream implementation is free to elide operations (or entire stages) from a\r\n&gt; stream pipeline if it can prove that it would not affect the result of\r\n&gt; the computation.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The eliding of side-effects may also be surprising. With the exception\r\n&gt; of terminal operations `forEach` and `forEachOrdered`, **side-effects of\r\n&gt; behavioral parameters may not always be executed when the stream\r\n&gt; implementation can optimize away** the execution of behavioral\r\n&gt; parameters without affecting the result of the computation. (For a\r\n&gt; specific example see the API note documented on the count operation.)\r\n\r\n&lt;sup&gt;Amphesys added&lt;/sup&gt;\r\n\r\nSince `peek` is not meant to contribute to the result of the stream execution Stream implementations are free to throw it away.\r\n\r\nInstead of relying on `peek()` you can do the following:\r\n\r\n```\r\nList&lt;PricingComponent&gt; componentsToChange = plan.getPricingComponents()\r\n    .stream()\r\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\r\n    .toList();\r\n    \r\ncomponentsToChange.forEach(pc -&gt; pc.setValidTill(dateNow));\r\n\r\nboolean anyPricingComponentsChanged = componentsToChange.size() != 0;\r\n```\r\n\r\nIf you don&#39;t want to materialize the objects that need to be modified as a List, then stick with a `for`-loop.\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\n* The quotes above from the [API documentation][sideEffects] like *&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would not affect the result of the computation&quot;* are applicable to **any intermediate operation** having an embedded side-effect. Either a side-effect can be elided, or the whole pipeline stage (stream operation) optimized away if it has no impact on the result. And to be on the same page regurding the terminology, in short, *side-effect* - is anything that a function does apart from producing the required result (*e.g. `i -&gt; { side-effect; return i * 2; }`*)\r\n\r\n* Although it&#39;s not advisable to assign `peek()` with an action which should be executed at any circumstances, at least is choice doesn&#39;t contradicts the semantics of `peek`. To the contrary, performing side-effects via `filter`, `map`, or other operation which are not designed to operate through side-effects not only **doesn&#39;t resolve** the problem, but is also weird since it goes against the semantics of these operations and violates the [*Principle of least astonishment*][principleOfLeastAstonishment].\r\n\r\n\r\n\r\n   [peek]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\r\n\r\n   [sideEffects]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\r\n\r\n   [principleOfLeastAstonishment]: https://en.wikipedia.org/wiki/Principle_of_least_astonishment","title":"Alternative to peek in Java streams","body":"<blockquote>\n<p>// to ensure that <code>peek</code> processes all components</p>\n</blockquote>\n<p>You can't really ensure that <code>peek()</code> would process all the stream elements that should be modified. In some cases, this operation can be elided from the pipeline, and you should not perform any important actions via <code>peek()</code>.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documenation of <code>peek()</code></a>:</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>This method exists mainly to <strong>support debugging</strong>, where you want to see the elements as they flow past a certain point in a pipeline ...</p>\n<p>In cases where the <strong>stream implementation is able to optimize away the production of some or all the elements</strong> (such as with short-circuiting operations like findFirst, or in the example described in count()), the action will not be invoked for those elements.</p>\n</blockquote>\n<p>Also, here's what <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">Stream API documentation</a> says regarding <em>Side-effects</em>:</p>\n<blockquote>\n<p>If the behavioral parameters do have side-effects, unless explicitly stated, there are no guarantees as to:</p>\n<ul>\n<li>the visibility of those side-effects to other threads;</li>\n<li>that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and</li>\n<li>that behavioral parameters are always invoked, since a stream implementation is free to elide operations (or entire stages) from a\nstream pipeline if it can prove that it would not affect the result of\nthe computation.</li>\n</ul>\n<p>...</p>\n<p>The eliding of side-effects may also be surprising. With the exception\nof terminal operations <code>forEach</code> and <code>forEachOrdered</code>, <strong>side-effects of\nbehavioral parameters may not always be executed when the stream\nimplementation can optimize away</strong> the execution of behavioral\nparameters without affecting the result of the computation. (For a\nspecific example see the API note documented on the count operation.)</p>\n</blockquote>\n<p><sup>Amphesys added</sup></p>\n<p>Since <code>peek</code> is not meant to contribute to the result of the stream execution Stream implementations are free to throw it away.</p>\n<p>Instead of relying on <code>peek()</code> you can do the following:</p>\n<pre><code>List&lt;PricingComponent&gt; componentsToChange = plan.getPricingComponents()\n    .stream()\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\n    .toList();\n    \ncomponentsToChange.forEach(pc -&gt; pc.setValidTill(dateNow));\n\nboolean anyPricingComponentsChanged = componentsToChange.size() != 0;\n</code></pre>\n<p>If you don't want to materialize the objects that need to be modified as a List, then stick with a <code>for</code>-loop.</p>\n<h3>Note</h3>\n<ul>\n<li><p>The quotes above from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">API documentation</a> like <em>&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would not affect the result of the computation&quot;</em> are applicable to <strong>any intermediate operation</strong> having an embedded side-effect. Either a side-effect can be elided, or the whole pipeline stage (stream operation) optimized away if it has no impact on the result. And to be on the same page regurding the terminology, in short, <em>side-effect</em> - is anything that a function does apart from producing the required result (<em>e.g. <code>i -&gt; { side-effect; return i * 2; }</code></em>)</p>\n</li>\n<li><p>Although it's not advisable to assign <code>peek()</code> with an action which should be executed at any circumstances, at least is choice doesn't contradicts the semantics of <code>peek</code>. To the contrary, performing side-effects via <code>filter</code>, <code>map</code>, or other operation which are not designed to operate through side-effects not only <strong>doesn't resolve</strong> the problem, but is also weird since it goes against the semantics of these operations and violates the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\"><em>Principle of least astonishment</em></a>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671120921,"creation_date":1671020688,"question_id":74798262,"body_markdown":"There are lots of questions regarding `peek` in the Java Streams API. I&#39;m looking for a way to complete the following common pattern using Java Streams. I can make it work with Streams, but it is non-obvious which means slightly dangerous without a comment which it is not ideal.\r\n\r\n```java\r\nboolean anyPricingComponentsChanged = false;\r\nfor (var pc : plan.getPricingComponents()) {\r\n    if (pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0) {\r\n        anyPricingComponentsChanged = true;\r\n        pc.setValidTill(dateNow);\r\n    }\r\n}\r\n```\r\n\r\nMy option:\r\n\r\n```java\r\nlong numberChanged = plan.getPricingComponents()\r\n    .stream()\r\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\r\n    .peek(pc -&gt; pc.setValidTill(dateNow))\r\n    .count(); //`count` rather than `findAny` to ensure that `peek` processes all components.\r\n\r\nboolean anyPricingComponentsChanged = numberChanged != 0;\r\n```\r\n\r\nAs an aside, whilst `compareTo` is not an expensive operation here and consistently returns the same result, in other cases this might not be true, and I&#39;d rather avoid running it multiple times for this pattern.","title":"Alternative to peek in Java streams","body":"<p>There are lots of questions regarding <code>peek</code> in the Java Streams API. I'm looking for a way to complete the following common pattern using Java Streams. I can make it work with Streams, but it is non-obvious which means slightly dangerous without a comment which it is not ideal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean anyPricingComponentsChanged = false;\nfor (var pc : plan.getPricingComponents()) {\n    if (pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0) {\n        anyPricingComponentsChanged = true;\n        pc.setValidTill(dateNow);\n    }\n}\n</code></pre>\n<p>My option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long numberChanged = plan.getPricingComponents()\n    .stream()\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\n    .peek(pc -&gt; pc.setValidTill(dateNow))\n    .count(); //`count` rather than `findAny` to ensure that `peek` processes all components.\n\nboolean anyPricingComponentsChanged = numberChanged != 0;\n</code></pre>\n<p>As an aside, whilst <code>compareTo</code> is not an expensive operation here and consistently returns the same result, in other cases this might not be true, and I'd rather avoid running it multiple times for this pattern.</p>\n"},{"tags":["java","jvm","virtual-machine","classloader","classloading"],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671120939,"post_id":74814431,"comment_id":132034752,"body_markdown":"&quot;*the actual classpath consists of the jars contained in the fat jar*&quot; There is no such thing as &quot;actual classpath&quot;. There is one classpath, which as you said, is just the fat jar. Spring Boot loads libraries using a special classloader that knows where to look, not by altering or appending to the classpath. &quot;classpath&quot; != &quot;the set of all classes that can be loaded by classloaders&quot;","body":"&quot;<i>the actual classpath consists of the jars contained in the fat jar</i>&quot; There is no such thing as &quot;actual classpath&quot;. There is one classpath, which as you said, is just the fat jar. Spring Boot loads libraries using a special classloader that knows where to look, not by altering or appending to the classpath. &quot;classpath&quot; != &quot;the set of all classes that can be loaded by classloaders&quot;"}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671120433,"creation_date":1671120433,"answer_id":74814431,"question_id":74814312,"body_markdown":"The `jinfo &lt;pid&gt;` command offers some insight. For example it contains the following for a running eclipse instance for me:\r\n```\r\n[...]\r\nVM Arguments:\r\n[...]\r\njava_class_path (initial): C:\\foo\\bar\\eclipse\\jee-2022-06\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n[...]\r\n```\r\nHowever this is only the initial class path when the application was started. Depending on the application it may create additional classloaders on runtime information and hence extend the classpath during runtime. For example if you are running a spring boot fat jar, the initial classpath will contain the fat jar and hence all of the additional classes besides the jvm classes itself. However this fat jar is in the spring boot format and the actual classpath consists of the jars contained in the fat jar.","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>The <code>jinfo &lt;pid&gt;</code> command offers some insight. For example it contains the following for a running eclipse instance for me:</p>\n<pre><code>[...]\nVM Arguments:\n[...]\njava_class_path (initial): C:\\foo\\bar\\eclipse\\jee-2022-06\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n[...]\n</code></pre>\n<p>However this is only the initial class path when the application was started. Depending on the application it may create additional classloaders on runtime information and hence extend the classpath during runtime. For example if you are running a spring boot fat jar, the initial classpath will contain the fat jar and hence all of the additional classes besides the jvm classes itself. However this fat jar is in the spring boot format and the actual classpath consists of the jars contained in the fat jar.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671120684,"creation_date":1671120684,"answer_id":74814482,"question_id":74814312,"body_markdown":"You can check and cast to a subinterface, [PathSearchingVirtualMachine](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/PathSearchingVirtualMachine.html)\r\n\r\n    if (vm instanceof PathSearchingVirtualMachine psvm) {\r\n        List&lt;String&gt; cp = psvm.classPath();\r\n    }\r\n\r\nAbove example uses [instanceof pattern matching](https://openjdk.org/jeps/394), which is a newer language feature. If you&#39;re on an older version of Java then do a normal cast.","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>You can check and cast to a subinterface, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/PathSearchingVirtualMachine.html\" rel=\"nofollow noreferrer\">PathSearchingVirtualMachine</a></p>\n<pre><code>if (vm instanceof PathSearchingVirtualMachine psvm) {\n    List&lt;String&gt; cp = psvm.classPath();\n}\n</code></pre>\n<p>Above example uses <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">instanceof pattern matching</a>, which is a newer language feature. If you're on an older version of Java then do a normal cast.</p>\n"}],"owner":{"account_id":23922867,"reputation":3,"user_id":17918409,"display_name":"grazing cow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74814482,"answer_count":2,"score":0,"last_activity_date":1671120684,"creation_date":1671119847,"question_id":74814312,"body_markdown":"I have a [VirtualMachine](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/VirtualMachine.html) from which I want to extract &quot;classpaths&quot;. The VM in this case is launched using a `RawCommandLineLauncher`.\r\n\r\n\r\nThe closest thing I could find is the `VirtualMachine` method `allClasses`, but I would like one step above that and get a list of class directories instead. Is this possible? \r\n\r\nI tried:\r\n- Obtaining a `ClassLoader` from the VM. Don&#39;t think this is possible.\r\n- Using the JDI implementation for this. Unfortunately the method is not public.  ","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/VirtualMachine.html\" rel=\"nofollow noreferrer\">VirtualMachine</a> from which I want to extract &quot;classpaths&quot;. The VM in this case is launched using a <code>RawCommandLineLauncher</code>.</p>\n<p>The closest thing I could find is the <code>VirtualMachine</code> method <code>allClasses</code>, but I would like one step above that and get a list of class directories instead. Is this possible?</p>\n<p>I tried:</p>\n<ul>\n<li>Obtaining a <code>ClassLoader</code> from the VM. Don't think this is possible.</li>\n<li>Using the JDI implementation for this. Unfortunately the method is not public.</li>\n</ul>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671042470,"post_id":74802679,"comment_id":132014344,"body_markdown":"What OS are you using? This is implemented using native system calls, so the behaviour may vary across implementations. FWIW, I&#39;m on a Mac and it has the same problem.","body":"What OS are you using? This is implemented using native system calls, so the behaviour may vary across implementations. FWIW, I&#39;m on a Mac and it has the same problem."},{"owner":{"account_id":1291049,"reputation":240,"user_id":1243152,"accept_rate":100,"display_name":"MrDetail"},"score":0,"creation_date":1671042699,"post_id":74802679,"comment_id":132014412,"body_markdown":"Also FWIW, I&#39;m on Windows 10 and I am not having this problem with your code.","body":"Also FWIW, I&#39;m on Windows 10 and I am not having this problem with your code."},{"owner":{"account_id":27254055,"reputation":1,"user_id":20777995,"display_name":"James Walker"},"score":0,"creation_date":1671119369,"post_id":74802679,"comment_id":132034139,"body_markdown":"@Michael interesting, I&#39;m also using macOS.","body":"@Michael interesting, I&#39;m also using macOS."}],"owner":{"account_id":27254055,"reputation":1,"user_id":20777995,"display_name":"James Walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671120643,"creation_date":1671041944,"question_id":74802679,"body_markdown":"**Update:** it seems like this issue only affects macOS users.\r\n\r\nI&#39;m making an auto clicker program. I&#39;m using a while loop that spams left click whenever the auto clicker is enabled. However, after the auto clicker clicks the first time, every subsequent click snaps to the original click location (even though I never used the mouseMove() method). I&#39;ve taken a look at other auto clicker implementations and can&#39;t see why mine would result in this issue.\r\n\r\nI reproduced the issue with the following simple code:\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.InputEvent;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Robot robot;\r\n        try {\r\n            robot = new Robot();\r\n        } catch (AWTException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        Thread.sleep(5000);\r\n        for(int i = 0; i &lt; 20; i++){\r\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            Thread.sleep(100);\r\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n            Thread.sleep(100);\r\n        }\r\n    }\r\n}\r\n```","title":"Why does my cursor teleport while looping Robot mousePress() and mouseRelease()?","body":"<p><strong>Update:</strong> it seems like this issue only affects macOS users.</p>\n<p>I'm making an auto clicker program. I'm using a while loop that spams left click whenever the auto clicker is enabled. However, after the auto clicker clicks the first time, every subsequent click snaps to the original click location (even though I never used the mouseMove() method). I've taken a look at other auto clicker implementations and can't see why mine would result in this issue.</p>\n<p>I reproduced the issue with the following simple code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.InputEvent;\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Robot robot;\n        try {\n            robot = new Robot();\n        } catch (AWTException e) {\n            throw new RuntimeException(e);\n        }\n        Thread.sleep(5000);\n        for(int i = 0; i &lt; 20; i++){\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n            Thread.sleep(100);\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            Thread.sleep(100);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":332652,"reputation":1066,"user_id":658077,"accept_rate":91,"display_name":"Ryan Stull"},"score":1,"creation_date":1527176492,"post_id":516899,"comment_id":88039040,"body_markdown":"Pretty strange that the fully qualified name doesn&#39;t work.","body":"Pretty strange that the fully qualified name doesn&#39;t work."},{"owner":{"account_id":8208243,"reputation":104,"user_id":6177281,"display_name":"Shubhi224"},"score":0,"creation_date":1533798631,"post_id":516899,"comment_id":90480639,"body_markdown":"But what if I want to use something like &quot;${tes.db.database:ORACLE}&quot; , i.e defaulting a property. It fails to work. Please help","body":"But what if I want to use something like &quot;${tes.db.database:ORACLE}&quot; , i.e defaulting a property. It fails to work. Please help"}],"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"comment_count":2,"down_vote_count":1,"up_vote_count":134,"is_accepted":true,"score":133,"last_activity_date":1525440821,"creation_date":1233854327,"answer_id":516899,"question_id":516771,"body_markdown":"Have you tried just &quot;TYPE1&quot;? I suppose Spring uses reflection to determine the type of &quot;type&quot; anyway, so the fully qualified name is redundant. Spring generally doesn&#39;t subscribe to redundancy!","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Have you tried just \"TYPE1\"? I suppose Spring uses reflection to determine the type of \"type\" anyway, so the fully qualified name is redundant. Spring generally doesn't subscribe to redundancy!</p>\n"},{"tags":[],"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1233854536,"creation_date":1233854536,"answer_id":516919,"question_id":516771,"body_markdown":"You can just do &quot;TYPE1&quot;.","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>You can just do \"TYPE1\".</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233964215,"creation_date":1233964215,"answer_id":522703,"question_id":516771,"body_markdown":"You can write Bean Editors (details are in the Spring Docs) if you want to add further value and write to custom types.\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>You can write Bean Editors (details are in the Spring Docs) if you want to add further value and write to custom types.</p>\n"},{"comments":[{"owner":{"account_id":31084,"reputation":128404,"user_id":85134,"display_name":"araqnid"},"score":6,"creation_date":1295437361,"post_id":2157757,"comment_id":5232399,"body_markdown":"This works if Spring can&#39;t infer the actual type of the enum from the property (e.g. the property is just an interface)","body":"This works if Spring can&#39;t infer the actual type of the enum from the property (e.g. the property is just an interface)"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1443017598,"post_id":2157757,"comment_id":53324696,"body_markdown":"@araqnid: Good point. I took the liberty of adding it to the answer.","body":"@araqnid: Good point. I took the liberty of adding it to the answer."},{"owner":{"account_id":8208243,"reputation":104,"user_id":6177281,"display_name":"Shubhi224"},"score":0,"creation_date":1533798955,"post_id":2157757,"comment_id":90480818,"body_markdown":"@Tsering : Can I use Spring EL within value tag? ${abc:ALIEN}","body":"@Tsering : Can I use Spring EL within value tag? ${abc:ALIEN}"}],"tags":[],"owner":{"account_id":585881,"reputation":559,"user_id":261345,"display_name":"Tsering"},"comment_count":3,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1443017582,"creation_date":1264710904,"answer_id":2157757,"question_id":516771,"body_markdown":"Use the value child element instead of the value attribute and specify the Enum class name:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;property name=&quot;residence&quot;&gt;\r\n        &lt;value type=&quot;SocialSecurity$Residence&quot;&gt;ALIEN&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\nThe advantage of this approach over just writing `value=&quot;ALIEN&quot;` is that it also works if Spring can&#39;t infer the actual type of the enum from the property (e.g. the property&#39;s declared type is an interface).&lt;sub&gt;_Adapted from  araqnid&#39;s comment._&lt;/sub&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Use the value child element instead of the value attribute and specify the Enum class name:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=\"residence\"&gt;\n    &lt;value type=\"SocialSecurity$Residence\"&gt;ALIEN&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>The advantage of this approach over just writing <code>value=\"ALIEN\"</code> is that it also works if Spring can't infer the actual type of the enum from the property (e.g. the property's declared type is an interface).<sub><em>Adapted from  araqnid's comment.</em></sub></p>\n"},{"tags":[],"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1342049251,"creation_date":1342049251,"answer_id":11443028,"question_id":516771,"body_markdown":"I know this is a really old question, but in case someone is looking for the newer way to do this, use the spring util namespace:\r\n\r\n    &lt;util:constant static-field=&quot;my.pkg.types.MyEnumType.TYPE1&quot; /&gt;\r\n\r\nAs described in the [spring documentation][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/reference/xsd-config.html","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>I know this is a really old question, but in case someone is looking for the newer way to do this, use the spring util namespace:</p>\n\n<pre><code>&lt;util:constant static-field=\"my.pkg.types.MyEnumType.TYPE1\" /&gt;\n</code></pre>\n\n<p>As described in the <a href=\"http://static.springsource.org/spring/docs/3.0.x/reference/xsd-config.html\" rel=\"noreferrer\">spring documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":356778,"reputation":309,"user_id":696508,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372942119,"creation_date":1372942119,"answer_id":17470766,"question_id":516771,"body_markdown":"This is what did it for me MessageDeliveryMode is the enum the bean will have the value PERSISTENT:\r\n\r\n    &lt;bean class=&quot;org.springframework.amqp.core.MessageDeliveryMode&quot; factory-method=&quot;valueOf&quot;&gt;\r\n    \t&lt;constructor-arg value=&quot;PERSISTENT&quot; /&gt;\r\n    &lt;/bean&gt;\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>This is what did it for me MessageDeliveryMode is the enum the bean will have the value PERSISTENT:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.amqp.core.MessageDeliveryMode\" factory-method=\"valueOf\"&gt;\n    &lt;constructor-arg value=\"PERSISTENT\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376974101,"creation_date":1376974101,"answer_id":18327145,"question_id":516771,"body_markdown":"Spring-integration example, routing based on a an Enum field:\r\n\r\n\r\n    public class BookOrder {\r\n    \r\n        public enum OrderType { DELIVERY, PICKUP } //enum\r\n        public BookOrder(..., OrderType orderType) //orderType\r\n        ...\r\n\r\nconfig:\r\n\r\n    &lt;router expression=&quot;payload.orderType&quot; input-channel=&quot;processOrder&quot;&gt;\r\n        &lt;mapping value=&quot;DELIVERY&quot; channel=&quot;delivery&quot;/&gt;\r\n        &lt;mapping value=&quot;PICKUP&quot; channel=&quot;pickup&quot;/&gt;\r\n    &lt;/router&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Spring-integration example, routing based on a an Enum field:</p>\n\n<pre><code>public class BookOrder {\n\n    public enum OrderType { DELIVERY, PICKUP } //enum\n    public BookOrder(..., OrderType orderType) //orderType\n    ...\n</code></pre>\n\n<p>config:</p>\n\n<pre><code>&lt;router expression=\"payload.orderType\" input-channel=\"processOrder\"&gt;\n    &lt;mapping value=\"DELIVERY\" channel=\"delivery\"/&gt;\n    &lt;mapping value=\"PICKUP\" channel=\"pickup\"/&gt;\n&lt;/router&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6378123,"reputation":111,"user_id":4948451,"display_name":"Paul Rooney"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434530170,"creation_date":1434530170,"answer_id":30886355,"question_id":516771,"body_markdown":"Using SPEL and P-NAMESPACE:\r\n\r\n    &lt;beans...\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; ...&gt;\r\n    ..\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;\r\n        p:type=&quot;#{T(my.pkg.types.MyEnumType).TYPE1}&quot;/&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Using SPEL and P-NAMESPACE:</p>\n\n<pre><code>&lt;beans...\nxmlns:p=\"http://www.springframework.org/schema/p\" ...&gt;\n..\n&lt;bean name=\"someName\" class=\"my.pkg.classes\"\n    p:type=\"#{T(my.pkg.types.MyEnumType).TYPE1}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3197479,"reputation":27833,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486121593,"creation_date":1486121593,"answer_id":42023293,"question_id":516771,"body_markdown":"To be specific, set the value to be the name of a constant of the enum type, e.g., &quot;TYPE1&quot; or &quot;TYPE2&quot; in your case, as shown below. And it will work:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;&gt;\r\n       &lt;property name=&quot;type&quot; value=&quot;TYPE1&quot; /&gt;\r\n    &lt;/bean&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>To be specific, set the value to be the name of a constant of the enum type, e.g., \"TYPE1\" or \"TYPE2\" in your case, as shown below. And it will work:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean name=\"someName\" class=\"my.pkg.classes\"&gt;\n   &lt;property name=\"type\" value=\"TYPE1\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3859142,"reputation":51,"user_id":3197293,"display_name":"exploder86"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671120575,"creation_date":1671120575,"answer_id":74814454,"question_id":516771,"body_markdown":"If you have enum:\r\n\r\n    package my.pkg.types;\r\n    \r\n    public enum MyEnumType {\r\n        TYPE1,\r\n        TYPE2\r\n    }\r\n\r\nYou may instantiate it as a bean within this xml config\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.types.MyEnumType&quot; factory-method=&quot;valueOf&quot;&gt;\r\n        &lt;constructor-arg value=&quot;TYPE1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>If you have enum:</p>\n<pre><code>package my.pkg.types;\n\npublic enum MyEnumType {\n    TYPE1,\n    TYPE2\n}\n</code></pre>\n<p>You may instantiate it as a bean within this xml config</p>\n<pre><code>&lt;bean name=&quot;someName&quot; class=&quot;my.pkg.types.MyEnumType&quot; factory-method=&quot;valueOf&quot;&gt;\n    &lt;constructor-arg value=&quot;TYPE1&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":16373,"reputation":4304,"user_id":35520,"accept_rate":92,"display_name":"xelurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142842,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":516899,"answer_count":10,"score":115,"last_activity_date":1671120575,"creation_date":1233852749,"question_id":516771,"body_markdown":"I have a standalone enum type defined, something like this:\r\n\r\n    package my.pkg.types;\r\n\r\n    public enum MyEnumType {\r\n        TYPE1,\r\n        TYPE2\r\n    }\r\n\r\nNow, I want to inject a value of that type into a bean property:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;&gt;\r\n       &lt;property name=&quot;type&quot; value=&quot;my.pkg.types.MyEnumType.TYPE1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n...and that didn&#39;t work :(\r\n\r\nHow should I Inject an Enum into a spring bean? ","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>I have a standalone enum type defined, something like this:</p>\n\n<pre><code>package my.pkg.types;\n\npublic enum MyEnumType {\n    TYPE1,\n    TYPE2\n}\n</code></pre>\n\n<p>Now, I want to inject a value of that type into a bean property:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean name=\"someName\" class=\"my.pkg.classes\"&gt;\n   &lt;property name=\"type\" value=\"my.pkg.types.MyEnumType.TYPE1\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>...and that didn't work :(</p>\n\n<p>How should I Inject an Enum into a spring bean? </p>\n"},{"tags":["java","passwords"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671119730,"post_id":74814157,"comment_id":132034282,"body_markdown":"Short answer: no.  Any information in the JAR file that the application needs to be able to read at runtime ... cannot be protected against a determined reverse engineering effort.","body":"Short answer: no.  Any information in the JAR file that the application needs to be able to read at runtime ... cannot be protected against a determined reverse engineering effort."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671120583,"post_id":74814157,"comment_id":132034605,"body_markdown":"That&#39;s a primary reason that databases are server-side and accessed via applications","body":"That&#39;s a primary reason that databases are server-side and accessed via applications"}],"answers":[{"tags":[],"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671120348,"creation_date":1671119695,"answer_id":74814271,"question_id":74814157,"body_markdown":"**Short answer:** You can&#39;t\r\n\r\n**Longer answer:**  \r\nProtecting a JAR file is not really possible if the attacker has access to the file system and hence the JAR file. You could encrypt the property file that contains the database password, but then you&#39;re facing the same issue again as to where store the encryption password.  \r\n\r\nIn the end, having passwords stored in property files is not optimal for security. If possible, you should use a password safe with an API usable by your application. [Cyberark](https://cyberark.com) or [Vault](https://developer.hashicorp.com/vault/tutorials#getting-started) (and many more that I don&#39;t know) are examples of such password safes.","title":"Java - Protecting Properties file in jar","body":"<p><strong>Short answer:</strong> You can't</p>\n<p><strong>Longer answer:</strong><br />\nProtecting a JAR file is not really possible if the attacker has access to the file system and hence the JAR file. You could encrypt the property file that contains the database password, but then you're facing the same issue again as to where store the encryption password.</p>\n<p>In the end, having passwords stored in property files is not optimal for security. If possible, you should use a password safe with an API usable by your application. <a href=\"https://cyberark.com\" rel=\"nofollow noreferrer\">Cyberark</a> or <a href=\"https://developer.hashicorp.com/vault/tutorials#getting-started\" rel=\"nofollow noreferrer\">Vault</a> (and many more that I don't know) are examples of such password safes.</p>\n"}],"owner":{"account_id":27263582,"reputation":13,"user_id":20786029,"display_name":"Jim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74814271,"answer_count":1,"score":0,"last_activity_date":1671120348,"creation_date":1671119255,"question_id":74814157,"body_markdown":"If i include a properties file in my project that contains a database password, how do i stop someone from browsing the .jar file and accessing it.\r\n\r\n\r\nCurrently i have it hardcoded, but you can decompile and access it even with Obfuscation.\r\n\r\nIs there a best method for handling sensitive data in app code?","title":"Java - Protecting Properties file in jar","body":"<p>If i include a properties file in my project that contains a database password, how do i stop someone from browsing the .jar file and accessing it.</p>\n<p>Currently i have it hardcoded, but you can decompile and access it even with Obfuscation.</p>\n<p>Is there a best method for handling sensitive data in app code?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671116643,"post_id":74813413,"comment_id":132032964,"body_markdown":"Yes, you can still use `CompletableFuture`. If using full power of Kotlin, so coroutines, you could/should use `Deferred`/`CompletableDeferred` or better, turn this function into a suspend function. But moving to coroutines is definitely more work than just replacing code here and there.","body":"Yes, you can still use <code>CompletableFuture</code>. If using full power of Kotlin, so coroutines, you could/should use <code>Deferred</code>/<code>CompletableDeferred</code> or better, turn this function into a suspend function. But moving to coroutines is definitely more work than just replacing code here and there."},{"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"score":0,"creation_date":1671116784,"post_id":74813413,"comment_id":132033011,"body_markdown":"Alright.  This is a library, so If i was to implement coroutines here and then try to use this library in Java, would it work?","body":"Alright.  This is a library, so If i was to implement coroutines here and then try to use this library in Java, would it work?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671117132,"post_id":74813413,"comment_id":132033159,"body_markdown":"You can use coroutines in Kotlin and then provide adaptation layer for Java which would use `CompletableFuture`. In Kotlin you can fairly easily switch between futures and coroutines. However, coroutines is really a much bigger thing than just a class for wrapping asynchronous operations. I definitely don&#39;t want to discourage you, coroutines are awesome and much more reliable than other async patterns. However, they have their own learning curve and that really sounds more like reworking your whole library instead of just porting to another language.","body":"You can use coroutines in Kotlin and then provide adaptation layer for Java which would use <code>CompletableFuture</code>. In Kotlin you can fairly easily switch between futures and coroutines. However, coroutines is really a much bigger thing than just a class for wrapping asynchronous operations. I definitely don&#39;t want to discourage you, coroutines are awesome and much more reliable than other async patterns. However, they have their own learning curve and that really sounds more like reworking your whole library instead of just porting to another language."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671117579,"post_id":74813413,"comment_id":132033351,"body_markdown":"Anyway, there is nothing wrong in using executors, `CompletableFuture` and stuff like that in Kotlin. This way the code is not multiplatform, but this is not a code smell or something.","body":"Anyway, there is nothing wrong in using executors, <code>CompletableFuture</code> and stuff like that in Kotlin. This way the code is not multiplatform, but this is not a code smell or something."},{"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"score":0,"creation_date":1671118256,"post_id":74813413,"comment_id":132033647,"body_markdown":"Okay.  So I guess it&#39;s just easier to keep using CompletableFuture since it just works in both languages and no need for an adaptation layer?","body":"Okay.  So I guess it&#39;s just easier to keep using CompletableFuture since it just works in both languages and no need for an adaptation layer?"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1671120132,"post_id":74813413,"comment_id":132034420,"body_markdown":"@ThomasFry If you want your library to be used by both Kotlin users and Java users, I would probably provide both options. Because not having coroutine support might turn Kotlin users away.","body":"@ThomasFry If you want your library to be used by both Kotlin users and Java users, I would probably provide both options. Because not having coroutine support might turn Kotlin users away."}],"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671119966,"creation_date":1671116036,"question_id":74813413,"body_markdown":"I&#39;ve been trying to convert some Java code into Kotlin, but I am having trouble when it comes to CompletableFuture.  I have the following code:\r\n\r\n```java\r\npublic CompletableFuture&lt;Integer&gt; updateAsync(@NotNull String sqlStatement, @NotNull SQLConsumer&lt;PreparedStatement&gt; psPreparer) throws UncheckedSQLException\r\n{\r\n    return CompletableFuture.supplyAsync(() -&gt; this.update(sqlStatement, psPreparer), this.threadPool);\r\n}\r\n```\r\n\r\nI usually leverage the Java to Kotlin conversion tool within Intelij, but when I do it for this, it converts it but still uses CompleteableFuture.  \r\n\r\nWhat is the Kotlin equivalent to using CompleteableFuture that would not require too much refactoring?  Or, should I just keep using CompletableFuture in Kotlin?\r\n\r\nThank you","title":"Converting CompletableFuture to Kotlin counterpart","body":"<p>I've been trying to convert some Java code into Kotlin, but I am having trouble when it comes to CompletableFuture.  I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;Integer&gt; updateAsync(@NotNull String sqlStatement, @NotNull SQLConsumer&lt;PreparedStatement&gt; psPreparer) throws UncheckedSQLException\n{\n    return CompletableFuture.supplyAsync(() -&gt; this.update(sqlStatement, psPreparer), this.threadPool);\n}\n</code></pre>\n<p>I usually leverage the Java to Kotlin conversion tool within Intelij, but when I do it for this, it converts it but still uses CompleteableFuture.</p>\n<p>What is the Kotlin equivalent to using CompleteableFuture that would not require too much refactoring?  Or, should I just keep using CompletableFuture in Kotlin?</p>\n<p>Thank you</p>\n"},{"tags":["java","soap","soap-client"],"owner":{"account_id":11267435,"reputation":21,"user_id":8263835,"display_name":"R Lawless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119932,"creation_date":1671119932,"question_id":74814328,"body_markdown":"Base class\r\n\r\n```\r\npublic class Identity {\r\n    private String a;\r\n\r\n    public Identity() { }\r\n\r\n    public Identity(String a) {\r\n        this.a = a;\r\n    }\r\n\r\n    public String getA() { return a;}\r\n\r\n    public void setA() { this.a = a;}\r\n}\r\n```\r\n\r\nThis is used by userId class\r\n\r\n```\r\npublic class UserId extends Identity {\r\n    private String id;\r\n\r\n    public UserId(String id) {\r\n        super(id);\r\n        this.id = id; }\r\n\r\n    public String getId() { return id;}\r\n\r\n    public void setId(String id) {this.id = id; }\r\n}\r\n```\r\n\r\nMy webservice method\r\n\r\n  \r\n```\r\n    @Override\r\n    public UserId testUserId() {\r\n        final String messageId = &quot;IDString&quot;;\r\n        UserId userId = new UserId(messageId);\r\n        return userId;\r\n    }\r\n```\r\n\r\nMy SOAP client imports the Identity and UserId class.  However, the Identity class has no methods\r\nwsimport -keep -p myclient http://localhost:8080/Uesrs.wsdl\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;identity&quot;)\r\n@XmlSeeAlso({\r\n    UserId.class\r\n})\r\npublic class Identity {\r\n\r\n\r\n}\r\n```\r\n\r\nWhen the SOAP client gets the object of type UserId, it only has getID() method and not getA() method.\r\n\r\n\r\n\r\n\r\nCan anyone advise how to used extended classes in SOAP?","title":"SOAP webservice not providing class methods when using extended classes","body":"<p>Base class</p>\n<pre><code>public class Identity {\n    private String a;\n\n    public Identity() { }\n\n    public Identity(String a) {\n        this.a = a;\n    }\n\n    public String getA() { return a;}\n\n    public void setA() { this.a = a;}\n}\n</code></pre>\n<p>This is used by userId class</p>\n<pre><code>public class UserId extends Identity {\n    private String id;\n\n    public UserId(String id) {\n        super(id);\n        this.id = id; }\n\n    public String getId() { return id;}\n\n    public void setId(String id) {this.id = id; }\n}\n</code></pre>\n<p>My webservice method</p>\n<pre><code>    @Override\n    public UserId testUserId() {\n        final String messageId = &quot;IDString&quot;;\n        UserId userId = new UserId(messageId);\n        return userId;\n    }\n</code></pre>\n<p>My SOAP client imports the Identity and UserId class.  However, the Identity class has no methods\nwsimport -keep -p myclient http://localhost:8080/Uesrs.wsdl</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;identity&quot;)\n@XmlSeeAlso({\n    UserId.class\n})\npublic class Identity {\n\n\n}\n</code></pre>\n<p>When the SOAP client gets the object of type UserId, it only has getID() method and not getA() method.</p>\n<p>Can anyone advise how to used extended classes in SOAP?</p>\n"},{"tags":["java","mockito","hamcrest"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1396479051,"post_id":8348046,"comment_id":34812169,"body_markdown":"Related: [How do Mockito matchers work?](http://stackoverflow.com/a/22822514/1426891)","body":"Related: <a href=\"http://stackoverflow.com/a/22822514/1426891\">How do Mockito matchers work?</a>"}],"answers":[{"comments":[{"owner":{"account_id":8024236,"reputation":321,"user_id":6051899,"display_name":"Bryan Turner"},"score":16,"creation_date":1501198123,"post_id":8351055,"comment_id":77686298,"body_markdown":"Just noting that, in Mockito 2, the `argThat` overload that works with Hamcrest `Matcher`s was moved `MockitoHamcrest`. [What&#39;s new in Mockito 2](https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#incompatible) discusses this in its &quot;Incompatible changes with 1.10&quot; section.","body":"Just noting that, in Mockito 2, the <code>argThat</code> overload that works with Hamcrest <code>Matcher</code>s was moved <code>MockitoHamcrest</code>. <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#incompatible\" rel=\"nofollow noreferrer\">What&#39;s new in Mockito 2</a> discusses this in its &quot;Incompatible changes with 1.10&quot; section."}],"tags":[],"owner":{"account_id":122746,"reputation":5871,"user_id":316745,"accept_rate":83,"display_name":"jhericks"},"comment_count":1,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1646260068,"creation_date":1322792793,"answer_id":8351055,"question_id":8348046,"body_markdown":"Hamcrest matcher methods return `Matcher&lt;T&gt;` and Mockito matchers return T.  So, for example: `org.hamcrest.Matchers.any(Integer.class)` returns an instance of `org.hamcrest.Matcher&lt;Integer&gt;`, and `org.mockito.Matchers.any(Integer.class)` returns an instance of `Integer`.\r\n\r\nThat means that you can only use Hamcrest matchers when a `Matcher&lt;?&gt;` object is expected in the signature - typically, in `assertThat` calls.  When setting up expectations or verifications where you are calling methods of the mock object, you use the Mockito matchers.\r\n\r\nFor example (with fully qualified names for clarity):\r\n\r\n    @Test\r\n    public void testGetDelegatedBarByIndex() {\r\n        Foo mockFoo = mock(Foo.class);\r\n        // inject our mock\r\n        objectUnderTest.setFoo(mockFoo);\r\n        Bar mockBar = mock(Bar.class);\r\n        when(mockFoo.getBarByIndex(org.mockito.Matchers.any(Integer.class))).\r\n            thenReturn(mockBar);\r\n    \r\n        Bar actualBar = objectUnderTest.getDelegatedBarByIndex(1);\r\n        \r\n        assertThat(actualBar, org.hamcrest.Matchers.any(Bar.class));\r\n        verify(mockFoo).getBarByIndex(org.mockito.Matchers.any(Integer.class));\r\n    }\r\n\r\nIf you want to use a Hamcrest matcher in a context that requires a Mockito matcher, you can use the `org.mockito.Matchers.argThat` (or `org.mockito.hamcrest.MockitoHamcrest.argThat` in [Mockito 2][1]).  It converts a Hamcrest matcher into a Mockito matcher.  So, say you wanted to match a double value with some precision (but not much).  In that case, you could do:\r\n\r\n    when(mockFoo.getBarByDouble(argThat(is(closeTo(1.0, 0.001))))).\r\n        thenReturn(mockBar);\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.18/org/mockito/hamcrest/MockitoHamcrest.html","title":"Mockito&#39;s Matcher vs Hamcrest Matcher?","body":"<p>Hamcrest matcher methods return <code>Matcher&lt;T&gt;</code> and Mockito matchers return T.  So, for example: <code>org.hamcrest.Matchers.any(Integer.class)</code> returns an instance of <code>org.hamcrest.Matcher&lt;Integer&gt;</code>, and <code>org.mockito.Matchers.any(Integer.class)</code> returns an instance of <code>Integer</code>.</p>\n<p>That means that you can only use Hamcrest matchers when a <code>Matcher&lt;?&gt;</code> object is expected in the signature - typically, in <code>assertThat</code> calls.  When setting up expectations or verifications where you are calling methods of the mock object, you use the Mockito matchers.</p>\n<p>For example (with fully qualified names for clarity):</p>\n<pre><code>@Test\npublic void testGetDelegatedBarByIndex() {\n    Foo mockFoo = mock(Foo.class);\n    // inject our mock\n    objectUnderTest.setFoo(mockFoo);\n    Bar mockBar = mock(Bar.class);\n    when(mockFoo.getBarByIndex(org.mockito.Matchers.any(Integer.class))).\n        thenReturn(mockBar);\n\n    Bar actualBar = objectUnderTest.getDelegatedBarByIndex(1);\n    \n    assertThat(actualBar, org.hamcrest.Matchers.any(Bar.class));\n    verify(mockFoo).getBarByIndex(org.mockito.Matchers.any(Integer.class));\n}\n</code></pre>\n<p>If you want to use a Hamcrest matcher in a context that requires a Mockito matcher, you can use the <code>org.mockito.Matchers.argThat</code> (or <code>org.mockito.hamcrest.MockitoHamcrest.argThat</code> in <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.18/org/mockito/hamcrest/MockitoHamcrest.html\" rel=\"nofollow noreferrer\">Mockito 2</a>).  It converts a Hamcrest matcher into a Mockito matcher.  So, say you wanted to match a double value with some precision (but not much).  In that case, you could do:</p>\n<pre><code>when(mockFoo.getBarByDouble(argThat(is(closeTo(1.0, 0.001))))).\n    thenReturn(mockBar);\n</code></pre>\n"}],"owner":{"account_id":144817,"reputation":5766,"user_id":354161,"accept_rate":62,"display_name":"tintin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33905,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":8351055,"answer_count":1,"score":50,"last_activity_date":1671119840,"creation_date":1322772372,"question_id":8348046,"body_markdown":"This is going to be an easy one, but I cannot find the difference between them and which one to use, if I have both the lib&#39;s included in my classpath? ","title":"Mockito&#39;s Matcher vs Hamcrest Matcher?","body":"<p>This is going to be an easy one, but I cannot find the difference between them and which one to use, if I have both the lib's included in my classpath?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1671120571,"post_id":74814269,"comment_id":132034594,"body_markdown":"You&#39;d have to quote the original source, but it&#39;s likely referring to a [class&#39; initialization procedure](https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.4.2) and the default values of static fields (ie. `false` for a `boolean`). This all happens while holding a lock so is later visible to other threads.","body":"You&#39;d have to quote the original source, but it&#39;s likely referring to a <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">class&#39; initialization procedure</a> and the default values of static fields (ie. <code>false</code> for a <code>boolean</code>). This all happens while holding a lock so is later visible to other threads."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1671120585,"post_id":74814269,"comment_id":132034607,"body_markdown":"Without any specific knowledge, I&#39;d say that sounds like the kind of thing that may be true-ish for common implementations but isn&#39;t required by the spec. I&#39;m not aware of anything in the spec requiring something like that (but then again I&#39;m not an expert on the Java memory model).","body":"Without any specific knowledge, I&#39;d say that sounds like the kind of thing that may be true-ish for common implementations but isn&#39;t required by the spec. I&#39;m not aware of anything in the spec requiring something like that (but then again I&#39;m not an expert on the Java memory model)."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1671131688,"post_id":74814269,"comment_id":132038177,"body_markdown":"Ask yourself this: how would it detect that the write is the first one or not? It would likely require an extra check for each write, which would just add overhead. It&#39;s pretty unlikely that the first write is treated any differently than subsequent ones.","body":"Ask yourself this: how would it detect that the write is the first one or not? It would likely require an extra check for each write, which would just add overhead. It&#39;s pretty unlikely that the first write is treated any differently than subsequent ones."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671200275,"post_id":74814269,"comment_id":132054021,"body_markdown":"flush to main memory is an entirely wrong mindset. There is no flush and in fact, an implementation doesnt even have to have a main memory. As Sotirios Delimanolis said, the default value is the `false` that the field has before the write of a non-default value. What is guaranteed, is that a thread cant perceive a value that was in this memory location before this initialization. Which doesnt require a flush but just a mechanism to prevent reading the variable before the initialization.","body":"flush to main memory is an entirely wrong mindset. There is no flush and in fact, an implementation doesnt even have to have a main memory. As Sotirios Delimanolis said, the default value is the <code>false</code> that the field has before the write of a non-default value. What is guaranteed, is that a thread cant perceive a value that was in this memory location before this initialization. Which doesnt require a flush but just a mechanism to prevent reading the variable before the initialization."}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119681,"creation_date":1671119681,"question_id":74814269,"body_markdown":"I heard from somewhere that\r\n\r\n&gt; The first write to shared primitive variables&#39; default values are immediately visible to other threads\r\n\r\nI guess it wants to say that the first write to default values are flushed to memory instead of being cached in local memory.\r\n\r\nLike\r\n```java\r\nstatic boolean flag;\r\n// thread 1\r\nflag = true; // and flushed it to main memory\r\n// thread 2\r\nread(flag); // and flag==true is immediately visible to thread 2 if it fetches it from memory using getstatic after flag = true is executed by thread 1\r\n\r\n```\r\n\r\nBut I was not able to find any resources verifying it. Nor could I make a experiment to reproduce it.(I don&#39;t know how to inspect main memory values).\r\n\r\nSo does anyone with relevant knowledge verify it to be true or false? ","title":"Is the first write of default values forcefully flushed to main memory in Java?","body":"<p>I heard from somewhere that</p>\n<blockquote>\n<p>The first write to shared primitive variables' default values are immediately visible to other threads</p>\n</blockquote>\n<p>I guess it wants to say that the first write to default values are flushed to memory instead of being cached in local memory.</p>\n<p>Like</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean flag;\n// thread 1\nflag = true; // and flushed it to main memory\n// thread 2\nread(flag); // and flag==true is immediately visible to thread 2 if it fetches it from memory using getstatic after flag = true is executed by thread 1\n\n</code></pre>\n<p>But I was not able to find any resources verifying it. Nor could I make a experiment to reproduce it.(I don't know how to inspect main memory values).</p>\n<p>So does anyone with relevant knowledge verify it to be true or false?</p>\n"},{"tags":["java","maven","maven-dependency-plugin"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1488534114,"post_id":42575322,"comment_id":72283784,"body_markdown":"Curiosity and further context: why do you want only the poms? What are you trying to do?","body":"Curiosity and further context: why do you want only the poms? What are you trying to do?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1488535054,"post_id":42575322,"comment_id":72284435,"body_markdown":"What kind of problem are you trying to solve?","body":"What kind of problem are you trying to solve?"},{"owner":{"account_id":1752871,"reputation":7935,"user_id":1601571,"display_name":"&#214;mer Erden"},"score":0,"creation_date":1488537569,"post_id":42575322,"comment_id":72286129,"body_markdown":"according to [doc](https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html#copyPom) , it says _&quot;Also copy the pom of each artifact.&quot;_ , looks like the main purpose of this plugin is to copy artifact not the pom.","body":"according to <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html#copyPom\" rel=\"nofollow noreferrer\">doc</a> , it says <i>&quot;Also copy the pom of each artifact.&quot;</i> , looks like the main purpose of this plugin is to copy artifact not the pom."},{"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":0,"creation_date":1488538538,"post_id":42575322,"comment_id":72286799,"body_markdown":"Context: Ultimately I do want to download the source code of all transitive dependencies, but from SCM (for provenance analysis reasons), not from `-sources` artifacts. For that, I&#39;m calling [scm:checkout](https://maven.apache.org/components/scm/maven-scm-plugin/checkout-mojo.html) in a post-processing step.","body":"Context: Ultimately I do want to download the source code of all transitive dependencies, but from SCM (for provenance analysis reasons), not from <code>-sources</code> artifacts. For that, I&#39;m calling <a href=\"https://maven.apache.org/components/scm/maven-scm-plugin/checkout-mojo.html\" rel=\"nofollow noreferrer\">scm:checkout</a> in a post-processing step."}],"answers":[{"tags":[],"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671119607,"creation_date":1573725046,"answer_id":58853819,"question_id":42575322,"body_markdown":"I ended up creating an Open Source project that downloads and gathers metadata from Maven builds, and actually [several other build systems](https://github.com/oss-review-toolkit/ort#analyzer), too. It&#39;s called [OSS Review Toolkit](https://github.com/oss-review-toolkit/ort) (ORT for short) and programmatically uses the [maven-resolver](https://github.com/apache/maven-resolver) library to download only the POMs to analyze their contained metadata.","title":"How to make Maven download only the POM files for all (transitive) dependencies?","body":"<p>I ended up creating an Open Source project that downloads and gathers metadata from Maven builds, and actually <a href=\"https://github.com/oss-review-toolkit/ort#analyzer\" rel=\"nofollow noreferrer\">several other build systems</a>, too. It's called <a href=\"https://github.com/oss-review-toolkit/ort\" rel=\"nofollow noreferrer\">OSS Review Toolkit</a> (ORT for short) and programmatically uses the <a href=\"https://github.com/apache/maven-resolver\" rel=\"nofollow noreferrer\">maven-resolver</a> library to download only the POMs to analyze their contained metadata.</p>\n"}],"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671119607,"creation_date":1488533891,"question_id":42575322,"body_markdown":"I&#39;m currently using the [maven-dependency-plugin](https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html) like \r\n\r\n    mvn -B dependency:copy-dependencies \\\r\n        -Dmdep.copyPom=true \\\r\n        -DoutputDirectory=&quot;$OUTDIR&quot;\r\n\r\nto download all POMs of all (transitive) dependencies. However, that is *also* downloading the JARs, which I don&#39;t want. I tried to use `includeTypes` / `excludeTypes` to limit to POM files only, but that didn&#39;t work as nothing is retrieved then.\r\n\r\nIs there another option / command that really just retrieves the POMs?\r\n\r\nBackground: I only need the meta-data from all transitive POMs for compliance checks.","title":"How to make Maven download only the POM files for all (transitive) dependencies?","body":"<p>I'm currently using the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a> like </p>\n\n<pre><code>mvn -B dependency:copy-dependencies \\\n    -Dmdep.copyPom=true \\\n    -DoutputDirectory=\"$OUTDIR\"\n</code></pre>\n\n<p>to download all POMs of all (transitive) dependencies. However, that is <em>also</em> downloading the JARs, which I don't want. I tried to use <code>includeTypes</code> / <code>excludeTypes</code> to limit to POM files only, but that didn't work as nothing is retrieved then.</p>\n\n<p>Is there another option / command that really just retrieves the POMs?</p>\n\n<p>Background: I only need the meta-data from all transitive POMs for compliance checks.</p>\n"},{"tags":["java","apache-flink","apache-beam","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671110279,"creation_date":1671110279,"answer_id":74812175,"question_id":74809884,"body_markdown":"Some Beam sinks (like BigQueryIO) have support for &quot;dynamic destinations&quot; but this isn&#39;t the case for KafkaIO. You&#39;ll need to set up 3 different sinks for the different topics and you&#39;ll need to split up your messages (perhaps using a `Partition` transform) to separate collections to feed into those sinks.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>Some Beam sinks (like BigQueryIO) have support for &quot;dynamic destinations&quot; but this isn't the case for KafkaIO. You'll need to set up 3 different sinks for the different topics and you'll need to split up your messages (perhaps using a <code>Partition</code> transform) to separate collections to feed into those sinks.</p>\n"},{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671115917,"creation_date":1671115917,"answer_id":74813390,"question_id":74809884,"body_markdown":"You can do that with 3 different sinks on a `PCollection`, example : \r\n\r\n```java\r\n    private transient TestPipeline pipeline = TestPipeline.create();\r\n\r\n    @Test\r\n    public void kafkaIOSinksTest(){\r\n        PCollection&lt;String&gt; inputCollection = pipeline.apply(Create.of(Arrays.asList(&quot;Object 1&quot;, &quot;Object 2&quot;)));\r\n        \r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic1&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n\r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic2&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n\r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic3&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n    }\r\n```\r\n\r\nIn this example, the same `PCollection` is sinked in 3 different topics, via multi sinks.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>You can do that with 3 different sinks on a <code>PCollection</code>, example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private transient TestPipeline pipeline = TestPipeline.create();\n\n    @Test\n    public void kafkaIOSinksTest(){\n        PCollection&lt;String&gt; inputCollection = pipeline.apply(Create.of(Arrays.asList(&quot;Object 1&quot;, &quot;Object 2&quot;)));\n        \n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic1&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic2&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic3&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n    }\n</code></pre>\n<p>In this example, the same <code>PCollection</code> is sinked in 3 different topics, via multi sinks.</p>\n"},{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671119551,"creation_date":1671119551,"answer_id":74814231,"question_id":74809884,"body_markdown":"You can use `KafkaIO.&lt;K, V&gt;writeRecords()` for that. It takes a `PCollection&lt;ProducerRecord&lt;K, V&gt;&gt;` as an input - so, you just need to specify a required output topic for in `ProducerRecord` for every element or use a default one. \r\n\r\nPlease, take a look on [this test][1] as an example.\r\n\r\n\r\n  [1]: https://github.com/apache/beam/blob/f16d5d51b7551c12a854833676fc5a20bf8b6702/sdks/java/io/kafka/src/test/java/org/apache/beam/sdk/io/kafka/KafkaIOTest.java#L1391","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>You can use <code>KafkaIO.&lt;K, V&gt;writeRecords()</code> for that. It takes a <code>PCollection&lt;ProducerRecord&lt;K, V&gt;&gt;</code> as an input - so, you just need to specify a required output topic for in <code>ProducerRecord</code> for every element or use a default one.</p>\n<p>Please, take a look on <a href=\"https://github.com/apache/beam/blob/f16d5d51b7551c12a854833676fc5a20bf8b6702/sdks/java/io/kafka/src/test/java/org/apache/beam/sdk/io/kafka/KafkaIOTest.java#L1391\" rel=\"nofollow noreferrer\">this test</a> as an example.</p>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74813390,"answer_count":3,"score":0,"last_activity_date":1671119551,"creation_date":1671099063,"question_id":74809884,"body_markdown":"Currently, I&#39;m working on Apache Beam Pipeline implementation which consumes data from three different Kafka topics, and after some processing, I create three types of objects adding those data taken from the above-mentioned Kafka topics. Finally, it is required to publish those three objects into three different Kafka topics. \r\nIt is possible to read from multiple topics using ```withTopics``` method in ```KafkaIO.read``` but I did not find a KafkaIO feature to write to multiple topics.\r\n\r\nI would like to get some advice on how to do this in the most ideal way, appreciate it if anyone can provide some code examples.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>Currently, I'm working on Apache Beam Pipeline implementation which consumes data from three different Kafka topics, and after some processing, I create three types of objects adding those data taken from the above-mentioned Kafka topics. Finally, it is required to publish those three objects into three different Kafka topics.\nIt is possible to read from multiple topics using <code>withTopics</code> method in <code>KafkaIO.read</code> but I did not find a KafkaIO feature to write to multiple topics.</p>\n<p>I would like to get some advice on how to do this in the most ideal way, appreciate it if anyone can provide some code examples.</p>\n"},{"tags":["java","json","spring","rest","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671107301,"post_id":74811429,"comment_id":132029283,"body_markdown":"And the error is?","body":"And the error is?"},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1671107714,"post_id":74811429,"comment_id":132029463,"body_markdown":"When passing numbers in JSON as Map&lt;String, Object&gt; they are all always Integer, and I want them to be Integers and Longs somehow, or maybe im doing it the wrong way?","body":"When passing numbers in JSON as Map&lt;String, Object&gt; they are all always Integer, and I want them to be Integers and Longs somehow, or maybe im doing it the wrong way?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671107794,"post_id":74811429,"comment_id":132029494,"body_markdown":"How should Jackson know that (without having type information) that it needs to be a long? It will then convert to an `Integer` if it fits in the number range.","body":"How should Jackson know that (without having type information) that it needs to be a long? It will then convert to an <code>Integer</code> if it fits in the number range."},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1671107854,"post_id":74811429,"comment_id":132029526,"body_markdown":"So then what&#39;s the proper way to update multiple different types fields?","body":"So then what&#39;s the proper way to update multiple different types fields?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671113412,"creation_date":1671110434,"answer_id":74812201,"question_id":74811429,"body_markdown":"You can make use of the functionality offered by Jackson to perform the partial update.\r\n\r\nFor that, instead of reading the data to patch as a `Map` you specify in your Controller the type of the request body as `ObjectNode`:\r\n\r\n    @PatchMapping(&quot;/grades/{id}&quot;)\r\n    public GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id,\r\n                                  @RequestBody ObjectNode updateInfo) {\r\n        \r\n        return gradeService.partialUpdate(id, updateInfo);\r\n    }\r\n\r\nThen inside the Service to operate with `ObjectNode`s you need to turn `GradeEto` instance into a node tree using [`ObjectMapper.valueToTree()`][valueToTree] (*assuming that Service class is a managed Bean you can inject `ObjectMapper` into it instead of instantiating it locally*).\r\n\r\nMethod [`ObjectNode.fields()`][fields] can be used to iterate over the fields and corresponding values of `updateInfo`. Methods [`isNull()`][isNull] and [`isEmpty()`][isEmpty], which `ObjectNode` derives from its super types, would be handy to check if a particular property needs to be updated.\r\n\r\nThen, finally, you would need to parse the `ObjectNode` back into `GradeEto` type.\r\n\r\nSo the code in the Service might look like this:\r\n\r\n```\r\n@Service\r\npublic class GradeService {\r\n\r\n    private ObjectMapper mapper;\r\n    \r\n    public GradeEto partialUpdate(Long id, ObjectNode updateInfo) throws IOException {\r\n\r\n        Grade grade = gradeRepository.findById(id).get();\r\n        GradeEto gradeeto = GradeMapper.mapToETO(grade);\r\n        \r\n        ObjectNode gradeEtoTree = mapper.valueToTree(gradeeto);\r\n        \r\n        updateInfo.fields().forEachRemaining(e -&gt; {\r\n            if (!e.getValue().isNull() &amp;&amp; !e.getValue().isEmpty())\r\n                gradeEtoTree.replace(e.getKey(), e.getValue());\r\n        });\r\n        \r\n        return mapper\r\n            .readerFor(GradeEto.class) // creates an ObjectReader\r\n            .readValue(gradeEtoTree);\r\n    }\r\n}\r\n```\r\n\r\n***Note:** it&#39;s worth to draw the reader&#39;s attention to the fact we also need to update the information in the Database. This logic is missing in both the Question and this Answer, since it&#39;s not relevant to the narrow technical problem of extracting the data that should be patched from JSON, but we definitely need to save the patched object (for instance a method that produces patched object can be wrapped with another method responsible for retrieving/updating the data in the database).*\r\n\r\n\r\n   [valueToTree]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree-java.lang.Object-\r\n\r\n   [fields]: https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/node/ObjectNode.html#fields--\r\n\r\n   [isNull]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#isNull()\r\n\r\n   [isEmpty]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonSerializable.Base.html#isEmpty(com.fasterxml.jackson.databind.SerializerProvider)","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>You can make use of the functionality offered by Jackson to perform the partial update.</p>\n<p>For that, instead of reading the data to patch as a <code>Map</code> you specify in your Controller the type of the request body as <code>ObjectNode</code>:</p>\n<pre><code>@PatchMapping(&quot;/grades/{id}&quot;)\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id,\n                              @RequestBody ObjectNode updateInfo) {\n    \n    return gradeService.partialUpdate(id, updateInfo);\n}\n</code></pre>\n<p>Then inside the Service to operate with <code>ObjectNode</code>s you need to turn <code>GradeEto</code> instance into a node tree using <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>ObjectMapper.valueToTree()</code></a> (<em>assuming that Service class is a managed Bean you can inject <code>ObjectMapper</code> into it instead of instantiating it locally</em>).</p>\n<p>Method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/node/ObjectNode.html#fields--\" rel=\"nofollow noreferrer\"><code>ObjectNode.fields()</code></a> can be used to iterate over the fields and corresponding values of <code>updateInfo</code>. Methods <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#isNull()\" rel=\"nofollow noreferrer\"><code>isNull()</code></a> and <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonSerializable.Base.html#isEmpty(com.fasterxml.jackson.databind.SerializerProvider)\" rel=\"nofollow noreferrer\"><code>isEmpty()</code></a>, which <code>ObjectNode</code> derives from its super types, would be handy to check if a particular property needs to be updated.</p>\n<p>Then, finally, you would need to parse the <code>ObjectNode</code> back into <code>GradeEto</code> type.</p>\n<p>So the code in the Service might look like this:</p>\n<pre><code>@Service\npublic class GradeService {\n\n    private ObjectMapper mapper;\n    \n    public GradeEto partialUpdate(Long id, ObjectNode updateInfo) throws IOException {\n\n        Grade grade = gradeRepository.findById(id).get();\n        GradeEto gradeeto = GradeMapper.mapToETO(grade);\n        \n        ObjectNode gradeEtoTree = mapper.valueToTree(gradeeto);\n        \n        updateInfo.fields().forEachRemaining(e -&gt; {\n            if (!e.getValue().isNull() &amp;&amp; !e.getValue().isEmpty())\n                gradeEtoTree.replace(e.getKey(), e.getValue());\n        });\n        \n        return mapper\n            .readerFor(GradeEto.class) // creates an ObjectReader\n            .readValue(gradeEtoTree);\n    }\n}\n</code></pre>\n<p><em><strong>Note:</strong> it's worth to draw the reader's attention to the fact we also need to update the information in the Database. This logic is missing in both the Question and this Answer, since it's not relevant to the narrow technical problem of extracting the data that should be patched from JSON, but we definitely need to save the patched object (for instance a method that produces patched object can be wrapped with another method responsible for retrieving/updating the data in the database).</em></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671119436,"creation_date":1671119436,"answer_id":74814204,"question_id":74811429,"body_markdown":"I do believe `org.springframework.cglib.beans.BeanMap` can solve your problem in elegant way:\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    String json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;value\\&quot;: 2,\\n&quot; +\r\n            &quot;    \\&quot;comment\\&quot;: \\&quot;Test Idea\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;subjectEntityId\\&quot;: 20\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n\r\n    Grade grade = new Grade();\r\n    BeanMap map = BeanMap.create(grade);\r\n\r\n    map.putAll(new ObjectMapper().readValue(json, Map.class));\r\n\r\n\r\n    assertThat(grade.value)\r\n            .isEqualTo(2);\r\n    assertThat(grade.subjectEntityId)\r\n            .isEqualTo(20);\r\n    assertThat(grade.comment)\r\n            .isEqualTo(&quot;Test Idea&quot;);\r\n\r\n\r\n}\r\n\r\n\r\n@Data\r\nstatic class Grade {\r\n\r\n    int value;\r\n    String comment;\r\n    long subjectEntityId;\r\n}\r\n\r\n```","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>I do believe <code>org.springframework.cglib.beans.BeanMap</code> can solve your problem in elegant way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    String json = &quot;{\\n&quot; +\n            &quot;    \\&quot;value\\&quot;: 2,\\n&quot; +\n            &quot;    \\&quot;comment\\&quot;: \\&quot;Test Idea\\&quot;,\\n&quot; +\n            &quot;    \\&quot;subjectEntityId\\&quot;: 20\\n&quot; +\n            &quot;}&quot;;\n\n\n    Grade grade = new Grade();\n    BeanMap map = BeanMap.create(grade);\n\n    map.putAll(new ObjectMapper().readValue(json, Map.class));\n\n\n    assertThat(grade.value)\n            .isEqualTo(2);\n    assertThat(grade.subjectEntityId)\n            .isEqualTo(20);\n    assertThat(grade.comment)\n            .isEqualTo(&quot;Test Idea&quot;);\n\n\n}\n\n\n@Data\nstatic class Grade {\n\n    int value;\n    String comment;\n    long subjectEntityId;\n}\n\n</code></pre>\n"}],"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671119436,"creation_date":1671106851,"question_id":74811429,"body_markdown":"i have a PATCH mapping method that currently accepts a `Map&lt;String, Object&gt;` as `@ResponseBody`, because i&#39;ve seen `ReflectionUtils` as one of ways to implement the PatchMapping, but when I want to pass for example `String`, `Integer` and `Long`, then JSON doesn&#39;t distinguish which one are which one. I would like to  be able to pass EntityID which is Long, some Value which is Integer and some Strings at once.\r\n\r\nThis is my current Controller method\r\n\r\n```java\r\n@PatchMapping(&quot;/grades/{id}&quot;)\r\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id, @RequestBody Map&lt;String, Object&gt; updateInfo) {\r\n    return gradeService.partialUpdate(id, updateInfo);\r\n}\r\n```\r\n\r\nThis is main part of the `ReflectionUtils` update\r\n\r\n```\r\n@Override\r\npublic GradeEto partialUpdate(Long id, Map&lt;String, Object&gt; updateInfo) {\r\n\r\n    Grade grade = gradeRepository.findById(id).get();\r\n    GradeEto gradeeto = GradeMapper.mapToETO(grade);\r\n    updateInfo.forEach((key, value) -&gt; {\r\n        Field field = ReflectionUtils.findField(GradeEto.class, key);\r\n        field.setAccessible(true);\r\n        ReflectionUtils.setField(field, gradeeto, value);\r\n    });\r\n```\r\n\r\nAnd i want to be able to pass for example\r\n\r\n\r\n```json\r\n{\r\n    &quot;value&quot;: 2,   &lt;-- Integer\r\n    &quot;comment&quot;: &quot;Test Idea&quot;,   &lt;-- String\r\n    &quot;subjectEntityId&quot;: 2  &lt;-- Long\r\n}\r\n```\r\nBut it gives me `IllegalArgumentException` currently\r\n\r\nHow should i do it? And if im doing it the wrong way then how should I do it?\r\n\r\n","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>i have a PATCH mapping method that currently accepts a <code>Map&lt;String, Object&gt;</code> as <code>@ResponseBody</code>, because i've seen <code>ReflectionUtils</code> as one of ways to implement the PatchMapping, but when I want to pass for example <code>String</code>, <code>Integer</code> and <code>Long</code>, then JSON doesn't distinguish which one are which one. I would like to  be able to pass EntityID which is Long, some Value which is Integer and some Strings at once.</p>\n<p>This is my current Controller method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PatchMapping(&quot;/grades/{id}&quot;)\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id, @RequestBody Map&lt;String, Object&gt; updateInfo) {\n    return gradeService.partialUpdate(id, updateInfo);\n}\n</code></pre>\n<p>This is main part of the <code>ReflectionUtils</code> update</p>\n<pre><code>@Override\npublic GradeEto partialUpdate(Long id, Map&lt;String, Object&gt; updateInfo) {\n\n    Grade grade = gradeRepository.findById(id).get();\n    GradeEto gradeeto = GradeMapper.mapToETO(grade);\n    updateInfo.forEach((key, value) -&gt; {\n        Field field = ReflectionUtils.findField(GradeEto.class, key);\n        field.setAccessible(true);\n        ReflectionUtils.setField(field, gradeeto, value);\n    });\n</code></pre>\n<p>And i want to be able to pass for example</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;value&quot;: 2,   &lt;-- Integer\n    &quot;comment&quot;: &quot;Test Idea&quot;,   &lt;-- String\n    &quot;subjectEntityId&quot;: 2  &lt;-- Long\n}\n</code></pre>\n<p>But it gives me <code>IllegalArgumentException</code> currently</p>\n<p>How should i do it? And if im doing it the wrong way then how should I do it?</p>\n"},{"tags":["java","file-upload","playframework","akamai","ws-client"],"comments":[{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671119756,"post_id":74814168,"comment_id":132034291,"body_markdown":"how to do this scala code into java:\nws.url(url).post(Source(FilePart(&quot;hello&quot;, &quot;hello.txt&quot;, Option(&quot;text/plain&quot;), FileIO.fromFile(tmpFile)) :: DataPart(&quot;key&quot;, &quot;value&quot;) :: List()))\n\nreference -&gt; https://www.playframework.com/documentation/2.5.x/ScalaWS","body":"how to do this scala code into java: ws.url(url).post(Source(FilePart(&quot;hello&quot;, &quot;hello.txt&quot;, Option(&quot;text/plain&quot;), FileIO.fromFile(tmpFile)) :: DataPart(&quot;key&quot;, &quot;value&quot;) :: List()))  reference -&gt; <a href=\"https://www.playframework.com/documentation/2.5.x/ScalaWS\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.5.x/ScalaWS</a>"},{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671122059,"post_id":74814168,"comment_id":132035208,"body_markdown":"i am getting :- after tring this approach :-&gt; https://www.playframework.com/documentation/2.5.x/JavaWS\nHi, I&#39;m trying to retrieve the JSON response from my API but I&#39;m having a problem if the status code is 412. It just keeps on loading and no response is being returned. Any reason for this?","body":"i am getting :- after tring this approach :-&gt; <a href=\"https://www.playframework.com/documentation/2.5.x/JavaWS\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.5.x/JavaWS</a> Hi, I&#39;m trying to retrieve the JSON response from my API but I&#39;m having a problem if the status code is 412. It just keeps on loading and no response is being returned. Any reason for this?"},{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671176408,"post_id":74814168,"comment_id":132046735,"body_markdown":"it worked for me -&gt; playframework.com/documentation/2.5.x/JavaWS\n\nI was passing the wrong headers authenticated and URL combination without HTTPS\nwhich worked after providing hostname with HTTPS","body":"it worked for me -&gt; playframework.com/documentation/2.5.x/JavaWS  I was passing the wrong headers authenticated and URL combination without HTTPS which worked after providing hostname with HTTPS"}],"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119289,"creation_date":1671119289,"question_id":74814168,"body_markdown":"This is the code in scala how can we do a similar thing in java using the play framework\r\nreference: -&gt; https://stackoverflow.com/questions/63577224/play-ws-post-multipart-form-data-from-scala-bad-request\r\n\r\n\r\n\r\n  \r\n\r\n    import akka.stream.scaladsl.FileIO\r\n        import akka.stream.scaladsl.Source\r\n        import play.api.libs.ws.WSClient\r\n        import play.api.mvc.MultipartFormData._\r\n        \r\n        val pathToFile = &quot;./sampleCV.pdf&quot;\r\n        val fileName = &quot;sampleCV.pdf&quot;\r\n        val futureResponse = ws.url(url).withRequestTimeout(Duration.create(55, TimeUnit.SECONDS))\r\n              .addHttpHeaders(&quot;authorization&quot; -&gt; s&quot;bearer $access_token&quot;)\r\n              .addHttpHeaders(&quot;accept&quot; -&gt; &quot;*/*&quot;)\r\n              .addHttpHeaders(&quot;content-type&quot; -&gt; &quot;multipart/form-data&quot;)\r\n              .post(Source(\r\n                FilePart(&quot;File&quot;, fileName, Option(&quot;application/pdf&quot;), FileIO.fromPath(Paths.get(pathToFile)))  :: List()\r\n              ))\r\n\r\n\r\nI had tried but got 412 as the response code as I was using an HTTP multipart file.","title":"How to upload upload image/file to akamai server using play framework","body":"<p>This is the code in scala how can we do a similar thing in java using the play framework\nreference: -&gt; <a href=\"https://stackoverflow.com/questions/63577224/play-ws-post-multipart-form-data-from-scala-bad-request\">Play WS - post multipart/form-data from scala - Bad Request</a></p>\n<pre><code>import akka.stream.scaladsl.FileIO\n    import akka.stream.scaladsl.Source\n    import play.api.libs.ws.WSClient\n    import play.api.mvc.MultipartFormData._\n    \n    val pathToFile = &quot;./sampleCV.pdf&quot;\n    val fileName = &quot;sampleCV.pdf&quot;\n    val futureResponse = ws.url(url).withRequestTimeout(Duration.create(55, TimeUnit.SECONDS))\n          .addHttpHeaders(&quot;authorization&quot; -&gt; s&quot;bearer $access_token&quot;)\n          .addHttpHeaders(&quot;accept&quot; -&gt; &quot;*/*&quot;)\n          .addHttpHeaders(&quot;content-type&quot; -&gt; &quot;multipart/form-data&quot;)\n          .post(Source(\n            FilePart(&quot;File&quot;, fileName, Option(&quot;application/pdf&quot;), FileIO.fromPath(Paths.get(pathToFile)))  :: List()\n          ))\n</code></pre>\n<p>I had tried but got 412 as the response code as I was using an HTTP multipart file.</p>\n"},{"tags":["java","gradle","maven-plugin"],"owner":{"account_id":3904037,"reputation":13,"user_id":3231140,"accept_rate":25,"display_name":"user3231140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119279,"creation_date":1671119279,"question_id":74814166,"body_markdown":"I am trying to run gradle install. The goal is to convert to the gradle project to a mvn project. For that we have the mvn plugin as a part of gradle project.\r\n\r\n**gradle version is 7.6**\r\n\r\n**java version is java 11**\r\n\r\ngradle build file:\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;com.diffplug.spotless&#39; version &#39;5.11.0&#39;\r\n    id &#39;checkstyle&#39;\r\n    id &#39;nebula.ospackage&#39;  version &quot;8.3.0&quot;\r\n    id &quot;org.gradle.test-retry&quot; version &quot;1.3.1&quot;\r\n}\r\n\r\n\r\nspotless {\r\n  java {\r\n    // note: you can use an empty string for all the imports you didn&#39;t specify explicitly, and &#39;\\\\#` prefix for static imports\r\n    importOrder(&#39;java&#39;, &#39;javax&#39;, &#39;&#39;, &#39;com.amazon&#39;, &#39;org.opensearch&#39;, &#39;\\\\#&#39;)\r\n  }\r\n}\r\n\r\njava.sourceCompatibility = JavaVersion.VERSION_11\r\njava.targetCompatibility = JavaVersion.VERSION_11\r\n\r\ntasks.withType(Checkstyle) {\r\n    showViolations true\r\n    reports {\r\n        ignoreFailures = false\r\n    }\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    configure(options) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-Xlint:removal&#39; &lt;&lt; &#39;-Werror&#39;\r\n    }\r\n}\r\n\r\ntasks.test.finalizedBy(jacocoTestReport)  // report is always generated after tests run\r\ntasks.jacocoTestReport.dependsOn(test) // tests are required to run before generating the report\r\n\r\nallprojects {\r\n    tasks.withType(Javadoc).all { enabled = false }\r\n}\r\n\r\nbundlePlugin {\r\n    from(&#39;plugin-security.policy&#39;)\r\n    from(&#39;config&#39;) {\r\n        into &#39;config&#39;\r\n    }\r\n    from(&#39;tools&#39;) {\r\n        into &#39;tools&#39;\r\n    }\r\n}\r\n``` \r\n\r\n***But facing the below issue:***\r\n\r\n```\r\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata(Ljava/io/File;)Lorg/gradle/internal/jvm/inspection/JvmInstallationMetadata;\r\n        at \r\n    ```\r\n","title":"facing issue with gradle install command: `java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata `","body":"<p>I am trying to run gradle install. The goal is to convert to the gradle project to a mvn project. For that we have the mvn plugin as a part of gradle project.</p>\n<p><strong>gradle version is 7.6</strong></p>\n<p><strong>java version is java 11</strong></p>\n<p>gradle build file:</p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'idea'\n    id 'jacoco'\n    id 'maven-publish'\n    id 'com.diffplug.spotless' version '5.11.0'\n    id 'checkstyle'\n    id 'nebula.ospackage'  version &quot;8.3.0&quot;\n    id &quot;org.gradle.test-retry&quot; version &quot;1.3.1&quot;\n}\n\n\nspotless {\n  java {\n    // note: you can use an empty string for all the imports you didn't specify explicitly, and '\\\\#` prefix for static imports\n    importOrder('java', 'javax', '', 'com.amazon', 'org.opensearch', '\\\\#')\n  }\n}\n\njava.sourceCompatibility = JavaVersion.VERSION_11\njava.targetCompatibility = JavaVersion.VERSION_11\n\ntasks.withType(Checkstyle) {\n    showViolations true\n    reports {\n        ignoreFailures = false\n    }\n}\n\ntasks.withType(JavaCompile) {\n    configure(options) {\n        options.encoding = 'UTF-8'\n        options.compilerArgs &lt;&lt; '-Xlint:removal' &lt;&lt; '-Werror'\n    }\n}\n\ntasks.test.finalizedBy(jacocoTestReport)  // report is always generated after tests run\ntasks.jacocoTestReport.dependsOn(test) // tests are required to run before generating the report\n\nallprojects {\n    tasks.withType(Javadoc).all { enabled = false }\n}\n\nbundlePlugin {\n    from('plugin-security.policy')\n    from('config') {\n        into 'config'\n    }\n    from('tools') {\n        into 'tools'\n    }\n}\n</code></pre>\n<p><em><strong>But facing the below issue:</strong></em></p>\n<pre><code>org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata(Ljava/io/File;)Lorg/gradle/internal/jvm/inspection/JvmInstallationMetadata;\n        at \n    ```\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9417,"page":806,"page_size":100}
