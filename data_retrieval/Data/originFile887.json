{"items":[{"tags":["java","linux","javafx"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645153214,"post_id":71167867,"comment_id":125801331,"body_markdown":"And this is why Swing won&#39;t die.  Ok, have a look at [Getting Started with JavaFX](https://openjfx.io/openjfx-docs/) - look at the sections on Maven and IntelliJ. [IntelliJ IDEA and JavaFX](https://blog.jetbrains.com/idea/2021/01/intellij-idea-and-javafx/) ... might confuse you. [Create a new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html); [Step by step guide on how to set up JavaFX on IntelliJ](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360008218979-IDEA-unable-to-run-JavaFX-Maven-project)","body":"And this is why Swing won&#39;t die.  Ok, have a look at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> - look at the sections on Maven and IntelliJ. <a href=\"https://blog.jetbrains.com/idea/2021/01/intellij-idea-and-javafx/\" rel=\"nofollow noreferrer\">IntelliJ IDEA and JavaFX</a> ... might confuse you. <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Create a new JavaFX project</a>; <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360008218979-IDEA-unable-to-run-JavaFX-Maven-project\" rel=\"nofollow noreferrer\">Step by step guide on how to set up JavaFX on IntelliJ</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645153305,"post_id":71167867,"comment_id":125801353,"body_markdown":"[How To Effortlessly Setup JavaFX With Maven (+ debugging tips!) in IntelliJ](https://edencoding.com/javafx-maven/).  The important note(s) is JavaFX is a seperate module and needs to be downloaded separately from the JDK/JRE, this is where Maven can help, but you may need to include additional parameters on the command line, as it not only needs the .jar files, but also the platform library files. I don&#39;t use IntelliJ and it&#39;s taken way longer then it should to get it to work in Netbeans &#128531;","body":"<a href=\"https://edencoding.com/javafx-maven/\" rel=\"nofollow noreferrer\">How To Effortlessly Setup JavaFX With Maven (+ debugging tips!) in IntelliJ</a>.  The important note(s) is JavaFX is a seperate module and needs to be downloaded separately from the JDK/JRE, this is where Maven can help, but you may need to include additional parameters on the command line, as it not only needs the .jar files, but also the platform library files. I don&#39;t use IntelliJ and it&#39;s taken way longer then it should to get it to work in Netbeans ðŸ˜“"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645157571,"post_id":71167867,"comment_id":125801979,"body_markdown":"Update to the most recent version of Idea, create a [new  JavaFX project](https://www.jetbrains.com/help/idea/javafx.html) using the wizard, test it works, then copy in code from your existing project.  For any dependencies you add in maven, also require them in your module-info. Or, for a non-modular project, delete the module-info and use a JDK such as liberica that includes JavaFX. Those are IMO *by far* the easiest ways to deal with these setup errors.","body":"Update to the most recent version of Idea, create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new  JavaFX project</a> using the wizard, test it works, then copy in code from your existing project.  For any dependencies you add in maven, also require them in your module-info. Or, for a non-modular project, delete the module-info and use a JDK such as liberica that includes JavaFX. Those are IMO <i>by far</i> the easiest ways to deal with these setup errors."},{"owner":{"account_id":24295124,"reputation":11,"user_id":18239452,"display_name":"Angel D."},"score":1,"creation_date":1645248287,"post_id":71167867,"comment_id":125825889,"body_markdown":"Thank you MadProgrammer for your responses. I ended up doing what @jewelsea suggested and FINALLY got it to work. I still have no clue what I was doing wrong in the first place but am thankful that it is now working.&#128512;","body":"Thank you MadProgrammer for your responses. I ended up doing what @jewelsea suggested and FINALLY got it to work. I still have no clue what I was doing wrong in the first place but am thankful that it is now working.ðŸ˜€"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1668374135,"post_id":71167867,"comment_id":131383941,"body_markdown":"@parsecer It&#39;s the motivation (and demonstration) of want to seperate the &quot;extended&quot; functionality of JavaFX from the core API (many people would like to see AWT and Swing pulled out as well).  I&#39;ve tried several ways to get JavaFX to work and Maven is (mostly) the only solution that works &#128580;.  But yes, it could have been made SOOO much easier","body":"@parsecer It&#39;s the motivation (and demonstration) of want to seperate the &quot;extended&quot; functionality of JavaFX from the core API (many people would like to see AWT and Swing pulled out as well).  I&#39;ve tried several ways to get JavaFX to work and Maven is (mostly) the only solution that works ðŸ™„.  But yes, it could have been made SOOO much easier"}],"answers":[{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668373648,"creation_date":1668373648,"answer_id":74424781,"question_id":71167867,"body_markdown":"This video helped: https://www.youtube.com/watch?v=ZfaPMLdgJxQ&amp;ab_channel=BoostMyTool\r\n\r\nIn particular what I did was:\r\n\r\n1. Download the SDK from this website: https://gluonhq.com/products/javafx/\r\n2. In Idea Intelij (in the Run menu) Edit Configurations -&gt; add VM options: \r\n\r\n```\r\n--module-path /path-to-sdk/lib/ --add-modules javafx.controls,javafx.fxml\r\n```\r\n\r\nAnd finally it worked!","title":"Error: JavaFX runtime components are missing Linux IntelliJ","body":"<p>This video helped: <a href=\"https://www.youtube.com/watch?v=ZfaPMLdgJxQ&amp;ab_channel=BoostMyTool\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZfaPMLdgJxQ&amp;ab_channel=BoostMyTool</a></p>\n<p>In particular what I did was:</p>\n<ol>\n<li>Download the SDK from this website: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></li>\n<li>In Idea Intelij (in the Run menu) Edit Configurations -&gt; add VM options:</li>\n</ol>\n<pre><code>--module-path /path-to-sdk/lib/ --add-modules javafx.controls,javafx.fxml\n</code></pre>\n<p>And finally it worked!</p>\n"}],"owner":{"account_id":24295124,"reputation":11,"user_id":18239452,"display_name":"Angel D."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668373648,"creation_date":1645152642,"question_id":71167867,"body_markdown":"I am on a Linux machine and am trying to get a javaFX app to run but I am stuck. I keep getting the error in the title.\r\nIntelliJ is running the following command before the error:\r\n\r\n    /usr/lib/jvm/java-17-openjdk-amd64/bin/java -javaagent:/opt/IntelliJ/lib/idea_rt.jar=38753:/opt/IntelliJ/bin -Dfile.encoding=UTF-8 -classpath /home/j3rk/IdeaProjects/C195/out/production/C195:/home/j3rk/.m2/repository/mysql/mysql-connector-java/8.0.27/mysql-connector-java-8.0.27.jar:/home/j3rk/.m2/repository/com/google/protobuf/protobuf-java/3.11.4/protobuf-java-3.11.4.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/12-ea+6/javafx-base-12-ea+6.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/12-ea+6/javafx-base-12-ea+6-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-controls/11/javafx-controls-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-controls/11/javafx-controls-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-graphics/11/javafx-graphics-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-graphics/11/javafx-graphics-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/11/javafx-base-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/11/javafx-base-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-fxml/11/javafx-fxml-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-fxml/11/javafx-fxml-11-linux.jar sample.Main\r\n\r\nAs you can see, I have tried adding the openjfx dependencies via maven and it still does not work.\r\n\r\nI have tried the solution found in: [https://stackoverflow.com/questions/55760343/error-javafx-runtime-components-are-missing-javafx-11-and-openjdk-11-and-ecli][1]\r\n\r\n\r\nTwo other javaFX projects are loading fine on the same machine, but for some reason, this particular project keeps giving me the same error no matter what I try.\r\n\r\n[Screenshot of my modules/dependencies][2]\r\n\r\nLet me know if you need more information. Any help would be appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55760343/error-javafx-runtime-components-are-missing-javafx-11-and-openjdk-11-and-ecli\r\n  [2]: https://i.stack.imgur.com/cZnVs.png","title":"Error: JavaFX runtime components are missing Linux IntelliJ","body":"<p>I am on a Linux machine and am trying to get a javaFX app to run but I am stuck. I keep getting the error in the title.\nIntelliJ is running the following command before the error:</p>\n<pre><code>/usr/lib/jvm/java-17-openjdk-amd64/bin/java -javaagent:/opt/IntelliJ/lib/idea_rt.jar=38753:/opt/IntelliJ/bin -Dfile.encoding=UTF-8 -classpath /home/j3rk/IdeaProjects/C195/out/production/C195:/home/j3rk/.m2/repository/mysql/mysql-connector-java/8.0.27/mysql-connector-java-8.0.27.jar:/home/j3rk/.m2/repository/com/google/protobuf/protobuf-java/3.11.4/protobuf-java-3.11.4.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/12-ea+6/javafx-base-12-ea+6.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/12-ea+6/javafx-base-12-ea+6-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-controls/11/javafx-controls-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-controls/11/javafx-controls-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-graphics/11/javafx-graphics-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-graphics/11/javafx-graphics-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/11/javafx-base-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-base/11/javafx-base-11-linux.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-fxml/11/javafx-fxml-11.jar:/home/j3rk/.m2/repository/org/openjfx/javafx-fxml/11/javafx-fxml-11-linux.jar sample.Main\n</code></pre>\n<p>As you can see, I have tried adding the openjfx dependencies via maven and it still does not work.</p>\n<p>I have tried the solution found in: <a href=\"https://stackoverflow.com/questions/55760343/error-javafx-runtime-components-are-missing-javafx-11-and-openjdk-11-and-ecli\">Error: JavaFX runtime components are missing - JavaFX 11 and OpenJDK 11 and Eclipse IDE</a></p>\n<p>Two other javaFX projects are loading fine on the same machine, but for some reason, this particular project keeps giving me the same error no matter what I try.</p>\n<p><a href=\"https://i.stack.imgur.com/cZnVs.png\" rel=\"nofollow noreferrer\">Screenshot of my modules/dependencies</a></p>\n<p>Let me know if you need more information. Any help would be appreciated.</p>\n"},{"tags":["java","json","apache-flink","fastjson"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668373431,"creation_date":1668373431,"answer_id":74424761,"question_id":74417905,"body_markdown":"To get it to compile, I had to change the code slightly, to\r\n\r\n```java\r\npublic void processElement(\r\n    String value,\r\n    ProcessFunction&lt;String, JSONObject&gt;.Context ctx,\r\n    Collector&lt;JSONObject&gt; out) throws Exception {\r\n        JSONObject jsonObject = new JSONObject(value);\r\n        out.collect(jsonObject);\r\n    }\r\n}\r\n```\r\n\r\nand it works fine. It prints out\r\n\r\n```\r\n{&quot;bill_info&quot;:{&quot;ADDER_NAME&quot;:&quot;sss&quot;,&quot;ADDER_NO&quot;:&quot;0706&quot;,&quot;UPDATER_NAME&quot;:&quot;ssss&quot;,&quot;UPDATER_NO&quot;:&quot;0706&quot;,&quot;BILL_ID&quot;:&quot;8687b584-038c-498c-8f97-ec1ca197da96&quot;,&quot;ADD_TIME&quot;:&quot;2022-11-12 16:05:28:418&quot;,&quot;ORDER_ID&quot;:&quot;f3e60c5f-78f6-4ec6-bab6-98b177f7cb67&quot;,&quot;S_USER_ID&quot;:&quot;s68&quot;,&quot;B_USER_ID&quot;:&quot;b77&quot;,&quot;UPDATE_TIME&quot;:&quot;2022-11-12 16:05:28:418&quot;}}\r\n```\r\n\r\nI used\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20180130&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNote, however, that&#39;s generally not a good idea to be sending around JSONObjects -- they are expensive to serialize and deserialize. It would be better to deserialize the JSON to a POJO, along the lines of what is shown in  [this recipe](https://docs.immerok.cloud/docs/how-to-guides/development/deserializing-json-from-kafka-to-apache-flink-pojo/).\r\n","title":"in flink, I can`t map String to JSONObject","body":"<p>To get it to compile, I had to change the code slightly, to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processElement(\n    String value,\n    ProcessFunction&lt;String, JSONObject&gt;.Context ctx,\n    Collector&lt;JSONObject&gt; out) throws Exception {\n        JSONObject jsonObject = new JSONObject(value);\n        out.collect(jsonObject);\n    }\n}\n</code></pre>\n<p>and it works fine. It prints out</p>\n<pre><code>{&quot;bill_info&quot;:{&quot;ADDER_NAME&quot;:&quot;sss&quot;,&quot;ADDER_NO&quot;:&quot;0706&quot;,&quot;UPDATER_NAME&quot;:&quot;ssss&quot;,&quot;UPDATER_NO&quot;:&quot;0706&quot;,&quot;BILL_ID&quot;:&quot;8687b584-038c-498c-8f97-ec1ca197da96&quot;,&quot;ADD_TIME&quot;:&quot;2022-11-12 16:05:28:418&quot;,&quot;ORDER_ID&quot;:&quot;f3e60c5f-78f6-4ec6-bab6-98b177f7cb67&quot;,&quot;S_USER_ID&quot;:&quot;s68&quot;,&quot;B_USER_ID&quot;:&quot;b77&quot;,&quot;UPDATE_TIME&quot;:&quot;2022-11-12 16:05:28:418&quot;}}\n</code></pre>\n<p>I used</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note, however, that's generally not a good idea to be sending around JSONObjects -- they are expensive to serialize and deserialize. It would be better to deserialize the JSON to a POJO, along the lines of what is shown in  <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/deserializing-json-from-kafka-to-apache-flink-pojo/\" rel=\"nofollow noreferrer\">this recipe</a>.</p>\n"}],"owner":{"account_id":25614618,"reputation":7,"user_id":19387421,"display_name":"chaos_world"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74424761,"answer_count":1,"score":0,"last_activity_date":1668373431,"creation_date":1668304210,"question_id":74417905,"body_markdown":"source code:\r\nsource a String,and I try to map it into JSONObject,and i failed.\r\n```\r\npublic class Test {\r\npublic static void main(String\\[\\] args) throws Exception {\r\n//TODO 1.\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nenv.setParallelism(1);\r\n\r\n        //TODO 2.\r\n        DataStreamSource&lt;String&gt; inputDS = env.fromElements(&quot;{\\&quot;bill_info\\&quot;:{\\&quot;ADD_TIME\\&quot;:\\&quot;2022-11-12 16:05:28:418\\&quot;,\\&quot;ORDER_ID\\&quot;:\\&quot;f3e60c5f-78f6-4ec6-bab6-98b177f7cb67\\&quot;,\\&quot;ADDER_NO\\&quot;:\\&quot;0706\\&quot;,\\&quot;UPDATER_NO\\&quot;:\\&quot;0706\\&quot;,\\&quot;S_USER_ID\\&quot;:\\&quot;s68\\&quot;,\\&quot;B_USER_ID\\&quot;:\\&quot;b77\\&quot;,\\&quot;BILL_ID\\&quot;:\\&quot;8687b584-038c-498c-8f97-ec1ca197da96\\&quot;,\\&quot;ADDER_NAME\\&quot;:\\&quot;sss\\&quot;,\\&quot;UPDATE_TIME\\&quot;:\\&quot;2022-11-12 16:05:28:418\\&quot;,\\&quot;UPDATER_NAME\\&quot;:\\&quot;ssss\\&quot;}}&quot;);\r\n    \r\n    \r\n        //TODO 3.\r\n        SingleOutputStreamOperator&lt;JSONObject&gt; jsonObjDS = inputDS.process(new ProcessFunction&lt;String, JSONObject&gt;() {\r\n            @Override\r\n            public void processElement(String value, ProcessFunction&lt;String, JSONObject&gt;.Context ctx, Collector&lt;JSONObject&gt; out) throws Exception {\r\n                JSONObject jsonObject = JSONObject.parseObject(value);\r\n                out.collect(jsonObject);\r\n            }\r\n        });\r\n        jsonObjDS.print();\r\n    \r\n        env.execute();\r\n    }\r\n\r\n}\r\n```\r\n\r\nerror:Assigned key must not be null!\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.flink.runtime.client.JobExecutionException: Job execution failed.\r\nCaused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy\r\nCaused by: java.lang.RuntimeException: Assigned key must not be null!\r\nCaused by: java.lang.NullPointerException: Assigned key must not be null!\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI tried map,flatmap,process.They all failed when my collector collecting them.\r\nafter debug,i found that String have been parsed into JSONObject,but just can not be collected.","title":"in flink, I can`t map String to JSONObject","body":"<p>source code:\nsource a String,and I try to map it into JSONObject,and i failed.</p>\n<pre><code>public class Test {\npublic static void main(String\\[\\] args) throws Exception {\n//TODO 1.\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setParallelism(1);\n\n        //TODO 2.\n        DataStreamSource&lt;String&gt; inputDS = env.fromElements(&quot;{\\&quot;bill_info\\&quot;:{\\&quot;ADD_TIME\\&quot;:\\&quot;2022-11-12 16:05:28:418\\&quot;,\\&quot;ORDER_ID\\&quot;:\\&quot;f3e60c5f-78f6-4ec6-bab6-98b177f7cb67\\&quot;,\\&quot;ADDER_NO\\&quot;:\\&quot;0706\\&quot;,\\&quot;UPDATER_NO\\&quot;:\\&quot;0706\\&quot;,\\&quot;S_USER_ID\\&quot;:\\&quot;s68\\&quot;,\\&quot;B_USER_ID\\&quot;:\\&quot;b77\\&quot;,\\&quot;BILL_ID\\&quot;:\\&quot;8687b584-038c-498c-8f97-ec1ca197da96\\&quot;,\\&quot;ADDER_NAME\\&quot;:\\&quot;sss\\&quot;,\\&quot;UPDATE_TIME\\&quot;:\\&quot;2022-11-12 16:05:28:418\\&quot;,\\&quot;UPDATER_NAME\\&quot;:\\&quot;ssss\\&quot;}}&quot;);\n    \n    \n        //TODO 3.\n        SingleOutputStreamOperator&lt;JSONObject&gt; jsonObjDS = inputDS.process(new ProcessFunction&lt;String, JSONObject&gt;() {\n            @Override\n            public void processElement(String value, ProcessFunction&lt;String, JSONObject&gt;.Context ctx, Collector&lt;JSONObject&gt; out) throws Exception {\n                JSONObject jsonObject = JSONObject.parseObject(value);\n                out.collect(jsonObject);\n            }\n        });\n        jsonObjDS.print();\n    \n        env.execute();\n    }\n\n}\n</code></pre>\n<p>error:Assigned key must not be null!</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.runtime.client.JobExecutionException: Job execution failed.\nCaused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy\nCaused by: java.lang.RuntimeException: Assigned key must not be null!\nCaused by: java.lang.NullPointerException: Assigned key must not be null!\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tried map,flatmap,process.They all failed when my collector collecting them.\nafter debug,i found that String have been parsed into JSONObject,but just can not be collected.</p>\n"},{"tags":["java","android","android-animation"],"comments":[{"owner":{"account_id":2708876,"reputation":4974,"user_id":2337837,"accept_rate":100,"display_name":"Zied R."},"score":0,"creation_date":1437567392,"post_id":31562833,"comment_id":51081348,"body_markdown":"see this answer : http://stackoverflow.com/a/12999391/2337837","body":"see this answer : <a href=\"http://stackoverflow.com/a/12999391/2337837\">stackoverflow.com/a/12999391/2337837</a>"},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1437568238,"post_id":31562833,"comment_id":51081973,"body_markdown":"@ZiedRebhi I tried the example but the animation is still laggy","body":"@ZiedRebhi I tried the example but the animation is still laggy"},{"owner":{"account_id":6305442,"reputation":8252,"user_id":4898635,"display_name":"Dom"},"score":0,"creation_date":1437986604,"post_id":31562833,"comment_id":51242735,"body_markdown":"Just curious, what device are you testing this on? Or are you testing on an emulator?","body":"Just curious, what device are you testing this on? Or are you testing on an emulator?"},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1437986660,"post_id":31562833,"comment_id":51242767,"body_markdown":"@Dom i&#39;m testing it on a Moto G 2014 with android L","body":"@Dom i&#39;m testing it on a Moto G 2014 with android L"}],"answers":[{"tags":[],"owner":{"account_id":4680959,"reputation":4579,"user_id":3789686,"accept_rate":80,"display_name":"Gopal Singh Sirvi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1437567458,"creation_date":1437567458,"answer_id":31562906,"question_id":31562833,"body_markdown":"   \r\n\r\n \r\n\r\nTry this. It will animate the imageview.\r\n\r\n      \r\n    \r\n          \r\n    \r\n            ImageView img_animation = (ImageView) findViewById(R.id.img_animation);\r\n    \t\tDisplay display = getWindowManager().getDefaultDisplay();\r\n    \t\tfloat width = display.getWidth();\r\n    \t\tTranslateAnimation animation = new TranslateAnimation(0, width - 50, 0, 0); // new TranslateAnimation(xFrom,xTo, yFrom,yTo)\r\n    \t\tanimation.setDuration(1000); // animation duration\r\n    \t\tanimation.setRepeatCount(5); // animation repeat count\r\n    \t\tanimation.setRepeatMode(2); // repeat animation (left to right, right to\r\n    \t\t\t\t\t\t\t\t\t// left )\r\n    \t\t// animation.setFillAfter(true);\r\n    \r\n    \t\timg_animation.startAnimation(animation); // start animation","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>Try this. It will animate the imageview.</p>\n\n<pre><code>        ImageView img_animation = (ImageView) findViewById(R.id.img_animation);\n        Display display = getWindowManager().getDefaultDisplay();\n        float width = display.getWidth();\n        TranslateAnimation animation = new TranslateAnimation(0, width - 50, 0, 0); // new TranslateAnimation(xFrom,xTo, yFrom,yTo)\n        animation.setDuration(1000); // animation duration\n        animation.setRepeatCount(5); // animation repeat count\n        animation.setRepeatMode(2); // repeat animation (left to right, right to\n                                    // left )\n        // animation.setFillAfter(true);\n\n        img_animation.startAnimation(animation); // start animation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6255100,"reputation":2279,"user_id":5150781,"accept_rate":0,"display_name":"Zigri2612"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1465277845,"creation_date":1437986309,"answer_id":31648476,"question_id":31562833,"body_markdown":"    public class MainActivity extends Activity {\r\n    \r\n           int windowwidth;\r\n           int windowheight;\r\n    \r\n           private LayoutParams layoutParams;\r\n    \r\n           @Override\r\n           public void onCreate(Bundle savedInstanceState) {\r\n                  super.onCreate(savedInstanceState);\r\n                  setContentView(R.layout.activity_main);\r\n    \r\n                  windowwidth = getWindowManager().getDefaultDisplay().getWidth();\r\n                  windowheight = getWindowManager().getDefaultDisplay().getHeight();\r\n                  final ImageView img = (ImageView) findViewById(R.id.imageView1);\r\n    \r\n                  img.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n                         @Override\r\n                         public boolean onTouch(View v, MotionEvent event) {\r\n                               LayoutParams layoutParams = (LayoutParams) img\r\n                                             .getLayoutParams();\r\n                               switch (event.getAction()) {\r\n                               case MotionEvent.ACTION_DOWN:\r\n                                      break;\r\n                               case MotionEvent.ACTION_MOVE:\r\n                                      int x_cord = (int) event.getRawX();\r\n                                      int y_cord = (int) event.getRawY();\r\n    \r\n                                      if (x_cord &gt; windowwidth) {\r\n                                             x_cord = windowwidth;\r\n                                      }\r\n                                      if (y_cord &gt; windowheight) {\r\n                                             y_cord = windowheight;\r\n                                      }\r\n    \r\n                                      layoutParams.leftMargin = x_cord - 25;\r\n                                      layoutParams.topMargin = y_cord - 75;\r\n    \r\n                                      img.setLayoutParams(layoutParams);\r\n                                      break;\r\n                               default:\r\n                                      break;\r\n                               }\r\n                               return true;\r\n                         }\r\n                  });\r\n           }\r\n    }","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<pre><code>public class MainActivity extends Activity {\n\n       int windowwidth;\n       int windowheight;\n\n       private LayoutParams layoutParams;\n\n       @Override\n       public void onCreate(Bundle savedInstanceState) {\n              super.onCreate(savedInstanceState);\n              setContentView(R.layout.activity_main);\n\n              windowwidth = getWindowManager().getDefaultDisplay().getWidth();\n              windowheight = getWindowManager().getDefaultDisplay().getHeight();\n              final ImageView img = (ImageView) findViewById(R.id.imageView1);\n\n              img.setOnTouchListener(new View.OnTouchListener() {\n\n                     @Override\n                     public boolean onTouch(View v, MotionEvent event) {\n                           LayoutParams layoutParams = (LayoutParams) img\n                                         .getLayoutParams();\n                           switch (event.getAction()) {\n                           case MotionEvent.ACTION_DOWN:\n                                  break;\n                           case MotionEvent.ACTION_MOVE:\n                                  int x_cord = (int) event.getRawX();\n                                  int y_cord = (int) event.getRawY();\n\n                                  if (x_cord &gt; windowwidth) {\n                                         x_cord = windowwidth;\n                                  }\n                                  if (y_cord &gt; windowheight) {\n                                         y_cord = windowheight;\n                                  }\n\n                                  layoutParams.leftMargin = x_cord - 25;\n                                  layoutParams.topMargin = y_cord - 75;\n\n                                  img.setLayoutParams(layoutParams);\n                                  break;\n                           default:\n                                  break;\n                           }\n                           return true;\n                     }\n              });\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3408035,"reputation":15425,"user_id":2858654,"accept_rate":39,"display_name":"Aritra Roy"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1438065028,"creation_date":1437986709,"answer_id":31648591,"question_id":31562833,"body_markdown":"Creating this kind of tween animation is simple. Just follow the steps,\r\n\r\n**Step 1**\r\n\r\nCreate a directory `anim` inside the `res` directory and put this as `slide.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:interpolator=&quot;@android:anim/linear_interpolator&quot;\r\n        android:fillAfter=&quot;true&quot;&gt;\r\n    \r\n       &lt;translate\r\n            android:fromXDelta=&quot;0%p&quot;\r\n            android:toXDelta=&quot;75%p&quot;\r\n            android:duration=&quot;800&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nYou can obviously customize the animation by changing the two attributes `fromXDelta` and `toXDelta`. The **%p** refers to with **respect to the parent** which simply means that it will move the image 75% with respect to the parent.\r\n\r\n**Step 2**\r\n\r\n    // Refer the ImageView like this\r\n    imageView = (ImageView) findViewById(R.id.img);\r\n    \r\n    // Load the animation like this\r\n    animSlide = AnimationUtils.loadAnimation(getApplicationContext(),\r\n                        R.anim.slide);\r\n    \r\n    // Start the animation like this\r\n    imageView.startAnimation(animSlide);\r\n\r\nYou can also `setInterpolator()` and `setListeners()` if you want to. I haven&#39;t shown them here to keep it simple. If you need, just let me know.\r\n\r\n**NOTE**\r\n\r\nAs you have mentioned repeatedly, that you are experiencing a **laggy animation**. I have tested this animation on **3 real devices and 2 emulators and the animation was buttery smooth** on all of them. Tested on low end devices like Moto E to high end devices like Nexus 5 and Galaxy S6.\r\n\r\nIf you still have a lag running this code, then the test device must be the reason. The code is perfect.\r\n\r\n**UPDATE**\r\n\r\nI just checked on my Moto G running on Lollipop too, the animation is running smoothly. This is a very small and light-weight animation, and should never be laggy. If you are still getting a lag, then **it must be the device you are testing, or some other piece of code on that Activity making the UI slow or unresponsive**.\r\n\r\nTry to check which one is applicable to you,\r\n\r\n - I have tested on a total of 6 devices now with no lag at all. So, you can be rest assured that your production app will not have any lag, it can be your device which is slow\r\n - If you are doing some heavy operations like **accessing the file system, database, or any other heavy operation, it must be slowing down the UI thread and you are loosing frames.** Try to use `AsyncTask` for these heavy operations\r\n\r\n","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>Creating this kind of tween animation is simple. Just follow the steps,</p>\n\n<p><strong>Step 1</strong></p>\n\n<p>Create a directory <code>anim</code> inside the <code>res</code> directory and put this as <code>slide.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:interpolator=\"@android:anim/linear_interpolator\"\n    android:fillAfter=\"true\"&gt;\n\n   &lt;translate\n        android:fromXDelta=\"0%p\"\n        android:toXDelta=\"75%p\"\n        android:duration=\"800\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>You can obviously customize the animation by changing the two attributes <code>fromXDelta</code> and <code>toXDelta</code>. The <strong>%p</strong> refers to with <strong>respect to the parent</strong> which simply means that it will move the image 75% with respect to the parent.</p>\n\n<p><strong>Step 2</strong></p>\n\n<pre><code>// Refer the ImageView like this\nimageView = (ImageView) findViewById(R.id.img);\n\n// Load the animation like this\nanimSlide = AnimationUtils.loadAnimation(getApplicationContext(),\n                    R.anim.slide);\n\n// Start the animation like this\nimageView.startAnimation(animSlide);\n</code></pre>\n\n<p>You can also <code>setInterpolator()</code> and <code>setListeners()</code> if you want to. I haven't shown them here to keep it simple. If you need, just let me know.</p>\n\n<p><strong>NOTE</strong></p>\n\n<p>As you have mentioned repeatedly, that you are experiencing a <strong>laggy animation</strong>. I have tested this animation on <strong>3 real devices and 2 emulators and the animation was buttery smooth</strong> on all of them. Tested on low end devices like Moto E to high end devices like Nexus 5 and Galaxy S6.</p>\n\n<p>If you still have a lag running this code, then the test device must be the reason. The code is perfect.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I just checked on my Moto G running on Lollipop too, the animation is running smoothly. This is a very small and light-weight animation, and should never be laggy. If you are still getting a lag, then <strong>it must be the device you are testing, or some other piece of code on that Activity making the UI slow or unresponsive</strong>.</p>\n\n<p>Try to check which one is applicable to you,</p>\n\n<ul>\n<li>I have tested on a total of 6 devices now with no lag at all. So, you can be rest assured that your production app will not have any lag, it can be your device which is slow</li>\n<li>If you are doing some heavy operations like <strong>accessing the file system, database, or any other heavy operation, it must be slowing down the UI thread and you are loosing frames.</strong> Try to use <code>AsyncTask</code> for these heavy operations</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5792355,"reputation":391,"user_id":4569343,"accept_rate":60,"display_name":"Anshul Khare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437987302,"creation_date":1437987302,"answer_id":31648794,"question_id":31562833,"body_markdown":"Hope this works for u\r\n\r\n**animation.xml**\r\n\r\n        &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Animation&quot; &gt;\r\n         \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/img_animation&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;30dp&quot;\r\n            android:layout_marginTop=&quot;42dp&quot;\r\n            android:src=&quot;@drawable/emo_im_laughing&quot; /&gt;\r\n     \r\n    &lt;/RelativeLayout&gt;\r\n\r\n**Animation.java**\r\n\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.view.animation.TranslateAnimation;\r\n    import android.widget.ImageView;\r\n     \r\n    public class Animation extends Activity {\r\n     \r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n      super.onCreate(savedInstanceState);\r\n      setContentView(R.layout.);\r\n     \r\n      ImageView img_animation = (ImageView) findViewById(R.id.img_animation);\r\n     \r\n      TranslateAnimation animation = new TranslateAnimation(0.0f, 400.0f,\r\n        0.0f, 0.0f);\r\n      animation.setDuration(5000);\r\n      animation.setRepeatCount(5);\r\n      animation.setRepeatMode(2);\r\n      animation.setFillAfter(true);\r\n      img_animation.startAnimation(animation);\r\n     \r\n     }\r\n    }\r\n    ","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>Hope this works for u</p>\n\n<p><strong>animation.xml</strong></p>\n\n<pre><code>    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".Animation\" &gt;\n\n    &lt;ImageView\n        android:id=\"@+id/img_animation\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"30dp\"\n        android:layout_marginTop=\"42dp\"\n        android:src=\"@drawable/emo_im_laughing\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>Animation.java</strong></p>\n\n<pre><code>import android.os.Bundle;\nimport android.app.Activity;\nimport android.view.animation.TranslateAnimation;\nimport android.widget.ImageView;\n\npublic class Animation extends Activity {\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n  super.onCreate(savedInstanceState);\n  setContentView(R.layout.);\n\n  ImageView img_animation = (ImageView) findViewById(R.id.img_animation);\n\n  TranslateAnimation animation = new TranslateAnimation(0.0f, 400.0f,\n    0.0f, 0.0f);\n  animation.setDuration(5000);\n  animation.setRepeatCount(5);\n  animation.setRepeatMode(2);\n  animation.setFillAfter(true);\n  img_animation.startAnimation(animation);\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850742,"reputation":2856,"user_id":2448013,"display_name":"subrahmanyam boyapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460027382,"creation_date":1460022278,"answer_id":36472387,"question_id":31562833,"body_markdown":"    TranslateAnimation animate = new TranslateAnimation(0, -view.getWidth(), 0, 0);\r\n    animate.setDuration(500);\r\n    animate.setFillAfter(true);\r\n    view.startAnimation(animate);","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<pre><code>TranslateAnimation animate = new TranslateAnimation(0, -view.getWidth(), 0, 0);\nanimate.setDuration(500);\nanimate.setFillAfter(true);\nview.startAnimation(animate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9736552,"reputation":246,"user_id":7219621,"display_name":"Andrew Coder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481795044,"creation_date":1481790521,"answer_id":41159562,"question_id":31562833,"body_markdown":"try the code below\r\n\r\n    TranslateAnimation animation = new TranslateAnimation(0.0f, 0.0f, 0.0f, 1500.0f); // new TranslateAnimation (float fromXDelta,float toXDelta, float fromYDelta, float toYDelta)\r\n    animation.setDuration(2000); // animation duration\r\n    animation.setRepeatCount(1); // animation repeat count if u repeat only once set to 1 if u don&#39;t repeat set to 0\r\n    animation.setFillAfter(false);\r\n    your_view .startAnimation(animation);//your_view for mine is imageView  \r\n","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>try the code below</p>\n\n<pre><code>TranslateAnimation animation = new TranslateAnimation(0.0f, 0.0f, 0.0f, 1500.0f); // new TranslateAnimation (float fromXDelta,float toXDelta, float fromYDelta, float toYDelta)\nanimation.setDuration(2000); // animation duration\nanimation.setRepeatCount(1); // animation repeat count if u repeat only once set to 1 if u don't repeat set to 0\nanimation.setFillAfter(false);\nyour_view .startAnimation(animation);//your_view for mine is imageView  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551769758,"creation_date":1551769758,"answer_id":54997216,"question_id":31562833,"body_markdown":"To Move `imageview`\r\n\r\nfrom **Right to Left** Using @Aritra Roy Answer.\r\n\r\nUse this code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:interpolator=&quot;@android:anim/linear_interpolator&quot;\r\n        android:fillAfter=&quot;true&quot;&gt;\r\n    \r\n        &lt;translate\r\n            android:fromXDelta=&quot;75%p&quot;\r\n            android:toXDelta=&quot;0%p&quot;\r\n            android:duration=&quot;100000&quot; /&gt;\r\n    &lt;/set&gt;","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>To Move <code>imageview</code></p>\n\n<p>from <strong>Right to Left</strong> Using @Aritra Roy Answer.</p>\n\n<p>Use this code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:interpolator=\"@android:anim/linear_interpolator\"\n    android:fillAfter=\"true\"&gt;\n\n    &lt;translate\n        android:fromXDelta=\"75%p\"\n        android:toXDelta=\"0%p\"\n        android:duration=\"100000\" /&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2357377,"reputation":597,"user_id":2064906,"accept_rate":100,"display_name":"Sharad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668373246,"creation_date":1668373246,"answer_id":74424737,"question_id":31562833,"body_markdown":"Now we have MotionLayout try to use that for very clean and smooth sliding animation.","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>Now we have MotionLayout try to use that for very clean and smooth sliding animation.</p>\n"}],"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51592,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":31648591,"answer_count":8,"score":20,"last_activity_date":1668373246,"creation_date":1437567272,"question_id":31562833,"body_markdown":"I need to make an `ImageView` slide from left to right of the screen with a smooth animation (I want the `ImageView` to be visible during the transition) I tried with the following code:\r\n\r\n\tDisplay display = getWindowManager().getDefaultDisplay();\r\n\tPoint size = new Point();\r\n\tdisplay.getSize(size);\r\n\tint width = size.x;\r\n\r\n\tcamion.animate()\r\n\t\t.translationX(width)\r\n\t\t.setDuration(2000)\r\n\t\t.setInterpolator(new LinearInterpolator())\r\n\t\t.setListener(new AnimatorListenerAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onAnimationEnd(Animator animation) {\r\n\t\t\t\tsuper.onAnimationEnd(animation);\r\n\t\t\t\t//camion.setVisibility(View.GONE);\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe `ImageView` moves but the animation is laggy and not smooth like I want to.\r\nWhat am I doing wrong on the code?","title":"How to slide an ImageView from left to right smoothly in Android?","body":"<p>I need to make an <code>ImageView</code> slide from left to right of the screen with a smooth animation (I want the <code>ImageView</code> to be visible during the transition) I tried with the following code:</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay();\nPoint size = new Point();\ndisplay.getSize(size);\nint width = size.x;\n\ncamion.animate()\n    .translationX(width)\n    .setDuration(2000)\n    .setInterpolator(new LinearInterpolator())\n    .setListener(new AnimatorListenerAdapter() {\n        @Override\n        public void onAnimationEnd(Animator animation) {\n            super.onAnimationEnd(animation);\n            //camion.setVisibility(View.GONE);\n        }\n    });\n</code></pre>\n\n<p>The <code>ImageView</code> moves but the animation is laggy and not smooth like I want to.\nWhat am I doing wrong on the code?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1668181076,"post_id":74404785,"comment_id":131350598,"body_markdown":"I don&#39;t really understand what you mean. Provide expected outputs. Regardless, you could make this a lot easier by using a `Student` class instead of operating purely on strings.","body":"I don&#39;t really understand what you mean. Provide expected outputs. Regardless, you could make this a lot easier by using a <code>Student</code> class instead of operating purely on strings."}],"answers":[{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668183011,"creation_date":1668182615,"answer_id":74405178,"question_id":74404785,"body_markdown":"```\r\npublic static void decreaseGrade(String studentId, int reduction) {\r\n   String studentRecord = &quot;Simon, 12345, 75\\n Nick, 23456, 85\\n Frank, 34567, 97\\n&quot;;\r\n   String[] csvArray = studentRecord.split(&quot;\\n&quot;);\r\n   for(String student : csvArray) {\r\n         String[] studentAttributes = student.split(&quot;, &quot;);\r\n         String name = studentAttributes[0].trim();\r\n         String id = studentAttributes[1].trim();\r\n         Integer grade = Integer.valueOf(studentAttributes[2].trim());\r\n         if (!studentId.equals(id)) {\r\n             grade -= reduction;\r\n         }\r\n         System.out.println(&quot;Name: &quot; + name + &quot;, ID: &quot; + id + &quot;, Grade: &quot; + grade);\r\n   }\r\n}\r\n```","title":"How to lower numbers in a String","body":"<pre><code>public static void decreaseGrade(String studentId, int reduction) {\n   String studentRecord = &quot;Simon, 12345, 75\\n Nick, 23456, 85\\n Frank, 34567, 97\\n&quot;;\n   String[] csvArray = studentRecord.split(&quot;\\n&quot;);\n   for(String student : csvArray) {\n         String[] studentAttributes = student.split(&quot;, &quot;);\n         String name = studentAttributes[0].trim();\n         String id = studentAttributes[1].trim();\n         Integer grade = Integer.valueOf(studentAttributes[2].trim());\n         if (!studentId.equals(id)) {\n             grade -= reduction;\n         }\n         System.out.println(&quot;Name: &quot; + name + &quot;, ID: &quot; + id + &quot;, Grade: &quot; + grade);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668373190,"creation_date":1668214055,"answer_id":74409552,"question_id":74404785,"body_markdown":"The code seen in [Answer by kladderradatsch][1] looks correct. Here is an alternative using objects, streams, and lambdas, for fun.\r\n\r\nSet the inputs. [Text blocks][2] used for formatting input text.\r\n\r\n```java\r\nString targetId = &quot;23456&quot;;\r\nint reduction = 10;\r\n\r\nString input =\r\n        &quot;&quot;&quot;\r\n        Simon, 12345, 75\r\n        Nick, 23456, 85\r\n        Frank, 34567, 97\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nDefine a [record][3] to hold each student&#39;s info.\r\n\r\n```java\r\nrecord Student( String name , String id , int grade ) { }\r\n```\r\n\r\nProcess the input data to get a list of student objects.\r\n\r\n```\r\nList &lt; Student &gt; students =\r\n        Arrays\r\n                .stream(\r\n                        input.split( &quot;\\n&quot; )\r\n                )\r\n                .map(\r\n                        row -&gt; {\r\n                            String[] fields = row.split( &quot;, &quot; );\r\n                            return new Student(\r\n                                    fields[ 0 ] ,                     // name\r\n                                    fields[ 1 ] ,                     // id\r\n                                    Integer.parseInt( fields[ 2 ] )   // grade\r\n                            );\r\n                        }\r\n                )\r\n                .toList();\r\n```\r\n\r\nProcess that list of student objects, this time replacing each student object with a new student object having a grade reduced except for our one target student ID where the grade remains unmodified. A `?:` ternary statement is used here in lieu of an `if` statement.\r\n\r\n```java\r\nList &lt; Student &gt; studentsRevised =\r\n        students\r\n                .stream()\r\n                .map(\r\n                        student -&gt;\r\n                                student.id.equals( targetId )\r\n                                        ? student\r\n                                        : new Student( student.name , student.id , student.grade - reduction )\r\n                )\r\n                .toList();\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;input = &quot; + input );\r\nSystem.out.println( &quot;students = &quot; + students );\r\nSystem.out.println( &quot;studentsRevised = &quot; + studentsRevised );\r\n```\r\n\r\nWhen run. Notice that Nick keeps his grade while the other two are reduced.\r\n\r\n```none\r\ninput = Simon, 12345, 75\r\nNick, 23456, 85\r\nFrank, 34567, 97\r\n\r\nstudents = [Student[name=Simon, id=12345, grade=75], Student[name=Nick, id=23456, grade=85], Student[name=Frank, id=34567, grade=97]]\r\nstudentsRevised = [Student[name=Simon, id=12345, grade=65], Student[name=Nick, id=23456, grade=85], Student[name=Frank, id=34567, grade=87]]\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74405178/642706\r\n  [2]: https://openjdk.org/jeps/378\r\n  [3]: https://openjdk.org/jeps/395","title":"How to lower numbers in a String","body":"<p>The code seen in <a href=\"https://stackoverflow.com/a/74405178/642706\">Answer by kladderradatsch</a> looks correct. Here is an alternative using objects, streams, and lambdas, for fun.</p>\n<p>Set the inputs. <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">Text blocks</a> used for formatting input text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String targetId = &quot;23456&quot;;\nint reduction = 10;\n\nString input =\n        &quot;&quot;&quot;\n        Simon, 12345, 75\n        Nick, 23456, 85\n        Frank, 34567, 97\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Define a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold each student's info.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Student( String name , String id , int grade ) { }\n</code></pre>\n<p>Process the input data to get a list of student objects.</p>\n<pre><code>List &lt; Student &gt; students =\n        Arrays\n                .stream(\n                        input.split( &quot;\\n&quot; )\n                )\n                .map(\n                        row -&gt; {\n                            String[] fields = row.split( &quot;, &quot; );\n                            return new Student(\n                                    fields[ 0 ] ,                     // name\n                                    fields[ 1 ] ,                     // id\n                                    Integer.parseInt( fields[ 2 ] )   // grade\n                            );\n                        }\n                )\n                .toList();\n</code></pre>\n<p>Process that list of student objects, this time replacing each student object with a new student object having a grade reduced except for our one target student ID where the grade remains unmodified. A <code>?:</code> ternary statement is used here in lieu of an <code>if</code> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Student &gt; studentsRevised =\n        students\n                .stream()\n                .map(\n                        student -&gt;\n                                student.id.equals( targetId )\n                                        ? student\n                                        : new Student( student.name , student.id , student.grade - reduction )\n                )\n                .toList();\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;input = &quot; + input );\nSystem.out.println( &quot;students = &quot; + students );\nSystem.out.println( &quot;studentsRevised = &quot; + studentsRevised );\n</code></pre>\n<p>When run. Notice that Nick keeps his grade while the other two are reduced.</p>\n<pre class=\"lang-none prettyprint-override\"><code>input = Simon, 12345, 75\nNick, 23456, 85\nFrank, 34567, 97\n\nstudents = [Student[name=Simon, id=12345, grade=75], Student[name=Nick, id=23456, grade=85], Student[name=Frank, id=34567, grade=97]]\nstudentsRevised = [Student[name=Simon, id=12345, grade=65], Student[name=Nick, id=23456, grade=85], Student[name=Frank, id=34567, grade=87]]\n</code></pre>\n"}],"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668373190,"creation_date":1668180712,"question_id":74404785,"body_markdown":"I have to write a program that takes a student ID and a number as input and then lowers all student notes by that that number except for one student based on the inputed ID. Here&#39;s what i mean:\r\nString = &quot;Simon, 12345, 75\\n\r\n          Nick, 23456, 85\\n\r\n          Frank, 34567, 97\\n\r\n\r\nthere&#39;s the students&#39; names then their id and then their grade.\r\ni have to grab one ID as input and keep that student&#39;s grade intact but lower all the other grades by the inputed number.\r\n\r\n```\r\nSystem.out.print(&quot;Quel est le matricule de la note &#224; conserver ? &quot;);\r\n\t\t\t\t\tString matricule = Keyboard.readString();\r\n\t\t\t\t\tSystem.out.print(&quot;Combien voulez-vous enlever ? &quot;);\r\n\t\t\t\t\tint baisse = Keyboard.readInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString temporaireD = &quot;&quot;;\r\n\t\t\t\t\tint d&#233;but&#201;l&#232;ve = 0;\r\n\t\t\t\t\tint fin&#201;l&#232;ve = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (d&#233;but&#201;l&#232;ve = 0; d&#233;but&#201;l&#232;ve &lt; notesD&#233;chiffr&#233;es.length(); d&#233;but&#201;l&#232;ve = fin&#201;l&#232;ve + 1){\r\n\t\t\t\t\t\tfin&#201;l&#232;ve = notesD&#233;chiffr&#233;es.indexOf(&#39;\\n&#39;, d&#233;but&#201;l&#232;ve);\r\n\t\t\t\t\t\tString note&#201;l&#232;ve = notesD&#233;chiffr&#233;es.substring(notesD&#233;chiffr&#233;es.lastIndexOf(&quot;, &quot;), fin&#201;l&#232;ve);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (notesD&#233;chiffr&#233;es.indexOf(matricule) == -1){\r\n\t\t\t\t\t\t\tint note = Integer.parseInt(note&#201;l&#232;ve);\r\n\t\t\t\t\t\t\tnote = note - baisse;\r\n\t\t\t\t\t\t\tString noteString = String.valueOf(note);\r\n\t\t\t\t\t\t\tString nouvel&#201;l&#232;ve =  notesD&#233;chiffr&#233;es.substring(d&#233;but&#201;l&#232;ve, fin&#201;l&#232;ve);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tString bon&#201;l&#232;ve = notesD&#233;chiffr&#233;es.substring(d&#233;but&#201;l&#232;ve, fin&#201;l&#232;ve);\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n```\r\n","title":"How to lower numbers in a String","body":"<p>I have to write a program that takes a student ID and a number as input and then lowers all student notes by that that number except for one student based on the inputed ID. Here's what i mean:\nString = &quot;Simon, 12345, 75\\n\nNick, 23456, 85\\n\nFrank, 34567, 97\\n</p>\n<p>there's the students' names then their id and then their grade.\ni have to grab one ID as input and keep that student's grade intact but lower all the other grades by the inputed number.</p>\n<pre><code>System.out.print(&quot;Quel est le matricule de la note Ã  conserver ? &quot;);\n                    String matricule = Keyboard.readString();\n                    System.out.print(&quot;Combien voulez-vous enlever ? &quot;);\n                    int baisse = Keyboard.readInt();\n                    \n                    String temporaireD = &quot;&quot;;\n                    int dÃ©butÃ‰lÃ¨ve = 0;\n                    int finÃ‰lÃ¨ve = 0;\n                    \n                    for (dÃ©butÃ‰lÃ¨ve = 0; dÃ©butÃ‰lÃ¨ve &lt; notesDÃ©chiffrÃ©es.length(); dÃ©butÃ‰lÃ¨ve = finÃ‰lÃ¨ve + 1){\n                        finÃ‰lÃ¨ve = notesDÃ©chiffrÃ©es.indexOf('\\n', dÃ©butÃ‰lÃ¨ve);\n                        String noteÃ‰lÃ¨ve = notesDÃ©chiffrÃ©es.substring(notesDÃ©chiffrÃ©es.lastIndexOf(&quot;, &quot;), finÃ‰lÃ¨ve);\n                        \n                        if (notesDÃ©chiffrÃ©es.indexOf(matricule) == -1){\n                            int note = Integer.parseInt(noteÃ‰lÃ¨ve);\n                            note = note - baisse;\n                            String noteString = String.valueOf(note);\n                            String nouvelÃ‰lÃ¨ve =  notesDÃ©chiffrÃ©es.substring(dÃ©butÃ‰lÃ¨ve, finÃ‰lÃ¨ve);\n                        }\n                        else{\n                            String bonÃ‰lÃ¨ve = notesDÃ©chiffrÃ©es.substring(dÃ©butÃ‰lÃ¨ve, finÃ‰lÃ¨ve);\n                            continue;\n                        }\n                        \n                    }\n</code></pre>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668373134,"creation_date":1668373134,"answer_id":74424720,"question_id":74424585,"body_markdown":"you should name your repo method existsByPersonCpf.\r\n\r\n    @Repository\r\n    public interface DentistRepository extends JpaRepository&lt;Dentist, UUID&gt; {\r\n      boolean existsByCroNumber(String croNumber);\r\n\r\n      boolean existsByPersonCpf(String cpf);\r\n    }","title":"Spring Data JPA - How can I make a existsBy query using an embedded entity?","body":"<p>you should name your repo method existsByPersonCpf.</p>\n<pre><code>@Repository\npublic interface DentistRepository extends JpaRepository&lt;Dentist, UUID&gt; {\n  boolean existsByCroNumber(String croNumber);\n\n  boolean existsByPersonCpf(String cpf);\n}\n</code></pre>\n"}],"owner":{"account_id":22807860,"reputation":158,"user_id":17111090,"display_name":"guilhermxlopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74424720,"answer_count":1,"score":0,"last_activity_date":1668373134,"creation_date":1668371938,"question_id":74424585,"body_markdown":"I&#39;m a beginner with Spring, so I&#39;m sorry if I make some dumb mistake.\r\n\r\n**Person.java**\r\n\r\n    @Embeddable\r\n    @Data\r\n    public class Person {\r\n        @Column(nullable = false, length = 11)\r\n        private String cpf;\r\n    \r\n        @Column(name = &quot;full_name&quot;, nullable = false, length = 60)\r\n        private String fullName;\r\n    \r\n        @Column(nullable = false)\r\n        private String birthdate;\r\n    \r\n        @Column(name = &quot;email&quot;, nullable = true, length = 30)\r\n        private String emailAddress;\r\n    \r\n        @Column(name = &quot;cellphone_number&quot;, nullable = true, length = 11)\r\n        private String cellphoneNumber;\r\n    \r\n        @Embedded\r\n        private Address address;\r\n    \r\n    }\r\n\r\n\r\n**Dentist.java**\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;tb_dentists&quot;)\r\n    public class Dentist implements Serializable {\r\n        @Serial\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;dentist_id&quot;)\r\n        private UUID id;\r\n    \r\n        @Column\r\n        private LocalDateTime registrationDate;\r\n    \r\n        @Column(nullable = false, unique = true, length = 6)\r\n        private String croNumber;\r\n    \r\n        @Embedded\r\n        private Person person;\r\n    \r\n    }\r\n\r\n**DentistController.java**\r\n\r\n     @PostMapping\r\n        public ResponseEntity&lt;Object&gt; saveDentist(@RequestBody @Valid Dentist dentistDto, Person person) {\r\n    \r\n            if(dentistService.existsByCroNumber(dentistDto.getCroNumber())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;CONFLICT: CRO number is already in use!&quot;);\r\n            }\r\n    \r\n            if(dentistService.existsByPerson_Cpf(person.getCpf())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;CONFLICT: CPF number is already in use!&quot;);\r\n            }\r\n    \r\n            var dentistModel = new Dentist();\r\n            BeanUtils.copyProperties(dentistDto, dentistModel);\r\n            dentistModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(dentistService.save(dentistModel));\r\n        }\r\n\r\n**DentistService.java**\r\n\r\n        public boolean existsByCroNumber(String croNumber) {\r\n        return dentistRepository.existsByCroNumber((croNumber));\r\n    }\r\n    \r\n        public boolean existsByPerson_Cpf(String cpf) {\r\n            return dentistRepository.existsByCpf((cpf));\r\n        }\r\n    }\r\n\r\n\r\n**DentistRepository.java**\r\n\r\n    @Repository\r\n    public interface DentistRepository extends JpaRepository&lt;Dentist, UUID&gt; {\r\n        boolean existsByCroNumber(String croNumber);\r\n    \r\n        boolean existsByCpf(String cpf);\r\n    }\r\n\r\nI&#39;m trying to filter the query/code using existsBy and the CPF column of Person. Person is embedded in the Dentist entity. **How can I can properly implement this code? I&#39;m trying this as posted below but I&#39;m getting anywhere.**\r\n\r\nSpring is returning this error for me\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.data.mapping.PropertyReferenceException: No\r\n&gt; property &#39;cpf&#39; found for type &#39;Dentist&#39;\r\n\r\n\r\n*I posted just some part of my code, the query existsByCroNumber is working properly and the rest of the API is good too.*","title":"Spring Data JPA - How can I make a existsBy query using an embedded entity?","body":"<p>I'm a beginner with Spring, so I'm sorry if I make some dumb mistake.</p>\n<p><strong>Person.java</strong></p>\n<pre><code>@Embeddable\n@Data\npublic class Person {\n    @Column(nullable = false, length = 11)\n    private String cpf;\n\n    @Column(name = &quot;full_name&quot;, nullable = false, length = 60)\n    private String fullName;\n\n    @Column(nullable = false)\n    private String birthdate;\n\n    @Column(name = &quot;email&quot;, nullable = true, length = 30)\n    private String emailAddress;\n\n    @Column(name = &quot;cellphone_number&quot;, nullable = true, length = 11)\n    private String cellphoneNumber;\n\n    @Embedded\n    private Address address;\n\n}\n</code></pre>\n<p><strong>Dentist.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;tb_dentists&quot;)\npublic class Dentist implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;dentist_id&quot;)\n    private UUID id;\n\n    @Column\n    private LocalDateTime registrationDate;\n\n    @Column(nullable = false, unique = true, length = 6)\n    private String croNumber;\n\n    @Embedded\n    private Person person;\n\n}\n</code></pre>\n<p><strong>DentistController.java</strong></p>\n<pre><code> @PostMapping\n    public ResponseEntity&lt;Object&gt; saveDentist(@RequestBody @Valid Dentist dentistDto, Person person) {\n\n        if(dentistService.existsByCroNumber(dentistDto.getCroNumber())) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;CONFLICT: CRO number is already in use!&quot;);\n        }\n\n        if(dentistService.existsByPerson_Cpf(person.getCpf())) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;CONFLICT: CPF number is already in use!&quot;);\n        }\n\n        var dentistModel = new Dentist();\n        BeanUtils.copyProperties(dentistDto, dentistModel);\n        dentistModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        return ResponseEntity.status(HttpStatus.CREATED).body(dentistService.save(dentistModel));\n    }\n</code></pre>\n<p><strong>DentistService.java</strong></p>\n<pre><code>    public boolean existsByCroNumber(String croNumber) {\n    return dentistRepository.existsByCroNumber((croNumber));\n}\n\n    public boolean existsByPerson_Cpf(String cpf) {\n        return dentistRepository.existsByCpf((cpf));\n    }\n}\n</code></pre>\n<p><strong>DentistRepository.java</strong></p>\n<pre><code>@Repository\npublic interface DentistRepository extends JpaRepository&lt;Dentist, UUID&gt; {\n    boolean existsByCroNumber(String croNumber);\n\n    boolean existsByCpf(String cpf);\n}\n</code></pre>\n<p>I'm trying to filter the query/code using existsBy and the CPF column of Person. Person is embedded in the Dentist entity. <strong>How can I can properly implement this code? I'm trying this as posted below but I'm getting anywhere.</strong></p>\n<p>Spring is returning this error for me</p>\n<blockquote>\n<p>Caused by:\norg.springframework.data.mapping.PropertyReferenceException: No\nproperty 'cpf' found for type 'Dentist'</p>\n</blockquote>\n<p><em>I posted just some part of my code, the query existsByCroNumber is working properly and the rest of the API is good too.</em></p>\n"},{"tags":["java","switch-statement","do-while"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668371812,"post_id":74424527,"comment_id":131383471,"body_markdown":"You need to call in class `Dog`&#39;s constructor first its superclass constructor via `super(name, age breed, behavior);`. So it makes no sense that you have the same attributes in class `Dog` as well.","body":"You need to call in class <code>Dog</code>&#39;s constructor first its superclass constructor via <code>super(name, age breed, behavior);</code>. So it makes no sense that you have the same attributes in class <code>Dog</code> as well."},{"owner":{"account_id":26675869,"reputation":1,"user_id":20286606,"display_name":"Elexis"},"score":0,"creation_date":1668372632,"post_id":74424527,"comment_id":131383663,"body_markdown":"I didn&#39;t even realize I did that! I removed the animal file and fixed the dog class so that error is now gone. The only error that remains is the while loop","body":"I didn&#39;t even realize I did that! I removed the animal file and fixed the dog class so that error is now gone. The only error that remains is the while loop"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1668373142,"post_id":74424527,"comment_id":131383770,"body_markdown":"You declared the local variable `choice` within the body of the do-while-loop. But you&#39;re using it as a condition of the do-while-loop. The variable is local to the inner scope of the loop. It is not available outside the loop. If you want to use at is, you need to declare the variable outside the loop.","body":"You declared the local variable <code>choice</code> within the body of the do-while-loop. But you&#39;re using it as a condition of the do-while-loop. The variable is local to the inner scope of the loop. It is not available outside the loop. If you want to use at is, you need to declare the variable outside the loop."},{"owner":{"account_id":26675869,"reputation":1,"user_id":20286606,"display_name":"Elexis"},"score":0,"creation_date":1668445303,"post_id":74424527,"comment_id":131401259,"body_markdown":"@LuCio So i tried to declare it before and just now, i keep getting this error. Is there another way for me to declare it without reaching this error?Main.java:16: error: variable choice is already defined in method main(String[])\n      int choice = input.nextInt();\n          ^","body":"@LuCio So i tried to declare it before and just now, i keep getting this error. Is there another way for me to declare it without reaching this error?Main.java:16: error: variable choice is already defined in method main(String[])       int choice = input.nextInt();           ^"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1668453231,"post_id":74424527,"comment_id":131403849,"body_markdown":"@Elexis: The error says you have declared the variable twice. I suppose you left the declaration within the loop and added the new declaration in the main method. Change the declaration in the loop to an assignment: `int choice = input.nextInt();` becomes `choice = input.nextInt();` Thus you have the variable declared only once. In general: you can declare a variable only once, but you can assign a value to it multiple times.","body":"@Elexis: The error says you have declared the variable twice. I suppose you left the declaration within the loop and added the new declaration in the main method. Change the declaration in the loop to an assignment: <code>int choice = input.nextInt();</code> becomes <code>choice = input.nextInt();</code> Thus you have the variable declared only once. In general: you can declare a variable only once, but you can assign a value to it multiple times."},{"owner":{"account_id":26675869,"reputation":1,"user_id":20286606,"display_name":"Elexis"},"score":0,"creation_date":1668520275,"post_id":74424527,"comment_id":131421163,"body_markdown":"Okay so I have to declare input.nextInt(); as well, do you know how I&#39;d be able to declare that part? @LuCio","body":"Okay so I have to declare input.nextInt(); as well, do you know how I&#39;d be able to declare that part? @LuCio"}],"answers":[{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668372748,"creation_date":1668372748,"answer_id":74424673,"question_id":74424527,"body_markdown":"Create the class `Dog` like this:\r\n\r\n```\r\npublic class Dog extends Animal{\r\n   /* Define attributes here only dogs have in comparison to the \r\n      attributes all animals have in common. */\r\n\r\n  public Dog(String name, Integer age, String breed, String behavior) {\r\n        super(name, age, breed, behavior);\r\n  }\r\n}\r\n```","title":"Errors when trying a do while loop for a switch statement","body":"<p>Create the class <code>Dog</code> like this:</p>\n<pre><code>public class Dog extends Animal{\n   /* Define attributes here only dogs have in comparison to the \n      attributes all animals have in common. */\n\n  public Dog(String name, Integer age, String breed, String behavior) {\n        super(name, age, breed, behavior);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26675869,"reputation":1,"user_id":20286606,"display_name":"Elexis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668372748,"creation_date":1668371433,"question_id":74424527,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        AdoptionClient client = new AdoptionClient();\r\n        client.setName(&quot;Johnny Depp&quot;);\r\n        System.out.println(client.getName());\r\n\r\n        do {\r\n      System.out.println(&quot;\\nWhat size dog do you want to get!:\\n&quot; + &quot;1) small\\n&quot; + &quot;2) medium\\n&quot; + &quot;3) large\\n&quot; + &quot;0) quit\\n&quot;\r\n          + &quot;and any other number for non dog options!&quot;);\r\n\r\n      Scanner input = new Scanner(System.in);\r\n\r\n      int choice = input.nextInt();\r\n      switch (choice) {\r\n        case 1:\r\n          System.out.println(&quot;We have one small breeded dog. A Chihuahua is up for adoption!&quot;);\r\n          System.out.println();\r\n          System.out.println(&quot;Here is more information!&quot;);\r\n          Chihuahua goliath = new Chihuahua(&quot;Goliath&quot;, 4, &quot;Chihuahua&quot;, &quot;aggressive&quot;);\r\n          goliath.printDogInfo();\r\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\r\n          break;\r\n\r\n        case 2:\r\n          System.out.println(&quot;We have one medium breeded dog. A Labrador is up for adoption!&quot;);\r\n          System.out.println();\r\n          System.out.println(&quot;Here is more information!&quot;);\r\n          Labrador hendrix = new Labrador(&quot;Hendrix&quot;, 8, &quot;Labrador&quot;, &quot;not aggressive&quot;);\r\n          hendrix.printDogInfo();\r\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\r\n          break;\r\n\r\n        case 3:\r\n          System.out.println(&quot;We have one large breeded dog. A Great dane is up for adoption!&quot;);\r\n          System.out.println();\r\n          System.out.println(&quot;Here is more information!&quot;);\r\n          Greatdane toodles = new Greatdane(&quot;Toodles&quot;, 2, &quot;Greatdane&quot;, &quot;not aggressive&quot;);\r\n          toodles.printDogInfo();\r\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\r\n          break;\r\n\r\n        default:\r\n          System.out.println(&quot;We are only giving dogs up for adoption today!&quot;);\r\n      }\r\n} while (choice!= 0);\r\nSystem.out.println(&quot;Goodbye\\n&quot;); \r\n//Goodbye message so you know your program has ended. This is not necessary.\r\n    }\r\n}\r\n```\r\nI am trying to create a do while loop for the end of my switch statement to loop back to beginning depending on user input. If the user inputs a 5 for yes then I wanted a simple goodbye message. If it was any number greater than I wanted it to loop back to the beginning of the switch. I am confused on how to implement that correctly.\r\n\r\nI have tried the do while loop hoping it would allow my program to run compared to without and I continue getting errors. I have an error in a class as well as now I am having an error in the while line at the end which isn&#39;t allowing the program to run at all.\r\n\r\n\r\n```\r\nDog.java:10: error: constructor Animal in class Animal cannot be applied to given types;\r\n  public Dog(String name, Integer age, String breed, String temperament) {\r\n                                                                         ^\r\n  required: String,Integer,String,String\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\nMain.java:47: error: cannot find symbol\r\n} while (choice!= 0);\r\n         ^\r\n  symbol:   variable choice\r\n  location: class Main\r\n2 errors\r\n```\r\nThis is my animal class\r\n\r\n```\r\npublic class Animal {\r\n\r\n    public Animal(String name, Integer age, String breed, String behavior) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.breed = breed;\r\n        this.behavior = behavior;\r\n    }\r\n    private String name;\r\n    private Integer age;\r\n    private String breed;\r\n    private String behavior;\r\n\r\n    public void printDogInfo() {\r\n        System.out.printf(&quot;Name: &quot; + name);\r\n        System.out.printf(&quot;\\nage: &quot; + age);\r\n        System.out.printf(&quot;\\nbreed: &quot; + breed);\r\n        System.out.printf(&quot;\\nbehavior: &quot; + behavior);\r\n    }\r\n}\r\n```\r\nThis is my Dog\r\n```\r\npublic class Dog extends Animal{\r\n // Fields for Dog class\r\n  public String name;\r\n  public int age;\r\n  public String breed;\r\n  public String behavior;\r\n  \r\n\r\n  // Parameterized Constructor for Dog class\r\n  public Dog(String name, Integer age, String breed, String behavior) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.breed = breed;\r\n        this.behavior = behavior;\r\n    }\r\n\r\n  }\r\n```\r\nclass\r\n","title":"Errors when trying a do while loop for a switch statement","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        AdoptionClient client = new AdoptionClient();\n        client.setName(&quot;Johnny Depp&quot;);\n        System.out.println(client.getName());\n\n        do {\n      System.out.println(&quot;\\nWhat size dog do you want to get!:\\n&quot; + &quot;1) small\\n&quot; + &quot;2) medium\\n&quot; + &quot;3) large\\n&quot; + &quot;0) quit\\n&quot;\n          + &quot;and any other number for non dog options!&quot;);\n\n      Scanner input = new Scanner(System.in);\n\n      int choice = input.nextInt();\n      switch (choice) {\n        case 1:\n          System.out.println(&quot;We have one small breeded dog. A Chihuahua is up for adoption!&quot;);\n          System.out.println();\n          System.out.println(&quot;Here is more information!&quot;);\n          Chihuahua goliath = new Chihuahua(&quot;Goliath&quot;, 4, &quot;Chihuahua&quot;, &quot;aggressive&quot;);\n          goliath.printDogInfo();\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\n          break;\n\n        case 2:\n          System.out.println(&quot;We have one medium breeded dog. A Labrador is up for adoption!&quot;);\n          System.out.println();\n          System.out.println(&quot;Here is more information!&quot;);\n          Labrador hendrix = new Labrador(&quot;Hendrix&quot;, 8, &quot;Labrador&quot;, &quot;not aggressive&quot;);\n          hendrix.printDogInfo();\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\n          break;\n\n        case 3:\n          System.out.println(&quot;We have one large breeded dog. A Great dane is up for adoption!&quot;);\n          System.out.println();\n          System.out.println(&quot;Here is more information!&quot;);\n          Greatdane toodles = new Greatdane(&quot;Toodles&quot;, 2, &quot;Greatdane&quot;, &quot;not aggressive&quot;);\n          toodles.printDogInfo();\n          System.out.println(&quot;To take me home press 5, or 6 or higher for no!&quot;);\n          break;\n\n        default:\n          System.out.println(&quot;We are only giving dogs up for adoption today!&quot;);\n      }\n} while (choice!= 0);\nSystem.out.println(&quot;Goodbye\\n&quot;); \n//Goodbye message so you know your program has ended. This is not necessary.\n    }\n}\n</code></pre>\n<p>I am trying to create a do while loop for the end of my switch statement to loop back to beginning depending on user input. If the user inputs a 5 for yes then I wanted a simple goodbye message. If it was any number greater than I wanted it to loop back to the beginning of the switch. I am confused on how to implement that correctly.</p>\n<p>I have tried the do while loop hoping it would allow my program to run compared to without and I continue getting errors. I have an error in a class as well as now I am having an error in the while line at the end which isn't allowing the program to run at all.</p>\n<pre><code>Dog.java:10: error: constructor Animal in class Animal cannot be applied to given types;\n  public Dog(String name, Integer age, String breed, String temperament) {\n                                                                         ^\n  required: String,Integer,String,String\n  found: no arguments\n  reason: actual and formal argument lists differ in length\nMain.java:47: error: cannot find symbol\n} while (choice!= 0);\n         ^\n  symbol:   variable choice\n  location: class Main\n2 errors\n</code></pre>\n<p>This is my animal class</p>\n<pre><code>public class Animal {\n\n    public Animal(String name, Integer age, String breed, String behavior) {\n        this.name = name;\n        this.age = age;\n        this.breed = breed;\n        this.behavior = behavior;\n    }\n    private String name;\n    private Integer age;\n    private String breed;\n    private String behavior;\n\n    public void printDogInfo() {\n        System.out.printf(&quot;Name: &quot; + name);\n        System.out.printf(&quot;\\nage: &quot; + age);\n        System.out.printf(&quot;\\nbreed: &quot; + breed);\n        System.out.printf(&quot;\\nbehavior: &quot; + behavior);\n    }\n}\n</code></pre>\n<p>This is my Dog</p>\n<pre><code>public class Dog extends Animal{\n // Fields for Dog class\n  public String name;\n  public int age;\n  public String breed;\n  public String behavior;\n  \n\n  // Parameterized Constructor for Dog class\n  public Dog(String name, Integer age, String breed, String behavior) {\n        this.name = name;\n        this.age = age;\n        this.breed = breed;\n        this.behavior = behavior;\n    }\n\n  }\n</code></pre>\n<p>class</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12559296,"reputation":1753,"user_id":9137714,"display_name":"Maulik Hirani"},"score":0,"creation_date":1668935430,"post_id":74341700,"comment_id":131523162,"body_markdown":"On which phone did you test this?","body":"On which phone did you test this?"},{"owner":{"account_id":4845394,"reputation":347,"user_id":3909152,"display_name":"The Dude"},"score":0,"creation_date":1668976719,"post_id":74341700,"comment_id":131531429,"body_markdown":"It maybe a problem with your network request.\nTry to run a simple task to see if that result is the same.","body":"It maybe a problem with your network request. Try to run a simple task to see if that result is the same."}],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667799509,"creation_date":1667799509,"answer_id":74342366,"question_id":74341700,"body_markdown":"&gt; WorkManager adheres to power-saving features and best practices like Doze mode, so you don&#39;t have to worry about it.\r\n\r\nStarting from Android 6, Doze mode was introduced to save battery, which defers the background tasks until the next maintenance window or device being plugged or being used. \r\n\r\nFollow [this](https://developer.android.com/training/monitoring-device-state/doze-standby) to understand Doze mode.\r\n\r\n","title":"Android PerodicWorkRequest stops running after a while","body":"<blockquote>\n<p>WorkManager adheres to power-saving features and best practices like Doze mode, so you don't have to worry about it.</p>\n</blockquote>\n<p>Starting from Android 6, Doze mode was introduced to save battery, which defers the background tasks until the next maintenance window or device being plugged or being used.</p>\n<p>Follow <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby\" rel=\"nofollow noreferrer\">this</a> to understand Doze mode.</p>\n"}],"owner":{"account_id":5711299,"reputation":128,"user_id":4617857,"accept_rate":80,"display_name":"Gradyn Wursten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668371727,"creation_date":1667791837,"question_id":74341700,"body_markdown":"I have created an Android app with a Worker that reports the battery level of your phone to a remote server. The worker is registered in the main activities `OnCreate` like so\r\n\r\n```java\r\nPeriodicWorkRequest pwr = new PeriodicWorkRequest.Builder(BatteryReportWorker.class,\r\n        15, TimeUnit.MINUTES).setConstraints(\r\n                new Constraints.Builder()\r\n                        .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                        .build())\r\n        .build();\r\nworkManager.enqueueUniquePeriodicWork(&quot;BatteryReportWorker&quot;, ExistingPeriodicWorkPolicy.REPLACE, pwr);\r\n```\r\n\r\nThis works great for a little while, but at some point within less then a day the Worker stops sending reports to the backend. Simply opening the app and not doing anything instantly revives the worker and another report is sent instantly, which makes me think Android is just not running it anymore after a while. Why might Android stop running a periodic work request after a while? How would I even try and find out why it the work manager decided to stop running the worker? \r\n\r\n\r\nA couple things I checked already: \r\n* This is not an issue with Samsungs battery sleeping as it also happens on Google Pixel phones\r\n* I&#39;m also confident it is not the app pausing feature, since it takes less then a day for the app to stop sending reports","title":"Android PerodicWorkRequest stops running after a while","body":"<p>I have created an Android app with a Worker that reports the battery level of your phone to a remote server. The worker is registered in the main activities <code>OnCreate</code> like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>PeriodicWorkRequest pwr = new PeriodicWorkRequest.Builder(BatteryReportWorker.class,\n        15, TimeUnit.MINUTES).setConstraints(\n                new Constraints.Builder()\n                        .setRequiredNetworkType(NetworkType.CONNECTED)\n                        .build())\n        .build();\nworkManager.enqueueUniquePeriodicWork(&quot;BatteryReportWorker&quot;, ExistingPeriodicWorkPolicy.REPLACE, pwr);\n</code></pre>\n<p>This works great for a little while, but at some point within less then a day the Worker stops sending reports to the backend. Simply opening the app and not doing anything instantly revives the worker and another report is sent instantly, which makes me think Android is just not running it anymore after a while. Why might Android stop running a periodic work request after a while? How would I even try and find out why it the work manager decided to stop running the worker?</p>\n<p>A couple things I checked already:</p>\n<ul>\n<li>This is not an issue with Samsungs battery sleeping as it also happens on Google Pixel phones</li>\n<li>I'm also confident it is not the app pausing feature, since it takes less then a day for the app to stop sending reports</li>\n</ul>\n"},{"tags":["java","jsf","jakarta-ee","payara-micro"],"answers":[{"tags":[],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668371441,"creation_date":1668371441,"answer_id":74424531,"question_id":74400640,"body_markdown":"As of November 2022, Primefaces requires a &quot;jakarta&quot; classifier to make sure it pulls Jakarta dependencies, like so:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n        &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n        &lt;version&gt;12.0.0&lt;/version&gt;\r\n\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n","title":"Upgrading to JakartaEE 10 - can&#39;t compile because &quot;cannot access javax.faces.event.FacesEvent&quot;","body":"<p>As of November 2022, Primefaces requires a &quot;jakarta&quot; classifier to make sure it pulls Jakarta dependencies, like so:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n    &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n    &lt;version&gt;12.0.0&lt;/version&gt;\n    &lt;classifier&gt;jakarta&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74424531,"answer_count":1,"score":0,"last_activity_date":1668371441,"creation_date":1668160009,"question_id":74400640,"body_markdown":"My project is this web app: https://nocodefunctions.com, [open sourced here][1].\r\n\r\nIt runs on Payara Community Edition: Payara Micro 5.2022.4\r\n\r\nI am moving it to JakartaEE 10 and JSF 3. JakartaEE 10 and Payara 6 (which runs on it) are so recent that NetBeans 15 [does not manage them yet][2].\r\n\r\nSo I try to develop without NetBeans, directly from the CLI, which is something I am unfamiliar with. I think I can:\r\n\r\n1. compile the project with maven (mvn clean install), which creates an single jar of the app\r\n2. then deploy the from the command line to the payara server\r\n\r\nI am stuck at step 1:\r\n\r\n     [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project jsf-app: Compilation failure:\r\n    Compilation failure:\r\n    [ERROR] /C:/Users/levallois/open/no code app/webapp/jsf-app/src/main/java/net/clementlevallois/nocodeapp/web/front/importdata/DataImportBean.java:[286,21] cannot access javax.faces.event.FacesEvent\r\n    [ERROR]   class file for javax.faces.event.FacesEvent not found\r\n    [ERROR] /C:/Users/levallois/open/no code app/webapp/jsf-app/src/main/java/net/clementlevallois/nocodeapp/web/front/functions/TopicsBean.java:[405,37] cannot access javax.faces.event.AjaxBehaviorEvent\r\n    [ERROR]   class file for javax.faces.event.AjaxBehaviorEvent not found\r\n\r\nI have found a couple of questions on SO that point to the same error, with answers by @BalusC, but I am still stuck.\r\n\r\n- the `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;net.clementlevallois.nocodeapp.webfront&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsf-app&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;Nocode webapp - jsf app&lt;/name&gt;\r\n        \r\n        &lt;properties&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\r\n            &lt;java.version&gt;19&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.1&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.faces --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.eclipse.parsson/parsson --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parsson&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--5Mb--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;11.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--809kb--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.omnifaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;omnifaces&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--8kb--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n                    &lt;release&gt;19&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                &lt;silent&gt;true&lt;/silent&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                                        &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;!--    &lt;repositories&gt;\r\n            &lt;repository&gt;  \r\n                &lt;id&gt;prime-repo&lt;/id&gt;  \r\n                &lt;name&gt;PrimeFaces Maven Repository&lt;/name&gt;  \r\n                &lt;url&gt;http://repository.primefaces.org&lt;/url&gt;  \r\n                &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;--&gt;\r\n    &lt;/project&gt;\r\n\r\nThe relevant part of the `faces-config.xml`:\r\n\r\n    &lt;faces-config\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n            http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_3_0.xsd&quot;\r\n        version=&quot;2.3&quot;&gt;\r\n    &lt;/faces-config&gt;\r\n\r\n  [1]: https://github.com/seinecle/nocodefunctions\r\n  [2]: https://stackoverflow.com/questions/74167393/netbeans-15-and-payara-6-2022\r\n\r\n\r\n","title":"Upgrading to JakartaEE 10 - can&#39;t compile because &quot;cannot access javax.faces.event.FacesEvent&quot;","body":"<p>My project is this web app: <a href=\"https://nocodefunctions.com\" rel=\"nofollow noreferrer\">https://nocodefunctions.com</a>, <a href=\"https://github.com/seinecle/nocodefunctions\" rel=\"nofollow noreferrer\">open sourced here</a>.</p>\n<p>It runs on Payara Community Edition: Payara Micro 5.2022.4</p>\n<p>I am moving it to JakartaEE 10 and JSF 3. JakartaEE 10 and Payara 6 (which runs on it) are so recent that NetBeans 15 <a href=\"https://stackoverflow.com/questions/74167393/netbeans-15-and-payara-6-2022\">does not manage them yet</a>.</p>\n<p>So I try to develop without NetBeans, directly from the CLI, which is something I am unfamiliar with. I think I can:</p>\n<ol>\n<li>compile the project with maven (mvn clean install), which creates an single jar of the app</li>\n<li>then deploy the from the command line to the payara server</li>\n</ol>\n<p>I am stuck at step 1:</p>\n<pre><code> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project jsf-app: Compilation failure:\nCompilation failure:\n[ERROR] /C:/Users/levallois/open/no code app/webapp/jsf-app/src/main/java/net/clementlevallois/nocodeapp/web/front/importdata/DataImportBean.java:[286,21] cannot access javax.faces.event.FacesEvent\n[ERROR]   class file for javax.faces.event.FacesEvent not found\n[ERROR] /C:/Users/levallois/open/no code app/webapp/jsf-app/src/main/java/net/clementlevallois/nocodeapp/web/front/functions/TopicsBean.java:[405,37] cannot access javax.faces.event.AjaxBehaviorEvent\n[ERROR]   class file for javax.faces.event.AjaxBehaviorEvent not found\n</code></pre>\n<p>I have found a couple of questions on SO that point to the same error, with answers by @BalusC, but I am still stuck.</p>\n<ul>\n<li><p>the <code>pom.xml</code>:</p>\n  \n<p>\n4.0.0</p>\n<pre><code>  &lt;groupId&gt;net.clementlevallois.nocodeapp.webfront&lt;/groupId&gt;\n  &lt;artifactId&gt;jsf-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;Nocode webapp - jsf app&lt;/name&gt;\n\n  &lt;properties&gt;\n      &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n      &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\n      &lt;java.version&gt;19&lt;/java.version&gt;\n      &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n          &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n          &lt;version&gt;2.1.1&lt;/version&gt;\n          &lt;type&gt;jar&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n          &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;type&gt;jar&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.faces --&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n          &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n          &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.eclipse.parsson/parsson --&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\n          &lt;artifactId&gt;parsson&lt;/artifactId&gt;\n          &lt;version&gt;1.1.1&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\n          &lt;version&gt;2.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!--5Mb--&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n          &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n          &lt;version&gt;11.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!--809kb--&gt;\n</code></pre>\n  \n<pre><code>      &lt;dependency&gt;\n          &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n          &lt;version&gt;1.4&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.omnifaces&lt;/groupId&gt;\n          &lt;artifactId&gt;omnifaces&lt;/artifactId&gt;\n          &lt;version&gt;4.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!--8kb--&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n          &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n          &lt;version&gt;${jakartaee}&lt;/version&gt;\n          &lt;type&gt;jar&lt;/type&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n      &lt;build&gt;\n      &lt;resources&gt;\n          &lt;resource&gt;\n              &lt;directory&gt;src/main/java&lt;/directory&gt;\n              &lt;excludes&gt;\n                  &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n              &lt;/excludes&gt;\n          &lt;/resource&gt;\n      &lt;/resources&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.10.1&lt;/version&gt;\n              &lt;configuration&gt;\n              &lt;release&gt;19&lt;/release&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.3.2&lt;/version&gt;\n              &lt;configuration&gt;\n                  &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n              &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.3.0&lt;/version&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;phase&gt;validate&lt;/phase&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;copy&lt;/goal&gt;\n                      &lt;/goals&gt;\n                      &lt;configuration&gt;\n                          &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                          &lt;silent&gt;true&lt;/silent&gt;\n                          &lt;artifactItems&gt;\n                              &lt;artifactItem&gt;\n                                  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                                  &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                  &lt;type&gt;jar&lt;/type&gt;\n                              &lt;/artifactItem&gt;\n                          &lt;/artifactItems&gt;\n                      &lt;/configuration&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;!--    &lt;repositories&gt;\n      &lt;repository&gt;  \n          &lt;id&gt;prime-repo&lt;/id&gt;  \n          &lt;name&gt;PrimeFaces Maven Repository&lt;/name&gt;  \n          &lt;url&gt;http://repository.primefaces.org&lt;/url&gt;  \n          &lt;layout&gt;default&lt;/layout&gt;\n      &lt;/repository&gt;\n  &lt;/repositories&gt;--&gt;\n</code></pre>\n  \n</li>\n</ul>\n<p>The relevant part of the <code>faces-config.xml</code>:</p>\n<pre><code>&lt;faces-config\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n        http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_3_0.xsd&quot;\n    version=&quot;2.3&quot;&gt;\n&lt;/faces-config&gt;\n</code></pre>\n"},{"tags":["java","class","cmd","package","javac"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1376020282,"post_id":18139756,"comment_id":26566532,"body_markdown":"Where does `HelloWord` live?  Does it live in the `com/` directory?","body":"Where does <code>HelloWord</code> live?  Does it live in the <code>com&#47;</code> directory?"},{"owner":{"account_id":1570100,"reputation":1551,"user_id":1457980,"accept_rate":80,"display_name":"ihsan kocak"},"score":0,"creation_date":1376020526,"post_id":18139756,"comment_id":26566569,"body_markdown":"I think you do not have the folder &quot;com&quot;.","body":"I think you do not have the folder &quot;com&quot;."},{"owner":{"display_name":"user2666594"},"score":0,"creation_date":1376020557,"post_id":18139756,"comment_id":26566575,"body_markdown":"It lives in a directory created by me C:\\java in which are located HelloWorld.java and HelloWorld.class","body":"It lives in a directory created by me C:\\java in which are located HelloWorld.java and HelloWorld.class"},{"owner":{"display_name":"user2666594"},"score":0,"creation_date":1376020632,"post_id":18139756,"comment_id":26566593,"body_markdown":"Let me try renaming the directory to the package name and see what happens","body":"Let me try renaming the directory to the package name and see what happens"},{"owner":{"display_name":"user2666594"},"score":0,"creation_date":1376021376,"post_id":18139756,"comment_id":26566704,"body_markdown":"The problem is now resolved. Turns out that I was using the java command from within the package folder and I had to cd backwards for it to work.","body":"The problem is now resolved. Turns out that I was using the java command from within the package folder and I had to cd backwards for it to work."}],"answers":[{"tags":[],"owner":{"account_id":3143987,"reputation":2264,"user_id":2658854,"display_name":"sgbj"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1544548829,"creation_date":1376020482,"answer_id":18139799,"question_id":18139756,"body_markdown":"Suppose you did `cd C:/projects` and `HelloWorld.class` is in `C:/projects/com`, then just type:\r\n\r\n    java com.HelloWorld","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Suppose you did <code>cd C:/projects</code> and <code>HelloWorld.class</code> is in <code>C:/projects/com</code>, then just type:</p>\n\n<pre><code>java com.HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1446596920,"creation_date":1376020491,"answer_id":18139800,"question_id":18139756,"body_markdown":"Packages are directly related to the expected directory location of the file.\r\n\r\nThat is, if you have a source file with the package directive of `com`, it is expected that the file will live in the `com` directory.\r\n\r\nIn your `HelloWorld` example, it would be expected that the `HelloWorld.java` file would be stored in the `com` directory, like `com\\HelloWorld.java`\r\n\r\nWhen you compile the file, it will create a class file called `HelloWorld.class` in the `com` directory, like `com\\HelloWorld.class`\r\n\r\nThis way, when Java goes looking for the `com.HelloWorld` class, it would actually be searching it&#39;s class path and appending `com\\HelloWorld.class` to it until it finds your class file or runs out of class path\r\n\r\n**Example**\r\n\r\nSo, I copied your `HelloWorld.java` (with package) example to `C:\\java\\com\\HelloWord.java`\r\n\r\nFrom the command line, I changed to the `C:\\java` directory...\r\n\r\n    C:\\java&gt;dir com\r\n     Volume in drive C is OS\r\n     Volume Serial Number is ####-####\r\n\r\n     Directory of C:\\java\\com\r\n\r\n    09/08/2013  01:55 PM    &lt;DIR&gt;          .\r\n    09/08/2013  01:55 PM    &lt;DIR&gt;          ..\r\n    09/08/2013  01:55 PM               135 HelloWorld.java\r\n\r\nThen I compiled the `HelloWorld.java`\r\n\r\n    C:\\java&gt;javac com\\HelloWorld.java\r\n\r\nThen I ran it...\r\n\r\n    C:\\java&gt;java com.HelloWorld\r\n    Hello World!\r\n\r\n-----\r\n\r\nYou might like to have a read through [Packages](http://docs.oracle.com/javase/tutorial/java/package/packages.html) tutorial","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Packages are directly related to the expected directory location of the file.</p>\n\n<p>That is, if you have a source file with the package directive of <code>com</code>, it is expected that the file will live in the <code>com</code> directory.</p>\n\n<p>In your <code>HelloWorld</code> example, it would be expected that the <code>HelloWorld.java</code> file would be stored in the <code>com</code> directory, like <code>com\\HelloWorld.java</code></p>\n\n<p>When you compile the file, it will create a class file called <code>HelloWorld.class</code> in the <code>com</code> directory, like <code>com\\HelloWorld.class</code></p>\n\n<p>This way, when Java goes looking for the <code>com.HelloWorld</code> class, it would actually be searching it's class path and appending <code>com\\HelloWorld.class</code> to it until it finds your class file or runs out of class path</p>\n\n<p><strong>Example</strong></p>\n\n<p>So, I copied your <code>HelloWorld.java</code> (with package) example to <code>C:\\java\\com\\HelloWord.java</code></p>\n\n<p>From the command line, I changed to the <code>C:\\java</code> directory...</p>\n\n<pre><code>C:\\java&gt;dir com\n Volume in drive C is OS\n Volume Serial Number is ####-####\n\n Directory of C:\\java\\com\n\n09/08/2013  01:55 PM    &lt;DIR&gt;          .\n09/08/2013  01:55 PM    &lt;DIR&gt;          ..\n09/08/2013  01:55 PM               135 HelloWorld.java\n</code></pre>\n\n<p>Then I compiled the <code>HelloWorld.java</code></p>\n\n<pre><code>C:\\java&gt;javac com\\HelloWorld.java\n</code></pre>\n\n<p>Then I ran it...</p>\n\n<pre><code>C:\\java&gt;java com.HelloWorld\nHello World!\n</code></pre>\n\n<hr>\n\n<p>You might like to have a read through <a href=\"http://docs.oracle.com/javase/tutorial/java/package/packages.html\">Packages</a> tutorial</p>\n"},{"tags":[],"owner":{"account_id":3144650,"reputation":13,"user_id":2659353,"display_name":"Eldar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376020527,"creation_date":1376020527,"answer_id":18139807,"question_id":18139756,"body_markdown":"Try to use absolute directory or put your HelloWorld.class into ..\\last_directory\\com\r\n\r\n    1. java -cp .......\\last_directory com.HelloWorld\r\n    2. java -cp .......\\last_directory HelloWorld(with created com)\r\n\r\n","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Try to use absolute directory or put your HelloWorld.class into ..\\last_directory\\com</p>\n\n<pre><code>1. java -cp .......\\last_directory com.HelloWorld\n2. java -cp .......\\last_directory HelloWorld(with created com)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376021549,"creation_date":1376020569,"answer_id":18139813,"question_id":18139756,"body_markdown":"Run the program from the parent directory of the **com** directory.\r\n\r\n    java com.HelloWorld","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Run the program from the parent directory of the <strong>com</strong> directory.</p>\n\n<pre><code>java com.HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1570100,"reputation":1551,"user_id":1457980,"accept_rate":80,"display_name":"ihsan kocak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449783437,"creation_date":1376021092,"answer_id":18139871,"question_id":18139756,"body_markdown":"Create a folder named `com` under Java folder and put the `HelloWorld.java` into `com` folder. Then run again `javac` and `java`.","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Create a folder named <code>com</code> under Java folder and put the <code>HelloWorld.java</code> into <code>com</code> folder. Then run again <code>javac</code> and <code>java</code>.</p>\n"},{"tags":[],"owner":{"account_id":1482151,"reputation":1072,"user_id":1391278,"accept_rate":33,"display_name":"BilalDja"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1376022146,"creation_date":1376022146,"answer_id":18139989,"question_id":18139756,"body_markdown":"You should compile it first by typing this command in CMD, for exemple your file is in c:\\ directory :\r\n\r\n    C:\\com&gt;javac HelloWorld.java\r\n\r\nAfter that you can run the result by typing:\r\n\r\n    c:\\com&gt;java HelloWorld","title":"How to run a .class file that is part of a package from cmd?","body":"<p>You should compile it first by typing this command in CMD, for exemple your file is in c:\\ directory :</p>\n\n<pre><code>C:\\com&gt;javac HelloWorld.java\n</code></pre>\n\n<p>After that you can run the result by typing:</p>\n\n<pre><code>c:\\com&gt;java HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1449788610,"creation_date":1449788610,"answer_id":34213346,"question_id":18139756,"body_markdown":"The syntax is:\r\n\r\n    java -classpath /path/to/package-folder &lt;packageName&gt;.&lt;MainClassName&gt;\r\n\r\nSo you may try: `java com.HelloWorld` which would expect `com/HelloWorld.class` file to be present as classpath by default points to the current directory (if not specified).\r\n\r\nIn case you&#39;re in different folder, try specifying *[classpath][1]*:\r\n\r\n    $ CLASSPATH=/path/to/package-folder/ java com.HelloWorld\r\n    Hello World!\r\n    $ java -cp /path/to/package-folder/ com.HelloWorld\r\n    Hello World!\r\n    $ cd /path/to/package-folder/ &amp;&amp; java com.HelloWorld\r\n    Hello World!\r\n\r\nFor further explanation, check: [How do I run Java .class files?][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Classpath_(Java)\r\n  [2]: https://stackoverflow.com/q/5757189/55075","title":"How to run a .class file that is part of a package from cmd?","body":"<p>The syntax is:</p>\n\n<pre><code>java -classpath /path/to/package-folder &lt;packageName&gt;.&lt;MainClassName&gt;\n</code></pre>\n\n<p>So you may try: <code>java com.HelloWorld</code> which would expect <code>com/HelloWorld.class</code> file to be present as classpath by default points to the current directory (if not specified).</p>\n\n<p>In case you're in different folder, try specifying <em><a href=\"https://en.wikipedia.org/wiki/Classpath_(Java)\" rel=\"nofollow noreferrer\">classpath</a></em>:</p>\n\n<pre><code>$ CLASSPATH=/path/to/package-folder/ java com.HelloWorld\nHello World!\n$ java -cp /path/to/package-folder/ com.HelloWorld\nHello World!\n$ cd /path/to/package-folder/ &amp;&amp; java com.HelloWorld\nHello World!\n</code></pre>\n\n<p>For further explanation, check: <a href=\"https://stackoverflow.com/q/5757189/55075\">How do I run Java .class files?</a></p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483332642,"creation_date":1483332642,"answer_id":41421492,"question_id":18139756,"body_markdown":"You do not need a -cp flag while running a java class , -cp needed while running a class or a main program from a binary (jar) file.\r\nWhile running a main program from a command line you need to make sure you have the class in the same folder structure as package name in the java file, ex.\r\n\r\n    home/user/foo java com.test.className   \r\n\r\n    here classNmae class file and exist under home/user/foo/com/test\r\n\r\nhope it helps.\r\n\r\n","title":"How to run a .class file that is part of a package from cmd?","body":"<p>You do not need a -cp flag while running a java class , -cp needed while running a class or a main program from a binary (jar) file.\nWhile running a main program from a command line you need to make sure you have the class in the same folder structure as package name in the java file, ex.</p>\n\n<pre><code>home/user/foo java com.test.className   \n\nhere classNmae class file and exist under home/user/foo/com/test\n</code></pre>\n\n<p>hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":1489715,"reputation":2281,"user_id":1397115,"accept_rate":67,"display_name":"Krystian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488970438,"creation_date":1488970438,"answer_id":42669353,"question_id":18139756,"body_markdown":"There could be such a problem, when you are executing &#39;java&#39; command directly from folder of your &#39;*.class&#39; files. This command should be executed from project &#39;parent&#39; directory. All is well explained in the following article:\r\n\r\nhttp://javarevisited.blogspot.de/2015/04/error-could-not-find-or-load-main-class-helloworld-java.html","title":"How to run a .class file that is part of a package from cmd?","body":"<p>There could be such a problem, when you are executing 'java' command directly from folder of your '*.class' files. This command should be executed from project 'parent' directory. All is well explained in the following article:</p>\n\n<p><a href=\"http://javarevisited.blogspot.de/2015/04/error-could-not-find-or-load-main-class-helloworld-java.html\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.de/2015/04/error-could-not-find-or-load-main-class-helloworld-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":3773795,"reputation":935,"user_id":3135210,"accept_rate":50,"display_name":"buqing"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493833246,"creation_date":1493833246,"answer_id":43766731,"question_id":18139756,"body_markdown":"When you compile the java code, use -d, in your case, it would be\r\n\r\n    javac -d . com.HelloWorld.java\r\n\r\nAfter the above command, java compiler generate a folder named &quot;com&quot;, under the &quot;com&quot; folder, you will see your HelloWorld.class\r\n\r\nThen under the same folder as you run javac, run the following command\r\n\r\n    java com.HelloWorld\r\n\r\n","title":"How to run a .class file that is part of a package from cmd?","body":"<p>When you compile the java code, use -d, in your case, it would be</p>\n\n<pre><code>javac -d . com.HelloWorld.java\n</code></pre>\n\n<p>After the above command, java compiler generate a folder named \"com\", under the \"com\" folder, you will see your HelloWorld.class</p>\n\n<p>Then under the same folder as you run javac, run the following command</p>\n\n<pre><code>java com.HelloWorld\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10493641,"reputation":410,"user_id":7734634,"display_name":"gogog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540590806,"creation_date":1496819239,"answer_id":44405823,"question_id":18139756,"body_markdown":"Suppose the file locates at  C:/projects/com/HelloWorld \r\nand you can try the following ways.&lt;br&gt;\r\n\r\n1.&lt;code&gt;java -cp c:/projects com.HelloWorld&lt;/code&gt;&lt;br&gt;\r\n\r\n2.&lt;code&gt;cd c:/projects&lt;/code&gt;&lt;br&gt;\r\n  &amp;nbsp;&lt;code&gt;java com.HelloWorld&lt;/code&gt;&lt;br&gt;\r\n(The example 2 is not working in many situation,such as java process.)\r\n\r\nif there is no package declaration and there will be a little change.\r\n\r\n1.&lt;code&gt;java -cp c:/projects/com HelloWorld&lt;/code&gt;&lt;br&gt;\r\n\r\n2.&lt;code&gt;cd c:/projects/com&lt;/code&gt;&lt;br&gt;\r\n  &amp;nbsp;&lt;code&gt;java HelloWorld&lt;/code&gt;&lt;br&gt;\r\n(It&#39;s not good with the same reason.)\r\n\r\nalternatively,relative path will be ok but has some risk.\r\nLast remember put the class file in end of cmd.","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Suppose the file locates at  C:/projects/com/HelloWorld \nand you can try the following ways.<br></p>\n\n<p>1.<code>java -cp c:/projects com.HelloWorld</code><br></p>\n\n<p>2.<code>cd c:/projects</code><br>\n  &nbsp;<code>java com.HelloWorld</code><br>\n(The example 2 is not working in many situation,such as java process.)</p>\n\n<p>if there is no package declaration and there will be a little change.</p>\n\n<p>1.<code>java -cp c:/projects/com HelloWorld</code><br></p>\n\n<p>2.<code>cd c:/projects/com</code><br>\n  &nbsp;<code>java HelloWorld</code><br>\n(It's not good with the same reason.)</p>\n\n<p>alternatively,relative path will be ok but has some risk.\nLast remember put the class file in end of cmd.</p>\n"},{"tags":[],"owner":{"account_id":17936905,"reputation":127,"user_id":13033061,"display_name":"schen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589793094,"creation_date":1589793094,"answer_id":61866177,"question_id":18139756,"body_markdown":"Simple Solution in Linux, same principle:\r\n\r\nSay, the File is **`/work/packageName/file.java`**, with a first line:\r\n\r\n    package packageName;\r\n\r\n\r\n**Under the working directory `/work/packageName/*`:**\r\n\r\n `javac file.java` will **not** work, as long as `file.java` contain any reference to other files in that package.\r\nThe solution is to use this:\r\n\r\n    javac --class-path  ../  file.java\r\n\r\n**Or go 1 level up to `/work/*` and run:**\r\n\r\n    javac  ./packageName/Member.java\r\nOr simply use `java` instead of `javac` to execute.","title":"How to run a .class file that is part of a package from cmd?","body":"<p>Simple Solution in Linux, same principle:</p>\n\n<p>Say, the File is <strong><code>/work/packageName/file.java</code></strong>, with a first line:</p>\n\n<pre><code>package packageName;\n</code></pre>\n\n<p><strong>Under the working directory <code>/work/packageName/*</code>:</strong></p>\n\n<p><code>javac file.java</code> will <strong>not</strong> work, as long as <code>file.java</code> contain any reference to other files in that package.\nThe solution is to use this:</p>\n\n<pre><code>javac --class-path  ../  file.java\n</code></pre>\n\n<p><strong>Or go 1 level up to <code>/work/*</code> and run:</strong></p>\n\n<pre><code>javac  ./packageName/Member.java\n</code></pre>\n\n<p>Or simply use <code>java</code> instead of <code>javac</code> to execute.</p>\n"},{"tags":[],"owner":{"account_id":2563552,"reputation":21,"user_id":2224189,"display_name":"ToXiC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668371412,"creation_date":1668371412,"answer_id":74424526,"question_id":18139756,"body_markdown":"if java file contains &quot;project&quot;, descent and run java package.class (package name = parent dir name)\r\nelse run it from same directory (I&#39;d say normally)\r\n#beware empty spaces, and such, not perfect ...\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\npackage=&quot;&quot;\r\npackage=`cat $java_file | grep package | awk &#39;{print $2}&#39; | sed &#39;s/;//g&#39;`\r\npath_p=&quot;.&quot;\r\n[[ ! -z $package ]] &amp;&amp; class_p=&quot;$package.$class&quot; &amp;&amp; path_p=&quot;..&quot;   # ;)\r\n\r\ncd $path_p\r\njava $class_p\r\n&lt;/pre&gt;&lt;/code&gt;","title":"How to run a .class file that is part of a package from cmd?","body":"<p>if java file contains &quot;project&quot;, descent and run java package.class (package name = parent dir name)\nelse run it from same directory (I'd say normally)\n#beware empty spaces, and such, not perfect ...</p>\n<pre><code>\npackage=\"\"\npackage=`cat $java_file | grep package | awk '{print $2}' | sed 's/;//g'`\npath_p=\".\"\n[[ ! -z $package ]] && class_p=\"$package.$class\" && path_p=\"..\"   # ;)\n\ncd $path_p\njava $class_p\n</pre></code>\n"}],"owner":{"display_name":"user2666594"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81709,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":18139799,"answer_count":13,"score":42,"last_activity_date":1668371412,"creation_date":1376019991,"question_id":18139756,"body_markdown":"I keep getting errors when I make my `.class` part of a `package` and try to run it from cmd.\r\n\r\nHere&#39;s the code that works after using `javac` and then java:\r\n    \r\n    class HelloWorld {\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(&quot;Hello World!&quot;);\r\n\t    }\r\n    }\r\n\r\nand then the code that does not work:\r\n\r\n    package com;\r\n\r\n    class HelloWorld {\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(&quot;Hello World!&quot;);\r\n\t    }\r\n    }\r\n\r\ngiving me this error after trying to run the program via the command: `java HelloWorld`:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: HelloWorld (wrong nam\r\n    e: com/HelloWorld)\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n\r\nHere&#39;s what I&#39;ve tried doing so far:\r\n\r\n    java -cp . HelloWorld\r\n    java -cp . com.HelloWorld\r\n    java -cp . com/HelloWorld\r\n    java HelloWorld\r\n    java com.HelloWorld\r\n    java com/HelloWorld\r\n\r\nKeep in mind that `javac` returns with no errors and that simply removing `package com;` solves the problem. Sometimes in other scenarios I get an error that says the main class file cannot be found or something along those lines.\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"How to run a .class file that is part of a package from cmd?","body":"<p>I keep getting errors when I make my <code>.class</code> part of a <code>package</code> and try to run it from cmd.</p>\n\n<p>Here's the code that works after using <code>javac</code> and then java:</p>\n\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>and then the code that does not work:</p>\n\n<pre><code>package com;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>giving me this error after trying to run the program via the command: <code>java HelloWorld</code>:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: HelloWorld (wrong nam\ne: com/HelloWorld)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n\n<p>Here's what I've tried doing so far:</p>\n\n<pre><code>java -cp . HelloWorld\njava -cp . com.HelloWorld\njava -cp . com/HelloWorld\njava HelloWorld\njava com.HelloWorld\njava com/HelloWorld\n</code></pre>\n\n<p>Keep in mind that <code>javac</code> returns with no errors and that simply removing <code>package com;</code> solves the problem. Sometimes in other scenarios I get an error that says the main class file cannot be found or something along those lines.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android-studio","kotlin","android-canvas","settext"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1668378480,"post_id":74424513,"comment_id":131384715,"body_markdown":"Are you saying that the text written to the image looks good but its placement is not right? That it is shifter up/down or left/right?","body":"Are you saying that the text written to the image looks good but its placement is not right? That it is shifter up/down or left/right?"}],"owner":{"account_id":18616181,"reputation":21,"user_id":13567442,"display_name":"Azat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668371261,"creation_date":1668371261,"question_id":74424513,"body_markdown":"I have movable EditText on ImageView and save button. On click save button app should draw text from EditText to the image. For now, app is working but doesn&#39;t draw exactly to EditText&#39;s place. I need to draw precisely to EditText&#39;s place, it should look like EditText pasting text.\r\n\r\nthis is a code:\r\n\r\n```\r\npublic void saveButtonClicked() {\r\n    if (!textEditText.getText().toString().equals(&quot;&quot;)) {\r\n        try {\r\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), mCroppedImageUris.get(mCurrentImageIndex));\r\n            mCropImageView.setImageBitmap(textAsBitmap(bitmap, textEditText.getText().toString(), 25f, mTextColor));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nprivate Bitmap textAsBitmap(Bitmap image, String text,\r\n                            float textSize, int textColor) {\r\n    Paint paint = new Paint();\r\n    paint.setTextSize(textSize);\r\n    paint.setColor(textColor);\r\n    paint.setAntiAlias(true);\r\n\r\n    Bitmap newMapBitmap = image.copy(Bitmap.Config.ARGB_8888, true);\r\n    try {\r\n        Canvas canvas = new Canvas(newMapBitmap);\r\n        int[] location = new int[2];\r\n        addTextLayout.getLocationOnScreen(location);\r\n\r\n        float x = (float) (location[0] / 2.1);\r\n        float y = (float) (location[1] / 3.1);\r\n        canvas.drawText(text, x, y, paint);\r\n\r\n    } catch (Exception e) {\r\n        Log.e(&quot;textAsBitmap&quot;, e.getMessage());\r\n    }\r\n\r\n    String root = Environment.getExternalStorageDirectory().toString();\r\n    File folder = new File(root + Constants.pdfDirectory);\r\n\r\n    String path = mCroppedImageUris.get(mCurrentImageIndex).getPath();\r\n    String filename = &quot;add_text_im&quot;;\r\n    if (path != null) {\r\n        filename = &quot;added_text_&quot; + FileUtils.getFileName(path);\r\n    }\r\n    File file = new File(folder, filename);\r\n\r\n    try {\r\n        FileOutputStream out = new FileOutputStream(file);\r\n        newMapBitmap.compress(Bitmap.CompressFormat.PNG, 90, out);\r\n        setUpdatedImage(Uri.fromFile(file));\r\n        out.flush();\r\n        out.close();\r\n    } catch (Exception e) {`your text`\r\n        e.printStackTrace();\r\n    }\r\n    return newMapBitmap;\r\n}\r\n```\r\n","title":"canvas.drawText text to EditText&#39;s place","body":"<p>I have movable EditText on ImageView and save button. On click save button app should draw text from EditText to the image. For now, app is working but doesn't draw exactly to EditText's place. I need to draw precisely to EditText's place, it should look like EditText pasting text.</p>\n<p>this is a code:</p>\n<pre><code>public void saveButtonClicked() {\n    if (!textEditText.getText().toString().equals(&quot;&quot;)) {\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), mCroppedImageUris.get(mCurrentImageIndex));\n            mCropImageView.setImageBitmap(textAsBitmap(bitmap, textEditText.getText().toString(), 25f, mTextColor));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate Bitmap textAsBitmap(Bitmap image, String text,\n                            float textSize, int textColor) {\n    Paint paint = new Paint();\n    paint.setTextSize(textSize);\n    paint.setColor(textColor);\n    paint.setAntiAlias(true);\n\n    Bitmap newMapBitmap = image.copy(Bitmap.Config.ARGB_8888, true);\n    try {\n        Canvas canvas = new Canvas(newMapBitmap);\n        int[] location = new int[2];\n        addTextLayout.getLocationOnScreen(location);\n\n        float x = (float) (location[0] / 2.1);\n        float y = (float) (location[1] / 3.1);\n        canvas.drawText(text, x, y, paint);\n\n    } catch (Exception e) {\n        Log.e(&quot;textAsBitmap&quot;, e.getMessage());\n    }\n\n    String root = Environment.getExternalStorageDirectory().toString();\n    File folder = new File(root + Constants.pdfDirectory);\n\n    String path = mCroppedImageUris.get(mCurrentImageIndex).getPath();\n    String filename = &quot;add_text_im&quot;;\n    if (path != null) {\n        filename = &quot;added_text_&quot; + FileUtils.getFileName(path);\n    }\n    File file = new File(folder, filename);\n\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        newMapBitmap.compress(Bitmap.CompressFormat.PNG, 90, out);\n        setUpdatedImage(Uri.fromFile(file));\n        out.flush();\n        out.close();\n    } catch (Exception e) {`your text`\n        e.printStackTrace();\n    }\n    return newMapBitmap;\n}\n</code></pre>\n"},{"tags":["java","sql","date","calendar","gregorian-calendar"],"comments":[{"owner":{"account_id":57880,"reputation":48584,"user_id":173397,"accept_rate":78,"display_name":"pm100"},"score":1,"creation_date":1667862489,"post_id":74353924,"comment_id":131264915,"body_markdown":"Rephrase the question, &quot;how can I get the number of days in 1582 using c&quot; or whatever language","body":"Rephrase the question, &quot;how can I get the number of days in 1582 using c&quot; or whatever language"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1667990501,"post_id":74353924,"comment_id":131297773,"body_markdown":"Note: most calendar libraries (and so also programming languages) have just an interval where you can perform date operations. As far I know, many languages just use Gregorian Calendar for all years, also before it was introduced. Just do not use generic functions for historical dates: it requires much more context which modern API will not provide, and mostly not useful in modern calendars)","body":"Note: most calendar libraries (and so also programming languages) have just an interval where you can perform date operations. As far I know, many languages just use Gregorian Calendar for all years, also before it was introduced. Just do not use generic functions for historical dates: it requires much more context which modern API will not provide, and mostly not useful in modern calendars)"},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1668085000,"post_id":74353924,"comment_id":131324167,"body_markdown":"@GiacomoCatenazzi But in Gregorian Calendar date 1582-10-14 does not exist. AFAIK the calendar jumped through a few days in October.","body":"@GiacomoCatenazzi But in Gregorian Calendar date 1582-10-14 does not exist. AFAIK the calendar jumped through a few days in October."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1668086004,"post_id":74353924,"comment_id":131324540,"body_markdown":"No. Gregorian Calendar is a principally a method. It was decided to implement it. So with such steps: leaving the Julian calendar, skipping dates (to keep equinox on standard calendar dates), and introducing the Gregorian calendar. People applied the Gregorian calendar also backward: there is no problem in that. If the 14 October 1582 was nonexistent on some territories is a different problem. it was the date on the &quot;wall&quot;, not the Gregorian date, that was nonexistent.","body":"No. Gregorian Calendar is a principally a method. It was decided to implement it. So with such steps: leaving the Julian calendar, skipping dates (to keep equinox on standard calendar dates), and introducing the Gregorian calendar. People applied the Gregorian calendar also backward: there is no problem in that. If the 14 October 1582 was nonexistent on some territories is a different problem. it was the date on the &quot;wall&quot;, not the Gregorian date, that was nonexistent."},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1668088138,"post_id":74353924,"comment_id":131325327,"body_markdown":"@GiacomoCatenazzi Interesting opinion, but Java devs wouldn&#39;t agree with you. You cannot create 14th October. At least not with GregorianCalendar: https://replit.com/@MaciejNux/Gregorian-Calendar-date-holes#Main.java","body":"@GiacomoCatenazzi Interesting opinion, but Java devs wouldn&#39;t agree with you. You cannot create 14th October. At least not with GregorianCalendar: <a href=\"https://replit.com/@MaciejNux/Gregorian-Calendar-date-holes#Main.java\" rel=\"nofollow noreferrer\">replit.com/@MaciejNux/Gregorian-Calendar-date-holes#Main.jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1668088273,"post_id":74353924,"comment_id":131325379,"body_markdown":"The original document explicitly says &quot;we direct and ordain: that ten days shall be removed from the month of October of the year 1582&quot; https://en.wikisource.org/wiki/Translation:Inter_gravissimas (translated original)","body":"The original document explicitly says &quot;we direct and ordain: that ten days shall be removed from the month of October of the year 1582&quot; <a href=\"https://en.wikisource.org/wiki/Translation:Inter_gravissimas\" rel=\"nofollow noreferrer\">en.wikisource.org/wiki/Translation:Inter_gravissimas</a> (translated original)"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1668088445,"post_id":74353924,"comment_id":131325452,"body_markdown":"About the first comment: Java developers choose a starting point (and a internal representation). Unix a different one, windows an other one, Excel a different one, Python and other languages recommend not to use old dates (more then 50 or 100 year ago). it is an implementation choice. As I wrote on my first comment: do not assume thing works on such dates.","body":"About the first comment: Java developers choose a starting point (and a internal representation). Unix a different one, windows an other one, Excel a different one, Python and other languages recommend not to use old dates (more then 50 or 100 year ago). it is an implementation choice. As I wrote on my first comment: do not assume thing works on such dates."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1668088680,"post_id":74353924,"comment_id":131325541,"body_markdown":"And second comment: you cite the part where it say wall dates should be skip and then Gregorian calendar should be used. It doesn&#39;t say that dates before October were Gregorian, etc. Note: England and US had such dates. They switched much later to Gregorian calendar. You should distinguish the &quot;wall dates&quot; (so dates you may see on the wall of a church, castle, market), and the method (&quot;ever 4 year, but every 100 but every 400&quot;)","body":"And second comment: you cite the part where it say wall dates should be skip and then Gregorian calendar should be used. It doesn&#39;t say that dates before October were Gregorian, etc. Note: England and US had such dates. They switched much later to Gregorian calendar. You should distinguish the &quot;wall dates&quot; (so dates you may see on the wall of a church, castle, market), and the method (&quot;ever 4 year, but every 100 but every 400&quot;)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668097564,"post_id":74353924,"comment_id":131329149,"body_markdown":"If the precise wall date is that important for years prior to 1853, write a super class to convert a Gregorian date to a Gregorian/Julian date.","body":"If the precise wall date is that important for years prior to 1853, write a super class to convert a Gregorian date to a Gregorian/Julian date."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668111795,"post_id":74353924,"comment_id":131333650,"body_markdown":"Joda-Time can do that stuff.  Joda-Time as its default uses the proleptic Gregorian calendar, extrapolating the Gregorian calendar back in the times before it was invented, pretending October 1582 is 31 days as always, But it also supports the Gregorian-Julian chronology. Create your dates as `new LocalDate(1582, 10, 1, GJChronology.getInstance())` and similar for the end of the month. Then Joda-Time knows that this October is 10 days shorter.","body":"Joda-Time can do that stuff.  Joda-Time as its default uses the proleptic Gregorian calendar, extrapolating the Gregorian calendar back in the times before it was invented, pretending October 1582 is 31 days as always, But it also supports the Gregorian-Julian chronology. Create your dates as <code>new LocalDate(1582, 10, 1, GJChronology.getInstance())</code> and similar for the end of the month. Then Joda-Time knows that this October is 10 days shorter."}],"answers":[{"tags":[],"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668089777,"creation_date":1668089777,"answer_id":74390486,"question_id":74353924,"body_markdown":"I think I will go ahead and close with that both answers are probably correct. October 1582 did and didn&#39;t have 31 days. I mean that 14th October didn&#39;t exist (as in no one was born on that day in Gregorian Calendar) and for the purpose of accounting all debts were pushed by ten days. So I guess the only way is to manually count days and don&#39;t use any libraries for that.\r\n\r\nWhen establishing Gregorian Calendar it was said that:\r\n&gt; we direct and ordain:\r\n&gt; that ten days shall be removed from the month of October of the year 1582\r\n\r\nBut also:\r\n&gt; But in order that nobody suffers prejudice by this our subtraction of ten days, in connection with any annual or monthly payments, the judges in any controversies that may arise over this, shall by reason of the said subtraction add ten days to the due date for any such payment.\r\n\r\nSource: https://en.wikisource.org/wiki/Translation:Inter_gravissimas","title":"Is there a way to correctly count number of days in 1582","body":"<p>I think I will go ahead and close with that both answers are probably correct. October 1582 did and didn't have 31 days. I mean that 14th October didn't exist (as in no one was born on that day in Gregorian Calendar) and for the purpose of accounting all debts were pushed by ten days. So I guess the only way is to manually count days and don't use any libraries for that.</p>\n<p>When establishing Gregorian Calendar it was said that:</p>\n<blockquote>\n<p>we direct and ordain:\nthat ten days shall be removed from the month of October of the year 1582</p>\n</blockquote>\n<p>But also:</p>\n<blockquote>\n<p>But in order that nobody suffers prejudice by this our subtraction of ten days, in connection with any annual or monthly payments, the judges in any controversies that may arise over this, shall by reason of the said subtraction add ten days to the due date for any such payment.</p>\n</blockquote>\n<p>Source: <a href=\"https://en.wikisource.org/wiki/Translation:Inter_gravissimas\" rel=\"nofollow noreferrer\">https://en.wikisource.org/wiki/Translation:Inter_gravissimas</a></p>\n"},{"tags":[],"owner":{"account_id":6115638,"reputation":560,"user_id":4770772,"accept_rate":25,"display_name":"Gerard Ashton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668371117,"creation_date":1668171397,"answer_id":74402834,"question_id":74353924,"body_markdown":"I have not used Java in many years, but I am familiar with dealing with several calendars in other languages. From the &quot;Key Concepts&quot; subtab of the &quot;Documentation&quot; tab of the [Joda Time website][1] we find the [&quot;Chronology&quot; page][2] which states\r\n\r\n&gt; The default chronology in Joda-Time is ISO. This calendar system is\r\n&gt; the same as that used by business in the majority of the world today.\r\n&gt; The ISO system is unsuitable for historical work before 1583 as it\r\n&gt; applies the leap year rules from today back in time (it is a proleptic\r\n&gt; calendar). As a result, users requiring a more historically accurate\r\n&gt; calendar system are forced to think about their actual requirements,\r\n&gt; which we believe is a Good Thing.\r\n\r\nProleptic means that from a known day and date that virtually everyone agrees about, such as the Meter Convention having been signed in Paris on 20 May 1875, the rules of the calendar are applied backward to find any date desired, even if it is before the calendar was created.\r\n\r\nAs for computing the interval in one calendar, such as the Julian calendar, to a date in a different calendar, such as the Gregorian calendar, a common approach is to convert them both to a count-of-days from a chosen epoch, such as the [modified julian date][3], which counts from midnight universal time at the beginning of November 17, 1858. Then one simply subtracts one day count from the other to find the number of days between them. A quick glance at the Joda Time documentation did not show any facility for computing a day count.\r\n\r\nI am currently not set up to program in Java. Ole V.V. comment about using the Gregorian-Julian chronology of Joda-Time seems useful, but I have not tried it:\r\n\r\n\tLocalDate first = new LocalDate(1582, 10, 1, GJChronology.getInstance());\r\n\tLocalDate last = new LocalDate(1582, 10, 31, GJChronology.getInstance());\r\n\tint countOfDaysDiff = Days.daysBetween(first, last).getDays();\r\n\tSystem.out.println(countOfDaysDiff);\r\n\r\nOutput according to Ole V.V.:\r\n\r\n&gt; 20\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/index.html\r\n  [2]: https://www.joda.org/joda-time/key_chronology.html\r\n  [3]: https://en.wikipedia.org/wiki/Julian_day#Variants\r\n","title":"Is there a way to correctly count number of days in 1582","body":"<p>I have not used Java in many years, but I am familiar with dealing with several calendars in other languages. From the &quot;Key Concepts&quot; subtab of the &quot;Documentation&quot; tab of the <a href=\"https://www.joda.org/joda-time/index.html\" rel=\"nofollow noreferrer\">Joda Time website</a> we find the <a href=\"https://www.joda.org/joda-time/key_chronology.html\" rel=\"nofollow noreferrer\">&quot;Chronology&quot; page</a> which states</p>\n<blockquote>\n<p>The default chronology in Joda-Time is ISO. This calendar system is\nthe same as that used by business in the majority of the world today.\nThe ISO system is unsuitable for historical work before 1583 as it\napplies the leap year rules from today back in time (it is a proleptic\ncalendar). As a result, users requiring a more historically accurate\ncalendar system are forced to think about their actual requirements,\nwhich we believe is a Good Thing.</p>\n</blockquote>\n<p>Proleptic means that from a known day and date that virtually everyone agrees about, such as the Meter Convention having been signed in Paris on 20 May 1875, the rules of the calendar are applied backward to find any date desired, even if it is before the calendar was created.</p>\n<p>As for computing the interval in one calendar, such as the Julian calendar, to a date in a different calendar, such as the Gregorian calendar, a common approach is to convert them both to a count-of-days from a chosen epoch, such as the <a href=\"https://en.wikipedia.org/wiki/Julian_day#Variants\" rel=\"nofollow noreferrer\">modified julian date</a>, which counts from midnight universal time at the beginning of November 17, 1858. Then one simply subtracts one day count from the other to find the number of days between them. A quick glance at the Joda Time documentation did not show any facility for computing a day count.</p>\n<p>I am currently not set up to program in Java. Ole V.V. comment about using the Gregorian-Julian chronology of Joda-Time seems useful, but I have not tried it:</p>\n<pre><code>LocalDate first = new LocalDate(1582, 10, 1, GJChronology.getInstance());\nLocalDate last = new LocalDate(1582, 10, 31, GJChronology.getInstance());\nint countOfDaysDiff = Days.daysBetween(first, last).getDays();\nSystem.out.println(countOfDaysDiff);\n</code></pre>\n<p>Output according to Ole V.V.:</p>\n<blockquote>\n<p>20</p>\n</blockquote>\n"}],"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668371117,"creation_date":1667862107,"question_id":74353924,"body_markdown":"How would one calculate a number of days in 1582. Yes, that is the year of introduction of the Georgian Calendar (in some countries). I assume October 1582 should not have 31 days as some of the dates never existed.\r\n\r\nYet when I tried Joda Time (Java/Groovy) it says 30 days:\r\n\r\n```java\r\nLocalDate start = new LocalDate(&quot;1582-10-01&quot;);\r\nLocalDate end = new LocalDate(&quot;1582-10-31&quot;);\r\nprintln Days.daysBetween(start, end).getDays();\r\n```\r\n\r\nSame for SQL\r\n```sql\r\n-- PostgreSQL\r\nSELECT DATE_PART(&#39;day&#39;, &#39;1582-10-31&#39;::date - &#39;1582-10-01&#39;::timestamp);\r\n   \r\n-- MSSQL\r\nSELECT DATEDIFF(dd, &#39;1582-10-31&#39;, &#39;1582-10-01&#39;);\r\n```\r\n\r\nSo is there some agreement/specification to actually treat 1582-10-14 as if it would actually exist? Or is there some easy way to calculate correct diff for year 1582 and earlier?","title":"Is there a way to correctly count number of days in 1582","body":"<p>How would one calculate a number of days in 1582. Yes, that is the year of introduction of the Georgian Calendar (in some countries). I assume October 1582 should not have 31 days as some of the dates never existed.</p>\n<p>Yet when I tried Joda Time (Java/Groovy) it says 30 days:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate start = new LocalDate(&quot;1582-10-01&quot;);\nLocalDate end = new LocalDate(&quot;1582-10-31&quot;);\nprintln Days.daysBetween(start, end).getDays();\n</code></pre>\n<p>Same for SQL</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- PostgreSQL\nSELECT DATE_PART('day', '1582-10-31'::date - '1582-10-01'::timestamp);\n   \n-- MSSQL\nSELECT DATEDIFF(dd, '1582-10-31', '1582-10-01');\n</code></pre>\n<p>So is there some agreement/specification to actually treat 1582-10-14 as if it would actually exist? Or is there some easy way to calculate correct diff for year 1582 and earlier?</p>\n"},{"tags":["java","swing","jtable","jtableheader"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1668371106,"post_id":74424374,"comment_id":131383326,"body_markdown":"Post a proper [mre] based off the code provide below when you isolate the change you made to cause the problem.","body":"Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> based off the code provide below when you isolate the change you made to cause the problem."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668371069,"creation_date":1668371069,"answer_id":74424484,"question_id":74424374,"body_markdown":"Works fine for me.\r\n\r\nStart with basic code and then make changes one at a time to see when it stops working:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MRE\r\n    {\r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJTable table = new JTable(5, 10);\r\n    \t\tFont f = new Font(&quot;SansSerif&quot;,Font.BOLD,50);\r\n    \t\ttable.getTableHeader().setFont(f);\r\n    \t\tJScrollPane scrollPane = new JScrollPane( table );\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;SSCCE&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(scrollPane);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\n","title":"JTableHeader Font not changing","body":"<p>Works fine for me.</p>\n<p>Start with basic code and then make changes one at a time to see when it stops working:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class MRE\n{\n    private static void createAndShowGUI()\n    {\n        JTable table = new JTable(5, 10);\n        Font f = new Font(&quot;SansSerif&quot;,Font.BOLD,50);\n        table.getTableHeader().setFont(f);\n        JScrollPane scrollPane = new JScrollPane( table );\n\n        JFrame frame = new JFrame(&quot;SSCCE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(scrollPane);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15594828,"reputation":1,"user_id":11250687,"display_name":"Ashley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668371069,"creation_date":1668370131,"question_id":74424374,"body_markdown":"I&#39;m trying to change the font of the headers in my JTable but the setFont method isn&#39;t working. I tried using the setFont on the renderer but that didn&#39;t work. I tried using UIDefaults but that didnt work either. I tried calling setFont on the JTableHeader object but that also didn&#39;t work.\r\n\r\n[This is the result of the code][1]\r\n\r\n\r\n```java\r\nheaderModel.setColumnIdentifiers(headers);\r\n\r\n        JTable prodTable = new JTable(headerModel) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                //all cells false\r\n                return false;\r\n            }\r\n        };\r\n        \r\n        prodTable.setShowGrid(false);\r\n        prodTable.setRowHeight(50);\r\n        prodTable.setFillsViewportHeight(true);\r\n        prodTable.setBorder(null);\r\n\r\n        //UIDefaults defaults = UIManager.getLookAndFeelDefaults();\r\n        //defaults.put(&quot;TableHeader.font&quot;, new Font(&quot;SansSerif&quot;,Font.BOLD,50));\r\n        prodTable.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {// alternate background color for rows\r\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,\r\n                                                           boolean hasFocus, int row, int column) {\r\n                Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n                if (!isSelected)\r\n                    c.setBackground(row % 2 == 0 ? Color.decode(&quot;#E5EBF4&quot;) : Color.decode(&quot;#ECF3FA&quot;));\r\n                return c;\r\n            };\r\n        });\r\n\r\n        final DefaultTableCellRenderer renderer = new DefaultTableCellRenderer();\r\n        renderer.setBorder(null);\r\n        renderer.setBackground(Color.decode(&quot;#ECF3FA&quot;));\r\n        renderer.setHorizontalAlignment(JLabel.CENTER);\r\n        renderer.setForeground(Color.decode(&quot;#707070&quot;));\r\n        //renderer.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,50));\r\n        renderer.setPreferredSize(new Dimension(100,50));\r\n\r\n\r\n        JTableHeader jTableHeader = prodTable.getTableHeader();\r\n        jTableHeader.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,50));\r\n        jTableHeader.setDefaultRenderer(renderer);\r\n\r\n\r\n        final TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(headerModel);\r\n        prodTable.setRowSorter(sorter);\r\n        \r\n        JScrollPane tableScroll = new JScrollPane(prodTable){\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(100, 100);\r\n            }\r\n        };\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yhEUu.png","title":"JTableHeader Font not changing","body":"<p>I'm trying to change the font of the headers in my JTable but the setFont method isn't working. I tried using the setFont on the renderer but that didn't work. I tried using UIDefaults but that didnt work either. I tried calling setFont on the JTableHeader object but that also didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/yhEUu.png\" rel=\"nofollow noreferrer\">This is the result of the code</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>headerModel.setColumnIdentifiers(headers);\n\n        JTable prodTable = new JTable(headerModel) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                //all cells false\n                return false;\n            }\n        };\n        \n        prodTable.setShowGrid(false);\n        prodTable.setRowHeight(50);\n        prodTable.setFillsViewportHeight(true);\n        prodTable.setBorder(null);\n\n        //UIDefaults defaults = UIManager.getLookAndFeelDefaults();\n        //defaults.put(&quot;TableHeader.font&quot;, new Font(&quot;SansSerif&quot;,Font.BOLD,50));\n        prodTable.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {// alternate background color for rows\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,\n                                                           boolean hasFocus, int row, int column) {\n                Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n                if (!isSelected)\n                    c.setBackground(row % 2 == 0 ? Color.decode(&quot;#E5EBF4&quot;) : Color.decode(&quot;#ECF3FA&quot;));\n                return c;\n            };\n        });\n\n        final DefaultTableCellRenderer renderer = new DefaultTableCellRenderer();\n        renderer.setBorder(null);\n        renderer.setBackground(Color.decode(&quot;#ECF3FA&quot;));\n        renderer.setHorizontalAlignment(JLabel.CENTER);\n        renderer.setForeground(Color.decode(&quot;#707070&quot;));\n        //renderer.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,50));\n        renderer.setPreferredSize(new Dimension(100,50));\n\n\n        JTableHeader jTableHeader = prodTable.getTableHeader();\n        jTableHeader.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,50));\n        jTableHeader.setDefaultRenderer(renderer);\n\n\n        final TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(headerModel);\n        prodTable.setRowSorter(sorter);\n        \n        JScrollPane tableScroll = new JScrollPane(prodTable){\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(100, 100);\n            }\n        };\n</code></pre>\n"},{"tags":["java","jboss","java-7","tls1.2"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1528459108,"post_id":39157422,"comment_id":88527621,"body_markdown":"sysprop `https.protocols` only works if spelled with both s&#39;s and only for connections made with `URL.openConnection` not some other means like `SSLSocketFactory`","body":"sysprop <code>https.protocols</code> only works if spelled with both s&#39;s and only for connections made with <code>URL.openConnection</code> not some other means like <code>SSLSocketFactory</code>"}],"answers":[{"tags":[],"owner":{"account_id":8882488,"reputation":283,"user_id":6632025,"display_name":"Sirsendu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526947211,"creation_date":1472179305,"answer_id":39157554,"question_id":39157422,"body_markdown":" `System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);` worked in my case. Have you checked that within the application?","title":"How to enable TLS 1.2 in Java 7","body":"<p><code>System.setProperty(\"https.protocols\", \"TLSv1.2\");</code> worked in my case. Have you checked that within the application?</p>\n"},{"tags":[],"owner":{"account_id":2555708,"reputation":1769,"user_id":2217743,"display_name":"AntonioOtero"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1612274995,"creation_date":1482770235,"answer_id":41333907,"question_id":39157422,"body_markdown":"Add this parameter to `JAVA_OPTS` or to the command line in Maven:\r\n`-Dhttps.protocols=TLSv1.2`","title":"How to enable TLS 1.2 in Java 7","body":"<p>Add this parameter to <code>JAVA_OPTS</code> or to the command line in Maven:\n<code>-Dhttps.protocols=TLSv1.2</code></p>\n"},{"tags":[],"owner":{"account_id":1790766,"reputation":1110,"user_id":1631235,"accept_rate":60,"display_name":"ankit.vishen"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1612269619,"creation_date":1487314375,"answer_id":42291244,"question_id":39157422,"body_markdown":"There are many suggestions but I found two of them most common.\r\n\r\n### Re. JAVA_OPTS\r\nI first tried `export JAVA_OPTS=&quot;-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2&quot;` on command line before startup of program but it didn&#39;t work for me.\r\n\r\n### Re. constructor\r\nThen I added the following code in the startup class constructor and it worked for me.\r\n\r\n    try {\r\n    \t\tSSLContext ctx = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    \t\tctx.init(null, null, null);\r\n    \t\tSSLContext.setDefault(ctx);\r\n    } catch (Exception e) {\r\n    \t\tSystem.out.println(e.getMessage());\r\n    }\r\n\r\nFrankly, I don&#39;t know in detail why `ctx.init(null, null, null);` but all (SSL/TLS) is working fine for me.\r\n\r\n## Re. System.setProperty\r\nThere is one more option: `System.setProperty(&quot;https.protocols&quot;, &quot;SSLv3,TLSv1,TLSv1.1,TLSv1.2&quot;);`. It will also go in code but I&#39;ve not tried it.","title":"How to enable TLS 1.2 in Java 7","body":"<p>There are many suggestions but I found two of them most common.</p>\n<h3>Re. JAVA_OPTS</h3>\n<p>I first tried <code>export JAVA_OPTS=&quot;-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2&quot;</code> on command line before startup of program but it didn't work for me.</p>\n<h3>Re. constructor</h3>\n<p>Then I added the following code in the startup class constructor and it worked for me.</p>\n<pre><code>try {\n        SSLContext ctx = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n        ctx.init(null, null, null);\n        SSLContext.setDefault(ctx);\n} catch (Exception e) {\n        System.out.println(e.getMessage());\n}\n</code></pre>\n<p>Frankly, I don't know in detail why <code>ctx.init(null, null, null);</code> but all (SSL/TLS) is working fine for me.</p>\n<h2>Re. System.setProperty</h2>\n<p>There is one more option: <code>System.setProperty(&quot;https.protocols&quot;, &quot;SSLv3,TLSv1,TLSv1.1,TLSv1.2&quot;);</code>. It will also go in code but I've not tried it.</p>\n"},{"tags":[],"owner":{"account_id":11712640,"reputation":306,"user_id":8574127,"display_name":"Meeraj Kanaparthi"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1507269472,"creation_date":1504781573,"answer_id":46094512,"question_id":39157422,"body_markdown":"Add following option for java application:\r\n\r\n    -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2  ","title":"How to enable TLS 1.2 in Java 7","body":"<p>Add following option for java application:</p>\n\n<pre><code>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1507269464,"creation_date":1507197262,"answer_id":46582752,"question_id":39157422,"body_markdown":"You can upgrade your Java 7 version to 1.7.0_131-b31\r\n\r\nFor JRE 1.7.0_131-b31 in Oracle site :\r\n\r\n&gt; TLSv1.2 and TLSv1.1 are now enabled by default on the TLS client\r\n&gt; end-points. This is similar behavior to what already happens in JDK 8\r\n&gt; releases.\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-7093640\r\n  [2]: https://developer.jboss.org/thread/268870","title":"How to enable TLS 1.2 in Java 7","body":"<p>You can upgrade your Java 7 version to 1.7.0_131-b31</p>\n\n<p>For JRE 1.7.0_131-b31 in Oracle site :</p>\n\n<blockquote>\n  <p>TLSv1.2 and TLSv1.1 are now enabled by default on the TLS client\n  end-points. This is similar behavior to what already happens in JDK 8\n  releases.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531542205,"creation_date":1531540904,"answer_id":51335120,"question_id":39157422,"body_markdown":"The stated answers are correct, but I&#39;m just sharing one additional gotcha that was applicable to my case: in addition to using `setProtocol`/`withProtocol`, you may have some nasty jars that won&#39;t go away even if have the right jars plus an old one:\r\n\r\n# Remove\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n# Retain\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nJava is backward compatible, but most libraries are not. Each day that passes the more I wish shared libraries were outlawed with this lack of accountability.\r\n\r\n# Further info\r\n\r\n    java version &quot;1.7.0_80&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_80-b15)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\r\n\r\n\r\n\r\n","title":"How to enable TLS 1.2 in Java 7","body":"<p>The stated answers are correct, but I'm just sharing one additional gotcha that was applicable to my case: in addition to using <code>setProtocol</code>/<code>withProtocol</code>, you may have some nasty jars that won't go away even if have the right jars plus an old one:</p>\n\n<h1>Remove</h1>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>Retain</h1>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;version&gt;4.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Java is backward compatible, but most libraries are not. Each day that passes the more I wish shared libraries were outlawed with this lack of accountability.</p>\n\n<h1>Further info</h1>\n\n<pre><code>java version \"1.7.0_80\"\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416079,"reputation":1214,"user_id":791260,"display_name":"Filip"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531948019,"creation_date":1531948019,"answer_id":51410991,"question_id":39157422,"body_markdown":"You should probably be looking to the configuration that controls the underlying platform TLS implementation via `-Djdk.tls.client.protocols=TLSv1.2`. \r\n","title":"How to enable TLS 1.2 in Java 7","body":"<p>You should probably be looking to the configuration that controls the underlying platform TLS implementation via <code>-Djdk.tls.client.protocols=TLSv1.2</code>. </p>\n"},{"tags":[],"owner":{"account_id":3741904,"reputation":2009,"user_id":3128652,"display_name":"Vaibhav Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542361503,"creation_date":1542361503,"answer_id":53335176,"question_id":39157422,"body_markdown":"To force enable TLSv1.2 in JRE7u_80 I had to use following code snippet before creating JDBC connection.\r\n\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.Provider;\r\n    import javax.net.ssl.SSLContextSpi;\r\n    import sun.security.jca.GetInstance;\r\n    import sun.security.jca.ProviderList;\r\n    import sun.security.jca.Providers;\r\n    \r\n    public static void enableTLSv12ForMssqlJdbc() throws NoSuchAlgorithmException\r\n    {\r\n        ProviderList providerList = Providers.getProviderList();\r\n        GetInstance.Instance instance = GetInstance.getInstance(&quot;SSLContext&quot;, SSLContextSpi.class, &quot;TLS&quot;);\r\n        for (Provider provider : providerList.providers())\r\n        {\r\n            if (provider == instance.provider)\r\n            {\r\n                provider.put(&quot;Alg.Alias.SSLContext.TLS&quot;, &quot;TLSv1.2&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAble to connect to Windows 10 with SQL server 2017 &amp; TLSv1.2 enabled OS.","title":"How to enable TLS 1.2 in Java 7","body":"<p>To force enable TLSv1.2 in JRE7u_80 I had to use following code snippet before creating JDBC connection.</p>\n\n<pre><code>import java.security.NoSuchAlgorithmException;\nimport java.security.Provider;\nimport javax.net.ssl.SSLContextSpi;\nimport sun.security.jca.GetInstance;\nimport sun.security.jca.ProviderList;\nimport sun.security.jca.Providers;\n\npublic static void enableTLSv12ForMssqlJdbc() throws NoSuchAlgorithmException\n{\n    ProviderList providerList = Providers.getProviderList();\n    GetInstance.Instance instance = GetInstance.getInstance(\"SSLContext\", SSLContextSpi.class, \"TLS\");\n    for (Provider provider : providerList.providers())\n    {\n        if (provider == instance.provider)\n        {\n            provider.put(\"Alg.Alias.SSLContext.TLS\", \"TLSv1.2\");\n        }\n    }\n}\n</code></pre>\n\n<p>Able to connect to Windows 10 with SQL server 2017 &amp; TLSv1.2 enabled OS.</p>\n"},{"tags":[],"owner":{"account_id":10256967,"reputation":61,"user_id":7569552,"display_name":"Omar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565183360,"creation_date":1565183360,"answer_id":57395253,"question_id":39157422,"body_markdown":"I solved this issue by using\r\n\r\n    Service.setSslSecurityProtocol(SSLSecurityProtocol.TLSv1_2);","title":"How to enable TLS 1.2 in Java 7","body":"<p>I solved this issue by using</p>\n\n<pre><code>Service.setSslSecurityProtocol(SSLSecurityProtocol.TLSv1_2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3830995,"reputation":53,"user_id":3176524,"display_name":"isubodh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581942154,"creation_date":1581942154,"answer_id":60262386,"question_id":39157422,"body_markdown":"I had similar issue when connecting to RDS Oracle even when client and server were both set to TLSv1.2 the certs was right and java was 1.8.0_141\r\nSo Finally I had to apply patch at [Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files][1]\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jce8-downloads.html\r\nAfter applying the patch the issue went away and connection went fine.\r\n","title":"How to enable TLS 1.2 in Java 7","body":"<p>I had similar issue when connecting to RDS Oracle even when client and server were both set to TLSv1.2 the certs was right and java was 1.8.0_141\nSo Finally I had to apply patch at <a href=\"https://www.oracle.com/java/technologies/javase-jce8-downloads.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files</a></p>\n\n<p>After applying the patch the issue went away and connection went fine.</p>\n"}],"owner":{"account_id":8592284,"reputation":603,"user_id":6436491,"display_name":"New Bee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246847,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":10,"score":60,"last_activity_date":1668370384,"creation_date":1472178141,"question_id":39157422,"body_markdown":"I am trying to enable TLS 1.2 in my web app which uses JBoss 6.4 and Java 1.7. I have `-Dhttp.protocols = TLSv1.2` in my application environment but it doesn&#39;t seem to work for me. \r\n\r\nIs there anything I could do to enable TLS 1.2?\r\n\r\nI wrote a simple program \r\n\r\n    context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    context.init(null,null,null);\r\n    SSLContext.setDefault(context); \r\n    SSLSocketFactory factory = (SSLSocketFactory)context.getSocketFactory();\r\n    SSLSocket socket = (SSLSocket)factory.createSocket();\r\n    protocols = socket.getEnabledProtocols();\r\n\r\nAfter running this program within the app the TLS 1.2 gets enabled. I do not want to run this program but I want to directly enable it during app startup. Is there any way to do it?\r\n","title":"How to enable TLS 1.2 in Java 7","body":"<p>I am trying to enable TLS 1.2 in my web app which uses JBoss 6.4 and Java 1.7. I have <code>-Dhttp.protocols = TLSv1.2</code> in my application environment but it doesn't seem to work for me. </p>\n\n<p>Is there anything I could do to enable TLS 1.2?</p>\n\n<p>I wrote a simple program </p>\n\n<pre><code>context = SSLContext.getInstance(\"TLSv1.2\");\ncontext.init(null,null,null);\nSSLContext.setDefault(context); \nSSLSocketFactory factory = (SSLSocketFactory)context.getSocketFactory();\nSSLSocket socket = (SSLSocket)factory.createSocket();\nprotocols = socket.getEnabledProtocols();\n</code></pre>\n\n<p>After running this program within the app the TLS 1.2 gets enabled. I do not want to run this program but I want to directly enable it during app startup. Is there any way to do it?</p>\n"},{"tags":["javascript","java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":2685104,"reputation":21,"user_id":2319658,"display_name":"Rohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668370132,"creation_date":1668370132,"answer_id":74424375,"question_id":73620464,"body_markdown":"Check the following code. This works well for me\r\n\r\n      private final ReactApplicationContext reactContext;\r\n      public LibraryModule(ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n      }\r\n    \r\n      @ReactMethod\r\n      public void resurrectApp(){\r\n        Intent launchIntent = reactContext.getPackageManager().getLaunchIntentForPackage(reactContext.getPackageName());\r\n        if (launchIntent != null) {\r\n          reactContext.startActivity(launchIntent);\r\n        }\r\n      }","title":"Bring the app to the foreground after event on react native","body":"<p>Check the following code. This works well for me</p>\n<pre><code>  private final ReactApplicationContext reactContext;\n  public LibraryModule(ReactApplicationContext reactContext) {\n    super(reactContext);\n    this.reactContext = reactContext;\n  }\n\n  @ReactMethod\n  public void resurrectApp(){\n    Intent launchIntent = reactContext.getPackageManager().getLaunchIntentForPackage(reactContext.getPackageName());\n    if (launchIntent != null) {\n      reactContext.startActivity(launchIntent);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":25435432,"reputation":16,"user_id":19239224,"display_name":"Ayoub Rouani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668370132,"creation_date":1662460046,"question_id":73620464,"body_markdown":"I&#39;m trying to bring my app to the foreground after the user hit the home button when my socket-io receives an event, after creating a bridge between my Javascript components and my java module the function works fine but my app  doesn&#39;t appear in front \r\n\r\nthis is my event (this event works fine too) : \r\n```\r\nconst onEvent = () =&gt; {\r\n   newRideCall.bringTheApp();\r\n}\r\n````\r\n\r\nand this is my module\r\n```\r\npackage com.taxitecdriverapp;\r\n\r\nimport android.content.Intent;\r\nimport android.widget.Toast;\r\nimport android.content.Context;\r\nimport android.app.ActivityManager;\r\n\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\n\r\nimport javax.annotation.Nonnull;\r\n\r\npublic class NewRideCallModule extends ReactContextBaseJavaModule {\r\n\r\n    public static final String REACT_CLASS = &quot;NewRideCall&quot;;\r\n    private static ReactApplicationContext reactContext;\r\n\r\n    public NewRideCallModule(@Nonnull ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n    }\r\n\r\n    @Nonnull\r\n    @Override\r\n    public String getName() {\r\n        return REACT_CLASS;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void bringTheApp() {\r\n\r\n        //I have ben try this first, not workin\r\n        Intent i = new Intent(reactContext, MainActivity.class);\r\n        i.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        reactContext.startActivity(i);\r\n\r\n         // and now this, both of them not working\r\n         Context context = getReactApplicationContext();\r\n         String pn = context.getApplicationContext().getPackageName();\r\n         Intent li = context.getPackageManager().getLaunchIntentForPackage(pn);\r\n         context.startActivity(li);\r\n\r\n         // this Toast shows up fine\r\n         Toast.makeText(reactContext, &quot;TAXITEC wakeLockPhone called 0&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n\r\n```","title":"Bring the app to the foreground after event on react native","body":"<p>I'm trying to bring my app to the foreground after the user hit the home button when my socket-io receives an event, after creating a bridge between my Javascript components and my java module the function works fine but my app  doesn't appear in front</p>\n<p>this is my event (this event works fine too) :</p>\n<pre><code>const onEvent = () =&gt; {\n   newRideCall.bringTheApp();\n}\n</code></pre>\n<p>and this is my module</p>\n<pre><code>package com.taxitecdriverapp;\n\nimport android.content.Intent;\nimport android.widget.Toast;\nimport android.content.Context;\nimport android.app.ActivityManager;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\nimport javax.annotation.Nonnull;\n\npublic class NewRideCallModule extends ReactContextBaseJavaModule {\n\n    public static final String REACT_CLASS = &quot;NewRideCall&quot;;\n    private static ReactApplicationContext reactContext;\n\n    public NewRideCallModule(@Nonnull ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n    }\n\n    @Nonnull\n    @Override\n    public String getName() {\n        return REACT_CLASS;\n    }\n\n    @ReactMethod\n    public void bringTheApp() {\n\n        //I have ben try this first, not workin\n        Intent i = new Intent(reactContext, MainActivity.class);\n        i.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT|Intent.FLAG_ACTIVITY_NEW_TASK);\n        reactContext.startActivity(i);\n\n         // and now this, both of them not working\n         Context context = getReactApplicationContext();\n         String pn = context.getApplicationContext().getPackageName();\n         Intent li = context.getPackageManager().getLaunchIntentForPackage(pn);\n         context.startActivity(li);\n\n         // this Toast shows up fine\n         Toast.makeText(reactContext, &quot;TAXITEC wakeLockPhone called 0&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","date","format"],"comments":[{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":0,"creation_date":1284456389,"post_id":3707485,"comment_id":3910438,"body_markdown":"type: date format in code differs from what you wrote next","body":"type: date format in code differs from what you wrote next"},{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":0,"creation_date":1284457281,"post_id":3707485,"comment_id":3910536,"body_markdown":"typo: &quot;type&quot; --&gt; &quot;typo&quot; in my prev comment, of course","body":"typo: &quot;type&quot; --&gt; &quot;typo&quot; in my prev comment, of course"},{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":0,"creation_date":1284458034,"post_id":3707485,"comment_id":3910646,"body_markdown":"btw, what do you think &quot;Sat Jan 31 00:42:48 CET 11&quot; is ? 0000/01/31 ?","body":"btw, what do you think &quot;Sat Jan 31 00:42:48 CET 11&quot; is ? 0000/01/31 ?"},{"owner":{"account_id":2012937,"reputation":643,"user_id":1800954,"accept_rate":89,"display_name":"russellelbert"},"score":1,"creation_date":1495039857,"post_id":3707485,"comment_id":75087770,"body_markdown":"although not accepted, the answers here http://stackoverflow.com/questions/3389348/parse-any-date-in-java offers some options that relate to the OP question","body":"although not accepted, the answers here <a href=\"http://stackoverflow.com/questions/3389348/parse-any-date-in-java\" title=\"parse any date in java\">stackoverflow.com/questions/3389348/parse-any-date-in-java</a> offers some options that relate to the OP question"}],"answers":[{"tags":[],"owner":{"account_id":39261,"reputation":85203,"user_id":113141,"accept_rate":75,"display_name":"Justin"},"down_vote_count":5,"up_vote_count":64,"is_accepted":true,"score":59,"last_activity_date":1284455809,"creation_date":1284455809,"answer_id":3707524,"question_id":3707485,"body_markdown":"You cant!\r\n\r\nIf you have the date `2010-08-05` then it can be either 5th August 2010, or 8th May 2010 - you **need** to know the date format (or at least prioritise one format over the over) to tell them apart.","title":"How to convert String to Date without knowing the format?","body":"<p>You cant!</p>\n\n<p>If you have the date <code>2010-08-05</code> then it can be either 5th August 2010, or 8th May 2010 - you <strong>need</strong> to know the date format (or at least prioritise one format over the over) to tell them apart.</p>\n"},{"tags":[],"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284457447,"creation_date":1284456259,"answer_id":3707574,"question_id":3707485,"body_markdown":"My only guess, is that you should gather some statistics first to figure out the format. \r\n\r\nIf you&#39;re lucky, you will have date like &quot;2010/08/13&quot; which can be parsed unambiguously","title":"How to convert String to Date without knowing the format?","body":"<p>My only guess, is that you should gather some statistics first to figure out the format. </p>\n\n<p>If you're lucky, you will have date like \"2010/08/13\" which can be parsed unambiguously</p>\n"},{"tags":[],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"PaweÅ‚ Dyda"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1284456526,"creation_date":1284456526,"answer_id":3707610,"question_id":3707485,"body_markdown":"Your problem is related to Internationalization. As Kragen answered, you can&#39;t just parse date in unknown format. Although you can scan all possible locales and parse **something**, but you wouldn&#39;t know if it was parsed correctly.\r\n\r\nJust a little i18n background: \r\n\r\nQ: Can you tell me what day month and year this date is referring to:\r\n\r\n09/11/10?\r\n\r\nA: Without knowing the locale, you can&#39;t. It could be anything. September, 11th in USA. November, 9th in Great Britain. And so on.","title":"How to convert String to Date without knowing the format?","body":"<p>Your problem is related to Internationalization. As Kragen answered, you can't just parse date in unknown format. Although you can scan all possible locales and parse <strong>something</strong>, but you wouldn't know if it was parsed correctly.</p>\n\n<p>Just a little i18n background: </p>\n\n<p>Q: Can you tell me what day month and year this date is referring to:</p>\n\n<p>09/11/10?</p>\n\n<p>A: Without knowing the locale, you can't. It could be anything. September, 11th in USA. November, 9th in Great Britain. And so on.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1439840021,"creation_date":1284456921,"answer_id":3707662,"question_id":3707485,"body_markdown":"I agree with Kragen that in the general case there is no correct solution. However, if the following conditions hold, you may use the solution below:\r\n\r\n1. You have a set of all possible formats\r\n\r\n2. There is no ambiguity between the formats; no date expression can be successfully parsed by two of them.\r\n\r\nConsider the following solution which iterates over a list of possible formats. This solution makes use of [`ThreadLocal`][1], in order to make date parsing efficient in a multi-threaded environment (remember that `SimpleDateFormat` isn&#39;t thread safe):\r\n\r\n    public class FlexibleDateParser {\r\n    \tprivate List&lt;ThreadLocal&lt;SimpleDateFormat&gt;&gt; threadLocals = new  ArrayList&lt;ThreadLocal&lt;SimpleDateFormat&gt;&gt;();\r\n    \r\n    \tpublic FlexibleDateParser(List&lt;String&gt; formats, final TimeZone tz){\r\n    \t\tthreadLocals.clear();\r\n    \t\tfor (final String format : formats) {\r\n    \t\t\tThreadLocal&lt;SimpleDateFormat&gt; dateFormatTL = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n    \t\t\t\tprotected SimpleDateFormat initialValue() {\r\n    \t\t\t\t\tSimpleDateFormat sdf = new SimpleDateFormat(format);\r\n    \t\t\t\t\tsdf.setTimeZone(tz); \r\n    \t\t\t\t\tsdf.setLenient(false);\r\n    \t\t\t\t\treturn sdf;\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\tthreadLocals.add(dateFormatTL);\r\n    \t\t}\t\t\r\n    \t}\r\n    \t\r\n    \tpublic Date parseDate(String dateStr) throws ParseException {\r\n    \t\tfor (ThreadLocal&lt;SimpleDateFormat&gt; tl : threadLocals) {\r\n    \t\t\tSimpleDateFormat sdf = tl.get();\r\n    \t\t\ttry {\r\n    \t\t\t\treturn sdf.parse(dateStr);\r\n    \t\t\t} catch (ParseException e) {\r\n    \t\t\t\t// Ignore and try next date parser\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// All parsers failed\r\n    \t\treturn null;\r\n    \t}\t\t\r\n    }\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/dd642243.aspx","title":"How to convert String to Date without knowing the format?","body":"<p>I agree with Kragen that in the general case there is no correct solution. However, if the following conditions hold, you may use the solution below:</p>\n\n<ol>\n<li><p>You have a set of all possible formats</p></li>\n<li><p>There is no ambiguity between the formats; no date expression can be successfully parsed by two of them.</p></li>\n</ol>\n\n<p>Consider the following solution which iterates over a list of possible formats. This solution makes use of <a href=\"http://msdn.microsoft.com/en-us/library/dd642243.aspx\" rel=\"noreferrer\"><code>ThreadLocal</code></a>, in order to make date parsing efficient in a multi-threaded environment (remember that <code>SimpleDateFormat</code> isn't thread safe):</p>\n\n<pre><code>public class FlexibleDateParser {\n    private List&lt;ThreadLocal&lt;SimpleDateFormat&gt;&gt; threadLocals = new  ArrayList&lt;ThreadLocal&lt;SimpleDateFormat&gt;&gt;();\n\n    public FlexibleDateParser(List&lt;String&gt; formats, final TimeZone tz){\n        threadLocals.clear();\n        for (final String format : formats) {\n            ThreadLocal&lt;SimpleDateFormat&gt; dateFormatTL = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n                protected SimpleDateFormat initialValue() {\n                    SimpleDateFormat sdf = new SimpleDateFormat(format);\n                    sdf.setTimeZone(tz); \n                    sdf.setLenient(false);\n                    return sdf;\n                }\n            };\n            threadLocals.add(dateFormatTL);\n        }       \n    }\n\n    public Date parseDate(String dateStr) throws ParseException {\n        for (ThreadLocal&lt;SimpleDateFormat&gt; tl : threadLocals) {\n            SimpleDateFormat sdf = tl.get();\n            try {\n                return sdf.parse(dateStr);\n            } catch (ParseException e) {\n                // Ignore and try next date parser\n            }\n        }\n        // All parsers failed\n        return null;\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155900,"reputation":4343,"user_id":372860,"accept_rate":91,"display_name":"oksayt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1622164308,"creation_date":1284457276,"answer_id":3707708,"question_id":3707485,"body_markdown":"As noted before, you need to at least have an ordered list of pattern candidates. Once you have that, [Apache DateUtils][1] has a `parseDate(String dateString, String[] patterns)` method that lets you easily try out a list of patterns on your date string, and parse it by the first one that matches:\r\n\r\n    public static Date parseDate(String str,\r\n                             String[] parsePatterns)\r\n                      throws ParseException\r\n\r\n&gt;Parses a string representing a date by trying a variety of different parsers.\r\n\r\n&gt;The parse will try each parse pattern in turn. A parse is only deemed successful if it parses the whole of the input string. If no parse patterns match, a ParseException is thrown.\r\n\r\n&gt;The parser will be lenient toward the parsed date. \r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#parseDate-java.lang.String-java.lang.String...-","title":"How to convert String to Date without knowing the format?","body":"<p>As noted before, you need to at least have an ordered list of pattern candidates. Once you have that, <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#parseDate-java.lang.String-java.lang.String...-\" rel=\"nofollow noreferrer\">Apache DateUtils</a> has a <code>parseDate(String dateString, String[] patterns)</code> method that lets you easily try out a list of patterns on your date string, and parse it by the first one that matches:</p>\n<pre><code>public static Date parseDate(String str,\n                         String[] parsePatterns)\n                  throws ParseException\n</code></pre>\n<blockquote>\n<p>Parses a string representing a date by trying a variety of different parsers.</p>\n</blockquote>\n<blockquote>\n<p>The parse will try each parse pattern in turn. A parse is only deemed successful if it parses the whole of the input string. If no parse patterns match, a ParseException is thrown.</p>\n</blockquote>\n<blockquote>\n<p>The parser will be lenient toward the parsed date.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":33004,"reputation":5149,"user_id":92018,"accept_rate":100,"display_name":"KarlP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1284458122,"creation_date":1284458122,"answer_id":3707805,"question_id":3707485,"body_markdown":"If its a protocol; define the format - perhaps ISO that will irritate everyone except us in sweden...\r\n\r\nIf it input from users; Let them set their locale. If you can do it, show the parsed date in full format so the user can verify it, like November 10, 2009. \r\n\r\n","title":"How to convert String to Date without knowing the format?","body":"<p>If its a protocol; define the format - perhaps ISO that will irritate everyone except us in sweden...</p>\n\n<p>If it input from users; Let them set their locale. If you can do it, show the parsed date in full format so the user can verify it, like November 10, 2009. </p>\n"},{"tags":[],"owner":{"account_id":1901277,"reputation":1,"user_id":1717099,"display_name":"Vignesh Anand"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1361622370,"creation_date":1361622370,"answer_id":15040515,"question_id":3707485,"body_markdown":"    public  String compareDate( PaymentTxnRequest request ) throws ParseException { \r\n    \t    Date debitDate=\trequest.getPaymentTxn().getCrValDt();\r\n    \t\tDate now = new Date();\r\n    \t\tString response=&quot;&quot;;\r\n    \t    SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t    String strCurrDate = sdfDate.format(now);\r\n    \t    String strDebitDate = sdfDate.format(debitDate);\r\n    \t    System.out.println(&quot;Current Date: &quot; + strCurrDate);\r\n    \t    Date currentDate =  new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(strCurrDate);\r\n    \t    Date txnDate =  new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(strDebitDate);\r\n    \t    System.out.println(&quot;C -&gt; &quot;+currentDate);\r\n    \t    System.out.println(&quot;C -&gt; &quot;+txnDate); \r\n    \t  \t if (txnDate!=null){\r\n    \t\t if (currentDate.equals(txnDate))\r\n    \t\t {\r\n    \t\t\t System.out.println(&quot;Valid Txn&quot;);\r\n    \t\t\t response=&quot;valid&quot;;\r\n    \t\t }\r\n    \t\t if (currentDate.after(txnDate))\r\n        \t {\r\n    \t     \tSystem.out.println(&quot;--&gt; Not  Valid TXN Past&quot;);\t \r\n    \t\t    response=&quot;notValid&quot;;\r\n        \t }\r\n    \t\tif (currentDateenter code here.before(txnDate)){\r\n    \t\t\tSystem.out.println(&quot;Future Valid TXn&quot;);\r\n    \t\t\t response=&quot;future&quot;;\r\n    \t\t}\r\n    \t }\r\n    \t\treturn response;\r\n    \t}","title":"How to convert String to Date without knowing the format?","body":"<pre><code>public  String compareDate( PaymentTxnRequest request ) throws ParseException { \n        Date debitDate= request.getPaymentTxn().getCrValDt();\n        Date now = new Date();\n        String response=\"\";\n        SimpleDateFormat sdfDate = new SimpleDateFormat(\"dd/MM/yyyy\");\n        String strCurrDate = sdfDate.format(now);\n        String strDebitDate = sdfDate.format(debitDate);\n        System.out.println(\"Current Date: \" + strCurrDate);\n        Date currentDate =  new SimpleDateFormat(\"dd/MM/yyyy\").parse(strCurrDate);\n        Date txnDate =  new SimpleDateFormat(\"dd/MM/yyyy\").parse(strDebitDate);\n        System.out.println(\"C -&gt; \"+currentDate);\n        System.out.println(\"C -&gt; \"+txnDate); \n         if (txnDate!=null){\n         if (currentDate.equals(txnDate))\n         {\n             System.out.println(\"Valid Txn\");\n             response=\"valid\";\n         }\n         if (currentDate.after(txnDate))\n         {\n            System.out.println(\"--&gt; Not  Valid TXN Past\");   \n            response=\"notValid\";\n         }\n        if (currentDateenter code here.before(txnDate)){\n            System.out.println(\"Future Valid TXn\");\n             response=\"future\";\n        }\n     }\n        return response;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482717,"reputation":1009,"user_id":897302,"accept_rate":59,"display_name":"bjoern"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1393444912,"creation_date":1393444912,"answer_id":22052029,"question_id":3707485,"body_markdown":"Here is a quick and dirty solution based on american date formats.\r\n\r\n    public Date parseDate(String strDate) throws Exception\r\n    {\r\n    \tif (strDate != null &amp;&amp; !strDate.isEmpty())\r\n    \t{\r\n    \t\tSimpleDateFormat[] formats =\r\n    \t\t\t\tnew SimpleDateFormat[] {new SimpleDateFormat(&quot;MM-dd-yyyy&quot;), new SimpleDateFormat(&quot;yyyyMMdd&quot;),\r\n    \t\t\t\t\t\tnew SimpleDateFormat(&quot;MM/dd/yyyy&quot;)};\r\n    \r\n    \t\tDate parsedDate = null;\r\n    \r\n    \t\tfor (int i = 0; i &lt; formats.length; i++)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tparsedDate = formats[i].parse(strDate);\r\n    \t\t\t\treturn parsedDate;\r\n    \t\t\t}\r\n    \t\t\tcatch (ParseException e)\r\n    \t\t\t{\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tthrow new Exception(&quot;Unknown date format: &#39;&quot; + strDate + &quot;&#39;&quot;);\r\n    }","title":"How to convert String to Date without knowing the format?","body":"<p>Here is a quick and dirty solution based on american date formats.</p>\n\n<pre><code>public Date parseDate(String strDate) throws Exception\n{\n    if (strDate != null &amp;&amp; !strDate.isEmpty())\n    {\n        SimpleDateFormat[] formats =\n                new SimpleDateFormat[] {new SimpleDateFormat(\"MM-dd-yyyy\"), new SimpleDateFormat(\"yyyyMMdd\"),\n                        new SimpleDateFormat(\"MM/dd/yyyy\")};\n\n        Date parsedDate = null;\n\n        for (int i = 0; i &lt; formats.length; i++)\n        {\n            try\n            {\n                parsedDate = formats[i].parse(strDate);\n                return parsedDate;\n            }\n            catch (ParseException e)\n            {\n                continue;\n            }\n        }\n    }\n    throw new Exception(\"Unknown date format: '\" + strDate + \"'\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1448628442,"creation_date":1448628442,"answer_id":33957779,"question_id":3707485,"body_markdown":"Here is the simple solution, which is worked for me.\r\nThis is the simple method to parse the date, pass the String as argument &amp; parse it in any format those you want.\r\n\r\n    String dateToConvert(String date) {\r\n            String strDate = &quot;&quot;;\r\n            try {\r\n                //create SimpleDateFormat object with source string date format\r\n                DateFormat sdfSource = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \r\n                //parse the string into Date object\r\n                Date d = sdfSource.parse(date);\r\n                LocalLog.e(LOG_TAG, d.toString());\r\n                //create SimpleDateFormat object with desired date format\r\n                SimpleDateFormat sdfDestination = new SimpleDateFormat(AppConstants.UNIVERSAL_DATE_FORMAT);\r\n    \r\n                //parse the date into another format\r\n                strDate = sdfDestination.format(d);\r\n    \r\n                LocalLog.e(LOG_TAG, strDate);\r\n    \r\n            } catch (ParseException pe) {\r\n                System.out.println(&quot;Parse Exception : &quot; + pe);\r\n            }\r\n            return strDate;\r\n        }","title":"How to convert String to Date without knowing the format?","body":"<p>Here is the simple solution, which is worked for me.\nThis is the simple method to parse the date, pass the String as argument &amp; parse it in any format those you want.</p>\n\n<pre><code>String dateToConvert(String date) {\n        String strDate = \"\";\n        try {\n            //create SimpleDateFormat object with source string date format\n            DateFormat sdfSource = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n            //parse the string into Date object\n            Date d = sdfSource.parse(date);\n            LocalLog.e(LOG_TAG, d.toString());\n            //create SimpleDateFormat object with desired date format\n            SimpleDateFormat sdfDestination = new SimpleDateFormat(AppConstants.UNIVERSAL_DATE_FORMAT);\n\n            //parse the date into another format\n            strDate = sdfDestination.format(d);\n\n            LocalLog.e(LOG_TAG, strDate);\n\n        } catch (ParseException pe) {\n            System.out.println(\"Parse Exception : \" + pe);\n        }\n        return strDate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668370117,"creation_date":1560346928,"answer_id":56563675,"question_id":3707485,"body_markdown":"I once had a task to write a code that would parse a String to date where date format was not known in advance. I.e. I had to parse any valid date format. I wrote a project and after that I wrote an article that described the idea behind my implementation. Here is the link to the article: [Java 8 java.time package: parsing any string to date][1]. General Idea is to write all the patterns that you wish to support into external properties file and read them from there and try to parse your String by those formats one by one until you succeed or run out of formats. Note that the order also would be important as some Strings may be valid for several formats (US/European differences). Advantage is that you can keep adding/removing formats to the file without changing your code. So such project could also be customized for different customers\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/","title":"How to convert String to Date without knowing the format?","body":"<p>I once had a task to write a code that would parse a String to date where date format was not known in advance. I.e. I had to parse any valid date format. I wrote a project and after that I wrote an article that described the idea behind my implementation. Here is the link to the article: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a>. General Idea is to write all the patterns that you wish to support into external properties file and read them from there and try to parse your String by those formats one by one until you succeed or run out of formats. Note that the order also would be important as some Strings may be valid for several formats (US/European differences). Advantage is that you can keep adding/removing formats to the file without changing your code. So such project could also be customized for different customers</p>\n"},{"tags":[],"owner":{"account_id":6187268,"reputation":3,"user_id":4821021,"display_name":"Rajat Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649046179,"creation_date":1649046179,"answer_id":71732004,"question_id":3707485,"body_markdown":"I created a utility that tries to parse some common date formats.\r\nIt tries to check which digit is greater than 12 or else if both are less than 12 it prefers user-defined boolean preferMonthFirst based on which it will choose between `MM/dd/yyyy` or `dd/MM/yyyy` \r\n\r\nIt also accepts prefer24HourTime boolean for parsing time.\r\n\r\nI did not use the list and iterate over it and try to parse it and tried to catch exception because Exceptions are costlier. So based on separator and length I tried to find the date format.\r\n\r\nYou can find usages in the test cases.\r\n\r\nhttps://github.com/rajat-g/DateParser","title":"How to convert String to Date without knowing the format?","body":"<p>I created a utility that tries to parse some common date formats.\nIt tries to check which digit is greater than 12 or else if both are less than 12 it prefers user-defined boolean preferMonthFirst based on which it will choose between <code>MM/dd/yyyy</code> or <code>dd/MM/yyyy</code></p>\n<p>It also accepts prefer24HourTime boolean for parsing time.</p>\n<p>I did not use the list and iterate over it and try to parse it and tried to catch exception because Exceptions are costlier. So based on separator and length I tried to find the date format.</p>\n<p>You can find usages in the test cases.</p>\n<p><a href=\"https://github.com/rajat-g/DateParser\" rel=\"nofollow noreferrer\">https://github.com/rajat-g/DateParser</a></p>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119155,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":3707524,"answer_count":11,"score":62,"last_activity_date":1668370117,"creation_date":1284455574,"question_id":3707485,"body_markdown":"I have a problem. I am trying to convert some strings to date, and I don&#39;t know the format the date is arriving.\r\n\r\nIt might come as `yyyy.mm.dd hh:mm:ss` or `MM.dd.yy hh:mm:ss` and so on.\r\n\r\nHow can I convert these strings to Date?\r\nI tried this:\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\r\n    Date d = (Date)formatter.parse(someDate);\r\n\r\nBut when I printed out someDate it printed out like this: 2010-08-05 12:42:48.638 CEST which means `yyyy.mm.dd hh:mm:ss`, however when I ran the above code, the date object now became `Sat Jan 31 00:42:48 CET 11` which is strange to say the least.\r\n\r\nAny ideas how I can correctly format strings to date?","title":"How to convert String to Date without knowing the format?","body":"<p>I have a problem. I am trying to convert some strings to date, and I don't know the format the date is arriving.</p>\n\n<p>It might come as <code>yyyy.mm.dd hh:mm:ss</code> or <code>MM.dd.yy hh:mm:ss</code> and so on.</p>\n\n<p>How can I convert these strings to Date?\nI tried this:</p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss\");\nDate d = (Date)formatter.parse(someDate);\n</code></pre>\n\n<p>But when I printed out someDate it printed out like this: 2010-08-05 12:42:48.638 CEST which means <code>yyyy.mm.dd hh:mm:ss</code>, however when I ran the above code, the date object now became <code>Sat Jan 31 00:42:48 CET 11</code> which is strange to say the least.</p>\n\n<p>Any ideas how I can correctly format strings to date?</p>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1668360945,"post_id":74423147,"comment_id":131381052,"body_markdown":"*enaLLLmnee (returns 0 when it should be 1)*  Why?  Also, are you looking for the string backwards too?  And what do you mean by ignoring second letter?  Please update your question to explain and provide additional detail on what `&quot;works&quot;` means.","body":"<i>enaLLLmnee (returns 0 when it should be 1)</i>  Why?  Also, are you looking for the string backwards too?  And what do you mean by ignoring second letter?  Please update your question to explain and provide additional detail on what <code>&quot;works&quot;</code> means."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668364352,"post_id":74423147,"comment_id":131381833,"body_markdown":"@WJS OP meant that any substring having three matching characters, *except the second one*, like `&quot;LXne&quot;`, can be considered a valid match to the target string `&quot;line&quot;`. Therefore, `&quot;enaLLLmnee&quot;` contains `1` matching substring: `&quot;Lmne&quot;`.","body":"@WJS OP meant that any substring having three matching characters, <i>except the second one</i>, like <code>&quot;LXne&quot;</code>, can be considered a valid match to the target string <code>&quot;line&quot;</code>. Therefore, <code>&quot;enaLLLmnee&quot;</code> contains <code>1</code> matching substring: <code>&quot;Lmne&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668367186,"creation_date":1668361725,"answer_id":74423343,"question_id":74423147,"body_markdown":"Basically, you need to iterate over the given string, checking if the current character is equal to `&#39;l&#39;` (*the first character of* `&quot;lane&quot;`).\r\n\r\nAnd if the that&#39;s the case, you need to check the if character at the current index `+2` and `+3` match `&#39;n&#39;` and `&#39;e&#39;` respectively. If all these characters match, the number of occurrences should be incremented and the index advanced by `3` to avoid double-checking the same positions.\r\n\r\n***Note** that termination condition in the loop is* `i &lt; lower.length() - 3` *because the length of the target string* `&quot;lane&quot;` is `4` *and while checking the first character of a substring at index* `i` *we need to be able to the last substring character at index* `i + 3`.\r\n\r\n    public static int getOccurrences(String s) {\r\n        String lower = s.toLowerCase();\r\n        int occurrences = 0;\r\n        \r\n        for (int i = 0; i &lt; lower.length() - 3; i++) {\r\n            if (lower.charAt(i) == &#39;l&#39; &amp;&amp;\r\n                lower.charAt(i + 2) == &#39;n&#39; &amp;&amp;\r\n                lower.charAt(i + 3) == &#39;e&#39;) {\r\n\r\n                occurrences++; // incrementing the number of occurrences\r\n                i += 3;        // advancing the index\r\n            }\r\n        }\r\n        return occurrences;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getOccurrences(&quot;Lanee&quot;));\r\n        System.out.println(getOccurrences(&quot;LineLone&quot;));\r\n        System.out.println(getOccurrences(&quot;LLoenLL&quot;));\r\n        System.out.println(getOccurrences(&quot;enaLLLmnee&quot;));\r\n        System.out.println(getOccurrences(&quot;LLONElllneL&quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n1\r\n2\r\n0\r\n1\r\n2\r\n```","title":"Count all 4-letter Substring within the given String that matches ignore case a particular String","body":"<p>Basically, you need to iterate over the given string, checking if the current character is equal to <code>'l'</code> (<em>the first character of</em> <code>&quot;lane&quot;</code>).</p>\n<p>And if the that's the case, you need to check the if character at the current index <code>+2</code> and <code>+3</code> match <code>'n'</code> and <code>'e'</code> respectively. If all these characters match, the number of occurrences should be incremented and the index advanced by <code>3</code> to avoid double-checking the same positions.</p>\n<p><em><strong>Note</strong> that termination condition in the loop is</em> <code>i &lt; lower.length() - 3</code> <em>because the length of the target string</em> <code>&quot;lane&quot;</code> is <code>4</code> <em>and while checking the first character of a substring at index</em> <code>i</code> <em>we need to be able to the last substring character at index</em> <code>i + 3</code>.</p>\n<pre><code>public static int getOccurrences(String s) {\n    String lower = s.toLowerCase();\n    int occurrences = 0;\n    \n    for (int i = 0; i &lt; lower.length() - 3; i++) {\n        if (lower.charAt(i) == 'l' &amp;&amp;\n            lower.charAt(i + 2) == 'n' &amp;&amp;\n            lower.charAt(i + 3) == 'e') {\n\n            occurrences++; // incrementing the number of occurrences\n            i += 3;        // advancing the index\n        }\n    }\n    return occurrences;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getOccurrences(&quot;Lanee&quot;));\n    System.out.println(getOccurrences(&quot;LineLone&quot;));\n    System.out.println(getOccurrences(&quot;LLoenLL&quot;));\n    System.out.println(getOccurrences(&quot;enaLLLmnee&quot;));\n    System.out.println(getOccurrences(&quot;LLONElllneL&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n2\n0\n1\n2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668369663,"creation_date":1668369663,"answer_id":74424311,"question_id":74423147,"body_markdown":"You can also make use of regular expressions to solve this.\r\n```\r\npublic static void main(String[] args) {\r\n    System.out.println(getOccurrences(&quot;Lanee&quot;));\r\n    System.out.println(getOccurrences(&quot;LineLone&quot;));\r\n    System.out.println(getOccurrences(&quot;LLoenLL&quot;));\r\n    System.out.println(getOccurrences(&quot;enaLLLmnee&quot;));\r\n    System.out.println(getOccurrences(&quot;LLONElllneL&quot;));\r\n}\r\n```\r\nprints\r\n```\r\n1\r\n2\r\n0\r\n1\r\n2\r\n```\r\nRegular expressions can be used to match patterns in strings\r\n- `(?i)` - uses the `i` flag which says ignore case when matching\r\n- `l.ne` - is the string to match. The `.` stands for any character\r\n- the Matcher takes the source string and iterates across the string trying to find matches.  If it returns true, count is updated.\r\n```\r\npublic static int getOccurrences(String s) {\r\n   Matcher m = Pattern.compile(&quot;(?i)l.ne&quot;).matcher(s);\r\n   int count = 0;\r\n   while (m.find()) {\r\n       count++;\r\n   }\r\n   return count;\r\n}\r\n```\r\n\r\nYou could also use the following method signature to take *any* target string. Then you just need to build the expression using the target.\r\n```\r\npublic static int getOccurrences(String s, String target) {\r\n    String expression = &quot;(?i)&quot;+target.substring(0,1)+&quot;.&quot;+target.substring(2);\r\n    Matcher m = Pattern.compile(expression).matcher(s);\r\n    int count = 0;\r\n    while (m.find()) {\r\n        count++;\r\n    }\r\n    return count;\r\n}\r\n```\r\nCalling it like this, the output would be the same.\r\n```\r\nSystem.out.println(getOccurrences(&quot;Lanee&quot;, &quot;lane&quot;));\r\nSystem.out.println(getOccurrences(&quot;LineLone&quot;, &quot;LANE&quot;));\r\nSystem.out.println(getOccurrences(&quot;LLoenLL&quot;, &quot;LaNe&quot;));\r\nSystem.out.println(getOccurrences(&quot;enaLLLmnee&quot;,&quot;lanE&quot;));\r\nSystem.out.println(getOccurrences(&quot;LLONElllneL&quot;, &quot;Lane&quot;));","title":"Count all 4-letter Substring within the given String that matches ignore case a particular String","body":"<p>You can also make use of regular expressions to solve this.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getOccurrences(&quot;Lanee&quot;));\n    System.out.println(getOccurrences(&quot;LineLone&quot;));\n    System.out.println(getOccurrences(&quot;LLoenLL&quot;));\n    System.out.println(getOccurrences(&quot;enaLLLmnee&quot;));\n    System.out.println(getOccurrences(&quot;LLONElllneL&quot;));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1\n2\n0\n1\n2\n</code></pre>\n<p>Regular expressions can be used to match patterns in strings</p>\n<ul>\n<li><code>(?i)</code> - uses the <code>i</code> flag which says ignore case when matching</li>\n<li><code>l.ne</code> - is the string to match. The <code>.</code> stands for any character</li>\n<li>the Matcher takes the source string and iterates across the string trying to find matches.  If it returns true, count is updated.</li>\n</ul>\n<pre><code>public static int getOccurrences(String s) {\n   Matcher m = Pattern.compile(&quot;(?i)l.ne&quot;).matcher(s);\n   int count = 0;\n   while (m.find()) {\n       count++;\n   }\n   return count;\n}\n</code></pre>\n<p>You could also use the following method signature to take <em>any</em> target string. Then you just need to build the expression using the target.</p>\n<pre><code>public static int getOccurrences(String s, String target) {\n    String expression = &quot;(?i)&quot;+target.substring(0,1)+&quot;.&quot;+target.substring(2);\n    Matcher m = Pattern.compile(expression).matcher(s);\n    int count = 0;\n    while (m.find()) {\n        count++;\n    }\n    return count;\n}\n</code></pre>\n<p>Calling it like this, the output would be the same.</p>\n<pre><code>System.out.println(getOccurrences(&quot;Lanee&quot;, &quot;lane&quot;));\nSystem.out.println(getOccurrences(&quot;LineLone&quot;, &quot;LANE&quot;));\nSystem.out.println(getOccurrences(&quot;LLoenLL&quot;, &quot;LaNe&quot;));\nSystem.out.println(getOccurrences(&quot;enaLLLmnee&quot;,&quot;lanE&quot;));\nSystem.out.println(getOccurrences(&quot;LLONElllneL&quot;, &quot;Lane&quot;));\n</code></pre>\n"}],"owner":{"account_id":19031025,"reputation":13,"user_id":13893138,"display_name":"NDTurtle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74423343,"answer_count":2,"score":1,"last_activity_date":1668369663,"creation_date":1668360179,"question_id":74423147,"body_markdown":"I need to create a program in Java that finds all the occurrences of a 4-letter string, in this case `&quot;lane&quot;`, within the given String.\r\n\r\nComparison should be case-insensitive, and the second letter of the matching substring should not be taken into account while evaluating whether a substring matches or not.\r\n\r\nMy current code can handle some cases, but in others it returns an incorrect number of occurrences or produces an `IndexOutOfBoundsException`. \r\n\r\nI tried the following cases:\r\n\r\n1. `&quot;Lanee&quot;` - returns `1`, as expected (`&quot;Lane&quot;` matches `&quot;lane&quot;`).\r\n2. `&quot;LineLone&quot;` - returns `2`, as expected (both `&quot;Line&quot;` and &quot;Lone&quot;` match `&quot;lane&quot;`).\r\n3. `&quot;LLoenLL&quot;` - produces an `IndexOutOfBoundsException`.\r\n4. `&quot;enaLLLmnee&quot;` - returns `0`, but should be `1`\r\n5. `&quot;LLONElllneL&quot;` - produces an `IndexOutOfBoundsException`.\r\n\r\n*My code:*\r\n\r\n    public class Stringer {\r\n\r\n        public Stringer() {}\r\n        \r\n        public int getOccurrences(String s) {\r\n\r\n            String lower = s.toLowerCase();\r\n            int occurrences = 0;\r\n            int x = 0;\r\n\r\n            while (x &lt; lower.length()) {\r\n                int traverser = lower.indexOf(&quot;l&quot;, x);\r\n                if (traverser != -1 &amp;&amp; lower.length() &gt; 3) {\r\n                    String sub = lower.substring(x += 2, x += 2);\r\n\r\n                    if (sub.equals(&quot;ne&quot;)) {\r\n                        occurrences++;\r\n                    }\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            return occurrences;\r\n        }\r\n    }\r\n\r\n\r\nHow can I resolve this issue?","title":"Count all 4-letter Substring within the given String that matches ignore case a particular String","body":"<p>I need to create a program in Java that finds all the occurrences of a 4-letter string, in this case <code>&quot;lane&quot;</code>, within the given String.</p>\n<p>Comparison should be case-insensitive, and the second letter of the matching substring should not be taken into account while evaluating whether a substring matches or not.</p>\n<p>My current code can handle some cases, but in others it returns an incorrect number of occurrences or produces an <code>IndexOutOfBoundsException</code>.</p>\n<p>I tried the following cases:</p>\n<ol>\n<li><code>&quot;Lanee&quot;</code> - returns <code>1</code>, as expected (<code>&quot;Lane&quot;</code> matches <code>&quot;lane&quot;</code>).</li>\n<li><code>&quot;LineLone&quot;</code> - returns <code>2</code>, as expected (both <code>&quot;Line&quot;</code> and &quot;Lone&quot;<code>match</code>&quot;lane&quot;`).</li>\n<li><code>&quot;LLoenLL&quot;</code> - produces an <code>IndexOutOfBoundsException</code>.</li>\n<li><code>&quot;enaLLLmnee&quot;</code> - returns <code>0</code>, but should be <code>1</code></li>\n<li><code>&quot;LLONElllneL&quot;</code> - produces an <code>IndexOutOfBoundsException</code>.</li>\n</ol>\n<p><em>My code:</em></p>\n<pre><code>public class Stringer {\n\n    public Stringer() {}\n    \n    public int getOccurrences(String s) {\n\n        String lower = s.toLowerCase();\n        int occurrences = 0;\n        int x = 0;\n\n        while (x &lt; lower.length()) {\n            int traverser = lower.indexOf(&quot;l&quot;, x);\n            if (traverser != -1 &amp;&amp; lower.length() &gt; 3) {\n                String sub = lower.substring(x += 2, x += 2);\n\n                if (sub.equals(&quot;ne&quot;)) {\n                    occurrences++;\n                }\n            } else {\n                break;\n            }\n        }\n        return occurrences;\n    }\n}\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","maven","gson"],"answers":[{"tags":[],"owner":{"account_id":19084110,"reputation":26,"user_id":13935737,"display_name":"ArgentumPride"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668369423,"creation_date":1594822880,"answer_id":62917101,"question_id":62916419,"body_markdown":"You got wrong import com.google.gson; \r\nIt&#39;s should be replaced by **import com.google.gson.*** or **import com.google.gson.Gson**, if that doesn&#39;t help, try to reimport dependencies through Maven tool, as shown in the screenshot below.\r\n\r\n![screenshot]\r\n\r\nHope that will help.\r\n\r\n\r\n  [screenshot]: https://i.stack.imgur.com/kQywR.png","title":"Intellij Java Maven Gson import doesn&#39;t work - package doesn&#39;t exist","body":"<p>You got wrong import com.google.gson;\nIt's should be replaced by <strong>import com.google.gson.</strong>* or <strong>import com.google.gson.Gson</strong>, if that doesn't help, try to reimport dependencies through Maven tool, as shown in the screenshot below.</p>\n<p><img src=\"https://i.stack.imgur.com/kQywR.png\" alt=\"screenshot\" /></p>\n<p>Hope that will help.</p>\n"},{"tags":[],"owner":{"account_id":12948889,"reputation":11,"user_id":9362351,"display_name":"maysam babaei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668369365,"creation_date":1610870164,"answer_id":65758407,"question_id":62916419,"body_markdown":"Go to File -&gt; Project Structure click on the library tab on the side. You can add or remove any libraries.\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yTxZ0.png","title":"Intellij Java Maven Gson import doesn&#39;t work - package doesn&#39;t exist","body":"<p>Go to File -&gt; Project Structure click on the library tab on the side. You can add or remove any libraries.</p>\n<p><img src=\"https://i.stack.imgur.com/yTxZ0.png\" alt=\"Screenshot\" /></p>\n"}],"owner":{"account_id":12865856,"reputation":59,"user_id":9306171,"display_name":"Shao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62917101,"answer_count":2,"score":1,"last_activity_date":1668369423,"creation_date":1594820868,"question_id":62916419,"body_markdown":"I want to use the gson library from com.google and tried adding it to my Maven-project via the pom, the module maven import, etc, but even though it shows up in my external libraries, Intellij tells me, that package doesn&#39;t exist. I tried reloading, restarting, removing it, invalidating the chache etc, nothing helps, can anybody help please?\r\n```\r\nimport com.google.gson \r\n\r\n```\r\nand the specific errorcode:\r\n\r\n```\r\nError:(9, 18) java: package com.google does not exist\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1In1w.png\r\n\r\nMy .pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.Avalon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Battlesheet&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Avalon&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.14&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.14&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;15-ea+6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-assembly-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;assembly.Launcher&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;assembly.Launcher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n","title":"Intellij Java Maven Gson import doesn&#39;t work - package doesn&#39;t exist","body":"<p>I want to use the gson library from com.google and tried adding it to my Maven-project via the pom, the module maven import, etc, but even though it shows up in my external libraries, Intellij tells me, that package doesn't exist. I tried reloading, restarting, removing it, invalidating the chache etc, nothing helps, can anybody help please?</p>\n<pre><code>import com.google.gson \n\n</code></pre>\n<p>and the specific errorcode:</p>\n<pre><code>Error:(9, 18) java: package com.google does not exist\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1In1w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1In1w.png\" alt=\"enter image description here\" /></a></p>\n<p>My .pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.Avalon&lt;/groupId&gt;\n    &lt;artifactId&gt;Battlesheet&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Avalon&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;15-ea+6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-assembly-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;assembly.Launcher&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;assembly.Launcher&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n"},{"tags":["java","android","exception","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":2273443,"reputation":12839,"user_id":2000300,"accept_rate":50,"display_name":"pdegand59"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466082461,"creation_date":1466082461,"answer_id":37860210,"question_id":37859582,"body_markdown":"You should use `((FirebaseAuthException)task.getException()).getErrorCode()` to get the type of error and fail gracefully if this is the error code for a bad formatted email.\r\n\r\nUnfortunately, I couldn&#39;t find the list of error codes used by Firebase. \r\nTrigger the exception once, note the error code and code accordingly.","title":"How to catch a Firebase Auth specific exceptions","body":"<p>You should use <code>((FirebaseAuthException)task.getException()).getErrorCode()</code> to get the type of error and fail gracefully if this is the error code for a bad formatted email.</p>\n\n<p>Unfortunately, I couldn't find the list of error codes used by Firebase. \nTrigger the exception once, note the error code and code accordingly.</p>\n"},{"tags":[],"owner":{"account_id":6905902,"reputation":636,"user_id":5303797,"display_name":"Anmol Bhardwaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466083145,"creation_date":1466083145,"answer_id":37860491,"question_id":37859582,"body_markdown":"If you are sending upstream messages from user to cloud, implement firebase callback functions `onMessageSent` and `onSendError` to check the status of upstream messages. In error cases, `onSendError` returns a **SendException** with an error code.\r\n\r\nFor example, if the client attempts to send more messages after the 20-message limit is reached, it returns **SendException#ERROR_TOO_MANY_MESSAGES.**\r\n\r\n","title":"How to catch a Firebase Auth specific exceptions","body":"<p>If you are sending upstream messages from user to cloud, implement firebase callback functions <code>onMessageSent</code> and <code>onSendError</code> to check the status of upstream messages. In error cases, <code>onSendError</code> returns a <strong>SendException</strong> with an error code.</p>\n\n<p>For example, if the client attempts to send more messages after the 20-message limit is reached, it returns <strong>SendException#ERROR_TOO_MANY_MESSAGES.</strong></p>\n"},{"tags":[],"owner":{"account_id":363895,"reputation":1776,"user_id":707932,"accept_rate":29,"display_name":"kingspeech"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1605777343,"creation_date":1467891262,"answer_id":38244409,"question_id":37859582,"body_markdown":"In addition to @pdegand59 answer, I found some error code in Firebase library and test on Android (the returned error code). Hope this helps, Regards.\r\n\r\n     (&quot;ERROR_INVALID_CUSTOM_TOKEN&quot;, &quot;The custom token format is incorrect. Please check the documentation.&quot;));\r\n     (&quot;ERROR_CUSTOM_TOKEN_MISMATCH&quot;, &quot;The custom token corresponds to a different audience.&quot;));\r\n     (&quot;ERROR_INVALID_CREDENTIAL&quot;, &quot;The supplied auth credential is malformed or has expired.&quot;));\r\n     (&quot;ERROR_INVALID_EMAIL&quot;, &quot;The email address is badly formatted.&quot;));\r\n     (&quot;ERROR_WRONG_PASSWORD&quot;, &quot;The password is invalid or the user does not have a password.&quot;));\r\n     (&quot;ERROR_USER_MISMATCH&quot;, &quot;The supplied credentials do not correspond to the previously signed in user.&quot;));\r\n     (&quot;ERROR_REQUIRES_RECENT_LOGIN&quot;, &quot;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&quot;));\r\n     (&quot;ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL&quot;, &quot;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&quot;));\r\n     (&quot;ERROR_EMAIL_ALREADY_IN_USE&quot;, &quot;The email address is already in use by another account.&quot;));\r\n     (&quot;ERROR_CREDENTIAL_ALREADY_IN_USE&quot;, &quot;This credential is already associated with a different user account.&quot;));\r\n     (&quot;ERROR_USER_DISABLED&quot;, &quot;The user account has been disabled by an administrator.&quot;));\r\n     (&quot;ERROR_USER_TOKEN_EXPIRED&quot;, &quot;The user\\&#39;s credential is no longer valid. The user must sign in again.&quot;));\r\n     (&quot;ERROR_USER_NOT_FOUND&quot;, &quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;));\r\n     (&quot;ERROR_INVALID_USER_TOKEN&quot;, &quot;The user\\&#39;s credential is no longer valid. The user must sign in again.&quot;));\r\n     (&quot;ERROR_OPERATION_NOT_ALLOWED&quot;, &quot;This operation is not allowed. You must enable this service in the console.&quot;));\r\n     (&quot;ERROR_WEAK_PASSWORD&quot;, &quot;The given password is invalid.&quot;));\r\n     (&quot;ERROR_MISSING_EMAIL&quot;, &quot;An email address must be provided.&quot;;","title":"How to catch a Firebase Auth specific exceptions","body":"<p>In addition to @pdegand59 answer, I found some error code in Firebase library and test on Android (the returned error code). Hope this helps, Regards.</p>\n<pre><code> (&quot;ERROR_INVALID_CUSTOM_TOKEN&quot;, &quot;The custom token format is incorrect. Please check the documentation.&quot;));\n (&quot;ERROR_CUSTOM_TOKEN_MISMATCH&quot;, &quot;The custom token corresponds to a different audience.&quot;));\n (&quot;ERROR_INVALID_CREDENTIAL&quot;, &quot;The supplied auth credential is malformed or has expired.&quot;));\n (&quot;ERROR_INVALID_EMAIL&quot;, &quot;The email address is badly formatted.&quot;));\n (&quot;ERROR_WRONG_PASSWORD&quot;, &quot;The password is invalid or the user does not have a password.&quot;));\n (&quot;ERROR_USER_MISMATCH&quot;, &quot;The supplied credentials do not correspond to the previously signed in user.&quot;));\n (&quot;ERROR_REQUIRES_RECENT_LOGIN&quot;, &quot;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&quot;));\n (&quot;ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL&quot;, &quot;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&quot;));\n (&quot;ERROR_EMAIL_ALREADY_IN_USE&quot;, &quot;The email address is already in use by another account.&quot;));\n (&quot;ERROR_CREDENTIAL_ALREADY_IN_USE&quot;, &quot;This credential is already associated with a different user account.&quot;));\n (&quot;ERROR_USER_DISABLED&quot;, &quot;The user account has been disabled by an administrator.&quot;));\n (&quot;ERROR_USER_TOKEN_EXPIRED&quot;, &quot;The user\\'s credential is no longer valid. The user must sign in again.&quot;));\n (&quot;ERROR_USER_NOT_FOUND&quot;, &quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;));\n (&quot;ERROR_INVALID_USER_TOKEN&quot;, &quot;The user\\'s credential is no longer valid. The user must sign in again.&quot;));\n (&quot;ERROR_OPERATION_NOT_ALLOWED&quot;, &quot;This operation is not allowed. You must enable this service in the console.&quot;));\n (&quot;ERROR_WEAK_PASSWORD&quot;, &quot;The given password is invalid.&quot;));\n (&quot;ERROR_MISSING_EMAIL&quot;, &quot;An email address must be provided.&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149321,"reputation":1309,"user_id":361721,"display_name":"Steve Guidetti"},"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1469045606,"creation_date":1469045606,"answer_id":38490022,"question_id":37859582,"body_markdown":"You can throw the Exception returned by `task.getException` inside a try block and catch each type of Exception that may be thrown by the method you are using.\r\n\r\nHere is an example from the `OnCompleteListener` for the `createUserWithEmailAndPassword` method.\r\n\r\n    if(!task.isSuccessful()) {\r\n        try {\r\n            throw task.getException();\r\n        } catch(FirebaseAuthWeakPasswordException e) {\r\n            mTxtPassword.setError(getString(R.string.error_weak_password));\r\n            mTxtPassword.requestFocus();\r\n        } catch(FirebaseAuthInvalidCredentialsException e) {\r\n            mTxtEmail.setError(getString(R.string.error_invalid_email));\r\n            mTxtEmail.requestFocus();\r\n        } catch(FirebaseAuthUserCollisionException e) {\r\n            mTxtEmail.setError(getString(R.string.error_user_exists));\r\n            mTxtEmail.requestFocus();\r\n        } catch(Exception e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }","title":"How to catch a Firebase Auth specific exceptions","body":"<p>You can throw the Exception returned by <code>task.getException</code> inside a try block and catch each type of Exception that may be thrown by the method you are using.</p>\n\n<p>Here is an example from the <code>OnCompleteListener</code> for the <code>createUserWithEmailAndPassword</code> method.</p>\n\n<pre><code>if(!task.isSuccessful()) {\n    try {\n        throw task.getException();\n    } catch(FirebaseAuthWeakPasswordException e) {\n        mTxtPassword.setError(getString(R.string.error_weak_password));\n        mTxtPassword.requestFocus();\n    } catch(FirebaseAuthInvalidCredentialsException e) {\n        mTxtEmail.setError(getString(R.string.error_invalid_email));\n        mTxtEmail.requestFocus();\n    } catch(FirebaseAuthUserCollisionException e) {\n        mTxtEmail.setError(getString(R.string.error_user_exists));\n        mTxtEmail.requestFocus();\n    } catch(Exception e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3434254,"reputation":878,"user_id":2877726,"accept_rate":33,"display_name":"Itzdsp"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1469901364,"creation_date":1469899638,"answer_id":38676613,"question_id":37859582,"body_markdown":"You can use either steve-guidetti or pdegand59 method. I used steve-guidetti&#39;s method(Two exceptions are missing)\r\n\r\nFor all possible exception please find below ref.\r\n\r\nIt is well documented here.\r\n\r\nhttps://firebase.google.com/docs/reference/js/firebase.auth.Auth\r\n\r\nSearch for &quot;createUserWithEmailAndPassword&quot; and find the \r\n\r\n&gt; **Error Codes**\r\n&gt; \r\n&gt; auth/email-already-in-use\r\n\r\n\r\n\r\n    Thrown if there already exists an account with the given email address. \r\n\r\n&gt; auth/invalid-email\r\n\r\n    Thrown if the email address is not valid.\r\n\r\n&gt; auth/operation-not-allowed\r\n\r\n    Thrown if email/password accounts are not enabled. Enable email/password accounts in the Firebase Console, under the Auth tab.\r\n\r\n&gt; auth/weak-password\r\n\r\n    Thrown if the password is not strong enough. \r\n\r\n\r\n**For all five exceptions: Check here**\r\n\r\nhttps://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\r\n\r\nHere you can find 5 different types of AuthException. 4 Known Direct subclass and 1 indirect subclass \r\n\r\nYou can use either steve-guidetti or pdegand59 method.","title":"How to catch a Firebase Auth specific exceptions","body":"<p>You can use either steve-guidetti or pdegand59 method. I used steve-guidetti's method(Two exceptions are missing)</p>\n\n<p>For all possible exception please find below ref.</p>\n\n<p>It is well documented here.</p>\n\n<p><a href=\"https://firebase.google.com/docs/reference/js/firebase.auth.Auth\" rel=\"noreferrer\">https://firebase.google.com/docs/reference/js/firebase.auth.Auth</a></p>\n\n<p>Search for \"createUserWithEmailAndPassword\" and find the </p>\n\n<blockquote>\n  <p><strong>Error Codes</strong></p>\n  \n  <p>auth/email-already-in-use</p>\n</blockquote>\n\n<pre><code>Thrown if there already exists an account with the given email address. \n</code></pre>\n\n<blockquote>\n  <p>auth/invalid-email</p>\n</blockquote>\n\n<pre><code>Thrown if the email address is not valid.\n</code></pre>\n\n<blockquote>\n  <p>auth/operation-not-allowed</p>\n</blockquote>\n\n<pre><code>Thrown if email/password accounts are not enabled. Enable email/password accounts in the Firebase Console, under the Auth tab.\n</code></pre>\n\n<blockquote>\n  <p>auth/weak-password</p>\n</blockquote>\n\n<pre><code>Thrown if the password is not strong enough. \n</code></pre>\n\n<p><strong>For all five exceptions: Check here</strong></p>\n\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\" rel=\"noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException</a></p>\n\n<p>Here you can find 5 different types of AuthException. 4 Known Direct subclass and 1 indirect subclass </p>\n\n<p>You can use either steve-guidetti or pdegand59 method.</p>\n"},{"tags":[],"owner":{"account_id":326192,"reputation":281,"user_id":647840,"accept_rate":55,"display_name":"RedLEON"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470754358,"creation_date":1470754358,"answer_id":38854090,"question_id":37859582,"body_markdown":"I tried another solutions but didn&#39;t like them. \r\n\r\nWhat about this:\r\n\r\n    if (!task.isSuccessful()) {\r\n    \r\n        Exception exc = task.getException();\r\n    \r\n        if (exc.getMessage().contains(&quot;The email address is badly formatted.&quot;)) {\r\n            etUser.setError(getString(R.string.error_wrong_email));\r\n            etUser.requestFocus();\r\n        }\r\n        else\r\n        if (exc.getMessage().contains(&quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;)) {\r\n            etUser.setError(getString(R.string.error_user_not_exist));\r\n            etUser.requestFocus();\r\n        }\r\n        else\r\n        if (exc.getMessage().contains(&quot;The password is invalid or the user does not have a password&quot;)) {\r\n            etPass.setError(getString(R.string.error_wrong_password));\r\n            etPass.requestFocus();\r\n        }\r\n    \r\n    \r\n        Log.w(TAG, &quot;signInWithEmail:failed&quot;, task.getException());\r\n    \r\n    \r\n        Toast.makeText(AuthActivity.this, R.string.auth_failed,\r\n                Toast.LENGTH_SHORT).show();\r\n    }","title":"How to catch a Firebase Auth specific exceptions","body":"<p>I tried another solutions but didn't like them. </p>\n\n<p>What about this:</p>\n\n<pre><code>if (!task.isSuccessful()) {\n\n    Exception exc = task.getException();\n\n    if (exc.getMessage().contains(\"The email address is badly formatted.\")) {\n        etUser.setError(getString(R.string.error_wrong_email));\n        etUser.requestFocus();\n    }\n    else\n    if (exc.getMessage().contains(\"There is no user record corresponding to this identifier. The user may have been deleted.\")) {\n        etUser.setError(getString(R.string.error_user_not_exist));\n        etUser.requestFocus();\n    }\n    else\n    if (exc.getMessage().contains(\"The password is invalid or the user does not have a password\")) {\n        etPass.setError(getString(R.string.error_wrong_password));\n        etPass.requestFocus();\n    }\n\n\n    Log.w(TAG, \"signInWithEmail:failed\", task.getException());\n\n\n    Toast.makeText(AuthActivity.this, R.string.auth_failed,\n            Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10282977,"reputation":89,"user_id":7587338,"display_name":"Steven Berdak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490323910,"creation_date":1490323910,"answer_id":42990597,"question_id":37859582,"body_markdown":"If you simply want display a message to the user this works. Simple and Elegant:\r\n    \r\n    if (!task.isSuccessful()) {\r\n        Log.w(TAG, &quot;signInWithEmail:failed&quot;, task.getException());\r\n        Toast.makeText(LoginActivity.this, &quot;User Authentication Failed: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\nIt appears that the .getMessage() method converts the exception to a usable format for us already and all we have to do is display that somewhere to the user.\r\n\r\n(This is my first comment, constructive criticism please)","title":"How to catch a Firebase Auth specific exceptions","body":"<p>If you simply want display a message to the user this works. Simple and Elegant:</p>\n\n<pre><code>if (!task.isSuccessful()) {\n    Log.w(TAG, \"signInWithEmail:failed\", task.getException());\n    Toast.makeText(LoginActivity.this, \"User Authentication Failed: \" + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>It appears that the .getMessage() method converts the exception to a usable format for us already and all we have to do is display that somewhere to the user.</p>\n\n<p>(This is my first comment, constructive criticism please)</p>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494342554,"creation_date":1494342554,"answer_id":43873527,"question_id":37859582,"body_markdown":"        try {\r\n                throw task.getException();\r\n            } catch(FirebaseAuthException e) {\r\n               switch (e.getErrorCode()){\r\n                            case &quot;ERROR_WEAK_PASSWORD&quot;:\r\n                          Toast.makeText(this, &quot;The given password is invalid.&quot;, Toast.LENGTH_SHORT).show();\r\n                                 break;\r\n                          //and other\r\n                        }\r\n            }\r\n\r\nerror codes: https://stackoverflow.com/a/38244409/2425851","title":"How to catch a Firebase Auth specific exceptions","body":"<pre><code>    try {\n            throw task.getException();\n        } catch(FirebaseAuthException e) {\n           switch (e.getErrorCode()){\n                        case \"ERROR_WEAK_PASSWORD\":\n                      Toast.makeText(this, \"The given password is invalid.\", Toast.LENGTH_SHORT).show();\n                             break;\n                      //and other\n                    }\n        }\n</code></pre>\n\n<p>error codes: <a href=\"https://stackoverflow.com/a/38244409/2425851\">https://stackoverflow.com/a/38244409/2425851</a></p>\n"},{"tags":[],"owner":{"account_id":9874313,"reputation":371,"user_id":7312686,"accept_rate":40,"display_name":"Ra Isse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497448958,"creation_date":1497447690,"answer_id":44546543,"question_id":37859582,"body_markdown":"To catch a firebase Exception is easy, you should add `.addOnFailureListener` after you add `.addOnCompleteListener` like this:\r\n\r\n     private void login_user(String email, String password) {\r\n\r\n        mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n               if(task.isSuccessful()){\r\n                   Intent intent = new Intent(getApplicationContext(),MainActivity.class);\r\n                   startActivity(intent);\r\n                   finish();\r\n               }if(!task.isSuccessful()){\r\n                   \r\n\r\n                    // To know The Excepton \r\n                    //Toast.makeText(LoginActivity.this, &quot;&quot;+task.getException(), Toast.LENGTH_LONG).show();\r\n\r\n               }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                if( e instanceof FirebaseAuthInvalidUserException){\r\n                    Toast.makeText(LoginActivity.this, &quot;This User Not Found , Create A New Account&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if( e instanceof FirebaseAuthInvalidCredentialsException){\r\n                    Toast.makeText(LoginActivity.this, &quot;The Password Is Invalid, Please Try Valid Password&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if(e instanceof FirebaseNetworkException){\r\n                    Toast.makeText(LoginActivity.this, &quot;Please Check Your Connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });","title":"How to catch a Firebase Auth specific exceptions","body":"<p>To catch a firebase Exception is easy, you should add <code>.addOnFailureListener</code> after you add <code>.addOnCompleteListener</code> like this:</p>\n\n<pre><code> private void login_user(String email, String password) {\n\n    mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n           if(task.isSuccessful()){\n               Intent intent = new Intent(getApplicationContext(),MainActivity.class);\n               startActivity(intent);\n               finish();\n           }if(!task.isSuccessful()){\n\n\n                // To know The Excepton \n                //Toast.makeText(LoginActivity.this, \"\"+task.getException(), Toast.LENGTH_LONG).show();\n\n           }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            if( e instanceof FirebaseAuthInvalidUserException){\n                Toast.makeText(LoginActivity.this, \"This User Not Found , Create A New Account\", Toast.LENGTH_SHORT).show();\n            }\n            if( e instanceof FirebaseAuthInvalidCredentialsException){\n                Toast.makeText(LoginActivity.this, \"The Password Is Invalid, Please Try Valid Password\", Toast.LENGTH_SHORT).show();\n            }\n            if(e instanceof FirebaseNetworkException){\n                Toast.makeText(LoginActivity.this, \"Please Check Your Connection\", Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5916217,"reputation":5793,"user_id":4654957,"accept_rate":50,"display_name":"Diego Ven&#226;ncio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502841984,"creation_date":1502838499,"answer_id":45702814,"question_id":37859582,"body_markdown":"**LOGIN_EXCEPTIONS**\r\n\r\n`FirebaseAuthException` - Generic exception related to Firebase Authentication. Check the error code and message for more details.\r\n\r\n`ERROR_USER_DISABLE`D if the user has been disabled (for example, in the Firebase console)\r\n\r\n`ERROR_USER_NOT_FOUND` if the user has been deleted (for example, in the Firebase console, or in another instance of this app)\r\n\r\n`ERROR_USER_TOKEN_EXPIRED` if the user&#39;s token has been revoked in the backend. This happens automatically if the user&#39;s credentials change in another device (for example, on a password change event).\r\n\r\n`ERROR_INVALID_USER_TOKEN` if the user&#39;s token is malformed. This should not happen under normal circumstances.\r\n\r\n    mAuth.signInWithEmailAndPassword(login, pass)\r\n      .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n              if(task.isSuccessful())\r\n                {\r\n    \r\n                }else if (task.getException() instanceof FirebaseAuthInvalidUserException) {\r\n    \r\n                }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(&quot;ERROR_USER_DISABLED&quot;))\r\n                {\r\n    \r\n               }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(&quot;ERROR_USER_NOT_FOUND &quot;))\r\n              {\r\n    \r\n              }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(&quot;ERROR_USER_TOKEN_EXPIRED &quot;))\r\n             {\r\n                \r\n             }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(&quot;ERROR_INVALID_USER_TOKEN &quot;))\r\n             {\r\n             }\r\n     }\r\n    });\r\n\r\n**REGISTER_EXCEPTIONS**\r\n\r\n    FirebaseAuthEmailException\r\n\r\nRepresents the exception which is a result of an attempt to send an email via Firebase Auth (e.g. a password reset email)\r\n\r\n`FirebaseAuthInvalidCredentialsException` - Thrown when one or more of the credentials passed to a method fail to identify and/or authenticate the user subject of that operation. Inspect the error code and message to find out the specific cause.\r\n\r\n`FirebaseAuthWeakPasswordException` - Thrown when using a weak password (less than 6 chars) to create a new account or to update an existing account&#39;s password. Use getReason() to get a message with the reason the validation failed that you can display to your users.","title":"How to catch a Firebase Auth specific exceptions","body":"<p><strong>LOGIN_EXCEPTIONS</strong></p>\n\n<p><code>FirebaseAuthException</code> - Generic exception related to Firebase Authentication. Check the error code and message for more details.</p>\n\n<p><code>ERROR_USER_DISABLE</code>D if the user has been disabled (for example, in the Firebase console)</p>\n\n<p><code>ERROR_USER_NOT_FOUND</code> if the user has been deleted (for example, in the Firebase console, or in another instance of this app)</p>\n\n<p><code>ERROR_USER_TOKEN_EXPIRED</code> if the user's token has been revoked in the backend. This happens automatically if the user's credentials change in another device (for example, on a password change event).</p>\n\n<p><code>ERROR_INVALID_USER_TOKEN</code> if the user's token is malformed. This should not happen under normal circumstances.</p>\n\n<pre><code>mAuth.signInWithEmailAndPassword(login, pass)\n  .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n          if(task.isSuccessful())\n            {\n\n            }else if (task.getException() instanceof FirebaseAuthInvalidUserException) {\n\n            }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(\"ERROR_USER_DISABLED\"))\n            {\n\n           }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(\"ERROR_USER_NOT_FOUND \"))\n          {\n\n          }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(\"ERROR_USER_TOKEN_EXPIRED \"))\n         {\n\n         }else if(((FirebaseAuthException) task.getException()).getErrorCode().equals(\"ERROR_INVALID_USER_TOKEN \"))\n         {\n         }\n }\n});\n</code></pre>\n\n<p><strong>REGISTER_EXCEPTIONS</strong></p>\n\n<pre><code>FirebaseAuthEmailException\n</code></pre>\n\n<p>Represents the exception which is a result of an attempt to send an email via Firebase Auth (e.g. a password reset email)</p>\n\n<p><code>FirebaseAuthInvalidCredentialsException</code> - Thrown when one or more of the credentials passed to a method fail to identify and/or authenticate the user subject of that operation. Inspect the error code and message to find out the specific cause.</p>\n\n<p><code>FirebaseAuthWeakPasswordException</code> - Thrown when using a weak password (less than 6 chars) to create a new account or to update an existing account's password. Use getReason() to get a message with the reason the validation failed that you can display to your users.</p>\n"},{"tags":[],"owner":{"account_id":12424951,"reputation":544,"user_id":9050003,"display_name":"mahmoud zaher"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1523504161,"creation_date":1517235164,"answer_id":48503254,"question_id":37859582,"body_markdown":"There are a number of exceptions associated with firebase auth. \r\nIn addition to @kingspeech\r\n\r\nYou should use `((FirebaseAuthException)task.getException()).getErrorCode()` to get the **type of error** and then handle it in `switch` like this :\r\n\r\n\r\n\r\n    private void loginUser(String email, String password) {\r\n            \r\n            mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                \r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    \r\n                    if (task.isSuccessful()) {\r\n                        \r\n                        startActivity(new Intent(MainActivity.this, Main2Activity.class));\r\n                        \r\n                    } else {\r\n                        \r\n                        String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\r\n                        \r\n                        switch (errorCode) {\r\n                            \r\n                            case &quot;ERROR_INVALID_CUSTOM_TOKEN&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The custom token format is incorrect. Please check the documentation.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_CUSTOM_TOKEN_MISMATCH&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The custom token corresponds to a different audience.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_INVALID_CREDENTIAL&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The supplied auth credential is malformed or has expired.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_INVALID_EMAIL&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The email address is badly formatted.&quot;, Toast.LENGTH_LONG).show();\r\n                                etEmail.setError(&quot;The email address is badly formatted.&quot;);\r\n                                etEmail.requestFocus();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_WRONG_PASSWORD&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The password is invalid or the user does not have a password.&quot;, Toast.LENGTH_LONG).show();\r\n                                etPassword.setError(&quot;password is incorrect &quot;);\r\n                                etPassword.requestFocus();\r\n                                etPassword.setText(&quot;&quot;);\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_USER_MISMATCH&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The supplied credentials do not correspond to the previously signed in user.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_REQUIRES_RECENT_LOGIN&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_EMAIL_ALREADY_IN_USE&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The email address is already in use by another account.   &quot;, Toast.LENGTH_LONG).show();\r\n                                etEmail.setError(&quot;The email address is already in use by another account.&quot;);\r\n                                etEmail.requestFocus();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_CREDENTIAL_ALREADY_IN_USE&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;This credential is already associated with a different user account.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_USER_DISABLED&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The user account has been disabled by an administrator.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_USER_TOKEN_EXPIRED&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The user\\\\&#39;s credential is no longer valid. The user must sign in again.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_USER_NOT_FOUND&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_INVALID_USER_TOKEN&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The user\\\\&#39;s credential is no longer valid. The user must sign in again.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_OPERATION_NOT_ALLOWED&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;This operation is not allowed. You must enable this service in the console.&quot;, Toast.LENGTH_LONG).show();\r\n                                break;\r\n                                \r\n                            case &quot;ERROR_WEAK_PASSWORD&quot;:\r\n                                Toast.makeText(MainActivity.this, &quot;The given password is invalid.&quot;, Toast.LENGTH_LONG).show();\r\n                                etPassword.setError(&quot;The password is invalid it must 6 characters at least&quot;);\r\n                                etPassword.requestFocus();\r\n                                break;\r\n                                \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }","title":"How to catch a Firebase Auth specific exceptions","body":"<p>There are a number of exceptions associated with firebase auth. \nIn addition to @kingspeech</p>\n\n<p>You should use <code>((FirebaseAuthException)task.getException()).getErrorCode()</code> to get the <strong>type of error</strong> and then handle it in <code>switch</code> like this :</p>\n\n<pre><code>private void loginUser(String email, String password) {\n\n        mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if (task.isSuccessful()) {\n\n                    startActivity(new Intent(MainActivity.this, Main2Activity.class));\n\n                } else {\n\n                    String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\n\n                    switch (errorCode) {\n\n                        case \"ERROR_INVALID_CUSTOM_TOKEN\":\n                            Toast.makeText(MainActivity.this, \"The custom token format is incorrect. Please check the documentation.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_CUSTOM_TOKEN_MISMATCH\":\n                            Toast.makeText(MainActivity.this, \"The custom token corresponds to a different audience.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_INVALID_CREDENTIAL\":\n                            Toast.makeText(MainActivity.this, \"The supplied auth credential is malformed or has expired.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_INVALID_EMAIL\":\n                            Toast.makeText(MainActivity.this, \"The email address is badly formatted.\", Toast.LENGTH_LONG).show();\n                            etEmail.setError(\"The email address is badly formatted.\");\n                            etEmail.requestFocus();\n                            break;\n\n                        case \"ERROR_WRONG_PASSWORD\":\n                            Toast.makeText(MainActivity.this, \"The password is invalid or the user does not have a password.\", Toast.LENGTH_LONG).show();\n                            etPassword.setError(\"password is incorrect \");\n                            etPassword.requestFocus();\n                            etPassword.setText(\"\");\n                            break;\n\n                        case \"ERROR_USER_MISMATCH\":\n                            Toast.makeText(MainActivity.this, \"The supplied credentials do not correspond to the previously signed in user.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_REQUIRES_RECENT_LOGIN\":\n                            Toast.makeText(MainActivity.this, \"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL\":\n                            Toast.makeText(MainActivity.this, \"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_EMAIL_ALREADY_IN_USE\":\n                            Toast.makeText(MainActivity.this, \"The email address is already in use by another account.   \", Toast.LENGTH_LONG).show();\n                            etEmail.setError(\"The email address is already in use by another account.\");\n                            etEmail.requestFocus();\n                            break;\n\n                        case \"ERROR_CREDENTIAL_ALREADY_IN_USE\":\n                            Toast.makeText(MainActivity.this, \"This credential is already associated with a different user account.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_USER_DISABLED\":\n                            Toast.makeText(MainActivity.this, \"The user account has been disabled by an administrator.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_USER_TOKEN_EXPIRED\":\n                            Toast.makeText(MainActivity.this, \"The user\\\\'s credential is no longer valid. The user must sign in again.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_USER_NOT_FOUND\":\n                            Toast.makeText(MainActivity.this, \"There is no user record corresponding to this identifier. The user may have been deleted.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_INVALID_USER_TOKEN\":\n                            Toast.makeText(MainActivity.this, \"The user\\\\'s credential is no longer valid. The user must sign in again.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_OPERATION_NOT_ALLOWED\":\n                            Toast.makeText(MainActivity.this, \"This operation is not allowed. You must enable this service in the console.\", Toast.LENGTH_LONG).show();\n                            break;\n\n                        case \"ERROR_WEAK_PASSWORD\":\n                            Toast.makeText(MainActivity.this, \"The given password is invalid.\", Toast.LENGTH_LONG).show();\n                            etPassword.setError(\"The password is invalid it must 6 characters at least\");\n                            etPassword.requestFocus();\n                            break;\n\n                    }\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11776092,"reputation":597,"user_id":8617492,"display_name":"Sudhakar R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522409110,"creation_date":1522409110,"answer_id":49573523,"question_id":37859582,"body_markdown":"In the past we used the getErrorCode() to get the type of error and fail gracefully. With the newer versions of the api, getErrorCode() is deprecated. We should use response.getError().getErrorCode() instead\r\n\r\n    com.firebase.ui.auth.IdpResponse\r\n    @Deprecated \r\n    public int getErrorCode()\r\n    Get the error code for a failed sign in\r\n    \r\n    Deprecated use getError() instead\r\n\r\n\r\nSo for e.g.\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n                 \r\n                    super.onActivityResult(requestCode, resultCode, data);\r\n            \r\n                    if (requestCode == RC_SIGN_IN) {\r\n                        IdpResponse response = IdpResponse.fromResultIntent(data);\r\n            \r\n                        // Successfully signed in\r\n                        if (resultCode == RESULT_OK) {\r\n                            //dbHandler = DBMS.getInstance(this);\r\n            \r\n                            FirebaseAuth auth = FirebaseAuth.getInstance();\r\n                            FirebaseUser user = auth.getCurrentUser();\r\n                            FirebaseUserMetadata metadata = auth.getCurrentUser().getMetadata();\r\n            \r\n                            // initialize profile first\r\n                            if (metadata.getCreationTimestamp() == metadata.getLastSignInTimestamp()) {\r\n            \r\n                               \r\n                               \r\n                                //start main activity after profile setup\r\n                                startActivity(new Intent(this, MainActivity.class));\r\n                                return;\r\n                            } else {\r\n                                // This is an existing user\r\n                                // show them a welcome back screen.\r\n            \r\n                                startActivity(new Intent(this, MainActivity.class));\r\n                                return;\r\n                            }\r\n                        } else {\r\n                            // Sign in failed\r\n                            // check response for error code\r\n                            if (response == null) {\r\n                                // User pressed back button\r\n                                showSnackbar(R.string.sign_in_cancelled);\r\n                                return;\r\n                            }\r\n            \r\n                            if (response.getError().getErrorCode() == ErrorCodes.NO_NETWORK) {\r\n                                showSnackbar(R.string.no_internet_connection);\r\n                                return;\r\n                            }\r\n            \r\n                            if (response.getError().getErrorCode() == ErrorCodes.UNKNOWN_ERROR) {\r\n                                showSnackbar(R.string.unknown_error);\r\n                                return;\r\n                            }\r\n                        }\r\n                        showSnackbar(R.string.unknown_sign_in_response);\r\n                    }\r\n                }\r\n    \r\n\r\n","title":"How to catch a Firebase Auth specific exceptions","body":"<p>In the past we used the getErrorCode() to get the type of error and fail gracefully. With the newer versions of the api, getErrorCode() is deprecated. We should use response.getError().getErrorCode() instead</p>\n\n<pre><code>com.firebase.ui.auth.IdpResponse\n@Deprecated \npublic int getErrorCode()\nGet the error code for a failed sign in\n\nDeprecated use getError() instead\n</code></pre>\n\n<p>So for e.g.</p>\n\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n                super.onActivityResult(requestCode, resultCode, data);\n\n                if (requestCode == RC_SIGN_IN) {\n                    IdpResponse response = IdpResponse.fromResultIntent(data);\n\n                    // Successfully signed in\n                    if (resultCode == RESULT_OK) {\n                        //dbHandler = DBMS.getInstance(this);\n\n                        FirebaseAuth auth = FirebaseAuth.getInstance();\n                        FirebaseUser user = auth.getCurrentUser();\n                        FirebaseUserMetadata metadata = auth.getCurrentUser().getMetadata();\n\n                        // initialize profile first\n                        if (metadata.getCreationTimestamp() == metadata.getLastSignInTimestamp()) {\n\n\n\n                            //start main activity after profile setup\n                            startActivity(new Intent(this, MainActivity.class));\n                            return;\n                        } else {\n                            // This is an existing user\n                            // show them a welcome back screen.\n\n                            startActivity(new Intent(this, MainActivity.class));\n                            return;\n                        }\n                    } else {\n                        // Sign in failed\n                        // check response for error code\n                        if (response == null) {\n                            // User pressed back button\n                            showSnackbar(R.string.sign_in_cancelled);\n                            return;\n                        }\n\n                        if (response.getError().getErrorCode() == ErrorCodes.NO_NETWORK) {\n                            showSnackbar(R.string.no_internet_connection);\n                            return;\n                        }\n\n                        if (response.getError().getErrorCode() == ErrorCodes.UNKNOWN_ERROR) {\n                            showSnackbar(R.string.unknown_error);\n                            return;\n                        }\n                    }\n                    showSnackbar(R.string.unknown_sign_in_response);\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13382871,"reputation":1,"user_id":9657602,"display_name":"AUSiBi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527844921,"creation_date":1527843840,"answer_id":50639798,"question_id":37859582,"body_markdown":"Try the following:\r\n\r\n    if (task.isSuccessful()) {\r\n        //Toast.makeText(getContext(),&quot;Registration successful&quot;, Toast.LENGTH_SHORT).show();\r\n        try {\r\n            Toast.makeText(getContext(),&quot;Registration successful&quot;, Toast.LENGTH_SHORT).show();\r\n            throw task.getException();\r\n        }\r\n        // if user enters wrong email.\r\n        catch (FirebaseAuthWeakPasswordException weakPassword) {\r\n            Log.d(&quot;Registration Error&quot;, &quot;onComplete: weak_password&quot;);\r\n\r\n            // TODO: take your actions!\r\n        }\r\n        // if user enters wrong password.\r\n        catch (FirebaseAuthInvalidCredentialsException malformedEmail) {\r\n            Log.d(&quot;Registration Error&quot;, &quot;onComplete: malformed_email&quot;);\r\n\r\n            // TODO: Take your action\r\n        }\r\n        catch (FirebaseAuthUserCollisionException existEmail) {\r\n            Log.d(&quot;Registration Error&quot;, &quot;onComplete: exist_email&quot;);\r\n\r\n            // TODO: Take your action\r\n        }\r\n        catch (Exception e) {\r\n            Log.d(&quot;Registration Error&quot;, &quot;onComplete: &quot; + e.getMessage());\r\n        }\r\n    } else {\r\n        //Toast.makeText(getContext(), &quot;ERROR, Please try again.&quot;, Toast.LENGTH_SHORT).show();\r\n        Toast.makeText(getContext(), task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n    }","title":"How to catch a Firebase Auth specific exceptions","body":"<p>Try the following:</p>\n\n<pre><code>if (task.isSuccessful()) {\n    //Toast.makeText(getContext(),\"Registration successful\", Toast.LENGTH_SHORT).show();\n    try {\n        Toast.makeText(getContext(),\"Registration successful\", Toast.LENGTH_SHORT).show();\n        throw task.getException();\n    }\n    // if user enters wrong email.\n    catch (FirebaseAuthWeakPasswordException weakPassword) {\n        Log.d(\"Registration Error\", \"onComplete: weak_password\");\n\n        // TODO: take your actions!\n    }\n    // if user enters wrong password.\n    catch (FirebaseAuthInvalidCredentialsException malformedEmail) {\n        Log.d(\"Registration Error\", \"onComplete: malformed_email\");\n\n        // TODO: Take your action\n    }\n    catch (FirebaseAuthUserCollisionException existEmail) {\n        Log.d(\"Registration Error\", \"onComplete: exist_email\");\n\n        // TODO: Take your action\n    }\n    catch (Exception e) {\n        Log.d(\"Registration Error\", \"onComplete: \" + e.getMessage());\n    }\n} else {\n    //Toast.makeText(getContext(), \"ERROR, Please try again.\", Toast.LENGTH_SHORT).show();\n    Toast.makeText(getContext(), task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14757803,"reputation":1,"user_id":10658029,"display_name":"osama dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549994347,"creation_date":1549994347,"answer_id":54656041,"question_id":37859582,"body_markdown":"you can use this:\r\n\r\n    mAuth.getCurrentUser().linkWithCredential(authCredential)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Log.d(TAG, &quot;linkWithCredential:success&quot;);\r\n                        } else {\r\n                            Log.w(TAG, &quot;linkWithCredential:failure&quot;, task.getException());\r\n                            Toast.makeText(getApplicationContext(), &quot;Authentication failed. &quot; + task.getException().toString, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n    \r\n                        // ...\r\n                    }\r\n                });","title":"How to catch a Firebase Auth specific exceptions","body":"<p>you can use this:</p>\n\n<pre><code>mAuth.getCurrentUser().linkWithCredential(authCredential)\n            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        Log.d(TAG, \"linkWithCredential:success\");\n                    } else {\n                        Log.w(TAG, \"linkWithCredential:failure\", task.getException());\n                        Toast.makeText(getApplicationContext(), \"Authentication failed. \" + task.getException().toString, Toast.LENGTH_SHORT).show();\n\n                    }\n\n                    // ...\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15258336,"reputation":41,"user_id":13872592,"display_name":"TheRealTechWiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593987126,"creation_date":1593975503,"answer_id":62745111,"question_id":37859582,"body_markdown":"According to me the default message is informative enough. So I used it rather than any custom message and it worked pretty well for me. \r\n```java\r\nif (!task.isSuccessful()) \r\n{ \r\n    // there was an error\r\n    String yourString = task.getException().toString();\r\n    String target = &quot;Exception:&quot;;\r\n    String error = yourString.substring(yourString.indexOf(target) + target.length() + 1, yourString.length());\r\n    Toast.makeText(LoginScreen.this, &quot;Error: &quot;+error, Toast.LENGTH_LONG).show();\r\n}\r\n```\r\np.s. this is my first answer on stack overflow. Do let me know if it was helpful.","title":"How to catch a Firebase Auth specific exceptions","body":"<p>According to me the default message is informative enough. So I used it rather than any custom message and it worked pretty well for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!task.isSuccessful()) \n{ \n    // there was an error\n    String yourString = task.getException().toString();\n    String target = &quot;Exception:&quot;;\n    String error = yourString.substring(yourString.indexOf(target) + target.length() + 1, yourString.length());\n    Toast.makeText(LoginScreen.this, &quot;Error: &quot;+error, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>p.s. this is my first answer on stack overflow. Do let me know if it was helpful.</p>\n"},{"tags":[],"owner":{"account_id":1893006,"reputation":2445,"user_id":1710571,"accept_rate":100,"display_name":"Oscar Emilio Perez Martinez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1634325816,"creation_date":1599806680,"answer_id":63842026,"question_id":37859582,"body_markdown":"**Solution using Kotlin**\r\n\r\n     fun signInWithEmail(email: String, passKey: String) {\r\n        FirebaseAuth.getInstance().signInWithEmailAndPassword(email, passKey).addOnSuccessListener {\r\n            it.user?.let {\r\n                authResultOperation.postValue(AuthResultOperation.OnSuccessSignIn)\r\n            }\r\n        }.addOnFailureListener {\r\n            val errorCode = (it.exception as FirebaseAuthException).errorCode\r\n            val errorMessage = authErrors[errorCode] ?: R.string.error_login_default_error\r\n            Toast.makeText(context, context.getString(errorMessage),Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n\r\nExplanation: Basically It&#39;s just a map that match firebase error codes with a custom string resource.\r\n\r\n    val authErrors = mapOf(&quot;ERROR_INVALID_CUSTOM_TOKEN&quot; to R.string.error_login_custom_token,\r\n            &quot;ERROR_CUSTOM_TOKEN_MISMATCH&quot; to R.string.error_login_custom_token_mismatch,\r\n            &quot;ERROR_INVALID_CREDENTIAL&quot; to R.string.error_login_credential_malformed_or_expired,\r\n            &quot;ERROR_INVALID_EMAIL&quot; to R.string.error_login_invalid_email,\r\n            &quot;ERROR_WRONG_PASSWORD&quot; to R.string.error_login_wrong_password,\r\n            &quot;ERROR_USER_MISMATCH&quot; to R.string.error_login_user_mismatch,\r\n            &quot;ERROR_REQUIRES_RECENT_LOGIN&quot; to R.string.error_login_requires_recent_login,\r\n            &quot;ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL&quot; to R.string.error_login_accounts_exits_with_different_credential,\r\n            &quot;ERROR_EMAIL_ALREADY_IN_USE&quot; to  R.string.error_login_email_already_in_use,\r\n            &quot;ERROR_CREDENTIAL_ALREADY_IN_USE&quot; to R.string.error_login_credential_already_in_use,\r\n            &quot;ERROR_USER_DISABLED&quot; to R.string.error_login_user_disabled,\r\n            &quot;ERROR_USER_TOKEN_EXPIRED&quot; to R.string.error_login_user_token_expired,\r\n            &quot;ERROR_USER_NOT_FOUND&quot; to R.string.error_login_user_not_found,\r\n            &quot;ERROR_INVALID_USER_TOKEN&quot; to R.string.error_login_invalid_user_token,\r\n            &quot;ERROR_OPERATION_NOT_ALLOWED&quot; to R.string.error_login_operation_not_allowed,\r\n            &quot;ERROR_WEAK_PASSWORD&quot; to R.string.error_login_password_is_weak)\r\n\r\n\r\n\r\nString resources (Feel free to change it according to your requirements)\r\n\r\n      &lt;resources&gt;\r\n        &lt;string name=&quot;error_login_custom_token&quot;&gt;The custom token format is incorrect. Please check the documentation.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_custom_token_mismatch&quot;&gt;The custom token corresponds to a different audience.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_credential_malformed_or_expired&quot;&gt;The supplied auth credential is malformed or has expired.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_invalid_email&quot;&gt;The email address is badly formatted.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_wrong_password&quot;&gt;The password is invalid or the user does not have a password.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_user_mismatch&quot;&gt;The supplied credentials do not correspond to the previously signed in user.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_requires_recent_login&quot;&gt;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_accounts_exits_with_different_credential&quot;&gt;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_email_already_in_use&quot;&gt;The email address is already in use by another account.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_credential_already_in_use&quot;&gt;This credential is already associated with a different user account.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_user_disabled&quot;&gt;The user account has been disabled by an administrator.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_user_not_found&quot;&gt;There is no user record corresponding to this identifier. The user may have been deleted.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_operation_not_allowed&quot;&gt;This operation is not allowed. You must enable this service in the console.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_password_is_weak&quot;&gt;The given password is invalid.&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_user_token_expired&quot;&gt;The user\\&#39;s credential is no longer valid. The user must sign in again&lt;/string&gt;\r\n        &lt;string name=&quot;error_login_invalid_user_token&quot;&gt;The user\\&#39;s credential is no longer valid. The user must sign in again.&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"How to catch a Firebase Auth specific exceptions","body":"<p><strong>Solution using Kotlin</strong></p>\n<pre><code> fun signInWithEmail(email: String, passKey: String) {\n    FirebaseAuth.getInstance().signInWithEmailAndPassword(email, passKey).addOnSuccessListener {\n        it.user?.let {\n            authResultOperation.postValue(AuthResultOperation.OnSuccessSignIn)\n        }\n    }.addOnFailureListener {\n        val errorCode = (it.exception as FirebaseAuthException).errorCode\n        val errorMessage = authErrors[errorCode] ?: R.string.error_login_default_error\n        Toast.makeText(context, context.getString(errorMessage),Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n<p>Explanation: Basically It's just a map that match firebase error codes with a custom string resource.</p>\n<pre><code>val authErrors = mapOf(&quot;ERROR_INVALID_CUSTOM_TOKEN&quot; to R.string.error_login_custom_token,\n        &quot;ERROR_CUSTOM_TOKEN_MISMATCH&quot; to R.string.error_login_custom_token_mismatch,\n        &quot;ERROR_INVALID_CREDENTIAL&quot; to R.string.error_login_credential_malformed_or_expired,\n        &quot;ERROR_INVALID_EMAIL&quot; to R.string.error_login_invalid_email,\n        &quot;ERROR_WRONG_PASSWORD&quot; to R.string.error_login_wrong_password,\n        &quot;ERROR_USER_MISMATCH&quot; to R.string.error_login_user_mismatch,\n        &quot;ERROR_REQUIRES_RECENT_LOGIN&quot; to R.string.error_login_requires_recent_login,\n        &quot;ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL&quot; to R.string.error_login_accounts_exits_with_different_credential,\n        &quot;ERROR_EMAIL_ALREADY_IN_USE&quot; to  R.string.error_login_email_already_in_use,\n        &quot;ERROR_CREDENTIAL_ALREADY_IN_USE&quot; to R.string.error_login_credential_already_in_use,\n        &quot;ERROR_USER_DISABLED&quot; to R.string.error_login_user_disabled,\n        &quot;ERROR_USER_TOKEN_EXPIRED&quot; to R.string.error_login_user_token_expired,\n        &quot;ERROR_USER_NOT_FOUND&quot; to R.string.error_login_user_not_found,\n        &quot;ERROR_INVALID_USER_TOKEN&quot; to R.string.error_login_invalid_user_token,\n        &quot;ERROR_OPERATION_NOT_ALLOWED&quot; to R.string.error_login_operation_not_allowed,\n        &quot;ERROR_WEAK_PASSWORD&quot; to R.string.error_login_password_is_weak)\n</code></pre>\n<p>String resources (Feel free to change it according to your requirements)</p>\n<pre><code>  &lt;resources&gt;\n    &lt;string name=&quot;error_login_custom_token&quot;&gt;The custom token format is incorrect. Please check the documentation.&lt;/string&gt;\n    &lt;string name=&quot;error_login_custom_token_mismatch&quot;&gt;The custom token corresponds to a different audience.&lt;/string&gt;\n    &lt;string name=&quot;error_login_credential_malformed_or_expired&quot;&gt;The supplied auth credential is malformed or has expired.&lt;/string&gt;\n    &lt;string name=&quot;error_login_invalid_email&quot;&gt;The email address is badly formatted.&lt;/string&gt;\n    &lt;string name=&quot;error_login_wrong_password&quot;&gt;The password is invalid or the user does not have a password.&lt;/string&gt;\n    &lt;string name=&quot;error_login_user_mismatch&quot;&gt;The supplied credentials do not correspond to the previously signed in user.&lt;/string&gt;\n    &lt;string name=&quot;error_login_requires_recent_login&quot;&gt;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&lt;/string&gt;\n    &lt;string name=&quot;error_login_accounts_exits_with_different_credential&quot;&gt;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&lt;/string&gt;\n    &lt;string name=&quot;error_login_email_already_in_use&quot;&gt;The email address is already in use by another account.&lt;/string&gt;\n    &lt;string name=&quot;error_login_credential_already_in_use&quot;&gt;This credential is already associated with a different user account.&lt;/string&gt;\n    &lt;string name=&quot;error_login_user_disabled&quot;&gt;The user account has been disabled by an administrator.&lt;/string&gt;\n    &lt;string name=&quot;error_login_user_not_found&quot;&gt;There is no user record corresponding to this identifier. The user may have been deleted.&lt;/string&gt;\n    &lt;string name=&quot;error_login_operation_not_allowed&quot;&gt;This operation is not allowed. You must enable this service in the console.&lt;/string&gt;\n    &lt;string name=&quot;error_login_password_is_weak&quot;&gt;The given password is invalid.&lt;/string&gt;\n    &lt;string name=&quot;error_login_user_token_expired&quot;&gt;The user\\'s credential is no longer valid. The user must sign in again&lt;/string&gt;\n    &lt;string name=&quot;error_login_invalid_user_token&quot;&gt;The user\\'s credential is no longer valid. The user must sign in again.&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613930248,"creation_date":1613930248,"answer_id":66305362,"question_id":37859582,"body_markdown":"There are too many Firebase Authentication exceptions to handle, and I&#39;m not sure if handling all of them is a good thing due to a large amount of code to add (as you can see from other answers).\r\n\r\nI just got a `FirebaseTooManyRequestsException` after `Task&lt;AuthResult.isSuccessful()` returned  false:\r\n\r\n        firebaseAuth.signInWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener {\r\n                if (it.isSuccessful) {\r\n                    [...]\r\n                } else {\r\n                    [FirebaseTooManyRequestsException and others that can be returned here]\r\n                }\r\n            }\r\n\r\n\r\n`com.google.firebase.FirebaseTooManyRequestsException: We have blocked all requests from this device due to unusual activity. Try again later. [ Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. ]`\r\n\r\n[![FirebaseTooManyRequestsException][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uP146.png\r\n\r\nSo, if you want to catch all of them or at least the ones that are more important to your logic, I hope that bringing another FirebaseAuth exception to this list helps you.","title":"How to catch a Firebase Auth specific exceptions","body":"<p>There are too many Firebase Authentication exceptions to handle, and I'm not sure if handling all of them is a good thing due to a large amount of code to add (as you can see from other answers).</p>\n<p>I just got a <code>FirebaseTooManyRequestsException</code> after <code>Task&lt;AuthResult.isSuccessful()</code> returned  false:</p>\n<pre><code>    firebaseAuth.signInWithEmailAndPassword(email, password)\n        .addOnCompleteListener {\n            if (it.isSuccessful) {\n                [...]\n            } else {\n                [FirebaseTooManyRequestsException and others that can be returned here]\n            }\n        }\n</code></pre>\n<p><code>com.google.firebase.FirebaseTooManyRequestsException: We have blocked all requests from this device due to unusual activity. Try again later. [ Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. ]</code></p>\n<p><a href=\"https://i.stack.imgur.com/uP146.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uP146.png\" alt=\"FirebaseTooManyRequestsException\" /></a></p>\n<p>So, if you want to catch all of them or at least the ones that are more important to your logic, I hope that bringing another FirebaseAuth exception to this list helps you.</p>\n"},{"tags":[],"owner":{"account_id":9758708,"reputation":193,"user_id":7234479,"display_name":"leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668368434,"creation_date":1668368434,"answer_id":74424161,"question_id":37859582,"body_markdown":"Here&#39;s a `Kotlin` parser that I use. it&#39;s adapted from [FirebaseUI-Android][1]\r\n\r\n```kt\r\n/**\r\n * List of all possible results of [FirebaseAuthException.getErrorCode] and their meanings.\r\n * TODO you can make description parameter private if you don&#39;t use it outside of this class\r\n */\r\nenum class FirebaseAuthErrorParser(val description: String) {\r\n    ERROR_INVALID_CUSTOM_TOKEN(&quot;The custom token format is incorrect. Please check the documentation.&quot;),\r\n    ERROR_CUSTOM_TOKEN_MISMATCH(&quot;Invalid configuration. Ensure your app&#39;s SHA1 is correct in the Firebase console.&quot;),\r\n    ERROR_INVALID_CREDENTIAL(&quot;The supplied auth credential is malformed or has expired.&quot;),\r\n    ERROR_INVALID_EMAIL(&quot;The email address is badly formatted.&quot;),\r\n    ERROR_WRONG_PASSWORD(&quot;The password is invalid or the user does not have a password.&quot;),\r\n    ERROR_USER_MISMATCH(&quot;The supplied credentials do not correspond to the previously signed in user.&quot;),\r\n    ERROR_REQUIRES_RECENT_LOGIN(&quot;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&quot;),\r\n    ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL(&quot;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&quot;),\r\n    ERROR_EMAIL_ALREADY_IN_USE(&quot;The email address is already in use by another account.&quot;),\r\n    ERROR_CREDENTIAL_ALREADY_IN_USE(&quot;This credential is already associated with a different user account.&quot;),\r\n    ERROR_USER_DISABLED(&quot;The user account has been disabled by an administrator.&quot;),\r\n    ERROR_USER_TOKEN_EXPIRED(&quot;The user&#39;s credential has expired. The user must sign in again.&quot;),\r\n    ERROR_USER_NOT_FOUND(&quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;),\r\n    ERROR_INVALID_USER_TOKEN(&quot;The user&#39;s credential is no longer valid. The user must sign in again.&quot;),\r\n    ERROR_OPERATION_NOT_ALLOWED(&quot;This operation is not allowed. Enable the sign-in method in the Authentication tab of the Firebase console&quot;),\r\n    ERROR_TOO_MANY_REQUESTS(&quot;We have blocked all requests from this device due to unusual activity. Try again later.&quot;),\r\n    ERROR_WEAK_PASSWORD(&quot;The given password is too weak, please choose a stronger password.&quot;),\r\n    ERROR_EXPIRED_ACTION_CODE(&quot;The out of band code has expired.&quot;),\r\n    ERROR_INVALID_ACTION_CODE(&quot;The out of band code is invalid. This can happen if the code is malformed, expired, or has already been used.&quot;),\r\n    ERROR_INVALID_MESSAGE_PAYLOAD(&quot;The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.&quot;),\r\n    ERROR_INVALID_RECIPIENT_EMAIL(&quot;The email corresponding to this action failed to send as the provided recipient email address is invalid.&quot;),\r\n    ERROR_INVALID_SENDER(&quot;The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.&quot;),\r\n    ERROR_MISSING_EMAIL(&quot;An email address must be provided.&quot;),\r\n    ERROR_MISSING_PASSWORD(&quot;A password must be provided.&quot;),\r\n    ERROR_MISSING_PHONE_NUMBER(&quot;To send verification codes, provide a phone number for the recipient.&quot;),\r\n    ERROR_INVALID_PHONE_NUMBER(&quot;The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].&quot;),\r\n    ERROR_MISSING_VERIFICATION_CODE(&quot;The phone auth credential was created with an empty sms verification code&quot;),\r\n    ERROR_INVALID_VERIFICATION_CODE(&quot;The sms verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.&quot;),\r\n    ERROR_MISSING_VERIFICATION_ID(&quot;The phone auth credential was created with an empty verification ID&quot;),\r\n    ERROR_INVALID_VERIFICATION_ID(&quot;The verification ID used to create the phone auth credential is invalid.&quot;),\r\n    ERROR_RETRY_PHONE_AUTH(&quot;An error occurred during authentication using the PhoneAuthCredential. Please retry authentication.&quot;),\r\n    ERROR_SESSION_EXPIRED(&quot;The sms code has expired. Please re-send the verification code to try again.&quot;),\r\n    ERROR_QUOTA_EXCEEDED(&quot;The sms quota for this project has been exceeded.&quot;),\r\n    ERROR_APP_NOT_AUTHORIZED(&quot;This app is not authorized to use Firebase Authentication. Please verify that the correct package name and SHA-1 are configured in the Firebase Console.&quot;),\r\n    ERROR_API_NOT_AVAILABLE(&quot;The API that you are calling is not available on devices without Google Play Services.&quot;),\r\n    ERROR_WEB_CONTEXT_CANCELED(&quot;The web operation was canceled by the user&quot;),\r\n    ERROR_UNKNOWN(&quot;An unknown error occurred.&quot;);\r\n\r\n\r\n    companion object {\r\n        /**\r\n         * Get an [FirebaseAuthError.description] from an exception,\r\n         * returning [FirebaseAuthError.ERROR_UNKNOWN] as a default.\r\n         */\r\n        fun fromException(ex: FirebaseAuthException): String {\r\n            return try {\r\n                valueOf(ex.errorCode).description\r\n            } catch (e: IllegalArgumentException) {\r\n                Log.e(TAG, e)\r\n                ERROR_UNKNOWN.description\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is how you use it:\r\n```kt\r\nval ErrorMsg = FirebaseAuthErrorParser.fromException(firebaseAuthEx)\r\n````\r\n\r\n\r\n  [1]: https://github.com/firebase/FirebaseUI-Android/blob/master/auth/src/main/java/com/firebase/ui/auth/util/FirebaseAuthError.java","title":"How to catch a Firebase Auth specific exceptions","body":"<p>Here's a <code>Kotlin</code> parser that I use. it's adapted from <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/auth/src/main/java/com/firebase/ui/auth/util/FirebaseAuthError.java\" rel=\"nofollow noreferrer\">FirebaseUI-Android</a></p>\n<pre><code>/**\n * List of all possible results of [FirebaseAuthException.getErrorCode] and their meanings.\n * TODO you can make description parameter private if you don't use it outside of this class\n */\nenum class FirebaseAuthErrorParser(val description: String) {\n    ERROR_INVALID_CUSTOM_TOKEN(&quot;The custom token format is incorrect. Please check the documentation.&quot;),\n    ERROR_CUSTOM_TOKEN_MISMATCH(&quot;Invalid configuration. Ensure your app's SHA1 is correct in the Firebase console.&quot;),\n    ERROR_INVALID_CREDENTIAL(&quot;The supplied auth credential is malformed or has expired.&quot;),\n    ERROR_INVALID_EMAIL(&quot;The email address is badly formatted.&quot;),\n    ERROR_WRONG_PASSWORD(&quot;The password is invalid or the user does not have a password.&quot;),\n    ERROR_USER_MISMATCH(&quot;The supplied credentials do not correspond to the previously signed in user.&quot;),\n    ERROR_REQUIRES_RECENT_LOGIN(&quot;This operation is sensitive and requires recent authentication. Log in again before retrying this request.&quot;),\n    ERROR_ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL(&quot;An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.&quot;),\n    ERROR_EMAIL_ALREADY_IN_USE(&quot;The email address is already in use by another account.&quot;),\n    ERROR_CREDENTIAL_ALREADY_IN_USE(&quot;This credential is already associated with a different user account.&quot;),\n    ERROR_USER_DISABLED(&quot;The user account has been disabled by an administrator.&quot;),\n    ERROR_USER_TOKEN_EXPIRED(&quot;The user's credential has expired. The user must sign in again.&quot;),\n    ERROR_USER_NOT_FOUND(&quot;There is no user record corresponding to this identifier. The user may have been deleted.&quot;),\n    ERROR_INVALID_USER_TOKEN(&quot;The user's credential is no longer valid. The user must sign in again.&quot;),\n    ERROR_OPERATION_NOT_ALLOWED(&quot;This operation is not allowed. Enable the sign-in method in the Authentication tab of the Firebase console&quot;),\n    ERROR_TOO_MANY_REQUESTS(&quot;We have blocked all requests from this device due to unusual activity. Try again later.&quot;),\n    ERROR_WEAK_PASSWORD(&quot;The given password is too weak, please choose a stronger password.&quot;),\n    ERROR_EXPIRED_ACTION_CODE(&quot;The out of band code has expired.&quot;),\n    ERROR_INVALID_ACTION_CODE(&quot;The out of band code is invalid. This can happen if the code is malformed, expired, or has already been used.&quot;),\n    ERROR_INVALID_MESSAGE_PAYLOAD(&quot;The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.&quot;),\n    ERROR_INVALID_RECIPIENT_EMAIL(&quot;The email corresponding to this action failed to send as the provided recipient email address is invalid.&quot;),\n    ERROR_INVALID_SENDER(&quot;The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.&quot;),\n    ERROR_MISSING_EMAIL(&quot;An email address must be provided.&quot;),\n    ERROR_MISSING_PASSWORD(&quot;A password must be provided.&quot;),\n    ERROR_MISSING_PHONE_NUMBER(&quot;To send verification codes, provide a phone number for the recipient.&quot;),\n    ERROR_INVALID_PHONE_NUMBER(&quot;The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].&quot;),\n    ERROR_MISSING_VERIFICATION_CODE(&quot;The phone auth credential was created with an empty sms verification code&quot;),\n    ERROR_INVALID_VERIFICATION_CODE(&quot;The sms verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.&quot;),\n    ERROR_MISSING_VERIFICATION_ID(&quot;The phone auth credential was created with an empty verification ID&quot;),\n    ERROR_INVALID_VERIFICATION_ID(&quot;The verification ID used to create the phone auth credential is invalid.&quot;),\n    ERROR_RETRY_PHONE_AUTH(&quot;An error occurred during authentication using the PhoneAuthCredential. Please retry authentication.&quot;),\n    ERROR_SESSION_EXPIRED(&quot;The sms code has expired. Please re-send the verification code to try again.&quot;),\n    ERROR_QUOTA_EXCEEDED(&quot;The sms quota for this project has been exceeded.&quot;),\n    ERROR_APP_NOT_AUTHORIZED(&quot;This app is not authorized to use Firebase Authentication. Please verify that the correct package name and SHA-1 are configured in the Firebase Console.&quot;),\n    ERROR_API_NOT_AVAILABLE(&quot;The API that you are calling is not available on devices without Google Play Services.&quot;),\n    ERROR_WEB_CONTEXT_CANCELED(&quot;The web operation was canceled by the user&quot;),\n    ERROR_UNKNOWN(&quot;An unknown error occurred.&quot;);\n\n\n    companion object {\n        /**\n         * Get an [FirebaseAuthError.description] from an exception,\n         * returning [FirebaseAuthError.ERROR_UNKNOWN] as a default.\n         */\n        fun fromException(ex: FirebaseAuthException): String {\n            return try {\n                valueOf(ex.errorCode).description\n            } catch (e: IllegalArgumentException) {\n                Log.e(TAG, e)\n                ERROR_UNKNOWN.description\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is how you use it:</p>\n<pre><code>val ErrorMsg = FirebaseAuthErrorParser.fromException(firebaseAuthEx)\n</code></pre>\n"}],"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71769,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":38490022,"answer_count":18,"score":60,"last_activity_date":1668368434,"creation_date":1466080916,"question_id":37859582,"body_markdown":"Using Firebase, how do I catch a specific exception and tell the user gracefully about it? E.g :\r\n\r\n&gt; FirebaseAuthInvalidCredentialsException: The email address is badly\r\n&gt; formatted.\r\n\r\nI&#39;m using the code below to signup the user using email and password, but I&#39;m not that advanced in java. \r\n\r\n   \r\n\r\n    mAuth.createUserWithEmailAndPassword(email, pwd)\r\n        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n        \r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (!task.isSuccessful()) {\r\n                //H.toast(c, task.getException().getMessage());\r\n                Log.e(&quot;Signup Error&quot;, &quot;onCancelled&quot;, task.getException());\r\n            } else {\r\n                FirebaseUser user = mAuth.getCurrentUser();\r\n                String uid = user.getUid();\r\n            }\r\n        }    \r\n    });","title":"How to catch a Firebase Auth specific exceptions","body":"<p>Using Firebase, how do I catch a specific exception and tell the user gracefully about it? E.g :</p>\n\n<blockquote>\n  <p>FirebaseAuthInvalidCredentialsException: The email address is badly\n  formatted.</p>\n</blockquote>\n\n<p>I'm using the code below to signup the user using email and password, but I'm not that advanced in java. </p>\n\n<pre><code>mAuth.createUserWithEmailAndPassword(email, pwd)\n    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (!task.isSuccessful()) {\n            //H.toast(c, task.getException().getMessage());\n            Log.e(\"Signup Error\", \"onCancelled\", task.getException());\n        } else {\n            FirebaseUser user = mAuth.getCurrentUser();\n            String uid = user.getUid();\n        }\n    }    \n});\n</code></pre>\n"},{"tags":["java","azure","azure-devops","azure-pipelines"],"comments":[{"owner":{"account_id":24423277,"reputation":643,"user_id":18349158,"display_name":"Suki Ji-MSFT"},"score":0,"creation_date":1668492530,"post_id":74419657,"comment_id":131411753,"body_markdown":"Hi @Arsany, is the answer below to use Java Tool installer task could help? If it helps, just a remind of [accept an answer](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235).","body":"Hi @Arsany, is the answer below to use Java Tool installer task could help? If it helps, just a remind of <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235\">accept an answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":8824646,"reputation":3724,"user_id":6593272,"accept_rate":25,"display_name":"D.J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668366956,"creation_date":1668366956,"answer_id":74424001,"question_id":74419657,"body_markdown":"If you need a certain runtime or runtime version you need you can either use one of the provided &quot;* Installer&quot;-Tasks by microsoft or write some powershell that installs stuff for you but the main thing is that you set this up as part of the pipeline.\r\n\r\nYou need the task &quot;Java Tool installer&quot; as one of the first steps in your pipeline. Reference -&gt; https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops","title":"How to upgrade java version on an Azure pipeline Microsoft-hosted agent?","body":"<p>If you need a certain runtime or runtime version you need you can either use one of the provided &quot;* Installer&quot;-Tasks by microsoft or write some powershell that installs stuff for you but the main thing is that you set this up as part of the pipeline.</p>\n<p>You need the task &quot;Java Tool installer&quot; as one of the first steps in your pipeline. Reference -&gt; <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops</a></p>\n"}],"owner":{"account_id":12252390,"reputation":21,"user_id":9683478,"display_name":"Arsany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668366956,"creation_date":1668329793,"question_id":74419657,"body_markdown":"I am setting up an Azure DevOps pipeline and I am running a jar (in one of the pipeline tasks) that needs a higher version of java than the one installed on the Microsoft-hosted agent used by the pipeline. How can I update the java version on the agent and ensure that this job (the one that requires a high java version) gets executed on this agent?","title":"How to upgrade java version on an Azure pipeline Microsoft-hosted agent?","body":"<p>I am setting up an Azure DevOps pipeline and I am running a jar (in one of the pipeline tasks) that needs a higher version of java than the one installed on the Microsoft-hosted agent used by the pipeline. How can I update the java version on the agent and ensure that this job (the one that requires a high java version) gets executed on this agent?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1426353110,"post_id":29051746,"comment_id":46341318,"body_markdown":"Because of `TreeSet` insertion time, your code has the worst time complexity of O(N*Log(N)).","body":"Because of <code>TreeSet</code> insertion time, your code has the worst time complexity of O(N*Log(N))."},{"owner":{"account_id":1053524,"reputation":849,"user_id":7958307,"display_name":"Kostya"},"score":0,"creation_date":1511191919,"post_id":29051746,"comment_id":81744153,"body_markdown":"@dasblinkenlight is right. Your solution is O(N*Log(N)) whereas it should be O(N).","body":"@dasblinkenlight is right. Your solution is O(N*Log(N)) whereas it should be O(N)."},{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1540826668,"post_id":29051746,"comment_id":92997093,"body_markdown":"You could use a HashSet to add your numbers and also while adding get the minimum and maximum positive numbers. Now go through min + 1 to max - 1 and see which first positive number is not there in HashSet and return it. It should be O(N) time and O(N) space.","body":"You could use a HashSet to add your numbers and also while adding get the minimum and maximum positive numbers. Now go through min + 1 to max - 1 and see which first positive number is not there in HashSet and return it. It should be O(N) time and O(N) space."}],"answers":[{"tags":[],"owner":{"account_id":5879758,"reputation":96,"user_id":4629543,"display_name":"Giulio Meneghin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1426354314,"creation_date":1426354314,"answer_id":29052007,"question_id":29051746,"body_markdown":"You get a \r\n\r\n&gt; got 3 expected 1\r\n\r\nerror if the input is, for example, `A = [2]`. In that case `previous` is set to `2`, the while loop does not enter, and the method returns `previous + 1`. That is `3`, but the correct answer is `1`.","title":"Finding the missing integer (Codility tests)","body":"<p>You get a </p>\n\n<blockquote>\n  <p>got 3 expected 1</p>\n</blockquote>\n\n<p>error if the input is, for example, <code>A = [2]</code>. In that case <code>previous</code> is set to <code>2</code>, the while loop does not enter, and the method returns <code>previous + 1</code>. That is <code>3</code>, but the correct answer is <code>1</code>.</p>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541721841,"creation_date":1536881222,"answer_id":52323036,"question_id":29051746,"body_markdown":"Since we know the absolute minimum can only be   1, we can start there. \r\n\r\n       import java.util.Arrays;\r\n        class Solution {\r\n            public int solution(int[] A) {\r\n                Arrays.sort(A);     \r\n                int min = 1; \r\n        \r\n                for (int i = 0; i &lt; A.length; i++){\r\n                    if(A[i]== min){\r\n                        min++;\r\n                    }\r\n                }   \r\n                //min = ( min &lt;= 0 ) ? 1:min;\r\n                return min;    \r\n            }\r\n        }\r\n    \r\n     ","title":"Finding the missing integer (Codility tests)","body":"<p>Since we know the absolute minimum can only be   1, we can start there. </p>\n\n<pre><code>   import java.util.Arrays;\n    class Solution {\n        public int solution(int[] A) {\n            Arrays.sort(A);     \n            int min = 1; \n\n            for (int i = 0; i &lt; A.length; i++){\n                if(A[i]== min){\n                    min++;\n                }\n            }   \n            //min = ( min &lt;= 0 ) ? 1:min;\n            return min;    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3166708,"reputation":2543,"user_id":2676557,"accept_rate":43,"display_name":"Slobodan AntonijeviÄ‡"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540826200,"creation_date":1540826200,"answer_id":53048568,"question_id":29051746,"body_markdown":"My solution that scored 100/100\r\n\r\n    // you can also use imports, for example:\r\n    // import java.util.*;\r\n\r\n    // you can write to stdout for debugging purposes, e.g.\r\n    // System.out.println(&quot;this is a debug message&quot;);\r\n    import java.util.Arrays;\r\n\r\n    class Solution {\r\n    \r\n        public int solution(int[] A) {\r\n    \r\n            int smallest = 1;\r\n        \r\n            Arrays.sort(A);\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n            \r\n                if (A[i] == smallest) {\r\n                \r\n                    smallest++;\r\n                }\r\n            }\r\n        \r\n            return smallest;\r\n        }\r\n    }\r\n\r\nWorse time was on &#39;large_2&#39; test case and it was 0.292s.\r\n\r\nI&#39;d say pretty good.\r\n\r\nIf you need explaining buzz me so I can expand the answer :)\r\n\r\nCheers.","title":"Finding the missing integer (Codility tests)","body":"<p>My solution that scored 100/100</p>\n\n<pre><code>// you can also use imports, for example:\n// import java.util.*;\n\n// you can write to stdout for debugging purposes, e.g.\n// System.out.println(\"this is a debug message\");\nimport java.util.Arrays;\n\nclass Solution {\n\n    public int solution(int[] A) {\n\n        int smallest = 1;\n\n        Arrays.sort(A);\n        for (int i = 0; i &lt; A.length; i++) {\n\n            if (A[i] == smallest) {\n\n                smallest++;\n            }\n        }\n\n        return smallest;\n    }\n}\n</code></pre>\n\n<p>Worse time was on 'large_2' test case and it was 0.292s.</p>\n\n<p>I'd say pretty good.</p>\n\n<p>If you need explaining buzz me so I can expand the answer :)</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":16312574,"reputation":11,"user_id":11780752,"display_name":"Luke Samad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564030781,"creation_date":1564030781,"answer_id":57194619,"question_id":29051746,"body_markdown":"I did something similar by adding all data to a hashSet and using the array index to check the hashset. There&#39;s a few edge cases too. You can also achieve the same results by adding to a hashmap and using the array indexes to look for the the day in order since the keyset is a set.\r\n\r\nhttps://app.codility.com/demo/results/trainingVHZNXJ-68S/\r\n\r\n```\r\n public int solution(int[] A) {\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; A.length; i++) {\r\n      set.add(A[i]);\r\n    }\r\n\r\n    int max = 0, missing = -1;\r\n    for (int i = 1; i &lt;= A.length; i++) {\r\n      max = i;\r\n      if (!set.contains(i)) {\r\n        missing = i;\r\n        break;\r\n      }\r\n    }\r\n    return missing == -1 ? max + 1 : missing;\r\n  }\r\n\r\n```","title":"Finding the missing integer (Codility tests)","body":"<p>I did something similar by adding all data to a hashSet and using the array index to check the hashset. There's a few edge cases too. You can also achieve the same results by adding to a hashmap and using the array indexes to look for the the day in order since the keyset is a set.</p>\n\n<p><a href=\"https://app.codility.com/demo/results/trainingVHZNXJ-68S/\" rel=\"nofollow noreferrer\">https://app.codility.com/demo/results/trainingVHZNXJ-68S/</a></p>\n\n<pre><code> public int solution(int[] A) {\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    for (int i = 0; i &lt; A.length; i++) {\n      set.add(A[i]);\n    }\n\n    int max = 0, missing = -1;\n    for (int i = 1; i &lt;= A.length; i++) {\n      max = i;\n      if (!set.contains(i)) {\n        missing = i;\n        break;\n      }\n    }\n    return missing == -1 ? max + 1 : missing;\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1675123,"reputation":17577,"user_id":1540854,"display_name":"jeprubio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583621047,"creation_date":1583620739,"answer_id":60582868,"question_id":29051746,"body_markdown":"I&#39;ve found a solution that scores 100/100 using [binarySearch][1].\r\n\r\nHere is the code:\r\n```\r\nimport java.util.*;\r\n\r\nclass Solution {\r\n    public int solution(int[] A) {\r\n        Arrays.sort(A);\r\n        int i = 1;\r\n        while (i &lt;= A.length) {\r\n            int res = Arrays.binarySearch(A, i); \r\n            if (res &lt; 0) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n        return i;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-binarysearch-java-examples-set-1/","title":"Finding the missing integer (Codility tests)","body":"<p>I've found a solution that scores 100/100 using <a href=\"https://www.geeksforgeeks.org/arrays-binarysearch-java-examples-set-1/\" rel=\"nofollow noreferrer\">binarySearch</a>.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import java.util.*;\n\nclass Solution {\n    public int solution(int[] A) {\n        Arrays.sort(A);\n        int i = 1;\n        while (i &lt;= A.length) {\n            int res = Arrays.binarySearch(A, i); \n            if (res &lt; 0) {\n                return i;\n            }\n            i++;\n        }\n        return i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20115952,"reputation":11,"user_id":14751400,"display_name":"Ariya Bala Sadaiappan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606980205,"creation_date":1606936965,"answer_id":65114774,"question_id":29051746,"body_markdown":"```java\r\n    import java.util.*;\r\n    \r\n    class Solution {\r\n    \r\n        public int solution(int[] A) {\r\n            // write your code in Java SE 8\r\n            Arrays.sort( A );\r\n    \r\n            //Print array to confirm\r\n            int smallestVal = 1;\r\n            int len = A.length;\r\n            int prev=0;\r\n    \r\n            for(int i=0; i&lt;len; i++){\r\n                // Filtering all values less than 1 AND filtering the duplicates\r\n                if( A[i] &gt;= 1 &amp;&amp; prev != A[i]){\r\n                    if(smallestVal == A[i]){\r\n                        smallestVal++;\r\n                    }else{\r\n                        return smallestVal;\r\n                    }\r\n                    prev = A[i];\r\n                }\r\n            }\r\n            return smallestVal;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Solution sol = new Solution();\r\n            sol.testOutput(new int[]{-9, 1, 2},3);\r\n            sol.testOutput(new int[]{-9, 2},1);\r\n            sol.testOutput(new int[]{92,93,0,-100},1);\r\n            sol.testOutput(new int[]{-1000000},1);\r\n            sol.testOutput(new int[]{-5,6,-3,7,3,10,1000,-4000},1);\r\n            sol.testOutput(new int[]{999999,-1000000,999998,-999999,-999998,1000000},1);\r\n            sol.testOutput(new int[]{4,6,1,0,-9,10,0,-4},2);\r\n            sol.testOutput(new int[]{-1},1);\r\n            sol.testOutput(new int[]{1},2);\r\n            sol.testOutput(new int[]{1000},1);\r\n            sol.testOutput(new int[]{9,10, 12,1000000},1);\r\n            sol.testOutput(new int[]{1, 3, 6, 4, 1, 2},5);\r\n            sol.testOutput(new int[]{0, 2, 3},1);\r\n            sol.testOutput(new int[]{-1,-3,-10,-100},1);\r\n            sol.testOutput(new int[]{100, 98, 93,78,84, 34,0,1,2,102,130,123,150,200,199,185,149},3);\r\n            sol.testOutput(new int[]{10,9,8,8,7,6,5,4,3,2,1,0,20,19,18,17,16,15,14,13,12},11);\r\n        }\r\n    \r\n        private void testOutput(int[] in, int exp){\r\n            Solution sol = new Solution();\r\n            if(sol.solution(in) == exp){\r\n                System.out.println(&quot;PASS&quot;);\r\n            }else{\r\n                System.out.println(&quot;Expected/Got:&quot;+exp+&quot; / &quot; + sol.solution(in));\r\n            }\r\n        }\r\n    }\r\n```","title":"Finding the missing integer (Codility tests)","body":"<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n    \n    class Solution {\n    \n        public int solution(int[] A) {\n            // write your code in Java SE 8\n            Arrays.sort( A );\n    \n            //Print array to confirm\n            int smallestVal = 1;\n            int len = A.length;\n            int prev=0;\n    \n            for(int i=0; i&lt;len; i++){\n                // Filtering all values less than 1 AND filtering the duplicates\n                if( A[i] &gt;= 1 &amp;&amp; prev != A[i]){\n                    if(smallestVal == A[i]){\n                        smallestVal++;\n                    }else{\n                        return smallestVal;\n                    }\n                    prev = A[i];\n                }\n            }\n            return smallestVal;\n        }\n    \n        public static void main(String[] args) {\n            Solution sol = new Solution();\n            sol.testOutput(new int[]{-9, 1, 2},3);\n            sol.testOutput(new int[]{-9, 2},1);\n            sol.testOutput(new int[]{92,93,0,-100},1);\n            sol.testOutput(new int[]{-1000000},1);\n            sol.testOutput(new int[]{-5,6,-3,7,3,10,1000,-4000},1);\n            sol.testOutput(new int[]{999999,-1000000,999998,-999999,-999998,1000000},1);\n            sol.testOutput(new int[]{4,6,1,0,-9,10,0,-4},2);\n            sol.testOutput(new int[]{-1},1);\n            sol.testOutput(new int[]{1},2);\n            sol.testOutput(new int[]{1000},1);\n            sol.testOutput(new int[]{9,10, 12,1000000},1);\n            sol.testOutput(new int[]{1, 3, 6, 4, 1, 2},5);\n            sol.testOutput(new int[]{0, 2, 3},1);\n            sol.testOutput(new int[]{-1,-3,-10,-100},1);\n            sol.testOutput(new int[]{100, 98, 93,78,84, 34,0,1,2,102,130,123,150,200,199,185,149},3);\n            sol.testOutput(new int[]{10,9,8,8,7,6,5,4,3,2,1,0,20,19,18,17,16,15,14,13,12},11);\n        }\n    \n        private void testOutput(int[] in, int exp){\n            Solution sol = new Solution();\n            if(sol.solution(in) == exp){\n                System.out.println(&quot;PASS&quot;);\n            }else{\n                System.out.println(&quot;Expected/Got:&quot;+exp+&quot; / &quot; + sol.solution(in));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9494255,"reputation":11,"user_id":7057936,"display_name":"Gianpaolo Gulletta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613927114,"creation_date":1613927114,"answer_id":66304843,"question_id":29051746,"body_markdown":"Here my 100% O(N) complexity solution with Python.\r\n\r\n    def solution(A):\r\n        smallest = 1\r\n        B = {a for a in A}\r\n\r\n        while(smallest in B):\r\n            smallest += 1\r\n\r\n        return smallest","title":"Finding the missing integer (Codility tests)","body":"<p>Here my 100% O(N) complexity solution with Python.</p>\n<pre><code>def solution(A):\n    smallest = 1\n    B = {a for a in A}\n\n    while(smallest in B):\n        smallest += 1\n\n    return smallest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9291633,"reputation":36,"user_id":6899904,"display_name":"Saurabh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614118707,"creation_date":1614118707,"answer_id":66341935,"question_id":29051746,"body_markdown":"Another answer with O(n) complexity:\r\n\r\n     int solution(int A[]) {\r\n        int smallestPostive=0;\r\n        int maxPositive = 0;\r\n        for (int number: A) { //Find maximum positive\r\n            if (number&gt; maxPositive) {\r\n                maxPositive = number;\r\n            }\r\n        }\r\n        if (maxPositive == 0) { // if all numbers are negative, just return 1\r\n            return smallestPostive+1;\r\n        }\r\n        int[] data = new int[maxPositive]; //new array with all elements up to max number as indexes\r\n        for (int element: A) {  // when you encounter a +ve number, mark it in the array\r\n            if (element&gt; 0)\r\n                data[element-1] = 1;\r\n        }\r\n        for (int count=0; count&lt;maxPositive;count++) {\r\n            if (data[count] == 0) {  // find the unmarked smallest element\r\n                smallestPostive = count+1;\r\n                break;\r\n            }\r\n        }\r\n    return smallestPostive==0?maxPositive+1:smallestPostive; //if nothing is marked return max positive +1\r\n    }","title":"Finding the missing integer (Codility tests)","body":"<p>Another answer with O(n) complexity:</p>\n<pre><code> int solution(int A[]) {\n    int smallestPostive=0;\n    int maxPositive = 0;\n    for (int number: A) { //Find maximum positive\n        if (number&gt; maxPositive) {\n            maxPositive = number;\n        }\n    }\n    if (maxPositive == 0) { // if all numbers are negative, just return 1\n        return smallestPostive+1;\n    }\n    int[] data = new int[maxPositive]; //new array with all elements up to max number as indexes\n    for (int element: A) {  // when you encounter a +ve number, mark it in the array\n        if (element&gt; 0)\n            data[element-1] = 1;\n    }\n    for (int count=0; count&lt;maxPositive;count++) {\n        if (data[count] == 0) {  // find the unmarked smallest element\n            smallestPostive = count+1;\n            break;\n        }\n    }\nreturn smallestPostive==0?maxPositive+1:smallestPostive; //if nothing is marked return max positive +1\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4437440,"reputation":2812,"user_id":3612903,"accept_rate":88,"display_name":"Shaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653054264,"creation_date":1647815915,"answer_id":71551190,"question_id":29051746,"body_markdown":"### Hash table solution\r\nHere&#39;s my 100% solution that uses a hash table. It&#39;s written in JS, but the context is similar in other languages.\r\n```\r\nfunction solution(A) {\r\n\r\n    let hashTable = {}, min = 0;\r\n    \r\n    // build the hash table\r\n    for (const num of A) hashTable[num] = 1;\r\n\r\n    // return the first available integer\r\n    while(1) if (!hashTable[++min]) return min;\r\n}\r\n```","title":"Finding the missing integer (Codility tests)","body":"<h3>Hash table solution</h3>\n<p>Here's my 100% solution that uses a hash table. It's written in JS, but the context is similar in other languages.</p>\n<pre><code>function solution(A) {\n\n    let hashTable = {}, min = 0;\n    \n    // build the hash table\n    for (const num of A) hashTable[num] = 1;\n\n    // return the first available integer\n    while(1) if (!hashTable[++min]) return min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6357823,"reputation":5651,"user_id":4934446,"display_name":"J&#246;cker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668364665,"creation_date":1668364665,"answer_id":74423685,"question_id":29051746,"body_markdown":"Based on the answer of @slobodan, here is another solution optimized even more:\r\n\r\n    class Solution {\r\n    \r\n        public int solution(int[] A) {\r\n    \r\n            int smallest = 1;\r\n    \r\n            Arrays.sort(A);\r\n\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n    \r\n                if (A[i] == smallest) {\r\n                    smallest++;\r\n                }\r\n                if (A[i] &gt; smallest) {\r\n                    return smallest;\r\n                }\r\n            }\r\n    \r\n            return smallest;\r\n        }\r\n    }","title":"Finding the missing integer (Codility tests)","body":"<p>Based on the answer of @slobodan, here is another solution optimized even more:</p>\n<pre><code>class Solution {\n\n    public int solution(int[] A) {\n\n        int smallest = 1;\n\n        Arrays.sort(A);\n\n        for (int i = 0; i &lt; A.length; i++) {\n\n            if (A[i] == smallest) {\n                smallest++;\n            }\n            if (A[i] &gt; smallest) {\n                return smallest;\n            }\n        }\n\n        return smallest;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3691904,"reputation":35,"user_id":3074303,"accept_rate":50,"display_name":"Michele Loria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29052007,"answer_count":10,"score":3,"last_activity_date":1668364665,"creation_date":1426352876,"question_id":29051746,"body_markdown":"I&#39;m facing a really strange issue with this exercise found on Codility, here&#39;s the task description:\r\n\r\n    Write a function:\r\n    \r\n    class Solution { public int solution(int[] A); }  \r\n    \r\n    that, given a non-empty zero-indexed array A of N integers, returns the minimal positive integer that does not occur in A.\r\n    \r\n    For example, given:\r\n    \r\n        A[0] = 1\r\n        A[1] = 3\r\n        A[2] = 6\r\n        A[3] = 4\r\n        A[4] = 1\r\n        A[5] = 2\r\n    \r\n    the function should return 5.\r\n    \r\n    Assume that:\r\n    N is an integer within the range [1..100,000];\r\n    each element of array A is an integer within the range [âˆ’2,147,483,648..2,147,483,647].\r\n    \r\n    Complexity:\r\n    expected worst-case time complexity is O(N);\r\n    expected worst-case space complexity is O(N), beyond input storage (not counting the storage required for input arguments).\r\n    Elements of input arrays can be modified.\r\n\r\nAnd there&#39;s my code:\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            SortedSet set = new TreeSet();\r\n            for (int i = 0; i &lt; A.length; i++)\r\n                if (A[i] &gt; 0)\r\n                    set.add(A[i]);\r\n            Iterator it = set.iterator();\r\n            int previous = 0, element = 0;\r\n            try { previous = (int)it.next(); }\r\n            catch (NoSuchElementException e) { return 1; }\r\n            while (it.hasNext()) {\r\n                element = (int)it.next();\r\n                if (element!=(previous+1)) break;\r\n                previous=element;\r\n            }\r\n            if (previous+1 &lt; 1) return 1;\r\n            return previous+1;\r\n        }\r\n    }\r\n\r\nCode analysis:\r\n\r\nhttps://i.stack.imgur.com/IlMxP.png\r\n\r\nI&#39;m trying to figure out why does my code provide the wrong output only on that test, is someone able to help me?\r\n\r\nThanks in advance!","title":"Finding the missing integer (Codility tests)","body":"<p>I'm facing a really strange issue with this exercise found on Codility, here's the task description:</p>\n\n<pre><code>Write a function:\n\nclass Solution { public int solution(int[] A); }  \n\nthat, given a non-empty zero-indexed array A of N integers, returns the minimal positive integer that does not occur in A.\n\nFor example, given:\n\n    A[0] = 1\n    A[1] = 3\n    A[2] = 6\n    A[3] = 4\n    A[4] = 1\n    A[5] = 2\n\nthe function should return 5.\n\nAssume that:\nN is an integer within the range [1..100,000];\neach element of array A is an integer within the range [âˆ’2,147,483,648..2,147,483,647].\n\nComplexity:\nexpected worst-case time complexity is O(N);\nexpected worst-case space complexity is O(N), beyond input storage (not counting the storage required for input arguments).\nElements of input arrays can be modified.\n</code></pre>\n\n<p>And there's my code:</p>\n\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        SortedSet set = new TreeSet();\n        for (int i = 0; i &lt; A.length; i++)\n            if (A[i] &gt; 0)\n                set.add(A[i]);\n        Iterator it = set.iterator();\n        int previous = 0, element = 0;\n        try { previous = (int)it.next(); }\n        catch (NoSuchElementException e) { return 1; }\n        while (it.hasNext()) {\n            element = (int)it.next();\n            if (element!=(previous+1)) break;\n            previous=element;\n        }\n        if (previous+1 &lt; 1) return 1;\n        return previous+1;\n    }\n}\n</code></pre>\n\n<p>Code analysis:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IlMxP.png\" rel=\"nofollow\">https://i.stack.imgur.com/IlMxP.png</a></p>\n\n<p>I'm trying to figure out why does my code provide the wrong output only on that test, is someone able to help me?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6713019,"reputation":106,"user_id":5175771,"display_name":"Pieter Vandeperre - ACA Group"},"score":0,"creation_date":1668440347,"post_id":74423514,"comment_id":131399367,"body_markdown":"I don&#39;t see how the filtering and pagination are mutually exclusive.\nCreate and update methods ofcourse don&#39;t have pagination options, as those don&#39;t query sets of data.\nAre you using the spring-data-jpa derived queries? (For reference, see example 5. on https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories as an example)","body":"I don&#39;t see how the filtering and pagination are mutually exclusive. Create and update methods ofcourse don&#39;t have pagination options, as those don&#39;t query sets of data. Are you using the spring-data-jpa derived queries? (For reference, see example 5. on <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a> as an example)"},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1668512750,"post_id":74423514,"comment_id":131418272,"body_markdown":"@PieterVandeperre-ACAGroup\n\nYes I&#39;m using derived queries among the others. \nI didn&#39;t say it&#39;s mutually exclusive.\n\nSo for what exactly are those links are good? \nFor cases that I want to get ALL the data, and I need pagination? \n\nMany times we want to first filter and then paging and sorting...","body":"@PieterVandeperre-ACAGroup  Yes I&#39;m using derived queries among the others.  I didn&#39;t say it&#39;s mutually exclusive.  So for what exactly are those links are good?  For cases that I want to get ALL the data, and I need pagination?   Many times we want to first filter and then paging and sorting..."}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668363191,"creation_date":1668363191,"question_id":74423514,"body_markdown":"I use spring boot data, with jpa, and PagingAndSortingRepository\r\n\r\nAs known - that this kind of data mapping is represented by the browser, when using JPA.\r\n\r\n[![data on the browser][1]][1]\r\n\r\nFor example when we are navigating to that page \r\nhttp://localhost:8080/api\r\n\r\nwe&#39;re getting all the data that resides on the connected DB&#39;s. \r\n\r\nSo I&#39;m not sure for what this mapping is good, since, if you want to filter the data, you need to use queries methods that you will create (at the repo) , and if you want to update/create/etc. , it&#39;s also not enough. \r\n\r\nSo the advantage is only that you can get the data with some pagination without filtering the data ? \r\n\r\n\r\n(For [example][2] see here at the bottom of the tutorial) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7HaFE.jpg\r\n  [2]: https://howtodoinjava.com/spring-boot2/pagination-sorting-example/#:~:text=Learn%20to%20request%20and%20display,in%20tabular%20format%20in%20UI.\r\n\r\n*I don&#39;t think it&#39;s based opinion question, I want to hear on possible reasons, not only the best reason.","title":"JSON Data that provided by Spring-Boot-JPA with paging and sorting- For what?","body":"<p>I use spring boot data, with jpa, and PagingAndSortingRepository</p>\n<p>As known - that this kind of data mapping is represented by the browser, when using JPA.</p>\n<p><a href=\"https://i.stack.imgur.com/7HaFE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7HaFE.jpg\" alt=\"data on the browser\" /></a></p>\n<p>For example when we are navigating to that page\nhttp://localhost:8080/api</p>\n<p>we're getting all the data that resides on the connected DB's.</p>\n<p>So I'm not sure for what this mapping is good, since, if you want to filter the data, you need to use queries methods that you will create (at the repo) , and if you want to update/create/etc. , it's also not enough.</p>\n<p>So the advantage is only that you can get the data with some pagination without filtering the data ?</p>\n<p>(For <a href=\"https://howtodoinjava.com/spring-boot2/pagination-sorting-example/#:%7E:text=Learn%20to%20request%20and%20display,in%20tabular%20format%20in%20UI.\" rel=\"nofollow noreferrer\">example</a> see here at the bottom of the tutorial)</p>\n<p>*I don't think it's based opinion question, I want to hear on possible reasons, not only the best reason.</p>\n"},{"tags":["java","currency","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":8314,"reputation":12057,"user_id":14924,"accept_rate":86,"display_name":"dj_segfault"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1267706594,"creation_date":1267706594,"answer_id":2379292,"question_id":2379221,"body_markdown":"Yes.  You can use [java.util.formatter][1]. You can use a formatting string like &quot;%10.2f&quot;\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html","title":"How to format decimals in a currency format?","body":"<p>Yes.  You can use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">java.util.formatter</a>. You can use a formatting string like \"%10.2f\"</p>\n"},{"tags":[],"owner":{"account_id":78666,"reputation":2354,"user_id":223717,"display_name":"Stefan De Boey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1267708634,"creation_date":1267706966,"answer_id":2379330,"question_id":2379221,"body_markdown":"you should do something like this:\r\n\r\n    public static void main(String[] args) {\r\n\t\tdouble d1 = 100d;\r\n\t\tdouble d2 = 100.1d;\r\n\t\tprint(d1);\r\n\t\tprint(d2);\r\n\t}\r\n\t\r\n\tprivate static void print(double d) {\r\n\t\tString s = null;\r\n\t\tif (Math.round(d) != d) {\r\n\t\t\ts = String.format(&quot;%.2f&quot;, d);\r\n\t\t} else {\r\n\t\t\ts = String.format(&quot;%.0f&quot;, d);\r\n\t\t}\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\r\nwhich prints:\r\n\r\n100\r\n\r\n100,10\r\n","title":"How to format decimals in a currency format?","body":"<p>you should do something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    double d1 = 100d;\n    double d2 = 100.1d;\n    print(d1);\n    print(d2);\n}\n\nprivate static void print(double d) {\n    String s = null;\n    if (Math.round(d) != d) {\n        s = String.format(\"%.2f\", d);\n    } else {\n        s = String.format(\"%.0f\", d);\n    }\n    System.out.println(s);\n}\n</code></pre>\n\n<p>which prints:</p>\n\n<p>100</p>\n\n<p>100,10</p>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":3,"up_vote_count":53,"is_accepted":true,"score":50,"last_activity_date":1363544503,"creation_date":1267707060,"answer_id":2379340,"question_id":2379221,"body_markdown":"I doubt it. The problem is that 100 is never 100 if it&#39;s a float, it&#39;s normally 99.9999999999 or 100.0000001 or something like that. \r\n\r\nIf you do want to format it that way, you have to define an epsilon, that is, a maximum distance from an integer number, and use integer formatting if the difference is smaller, and a float otherwise.\r\n\r\nSomething like this would do the trick:\r\n\r\n    public String formatDecimal(float number) {\r\n      float epsilon = 0.004f; // 4 tenths of a cent\r\n      if (Math.abs(Math.round(number) - number) &lt; epsilon) {\r\n         return String.format(&quot;%10.0f&quot;, number); // sdb\r\n      } else {\r\n         return String.format(&quot;%10.2f&quot;, number); // dj_segfault\r\n      }\r\n    }","title":"How to format decimals in a currency format?","body":"<p>I doubt it. The problem is that 100 is never 100 if it's a float, it's normally 99.9999999999 or 100.0000001 or something like that. </p>\n\n<p>If you do want to format it that way, you have to define an epsilon, that is, a maximum distance from an integer number, and use integer formatting if the difference is smaller, and a float otherwise.</p>\n\n<p>Something like this would do the trick:</p>\n\n<pre><code>public String formatDecimal(float number) {\n  float epsilon = 0.004f; // 4 tenths of a cent\n  if (Math.abs(Math.round(number) - number) &lt; epsilon) {\n     return String.format(\"%10.0f\", number); // sdb\n  } else {\n     return String.format(\"%10.2f\", number); // dj_segfault\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":2,"up_vote_count":182,"is_accepted":false,"score":180,"last_activity_date":1442238731,"creation_date":1267708063,"answer_id":2379425,"question_id":2379221,"body_markdown":"I&#39;d recommend using the java.text package: \r\n\r\n    double money = 100.1;\r\n    NumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n    String moneyString = formatter.format(money);\r\n    System.out.println(moneyString);\r\n\r\nThis has the added benefit of being locale specific.\r\n\r\nBut, if you must, truncate the String you get back if it&#39;s a whole dollar: \r\n\r\n\r\n    if (moneyString.endsWith(&quot;.00&quot;)) {\r\n        int centsIndex = moneyString.lastIndexOf(&quot;.00&quot;);\r\n        if (centsIndex != -1) {\r\n            moneyString = moneyString.substring(1, centsIndex);\r\n        }\r\n    }\r\n\r\n","title":"How to format decimals in a currency format?","body":"<p>I'd recommend using the java.text package: </p>\n\n<pre><code>double money = 100.1;\nNumberFormat formatter = NumberFormat.getCurrencyInstance();\nString moneyString = formatter.format(money);\nSystem.out.println(moneyString);\n</code></pre>\n\n<p>This has the added benefit of being locale specific.</p>\n\n<p>But, if you must, truncate the String you get back if it's a whole dollar: </p>\n\n<pre><code>if (moneyString.endsWith(\".00\")) {\n    int centsIndex = moneyString.lastIndexOf(\".00\");\n    if (centsIndex != -1) {\n        moneyString = moneyString.substring(1, centsIndex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484929,"reputation":1993,"user_id":900924,"display_name":"wu liang"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1350148059,"creation_date":1350148059,"answer_id":12874984,"question_id":2379221,"body_markdown":"I did not find any good solution after google search, just post my solution for other to reference. use **priceToString** to format money.\r\n\r\n    public static String priceWithDecimal (Double price) {\r\n    \tDecimalFormat formatter = new DecimalFormat(&quot;###,###,###.00&quot;);\r\n    \treturn formatter.format(price);\r\n    }\r\n    \r\n    public static String priceWithoutDecimal (Double price) {\r\n    \tDecimalFormat formatter = new DecimalFormat(&quot;###,###,###.##&quot;);\r\n    \treturn formatter.format(price);\r\n    }\r\n    \r\n    public static String priceToString(Double price) {\r\n        String toShow = priceWithoutDecimal(price);\r\n        if (toShow.indexOf(&quot;.&quot;) &gt; 0) {\r\n            return priceWithDecimal(price);\r\n        } else {\r\n            return priceWithoutDecimal(price);\r\n        }\r\n    }","title":"How to format decimals in a currency format?","body":"<p>I did not find any good solution after google search, just post my solution for other to reference. use <strong>priceToString</strong> to format money.</p>\n\n<pre><code>public static String priceWithDecimal (Double price) {\n    DecimalFormat formatter = new DecimalFormat(\"###,###,###.00\");\n    return formatter.format(price);\n}\n\npublic static String priceWithoutDecimal (Double price) {\n    DecimalFormat formatter = new DecimalFormat(\"###,###,###.##\");\n    return formatter.format(price);\n}\n\npublic static String priceToString(Double price) {\n    String toShow = priceWithoutDecimal(price);\n    if (toShow.indexOf(\".\") &gt; 0) {\n        return priceWithDecimal(price);\n    } else {\n        return priceWithoutDecimal(price);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136746,"reputation":3030,"user_id":1121668,"accept_rate":59,"display_name":"Adrian Adamczyk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1350148928,"creation_date":1350148928,"answer_id":12875116,"question_id":2379221,"body_markdown":"If you want work on currencies, you have to use BigDecimal class. The problem is, there&#39;s no way to store some float numbers in memory (eg. you can store 5.3456, but not 5.3455), which can effects in bad calculations.\r\n\r\nThere&#39;s an nice article how to cooperate with BigDecimal and currencies:\r\n\r\nhttp://www.javaworld.com/javaworld/jw-06-2001/jw-0601-cents.html","title":"How to format decimals in a currency format?","body":"<p>If you want work on currencies, you have to use BigDecimal class. The problem is, there's no way to store some float numbers in memory (eg. you can store 5.3456, but not 5.3455), which can effects in bad calculations.</p>\n\n<p>There's an nice article how to cooperate with BigDecimal and currencies:</p>\n\n<p><a href=\"http://www.javaworld.com/javaworld/jw-06-2001/jw-0601-cents.html\" rel=\"nofollow\">http://www.javaworld.com/javaworld/jw-06-2001/jw-0601-cents.html</a></p>\n"},{"tags":[],"owner":{"account_id":74665,"reputation":8844,"user_id":214429,"display_name":"Viktor Nordling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354849228,"creation_date":1354849228,"answer_id":13756284,"question_id":2379221,"body_markdown":"This is what I did, using an integer to represent the amount as cents instead:\r\n\r\n    public static String format(int moneyInCents) {\r\n        String format;\r\n        Number value;\r\n        if (moneyInCents % 100 == 0) {\r\n            format = &quot;%d&quot;;\r\n            value = moneyInCents / 100;\r\n        } else {\r\n            format = &quot;%.2f&quot;;\r\n            value = moneyInCents / 100.0;\r\n        }\r\n        return String.format(Locale.US, format, value);\r\n    }\r\n\r\nThe problem with `NumberFormat.getCurrencyInstance()` is that sometimes you really want $20 to be $20, it just looks better than $20.00.\r\n\r\nIf anyone finds a better way of doing this, using NumberFormat, I&#39;m all ears.","title":"How to format decimals in a currency format?","body":"<p>This is what I did, using an integer to represent the amount as cents instead:</p>\n\n<pre><code>public static String format(int moneyInCents) {\n    String format;\n    Number value;\n    if (moneyInCents % 100 == 0) {\n        format = \"%d\";\n        value = moneyInCents / 100;\n    } else {\n        format = \"%.2f\";\n        value = moneyInCents / 100.0;\n    }\n    return String.format(Locale.US, format, value);\n}\n</code></pre>\n\n<p>The problem with <code>NumberFormat.getCurrencyInstance()</code> is that sometimes you really want $20 to be $20, it just looks better than $20.00.</p>\n\n<p>If anyone finds a better way of doing this, using NumberFormat, I'm all ears.</p>\n"},{"tags":[],"owner":{"account_id":1861886,"reputation":3121,"user_id":1686330,"accept_rate":83,"display_name":"Dirk Lachowski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1354886974,"creation_date":1354886974,"answer_id":13764081,"question_id":2379221,"body_markdown":"I&#39;m using this one (using StringUtils from commons-lang):\r\n\r\n    Double qty = 1.01;\r\n    String res = String.format(Locale.GERMANY, &quot;%.2f&quot;, qty);\r\n    String fmt = StringUtils.removeEnd(res, &quot;,00&quot;);\r\n\r\nYou must only take care of the locale and the corresponding String to chop. \r\n","title":"How to format decimals in a currency format?","body":"<p>I'm using this one (using StringUtils from commons-lang):</p>\n\n<pre><code>Double qty = 1.01;\nString res = String.format(Locale.GERMANY, \"%.2f\", qty);\nString fmt = StringUtils.removeEnd(res, \",00\");\n</code></pre>\n\n<p>You must only take care of the locale and the corresponding String to chop. </p>\n"},{"tags":[],"owner":{"account_id":364920,"reputation":401,"user_id":709556,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1366279064,"creation_date":1366279064,"answer_id":16079846,"question_id":2379221,"body_markdown":"Format from 1000000.2 to 1 000 000,20\r\n\r\n    private static final DecimalFormat DF = new DecimalFormat();\r\n\r\n    public static String toCurrency(Double d) {\r\n\t    if (d == null || &quot;&quot;.equals(d) || &quot;NaN&quot;.equals(d)) {\r\n\t    \treturn &quot; - &quot;;\r\n\t    }\r\n\t    BigDecimal bd = new BigDecimal(d);\r\n\t    bd = bd.setScale(2, BigDecimal.ROUND_HALF_UP);\r\n\t    DecimalFormatSymbols symbols = DF.getDecimalFormatSymbols();\r\n\t    symbols.setGroupingSeparator(&#39; &#39;);\r\n\t    String ret = DF.format(bd) + &quot;&quot;;\r\n\t    if (ret.indexOf(&quot;,&quot;) == -1) {\r\n\t    \tret += &quot;,00&quot;;\r\n\t    }\r\n\t    if (ret.split(&quot;,&quot;)[1].length() != 2) {\r\n\t    \tret += &quot;0&quot;;\r\n\t    }\r\n\t    return ret;\r\n    }\r\n","title":"How to format decimals in a currency format?","body":"<p>Format from 1000000.2 to 1 000 000,20</p>\n\n<pre><code>private static final DecimalFormat DF = new DecimalFormat();\n\npublic static String toCurrency(Double d) {\n    if (d == null || \"\".equals(d) || \"NaN\".equals(d)) {\n        return \" - \";\n    }\n    BigDecimal bd = new BigDecimal(d);\n    bd = bd.setScale(2, BigDecimal.ROUND_HALF_UP);\n    DecimalFormatSymbols symbols = DF.getDecimalFormatSymbols();\n    symbols.setGroupingSeparator(' ');\n    String ret = DF.format(bd) + \"\";\n    if (ret.indexOf(\",\") == -1) {\n        ret += \",00\";\n    }\n    if (ret.split(\",\")[1].length() != 2) {\n        ret += \"0\";\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2237278,"reputation":341,"user_id":1973280,"accept_rate":86,"display_name":"Aezur"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1372086982,"creation_date":1372086982,"answer_id":17278998,"question_id":2379221,"body_markdown":"I know this is an old question but...\r\n\r\n    import java.text.*;\r\n \r\n    public class FormatCurrency\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            double price = 123.4567;\r\n            DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n            System.out.print(df.format(price));\r\n        }\r\n    }","title":"How to format decimals in a currency format?","body":"<p>I know this is an old question but...</p>\n\n<pre><code>import java.text.*;\n\npublic class FormatCurrency\n{\n    public static void main(String[] args)\n    {\n        double price = 123.4567;\n        DecimalFormat df = new DecimalFormat(\"#.##\");\n        System.out.print(df.format(price));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127271,"reputation":169,"user_id":2645904,"accept_rate":50,"display_name":"user2645904"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1377220984,"creation_date":1377220984,"answer_id":18393252,"question_id":2379221,"body_markdown":"You can just do something like this and pass in the whole number and then the cents after.\r\n\r\n\r\n    String.format(&quot;$%,d.%02d&quot;,wholeNum,change);","title":"How to format decimals in a currency format?","body":"<p>You can just do something like this and pass in the whole number and then the cents after.</p>\n\n<pre><code>String.format(\"$%,d.%02d\",wholeNum,change);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3661323,"reputation":21,"user_id":3051037,"display_name":"Jeroen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385780869,"creation_date":1385777224,"answer_id":20295699,"question_id":2379221,"body_markdown":"This post really helped me to finally get what I want. So I just wanted to contribute my code here to help others. Here is my code with some explanation.\r\n\r\nThe following code:\r\n\r\n    double moneyWithDecimals = 5.50;\r\n    double moneyNoDecimals = 5.00;\r\n    System.out.println(jeroensFormat(moneyWithDecimals));\r\n    System.out.println(jeroensFormat(moneyNoDecimals));\r\nWill return:\r\n\r\n    â‚¬ 5,-\r\n    â‚¬ 5,50\r\nThe actual jeroensFormat() method:\r\n\r\n         \r\n    public String jeroensFormat(double money)//Wants to receive value of type double\r\n    {\r\n            NumberFormat dutchFormat = NumberFormat.getCurrencyInstance();\r\n            money = money;\r\n            String twoDecimals = dutchFormat.format(money); //Format to string\r\n            if(tweeDecimalen.matches(&quot;.*[.]...[,]00$&quot;)){\r\n                String zeroDecimals = twoDecimals.substring(0, twoDecimals.length() -3);\r\n                    return zeroDecimals;\r\n            }\r\n            if(twoDecimals.endsWith(&quot;,00&quot;)){\r\n                String zeroDecimals = String.format(&quot;â‚¬ %.0f,-&quot;, money);\r\n                return zeroDecimals; //Return with ,00 replaced to ,-\r\n            }\r\n            else{ //If endsWith != ,00 the actual twoDecimals string can be returned\r\n                return twoDecimals;\r\n            }\r\n    }\r\n\r\nThe method displayJeroensFormat that calls the method jeroensFormat() \r\n\r\n        public void displayJeroensFormat()//@parameter double:\r\n        {\r\n            System.out.println(jeroensFormat(10.5)); //Example for two decimals\r\n            System.out.println(jeroensFormat(10.95)); //Example for two decimals\r\n            System.out.println(jeroensFormat(10.00)); //Example for zero decimals\r\n            System.out.println(jeroensFormat(100.000)); //Example for zero decimals\r\n        }\r\nWill have the following output:\r\n\r\n    â‚¬ 10,50\r\n    â‚¬ 10,95\r\n    â‚¬ 10,-\r\n    â‚¬ 100.000 (In Holland numbers bigger than â‚¬ 999,- and wit no decimals don&#39;t have ,-)\r\nThis code uses your current currency. In my case that&#39;s Holland so the formatted string for me will be different than for someone in the US.\r\n\r\n - Holland:   999.999,99 \r\n - US:        999,999.99\r\n\r\nJust watch the last 3 characters of those numbers. My code has an if statement to check if the last 3 characters are equal to &quot;,00&quot;. To use this in the US you might have to change that to &quot;.00&quot; if it doesn&#39;t work already.","title":"How to format decimals in a currency format?","body":"<p>This post really helped me to finally get what I want. So I just wanted to contribute my code here to help others. Here is my code with some explanation.</p>\n\n<p>The following code:</p>\n\n<pre><code>double moneyWithDecimals = 5.50;\ndouble moneyNoDecimals = 5.00;\nSystem.out.println(jeroensFormat(moneyWithDecimals));\nSystem.out.println(jeroensFormat(moneyNoDecimals));\n</code></pre>\n\n<p>Will return:</p>\n\n<pre><code>â‚¬ 5,-\nâ‚¬ 5,50\n</code></pre>\n\n<p>The actual jeroensFormat() method:</p>\n\n<pre><code>public String jeroensFormat(double money)//Wants to receive value of type double\n{\n        NumberFormat dutchFormat = NumberFormat.getCurrencyInstance();\n        money = money;\n        String twoDecimals = dutchFormat.format(money); //Format to string\n        if(tweeDecimalen.matches(\".*[.]...[,]00$\")){\n            String zeroDecimals = twoDecimals.substring(0, twoDecimals.length() -3);\n                return zeroDecimals;\n        }\n        if(twoDecimals.endsWith(\",00\")){\n            String zeroDecimals = String.format(\"â‚¬ %.0f,-\", money);\n            return zeroDecimals; //Return with ,00 replaced to ,-\n        }\n        else{ //If endsWith != ,00 the actual twoDecimals string can be returned\n            return twoDecimals;\n        }\n}\n</code></pre>\n\n<p>The method displayJeroensFormat that calls the method jeroensFormat() </p>\n\n<pre><code>    public void displayJeroensFormat()//@parameter double:\n    {\n        System.out.println(jeroensFormat(10.5)); //Example for two decimals\n        System.out.println(jeroensFormat(10.95)); //Example for two decimals\n        System.out.println(jeroensFormat(10.00)); //Example for zero decimals\n        System.out.println(jeroensFormat(100.000)); //Example for zero decimals\n    }\n</code></pre>\n\n<p>Will have the following output:</p>\n\n<pre><code>â‚¬ 10,50\nâ‚¬ 10,95\nâ‚¬ 10,-\nâ‚¬ 100.000 (In Holland numbers bigger than â‚¬ 999,- and wit no decimals don't have ,-)\n</code></pre>\n\n<p>This code uses your current currency. In my case that's Holland so the formatted string for me will be different than for someone in the US.</p>\n\n<ul>\n<li>Holland:   999.999,99 </li>\n<li>US:        999,999.99</li>\n</ul>\n\n<p>Just watch the last 3 characters of those numbers. My code has an if statement to check if the last 3 characters are equal to \",00\". To use this in the US you might have to change that to \".00\" if it doesn't work already.</p>\n"},{"tags":[],"owner":{"account_id":2709122,"reputation":2283,"user_id":2338006,"display_name":"Thilina Dharmasena"},"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1668363139,"creation_date":1408562412,"answer_id":25412801,"question_id":2379221,"body_markdown":"    double amount =200.0;\r\n    Locale locale = new Locale(&quot;en&quot;, &quot;US&quot;);      \r\n    NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\r\n    System.out.println(currencyFormatter.format(amount));\r\n\r\nor\r\n\r\n    double amount =200.0;\r\n    System.out.println(NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;))\r\n            .format(amount));\r\n\r\n&gt; The best way to display currency \r\n\r\nOutput\r\n\r\n&gt; $200.00\r\n\r\n**Note:** `Locale` constructors have been deprecated. See Obtaining a Locale for other options. \r\n\r\n[![have][1]][1] \r\n\r\n\r\nSo, since `Locale` constructors are deprecated, we can use `Locale.Builder()` to construct a Locale object.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snbvo.png\r\n\r\n\r\n        double amount =200.0;\r\n        Locale locale = new Locale.Builder().setLanguage(&quot;en&quot;).setRegion(&quot;US&quot;).build();\r\n        NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\r\n        System.out.println(currencyFormatter.format(amount));\r\n    \r\nor\r\n\r\n\r\n        double amount =200.0;\r\n        System.out.println(NumberFormat.getCurrencyInstance(new Locale.Builder().setLanguage(&quot;en&quot;).setRegion(&quot;US&quot;).build()).format(amount));\r\n\r\nOutput\r\n\r\n&gt; $200.00\r\n\r\n\r\nIf you don&#39;t want to use sign use this method \r\n\r\n    double amount = 200;\r\n    DecimalFormat twoPlaces = new DecimalFormat(&quot;0.00&quot;);\r\n    System.out.println(twoPlaces.format(amount));\r\n\r\n&gt; 200.00\r\n\r\n&gt; This also can be use (With the thousand separator )\r\n\r\n    double amount = 2000000;    \r\n    System.out.println(String.format(&quot;%,.2f&quot;, amount));          \r\n\r\n&gt; 2,000,000.00\r\n\r\n\r\n","title":"How to format decimals in a currency format?","body":"<pre><code>double amount =200.0;\nLocale locale = new Locale(&quot;en&quot;, &quot;US&quot;);      \nNumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\nSystem.out.println(currencyFormatter.format(amount));\n</code></pre>\n<p>or</p>\n<pre><code>double amount =200.0;\nSystem.out.println(NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;))\n        .format(amount));\n</code></pre>\n<blockquote>\n<p>The best way to display currency</p>\n</blockquote>\n<p>Output</p>\n<blockquote>\n<p>$200.00</p>\n</blockquote>\n<p><strong>Note:</strong> <code>Locale</code> constructors have been deprecated. See Obtaining a Locale for other options.</p>\n<p><a href=\"https://i.stack.imgur.com/snbvo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/snbvo.png\" alt=\"have\" /></a></p>\n<p>So, since <code>Locale</code> constructors are deprecated, we can use <code>Locale.Builder()</code> to construct a Locale object.</p>\n<pre><code>    double amount =200.0;\n    Locale locale = new Locale.Builder().setLanguage(&quot;en&quot;).setRegion(&quot;US&quot;).build();\n    NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\n    System.out.println(currencyFormatter.format(amount));\n</code></pre>\n<p>or</p>\n<pre><code>    double amount =200.0;\n    System.out.println(NumberFormat.getCurrencyInstance(new Locale.Builder().setLanguage(&quot;en&quot;).setRegion(&quot;US&quot;).build()).format(amount));\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>$200.00</p>\n</blockquote>\n<p>If you don't want to use sign use this method</p>\n<pre><code>double amount = 200;\nDecimalFormat twoPlaces = new DecimalFormat(&quot;0.00&quot;);\nSystem.out.println(twoPlaces.format(amount));\n</code></pre>\n<blockquote>\n<p>200.00</p>\n</blockquote>\n<blockquote>\n<p>This also can be use (With the thousand separator )</p>\n</blockquote>\n<pre><code>double amount = 2000000;    \nSystem.out.println(String.format(&quot;%,.2f&quot;, amount));          \n</code></pre>\n<blockquote>\n<p>2,000,000.00</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":334722,"reputation":13230,"user_id":661363,"accept_rate":94,"display_name":"xbakesx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413349607,"creation_date":1413349607,"answer_id":26374850,"question_id":2379221,"body_markdown":"I agree with @duffymo that you need to use the `java.text.NumberFormat` methods for this sort of things.  You can actually do all the formatting natively in it without doing any String compares yourself:\r\n\r\n    private String formatPrice(final double priceAsDouble) \r\n    {\r\n        NumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n        if (Math.round(priceAsDouble * 100) % 100 == 0) {\r\n            formatter.setMaximumFractionDigits(0);\r\n        }\r\n        return formatter.format(priceAsDouble);\r\n    }\r\n\r\nCouple bits to point out: \r\n\r\n - The whole `Math.round(priceAsDouble * 100) % 100` is just working around the inaccuracies of doubles/floats.  Basically just checking if we round to the hundreds place (maybe this is a U.S. bias) are there remaining cents.  \r\n - The trick to remove the decimals is the `setMaximumFractionDigits()` method\r\n\r\nWhatever your logic for determining whether or not the decimals should get truncated, `setMaximumFractionDigits()` should get used.","title":"How to format decimals in a currency format?","body":"<p>I agree with @duffymo that you need to use the <code>java.text.NumberFormat</code> methods for this sort of things.  You can actually do all the formatting natively in it without doing any String compares yourself:</p>\n\n<pre><code>private String formatPrice(final double priceAsDouble) \n{\n    NumberFormat formatter = NumberFormat.getCurrencyInstance();\n    if (Math.round(priceAsDouble * 100) % 100 == 0) {\n        formatter.setMaximumFractionDigits(0);\n    }\n    return formatter.format(priceAsDouble);\n}\n</code></pre>\n\n<p>Couple bits to point out: </p>\n\n<ul>\n<li>The whole <code>Math.round(priceAsDouble * 100) % 100</code> is just working around the inaccuracies of doubles/floats.  Basically just checking if we round to the hundreds place (maybe this is a U.S. bias) are there remaining cents.  </li>\n<li>The trick to remove the decimals is the <code>setMaximumFractionDigits()</code> method</li>\n</ul>\n\n<p>Whatever your logic for determining whether or not the decimals should get truncated, <code>setMaximumFractionDigits()</code> should get used.</p>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1429980135,"creation_date":1429939875,"answer_id":29861398,"question_id":2379221,"body_markdown":"I think this is simple and clear for printing a currency:\r\n    \r\n    DecimalFormat df = new DecimalFormat(&quot;$###,###.##&quot;); // or pattern &quot;###,###.##$&quot;\r\n    System.out.println(df.format(12345.678));\r\n\r\noutput: $12,345.68\r\n\r\nAnd one of possible solutions for the question:\r\n\r\n    public static void twoDecimalsOrOmit(double d) {\r\n        System.out.println(new DecimalFormat(d%1 == 0 ? &quot;###.##&quot; : &quot;###.00&quot;).format(d));\r\n    }\r\n\r\n    twoDecimalsOrOmit((double) 100);\r\n    twoDecimalsOrOmit(100.1);\r\n\r\nOutput:\r\n\r\n100\r\n\r\n100.10","title":"How to format decimals in a currency format?","body":"<p>I think this is simple and clear for printing a currency:</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"$###,###.##\"); // or pattern \"###,###.##$\"\nSystem.out.println(df.format(12345.678));\n</code></pre>\n\n<p>output: $12,345.68</p>\n\n<p>And one of possible solutions for the question:</p>\n\n<pre><code>public static void twoDecimalsOrOmit(double d) {\n    System.out.println(new DecimalFormat(d%1 == 0 ? \"###.##\" : \"###.00\").format(d));\n}\n\ntwoDecimalsOrOmit((double) 100);\ntwoDecimalsOrOmit(100.1);\n</code></pre>\n\n<p>Output:</p>\n\n<p>100</p>\n\n<p>100.10</p>\n"},{"tags":[],"owner":{"account_id":1896502,"reputation":5964,"user_id":1713345,"accept_rate":17,"display_name":"Renato Probst"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1450291390,"creation_date":1450291390,"answer_id":34319737,"question_id":2379221,"body_markdown":"We will usually need to do the inverse, if your json money field is an float, it may come as 3.1 , 3.15 or just 3.\r\n\r\nIn this case you may need to round it for proper display (and to be able to use a mask on an input field later):\r\n\r\n    floatvalue = 200.0; // it may be 200, 200.3 or 200.37, BigDecimal will take care\r\n    Locale locale = new Locale(&quot;en&quot;, &quot;US&quot;);      \r\n    NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\r\n\r\n    BigDecimal valueAsBD = BigDecimal.valueOf(value);\r\n        valueAsBD.setScale(2, BigDecimal.ROUND_HALF_UP); // add digits to match .00 pattern\r\n\r\n    System.out.println(currencyFormatter.format(amount));","title":"How to format decimals in a currency format?","body":"<p>We will usually need to do the inverse, if your json money field is an float, it may come as 3.1 , 3.15 or just 3.</p>\n\n<p>In this case you may need to round it for proper display (and to be able to use a mask on an input field later):</p>\n\n<pre><code>floatvalue = 200.0; // it may be 200, 200.3 or 200.37, BigDecimal will take care\nLocale locale = new Locale(\"en\", \"US\");      \nNumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(locale);\n\nBigDecimal valueAsBD = BigDecimal.valueOf(value);\n    valueAsBD.setScale(2, BigDecimal.ROUND_HALF_UP); // add digits to match .00 pattern\n\nSystem.out.println(currencyFormatter.format(amount));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1508252212,"creation_date":1508231758,"answer_id":46786611,"question_id":2379221,"body_markdown":"this best way to do that.\r\n\r\n\t    public static String formatCurrency(String amount) {\r\n\t        DecimalFormat formatter = new DecimalFormat(&quot;###,###,##0.00&quot;);\r\n\t        return formatter.format(Double.parseDouble(amount));\r\n\t    }\r\n\r\n\r\n100   -&gt; &quot;100.00&quot;  \r\n100.1 -&gt; &quot;100.10&quot;","title":"How to format decimals in a currency format?","body":"<p>this best way to do that.</p>\n\n<pre><code>    public static String formatCurrency(String amount) {\n        DecimalFormat formatter = new DecimalFormat(\"###,###,##0.00\");\n        return formatter.format(Double.parseDouble(amount));\n    }\n</code></pre>\n\n<p>100   -> \"100.00\"<br>\n100.1 -> \"100.10\"</p>\n"},{"tags":[],"owner":{"account_id":5700207,"reputation":18180,"user_id":4505446,"accept_rate":66,"display_name":"A-Sharabiani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523833877,"creation_date":1523766985,"answer_id":49838515,"question_id":2379221,"body_markdown":"I was crazy enough to write my own function:\r\n\r\nThis will convert integer to currency format (can be modified for decimals as well):\r\n\r\n     String getCurrencyFormat(int v){\r\n            String toReturn = &quot;&quot;;\r\n            String s =  String.valueOf(v);\r\n            int length = s.length();\r\n            for(int i = length; i &gt;0 ; --i){\r\n                toReturn += s.charAt(i - 1);\r\n                if((i - length - 1) % 3 == 0 &amp;&amp; i != 1) toReturn += &#39;,&#39;;\r\n            }\r\n            return &quot;$&quot; + new StringBuilder(toReturn).reverse().toString();\r\n        }","title":"How to format decimals in a currency format?","body":"<p>I was crazy enough to write my own function:</p>\n\n<p>This will convert integer to currency format (can be modified for decimals as well):</p>\n\n<pre><code> String getCurrencyFormat(int v){\n        String toReturn = \"\";\n        String s =  String.valueOf(v);\n        int length = s.length();\n        for(int i = length; i &gt;0 ; --i){\n            toReturn += s.charAt(i - 1);\n            if((i - length - 1) % 3 == 0 &amp;&amp; i != 1) toReturn += ',';\n        }\n        return \"$\" + new StringBuilder(toReturn).reverse().toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022079,"reputation":2394,"user_id":5380981,"accept_rate":100,"display_name":"PRATEEK BHARDWAJ"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1541079288,"creation_date":1541079288,"answer_id":53102404,"question_id":2379221,"body_markdown":"      public static String formatPrice(double value) {\r\n            DecimalFormat formatter;\r\n            if (value&lt;=99999)\r\n              formatter = new DecimalFormat(&quot;###,###,##0.00&quot;);\r\n            else\r\n                formatter = new DecimalFormat(&quot;#,##,##,###.00&quot;);\r\n            \r\n            return formatter.format(value);\r\n        }","title":"How to format decimals in a currency format?","body":"<pre><code>  public static String formatPrice(double value) {\n        DecimalFormat formatter;\n        if (value&lt;=99999)\n          formatter = new DecimalFormat(\"###,###,##0.00\");\n        else\n            formatter = new DecimalFormat(\"#,##,##,###.00\");\n\n        return formatter.format(value);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4031808,"reputation":1363,"user_id":4099295,"display_name":"Haomin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562079903,"creation_date":1562079903,"answer_id":56855350,"question_id":2379221,"body_markdown":"For the people who wants to format the currency, but does not want it to be based on local, we can do this:\r\n```kotlin\r\nval numberFormat = NumberFormat.getCurrencyInstance() // Default local currency\r\nval currency = Currency.getInstance(&quot;USD&quot;)            // This make the format not locale specific \r\nnumberFormat.setCurrency(currency)\r\n\r\n...use the formator as you want...\r\n```","title":"How to format decimals in a currency format?","body":"<p>For the people who wants to format the currency, but does not want it to be based on local, we can do this:</p>\n\n<pre><code>val numberFormat = NumberFormat.getCurrencyInstance() // Default local currency\nval currency = Currency.getInstance(\"USD\")            // This make the format not locale specific \nnumberFormat.setCurrency(currency)\n\n...use the formator as you want...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1771194,"reputation":3983,"user_id":1615905,"accept_rate":75,"display_name":"Subhashi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1582329163,"creation_date":1582329163,"answer_id":60347662,"question_id":2379221,"body_markdown":"    NumberFormat currency = NumberFormat.getCurrencyInstance();\r\n    String myCurrency = currency.format(123.5);\r\n    System.out.println(myCurrency);\r\n\r\noutput:\r\n\r\n    $123.50\r\n\r\nIf you want to change the currency,\r\n\r\n    NumberFormat currency = NumberFormat.getCurrencyInstance(Locale.CHINA);\r\n    String myCurrency = currency.format(123.5);\r\n    System.out.println(myCurrency);\r\n\r\noutput:\r\n\r\n    ï¿¥123.50","title":"How to format decimals in a currency format?","body":"<pre><code>NumberFormat currency = NumberFormat.getCurrencyInstance();\nString myCurrency = currency.format(123.5);\nSystem.out.println(myCurrency);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$123.50\n</code></pre>\n\n<p>If you want to change the currency,</p>\n\n<pre><code>NumberFormat currency = NumberFormat.getCurrencyInstance(Locale.CHINA);\nString myCurrency = currency.format(123.5);\nSystem.out.println(myCurrency);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>ï¿¥123.50\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22291655,"reputation":1,"user_id":16518429,"display_name":"RIZA &#214;ZER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627214181,"creation_date":1627152287,"answer_id":68512892,"question_id":2379221,"body_markdown":"```java\r\ndouble amount = 200.0;\r\n\r\nNumberFormat Us = NumberFormat.getCurrencyInstance(Locale.US);\r\nSystem.out.println(Us.format(amount));\r\n```\r\n**Output**:  \r\n`$200.00`","title":"How to format decimals in a currency format?","body":"<pre class=\"lang-java prettyprint-override\"><code>double amount = 200.0;\n\nNumberFormat Us = NumberFormat.getCurrencyInstance(Locale.US);\nSystem.out.println(Us.format(amount));\n</code></pre>\n<p><strong>Output</strong>:<br />\n<code>$200.00</code></p>\n"}],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519685,"favorite_count":0,"down_vote_count":2,"up_vote_count":111,"accepted_answer_id":2379340,"answer_count":22,"score":109,"last_activity_date":1668363139,"creation_date":1267705983,"question_id":2379221,"body_markdown":"Is there a way to format a decimal as following:\r\n\r\n    100   -&gt; &quot;100&quot;  \r\n    100.1 -&gt; &quot;100.10&quot;\r\n\r\nIf it is a round number, omit the decimal part. Otherwise format with two decimal places.","title":"How to format decimals in a currency format?","body":"<p>Is there a way to format a decimal as following:</p>\n\n<pre><code>100   -&gt; \"100\"  \n100.1 -&gt; \"100.10\"\n</code></pre>\n\n<p>If it is a round number, omit the decimal part. Otherwise format with two decimal places.</p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"score":1,"creation_date":1668355384,"post_id":74422529,"comment_id":131379826,"body_markdown":"Which `Log.d` statement shows up in your console? The success one of failure?  If failure, can you also share the error?","body":"Which <code>Log.d</code> statement shows up in your console? The success one of failure?  If failure, can you also share the error?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668418871,"post_id":74422529,"comment_id":131391956,"body_markdown":"Please edit your question and add the information Dharmaraj asked for, and please also respond using @.","body":"Please edit your question and add the information Dharmaraj asked for, and please also respond using @."}],"answers":[{"tags":[],"owner":{"account_id":22971447,"reputation":9,"user_id":17099739,"display_name":"EladVak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668362690,"creation_date":1668362690,"answer_id":74423456,"question_id":74422529,"body_markdown":"Check if you change the rules in the firestore from false to true. \r\nCheck if the implementation is updated in the grade build doc. \r\n\r\nFirestore and authentication there different tools in firebase. \r\nIf youâ€™re using in Android studio itâ€™s more simple. \r\nYou can see here (1.4) - https://www.krasamo.com/cloud-firestore-firebase-basics/","title":"How to Get My Database to work? Firestore","body":"<p>Check if you change the rules in the firestore from false to true.\nCheck if the implementation is updated in the grade build doc.</p>\n<p>Firestore and authentication there different tools in firebase.\nIf youâ€™re using in Android studio itâ€™s more simple.\nYou can see here (1.4) - <a href=\"https://www.krasamo.com/cloud-firestore-firebase-basics/\" rel=\"nofollow noreferrer\">https://www.krasamo.com/cloud-firestore-firebase-basics/</a></p>\n"}],"owner":{"account_id":26818043,"reputation":1,"user_id":20407764,"display_name":"Arlexx Junior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668362690,"creation_date":1668355117,"question_id":74422529,"body_markdown":"I&#39;m unable to see any Firestore DB entry from my registered User. I can see only the authentication data on Firebase.\r\n \r\n\r\n```\r\nprivate void SalvarDadosUsuario() {\r\n    String nome = etnome.getText().toString();\r\n\r\n    FirebaseFirestore bd = FirebaseFirestore.getInstance();\r\n\r\n    Map&lt;String,Object&gt; usuarios = new HashMap&lt;&gt;();\r\n    usuarios.put(&quot;nome&quot;,nome);\r\n\r\n    usuarioID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n    DocumentReference documentReference = bd.collection(&quot;Usuarios&quot;).document(usuarioID);\r\n    documentReference.set(usuarios).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            Log.d(&quot;bd&quot;,&quot;Sucesso ao salvar os dados&quot;);\r\n        }\r\n\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Log.d(&quot;bd_erro&quot;,&quot;Erro ao salvar os dados&quot; + e.toString());\r\n\r\n        }\r\n    });\r\n}\r\n```\r\n  \r\n```\r\n@Override\r\npublic void onSuccess(Void unused) {\r\n  Log.d(&quot;bd&quot;,&quot;Sucesso ao salvar os dados&quot;);\r\n}\r\n```\r\nOn this line i tried to change between Void aVoid, and void unused, and seems the same!\r\n","title":"How to Get My Database to work? Firestore","body":"<p>I'm unable to see any Firestore DB entry from my registered User. I can see only the authentication data on Firebase.</p>\n<pre><code>private void SalvarDadosUsuario() {\n    String nome = etnome.getText().toString();\n\n    FirebaseFirestore bd = FirebaseFirestore.getInstance();\n\n    Map&lt;String,Object&gt; usuarios = new HashMap&lt;&gt;();\n    usuarios.put(&quot;nome&quot;,nome);\n\n    usuarioID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\n    DocumentReference documentReference = bd.collection(&quot;Usuarios&quot;).document(usuarioID);\n    documentReference.set(usuarios).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            Log.d(&quot;bd&quot;,&quot;Sucesso ao salvar os dados&quot;);\n        }\n\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Log.d(&quot;bd_erro&quot;,&quot;Erro ao salvar os dados&quot; + e.toString());\n\n        }\n    });\n}\n</code></pre>\n<pre><code>@Override\npublic void onSuccess(Void unused) {\n  Log.d(&quot;bd&quot;,&quot;Sucesso ao salvar os dados&quot;);\n}\n</code></pre>\n<p>On this line i tried to change between Void aVoid, and void unused, and seems the same!</p>\n"},{"tags":["java","linked-list","big-o","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1364751654,"creation_date":1364751316,"answer_id":15732375,"question_id":15732334,"body_markdown":"Well, they do support constant-time inserts at arbitrary positions â€“ but **only if** you happen to have a pointer to the list entry after which or in front of which you want to insert something. Of course, this won&#39;t work if you just have the index, but that&#39;s not what you usually do in optimized code.\r\n\r\nIn Java, you can do that, too, but [only using a list iterator][1].\r\n\r\nThis property of linked lists is their biggest advantage compared to arraylists or so â€“ for example, if you want to remove a user from the user list of a chatroom, you can store a pointer to the user&#39;s position in the userlist in the user so that, when he wants to leave the room, that can be implemented as a `O(1)` operation.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#768","title":"How is LinkedList&#39;s add(int, E) of O(1) complexity?","body":"<p>Well, they do support constant-time inserts at arbitrary positions â€“ but <strong>only if</strong> you happen to have a pointer to the list entry after which or in front of which you want to insert something. Of course, this won't work if you just have the index, but that's not what you usually do in optimized code.</p>\n\n<p>In Java, you can do that, too, but <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#768\" rel=\"noreferrer\">only using a list iterator</a>.</p>\n\n<p>This property of linked lists is their biggest advantage compared to arraylists or so â€“ for example, if you want to remove a user from the user list of a chatroom, you can store a pointer to the user's position in the userlist in the user so that, when he wants to leave the room, that can be implemented as a <code>O(1)</code> operation.</p>\n"},{"tags":[],"owner":{"account_id":1021818,"reputation":5615,"user_id":1031955,"accept_rate":91,"display_name":"Thanakron Tandavas"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1364751627,"creation_date":1364751627,"answer_id":15732420,"question_id":15732334,"body_markdown":"This is because the article that you are reading considered &quot;getting to that index&quot; as a separate operation. The article assumes that you are already at the index you wish to perform add(int, E).\r\n\r\nTo conclude:\r\n\r\n**Insert or Remove operation = O(1)**\r\n\r\n**Finding node at n&lt;sup&gt;th&lt;/sup&gt; index = O(n)**","title":"How is LinkedList&#39;s add(int, E) of O(1) complexity?","body":"<p>This is because the article that you are reading considered \"getting to that index\" as a separate operation. The article assumes that you are already at the index you wish to perform add(int, E).</p>\n\n<p>To conclude:</p>\n\n<p><strong>Insert or Remove operation = O(1)</strong></p>\n\n<p><strong>Finding node at n<sup>th</sup> index = O(n)</strong></p>\n"},{"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364751755,"creation_date":1364751755,"answer_id":15732447,"question_id":15732334,"body_markdown":"The operation of **linking** the new node to any node is O(1) but the operation of **finding** (helps to the loop) the concerned index is definitely O(n).\r\n\r\nThere is no magic ;)","title":"How is LinkedList&#39;s add(int, E) of O(1) complexity?","body":"<p>The operation of <strong>linking</strong> the new node to any node is O(1) but the operation of <strong>finding</strong> (helps to the loop) the concerned index is definitely O(n).</p>\n\n<p>There is no magic ;)</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1364751756,"creation_date":1364751756,"answer_id":15732448,"question_id":15732334,"body_markdown":"The wiki page you quote says:\r\n\r\n&gt; O(1) insert and removal at any *position*\r\n\r\nThen you ask:\r\n\r\n&gt; I was surprised to read this â€“ how can the list insert at a random *index*\r\n\r\nHerein lies the confusion: the terms *position* and *index* are not being used to mean the same thing. The wiki talks about  an iterator or a pointer, not about an index.","title":"How is LinkedList&#39;s add(int, E) of O(1) complexity?","body":"<p>The wiki page you quote says:</p>\n\n<blockquote>\n  <p>O(1) insert and removal at any <em>position</em></p>\n</blockquote>\n\n<p>Then you ask:</p>\n\n<blockquote>\n  <p>I was surprised to read this â€“ how can the list insert at a random <em>index</em></p>\n</blockquote>\n\n<p>Herein lies the confusion: the terms <em>position</em> and <em>index</em> are not being used to mean the same thing. The wiki talks about  an iterator or a pointer, not about an index.</p>\n"}],"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42064,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":15732375,"answer_count":4,"score":33,"last_activity_date":1668362388,"creation_date":1364751095,"question_id":15732334,"body_markdown":"From the [tag:linked-list] tag wiki excerpt:\r\n\r\n&gt; A linked list is a data structure in which the elements contain\r\n&gt; references to the next (and optionally the previous) element. Linked\r\n&gt; lists offer **O(1) insert and removal at any position**, O(1) list\r\n&gt; concatenation, and O(1) access at the front (and optionally back)\r\n&gt; positions as well as O(1) next element access. Random access has O(N)\r\n&gt; complexity and is usually unimplemented.\r\n\r\n&lt;sup&gt;(emphasis mine)&lt;/sup&gt;\r\n\r\nI was surprised to read this &amp;ndash; how can the list *insert* at a random index with a lower complexity than simply *reading* that index?\r\n\r\nSo I looked at [the source code for `java.util.LinkedList`][ll]. The [`add(int, E)` method][add] is:\r\n\r\n    public void add(int index, E element) {\r\n        addBefore(element, (index==size ? header : entry(index)));\r\n    }\r\n\r\nThe [`addBefore(E, Entry&lt;E&gt;` method][addBefore] is simply pointer reassignment, but there&#39;s also the [`entry(int)` method][entry]:\r\n\r\n    if (index &lt; 0 || index &gt;= size)\r\n            throw new IndexOutOfBoundsException(&quot;Index: &quot;+index+\r\n                                                &quot;, Size: &quot;+size);\r\n        Entry&lt;E&gt; e = header;\r\n        if (index &lt; (size &gt;&gt; 1)) {\r\n            for (int i = 0; i &lt;= index; i++)\r\n                e = e.next;\r\n        } else {\r\n            for (int i = size; i &gt; index; i--)\r\n                e = e.previous;\r\n        }\r\n        return e;\r\n    }\r\n\r\nEven with the half-size optimization, the `for` loop in here (one or the other) seems to me a dead giveaway that this method (and thus `add(int, E)`) operates in a minimum worst-case scenario of O(n) time, and certainly not constant time.\r\n\r\nWhat am I missing? Am I misunderstanding the big-O notation?\r\n\r\n [ll]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java\r\n [add]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.add%28int%2Cjava.lang.Object%29\r\n [addBefore]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.addBefore%28java.lang.Object%2Cjava.util.LinkedList.Entry%29\r\n [entry]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.entry%28int%29","title":"How is LinkedList&#39;s add(int, E) of O(1) complexity?","body":"<p>From the <a href=\"/questions/tagged/linked-list\" class=\"post-tag\" title=\"show questions tagged 'linked-list'\" rel=\"tag\">linked-list</a> tag wiki excerpt:</p>\n\n<blockquote>\n  <p>A linked list is a data structure in which the elements contain\n  references to the next (and optionally the previous) element. Linked\n  lists offer <strong>O(1) insert and removal at any position</strong>, O(1) list\n  concatenation, and O(1) access at the front (and optionally back)\n  positions as well as O(1) next element access. Random access has O(N)\n  complexity and is usually unimplemented.</p>\n</blockquote>\n\n<p><sup>(emphasis mine)</sup></p>\n\n<p>I was surprised to read this &ndash; how can the list <em>insert</em> at a random index with a lower complexity than simply <em>reading</em> that index?</p>\n\n<p>So I looked at <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java\">the source code for <code>java.util.LinkedList</code></a>. The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.add%28int%2Cjava.lang.Object%29\"><code>add(int, E)</code> method</a> is:</p>\n\n<pre><code>public void add(int index, E element) {\n    addBefore(element, (index==size ? header : entry(index)));\n}\n</code></pre>\n\n<p>The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.addBefore%28java.lang.Object%2Cjava.util.LinkedList.Entry%29\"><code>addBefore(E, Entry&lt;E&gt;</code> method</a> is simply pointer reassignment, but there's also the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/LinkedList.java#LinkedList.entry%28int%29\"><code>entry(int)</code> method</a>:</p>\n\n<pre><code>if (index &lt; 0 || index &gt;= size)\n        throw new IndexOutOfBoundsException(\"Index: \"+index+\n                                            \", Size: \"+size);\n    Entry&lt;E&gt; e = header;\n    if (index &lt; (size &gt;&gt; 1)) {\n        for (int i = 0; i &lt;= index; i++)\n            e = e.next;\n    } else {\n        for (int i = size; i &gt; index; i--)\n            e = e.previous;\n    }\n    return e;\n}\n</code></pre>\n\n<p>Even with the half-size optimization, the <code>for</code> loop in here (one or the other) seems to me a dead giveaway that this method (and thus <code>add(int, E)</code>) operates in a minimum worst-case scenario of O(n) time, and certainly not constant time.</p>\n\n<p>What am I missing? Am I misunderstanding the big-O notation?</p>\n"},{"tags":["java","visual-studio","class","terminal","compiler-errors"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668361168,"post_id":74423087,"comment_id":131381110,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask].","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":17229632,"reputation":23,"user_id":12474528,"display_name":"IAALAI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668360970,"creation_date":1668360189,"answer_id":74423150,"question_id":74423087,"body_markdown":"In java, the name of the class must be consistent with the file name\r\n\r\nTry to modify the file name or class name\r\n\r\nMaybe it&#39;s not because of Top-level\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/arOW4.png","title":"terminal error showing could not find or load main class","body":"<p>In java, the name of the class must be consistent with the file name</p>\n<p>Try to modify the file name or class name</p>\n<p>Maybe it's not because of Top-level</p>\n<p><a href=\"https://i.stack.imgur.com/arOW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/arOW4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26853692,"reputation":1,"user_id":20438272,"display_name":"shubhankar yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668360970,"creation_date":1668359745,"question_id":74423087,"body_markdown":"In visual studio code. my code is not running properly. There is no syntax error or any error but it is not running. please tell me the solution. it will really appreciated.[![enter image description here](https://i.stack.imgur.com/Jd0JB.png)](https://i.stack.imgur.com/Jd0JB.png) java path is also ok.\r\n\r\ni had tried all possible outcomes but terminal is only showing error could not load main class, caused by java.lang.classnotfoundexception: javabasics.java[![enter image description here](https://i.stack.imgur.com/BKz3P.png)](https://i.stack.imgur.com/BKz3P.png)","title":"terminal error showing could not find or load main class","body":"<p>In visual studio code. my code is not running properly. There is no syntax error or any error but it is not running. please tell me the solution. it will really appreciated.<a href=\"https://i.stack.imgur.com/Jd0JB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jd0JB.png\" alt=\"enter image description here\" /></a> java path is also ok.</p>\n<p>i had tried all possible outcomes but terminal is only showing error could not load main class, caused by java.lang.classnotfoundexception: javabasics.java<a href=\"https://i.stack.imgur.com/BKz3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKz3P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","crnk"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668347924,"post_id":74421330,"comment_id":131378205,"body_markdown":"Perhaps a problem with csrf?","body":"Perhaps a problem with csrf?"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1668358157,"post_id":74421330,"comment_id":131380459,"body_markdown":"@AlexanderIvanchenko the controller is `ApiRepository`","body":"@AlexanderIvanchenko the controller is <code>ApiRepository</code>"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1668358204,"post_id":74421330,"comment_id":131380474,"body_markdown":"@voidvoid why is work for `GET` and not for other `DELETE` and `POST`?","body":"@voidvoid why is work for <code>GET</code> and not for other <code>DELETE</code> and <code>POST</code>?"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1668358875,"post_id":74421330,"comment_id":131380633,"body_markdown":"@voidvoid you save my day. It was the problem.  I added `.csrf().disable()` to resolve it.","body":"@voidvoid you save my day. It was the problem.  I added <code>.csrf().disable()</code> to resolve it."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1668360054,"post_id":74421330,"comment_id":131380858,"body_markdown":"@emoleumassi, it&#39;s still preferred to leave csrf enabled for methods other than GET to add extra security to your web application.","body":"@emoleumassi, it&#39;s still preferred to leave csrf enabled for methods other than GET to add extra security to your web application."},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":1,"creation_date":1668360337,"post_id":74421330,"comment_id":131380911,"body_markdown":"@dsp_user depends what the app is doing, if it&#39;s an application that is used (only) by non-browser clients then it is preferable to disable it.","body":"@dsp_user depends what the app is doing, if it&#39;s an application that is used (only) by non-browser clients then it is preferable to disable it."},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668360452,"post_id":74421330,"comment_id":131380941,"body_markdown":"@emoleumassi csrf is protection is not needed for `GET` requests if you assume that safe http method endpoints on your application are idempotent, otherwise you are bound to introduce serious security issues into your application even with csrf protection enabled.","body":"@emoleumassi csrf is protection is not needed for <code>GET</code> requests if you assume that safe http method endpoints on your application are idempotent, otherwise you are bound to introduce serious security issues into your application even with csrf protection enabled."}],"answers":[{"tags":[],"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668360800,"creation_date":1668360800,"answer_id":74423237,"question_id":74421330,"body_markdown":"You haven&#39;t disabled spring security&#39;s default `csrf` protection. If your application is an application that is only used by non-browser clients then it is preferable to disable it. In order to disable it you can include this configuration to your `configure(HttpSecurity)` method override:\r\n\r\n    .csrf().disable()\r\n`csrf` protection is not needed for safe `HTTP` methods therefore spring security does not add it. This is all assuming that you are writing your API&#39;s properly, and that your safe `HTTP` method endpoints are idempotent. If they are not then even the default spring security `csrf` protection won&#39;t help you and you need to fix your code. You can read up more here: https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-when","title":"crnk spring security only GET request work","body":"<p>You haven't disabled spring security's default <code>csrf</code> protection. If your application is an application that is only used by non-browser clients then it is preferable to disable it. In order to disable it you can include this configuration to your <code>configure(HttpSecurity)</code> method override:</p>\n<pre><code>.csrf().disable()\n</code></pre>\n<p><code>csrf</code> protection is not needed for safe <code>HTTP</code> methods therefore spring security does not add it. This is all assuming that you are writing your API's properly, and that your safe <code>HTTP</code> method endpoints are idempotent. If they are not then even the default spring security <code>csrf</code> protection won't help you and you need to fix your code. You can read up more here: <a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-when\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-when</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74423237,"answer_count":1,"score":1,"last_activity_date":1668360800,"creation_date":1668345491,"question_id":74421330,"body_markdown":"My Entity:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@JsonApiResource(type = &quot;apiEntity&quot;, resourcePath = &quot;apiEntities&quot;)\r\npublic class ApiEntity\r\n{\r\n   @JsonApiId\r\n   private String id;\r\n   ....\r\n```\r\n\r\nThe Repository:\r\n```\r\n@Component\r\npublic class ApiRepository extends ResourceRepositoryBase&lt;ApiEntity, String&gt;\r\n{\r\n\r\n private JpaRepository jpaRepository; \r\n\r\n @Override\r\n   public ApiEntity create(ApiEntity apiEntity)\r\n   {\r\n      jpaRepository.save(...)\r\n      ....\r\n   }\r\n\r\n   @Override\r\n   public void delete(String id)\r\n   {\r\n      jpaRepository.remove(id);\r\n   }\r\n```\r\n\r\n```\r\n@Component\r\npublic class SecurityConfigurer implements SecurityModuleConfigurer\r\n{\r\n\r\n   @Override\r\n   public void configure(SecurityConfig.Builder config)\r\n   {\r\n      config.permitAll(ResourcePermission.ALL);\r\n   }\r\n}\r\n```\r\n\r\nFor the WebSecurity\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n   @Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      // @formatter:off\r\n      httpSecurity\r\n               .authorizeRequests()\r\n               .antMatchers(HttpMethod.DELETE).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .httpBasic();\r\n      // @formatter:on\r\n   }\r\n}\r\n```\r\n\r\nmy dependencies:\r\n```\r\nimplementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\nannotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\n\r\nimplementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\r\nimplementation &quot;io.crnk:crnk-home&quot;\r\n\r\nimplementation &quot;io.crnk:crnk-security&quot;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-security:2.6.6&#39;\r\n```\r\n\r\ni use `CRNK_VERSION = &quot;3.3+&quot;`\r\n\r\nThe error:\r\n```\r\n2022.11.13 14:07:08.995 [http-nio-4603-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] threw exception\r\njava.lang.NoSuchMethodError: &#39;java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)&#39;\r\n\tat io.crnk.spring.setup.boot.mvc.CrnkErrorController.errorToJsonApi(CrnkErrorController.java:39)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:671)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2022.11.13 14:07:08.996 [http-nio-4603-exec-2] ERROR o.a.c.c.C.[Tomcat].[localhost]:175 - Exception Processing ErrorPage[errorCode=0, location=/error]\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:671)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)&#39;\r\n\tat io.crnk.spring.setup.boot.mvc.CrnkErrorController.errorToJsonApi(CrnkErrorController.java:39)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t... 77 common frames omitted\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen i try with `POST` i had the same error. Only the `GET` Method works!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lh5o1.png","title":"crnk spring security only GET request work","body":"<p>My Entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@JsonApiResource(type = &quot;apiEntity&quot;, resourcePath = &quot;apiEntities&quot;)\npublic class ApiEntity\n{\n   @JsonApiId\n   private String id;\n   ....\n</code></pre>\n<p>The Repository:</p>\n<pre><code>@Component\npublic class ApiRepository extends ResourceRepositoryBase&lt;ApiEntity, String&gt;\n{\n\n private JpaRepository jpaRepository; \n\n @Override\n   public ApiEntity create(ApiEntity apiEntity)\n   {\n      jpaRepository.save(...)\n      ....\n   }\n\n   @Override\n   public void delete(String id)\n   {\n      jpaRepository.remove(id);\n   }\n</code></pre>\n<pre><code>@Component\npublic class SecurityConfigurer implements SecurityModuleConfigurer\n{\n\n   @Override\n   public void configure(SecurityConfig.Builder config)\n   {\n      config.permitAll(ResourcePermission.ALL);\n   }\n}\n</code></pre>\n<p>For the WebSecurity</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n   @Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      // @formatter:off\n      httpSecurity\n               .authorizeRequests()\n               .antMatchers(HttpMethod.DELETE).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .httpBasic();\n      // @formatter:on\n   }\n}\n</code></pre>\n<p>my dependencies:</p>\n<pre><code>implementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\nannotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\n\nimplementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\nimplementation &quot;io.crnk:crnk-home&quot;\n\nimplementation &quot;io.crnk:crnk-security&quot;\nimplementation 'org.springframework.boot:spring-boot-starter-security:2.6.6'\n</code></pre>\n<p>i use <code>CRNK_VERSION = &quot;3.3+&quot;</code></p>\n<p>The error:</p>\n<pre><code>2022.11.13 14:07:08.995 [http-nio-4603-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] threw exception\njava.lang.NoSuchMethodError: 'java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)'\n    at io.crnk.spring.setup.boot.mvc.CrnkErrorController.errorToJsonApi(CrnkErrorController.java:39)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:671)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2022.11.13 14:07:08.996 [http-nio-4603-exec-2] ERROR o.a.c.c.C.[Tomcat].[localhost]:175 - Exception Processing ErrorPage[errorCode=0, location=/error]\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)'\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:671)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoSuchMethodError: 'java.util.Map io.crnk.spring.setup.boot.mvc.CrnkErrorController.getErrorAttributes(javax.servlet.http.HttpServletRequest, boolean)'\n    at io.crnk.spring.setup.boot.mvc.CrnkErrorController.errorToJsonApi(CrnkErrorController.java:39)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    ... 77 common frames omitted\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Lh5o1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lh5o1.png\" alt=\"enter image description here\" /></a></p>\n<p>When i try with <code>POST</code> i had the same error. Only the <code>GET</code> Method works!</p>\n"},{"tags":["java","multithreading","join","fork","matrix-multiplication"],"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1541087423,"post_id":53094576,"comment_id":93104736,"body_markdown":"to get 60x acceleration, you need more than 60 processor cores in single machine. Do you have 60 cores?","body":"to get 60x acceleration, you need more than 60 processor cores in single machine. Do you have 60 cores?"},{"owner":{"account_id":12688759,"reputation":1253,"user_id":9219650,"accept_rate":0,"display_name":"Prashin Jeevaganth"},"score":0,"creation_date":1541088885,"post_id":53094576,"comment_id":93105584,"body_markdown":"@AlexeiKaigorodov I don&#39;t have it sadly, so I take it that you think 60x is impossible too? Do you think that this code might be able to achieve higher than the current 20x at least?","body":"@AlexeiKaigorodov I don&#39;t have it sadly, so I take it that you think 60x is impossible too? Do you think that this code might be able to achieve higher than the current 20x at least?"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1541090236,"post_id":53094576,"comment_id":93106339,"body_markdown":"I guess you have not 20 cores either. So the number 20 you&#39;ve got is wrong.","body":"I guess you have not 20 cores either. So the number 20 you&#39;ve got is wrong."},{"owner":{"account_id":12688759,"reputation":1253,"user_id":9219650,"accept_rate":0,"display_name":"Prashin Jeevaganth"},"score":0,"creation_date":1541090467,"post_id":53094576,"comment_id":93106469,"body_markdown":"@AlexeiKaigorodov I meant if I just compiled and run this program(3 class files), the program will say how much time I have speeded up from the sequential and parallelised version. I could get 20, give me a moment.","body":"@AlexeiKaigorodov I meant if I just compiled and run this program(3 class files), the program will say how much time I have speeded up from the sequential and parallelised version. I could get 20, give me a moment."},{"owner":{"account_id":12688759,"reputation":1253,"user_id":9219650,"accept_rate":0,"display_name":"Prashin Jeevaganth"},"score":0,"creation_date":1541091078,"post_id":53094576,"comment_id":93106796,"body_markdown":"@AlexeiKaigorodov I have updated the post. I&#39;m trying to ask if 60+ is achievable with `n = 11`.","body":"@AlexeiKaigorodov I have updated the post. I&#39;m trying to ask if 60+ is achievable with <code>n = 11</code>."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1541092119,"post_id":53094576,"comment_id":93107379,"body_markdown":"parallel numerical computations have many pitfalls, one of them is processor cache. Maybe the speedup 20x is not because of parallelism, but because in parallel version matrices are small and fit into higher level cache. Maybe if we make sequential computation with the same algorithm though on a single processor core, it would be faster. That is, 20x means not only accelereation because of parallelism, but also deceleration of parallel version because of inefficient usage of cache memory.\nIn short, 60x acceleration is achievable if you make sequential variant even less effective.","body":"parallel numerical computations have many pitfalls, one of them is processor cache. Maybe the speedup 20x is not because of parallelism, but because in parallel version matrices are small and fit into higher level cache. Maybe if we make sequential computation with the same algorithm though on a single processor core, it would be faster. That is, 20x means not only accelereation because of parallelism, but also deceleration of parallel version because of inefficient usage of cache memory. In short, 60x acceleration is achievable if you make sequential variant even less effective."}],"owner":{"account_id":12688759,"reputation":1253,"user_id":9219650,"accept_rate":0,"display_name":"Prashin Jeevaganth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668359851,"creation_date":1541040509,"question_id":53094576,"body_markdown":"I have this assignment to employ what I have learnt about fork and join. I have heard some rumours that it is possible to achieve a 60x optimisation for `n = 11` to this problem. I can only think of the problem as splitting the multiplication into 4 smaller matrices based on the recursive algorithm provided in `Matrix`, hence I just copied the algorithm and translated them into constructors of `MatrixMultiplication` as seen in the `compute` method. However, I have only managed to achieve a 20x optimisation for the `n = 11` . I do not know if my failure to achieve the required optimisation has to do with the algorithm I&#39;m using or the placement of fork and join. I don&#39;t seek an improvement when I changed some of the called constructors into `compute` instead of `fork` and `join`. Can someone give me a hint about how I can even achieve a 60 time improvement optimisation.\r\n\r\n\r\nHere&#39;s the problem description, my attempt and what I meant by a 20x increase(as per output from the program).\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][1]][1] \r\n\r\n**MatrixMultiplication**\r\n\r\n    import java.util.concurrent.RecursiveTask;\r\n    \r\n    class MatrixMultiplication extends RecursiveTask&lt;Matrix&gt; {\r\n      \r\n      /** The fork threshold. */\r\n      private static final int FORK_THRESHOLD = 128;\r\n    \r\n      /** The first matrix to multiply with. */\r\n      private Matrix m1;\r\n    \r\n      /** The second matrix to multiply with. */\r\n      private Matrix m2;\r\n    \r\n      /** The starting row of m1. */\r\n      private int m1Row;\r\n    \r\n      /** The starting col of m1. */\r\n      private int m1Col;\r\n    \r\n      /** The starting row of m2. */\r\n      private int m2Row;\r\n    \r\n      /** The starting col of m2. */\r\n      private int m2Col;\r\n    \r\n      /**\r\n       * The dimension of the input (sub)-matrices and the size of the output\r\n       * matrix.\r\n       */\r\n      private int dimension;\r\n    \r\n      /**\r\n       * A constructor for the Matrix Multiplication class.\r\n       * @param  m1 The matrix to multiply with.\r\n       * @param  m2 The matrix to multiply with.\r\n       * @param  m1Row The starting row of m1.\r\n       * @param  m1Col The starting col of m1.\r\n       * @param  m2Row The starting row of m2.\r\n       * @param  m2Col The starting col of m2.\r\n       * @param  dimension The dimension of the input (sub)-matrices and the size\r\n       *     of the output matrix.\r\n       */\r\n      MatrixMultiplication(Matrix m1, Matrix m2, int m1Row, int m1Col, int m2Row,\r\n                           int m2Col, int dimension) {\r\n        this.m1 = m1;\r\n        this.m2 = m2;\r\n        this.m1Row = m1Row;\r\n        this.m1Col = m1Col;\r\n        this.m2Row = m2Row;\r\n        this.m2Col = m2Col;\r\n        this.dimension = dimension;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public Matrix compute() {\r\n       /* if (dimension == 1) {\r\n          //Matrix result = new Matrix(1);\r\n          return Matrix.nonRecursiveMultiply(m1,m2,m1Row,m1Col,m2Row,m2Col,dimension);\r\n          //trivial and return the same type...\r\n    \r\n          //count the usually we do one and must be pre-existing\r\n        }*/\r\n    \r\n        if (dimension &lt; FORK_THRESHOLD) {\r\n          return Matrix.nonRecursiveMultiply(m1, m2, m1Row, m1Col, m2Row, m2Col, dimension);\r\n        }\r\n    \r\n    \r\n        int size = dimension / 2;\r\n        Matrix result = new Matrix(dimension); \r\n    \r\n        MatrixMultiplication mma11b11 = new MatrixMultiplication(m1,m2,m1Row,m1Col,\r\n          m2Row,m2Col, size);\r\n    \r\n    \r\n        MatrixMultiplication mma12b21 = new MatrixMultiplication(m1, m2, m1Row, \r\n          m1Col + size, m2Row + size, m2Col, size);\r\n    \r\n    \r\n        MatrixMultiplication mma11b12 = new MatrixMultiplication(m1, m2, m1Row, m1Col, \r\n          m2Row, m2Col + size, size);\r\n    \r\n        MatrixMultiplication mma12b22 = new MatrixMultiplication(m1, m2, m1Row, \r\n          m1Col + size, m2Row + size, m2Col + size, size);\r\n    \r\n        MatrixMultiplication mma21b11 = new MatrixMultiplication(m1, m2, m1Row + size, \r\n          m1Col, m2Row, m2Col, size);\r\n    \r\n        MatrixMultiplication mma22b21 = new MatrixMultiplication(m1, m2, m1Row + size, \r\n          m1Col + size, m2Row + size, m2Col, size);\r\n    \r\n    \r\n        MatrixMultiplication mma21b12 = new MatrixMultiplication(m1, m2, m1Row + size, \r\n          m1Col, m2Row, m2Col + size, size);\r\n    \r\n        MatrixMultiplication mma22b22 = new MatrixMultiplication(m1, m2, m1Row + size, \r\n          m1Col + size, m2Row + size, m2Col + size, size);\r\n    \r\n    \r\n    \r\n        mma11b11.fork();\r\n        mma12b21.fork();\r\n        mma11b12.fork();\r\n        mma12b22.fork();\r\n        mma21b11.fork();\r\n        mma22b21.fork();\r\n        mma21b12.fork();\r\n        mma22b22.fork();\r\n    \r\n        Matrix a22b22 = mma22b22.join();\r\n        Matrix a21b12 = mma21b12.join();\r\n        Matrix a22b21 = mma22b21.join();\r\n        Matrix a21b11 = mma21b11.join();\r\n        Matrix a12b22 = mma12b22.join();\r\n        Matrix a11b12 = mma11b12.join();\r\n        Matrix a12b21 = mma12b21.join();\r\n        Matrix a11b11 = mma11b11.join();\r\n    \r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a21b12.m[i];\r\n          double[] m2m = a22b22.m[i];\r\n          double[] r1m = result.m[i + size];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j + size] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a21b11.m[i];\r\n          double[] m2m = a22b21.m[i];\r\n          double[] r1m = result.m[i + size];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a11b12.m[i];\r\n          double[] m2m = a12b22.m[i];\r\n          double[] r1m = result.m[i];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j + size] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n        \r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a11b11.m[i];\r\n          double[] m2m = a12b21.m[i];\r\n          double[] r1m = result.m[i];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n    \r\n        return result; \r\n      }\r\n    }\r\n\r\n**Matrix**\r\n\r\n    import java.util.function.Supplier;\r\n    import java.lang.StringBuilder;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.RecursiveTask;\r\n    import java.util.concurrent.ForkJoinTask;\r\n    import java.lang.Runtime;\r\n    \r\n    /**\r\n     * Encapsulate a square matrix of double values.\r\n     */\r\n    class Matrix {\r\n      /**\r\n       * 2D square array of double values, storing the matrix.\r\n       */\r\n      double[][] m;\r\n      /**\r\n       * The number of columns and rows in the matrix.\r\n       */\r\n      int dimension;\r\n    \r\n      private static final int THRESHOLD = 2;\r\n    \r\n      /**\r\n       * Checks if two matrices are equals.\r\n       * @param   m1  First matrices to check\r\n       * @param   m2  Second matrices to check against\r\n       * @return  true if every elements in m1 and m2 are the same; false otherwise.\r\n       */\r\n      public static boolean equals(Matrix m1, Matrix m2) {\r\n        if (m1.dimension != m2.dimension) {\r\n          return false;\r\n        }\r\n        for (int i = 0; i &lt; m1.dimension; i++) {\r\n          for (int j = 0; j &lt; m1.dimension; j++) {\r\n            if (Math.abs(m1.m[i][j] - m2.m[i][j]) &gt; 0.000001) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      /**\r\n       * A constructor for the matrix.\r\n       * @param  dimension The number of rows.\r\n       */\r\n      Matrix(int dimension) {\r\n        this.dimension = dimension;\r\n        this.m = new double[dimension][dimension];\r\n      }\r\n    \r\n      /**\r\n       * Generate a matrix of d x d according to the given supplier.\r\n       * @param  dimension The dimension of the matrix\r\n       * @param  supplier The lambda to generate the matrix with.\r\n       * @return The new matrix.\r\n       */\r\n      static Matrix generate(int dimension, Supplier&lt;Double&gt; supplier) {\r\n        Matrix matrix = new Matrix(dimension);\r\n        for (int row = 0; row &lt; dimension; row++) {\r\n          for (int col = 0; col &lt; dimension; col++) {\r\n            matrix.m[row][col] = supplier.get();\r\n          }\r\n        }\r\n        return matrix;\r\n      }\r\n    \r\n      /**\r\n       * Return a string representation of the matrix, pretty-printed\r\n       * with each row on a single line.\r\n       * @return The string representation of this matrix.\r\n       */\r\n      public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        for (int row = 0; row &lt; dimension; row++) {\r\n          for (int col = 0; col &lt; dimension; col++) {\r\n            s.append(String.format(&quot;%.4f&quot;, m[row][col]) + &quot; &quot;);\r\n          }\r\n          s.append(&quot;\\n&quot;);\r\n        }\r\n        return s.toString();\r\n      }\r\n    \r\n      /**\r\n       * Multiply matrix m with this matrix, return a new result matrix.\r\n       * @param  m1 The matrix to multiply with.\r\n       * @param  m2 The matrix to multiply with.\r\n       * @param  m1Row The starting row of m1.\r\n       * @param  m1Col The starting col of m1.\r\n       * @param  m2Row The starting row of m2.\r\n       * @param  m2Col The starting col of m2.\r\n       * @param  dimension The dimension of the input (sub)-matrices and the size\r\n       *     of the output matrix.\r\n       * @return The new matrix.\r\n       */\r\n      public static Matrix nonRecursiveMultiply(Matrix m1, Matrix m2,\r\n          int m1Row, int m1Col, int m2Row, int m2Col, int dimension) {\r\n        Matrix result = new Matrix(dimension);\r\n        for (int row = 0; row &lt; dimension; row++) {\r\n          for (int col = 0; col &lt; dimension; col++) {\r\n            double sum = 0;\r\n            // multiply row to col\r\n            for (int i = 0; i &lt; dimension; i++) {\r\n              sum += m1.m[row + m1Row][i + m1Col] * m2.m[i + m2Row][col + m2Col];\r\n            }\r\n            result.m[row][col] = sum;\r\n          }\r\n        }\r\n        return result;\r\n      }\r\n      \r\n      /**\r\n       * Multiple two matrices non-recursively.\r\n       * @param m1 The matrix to multiply with.\r\n       * @param m2 The matrix to multiply with.\r\n       * @return The resulting matrix m1 * m2\r\n       */\r\n      public static Matrix nonRecursiveMultiply(Matrix m1, Matrix m2) {\r\n        return Matrix.nonRecursiveMultiply(m1, m2, 0, 0, 0, 0, m1.dimension);\r\n      }\r\n    \r\n      /**\r\n       * Multiply matrix m with this matrix, return a new result matrix.\r\n       * @param  m1 The matrix to multiply with.\r\n       * @param  m2 The matrix to multiply with.\r\n       * @param  m1Row The starting row of m1.\r\n       * @param  m1Col The starting col of m1.\r\n       * @param  m2Row The starting row of m2.\r\n       * @param  m2Col The starting col of m2.\r\n       * @param  dimension The dimension of the input (sub)-matrices and the size\r\n       *     of the output matrix.\r\n       * @return The resulting matrix m1 * m2\r\n       */\r\n      public static Matrix recursiveMultiply(Matrix m1, Matrix m2,\r\n          int m1Row, int m1Col, int m2Row, int m2Col, int dimension) {\r\n    \r\n        // If the matrix is small enough, just multiple non-recursively.\r\n        if (dimension &lt;= THRESHOLD) {\r\n          return Matrix.nonRecursiveMultiply(m1, m2, m1Row, m1Col, m2Row, m2Col, dimension);\r\n        }\r\n    \r\n        // Else, cut the matrix into four blocks of equal size, recursively\r\n        // multiply then sum the multiplication result.\r\n        int size = dimension / 2;\r\n        Matrix result = new Matrix(dimension);\r\n        Matrix a11b11 = recursiveMultiply(m1, m2, m1Row, m1Col, m2Row,\r\n            m2Col, size);\r\n        Matrix a12b21 = recursiveMultiply(m1, m2, m1Row, m1Col + size,\r\n            m2Row + size, m2Col, size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a11b11.m[i];\r\n          double[] m2m = a12b21.m[i];\r\n          double[] r1m = result.m[i];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n        Matrix a11b12 = recursiveMultiply(m1, m2, m1Row, m1Col, m2Row,\r\n            m2Col + size, size);\r\n        Matrix a12b22 = recursiveMultiply(m1, m2, m1Row, m1Col + size,\r\n            m2Row + size, m2Col + size, size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a11b12.m[i];\r\n          double[] m2m = a12b22.m[i];\r\n          double[] r1m = result.m[i];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j + size] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n        Matrix a21b11 = recursiveMultiply(m1, m2, m1Row + size, m1Col,\r\n            m2Row, m2Col, size);\r\n        Matrix a22b21 = recursiveMultiply(m1, m2, m1Row + size, m1Col + size,\r\n            m2Row + size, m2Col, size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a21b11.m[i];\r\n          double[] m2m = a22b21.m[i];\r\n          double[] r1m = result.m[i + size];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n    \r\n        Matrix a21b12 = recursiveMultiply(m1, m2, m1Row + size, m1Col,\r\n            m2Row, m2Col + size, size);\r\n        Matrix a22b22 = recursiveMultiply(m1, m2, m1Row + size, m1Col + size,\r\n            m2Row + size, m2Col + size, size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          double[] m1m = a21b12.m[i];\r\n          double[] m2m = a22b22.m[i];\r\n          double[] r1m = result.m[i + size];\r\n          for (int j = 0; j &lt; size; j++) {\r\n            r1m[j + size] = m1m[j] + m2m[j];\r\n          }\r\n        }\r\n        return result;\r\n      }\r\n    \r\n      /**\r\n       * Multiple two matrices recursively but sequentially with\r\n       * divide-and-conquer algorithm.\r\n       * @param m1 The matrix to multiply with.\r\n       * @param m2 The matrix to multiply with.\r\n       * @return The resulting matrix m1 * m2\r\n       */\r\n      public static Matrix recursiveMultiply(Matrix m1, Matrix m2) {\r\n        return Matrix.recursiveMultiply(m1, m2, 0, 0, 0, 0, m1.dimension);\r\n      }\r\n    \r\n    \r\n      /**\r\n       * Multiple two matrices recursively and parallely with\r\n       * divide-and-conquer algorithm.\r\n       * @param m1 The matrix to multiply with.\r\n       * @param m2 The matrix to multiply with.\r\n       * @return The resulting matrix m1 * m2\r\n       */\r\n      public static Matrix parallelMultiply(Matrix m1, Matrix m2) {\r\n        return new MatrixMultiplication(m1, m2, 0, 0, 0, 0, m1.dimension)\r\n            .compute();\r\n      }\r\n    }\r\n    \r\n    \r\n    \r\n    import java.util.function.Supplier;\r\n    import java.util.stream.DoubleStream;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    import java.time.Instant;\r\n    import java.time.Duration;\r\n\r\n**Main**\r\n\r\n    /**\r\n     * Main is the main driver class for testing matrix multiplication.\r\n     * Usage: java Main n\r\n     * 2^n is the dimension of the square matrixOne\r\n     */\r\n    class Main {\r\n      public static void main(String[] args) {\r\n    \r\n        int n = (new Scanner(System.in)).nextInt();\r\n    \r\n        Random random = new Random(1); \r\n        int dimension = 1 &lt;&lt; n; \r\n    \r\n        \r\n    \r\n        System.out.println(&quot;dimension &quot; + dimension);\r\n    \r\n        \r\n        Matrix matrixOne = Matrix.generate(dimension, () -&gt; random.nextDouble());\r\n    \r\n        \r\n        Matrix matrixTwo = Matrix.generate(dimension, () -&gt; random.nextDouble());\r\n    \r\n        \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        Matrix result1 = Matrix.nonRecursiveMultiply(matrixOne, matrixTwo);\r\n    \r\n        \r\n        Matrix result2 = Matrix.parallelMultiply(matrixOne, matrixTwo);\r\n    \r\n        \r\n        boolean match = Matrix.equals(result1, result2);\r\n        if (!match) {\r\n          System.out.println(&quot;ERROR: matrix multiplication gives inconsistent &quot; +\r\n              &quot;result in sequential and parallel implementations.&quot;);\r\n          return;\r\n        }\r\n    \r\n        double d1 = measureTimeToRun(() -&gt; Matrix.nonRecursiveMultiply(matrixOne, matrixTwo));\r\n        double d2 = measureTimeToRun(() -&gt; Matrix.parallelMultiply(matrixOne, matrixTwo));\r\n    \r\n        System.out.printf(&quot;Parallel %.3f ms Sequential %.3f ms Speedup %.3f times\\n&quot;, d2, d1, d1 / d2);\r\n      }\r\n    \r\n      /**\r\n       * Return the average time needed to run the task over three runs.\r\n       * @param  task A lambda expression for the task to be run\r\n       * @return The average time taken in ms.\r\n       */\r\n      private static double measureTimeToRun(Supplier&lt;Matrix&gt; task) {\r\n        final int numOfTimes = 3;\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; numOfTimes; i++) {\r\n          Instant start = Instant.now();\r\n          Matrix m = task.get();\r\n          Instant stop = Instant.now();\r\n          sum += Duration.between(start, stop).toMillis();\r\n        }\r\n        return sum / numOfTimes;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNRB0.png\r\n  [2]: https://i.stack.imgur.com/YFj1F.png\r\n\r\nEdit: Added in the output of `n = 11` from the program&#39;s output in case it causes some confusion.","title":"Better way to do Matrix Multiplication using fork and join","body":"<p>I have this assignment to employ what I have learnt about fork and join. I have heard some rumours that it is possible to achieve a 60x optimisation for <code>n = 11</code> to this problem. I can only think of the problem as splitting the multiplication into 4 smaller matrices based on the recursive algorithm provided in <code>Matrix</code>, hence I just copied the algorithm and translated them into constructors of <code>MatrixMultiplication</code> as seen in the <code>compute</code> method. However, I have only managed to achieve a 20x optimisation for the <code>n = 11</code> . I do not know if my failure to achieve the required optimisation has to do with the algorithm I'm using or the placement of fork and join. I don't seek an improvement when I changed some of the called constructors into <code>compute</code> instead of <code>fork</code> and <code>join</code>. Can someone give me a hint about how I can even achieve a 60 time improvement optimisation.</p>\n\n<p>Here's the problem description, my attempt and what I meant by a 20x increase(as per output from the program).</p>\n\n<p><a href=\"https://i.stack.imgur.com/YFj1F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YFj1F.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tNRB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNRB0.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>MatrixMultiplication</strong></p>\n\n<pre><code>import java.util.concurrent.RecursiveTask;\n\nclass MatrixMultiplication extends RecursiveTask&lt;Matrix&gt; {\n\n  /** The fork threshold. */\n  private static final int FORK_THRESHOLD = 128;\n\n  /** The first matrix to multiply with. */\n  private Matrix m1;\n\n  /** The second matrix to multiply with. */\n  private Matrix m2;\n\n  /** The starting row of m1. */\n  private int m1Row;\n\n  /** The starting col of m1. */\n  private int m1Col;\n\n  /** The starting row of m2. */\n  private int m2Row;\n\n  /** The starting col of m2. */\n  private int m2Col;\n\n  /**\n   * The dimension of the input (sub)-matrices and the size of the output\n   * matrix.\n   */\n  private int dimension;\n\n  /**\n   * A constructor for the Matrix Multiplication class.\n   * @param  m1 The matrix to multiply with.\n   * @param  m2 The matrix to multiply with.\n   * @param  m1Row The starting row of m1.\n   * @param  m1Col The starting col of m1.\n   * @param  m2Row The starting row of m2.\n   * @param  m2Col The starting col of m2.\n   * @param  dimension The dimension of the input (sub)-matrices and the size\n   *     of the output matrix.\n   */\n  MatrixMultiplication(Matrix m1, Matrix m2, int m1Row, int m1Col, int m2Row,\n                       int m2Col, int dimension) {\n    this.m1 = m1;\n    this.m2 = m2;\n    this.m1Row = m1Row;\n    this.m1Col = m1Col;\n    this.m2Row = m2Row;\n    this.m2Col = m2Col;\n    this.dimension = dimension;\n  }\n\n\n  @Override\n  public Matrix compute() {\n   /* if (dimension == 1) {\n      //Matrix result = new Matrix(1);\n      return Matrix.nonRecursiveMultiply(m1,m2,m1Row,m1Col,m2Row,m2Col,dimension);\n      //trivial and return the same type...\n\n      //count the usually we do one and must be pre-existing\n    }*/\n\n    if (dimension &lt; FORK_THRESHOLD) {\n      return Matrix.nonRecursiveMultiply(m1, m2, m1Row, m1Col, m2Row, m2Col, dimension);\n    }\n\n\n    int size = dimension / 2;\n    Matrix result = new Matrix(dimension); \n\n    MatrixMultiplication mma11b11 = new MatrixMultiplication(m1,m2,m1Row,m1Col,\n      m2Row,m2Col, size);\n\n\n    MatrixMultiplication mma12b21 = new MatrixMultiplication(m1, m2, m1Row, \n      m1Col + size, m2Row + size, m2Col, size);\n\n\n    MatrixMultiplication mma11b12 = new MatrixMultiplication(m1, m2, m1Row, m1Col, \n      m2Row, m2Col + size, size);\n\n    MatrixMultiplication mma12b22 = new MatrixMultiplication(m1, m2, m1Row, \n      m1Col + size, m2Row + size, m2Col + size, size);\n\n    MatrixMultiplication mma21b11 = new MatrixMultiplication(m1, m2, m1Row + size, \n      m1Col, m2Row, m2Col, size);\n\n    MatrixMultiplication mma22b21 = new MatrixMultiplication(m1, m2, m1Row + size, \n      m1Col + size, m2Row + size, m2Col, size);\n\n\n    MatrixMultiplication mma21b12 = new MatrixMultiplication(m1, m2, m1Row + size, \n      m1Col, m2Row, m2Col + size, size);\n\n    MatrixMultiplication mma22b22 = new MatrixMultiplication(m1, m2, m1Row + size, \n      m1Col + size, m2Row + size, m2Col + size, size);\n\n\n\n    mma11b11.fork();\n    mma12b21.fork();\n    mma11b12.fork();\n    mma12b22.fork();\n    mma21b11.fork();\n    mma22b21.fork();\n    mma21b12.fork();\n    mma22b22.fork();\n\n    Matrix a22b22 = mma22b22.join();\n    Matrix a21b12 = mma21b12.join();\n    Matrix a22b21 = mma22b21.join();\n    Matrix a21b11 = mma21b11.join();\n    Matrix a12b22 = mma12b22.join();\n    Matrix a11b12 = mma11b12.join();\n    Matrix a12b21 = mma12b21.join();\n    Matrix a11b11 = mma11b11.join();\n\n\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a21b12.m[i];\n      double[] m2m = a22b22.m[i];\n      double[] r1m = result.m[i + size];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j + size] = m1m[j] + m2m[j];\n      }\n    }\n\n\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a21b11.m[i];\n      double[] m2m = a22b21.m[i];\n      double[] r1m = result.m[i + size];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j] = m1m[j] + m2m[j];\n      }\n    }\n\n\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a11b12.m[i];\n      double[] m2m = a12b22.m[i];\n      double[] r1m = result.m[i];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j + size] = m1m[j] + m2m[j];\n      }\n    }\n\n\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a11b11.m[i];\n      double[] m2m = a12b21.m[i];\n      double[] r1m = result.m[i];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j] = m1m[j] + m2m[j];\n      }\n    }\n\n\n    return result; \n  }\n}\n</code></pre>\n\n<p><strong>Matrix</strong></p>\n\n<pre><code>import java.util.function.Supplier;\nimport java.lang.StringBuilder;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveTask;\nimport java.util.concurrent.ForkJoinTask;\nimport java.lang.Runtime;\n\n/**\n * Encapsulate a square matrix of double values.\n */\nclass Matrix {\n  /**\n   * 2D square array of double values, storing the matrix.\n   */\n  double[][] m;\n  /**\n   * The number of columns and rows in the matrix.\n   */\n  int dimension;\n\n  private static final int THRESHOLD = 2;\n\n  /**\n   * Checks if two matrices are equals.\n   * @param   m1  First matrices to check\n   * @param   m2  Second matrices to check against\n   * @return  true if every elements in m1 and m2 are the same; false otherwise.\n   */\n  public static boolean equals(Matrix m1, Matrix m2) {\n    if (m1.dimension != m2.dimension) {\n      return false;\n    }\n    for (int i = 0; i &lt; m1.dimension; i++) {\n      for (int j = 0; j &lt; m1.dimension; j++) {\n        if (Math.abs(m1.m[i][j] - m2.m[i][j]) &gt; 0.000001) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A constructor for the matrix.\n   * @param  dimension The number of rows.\n   */\n  Matrix(int dimension) {\n    this.dimension = dimension;\n    this.m = new double[dimension][dimension];\n  }\n\n  /**\n   * Generate a matrix of d x d according to the given supplier.\n   * @param  dimension The dimension of the matrix\n   * @param  supplier The lambda to generate the matrix with.\n   * @return The new matrix.\n   */\n  static Matrix generate(int dimension, Supplier&lt;Double&gt; supplier) {\n    Matrix matrix = new Matrix(dimension);\n    for (int row = 0; row &lt; dimension; row++) {\n      for (int col = 0; col &lt; dimension; col++) {\n        matrix.m[row][col] = supplier.get();\n      }\n    }\n    return matrix;\n  }\n\n  /**\n   * Return a string representation of the matrix, pretty-printed\n   * with each row on a single line.\n   * @return The string representation of this matrix.\n   */\n  public String toString() {\n    StringBuilder s = new StringBuilder();\n    for (int row = 0; row &lt; dimension; row++) {\n      for (int col = 0; col &lt; dimension; col++) {\n        s.append(String.format(\"%.4f\", m[row][col]) + \" \");\n      }\n      s.append(\"\\n\");\n    }\n    return s.toString();\n  }\n\n  /**\n   * Multiply matrix m with this matrix, return a new result matrix.\n   * @param  m1 The matrix to multiply with.\n   * @param  m2 The matrix to multiply with.\n   * @param  m1Row The starting row of m1.\n   * @param  m1Col The starting col of m1.\n   * @param  m2Row The starting row of m2.\n   * @param  m2Col The starting col of m2.\n   * @param  dimension The dimension of the input (sub)-matrices and the size\n   *     of the output matrix.\n   * @return The new matrix.\n   */\n  public static Matrix nonRecursiveMultiply(Matrix m1, Matrix m2,\n      int m1Row, int m1Col, int m2Row, int m2Col, int dimension) {\n    Matrix result = new Matrix(dimension);\n    for (int row = 0; row &lt; dimension; row++) {\n      for (int col = 0; col &lt; dimension; col++) {\n        double sum = 0;\n        // multiply row to col\n        for (int i = 0; i &lt; dimension; i++) {\n          sum += m1.m[row + m1Row][i + m1Col] * m2.m[i + m2Row][col + m2Col];\n        }\n        result.m[row][col] = sum;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Multiple two matrices non-recursively.\n   * @param m1 The matrix to multiply with.\n   * @param m2 The matrix to multiply with.\n   * @return The resulting matrix m1 * m2\n   */\n  public static Matrix nonRecursiveMultiply(Matrix m1, Matrix m2) {\n    return Matrix.nonRecursiveMultiply(m1, m2, 0, 0, 0, 0, m1.dimension);\n  }\n\n  /**\n   * Multiply matrix m with this matrix, return a new result matrix.\n   * @param  m1 The matrix to multiply with.\n   * @param  m2 The matrix to multiply with.\n   * @param  m1Row The starting row of m1.\n   * @param  m1Col The starting col of m1.\n   * @param  m2Row The starting row of m2.\n   * @param  m2Col The starting col of m2.\n   * @param  dimension The dimension of the input (sub)-matrices and the size\n   *     of the output matrix.\n   * @return The resulting matrix m1 * m2\n   */\n  public static Matrix recursiveMultiply(Matrix m1, Matrix m2,\n      int m1Row, int m1Col, int m2Row, int m2Col, int dimension) {\n\n    // If the matrix is small enough, just multiple non-recursively.\n    if (dimension &lt;= THRESHOLD) {\n      return Matrix.nonRecursiveMultiply(m1, m2, m1Row, m1Col, m2Row, m2Col, dimension);\n    }\n\n    // Else, cut the matrix into four blocks of equal size, recursively\n    // multiply then sum the multiplication result.\n    int size = dimension / 2;\n    Matrix result = new Matrix(dimension);\n    Matrix a11b11 = recursiveMultiply(m1, m2, m1Row, m1Col, m2Row,\n        m2Col, size);\n    Matrix a12b21 = recursiveMultiply(m1, m2, m1Row, m1Col + size,\n        m2Row + size, m2Col, size);\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a11b11.m[i];\n      double[] m2m = a12b21.m[i];\n      double[] r1m = result.m[i];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j] = m1m[j] + m2m[j];\n      }\n    }\n\n    Matrix a11b12 = recursiveMultiply(m1, m2, m1Row, m1Col, m2Row,\n        m2Col + size, size);\n    Matrix a12b22 = recursiveMultiply(m1, m2, m1Row, m1Col + size,\n        m2Row + size, m2Col + size, size);\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a11b12.m[i];\n      double[] m2m = a12b22.m[i];\n      double[] r1m = result.m[i];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j + size] = m1m[j] + m2m[j];\n      }\n    }\n\n    Matrix a21b11 = recursiveMultiply(m1, m2, m1Row + size, m1Col,\n        m2Row, m2Col, size);\n    Matrix a22b21 = recursiveMultiply(m1, m2, m1Row + size, m1Col + size,\n        m2Row + size, m2Col, size);\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a21b11.m[i];\n      double[] m2m = a22b21.m[i];\n      double[] r1m = result.m[i + size];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j] = m1m[j] + m2m[j];\n      }\n    }\n\n    Matrix a21b12 = recursiveMultiply(m1, m2, m1Row + size, m1Col,\n        m2Row, m2Col + size, size);\n    Matrix a22b22 = recursiveMultiply(m1, m2, m1Row + size, m1Col + size,\n        m2Row + size, m2Col + size, size);\n    for (int i = 0; i &lt; size; i++) {\n      double[] m1m = a21b12.m[i];\n      double[] m2m = a22b22.m[i];\n      double[] r1m = result.m[i + size];\n      for (int j = 0; j &lt; size; j++) {\n        r1m[j + size] = m1m[j] + m2m[j];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Multiple two matrices recursively but sequentially with\n   * divide-and-conquer algorithm.\n   * @param m1 The matrix to multiply with.\n   * @param m2 The matrix to multiply with.\n   * @return The resulting matrix m1 * m2\n   */\n  public static Matrix recursiveMultiply(Matrix m1, Matrix m2) {\n    return Matrix.recursiveMultiply(m1, m2, 0, 0, 0, 0, m1.dimension);\n  }\n\n\n  /**\n   * Multiple two matrices recursively and parallely with\n   * divide-and-conquer algorithm.\n   * @param m1 The matrix to multiply with.\n   * @param m2 The matrix to multiply with.\n   * @return The resulting matrix m1 * m2\n   */\n  public static Matrix parallelMultiply(Matrix m1, Matrix m2) {\n    return new MatrixMultiplication(m1, m2, 0, 0, 0, 0, m1.dimension)\n        .compute();\n  }\n}\n\n\n\nimport java.util.function.Supplier;\nimport java.util.stream.DoubleStream;\nimport java.util.Random;\nimport java.util.Scanner;\nimport java.time.Instant;\nimport java.time.Duration;\n</code></pre>\n\n<p><strong>Main</strong></p>\n\n<pre><code>/**\n * Main is the main driver class for testing matrix multiplication.\n * Usage: java Main n\n * 2^n is the dimension of the square matrixOne\n */\nclass Main {\n  public static void main(String[] args) {\n\n    int n = (new Scanner(System.in)).nextInt();\n\n    Random random = new Random(1); \n    int dimension = 1 &lt;&lt; n; \n\n\n\n    System.out.println(\"dimension \" + dimension);\n\n\n    Matrix matrixOne = Matrix.generate(dimension, () -&gt; random.nextDouble());\n\n\n    Matrix matrixTwo = Matrix.generate(dimension, () -&gt; random.nextDouble());\n\n\n\n\n\n\n\n\n    Matrix result1 = Matrix.nonRecursiveMultiply(matrixOne, matrixTwo);\n\n\n    Matrix result2 = Matrix.parallelMultiply(matrixOne, matrixTwo);\n\n\n    boolean match = Matrix.equals(result1, result2);\n    if (!match) {\n      System.out.println(\"ERROR: matrix multiplication gives inconsistent \" +\n          \"result in sequential and parallel implementations.\");\n      return;\n    }\n\n    double d1 = measureTimeToRun(() -&gt; Matrix.nonRecursiveMultiply(matrixOne, matrixTwo));\n    double d2 = measureTimeToRun(() -&gt; Matrix.parallelMultiply(matrixOne, matrixTwo));\n\n    System.out.printf(\"Parallel %.3f ms Sequential %.3f ms Speedup %.3f times\\n\", d2, d1, d1 / d2);\n  }\n\n  /**\n   * Return the average time needed to run the task over three runs.\n   * @param  task A lambda expression for the task to be run\n   * @return The average time taken in ms.\n   */\n  private static double measureTimeToRun(Supplier&lt;Matrix&gt; task) {\n    final int numOfTimes = 3;\n    double sum = 0;\n    for (int i = 0; i &lt; numOfTimes; i++) {\n      Instant start = Instant.now();\n      Matrix m = task.get();\n      Instant stop = Instant.now();\n      sum += Duration.between(start, stop).toMillis();\n    }\n    return sum / numOfTimes;\n  }\n}\n</code></pre>\n\n<p>Edit: Added in the output of <code>n = 11</code> from the program's output in case it causes some confusion.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668083598,"post_id":74389054,"comment_id":131323701,"body_markdown":"But why? minOccurs=0 makes the element optional.","body":"But why? minOccurs=0 makes the element optional."},{"owner":{"account_id":26889278,"reputation":1,"user_id":20468312,"display_name":"Mani Shankar"},"score":0,"creation_date":1668083727,"post_id":74389054,"comment_id":131323738,"body_markdown":"We are not handling the XSD it was handling other team is there any way we can achieve in code","body":"We are not handling the XSD it was handling other team is there any way we can achieve in code"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668085741,"post_id":74389054,"comment_id":131324441,"body_markdown":"The &quot;other team&quot; is violating the XSD. Element xmldate using type [xs:date](https://www.w3.org/TR/xmlschema-2/#date) cannot be empty. It&#39;s either present and populated or missing.","body":"The &quot;other team&quot; is violating the XSD. Element xmldate using type <a href=\"https://www.w3.org/TR/xmlschema-2/#date\" rel=\"nofollow noreferrer\">xs:date</a> cannot be empty. It&#39;s either present and populated or missing."}],"owner":{"account_id":26889278,"reputation":1,"user_id":20468312,"display_name":"Mani Shankar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668359776,"creation_date":1668083465,"question_id":74389054,"body_markdown":"```\r\nclass Dbvalue {\r\n\r\n  private LocalDate dbdate;\r\n\r\n  public LocalDate getDbdate() {\r\n    return dbdate;\r\n  }\r\n\r\n  public void setDbdate(LocalDate dbdate) {\r\n    this.dbdate = dbdate;\r\n  }\r\n\r\n}\r\n\r\nclass setxml {\r\n\r\n  @XmlSchemaType(name = &quot;date&quot;)\r\n  protected XMLGregorianCalendar xmldate;\r\n\r\n  public XMLGregorianCalendar getxmldate() {\r\n    return xmldate;\r\n  }\r\n\r\n  public void setxmldate(XMLGregorianCalenda value) {\r\n    this.date = value;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nTrying to set date as below.\r\n\r\n`setxml.setxmldate(Dbvalue.getDbdate)` // here `sextxmldate` will be null since results from DB is null.\r\n\r\nI want to display the empty xmlatgs as below even when the date is null \r\n\r\n&lt;xmldate&gt;&lt;/xmldate&gt;\r\n\r\nbelow is the `XSD`:\r\n\r\n    &lt;xs:element name=&quot;xmldate&quot; type=&quot;xs:date&quot; minOccurs=&quot;0&quot;/&gt;","title":"Display empty xml tag when Localdate is null in java","body":"<pre><code>class Dbvalue {\n\n  private LocalDate dbdate;\n\n  public LocalDate getDbdate() {\n    return dbdate;\n  }\n\n  public void setDbdate(LocalDate dbdate) {\n    this.dbdate = dbdate;\n  }\n\n}\n\nclass setxml {\n\n  @XmlSchemaType(name = &quot;date&quot;)\n  protected XMLGregorianCalendar xmldate;\n\n  public XMLGregorianCalendar getxmldate() {\n    return xmldate;\n  }\n\n  public void setxmldate(XMLGregorianCalenda value) {\n    this.date = value;\n  }\n}\n\n</code></pre>\n<p>Trying to set date as below.</p>\n<p><code>setxml.setxmldate(Dbvalue.getDbdate)</code> // here <code>sextxmldate</code> will be null since results from DB is null.</p>\n<p>I want to display the empty xmlatgs as below even when the date is null</p>\n<p></p>\n<p>below is the <code>XSD</code>:</p>\n<pre><code>&lt;xs:element name=&quot;xmldate&quot; type=&quot;xs:date&quot; minOccurs=&quot;0&quot;/&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":1,"creation_date":1537029280,"post_id":52346676,"comment_id":91638926,"body_markdown":"What is the current output?","body":"What is the current output?"},{"owner":{"account_id":9058453,"reputation":377,"user_id":6745790,"accept_rate":88,"display_name":"Sekar"},"score":0,"creation_date":1537029318,"post_id":52346676,"comment_id":91638940,"body_markdown":"Do you get an error? Add a default case and check if the default case is getting executed. Try debugging or printing and see if the status is actually having one of the defined case values","body":"Do you get an error? Add a default case and check if the default case is getting executed. Try debugging or printing and see if the status is actually having one of the defined case values"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1537031584,"post_id":52346676,"comment_id":91639530,"body_markdown":"Please read [mcve] and enhance your question. The code you are showing does not even use the name that the error message is showing!","body":"Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question. The code you are showing does not even use the name that the error message is showing!"}],"answers":[{"tags":[],"owner":{"account_id":13387136,"reputation":57,"user_id":9660637,"display_name":"Pav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537030906,"creation_date":1537030906,"answer_id":52346926,"question_id":52346676,"body_markdown":"Would you be able to post your entire source code? \r\nHave you tried using the default case as shown below?\r\n\r\n    public void run() {\r\n\t\t\t\r\n\t    //enter a test case here to see if your console prints the output:\r\n\t\tint status = readInt(&quot;Enter case here: &quot;);\r\n\r\n\t\t\t\t\r\n\t\tswitch ( status ){\r\n\t\tcase 200: System.out.println(&quot;OK(fulfilled)&quot;);\r\n\t\tbreak;\r\n\t\tcase 403: System.out.println(&quot;forbidden&quot;);\r\n\t\tbreak;\r\n\t\tcase 404: System.out.println(&quot;not found&quot;);\r\n\t\tbreak;\r\n\t\tcase 500: System.out.println(&quot;server error&quot;);\r\n\t\tbreak;\r\n        \r\n    //Try the default case here:\r\n\t\tdefault: \r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }","title":"Given an int variable status, write a switch statement that prints out, on a line by itself, the appropriate label from the above list based on status","body":"<p>Would you be able to post your entire source code? \nHave you tried using the default case as shown below?</p>\n\n<pre><code>public void run() {\n\n    //enter a test case here to see if your console prints the output:\n    int status = readInt(\"Enter case here: \");\n\n\n    switch ( status ){\n    case 200: System.out.println(\"OK(fulfilled)\");\n    break;\n    case 403: System.out.println(\"forbidden\");\n    break;\n    case 404: System.out.println(\"not found\");\n    break;\n    case 500: System.out.println(\"server error\");\n    break;\n\n//Try the default case here:\n    default: \n        break;\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26862886,"reputation":1,"user_id":20446070,"display_name":"Cynthia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668359686,"creation_date":1667882689,"answer_id":74355768,"question_id":52346676,"body_markdown":"I had the same problem and figured out you&#39;re supposed to use `System.out.print(&quot;&quot;)`, because it&#39;s supposed to be entered on a line by itself.","title":"Given an int variable status, write a switch statement that prints out, on a line by itself, the appropriate label from the above list based on status","body":"<p>I had the same problem and figured out you're supposed to use <code>System.out.print(&quot;&quot;)</code>, because it's supposed to be entered on a line by itself.</p>\n"}],"owner":{"account_id":13083571,"reputation":9,"user_id":9453316,"display_name":"Marti Butlor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668359686,"creation_date":1537029115,"question_id":52346676,"body_markdown":"HTTP is the protocol that governs communications between web servers and web clients (i.e. browsers). Part of the protocol includes a status code returned by the server to tell the browser the status of its most recent page request. Some of the codes and their meanings are listed below:\r\n\r\n200, OK (fulfilled)\r\n403, forbidden\r\n404, not found\r\n500, server error\r\n\r\nGiven an int variable status, write a switch statement that prints out, on a line by itself, the appropriate label from the above list based on status.\r\n\r\nThis is what I have for my code but it&#39;s still not working and I am unsure as to why.\r\n\r\n    switch ( status ){\r\n\tcase 200: System.out.println(&quot;OK(fulfilled)&quot;);\r\n\tbreak;\r\n\tcase 403: System.out.println(&quot;forbidden&quot;);\r\n\tbreak;\r\n\tcase 404: System.out.println(&quot;not found&quot;);\r\n\tbreak;\r\n\tcase 500: System.out.println(&quot;server error&quot;);\r\n\tbreak;\r\n}\r\n\r\nThe error I get is &quot;The value of _stdout is incorrect.&quot;","title":"Given an int variable status, write a switch statement that prints out, on a line by itself, the appropriate label from the above list based on status","body":"<p>HTTP is the protocol that governs communications between web servers and web clients (i.e. browsers). Part of the protocol includes a status code returned by the server to tell the browser the status of its most recent page request. Some of the codes and their meanings are listed below:</p>\n\n<p>200, OK (fulfilled)\n403, forbidden\n404, not found\n500, server error</p>\n\n<p>Given an int variable status, write a switch statement that prints out, on a line by itself, the appropriate label from the above list based on status.</p>\n\n<p>This is what I have for my code but it's still not working and I am unsure as to why.</p>\n\n<pre><code>switch ( status ){\ncase 200: System.out.println(\"OK(fulfilled)\");\nbreak;\ncase 403: System.out.println(\"forbidden\");\nbreak;\ncase 404: System.out.println(\"not found\");\nbreak;\ncase 500: System.out.println(\"server error\");\nbreak;\n</code></pre>\n\n<p>}</p>\n\n<p>The error I get is \"The value of _stdout is incorrect.\"</p>\n"},{"tags":["java","android","json","arrays"],"answers":[{"tags":[],"owner":{"account_id":2686,"reputation":13566,"user_id":3767,"accept_rate":93,"display_name":"Eric Levine"},"down_vote_count":0,"up_vote_count":221,"is_accepted":true,"score":221,"last_activity_date":1668359604,"creation_date":1346879923,"answer_id":12289961,"question_id":12289844,"body_markdown":"When you are working with JSON data in Android, you would use `JSONArray` to parse JSON which starts with the array brackets.  Arrays in JSON are used to organize a collection of related items (Which could be JSON objects).  \r\nFor example: `[{&quot;name&quot;:&quot;item 1&quot;},{&quot;name&quot;: &quot;item2&quot;} ]`\r\n\r\nOn the other hand, you would use `JSONObject` when dealing with JSON that begins with curly braces.  A JSON object is typically used to contain key/value pairs related to one item.\r\nFor example: `{&quot;name&quot;: &quot;item1&quot;, &quot;description&quot;: &quot;a JSON object&quot;}`\r\n\r\nOf course, JSON arrays and objects may be nested inside one another.  One common example of this is an API that returns a JSON object containing some metadata alongside an array of the items matching your query:\r\n\r\n    {&quot;startIndex&quot;: 0, &quot;data&quot;: [{&quot;name&quot;: &quot;item 1&quot;},{&quot;name&quot;: &quot;item2&quot;} ]}","title":"Difference between JSONObject and JSONArray","body":"<p>When you are working with JSON data in Android, you would use <code>JSONArray</code> to parse JSON which starts with the array brackets.  Arrays in JSON are used to organize a collection of related items (Which could be JSON objects).<br />\nFor example: <code>[{&quot;name&quot;:&quot;item 1&quot;},{&quot;name&quot;: &quot;item2&quot;} ]</code></p>\n<p>On the other hand, you would use <code>JSONObject</code> when dealing with JSON that begins with curly braces.  A JSON object is typically used to contain key/value pairs related to one item.\nFor example: <code>{&quot;name&quot;: &quot;item1&quot;, &quot;description&quot;: &quot;a JSON object&quot;}</code></p>\n<p>Of course, JSON arrays and objects may be nested inside one another.  One common example of this is an API that returns a JSON object containing some metadata alongside an array of the items matching your query:</p>\n<pre><code>{&quot;startIndex&quot;: 0, &quot;data&quot;: [{&quot;name&quot;: &quot;item 1&quot;},{&quot;name&quot;: &quot;item2&quot;} ]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1346879930,"creation_date":1346879930,"answer_id":12289962,"question_id":12289844,"body_markdown":"I always use object, it is more easily extendable, JSON array is not. For example you originally had some data as a json array, then you needed to add a status header on it you&#39;d be a bit stuck, unless you&#39;d nested the data in an object. The only disadvantage is a slight increase in complexity of creation / parsing.\r\n\r\nSo instead of \r\n\r\n    [datum0, datum1, datumN]\r\n\r\nYou&#39;d have \r\n\r\n    {data: [datum0, datum1, datumN]}\r\n\r\nthen later you can add more...\r\n\r\n    {status: &quot;foo&quot;, data: [datum0, datum1, datumN]}\r\n","title":"Difference between JSONObject and JSONArray","body":"<p>I always use object, it is more easily extendable, JSON array is not. For example you originally had some data as a json array, then you needed to add a status header on it you'd be a bit stuck, unless you'd nested the data in an object. The only disadvantage is a slight increase in complexity of creation / parsing.</p>\n\n<p>So instead of </p>\n\n<pre><code>[datum0, datum1, datumN]\n</code></pre>\n\n<p>You'd have </p>\n\n<pre><code>{data: [datum0, datum1, datumN]}\n</code></pre>\n\n<p>then later you can add more...</p>\n\n<pre><code>{status: \"foo\", data: [datum0, datum1, datumN]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19734,"reputation":2007,"user_id":46489,"display_name":"Aleksandr Panzin"},"down_vote_count":0,"up_vote_count":126,"is_accepted":false,"score":126,"last_activity_date":1478621495,"creation_date":1366629245,"answer_id":16145788,"question_id":12289844,"body_markdown":"The difference is the same as a (Hash)Map vs List.\r\n\r\n**JSONObject:**\r\n\r\n - Contains named values (key-&gt;value pairs, tuples or whatever you want to call them)\r\n   - like `{ID : 1}`\r\n - Order of elements is not important\r\n   - a JSONObject of `{id: 1, name: &#39;B&#39;}` is equal to `{name: &#39;B&#39;, id: 1}`. \r\n\r\n**JSONArray:**\r\n\r\n - Contains only series values\r\n   - like `[1, &#39;value&#39;]`\r\n - Order of values is important\r\n   - array of `[1,&#39;value&#39;]` is not the same as `[&#39;value&#39;,1]`\r\n\r\n\r\n--------------\r\nExample\r\n\r\n    JSON Object --&gt; { &quot;&quot;:&quot;&quot;}\r\n    \r\n    JSON Array --&gt; [ , , , ]\r\n\r\n    {&quot;employees&quot;:[\r\n        {&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Doe&quot;},\r\n        {&quot;firstName&quot;:&quot;Anna&quot;, &quot;lastName&quot;:&quot;Smith&quot;},\r\n        {&quot;firstName&quot;:&quot;Peter&quot;, &quot;lastName&quot;:&quot;Jones&quot;}\r\n    ]}","title":"Difference between JSONObject and JSONArray","body":"<p>The difference is the same as a (Hash)Map vs List.</p>\n\n<p><strong>JSONObject:</strong></p>\n\n<ul>\n<li>Contains named values (key->value pairs, tuples or whatever you want to call them)\n\n<ul>\n<li>like <code>{ID : 1}</code></li>\n</ul></li>\n<li>Order of elements is not important\n\n<ul>\n<li>a JSONObject of <code>{id: 1, name: 'B'}</code> is equal to <code>{name: 'B', id: 1}</code>. </li>\n</ul></li>\n</ul>\n\n<p><strong>JSONArray:</strong></p>\n\n<ul>\n<li>Contains only series values\n\n<ul>\n<li>like <code>[1, 'value']</code></li>\n</ul></li>\n<li>Order of values is important\n\n<ul>\n<li>array of <code>[1,'value']</code> is not the same as <code>['value',1]</code></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>Example</p>\n\n<pre><code>JSON Object --&gt; { \"\":\"\"}\n\nJSON Array --&gt; [ , , , ]\n\n{\"employees\":[\n    {\"firstName\":\"John\", \"lastName\":\"Doe\"},\n    {\"firstName\":\"Anna\", \"lastName\":\"Smith\"},\n    {\"firstName\":\"Peter\", \"lastName\":\"Jones\"}\n]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1534168638,"creation_date":1469428169,"answer_id":38561016,"question_id":12289844,"body_markdown":"Best programmatically Understanding.\n\n&gt;when syntax is `{}`then this is `JsonObject`\n&gt;\n&gt;when syntax is `[]` then this is `JsonArray`\n\n\nA `JSONObject` is a JSON-like object that can be represented as an element in the `JSONArray`. `JSONArray` can contain a (or many) `JSONObject`\n\nHope this will helpful to you !\n","title":"Difference between JSONObject and JSONArray","body":"<p>Best programmatically Understanding.</p>\n<blockquote>\n<p>when syntax is <code>{}</code>then this is <code>JsonObject</code></p>\n<p>when syntax is <code>[]</code> then this is <code>JsonArray</code></p>\n</blockquote>\n<p>A <code>JSONObject</code> is a JSON-like object that can be represented as an element in the <code>JSONArray</code>. <code>JSONArray</code> can contain a (or many) <code>JSONObject</code></p>\n<p>Hope this will helpful to you !</p>\n"},{"tags":[],"owner":{"account_id":11914818,"reputation":476,"user_id":8719007,"display_name":"Serge Kishiko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533821264,"creation_date":1533821264,"answer_id":51768337,"question_id":12289844,"body_markdown":"I know, all of the previous answers are insightful to your question. I had too like you this confusion just one minute before finding this SO thread. After reading some of the answers, here is what I get: **A JSONObject is a JSON-like object that can be represented as an element in the array, the JSONArray. In other words, a JSONArray can contain a (or many) JSONObject.**","title":"Difference between JSONObject and JSONArray","body":"<p>I know, all of the previous answers are insightful to your question. I had too like you this confusion just one minute before finding this SO thread. After reading some of the answers, here is what I get: <strong>A JSONObject is a JSON-like object that can be represented as an element in the array, the JSONArray. In other words, a JSONArray can contain a (or many) JSONObject.</strong></p>\n"},{"tags":[],"owner":{"account_id":8145540,"reputation":171,"user_id":6134309,"display_name":"SAM"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1556256611,"creation_date":1535528152,"answer_id":52071979,"question_id":12289844,"body_markdown":"To understand it in a easier way, following are the diffrences between JSON object and JSON array:\r\n\r\nLink to Tabular Difference :  https://i.stack.imgur.com/GIqI9.png\r\n\r\n**JSON Array**\r\n\r\n    1. Arrays in JSON are used to organize a collection of related items\r\n       (Which could be JSON objects)\r\n    2.\tArray values must be of type string, number, object, array, boolean or null\r\n    3.\tSyntax: \r\n               [ &quot;Ford&quot;, &quot;BMW&quot;, &quot;Fiat&quot; ]\r\n    4.\tJSON arrays are surrounded by square brackets []. \r\n        **Tip to remember**  :  Here, order of element is important. That means you have \r\n        to go straight like the shape of the bracket i.e. straight lines. \r\n       (Note :It is just my logic to remember the shape of both.) \r\n    5.\tOrder of elements is important. Example:  [&quot;Ford&quot;,&quot;BMW&quot;,&quot;Fiat&quot;] is not \r\n        equal to [&quot;Fiat&quot;,&quot;BMW&quot;,&quot;Ford&quot;]\r\n    6.\tJSON can store nested Arrays that are passed as a value.\r\n\r\n**JSON Object**\r\n\r\n    1.  JSON objects are written in key/value pairs.\r\n    2.  Keys must be strings, and values must be a valid JSON data type (string, number, \r\n        object, array, boolean or null).Keys and values are separated by a colon.\r\n        Each key/value pair is separated by a comma.\r\n    3.  Syntax:\r\n             { &quot;name&quot;:&quot;Somya&quot;, &quot;age&quot;:25, &quot;car&quot;:null }\r\n    4.  JSON objects are surrounded by curly braces {} \r\n        Tip to remember : Here, order of element is not important. That means you can go \r\n        the way you like. Therefore the shape of the braces i.e. wavy. \r\n        (Note : It is just my logic to remember the shape of both.)\r\n    5.  Order of elements is not important. \r\n        Example:  { rollno: 1, firstname: &#39;Somya&#39;} \r\n                       is equal to \r\n                 { firstname: &#39;Somya&#39;, rollno: 1}\r\n    6.  JSON can store nested objects in JSON format in addition to nested arrays.\r\n\r\n","title":"Difference between JSONObject and JSONArray","body":"<p>To understand it in a easier way, following are the diffrences between JSON object and JSON array:</p>\n\n<p>Link to Tabular Difference :  <a href=\"https://i.stack.imgur.com/GIqI9.png\" rel=\"noreferrer\">https://i.stack.imgur.com/GIqI9.png</a></p>\n\n<p><strong>JSON Array</strong></p>\n\n<pre><code>1. Arrays in JSON are used to organize a collection of related items\n   (Which could be JSON objects)\n2.  Array values must be of type string, number, object, array, boolean or null\n3.  Syntax: \n           [ \"Ford\", \"BMW\", \"Fiat\" ]\n4.  JSON arrays are surrounded by square brackets []. \n    **Tip to remember**  :  Here, order of element is important. That means you have \n    to go straight like the shape of the bracket i.e. straight lines. \n   (Note :It is just my logic to remember the shape of both.) \n5.  Order of elements is important. Example:  [\"Ford\",\"BMW\",\"Fiat\"] is not \n    equal to [\"Fiat\",\"BMW\",\"Ford\"]\n6.  JSON can store nested Arrays that are passed as a value.\n</code></pre>\n\n<p><strong>JSON Object</strong></p>\n\n<pre><code>1.  JSON objects are written in key/value pairs.\n2.  Keys must be strings, and values must be a valid JSON data type (string, number, \n    object, array, boolean or null).Keys and values are separated by a colon.\n    Each key/value pair is separated by a comma.\n3.  Syntax:\n         { \"name\":\"Somya\", \"age\":25, \"car\":null }\n4.  JSON objects are surrounded by curly braces {} \n    Tip to remember : Here, order of element is not important. That means you can go \n    the way you like. Therefore the shape of the braces i.e. wavy. \n    (Note : It is just my logic to remember the shape of both.)\n5.  Order of elements is not important. \n    Example:  { rollno: 1, firstname: 'Somya'} \n                   is equal to \n             { firstname: 'Somya', rollno: 1}\n6.  JSON can store nested objects in JSON format in addition to nested arrays.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13966353,"reputation":37,"user_id":10086039,"display_name":"Ahmed Noman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644576763,"creation_date":1591593862,"answer_id":62255537,"question_id":12289844,"body_markdown":"When a JSON starts with `{}` it is an Object [JSON object][1], and when it starts with [] it is an Array [JSON Array][2].\r\n\r\nA JSON array can consist of many objects and that is called an array of objects.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ppaQd.jpg\r\n  [2]: https://i.stack.imgur.com/OdfJd.jpg","title":"Difference between JSONObject and JSONArray","body":"<p>When a JSON starts with <code>{}</code> it is an Object <a href=\"https://i.stack.imgur.com/ppaQd.jpg\" rel=\"nofollow noreferrer\">JSON object</a>, and when it starts with [] it is an Array <a href=\"https://i.stack.imgur.com/OdfJd.jpg\" rel=\"nofollow noreferrer\">JSON Array</a>.</p>\n<p>A JSON array can consist of many objects and that is called an array of objects.</p>\n"},{"tags":[],"owner":{"account_id":19601089,"reputation":127,"user_id":14345912,"display_name":"NeWi-SL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632320146,"creation_date":1601136922,"answer_id":64079903,"question_id":12289844,"body_markdown":"The usage of both can be depended on the structure of your data.\r\n\r\nSimply,\r\n You can use the **Nested Objects** approach if you plan to give priority to a unique identifier such as a Primary Key.\r\n\r\n  eg:\r\n\r\n      {\r\n         &quot;Employees&quot; : {\r\n               &quot;001&quot; : {\r\n                   &quot;Name&quot; : &quot;Alan&quot;,\r\n                   &quot;Children&quot; : [&quot;Walker&quot;, &quot;Dua&quot;, &quot;Lipa&quot;]\r\n                    },\r\n               &quot;002&quot; : {\r\n                   &quot;Name&quot; : &quot;Ezio&quot;,\r\n                   &quot;Children&quot; : [&quot;Kenvey&quot;, &quot;Connor&quot;, &quot;Edward&quot;]\r\n                    }\r\n          }\r\n\r\nOr,\r\nUse the **Array first** approach if you intend to store a set of values with no need to identify uniquely.\r\n\r\neg:\r\n\r\n   \r\n\r\n     \r\n         {\r\n            &quot;Employees&quot;:[\r\n                   {\r\n                       &quot;Name&quot; : &quot;Alan&quot;,\r\n                       &quot;Children&quot; : [&quot;Walker&quot;, &quot;Dua&quot;, &quot;Lipa&quot;]\r\n                   },\r\n                   {\r\n                       &quot;Name&quot; : &quot;Ezio&quot;,\r\n                       &quot;Children&quot; : [&quot;Kenvey&quot;, &quot;Connor&quot;, &quot;Edward&quot;]\r\n                   }\r\n              ]\r\n           }\r\n       \r\n\r\nAlthough you could use the second method with an identifier, it can be harder or too complex to query and understand in some scenarios. Also depending on the database one may have to apply a suitable approach.\r\nEg: [MongoDB][1] / [Firebase][2]\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/core/data-modeling-introduction/\r\n  [2]: https://firebase.google.com/docs/database/ios/structure-data","title":"Difference between JSONObject and JSONArray","body":"<p>The usage of both can be depended on the structure of your data.</p>\n<p>Simply,\nYou can use the <strong>Nested Objects</strong> approach if you plan to give priority to a unique identifier such as a Primary Key.</p>\n<p>eg:</p>\n<pre><code>  {\n     &quot;Employees&quot; : {\n           &quot;001&quot; : {\n               &quot;Name&quot; : &quot;Alan&quot;,\n               &quot;Children&quot; : [&quot;Walker&quot;, &quot;Dua&quot;, &quot;Lipa&quot;]\n                },\n           &quot;002&quot; : {\n               &quot;Name&quot; : &quot;Ezio&quot;,\n               &quot;Children&quot; : [&quot;Kenvey&quot;, &quot;Connor&quot;, &quot;Edward&quot;]\n                }\n      }\n</code></pre>\n<p>Or,\nUse the <strong>Array first</strong> approach if you intend to store a set of values with no need to identify uniquely.</p>\n<p>eg:</p>\n<pre><code>     {\n        &quot;Employees&quot;:[\n               {\n                   &quot;Name&quot; : &quot;Alan&quot;,\n                   &quot;Children&quot; : [&quot;Walker&quot;, &quot;Dua&quot;, &quot;Lipa&quot;]\n               },\n               {\n                   &quot;Name&quot; : &quot;Ezio&quot;,\n                   &quot;Children&quot; : [&quot;Kenvey&quot;, &quot;Connor&quot;, &quot;Edward&quot;]\n               }\n          ]\n       }\n   \n</code></pre>\n<p>Although you could use the second method with an identifier, it can be harder or too complex to query and understand in some scenarios. Also depending on the database one may have to apply a suitable approach.\nEg: <a href=\"https://docs.mongodb.com/manual/core/data-modeling-introduction/\" rel=\"nofollow noreferrer\">MongoDB</a> / <a href=\"https://firebase.google.com/docs/database/ios/structure-data\" rel=\"nofollow noreferrer\">Firebase</a></p>\n"},{"tags":[],"owner":{"account_id":17377280,"reputation":27,"user_id":12590217,"display_name":"Lasan Rashmika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234150,"creation_date":1660801766,"answer_id":73398003,"question_id":12289844,"body_markdown":"Arrays in JSON are used to organize a collection of related items (Which could be JSON objects).\r\nFor example: `[{&quot;name&quot;:&quot;Name 1&quot;},{&quot;name&quot;: &quot;Name 2} ]`\r\n\r\nOn the other hand, you would use JSONObject when dealing with JSON that begins with curly braces.\r\n\r\nA JSON object is typically used to contain key/value pairs related to one item. For example: `{&quot;name&quot;: &quot;Name&quot;, &quot;description&quot;:&quot;a JSON object&quot;}`\r\n\r\nOf course, JSON arrays and objects may be nested inside one another. One common example of this is an API that returns a JSON object containing some metadata alongside an array of the items matching your query:\r\n\r\n    {&quot;startIndex&quot;: 0, &quot;data&quot;: [{&quot;name&quot;:&quot;Name 1&quot;},{&quot;name&quot;: &quot;Name 2&quot;} ]} ","title":"Difference between JSONObject and JSONArray","body":"<p>Arrays in JSON are used to organize a collection of related items (Which could be JSON objects).\nFor example: <code>[{&quot;name&quot;:&quot;Name 1&quot;},{&quot;name&quot;: &quot;Name 2} ]</code></p>\n<p>On the other hand, you would use JSONObject when dealing with JSON that begins with curly braces.</p>\n<p>A JSON object is typically used to contain key/value pairs related to one item. For example: <code>{&quot;name&quot;: &quot;Name&quot;, &quot;description&quot;:&quot;a JSON object&quot;}</code></p>\n<p>Of course, JSON arrays and objects may be nested inside one another. One common example of this is an API that returns a JSON object containing some metadata alongside an array of the items matching your query:</p>\n<pre><code>{&quot;startIndex&quot;: 0, &quot;data&quot;: [{&quot;name&quot;:&quot;Name 1&quot;},{&quot;name&quot;: &quot;Name 2&quot;} ]} \n</code></pre>\n"}],"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195569,"favorite_count":0,"down_vote_count":2,"up_vote_count":129,"accepted_answer_id":12289961,"answer_count":9,"score":127,"last_activity_date":1668359604,"creation_date":1346879331,"question_id":12289844,"body_markdown":"After having a short look at Google I found this [link][1] that describes the difference, yet from a syntax point of view.\r\n\r\nWhen would one be preferred over the other in a programming scenario?\r\n\r\n\r\n  [1]: http://www.dotnetfunda.com/interview/exam4309-difference-json-arrary-vs-json-object.aspx","title":"Difference between JSONObject and JSONArray","body":"<p>After having a short look at Google I found this <a href=\"http://www.dotnetfunda.com/interview/exam4309-difference-json-arrary-vs-json-object.aspx\" rel=\"noreferrer\">link</a> that describes the difference, yet from a syntax point of view.</p>\n\n<p>When would one be preferred over the other in a programming scenario?</p>\n"},{"tags":["javascript","java","html","socket.io","connection"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1668360125,"post_id":74423039,"comment_id":131380868,"body_markdown":"Why do you need a JavaScript server?","body":"Why do you need a JavaScript server?"},{"owner":{"account_id":20161700,"reputation":23,"user_id":14786630,"display_name":"Anthony"},"score":0,"creation_date":1668417883,"post_id":74423039,"comment_id":131391619,"body_markdown":"As far as I know, that&#39;s the only proper way I can get the string passed over to the website as both the JAVA system and the website would be on at the same time.","body":"As far as I know, that&#39;s the only proper way I can get the string passed over to the website as both the JAVA system and the website would be on at the same time."},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1668418046,"post_id":74423039,"comment_id":131391680,"body_markdown":"You would then need another client in JavaScript, because the server has to run on the backend. I would suggest setting up the server in Java and if socket.io for Java doesn&#39;t allow that, I would just use plain web sockets.","body":"You would then need another client in JavaScript, because the server has to run on the backend. I would suggest setting up the server in Java and if socket.io for Java doesn&#39;t allow that, I would just use plain web sockets."}],"owner":{"account_id":20161700,"reputation":23,"user_id":14786630,"display_name":"Anthony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668359431,"creation_date":1668359431,"question_id":74423039,"body_markdown":"I&#39;m working on a JAVA system that needs to pass a string over to a website so that the website can display it in the &lt;H1&gt; of it. I&#39;ve done some research and for my issue the SOCKET.IO extension seems to be the solution but I can&#39;t seem to get it working on the website end. (Using https://socketio.github.io/socket.io-client-java/emitting_events.html on the JAVA end, mainly following the template) I&#39;m not very good with website setup so I don&#39;t know the best way to set up the server side in JAVASCRIPT, is there any way I could please get assistance setting it up via my localhost:3000? As far as I know, the HTML/CSS doesn&#39;t really matter here as it&#39;s all done via the JAVASCRIPT so I don&#39;t think I need to show that, but feel free to ask for it. (I have no JAVASCRIPT written currently, I tried a bit but it was a mess)\r\n\r\nThank you for any help that can be provided, I know it&#39;s a bit specific.","title":"Assistance using SOCKET.IO to connect a JAVA Client and a HTML/JAVASCRIPT Server","body":"<p>I'm working on a JAVA system that needs to pass a string over to a website so that the website can display it in the  of it. I've done some research and for my issue the SOCKET.IO extension seems to be the solution but I can't seem to get it working on the website end. (Using <a href=\"https://socketio.github.io/socket.io-client-java/emitting_events.html\" rel=\"nofollow noreferrer\">https://socketio.github.io/socket.io-client-java/emitting_events.html</a> on the JAVA end, mainly following the template) I'm not very good with website setup so I don't know the best way to set up the server side in JAVASCRIPT, is there any way I could please get assistance setting it up via my localhost:3000? As far as I know, the HTML/CSS doesn't really matter here as it's all done via the JAVASCRIPT so I don't think I need to show that, but feel free to ask for it. (I have no JAVASCRIPT written currently, I tried a bit but it was a mess)</p>\n<p>Thank you for any help that can be provided, I know it's a bit specific.</p>\n"},{"tags":["java","templates","quarkus","mailer"],"answers":[{"tags":[],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645605407,"creation_date":1645605407,"answer_id":71233661,"question_id":71021105,"body_markdown":"I posted the same question as an issue in the Quarkus repository and the solution was provided.\r\n\r\nYou can check it ou here: https://github.com/quarkusio/quarkus/issues/23893\r\n\r\nThe solution:\r\n\r\n`You need to output the unescaped value: (1) either use the raw or safe computed properties in the template ({content.raw} or {content.safe}) or (2) wrap the String value in a io.quarkus.qute.RawString (template.data(&quot;content&quot;, new RawString(content)).render()).`","title":"Pass html data to Quarkus Template","body":"<p>I posted the same question as an issue in the Quarkus repository and the solution was provided.</p>\n<p>You can check it ou here: <a href=\"https://github.com/quarkusio/quarkus/issues/23893\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/23893</a></p>\n<p>The solution:</p>\n<p><code>You need to output the unescaped value: (1) either use the raw or safe computed properties in the template ({content.raw} or {content.safe}) or (2) wrap the String value in a io.quarkus.qute.RawString (template.data(&quot;content&quot;, new RawString(content)).render()).</code></p>\n"},{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668359431,"creation_date":1668359431,"answer_id":74423040,"question_id":71021105,"body_markdown":"You can use [`#eval`](https://quarkus.io/guides/qute-reference#eval-section) in your template to display raw html\r\n\r\n```\r\n{#eval htmlContent /}\r\n```","title":"Pass html data to Quarkus Template","body":"<p>You can use <a href=\"https://quarkus.io/guides/qute-reference#eval-section\" rel=\"nofollow noreferrer\"><code>#eval</code></a> in your template to display raw html</p>\n<pre><code>{#eval htmlContent /}\n</code></pre>\n"}],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71233661,"answer_count":2,"score":1,"last_activity_date":1668359431,"creation_date":1644247736,"question_id":71021105,"body_markdown":"I am using Quarkus Mailer and Quarkus Template to create an endpoint that will be responsible just for sending emails. For now it just receives the subject, body and the emails that the email should be sent to. I am using Quarkus Template so that I have a base html template for all emails. However I want to be able to pass html through the endpoint so that I am able to render different styles in the content of the template.\r\n\r\nThis is the part of the template where the body is rendered:\r\n\r\n```\r\n&lt;tr style=&#39;mso-yfti-irow:5;height:343.95pt&#39;&gt;\r\n    &lt;td width=621 valign=top style=&#39;width:466.05pt;border-top:none;border-left: solid #0E133C 2.25pt;border-bottom:none;border-right:solid #0E133C 2.25pt; padding:2.0cm 1.0cm 1.0cm 1.0cm;height:343.95pt&#39;&gt;\r\n       &lt;p class=MsoNormal&gt;&lt;span lang=PT style=&#39;mso-ansi-language:PT&#39;&gt;{sendEmailRequest.getBody()}&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\r\n    &lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\nBasically the &quot;sendEmailRequest.getBody()&quot; has the html content and it is currently being rendered like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMHbj.png\r\n\r\nThis is the code used to send the email:\r\n```\r\npublic void sendEmail(final SendEmailRequest sendEmailRequest) {\r\n        final String html = template.data(&quot;sendEmailRequest&quot;, sendEmailRequest).render();\r\n\r\n        mailer.send((new Mail()).setSubject(sendEmailRequest.getSubject())\r\n                .setHtml(html)\r\n                .setTo(sendEmailRequest.getTos()));\r\n    }\r\n```\r\n\r\nKeep in mind that I want to keep using a base template for the email and not directly use the body received from the DTO as the whole email body. I already managed to use html from the endpoint, but that was wihtout using the template.","title":"Pass html data to Quarkus Template","body":"<p>I am using Quarkus Mailer and Quarkus Template to create an endpoint that will be responsible just for sending emails. For now it just receives the subject, body and the emails that the email should be sent to. I am using Quarkus Template so that I have a base html template for all emails. However I want to be able to pass html through the endpoint so that I am able to render different styles in the content of the template.</p>\n<p>This is the part of the template where the body is rendered:</p>\n<pre><code>&lt;tr style='mso-yfti-irow:5;height:343.95pt'&gt;\n    &lt;td width=621 valign=top style='width:466.05pt;border-top:none;border-left: solid #0E133C 2.25pt;border-bottom:none;border-right:solid #0E133C 2.25pt; padding:2.0cm 1.0cm 1.0cm 1.0cm;height:343.95pt'&gt;\n       &lt;p class=MsoNormal&gt;&lt;span lang=PT style='mso-ansi-language:PT'&gt;{sendEmailRequest.getBody()}&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>Basically the &quot;sendEmailRequest.getBody()&quot; has the html content and it is currently being rendered like this:\n<a href=\"https://i.stack.imgur.com/SMHbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMHbj.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the code used to send the email:</p>\n<pre><code>public void sendEmail(final SendEmailRequest sendEmailRequest) {\n        final String html = template.data(&quot;sendEmailRequest&quot;, sendEmailRequest).render();\n\n        mailer.send((new Mail()).setSubject(sendEmailRequest.getSubject())\n                .setHtml(html)\n                .setTo(sendEmailRequest.getTos()));\n    }\n</code></pre>\n<p>Keep in mind that I want to keep using a base template for the email and not directly use the body received from the DTO as the whole email body. I already managed to use html from the endpoint, but that was wihtout using the template.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1668029414,"post_id":74381540,"comment_id":131311628,"body_markdown":"You are multiplying together all but the last element in the given array in the order they are given to you. what if the example array you have is passed `[5, 3, 2]`?  what if you are given `[2, 3, 5, 6]`?","body":"You are multiplying together all but the last element in the given array in the order they are given to you. what if the example array you have is passed <code>[5, 3, 2]</code>?  what if you are given <code>[2, 3, 5, 6]</code>?"},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1668029932,"post_id":74381540,"comment_id":131311783,"body_markdown":"@user16320675 must be divisible by exactly n - 1, 6 is also divisible by 6","body":"@user16320675 must be divisible by exactly n - 1, 6 is also divisible by 6"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668173163,"post_id":74381540,"comment_id":131347590,"body_markdown":"You question has generated some confusion.  Please include more specific examples with explanations as to why they match/don&#39;t match the criteria.","body":"You question has generated some confusion.  Please include more specific examples with explanations as to why they match/don&#39;t match the criteria."}],"answers":[{"tags":[],"owner":{"account_id":24142304,"reputation":1794,"user_id":18108367,"display_name":"User051209"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668156026,"creation_date":1668031195,"answer_id":74381869,"question_id":74381540,"body_markdown":"Calculation of the Least Common Multiple (LCM)\r\n---\r\nA problem inside the task is the calculation of the Least Common Multiple of 2 numbers. The method `public int lowerCommonMultiple(int x1, int x2)` solves this problem and I think it can be used in other context.\r\n\r\nList of the class methods\r\n---\r\nAll the code is included in the methods of the `BestMultiple` class. These methods (excluding the `main`) are:\r\n\r\n- `public int[] removeElem(int[] tensArray, int rm_index)`: used to remove an element from an array\r\n- `public int leastCommonMultiple(int x1, int x2)`: calculates the Least Common Multiple of 2 numbers\r\n- `private int getLeastCommonMultipleNnumber(int[] arr)`: Calculates the least common  multiple of N-1 integer contain in an array\r\n- `public int process(int[] arr)`: calculates the least multiple of exactly N-1 number of an array of N integer; it manages many test strange cases (array empty, elem&lt;=0, etc.)\r\n\r\nMay be the code is not optimized, but I hope it is correct (the output added, shows that it works correctly, at least with the test cases chosen).\r\n```\r\npublic class BestMultiple {\r\n\r\n    /*++++++++++++++++++++++++++++++++++++++++++++\r\n      Method: removeElem() remove an element from\r\n              an array.\r\n     +++++++++++++++++++++++++++++++++++++++++++*/\r\n    public int[] removeElem(int[] tensArray, int rm_index) {\r\n        // Create a proxy array of size one less than original array\r\n        int[] proxyArray = new int[tensArray.length - 1];\r\n        // copy all the elements in the original to proxy array\r\n        // except the one at index\r\n        for (int i = 0, k = 0; i &lt; tensArray.length; i++) {\r\n            // check if index is crossed, continue without copying\r\n            if (i == rm_index) {\r\n                continue;\r\n            }\r\n            // else copy the element\r\n            proxyArray[k++] = tensArray[i];\r\n        }\r\n\r\n        return proxyArray;\r\n    }\r\n\r\n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n      Method: leastCommonMultiple() Calculates the Least Common\r\n              multiple for 2 numbers\r\n     ++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n    public int leastCommonMultiple(int x1, int x2) {\r\n        int lcm = 1;\r\n        int max = x1;\r\n        if ((x1 == 0) || (x2 == 0)) {\r\n            lcm = 0;\r\n        } else {\r\n            if (x2 &gt; x1) {\r\n                max = x2;\r\n            }\r\n            for (int i = 2; i &lt;= max; i++) {\r\n                int exp_x1 = 0;\r\n                int exp_x2 = 0;\r\n                int exp = 0;\r\n                if (x1 &gt; 1) {\r\n                    while ((x1 % i) == 0) {\r\n                        exp_x1++;\r\n                        x1 /= i;\r\n                    }\r\n                }\r\n                if (x2 &gt; 1) {\r\n                    while ((x2 % i) == 0) {\r\n                        exp_x2++;\r\n                        x2 /= i;\r\n                    }\r\n                }\r\n                if ((exp_x1 &gt; 0) || (exp_x2 &gt; 0)) {\r\n                    exp = exp_x1;\r\n                    if (exp_x2 &gt; exp) {\r\n                        exp = exp_x2;\r\n                    }\r\n                    while (exp &gt; 0) {\r\n                        lcm *= i;\r\n                        exp--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return lcm;\r\n    }\r\n    \r\n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n    Method: getLeastCommonMultipleNnumber()\r\n            Calculates the least common  multiple of N-1\r\n            integer contain in an array\r\n   +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n    public int getLeastCommonMultipleNnumber(int[] arr) {\r\n        int multiple = 1;\r\n        if (arr.length &gt;= 2) {\r\n            multiple = leastCommonMultiple(arr[0], arr[1]);\r\n            for (int j = 2; j &lt; arr.length; j++) {\r\n                multiple = leastCommonMultiple(multiple, arr[j]);\r\n            }\r\n        } else {\r\n            // array with only 2 elements\r\n            multiple = arr[0];\r\n        }\r\n        return multiple;\r\n    }\r\n\r\n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n      Method: process()\r\n              Calculates the least multiple of EXACTLY N-1\r\n              number of an array of N integer\r\n     +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n    public int process(int[] arr) {\r\n        int answer;\r\n\r\n        if (arr.length &lt;= 1) {\r\n            // array contains only one element or is empty =&gt; return -1\r\n            answer = -1;\r\n        } else {\r\n            int pos_elem_zero = -1;\r\n            int prod = 1;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &gt; 0) {\r\n                    prod *= arr[i];\r\n                } else {\r\n                    if (arr[i] &lt; 0) {\r\n                        // integer &lt; 0 are not allowed\r\n                        return -1;\r\n                    }\r\n                    if (pos_elem_zero == -1) {\r\n                        pos_elem_zero = i;\r\n                    } else {\r\n                        // there are more element == 0\r\n                        return -1;\r\n                    }\r\n                }\r\n            }\r\n            if (pos_elem_zero &gt;= 0) {\r\n                // there is one element == 0 \r\n                arr = this.removeElem(arr, pos_elem_zero);\r\n            \treturn getLeastCommonMultipleNnumber(arr);\r\n            }\r\n\r\n            // managing of normal test case\r\n            answer = prod;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                int elem = arr[i];\r\n                int[] arr2 = this.removeElem(arr, i);\r\n                int multiple = getLeastCommonMultipleNnumber(arr2);\r\n                if (multiple &gt; elem) {\r\n                    if ((multiple % elem) != 0) {\r\n                        if (multiple &lt; answer) {\r\n                            answer = multiple;\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (multiple &lt; elem) {\r\n                        answer = multiple;\r\n                    }\r\n                }\r\n            }\r\n            if (answer == prod) {\r\n                answer = -1;\r\n            }\r\n        }\r\n        return answer;\r\n    }\r\n\r\n    /*++++++++++++++++++++++++++++++++++++++++++\r\n      Method: main() Executes test of process()\r\n              method\r\n     +++++++++++++++++++++++++++++++++++++++++*/\r\n    public static void main(String[] args) {\r\n        BestMultiple bm = new BestMultiple();\r\n        int[] arr1 = {6,30,5,3};\r\n        int[] arr2 = {1,2,3};\r\n        int[] arr3 = {1,2,3,3};\r\n        int[] arr4 = {6,7,5,3};\r\n        int[] arr5 = {9,14, 21};\r\n        int[] arr6 = {2,4};\r\n        int[] arr7 = {2,3,5};\r\n        int[] arr8 = {2,3,6};\r\n        int[] arr9 = {2};\r\n        int[] arr10 = {};\r\n        int[] arr11 = {2,3,0};\r\n        int[] arr12 = {0,2,3,0};\r\n        int[] arr13 = {20,3};\r\n        int[] arr14 = {0,6,15};\r\n        int[] arr15 = {1,6,15,-1};\r\n        int[] arr16 = {1,6,15};\r\n        int[] arr17 = {2,3,0,6,15};        \r\n\r\n        System.out.println(&quot;{6,30,5,3} --&gt; &quot; + bm.process(arr1));\r\n        System.out.println(&quot;{1,2,3} --&gt; &quot; + bm.process(arr2));\r\n        System.out.println(&quot;{1,2,3,3} --&gt; &quot; + bm.process(arr3));\r\n        System.out.println(&quot;{6,7,5,3} --&gt; &quot; + bm.process(arr4));\r\n        System.out.println(&quot;{9,14,21} --&gt; &quot; + bm.process(arr5));\r\n        System.out.println(&quot;{2,4} --&gt; &quot; + bm.process(arr6));\r\n        System.out.println(&quot;{2,3,5} --&gt; &quot; + bm.process(arr7));\r\n        System.out.println(&quot;{2,3,6} --&gt; &quot; + bm.process(arr8));\r\n        System.out.println(&quot;{2} --&gt; &quot; + bm.process(arr9));\r\n        System.out.println(&quot;{} --&gt; &quot; + bm.process(arr10));\r\n        System.out.println(&quot;{2,3,0} --&gt; &quot; + bm.process(arr11));\r\n        System.out.println(&quot;{0,2,3,0} --&gt; &quot; + bm.process(arr12));\r\n        System.out.println(&quot;{20,3} --&gt; &quot; + bm.process(arr13));\r\n        System.out.println(&quot;{0,6,15} --&gt; &quot; + bm.process(arr14));\r\n        System.out.println(&quot;{1,6,15,-1} --&gt; &quot; + bm.process(arr15));\r\n        System.out.println(&quot;{1,6,15} --&gt; &quot; + bm.process(arr16));\r\n        System.out.println(&quot;{2,3,0,6,15} --&gt; &quot; + bm.process(arr17));\r\n    }\r\n}\r\n```\r\nOutput of the program\r\n---\r\nThe output of the program with the test cases chosen is:\r\n```\r\n{6,30,5,3} --&gt; -1\r\n{1,2,3} --&gt; 2\r\n{1,2,3,3} --&gt; 3\r\n{6,7,5,3} --&gt; 30\r\n{9,14,21} --&gt; 42\r\n{2,4} --&gt; 2\r\n{2,3,5} --&gt; 6\r\n{2,3,6} --&gt; -1\r\n{2} --&gt; -1\r\n{} --&gt; -1\r\n{2,3,0} --&gt; 6\r\n{0,2,3,0} --&gt; -1\r\n{20,3} --&gt; 3\r\n{0,6,15} --&gt; 30\r\n{1,6,15,-1} --&gt; -1\r\n{1,6,15} --&gt; 6\r\n{2,3,0,6,15} --&gt; 30\r\n```","title":"Find the Least Common Multiple (LCM) of exactly N-1 numbers chosen among N numbers","body":"<h2>Calculation of the Least Common Multiple (LCM)</h2>\n<p>A problem inside the task is the calculation of the Least Common Multiple of 2 numbers. The method <code>public int lowerCommonMultiple(int x1, int x2)</code> solves this problem and I think it can be used in other context.</p>\n<h2>List of the class methods</h2>\n<p>All the code is included in the methods of the <code>BestMultiple</code> class. These methods (excluding the <code>main</code>) are:</p>\n<ul>\n<li><code>public int[] removeElem(int[] tensArray, int rm_index)</code>: used to remove an element from an array</li>\n<li><code>public int leastCommonMultiple(int x1, int x2)</code>: calculates the Least Common Multiple of 2 numbers</li>\n<li><code>private int getLeastCommonMultipleNnumber(int[] arr)</code>: Calculates the least common  multiple of N-1 integer contain in an array</li>\n<li><code>public int process(int[] arr)</code>: calculates the least multiple of exactly N-1 number of an array of N integer; it manages many test strange cases (array empty, elem&lt;=0, etc.)</li>\n</ul>\n<p>May be the code is not optimized, but I hope it is correct (the output added, shows that it works correctly, at least with the test cases chosen).</p>\n<pre><code>public class BestMultiple {\n\n    /*++++++++++++++++++++++++++++++++++++++++++++\n      Method: removeElem() remove an element from\n              an array.\n     +++++++++++++++++++++++++++++++++++++++++++*/\n    public int[] removeElem(int[] tensArray, int rm_index) {\n        // Create a proxy array of size one less than original array\n        int[] proxyArray = new int[tensArray.length - 1];\n        // copy all the elements in the original to proxy array\n        // except the one at index\n        for (int i = 0, k = 0; i &lt; tensArray.length; i++) {\n            // check if index is crossed, continue without copying\n            if (i == rm_index) {\n                continue;\n            }\n            // else copy the element\n            proxyArray[k++] = tensArray[i];\n        }\n\n        return proxyArray;\n    }\n\n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n      Method: leastCommonMultiple() Calculates the Least Common\n              multiple for 2 numbers\n     ++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\n    public int leastCommonMultiple(int x1, int x2) {\n        int lcm = 1;\n        int max = x1;\n        if ((x1 == 0) || (x2 == 0)) {\n            lcm = 0;\n        } else {\n            if (x2 &gt; x1) {\n                max = x2;\n            }\n            for (int i = 2; i &lt;= max; i++) {\n                int exp_x1 = 0;\n                int exp_x2 = 0;\n                int exp = 0;\n                if (x1 &gt; 1) {\n                    while ((x1 % i) == 0) {\n                        exp_x1++;\n                        x1 /= i;\n                    }\n                }\n                if (x2 &gt; 1) {\n                    while ((x2 % i) == 0) {\n                        exp_x2++;\n                        x2 /= i;\n                    }\n                }\n                if ((exp_x1 &gt; 0) || (exp_x2 &gt; 0)) {\n                    exp = exp_x1;\n                    if (exp_x2 &gt; exp) {\n                        exp = exp_x2;\n                    }\n                    while (exp &gt; 0) {\n                        lcm *= i;\n                        exp--;\n                    }\n                }\n            }\n        }\n        return lcm;\n    }\n    \n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n    Method: getLeastCommonMultipleNnumber()\n            Calculates the least common  multiple of N-1\n            integer contain in an array\n   +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\n    public int getLeastCommonMultipleNnumber(int[] arr) {\n        int multiple = 1;\n        if (arr.length &gt;= 2) {\n            multiple = leastCommonMultiple(arr[0], arr[1]);\n            for (int j = 2; j &lt; arr.length; j++) {\n                multiple = leastCommonMultiple(multiple, arr[j]);\n            }\n        } else {\n            // array with only 2 elements\n            multiple = arr[0];\n        }\n        return multiple;\n    }\n\n    /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n      Method: process()\n              Calculates the least multiple of EXACTLY N-1\n              number of an array of N integer\n     +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\n    public int process(int[] arr) {\n        int answer;\n\n        if (arr.length &lt;= 1) {\n            // array contains only one element or is empty =&gt; return -1\n            answer = -1;\n        } else {\n            int pos_elem_zero = -1;\n            int prod = 1;\n            for (int i = 0; i &lt; arr.length; i++) {\n                if (arr[i] &gt; 0) {\n                    prod *= arr[i];\n                } else {\n                    if (arr[i] &lt; 0) {\n                        // integer &lt; 0 are not allowed\n                        return -1;\n                    }\n                    if (pos_elem_zero == -1) {\n                        pos_elem_zero = i;\n                    } else {\n                        // there are more element == 0\n                        return -1;\n                    }\n                }\n            }\n            if (pos_elem_zero &gt;= 0) {\n                // there is one element == 0 \n                arr = this.removeElem(arr, pos_elem_zero);\n                return getLeastCommonMultipleNnumber(arr);\n            }\n\n            // managing of normal test case\n            answer = prod;\n            for (int i = 0; i &lt; arr.length; i++) {\n                int elem = arr[i];\n                int[] arr2 = this.removeElem(arr, i);\n                int multiple = getLeastCommonMultipleNnumber(arr2);\n                if (multiple &gt; elem) {\n                    if ((multiple % elem) != 0) {\n                        if (multiple &lt; answer) {\n                            answer = multiple;\n                        }\n                    }\n                } else {\n                    if (multiple &lt; elem) {\n                        answer = multiple;\n                    }\n                }\n            }\n            if (answer == prod) {\n                answer = -1;\n            }\n        }\n        return answer;\n    }\n\n    /*++++++++++++++++++++++++++++++++++++++++++\n      Method: main() Executes test of process()\n              method\n     +++++++++++++++++++++++++++++++++++++++++*/\n    public static void main(String[] args) {\n        BestMultiple bm = new BestMultiple();\n        int[] arr1 = {6,30,5,3};\n        int[] arr2 = {1,2,3};\n        int[] arr3 = {1,2,3,3};\n        int[] arr4 = {6,7,5,3};\n        int[] arr5 = {9,14, 21};\n        int[] arr6 = {2,4};\n        int[] arr7 = {2,3,5};\n        int[] arr8 = {2,3,6};\n        int[] arr9 = {2};\n        int[] arr10 = {};\n        int[] arr11 = {2,3,0};\n        int[] arr12 = {0,2,3,0};\n        int[] arr13 = {20,3};\n        int[] arr14 = {0,6,15};\n        int[] arr15 = {1,6,15,-1};\n        int[] arr16 = {1,6,15};\n        int[] arr17 = {2,3,0,6,15};        \n\n        System.out.println(&quot;{6,30,5,3} --&gt; &quot; + bm.process(arr1));\n        System.out.println(&quot;{1,2,3} --&gt; &quot; + bm.process(arr2));\n        System.out.println(&quot;{1,2,3,3} --&gt; &quot; + bm.process(arr3));\n        System.out.println(&quot;{6,7,5,3} --&gt; &quot; + bm.process(arr4));\n        System.out.println(&quot;{9,14,21} --&gt; &quot; + bm.process(arr5));\n        System.out.println(&quot;{2,4} --&gt; &quot; + bm.process(arr6));\n        System.out.println(&quot;{2,3,5} --&gt; &quot; + bm.process(arr7));\n        System.out.println(&quot;{2,3,6} --&gt; &quot; + bm.process(arr8));\n        System.out.println(&quot;{2} --&gt; &quot; + bm.process(arr9));\n        System.out.println(&quot;{} --&gt; &quot; + bm.process(arr10));\n        System.out.println(&quot;{2,3,0} --&gt; &quot; + bm.process(arr11));\n        System.out.println(&quot;{0,2,3,0} --&gt; &quot; + bm.process(arr12));\n        System.out.println(&quot;{20,3} --&gt; &quot; + bm.process(arr13));\n        System.out.println(&quot;{0,6,15} --&gt; &quot; + bm.process(arr14));\n        System.out.println(&quot;{1,6,15,-1} --&gt; &quot; + bm.process(arr15));\n        System.out.println(&quot;{1,6,15} --&gt; &quot; + bm.process(arr16));\n        System.out.println(&quot;{2,3,0,6,15} --&gt; &quot; + bm.process(arr17));\n    }\n}\n</code></pre>\n<h2>Output of the program</h2>\n<p>The output of the program with the test cases chosen is:</p>\n<pre><code>{6,30,5,3} --&gt; -1\n{1,2,3} --&gt; 2\n{1,2,3,3} --&gt; 3\n{6,7,5,3} --&gt; 30\n{9,14,21} --&gt; 42\n{2,4} --&gt; 2\n{2,3,5} --&gt; 6\n{2,3,6} --&gt; -1\n{2} --&gt; -1\n{} --&gt; -1\n{2,3,0} --&gt; 6\n{0,2,3,0} --&gt; -1\n{20,3} --&gt; 3\n{0,6,15} --&gt; 30\n{1,6,15,-1} --&gt; -1\n{1,6,15} --&gt; 6\n{2,3,0,6,15} --&gt; 30\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668032930,"creation_date":1668032930,"answer_id":74382113,"question_id":74381540,"body_markdown":"The way you implemented `process()` assumes the input array is sorted. But anyway, I don&#39;t think sorting will help here. Note that the number satisfying the given conditions can be divided by the biggest number. For `[2, 3, 5, 6]` it is `6`. Dividing the product of all the elements by consecutive elements from the biggest to the lowest and stopping at the first that is not a divisor is also not correct. In the example `[2, 4, 5, 6]` this would give `2 * 4 * 5 = 40` when the correct answer is `20`.\r\n\r\nMy idea is to use an algorithm inspired by [Sieve of Eratosthenes](https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes). Note that the number that satisfies the conditions can&#39;t be bigger than the product of all the elements. So create a table `divisors[]` with indices from 0 through the product of the elements of `array` where `divisors[i]` indicates how many elements from `array` divide `i`. Iterate over elements of `array` and increment all elements in `divisors[i]` where `i` is divided by the element. Then find the first `i` for which `divisors[i] == n - 1`.\r\n\r\nThe limitation is that `divisors` can be quite big depending on what is the product of `array`, so applicability will be limited to relatively small values in `array`.","title":"Find the Least Common Multiple (LCM) of exactly N-1 numbers chosen among N numbers","body":"<p>The way you implemented <code>process()</code> assumes the input array is sorted. But anyway, I don't think sorting will help here. Note that the number satisfying the given conditions can be divided by the biggest number. For <code>[2, 3, 5, 6]</code> it is <code>6</code>. Dividing the product of all the elements by consecutive elements from the biggest to the lowest and stopping at the first that is not a divisor is also not correct. In the example <code>[2, 4, 5, 6]</code> this would give <code>2 * 4 * 5 = 40</code> when the correct answer is <code>20</code>.</p>\n<p>My idea is to use an algorithm inspired by <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a>. Note that the number that satisfies the conditions can't be bigger than the product of all the elements. So create a table <code>divisors[]</code> with indices from 0 through the product of the elements of <code>array</code> where <code>divisors[i]</code> indicates how many elements from <code>array</code> divide <code>i</code>. Iterate over elements of <code>array</code> and increment all elements in <code>divisors[i]</code> where <code>i</code> is divided by the element. Then find the first <code>i</code> for which <code>divisors[i] == n - 1</code>.</p>\n<p>The limitation is that <code>divisors</code> can be quite big depending on what is the product of <code>array</code>, so applicability will be limited to relatively small values in <code>array</code>.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668069764,"creation_date":1668069440,"answer_id":74386154,"question_id":74381540,"body_markdown":"You start by writing a method `process` that computes the minimum number for each subarray with one element excluded:\r\n\r\n    public static int process(int... arr) {\r\n        int min = -1;\r\n        for (int i = 0; i &lt; arr.length; ++i) {\r\n            int r = process(arr, i);\r\n            if (r != -1) {\r\n                if (min == -1) {\r\n                    min = r;\r\n                } else {\r\n                    min = Math.min(min, r);\r\n                }\r\n            }\r\n        }\r\n        return min;\r\n    }\r\n\r\nWhere the second `process` method looks like this:\r\n\r\n    private static int process(int[] arr, int exclude) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; arr.length; ++i) {\r\n            if (i != exclude) {\r\n                if (result == 0) {\r\n                    result = arr[i];\r\n                } else {\r\n                    result = lcm(result, arr[i]);\r\n                }\r\n            }\r\n        }\r\n        if (result%arr[exclude] == 0) {\r\n            return -1;\r\n        }\r\n        return result;\r\n    }\r\n\r\nYou need a method that computes the LCM of two numbers. Here, I&#39;ll use a second method that computes the GCD:\r\n\r\n\r\n    private static int lcm(int a, int b) {\r\n        return a*b/gcd(a,b);\r\n    }\r\n\r\n\r\n    private static int gcd(int a, int b) {\r\n        if (a == 0) {\r\n            return b;\r\n        } else if (b == 0) {\r\n            return a;\r\n        } else {\r\n            while (a != b) {\r\n                if (a &gt; b) {\r\n                    a -= b;\r\n                } else {\r\n                    b -= a;\r\n                }\r\n            }\r\n            return a;\r\n        }\r\n    }\r\n\r\nExamples:\r\n\r\n        System.out.println(process(2, 3, 5)); // prints 6\r\n        System.out.println(process(2, 3, 6)); // prints -1\r\n        System.out.println(process(9, 14, 21)); // prints 42 (divisible by 14 and 21, but not by 9\r\n        System.out.println(process(6, 7, 5, 3)); // prints 30 (divisible by 6, 5, 3, but not by 7\r\n\r\n\r\n","title":"Find the Least Common Multiple (LCM) of exactly N-1 numbers chosen among N numbers","body":"<p>You start by writing a method <code>process</code> that computes the minimum number for each subarray with one element excluded:</p>\n<pre><code>public static int process(int... arr) {\n    int min = -1;\n    for (int i = 0; i &lt; arr.length; ++i) {\n        int r = process(arr, i);\n        if (r != -1) {\n            if (min == -1) {\n                min = r;\n            } else {\n                min = Math.min(min, r);\n            }\n        }\n    }\n    return min;\n}\n</code></pre>\n<p>Where the second <code>process</code> method looks like this:</p>\n<pre><code>private static int process(int[] arr, int exclude) {\n    int result = 0;\n    for (int i = 0; i &lt; arr.length; ++i) {\n        if (i != exclude) {\n            if (result == 0) {\n                result = arr[i];\n            } else {\n                result = lcm(result, arr[i]);\n            }\n        }\n    }\n    if (result%arr[exclude] == 0) {\n        return -1;\n    }\n    return result;\n}\n</code></pre>\n<p>You need a method that computes the LCM of two numbers. Here, I'll use a second method that computes the GCD:</p>\n<pre><code>private static int lcm(int a, int b) {\n    return a*b/gcd(a,b);\n}\n\n\nprivate static int gcd(int a, int b) {\n    if (a == 0) {\n        return b;\n    } else if (b == 0) {\n        return a;\n    } else {\n        while (a != b) {\n            if (a &gt; b) {\n                a -= b;\n            } else {\n                b -= a;\n            }\n        }\n        return a;\n    }\n}\n</code></pre>\n<p>Examples:</p>\n<pre><code>    System.out.println(process(2, 3, 5)); // prints 6\n    System.out.println(process(2, 3, 6)); // prints -1\n    System.out.println(process(9, 14, 21)); // prints 42 (divisible by 14 and 21, but not by 9\n    System.out.println(process(6, 7, 5, 3)); // prints 30 (divisible by 6, 5, 3, but not by 7\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":74386154,"answer_count":3,"score":-3,"last_activity_date":1668359230,"creation_date":1668028978,"question_id":74381540,"body_markdown":"Find the smallest number M, which is divided by exactly n-1 numbers from the input array. If there is no such M then return -1.\r\n\r\n**Example:**\r\n\r\n    array = [2,3,5]\r\n\r\n**Answer :** \r\n\r\n    6\r\n\r\n**Explanation :** \r\n\r\n    6 can be divided by 2 and 3\r\n\r\n**Example:**\r\n\r\n    array = [2,3,6]\r\n\r\n**Answer:**\r\n\r\n     -1\r\n\r\n**Explanation :** \r\n\r\n    It&#39;s not possible in this case so return -1.\r\n\r\n\r\nMy code:\r\n\r\nAs we need to find the smallest `M`, I am selecting only the elements from 0 to n-2\r\n\r\n\r\n    public int process(int[] arr) {\r\n    \tint answer = 1;\r\n    \tfor(int i=0; i&lt;arr.length-1; i++) {\r\n    \t\tanswer *= arr[i];\r\n    \t}\r\n    \treturn answer;\r\n    }\r\n\r\nThis program works for these 2 sample test cases but it was failing for multiple hidden test cases. I trying to understand what I am missing here.","title":"Find the Least Common Multiple (LCM) of exactly N-1 numbers chosen among N numbers","body":"<p>Find the smallest number M, which is divided by exactly n-1 numbers from the input array. If there is no such M then return -1.</p>\n<p><strong>Example:</strong></p>\n<pre><code>array = [2,3,5]\n</code></pre>\n<p><strong>Answer :</strong></p>\n<pre><code>6\n</code></pre>\n<p><strong>Explanation :</strong></p>\n<pre><code>6 can be divided by 2 and 3\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>array = [2,3,6]\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code> -1\n</code></pre>\n<p><strong>Explanation :</strong></p>\n<pre><code>It's not possible in this case so return -1.\n</code></pre>\n<p>My code:</p>\n<p>As we need to find the smallest <code>M</code>, I am selecting only the elements from 0 to n-2</p>\n<pre><code>public int process(int[] arr) {\n    int answer = 1;\n    for(int i=0; i&lt;arr.length-1; i++) {\n        answer *= arr[i];\n    }\n    return answer;\n}\n</code></pre>\n<p>This program works for these 2 sample test cases but it was failing for multiple hidden test cases. I trying to understand what I am missing here.</p>\n"},{"tags":["java","unit-testing","javafx-8"],"comments":[{"owner":{"account_id":4126617,"reputation":4151,"user_id":3385595,"accept_rate":83,"display_name":"purring pigeon"},"score":0,"creation_date":1500067518,"post_id":45109876,"comment_id":77195404,"body_markdown":"They need to run on the FX Thread - have you looked at TestFX?","body":"They need to run on the FX Thread - have you looked at TestFX?"},{"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"score":0,"creation_date":1500070317,"post_id":45109876,"comment_id":77196209,"body_markdown":"@purringpigeon Not yet, never heard about it - but now I will, thanks for the hint!","body":"@purringpigeon Not yet, never heard about it - but now I will, thanks for the hint!"},{"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"score":0,"creation_date":1500115594,"post_id":45109876,"comment_id":77205741,"body_markdown":"@purringpigeon Does TestFX integrate with JUnit?","body":"@purringpigeon Does TestFX integrate with JUnit?"},{"owner":{"account_id":4126617,"reputation":4151,"user_id":3385595,"accept_rate":83,"display_name":"purring pigeon"},"score":0,"creation_date":1500132547,"post_id":45109876,"comment_id":77210485,"body_markdown":"I think so but I don&#39;t use it. It was pretty cumbersome to use. We settled on QFTest which is a click  through ui to record scripts. Its easy fast and reliable.","body":"I think so but I don&#39;t use it. It was pretty cumbersome to use. We settled on QFTest which is a click  through ui to record scripts. Its easy fast and reliable."}],"answers":[{"tags":[],"owner":{"account_id":10436276,"reputation":664,"user_id":7694476,"display_name":"G. Fiedler"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1500312900,"creation_date":1500312900,"answer_id":45150356,"question_id":45109876,"body_markdown":"Add the following dependency to your project\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.saxsys&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jfx-testrunner&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand the following annotation to your test classes\r\n\r\n    @RunWith(JfxRunner.class)","title":"&#39;Toolkit not initialized&#39; exception when unit-testing an JavaFX application","body":"<p>Add the following dependency to your project</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;de.saxsys&lt;/groupId&gt;\n  &lt;artifactId&gt;jfx-testrunner&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and the following annotation to your test classes</p>\n\n<pre><code>@RunWith(JfxRunner.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2856033,"reputation":1154,"user_id":2452287,"accept_rate":50,"display_name":"Marlord"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1507995956,"creation_date":1507995956,"answer_id":46746366,"question_id":45109876,"body_markdown":"Just declare and initialize a [JFX Panel][1]. Like:\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        JFXPanel fxPanel = new JFXPanel();\r\n        [.. Begin tests ..]\r\n    }\r\n\r\nIt is the easy way...\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/embed/swing/JFXPanel.html","title":"&#39;Toolkit not initialized&#39; exception when unit-testing an JavaFX application","body":"<p>Just declare and initialize a <a href=\"http://docs.oracle.com/javafx/2/api/javafx/embed/swing/JFXPanel.html\" rel=\"noreferrer\">JFX Panel</a>. Like:</p>\n\n<pre><code>@Test\npublic void test() throws Exception {\n    JFXPanel fxPanel = new JFXPanel();\n    [.. Begin tests ..]\n}\n</code></pre>\n\n<p>It is the easy way...</p>\n"},{"tags":[],"owner":{"account_id":10850827,"reputation":145,"user_id":7978931,"display_name":"Vadim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668359171,"creation_date":1657300823,"answer_id":72914879,"question_id":45109876,"body_markdown":"Similar to @multiplayer1080 answer but more elegant...\r\n```java\r\nimport javafx.application.Platform\r\n\r\n@BeforeAll\r\nstatic void initJfxRuntime() {\r\n    Platform.startup(() -&gt; {});\r\n}\r\n```\r\n\r\n\r\nYou can go further and declare an abstract class with this method like that:\r\n```java \r\nabstract class FXTest {\r\n    @BeforeAll\r\n    static void initJfxRuntime() {\r\n        Platform.startup(() -&gt; {});\r\n    }\r\n}\r\n```\r\nand then inherit it when you test JavaFX runtime required stuff:\r\n```java\r\nclass SomeGuiTest extends FXTest {\r\n    // ...\r\n}\r\n```","title":"&#39;Toolkit not initialized&#39; exception when unit-testing an JavaFX application","body":"<p>Similar to @multiplayer1080 answer but more elegant...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Platform\n\n@BeforeAll\nstatic void initJfxRuntime() {\n    Platform.startup(() -&gt; {});\n}\n</code></pre>\n<p>You can go further and declare an abstract class with this method like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class FXTest {\n    @BeforeAll\n    static void initJfxRuntime() {\n        Platform.startup(() -&gt; {});\n    }\n}\n</code></pre>\n<p>and then inherit it when you test JavaFX runtime required stuff:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeGuiTest extends FXTest {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5608,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45150356,"answer_count":3,"score":10,"last_activity_date":1668359171,"creation_date":1500058312,"question_id":45109876,"body_markdown":"When I try to perform unit tests on components which contain JavaFX controls I get a `java.lang.IllegalStateException: Toolkit not initialized`.\r\n\r\nHow can components be unit tested which operate with JavaFX controls?","title":"&#39;Toolkit not initialized&#39; exception when unit-testing an JavaFX application","body":"<p>When I try to perform unit tests on components which contain JavaFX controls I get a <code>java.lang.IllegalStateException: Toolkit not initialized</code>.</p>\n\n<p>How can components be unit tested which operate with JavaFX controls?</p>\n"},{"tags":["java","android","okhttp"],"answers":[{"tags":[],"owner":{"account_id":2348398,"reputation":9167,"user_id":2057955,"accept_rate":71,"display_name":"zaitsman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667878271,"creation_date":1667877452,"answer_id":74355338,"question_id":74355302,"body_markdown":"Change \r\n\r\n```\r\nsetBannerMoviesPagerAdapter(bannerMoviesList);\r\n```\r\n\r\nTo\r\n\r\n```\r\nnew android.os.Handler(android.os.Looper.getMainLooper()).post({\r\n   setBannerMoviesPagerAdapter(bannerMoviesList);\r\n});\r\n```\r\n\r\nEssentially you are trying to modify the UI (set adapter) from the background thread (that thread is owned by OKHttp).\r\nYou need to dispatch back to main thread.\r\n\r\nThe method I showed is universal and will work from anywhere.\r\n\r\nAlternatively if you can find your activity you can do\r\n\r\n```\r\ngetActivity().runOnUiThread({\r\n    setBannerMoviesPagerAdapter(bannerMoviesList);\r\n});\r\n```","title":"OkHttp Fatal Exception when running on Android device","body":"<p>Change</p>\n<pre><code>setBannerMoviesPagerAdapter(bannerMoviesList);\n</code></pre>\n<p>To</p>\n<pre><code>new android.os.Handler(android.os.Looper.getMainLooper()).post({\n   setBannerMoviesPagerAdapter(bannerMoviesList);\n});\n</code></pre>\n<p>Essentially you are trying to modify the UI (set adapter) from the background thread (that thread is owned by OKHttp).\nYou need to dispatch back to main thread.</p>\n<p>The method I showed is universal and will work from anywhere.</p>\n<p>Alternatively if you can find your activity you can do</p>\n<pre><code>getActivity().runOnUiThread({\n    setBannerMoviesPagerAdapter(bannerMoviesList);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23723189,"reputation":23,"user_id":20200526,"display_name":"Ian Nemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668359021,"creation_date":1667878935,"answer_id":74355459,"question_id":74355302,"body_markdown":"As @zaitsman pointed out, the problem was being on the background thread while trying to modify the UI.\r\n\r\nI solved it by changing: \r\n```\r\nsetBannerMoviesPagerAdapter(bannerMoviesList);\r\n```\r\nto the following:\r\n```\r\nHandler handler = new Handler(Looper.getMainLooper());\r\nhandler.post(new Runnable() {\r\n  @Override\r\n  public void run() {\r\n    setBannerMoviesPagerAdapter(bannerMoviesList);\r\n  }\r\n});\r\n```","title":"OkHttp Fatal Exception when running on Android device","body":"<p>As @zaitsman pointed out, the problem was being on the background thread while trying to modify the UI.</p>\n<p>I solved it by changing:</p>\n<pre><code>setBannerMoviesPagerAdapter(bannerMoviesList);\n</code></pre>\n<p>to the following:</p>\n<pre><code>Handler handler = new Handler(Looper.getMainLooper());\nhandler.post(new Runnable() {\n  @Override\n  public void run() {\n    setBannerMoviesPagerAdapter(bannerMoviesList);\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":23723189,"reputation":23,"user_id":20200526,"display_name":"Ian Nemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74355338,"answer_count":2,"score":0,"last_activity_date":1668359021,"creation_date":1667877118,"question_id":74355302,"body_markdown":"I am trying to build an app to replicate a video streamer.\r\nI have encountered an issue that can&#39;t seem to solve.\r\n\r\nThe app is working fine when run in an emulator (tried a few emulated devices) but it is crashing 99% of the time in my Samsung android tablet running android 12L.\r\n\r\nI have noticed that the app works 100% of the time, when commenting out the \r\n```\r\nbannerMoviesViewPager.setAdapter(bannerMoviesPagerAdapter);\r\n```\r\n\r\nI was hoping someone has some insight of why this could happen, and also, why does it not crash when running in an emulator.\r\nHere are segments of code that I think might be important to share, but please let me know if more is needed (i am quite new at stack overflow)\r\n\r\n\r\n\r\n```\r\nprivate void setBannerMoviesPagerAdapter(List&lt;BannerMovies&gt; bannerMoviesList){\r\n    bannerMoviesViewPager = (ViewPager) findViewById(R.id.banner_viewPager);\r\n    bannerMoviesPagerAdapter = new BannerMoviesPagerAdapter(this, bannerMoviesList);\r\n    bannerMoviesViewPager.setAdapter(bannerMoviesPagerAdapter); // COMMENT THIS LINE AND IT WORKS\r\n\r\n    //tabLayout.setupWithViewPager(bannerMoviesViewPager);\r\n\r\n    Timer sliderTimer = new Timer();\r\n    sliderTimer.scheduleAtFixedRate(new AutoSlider(), 4000, 6000);\r\n    tabLayout.setupWithViewPager(bannerMoviesViewPager, true);\r\n}\r\n```\r\n\r\n\r\n```\r\npublic void fetch_json_banner_list(){\r\n    System.out.println(&quot;Attempting to fetch JSON&quot;);\r\n    final String url = &quot;http://*serverIP*:80/api/movie&quot;;\r\n    Request request = new Request.Builder().url(url).build();\r\n    OkHttpClient client = new OkHttpClient();\r\n\r\n    client.newCall(request).enqueue(new Callback() {\r\n        @Override\r\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n            System.out.println(&quot;Failed to execute request&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n            bannerMoviesList = new ArrayList&lt;&gt;();\r\n            String body = response.body().string();\r\n            Gson gson = new GsonBuilder().create();\r\n\r\n            Type allFilmsType = new TypeToken&lt;ArrayList&lt;Film&gt;&gt;(){}.getType();\r\n            List&lt;Film&gt; allFilms = gson.fromJson(body, allFilmsType);\r\n\r\n            for(Film film : allFilms){\r\n                System.out.println(film.getArtwork());\r\n                System.out.println(film.getArtwork().equals(&quot;https://media.movieassets.com/static/images/items/movies/posters/216767680a8a72fff4a12c484c6ac589.jpg&quot;));\r\n                bannerMoviesList.add(new BannerMovies(film.getMovieId(), film.getTitle(), film.getSynopsis(), film.getArtwork().trim(), &quot;https://ia800306.us.archive.org/35/items/PopeyeAliBaba/PopeyeAliBaba_512kb.mp4&quot;));\r\n            }\r\n            setBannerMoviesPagerAdapter(bannerMoviesList);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class BannerMoviesPagerAdapter extends PagerAdapter {\r\n\r\n    Context context;\r\n    List&lt;BannerMovies&gt; bannerMoviesList;\r\n\r\n    public BannerMoviesPagerAdapter(Context context, List&lt;BannerMovies&gt; bannerMoviesList) {\r\n        this.context = context;\r\n        this.bannerMoviesList = bannerMoviesList;\r\n        System.out.println(&quot;GETS HERE....&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return bannerMoviesList.size();\r\n    }\r\n```\r\n\r\n\r\n\r\nAlso, here is the last part of the logcat for the process..\r\n\r\n[enter image description here][1]\r\n\r\n\r\nI would very much appreciate any help\r\nThanks\r\n\r\n\r\nI double checked if I was reading / using the response body more than once.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qUo38.png","title":"OkHttp Fatal Exception when running on Android device","body":"<p>I am trying to build an app to replicate a video streamer.\nI have encountered an issue that can't seem to solve.</p>\n<p>The app is working fine when run in an emulator (tried a few emulated devices) but it is crashing 99% of the time in my Samsung android tablet running android 12L.</p>\n<p>I have noticed that the app works 100% of the time, when commenting out the</p>\n<pre><code>bannerMoviesViewPager.setAdapter(bannerMoviesPagerAdapter);\n</code></pre>\n<p>I was hoping someone has some insight of why this could happen, and also, why does it not crash when running in an emulator.\nHere are segments of code that I think might be important to share, but please let me know if more is needed (i am quite new at stack overflow)</p>\n<pre><code>private void setBannerMoviesPagerAdapter(List&lt;BannerMovies&gt; bannerMoviesList){\n    bannerMoviesViewPager = (ViewPager) findViewById(R.id.banner_viewPager);\n    bannerMoviesPagerAdapter = new BannerMoviesPagerAdapter(this, bannerMoviesList);\n    bannerMoviesViewPager.setAdapter(bannerMoviesPagerAdapter); // COMMENT THIS LINE AND IT WORKS\n\n    //tabLayout.setupWithViewPager(bannerMoviesViewPager);\n\n    Timer sliderTimer = new Timer();\n    sliderTimer.scheduleAtFixedRate(new AutoSlider(), 4000, 6000);\n    tabLayout.setupWithViewPager(bannerMoviesViewPager, true);\n}\n</code></pre>\n<pre><code>public void fetch_json_banner_list(){\n    System.out.println(&quot;Attempting to fetch JSON&quot;);\n    final String url = &quot;http://*serverIP*:80/api/movie&quot;;\n    Request request = new Request.Builder().url(url).build();\n    OkHttpClient client = new OkHttpClient();\n\n    client.newCall(request).enqueue(new Callback() {\n        @Override\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\n            System.out.println(&quot;Failed to execute request&quot;);\n        }\n\n        @Override\n        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n            bannerMoviesList = new ArrayList&lt;&gt;();\n            String body = response.body().string();\n            Gson gson = new GsonBuilder().create();\n\n            Type allFilmsType = new TypeToken&lt;ArrayList&lt;Film&gt;&gt;(){}.getType();\n            List&lt;Film&gt; allFilms = gson.fromJson(body, allFilmsType);\n\n            for(Film film : allFilms){\n                System.out.println(film.getArtwork());\n                System.out.println(film.getArtwork().equals(&quot;https://media.movieassets.com/static/images/items/movies/posters/216767680a8a72fff4a12c484c6ac589.jpg&quot;));\n                bannerMoviesList.add(new BannerMovies(film.getMovieId(), film.getTitle(), film.getSynopsis(), film.getArtwork().trim(), &quot;https://ia800306.us.archive.org/35/items/PopeyeAliBaba/PopeyeAliBaba_512kb.mp4&quot;));\n            }\n            setBannerMoviesPagerAdapter(bannerMoviesList);\n        }\n    });\n}\n</code></pre>\n<pre><code>public class BannerMoviesPagerAdapter extends PagerAdapter {\n\n    Context context;\n    List&lt;BannerMovies&gt; bannerMoviesList;\n\n    public BannerMoviesPagerAdapter(Context context, List&lt;BannerMovies&gt; bannerMoviesList) {\n        this.context = context;\n        this.bannerMoviesList = bannerMoviesList;\n        System.out.println(&quot;GETS HERE....&quot;);\n    }\n\n    @Override\n    public int getCount() {\n        return bannerMoviesList.size();\n    }\n</code></pre>\n<p>Also, here is the last part of the logcat for the process..</p>\n<p><a href=\"https://i.stack.imgur.com/qUo38.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would very much appreciate any help\nThanks</p>\n<p>I double checked if I was reading / using the response body more than once.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1667848535,"post_id":74351608,"comment_id":131261298,"body_markdown":"What do you mean by the ***range of pages** which are covered by signature*? An interoperable digital PDF signature always covers _all_ the pages of the signed revision. In later revisions there may only be extra pages if they are created from page templates already in the originally signed revision.","body":"What do you mean by the <b><i>range of pages</b> which are covered by signature</i>? An interoperable digital PDF signature always covers <i>all</i> the pages of the signed revision. In later revisions there may only be extra pages if they are created from page templates already in the originally signed revision."},{"owner":{"account_id":25388385,"reputation":75,"user_id":19199839,"display_name":"Axel Herrmann"},"score":0,"creation_date":1667989471,"post_id":74351608,"comment_id":131297421,"body_markdown":"@mkl I&#39;ve got ne clue about the underlying technical details so my thought was that the `byteRange` specifies which bytes are signed by the signature. Is that wrong?  \nAlso, in the [Adobe Documentation](https://www.adobe.com/devnet-docs/etk_deprecated/tools/DigSig/Acrobat_DigitalSignatures_in_PDF.pdf) under **6.3.7 Incremental updates** I&#39;ve seen that the image shows different signatures applying to different byte ranges and not the whole document.","body":"@mkl I&#39;ve got ne clue about the underlying technical details so my thought was that the <code>byteRange</code> specifies which bytes are signed by the signature. Is that wrong?   Also, in the <a href=\"https://www.adobe.com/devnet-docs/etk_deprecated/tools/DigSig/Acrobat_DigitalSignatures_in_PDF.pdf\" rel=\"nofollow noreferrer\">Adobe Documentation</a> under <b>6.3.7 Incremental updates</b> I&#39;ve seen that the image shows different signatures applying to different byte ranges and not the whole document."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1667990574,"post_id":74351608,"comment_id":131297807,"body_markdown":"In theory (according to spec) an old style digital signature may cover an arbitrary byte range. In reality, though, validators only accept signatures covering the whole signed revision (minus the placeholder for the signature container). Later revisions may add incremental updates, but these updates may not add new pages (except spawned page templates).","body":"In theory (according to spec) an old style digital signature may cover an arbitrary byte range. In reality, though, validators only accept signatures covering the whole signed revision (minus the placeholder for the signature container). Later revisions may add incremental updates, but these updates may not add new pages (except spawned page templates)."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668358894,"creation_date":1668358894,"answer_id":74422982,"question_id":74351608,"body_markdown":"*To sum up the comments...*\r\n\r\n&gt;But I&#39;m not sure if/how it&#39;s possible to determine the page range of a signature.\r\n\r\nFirst of all you only talk about signatures. Evidently you are talking about digital signatures in PDFs. Furthermore, I assume you talk about the interoperable kind, i.e. those following the explicit signature schemes defined in the PDF specification, ISO 32000-2.\r\n\r\nSo indeed, the bytes ranges given by the signature dictionary **ByteRange** entry describe the sections of the PDF signed by the signature. It is specified as an *array of pairs of integers (starting byte offset, length in\r\nbytes) that shall describe the exact byte range for the digest calculation.\r\nMultiple discontiguous byte ranges shall be used to describe a digest that does\r\nnot include the signature value (the **Contents** entry) itself.*\r\n\r\nThis specification appears to allow quite arbitrary byte ranges which might only include some pages or even only some parts of some pages.\r\n\r\nActually, though, the specification continues and says *If **SubFilter** is ETSI.CAdES.detached or ETSI.RFC3161, the **ByteRange** shall\r\ncover the entire PDF file, including the signature dictionary but excluding the\r\n**Contents** value.*\r\n\r\nThus, in case of real PAdES signatures and document time stamps, the byte range must be the whole signed revision except the signature container placeholder.\r\n\r\nThe specification also says in general that *This range should be the entire PDF file,\r\nincluding the signature dictionary but excluding the signature value itself (the **Contents** entry).* While this is only a recommendation (&quot;should&quot;), the omnipresent validator Adobe Acrobat even for non-PAdES signatures requires this.\r\n\r\nThus, a valid signature always covers the whole revision - all pages - of the PDF in which this signature has been added, in case of PAdES signatures by specification, otherwise by decision of the predominant validator.\r\n\r\n---\r\n\r\nOf course it is possible to change a signed PDF without cryptographically breaking the signature by appending changes in incremental updates.\r\n\r\nBut while in theory such changes could arbitrarily change the document contents, the initial signature of a PDF as an author signature can restrict the type of changes allowed in such incremental updates. If you take a look at the details, you&#39;ll see that adding arbitrary pages or removing them can never be allowed by these author signatures.\r\n\r\nAnd even if the first signature is not such an author signature but a mere standard approval signature, the predominant validator, Adobe Acrobat, assumes permissions similar to the most lax author signature type, also not allowing arbitrary page additions or removals. For details see [this answer][1].\r\n\r\nThus again, in a PDF with a valid signature all pages are signed, either by spec (in case of the presence of an author signature) or by decision of the predominant validator.\r\n\r\n---\r\n\r\nActually there is one way to be allowed to add pages to a document: PDFs may contain so-called page templates, pages that are not shown; such templates can become visible by spawning the template. If the template was already part of the originally signed file, spawning it is allowed in an already signed PDF as long as the author signature allows form fill-ins.\r\n\r\nAs those templates are in the originally signed PDF revision, these template pages can already be considered signed. Thus, even with spawned templates, in a way all visible pages in a document are signed.\r\n\r\nBut in a more strict interpretation, only considering &quot;visible&quot; pages, there may be more pages in a signed PDF with later incremental updates than in the originally signed revision. But this information cannot be gathered from the original byte range information, you have to analyze the additions in the incremental updates and check whether there are any additional visible pages that were not visible before signing.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"PDFBox Signatures: Get range of pages which are covered by signature","body":"<p><em>To sum up the comments...</em></p>\n<blockquote>\n<p>But I'm not sure if/how it's possible to determine the page range of a signature.</p>\n</blockquote>\n<p>First of all you only talk about signatures. Evidently you are talking about digital signatures in PDFs. Furthermore, I assume you talk about the interoperable kind, i.e. those following the explicit signature schemes defined in the PDF specification, ISO 32000-2.</p>\n<p>So indeed, the bytes ranges given by the signature dictionary <strong>ByteRange</strong> entry describe the sections of the PDF signed by the signature. It is specified as an <em>array of pairs of integers (starting byte offset, length in\nbytes) that shall describe the exact byte range for the digest calculation.\nMultiple discontiguous byte ranges shall be used to describe a digest that does\nnot include the signature value (the <strong>Contents</strong> entry) itself.</em></p>\n<p>This specification appears to allow quite arbitrary byte ranges which might only include some pages or even only some parts of some pages.</p>\n<p>Actually, though, the specification continues and says <em>If <strong>SubFilter</strong> is ETSI.CAdES.detached or ETSI.RFC3161, the <strong>ByteRange</strong> shall\ncover the entire PDF file, including the signature dictionary but excluding the\n<strong>Contents</strong> value.</em></p>\n<p>Thus, in case of real PAdES signatures and document time stamps, the byte range must be the whole signed revision except the signature container placeholder.</p>\n<p>The specification also says in general that <em>This range should be the entire PDF file,\nincluding the signature dictionary but excluding the signature value itself (the <strong>Contents</strong> entry).</em> While this is only a recommendation (&quot;should&quot;), the omnipresent validator Adobe Acrobat even for non-PAdES signatures requires this.</p>\n<p>Thus, a valid signature always covers the whole revision - all pages - of the PDF in which this signature has been added, in case of PAdES signatures by specification, otherwise by decision of the predominant validator.</p>\n<hr />\n<p>Of course it is possible to change a signed PDF without cryptographically breaking the signature by appending changes in incremental updates.</p>\n<p>But while in theory such changes could arbitrarily change the document contents, the initial signature of a PDF as an author signature can restrict the type of changes allowed in such incremental updates. If you take a look at the details, you'll see that adding arbitrary pages or removing them can never be allowed by these author signatures.</p>\n<p>And even if the first signature is not such an author signature but a mere standard approval signature, the predominant validator, Adobe Acrobat, assumes permissions similar to the most lax author signature type, also not allowing arbitrary page additions or removals. For details see <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a>.</p>\n<p>Thus again, in a PDF with a valid signature all pages are signed, either by spec (in case of the presence of an author signature) or by decision of the predominant validator.</p>\n<hr />\n<p>Actually there is one way to be allowed to add pages to a document: PDFs may contain so-called page templates, pages that are not shown; such templates can become visible by spawning the template. If the template was already part of the originally signed file, spawning it is allowed in an already signed PDF as long as the author signature allows form fill-ins.</p>\n<p>As those templates are in the originally signed PDF revision, these template pages can already be considered signed. Thus, even with spawned templates, in a way all visible pages in a document are signed.</p>\n<p>But in a more strict interpretation, only considering &quot;visible&quot; pages, there may be more pages in a signed PDF with later incremental updates than in the originally signed revision. But this information cannot be gathered from the original byte range information, you have to analyze the additions in the incremental updates and check whether there are any additional visible pages that were not visible before signing.</p>\n"}],"owner":{"account_id":25388385,"reputation":75,"user_id":19199839,"display_name":"Axel Herrmann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74422982,"answer_count":1,"score":0,"last_activity_date":1668358894,"creation_date":1667847678,"question_id":74351608,"body_markdown":"I&#39;m using PDFBox to retrieve information about signatures of PDF files:\r\n```java\r\nfor (PDSignature signature : document.getSignatureDictionaries()) {\r\n  // retrieve information from signature\r\n}\r\n```\r\nIs it possible to determine which pages of the PDF document are covered by a signature?\r\n\r\nI&#39;ve seen that it&#39;s possible to determine on which page the signature starts: https://stackoverflow.com/a/22132921/19199839  \r\nAnd I&#39;ve seen that it&#39;s possible to determine whether it covers the whole document: https://stackoverflow.com/a/58102825/19199839\r\n\r\nBut I&#39;m not sure if/how it&#39;s possible to determine the page range of a signature.\r\nIs there any way i.e. to get that information from the `byteRange`)?\r\n","title":"PDFBox Signatures: Get range of pages which are covered by signature","body":"<p>I'm using PDFBox to retrieve information about signatures of PDF files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (PDSignature signature : document.getSignatureDictionaries()) {\n  // retrieve information from signature\n}\n</code></pre>\n<p>Is it possible to determine which pages of the PDF document are covered by a signature?</p>\n<p>I've seen that it's possible to determine on which page the signature starts: <a href=\"https://stackoverflow.com/a/22132921/19199839\">https://stackoverflow.com/a/22132921/19199839</a><br />\nAnd I've seen that it's possible to determine whether it covers the whole document: <a href=\"https://stackoverflow.com/a/58102825/19199839\">https://stackoverflow.com/a/58102825/19199839</a></p>\n<p>But I'm not sure if/how it's possible to determine the page range of a signature.\nIs there any way i.e. to get that information from the <code>byteRange</code>)?</p>\n"},{"tags":["java","inheritance","interface","polymorphism","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":20119723,"reputation":443,"user_id":14754410,"display_name":"BccHnw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667615243,"creation_date":1667615243,"answer_id":74324647,"question_id":74322151,"body_markdown":"A functional technique (Java 9+), but there is some performance overhead:\r\n\r\n```\r\nclass Base {\r\n    Base() {\r\n        System.out.println(&quot;Base Constructor&quot;);\r\n    }\r\n}\r\n\r\nclass Derived1 extends Base {\r\n    Derived1() {\r\n        super();\r\n        System.out.println(&quot;Derived 1 Constructor&quot;);\r\n    }\r\n}\r\n\r\nclass Derived2 extends Base {\r\n    Derived2() {\r\n        super();\r\n        System.out.println(&quot;Derived 2 Constructor&quot;);\r\n    }\r\n}\r\n\r\ninterface NewBase {\r\n    Base create();\r\n}\r\n\r\nfinal class Pattern {\r\n    final private String pattern;\r\n    final private NewBase newBase;\r\n    public Pattern(String pattern, NewBase newBase) {\r\n        this.pattern = pattern;\r\n        this.newBase = newBase;\r\n    }\r\n    public String getPattern() {\r\n        return pattern;\r\n    }\r\n    public NewBase getNewBase() {\r\n        return newBase;\r\n    }\r\n}\r\n\r\nclass Builder {\r\n    final private static List&lt;Pattern&gt; newObjects = new ArrayList&lt;&gt;();\r\n    private static void addPattern(String pattern, NewBase newObject) {\r\n        newObjects.add(new Pattern(pattern, newObject));\r\n    }\r\n    static {\r\n        addPattern(&quot;a+b+&quot;, Derived1::new);\r\n        addPattern(&quot;c+&quot;, Derived2::new);\r\n    }\r\n    public static Base baseFromString(String v) throws Exception {\r\n        for (Pattern p : newObjects) {\r\n            if (v.matches(p.getPattern()))\r\n                return p.getNewBase().create();\r\n        }\r\n        throw new Exception(&quot;Could not match &quot; + v + &quot; to any derived type.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nJust update the static `Builder` initializer to call the `addPattern` for new patterns and derived classes.\r\n","title":"How can each derived class can have its own static value, while sharing the same base method in Java?","body":"<p>A functional technique (Java 9+), but there is some performance overhead:</p>\n<pre><code>class Base {\n    Base() {\n        System.out.println(&quot;Base Constructor&quot;);\n    }\n}\n\nclass Derived1 extends Base {\n    Derived1() {\n        super();\n        System.out.println(&quot;Derived 1 Constructor&quot;);\n    }\n}\n\nclass Derived2 extends Base {\n    Derived2() {\n        super();\n        System.out.println(&quot;Derived 2 Constructor&quot;);\n    }\n}\n\ninterface NewBase {\n    Base create();\n}\n\nfinal class Pattern {\n    final private String pattern;\n    final private NewBase newBase;\n    public Pattern(String pattern, NewBase newBase) {\n        this.pattern = pattern;\n        this.newBase = newBase;\n    }\n    public String getPattern() {\n        return pattern;\n    }\n    public NewBase getNewBase() {\n        return newBase;\n    }\n}\n\nclass Builder {\n    final private static List&lt;Pattern&gt; newObjects = new ArrayList&lt;&gt;();\n    private static void addPattern(String pattern, NewBase newObject) {\n        newObjects.add(new Pattern(pattern, newObject));\n    }\n    static {\n        addPattern(&quot;a+b+&quot;, Derived1::new);\n        addPattern(&quot;c+&quot;, Derived2::new);\n    }\n    public static Base baseFromString(String v) throws Exception {\n        for (Pattern p : newObjects) {\n            if (v.matches(p.getPattern()))\n                return p.getNewBase().create();\n        }\n        throw new Exception(&quot;Could not match &quot; + v + &quot; to any derived type.&quot;);\n    }\n}\n</code></pre>\n<p>Just update the static <code>Builder</code> initializer to call the <code>addPattern</code> for new patterns and derived classes.</p>\n"},{"tags":[],"owner":{"account_id":4340307,"reputation":163,"user_id":3543696,"display_name":"redmoncoreyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668358797,"creation_date":1668342063,"answer_id":74420870,"question_id":74322151,"body_markdown":"You can&#39;t do that, at least not with static members. The problem is that static members cannot be overridden.\r\n\r\n```lang-java\r\npublic class Driver {\r\n\tpublic static void main(String args[]) {\r\n\t\tDerived aDerived = new Derived();\r\n\t\taDerived.print(); // prints &quot;Value is 5&quot;, not &quot;Value is 10&quot;\r\n\t}\r\n}\r\n\r\npublic class Base {\r\n\tprotected static final int VALUE = 5;\r\n\tpublic Base() {}\r\n\t\r\n\tprotected void print() {\r\n\t\tSystem.out.println(&quot;Value is &quot; + VALUE);\r\n\t}\r\n}\r\n\r\n\r\npublic class Derived extends Base {\r\n\tprotected static final int VALUE = 10; // does not override base Value\r\n\tpublic Derived() {}\r\n}\r\n```\r\n\r\nEach subclass can have its own value, and they would all inherit `print()`. But it doesn&#39;t do what you want because `print()` will always reference `Base.VALUE` even in the inherited `Derived.print()`.\r\n\r\nSo, static doesn&#39;t work. I assume that you feel the `pattern` member needs to be static because there only needs to be one copy of the pattern value for the entire class. That **one copy** part should have tipped you off to a handy little design pattern: the singleton pattern!\r\n\r\n```lang-java\r\npublic class Driver {\r\n\tpublic static void main(String args[]) {\r\n\t\tDerived aDerived = new Derived();\r\n\t\taDerived.print(); // prints &quot;Value is 10&quot;\r\n\t}\r\n}\r\n\r\npublic class Base {\r\n\tprotected Value val = Value.getInstance();\r\n\tpublic Base() {}\r\n\t\r\n\tprotected void print() {\r\n\t\tSystem.out.println(&quot;Value is &quot; + val.value());\r\n\t}\r\n}\r\n\r\npublic class Derived extends Base {\r\n\tpublic Derived() { val = DerivedValue.getInstance(); }\r\n}\r\n\r\npublic class Value {\r\n\tprivate int value = 5;\r\n\tpublic int value() { return value; }\r\n\r\n\tprivate static Value instance = new Value();\r\n\tprotected Value() {}\r\n\tpublic static Value getInstance() { return instance; }\r\n}\r\n\r\npublic class DerivedValue extends Value {\r\n\tprivate int value = 10;\r\n\tpublic int value() { return value; }\r\n\r\n\tprivate static DerivedValue instance = new DerivedValue();\r\n\tprivate DerivedValue() {}\r\n\tpublic static DerivedValue getInstance() { return instance; }\r\n}\r\n```\r\n\r\nThere&#39;s a lot more code in this version, but now there is only one copy of the two different values used.\r\n\r\nNote: Below is how you can make the `value` members `final`. You&#39;ll have to set up your packages appropriately so the `protected Base(Value v)` constructor is only visible to the `Derived` class.\r\n\r\n```lang-java\r\npublic class Base {\r\n\tprotected final Value val;\r\n\tpublic Base() { val = Value.getInstance(); }\r\n\tprotected Base(Value v) { val = v; }\r\n\t\r\n\tprotected void print() {\r\n\t\tSystem.out.println(&quot;Value is &quot; + val.value());\r\n\t}\r\n}\r\n\r\npublic class Derived extends Base {\r\n\tpublic Derived() { super(DerivedValue.getInstance()); }\r\n}\r\n```","title":"How can each derived class can have its own static value, while sharing the same base method in Java?","body":"<p>You can't do that, at least not with static members. The problem is that static members cannot be overridden.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver {\n    public static void main(String args[]) {\n        Derived aDerived = new Derived();\n        aDerived.print(); // prints &quot;Value is 5&quot;, not &quot;Value is 10&quot;\n    }\n}\n\npublic class Base {\n    protected static final int VALUE = 5;\n    public Base() {}\n    \n    protected void print() {\n        System.out.println(&quot;Value is &quot; + VALUE);\n    }\n}\n\n\npublic class Derived extends Base {\n    protected static final int VALUE = 10; // does not override base Value\n    public Derived() {}\n}\n</code></pre>\n<p>Each subclass can have its own value, and they would all inherit <code>print()</code>. But it doesn't do what you want because <code>print()</code> will always reference <code>Base.VALUE</code> even in the inherited <code>Derived.print()</code>.</p>\n<p>So, static doesn't work. I assume that you feel the <code>pattern</code> member needs to be static because there only needs to be one copy of the pattern value for the entire class. That <strong>one copy</strong> part should have tipped you off to a handy little design pattern: the singleton pattern!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver {\n    public static void main(String args[]) {\n        Derived aDerived = new Derived();\n        aDerived.print(); // prints &quot;Value is 10&quot;\n    }\n}\n\npublic class Base {\n    protected Value val = Value.getInstance();\n    public Base() {}\n    \n    protected void print() {\n        System.out.println(&quot;Value is &quot; + val.value());\n    }\n}\n\npublic class Derived extends Base {\n    public Derived() { val = DerivedValue.getInstance(); }\n}\n\npublic class Value {\n    private int value = 5;\n    public int value() { return value; }\n\n    private static Value instance = new Value();\n    protected Value() {}\n    public static Value getInstance() { return instance; }\n}\n\npublic class DerivedValue extends Value {\n    private int value = 10;\n    public int value() { return value; }\n\n    private static DerivedValue instance = new DerivedValue();\n    private DerivedValue() {}\n    public static DerivedValue getInstance() { return instance; }\n}\n</code></pre>\n<p>There's a lot more code in this version, but now there is only one copy of the two different values used.</p>\n<p>Note: Below is how you can make the <code>value</code> members <code>final</code>. You'll have to set up your packages appropriately so the <code>protected Base(Value v)</code> constructor is only visible to the <code>Derived</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Base {\n    protected final Value val;\n    public Base() { val = Value.getInstance(); }\n    protected Base(Value v) { val = v; }\n    \n    protected void print() {\n        System.out.println(&quot;Value is &quot; + val.value());\n    }\n}\n\npublic class Derived extends Base {\n    public Derived() { super(DerivedValue.getInstance()); }\n}\n</code></pre>\n"}],"owner":{"account_id":4340307,"reputation":163,"user_id":3543696,"display_name":"redmoncoreyl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420870,"answer_count":2,"score":0,"last_activity_date":1668358797,"creation_date":1667590573,"question_id":74322151,"body_markdown":"```lang-java\r\nclass Base {\r\n\tBase() {\r\n\t\tSystem.out.println(&quot;Base Constructor&quot;);\r\n\t}\r\n}\r\n\r\nclass Derived1 extends Base {\r\n\tprivate static String pattern = &quot;a+b+&quot;;\r\n\tDerived1() {\r\n\t\tsuper();\r\n\t\tSystem.out.println(&quot;Derived 1 Constructor&quot;);\r\n\t}\r\n\r\n\tpublic static boolean doesMatch(String v) {\r\n\t\treturn v.matches(pattern);\r\n\t}\r\n}\r\n\r\nclass Derived2 extends Base {\r\n\tprivate static String pattern = &quot;c+&quot;;\r\n\tDerived2() {\r\n\t\tsuper();\r\n\t\tSystem.out.println(&quot;Derived 2 Constructor&quot;);\r\n\t}\r\n\t\r\n\tpublic static boolean doesMatch(String v) {\r\n\t\treturn v.matches(pattern);\r\n\t}\r\n}\r\n\r\nclass Builder {\r\n\tpublic static Base baseFromString(String v) throws Exception {\r\n\t\tif (Derived1.doesMatch(v)) return new Derived1();\r\n\t\tif (Derived2.doesMatch(v)) return new Derived2();\r\n\t\tthrow new Exception(&quot;Could not match &quot; + v + &quot; to any derived type.&quot;);\r\n\t}\r\n}\r\n\r\nclass Test {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tBase b = Builder.baseFromString(&quot;aaab&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe code above has a primary problem I want to solve:\r\n\r\n1. The `doesMatch` method is repeated code for the two derived classes. I&#39;d like to move it to the base class, but then it won&#39;t be able to access the pattern member. How do I structure my code better so that each derived class can have its own static pattern, while they all share the same base `doesMatch` method?\r\n\r\nI&#39;ve tried messing around with abstract classes and interfaces, but I couldn&#39;t get anything to work. I am fine with those types of solutions as long as there is a hierarchy where the derived classes either extend or implement the base class.\r\n\r\n_Secondary question (from original post)_\r\n\r\n2. I might want to add several more derived classes. I&#39;d like to not have to update the `baseFromString` method with another `if` every time I extend the base class. Is this something that can be solved with polymorphism?","title":"How can each derived class can have its own static value, while sharing the same base method in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>class Base {\n    Base() {\n        System.out.println(&quot;Base Constructor&quot;);\n    }\n}\n\nclass Derived1 extends Base {\n    private static String pattern = &quot;a+b+&quot;;\n    Derived1() {\n        super();\n        System.out.println(&quot;Derived 1 Constructor&quot;);\n    }\n\n    public static boolean doesMatch(String v) {\n        return v.matches(pattern);\n    }\n}\n\nclass Derived2 extends Base {\n    private static String pattern = &quot;c+&quot;;\n    Derived2() {\n        super();\n        System.out.println(&quot;Derived 2 Constructor&quot;);\n    }\n    \n    public static boolean doesMatch(String v) {\n        return v.matches(pattern);\n    }\n}\n\nclass Builder {\n    public static Base baseFromString(String v) throws Exception {\n        if (Derived1.doesMatch(v)) return new Derived1();\n        if (Derived2.doesMatch(v)) return new Derived2();\n        throw new Exception(&quot;Could not match &quot; + v + &quot; to any derived type.&quot;);\n    }\n}\n\nclass Test {\n    public static void main(String[] args) throws Exception {\n        Base b = Builder.baseFromString(&quot;aaab&quot;);\n    }\n}\n</code></pre>\n<p>The code above has a primary problem I want to solve:</p>\n<ol>\n<li>The <code>doesMatch</code> method is repeated code for the two derived classes. I'd like to move it to the base class, but then it won't be able to access the pattern member. How do I structure my code better so that each derived class can have its own static pattern, while they all share the same base <code>doesMatch</code> method?</li>\n</ol>\n<p>I've tried messing around with abstract classes and interfaces, but I couldn't get anything to work. I am fine with those types of solutions as long as there is a hierarchy where the derived classes either extend or implement the base class.</p>\n<p><em>Secondary question (from original post)</em></p>\n<ol start=\"2\">\n<li>I might want to add several more derived classes. I'd like to not have to update the <code>baseFromString</code> method with another <code>if</code> every time I extend the base class. Is this something that can be solved with polymorphism?</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"score":0,"creation_date":1544557812,"post_id":53730477,"comment_id":94316394,"body_markdown":"can you provide the content of MyApplication calss? based on the error message you are getting, it can not be loaded properly.","body":"can you provide the content of MyApplication calss? based on the error message you are getting, it can not be loaded properly."},{"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"score":0,"creation_date":1544558135,"post_id":53730477,"comment_id":94316551,"body_markdown":"@RezaNasiri updated!","body":"@RezaNasiri updated!"},{"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"score":0,"creation_date":1544558790,"post_id":53730477,"comment_id":94316853,"body_markdown":"if you are using Spring Boot, try using @SpringBootTest instead of @ ContextConfiguration to see if that helps","body":"if you are using Spring Boot, try using @SpringBootTest instead of @ ContextConfiguration to see if that helps"},{"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"score":0,"creation_date":1544559017,"post_id":53730477,"comment_id":94316955,"body_markdown":"This results in the following error `java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [ruleTest.RulesTest]:`","body":"This results in the following error <code>java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [ruleTest.RulesTest]:</code>"},{"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"score":0,"creation_date":1544560065,"post_id":53730477,"comment_id":94317457,"body_markdown":"what is the package name of your test case class and MyApplication?","body":"what is the package name of your test case class and MyApplication?"},{"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"score":0,"creation_date":1544561036,"post_id":53730477,"comment_id":94317896,"body_markdown":"application: `src/main/java/it.myapplication`, test class: `src/test/java/ruleTest`","body":"application: <code>src&#47;main&#47;java&#47;it.myapplication</code>, test class: <code>src&#47;test&#47;java&#47;ruleTest</code>"},{"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"score":0,"creation_date":1544569973,"post_id":53730477,"comment_id":94321254,"body_markdown":"can you update your package structure so if fully qualified name of your application is it.MyApplication, your test class ha s a fully qualified name of it.test.ruleTest","body":"can you update your package structure so if fully qualified name of your application is it.MyApplication, your test class ha s a fully qualified name of it.test.ruleTest"}],"answers":[{"tags":[],"owner":{"account_id":11627789,"reputation":379,"user_id":8517040,"display_name":"Andres Rincon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668357451,"creation_date":1544554807,"answer_id":53730697,"question_id":53730477,"body_markdown":"I am noticing that you are missing this annotation @RunWith(SpringRunner.class)\r\n","title":"JPA Repository null in junit tests","body":"<p>I am noticing that you are missing this annotation @RunWith(SpringRunner.class)</p>\n"},{"tags":[],"owner":{"account_id":14908627,"reputation":51,"user_id":10764940,"display_name":"Kerstin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544559495,"creation_date":1544559495,"answer_id":53731735,"question_id":53730477,"body_markdown":"For testing Repositories you should have the annotations:\r\n\r\n    @DataJpaTest \r\n    @RunWith(SpringRunner.class) \r\n    @SpringBootTest(classes=MyApplication.class)\r\n\r\n\r\n","title":"JPA Repository null in junit tests","body":"<p>For testing Repositories you should have the annotations:</p>\n\n<pre><code>@DataJpaTest \n@RunWith(SpringRunner.class) \n@SpringBootTest(classes=MyApplication.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16084384,"reputation":11,"user_id":11609505,"display_name":"Jefferson Fabricio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623423569,"creation_date":1623343854,"answer_id":67925434,"question_id":53730477,"body_markdown":"if you are using JPA add in class Test @DataJpaTest.\r\nEx.: \r\n\r\n```java\r\n@DataJpaTest\r\npublic class CategoriaServiceTest {\r\n\t\r\n\t@Autowired\r\n\tprivate CategoriaRepository repository;\r\n\t\r\n\t@Test\r\n\tpublic void test() {\r\n\t\t\r\n\t\tCategoria categoria = new Categoria(null, &quot;Teste&quot;);\r\n\t\t\r\n\t\tCategoria categoriaSaved = repository.save(categoria);\r\n\t\t\r\n\t\tassertEquals(categoria.getNome(), &quot;Jefferson&quot;);\r\n\t}\r\n\r\n}\r\n```","title":"JPA Repository null in junit tests","body":"<p>if you are using JPA add in class Test @DataJpaTest.\nEx.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\npublic class CategoriaServiceTest {\n    \n    @Autowired\n    private CategoriaRepository repository;\n    \n    @Test\n    public void test() {\n        \n        Categoria categoria = new Categoria(null, &quot;Teste&quot;);\n        \n        Categoria categoriaSaved = repository.save(categoria);\n        \n        assertEquals(categoria.getNome(), &quot;Jefferson&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654594076,"creation_date":1654594076,"answer_id":72528871,"question_id":53730477,"body_markdown":"The solution for me (to be able and load the application context also) was to use the following annotation:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class TestDiscountRepository {\r\n    ...","title":"JPA Repository null in junit tests","body":"<p>The solution for me (to be able and load the application context also) was to use the following annotation:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class TestDiscountRepository {\n...\n</code></pre>\n"}],"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16582,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1668357451,"creation_date":1544553832,"question_id":53730477,"body_markdown":"I am trying to write a very basic test for my repository/service classes, but for reasons I cannot seem to figure out, my autowired repository is always null. \r\n\r\nHere is the Repo class\r\n\r\n    public interface RuleRepository extends JpaRepository&lt;Rule, UUID&gt; {\t  \r\n    \tpublic Optional&lt;Rule&gt; findByName(String name);\r\n    }\r\n\r\nAnd the test\r\n\r\n    @DataJpaTest\r\n    @ContextConfiguration(classes = MyApplication.class)\r\n    public class RulesTest {\r\n        @Autowired\r\n    \tprivate RuleRepository ruleRepository;\t\r\n\t\r\n\t    @Test\r\n    \tpublic void testSaveOneRule() {\r\n\t    \tif (ruleRepository == null) {\r\n\t\t    \tSystem.err.println(&quot;HERE&quot;);\r\n\t\t\t    assertTrue(true);\r\n            } else {\r\n                  assertTrue(false);\r\n              }\r\n        }\r\n    }\r\n\r\nDoes anyone have any ideas? The test always passes...\r\n\r\nEdit: I&#39;m not sure if this is an error that deserves a new post or not, but running with the annotaion `@RunWith(SpringRunner.class)` yields the error `RulesTest.testSaveOneRule ? IllegalState Failed to load ApplicationContext...`\r\n\r\nThe content of MyApplication.class\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    }","title":"JPA Repository null in junit tests","body":"<p>I am trying to write a very basic test for my repository/service classes, but for reasons I cannot seem to figure out, my autowired repository is always null. </p>\n\n<p>Here is the Repo class</p>\n\n<pre><code>public interface RuleRepository extends JpaRepository&lt;Rule, UUID&gt; {   \n    public Optional&lt;Rule&gt; findByName(String name);\n}\n</code></pre>\n\n<p>And the test</p>\n\n<pre><code>@DataJpaTest\n@ContextConfiguration(classes = MyApplication.class)\npublic class RulesTest {\n    @Autowired\n    private RuleRepository ruleRepository;  \n\n    @Test\n    public void testSaveOneRule() {\n        if (ruleRepository == null) {\n            System.err.println(\"HERE\");\n            assertTrue(true);\n        } else {\n              assertTrue(false);\n          }\n    }\n}\n</code></pre>\n\n<p>Does anyone have any ideas? The test always passes...</p>\n\n<p>Edit: I'm not sure if this is an error that deserves a new post or not, but running with the annotaion <code>@RunWith(SpringRunner.class)</code> yields the error <code>RulesTest.testSaveOneRule ? IllegalState Failed to load ApplicationContext...</code></p>\n\n<p>The content of MyApplication.class</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","file","deserialization","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1668171595,"post_id":74402799,"comment_id":131347030,"body_markdown":"You should not be using an `ObjectOutputStream` for writing plain text. Consider using `java.nio.file.Files.writeString` or similar methods in that class, which will greatly simplify your code.","body":"You should not be using an <code>ObjectOutputStream</code> for writing plain text. Consider using <code>java.nio.file.Files.writeString</code> or similar methods in that class, which will greatly simplify your code."},{"owner":{"account_id":26900619,"reputation":1,"user_id":20477826,"display_name":"Tannu"},"score":0,"creation_date":1668172952,"post_id":74402799,"comment_id":131347496,"body_markdown":"thank you for that, but i want to try serialization that why i use that class","body":"thank you for that, but i want to try serialization that why i use that class"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1668175510,"post_id":74402799,"comment_id":131348504,"body_markdown":"So is the problem with parsing user input, or writing the file, or reading it back from the file? Serialization is the process of tranforming the object into a representation to transmit or store. That could be plain text, as indicated by your choice of &quot;students.txt&quot; as the filename. Intuitively I would say your `writeData` method is doing something very funky depending on the size of the file. Have you verified that the file contents are as expected after writing, before trying to read them again? Obviously that would be easier when writing a plain String instead of an Object.","body":"So is the problem with parsing user input, or writing the file, or reading it back from the file? Serialization is the process of tranforming the object into a representation to transmit or store. That could be plain text, as indicated by your choice of &quot;students.txt&quot; as the filename. Intuitively I would say your <code>writeData</code> method is doing something very funky depending on the size of the file. Have you verified that the file contents are as expected after writing, before trying to read them again? Obviously that would be easier when writing a plain String instead of an Object."},{"owner":{"account_id":26900619,"reputation":1,"user_id":20477826,"display_name":"Tannu"},"score":0,"creation_date":1668231375,"post_id":74402799,"comment_id":131360501,"body_markdown":"at my understanding problem is reading the data from file. can you brief that what is funky about writeData method","body":"at my understanding problem is reading the data from file. can you brief that what is funky about writeData method"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1668433507,"post_id":74402799,"comment_id":131396724,"body_markdown":"In `readFile` you are calling `input.close();` within your while loop, while it is commented out after the loop. That closes the input and stops reading once the first object has been read.","body":"In <code>readFile</code> you are calling <code>input.close();</code> within your while loop, while it is commented out after the loop. That closes the input and stops reading once the first object has been read."}],"owner":{"account_id":26900619,"reputation":1,"user_id":20477826,"display_name":"Tannu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668357044,"creation_date":1668171216,"question_id":74402799,"body_markdown":"I am a beginner in java and practicing IO stream and Serialization .In below problem unable to read all data into a Arraylist and print it. by using the ObjectOutputStream insert the content by user in file but unable to get all data. just first part of data are read. \r\n\r\n```java\r\npackage com.filehandling;\r\nimport java.io.*;\r\n\r\npublic class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate String name ;\r\n\tprivate int age;\r\n\tprivate String role;\r\n\tprivate int number;\r\n\tUser(){}\r\n\tpublic User(String name1, int age1, String role1, int number1){\r\n\t\t this.name = name1;\r\n\t\t this.age = age1;\r\n\t\t this.role = role1;\r\n\t\t this.number = number1;\r\n\t}\r\n\tpublic String getName() {\r\n        return this.name;\r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    public String getRole() {\r\n        return this.role;\r\n    }\r\n \r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n \r\n    public int getAge() {\r\n        return this.age;\r\n    }\r\n \r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\t\r\n    public int getNumber() {\r\n    \treturn this.number;\r\n    }\r\n    \r\n    public void setNumber(int number) {\r\n    \tthis.number = number;\r\n    }\r\n\r\n \r\n \r\n   @Override\r\n    public String toString() {\r\n    \r\n        return new StringBuffer(&quot; Name : &quot;).append(this.name)\r\n                .append(&quot;, role : &quot;).append(this.role).append(&quot;, Age : &quot;).append(this.age).append(&quot; Number : &quot;).append(this.number).toString();\r\n    }\r\n \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```java\r\npackage com.filehandling;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Menu {\r\n\tString name, role;\r\n\tint age,number;\r\n \t//User user1 = new User();\r\n\tFile f = new File(&quot;students.txt&quot;);\r\npublic static void main(String[] args) throws IOException {\r\n\r\n\tMenu main = new Menu();\r\n\tScanner scan = new Scanner(System.in);\r\n\t\r\n\twhile(true) {\r\n\t\tSystem.out.println(&quot;Enter 1 for Add data&quot;);\r\n\t\tSystem.out.println(&quot;Enter 2 for Printing all data&quot;);\r\n\t\tSystem.out.println(&quot;Enter 3 to Exit&quot;);\r\n\t\tscan.hasNextLine();\r\n\t\tint choice = scan.nextInt();\r\n\t\tscan.hasNextLine();\r\n\t\t\r\n\t\t//String extra = scan.nextLine();\r\n\t\tswitch(choice)\r\n\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tmain.callWriteFile();\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tmain.callReadFile();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;\\nInvalid Choice !&quot;);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\tpublic void callWriteFile() {\r\n\ttry {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\r\n\t\t\tMenu main = new Menu();\r\n\t\t\tSystem.out.println(&quot;enter name, role, age, number&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t name = scan.nextLine();\r\n\t\t\t role = scan.nextLine();\r\n\t\t\t age = scan.nextInt();\r\n\t\t\t number = scan.nextInt();\r\n\t\t\t \r\n\t\t\tUser user = new User(name,age,role,number);\r\n\t\t\tmain.writeData(user);\r\n\t\t\t\r\n\t\t\t\r\n\t}\r\n\tcatch(Exception e) {}\r\n\t}\r\n\r\n\tpublic void callReadFile() throws IOException {\r\n\t\tMenu main = new Menu();\r\n\t\tArrayList&lt;Object&gt; objectsList = new ArrayList&lt;&gt;();\r\n\t\tmain.readFile(objectsList);\r\n\t\t\r\n\tfor(Object user1: objectsList) {\r\n\t\t    System.out.println(user1);  \r\n\t\t}\r\n\r\n\t\t\r\n        System.out.println(objectsList);\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\r\n\t public ArrayList&lt;Object&gt; readFile(ArrayList&lt;Object&gt; list) throws IOException{\r\n\t\t \r\n\t\t FileInputStream file = new FileInputStream(&quot;students.txt&quot;);\r\n\t\tObjectInputStream input = new ObjectInputStream(file);\r\n//\t\t ArrayList&lt;Object&gt; objectsList = new ArrayList&lt;&gt;();\r\n\t\t boolean counter = true;\r\n\t\t while (counter) {\r\n\t\t   try  {\r\n\t\t     Object object = input.readObject();\r\n\t\t     if (object != null) {\r\n\t\t     User userTest = (User) object;\r\n\t\t    \tif( userTest !=null){\r\n\t\t    \t\tSystem.out.println(&quot; my  &quot;+userTest);\r\n\t\t    \t}\r\n\t\t       list.add(object);\r\n\t\t     }\r\n\t\t     input.close();\r\n\t\t     \r\n\t\t       counter = false;\r\n\t\t     }\r\n\t\t    \r\n\t\t   catch(Exception e) {\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn null;\r\n\t\t   }\r\n\t\t \t}\r\n\t\t// input.close();\r\n\t\t return list;\r\n\t\t \r\n\t }\r\n\t\r\n\tpublic void writeData(Object obj) {\r\n\t\ttry{\r\n\t\t\tFileOutputStream file = new FileOutputStream(&quot;students.txt&quot;, true);\r\n\t\t\tif (f.length() == 0) {\r\n\t\t\tObjectOutputStream object = new ObjectOutputStream(file);\r\n\t\r\n\t\r\n\t\t\tobject.writeObject(obj);\r\n\t\t\tobject.close();\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t MyObjectOutputStream oos = null;\r\n                 oos = new MyObjectOutputStream(file);\r\n                 oos.writeObject(obj);\r\n\r\n                 // Closing the FileOutputStream object\r\n                 // to release memory resources\r\n                 oos.close();\r\n\t\t\t}\r\n\t\t\t}\r\n\t\tcatch(Exception e) {\t\r\n\t\t\tSystem.out.println(e);\r\n\r\n\t\t\t}\r\n\t}\r\n}\t\t\r\n```\r\n\r\n```java\r\npackage com.filehandling;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class MyObjectOutputStream extends ObjectOutputStream {\r\n \r\n    // Constructor of this class\r\n    // 1. Default\r\n    MyObjectOutputStream() throws IOException\r\n    {\r\n \r\n        // Super keyword refers to parent class instance\r\n        super();\r\n    }\r\n \r\n    // Constructor of this class\r\n    // 1. Parameterized constructor\r\n    MyObjectOutputStream(OutputStream o) throws IOException\r\n    {\r\n        super(o);\r\n    }\r\n \r\n    // Method of this class\r\n    public void writeStreamHeader() throws IOException\r\n    {\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\n\r\ni tried every possible thing at my level but cannot spot the loophole.","title":"Read file content into Arraylist using ObjectInputStream","body":"<p>I am a beginner in java and practicing IO stream and Serialization .In below problem unable to read all data into a Arraylist and print it. by using the ObjectOutputStream insert the content by user in file but unable to get all data. just first part of data are read.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.filehandling;\nimport java.io.*;\n\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private String name ;\n    private int age;\n    private String role;\n    private int number;\n    User(){}\n    public User(String name1, int age1, String role1, int number1){\n         this.name = name1;\n         this.age = age1;\n         this.role = role1;\n         this.number = number1;\n    }\n    public String getName() {\n        return this.name;\n    }\n \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public String getRole() {\n        return this.role;\n    }\n \n    public void setRole(String role) {\n        this.role = role;\n    }\n \n    public int getAge() {\n        return this.age;\n    }\n \n    public void setAge(int age) {\n        this.age = age;\n    }\n    \n    public int getNumber() {\n        return this.number;\n    }\n    \n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n \n \n   @Override\n    public String toString() {\n    \n        return new StringBuffer(&quot; Name : &quot;).append(this.name)\n                .append(&quot;, role : &quot;).append(this.role).append(&quot;, Age : &quot;).append(this.age).append(&quot; Number : &quot;).append(this.number).toString();\n    }\n \n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.filehandling;\nimport java.io.*;\nimport java.util.*;\n\npublic class Menu {\n    String name, role;\n    int age,number;\n    //User user1 = new User();\n    File f = new File(&quot;students.txt&quot;);\npublic static void main(String[] args) throws IOException {\n\n    Menu main = new Menu();\n    Scanner scan = new Scanner(System.in);\n    \n    while(true) {\n        System.out.println(&quot;Enter 1 for Add data&quot;);\n        System.out.println(&quot;Enter 2 for Printing all data&quot;);\n        System.out.println(&quot;Enter 3 to Exit&quot;);\n        scan.hasNextLine();\n        int choice = scan.nextInt();\n        scan.hasNextLine();\n        \n        //String extra = scan.nextLine();\n        switch(choice)\n        {\n            case 1:\n                main.callWriteFile();\n                \n                break;\n            case 2:\n                main.callReadFile();\n                break;\n            case 3:\n                System.exit(1);\n                break;\n            default:\n                System.out.println(&quot;\\nInvalid Choice !&quot;);\n                break;\n        }\n    }\n}\n\n    public void callWriteFile() {\n    try {\n        Scanner scan = new Scanner(System.in);\n    \n            Menu main = new Menu();\n            System.out.println(&quot;enter name, role, age, number&quot;);\n            \n            \n             name = scan.nextLine();\n             role = scan.nextLine();\n             age = scan.nextInt();\n             number = scan.nextInt();\n             \n            User user = new User(name,age,role,number);\n            main.writeData(user);\n            \n            \n    }\n    catch(Exception e) {}\n    }\n\n    public void callReadFile() throws IOException {\n        Menu main = new Menu();\n        ArrayList&lt;Object&gt; objectsList = new ArrayList&lt;&gt;();\n        main.readFile(objectsList);\n        \n    for(Object user1: objectsList) {\n            System.out.println(user1);  \n        }\n\n        \n        System.out.println(objectsList);\n        }\n        \n\n\n\n     public ArrayList&lt;Object&gt; readFile(ArrayList&lt;Object&gt; list) throws IOException{\n         \n         FileInputStream file = new FileInputStream(&quot;students.txt&quot;);\n        ObjectInputStream input = new ObjectInputStream(file);\n//       ArrayList&lt;Object&gt; objectsList = new ArrayList&lt;&gt;();\n         boolean counter = true;\n         while (counter) {\n           try  {\n             Object object = input.readObject();\n             if (object != null) {\n             User userTest = (User) object;\n                if( userTest !=null){\n                    System.out.println(&quot; my  &quot;+userTest);\n                }\n               list.add(object);\n             }\n             input.close();\n             \n               counter = false;\n             }\n            \n           catch(Exception e) {\n                System.out.println(e);\n                e.printStackTrace();\n                return null;\n           }\n            }\n        // input.close();\n         return list;\n         \n     }\n    \n    public void writeData(Object obj) {\n        try{\n            FileOutputStream file = new FileOutputStream(&quot;students.txt&quot;, true);\n            if (f.length() == 0) {\n            ObjectOutputStream object = new ObjectOutputStream(file);\n    \n    \n            object.writeObject(obj);\n            object.close();\n            \n            }\n            else {\n                 MyObjectOutputStream oos = null;\n                 oos = new MyObjectOutputStream(file);\n                 oos.writeObject(obj);\n\n                 // Closing the FileOutputStream object\n                 // to release memory resources\n                 oos.close();\n            }\n            }\n        catch(Exception e) {    \n            System.out.println(e);\n\n            }\n    }\n}       \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.filehandling;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class MyObjectOutputStream extends ObjectOutputStream {\n \n    // Constructor of this class\n    // 1. Default\n    MyObjectOutputStream() throws IOException\n    {\n \n        // Super keyword refers to parent class instance\n        super();\n    }\n \n    // Constructor of this class\n    // 1. Parameterized constructor\n    MyObjectOutputStream(OutputStream o) throws IOException\n    {\n        super(o);\n    }\n \n    // Method of this class\n    public void writeStreamHeader() throws IOException\n    {\n        return;\n    }\n}\n</code></pre>\n<p>i tried every possible thing at my level but cannot spot the loophole.</p>\n"},{"tags":["java","android","kotlin","exoplayer","android-seekbar"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668345523,"post_id":74421171,"comment_id":131377679,"body_markdown":"If you return to first activity then your activity is recreated as it was killed when it was not the top activity. What happens if you rotate the device instead?","body":"If you return to first activity then your activity is recreated as it was killed when it was not the top activity. What happens if you rotate the device instead?"},{"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"score":0,"creation_date":1668354027,"post_id":74421171,"comment_id":131379559,"body_markdown":"not rotating, orientation is portrait only","body":"not rotating, orientation is portrait only"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668354559,"post_id":74421171,"comment_id":131379670,"body_markdown":"Well for testing allow landscape too and solve rotation handling.","body":"Well for testing allow landscape too and solve rotation handling."},{"owner":{"account_id":7787202,"reputation":168,"user_id":5891566,"display_name":"el_chupacabra"},"score":0,"creation_date":1669324183,"post_id":74421171,"comment_id":131623488,"body_markdown":"Maybe you should consider `onSaveInstanceState` and using the `savedInstanceState` Bundle in your activity&#39;s `onCreate`","body":"Maybe you should consider <code>onSaveInstanceState</code> and using the <code>savedInstanceState</code> Bundle in your activity&#39;s <code>onCreate</code>"},{"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"score":0,"creation_date":1669527149,"post_id":74421171,"comment_id":131658712,"body_markdown":"@el_chupacabra how can I save more than 1 seekbars states in onSaveInstanceState.","body":"@el_chupacabra how can I save more than 1 seekbars states in onSaveInstanceState."},{"owner":{"account_id":7787202,"reputation":168,"user_id":5891566,"display_name":"el_chupacabra"},"score":0,"creation_date":1669660577,"post_id":74421171,"comment_id":131688275,"body_markdown":"It is a [Bundle](https://developer.android.com/reference/android/os/Bundle) you can add as many to it as you&#39;d like.","body":"It is a <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">Bundle</a> you can add as many to it as you&#39;d like."}],"owner":{"account_id":18065618,"reputation":71,"user_id":13131594,"display_name":"Sidharth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668356859,"creation_date":1668344137,"question_id":74421171,"body_markdown":"I am using Exoplayer to play multiple audios simultaneously and appoint each audio its own sound Control.\r\n\r\nbut if we move to another Activity and return, our Seekbars were gone,\r\nhow we can resolve this?\r\n\r\nsounds are still playing but our seekbars are not.\r\n\r\nas given here.\r\n\r\nI also have a small demo app on which you can test the behavior: [FeatureApp](https://github.com/th3kumar/Feature).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nhow I am using buttons\r\n```\r\n play_rain.setOnClickListener {\r\n            playerService?.toggleSound(PlayerService.Sound.RAIN)\r\n            toggleProgressBar(rain_volume)\r\n        }\r\n```\r\n\r\ntoggleProgressBar\r\n```\r\nprivate fun toggleProgressBar(progressBar: ProgressBar) {\r\n        progressBar.visibility = if (progressBar.visibility == View.VISIBLE) View.INVISIBLE else View.VISIBLE\r\n    }\r\n```\r\n\r\n\r\nother onCreate Services\r\n\r\n```\r\n override fun onStart() {\r\n        super.onStart()\r\n        val playerIntent = Intent(this, PlayerService::class.java)\r\n        startService(playerIntent)\r\n        bindService(playerIntent, serviceConnection, Context.BIND_AUTO_CREATE)\r\n    }\r\n\r\n    override fun onStop() {\r\n        unbindService(serviceConnection)\r\n        super.onStop()\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n        playerService?.stopForeground()\r\n    }\r\n\r\n    override fun onPause() {\r\n        playerService?.startForeground()\r\n        super.onPause()\r\n    }\r\n```\r\n FloatingActionButton\r\n```\r\nfab.setOnClickListener {\r\n            playerService?.stopPlaying()\r\n            fab.hide()\r\n            // hide all volume bars\r\n            arrayOf(rain_volume, storm_volume, water_volume, fire_volume, wind_volume, night_volume, cat_volume).forEach { bar -&gt;\r\n                bar.visibility = View.INVISIBLE\r\n            }\r\n        }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cKvZ0.png\r\n  [2]: https://i.stack.imgur.com/Jtx25.gif","title":"How to save arrayof Seekbars position and its Visibility throuhout App","body":"<p>I am using Exoplayer to play multiple audios simultaneously and appoint each audio its own sound Control.</p>\n<p>but if we move to another Activity and return, our Seekbars were gone,\nhow we can resolve this?</p>\n<p>sounds are still playing but our seekbars are not.</p>\n<p>as given here.</p>\n<p>I also have a small demo app on which you can test the behavior: <a href=\"https://github.com/th3kumar/Feature\" rel=\"nofollow noreferrer\">FeatureApp</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/Jtx25.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jtx25.gif\" alt=\"enter image description here\" /></a></p>\n<p>how I am using buttons</p>\n<pre><code> play_rain.setOnClickListener {\n            playerService?.toggleSound(PlayerService.Sound.RAIN)\n            toggleProgressBar(rain_volume)\n        }\n</code></pre>\n<p>toggleProgressBar</p>\n<pre><code>private fun toggleProgressBar(progressBar: ProgressBar) {\n        progressBar.visibility = if (progressBar.visibility == View.VISIBLE) View.INVISIBLE else View.VISIBLE\n    }\n</code></pre>\n<p>other onCreate Services</p>\n<pre><code> override fun onStart() {\n        super.onStart()\n        val playerIntent = Intent(this, PlayerService::class.java)\n        startService(playerIntent)\n        bindService(playerIntent, serviceConnection, Context.BIND_AUTO_CREATE)\n    }\n\n    override fun onStop() {\n        unbindService(serviceConnection)\n        super.onStop()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        playerService?.stopForeground()\n    }\n\n    override fun onPause() {\n        playerService?.startForeground()\n        super.onPause()\n    }\n</code></pre>\n<p>FloatingActionButton</p>\n<pre><code>fab.setOnClickListener {\n            playerService?.stopPlaying()\n            fab.hide()\n            // hide all volume bars\n            arrayOf(rain_volume, storm_volume, water_volume, fire_volume, wind_volume, night_volume, cat_volume).forEach { bar -&gt;\n                bar.visibility = View.INVISIBLE\n            }\n        }\n</code></pre>\n"},{"tags":["java","android","signature"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668353105,"post_id":74422262,"comment_id":131379353,"body_markdown":"Please explain in detail what &quot;it is not working&quot; means. What are your results?","body":"Please explain in detail what &quot;it is not working&quot; means. What are your results?"},{"owner":{"account_id":22118829,"reputation":61,"user_id":16372454,"display_name":"imamangoo"},"score":0,"creation_date":1668353312,"post_id":74422262,"comment_id":131379398,"body_markdown":"Firstly, `catch`ing `Exception`s isn&#39;t a good practice. Secondly, I am not sure what your error is, but [android studio won&#39;t show logs with empty tag](https://stackoverflow.com/questions/35351074/logcat-no-longer-accepts-empty-tags), therefore, you should use `e.printStacktrace()` to see the stacktrace instead","body":"Firstly, <code>catch</code>ing <code>Exception</code>s isn&#39;t a good practice. Secondly, I am not sure what your error is, but <a href=\"https://stackoverflow.com/questions/35351074/logcat-no-longer-accepts-empty-tags\">android studio won&#39;t show logs with empty tag</a>, therefore, you should use <code>e.printStacktrace()</code> to see the stacktrace instead"},{"owner":{"account_id":25916371,"reputation":21,"user_id":19639711,"display_name":"Farhan Ali"},"score":0,"creation_date":1668353660,"post_id":74422262,"comment_id":131379468,"body_markdown":"It returning android.content.pm.Signature@2b6cb416.","body":"It returning android.content.pm.Signature@2b6cb416."},{"owner":{"account_id":25916371,"reputation":21,"user_id":19639711,"display_name":"Farhan Ali"},"score":0,"creation_date":1668353732,"post_id":74422262,"comment_id":131379492,"body_markdown":"Error is that the signature[0] returning android.content.pm.Signature@2b6cb416.","body":"Error is that the signature[0] returning android.content.pm.Signature@2b6cb416."}],"owner":{"account_id":25916371,"reputation":21,"user_id":19639711,"display_name":"Farhan Ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668356765,"creation_date":1668353053,"question_id":74422262,"body_markdown":"Is there any way to get the Signature of any installed apk using Java.\r\n\r\nI tried this code but it is not working\r\n\r\n```\r\ntry {\r\n    PackageInfo pInfo = getPackageManager().getPackageInfo(packageName, PackageManager.GET_SIGNATURES);\r\n    String sign = pInfo.signatures[0].toString();\r\n\tsig.setText(sign);\r\n} catch (Exception e) {\r\n\tLog.d(&quot;&quot;,e.toString());\r\n \r\n   Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nPlease help me, i am new to Android Development ","title":"How to get Signature of a Apk?","body":"<p>Is there any way to get the Signature of any installed apk using Java.</p>\n<p>I tried this code but it is not working</p>\n<pre><code>try {\n    PackageInfo pInfo = getPackageManager().getPackageInfo(packageName, PackageManager.GET_SIGNATURES);\n    String sign = pInfo.signatures[0].toString();\n    sig.setText(sign);\n} catch (Exception e) {\n    Log.d(&quot;&quot;,e.toString());\n \n   Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>Please help me, i am new to Android Development</p>\n"},{"tags":["java","jpa","criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":10765168,"reputation":41,"user_id":7920427,"display_name":"userVS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500569592,"creation_date":1500564813,"answer_id":45219230,"question_id":39015934,"body_markdown":"instead of what your are doing\r\n\r\n    query.select(criteriaBuilder.sum(root.get(&quot;amount&quot;))) \r\n\r\ntry doing this\r\n   \r\n    query.select(criteriaBuilder.sum(root.&lt;BigDecimal&gt; get(&quot;amount&quot;)))","title":"getting sum of a column using CriteriaBuilder","body":"<p>instead of what your are doing</p>\n\n<pre><code>query.select(criteriaBuilder.sum(root.get(\"amount\"))) \n</code></pre>\n\n<p>try doing this</p>\n\n<pre><code>query.select(criteriaBuilder.sum(root.&lt;BigDecimal&gt; get(\"amount\")))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668355687,"creation_date":1668355687,"answer_id":74422587,"question_id":39015934,"body_markdown":"TL;DR\r\n\r\n&gt;  Sum of amount using criteria \r\n\r\nYou need to pass proper expression, to do so you should pass the [CriteriaQuery][1] with numeric type to the criteria builder.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class Aggregate&lt;T, S extends Number&gt; {\r\n        public Aggregate(Class&lt;T&gt; tableType, Class&lt;S&gt; type) {\r\n            this.criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            this.criteria = criteriaBuilder.createQuery(type);\r\n            this.root = criteria.from(tableType);\r\n        }\r\n\r\n        public Aggregate&lt;T, S&gt; aggregate(String field) {\r\n            criteria.select(criteriaBuilder.sum(root.get(field)));\r\n            return this;\r\n        }\r\n\r\n        public &lt;I&gt; Aggregate&lt;T, S&gt; restrict(String field, I i) {\r\n            criteria.where(criteriaBuilder.equal(root.get(field), i));\r\n            return this;\r\n        }\r\n\r\n        public S perform() {\r\n            return entityManager.createQuery(criteria).getSingleResult();\r\n        }\r\n\r\n        private Root&lt;T&gt; root;\r\n\r\n        private final CriteriaQuery&lt;S&gt; criteria;\r\n\r\n        private final CriteriaBuilder criteriaBuilder;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html\r\n  [2]: https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/package-summary.html","title":"getting sum of a column using CriteriaBuilder","body":"<p>TL;DR</p>\n<blockquote>\n<p>Sum of amount using criteria</p>\n</blockquote>\n<p>You need to pass proper expression, to do so you should pass the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html\" rel=\"nofollow noreferrer\">CriteriaQuery</a> with numeric type to the criteria builder.</p>\n<pre class=\"lang-html prettyprint-override\"><code>public class Aggregate&lt;T, S extends Number&gt; {\n    public Aggregate(Class&lt;T&gt; tableType, Class&lt;S&gt; type) {\n        this.criteriaBuilder = entityManager.getCriteriaBuilder();\n        this.criteria = criteriaBuilder.createQuery(type);\n        this.root = criteria.from(tableType);\n    }\n\n    public Aggregate&lt;T, S&gt; aggregate(String field) {\n        criteria.select(criteriaBuilder.sum(root.get(field)));\n        return this;\n    }\n\n    public &lt;I&gt; Aggregate&lt;T, S&gt; restrict(String field, I i) {\n        criteria.where(criteriaBuilder.equal(root.get(field), i));\n        return this;\n    }\n\n    public S perform() {\n        return entityManager.createQuery(criteria).getSingleResult();\n    }\n\n    private Root&lt;T&gt; root;\n\n    private final CriteriaQuery&lt;S&gt; criteria;\n\n    private final CriteriaBuilder criteriaBuilder;\n}\n</code></pre>\n\n"}],"owner":{"account_id":3861823,"reputation":123,"user_id":3199385,"accept_rate":38,"display_name":"user3199385"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668355687,"creation_date":1471516390,"question_id":39015934,"body_markdown":"I am trying to get a Sum of amount using criteria (Criteria Builder and CriteriaQuery)\r\n\r\nBut I am getting a error when I am writing the code;\r\nHere is my code\r\n\r\n        public Long findAmountByCriteria(OrderCriteria orderCriteria) {\r\n    \r\n      final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n      final CriteriaQuery&lt;BigDecimal&gt; query = criteriaBuilder.createQuery(BigDecimal.class);\r\n      Root&lt;Order&gt; root = query.from(Order.class);\r\n      \r\n      query.select(criteriaBuilder.sum(root.get(&quot;amount&quot;)))\r\n      .where(buildPredicateForOrderResponseCriteria(criteriaBuilder, orderCriteria, root));\r\n     \r\n      final TypedQuery&lt;BigDecimal&gt; typedQuery = entityManager.createQuery(query);\r\n      return typedQuery.getSingleResult().longValue();\r\n    }\r\n\r\nAmount is in a BigDecimal value.\r\n\r\nin select mehtod it says,\r\n\r\n    The method select(Selection&lt;? extends BigDecimal&gt;) in the type CriteriaQuery&lt;BigDecimal&gt; is not applicable for the arguments (Expression&lt;Object&gt;)\r\n\r\nin sum method\r\n\r\n    Bound mismatch: The generic method sum(Expression&lt;N&gt;) of type CriteriaBuilder is not applicable for the arguments (Path&lt;Object&gt;). The inferred type Object is not a valid substitute for the bounded parameter &lt;N extends Number&gt;\r\n\r\nHow can I fix this problem.","title":"getting sum of a column using CriteriaBuilder","body":"<p>I am trying to get a Sum of amount using criteria (Criteria Builder and CriteriaQuery)</p>\n\n<p>But I am getting a error when I am writing the code;\nHere is my code</p>\n\n<pre><code>    public Long findAmountByCriteria(OrderCriteria orderCriteria) {\n\n  final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n  final CriteriaQuery&lt;BigDecimal&gt; query = criteriaBuilder.createQuery(BigDecimal.class);\n  Root&lt;Order&gt; root = query.from(Order.class);\n\n  query.select(criteriaBuilder.sum(root.get(\"amount\")))\n  .where(buildPredicateForOrderResponseCriteria(criteriaBuilder, orderCriteria, root));\n\n  final TypedQuery&lt;BigDecimal&gt; typedQuery = entityManager.createQuery(query);\n  return typedQuery.getSingleResult().longValue();\n}\n</code></pre>\n\n<p>Amount is in a BigDecimal value.</p>\n\n<p>in select mehtod it says,</p>\n\n<pre><code>The method select(Selection&lt;? extends BigDecimal&gt;) in the type CriteriaQuery&lt;BigDecimal&gt; is not applicable for the arguments (Expression&lt;Object&gt;)\n</code></pre>\n\n<p>in sum method</p>\n\n<pre><code>Bound mismatch: The generic method sum(Expression&lt;N&gt;) of type CriteriaBuilder is not applicable for the arguments (Path&lt;Object&gt;). The inferred type Object is not a valid substitute for the bounded parameter &lt;N extends Number&gt;\n</code></pre>\n\n<p>How can I fix this problem.</p>\n"},{"tags":["java","jsr310"],"answers":[{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1460039812,"creation_date":1338289181,"answer_id":10797809,"question_id":10797808,"body_markdown":"And there is... according to the [User Guide][1] (offline, see [JavaDoc][2] instead), you should use `DateTimeFormatterBuilder` to build a complex `DateTimeFormatter`\r\n\r\ne.g. \r\n\r\n    DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\r\n    builder.parseCaseInsensitive();\r\n    builder.appendPattern(&quot;dd-MMM-yyyy&quot;);\r\n    DateTimeFormatter dateFormat = builder.toFormatter();\r\n\r\n\r\n  [1]: http://sourceforge.net/apps/mediawiki/threeten/index.php?title=User_Guide#Formatting\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#parseCaseInsensitive--","title":"How to parse case-insensitive strings with JSR-310 DateTimeFormatter?","body":"<p>And there is... according to the <a href=\"http://sourceforge.net/apps/mediawiki/threeten/index.php?title=User_Guide#Formatting\" rel=\"noreferrer\">User Guide</a> (offline, see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#parseCaseInsensitive--\" rel=\"noreferrer\">JavaDoc</a> instead), you should use <code>DateTimeFormatterBuilder</code> to build a complex <code>DateTimeFormatter</code></p>\n\n<p>e.g. </p>\n\n<pre><code>DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\nbuilder.parseCaseInsensitive();\nbuilder.appendPattern(\"dd-MMM-yyyy\");\nDateTimeFormatter dateFormat = builder.toFormatter();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1454511487,"creation_date":1454511487,"answer_id":35180392,"question_id":10797808,"body_markdown":"This alternative is usefull for initializating static variables: \r\n\r\n    DateTimeFormatter myFormatter = new DateTimeFormatterBuilder()\r\n                                   .parseCaseInsensitive()\r\n                                   .appendPattern(&quot;dd-MMM-yyyy&quot;)\r\n                                   .toFormatter(Locale.ENGLISH);","title":"How to parse case-insensitive strings with JSR-310 DateTimeFormatter?","body":"<p>This alternative is usefull for initializating static variables: </p>\n\n<pre><code>DateTimeFormatter myFormatter = new DateTimeFormatterBuilder()\n                               .parseCaseInsensitive()\n                               .appendPattern(\"dd-MMM-yyyy\")\n                               .toFormatter(Locale.ENGLISH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160316,"reputation":1009,"user_id":380278,"accept_rate":50,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524657539,"creation_date":1524657539,"answer_id":50021773,"question_id":10797808,"body_markdown":"Just an extra Note, the order matters.\r\n\r\nThis is case insensitive:\r\n\r\n\t\t    \tDateTimeFormatter format = new DateTimeFormatterBuilder()\r\n\t\t    \t\t.parseCaseInsensitive()\r\n\t\t    \t\t.parseLenient()\r\n\t\t            .appendPattern(&quot;HH:mm EEEE&quot;)\r\n\t\t            .toFormatter(); \r\n\r\n\r\n\r\nThis is not:\r\n\r\n\t\t    \tDateTimeFormatter format = new DateTimeFormatterBuilder()\r\n\t\t    \t\t.appendPattern(&quot;HH:mm EEEE&quot;)\r\n                    .parseCaseInsensitive()\r\n\t\t    \t\t.parseLenient()\r\n\t\t            .toFormatter(); ","title":"How to parse case-insensitive strings with JSR-310 DateTimeFormatter?","body":"<p>Just an extra Note, the order matters.</p>\n\n<p>This is case insensitive:</p>\n\n<pre><code>            DateTimeFormatter format = new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .parseLenient()\n                .appendPattern(\"HH:mm EEEE\")\n                .toFormatter(); \n</code></pre>\n\n<p>This is not:</p>\n\n<pre><code>            DateTimeFormatter format = new DateTimeFormatterBuilder()\n                .appendPattern(\"HH:mm EEEE\")\n                .parseCaseInsensitive()\n                .parseLenient()\n                .toFormatter(); \n</code></pre>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9915,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":10797809,"answer_count":3,"score":23,"last_activity_date":1668355306,"creation_date":1338289181,"question_id":10797808,"body_markdown":"JSR-310 has a handy class `DateTimeFormatter` which allows you to construct a `DateTimeFormatter`. I particularly like the `pattern(String)` method - see [javadoc][1]\r\n\r\nHowever, I hit a problem whereby this is case sensitive -- e.g.\r\n\r\n    DateTimeFormatters.pattern(&quot;dd-MMM-yyyy&quot;);\r\n\r\nmatches with &quot;01-Jan-2012&quot;, but not with &quot;01-JAN-2012&quot; or &quot;01-jan-2012&quot;.\r\n\r\nOne approach would be to break the string down and parse components, or another would be to use Regex to replace the case-insensitive strings with the case-sensitive string.\r\n\r\nBut it feels like there ought to be an easier way...\r\n\r\n  [1]: http://threeten.sourceforge.net/apidocs/javax/time/calendar/format/DateTimeFormatters.html#pattern%28java.lang.String%29","title":"How to parse case-insensitive strings with JSR-310 DateTimeFormatter?","body":"<p>JSR-310 has a handy class <code>DateTimeFormatter</code> which allows you to construct a <code>DateTimeFormatter</code>. I particularly like the <code>pattern(String)</code> method - see <a href=\"http://threeten.sourceforge.net/apidocs/javax/time/calendar/format/DateTimeFormatters.html#pattern%28java.lang.String%29\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<p>However, I hit a problem whereby this is case sensitive -- e.g.</p>\n<pre><code>DateTimeFormatters.pattern(&quot;dd-MMM-yyyy&quot;);\n</code></pre>\n<p>matches with &quot;01-Jan-2012&quot;, but not with &quot;01-JAN-2012&quot; or &quot;01-jan-2012&quot;.</p>\n<p>One approach would be to break the string down and parse components, or another would be to use Regex to replace the case-insensitive strings with the case-sensitive string.</p>\n<p>But it feels like there ought to be an easier way...</p>\n"},{"tags":["java","constructor","initialization","thread-safety"],"comments":[{"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"score":0,"creation_date":1546363545,"post_id":1588420,"comment_id":94832121,"body_markdown":"https://wiki.sei.cmu.edu/confluence/display/java/TSM01-J.+Do+not+let+the+this+reference+escape+during+object+construction","body":"<a href=\"https://wiki.sei.cmu.edu/confluence/display/java/TSM01-J.+Do+not+let+the+this+reference+escape+during+object+construction\" rel=\"nofollow noreferrer\">wiki.sei.cmu.edu/confluence/display/java/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1255957206,"creation_date":1255955775,"answer_id":1588445,"question_id":1588420,"body_markdown":"Example : in a constructor, you create an event listener **inner class** (it has an implicit reference to the current object), and register it to a list of listener.  \r\n=&gt; So your object can be used by another thread, even though it did not finish executing its constructor.\r\n\r\n         public class A {\r\n   \r\n          private boolean isIt;\r\n          private String yesItIs;\r\n\r\n          public A() {\r\n            EventListener el = new EventListener() { ....};\r\n            StaticListeners.register(el);\r\n            isIt = true;\r\n            yesItIs = &quot;yesItIs&quot;;\r\n          }\r\n         }\r\n\r\n-------------------------------\r\nAn additional problem that could happen later : the object A could be fully created, made available to all threads, use by another thread ... except that that thread could see the A instance as created, yesItIs with it &quot;yesItIs&quot; value, but not `isIt`! Believe it or not, this could happen ! What happen is:  \r\n&gt;=&gt; **synchronization is only half about blocking thread, the other half is about inter-thread visibility**.\r\n\r\nThe reason for that Java choice is performance : inter-thread visibility would kill performance if all data would be shared with all threads, so only synchronized data is guaranteed to be shared...","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>Example : in a constructor, you create an event listener <strong>inner class</strong> (it has an implicit reference to the current object), and register it to a list of listener.<br>\n=> So your object can be used by another thread, even though it did not finish executing its constructor.</p>\n\n<pre><code>     public class A {\n\n      private boolean isIt;\n      private String yesItIs;\n\n      public A() {\n        EventListener el = new EventListener() { ....};\n        StaticListeners.register(el);\n        isIt = true;\n        yesItIs = \"yesItIs\";\n      }\n     }\n</code></pre>\n\n<hr>\n\n<p>An additional problem that could happen later : the object A could be fully created, made available to all threads, use by another thread ... except that that thread could see the A instance as created, yesItIs with it \"yesItIs\" value, but not <code>isIt</code>! Believe it or not, this could happen ! What happen is:  </p>\n\n<blockquote>\n  <p>=> <strong>synchronization is only half about blocking thread, the other half is about inter-thread visibility</strong>.</p>\n</blockquote>\n\n<p>The reason for that Java choice is performance : inter-thread visibility would kill performance if all data would be shared with all threads, so only synchronized data is guaranteed to be shared...</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1255955963,"creation_date":1255955963,"answer_id":1588470,"question_id":1588420,"body_markdown":"Really simple example:\r\n\r\n    public class Test\r\n    {\r\n        private static Test lastCreatedInstance;\r\n\r\n        public Test()\r\n        {\r\n            lastCreatedInstance = this;\r\n        }\r\n    }","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>Really simple example:</p>\n\n<pre><code>public class Test\n{\n    private static Test lastCreatedInstance;\n\n    public Test()\n    {\n        lastCreatedInstance = this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40970,"reputation":11257,"user_id":118959,"display_name":"Steve Gilham"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1255957180,"creation_date":1255956121,"answer_id":1588480,"question_id":1588420,"body_markdown":"This is the reason why double-checked locking doesn&#39;t work.  The naive code\r\n\r\n    if(obj == null)\r\n    {\r\n      synchronized(something)\r\n      {\r\n         if (obj == null) obj = BuildObject(...);\r\n      }\r\n    } \r\n    // do something with obj\r\n\r\nis not safe because the assignment to the local variable can occur before the rest of the construction (constructor or factory method).  Thus thread 1 can be in the `BuildObject` step, when thread 2 enters the same block, detects a non-null `obj`, and then proceeds to operate on an incomplete object (thread 1 having been scheduled out in mid-call).","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>This is the reason why double-checked locking doesn't work.  The naive code</p>\n\n<pre><code>if(obj == null)\n{\n  synchronized(something)\n  {\n     if (obj == null) obj = BuildObject(...);\n  }\n} \n// do something with obj\n</code></pre>\n\n<p>is not safe because the assignment to the local variable can occur before the rest of the construction (constructor or factory method).  Thus thread 1 can be in the <code>BuildObject</code> step, when thread 2 enters the same block, detects a non-null <code>obj</code>, and then proceeds to operate on an incomplete object (thread 1 having been scheduled out in mid-call).</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1255956303,"creation_date":1255956303,"answer_id":1588495,"question_id":1588420,"body_markdown":"    public class MyClass{\r\n        String name;    \r\n    \r\n        public MyClass(String s)\r\n        {\r\n            if(s==null)\r\n            {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            OtherClass.method(this);\r\n            name= s;\r\n        }\r\n\r\n        public getName(){ return name; }\r\n    }\r\n\r\nIn the above code, `OtherClass.method()` is passed an instance of `MyClass` which is at that point incompletely constructed, i.e. not yet fulfilling the contract that the `name` property is non-null.","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<pre><code>public class MyClass{\n    String name;    \n\n    public MyClass(String s)\n    {\n        if(s==null)\n        {\n            throw new IllegalArgumentException();\n        }\n        OtherClass.method(this);\n        name= s;\n    }\n\n    public getName(){ return name; }\n}\n</code></pre>\n\n<p>In the above code, <code>OtherClass.method()</code> is passed an instance of <code>MyClass</code> which is at that point incompletely constructed, i.e. not yet fulfilling the contract that the <code>name</code> property is non-null.</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255960334,"creation_date":1255959958,"answer_id":1588767,"question_id":1588420,"body_markdown":"Steve Gilham is correct in his assesment of why double checked locking is broken.  If thread A enters that method and obj is null, that thread will begin to create an instance of the object and assign it obj.  Thread B can possibly enter while thread A is still instantiating that object (but not completing) and will then view the object as not null but that object&#39;s field may not have been initialized.  A partially constructed object.\r\n\r\nHowever, the same type of problem can arrise if you allow the keyword this to escape the constructor.  Say your constructor creates an instance of an object which forks a thread, and that object accepts your type of object.  Now your object may have not be fully initialized, that is some of your fields may be null.  A reference to your object by the one you have created in your constructor can now reference you as a non null object but get null field values.\r\n\r\nA bit more explanation:\r\n\r\nYour constructor can initialize every field in your class, but if you allow &#39;this&#39; to escape before any of the other objects are created, they can be null (or default primative) when viewed by other threads if 1.  They are not declared final or 2.  They are not declared volatile","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>Steve Gilham is correct in his assesment of why double checked locking is broken.  If thread A enters that method and obj is null, that thread will begin to create an instance of the object and assign it obj.  Thread B can possibly enter while thread A is still instantiating that object (but not completing) and will then view the object as not null but that object's field may not have been initialized.  A partially constructed object.</p>\n\n<p>However, the same type of problem can arrise if you allow the keyword this to escape the constructor.  Say your constructor creates an instance of an object which forks a thread, and that object accepts your type of object.  Now your object may have not be fully initialized, that is some of your fields may be null.  A reference to your object by the one you have created in your constructor can now reference you as a non null object but get null field values.</p>\n\n<p>A bit more explanation:</p>\n\n<p>Your constructor can initialize every field in your class, but if you allow 'this' to escape before any of the other objects are created, they can be null (or default primative) when viewed by other threads if 1.  They are not declared final or 2.  They are not declared volatile</p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345757057,"creation_date":1345757057,"answer_id":12100189,"question_id":1588420,"body_markdown":"    public class Test extends SomeUnknownClass{\r\n        public Test(){\r\n            this.addListner(new SomeEventListner(){\r\n                @Override\r\n                void act(){}\r\n            });\r\n        }\r\n    }\r\nAfter this operation instanse of SomeEventListner will have a link to Test object, as a usual inner class. \r\n\r\nMore examples can be find here:\r\nhttp://www.ibm.com/developerworks/java/library/j-jtp0618/index.html","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<pre><code>public class Test extends SomeUnknownClass{\n    public Test(){\n        this.addListner(new SomeEventListner(){\n            @Override\n            void act(){}\n        });\n    }\n}\n</code></pre>\n\n<p>After this operation instanse of SomeEventListner will have a link to Test object, as a usual inner class. </p>\n\n<p>More examples can be find here:\n<a href=\"http://www.ibm.com/developerworks/java/library/j-jtp0618/index.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/java/library/j-jtp0618/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668355202,"creation_date":1667382781,"answer_id":74287269,"question_id":1588420,"body_markdown":"Here&#39;s an example of how uninitialized `this` of `OuterClass` can be accessed from inside of inner class:\r\n\r\n    public class OuterClass {\r\n    \r\n        public Integer num;\r\n    \r\n        public OuterClass() {\r\n            Runnable runnable = new Runnable() { // might lead to this reference escape\r\n                @Override\r\n                public void run() {\r\n                    // example of how uninitialized this of outer class\r\n                    // can be accessed from inside of inner class\r\n                    System.out.println(OuterClass.this.num); // will print null\r\n                }\r\n            };\r\n            new Thread(runnable).start();\r\n            new Thread().start(); // just some logic to keep JVM busy\r\n            new Thread().start(); // just some logic to keep JVM busy\r\n            this.num = 8;\r\n            System.out.println(this.num); // will print 8\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new OuterClass();\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    null\r\n    8\r\n\r\nPay attention to `OuterClass.this.num` instruction in the code","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>Here's an example of how uninitialized <code>this</code> of <code>OuterClass</code> can be accessed from inside of inner class:</p>\n<pre><code>public class OuterClass {\n\n    public Integer num;\n\n    public OuterClass() {\n        Runnable runnable = new Runnable() { // might lead to this reference escape\n            @Override\n            public void run() {\n                // example of how uninitialized this of outer class\n                // can be accessed from inside of inner class\n                System.out.println(OuterClass.this.num); // will print null\n            }\n        };\n        new Thread(runnable).start();\n        new Thread().start(); // just some logic to keep JVM busy\n        new Thread().start(); // just some logic to keep JVM busy\n        this.num = 8;\n        System.out.println(this.num); // will print 8\n    }\n\n    public static void main(String[] args) {\n        new OuterClass();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>null\n8\n</code></pre>\n<p>Pay attention to <code>OuterClass.this.num</code> instruction in the code</p>\n"}],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6729,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":1588470,"answer_count":7,"score":24,"last_activity_date":1668355202,"creation_date":1255955440,"question_id":1588420,"body_markdown":"I&#39;ve heard about this happening in non thread-safe code due to improperly *constructed* objects but I really don&#39;t have the concept down, even after reading about in in Goetz&#39;s book. I&#39;d like to solidify my understanding of this code smell as I maybe doing it and not even realize it. Please provide code in your explanation to make it stick, thanks. ","title":"How does &quot;this&quot; escape the constructor in Java?","body":"<p>I've heard about this happening in non thread-safe code due to improperly <em>constructed</em> objects but I really don't have the concept down, even after reading about in in Goetz's book. I'd like to solidify my understanding of this code smell as I maybe doing it and not even realize it. Please provide code in your explanation to make it stick, thanks. </p>\n"},{"tags":["java","datetime","datetime-format","datetime-parsing"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":2,"creation_date":1668149801,"post_id":74398950,"comment_id":131340162,"body_markdown":"Ask the date&#39;s producer for a stable representation of this date &amp; time, best is ISO8601 date time format. If that is not possible, you could use java.util.regex.Pattern to determine the format upfront, before selecting the appropriate [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).\n\nDo not use SimpleDateFormat or Date any more, switch to the types from java.time.*","body":"Ask the date&#39;s producer for a stable representation of this date &amp; time, best is ISO8601 date time format. If that is not possible, you could use java.util.regex.Pattern to determine the format upfront, before selecting the appropriate <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>.  Do not use SimpleDateFormat or Date any more, switch to the types from java.time.*"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668155319,"post_id":74398950,"comment_id":131341613,"body_markdown":"I strongly recommend you do not use `SimpleDateFormat` and `Date`. They are troublesome and long outdated. Also there is no way that `SimpleDateFormat` can parse 6 decimals of fraction of second, so it is not going to work. Use `OffsetDateTime` and `DateTimeFormatter`, possibly also `DateTimeFormatterBuilder`; all are from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend you do not use <code>SimpleDateFormat</code> and <code>Date</code>. They are troublesome and long outdated. Also there is no way that <code>SimpleDateFormat</code> can parse 6 decimals of fraction of second, so it is not going to work. Use <code>OffsetDateTime</code> and <code>DateTimeFormatter</code>, possibly also <code>DateTimeFormatterBuilder</code>; all are from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668150779,"creation_date":1668150779,"answer_id":74399110,"question_id":74398950,"body_markdown":"I found the solution for your problem. first you need to split your string and after that you can format it. try this\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n        String fecha = &quot;2022-11-08 10:28:04.282551-06&quot;;\r\n        String[] parts = fecha.split(&quot;\\\\.&quot;);\r\n        String part1 = parts[0];\r\n        String part2 = parts[1];\r\n\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        System.out.println(simpleDateFormat.parse(part1));\r\n\r\n    }","title":"How can I parse and format this string date 2022-11-08 10:28:04.282551-06?","body":"<p>I found the solution for your problem. first you need to split your string and after that you can format it. try this</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    String fecha = &quot;2022-11-08 10:28:04.282551-06&quot;;\n    String[] parts = fecha.split(&quot;\\\\.&quot;);\n    String part1 = parts[0];\n    String part2 = parts[1];\n\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    System.out.println(simpleDateFormat.parse(part1));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668354580,"creation_date":1668155433,"answer_id":74399831,"question_id":74398950,"body_markdown":"It is strongly recommended to stop using the outdated `Date`, `Calendar`, `SimpleDateFormat`, ... classes - these were replaced by classes from the `java.time` package and sub-packages like `LocalDateTime`, `ZonedDateTime`, `DateTimeFormatter`, ...\r\n\r\nSince we have a fractional part with variable size, we need the `DateTimeFormatterBuilder` to create the corresponding formatter for parsing the string. In it we are reusing the existing `ISO_LOCAL_TIME`, which handles the requirement by accepting from no fraction up to 9 decimals of fraction of second.\r\n\r\n````\r\nprivate static final DateTimeFormatter PARSE_FORMATTER = \r\n\t    new DateTimeFormatterBuilder()\r\n\t    \t\t.append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n\t    \t\t.appendLiteral(&#39; &#39;)\r\n\t    \t\t.append(DateTimeFormatter.ISO_LOCAL_TIME) // accepts presence or absence of fraction\r\n\t    \t\t.appendOffset(&quot;+HHmm&quot;, &quot;+00&quot;) // accepts -06 and +0530\r\n\t    \t\t.toFormatter(Locale.ROOT);  // replace as needed\r\n\r\npublic static OffsetDateTime convert(String str) {\r\n\treturn OffsetDateTime.parse(str, PARSE_FORMATTER);\r\n}\r\n````\r\n\r\nTo have a string like &quot;2022-11-08 10:28:04.282551&quot; format, we need an additional formatter:\r\n````\r\nprivate static final DateTimeFormatter FORMAT_FORMATTER = \r\n\t\tDateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS&quot;);  // time zone is IGNORED!!\r\n\r\npublic static String convertToString(OffsetDateTime dateTime) {\r\n    return dateTime.format(FORMAT_FORMATTER);\r\n}\r\n````\r\n\r\nThe previous both methods can (obviously) be merged together in one method, but it is preferable to work with date-time objects (`ZonedDateTime`, `OffsetDateTime`, `LocalDateTime`, ...) instead of strings - strings should only be used for input and output!\r\n\r\nThe above Formatter is not including the time zone information in the result, that can be very confusing (IMHO) - see last date of test output below.   Please be sure that such is really required!!!   \r\nOtherwise we may convert the `OffsetDateTme` into a `ZonedDateTime` like in   `dateTime.atZoneSameInstant(ZoneId.systemDefault()).format(FORMAT_FORMATTER);`   \r\nor include the time zone information in the output formatter as shown at the bottom.\r\n\r\n-----\r\n\r\nTest for above methods:\r\n````\r\npublic static void main(String[] args) {\r\n    // just for testing\r\n    Locale.setDefault(Category.DISPLAY, Locale.GERMANY);\r\n    Locale.setDefault(Category.FORMAT, Locale.GERMANY);\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n    \r\n    var data = &quot;&quot;&quot;\r\n        2022-11-08 10:28:04.282551-06\r\n        2022-11-08 10:28:04.282-06\r\n        2022-11-08 10:28:04-06\r\n        2022-11-08 10:28:04+02\r\n        &quot;&quot;&quot;.split(&quot;\\n&quot;);\r\n    for (var str : data) {\r\n        test(str);\r\n    }\r\n}\r\n\r\nprivate static void test(String str) {\r\n    try {\r\n        System.out.printf(&quot;%-30s  -&gt;  %s%n&quot;, str, convertToString(convert(str)));\r\n    } catch (Exception ex) {\r\n        System.err.printf(&quot;%-30s  -&gt;   %s%n&quot;, str, ex);\r\n    }\r\n}\r\n````\r\nOutput:\r\n&gt; ````\r\n&gt; openjdk version &quot;20-ea&quot; 2023-03-21\r\n&gt; OpenJDK Runtime Environment (build 20-ea+12-790)\r\n&gt; OpenJDK 64-Bit Server VM (build 20-ea+12-790, mixed mode, sharing)\r\n&gt; 2022-11-08 10:28:04.282551-06   -&gt;  2022-11-08 10:28:04.282551\r\n&gt; 2022-11-08 10:28:04.282-06      -&gt;  2022-11-08 10:28:04.282000\r\n&gt; 2022-11-08 10:28:04-06          -&gt;  2022-11-08 10:28:04.000000\r\n&gt; 2022-11-08 10:28:04+02          -&gt;  2022-11-08 10:28:04.000000\r\n&gt; ````\r\n\r\nIf we want to make sure that the output is some specific time zone, we can for example specify it on the format formatter like this:\r\n\r\n```\r\nprivate static final DateTimeFormatter FORMAT_FORMATTER = \r\n\t\tDateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS&quot;)\r\n\t\t\t\t.withZone(ZoneId.of(&quot;Europe/Berlin&quot;));\r\n```\r\n\r\nNow the output will be:\r\n\r\n&gt; ```\r\n&gt; 2022-11-08 10:28:04.282551-06   -&gt;  2022-11-08 17:28:04.282551\r\n&gt; 2022-11-08 10:28:04.282-06      -&gt;  2022-11-08 17:28:04.282000\r\n&gt; 2022-11-08 10:28:04-06          -&gt;  2022-11-08 17:28:04.000000\r\n&gt; 2022-11-08 10:28:04+02          -&gt;  2022-11-08 09:28:04.000000\r\n&gt; ```\r\n\r\nEdit: the version of the parse formatter first presented in this answer was:\r\n\r\n```\r\nprivate static final DateTimeFormatter PARSE_FORMATTER = \r\n    new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)  // date time\r\n    .optionalStart()\r\n    .appendFraction(ChronoField.MICRO_OF_SECOND, 3, 6, true)  // optional fractions\r\n    .optionalEnd()\r\n    .appendPattern(&quot;x&quot;)  // time zone offset\r\n    .toFormatter()\r\n    .withLocale(Locale.ROOT);  // replace as needed\r\n```\r\n\r\n","title":"How can I parse and format this string date 2022-11-08 10:28:04.282551-06?","body":"<p>It is strongly recommended to stop using the outdated <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, ... classes - these were replaced by classes from the <code>java.time</code> package and sub-packages like <code>LocalDateTime</code>, <code>ZonedDateTime</code>, <code>DateTimeFormatter</code>, ...</p>\n<p>Since we have a fractional part with variable size, we need the <code>DateTimeFormatterBuilder</code> to create the corresponding formatter for parsing the string. In it we are reusing the existing <code>ISO_LOCAL_TIME</code>, which handles the requirement by accepting from no fraction up to 9 decimals of fraction of second.</p>\n<pre><code>private static final DateTimeFormatter PARSE_FORMATTER = \n        new DateTimeFormatterBuilder()\n                .append(DateTimeFormatter.ISO_LOCAL_DATE)\n                .appendLiteral(' ')\n                .append(DateTimeFormatter.ISO_LOCAL_TIME) // accepts presence or absence of fraction\n                .appendOffset(&quot;+HHmm&quot;, &quot;+00&quot;) // accepts -06 and +0530\n                .toFormatter(Locale.ROOT);  // replace as needed\n\npublic static OffsetDateTime convert(String str) {\n    return OffsetDateTime.parse(str, PARSE_FORMATTER);\n}\n</code></pre>\n<p>To have a string like &quot;2022-11-08 10:28:04.282551&quot; format, we need an additional formatter:</p>\n<pre><code>private static final DateTimeFormatter FORMAT_FORMATTER = \n        DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS&quot;);  // time zone is IGNORED!!\n\npublic static String convertToString(OffsetDateTime dateTime) {\n    return dateTime.format(FORMAT_FORMATTER);\n}\n</code></pre>\n<p>The previous both methods can (obviously) be merged together in one method, but it is preferable to work with date-time objects (<code>ZonedDateTime</code>, <code>OffsetDateTime</code>, <code>LocalDateTime</code>, ...) instead of strings - strings should only be used for input and output!</p>\n<p>The above Formatter is not including the time zone information in the result, that can be very confusing (IMHO) - see last date of test output below.   Please be sure that such is really required!!!<br />\nOtherwise we may convert the <code>OffsetDateTme</code> into a <code>ZonedDateTime</code> like in   <code>dateTime.atZoneSameInstant(ZoneId.systemDefault()).format(FORMAT_FORMATTER);</code><br />\nor include the time zone information in the output formatter as shown at the bottom.</p>\n<hr />\n<p>Test for above methods:</p>\n<pre><code>public static void main(String[] args) {\n    // just for testing\n    Locale.setDefault(Category.DISPLAY, Locale.GERMANY);\n    Locale.setDefault(Category.FORMAT, Locale.GERMANY);\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n    \n    var data = &quot;&quot;&quot;\n        2022-11-08 10:28:04.282551-06\n        2022-11-08 10:28:04.282-06\n        2022-11-08 10:28:04-06\n        2022-11-08 10:28:04+02\n        &quot;&quot;&quot;.split(&quot;\\n&quot;);\n    for (var str : data) {\n        test(str);\n    }\n}\n\nprivate static void test(String str) {\n    try {\n        System.out.printf(&quot;%-30s  -&gt;  %s%n&quot;, str, convertToString(convert(str)));\n    } catch (Exception ex) {\n        System.err.printf(&quot;%-30s  -&gt;   %s%n&quot;, str, ex);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code>openjdk version &quot;20-ea&quot; 2023-03-21\nOpenJDK Runtime Environment (build 20-ea+12-790)\nOpenJDK 64-Bit Server VM (build 20-ea+12-790, mixed mode, sharing)\n2022-11-08 10:28:04.282551-06   -&gt;  2022-11-08 10:28:04.282551\n2022-11-08 10:28:04.282-06      -&gt;  2022-11-08 10:28:04.282000\n2022-11-08 10:28:04-06          -&gt;  2022-11-08 10:28:04.000000\n2022-11-08 10:28:04+02          -&gt;  2022-11-08 10:28:04.000000\n</code></pre>\n</blockquote>\n<p>If we want to make sure that the output is some specific time zone, we can for example specify it on the format formatter like this:</p>\n<pre><code>private static final DateTimeFormatter FORMAT_FORMATTER = \n        DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS&quot;)\n                .withZone(ZoneId.of(&quot;Europe/Berlin&quot;));\n</code></pre>\n<p>Now the output will be:</p>\n<blockquote>\n<pre><code>2022-11-08 10:28:04.282551-06   -&gt;  2022-11-08 17:28:04.282551\n2022-11-08 10:28:04.282-06      -&gt;  2022-11-08 17:28:04.282000\n2022-11-08 10:28:04-06          -&gt;  2022-11-08 17:28:04.000000\n2022-11-08 10:28:04+02          -&gt;  2022-11-08 09:28:04.000000\n</code></pre>\n</blockquote>\n<p>Edit: the version of the parse formatter first presented in this answer was:</p>\n<pre><code>private static final DateTimeFormatter PARSE_FORMATTER = \n    new DateTimeFormatterBuilder()\n    .appendPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)  // date time\n    .optionalStart()\n    .appendFraction(ChronoField.MICRO_OF_SECOND, 3, 6, true)  // optional fractions\n    .optionalEnd()\n    .appendPattern(&quot;x&quot;)  // time zone offset\n    .toFormatter()\n    .withLocale(Locale.ROOT);  // replace as needed\n</code></pre>\n"}],"owner":{"account_id":26730829,"reputation":1,"user_id":20333373,"display_name":"JACGV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74399831,"answer_count":2,"score":0,"last_activity_date":1668354580,"creation_date":1668149510,"question_id":74398950,"body_markdown":"I have this code:\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws ParseException {\r\n\t\tString fecha = &quot;2022-11-08 10:28:04.282551-06&quot;;\r\n\t\t\r\n\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;);\r\n\t\tDate e = simpleDateFormat.parse(fecha);\r\n\t\tSimpleDateFormat newSimpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\t\tSystem.out.println(newSimpleDateFormat.format(e));\r\n\t\t\r\n\t}\r\n```\r\nAnd this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;2022-11-08 10:28:04.282551-06&quot;\r\n\tat java.text.DateFormat.parse(DateFormat.java:366)\r\n\tat Ejemplos.main(Ejemplos.java:11)\r\n\r\n```\r\n\r\nI want my new date like this: **2022-11-08 10:28:04.282551**\r\nThis values after dot *282551 *sometimes can be less, for example: *282 *or *2825* and sometimes there is not a dot, for example: *2022-11-08 10:28:04-06*\r\n\r\n\r\n","title":"How can I parse and format this string date 2022-11-08 10:28:04.282551-06?","body":"<p>I have this code:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n        String fecha = &quot;2022-11-08 10:28:04.282551-06&quot;;\n        \n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;);\n        Date e = simpleDateFormat.parse(fecha);\n        SimpleDateFormat newSimpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n        System.out.println(newSimpleDateFormat.format(e));\n        \n    }\n</code></pre>\n<p>And this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;2022-11-08 10:28:04.282551-06&quot;\n    at java.text.DateFormat.parse(DateFormat.java:366)\n    at Ejemplos.main(Ejemplos.java:11)\n\n</code></pre>\n<p>I want my new date like this: <strong>2022-11-08 10:28:04.282551</strong>\nThis values after dot *282551 *sometimes can be less, for example: *282 *or <em>2825</em> and sometimes there is not a dot, for example: <em>2022-11-08 10:28:04-06</em></p>\n"},{"tags":["java","generics","reflection","computer-science","method-invocation"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1668353859,"post_id":74422362,"comment_id":131379521,"body_markdown":"You can&#39;t easily create `Type`s, as far as I know, so I&#39;m not sure how convenient such an API would be to use.","body":"You can&#39;t easily create <code>Type</code>s, as far as I know, so I&#39;m not sure how convenient such an API would be to use."},{"owner":{"account_id":20284545,"reputation":11,"user_id":14877507,"display_name":"HandleCoding"},"score":0,"creation_date":1668354158,"post_id":74422362,"comment_id":131379577,"body_markdown":"Thank you for your comments. I&#39;m not trying to create Type. Rather, I want to find compatible target functions through the real parameters with generics.","body":"Thank you for your comments. I&#39;m not trying to create Type. Rather, I want to find compatible target functions through the real parameters with generics."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1668356144,"post_id":74422362,"comment_id":131379982,"body_markdown":"It is worth noting that the generic type doesnâ€™t matter during method lookups, because generic types alone cannot distinguish a method.  Meaning, a class cannot have both `myFunc(List&lt;Double&gt;)` and `myFunc(List&lt;Integer&gt;)`.  Therefore, it will always be sufficient to use Class.getMethod for this.","body":"It is worth noting that the generic type doesnâ€™t matter during method lookups, because generic types alone cannot distinguish a method.  Meaning, a class cannot have both <code>myFunc(List&lt;Double&gt;)</code> and <code>myFunc(List&lt;Integer&gt;)</code>.  Therefore, it will always be sufficient to use Class.getMethod for this."},{"owner":{"account_id":20284545,"reputation":11,"user_id":14877507,"display_name":"HandleCoding"},"score":0,"creation_date":1668356641,"post_id":74422362,"comment_id":131380103,"body_markdown":"They does cannot exist at the same time. However, I found a function through` Class`, and I can&#39;t confirm whether my parameter type matches because of the lack of generics @VGR","body":"They does cannot exist at the same time. However, I found a function through` Class`, and I can&#39;t confirm whether my parameter type matches because of the lack of generics @VGR"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668357117,"post_id":74422362,"comment_id":131380217,"body_markdown":"Use the [getGenericParameterTypes](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Method.html#getGenericParameterTypes()) method.  For example: `if (((ParameterizedType) method.getGenericParameterTypes()[0]).getActualTypeArguments()[0].equals(Double.class))`  (Since getMethod completed successfully, we know for certain the parameter is List and has one generic type.)","body":"Use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Method.html#getGenericParameterTypes()\" rel=\"nofollow noreferrer\">getGenericParameterTypes</a> method.  For example: <code>if (((ParameterizedType) method.getGenericParameterTypes()[0]).getActualTypeArguments&zwnj;&#8203;()[0].equals(Double.&zwnj;&#8203;class))</code>  (Since getMethod completed successfully, we know for certain the parameter is List and has one generic type.)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668439105,"post_id":74422362,"comment_id":131398895,"body_markdown":"It seems, you missed Sweeperâ€™s point. You asked for a method to look up a method by `Type`, but to call such a method, you need a `Type` argument. Hence, you have to create such a `Type` first.","body":"It seems, you missed Sweeperâ€™s point. You asked for a method to look up a method by <code>Type</code>, but to call such a method, you need a <code>Type</code> argument. Hence, you have to create such a <code>Type</code> first."},{"owner":{"account_id":20284545,"reputation":11,"user_id":14877507,"display_name":"HandleCoding"},"score":0,"creation_date":1669641621,"post_id":74422362,"comment_id":131681429,"body_markdown":"yes, I have created `Type` through such as `ParameterizedTypeImpl.make(List.class, new Type[] {List.class}, null)), ParameterizedTypeImpl.make(Map.class, new Type[] {String.class, Integer.class}, null))`.  \nIn fact, I can create all Type types, but there is no good way to find functions through Type parameters. \nHere, All methods can be defined under different classes, so even functions with the same name may have functions of List &lt; Integer &gt; and List &lt; Double &gt; argument types.","body":"yes, I have created <code>Type</code> through such as <code>ParameterizedTypeImpl.make(List.class, new Type[] {List.class}, null)), ParameterizedTypeImpl.make(Map.class, new Type[] {String.class, Integer.class}, null))</code>.   In fact, I can create all Type types, but there is no good way to find functions through Type parameters.  Here, All methods can be defined under different classes, so even functions with the same name may have functions of List &lt; Integer &gt; and List &lt; Double &gt; argument types."}],"owner":{"account_id":20284545,"reputation":11,"user_id":14877507,"display_name":"HandleCoding"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668354434,"creation_date":1668353649,"question_id":74422362,"body_markdown":"for example, there is a function:\r\n```java\r\npublic static void myFunc(List&lt;Double&gt; param) {\r\n    xxxx;\r\n}\r\n```\r\nhere I have a `List&lt;Integer&gt; list = new ArrayList&lt;&gt;();` \r\n If I look for the function `myFunc` through reflection, I can only find it through the Calss of the parameter like this:`Method method = XXX.class.getMethod(&quot;myFunc&quot;, List.class);`, but obviously my passed-in parameter type does not match.\r\n\r\nSo, is there any good way to find the function through the `Type` of the parameter? More specifically, how to find the appropriate target function by passing-in parameters with generic?\r\n\r\nI wrote a DSL using antlr4, and now can infer the Type of each function call parameter, but can&#39;t easily find the right function through the parameter Type. And I tried to write a function to find the function through Type, and found that the implementation is very complicated and error-prone.","title":"Java, How to find the function by reflection through java.lang.reflect.Type rather than Class?","body":"<p>for example, there is a function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void myFunc(List&lt;Double&gt; param) {\n    xxxx;\n}\n</code></pre>\n<p>here I have a <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</code>\nIf I look for the function <code>myFunc</code> through reflection, I can only find it through the Calss of the parameter like this:<code>Method method = XXX.class.getMethod(&quot;myFunc&quot;, List.class);</code>, but obviously my passed-in parameter type does not match.</p>\n<p>So, is there any good way to find the function through the <code>Type</code> of the parameter? More specifically, how to find the appropriate target function by passing-in parameters with generic?</p>\n<p>I wrote a DSL using antlr4, and now can infer the Type of each function call parameter, but can't easily find the right function through the parameter Type. And I tried to write a function to find the function through Type, and found that the implementation is very complicated and error-prone.</p>\n"},{"tags":["java","syntax-error"],"comments":[{"owner":{"account_id":24443649,"reputation":358,"user_id":18366972,"display_name":"Yossi Benagou"},"score":0,"creation_date":1668353677,"post_id":74422279,"comment_id":131379472,"body_markdown":"Can you explain the purpose of the code you wrote? I see what your code is doing, I&#39;m trying to understand what you&#39;re trying to achieve.","body":"Can you explain the purpose of the code you wrote? I see what your code is doing, I&#39;m trying to understand what you&#39;re trying to achieve."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1668354057,"post_id":74422279,"comment_id":131379564,"body_markdown":"Note that your `rawBinary` method appears to depend on previous results - it&#39;s very unclear what it&#39;s attempting to do or why. (Ditto `reverse`.)","body":"Note that your <code>rawBinary</code> method appears to depend on previous results - it&#39;s very unclear what it&#39;s attempting to do or why. (Ditto <code>reverse</code>.)"},{"owner":{"account_id":26919260,"reputation":11,"user_id":20493578,"display_name":"Ayan"},"score":0,"creation_date":1668354348,"post_id":74422279,"comment_id":131379612,"body_markdown":"rawBinary method converts decimal to binary (unreversed) and reverse method just reverse the value to get correct binary value.","body":"rawBinary method converts decimal to binary (unreversed) and reverse method just reverse the value to get correct binary value."},{"owner":{"account_id":26919260,"reputation":11,"user_id":20493578,"display_name":"Ayan"},"score":0,"creation_date":1668354623,"post_id":74422279,"comment_id":131379675,"body_markdown":"`main`--&gt;`rawBinary`--&gt;`reverse`","body":"<code>main</code>--&gt;<code>rawBinary</code>--&gt;<code>reverse</code>"}],"answers":[{"tags":[],"owner":{"account_id":24443649,"reputation":358,"user_id":18366972,"display_name":"Yossi Benagou"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668354307,"creation_date":1668354307,"answer_id":74422431,"question_id":74422279,"body_markdown":"You need to declare your variable `String binS = &quot;&quot;` inside the `rawBinary` function.\r\n\r\nUsing `static String binS = &quot;&quot;` Causes the previous values created using the function `rawBinary` to be saved.","title":"wrong argument value is passed","body":"<p>You need to declare your variable <code>String binS = &quot;&quot;</code> inside the <code>rawBinary</code> function.</p>\n<p>Using <code>static String binS = &quot;&quot;</code> Causes the previous values created using the function <code>rawBinary</code> to be saved.</p>\n"}],"owner":{"account_id":26919260,"reputation":11,"user_id":20493578,"display_name":"Ayan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668354307,"creation_date":1668353145,"question_id":74422279,"body_markdown":"```\r\npublic class decimalToBinary {\r\n\r\n    static String reversedBin=&quot;&quot;;\r\n    static String binS = &quot;&quot;;\r\n\r\n    static String rawBinary(int x) {\r\n        if (x == 0) {\r\n            return binS = binS + &quot;&quot;;\r\n        }\r\n\r\n        return binS = binS + x%2 +rawBinary(x / 2);\r\n    }\r\n\r\n    static String reverse(String x, int y) {\r\n        if(y==0) {\r\n            return reversedBin = reversedBin+ x.charAt(0);\r\n        }\r\n        return reversedBin = reversedBin + x.charAt(y) + reverse(x,y-1);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int d = 100;     \r\n        int x=rawBinary(d).length()-1;\r\n        System.out.println(reverse( rawBinary(d) , rawBinary(d).length()-1 ));\r\n        \r\n    }\r\n}\r\n```\r\n\r\nHere variable x(in main) value is 6 which is correct but when i write the same thing in system.out.println ==&gt; (rawBinary(d).length()-1) it gives value 510 which is incorrrect. \r\nI know i cant just put x in system.out.println rather than rawBinary(d).length()-1.\r\nBut i want to know the reason why it gives the error.\r\n\r\n\r\nWhen I tried putting x in the print statement, it just worked fine. But i want to know the reason why it gives the error.\r\n\r\n\r\nerror :\r\n\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 510 out of bounds for length 63\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n        at java.base/java.lang.String.checkIndex(String.java:4570)\r\n        at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:46)\r\n        at java.base/java.lang.String.charAt(String.java:1527)\r\n        at decimalToBinary.reverse(decimalToBinary.java:18)\r\n        at decimalToBinary.main(decimalToBinary.java:25)\r\n```\r\n","title":"wrong argument value is passed","body":"<pre><code>public class decimalToBinary {\n\n    static String reversedBin=&quot;&quot;;\n    static String binS = &quot;&quot;;\n\n    static String rawBinary(int x) {\n        if (x == 0) {\n            return binS = binS + &quot;&quot;;\n        }\n\n        return binS = binS + x%2 +rawBinary(x / 2);\n    }\n\n    static String reverse(String x, int y) {\n        if(y==0) {\n            return reversedBin = reversedBin+ x.charAt(0);\n        }\n        return reversedBin = reversedBin + x.charAt(y) + reverse(x,y-1);\n    }\n\n    public static void main(String[] args) {\n        int d = 100;     \n        int x=rawBinary(d).length()-1;\n        System.out.println(reverse( rawBinary(d) , rawBinary(d).length()-1 ));\n        \n    }\n}\n</code></pre>\n<p>Here variable x(in main) value is 6 which is correct but when i write the same thing in system.out.println ==&gt; (rawBinary(d).length()-1) it gives value 510 which is incorrrect.\nI know i cant just put x in system.out.println rather than rawBinary(d).length()-1.\nBut i want to know the reason why it gives the error.</p>\n<p>When I tried putting x in the print statement, it just worked fine. But i want to know the reason why it gives the error.</p>\n<p>error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 510 out of bounds for length 63\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n        at java.base/java.lang.String.checkIndex(String.java:4570)\n        at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:46)\n        at java.base/java.lang.String.charAt(String.java:1527)\n        at decimalToBinary.reverse(decimalToBinary.java:18)\n        at decimalToBinary.main(decimalToBinary.java:25)\n</code></pre>\n"},{"tags":["java","arrays","algorithm","recursion"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668267230,"post_id":74414149,"comment_id":131366150,"body_markdown":"`arr[i] + arr[i - 1] % 10 == 0` -&gt; `(arr[i] + arr[i - 1]) % 10 == 0`","body":"<code>arr[i] + arr[i - 1] % 10 == 0</code> -&gt; <code>(arr[i] + arr[i - 1]) % 10 == 0</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668266751,"creation_date":1668266751,"answer_id":74414188,"question_id":74414149,"body_markdown":"&gt; ```java\r\n&gt; divideByTen(arr, num - 1);\r\n&gt; ```\r\n\r\nThis invokes `divideByTen` (recurses) and __throws away the result__. Recursion isn&#39;t magic or special; you&#39;re just.. calling a method. It happens to be the same method you&#39;re in, but that&#39;s all. Calling a method without assigning its value to anything means the returned value is discarded.\r\n\r\nPresumably, you wanted `if (divideByTen(arr, num -1)) return true;` instead.\r\n","title":"Find if two Adjacent Array-elements are divisible by 10 using Recursion","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>divideByTen(arr, num - 1);\n</code></pre>\n</blockquote>\n<p>This invokes <code>divideByTen</code> (recurses) and <strong>throws away the result</strong>. Recursion isn't magic or special; you're just.. calling a method. It happens to be the same method you're in, but that's all. Calling a method without assigning its value to anything means the returned value is discarded.</p>\n<p>Presumably, you wanted <code>if (divideByTen(arr, num -1)) return true;</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":26909808,"reputation":1,"user_id":20485576,"display_name":"Nakul Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668268728,"creation_date":1668268630,"answer_id":74414431,"question_id":74414149,"body_markdown":"I tried to store the boolean value in one variable. I think in your case it will return false unless your if condition is not true at the end.\r\n\r\n    public static void main (String[] args) \r\n\t{\r\n\t    int[] a = new int[] {1, 2, 3, 4, 1, 2, 30, 2};\r\n\t\tSystem.out.println(divideByTen(a, a.length - 1));\r\n\t}\r\n\r\n    \r\n\r\n    public static boolean divideByTen(int arr[], int num){\r\n\t    boolean flag = false;\r\n\t    \r\n\t   if(num &lt; 1){\r\n\t       return flag;\r\n\t   }\r\n\t    \r\n\t    flag = divideByTen(arr, num -1);\r\n\t    \r\n\t    if(num &gt; 0){\r\n\t        if((arr[num-1] + arr[num]) % 10 == 0){\r\n\t            flag = true;\r\n\t        }\r\n\t    }\r\n\t    return flag;\r\n\t}","title":"Find if two Adjacent Array-elements are divisible by 10 using Recursion","body":"<p>I tried to store the boolean value in one variable. I think in your case it will return false unless your if condition is not true at the end.</p>\n<pre><code>public static void main (String[] args) \n{\n    int[] a = new int[] {1, 2, 3, 4, 1, 2, 30, 2};\n    System.out.println(divideByTen(a, a.length - 1));\n}\n\n\n\npublic static boolean divideByTen(int arr[], int num){\n    boolean flag = false;\n    \n   if(num &lt; 1){\n       return flag;\n   }\n    \n    flag = divideByTen(arr, num -1);\n    \n    if(num &gt; 0){\n        if((arr[num-1] + arr[num]) % 10 == 0){\n            flag = true;\n        }\n    }\n    return flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668353892,"creation_date":1668353441,"answer_id":74422330,"question_id":74414149,"body_markdown":"# How to approach Recursion\r\n\r\nIn order to implement a recursive method you should always think what would be the *Base case* for this problem and should happen in the *Recursive case*.\r\n\r\n* **Base case** - is an edge-case (*or a group of edge-cases*) when recursion should terminate, and return value is known is advance, because base case always trivial situations. The Base case for this problem is when there&#39;s no more elements.\r\n\r\n* **Recursive case** - is where logic of the computations resides, and where recursive calls are made. In the recursive case you need to evaluate the current pair of elements and if they match the condition return the result, otherwise proceed with a recursive call. For that, you can make use of the `||` operator, known as Conditional-OR.\r\n\r\n**Note** that both *Base case* and *Recursive case* are always present in any recursive implementation (either explicitly or implicitly), and firm understanding of these two notions would make your life easier.\r\n\r\n# Implementation\r\n\r\nIt seems like some users interpreted the problem statement in the wrong way as a *Sum of two adjacent elements is divisible by 10* instead of *Two adjacent elements are divisible by 10* because of the mistake in your code, although the sum is not mentioned in the question. But this doesn&#39;t make any difference to the algorithm, and I&#39;ll show both implementation.\r\n\r\n*Two adjacent elements are divisible by 10:*\r\n\r\n    public static boolean hasAdjacentDivisibleByTen(int[] arr) {\r\n        if (arr.length &lt; 2) return false; // or throw an exception because there&#39;s no two adjacent elements in the given list\r\n        \r\n        return hasAdjacentDivisibleByTen(arr, arr.length - 1);\r\n    }\r\n    \r\n    public static boolean hasAdjacentDivisibleByTen(int[] arr, int pos) {\r\n        if (pos == 0) return false; // Base case - no more elements to check left\r\n        \r\n        // Recursive case - return current result or proceed with next call (if result is false)\r\n        return arr[pos] % 10 == 0 &amp;&amp; arr[pos - 1] % 10 == 0 || hasAdjacentDivisibleByTen(arr, pos - 1);\r\n    }\r\n\r\n*Sum of two adjacent elements is divisible by 10:*\r\n\r\n    public static boolean hasAdjacentSumDivisibleByTen(int[] arr) {\r\n        if (arr.length &lt; 2) return false;\r\n        \r\n        return hasAdjacentSumDivisibleByTen(arr, arr.length - 1);\r\n    }\r\n    \r\n    public static boolean hasAdjacentSumDivisibleByTen(int[] arr, int pos) {\r\n        if (pos == 0) return false; // Base case - no more elements to check left\r\n        \r\n        // Recursive case - return current result or proceed with next call (if result is false)\r\n        return (arr[pos] + arr[pos - 1]) % 10 == 0 || hasAdjacentDivisibleByTen(arr, pos - 1);\r\n    }","title":"Find if two Adjacent Array-elements are divisible by 10 using Recursion","body":"<h1>How to approach Recursion</h1>\n<p>In order to implement a recursive method you should always think what would be the <em>Base case</em> for this problem and should happen in the <em>Recursive case</em>.</p>\n<ul>\n<li><p><strong>Base case</strong> - is an edge-case (<em>or a group of edge-cases</em>) when recursion should terminate, and return value is known is advance, because base case always trivial situations. The Base case for this problem is when there's no more elements.</p>\n</li>\n<li><p><strong>Recursive case</strong> - is where logic of the computations resides, and where recursive calls are made. In the recursive case you need to evaluate the current pair of elements and if they match the condition return the result, otherwise proceed with a recursive call. For that, you can make use of the <code>||</code> operator, known as Conditional-OR.</p>\n</li>\n</ul>\n<p><strong>Note</strong> that both <em>Base case</em> and <em>Recursive case</em> are always present in any recursive implementation (either explicitly or implicitly), and firm understanding of these two notions would make your life easier.</p>\n<h1>Implementation</h1>\n<p>It seems like some users interpreted the problem statement in the wrong way as a <em>Sum of two adjacent elements is divisible by 10</em> instead of <em>Two adjacent elements are divisible by 10</em> because of the mistake in your code, although the sum is not mentioned in the question. But this doesn't make any difference to the algorithm, and I'll show both implementation.</p>\n<p><em>Two adjacent elements are divisible by 10:</em></p>\n<pre><code>public static boolean hasAdjacentDivisibleByTen(int[] arr) {\n    if (arr.length &lt; 2) return false; // or throw an exception because there's no two adjacent elements in the given list\n    \n    return hasAdjacentDivisibleByTen(arr, arr.length - 1);\n}\n\npublic static boolean hasAdjacentDivisibleByTen(int[] arr, int pos) {\n    if (pos == 0) return false; // Base case - no more elements to check left\n    \n    // Recursive case - return current result or proceed with next call (if result is false)\n    return arr[pos] % 10 == 0 &amp;&amp; arr[pos - 1] % 10 == 0 || hasAdjacentDivisibleByTen(arr, pos - 1);\n}\n</code></pre>\n<p><em>Sum of two adjacent elements is divisible by 10:</em></p>\n<pre><code>public static boolean hasAdjacentSumDivisibleByTen(int[] arr) {\n    if (arr.length &lt; 2) return false;\n    \n    return hasAdjacentSumDivisibleByTen(arr, arr.length - 1);\n}\n\npublic static boolean hasAdjacentSumDivisibleByTen(int[] arr, int pos) {\n    if (pos == 0) return false; // Base case - no more elements to check left\n    \n    // Recursive case - return current result or proceed with next call (if result is false)\n    return (arr[pos] + arr[pos - 1]) % 10 == 0 || hasAdjacentDivisibleByTen(arr, pos - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":25404479,"reputation":13,"user_id":19213415,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668353892,"creation_date":1668266391,"question_id":74414149,"body_markdown":"I have an array of numbers should return true if 2 adjacent numbers divide by 10.\r\n\r\nFor now, my code return always `false`.\r\n\r\n*My attempt:*\r\n\r\n    public static boolean divideByTen(int arr[], int num) {\r\n        int i = num - 1;\r\n        \r\n        if (i &gt; 0) {\r\n            divideByTen(arr, num - 1);\r\n            \r\n            if (arr[i] + arr[i - 1] % 10 == 0)\r\n                return true;\r\n        }\r\n        return false;\r\n    }","title":"Find if two Adjacent Array-elements are divisible by 10 using Recursion","body":"<p>I have an array of numbers should return true if 2 adjacent numbers divide by 10.</p>\n<p>For now, my code return always <code>false</code>.</p>\n<p><em>My attempt:</em></p>\n<pre><code>public static boolean divideByTen(int arr[], int num) {\n    int i = num - 1;\n    \n    if (i &gt; 0) {\n        divideByTen(arr, num - 1);\n        \n        if (arr[i] + arr[i - 1] % 10 == 0)\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1393300029,"post_id":22004059,"comment_id":33351109,"body_markdown":"Because they went to great lengths to make it concurrent? You can always synchronize it if you must.","body":"Because they went to great lengths to make it concurrent? You can always synchronize it if you must."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1393346319,"post_id":22004059,"comment_id":33379750,"body_markdown":"@Jeffrey - How would one go about adding n, where n&gt;1, elements  atomically?","body":"@Jeffrey - How would one go about adding n, where n&gt;1, elements  atomically?"},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1393357116,"post_id":22004059,"comment_id":33387141,"body_markdown":"@Jeffrey I assume putAll (don&#39;t have the source code before me)  iterates over the map and calls putIfAbsent for each element? If so, only the individual puts are atomic but not all the puts collectively.","body":"@Jeffrey I assume putAll (don&#39;t have the source code before me)  iterates over the map and calls putIfAbsent for each element? If so, only the individual puts are atomic but not all the puts collectively."},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":0,"creation_date":1393357935,"post_id":22004059,"comment_id":33387667,"body_markdown":"@CaptainHastings Ah, you&#39;re [mostly correct](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap.putAll%28java.util.Map%29).","body":"@CaptainHastings Ah, you&#39;re <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap.putAll%28java.util.Map%29\" rel=\"nofollow noreferrer\">mostly correct</a>."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393307639,"creation_date":1393307639,"answer_id":22005761,"question_id":22004059,"body_markdown":"&gt; I know that it is not possible to lock a ConcurrentHashMap for exclusive access. However, I cannot find why.\r\n\r\nSimple - because it is not true. How about single instance per thread? How about synchronized methods or synchronized blocks? How about semaphore access logic? ","title":"Exclusively Locking ConcurrentHashMap","body":"<blockquote>\n  <p>I know that it is not possible to lock a ConcurrentHashMap for exclusive access. However, I cannot find why.</p>\n</blockquote>\n\n<p>Simple - because it is not true. How about single instance per thread? How about synchronized methods or synchronized blocks? How about semaphore access logic? </p>\n"},{"tags":[],"owner":{"account_id":8751392,"reputation":487,"user_id":6544491,"display_name":"Harsh Maheswari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476276840,"creation_date":1476276840,"answer_id":39999122,"question_id":22004059,"body_markdown":"Exclusive lock of concurrenthashMap can be gained using synchronizer in JAVA like Synchronizationblock, locking API","title":"Exclusively Locking ConcurrentHashMap","body":"<p>Exclusive lock of concurrenthashMap can be gained using synchronizer in JAVA like Synchronizationblock, locking API</p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668353600,"creation_date":1668268579,"answer_id":74414419,"question_id":22004059,"body_markdown":"According to Goetz:\r\n&gt; In order to use client-side locking, you must know what lock X uses\r\n\r\n`ConcurrentHashMap` doesn&#39;t use lock on `this` internally, instead it uses sophisticated locking mechanism, which is called Lock Stripping (locking occurs on several buckets or stripes, meaning that accessing a bucket only locks that bucket and not the entire data structure).\r\n\r\nMoreover, the documentation of a class that supports client-side locking should explicitly state its applicability. `ConcurrentHashMap` should not be used for client-side locking because its documentation states that:\r\n&gt; even though all operations are thread-safe, **retrieval operations do\r\n&gt; not entail locking**, and there is not any support for locking the\r\n&gt; entire table in a way that prevents **all** access. This class is fully\r\n&gt; interoperable with Hashtable in programs that rely on its thread\r\n&gt; safety but not on its synchronization details.\r\n\r\n\r\nFor instance, `ConcurrentHashMap#get` and `ConcurrentHashMap#put`  methods are not synchronized methods so if you lock `ConcurrentHashMap` object for &quot;exclusive access&quot; inside `Service1`, another Thread can enter `ConcurrentHashMap#put` method from `Service2` and modify internal state of `ConcurrentHashMap` object (which wouldn&#39;t happen with `Collections.synchronizedMap(..)` or `Hashtable` because all their methods are synchronized and would be locked in this case):\r\n\r\n     ConcurrentHashMap map = new ConcurrentHashMap(); // will be passed into Service1 and Service2\r\n     map.put(&quot;key&quot;, &quot;not sold&quot;); // initial value\r\n\r\n\r\n.\r\n\r\n    public class Service1 {\r\n    \r\n        public void method1(ConcurrentHashMap map) { // raw use of parametrized class for brevity\r\n            synchronized(map) { // Thread1: lock for &quot;exclusive access&quot;\r\n                map.get(&quot;key&quot;); // Thread1: expecting to get &quot;not sold&quot; initial value\r\n            }\r\n        }\r\n    }\r\n\r\n.\r\n\r\n    public class Service2 {\r\n    \r\n        public void method2(ConcurrentHashMap map) { // raw use of parametrized class for brevity\r\n            // somebody forgot to lock for exclusive access\r\n            map.put(&quot;key&quot;, &quot;sold&quot;); // Thread2: nothing prevents Thread2 from modifying map while Service1 gaining exclusive access because ConcurrentHashMap#put is not synchronized\r\n        }\r\n    }\r\n","title":"Exclusively Locking ConcurrentHashMap","body":"<p>According to Goetz:</p>\n<blockquote>\n<p>In order to use client-side locking, you must know what lock X uses</p>\n</blockquote>\n<p><code>ConcurrentHashMap</code> doesn't use lock on <code>this</code> internally, instead it uses sophisticated locking mechanism, which is called Lock Stripping (locking occurs on several buckets or stripes, meaning that accessing a bucket only locks that bucket and not the entire data structure).</p>\n<p>Moreover, the documentation of a class that supports client-side locking should explicitly state its applicability. <code>ConcurrentHashMap</code> should not be used for client-side locking because its documentation states that:</p>\n<blockquote>\n<p>even though all operations are thread-safe, <strong>retrieval operations do\nnot entail locking</strong>, and there is not any support for locking the\nentire table in a way that prevents <strong>all</strong> access. This class is fully\ninteroperable with Hashtable in programs that rely on its thread\nsafety but not on its synchronization details.</p>\n</blockquote>\n<p>For instance, <code>ConcurrentHashMap#get</code> and <code>ConcurrentHashMap#put</code>  methods are not synchronized methods so if you lock <code>ConcurrentHashMap</code> object for &quot;exclusive access&quot; inside <code>Service1</code>, another Thread can enter <code>ConcurrentHashMap#put</code> method from <code>Service2</code> and modify internal state of <code>ConcurrentHashMap</code> object (which wouldn't happen with <code>Collections.synchronizedMap(..)</code> or <code>Hashtable</code> because all their methods are synchronized and would be locked in this case):</p>\n<pre><code> ConcurrentHashMap map = new ConcurrentHashMap(); // will be passed into Service1 and Service2\n map.put(&quot;key&quot;, &quot;not sold&quot;); // initial value\n</code></pre>\n<p>.</p>\n<pre><code>public class Service1 {\n\n    public void method1(ConcurrentHashMap map) { // raw use of parametrized class for brevity\n        synchronized(map) { // Thread1: lock for &quot;exclusive access&quot;\n            map.get(&quot;key&quot;); // Thread1: expecting to get &quot;not sold&quot; initial value\n        }\n    }\n}\n</code></pre>\n<p>.</p>\n<pre><code>public class Service2 {\n\n    public void method2(ConcurrentHashMap map) { // raw use of parametrized class for brevity\n        // somebody forgot to lock for exclusive access\n        map.put(&quot;key&quot;, &quot;sold&quot;); // Thread2: nothing prevents Thread2 from modifying map while Service1 gaining exclusive access because ConcurrentHashMap#put is not synchronized\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668271435,"creation_date":1668270985,"answer_id":74414704,"question_id":22004059,"body_markdown":"    ConcurrentHashMap&lt;AType&gt; concurrentMap = new ConcurrentHashMap&lt;AType&gt;();\r\n    \r\n    synchronized(concurrentMap){\r\n      //do something\r\n    }\r\n\r\nThe above code do not work because of the fact that the lock[more than one lock to be correct(default is 16)] used by the concurrent map is not the concurrent object itself. Concurrent objects are designed to be scalable. \r\n\r\nJava memory model guarantees works on the notion of &#39;happens before&#39;.\r\nIf a lock acquired by a thread and released after, the thread which then acquires the lock sees everything earlier thread sees when it released the lock. However, this relationship only works if the same lock is used.\r\n\r\nThe above code acquire the lock associated with the concurrent map object. This is like acquiring a lock associated with any other object. However, the lock is not the same one used in the implementation of concurrent map.  ","title":"Exclusively Locking ConcurrentHashMap","body":"<pre><code>ConcurrentHashMap&lt;AType&gt; concurrentMap = new ConcurrentHashMap&lt;AType&gt;();\n\nsynchronized(concurrentMap){\n  //do something\n}\n</code></pre>\n<p>The above code do not work because of the fact that the lock[more than one lock to be correct(default is 16)] used by the concurrent map is not the concurrent object itself. Concurrent objects are designed to be scalable.</p>\n<p>Java memory model guarantees works on the notion of 'happens before'.\nIf a lock acquired by a thread and released after, the thread which then acquires the lock sees everything earlier thread sees when it released the lock. However, this relationship only works if the same lock is used.</p>\n<p>The above code acquire the lock associated with the concurrent map object. This is like acquiring a lock associated with any other object. However, the lock is not the same one used in the implementation of concurrent map.</p>\n"}],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1668353600,"creation_date":1393299442,"question_id":22004059,"body_markdown":"\r\nI know that it is not possible to lock a ConcurrentHashMap for exclusive access.\r\nHowever, I cannot find why.\r\n\r\nIs it because the &quot;Segments&quot; which constitue CHM aren&#39;t exposed by the api?\r\nPresumably if they were, the client code could perform a &quot;hand-over-hand&quot; locking?\r\n\r\nCheers\r\n","title":"Exclusively Locking ConcurrentHashMap","body":"<p>I know that it is not possible to lock a ConcurrentHashMap for exclusive access.\nHowever, I cannot find why.</p>\n\n<p>Is it because the \"Segments\" which constitue CHM aren't exposed by the api?\nPresumably if they were, the client code could perform a \"hand-over-hand\" locking?</p>\n\n<p>Cheers</p>\n"},{"tags":["java","arrays","data-structures","system","min"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668353454,"post_id":74422312,"comment_id":131379428,"body_markdown":"iterate over the `int` array, determine the index of the smallest value. From there it should be straigt forward.","body":"iterate over the <code>int</code> array, determine the index of the smallest value. From there it should be straigt forward."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1668353598,"post_id":74422312,"comment_id":131379456,"body_markdown":"Why do you want to use parallel arrays in the first place? It&#39;d be simpler (and less error prone) to use s single array.","body":"Why do you want to use parallel arrays in the first place? It&#39;d be simpler (and less error prone) to use s single array."}],"owner":{"account_id":26765378,"reputation":13,"user_id":20362623,"display_name":"jdona13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668353538,"answer_count":0,"score":0,"last_activity_date":1668353462,"creation_date":1668353351,"question_id":74422312,"body_markdown":"In two parallel arrays, String[] names and int[] ages, every name has a corresponding age and vice versa. Both arrays have the same length, say something like:\r\n\r\n\r\n```\r\nString[] names = {â€œAliceâ€, â€œPaulâ€, â€œJayâ€, â€œDylanâ€};\r\nint[] ages = {44, 55, 60, 22};\r\n```\r\n\r\n- [ ] Amongst these lists, a method is to be created that will print out the youngest person and their age, something like\r\n\r\n\r\n```\r\nDylan is the youngest, at age 22\r\n```\r\n\r\nHow can I do this?\r\n","title":"How to print and find youngest in Java parallel arrays?","body":"<p>In two parallel arrays, String[] names and int[] ages, every name has a corresponding age and vice versa. Both arrays have the same length, say something like:</p>\n<pre><code>String[] names = {â€œAliceâ€, â€œPaulâ€, â€œJayâ€, â€œDylanâ€};\nint[] ages = {44, 55, 60, 22};\n</code></pre>\n<ul>\n<li>[ ] Amongst these lists, a method is to be created that will print out the youngest person and their age, something like</li>\n</ul>\n<pre><code>Dylan is the youngest, at age 22\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","android","firebase-realtime-database","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1668353133,"post_id":74419878,"comment_id":131379361,"body_markdown":"I&#39;m not sure I understand the problem. When you run your code in a debugger, what is the **first** line that doesn&#39;t do what you expect it to do?","body":"I&#39;m not sure I understand the problem. When you run your code in a debugger, what is the <b>first</b> line that doesn&#39;t do what you expect it to do?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668353345,"creation_date":1668353345,"answer_id":74422310,"question_id":74419878,"body_markdown":"Loading data from Firebase (and most modern cloud APIs) is **asynchronous**, and the way you have written your code now means that the query on Firestore will happen before the `recentUserId = snapshot1.getKey();` has ever been set.\r\n\r\nTo ensure the correct order, all code that needs data from the database has to be *inside* the `onDataChange` that fires when the data is loaded, or be called from there, or be otherwise synchronized.\r\n\r\nSo the simplest fix is to move the loading from Firestore into the `onDataChange` like this:\r\n\r\n```\r\nString recentUserId;\r\n\r\n// Code to get the user id&#39;s from the realtime databse stored in keys\r\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\r\n            recentUserId = snapshot1.getKey();\r\n            Toast.makeText(getContext(), &quot;hey therere&quot; + recentUserId, Toast.LENGTH_SHORT).show();\r\n\r\n            // &#128071;    Code to get the relevent ids user data from firestore\r\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\r\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                    for (DocumentSnapshot d : list) {\r\n                        User obj = d.toObject(User.class);\r\n                        userArrayList.add(obj);\r\n                    }\r\n\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAlso see my longer explanations here: https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519 and https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener","title":"How to get Key from firebase databse in android","body":"<p>Loading data from Firebase (and most modern cloud APIs) is <strong>asynchronous</strong>, and the way you have written your code now means that the query on Firestore will happen before the <code>recentUserId = snapshot1.getKey();</code> has ever been set.</p>\n<p>To ensure the correct order, all code that needs data from the database has to be <em>inside</em> the <code>onDataChange</code> that fires when the data is loaded, or be called from there, or be otherwise synchronized.</p>\n<p>So the simplest fix is to move the loading from Firestore into the <code>onDataChange</code> like this:</p>\n<pre><code>String recentUserId;\n\n// Code to get the user id's from the realtime databse stored in keys\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onSuccess(DataSnapshot dataSnapshot) {\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\n            recentUserId = snapshot1.getKey();\n            Toast.makeText(getContext(), &quot;hey therere&quot; + recentUserId, Toast.LENGTH_SHORT).show();\n\n            // ðŸ‘‡    Code to get the relevent ids user data from firestore\n            Query query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\n            query.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot d : list) {\n                        User obj = d.toObject(User.class);\n                        userArrayList.add(obj);\n                    }\n\n                    adapter.notifyDataSetChanged();\n                }\n            });\n        }\n    }\n});\n</code></pre>\n<p>Also see my longer explanations here: <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a> and <a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></p>\n"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74422310,"answer_count":1,"score":1,"last_activity_date":1668353345,"creation_date":1668332749,"question_id":74419878,"body_markdown":"Hey I am working on an application where i need to get the keys from the realtime databse&#39;s collection i have stored users id&#39;s in keys inside the collection. And I am performing a firestore query on the id&#39;s I will get from those keys. So when i am trying to get the keys from the realtime databse in a string the string is null here &quot;whereEqualTo(&quot;uid&quot;, recentUserId)&quot;. How can i get the keys so that i can perform the query.\r\n\r\n```\r\nString recentUserId;\r\n\r\n// Code to get the user id&#39;s from the realtime databse stored in keys\r\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(DataSnapshot dataSnapshot) {\r\n\r\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\r\n\r\n             recentUserId = snapshot1.getKey();\r\n            Toast.makeText(getContext(), &quot;hey therere&quot; + recentUserId, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n});\r\n\r\n\r\n//      Code to get the relevent ids user data from firestore\r\nQuery query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\r\nquery.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n        List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n        for (DocumentSnapshot d : list) {\r\n            User obj = d.toObject(User.class);\r\n            userArrayList.add(obj);\r\n        }\r\n\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n});\r\n```\r\n\r\n\r\nRealtime Database Structure:\r\n[![enter image description here](https://i.stack.imgur.com/X1dZ9.png)](https://i.stack.imgur.com/X1dZ9.png)\r\n\r\nI tried some ways, but did not get how to get keys.","title":"How to get Key from firebase databse in android","body":"<p>Hey I am working on an application where i need to get the keys from the realtime databse's collection i have stored users id's in keys inside the collection. And I am performing a firestore query on the id's I will get from those keys. So when i am trying to get the keys from the realtime databse in a string the string is null here &quot;whereEqualTo(&quot;uid&quot;, recentUserId)&quot;. How can i get the keys so that i can perform the query.</p>\n<pre><code>String recentUserId;\n\n// Code to get the user id's from the realtime databse stored in keys\nfirebaseDatabase.getReference().child(&quot;Recent_Chats&quot;).child(auth.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onSuccess(DataSnapshot dataSnapshot) {\n\n        for (DataSnapshot snapshot1 : dataSnapshot.getChildren()) {\n\n             recentUserId = snapshot1.getKey();\n            Toast.makeText(getContext(), &quot;hey therere&quot; + recentUserId, Toast.LENGTH_SHORT).show();\n\n        }\n    }\n});\n\n\n//      Code to get the relevent ids user data from firestore\nQuery query = firebaseFirestore.collection(&quot;Users&quot;).whereEqualTo(&quot;uid&quot;, recentUserId);\nquery.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n\n        List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n        for (DocumentSnapshot d : list) {\n            User obj = d.toObject(User.class);\n            userArrayList.add(obj);\n        }\n\n        adapter.notifyDataSetChanged();\n    }\n});\n</code></pre>\n<p>Realtime Database Structure:\n<a href=\"https://i.stack.imgur.com/X1dZ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1dZ9.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried some ways, but did not get how to get keys.</p>\n"},{"tags":["java","attributes","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":17360731,"reputation":566,"user_id":12577067,"display_name":"Devi Khositashvili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668352986,"creation_date":1668350214,"answer_id":74421933,"question_id":74421053,"body_markdown":"I think you should still consider using HashMap because in most cases it is O(1), but here is my solution for your problem by creating a new class, **without altering the original code**.\r\n\r\n\r\n```\r\n#include &lt;bits/stdc++.h&gt;\r\nusing namespace std;\r\n\r\n\r\nclass GivenVertex {\r\n\tprivate:\r\n\t\tint color = 3;\r\n\t\tint ord;\r\n\t\t// ...\r\n\tpublic:\r\n\t\tGivenVertex() {}\r\n\r\n\t\tint getClr() {\r\n\t\t\treturn color;\r\n\t\t}\r\n\r\n};\r\n\r\nclass MyVertex {\r\n\tpublic:\r\n\t\tint position;\r\n\t\tGivenVertex V;\r\n\r\n\t\tMyVertex(GivenVertex V, int position) {\r\n\t\t\tthis-&gt;V = V;\r\n\t\t\tthis-&gt;position = position;\r\n\t\t}\r\n};\r\n\r\nint main() {\r\n\tGivenVertex GV = GivenVertex();\r\n\t\r\n\t// You can create you vertex like this\r\n\tint pos = 7;\r\n\tMyVertex MV = MyVertex(GV, pos);\r\n\r\n\t// to check if this works\r\n\tassert(MV.V.getClr() == 3);\r\n\tassert(pos == MV.position);\r\n\r\n\tcout &lt;&lt; MV.V.getClr() &lt;&lt; &quot; &quot; &lt;&lt; MV.position &lt;&lt; endl;\r\n\treturn 0; \r\n}\r\n```\r\n\r\nThe idea is simple - you create a new class, which will have your private class and your new variable as you call position.\r\n\r\nOr you can create a child class and using inheritance will do its work and also code will be &quot;pro&quot;, but I prefer a simple way to do it. If you want you can check inheritance here: [Inheritance in C++][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/inheritance-in-c/\r\n\r\n***EDIT:*** \r\nUpdate according to the comment, let&#39;s try inheritance, I think that should work. \r\nCreate a new subclass of the given Vertex class, but it&#39;ll take to rewrite all the methods you need to use in MyVertex. (I suppose there should be some way to improve this part too). Hope that will help.\r\n\r\n```\r\nclass GivenVertex {\r\n\tprivate:\r\n\t\tint color = 3;\r\n\tpublic:\r\n\t\tGivenVertex() {}\r\n\r\n\t\tint getGivenClr() {\r\n\t\t\treturn color;\r\n\t\t}\r\n\r\n};\r\n\r\nclass MyVertex : private GivenVertex {\r\n\tpublic:\r\n\t\tint position;\r\n\r\n\t\tMyVertex(int position) {\r\n\t\t\tthis-&gt;position = position;\r\n\t\t}\r\n\r\n\t\tint getMyClr() {\r\n\t\t\treturn getGivenClr();\r\n\t\t}\r\n\r\n};\r\n\r\nint main() {\r\n\t// You can create your vertex like this\r\n\tint pos = 7;\r\n\tMyVertex MV = MyVertex(pos);\r\n\r\n\t// to check if this works\r\n\tassert(MV.getMyClr() == 3);\r\n\tassert(pos == MV.position);\r\n\r\n\tcout &lt;&lt; MV.getMyClr() &lt;&lt; &quot; &quot; &lt;&lt; MV.position &lt;&lt; endl;\r\n\treturn 0; \r\n}\r\n```","title":"Giving a new attribute to a vertex","body":"<p>I think you should still consider using HashMap because in most cases it is O(1), but here is my solution for your problem by creating a new class, <strong>without altering the original code</strong>.</p>\n<pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\n\nclass GivenVertex {\n    private:\n        int color = 3;\n        int ord;\n        // ...\n    public:\n        GivenVertex() {}\n\n        int getClr() {\n            return color;\n        }\n\n};\n\nclass MyVertex {\n    public:\n        int position;\n        GivenVertex V;\n\n        MyVertex(GivenVertex V, int position) {\n            this-&gt;V = V;\n            this-&gt;position = position;\n        }\n};\n\nint main() {\n    GivenVertex GV = GivenVertex();\n    \n    // You can create you vertex like this\n    int pos = 7;\n    MyVertex MV = MyVertex(GV, pos);\n\n    // to check if this works\n    assert(MV.V.getClr() == 3);\n    assert(pos == MV.position);\n\n    cout &lt;&lt; MV.V.getClr() &lt;&lt; &quot; &quot; &lt;&lt; MV.position &lt;&lt; endl;\n    return 0; \n}\n</code></pre>\n<p>The idea is simple - you create a new class, which will have your private class and your new variable as you call position.</p>\n<p>Or you can create a child class and using inheritance will do its work and also code will be &quot;pro&quot;, but I prefer a simple way to do it. If you want you can check inheritance here: <a href=\"https://www.geeksforgeeks.org/inheritance-in-c/\" rel=\"nofollow noreferrer\">Inheritance in C++</a></p>\n<p><em><strong>EDIT:</strong></em>\nUpdate according to the comment, let's try inheritance, I think that should work.\nCreate a new subclass of the given Vertex class, but it'll take to rewrite all the methods you need to use in MyVertex. (I suppose there should be some way to improve this part too). Hope that will help.</p>\n<pre><code>class GivenVertex {\n    private:\n        int color = 3;\n    public:\n        GivenVertex() {}\n\n        int getGivenClr() {\n            return color;\n        }\n\n};\n\nclass MyVertex : private GivenVertex {\n    public:\n        int position;\n\n        MyVertex(int position) {\n            this-&gt;position = position;\n        }\n\n        int getMyClr() {\n            return getGivenClr();\n        }\n\n};\n\nint main() {\n    // You can create your vertex like this\n    int pos = 7;\n    MyVertex MV = MyVertex(pos);\n\n    // to check if this works\n    assert(MV.getMyClr() == 3);\n    assert(pos == MV.position);\n\n    cout &lt;&lt; MV.getMyClr() &lt;&lt; &quot; &quot; &lt;&lt; MV.position &lt;&lt; endl;\n    return 0; \n}\n</code></pre>\n"}],"owner":{"account_id":23636018,"reputation":11,"user_id":18787338,"display_name":"Giorgos Mitropoulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668352986,"creation_date":1668343368,"question_id":74421053,"body_markdown":"I am given an implementation code for a vertex interface of a graph. My goal is to make each vertex hold an additional attribute (e.g. its position in a positional list) **without** altering the original code. \r\n\r\n- I &#39;ve seen a lot of people suggesting the use of a `HashMap` with the vertex as a key and the new attribute as its value, but HashMaps have a worst case complexity of O(n). I need to be able to to retrive the vertex&#39;s new attribute in O(1) worst case.\r\n- The first thing I tried was extending the implementation of the vertex with a new subclass. But the original vertex implementation is given in a private nested class inside the graph&#39;s implemantation class and therefore I cannot access it. I was wondering if maybe there is a way to &quot;re-implement&quot; the vertex interface with the final vertex object keeping the properties of both implementations, but I do not think that is possible.\r\n\r\nIs there anything I can do?","title":"Giving a new attribute to a vertex","body":"<p>I am given an implementation code for a vertex interface of a graph. My goal is to make each vertex hold an additional attribute (e.g. its position in a positional list) <strong>without</strong> altering the original code.</p>\n<ul>\n<li>I 've seen a lot of people suggesting the use of a <code>HashMap</code> with the vertex as a key and the new attribute as its value, but HashMaps have a worst case complexity of O(n). I need to be able to to retrive the vertex's new attribute in O(1) worst case.</li>\n<li>The first thing I tried was extending the implementation of the vertex with a new subclass. But the original vertex implementation is given in a private nested class inside the graph's implemantation class and therefore I cannot access it. I was wondering if maybe there is a way to &quot;re-implement&quot; the vertex interface with the final vertex object keeping the properties of both implementations, but I do not think that is possible.</li>\n</ul>\n<p>Is there anything I can do?</p>\n"},{"tags":["java","jenkins","automation"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1421184849,"post_id":27931887,"comment_id":44261356,"body_markdown":"if you create new job does it create at the same location ?","body":"if you create new job does it create at the same location ?"},{"owner":{"account_id":1065970,"reputation":2493,"user_id":1066530,"accept_rate":94,"display_name":"Sas"},"score":0,"creation_date":1421185229,"post_id":27931887,"comment_id":44261549,"body_markdown":"Actually it was my mistake. Somehow environment variable JENKINS_HOME hasn&#39;t been set up. That was the reason it didn&#39;t pickup the old jobs. Thanks anyways.. :)","body":"Actually it was my mistake. Somehow environment variable JENKINS_HOME hasn&#39;t been set up. That was the reason it didn&#39;t pickup the old jobs. Thanks anyways.. :)"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1421185279,"post_id":27931887,"comment_id":44261568,"body_markdown":"you can answer your own question for other&#39;s refernece","body":"you can answer your own question for other&#39;s refernece"},{"owner":{"account_id":1065970,"reputation":2493,"user_id":1066530,"accept_rate":94,"display_name":"Sas"},"score":0,"creation_date":1421185421,"post_id":27931887,"comment_id":44261636,"body_markdown":"I was thinking on deleting the question but yea that&#39;s better.","body":"I was thinking on deleting the question but yea that&#39;s better."}],"answers":[{"tags":[],"owner":{"account_id":1065970,"reputation":2493,"user_id":1066530,"accept_rate":94,"display_name":"Sas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1421185531,"creation_date":1421185531,"answer_id":27932081,"question_id":27931887,"body_markdown":"It was a mistake on my part. The reason Jenkins didn&#39;t pick up the old jobs is that upon restart, I did not have my `JENKINS_HOME` environment variable defined. Thus Jenkins didn&#39;t pick up the old jobs.\r\n\r\n     export JENKINS_HOME=/app/jenkins","title":"Jenkins not showing jobs after restart","body":"<p>It was a mistake on my part. The reason Jenkins didn't pick up the old jobs is that upon restart, I did not have my <code>JENKINS_HOME</code> environment variable defined. Thus Jenkins didn't pick up the old jobs.</p>\n\n<pre><code> export JENKINS_HOME=/app/jenkins\n</code></pre>\n"}],"owner":{"account_id":1065970,"reputation":2493,"user_id":1066530,"accept_rate":94,"display_name":"Sas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27932081,"answer_count":1,"score":2,"last_activity_date":1668352940,"creation_date":1421184672,"question_id":27931887,"body_markdown":"I kill jenkins process and started again. After the restart, all the jobs are disappeard. However in my jenkins directory under &quot;jobs&quot; I can see all the job folder still exist.\r\n    \r\n    /app/jenkins\r\n\r\nLook like somehow I need to tell the jenkins to pickup all the configuration from existing directory. But not sure how to do.\r\n\r\nAny help would be appreciated.","title":"Jenkins not showing jobs after restart","body":"<p>I kill jenkins process and started again. After the restart, all the jobs are disappeard. However in my jenkins directory under \"jobs\" I can see all the job folder still exist.</p>\n\n<pre><code>/app/jenkins\n</code></pre>\n\n<p>Look like somehow I need to tell the jenkins to pickup all the configuration from existing directory. But not sure how to do.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","arrays","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3084900,"reputation":16354,"user_id":2612259,"accept_rate":76,"display_name":"nPn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668352752,"creation_date":1668351815,"answer_id":74422104,"question_id":74421607,"body_markdown":"The `some2dArray[index][index]` syntax works fine in Kotlin. In your example you are creating a Board object and passing a 2d array into it but you don&#39;t show how you declare the Board class.  If you just create a 2d array you can see that the indexing works.\r\n\r\n\r\n\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n  val board = \r\n    arrayOf(\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2)\r\n    )\r\n\r\n  println(board[2][2]) // this works\r\n}\r\n```\r\nIf you declare your `Board` class as having a 2d array called board, what you have will also work.\r\n\r\n```kotlin\r\nclass Board(val board: Array&lt;Array&lt;Int&gt;&gt;)\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n  \r\n  val board = Board(arrayOf(\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2)\r\n  ))\r\n\r\n println(board.board[2][2]) // this also works\r\n}\r\n```","title":"Kotlin. How can I get to an individual item of a 2d array?","body":"<p>The <code>some2dArray[index][index]</code> syntax works fine in Kotlin. In your example you are creating a Board object and passing a 2d array into it but you don't show how you declare the Board class.  If you just create a 2d array you can see that the indexing works.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n  val board = \n    arrayOf(\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2)\n    )\n\n  println(board[2][2]) // this works\n}\n</code></pre>\n<p>If you declare your <code>Board</code> class as having a 2d array called board, what you have will also work.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Board(val board: Array&lt;Array&lt;Int&gt;&gt;)\n\nfun main(args: Array&lt;String&gt;) {\n  \n  val board = Board(arrayOf(\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2)\n  ))\n\n println(board.board[2][2]) // this also works\n}\n</code></pre>\n"}],"owner":{"account_id":20861386,"reputation":35,"user_id":15323539,"display_name":"Maciej Pelc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74422104,"answer_count":1,"score":0,"last_activity_date":1668352752,"creation_date":1668347529,"question_id":74421607,"body_markdown":"I am creating a GameOfLife project (https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life) and for that I have decided that I require 2d array. But I cannot find a simple way to access it&#39;s elements like in java where you can go array[index][index]. How can I access individual elements?\r\n\r\n\r\n\r\n```\r\nval board = Board(\r\n    arrayOf(\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2),\r\n        arrayOf(2, 2, 2)\r\n    )\r\n)\r\nprintln(board.board[2][2]) // this doesn&#39;t work\r\n```\r\n\r\n\r\n\r\n\r\nI tried to access it like in Java because Kotlin is derived from it but I guess that is wrong. I can&#39;t find an simple answer to that answer in Google. I am a beginner so please don&#39;t be angry with me if that is something obvious, because for me it isn&#39;t and I want to learn :). Maybe I shouldn&#39;t create 2 arrays like that?","title":"Kotlin. How can I get to an individual item of a 2d array?","body":"<p>I am creating a GameOfLife project (<a href=\"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life</a>) and for that I have decided that I require 2d array. But I cannot find a simple way to access it's elements like in java where you can go array[index][index]. How can I access individual elements?</p>\n<pre><code>val board = Board(\n    arrayOf(\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2),\n        arrayOf(2, 2, 2)\n    )\n)\nprintln(board.board[2][2]) // this doesn't work\n</code></pre>\n<p>I tried to access it like in Java because Kotlin is derived from it but I guess that is wrong. I can't find an simple answer to that answer in Google. I am a beginner so please don't be angry with me if that is something obvious, because for me it isn't and I want to learn :). Maybe I shouldn't create 2 arrays like that?</p>\n"},{"tags":["java","linked-list"],"owner":{"account_id":26913114,"reputation":1,"user_id":20488363,"display_name":"joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1668292107,"answer_count":0,"score":-2,"last_activity_date":1668350844,"creation_date":1668285718,"question_id":74416419,"body_markdown":"the method to add an element and get the last one  don&#39;t work correctly\r\n\r\n    public class GiftGames{\r\n    \r\n        public List&lt;Participant&gt; list ;\r\n        public Participant FirstParticipant ;\r\n\r\n        public GiftGames() {\r\n           this.list = new LinkedList&lt;&gt;();\r\n        }\r\n\r\n   * Returns the lastelement of the list.\r\n   */ \r\n    \r\n         public Participant getDernierParticipant(){\r\n             Participant current = FirstParticipant;\r\n              while (!current.next.equals(FirstParticipant)){\r\n                     current = current.next;\r\n              }\r\n             return current;\r\n         }\r\n\r\n* add an elemnent in the list.\r\n    */ \r\n\r\n\r\n        public void addParticipant(Participant p) {\r\n            if (FirstParticipant == null) {\r\n               FirstParticipant = p ;\r\n               p.next = null ;\r\n            }\r\n            this.getDernierParticipant().next= p ;\r\n            p.next = FirstParticipant ;\r\n        }\r\n    }","title":"how to add , and check for the last element in a circular Linked List","body":"<p>the method to add an element and get the last one  don't work correctly</p>\n<pre><code>public class GiftGames{\n\n    public List&lt;Participant&gt; list ;\n    public Participant FirstParticipant ;\n\n    public GiftGames() {\n       this.list = new LinkedList&lt;&gt;();\n    }\n</code></pre>\n<ul>\n<li><p>Returns the lastelement of the list.\n*/</p>\n<pre><code>public Participant getDernierParticipant(){\n    Participant current = FirstParticipant;\n     while (!current.next.equals(FirstParticipant)){\n            current = current.next;\n     }\n    return current;\n}\n</code></pre>\n</li>\n<li><p>add an elemnent in the list.\n*/</p>\n<pre><code>  public void addParticipant(Participant p) {\n      if (FirstParticipant == null) {\n         FirstParticipant = p ;\n         p.next = null ;\n      }\n      this.getDernierParticipant().next= p ;\n      p.next = FirstParticipant ;\n  }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n"},{"tags":["java","arrays","loops"],"owner":{"account_id":26876631,"reputation":1,"user_id":20457781,"display_name":"Tt aasdd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1667987790,"answer_count":0,"score":-4,"last_activity_date":1668350329,"creation_date":1667986417,"question_id":74372631,"body_markdown":"I need the loop to show &quot;Invalid&quot; when entering a negative number, but that doesn&#39;t work. I don&#39;t want the ExceptionArraySize error to appear in the console.\r\n```\r\ndo {\r\n  System.out.print(&quot;\\nDigite a quantidade de termos: &quot;);\r\n  num = sc.nextInt();\r\n  int[] numPri = new int[num];\r\n\r\nif (num &lt; 0) {\r\n\tSystem.out.print(&quot;Invalid&quot;);\r\n}\r\n\r\n  for (int i = 2; cont &lt; num; i++) {\r\n    for (int j = 2; j &lt; i; j++) {\r\n      if (i % j == 0) {\r\n        primo = false;\r\n      }\r\n    }\r\n    if (primo == true) {\r\n      numPri[cont] = i;\r\n      cont++;\r\n    }\r\n    primo = true;\r\n  }\r\n  for (int i = numPri.length - 1; i &gt;= 0; i--) {\r\n    System.out.print(&quot; &quot; + numPri[i]);\r\n  }\r\n  cont = 0;\r\n} while (num != 0 || num &lt; 0);\r\nSystem.out.print(&quot;Fim&quot;);\r\n```\r\nI already tried with if/else, but it does not work. I don&#39;t want the Exception Array Size error to appear anymore.","title":"Loop with negative array shows ExceptionArraySize error","body":"<p>I need the loop to show &quot;Invalid&quot; when entering a negative number, but that doesn't work. I don't want the ExceptionArraySize error to appear in the console.</p>\n<pre><code>do {\n  System.out.print(&quot;\\nDigite a quantidade de termos: &quot;);\n  num = sc.nextInt();\n  int[] numPri = new int[num];\n\nif (num &lt; 0) {\n    System.out.print(&quot;Invalid&quot;);\n}\n\n  for (int i = 2; cont &lt; num; i++) {\n    for (int j = 2; j &lt; i; j++) {\n      if (i % j == 0) {\n        primo = false;\n      }\n    }\n    if (primo == true) {\n      numPri[cont] = i;\n      cont++;\n    }\n    primo = true;\n  }\n  for (int i = numPri.length - 1; i &gt;= 0; i--) {\n    System.out.print(&quot; &quot; + numPri[i]);\n  }\n  cont = 0;\n} while (num != 0 || num &lt; 0);\nSystem.out.print(&quot;Fim&quot;);\n</code></pre>\n<p>I already tried with if/else, but it does not work. I don't want the Exception Array Size error to appear anymore.</p>\n"},{"tags":["java","arrays","loops","for-loop"],"owner":{"account_id":22598405,"reputation":1,"user_id":20455203,"display_name":"aaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1667964470,"answer_count":0,"score":-4,"last_activity_date":1668350286,"creation_date":1667960566,"question_id":74369259,"body_markdown":"The if/else command does not stop the loop when num&lt;0 (negative).\r\n\r\nThe user must enter the number of &quot;prime numbers&quot; characters he wants to see. When typing 0 the loop stops and when typing negative numbers, an &quot;Invalid&quot; warning with System.out.print.\r\n\r\nWith current code, when I type negative numbers, NegativeArraySizeException error appears, but I don&#39;t want that\r\n```\r\ndo {\r\n\tSystem.out.print(&quot;\\nType: &quot;);\r\n\tnum = sc.nextInt();\r\n\r\n\tif (num &lt; 0) {\r\n\t\tSystem.out.print(&quot;Invalid&quot;);\r\n\t}\r\n\tint[] numPri = new int[num];\r\n\r\n\tfor (int i = 2; cont &lt; num; i++) {\r\n\t\tfor (int j = 2; j &lt; i; j++) {\r\n\t\t\tif (i % j == 0) {\r\n\t\t\t\tprimo = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (primo == true) {\r\n\t\t\tnumPri[cont] = i;\r\n\t\t\tcont++;\r\n\t\t}\r\n\t\tprimo = true;\r\n\t}\r\n\tfor (int i = numPri.length - 1; i &gt;= 0; i--) {\r\n\t\tSystem.out.print(&quot; &quot; + numPri[i]);\r\n\t}\r\n\tcont = 0;\r\n} while (num != 0 || num &lt; 0);\r\nSystem.out.print(&quot;End&quot;);\r\n```\r\n\r\n\r\nI already tried If/else, try catch","title":"Loop does not stop with negative array","body":"<p>The if/else command does not stop the loop when num&lt;0 (negative).</p>\n<p>The user must enter the number of &quot;prime numbers&quot; characters he wants to see. When typing 0 the loop stops and when typing negative numbers, an &quot;Invalid&quot; warning with System.out.print.</p>\n<p>With current code, when I type negative numbers, NegativeArraySizeException error appears, but I don't want that</p>\n<pre><code>do {\n    System.out.print(&quot;\\nType: &quot;);\n    num = sc.nextInt();\n\n    if (num &lt; 0) {\n        System.out.print(&quot;Invalid&quot;);\n    }\n    int[] numPri = new int[num];\n\n    for (int i = 2; cont &lt; num; i++) {\n        for (int j = 2; j &lt; i; j++) {\n            if (i % j == 0) {\n                primo = false;\n            }\n        }\n        if (primo == true) {\n            numPri[cont] = i;\n            cont++;\n        }\n        primo = true;\n    }\n    for (int i = numPri.length - 1; i &gt;= 0; i--) {\n        System.out.print(&quot; &quot; + numPri[i]);\n    }\n    cont = 0;\n} while (num != 0 || num &lt; 0);\nSystem.out.print(&quot;End&quot;);\n</code></pre>\n<p>I already tried If/else, try catch</p>\n"},{"tags":["java","model-view-controller","design-patterns"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":1,"creation_date":1668297357,"post_id":74416800,"comment_id":131371772,"body_markdown":"What kind of problem do you wanna solve by &quot;separating the mapping and calling business services from the controller&quot;?","body":"What kind of problem do you wanna solve by &quot;separating the mapping and calling business services from the controller&quot;?"},{"owner":{"account_id":22512534,"reputation":30,"user_id":16707282,"display_name":"CostaVi"},"score":0,"creation_date":1668319709,"post_id":74416800,"comment_id":131373891,"body_markdown":"@rostIvan Reducing the logic (for example, this is only a mapping, but some validation to a business service is also possible) and reducing a large number of business service injections into the controller","body":"@rostIvan Reducing the logic (for example, this is only a mapping, but some validation to a business service is also possible) and reducing a large number of business service injections into the controller"}],"answers":[{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668349932,"creation_date":1668349932,"answer_id":74421900,"question_id":74416800,"body_markdown":"In case if you need to reduce the code duplication\r\n\r\n```java\r\nclass Controller {\r\n    private Service1 service1;\r\n    private Service2 service2;\r\n    private InputOutputMapping mapping;\r\n\r\n    public Response1 test1(Request1 request1){\r\n        return mapping.apply(\r\n            request1,\r\n            ServiceInputDto1.class,\r\n            serviceInputDto1 -&gt; service1.test(serviceInputDto1),\r\n            Response1.class\r\n        );\r\n    }\r\n\r\n    public Response2 test2(Request2 request2){\r\n        return mapping.apply(\r\n            request2,\r\n            ServiceInputDto2.class,\r\n            serviceInputDto2 -&gt; service2.test(serviceInputDto2),\r\n            Response2.class\r\n        );\r\n    }\r\n}\r\n```\r\n```java\r\nclass InputOutputMapping {\r\n    private Mapper mapper;\r\n\r\n    public &lt;REQ, IN_DTO, OUT_DTO, RESP&gt; RESP apply(\r\n        REQ requestObject,\r\n        Class&lt;IN_DTO&gt; inDtoClass,\r\n        Function&lt;IN_DTO, OUT_DTO&gt; serviceFunction,\r\n        Class&lt;RESP&gt; responseClass\r\n    ) {\r\n        final IN_DTO inputDto = mapper.map(requestObject, inDtoClass);\r\n        final OUT_DTO outputDto = serviceFunction.apply(inputDto);\r\n        final RESP response = mapper.map(outputDto, responseClass);\r\n        return response;\r\n    }\r\n}\r\n```","title":"Layer between controller and business service","body":"<p>In case if you need to reduce the code duplication</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Controller {\n    private Service1 service1;\n    private Service2 service2;\n    private InputOutputMapping mapping;\n\n    public Response1 test1(Request1 request1){\n        return mapping.apply(\n            request1,\n            ServiceInputDto1.class,\n            serviceInputDto1 -&gt; service1.test(serviceInputDto1),\n            Response1.class\n        );\n    }\n\n    public Response2 test2(Request2 request2){\n        return mapping.apply(\n            request2,\n            ServiceInputDto2.class,\n            serviceInputDto2 -&gt; service2.test(serviceInputDto2),\n            Response2.class\n        );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class InputOutputMapping {\n    private Mapper mapper;\n\n    public &lt;REQ, IN_DTO, OUT_DTO, RESP&gt; RESP apply(\n        REQ requestObject,\n        Class&lt;IN_DTO&gt; inDtoClass,\n        Function&lt;IN_DTO, OUT_DTO&gt; serviceFunction,\n        Class&lt;RESP&gt; responseClass\n    ) {\n        final IN_DTO inputDto = mapper.map(requestObject, inDtoClass);\n        final OUT_DTO outputDto = serviceFunction.apply(inputDto);\n        final RESP response = mapper.map(outputDto, responseClass);\n        return response;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22512534,"reputation":30,"user_id":16707282,"display_name":"CostaVi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74421900,"answer_count":1,"score":1,"last_activity_date":1668349932,"creation_date":1668289304,"question_id":74416800,"body_markdown":"Interested in practices for implementing a layer between the controller and the business service.\r\n\r\n\r\n```\r\npublic class Controller {\r\n    public Response1 test1(Request1 request1){\r\n        ServiceInputDto1 serviceInputDto1 = mapper.map(request1, ServiceInputDto1.class);\r\n        ServiceOutputDto1 serviceOutputDto1 = service1.test(serviceInputDto1);\r\n        Response1 response1 = mapper.map(serviceOutputDto1, Response1.class);\r\n        return response1;\r\n    }\r\n\r\n    public Response2 test2(Request2 request2){\r\n        ServiceInputDto2 serviceInputDto2 = mapper.map(request2, ServiceInputDto2.class);\r\n        ServiceOutputDto2 serviceOutputDto2 = service2.test(serviceInputDto2);\r\n        Response2 response2 = mapper.map(serviceOutputDto2, Response2.class);\r\n        return response2;\r\n    }\r\n}\r\n```\r\nFollowing the example above, it seems worth separating the mapping and calling business services from the controller. I suppose that it will have a dto mapping, some initial validation of the input data and a call to the business service.\r\n\r\n1. Is it correct in such cases to put it in a separate layer at all?\r\n2. What design pattern can this layer be considered to be?\r\n3. Is it worth it to combine all calls to business services into one layer (one class)?\r\n\r\n\r\nIn my practice, there was a facade (as a design pattern), but it seems there is a more precise definition of what I want.","title":"Layer between controller and business service","body":"<p>Interested in practices for implementing a layer between the controller and the business service.</p>\n<pre><code>public class Controller {\n    public Response1 test1(Request1 request1){\n        ServiceInputDto1 serviceInputDto1 = mapper.map(request1, ServiceInputDto1.class);\n        ServiceOutputDto1 serviceOutputDto1 = service1.test(serviceInputDto1);\n        Response1 response1 = mapper.map(serviceOutputDto1, Response1.class);\n        return response1;\n    }\n\n    public Response2 test2(Request2 request2){\n        ServiceInputDto2 serviceInputDto2 = mapper.map(request2, ServiceInputDto2.class);\n        ServiceOutputDto2 serviceOutputDto2 = service2.test(serviceInputDto2);\n        Response2 response2 = mapper.map(serviceOutputDto2, Response2.class);\n        return response2;\n    }\n}\n</code></pre>\n<p>Following the example above, it seems worth separating the mapping and calling business services from the controller. I suppose that it will have a dto mapping, some initial validation of the input data and a call to the business service.</p>\n<ol>\n<li>Is it correct in such cases to put it in a separate layer at all?</li>\n<li>What design pattern can this layer be considered to be?</li>\n<li>Is it worth it to combine all calls to business services into one layer (one class)?</li>\n</ol>\n<p>In my practice, there was a facade (as a design pattern), but it seems there is a more precise definition of what I want.</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1668174758,"post_id":74403467,"comment_id":131348247,"body_markdown":"welcome to stackoverflow! it would be best if you could narrow down your problem piecemeal and write it in accordance to [mcve]. skimmed your question, its kind of overwhelming given the amount of questions.","body":"welcome to stackoverflow! it would be best if you could narrow down your problem piecemeal and write it in accordance to <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. skimmed your question, its kind of overwhelming given the amount of questions."},{"owner":{"account_id":12047620,"reputation":99,"user_id":8811993,"display_name":"Kiran Kyle"},"score":0,"creation_date":1668174983,"post_id":74403467,"comment_id":131348339,"body_markdown":"Thanks for the info @BagusTesa, I&#39;ve 2 questions. \n\n1. Why is the header not getting added to Page 1 \n\n2. why is a rectangles added to header when I use tables in the pdf.","body":"Thanks for the info @BagusTesa, I&#39;ve 2 questions.   1. Why is the header not getting added to Page 1   2. why is a rectangles added to header when I use tables in the pdf."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668349801,"creation_date":1668183438,"answer_id":74405350,"question_id":74403467,"body_markdown":"According to a comment you essentially have two questions:\r\n\r\n&gt;Thanks for the info @BagusTesa, I&#39;ve 2 questions. 1. Why is the header not getting added to Page 1 2. why is a rectangles added to header when I use tables in the pdf. \r\n\r\n# 1. Why is the header not getting added to Page 1\r\n\r\nYou first add the new page and only thereafter register the event listener:\r\n```lang-java\r\npdfDoc.addNewPage(PageSize.A4);\r\ndocument.setMargins(80, 36, 80, 36);\r\npdfDoc.addEventHandler(PdfDocumentEvent.START_PAGE, new TextHeaderEventHandler());\r\npdfDoc.addEventHandler(PdfDocumentEvent.END_PAGE, new TextFooterEventHandler());\r\n```\r\nThus, when the `START_PAGE` event for that first page is triggered, there is no listener yet to draw the header.\r\n\r\nIf you want that `TextHeaderEventHandler` to also work for the first page, register it _before_ creating any pages.\r\n\r\nActually you are adding content only via the `Document` instance which creates the required pages automatically. Why would you call `addNewPage` at all? Best try without that.\r\n\r\n# 2. why is a rectangles added to header when I use tables in the pdf.\r\n\r\nWell, first of all there is a rectangle because you create a rectangle path:\r\n```lang-java\r\nRectangle rectangle = new Rectangle(35, 740, 520, 100);\r\npdfCanvas.rectangle(rectangle);\r\n```\r\nIt usually doesn&#39;t show because you don&#39;t do anything with that rectangle path you created. You don&#39;t fill the path or stroke the path, you merely define it and let it dangle in the air. If later content you add causes the then current path to be stroked, this might make PDF viewers eventually also stroke the dangling path you defined. Probably adding the table includes such a path stroking instruction.\r\n\r\n# Applying these findings to your code\r\n\r\nOriginally your code produces this:\r\n\r\n[![Screenshot original result][1]][1]\r\n\r\nOne clearly sees the missing header on page 1 and the rectangle lines around the header on page 2.\r\n\r\nNow we remove the two\r\n\r\n    pdfDoc.addNewPage(PageSize.A4);\r\n\r\nlines. The result:\r\n\r\n[![Screenshot result without addNewPage calls][2]][2]\r\n\r\nOne sees that on page 1 something happened in the header area: Where on page 2 there is a stroked rectangle, we here now have a filled rectangle.\r\n\r\nThus, let&#39;s deal with the rectangles now and remove the two\r\n\r\n    pdfCanvas.rectangle(rectangle);\r\n\r\nlines from the event listener. The result:\r\n\r\n[![screenshot without even the pdfCanvas.rectangle calls][3]][3]\r\n\r\nWe see the expected headers on all pages and no weird stroked or filled rectangles.\r\n\r\n  [1]: https://i.stack.imgur.com/paqHl.png\r\n  [2]: https://i.stack.imgur.com/FGhnp.png\r\n  [3]: https://i.stack.imgur.com/XdcvA.png","title":"Header Footer events not working as expected","body":"<p>According to a comment you essentially have two questions:</p>\n<blockquote>\n<p>Thanks for the info @BagusTesa, I've 2 questions. 1. Why is the header not getting added to Page 1 2. why is a rectangles added to header when I use tables in the pdf.</p>\n</blockquote>\n<h1>1. Why is the header not getting added to Page 1</h1>\n<p>You first add the new page and only thereafter register the event listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pdfDoc.addNewPage(PageSize.A4);\ndocument.setMargins(80, 36, 80, 36);\npdfDoc.addEventHandler(PdfDocumentEvent.START_PAGE, new TextHeaderEventHandler());\npdfDoc.addEventHandler(PdfDocumentEvent.END_PAGE, new TextFooterEventHandler());\n</code></pre>\n<p>Thus, when the <code>START_PAGE</code> event for that first page is triggered, there is no listener yet to draw the header.</p>\n<p>If you want that <code>TextHeaderEventHandler</code> to also work for the first page, register it <em>before</em> creating any pages.</p>\n<p>Actually you are adding content only via the <code>Document</code> instance which creates the required pages automatically. Why would you call <code>addNewPage</code> at all? Best try without that.</p>\n<h1>2. why is a rectangles added to header when I use tables in the pdf.</h1>\n<p>Well, first of all there is a rectangle because you create a rectangle path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Rectangle rectangle = new Rectangle(35, 740, 520, 100);\npdfCanvas.rectangle(rectangle);\n</code></pre>\n<p>It usually doesn't show because you don't do anything with that rectangle path you created. You don't fill the path or stroke the path, you merely define it and let it dangle in the air. If later content you add causes the then current path to be stroked, this might make PDF viewers eventually also stroke the dangling path you defined. Probably adding the table includes such a path stroking instruction.</p>\n<h1>Applying these findings to your code</h1>\n<p>Originally your code produces this:</p>\n<p><a href=\"https://i.stack.imgur.com/paqHl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/paqHl.png\" alt=\"Screenshot original result\" /></a></p>\n<p>One clearly sees the missing header on page 1 and the rectangle lines around the header on page 2.</p>\n<p>Now we remove the two</p>\n<pre><code>pdfDoc.addNewPage(PageSize.A4);\n</code></pre>\n<p>lines. The result:</p>\n<p><a href=\"https://i.stack.imgur.com/FGhnp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FGhnp.png\" alt=\"Screenshot result without addNewPage calls\" /></a></p>\n<p>One sees that on page 1 something happened in the header area: Where on page 2 there is a stroked rectangle, we here now have a filled rectangle.</p>\n<p>Thus, let's deal with the rectangles now and remove the two</p>\n<pre><code>pdfCanvas.rectangle(rectangle);\n</code></pre>\n<p>lines from the event listener. The result:</p>\n<p><a href=\"https://i.stack.imgur.com/XdcvA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XdcvA.png\" alt=\"screenshot without even the pdfCanvas.rectangle calls\" /></a></p>\n<p>We see the expected headers on all pages and no weird stroked or filled rectangles.</p>\n"}],"owner":{"account_id":12047620,"reputation":99,"user_id":8811993,"display_name":"Kiran Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668349801,"creation_date":1668174520,"question_id":74403467,"body_markdown":"I&#39;m trying to generate a PDF using iText7 with header and footer. However the codes does not work as expected. Here is my code.\r\n\r\n    import com.itextpdf.kernel.colors.DeviceRgb;\r\n    import com.itextpdf.kernel.events.Event;\r\n    import com.itextpdf.kernel.events.IEventHandler;\r\n    import com.itextpdf.kernel.events.PdfDocumentEvent;\r\n    import com.itextpdf.kernel.geom.PageSize;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.layout.Canvas;\r\n    import com.itextpdf.layout.Document;\r\n    import com.itextpdf.layout.borders.Border;\r\n    import com.itextpdf.layout.element.Cell;\r\n    import com.itextpdf.layout.element.List;\r\n    import com.itextpdf.layout.element.Paragraph;\r\n    import com.itextpdf.layout.element.Table;\r\n    import com.itextpdf.layout.property.TextAlignment;\r\n    import org.apache.log4j.LogManager;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PropertyConfigurator;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    \r\n    class TextHeaderEventHandler implements IEventHandler {\r\n    \r\n        @Override\r\n        public void handleEvent(Event event) {\r\n            PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\r\n            PdfCanvas pdfCanvas = new PdfCanvas(docEvent.getPage());\r\n    \r\n            Rectangle rectangle = new Rectangle(35, 740, 520, 100);\r\n            pdfCanvas.rectangle(rectangle);\r\n    \r\n            Canvas canvas = new Canvas(pdfCanvas, rectangle).setFontSize(7);\r\n            // load logo image here and add\r\n            // canvas.add(image);\r\n    \r\n            canvas.add(new Paragraph(&quot;My custom header line goes here.&quot;));\r\n    \r\n            // bottom line\r\n            canvas.add(new Paragraph(&quot;---------------------------------------------------------------------&quot;));\r\n        }\r\n    }\r\n    \r\n    \r\n    class TextFooterEventHandler implements IEventHandler {\r\n    \r\n        @Override\r\n        public void handleEvent(Event event) {\r\n    \r\n            PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\r\n            PdfCanvas pdfCanvas = new PdfCanvas(docEvent.getPage());\r\n    \r\n            Rectangle rectangle = new Rectangle(35, 30, 520, 50);\r\n            pdfCanvas.rectangle(rectangle);\r\n    \r\n            Canvas canvas = new Canvas(pdfCanvas, rectangle).setFontSize(7);\r\n            // bottom line\r\n            canvas.add(new Paragraph(&quot;---------------------------------------------------------------------&quot;));\r\n    \r\n            // footer text\r\n            canvas.add(new Paragraph(&quot;My custom footer line goes here.&quot;));\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * https://turkogluc.com/java-creating-pdf-reports-with-itext/\r\n     */\r\n    public class HeaderFooter {\r\n    \r\n        private static final Logger logger = LogManager.getLogger(HeaderFooter.class);\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Properties log4jProperties = new Properties();\r\n            log4jProperties.put(&quot;log4j.appender.ConsoleAppender&quot;, &quot;org.apache.log4j.ConsoleAppender&quot;);\r\n            log4jProperties.put(&quot;log4j.appender.ConsoleAppender.layout&quot;, &quot;org.apache.log4j.PatternLayout&quot;);\r\n            log4jProperties.put(&quot;log4j.appender.ConsoleAppender.layout.ConversionPattern&quot;, &quot;%d [%t] %-5p %c - %m%n&quot;);\r\n            log4jProperties.put(&quot;log4j.rootLogger&quot;, &quot;DEBUG, ConsoleAppender&quot;);\r\n            PropertyConfigurator.configure(log4jProperties);\r\n    \r\n            HeaderFooter main = new HeaderFooter();\r\n            main.generatePdf();\r\n        }\r\n    \r\n        public void generatePdf() throws IOException {\r\n            // Creating a PdfWriter\r\n            String dest = &quot;/tmp/example.pdf&quot;;\r\n            PdfWriter writer = new PdfWriter(dest);\r\n    \r\n            // Creating a PdfDocument\r\n            PdfDocument pdfDoc = new PdfDocument(writer);\r\n    \r\n            // Creating a Document\r\n            Document document = new Document(pdfDoc);\r\n            document.setFontSize(10);\r\n    \r\n            pdfDoc.addNewPage(PageSize.A4);\r\n            document.setMargins(80, 36, 80, 36);\r\n            pdfDoc.addEventHandler(PdfDocumentEvent.START_PAGE, new TextHeaderEventHandler());\r\n            pdfDoc.addEventHandler(PdfDocumentEvent.END_PAGE, new TextFooterEventHandler());\r\n    \r\n            // Adding a new page\r\n            pdfDoc.addNewPage(PageSize.A4);\r\n            // document.setMargins(80, 36, 60, 36);\r\n    \r\n            String content = &quot;Lorem ipsum dolor sit amet...jjjj&quot;;\r\n            Paragraph paragraph = new Paragraph(content);\r\n            paragraph.setFontSize(14);\r\n            paragraph.setTextAlignment(TextAlignment.CENTER);\r\n            paragraph.setBorder(Border.NO_BORDER);\r\n            paragraph.setFirstLineIndent(20);\r\n            paragraph.setItalic();\r\n            paragraph.setBold();\r\n            paragraph.setBackgroundColor(new DeviceRgb(245, 245, 245));\r\n            paragraph.setMargin(10);\r\n            paragraph.setPaddingLeft(10);\r\n            paragraph.setPaddingRight(10);\r\n            paragraph.setWidth(1000);\r\n            paragraph.setHeight(100);\r\n            document.add(paragraph);\r\n    \r\n            int listIndex = 1;\r\n            List list = new List();\r\n            for (int i = 0; i &lt; 10; i++, listIndex++) {\r\n                list.add(&quot;Java --&gt; &quot; + listIndex);\r\n                list.add(&quot;Go&quot;);\r\n                list.add(&quot;React&quot;);\r\n                list.add(&quot;Apache Kafka&quot;);\r\n                list.add(&quot;Jenkins&quot;);\r\n                list.add(&quot;Elastic Search&quot;);\r\n            }\r\n            document.add(list);\r\n    \r\n            // adding a table adds a rectangle into the header part\r\n            Table table = new Table(new float[]{150F, 150F, 150F, 150F});\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Id&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Name&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Location&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Date&quot;)));\r\n    \r\n            table.addCell(new Cell().add(new Paragraph(&quot;1000&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Item-1&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Istanbul&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;01/12/2020&quot;)));\r\n    \r\n            table.addCell(new Cell().add(new Paragraph(&quot;1005&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Item-2&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Warsaw&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;05/12/2020&quot;)));\r\n            document.add(table);\r\n    \r\n            // extra list\r\n            list = new List();\r\n            for (int i = 0; i &lt; 10; i++, listIndex++) {\r\n                list.add(&quot;Java --&gt; &quot; + listIndex);\r\n                list.add(&quot;Go&quot;);\r\n                list.add(&quot;React&quot;);\r\n                list.add(&quot;Apache Kafka&quot;);\r\n                list.add(&quot;Jenkins&quot;);\r\n                list.add(&quot;Elastic Search&quot;);\r\n            }\r\n            document.add(list);\r\n    \r\n            // Closing the document\r\n            document.close();\r\n        }\r\n    }\r\n\r\n\r\n**I see following issues.**\r\n\r\n - Header is not generated for first page but footer is generated.\r\n\r\n [![PAGE HEADER FOR PAGE 1][1]][1]\r\n \r\n - When I have a table, a rectangle is added to the header randomly on any\r\n   page.\r\n\r\n[![Rectangle with table][2]][2]\r\n\r\n - When I remove table the rectangle goes away. But this way will be able to add table in\r\n   the pdf but I definitely want to add.\r\n\r\n[![No rectangle when table is removed][3]][3]\r\n\r\nAm I missing something? Can anybody help here.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zlYe3.png\r\n  [2]: https://i.stack.imgur.com/0NBzl.png\r\n  [3]: https://i.stack.imgur.com/kMOH1.png","title":"Header Footer events not working as expected","body":"<p>I'm trying to generate a PDF using iText7 with header and footer. However the codes does not work as expected. Here is my code.</p>\n<pre><code>import com.itextpdf.kernel.colors.DeviceRgb;\nimport com.itextpdf.kernel.events.Event;\nimport com.itextpdf.kernel.events.IEventHandler;\nimport com.itextpdf.kernel.events.PdfDocumentEvent;\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.layout.Canvas;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.List;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.TextAlignment;\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\n\nclass TextHeaderEventHandler implements IEventHandler {\n\n    @Override\n    public void handleEvent(Event event) {\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\n        PdfCanvas pdfCanvas = new PdfCanvas(docEvent.getPage());\n\n        Rectangle rectangle = new Rectangle(35, 740, 520, 100);\n        pdfCanvas.rectangle(rectangle);\n\n        Canvas canvas = new Canvas(pdfCanvas, rectangle).setFontSize(7);\n        // load logo image here and add\n        // canvas.add(image);\n\n        canvas.add(new Paragraph(&quot;My custom header line goes here.&quot;));\n\n        // bottom line\n        canvas.add(new Paragraph(&quot;---------------------------------------------------------------------&quot;));\n    }\n}\n\n\nclass TextFooterEventHandler implements IEventHandler {\n\n    @Override\n    public void handleEvent(Event event) {\n\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\n        PdfCanvas pdfCanvas = new PdfCanvas(docEvent.getPage());\n\n        Rectangle rectangle = new Rectangle(35, 30, 520, 50);\n        pdfCanvas.rectangle(rectangle);\n\n        Canvas canvas = new Canvas(pdfCanvas, rectangle).setFontSize(7);\n        // bottom line\n        canvas.add(new Paragraph(&quot;---------------------------------------------------------------------&quot;));\n\n        // footer text\n        canvas.add(new Paragraph(&quot;My custom footer line goes here.&quot;));\n    }\n}\n\n/**\n * https://turkogluc.com/java-creating-pdf-reports-with-itext/\n */\npublic class HeaderFooter {\n\n    private static final Logger logger = LogManager.getLogger(HeaderFooter.class);\n\n    public static void main(String[] args) throws IOException {\n\n        Properties log4jProperties = new Properties();\n        log4jProperties.put(&quot;log4j.appender.ConsoleAppender&quot;, &quot;org.apache.log4j.ConsoleAppender&quot;);\n        log4jProperties.put(&quot;log4j.appender.ConsoleAppender.layout&quot;, &quot;org.apache.log4j.PatternLayout&quot;);\n        log4jProperties.put(&quot;log4j.appender.ConsoleAppender.layout.ConversionPattern&quot;, &quot;%d [%t] %-5p %c - %m%n&quot;);\n        log4jProperties.put(&quot;log4j.rootLogger&quot;, &quot;DEBUG, ConsoleAppender&quot;);\n        PropertyConfigurator.configure(log4jProperties);\n\n        HeaderFooter main = new HeaderFooter();\n        main.generatePdf();\n    }\n\n    public void generatePdf() throws IOException {\n        // Creating a PdfWriter\n        String dest = &quot;/tmp/example.pdf&quot;;\n        PdfWriter writer = new PdfWriter(dest);\n\n        // Creating a PdfDocument\n        PdfDocument pdfDoc = new PdfDocument(writer);\n\n        // Creating a Document\n        Document document = new Document(pdfDoc);\n        document.setFontSize(10);\n\n        pdfDoc.addNewPage(PageSize.A4);\n        document.setMargins(80, 36, 80, 36);\n        pdfDoc.addEventHandler(PdfDocumentEvent.START_PAGE, new TextHeaderEventHandler());\n        pdfDoc.addEventHandler(PdfDocumentEvent.END_PAGE, new TextFooterEventHandler());\n\n        // Adding a new page\n        pdfDoc.addNewPage(PageSize.A4);\n        // document.setMargins(80, 36, 60, 36);\n\n        String content = &quot;Lorem ipsum dolor sit amet...jjjj&quot;;\n        Paragraph paragraph = new Paragraph(content);\n        paragraph.setFontSize(14);\n        paragraph.setTextAlignment(TextAlignment.CENTER);\n        paragraph.setBorder(Border.NO_BORDER);\n        paragraph.setFirstLineIndent(20);\n        paragraph.setItalic();\n        paragraph.setBold();\n        paragraph.setBackgroundColor(new DeviceRgb(245, 245, 245));\n        paragraph.setMargin(10);\n        paragraph.setPaddingLeft(10);\n        paragraph.setPaddingRight(10);\n        paragraph.setWidth(1000);\n        paragraph.setHeight(100);\n        document.add(paragraph);\n\n        int listIndex = 1;\n        List list = new List();\n        for (int i = 0; i &lt; 10; i++, listIndex++) {\n            list.add(&quot;Java --&gt; &quot; + listIndex);\n            list.add(&quot;Go&quot;);\n            list.add(&quot;React&quot;);\n            list.add(&quot;Apache Kafka&quot;);\n            list.add(&quot;Jenkins&quot;);\n            list.add(&quot;Elastic Search&quot;);\n        }\n        document.add(list);\n\n        // adding a table adds a rectangle into the header part\n        Table table = new Table(new float[]{150F, 150F, 150F, 150F});\n        table.addCell(new Cell().add(new Paragraph(&quot;Id&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Name&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Location&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Date&quot;)));\n\n        table.addCell(new Cell().add(new Paragraph(&quot;1000&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Item-1&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Istanbul&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;01/12/2020&quot;)));\n\n        table.addCell(new Cell().add(new Paragraph(&quot;1005&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Item-2&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Warsaw&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;05/12/2020&quot;)));\n        document.add(table);\n\n        // extra list\n        list = new List();\n        for (int i = 0; i &lt; 10; i++, listIndex++) {\n            list.add(&quot;Java --&gt; &quot; + listIndex);\n            list.add(&quot;Go&quot;);\n            list.add(&quot;React&quot;);\n            list.add(&quot;Apache Kafka&quot;);\n            list.add(&quot;Jenkins&quot;);\n            list.add(&quot;Elastic Search&quot;);\n        }\n        document.add(list);\n\n        // Closing the document\n        document.close();\n    }\n}\n</code></pre>\n<p><strong>I see following issues.</strong></p>\n<ul>\n<li>Header is not generated for first page but footer is generated.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/zlYe3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zlYe3.png\" alt=\"PAGE HEADER FOR PAGE 1\" /></a></p>\n<ul>\n<li>When I have a table, a rectangle is added to the header randomly on any\npage.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/0NBzl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0NBzl.png\" alt=\"Rectangle with table\" /></a></p>\n<ul>\n<li>When I remove table the rectangle goes away. But this way will be able to add table in\nthe pdf but I definitely want to add.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/kMOH1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMOH1.png\" alt=\"No rectangle when table is removed\" /></a></p>\n<p>Am I missing something? Can anybody help here.</p>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1668076448,"post_id":74384764,"comment_id":131321320,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1668351880,"post_id":74384764,"comment_id":131379057,"body_markdown":"Not sure why it doesnâ€™t work, but perhaps you can replace the comma for a Unicode character. This works for me: `$.concat($.min,&quot;\\u002C&quot;,$.max)`.","body":"Not sure why it doesnâ€™t work, but perhaps you can replace the comma for a Unicode character. This works for me: <code>$.concat($.min,&quot;\\u002C&quot;,$.max)</code>."},{"owner":{"account_id":18777411,"reputation":21,"user_id":13692834,"display_name":"Rahul Kundu"},"score":1,"creation_date":1668402285,"post_id":74384764,"comment_id":131387940,"body_markdown":"Thanks @EdwinDalorzo for the information. Yes this unicode trick is working. In my application (android) the json path is a user configurable and I want to keep as simple as possible. I think this is a bug from library and it should be fixed.","body":"Thanks @EdwinDalorzo for the information. Yes this unicode trick is working. In my application (android) the json path is a user configurable and I want to keep as simple as possible. I think this is a bug from library and it should be fixed."}],"owner":{"account_id":18777411,"reputation":21,"user_id":13692834,"display_name":"Rahul Kundu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668349655,"creation_date":1668060334,"question_id":74384764,"body_markdown":"When we are trying to concat with a comma the character is getting ignored.\r\n\r\nFor example, my JSON data is \r\n\r\n    { min: 5, max: 10, avg: 7 }\r\n\r\n\r\nand JSONPath is \r\n\r\n    concat($.min, &quot;,&quot;, $.max)\r\n\r\nThe expected result is `&quot;5,10&quot;` but the result returned is `&quot;510&quot;`\r\n\r\nTried with an underscore and it is working fine, but not working for comma.","title":"Is there any way to use comma for java jsonpath concat function?","body":"<p>When we are trying to concat with a comma the character is getting ignored.</p>\n<p>For example, my JSON data is</p>\n<pre><code>{ min: 5, max: 10, avg: 7 }\n</code></pre>\n<p>and JSONPath is</p>\n<pre><code>concat($.min, &quot;,&quot;, $.max)\n</code></pre>\n<p>The expected result is <code>&quot;5,10&quot;</code> but the result returned is <code>&quot;510&quot;</code></p>\n<p>Tried with an underscore and it is working fine, but not working for comma.</p>\n"},{"tags":["java","serialization"],"answers":[{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480404839,"creation_date":1341935587,"answer_id":11417179,"question_id":11417103,"body_markdown":"You can encrypt or hash it,  but java serialization format is a poot choice for sending over network -  better solution would be JSON / XML ( encrypted or signed with some cryptographic algorythm)","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>You can encrypt or hash it,  but java serialization format is a poot choice for sending over network -  better solution would be JSON / XML ( encrypted or signed with some cryptographic algorythm)</p>\n"},{"tags":[],"owner":{"account_id":1630105,"reputation":3975,"user_id":1504837,"display_name":"sean"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1341935713,"creation_date":1341935713,"answer_id":11417214,"question_id":11417103,"body_markdown":"Look into encryption as said before, but more specifically look at hte SSL/TLS libraries for network communication in java.\r\n\r\nhttp://juliusdavies.ca/commons-ssl/ssl.html\r\n\r\nNo need to try and implement secure encryption communication when there is a very powerful library built into Java.","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>Look into encryption as said before, but more specifically look at hte SSL/TLS libraries for network communication in java.</p>\n\n<p><a href=\"http://juliusdavies.ca/commons-ssl/ssl.html\" rel=\"nofollow\">http://juliusdavies.ca/commons-ssl/ssl.html</a></p>\n\n<p>No need to try and implement secure encryption communication when there is a very powerful library built into Java.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342050701,"creation_date":1342050701,"answer_id":11443243,"question_id":11417103,"body_markdown":"[`java.crypto.SealedObject`][1] is what you are looking for.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/SealedObject.html","title":"Serialization - How to secure a serialized JAVA object?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/SealedObject.html\" rel=\"nofollow\"><code>java.crypto.SealedObject</code></a> is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":472500,"reputation":514,"user_id":881009,"display_name":"Pierre Ernst"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1556108808,"creation_date":1358261413,"answer_id":14340252,"question_id":11417103,"body_markdown":"This presentation give ideas on how effectively attackers can tamper a Java serialized stream:\r\n\r\n 1. [https://www.owasp.org/images/e/eb/OWASP_IL_2008_Shai_Chen_PT_to_Java_Client_Server_Apps.ppt][1]\r\n\r\n\r\n There is also the risk of injecting unsuspected behavior and inject code in case a vulnerable class exists on the server&#39;s classpath. See this article:\r\n\r\n[Look-ahead Java deserialization][3]\r\n\r\n\r\n  [1]: https://www.owasp.org/images/e/eb/OWASP_IL_2008_Shai_Chen_PT_to_Java_Client_Server_Apps.ppt\r\n  [2]: http://www.ibm.com/developerworks/library/se-lookahead/index.html","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>This presentation give ideas on how effectively attackers can tamper a Java serialized stream:</p>\n\n<ol>\n<li><p><a href=\"https://www.owasp.org/images/e/eb/OWASP_IL_2008_Shai_Chen_PT_to_Java_Client_Server_Apps.ppt\" rel=\"nofollow noreferrer\">https://www.owasp.org/images/e/eb/OWASP_IL_2008_Shai_Chen_PT_to_Java_Client_Server_Apps.ppt</a></p>\n\n<p>There is also the risk of injecting unsuspected behavior and inject code in case a vulnerable class exists on the server's classpath. See this article:</p></li>\n</ol>\n\n<p>[Look-ahead Java deserialization][3]</p>\n"},{"tags":[],"owner":{"account_id":3208439,"reputation":639,"user_id":2708960,"accept_rate":40,"display_name":"Ashley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381179386,"creation_date":1381179386,"answer_id":19234602,"question_id":11417103,"body_markdown":"In my opinion, you can use either use `SSLSocket` or `SealedObject`. However, it will make things a bit heavy for you. However, one of the option is described in this article as well. http://www.ibm.com/developerworks/library/j-5things1/","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>In my opinion, you can use either use <code>SSLSocket</code> or <code>SealedObject</code>. However, it will make things a bit heavy for you. However, one of the option is described in this article as well. <a href=\"http://www.ibm.com/developerworks/library/j-5things1/\" rel=\"nofollow\">http://www.ibm.com/developerworks/library/j-5things1/</a></p>\n"},{"tags":[],"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446454855,"creation_date":1446454855,"answer_id":33473933,"question_id":11417103,"body_markdown":"You can use the signed object and sealed object to secure the serialisation object","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>You can use the signed object and sealed object to secure the serialisation object</p>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634660132,"creation_date":1634659782,"answer_id":69634306,"question_id":11417103,"body_markdown":"I add a useful resource to the thread here, Oracle&#39;s *Secure Coding Guidelines for Java SE* (particularly, in this case section 8 in the guidelines, &quot;*Serialization and Deserialization*&quot;):\r\n\r\nhttps://www.oracle.com/java/technologies/javase/seccodeguide.html#8","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>I add a useful resource to the thread here, Oracle's <em>Secure Coding Guidelines for Java SE</em> (particularly, in this case section 8 in the guidelines, &quot;<em>Serialization and Deserialization</em>&quot;):</p>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/seccodeguide.html#8\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/seccodeguide.html#8</a></p>\n"},{"tags":[],"owner":{"account_id":4286286,"reputation":783,"user_id":3503970,"accept_rate":100,"display_name":"Alex Blasco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668349625,"creation_date":1668273558,"answer_id":74415013,"question_id":11417103,"body_markdown":"A good way to secure any object in java is enforcing invariants in the constructor. For example, imagine a class `Person` where you do not want to allow any instantiation of a person under age 13:\r\n\r\n    public class Person implements Serializable{\r\n    \tprivate String name;\r\n    \tprivate Integer age;\r\n    \r\n    \tpublic Person(final String name, final Integer age) {\r\n    \t\tif(age &lt; 13) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;invalid age&quot;);\r\n    \t\t}\r\n    \t\tthis.name = name;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    }\r\n\r\nHowever, as you are implementing `Serializable` it is possible to write code bypassing your constructor, which should be our main defense mechanism, so it is possible to break encapsulation:\r\n\r\n    @Test\r\n\tvoid testEncapsulationSerialization() throws IOException, ClassNotFoundException {\r\n\t\tPerson a = new Person(&quot;dave&quot;, 23);\r\n\t\tByteArrayOutputStream boas = new ByteArrayOutputStream();\r\n\t\ttry (ObjectOutputStream oos = new ObjectOutputStream(boas)) {\r\n\t\t\toos.writeObject(a);\r\n\t\t}\r\n\t\tbyte[] bytes = boas.toByteArray();\r\n\t\tbytes[237] = 12; // trick: we are modifying the array of bytes manually\r\n\t\ttry (ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bytes))) {\r\n\t\t\tPerson b = (Person) ois.readObject();\r\n\t\t\tSystem.out.println(a);\r\n\t\t\tSystem.out.println(b);\r\n\t\t}\r\n\t}\r\n\r\nWith this test we are able to create an object of type `Person` with age of 12 (which is not allowed in our constructor).\r\n\r\nSo in this case, if you want to secure serialization you need to override in `Person` class `readResolve()` method to call your constructor:\r\n\r\n\r\n    private Object readResolve() throws ObjectStreamException {\r\n        return new Person(this);\r\n    }\r\n\r\nSo that we will enforce that any instantiation follow the invariants declared in our constructor.\r\n\r\nAlso if you have a parent class that implements Serialization, you may need to also override `readObject()` and `writeObject()` methods. \r\n\r\nFurthermore, you should ensure immutability of your object, as the default extensibility of java works against security.\r\n\r\nTo sum up, we should avoid using `Serializable` (and `Clonable`) because both can break encapsulation if we do not explicitly secure them.\r\n\r\n","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>A good way to secure any object in java is enforcing invariants in the constructor. For example, imagine a class <code>Person</code> where you do not want to allow any instantiation of a person under age 13:</p>\n<pre><code>public class Person implements Serializable{\n    private String name;\n    private Integer age;\n\n    public Person(final String name, final Integer age) {\n        if(age &lt; 13) {\n            throw new IllegalArgumentException(&quot;invalid age&quot;);\n        }\n        this.name = name;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>However, as you are implementing <code>Serializable</code> it is possible to write code bypassing your constructor, which should be our main defense mechanism, so it is possible to break encapsulation:</p>\n<pre><code>@Test\nvoid testEncapsulationSerialization() throws IOException, ClassNotFoundException {\n    Person a = new Person(&quot;dave&quot;, 23);\n    ByteArrayOutputStream boas = new ByteArrayOutputStream();\n    try (ObjectOutputStream oos = new ObjectOutputStream(boas)) {\n        oos.writeObject(a);\n    }\n    byte[] bytes = boas.toByteArray();\n    bytes[237] = 12; // trick: we are modifying the array of bytes manually\n    try (ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bytes))) {\n        Person b = (Person) ois.readObject();\n        System.out.println(a);\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>With this test we are able to create an object of type <code>Person</code> with age of 12 (which is not allowed in our constructor).</p>\n<p>So in this case, if you want to secure serialization you need to override in <code>Person</code> class <code>readResolve()</code> method to call your constructor:</p>\n<pre><code>private Object readResolve() throws ObjectStreamException {\n    return new Person(this);\n}\n</code></pre>\n<p>So that we will enforce that any instantiation follow the invariants declared in our constructor.</p>\n<p>Also if you have a parent class that implements Serialization, you may need to also override <code>readObject()</code> and <code>writeObject()</code> methods.</p>\n<p>Furthermore, you should ensure immutability of your object, as the default extensibility of java works against security.</p>\n<p>To sum up, we should avoid using <code>Serializable</code> (and <code>Clonable</code>) because both can break encapsulation if we do not explicitly secure them.</p>\n"}],"owner":{"account_id":1428006,"reputation":762,"user_id":1514499,"accept_rate":93,"display_name":"user1514499"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14340252,"answer_count":8,"score":5,"last_activity_date":1668349625,"creation_date":1341935319,"question_id":11417103,"body_markdown":"How can I secure the serialized object if I send the serialized  object over the network?\r\nI doubt that hackers may interrupt/hack my data.\r\n\r\ncan anyone tell in detail about how to implement this?\r\n","title":"Serialization - How to secure a serialized JAVA object?","body":"<p>How can I secure the serialized object if I send the serialized  object over the network?\nI doubt that hackers may interrupt/hack my data.</p>\n\n<p>can anyone tell in detail about how to implement this?</p>\n"},{"tags":["java","date","timezone","zoneddatetime","java.time.instant"],"comments":[{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1526069863,"post_id":50299639,"comment_id":87616088,"body_markdown":"you can try to call sdf.setTimeZone(&quot;your TZ&quot;)","body":"you can try to call sdf.setTimeZone(&quot;your TZ&quot;)"},{"owner":{"account_id":4394839,"reputation":881,"user_id":3582236,"accept_rate":33,"display_name":"masterfly"},"score":0,"creation_date":1526070311,"post_id":50299639,"comment_id":87616274,"body_markdown":"@DanilaZharenkov I tried that but it gives &quot;2018-05-12T16:30:00Z&quot;","body":"@DanilaZharenkov I tried that but it gives &quot;2018-05-12T16:30:00Z&quot;"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1526070835,"post_id":50299639,"comment_id":87616491,"body_markdown":"`Instant` Is not a `String` and not have a `format`, can you describe what you want exactly?","body":"<code>Instant</code> Is not a <code>String</code> and not have a <code>format</code>, can you describe what you want exactly?"},{"owner":{"account_id":4394839,"reputation":881,"user_id":3582236,"accept_rate":33,"display_name":"masterfly"},"score":0,"creation_date":1526071361,"post_id":50299639,"comment_id":87616703,"body_markdown":"sorry I edited my question. I am expecting Instant to result in 2018-05-12T20:30:00.000Z for &quot;04:30 PM, Sat 5/12/2018&quot; which in America/Toronto timezone","body":"sorry I edited my question. I am expecting Instant to result in 2018-05-12T20:30:00.000Z for &quot;04:30 PM, Sat 5/12/2018&quot; which in America/Toronto timezone"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1526071727,"post_id":50299639,"comment_id":87616882,"body_markdown":"@Venky can you try this `Instant instance = LocalDateTime.parse(\n        requestTime, DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE MM/dd/yyyy&quot;)\n).toInstant(ZoneOffset.of(&quot;America/Toronto&quot;));`","body":"@Venky can you try this <code>Instant instance = LocalDateTime.parse(         requestTime, DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE MM&#47;dd&#47;yyyy&quot;) ).toInstant(ZoneOffset.of(&quot;America&#47;Toronto&quot;));</code>"},{"owner":{"account_id":4394839,"reputation":881,"user_id":3582236,"accept_rate":33,"display_name":"masterfly"},"score":0,"creation_date":1526072018,"post_id":50299639,"comment_id":87617033,"body_markdown":"@YCF_L That results in exception\njava.time.format.DateTimeParseException: Text &#39;04:30 PM, Sat 5/12/2018&#39; could not be parsed at index 14","body":"@YCF_L That results in exception java.time.format.DateTimeParseException: Text &#39;04:30 PM, Sat 5/12/2018&#39; could not be parsed at index 14"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1526074262,"post_id":50299639,"comment_id":87617828,"body_markdown":"No need to mix the modern classes (`Instant`) with the troubled legacy classes (`Date` &amp; `SimpleDateFormat`). Use the *java.time* classes only; they entirely supplant the old ones.","body":"No need to mix the modern classes (<code>Instant</code>) with the troubled legacy classes (<code>Date</code> &amp; <code>SimpleDateFormat</code>). Use the <i>java.time</i> classes only; they entirely supplant the old ones."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1526074912,"post_id":50299639,"comment_id":87618019,"body_markdown":"Your Question is not clear. Edit out your particular variable names, make them `input`, `result` and such to ease our reading. &quot;reqString&quot;??? And clarify exactly what are the inputs, outputs, and unmet expectations.","body":"Your Question is not clear. Edit out your particular variable names, make them <code>input</code>, <code>result</code> and such to ease our reading. &quot;reqString&quot;??? And clarify exactly what are the inputs, outputs, and unmet expectations."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1668348276,"creation_date":1526074549,"answer_id":50300578,"question_id":50299639,"body_markdown":"## tl;dr\r\n\r\n - Fix your formatting pattern for unpadded month and day.\r\n - Use only *java.time* classes, never the legacy classes.\r\n\r\nContrived example:\r\n\r\n    LocalDateTime.parse(                   // Parse as an indeterminate `LocalDate`, devoid of time zone or offset-from-UTC. NOT a moment, NOT a point on the timeline.\r\n        &quot;04:30 PM, Sat 5/12/2018&quot; ,        // This input uses a poor choice of format. Whenever possible, use standard ISO 8601 formats when exchanging date-time values as text. Conveniently, the java.time classes use the standard formats by default when parsing/generating strings.\r\n        DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/d/uuuu&quot;, Locale.US)  // Use single-character `M` &amp; `d` when the number lacks a leading padded zero for single-digit values.\r\n    )                                      // Returns a `LocalDateTime` object.\r\n    .atZone(                               // Apply a zone to that unzoned `LocalDateTime`, giving it meaning, determining a point on the timeline.\r\n        ZoneId.of(&quot;America/Toronto&quot;)       // Always specify a proper time zone with `Contintent/Region` format, never a 3-4 letter pseudo-zone such as `PST`, `CST`, or `IST`.\r\n    )                                      // Returns a `ZonedDateTime`. `toString` â†’ 2018-05-12T16:30-04:00[America/Toronto].\r\n    .toInstant()                           // Extract a `Instant` object, always in UTC by definition.\r\n    .toString()                            // Generate a String in standard ISO 8601 format representing the value within this `Instant` object. Note that this string is *generated*, not *contained*.\r\n\r\n&gt;2018-05-12T20:30:00Z\r\n\r\n\r\n## Use single-digit formatting pattern\r\n\r\nYou used `MM` in your formatting pattern, to mean any single-digit value (months January-September) will appear with a padded leading zero.\r\n\r\nBut your input lacks that padded leading zero. So use a single `M`.\r\n\r\nDitto for day-of-month I expect: `d` rather than `dd`.\r\n\r\n## Use only *java.time*\r\n\r\nYou are using troublesome flawed old date-time classes (`Date` &amp; `SimpleDateFormat`) that were supplanted years ago by the *java.time* classes. The new classes entirely supplant the old. There isn&#39;t any need to mix the legacy and modern.\r\n\r\n## `LocalDateTime`\r\n\r\nParse as a [`LocalDateTime`][1] because your input string lacks any indicator of [time zone][2] or [offset-from-UTC][3]. Such a value is *not* a moment, and it is *not* a point on the timeline. It is only a set of *potential* moments along a range of about 26-27 hours.\r\n\r\n    String input = &quot;04:30 PM, Sat 5/12/2018&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/d/uuuu&quot;, Locale.US);  // Specify locale to determine human language and cultural norms used in translating that input string.\r\n    LocalDateTime ldt = LocalDateTime.parse(input, f);\r\n\r\n&gt;ldt.toString(): 2018-05-12T16:30\r\n\r\n### `ZonedDateTime`\r\n\r\nIf you know for certain that input was intended to represent a moment using the wall-clock time used by the people of the Toronto Canada region, apply a `ZoneId` to get a [`ZonedDateTime`][4] object.\r\n\r\nAssigning a time zone gives meaning to your unzoned `LocalDateTime`. Now we have a moment, a point on the timeline.\r\n\r\n    ZoneId z = ZoneId.of(&quot;America/Toronto&quot;);\r\n    ZonedDateTime zdt = ldt.atZone(z);  // Give meaning to that `LocalDateTime` by assigning the context of a particular time zone. Now we have a moment, a point on the timeline.\r\n\r\n&gt;zdt.toString(): 2018-05-12T16:30-04:00[America/Toronto]\r\n\r\n### `Instant`\r\n\r\nTo see that same moment as [UTC][5], extract an [`Instant`][6]. Same moment, different wall-clock time.\r\n\r\n    Instant instant = zdt.toInstant();\r\n\r\n&gt;instant.toString(): 2018-05-12T20:30:00Z\r\n\r\n\r\n----------\r\n\r\n## About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. There isn&#39;t any need for strings or for `java.sql.*` classes.\r\n\r\nWhere can we obtain the *java.time* classes?\r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in.\r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABPâ€¦*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Time_zone\r\n  [3]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [4]: https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\r\n  [5]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [6]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\r\n","title":"Converting string to &#39;Instant&#39;","body":"<h2>tl;dr</h2>\n<ul>\n<li>Fix your formatting pattern for unpadded month and day.</li>\n<li>Use only <em>java.time</em> classes, never the legacy classes.</li>\n</ul>\n<p>Contrived example:</p>\n<pre><code>LocalDateTime.parse(                   // Parse as an indeterminate `LocalDate`, devoid of time zone or offset-from-UTC. NOT a moment, NOT a point on the timeline.\n    &quot;04:30 PM, Sat 5/12/2018&quot; ,        // This input uses a poor choice of format. Whenever possible, use standard ISO 8601 formats when exchanging date-time values as text. Conveniently, the java.time classes use the standard formats by default when parsing/generating strings.\n    DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/d/uuuu&quot;, Locale.US)  // Use single-character `M` &amp; `d` when the number lacks a leading padded zero for single-digit values.\n)                                      // Returns a `LocalDateTime` object.\n.atZone(                               // Apply a zone to that unzoned `LocalDateTime`, giving it meaning, determining a point on the timeline.\n    ZoneId.of(&quot;America/Toronto&quot;)       // Always specify a proper time zone with `Contintent/Region` format, never a 3-4 letter pseudo-zone such as `PST`, `CST`, or `IST`.\n)                                      // Returns a `ZonedDateTime`. `toString` â†’ 2018-05-12T16:30-04:00[America/Toronto].\n.toInstant()                           // Extract a `Instant` object, always in UTC by definition.\n.toString()                            // Generate a String in standard ISO 8601 format representing the value within this `Instant` object. Note that this string is *generated*, not *contained*.\n</code></pre>\n<blockquote>\n<p>2018-05-12T20:30:00Z</p>\n</blockquote>\n<h2>Use single-digit formatting pattern</h2>\n<p>You used <code>MM</code> in your formatting pattern, to mean any single-digit value (months January-September) will appear with a padded leading zero.</p>\n<p>But your input lacks that padded leading zero. So use a single <code>M</code>.</p>\n<p>Ditto for day-of-month I expect: <code>d</code> rather than <code>dd</code>.</p>\n<h2>Use only <em>java.time</em></h2>\n<p>You are using troublesome flawed old date-time classes (<code>Date</code> &amp; <code>SimpleDateFormat</code>) that were supplanted years ago by the <em>java.time</em> classes. The new classes entirely supplant the old. There isn't any need to mix the legacy and modern.</p>\n<h2><code>LocalDateTime</code></h2>\n<p>Parse as a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> because your input string lacks any indicator of <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a>. Such a value is <em>not</em> a moment, and it is <em>not</em> a point on the timeline. It is only a set of <em>potential</em> moments along a range of about 26-27 hours.</p>\n<pre><code>String input = &quot;04:30 PM, Sat 5/12/2018&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/d/uuuu&quot;, Locale.US);  // Specify locale to determine human language and cultural norms used in translating that input string.\nLocalDateTime ldt = LocalDateTime.parse(input, f);\n</code></pre>\n<blockquote>\n<p>ldt.toString(): 2018-05-12T16:30</p>\n</blockquote>\n<h3><code>ZonedDateTime</code></h3>\n<p>If you know for certain that input was intended to represent a moment using the wall-clock time used by the people of the Toronto Canada region, apply a <code>ZoneId</code> to get a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> object.</p>\n<p>Assigning a time zone gives meaning to your unzoned <code>LocalDateTime</code>. Now we have a moment, a point on the timeline.</p>\n<pre><code>ZoneId z = ZoneId.of(&quot;America/Toronto&quot;);\nZonedDateTime zdt = ldt.atZone(z);  // Give meaning to that `LocalDateTime` by assigning the context of a particular time zone. Now we have a moment, a point on the timeline.\n</code></pre>\n<blockquote>\n<p>zdt.toString(): 2018-05-12T16:30-04:00[America/Toronto]</p>\n</blockquote>\n<h3><code>Instant</code></h3>\n<p>To see that same moment as <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, extract an <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>. Same moment, different wall-clock time.</p>\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n<blockquote>\n<p>instant.toString(): 2018-05-12T20:30:00Z</p>\n</blockquote>\n<hr />\n<h2>About <em>java.time</em></h2>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. There isn't any need for strings or for <code>java.sql.*</code> classes.</p>\n<p>Where can we obtain the <em>java.time</em> classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ€¦</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668349064,"creation_date":1526075490,"answer_id":50300733,"question_id":50299639,"body_markdown":"It seems like the time zone on your computer (server) is US Pacific DST ([PDT][1], GMT-7), but you expect to have the result for US Eastern DST ([EDT][2], GMT-4).\r\n\r\nInstant.toString() returns UTC (GMT+0) DateTime in [ISO&amp;nbsp;8601][3] format. (&#39;Z&#39; at the end means UTC).\r\n\r\nSimpleDateFormat treats DateTime String in the default time zone of the computer when it is not specified. And your input does not specify a time zone.\r\n\r\nSo, you need to do something about in what time zone your input is.\r\n\r\nPS.: On my machine in [Eastern DST][2], your code gives me the result exactly as you expected.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pacific_Time_Zone\r\n  [2]: https://en.wikipedia.org/wiki/Eastern_Time_Zone\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n","title":"Converting string to &#39;Instant&#39;","body":"<p>It seems like the time zone on your computer (server) is US Pacific DST (<a href=\"https://en.wikipedia.org/wiki/Pacific_Time_Zone\" rel=\"nofollow noreferrer\">PDT</a>, GMT-7), but you expect to have the result for US Eastern DST (<a href=\"https://en.wikipedia.org/wiki/Eastern_Time_Zone\" rel=\"nofollow noreferrer\">EDT</a>, GMT-4).</p>\n<p>Instant.toString() returns UTC (GMT+0) DateTime in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISOÂ 8601</a> format. ('Z' at the end means UTC).</p>\n<p>SimpleDateFormat treats DateTime String in the default time zone of the computer when it is not specified. And your input does not specify a time zone.</p>\n<p>So, you need to do something about in what time zone your input is.</p>\n<p>PS.: On my machine in <a href=\"https://en.wikipedia.org/wiki/Eastern_Time_Zone\" rel=\"nofollow noreferrer\">Eastern DST</a>, your code gives me the result exactly as you expected.</p>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668349169,"creation_date":1637229947,"answer_id":70017901,"question_id":50299639,"body_markdown":"For the description, you can read *[Convert String to Date in Java][1]*.\r\n\r\n    String requestTime = &quot;04:30 PM, Sat 5/12/2018 America/Toronto&quot;;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/dd/yyyy z&quot;);\r\n    ZonedDateTime zonedDateTime = ZonedDateTime.parse(requestTime, formatter);\r\n    System.out.println(zonedDateTime.toInstant());\r\n\r\n  [1]: https://www.baeldung.com/java-string-to-date\r\n\r\n","title":"Converting string to &#39;Instant&#39;","body":"<p>For the description, you can read <em><a href=\"https://www.baeldung.com/java-string-to-date\" rel=\"nofollow noreferrer\">Convert String to Date in Java</a></em>.</p>\n<pre><code>String requestTime = &quot;04:30 PM, Sat 5/12/2018 America/Toronto&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a, EEE M/dd/yyyy z&quot;);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(requestTime, formatter);\nSystem.out.println(zonedDateTime.toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17535087,"reputation":27,"user_id":12718367,"display_name":"Andrea Paolo Ferraresi"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1642154775,"creation_date":1642154775,"answer_id":70708906,"question_id":50299639,"body_markdown":"Instant.parse(String) appropriately formatted","title":"Converting string to &#39;Instant&#39;","body":"<p>Instant.parse(String) appropriately formatted</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668349399,"creation_date":1665774034,"answer_id":74073744,"question_id":50299639,"body_markdown":"What went wrong in your attempt?\r\n--\r\n\r\nThe `SimpleDateFormat` uses the system&#39;s time-zone by default while you have mentioned that `requestTime` is in ***America/Toronto*** timezone. You should never rely on the default time-zone because when your code will be run on a machine in different time-zone your application may behave in an unexpected manner.\r\n\r\nHow should you have done it?\r\n--\r\n\r\nSet the time-zone to America/Toronto before parsing. Also, [Never use Date-Time formatting/parsing API without a Locale](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n**Demo**:\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.Instant;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.TimeZone;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws ParseException {\r\n            String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm a, EEE MM/dd/yyyy&quot;, Locale.ENGLISH);\r\n            sdf.setTimeZone(TimeZone.getTimeZone(&quot;America/Toronto&quot;));\r\n            Date date = sdf.parse(requestTime);\r\n            Instant reqInstant = date.toInstant();\r\n            System.out.println(reqInstant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n```lang-none\r\n2018-05-12T20:30:00Z\r\n```\r\n\r\nDo not pollute the clean java.time API with the error-prone java.util API\r\n--\r\n\r\nThe java.time API introduced with Java-8 (March 2014) supplants the error-prone and outdated `java.util` and their formatting API, `SimpleDateFormat`. It is recommended to stop using the legacy date-time API and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). You tried parsing the date-time string using the legacy API and then switching to the modern API using [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) while you could have done everything using the modern API.\r\n\r\nYou should use [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) to switch to the modern API if you are using an old code/library that uses `java.util.Date`.\r\n\r\nSolution using the modern date-time API\r\n--\r\n\r\nParse the date-time string to `LocalDateTime` as it does not have time-zone &amp;rarr; Convert the obtained `LocalDateTime` into `ZonedDateTime` of the given time-zone &amp;rarr; Convert the obtained `ZonedDateTime` into `Instant`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h:m a, EEE M/d/u&quot;, Locale.ENGLISH);\r\n\r\n            // Parse the date-time string to LocalDateTime as it does not have time-zone\r\n            LocalDateTime ldt = LocalDateTime.parse(requestTime, dtf);\r\n\r\n            // Convert the LocalDateTime into ZonedDateTime of the given time-zone\r\n            ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;America/Toronto&quot;));\r\n\r\n            // Convert the ZonedDateTime into Instant\r\n            Instant instant = zdt.toInstant();\r\n            System.out.println(instant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n```lang-none\r\n2018-05-12T20:30:00Z\r\n```\r\n\r\nNote that I [prefer u to y](https://stackoverflow.com/a/65928023/10819573) with `DateTimeFormatter`.\r\n\r\nAn alternative solution using the modern date-time API\r\n--\r\n\r\nYou can convert the obtained `LocalDateTime` directly into an `Instant` using [`LocalDateTime#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toInstant-java.time.ZoneOffset-) by supplying it with the time-zone ID.\r\n\r\n    Instant instant = ldt.toInstant(ZoneId.of(&quot;America/Toronto&quot;).getRules().getOffset(ldt));\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Converting string to &#39;Instant&#39;","body":"<h2>What went wrong in your attempt?</h2>\n<p>The <code>SimpleDateFormat</code> uses the system's time-zone by default while you have mentioned that <code>requestTime</code> is in <em><strong>America/Toronto</strong></em> timezone. You should never rely on the default time-zone because when your code will be run on a machine in different time-zone your application may behave in an unexpected manner.</p>\n<h2>How should you have done it?</h2>\n<p>Set the time-zone to America/Toronto before parsing. Also, <a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use Date-Time formatting/parsing API without a Locale</a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.Instant;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\npublic class Main {\n    public static void main(String[] args) throws ParseException {\n        String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm a, EEE MM/dd/yyyy&quot;, Locale.ENGLISH);\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;America/Toronto&quot;));\n        Date date = sdf.parse(requestTime);\n        Instant reqInstant = date.toInstant();\n        System.out.println(reqInstant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2018-05-12T20:30:00Z\n</code></pre>\n<h2>Do not pollute the clean java.time API with the error-prone java.util API</h2>\n<p>The java.time API introduced with Java-8 (March 2014) supplants the error-prone and outdated <code>java.util</code> and their formatting API, <code>SimpleDateFormat</code>. It is recommended to stop using the legacy date-time API and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>. You tried parsing the date-time string using the legacy API and then switching to the modern API using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> while you could have done everything using the modern API.</p>\n<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> to switch to the modern API if you are using an old code/library that uses <code>java.util.Date</code>.</p>\n<h2>Solution using the modern date-time API</h2>\n<p>Parse the date-time string to <code>LocalDateTime</code> as it does not have time-zone â†’ Convert the obtained <code>LocalDateTime</code> into <code>ZonedDateTime</code> of the given time-zone â†’ Convert the obtained <code>ZonedDateTime</code> into <code>Instant</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h:m a, EEE M/d/u&quot;, Locale.ENGLISH);\n\n        // Parse the date-time string to LocalDateTime as it does not have time-zone\n        LocalDateTime ldt = LocalDateTime.parse(requestTime, dtf);\n\n        // Convert the LocalDateTime into ZonedDateTime of the given time-zone\n        ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;America/Toronto&quot;));\n\n        // Convert the ZonedDateTime into Instant\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2018-05-12T20:30:00Z\n</code></pre>\n<p>Note that I <a href=\"https://stackoverflow.com/a/65928023/10819573\">prefer u to y</a> with <code>DateTimeFormatter</code>.</p>\n<h2>An alternative solution using the modern date-time API</h2>\n<p>You can convert the obtained <code>LocalDateTime</code> directly into an <code>Instant</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toInstant-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>LocalDateTime#toInstant</code></a> by supplying it with the time-zone ID.</p>\n<pre><code>Instant instant = ldt.toInstant(ZoneId.of(&quot;America/Toronto&quot;).getRules().getOffset(ldt));\n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4394839,"reputation":881,"user_id":3582236,"accept_rate":33,"display_name":"masterfly"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162543,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":50300578,"answer_count":5,"score":58,"last_activity_date":1668349399,"creation_date":1526069703,"question_id":50299639,"body_markdown":"I am trying to convert datetime in a string to an *Instant* instance using Java 8 or a utilities package.\r\n\r\nFor example,\r\n\r\n    String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\r\n\r\nto\r\n\r\n```lang-none\r\nInstant reqInstant should result in 2018-05-12T20:30:00.000Z\r\n```\r\n\r\nreqString is in the [America/Toronto][1] time zone.\r\n\r\nThis is what I tried\r\n\r\n     String strReqDelTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\r\n     Date date = new SimpleDateFormat(&quot;hh:mm a, EEE MM/dd/yyyy&quot;).parse(requestTime);\r\n     Instant reqInstant = date.toInstant();\r\n\r\nThe above code results in *&quot;2018-05-12T23:30:00Z&quot;*.\r\n\r\nHow can I do it?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#TORONTO\r\n","title":"Converting string to &#39;Instant&#39;","body":"<p>I am trying to convert datetime in a string to an <em>Instant</em> instance using Java 8 or a utilities package.</p>\n<p>For example,</p>\n<pre><code>String requestTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-none prettyprint-override\"><code>Instant reqInstant should result in 2018-05-12T20:30:00.000Z\n</code></pre>\n<p>reqString is in the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#TORONTO\" rel=\"noreferrer\">America/Toronto</a> time zone.</p>\n<p>This is what I tried</p>\n<pre><code> String strReqDelTime = &quot;04:30 PM, Sat 5/12/2018&quot;;\n Date date = new SimpleDateFormat(&quot;hh:mm a, EEE MM/dd/yyyy&quot;).parse(requestTime);\n Instant reqInstant = date.toInstant();\n</code></pre>\n<p>The above code results in <em>&quot;2018-05-12T23:30:00Z&quot;</em>.</p>\n<p>How can I do it?</p>\n"},{"tags":["java","algorithm","sorting","counting-sort"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668138091,"post_id":74397776,"comment_id":131338451,"body_markdown":"Look at the error carefully. Which of your arrays is out of bounds? Think about which indexes you are using for which arrays.","body":"Look at the error carefully. Which of your arrays is out of bounds? Think about which indexes you are using for which arrays."}],"answers":[{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668139104,"creation_date":1668139104,"answer_id":74397875,"question_id":74397776,"body_markdown":"It is because your variable &quot;numbers&quot; only holds 9 values.\r\n\r\n    for (int i=0;i&lt;count.length;i++)\r\n           count[numbers[i]]++;\r\n\r\nThis for loop will iterate depending on the size of your variable &quot;count&quot;. In your case, the variable &quot;count&quot; will hold 26 values. It throws an error when the variable &quot;numbers&quot; is being accessed with an index beyond its size. ","title":"My program for counting sort always shows this error- Index 9 out of bounds for length 9","body":"<p>It is because your variable &quot;numbers&quot; only holds 9 values.</p>\n<pre><code>for (int i=0;i&lt;count.length;i++)\n       count[numbers[i]]++;\n</code></pre>\n<p>This for loop will iterate depending on the size of your variable &quot;count&quot;. In your case, the variable &quot;count&quot; will hold 26 values. It throws an error when the variable &quot;numbers&quot; is being accessed with an index beyond its size.</p>\n"}],"owner":{"account_id":26896450,"reputation":9,"user_id":20474287,"display_name":"Kdey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1668186372,"answer_count":1,"score":-1,"last_activity_date":1668348871,"creation_date":1668137813,"question_id":74397776,"body_markdown":"I have been writing the below mentioned code for the problem and it always shows me the error that my index is out of bounds for my length. I have tried printing the size and it is comparitively very large.\r\n\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n    public static void countingSort(int numbers[]) {\r\n    //    int n = numbers.length - 2;\r\n\r\n       int largest=Integer.MIN_VALUE;\r\n       for (int i=0;i&lt;numbers.length;i++){\r\n           largest=Math.max(largest,numbers[i]);\r\n       }\r\n       int count[]=new int[largest+1];\r\n        System.out.println(count.length+&quot;= length\\n&quot;);\r\n       for (int i=0;i&lt;count.length;i++)\r\n           count[numbers[i]]++;\r\n       int j=0;\r\n       for (int i=0;i&lt;count.length;i++){\r\n           while(count[i]&gt;0){\r\n               numbers[j]=i;\r\n               j++;\r\n               count[i]--;\r\n           }\r\n       }\r\n       for(int i=0;i&lt;numbers.length;i++)\r\n            System.out.println(numbers[i]);\r\n    }\r\n    public static void main(String args[]) {\r\n        int numbers[] ={5,8,7,19,25,4,2,3,1};\r\n       countingSort(numbers);\r\n\r\n    }\r\n\r\n\r\n","title":"My program for counting sort always shows this error- Index 9 out of bounds for length 9","body":"<p>I have been writing the below mentioned code for the problem and it always shows me the error that my index is out of bounds for my length. I have tried printing the size and it is comparitively very large.</p>\n<pre><code>import java.util.*;\nclass Main {\n    public static void countingSort(int numbers[]) {\n    //    int n = numbers.length - 2;\n\n       int largest=Integer.MIN_VALUE;\n       for (int i=0;i&lt;numbers.length;i++){\n           largest=Math.max(largest,numbers[i]);\n       }\n       int count[]=new int[largest+1];\n        System.out.println(count.length+&quot;= length\\n&quot;);\n       for (int i=0;i&lt;count.length;i++)\n           count[numbers[i]]++;\n       int j=0;\n       for (int i=0;i&lt;count.length;i++){\n           while(count[i]&gt;0){\n               numbers[j]=i;\n               j++;\n               count[i]--;\n           }\n       }\n       for(int i=0;i&lt;numbers.length;i++)\n            System.out.println(numbers[i]);\n    }\n    public static void main(String args[]) {\n        int numbers[] ={5,8,7,19,25,4,2,3,1};\n       countingSort(numbers);\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","css","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1392153927,"creation_date":1392153927,"answer_id":21713358,"question_id":21713280,"body_markdown":"Try this:\r\n\r\n    test = driver.findElement(By.xpath(&quot;//div[@class=&#39;value test&#39;]&quot;));\r\n","title":"Find div element by multiple class names?","body":"<p>Try this:</p>\n\n<pre><code>test = driver.findElement(By.xpath(\"//div[@class='value test']\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1208658,"reputation":32250,"user_id":1177636,"accept_rate":50,"display_name":"Yi Zeng"},"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1484366190,"creation_date":1392156043,"answer_id":21714006,"question_id":21713280,"body_markdown":"I don&#39;t think barak manos&#39;s answer has fully explained it.\r\n\r\nImagine we have few elements as the followings:\r\n\r\n1. `&lt;div class=&quot;value test&quot;&gt;&lt;/div&gt;`\r\n2. `&lt;div class=&quot;value test     &quot;&gt;&lt;/div&gt;`\r\n3. `&lt;div class=&quot;first value test last&quot;&gt;&lt;/div&gt;`\r\n4. `&lt;div class=&quot;test value&quot;&gt;&lt;/div&gt;`\r\n\r\nHow XPath matches\r\n\r\n- Match only 1 (exact match), barak&#39;s answer\r\n\r\n        driver.findElement(By.xpath(&quot;//div[@class=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2 and 3 (match class contains `value test`, class order matters)\r\n\r\n        driver.findElement(By.xpath(&quot;//div[contains(@class, &#39;value test&#39;)]&quot;));\r\n\r\n\r\n- Match 1, 2, 3 and 4 (as long as elements have class `value` and `test`)\r\n\r\n        driver.findElement(By.xpath(&quot;//div[contains(@class, &#39;value&#39;) and contains(@class, &#39;test&#39;)]&quot;));\r\n\r\nAlso, in cases like this, Css Selector is always in favor of XPath (fast, concise, native).\r\n\r\n- Match 1\r\n\r\n        driver.findElement(By.cssSelector(&quot;div[class=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2 and 3\r\n\r\n        driver.findElement(By.cssSelector(&quot;div[class*=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2, 3 and 4\r\n\r\n        driver.findElement(By.cssSelector(&quot;div.value.test&quot;));","title":"Find div element by multiple class names?","body":"<p>I don't think barak manos's answer has fully explained it.</p>\n\n<p>Imagine we have few elements as the followings:</p>\n\n<ol>\n<li><code>&lt;div class=\"value test\"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"value test     \"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"first value test last\"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"test value\"&gt;&lt;/div&gt;</code></li>\n</ol>\n\n<p>How XPath matches</p>\n\n<ul>\n<li><p>Match only 1 (exact match), barak's answer</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[@class='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2 and 3 (match class contains <code>value test</code>, class order matters)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class, 'value test')]\"));\n</code></pre></li>\n<li><p>Match 1, 2, 3 and 4 (as long as elements have class <code>value</code> and <code>test</code>)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class, 'value') and contains(@class, 'test')]\"));\n</code></pre></li>\n</ul>\n\n<p>Also, in cases like this, Css Selector is always in favor of XPath (fast, concise, native).</p>\n\n<ul>\n<li><p>Match 1</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div[class='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2 and 3</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div[class*='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2, 3 and 4</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div.value.test\"));\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583269981,"creation_date":1583269981,"answer_id":60515585,"question_id":21713280,"body_markdown":"Class By.ByClassName\r\n--------------------\r\nClass [By.ByClassName](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.ByClassName.html#ByClassName-java.lang.String-) is defined in [By.java](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/By.java#L101) as follows:\r\n\r\n\t/**\r\n\t * Find elements based on the value of the &quot;class&quot; attribute. If an element has multiple classes, then\r\n\t * this will match against each of them. For example, if the value is &quot;one two onone&quot;, then the\r\n\t * class names &quot;one&quot; and &quot;two&quot; will match.\r\n\t *\r\n\t * @param className The value of the &quot;class&quot; attribute to search for.\r\n\t * @return A By which locates elements by the value of the &quot;class&quot; attribute.\r\n\t */\r\n\tpublic static By className(String className) {\r\n\t  return new ByClassName(className);\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nSo as per the defination you can&#39;t pass multiple classes i.e. `value` and `test` as arguments to `@FindBy(className = &quot;...&quot;)`. Sending multiple classes will raise an error as:\r\n\r\n\tinvalid selector: Compound class names not permitted\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nSolution\r\n--------\r\nThere are multiple approaches to solve this usecase as follows:\r\n\r\n- If the element is uniquely identified only through the `classname` **`value`** you can use:\r\n\r\n\t\t@FindBy(className = &quot;value&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- If the element is uniquely identified only through the `classname` **`test`** you can use:\r\n\r\n\t\t@FindBy(className = &quot;test&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- If both the `classnames`, **`value`** and **`test`** are mandatory to identify the element, you can use [tag:css-selectors] as follows:\r\n\r\n\t\t@FindBy(css  = &quot;.value.test&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- As an alternative you can also use [tag:xpath] as follows:\r\n\r\n\t\t@FindBy(xpath   = &quot;//*[@class=&#39;value test&#39;]&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\ntl; dr\r\n------\r\n[Invalid selector: Compound class names not permitted error using Selenium](https://stackoverflow.com/questions/53528072/invalid-selector-compound-class-names-not-permitted-error-using-selenium/53536022#53536022)","title":"Find div element by multiple class names?","body":"<h2>Class By.ByClassName</h2>\n\n<p>Class <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.ByClassName.html#ByClassName-java.lang.String-\" rel=\"nofollow noreferrer\">By.ByClassName</a> is defined in <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/By.java#L101\" rel=\"nofollow noreferrer\">By.java</a> as follows:</p>\n\n<pre><code>/**\n * Find elements based on the value of the \"class\" attribute. If an element has multiple classes, then\n * this will match against each of them. For example, if the value is \"one two onone\", then the\n * class names \"one\" and \"two\" will match.\n *\n * @param className The value of the \"class\" attribute to search for.\n * @return A By which locates elements by the value of the \"class\" attribute.\n */\npublic static By className(String className) {\n  return new ByClassName(className);\n}\n</code></pre>\n\n<hr>\n\n<h2>This usecase</h2>\n\n<p>So as per the defination you can't pass multiple classes i.e. <code>value</code> and <code>test</code> as arguments to <code>@FindBy(className = \"...\")</code>. Sending multiple classes will raise an error as:</p>\n\n<pre><code>invalid selector: Compound class names not permitted\n</code></pre>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>There are multiple approaches to solve this usecase as follows:</p>\n\n<ul>\n<li><p>If the element is uniquely identified only through the <code>classname</code> <strong><code>value</code></strong> you can use:</p>\n\n<pre><code>@FindBy(className = \"value\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>If the element is uniquely identified only through the <code>classname</code> <strong><code>test</code></strong> you can use:</p>\n\n<pre><code>@FindBy(className = \"test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>If both the <code>classnames</code>, <strong><code>value</code></strong> and <strong><code>test</code></strong> are mandatory to identify the element, you can use <a href=\"/questions/tagged/css-selectors\" class=\"post-tag\" title=\"show questions tagged &#39;css-selectors&#39;\" rel=\"tag\">css-selectors</a> as follows:</p>\n\n<pre><code>@FindBy(css  = \".value.test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>As an alternative you can also use <a href=\"/questions/tagged/xpath\" class=\"post-tag\" title=\"show questions tagged &#39;xpath&#39;\" rel=\"tag\">xpath</a> as follows:</p>\n\n<pre><code>@FindBy(xpath   = \"//*[@class='value test']\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>tl; dr</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/53528072/invalid-selector-compound-class-names-not-permitted-error-using-selenium/53536022#53536022\">Invalid selector: Compound class names not permitted error using Selenium</a></p>\n"},{"tags":[],"owner":{"account_id":17874577,"reputation":375,"user_id":12984995,"display_name":"Hakun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668348829,"creation_date":1668348829,"answer_id":74421775,"question_id":21713280,"body_markdown":"If anyone still wonders, i accomplished this by connecting the class names with dots:\r\n\r\nPython:\r\n```\r\ntime_element = post.find_elements(By.CLASS_NAME, &#39;MUxGbd.wuQ4Ob.WZ8Tjf&#39;)[0].text\r\n```\r\n","title":"Find div element by multiple class names?","body":"<p>If anyone still wonders, i accomplished this by connecting the class names with dots:</p>\n<p>Python:</p>\n<pre><code>time_element = post.find_elements(By.CLASS_NAME, 'MUxGbd.wuQ4Ob.WZ8Tjf')[0].text\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139669,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":21714006,"answer_count":4,"score":79,"last_activity_date":1668348829,"creation_date":1392153689,"question_id":21713280,"body_markdown":"`&lt;div class=&quot;value test&quot; /&gt;`\r\nI&#39;d like to identify that web element. It only has this two classes defined.\r\nI cannot do the following as `className` does not take a space separated value. What are alternatives?\r\n\r\n    @FindBy(className = &quot;value test&quot;)\r\n    @CacheLookup\r\n    private WebElement test;","title":"Find div element by multiple class names?","body":"<p><code>&lt;div class=\"value test\" /&gt;</code>\nI'd like to identify that web element. It only has this two classes defined.\nI cannot do the following as <code>className</code> does not take a space separated value. What are alternatives?</p>\n\n<pre><code>@FindBy(className = \"value test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1668290436,"post_id":74416784,"comment_id":131370700,"body_markdown":"`\\d+(?:[^ ]+\\d+)?`","body":"<code>\\d+(?:[^ ]+\\d+)?</code>"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":3,"creation_date":1668290678,"post_id":74416784,"comment_id":131370747,"body_markdown":"I don&#39;t think this is possible with a single regex.","body":"I don&#39;t think this is possible with a single regex."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1668291041,"post_id":74416784,"comment_id":131370821,"body_markdown":"You can try to *remove* non-digits except spaces, and *split* on remaining spaces.","body":"You can try to <i>remove</i> non-digits except spaces, and <i>split</i> on remaining spaces."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668291973,"post_id":74416784,"comment_id":131371002,"body_markdown":"var numbers = Stream.of(input.replaceAll(&quot;[^\\\\d\\\\s]&quot;,&quot; &quot;).split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList);","body":"var numbers = Stream.of(input.replaceAll(&quot;[^\\\\d\\\\s]&quot;,&quot; &quot;).split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList);"},{"owner":{"account_id":8626170,"reputation":21,"user_id":6459339,"display_name":"Gorg"},"score":1,"creation_date":1668292357,"post_id":74416784,"comment_id":131371060,"body_markdown":"thank you @Pshemo for the idea. I managed to remove all characters beside numbers and whitespaces with this like input.replaceAll(&quot;[^\\\\s0-9]&quot;, &quot;&quot;) and now I got my desired result.","body":"thank you @Pshemo for the idea. I managed to remove all characters beside numbers and whitespaces with this like input.replaceAll(&quot;[^\\\\s0-9]&quot;, &quot;&quot;) and now I got my desired result."},{"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"score":1,"creation_date":1668294396,"post_id":74416784,"comment_id":131371386,"body_markdown":"Do note that once you have it, you can answer your own question with your found solution!","body":"Do note that once you have it, you can answer your own question with your found solution!"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668347472,"creation_date":1668346219,"answer_id":74421445,"question_id":74416784,"body_markdown":"# [`Matcher.results()`][1]\r\n\r\nWe can create a regular expression that captures a sequence containing at least one digit enclosed with zero or more non-white-space characters both on the left and on the right.\r\n\r\nAnd with this regular expression using Java 9 `Matcher.results()` we can generate a `Stream` of `MatchResult`s, which is an object containing information about the matching group.\r\n\r\nThe only thing left is to extract the matching groups, eliminate non-digit characters, and collect the result.\r\n\r\n    public static final Pattern TEXT_WITH_DIGITS = Pattern.compile(&quot;[^\\\\s]*\\\\d+[^\\\\s]*&quot;);\r\n    \r\n    public static List&lt;Integer&gt; getInts(String str) {\r\n        \r\n        return TEXT_WITH_DIGITS.matcher(str).results() // Stream&lt;MatchResult&gt;\r\n            .map(MatchResult::group)                   // Stream&lt;String&gt; - extract the matching string\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;))        // remove non-digit characters\r\n            .map(Integer::valueOf)                     // Stream&lt;Integer&gt; - parse the string\r\n            .toList();\r\n    }\r\n\r\n# [`Pattern.splitAsStream()`][2]\r\n\r\nAnother option is to split the given string on white spaces. For that, we can make use of the Java 8 `Pattern.splitAsStream()` which generates a stream of elements identical to the ones produced by `String.split()`. The difference is that `Pattern.splitAsStream()` creates a stream directly from the regex engine without allocating an intermediate array in memory.\r\n\r\nThen to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use [`dropWhile()`][3] to discard such string.\r\n\r\n    public static final Pattern WHITE_SPACES = Pattern.compile(&quot;\\\\s+&quot;);\r\n    \r\n    public static List&lt;Integer&gt; getInts(String str) {\r\n        \r\n        return WHITE_SPACES.splitAsStream(str)\r\n            .dropWhile(String::isEmpty)         // very first element might be empty, and if that&#39;s the case it needs to be skipped\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;)) // remove non-digit characters\r\n            .map(Integer::valueOf)              // Stream&lt;Integer&gt; - parse the string\r\n            .toList();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getInts(&quot;ds[44]%6c&quot;));\r\n        System.out.println(getInts(&quot;2021 ds[44]%6c&quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[446]       // &quot;ds[44]%6c&quot;\r\n[2021, 446] // &quot;2021 ds[44]%6c&quot;\r\n```\r\n\r\n\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)","title":"Capture a Digits mixed with Characters excluding White-space as a Number using Regex","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a></h1>\n<p>We can create a regular expression that captures a sequence containing at least one digit enclosed with zero or more non-white-space characters both on the left and on the right.</p>\n<p>And with this regular expression using Java 9 <code>Matcher.results()</code> we can generate a <code>Stream</code> of <code>MatchResult</code>s, which is an object containing information about the matching group.</p>\n<p>The only thing left is to extract the matching groups, eliminate non-digit characters, and collect the result.</p>\n<pre><code>public static final Pattern TEXT_WITH_DIGITS = Pattern.compile(&quot;[^\\\\s]*\\\\d+[^\\\\s]*&quot;);\n\npublic static List&lt;Integer&gt; getInts(String str) {\n    \n    return TEXT_WITH_DIGITS.matcher(str).results() // Stream&lt;MatchResult&gt;\n        .map(MatchResult::group)                   // Stream&lt;String&gt; - extract the matching string\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;))        // remove non-digit characters\n        .map(Integer::valueOf)                     // Stream&lt;Integer&gt; - parse the string\n        .toList();\n}\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream()</code></a></h1>\n<p>Another option is to split the given string on white spaces. For that, we can make use of the Java 8 <code>Pattern.splitAsStream()</code> which generates a stream of elements identical to the ones produced by <code>String.split()</code>. The difference is that <code>Pattern.splitAsStream()</code> creates a stream directly from the regex engine without allocating an intermediate array in memory.</p>\n<p>Then to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile()</code></a> to discard such string.</p>\n<pre><code>public static final Pattern WHITE_SPACES = Pattern.compile(&quot;\\\\s+&quot;);\n\npublic static List&lt;Integer&gt; getInts(String str) {\n    \n    return WHITE_SPACES.splitAsStream(str)\n        .dropWhile(String::isEmpty)         // very first element might be empty, and if that's the case it needs to be skipped\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;)) // remove non-digit characters\n        .map(Integer::valueOf)              // Stream&lt;Integer&gt; - parse the string\n        .toList();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getInts(&quot;ds[44]%6c&quot;));\n    System.out.println(getInts(&quot;2021 ds[44]%6c&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[446]       // &quot;ds[44]%6c&quot;\n[2021, 446] // &quot;2021 ds[44]%6c&quot;\n</code></pre>\n"}],"owner":{"account_id":8626170,"reputation":21,"user_id":6459339,"display_name":"Gorg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668348617,"creation_date":1668289205,"question_id":74416784,"body_markdown":"I have a text that can contain numbers, letters and special characters and I want to extract all the numbers in it using a regular expression.\r\n\r\nThe tricky part is that any two numbers with characters in between should be extracted as a whole number. Any two numbers with spaces in between should yield as two separate numbers.\r\n\r\nExample: `ds[44]%6c` should yield `446` but `2021 ds[44]%6c` should yield `2021`, `446`\r\n\r\nI have tried the following Regex\r\n\r\n    (-?\\d+)\r\n\r\nWhich works fine to some extent, but I don&#39;t know how to match until I see a whitespace and ignore the chars between the numbers.","title":"Capture a Digits mixed with Characters excluding White-space as a Number using Regex","body":"<p>I have a text that can contain numbers, letters and special characters and I want to extract all the numbers in it using a regular expression.</p>\n<p>The tricky part is that any two numbers with characters in between should be extracted as a whole number. Any two numbers with spaces in between should yield as two separate numbers.</p>\n<p>Example: <code>ds[44]%6c</code> should yield <code>446</code> but <code>2021 ds[44]%6c</code> should yield <code>2021</code>, <code>446</code></p>\n<p>I have tried the following Regex</p>\n<pre><code>(-?\\d+)\n</code></pre>\n<p>Which works fine to some extent, but I don't know how to match until I see a whitespace and ignore the chars between the numbers.</p>\n"},{"tags":["java","recursion","lambda","biginteger"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1637582278,"post_id":70064733,"comment_id":123856399,"body_markdown":"Hi Bryead - I understand that you are asking about homework, and provide a couple of screenshots of the statement &amp; example output. Copying the *relevant* parts of the text of those screenshots would make your answer much easier to answer - which is would be a win for you: more &amp; better answers.","body":"Hi Bryead - I understand that you are asking about homework, and provide a couple of screenshots of the statement &amp; example output. Copying the <i>relevant</i> parts of the text of those screenshots would make your answer much easier to answer - which is would be a win for you: more &amp; better answers."},{"owner":{"account_id":15068624,"reputation":120,"user_id":10874912,"display_name":"Bryead"},"score":0,"creation_date":1637717040,"post_id":70064733,"comment_id":123899622,"body_markdown":"hi @tucuxi, I have edited the question to include the text of the screenshots.","body":"hi @tucuxi, I have edited the question to include the text of the screenshots."}],"answers":[{"tags":[],"owner":{"account_id":23244272,"reputation":64,"user_id":17333065,"display_name":"StartsMercury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637580554,"creation_date":1637580554,"answer_id":70065065,"question_id":70064733,"body_markdown":"```java\r\nclass LearningBigInteger {\r\n    // Iterable version\r\n    static BigInteger product(BigInteger n, BigOperation... ops) {\r\n        BigInteger temp = n;\r\n\r\n        for (BigOperation op : ops) {\r\n            // I only have temp to work it\r\n            // so it is being processed\r\n            // to itself, pointless i know!\r\n            temp = op.operation(temp, temp);\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    // Discrete version\r\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\r\n        BigInteger temp = n;\r\n\r\n        // This layout is good\r\n        // if you keep the same temp\r\n        // variable as input!\r\n        temp = op1.operation(temp, temp);\r\n        temp = op2.operation(temp, temp);\r\n        temp = op3.operation(temp, temp);\r\n\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\nAlso I can&#39;t open the links you provided. Notify me when fixed!","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<pre class=\"lang-java prettyprint-override\"><code>class LearningBigInteger {\n    // Iterable version\n    static BigInteger product(BigInteger n, BigOperation... ops) {\n        BigInteger temp = n;\n\n        for (BigOperation op : ops) {\n            // I only have temp to work it\n            // so it is being processed\n            // to itself, pointless i know!\n            temp = op.operation(temp, temp);\n        }\n\n        return temp;\n    }\n\n    // Discrete version\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\n        BigInteger temp = n;\n\n        // This layout is good\n        // if you keep the same temp\n        // variable as input!\n        temp = op1.operation(temp, temp);\n        temp = op2.operation(temp, temp);\n        temp = op3.operation(temp, temp);\n\n        return temp;\n    }\n}\n</code></pre>\n<p>Also I can't open the links you provided. Notify me when fixed!</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637584848,"creation_date":1637582652,"answer_id":70065461,"question_id":70064733,"body_markdown":"First the code. Explanations appear after the code.\r\n```java\r\nimport java.math.BigInteger;\r\n\r\npublic class LearningBigInteger {\r\n    private static BigOperation multiply;\r\n    private static BigOperation divide;\r\n    private static BigOperation remainder;\r\n\r\n    private static BigInteger digitProduct(BigInteger x) {\r\n        if (x.compareTo(BigInteger.TEN) &lt;= 0) {\r\n            return x;\r\n        }\r\n        else {\r\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\r\n            BigInteger newX = divide.operation(x, BigInteger.TEN);\r\n            return multiply.operation(r, digitProduct(newX));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        multiply = (x, y) -&gt; x.multiply(y);\r\n        divide = (x, y) -&gt; x.divide(y);\r\n        remainder = (x, y) -&gt; x.remainder(y);\r\n        BigInteger x = new BigInteger(&quot;8584803&quot;);\r\n        BigInteger product = BigInteger.ONE;\r\n        while (x.compareTo(BigInteger.TEN) &gt;= 0) {\r\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\r\n            product = multiply.operation(product, r);\r\n            x = divide.operation(x, BigInteger.TEN);\r\n        }\r\n        System.out.println(product);\r\n        System.out.println(digitProduct(new BigInteger(&quot;12345&quot;)));\r\n    }\r\n}\r\n\r\ninterface BigOperation {\r\n    public BigInteger operation(BigInteger x,BigInteger y);\r\n}\r\n```\r\nInterface `BigOperation` is referred to as a *functional interface* because it contains exactly one [abstract] method.\r\n\r\nA lambda expression is a shorthand way of writing an implementation of the sole method in a functional interface.\r\n\r\nThe way to write a lambda expression is to first write the list of parameters for the method, followed by the arrow symbol and finally followed by the method body. The syntax varies slightly depending on the number of method parameters and the number of lines in the method body. In the above code, the syntax is for a method with two parameters and the method body is just one line. The syntax would be different if either there was just one method parameter or if there were more than one line in the method body.\r\n\r\nThe code in your question uses [method references][1] which, I suppose, are a special form of [lambda expression][2].\r\n\r\nIn the above code, method `main` contains the iterative approach while method `digitProduct` implements the recursive approach.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p>First the code. Explanations appear after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\n\npublic class LearningBigInteger {\n    private static BigOperation multiply;\n    private static BigOperation divide;\n    private static BigOperation remainder;\n\n    private static BigInteger digitProduct(BigInteger x) {\n        if (x.compareTo(BigInteger.TEN) &lt;= 0) {\n            return x;\n        }\n        else {\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\n            BigInteger newX = divide.operation(x, BigInteger.TEN);\n            return multiply.operation(r, digitProduct(newX));\n        }\n    }\n\n    public static void main(String[] args) {\n        multiply = (x, y) -&gt; x.multiply(y);\n        divide = (x, y) -&gt; x.divide(y);\n        remainder = (x, y) -&gt; x.remainder(y);\n        BigInteger x = new BigInteger(&quot;8584803&quot;);\n        BigInteger product = BigInteger.ONE;\n        while (x.compareTo(BigInteger.TEN) &gt;= 0) {\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\n            product = multiply.operation(product, r);\n            x = divide.operation(x, BigInteger.TEN);\n        }\n        System.out.println(product);\n        System.out.println(digitProduct(new BigInteger(&quot;12345&quot;)));\n    }\n}\n\ninterface BigOperation {\n    public BigInteger operation(BigInteger x,BigInteger y);\n}\n</code></pre>\n<p>Interface <code>BigOperation</code> is referred to as a <em>functional interface</em> because it contains exactly one [abstract] method.</p>\n<p>A lambda expression is a shorthand way of writing an implementation of the sole method in a functional interface.</p>\n<p>The way to write a lambda expression is to first write the list of parameters for the method, followed by the arrow symbol and finally followed by the method body. The syntax varies slightly depending on the number of method parameters and the number of lines in the method body. In the above code, the syntax is for a method with two parameters and the method body is just one line. The syntax would be different if either there was just one method parameter or if there were more than one line in the method body.</p>\n<p>The code in your question uses <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> which, I suppose, are a special form of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>.</p>\n<p>In the above code, method <code>main</code> contains the iterative approach while method <code>digitProduct</code> implements the recursive approach.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637616376,"creation_date":1637616376,"answer_id":70072556,"question_id":70064733,"body_markdown":"Try this.\r\n\r\n    interface BigOperation {\r\n        BigInteger operation(BigInteger x, BigInteger y);\r\n    }\r\n\r\n    static class Iterative {\r\n        static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n            BigInteger product = BigInteger.ONE;\r\n            for ( ; x.compareTo(BigInteger.ZERO) &gt; 0; x = op2.operation(x, BigInteger.TEN))\r\n                product = op1.operation(product, op3.operation(x, BigInteger.TEN));\r\n            return product;\r\n        }\r\n    }\r\n\r\n    static class Recursive {\r\n        static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n            if (x.compareTo(BigInteger.TEN) &lt; 0)\r\n                return x;\r\n            else\r\n                return op1.operation(op3.operation(x, BigInteger.TEN),\r\n                    product(op2.operation(x, BigInteger.TEN), op1, op2, op3));\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    static void test(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n        System.out.println(&quot;Given bit integer &quot; + x);\r\n        System.out.println(&quot;(Iterative) &quot; + Iterative.product(x, op1, op2, op3));\r\n        System.out.println(&quot;(Recursive) &quot; + Recursive.product(x, op1, op2, op3));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        BigOperation multiply = BigInteger::multiply;\r\n        BigOperation divide = BigInteger::divide;\r\n        BigOperation remainder = BigInteger::remainder;\r\n        test(new BigInteger(&quot;8584803&quot;), multiply, divide, remainder);\r\n        test(new BigInteger(&quot;12345&quot;), multiply, divide, remainder);\r\n    }\r\n\r\noutput:\r\n\r\n    Given bit integer 8584803\r\n    (Iterative) 0\r\n    (Recursive) 0\r\n    Given bit integer 12345\r\n    (Iterative) 120\r\n    (Recursive) 120\r\n\r\n","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p>Try this.</p>\n<pre><code>interface BigOperation {\n    BigInteger operation(BigInteger x, BigInteger y);\n}\n\nstatic class Iterative {\n    static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n        BigInteger product = BigInteger.ONE;\n        for ( ; x.compareTo(BigInteger.ZERO) &gt; 0; x = op2.operation(x, BigInteger.TEN))\n            product = op1.operation(product, op3.operation(x, BigInteger.TEN));\n        return product;\n    }\n}\n\nstatic class Recursive {\n    static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n        if (x.compareTo(BigInteger.TEN) &lt; 0)\n            return x;\n        else\n            return op1.operation(op3.operation(x, BigInteger.TEN),\n                product(op2.operation(x, BigInteger.TEN), op1, op2, op3));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>static void test(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n    System.out.println(&quot;Given bit integer &quot; + x);\n    System.out.println(&quot;(Iterative) &quot; + Iterative.product(x, op1, op2, op3));\n    System.out.println(&quot;(Recursive) &quot; + Recursive.product(x, op1, op2, op3));\n}\n\npublic static void main(String[] args) {\n    BigOperation multiply = BigInteger::multiply;\n    BigOperation divide = BigInteger::divide;\n    BigOperation remainder = BigInteger::remainder;\n    test(new BigInteger(&quot;8584803&quot;), multiply, divide, remainder);\n    test(new BigInteger(&quot;12345&quot;), multiply, divide, remainder);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Given bit integer 8584803\n(Iterative) 0\n(Recursive) 0\nGiven bit integer 12345\n(Iterative) 120\n(Recursive) 120\n</code></pre>\n"}],"owner":{"account_id":15068624,"reputation":120,"user_id":10874912,"display_name":"Bryead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70072556,"answer_count":3,"score":1,"last_activity_date":1668348377,"creation_date":1637578903,"question_id":70064733,"body_markdown":"[BigInteger_Question][1]\r\n\r\n[Sample_Output][2]\r\n\r\nGiven the following interface class\r\n\r\n    interface BigOperation\r\n    {\r\n        public BigInteger operation (Biglnteger x, Biglnteger y);\r\n    }\r\n\r\nWrite Lambda expressions to implement BigOperation to simulate three arithmetic operations\r\n/ and % on Biglnteger. You can call them op1, op2 and op3 respectively. Note that the three\r\noperations in Biglnteger are called multiply, divide and remainder respectively.\r\nUsing these three operations, we wish to multiply all the digits in a Biglnteger. For example, if the\r\nBiglnteger is 234, the product is 2 * 3 * 4 = 24. The method has the following method heading:\r\n  \r\n\r\n    static Biglnteger product (BigInteger n, BigOperation op1, BigOperation op2,\r\n    BigOperation op3)\r\n\r\nCompare the implementation of this method using two approaches: Iterative and Recursive.\r\nPut the Lambda expressions in a main method. Construct a few Biglnteger objects, invoke the\r\nmethods to test our design. The following shows some of the sample outputs:\r\n\r\n\r\n\r\n    Given big integer 8584803\r\n    (Iterative) e\r\n    (Recursive) 0\r\n    Given big integer 12345\r\n    (Iterative) 120\r\n    (Recursive) 120\r\n\r\n\r\nI have no idea how to proceed with the code after what I have as attached. I wanted to try looping through the `BigInteger N` with a *foreach* but it doesn&#39;t seem to work. Next, I wanted to do a `for(int i = 0)`, etc. loop but I do not know how to get location reference to a `BigInteger` variable. I don&#39;t know how to use lambda for this.\r\n\r\nThanks in advance for answering my queries.\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.Random;\r\n\r\n    interface BigOperation{\r\n        public BigInteger operation(BigInteger x,BigInteger y);\r\n    }\r\n    \r\n    class LearningBigInteger {\r\n        static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            BigOperation multiply = BigInteger::multiply;\r\n            BigOperation divide = BigInteger::divide;\r\n            BigOperation remainder = BigInteger::remainder;\r\n            Random r = new Random();\r\n            BigInteger n = BigInteger.valueOf(Math.abs(r.nextInt()));\r\n            BigInteger m = product(n,multiply,divide,remainder);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0y3sr.png/\r\n  [2]: https://i.stack.imgur.com/kmY0i.png/","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p><a href=\"https://i.stack.imgur.com/0y3sr.png/\" rel=\"nofollow noreferrer\">BigInteger_Question</a></p>\n<p><a href=\"https://i.stack.imgur.com/kmY0i.png/\" rel=\"nofollow noreferrer\">Sample_Output</a></p>\n<p>Given the following interface class</p>\n<pre><code>interface BigOperation\n{\n    public BigInteger operation (Biglnteger x, Biglnteger y);\n}\n</code></pre>\n<p>Write Lambda expressions to implement BigOperation to simulate three arithmetic operations\n/ and % on Biglnteger. You can call them op1, op2 and op3 respectively. Note that the three\noperations in Biglnteger are called multiply, divide and remainder respectively.\nUsing these three operations, we wish to multiply all the digits in a Biglnteger. For example, if the\nBiglnteger is 234, the product is 2 * 3 * 4 = 24. The method has the following method heading:</p>\n<pre><code>static Biglnteger product (BigInteger n, BigOperation op1, BigOperation op2,\nBigOperation op3)\n</code></pre>\n<p>Compare the implementation of this method using two approaches: Iterative and Recursive.\nPut the Lambda expressions in a main method. Construct a few Biglnteger objects, invoke the\nmethods to test our design. The following shows some of the sample outputs:</p>\n<pre><code>Given big integer 8584803\n(Iterative) e\n(Recursive) 0\nGiven big integer 12345\n(Iterative) 120\n(Recursive) 120\n</code></pre>\n<p>I have no idea how to proceed with the code after what I have as attached. I wanted to try looping through the <code>BigInteger N</code> with a <em>foreach</em> but it doesn't seem to work. Next, I wanted to do a <code>for(int i = 0)</code>, etc. loop but I do not know how to get location reference to a <code>BigInteger</code> variable. I don't know how to use lambda for this.</p>\n<p>Thanks in advance for answering my queries.</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.Random;\n\ninterface BigOperation{\n    public BigInteger operation(BigInteger x,BigInteger y);\n}\n\nclass LearningBigInteger {\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\n    }\n\n    public static void main(String[] args) {\n        BigOperation multiply = BigInteger::multiply;\n        BigOperation divide = BigInteger::divide;\n        BigOperation remainder = BigInteger::remainder;\n        Random r = new Random();\n        BigInteger n = BigInteger.valueOf(Math.abs(r.nextInt()));\n        BigInteger m = product(n,multiply,divide,remainder);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx-19"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668356616,"post_id":74421577,"comment_id":131380100,"body_markdown":"First, [donâ€™t use PropertyValueFactory.](https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210)  Second, IntegerStringConverter implements `StringConverter&lt;Integer&gt;`, so your `colID` TableColumn must also use that same type as its second argument.  Meaning, you must declare it as `TableColumn&lt;Customer, Integer&gt; colID;`.","body":"First, <a href=\"https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210\">donâ€™t use PropertyValueFactory.</a>  Second, IntegerStringConverter implements <code>StringConverter&lt;Integer&gt;</code>, so your <code>colID</code> TableColumn must also use that same type as its second argument.  Meaning, you must declare it as <code>TableColumn&lt;Customer, Integer&gt; colID;</code>."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668428262,"post_id":74421577,"comment_id":131394864,"body_markdown":"Thank you, I will have a try as soon as possible.","body":"Thank you, I will have a try as soon as possible."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668430010,"post_id":74421577,"comment_id":131395473,"body_markdown":"Hi VGR, belonging to the PropertyValueFactory there is no problem with my strings but with my int value colID. I&#39;m stucking with the type cast because the CellValueFactory wants an observable and the value is of type int. I&#39;m not able to manage the type cast. Code: clientId.setCellValueFactory(f -&gt; f.getValue().idProperty()); I tried: colID.setCellValueFactory(f -&gt; new SimpleIntegerProperty().getValue((Integer.valueOf(f.getValue().getID())));","body":"Hi VGR, belonging to the PropertyValueFactory there is no problem with my strings but with my int value colID. I&#39;m stucking with the type cast because the CellValueFactory wants an observable and the value is of type int. I&#39;m not able to manage the type cast. Code: clientId.setCellValueFactory(f -&gt; f.getValue().idProperty()); I tried: colID.setCellValueFactory(f -&gt; new SimpleIntegerProperty().getValue((Integer.valueOf(f.getValue&zwnj;&#8203;().getID())));"},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668430773,"post_id":74421577,"comment_id":131395714,"body_markdown":"Again hi VGR, so after reading the PropertyValueFactory stuff again, I need a second getter for every getXXX method. Ok, I can do so but it seems a little bit of much work for me. Is that the standard way in Java? I yes, I will do so... Thanks, Cabbage","body":"Again hi VGR, so after reading the PropertyValueFactory stuff again, I need a second getter for every getXXX method. Ok, I can do so but it seems a little bit of much work for me. Is that the standard way in Java? I yes, I will do so... Thanks, Cabbage"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668430812,"post_id":74421577,"comment_id":131395734,"body_markdown":"IntegerProperty is actually a `Property&lt;Number&gt;`, so you will want to declare colID as `TableColumn&lt;Customer, Number&gt;` and you will want to use [NumberStringConverter](https://openjfx.io/javadoc/19/javafx.base/javafx/util/converter/NumberStringConverter.html) instead of IntegerStringConverter.  To restrict the converterâ€™s values to integers, use `new NumberStringConverter(NumberFormat.getIntegerInstance())`.","body":"IntegerProperty is actually a <code>Property&lt;Number&gt;</code>, so you will want to declare colID as <code>TableColumn&lt;Customer, Number&gt;</code> and you will want to use <a href=\"https://openjfx.io/javadoc/19/javafx.base/javafx/util/converter/NumberStringConverter.html\" rel=\"nofollow noreferrer\">NumberStringConverter</a> instead of IntegerStringConverter.  To restrict the converterâ€™s values to integers, use <code>new NumberStringConverter(NumberFormat.getIntegerInstance())</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668430864,"post_id":74421577,"comment_id":131395751,"body_markdown":"Writing three methods instead of two methods for every property is a little more work, yes.  But you only have to do it once.  It doesnâ€™t take that long.","body":"Writing three methods instead of two methods for every property is a little more work, yes.  But you only have to do it once.  It doesnâ€™t take that long."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668431152,"post_id":74421577,"comment_id":131395844,"body_markdown":"Hi VGR, sure, it&#39;s copy and paste and not so much work after that. I will do so. Thanks again.","body":"Hi VGR, sure, it&#39;s copy and paste and not so much work after that. I will do so. Thanks again."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668431374,"post_id":74421577,"comment_id":131395922,"body_markdown":"One last question for today: Is it better to to have observable getter and setter in the data container or is it state of the art to do the cast in the controller?","body":"One last question for today: Is it better to to have observable getter and setter in the data container or is it state of the art to do the cast in the controller?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668431688,"post_id":74421577,"comment_id":131396034,"body_markdown":"Iâ€™m not sure what cast you are referring to.  A data class should have a get-method and property accessor method for every property, and if a property is writable, a set-method as well.  No casts should be necessary.","body":"Iâ€™m not sure what cast you are referring to.  A data class should have a get-method and property accessor method for every property, and if a property is writable, a set-method as well.  No casts should be necessary."}],"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668347724,"creation_date":1668347299,"question_id":74421577,"body_markdown":"Java is new to me and I&#39;ve been trying to make an int column editable in a TableView for 1.5 days. I know many examples exist here, but they all don&#39;t work for me (for whatever reason). One example that I have found very often would be:\r\n\r\ncolID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\r\n\r\nbut this leads me to a message about incompatible types. I would need once only a short example of what works. Also, I would be interested to know why the many examples found here do not work for me. I am using JavaFX19, can this be the reason? \r\n\r\nIt would be great if someone could help me with this. Thank you...\r\n\r\nThat is my Customer class and I want to edit the ID column and the method in my CotrollerClass causing the problems on setCellFactory...\r\n```\r\n\r\n```\r\npublic class Customer {\r\n    \r\n    /**\r\n    * Standardkonstruktor\r\n    */\r\n    public Customer(){}\r\n    \r\n    /**\r\n    * Konstruktor zur Erzeugung gef&#252;llter Customer-Objekte\r\n    * @param id ID des Customers\r\n    * @param vorName Vorname des Customers\r\n    * @param nachName Nachname des Customers\r\n    */\r\n    public Customer(int id, String vorName, String nachName){\r\n        intID = id;\r\n        strVorName = vorName;\r\n        strNachName = nachName;\r\n    }\r\n    \r\n    public int getID() {\r\n        return intID;\r\n    }\r\n\r\n    public void setID(int id) {\r\n        this.intID = id;\r\n    }\r\n\r\n    public String getVorName() {\r\n        return strVorName;\r\n    }\r\n\r\n    public void setVorName(String vorName) {\r\n        this.strVorName = vorName;\r\n    }\r\n\r\n    public String getNachName() {\r\n        return strNachName;\r\n    }\r\n\r\n    public void setNachName(String nachName) {\r\n        this.strNachName = nachName;\r\n    }    \r\n    \r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Klassenvariablen &quot;&gt;\r\n    \r\n    private int intID;\r\n    private String strVorName;\r\n    private String  strNachName;    \r\n    \r\n    // &lt;/editor-fold&gt;\r\n\r\n}\r\n```\r\n\r\n```\r\n    private void rebindData(){\r\n        tblCustomers.setItems(customers);\r\n\r\n        colID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\r\n        colGivenName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;VorName&quot;));\r\n        colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NachName&quot;));\r\n                \r\n        /************************************************************/\r\n        //colID.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        /************************************************************/\r\n        \r\n        \r\n        colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\r\n\r\n        \r\n        //void setCellFactory(Callback&lt;TableColumn&lt;Customer, String&gt;, TableCell&lt;Customer, String&gt;&gt; value) - parameters\r\n        //public static &lt;S,T&gt; Callback&lt;TableColumn&lt;S,T&gt;,TableCell&lt;S,T&gt;&gt; forTableColumn(StringConverter&lt;T&gt; converter)\r\n        \r\n        colGivenName.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        colGivenName.setOnEditCommit(event-&gt; {\r\n            event.getRowValue().setVorName(event.getNewValue());\r\n        });\r\n        \r\n        colName.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        colName.setOnEditCommit(event-&gt; {\r\n            event.getRowValue().setNachName(event.getNewValue());\r\n        });\r\n        \r\n        tblCustomers.refresh();\r\n    }    \r\n```\r\n\r\n```\r\n","title":"JavaFX 19: Not able to get int columns in a tableview editable","body":"<p>Java is new to me and I've been trying to make an int column editable in a TableView for 1.5 days. I know many examples exist here, but they all don't work for me (for whatever reason). One example that I have found very often would be:</p>\n<p>colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));</p>\n<p>but this leads me to a message about incompatible types. I would need once only a short example of what works. Also, I would be interested to know why the many examples found here do not work for me. I am using JavaFX19, can this be the reason?</p>\n<p>It would be great if someone could help me with this. Thank you...</p>\n<p>That is my Customer class and I want to edit the ID column and the method in my CotrollerClass causing the problems on setCellFactory...</p>\n<pre><code>\n</code></pre>\n<p>public class Customer {</p>\n<pre><code>/**\n* Standardkonstruktor\n*/\npublic Customer(){}\n\n/**\n* Konstruktor zur Erzeugung gefÃ¼llter Customer-Objekte\n* @param id ID des Customers\n* @param vorName Vorname des Customers\n* @param nachName Nachname des Customers\n*/\npublic Customer(int id, String vorName, String nachName){\n    intID = id;\n    strVorName = vorName;\n    strNachName = nachName;\n}\n\npublic int getID() {\n    return intID;\n}\n\npublic void setID(int id) {\n    this.intID = id;\n}\n\npublic String getVorName() {\n    return strVorName;\n}\n\npublic void setVorName(String vorName) {\n    this.strVorName = vorName;\n}\n\npublic String getNachName() {\n    return strNachName;\n}\n\npublic void setNachName(String nachName) {\n    this.strNachName = nachName;\n}    \n\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Klassenvariablen &quot;&gt;\n\nprivate int intID;\nprivate String strVorName;\nprivate String  strNachName;    \n\n// &lt;/editor-fold&gt;\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<pre><code>private void rebindData(){\n    tblCustomers.setItems(customers);\n\n    colID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\n    colGivenName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;VorName&quot;));\n    colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NachName&quot;));\n            \n    /************************************************************/\n    //colID.setCellFactory(TextFieldTableCell.forTableColumn());\n    /************************************************************/\n    \n    \n    colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\n\n    \n    //void setCellFactory(Callback&lt;TableColumn&lt;Customer, String&gt;, TableCell&lt;Customer, String&gt;&gt; value) - parameters\n    //public static &lt;S,T&gt; Callback&lt;TableColumn&lt;S,T&gt;,TableCell&lt;S,T&gt;&gt; forTableColumn(StringConverter&lt;T&gt; converter)\n    \n    colGivenName.setCellFactory(TextFieldTableCell.forTableColumn());\n    colGivenName.setOnEditCommit(event-&gt; {\n        event.getRowValue().setVorName(event.getNewValue());\n    });\n    \n    colName.setCellFactory(TextFieldTableCell.forTableColumn());\n    colName.setOnEditCommit(event-&gt; {\n        event.getRowValue().setNachName(event.getNewValue());\n    });\n    \n    tblCustomers.refresh();\n}    \n</code></pre>\n<pre><code>\n</code></pre>\n"},{"tags":["java","memory-model","java-memory-model","jls"],"answers":[{"tags":[],"owner":{"account_id":26918492,"reputation":46,"user_id":20492932,"display_name":"user20492932"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668346402,"creation_date":1668346402,"answer_id":74421466,"question_id":74413268,"body_markdown":"The proof is in [The Java Memory Model by J.Manson, W.Pugh and S.Adve][paper]:\r\n\r\n&gt; 9.2.1 Correctly synchronized programs exhibit only sequentially consistent behaviors\r\n&gt; ---\r\n&gt; \r\n&gt; Lemma 2. _Consider an execution E of a correctly synchronized program P that is legal under the Java memory model. If, in E, each read sees a write that happens-before it, E has sequentially consistent behavior._\r\n&gt; \r\n&gt; **Proof:**  \r\n&gt; Since the execution is legal under the memory model, the execution is happens-before consistent and synchronization order consistent.  \r\n&gt; A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order. Let _r_ be the first read in _E_ that doesnâ€™t see the most recent conflicting write _w_ in the sorted order but instead sees _wâ€²_. Let the topological sort of _E_ be _Î±wâ€²Î²wÎ³rÎ´_.  \r\n&gt; Let _Î±wâ€²Î²wÎ³râ€²Î´â€²_ be the topological sort of an execution _Eâ€²_. _Eâ€²_ is obtained exactly as _E_, except that instead of _r_, it performs the action _râ€²_, which is the same as _r_ except that it sees _w_; _Î´â€²_ is any sequentially consistent completion of the program such that each read sees the previous conflicting write.  \r\n&gt; The execution _Eâ€²_ is sequentially consistent, and it is not the case that _wâ€² â€’&lt;sup&gt;hb&lt;/sup&gt;â†’ w â€’&lt;sup&gt;hb&lt;/sup&gt;â†’ r_, so _P_ is not correctly synchronized.  \r\n&gt; Thus, no such _r_ exists and the program has sequentially consistent behavior. â–¡\r\n&gt; \r\n&gt; Theorem 3. _If an execution E of a correctly synchronized program is legal under the Java memory model, it is also sequentially consistent._\r\n&gt; \r\n&gt; **Proof:** By Lemma 2, if an execution _E_ is not sequentially consistent, there must be a read _r_ that sees a write _w_ such that _w_ does not happen-before _r_. The read must be committed, because otherwise it would not be able to see a write that does not happen-before it. There may be multiple reads of this sort; if so, let _r_ be the first such read that was committed. Let _Eáµ¢_ be the execution that was used to justify committing _r_.  \r\n&gt; The relative happens-before order of committed actions and actions being committed must remain the same in all executions considering the resulting set of committed actions. Thus, if we donâ€™t have _w â€’&lt;sup&gt;hb&lt;/sup&gt;â†’ r_ in _E_, then we didnâ€™t have _w â€’&lt;sup&gt;hb&lt;/sup&gt;â†’ r_ in _Eáµ¢_ when we committed _r_.  \r\n&gt; Since _r_ was the first read to be committed that doesnâ€™t see a write that happens-before it, each committed read in _Eáµ¢_ must see a write that happens-before it. Non-committed reads always sees writes that happens-before them. Thus, each read in _Eáµ¢_ sees a write that happens-before it, and there is a write w in _Eáµ¢_ that is not ordered with respect to _r_ by happens-before ordering.  \r\n&gt; A topological sort of the actions in _Eáµ¢_ according to their happens-before edges gives a total order consistent with program order and synchronization order. This gives a total order for a sequentially consistent execution in which the conflicting accesses _w_ and _r_ are not ordered by happens-before edges. However, Lemma 2 shows that executions of correctly synchronized programs in which each read sees a write that happens-before it must be sequentially consistent. Therefore, this program is not correctly synchronized. This is a contradiction. â–¡\r\n\r\n[paper]: https://web.archive.org/web/20221006153211/http://rsim.cs.uiuc.edu/Pubs/popl05.pdf","title":"Why no data races in sequentially consistent executions is enough to guarantee that there will be no data races in all executions?","body":"<p>The proof is in <a href=\"https://web.archive.org/web/20221006153211/http://rsim.cs.uiuc.edu/Pubs/popl05.pdf\" rel=\"nofollow noreferrer\">The Java Memory Model by J.Manson, W.Pugh and S.Adve</a>:</p>\n<blockquote>\n<h2>9.2.1 Correctly synchronized programs exhibit only sequentially consistent behaviors</h2>\n<p>Lemma 2. <em>Consider an execution E of a correctly synchronized program P that is legal under the Java memory model. If, in E, each read sees a write that happens-before it, E has sequentially consistent behavior.</em></p>\n<p><strong>Proof:</strong><br />\nSince the execution is legal under the memory model, the execution is happens-before consistent and synchronization order consistent.<br />\nA topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order. Let <em>r</em> be the first read in <em>E</em> that doesnâ€™t see the most recent conflicting write <em>w</em> in the sorted order but instead sees <em>wâ€²</em>. Let the topological sort of <em>E</em> be <em>Î±wâ€²Î²wÎ³rÎ´</em>.<br />\nLet <em>Î±wâ€²Î²wÎ³râ€²Î´â€²</em> be the topological sort of an execution <em>Eâ€²</em>. <em>Eâ€²</em> is obtained exactly as <em>E</em>, except that instead of <em>r</em>, it performs the action <em>râ€²</em>, which is the same as <em>r</em> except that it sees <em>w</em>; <em>Î´â€²</em> is any sequentially consistent completion of the program such that each read sees the previous conflicting write.<br />\nThe execution <em>Eâ€²</em> is sequentially consistent, and it is not the case that <em>wâ€² â€’<sup>hb</sup>â†’ w â€’<sup>hb</sup>â†’ r</em>, so <em>P</em> is not correctly synchronized.<br />\nThus, no such <em>r</em> exists and the program has sequentially consistent behavior. â–¡</p>\n<p>Theorem 3. <em>If an execution E of a correctly synchronized program is legal under the Java memory model, it is also sequentially consistent.</em></p>\n<p><strong>Proof:</strong> By Lemma 2, if an execution <em>E</em> is not sequentially consistent, there must be a read <em>r</em> that sees a write <em>w</em> such that <em>w</em> does not happen-before <em>r</em>. The read must be committed, because otherwise it would not be able to see a write that does not happen-before it. There may be multiple reads of this sort; if so, let <em>r</em> be the first such read that was committed. Let <em>Eáµ¢</em> be the execution that was used to justify committing <em>r</em>.<br />\nThe relative happens-before order of committed actions and actions being committed must remain the same in all executions considering the resulting set of committed actions. Thus, if we donâ€™t have <em>w â€’<sup>hb</sup>â†’ r</em> in <em>E</em>, then we didnâ€™t have <em>w â€’<sup>hb</sup>â†’ r</em> in <em>Eáµ¢</em> when we committed <em>r</em>.<br />\nSince <em>r</em> was the first read to be committed that doesnâ€™t see a write that happens-before it, each committed read in <em>Eáµ¢</em> must see a write that happens-before it. Non-committed reads always sees writes that happens-before them. Thus, each read in <em>Eáµ¢</em> sees a write that happens-before it, and there is a write w in <em>Eáµ¢</em> that is not ordered with respect to <em>r</em> by happens-before ordering.<br />\nA topological sort of the actions in <em>Eáµ¢</em> according to their happens-before edges gives a total order consistent with program order and synchronization order. This gives a total order for a sequentially consistent execution in which the conflicting accesses <em>w</em> and <em>r</em> are not ordered by happens-before edges. However, Lemma 2 shows that executions of correctly synchronized programs in which each read sees a write that happens-before it must be sequentially consistent. Therefore, this program is not correctly synchronized. This is a contradiction. â–¡</p>\n</blockquote>\n"}],"owner":{"account_id":26909704,"reputation":23,"user_id":20485491,"display_name":"Har"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74421466,"answer_count":1,"score":2,"last_activity_date":1668346402,"creation_date":1668259081,"question_id":74413268,"body_markdown":"According to [the Java Memory Model (JMM)](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n&gt; A program is _correctly synchronized_ if and only if all sequentially consistent executions are free of data races.\r\n&gt; \r\n&gt; If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nI don&#39;t see how the the fact that no SC execution has data races guarantees that every execution has no data races (which means that every execution is SC).  \r\nIs there a proof of that?\r\n\r\n---\r\n\r\nWhat I found:\r\n1. [A blog post][blog-post] by Jeremy Manson (one of the authors of the JMM).  \r\nThe following paragraph might mean that the guarantee is provided by causality (but I don&#39;t see how):  \r\n   &gt; So there is the intuition behind the model. When you want to justify the fact that a read returns the value of a write, you can do so if:\r\n   &gt; \r\n   &gt; a) That write happened before it, or  \r\n   &gt; b) You have already justified the write.\r\n   &gt; \r\n   &gt; The way that the model works is that you start with an execution that has all of the actions justified by property a), and you start justifying actions iteratively. So, in the second example above, you create successive executions that justify 0, then 2, then 3, then 4, then 1.\r\n   &gt; \r\n   &gt; This definition has the lovely property of being reasonably intuitive and also guaranteeing SC for DRF programs.\r\n2. [Foundations of the C++ Concurrency Memory Model][cpp-article].  \r\n   This article describes C++ memory model (which has similarities with the JMM).  \r\n   Section 8 of the article has a proof of a similar guarantee for C++:\r\n   &gt; THEOREM 8.1. _If a program allows a type 2 data race in a consistent execution, then there exists a sequentially consistent execution, with two conflicting actions, neither of which happens before the other._&lt;sup&gt;8&lt;/sup&gt;\r\n   &gt; \r\n   &gt; In effect, we only need to look at sequentially consistent executions in order to determine whether there is a data race in a consistent execution.  \r\n   &gt; [...]  \r\n   &gt; &lt;sup&gt;8&lt;/sup&gt; The latter is essentially the condition used in [25] to define â€œcorrectly synchronizedâ€ for Java.\r\n   \r\n   Unfortunately, I&#39;m not sure this proof holds for the JMM because the following doesn&#39;t work:\r\n   &gt; Consider the longest prefix _P_ of _&lt;&lt;sub&gt;T&lt;/sub&gt;_ that contains no data race. Note that each load in _P_ must see a store that precedes it in either the synchronization or happens-before orders.\r\n   \r\n   It seems to me that the above doesn&#39;t work in JMM because causality allows a read to return a later store.\r\n\r\n\r\n[blog-post]: https://jeremymanson.blogspot.com/2007/08/causality-and-java-memory-model.html\r\n[cpp-article]: https://www.hpl.hp.com/techreports/2008/HPL-2008-56.pdf","title":"Why no data races in sequentially consistent executions is enough to guarantee that there will be no data races in all executions?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">the Java Memory Model (JMM)</a>:</p>\n<blockquote>\n<p>A program is <em>correctly synchronized</em> if and only if all sequentially consistent executions are free of data races.</p>\n<p>If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (Â§17.4.3).</p>\n</blockquote>\n<p>I don't see how the the fact that no SC execution has data races guarantees that every execution has no data races (which means that every execution is SC).<br />\nIs there a proof of that?</p>\n<hr />\n<p>What I found:</p>\n<ol>\n<li><p><a href=\"https://jeremymanson.blogspot.com/2007/08/causality-and-java-memory-model.html\" rel=\"nofollow noreferrer\">A blog post</a> by Jeremy Manson (one of the authors of the JMM).<br />\nThe following paragraph might mean that the guarantee is provided by causality (but I don't see how):</p>\n<blockquote>\n<p>So there is the intuition behind the model. When you want to justify the fact that a read returns the value of a write, you can do so if:</p>\n<p>a) That write happened before it, or<br />\nb) You have already justified the write.</p>\n<p>The way that the model works is that you start with an execution that has all of the actions justified by property a), and you start justifying actions iteratively. So, in the second example above, you create successive executions that justify 0, then 2, then 3, then 4, then 1.</p>\n<p>This definition has the lovely property of being reasonably intuitive and also guaranteeing SC for DRF programs.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://www.hpl.hp.com/techreports/2008/HPL-2008-56.pdf\" rel=\"nofollow noreferrer\">Foundations of the C++ Concurrency Memory Model</a>.<br />\nThis article describes C++ memory model (which has similarities with the JMM).<br />\nSection 8 of the article has a proof of a similar guarantee for C++:</p>\n<blockquote>\n<p>THEOREM 8.1. <em>If a program allows a type 2 data race in a consistent execution, then there exists a sequentially consistent execution, with two conflicting actions, neither of which happens before the other.</em><sup>8</sup></p>\n<p>In effect, we only need to look at sequentially consistent executions in order to determine whether there is a data race in a consistent execution.<br />\n[...]<br />\n<sup>8</sup> The latter is essentially the condition used in [25] to define â€œcorrectly synchronizedâ€ for Java.</p>\n</blockquote>\n<p>Unfortunately, I'm not sure this proof holds for the JMM because the following doesn't work:</p>\n<blockquote>\n<p>Consider the longest prefix <em>P</em> of <em>&lt;<sub>T</sub></em> that contains no data race. Note that each load in <em>P</em> must see a store that precedes it in either the synchronization or happens-before orders.</p>\n</blockquote>\n<p>It seems to me that the above doesn't work in JMM because causality allows a read to return a later store.</p>\n</li>\n</ol>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","confluent-platform"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650379452,"post_id":71923371,"comment_id":127098051,"body_markdown":"The value joiner should &quot;join the values&quot;. Look at the return type of the method; currently you&#39;re returning a string, not an instance of your joined object. Plus, did you search here? https://github.com/confluentinc/kafka-streams-examples","body":"The value joiner should &quot;join the values&quot;. Look at the return type of the method; currently you&#39;re returning a string, not an instance of your joined object. Plus, did you search here? <a href=\"https://github.com/confluentinc/kafka-streams-examples\" rel=\"nofollow noreferrer\">github.com/confluentinc/kafka-streams-examples</a>"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1650436125,"post_id":71923371,"comment_id":127112018,"body_markdown":"Yes, there aren&#39;t any StreamToStreamJoin Java 8+ examples. But this one is very similar: https://developer.confluent.io/tutorials/join-a-stream-to-a-table/kstreams.html so I used this one. I know it should join values, just didn&#39;t know how to implement it. On that link I&#39;ve found ValueJoiner class implementation so that will be helpful.","body":"Yes, there aren&#39;t any StreamToStreamJoin Java 8+ examples. But this one is very similar: <a href=\"https://developer.confluent.io/tutorials/join-a-stream-to-a-table/kstreams.html\" rel=\"nofollow noreferrer\">developer.confluent.io/tutorials/join-a-stream-to-a-table/&hellip;</a> so I used this one. I know it should join values, just didn&#39;t know how to implement it. On that link I&#39;ve found ValueJoiner class implementation so that will be helpful."},{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1666548715,"post_id":71923371,"comment_id":130958375,"body_markdown":"@Hrvoje how did you resolve the issue? As soon as I add the Joined.with parameter my ValueJoiner code started complaining. If I remove the Joined.with then it stops complaining but fails at runtime saying it needs a Serde. I don&#39;t understand what type of Serde is needed?","body":"@Hrvoje how did you resolve the issue? As soon as I add the Joined.with parameter my ValueJoiner code started complaining. If I remove the Joined.with then it stops complaining but fails at runtime saying it needs a Serde. I don&#39;t understand what type of Serde is needed?"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1666600856,"post_id":71923371,"comment_id":130967196,"body_markdown":"@SyedAli it worked. But with a lot of hassle. Here are both relevant classes: https://pastebin.com/Gt651fWX and https://pastebin.com/6AWi8Lt5","body":"@SyedAli it worked. But with a lot of hassle. Here are both relevant classes: <a href=\"https://pastebin.com/Gt651fWX\" rel=\"nofollow noreferrer\">pastebin.com/Gt651fWX</a> and <a href=\"https://pastebin.com/6AWi8Lt5\" rel=\"nofollow noreferrer\">pastebin.com/6AWi8Lt5</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668346269,"creation_date":1650379782,"answer_id":71926966,"question_id":71923371,"body_markdown":"I&#39;d suggest starting with this - a joiner function that accepts two Avro objects and returns a third (optionally, Avro) one. \r\n\r\n```\r\n(leftValue, rightValue) -&gt; {\r\n    RawPMU_Joined j = new RawPMU_Joined();\r\n    j.set...\r\n    return j;\r\n}\r\n```\r\n\r\nThere are generic Avro examples you can follow in the confluent-examples repo on Github; there shouldn&#39;t need to be one for specific records as it&#39;s just a different object you&#39;re returning, however it wouldn&#39;t be a string.  ","title":"Kafka streams joins two specific Avro objects","body":"<p>I'd suggest starting with this - a joiner function that accepts two Avro objects and returns a third (optionally, Avro) one.</p>\n<pre><code>(leftValue, rightValue) -&gt; {\n    RawPMU_Joined j = new RawPMU_Joined();\n    j.set...\n    return j;\n}\n</code></pre>\n<p>There are generic Avro examples you can follow in the confluent-examples repo on Github; there shouldn't need to be one for specific records as it's just a different object you're returning, however it wouldn't be a string.</p>\n"}],"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71926966,"answer_count":1,"score":1,"last_activity_date":1668346269,"creation_date":1650363735,"question_id":71923371,"body_markdown":"**Basic task**\r\n\r\nI have 2 identical streams in Kafka in Avro format. I&#39;m trying to do basic left join with those 2 streams. \r\n\r\n**Keys**\r\n\r\nFor keys in both topics I&#39;m using timestamp rounded to milliseconds since both stream have data originating from IoT device that is generating measurement exactly every 20ms and both devices are synchronized to UTC Time Now. \r\n\r\n**Done so far**\r\n\r\nI&#39;ve been able to produce Kafka stream that&#39;s transforming one stream to topic following [this][1] tutorial, but  unfortunately basic [stream-stream join][2] tutorial doesn&#39;t exists on Confluent developer page.\r\n\r\n**Avro Java serialization classes**\r\nI&#39;ve generated 3 `SpecificAvroSerde` classes based on 2 inputs and output.\r\nAlthough input streams are identical I&#39;ve created separate schemas/classes in case streams would have different schemas in future. \r\n  Avro Java classes are generated during build time whiteout problems. \r\n\r\nSo this is schema of input, output and Joined stream:\r\n\r\n     {\r\n        &quot;namespace&quot;: &quot;pmu.serialization.avro&quot;,\r\n        &quot;name&quot;: &quot;RawPMU_214&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;fields&quot;: [\r\n         {&quot;name&quot;: &quot;pmu_id&quot;, &quot;type&quot;: &quot;int&quot;},\r\n                {&quot;name&quot;: &quot;time&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;time_rounded&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;stream_id&quot;,&quot;type&quot;:&quot;int&quot;},\r\n                {&quot;name&quot;: &quot;stat&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;ph_i1_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n                {&quot;name&quot;: &quot;ph_i1_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i2_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i2_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i3_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i3_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v4_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v4_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v5_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v5_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v6_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v6_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_7_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_7_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_8_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_8_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;analog&quot;,&quot;type&quot;:&quot;string&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;digital&quot;,&quot;type&quot;:&quot;string&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;frequency&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;rocof&quot;,&quot;type&quot;:&quot;int&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;orderCount&quot;,&quot;type&quot;:&quot;int&quot;}\r\n        ]\r\n     }\r\n\r\n**Code**\r\n\r\nKey problem is that I don&#39;t know how to properly implement this part with value joiner:\r\n\r\n        KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\r\n                (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\r\n\r\nI tried various answers but I haven&#39;t really found any example of full Java code for stream-stream join for `SpecificAvroSerde`.\r\n\r\n**Full code at this point:**\r\n\r\n    package io.confluent.developer;\r\n    import io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.streams.*;\r\n    import org.apache.kafka.streams.kstream.JoinWindows;\r\n    import org.apache.kafka.streams.kstream.Joined;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    import org.apache.kafka.streams.kstream.Produced;\r\n    \r\n    import pmu.serialization.avro.RawPMU_214;\r\n    import pmu.serialization.avro.RawPMU_218;\r\n    import pmu.serialization.avro.RawPMU_Joined;\r\n    \r\n    import java.time.Duration;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class TransformStream_join {\r\n    \r\n        public Topology buildTopology(Properties allProps) {\r\n            final StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n            // Define input PMU topics\r\n            final String inputPMU_01 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\r\n            final String inputPMU_02 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\r\n            final String outputTopic = allProps.getProperty(&quot;output.topic.name&quot;);\r\n    \r\n            KStream&lt;String, RawPMU_214&gt; rawPMUs_214 = builder.stream(inputPMU_01);\r\n            KStream&lt;String, RawPMU_218&gt; rawPMUs_218 = builder.stream(inputPMU_02);\r\n    \r\n            KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\r\n                    (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\r\n                    JoinWindows.of(Duration.ofMillis(20)),\r\n                    Joined.with(\r\n                            Serdes.String(),\r\n                            raw_pmu214AvroSerde(allProps),\r\n                            raw_pmu218AvroSerde(allProps))\r\n                    );\r\n    \r\n        joinedPMU.to(outputTopic, Produced.with(Serdes.String(), raw_outAvroSerde(allProps)));\r\n              return builder.build();\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_pmu214AvroSerde.configure((Map)allProps, false);\r\n            return raw_pmu214AvroSerde;\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_pmu218AvroSerde.configure((Map)allProps, false);\r\n            return raw_pmu218AvroSerde;\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_outAvroSerde.configure((Map)allProps, false);\r\n            return raw_outAvroSerde;\r\n        }\r\n    \r\n        public void createTopics(Properties allProps) {\r\n            AdminClient client = AdminClient.create(allProps);\r\n    \r\n            List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;input.topic.pmu1&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;input.topic.pmu2&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;output.topic.name&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;output.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;output.topic.replication.factor&quot;))));\r\n    \r\n            client.createTopics(topics);\r\n            client.close();\r\n        }\r\n    \r\n        public Properties loadEnvProperties(String fileName) throws IOException {\r\n            Properties allProps = new Properties();\r\n            FileInputStream input = new FileInputStream(fileName);\r\n            allProps.load(input);\r\n            input.close();\r\n    \r\n            return allProps;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            if (args.length &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\r\n            }\r\n    \r\n            TransformStream ts = new TransformStream();\r\n            Properties allProps = ts.loadEnvProperties(args[0]);\r\n            allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n            allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\r\n            Topology topology = ts.buildTopology(allProps);\r\n    \r\n            ts.createTopics(allProps);\r\n    \r\n            final KafkaStreams streams = new KafkaStreams(topology, allProps);\r\n            final CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n            // Attach shutdown handler to catch Control-C.\r\n            Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    streams.close(Duration.ofSeconds(5));\r\n                    latch.countDown();\r\n                }\r\n            });\r\n    \r\n            try {\r\n                streams.start();\r\n                latch.await();\r\n            } catch (Throwable e) {\r\n                System.exit(1);\r\n            }\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n## EDIT\r\n\r\n**KStream join:**\r\nI&#39;ve simplified joining stream code since I&#39;ve created joiner class \r\n\r\n    KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream, pmuJoiner,\r\n            JoinWindows.of(Duration.ofMillis(20)),\r\n            Joined.with(\r\n                    Serdes.String(),\r\n                    raw_pmu214AvroSerde(allProps),\r\n                    raw_pmu218AvroSerde(allProps))\r\n    );\r\n\r\n**PMUJoiner class**\r\n\r\n    package io.confluent.developer;\r\n    import org.apache.kafka.streams.kstream.ValueJoiner;\r\n    import pmu.serialization.avro.RawPMU_214; \r\n    import pmu.serialization.avro.RawPMU_218; \r\n    import pmu.serialization.avro.RawPMU_Joined; \r\n    public class PMUJoiner implements ValueJoiner&lt;RawPMU_218, RawPMU_214, RawPMU_Joined&gt; {\r\n    \r\n        public RawPMU_Joined apply(RawPMU_218 pmu218Stream, RawPMU_214 pmu214Stream) {\r\n            return RawPMU_Joined.newBuilder()\r\n                    // PMU 218\r\n                    .setTimeRounded1(pmu218Stream.getTimeRounded())\r\n                    .setOrderCount1(pmu218Stream.getOrderCount())\r\n                    .setPhI1R1(pmu218Stream.getPhI1R())\r\n                    .setPhI1J1(pmu218Stream.getPhI1J())\r\n                    .setPhI2R1(pmu218Stream.getPhI2R())\r\n                    .setPhI2J1(pmu218Stream.getPhI2J())\r\n                    .setPhI3R1(pmu218Stream.getPhI3R())\r\n                    .setPhI3J1(pmu218Stream.getPhI3J())\r\n                    .setPhV4R1(pmu218Stream.getPhV4R())\r\n                    .setPhV4J1(pmu218Stream.getPhV4J())\r\n                    .setPhV5R1(pmu218Stream.getPhV5R())\r\n                    .setPhV5J1(pmu218Stream.getPhV5J())\r\n                    .setPhV6R1(pmu218Stream.getPhV6R())\r\n                    .setPhV6J1(pmu218Stream.getPhV6J())\r\n                    .setPh7R1(pmu218Stream.getPh7R())\r\n                    .setPh7J1(pmu218Stream.getPh7J())\r\n                    .setPh8R1(pmu218Stream.getPh8R())\r\n                    .setPh8J1(pmu218Stream.getPh8J())\r\n                    //PMU 214\r\n                    .setTimeRounded2(pmu214Stream.getTimeRounded())\r\n                    .setOrderCount2(pmu214Stream.getOrderCount())\r\n                    .setPhI1R2(pmu214Stream.getPhI1R())\r\n                    .setPhI1J2(pmu214Stream.getPhI1J())\r\n                    .setPhI2R2(pmu214Stream.getPhI2R())\r\n                    .setPhI2J2(pmu214Stream.getPhI2J())\r\n                    .setPhI3R2(pmu214Stream.getPhI3R())\r\n                    .setPhI3J2(pmu214Stream.getPhI3J())\r\n                    .setPhV4R2(pmu214Stream.getPhV4R())\r\n                    .setPhV4J2(pmu214Stream.getPhV4J())\r\n                    .setPhV5R2(pmu214Stream.getPhV5R())\r\n                    .setPhV5J2(pmu214Stream.getPhV5J())\r\n                    .setPhV6R2(pmu214Stream.getPhV6R())\r\n                    .setPhV6J2(pmu214Stream.getPhV6J())\r\n                    .setPh7R2(pmu214Stream.getPh7R())\r\n                    .setPh7J2(pmu214Stream.getPh7J())\r\n                    .setPh8R2(pmu214Stream.getPh8R())\r\n                    .setPh8J2(pmu214Stream.getPh8J())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n**Error**\r\n\r\n&gt; ...pmuStream01/src/main/java/io/confluent/developer/JoinPMUStreams.java:46:\r\n&gt; error: no suitable method found for\r\n&gt; join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;,io.confluent.developer.PMUJoiner,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,pmu.serialization.avro.RawPMU_218&gt;)\r\n&gt;         KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream,\r\n&gt;                                                                ^\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows) is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.StreamJoined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VT,? extends VR&gt;) is\r\n&gt; not applicable\r\n&gt;       (cannot infer type-variable(s) VT,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VT,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VT&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VT,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\r\n&gt; super java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\r\n&gt; extends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super GV,? extends RV&gt;) is not\r\n&gt; applicable\r\n&gt;       (cannot infer type-variable(s) GK,GV,RV\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\r\n&gt; super java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\r\n&gt; extends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super GV,? extends\r\n&gt; RV&gt;,org.apache.kafka.streams.kstream.Named) is not applicable\r\n&gt;       (cannot infer type-variable(s) GK,GV,RV\r\n&gt;         (argument mismatch; org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;\r\n&gt; cannot be converted to\r\n&gt; org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;))\r\n\r\nDon&#39;t know why&#39;s that happening since I believe I&#39;ve properly supplied all arguments with correct return types. \r\n\r\n  [1]: https://developer.confluent.io/tutorials/transform-a-stream-of-events/kstreams.html\r\n  [2]: https://developer.confluent.io/tutorials/join-a-stream-to-a-stream/kstreams.html\r\n","title":"Kafka streams joins two specific Avro objects","body":"<p><strong>Basic task</strong></p>\n<p>I have 2 identical streams in Kafka in Avro format. I'm trying to do basic left join with those 2 streams.</p>\n<p><strong>Keys</strong></p>\n<p>For keys in both topics I'm using timestamp rounded to milliseconds since both stream have data originating from IoT device that is generating measurement exactly every 20ms and both devices are synchronized to UTC Time Now.</p>\n<p><strong>Done so far</strong></p>\n<p>I've been able to produce Kafka stream that's transforming one stream to topic following <a href=\"https://developer.confluent.io/tutorials/transform-a-stream-of-events/kstreams.html\" rel=\"nofollow noreferrer\">this</a> tutorial, but  unfortunately basic <a href=\"https://developer.confluent.io/tutorials/join-a-stream-to-a-stream/kstreams.html\" rel=\"nofollow noreferrer\">stream-stream join</a> tutorial doesn't exists on Confluent developer page.</p>\n<p><strong>Avro Java serialization classes</strong>\nI've generated 3 <code>SpecificAvroSerde</code> classes based on 2 inputs and output.\nAlthough input streams are identical I've created separate schemas/classes in case streams would have different schemas in future.\nAvro Java classes are generated during build time whiteout problems.</p>\n<p>So this is schema of input, output and Joined stream:</p>\n<pre><code> {\n    &quot;namespace&quot;: &quot;pmu.serialization.avro&quot;,\n    &quot;name&quot;: &quot;RawPMU_214&quot;,\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;fields&quot;: [\n     {&quot;name&quot;: &quot;pmu_id&quot;, &quot;type&quot;: &quot;int&quot;},\n            {&quot;name&quot;: &quot;time&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;time_rounded&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;stream_id&quot;,&quot;type&quot;:&quot;int&quot;},\n            {&quot;name&quot;: &quot;stat&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;ph_i1_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i1_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i2_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i2_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i3_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i3_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v4_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v4_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v5_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v5_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v6_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v6_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_7_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_7_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_8_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_8_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;analog&quot;,&quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;digital&quot;,&quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;frequency&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;rocof&quot;,&quot;type&quot;:&quot;int&quot;},\n            {&quot;name&quot;: &quot;orderCount&quot;,&quot;type&quot;:&quot;int&quot;}\n    ]\n }\n</code></pre>\n<p><strong>Code</strong></p>\n<p>Key problem is that I don't know how to properly implement this part with value joiner:</p>\n<pre><code>    KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\n            (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\n</code></pre>\n<p>I tried various answers but I haven't really found any example of full Java code for stream-stream join for <code>SpecificAvroSerde</code>.</p>\n<p><strong>Full code at this point:</strong></p>\n<pre><code>package io.confluent.developer;\nimport io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.JoinWindows;\nimport org.apache.kafka.streams.kstream.Joined;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.kstream.Produced;\n\nimport pmu.serialization.avro.RawPMU_214;\nimport pmu.serialization.avro.RawPMU_218;\nimport pmu.serialization.avro.RawPMU_Joined;\n\nimport java.time.Duration;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\npublic class TransformStream_join {\n\n    public Topology buildTopology(Properties allProps) {\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        // Define input PMU topics\n        final String inputPMU_01 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\n        final String inputPMU_02 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\n        final String outputTopic = allProps.getProperty(&quot;output.topic.name&quot;);\n\n        KStream&lt;String, RawPMU_214&gt; rawPMUs_214 = builder.stream(inputPMU_01);\n        KStream&lt;String, RawPMU_218&gt; rawPMUs_218 = builder.stream(inputPMU_02);\n\n        KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\n                (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\n                JoinWindows.of(Duration.ofMillis(20)),\n                Joined.with(\n                        Serdes.String(),\n                        raw_pmu214AvroSerde(allProps),\n                        raw_pmu218AvroSerde(allProps))\n                );\n\n    joinedPMU.to(outputTopic, Produced.with(Serdes.String(), raw_outAvroSerde(allProps)));\n          return builder.build();\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_pmu214AvroSerde.configure((Map)allProps, false);\n        return raw_pmu214AvroSerde;\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_pmu218AvroSerde.configure((Map)allProps, false);\n        return raw_pmu218AvroSerde;\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_outAvroSerde.configure((Map)allProps, false);\n        return raw_outAvroSerde;\n    }\n\n    public void createTopics(Properties allProps) {\n        AdminClient client = AdminClient.create(allProps);\n\n        List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;input.topic.pmu1&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;input.topic.pmu2&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;output.topic.name&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;output.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;output.topic.replication.factor&quot;))));\n\n        client.createTopics(topics);\n        client.close();\n    }\n\n    public Properties loadEnvProperties(String fileName) throws IOException {\n        Properties allProps = new Properties();\n        FileInputStream input = new FileInputStream(fileName);\n        allProps.load(input);\n        input.close();\n\n        return allProps;\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length &lt; 1) {\n            throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\n        }\n\n        TransformStream ts = new TransformStream();\n        Properties allProps = ts.loadEnvProperties(args[0]);\n        allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\n        Topology topology = ts.buildTopology(allProps);\n\n        ts.createTopics(allProps);\n\n        final KafkaStreams streams = new KafkaStreams(topology, allProps);\n        final CountDownLatch latch = new CountDownLatch(1);\n\n        // Attach shutdown handler to catch Control-C.\n        Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\n            @Override\n            public void run() {\n                streams.close(Duration.ofSeconds(5));\n                latch.countDown();\n            }\n        });\n\n        try {\n            streams.start();\n            latch.await();\n        } catch (Throwable e) {\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<h2>EDIT</h2>\n<p><strong>KStream join:</strong>\nI've simplified joining stream code since I've created joiner class</p>\n<pre><code>KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream, pmuJoiner,\n        JoinWindows.of(Duration.ofMillis(20)),\n        Joined.with(\n                Serdes.String(),\n                raw_pmu214AvroSerde(allProps),\n                raw_pmu218AvroSerde(allProps))\n);\n</code></pre>\n<p><strong>PMUJoiner class</strong></p>\n<pre><code>package io.confluent.developer;\nimport org.apache.kafka.streams.kstream.ValueJoiner;\nimport pmu.serialization.avro.RawPMU_214; \nimport pmu.serialization.avro.RawPMU_218; \nimport pmu.serialization.avro.RawPMU_Joined; \npublic class PMUJoiner implements ValueJoiner&lt;RawPMU_218, RawPMU_214, RawPMU_Joined&gt; {\n\n    public RawPMU_Joined apply(RawPMU_218 pmu218Stream, RawPMU_214 pmu214Stream) {\n        return RawPMU_Joined.newBuilder()\n                // PMU 218\n                .setTimeRounded1(pmu218Stream.getTimeRounded())\n                .setOrderCount1(pmu218Stream.getOrderCount())\n                .setPhI1R1(pmu218Stream.getPhI1R())\n                .setPhI1J1(pmu218Stream.getPhI1J())\n                .setPhI2R1(pmu218Stream.getPhI2R())\n                .setPhI2J1(pmu218Stream.getPhI2J())\n                .setPhI3R1(pmu218Stream.getPhI3R())\n                .setPhI3J1(pmu218Stream.getPhI3J())\n                .setPhV4R1(pmu218Stream.getPhV4R())\n                .setPhV4J1(pmu218Stream.getPhV4J())\n                .setPhV5R1(pmu218Stream.getPhV5R())\n                .setPhV5J1(pmu218Stream.getPhV5J())\n                .setPhV6R1(pmu218Stream.getPhV6R())\n                .setPhV6J1(pmu218Stream.getPhV6J())\n                .setPh7R1(pmu218Stream.getPh7R())\n                .setPh7J1(pmu218Stream.getPh7J())\n                .setPh8R1(pmu218Stream.getPh8R())\n                .setPh8J1(pmu218Stream.getPh8J())\n                //PMU 214\n                .setTimeRounded2(pmu214Stream.getTimeRounded())\n                .setOrderCount2(pmu214Stream.getOrderCount())\n                .setPhI1R2(pmu214Stream.getPhI1R())\n                .setPhI1J2(pmu214Stream.getPhI1J())\n                .setPhI2R2(pmu214Stream.getPhI2R())\n                .setPhI2J2(pmu214Stream.getPhI2J())\n                .setPhI3R2(pmu214Stream.getPhI3R())\n                .setPhI3J2(pmu214Stream.getPhI3J())\n                .setPhV4R2(pmu214Stream.getPhV4R())\n                .setPhV4J2(pmu214Stream.getPhV4J())\n                .setPhV5R2(pmu214Stream.getPhV5R())\n                .setPhV5J2(pmu214Stream.getPhV5J())\n                .setPhV6R2(pmu214Stream.getPhV6R())\n                .setPhV6J2(pmu214Stream.getPhV6J())\n                .setPh7R2(pmu214Stream.getPh7R())\n                .setPh7J2(pmu214Stream.getPh7J())\n                .setPh8R2(pmu214Stream.getPh8R())\n                .setPh8J2(pmu214Stream.getPh8J())\n                .build();\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>...pmuStream01/src/main/java/io/confluent/developer/JoinPMUStreams.java:46:\nerror: no suitable method found for\njoin(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;,io.confluent.developer.PMUJoiner,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,pmu.serialization.avro.RawPMU_218&gt;)\nKStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream,\n^\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows) is not applicable\n(cannot infer type-variable(s) VO,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\nis not applicable\n(cannot infer type-variable(s) VO,VR\n(argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.StreamJoined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\nis not applicable\n(cannot infer type-variable(s) VO,VR\n(argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VT,? extends VR&gt;) is\nnot applicable\n(cannot infer type-variable(s) VT,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VT,? extends\nVR&gt;,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VT&gt;)\nis not applicable\n(cannot infer type-variable(s) VT,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\nsuper java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\nextends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super GV,? extends RV&gt;) is not\napplicable\n(cannot infer type-variable(s) GK,GV,RV\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\nsuper java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\nextends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super GV,? extends\nRV&gt;,org.apache.kafka.streams.kstream.Named) is not applicable\n(cannot infer type-variable(s) GK,GV,RV\n(argument mismatch; org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;\ncannot be converted to\norg.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;))</p>\n</blockquote>\n<p>Don't know why's that happening since I believe I've properly supplied all arguments with correct return types.</p>\n"},{"tags":["java","eclipse","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":26918241,"reputation":1,"user_id":20492700,"display_name":"koo_by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668345921,"creation_date":1668345868,"answer_id":74421387,"question_id":74421340,"body_markdown":"I found that the JVM version of Tomcat Web Application Manager was JRE 1.8 (32bit) which did not support the web app that was compiled with Java 11 (64bit). After reinstalling the latest JRE v10.1, the web app is working well.","title":"How to Fix java.lang.UnsupportedClassVersionError when running Java Web App with Java 17","body":"<p>I found that the JVM version of Tomcat Web Application Manager was JRE 1.8 (32bit) which did not support the web app that was compiled with Java 11 (64bit). After reinstalling the latest JRE v10.1, the web app is working well.</p>\n"}],"owner":{"account_id":26918241,"reputation":1,"user_id":20492700,"display_name":"koo_by"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668346060,"answer_count":1,"score":-2,"last_activity_date":1668345983,"creation_date":1668345560,"question_id":74421340,"body_markdown":"I have got an error when running my Java Web App with Tomcat server v10.0.27 through web browser. The web app was compiled with Java 17. However, there was no issue when running the web app on Eclipse IDE with Apache Tomcat v10.0.27 locally.\r\n\r\nBelow is the error prompted when the web app that was deployed into Tomcat Web Application Manager running.\r\n\r\n*```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/baeldung/MajorMinorApp \r\n  has been compiled by a more recent version of the Java Runtime (class file version 61.0), \r\n  this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n*\r\n","title":"How to Fix java.lang.UnsupportedClassVersionError when running Java Web App with Java 17","body":"<p>I have got an error when running my Java Web App with Tomcat server v10.0.27 through web browser. The web app was compiled with Java 17. However, there was no issue when running the web app on Eclipse IDE with Apache Tomcat v10.0.27 locally.</p>\n<p>Below is the error prompted when the web app that was deployed into Tomcat Web Application Manager running.</p>\n<p>*```\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/baeldung/MajorMinorApp\nhas been compiled by a more recent version of the Java Runtime (class file version 61.0),\nthis version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<pre><code>*\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668245995,"post_id":74411154,"comment_id":131362259,"body_markdown":"Please, update the question, share your classes `Car` and `Truck`, JSON-sample and your **attempt** to address the problem","body":"Please, update the question, share your classes <code>Car</code> and <code>Truck</code>, JSON-sample and your <b>attempt</b> to address the problem"}],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668322112,"creation_date":1668322112,"answer_id":74419023,"question_id":74411154,"body_markdown":"As per my understanding, you want `Car` object only, so need to trim the extra fields in the process.\r\nUse this annotation above `Car` class to ignore extra properties of the json field, as you want the `Car` object only.\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true) \r\n    public class Car{\r\n     //your fields\r\n     }\r\n","title":"processing json array containing more than one object class with Jackson","body":"<p>As per my understanding, you want <code>Car</code> object only, so need to trim the extra fields in the process.\nUse this annotation above <code>Car</code> class to ignore extra properties of the json field, as you want the <code>Car</code> object only.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true) \npublic class Car{\n //your fields\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668345683,"creation_date":1668345683,"answer_id":74421355,"question_id":74411154,"body_markdown":"Your problem can be solved annotating the `Car` superclass with the [`JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonTypeInfo.html) annotation and the [`JsonSubTypes`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonSubTypes.html) annotation like below:\r\n\r\n~~~\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = Car.class)\r\n@JsonSubTypes(@JsonSubTypes.Type(value = Truck.class))\r\npublic class Car {/*Car fields */}\r\n\r\npublic class Truck extends Car {/* specific Truck fields */}\r\n\r\n//deserialize to a list containing Car and Truck objects\r\nList&lt;Car&gt; cars = mapper.readValue(json, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\r\n\r\n~~~\r\n\r\nThe `JsonTypeInfo.Id.DEDUCTION` means that jackson tries to deserialize the json object to one of defined subtypes (the only `Truck` class in this case) and when there is no perfect match with every of the proposed subtypes it tries to serialize the json object to the default class (The `Car` class).","title":"processing json array containing more than one object class with Jackson","body":"<p>Your problem can be solved annotating the <code>Car</code> superclass with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo</code></a> annotation and the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"nofollow noreferrer\"><code>JsonSubTypes</code></a> annotation like below:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = Car.class)\n@JsonSubTypes(@JsonSubTypes.Type(value = Truck.class))\npublic class Car {/*Car fields */}\n\npublic class Truck extends Car {/* specific Truck fields */}\n\n//deserialize to a list containing Car and Truck objects\nList&lt;Car&gt; cars = mapper.readValue(json, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\n\n</code></pre>\n<p>The <code>JsonTypeInfo.Id.DEDUCTION</code> means that jackson tries to deserialize the json object to one of defined subtypes (the only <code>Truck</code> class in this case) and when there is no perfect match with every of the proposed subtypes it tries to serialize the json object to the default class (The <code>Car</code> class).</p>\n"}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74421355,"answer_count":2,"score":1,"last_activity_date":1668345683,"creation_date":1668238436,"question_id":74411154,"body_markdown":"I am receiving from the web service JSON array that contains 2 types of objects - base class and class extending the base (it contains some extra attributes).\r\nHow can I process it with Jackson that will produce at the end a list of base class in Java. For example, I have a class Car and class Truck which contains attribute maxLoad (and some others) that Car does not have.\r\nAt the end I need to get List\\&lt;Car&gt; that will contain instances of both Car and Truck.\r\nHere is the code:\r\n\r\n    public class Car {\r\n        private String make;\r\n        private String model;\r\n        private short  year;\r\n        private String bodyStyle;\r\n        private String engineType;\r\n        private int    horsepower;\r\n    // setters and getters are omitted\r\n    }\r\n    \r\n    public class Truck extends Car {\r\n        private double  maxLoad;\r\n        private double  clearance;\r\n    // setters and getters are omitted\r\n    }\r\n\r\nAnd here is the test JSON file and code for test:\r\n\r\n      [\r\n        {\r\n            &quot;make&quot;: &quot;Ford&quot;,\r\n            &quot;model&quot;: &quot;Focus&quot;,\r\n            &quot;year&quot;: 2018,\r\n            &quot;engineType&quot;: &quot;T4&quot;,\r\n            &quot;bodyStyle&quot;: &quot;hatchback&quot;,\r\n            &quot;horsepower&quot;: 225\r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;Prius&quot;,\r\n            &quot;year&quot;: 2021,\r\n            &quot;engineType&quot;: &quot;T4&quot;,\r\n            &quot;bodyStyle&quot;: &quot;hatchback&quot;,\r\n            &quot;horsepower&quot;: 121        \r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;RAV4&quot;,\r\n            &quot;year&quot;: 2020,\r\n            &quot;engineType&quot;: &quot;V6&quot;,\r\n            &quot;bodyStyle&quot;: &quot;SUV&quot;,\r\n            &quot;horsepower&quot;: 230        \r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;Tacoma&quot;,\r\n            &quot;year&quot;: 2021,\r\n            &quot;engineType&quot;: &quot;V6&quot;,\r\n            &quot;bodyStyle&quot;: &quot;pickup&quot;,\r\n            &quot;horsepower&quot;: 278,\r\n            &quot;maxLoad&quot;: 1050,\r\n            &quot;clearance&quot;: 9.4\r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Ford&quot;,\r\n            &quot;model&quot;: &quot;T150&quot;,\r\n            &quot;year&quot;: 2017,\r\n            &quot;horsepower&quot;: 450,\r\n            &quot;bodyStyle&quot;: &quot;pickup&quot;,\r\n            &quot;maxLoad&quot;: 2320,\r\n            &quot;clearance&quot;: 8.4\r\n        }   \r\n     ]\r\n\r\n    public class Test {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n        public static void main(String[] args) {\r\n            InputStream src = Test.class.getClassLoader().getResourceAsStream(&quot;cars.json&quot;);\r\n            try {\r\n                List&lt;Car&gt; cars = mapper.readValue(src, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\r\n                for (Car car : cars) {\r\n                    System.out.println(car.getClass().getName());\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nWhen I run this test program, I am getting an exception:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;maxLoad&quot; (class org.garik.test.Car), not marked as ignorable (6 known properties: &quot;horsepower&quot;, &quot;model&quot;, &quot;engineType&quot;, &quot;year&quot;, &quot;make&quot;, &quot;bodyStyle&quot;])\r\n at [Source: (BufferedInputStream); line: 33, column: 24] (through reference chain: java.util.ArrayList[3]-&gt;org.garik.test.Car[&quot;maxLoad&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\r\n\tat org.garik.test.Test.main(Test.java:21)\r\n\r\nIf I replace List&lt;Car&gt; with List&lt;Truck&gt; it completes without errors, but create me instances of Truck only, but I need in this list instances of both Car and Truck.","title":"processing json array containing more than one object class with Jackson","body":"<p>I am receiving from the web service JSON array that contains 2 types of objects - base class and class extending the base (it contains some extra attributes).\nHow can I process it with Jackson that will produce at the end a list of base class in Java. For example, I have a class Car and class Truck which contains attribute maxLoad (and some others) that Car does not have.\nAt the end I need to get List&lt;Car&gt; that will contain instances of both Car and Truck.\nHere is the code:</p>\n<pre><code>public class Car {\n    private String make;\n    private String model;\n    private short  year;\n    private String bodyStyle;\n    private String engineType;\n    private int    horsepower;\n// setters and getters are omitted\n}\n\npublic class Truck extends Car {\n    private double  maxLoad;\n    private double  clearance;\n// setters and getters are omitted\n}\n</code></pre>\n<p>And here is the test JSON file and code for test:</p>\n<pre><code>  [\n    {\n        &quot;make&quot;: &quot;Ford&quot;,\n        &quot;model&quot;: &quot;Focus&quot;,\n        &quot;year&quot;: 2018,\n        &quot;engineType&quot;: &quot;T4&quot;,\n        &quot;bodyStyle&quot;: &quot;hatchback&quot;,\n        &quot;horsepower&quot;: 225\n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;Prius&quot;,\n        &quot;year&quot;: 2021,\n        &quot;engineType&quot;: &quot;T4&quot;,\n        &quot;bodyStyle&quot;: &quot;hatchback&quot;,\n        &quot;horsepower&quot;: 121        \n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;RAV4&quot;,\n        &quot;year&quot;: 2020,\n        &quot;engineType&quot;: &quot;V6&quot;,\n        &quot;bodyStyle&quot;: &quot;SUV&quot;,\n        &quot;horsepower&quot;: 230        \n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;Tacoma&quot;,\n        &quot;year&quot;: 2021,\n        &quot;engineType&quot;: &quot;V6&quot;,\n        &quot;bodyStyle&quot;: &quot;pickup&quot;,\n        &quot;horsepower&quot;: 278,\n        &quot;maxLoad&quot;: 1050,\n        &quot;clearance&quot;: 9.4\n    },\n    {\n        &quot;make&quot;: &quot;Ford&quot;,\n        &quot;model&quot;: &quot;T150&quot;,\n        &quot;year&quot;: 2017,\n        &quot;horsepower&quot;: 450,\n        &quot;bodyStyle&quot;: &quot;pickup&quot;,\n        &quot;maxLoad&quot;: 2320,\n        &quot;clearance&quot;: 8.4\n    }   \n ]\n\npublic class Test {\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public static void main(String[] args) {\n        InputStream src = Test.class.getClassLoader().getResourceAsStream(&quot;cars.json&quot;);\n        try {\n            List&lt;Car&gt; cars = mapper.readValue(src, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\n            for (Car car : cars) {\n                System.out.println(car.getClass().getName());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run this test program, I am getting an exception:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;maxLoad&quot; (class org.garik.test.Car), not marked as ignorable (6 known properties: &quot;horsepower&quot;, &quot;model&quot;, &quot;engineType&quot;, &quot;year&quot;, &quot;make&quot;, &quot;bodyStyle&quot;])\nat [Source: (BufferedInputStream); line: 33, column: 24] (through reference chain: java.util.ArrayList[3]-&gt;org.garik.test.Car[&quot;maxLoad&quot;])\nat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\nat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\nat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\nat org.garik.test.Test.main(Test.java:21)</p>\n</blockquote>\n<p>If I replace List with List it completes without errors, but create me instances of Truck only, but I need in this list instances of both Car and Truck.</p>\n"},{"tags":["java","android","android-asynctask","android-widget"],"answers":[{"tags":[],"owner":{"account_id":15304494,"reputation":1,"user_id":11041743,"display_name":"Avishai Elmakies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549819366,"creation_date":1549817259,"answer_id":54618681,"question_id":37641188,"body_markdown":"After you called the API and used:\r\n\r\n    views.setTextViewText(R.id.appwidget_text, result);\r\n\r\nYou need to use the `AppWidgetManager` to update the UI.\r\n\r\nHere is an example:\r\n\r\n    AppWidgetManager manager=AppWidgetManager.getInstance(context);\r\n    manager.updateAppWidget(widgetID,views);\r\n","title":"Android App Widget - AsyncTask API call in update","body":"<p>After you called the API and used:</p>\n\n<pre><code>views.setTextViewText(R.id.appwidget_text, result);\n</code></pre>\n\n<p>You need to use the <code>AppWidgetManager</code> to update the UI.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>AppWidgetManager manager=AppWidgetManager.getInstance(context);\nmanager.updateAppWidget(widgetID,views);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10770091,"reputation":582,"user_id":7923782,"display_name":"tanni tanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668344779,"creation_date":1668344779,"answer_id":74421254,"question_id":37641188,"body_markdown":"    private void updateViewHere(String parseResult){\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\r\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, WidgetProvider.class));\r\n        views.setTextViewText(R.id.text, parseResult);\r\n        AppWidgetManager manager=AppWidgetManager.getInstance(context);\r\n        manager.updateAppWidget(ids,views);\r\n    }\r\n\r\nUsing this approach we can update widget views.","title":"Android App Widget - AsyncTask API call in update","body":"<pre><code>private void updateViewHere(String parseResult){\n    RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\n    int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, WidgetProvider.class));\n    views.setTextViewText(R.id.text, parseResult);\n    AppWidgetManager manager=AppWidgetManager.getInstance(context);\n    manager.updateAppWidget(ids,views);\n}\n</code></pre>\n<p>Using this approach we can update widget views.</p>\n"}],"owner":{"account_id":7485112,"reputation":81,"user_id":5688631,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3341,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1668344779,"creation_date":1465125243,"question_id":37641188,"body_markdown":"I want to make a simple widget on my Android Homescreen where I am able to fill in my postalcode or city, and by submitting that data, I would like to be able to update the Widget with data from an API call to Openweathermap.org.\r\n\r\nI&#39;ve made every step to make it work, but for some reason the Widget textView won&#39;t update with the data collected.\r\n\r\nThis is my main activity.\r\n\r\n       \r\n    public class WeerManWidget extends AppWidgetProvider {\r\n\r\n    public static String ACTION_WIDGET_CONFIGURE = &quot;ConfigureWidget&quot;;\r\n\r\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n\r\n        CharSequence widgetText = WeerManWidgetConfigureActivity.loadTitlePref(context, appWidgetId);\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.weer_man_widget);\r\n        views.setTextViewText(R.id.appwidget_text, widgetText);\r\n\r\n\r\n\r\n        Intent configIntent = new Intent(context, WeerManWidgetConfigureActivity.class);\r\n        configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n        PendingIntent configPendingIntent = PendingIntent.getActivity(context, appWidgetId, configIntent, 0);\r\n        views.setOnClickPendingIntent(R.id.btnSettings, configPendingIntent);\r\n        configIntent.setAction(ACTION_WIDGET_CONFIGURE + Integer.toString(appWidgetId));\r\n\r\n\r\n\r\n        new GetWeatherTask(views).execute(widgetText.toString());\r\n\r\n\r\n\r\n        // Instruct the widget manager to update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n    }\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        // There may be multiple widgets active, so update all of them\r\n        for (int appWidgetId : appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDeleted(Context context, int[] appWidgetIds) {\r\n        // When the user deletes the widget, delete the preference associated with it.\r\n        for (int appWidgetId : appWidgetIds) {\r\n            WeerManWidgetConfigureActivity.deleteTitlePref(context, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onEnabled(Context context) {\r\n        // Enter relevant functionality for when the first widget is created\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        // Enter relevant functionality for when the last widget is disabled\r\n    }\r\n    }\r\n\r\nAnd this is the class that I use for the API call.\r\n\r\n    public class GetWeatherTask extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n    private RemoteViews views;\r\n\r\n    GetWeatherTask(RemoteViews views) {\r\n        this.views = views;\r\n    }\r\n\r\n    @Override\r\n    public String doInBackground(String... params) {\r\n\r\n        String postalCode = params[0];\r\n\r\n        HttpURLConnection urlConnection = null;\r\n        URL url = null;\r\n        JSONObject object = null;\r\n        JSONArray myArray = null;\r\n        InputStream inStream = null;\r\n\r\n        try {\r\n            url = new URL(&quot;http://api.openweathermap.org/data/2.5/weather?q=&quot;+postalCode+&quot;,nl&amp;appid=XXXXX&amp;units=metric&quot;);\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoOutput(true);\r\n            urlConnection.setDoInput(true);\r\n            urlConnection.connect();\r\n\r\n            inStream = urlConnection.getInputStream();\r\n            BufferedReader bReader = new BufferedReader(new InputStreamReader(inStream));\r\n            String temp, response = &quot;&quot;;\r\n            while ((temp = bReader.readLine()) != null) {\r\n                response += temp;\r\n            }\r\n\r\n            object = (JSONObject) new JSONTokener(response).nextValue();\r\n            JSONObject obj = object.getJSONObject(&quot;main&quot;);\r\n            String weatherTemp = obj.getString(&quot;temp&quot;);\r\n\r\n            double weatherFloat = Double.parseDouble(weatherTemp);\r\n            //weatherFloat = (weatherFloat - 273.15);\r\n\r\n            String newTemp = String.valueOf(weatherFloat);\r\n\r\n            return newTemp;\r\n        } catch (Exception e) {\r\n\r\n            return e.toString();\r\n        } finally {\r\n            if (inStream != null) {\r\n                try {\r\n                    inStream.close();\r\n                } catch (IOException ignored) {\r\n\r\n                }\r\n            }\r\n            if (urlConnection != null) {\r\n                urlConnection.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPostExecute(String result) {\r\n        Log.v(&quot;WeerManWidget&quot;, result);\r\n\r\n        views.setTextViewText(R.id.appwidget_text, result);\r\n    }\r\n    }\r\n\r\nSeen in the onPostExecute in the AsyncTask, I log the results. This has the correct data. So everthing comes along nicely, but when I want to update the view with the setTextViewText, nothing happens. I am new to Android development, and am out of ideas.\r\n\r\nAnyone care to enlighten me?","title":"Android App Widget - AsyncTask API call in update","body":"<p>I want to make a simple widget on my Android Homescreen where I am able to fill in my postalcode or city, and by submitting that data, I would like to be able to update the Widget with data from an API call to Openweathermap.org.</p>\n\n<p>I've made every step to make it work, but for some reason the Widget textView won't update with the data collected.</p>\n\n<p>This is my main activity.</p>\n\n<pre><code>public class WeerManWidget extends AppWidgetProvider {\n\npublic static String ACTION_WIDGET_CONFIGURE = \"ConfigureWidget\";\n\nstatic void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n\n    CharSequence widgetText = WeerManWidgetConfigureActivity.loadTitlePref(context, appWidgetId);\n    // Construct the RemoteViews object\n    RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.weer_man_widget);\n    views.setTextViewText(R.id.appwidget_text, widgetText);\n\n\n\n    Intent configIntent = new Intent(context, WeerManWidgetConfigureActivity.class);\n    configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n    PendingIntent configPendingIntent = PendingIntent.getActivity(context, appWidgetId, configIntent, 0);\n    views.setOnClickPendingIntent(R.id.btnSettings, configPendingIntent);\n    configIntent.setAction(ACTION_WIDGET_CONFIGURE + Integer.toString(appWidgetId));\n\n\n\n    new GetWeatherTask(views).execute(widgetText.toString());\n\n\n\n    // Instruct the widget manager to update the widget\n    appWidgetManager.updateAppWidget(appWidgetId, views);\n}\n\n@Override\npublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n    // There may be multiple widgets active, so update all of them\n    for (int appWidgetId : appWidgetIds) {\n        updateAppWidget(context, appWidgetManager, appWidgetId);\n    }\n}\n\n@Override\npublic void onDeleted(Context context, int[] appWidgetIds) {\n    // When the user deletes the widget, delete the preference associated with it.\n    for (int appWidgetId : appWidgetIds) {\n        WeerManWidgetConfigureActivity.deleteTitlePref(context, appWidgetId);\n    }\n}\n\n@Override\npublic void onEnabled(Context context) {\n    // Enter relevant functionality for when the first widget is created\n}\n\n@Override\npublic void onDisabled(Context context) {\n    // Enter relevant functionality for when the last widget is disabled\n}\n}\n</code></pre>\n\n<p>And this is the class that I use for the API call.</p>\n\n<pre><code>public class GetWeatherTask extends AsyncTask&lt;String, String, String&gt; {\n\nprivate RemoteViews views;\n\nGetWeatherTask(RemoteViews views) {\n    this.views = views;\n}\n\n@Override\npublic String doInBackground(String... params) {\n\n    String postalCode = params[0];\n\n    HttpURLConnection urlConnection = null;\n    URL url = null;\n    JSONObject object = null;\n    JSONArray myArray = null;\n    InputStream inStream = null;\n\n    try {\n        url = new URL(\"http://api.openweathermap.org/data/2.5/weather?q=\"+postalCode+\",nl&amp;appid=XXXXX&amp;units=metric\");\n        urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.setDoOutput(true);\n        urlConnection.setDoInput(true);\n        urlConnection.connect();\n\n        inStream = urlConnection.getInputStream();\n        BufferedReader bReader = new BufferedReader(new InputStreamReader(inStream));\n        String temp, response = \"\";\n        while ((temp = bReader.readLine()) != null) {\n            response += temp;\n        }\n\n        object = (JSONObject) new JSONTokener(response).nextValue();\n        JSONObject obj = object.getJSONObject(\"main\");\n        String weatherTemp = obj.getString(\"temp\");\n\n        double weatherFloat = Double.parseDouble(weatherTemp);\n        //weatherFloat = (weatherFloat - 273.15);\n\n        String newTemp = String.valueOf(weatherFloat);\n\n        return newTemp;\n    } catch (Exception e) {\n\n        return e.toString();\n    } finally {\n        if (inStream != null) {\n            try {\n                inStream.close();\n            } catch (IOException ignored) {\n\n            }\n        }\n        if (urlConnection != null) {\n            urlConnection.disconnect();\n        }\n    }\n}\n\n@Override\npublic void onPostExecute(String result) {\n    Log.v(\"WeerManWidget\", result);\n\n    views.setTextViewText(R.id.appwidget_text, result);\n}\n}\n</code></pre>\n\n<p>Seen in the onPostExecute in the AsyncTask, I log the results. This has the correct data. So everthing comes along nicely, but when I want to update the view with the setTextViewText, nothing happens. I am new to Android development, and am out of ideas.</p>\n\n<p>Anyone care to enlighten me?</p>\n"},{"tags":["java","javafx","geometry","rasterizing"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668344451,"creation_date":1668344451,"answer_id":74421223,"question_id":74419620,"body_markdown":"Instead of `sectstartx` you have to use \r\n\r\n    sectstartx - center_x\r\nto form proper vector for cross product checking. Same for other sect*** values","title":"Sector rasterization JavaFX","body":"<p>Instead of <code>sectstartx</code> you have to use</p>\n<pre><code>sectstartx - center_x\n</code></pre>\n<p>to form proper vector for cross product checking. Same for other sect*** values</p>\n"}],"owner":{"account_id":16979771,"reputation":33,"user_id":17431891,"display_name":"eques"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668344451,"creation_date":1668329247,"question_id":74419620,"body_markdown":"I have method ```drawSector```, where boolean function ```isInsideSector``` checks if point in circle is inside sector and color it. But output sector is wrong with its coordinates, and I don&#39;t know where the problem is. Here is my logic and code:\r\n\r\n```\r\npublic static void drawSector(\r\n        final GraphicsContext graphicsContext,\r\n        int center_x, int center_y, // center of circle (x,y)\r\n        int sectstartx, int sectstarty, // start point of sector\r\n        int sectendx, int sectendy, // end point of sector\r\n        int radius, // radius\r\n        Color c0) { // sector color\r\n\r\n    final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\r\n\r\n    for (int x = -radius; x &lt;= radius; x++) { // circle fill algorithm\r\n        int height = (int) Math.sqrt(radius * radius - x * x); // no radius check, high efficiency\r\n        for (int y = -height; y &lt;= height; y++)\r\n            if (isInsideSector(x + center_x, y + center_y, center_x, center_y, sectstartx, sectstarty, sectendx, sectendy, radius)) {\r\n                pixelWriter.setColor(x + center_x, y + center_y, c0); // set point\r\n          }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nprivate static boolean isInsideSector( // checks if point is inside certain sector\r\n                                       int x, int y, // point in circle (vector S)\r\n                                       int center_x, int center_y, // center of circle\r\n                                       int sectstartx, int sectstarty, // start point of sector (vector V1)\r\n                                       int sectendx, int sectendy, // end point of sector (vector V2)\r\n                                       int radius) { // radius\r\n\r\n    int relpointx = x - center_x; // because in drawSector x + center_x\r\n    int relpointy = y - center_y;\r\n\r\n    return (sectstartx * relpointy - relpointx * sectstarty &gt; 0 &amp;&amp; relpointx * sectendy - sectendx * relpointy &gt; 0);\r\n```\r\nVisualisation of method ```isInsideSector``` or what I mean to write, I&#39;m so sorry if your eyes are bleeding:\r\n[![enter image description here](https://i.stack.imgur.com/NORwy.png)](https://i.stack.imgur.com/NORwy.png)\r\nHow I create sector: \r\n```\r\nRasterization.drawSector(canvas.getGraphicsContext2D(), 200, 200, 0, -4, -1, -4, 150, Color.BLUE)\r\n// center of circle (200,200); sector start point (0,-4); sector end point (-1,-4); radius 150\r\n```\r\nOutput:\r\n[![enter image description here](https://i.stack.imgur.com/QPEis.png)](https://i.stack.imgur.com/QPEis.png)\r\n\r\n\r\nI thought that the problem is in circle fill, but i tried with scanline fill and it is the same output. Maybe the problem is in my logic where I check sector point? Or with JavaFX coordinate grid?","title":"Sector rasterization JavaFX","body":"<p>I have method <code>drawSector</code>, where boolean function <code>isInsideSector</code> checks if point in circle is inside sector and color it. But output sector is wrong with its coordinates, and I don't know where the problem is. Here is my logic and code:</p>\n<pre><code>public static void drawSector(\n        final GraphicsContext graphicsContext,\n        int center_x, int center_y, // center of circle (x,y)\n        int sectstartx, int sectstarty, // start point of sector\n        int sectendx, int sectendy, // end point of sector\n        int radius, // radius\n        Color c0) { // sector color\n\n    final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\n\n    for (int x = -radius; x &lt;= radius; x++) { // circle fill algorithm\n        int height = (int) Math.sqrt(radius * radius - x * x); // no radius check, high efficiency\n        for (int y = -height; y &lt;= height; y++)\n            if (isInsideSector(x + center_x, y + center_y, center_x, center_y, sectstartx, sectstarty, sectendx, sectendy, radius)) {\n                pixelWriter.setColor(x + center_x, y + center_y, c0); // set point\n          }\n    }\n}\n</code></pre>\n<pre><code>private static boolean isInsideSector( // checks if point is inside certain sector\n                                       int x, int y, // point in circle (vector S)\n                                       int center_x, int center_y, // center of circle\n                                       int sectstartx, int sectstarty, // start point of sector (vector V1)\n                                       int sectendx, int sectendy, // end point of sector (vector V2)\n                                       int radius) { // radius\n\n    int relpointx = x - center_x; // because in drawSector x + center_x\n    int relpointy = y - center_y;\n\n    return (sectstartx * relpointy - relpointx * sectstarty &gt; 0 &amp;&amp; relpointx * sectendy - sectendx * relpointy &gt; 0);\n</code></pre>\n<p>Visualisation of method <code>isInsideSector</code> or what I mean to write, I'm so sorry if your eyes are bleeding:\n<a href=\"https://i.stack.imgur.com/NORwy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NORwy.png\" alt=\"enter image description here\" /></a>\nHow I create sector:</p>\n<pre><code>Rasterization.drawSector(canvas.getGraphicsContext2D(), 200, 200, 0, -4, -1, -4, 150, Color.BLUE)\n// center of circle (200,200); sector start point (0,-4); sector end point (-1,-4); radius 150\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/QPEis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPEis.png\" alt=\"enter image description here\" /></a></p>\n<p>I thought that the problem is in circle fill, but i tried with scanline fill and it is the same output. Maybe the problem is in my logic where I check sector point? Or with JavaFX coordinate grid?</p>\n"},{"tags":["java","android","debugging","adb","jdb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1668361000,"post_id":74421021,"comment_id":131381063,"body_markdown":"So you don&#39;t get any logcat messages? Does your app use native libraries (.so files)? If a native library is crashing your app jdb won&#39;t be very helpful. I would add extra logcat logging to identify in which code part the problem is located in.","body":"So you don&#39;t get any logcat messages? Does your app use native libraries (.so files)? If a native library is crashing your app jdb won&#39;t be very helpful. I would add extra logcat logging to identify in which code part the problem is located in."},{"owner":{"account_id":10121867,"reputation":552,"user_id":7478525,"accept_rate":100,"display_name":"westman379"},"score":0,"creation_date":1668602548,"post_id":74421021,"comment_id":131444489,"body_markdown":"Yeah, my app is using some .so native libraries.\nOk, I&#39;ll try with logcat.","body":"Yeah, my app is using some .so native libraries. Ok, I&#39;ll try with logcat."},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":1,"creation_date":1694186289,"post_id":74421021,"comment_id":135862669,"body_markdown":"Simply connect `gdb` to your `jdb` session and take a look at what happens at the dark side of native code: https://www.owsiak.org/jni-debugging-extreme-way/","body":"Simply connect <code>gdb</code> to your <code>jdb</code> session and take a look at what happens at the dark side of native code: <a href=\"https://www.owsiak.org/jni-debugging-extreme-way/\" rel=\"nofollow noreferrer\">owsiak.org/jni-debugging-extreme-way</a>"}],"owner":{"account_id":10121867,"reputation":552,"user_id":7478525,"accept_rate":100,"display_name":"westman379"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668343109,"creation_date":1668343109,"question_id":74421021,"body_markdown":"I&#39;m trying to debug some Android app with JDB Java debugger.\r\nHere are my steps:\r\n\r\n1. `adb shell am start -D com.appname.global.android/.MainActivity`\r\n2. `adb jdwp`\r\n3. `adb forward tcp:8700 jdwp:&lt;NEW_PORT&gt;`\r\n4. Add `stop at com.appname.global.android.MainActivity:79` line to the C:\\Users\\UserName\\jdb.ini file.\r\n4. `&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\jdb.exe&quot; -connect com.sun.jdi.SocketAttach:hostname=localhost,port=8700`\r\n\r\nSo when I execute command from step 5, my app is resuming and I hit a breakpoint in JDB (in the &quot;onCreate&quot; method in my app). But after few seconds my app is crashing without even telling me what is wrong. Only message I get is this:\r\n\r\n    main[1]\r\n    main[1]\r\n    The application has been disconnected\r\n\r\nSo I would like to pass an verbose option to this command.\r\nIn the help message it looks like this:\r\n\r\n    options forwarded to debuggee process:\r\n    -v -verbose[:class|gc|jni]\r\n                      turn on verbose mode\r\n\r\nBut I can&#39;t figure out **how to pass verbose option properly**.\r\nCan you tell me how can I do it? Or maybe there is a better way of figuring out what is wrong with my app?","title":"JDB Java debugger - how can I set verbose option to see why my app is crashing?","body":"<p>I'm trying to debug some Android app with JDB Java debugger.\nHere are my steps:</p>\n<ol>\n<li><code>adb shell am start -D com.appname.global.android/.MainActivity</code></li>\n<li><code>adb jdwp</code></li>\n<li><code>adb forward tcp:8700 jdwp:&lt;NEW_PORT&gt;</code></li>\n<li>Add <code>stop at com.appname.global.android.MainActivity:79</code> line to the C:\\Users\\UserName\\jdb.ini file.</li>\n<li><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\jdb.exe&quot; -connect com.sun.jdi.SocketAttach:hostname=localhost,port=8700</code></li>\n</ol>\n<p>So when I execute command from step 5, my app is resuming and I hit a breakpoint in JDB (in the &quot;onCreate&quot; method in my app). But after few seconds my app is crashing without even telling me what is wrong. Only message I get is this:</p>\n<pre><code>main[1]\nmain[1]\nThe application has been disconnected\n</code></pre>\n<p>So I would like to pass an verbose option to this command.\nIn the help message it looks like this:</p>\n<pre><code>options forwarded to debuggee process:\n-v -verbose[:class|gc|jni]\n                  turn on verbose mode\n</code></pre>\n<p>But I can't figure out <strong>how to pass verbose option properly</strong>.\nCan you tell me how can I do it? Or maybe there is a better way of figuring out what is wrong with my app?</p>\n"},{"tags":["java","exception","encryption","cryptography","udp"],"comments":[{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":0,"creation_date":1668436605,"post_id":74418832,"comment_id":131397877,"body_markdown":"You are trying to do too many things at the same time. Right now you don&#39;t know if your error is in the communication or in your encryption logic. First, verify that your encryption works without the communication - can you decrypt what you encrypt ? Secondly, verify that you can communicate without  encryption... After this, THEN you are ready to communicate and encrypt.","body":"You are trying to do too many things at the same time. Right now you don&#39;t know if your error is in the communication or in your encryption logic. First, verify that your encryption works without the communication - can you decrypt what you encrypt ? Secondly, verify that you can communicate without  encryption... After this, THEN you are ready to communicate and encrypt."}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668343082,"creation_date":1668343082,"answer_id":74421015,"question_id":74418832,"body_markdown":"There are two general causes of a Bad Padding exception, either different modes set or failed decryption.\r\n\r\nFirst check that you have explicitly set the padding mode the same on both sides.\r\n\r\nIf not that, then you need to check that the whole decryption has not failed, resulting in garbage instead of well formed padding. Temporarily set the decryption side to &quot;NoPadding&quot; and see what the result is. Complete garbage means you have a more general decryption failure. A mostly good decryption, with some extra bytes at the end is a good decryption with added padding. You need to set the decryption side to expect that type of padding. Do not leave &quot;NoPadding&quot; set as it is less secure.","title":"javax.crypto.BadPaddingException: Given final block not properly padded. AES Decryption","body":"<p>There are two general causes of a Bad Padding exception, either different modes set or failed decryption.</p>\n<p>First check that you have explicitly set the padding mode the same on both sides.</p>\n<p>If not that, then you need to check that the whole decryption has not failed, resulting in garbage instead of well formed padding. Temporarily set the decryption side to &quot;NoPadding&quot; and see what the result is. Complete garbage means you have a more general decryption failure. A mostly good decryption, with some extra bytes at the end is a good decryption with added padding. You need to set the decryption side to expect that type of padding. Do not leave &quot;NoPadding&quot; set as it is less secure.</p>\n"}],"owner":{"account_id":26906656,"reputation":13,"user_id":20482882,"display_name":"Thunder123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4735,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74421015,"answer_count":1,"score":0,"last_activity_date":1668343082,"creation_date":1668319330,"question_id":74418832,"body_markdown":"Implement UDP chat application using symmetric AES encryption. I start with the client side having a message and sending the message encrypted (ciphertext) to the server side. Then the server side will decrypt with the fixed key and the ciphertext to get the original message. Both the server-side and client-side will use this key for encrypting and decrypt\r\n\r\n```\r\nclient.sentThenReceive(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\n```\r\nserver.receiveThenSend(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\nEverything worked properly until I try to decrypt method on the server side with the ciphertext and given the key  causing the error below in this line of code\r\n\r\n```\r\nbyte[] originalMessage = cipher.doFinal(message);\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:858)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:938)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:734)\r\n\tat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\r\n\tat Server.Decryption(Server.java:45)\r\n\tat Server.receiveThenSend(Server.java:63)\r\n\tat Server.main(Server.java:81)\r\n```\r\n\r\nHere is the encryption method in the client side, after the client encrypte the message and send it to the client side\r\n\r\n```\r\npublic byte[] Encryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\r\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\r\n    // Step 5: Create a Cipher object\r\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    SecretKey secrekey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    cipher.init(cipher.ENCRYPT_MODE, secrekey);\r\n    byte[] Encryption = cipher.doFinal(message);\r\n    return Encryption;\r\n}\r\n```\r\n\r\nWhen the Server side receive the encrypted message from the client side, it will using decrypte method to decrypt. The error evoke by this line of code:  byte\\[\\] originalMessage = cipher.doFinal(message);\r\n\r\n```\r\npublic String Decryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\r\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        cipher.init(cipher.DECRYPT_MODE, secretKey);\r\n        byte[] originalMessage = cipher.doFinal(message);\r\n        return new String(originalMessage);\r\n}\r\n```\r\n\r\nThis is the send method in client side use to send the ciphertext to server side\r\n\r\n```\r\n\r\npublic void sentThenReceive(byte[] key) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    while (true) {\r\n        try {\r\n            String messageToSend = scanner.nextLine();\r\n            byte[] message = messageToSend.getBytes();\r\n            DatagramPacket datagramPacket = new DatagramPacket (message, message.length, inetAddress, 2468);\r\n            datagramSocket.send(datagramPacket);\r\n```\r\n\r\nThis is the receive method in the server side use to receive the message from client side\r\n\r\n```\r\npublic void receiveThenSend(byte[] key) throws NoSuchPaddingException, NoSuchAlgorithmException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\r\n    while (true) {\r\n        try {\r\n            DatagramPacket datagramPacket = new DatagramPacket(buffer, buffer.length);\r\n            datagramSocket.receive(datagramPacket);\r\n            System.out.println(Decryption(datagramPacket.getData(),key));\r\n            InetAddress inetAddress = datagramPacket.getAddress();\r\n            int port = datagramPacket.getPort();\r\n            datagramPacket = new DatagramPacket(buffer, buffer.length, inetAddress, port);\r\n            datagramSocket.send(datagramPacket);\r\n```\r\n\r\nI&#39;m a learner so anyone please feel free to teach me what wrong with my code and how I can fix it. I would very appreciate your input!","title":"javax.crypto.BadPaddingException: Given final block not properly padded. AES Decryption","body":"<p>Implement UDP chat application using symmetric AES encryption. I start with the client side having a message and sending the message encrypted (ciphertext) to the server side. Then the server side will decrypt with the fixed key and the ciphertext to get the original message. Both the server-side and client-side will use this key for encrypting and decrypt</p>\n<pre><code>client.sentThenReceive(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<pre><code>server.receiveThenSend(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>Everything worked properly until I try to decrypt method on the server side with the ciphertext and given the key  causing the error below in this line of code</p>\n<pre><code>byte[] originalMessage = cipher.doFinal(message);\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:858)\n    at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:938)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:734)\n    at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\n    at Server.Decryption(Server.java:45)\n    at Server.receiveThenSend(Server.java:63)\n    at Server.main(Server.java:81)\n</code></pre>\n<p>Here is the encryption method in the client side, after the client encrypte the message and send it to the client side</p>\n<pre><code>public byte[] Encryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\n    // Step 5: Create a Cipher object\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n    SecretKey secrekey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    cipher.init(cipher.ENCRYPT_MODE, secrekey);\n    byte[] Encryption = cipher.doFinal(message);\n    return Encryption;\n}\n</code></pre>\n<p>When the Server side receive the encrypted message from the client side, it will using decrypte method to decrypt. The error evoke by this line of code:  byte[] originalMessage = cipher.doFinal(message);</p>\n<pre><code>public String Decryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        cipher.init(cipher.DECRYPT_MODE, secretKey);\n        byte[] originalMessage = cipher.doFinal(message);\n        return new String(originalMessage);\n}\n</code></pre>\n<p>This is the send method in client side use to send the ciphertext to server side</p>\n<pre><code>\npublic void sentThenReceive(byte[] key) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        try {\n            String messageToSend = scanner.nextLine();\n            byte[] message = messageToSend.getBytes();\n            DatagramPacket datagramPacket = new DatagramPacket (message, message.length, inetAddress, 2468);\n            datagramSocket.send(datagramPacket);\n</code></pre>\n<p>This is the receive method in the server side use to receive the message from client side</p>\n<pre><code>public void receiveThenSend(byte[] key) throws NoSuchPaddingException, NoSuchAlgorithmException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\n    while (true) {\n        try {\n            DatagramPacket datagramPacket = new DatagramPacket(buffer, buffer.length);\n            datagramSocket.receive(datagramPacket);\n            System.out.println(Decryption(datagramPacket.getData(),key));\n            InetAddress inetAddress = datagramPacket.getAddress();\n            int port = datagramPacket.getPort();\n            datagramPacket = new DatagramPacket(buffer, buffer.length, inetAddress, port);\n            datagramSocket.send(datagramPacket);\n</code></pre>\n<p>I'm a learner so anyone please feel free to teach me what wrong with my code and how I can fix it. I would very appreciate your input!</p>\n"},{"tags":["java","events","generics","raw-types"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1435490634,"post_id":31099196,"comment_id":50213846,"body_markdown":"That second code snippet is still using raw types.","body":"That second code snippet is still using raw types."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1435490691,"post_id":31099196,"comment_id":50213862,"body_markdown":"But it sounds like an unsolvable problem; you&#39;re trying to use compile-time type safety based on information that&#39;s only available at run-time.","body":"But it sounds like an unsolvable problem; you&#39;re trying to use compile-time type safety based on information that&#39;s only available at run-time."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435490838,"post_id":31099196,"comment_id":50213897,"body_markdown":"The last code sample does not use `handler` variable. Is there a mistake? Also please provide the signatures of `getHandler()` and `getMessage()` methods.","body":"The last code sample does not use <code>handler</code> variable. Is there a mistake? Also please provide the signatures of <code>getHandler()</code> and <code>getMessage()</code> methods."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435490965,"post_id":31099196,"comment_id":50213923,"body_markdown":"I think your problem is `getMessage()`. Why does it return `Object`?","body":"I think your problem is <code>getMessage()</code>. Why does it return <code>Object</code>?"},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491244,"post_id":31099196,"comment_id":50213984,"body_markdown":"@ Oliver Charlesworth You are right. It still uses raw types, but I don&#39;t get a compiler warning. Indeed, what you said about trying to use compile-time safety based on run-time information seems to be the case here. I just wanted to make sure that there isn&#39;t another alternative.","body":"@ Oliver Charlesworth You are right. It still uses raw types, but I don&#39;t get a compiler warning. Indeed, what you said about trying to use compile-time safety based on run-time information seems to be the case here. I just wanted to make sure that there isn&#39;t another alternative."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491334,"post_id":31099196,"comment_id":50214005,"body_markdown":"@RealSkeptic `getMessage()` returns `Object` because internally it stores different types of messages that are stored in a list of `Object`s. The same goes for `getHandler()`.","body":"@RealSkeptic <code>getMessage()</code> returns <code>Object</code> because internally it stores different types of messages that are stored in a list of <code>Object</code>s. The same goes for <code>getHandler()</code>."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491557,"post_id":31099196,"comment_id":50214060,"body_markdown":"@Tagir Valeev the last code sample uses `handler` using the generic method `handleEventGeneric()`.","body":"@Tagir Valeev the last code sample uses <code>handler</code> using the generic method <code>handleEventGeneric()</code>."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435492040,"post_id":31099196,"comment_id":50214164,"body_markdown":"Then the question is why the list is a list of Objects. You need to go further and further back to the root cause - you&#39;re using `Object` where you shouldn&#39;t. Are the messages standard Java types like `Integer`, `String`, `List` etc., or your own classes?","body":"Then the question is why the list is a list of Objects. You need to go further and further back to the root cause - you&#39;re using <code>Object</code> where you shouldn&#39;t. Are the messages standard Java types like <code>Integer</code>, <code>String</code>, <code>List</code> etc., or your own classes?"},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435492554,"post_id":31099196,"comment_id":50214317,"body_markdown":"@RealSkeptic The messages could be whatever type the &quot;user&quot; of the EventHandler wants. So, I have to store them in a list of Objects.","body":"@RealSkeptic The messages could be whatever type the &quot;user&quot; of the EventHandler wants. So, I have to store them in a list of Objects."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435493335,"post_id":31099196,"comment_id":50214544,"body_markdown":"But is it a type from the standard library or a new type?","body":"But is it a type from the standard library or a new type?"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1435493341,"post_id":31099196,"comment_id":50214546,"body_markdown":"@Petrakeas Shouldn&#39;t you still get a warning when you call `handleEventGeneric` and pass it raw types? I am not sure how you managed to suppress the warning. All you are doing is transferring it from one part of your code to another.","body":"@Petrakeas Shouldn&#39;t you still get a warning when you call <code>handleEventGeneric</code> and pass it raw types? I am not sure how you managed to suppress the warning. All you are doing is transferring it from one part of your code to another."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435495932,"post_id":31099196,"comment_id":50215312,"body_markdown":"@Cheta Kinger Yes, seems like I&#39;m propagating the problem later on, but the compiler doesn&#39;t produce a warning in this case. Doesn&#39;t really make a difference since I&#39;m doing the same thing anyway.","body":"@Cheta Kinger Yes, seems like I&#39;m propagating the problem later on, but the compiler doesn&#39;t produce a warning in this case. Doesn&#39;t really make a difference since I&#39;m doing the same thing anyway."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435496041,"post_id":31099196,"comment_id":50215341,"body_markdown":"@RealSkeptic It could be a new type. But even if it was a type from the standard library, I don&#39;t see why it changes the semantics of the problem, which as Oliver Charlesworth stated is that I&#39;m trying to use compile-time type safety based on information that&#39;s only available at run-time.","body":"@RealSkeptic It could be a new type. But even if it was a type from the standard library, I don&#39;t see why it changes the semantics of the problem, which as Oliver Charlesworth stated is that I&#39;m trying to use compile-time type safety based on information that&#39;s only available at run-time."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435498135,"post_id":31099196,"comment_id":50215966,"body_markdown":"Simply, if it is a type you can control, you can create an interface that all message objects have to implement.","body":"Simply, if it is a type you can control, you can create an interface that all message objects have to implement."},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1435612441,"post_id":31099196,"comment_id":50263778,"body_markdown":"What type does `getHandler()` return? If it returns `EventHandler`, that&#39;s already a raw type.","body":"What type does <code>getHandler()</code> return? If it returns <code>EventHandler</code>, that&#39;s already a raw type."}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435612515,"creation_date":1435612515,"answer_id":31125704,"question_id":31099196,"body_markdown":"You could do this:\r\n\r\n    EventHandler&lt;Object&gt; handler = getHandler();\r\n    Object message = getMessage();\r\n    handler.handleEvent(message);\r\n\r\nIt&#39;s not safe, but no less safe than what you have now.","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>You could do this:</p>\n\n<pre><code>EventHandler&lt;Object&gt; handler = getHandler();\nObject message = getMessage();\nhandler.handleEvent(message);\n</code></pre>\n\n<p>It's not safe, but no less safe than what you have now.</p>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435614703,"creation_date":1435614703,"answer_id":31126198,"question_id":31099196,"body_markdown":"It&#39;s not possible to remove this warning (or at least not without `@SuppressWarning`). The only way to get rid of it is by doing 2 things:\r\n\r\n1. Making your code type proof: so basically if the invoking code does not use raw type, you are type safe or the invoking code is using rawtypes and it it&#39;s fault if the code end up being no type safe\r\n2. Add the `@SuppressWarning(&quot;unchecked&quot;)` on your code.\r\n\r\nThe warning is there so that you can easily identify where you have a weakness in terms of type safety, in your code. If you use the annotation correctly, then your code is safe and you&#39;re sure of not getting any unpleasant `ClassCastException`, unless you willingly added an `@SuppressWarning(&quot;unchecked&quot;)` in a place where you are actually not all that sure that the type is safe.\r\n\r\nSee some demo code illustrating my point:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class TestGenerics {\r\n    \r\n    \tprivate Map&lt;Class&lt;?&gt;, EventHandler&lt;?&gt;&gt; handlers = new HashMap&lt;Class&lt;?&gt;, TestGenerics.EventHandler&lt;?&gt;&gt;();\r\n    \r\n    \tpublic interface EventHandler&lt;T&gt; {\r\n    \r\n    \t\tboolean handleEvent(T message);\r\n    \t}\r\n    \r\n    \t// Here you force the invoker to provide the correct type of event handler\r\n    \t// with the given type of klass\r\n    \t// If he wants to make this fail, then he will have to use rawtype\r\n    \tpublic &lt;T&gt; void registerHandler(Class&lt;T&gt; klass, EventHandler&lt;T&gt; handler) {\r\n    \t\thandlers.put(klass, handler);\r\n    \t}\r\n    \r\n    \tpublic &lt;T&gt; void handle(T message) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;) // Here you can add this annotation since you are forcing any invoker to provide a correct EventHandler\r\n    \t\tEventHandler&lt;T&gt; handler = (EventHandler&lt;T&gt;) handlers.get(message.getClass());\r\n    \t\tif (handler != null) {\r\n    \t\t\thandler.handleEvent(message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTestGenerics test = new TestGenerics();\r\n    \t\ttest.registerHandler(Long.class, new EventHandler&lt;Long&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean handleEvent(Long message) {\r\n    \t\t\t\tSystem.out.println(&quot;Received a long &quot; + message);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t// Here I use raw type but this also means that I created a weak spot in\r\n    \t\t// terms of type safety\r\n    \t\tEventHandler handler2 = new EventHandler&lt;String&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean handleEvent(String message) {\r\n    \t\t\t\tSystem.out.println(&quot;THis will never print &quot; + message);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttest.registerHandler(Integer.class, handler2); // This is where the\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// problem comes from\r\n    \t\ttest.handle(3L); // OK\r\n    \t\ttest.handle(1); // ClassCastException\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>It's not possible to remove this warning (or at least not without <code>@SuppressWarning</code>). The only way to get rid of it is by doing 2 things:</p>\n\n<ol>\n<li>Making your code type proof: so basically if the invoking code does not use raw type, you are type safe or the invoking code is using rawtypes and it it's fault if the code end up being no type safe</li>\n<li>Add the <code>@SuppressWarning(\"unchecked\")</code> on your code.</li>\n</ol>\n\n<p>The warning is there so that you can easily identify where you have a weakness in terms of type safety, in your code. If you use the annotation correctly, then your code is safe and you're sure of not getting any unpleasant <code>ClassCastException</code>, unless you willingly added an <code>@SuppressWarning(\"unchecked\")</code> in a place where you are actually not all that sure that the type is safe.</p>\n\n<p>See some demo code illustrating my point:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class TestGenerics {\n\n    private Map&lt;Class&lt;?&gt;, EventHandler&lt;?&gt;&gt; handlers = new HashMap&lt;Class&lt;?&gt;, TestGenerics.EventHandler&lt;?&gt;&gt;();\n\n    public interface EventHandler&lt;T&gt; {\n\n        boolean handleEvent(T message);\n    }\n\n    // Here you force the invoker to provide the correct type of event handler\n    // with the given type of klass\n    // If he wants to make this fail, then he will have to use rawtype\n    public &lt;T&gt; void registerHandler(Class&lt;T&gt; klass, EventHandler&lt;T&gt; handler) {\n        handlers.put(klass, handler);\n    }\n\n    public &lt;T&gt; void handle(T message) {\n        @SuppressWarnings(\"unchecked\") // Here you can add this annotation since you are forcing any invoker to provide a correct EventHandler\n        EventHandler&lt;T&gt; handler = (EventHandler&lt;T&gt;) handlers.get(message.getClass());\n        if (handler != null) {\n            handler.handleEvent(message);\n        }\n    }\n\n    public static void main(String[] args) {\n        TestGenerics test = new TestGenerics();\n        test.registerHandler(Long.class, new EventHandler&lt;Long&gt;() {\n            @Override\n            public boolean handleEvent(Long message) {\n                System.out.println(\"Received a long \" + message);\n                return true;\n            }\n        });\n        // Here I use raw type but this also means that I created a weak spot in\n        // terms of type safety\n        EventHandler handler2 = new EventHandler&lt;String&gt;() {\n            @Override\n            public boolean handleEvent(String message) {\n                System.out.println(\"THis will never print \" + message);\n                return false;\n            }\n        };\n        test.registerHandler(Integer.class, handler2); // This is where the\n                                                        // problem comes from\n        test.handle(3L); // OK\n        test.handle(1); // ClassCastException\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668342789,"creation_date":1668342789,"answer_id":74420970,"question_id":31099196,"body_markdown":"As [warning][1] suggest you have genric type safety problem, which is very easy to handle with proper diamond operator before addressing the inherited generic types with in other class.\r\nFor instance\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class Parent&lt;R, V&gt; {\r\n    ...\r\n        public class Child&lt;T, S extends Number&gt; {\r\n        ...\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nGeneric type safe declaring\r\n\r\n      &lt;T, S extends Number&gt; Parent&lt;R, V&gt;.Child&lt;T, S&gt; someMethodCall(...)\r\n\r\nThe `R, V` in provided declaration are generic types that referenced with in class/interface which the `someMethod` exist, in general they can even specify with in method as well.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>As <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">warning</a> suggest you have genric type safety problem, which is very easy to handle with proper diamond operator before addressing the inherited generic types with in other class.\nFor instance</p>\n<pre class=\"lang-html prettyprint-override\"><code>public class Parent&lt;R, V&gt; {\n...\n    public class Child&lt;T, S extends Number&gt; {\n    ...\n    }\n}\n</code></pre>\n\n<p>Generic type safe declaring</p>\n<pre><code>  &lt;T, S extends Number&gt; Parent&lt;R, V&gt;.Child&lt;T, S&gt; someMethodCall(...)\n</code></pre>\n<p>The <code>R, V</code> in provided declaration are generic types that referenced with in class/interface which the <code>someMethod</code> exist, in general they can even specify with in method as well.</p>\n"}],"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2968,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31126198,"answer_count":3,"score":3,"last_activity_date":1668342789,"creation_date":1435490401,"question_id":31099196,"body_markdown":"I have a generic interface for a handler:\r\n\r\n    public interface EventHandler&lt;T&gt; {\r\n\r\n         boolean handleEvent(T message);\r\n    }\r\nYou can implement this interface and process &lt;code&gt;T message&lt;/code&gt;. You have to pass an instance of your implementation to an &lt;code&gt;EventDispatcher&lt;/code&gt; instance. The class stores internally multiple &lt;code&gt;EventHandler&lt;/code&gt; instances of various types. \r\n\r\nAt some point an event is triggered and the &lt;code&gt;EventDispatcher&lt;/code&gt; instance calls the corresponding &lt;code&gt;EventHandler&lt;/code&gt;&#39;s &lt;code&gt;handleEvent()&lt;/code&gt; method and passes a message that is the same type as the &lt;code&gt;EventHandler&lt;/code&gt;. The problem is that I don&#39;t know which is the exact type, but I am sure that the &lt;code&gt;T message&lt;/code&gt; I&#39;m passing to the &lt;code&gt;EventHandler&lt;T&gt;&lt;/code&gt; instance have the same &quot;T&quot;.\r\n\r\nThe way I make this call uses raw types and works:\r\n\r\n    EventHandler handler = getHandler();\r\n    Object message = getMessage();\r\n    handler.handleEvent(message);\r\n,but I get the warning &quot;Unchecked call to &#39;handleEvent(T)&#39; as a member of raw type &#39;EventHandler&#39;&quot;.\r\n\r\nIs it possible to use generics to avoid the warning? \r\n\r\nOne possible solution I have thought of is to make a generic wrapper method:\r\n\r\n    private &lt;T&gt; boolean handleEventGeneric(EventHandler&lt;T&gt; handler, T message) {\r\n        return handler.handleEvent(message);\r\n    }\r\n\r\nand use it:\r\n\r\n    EventHandler handler = getHandler();\r\n    Object message = getMessage();\r\n    handleEventGeneric(action.eventHandler, message);\r\n\r\nBut I don&#39;t like the fact that I have to make a wrapper method. Is there a more elegant solution?","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>I have a generic interface for a handler:</p>\n\n<pre><code>public interface EventHandler&lt;T&gt; {\n\n     boolean handleEvent(T message);\n}\n</code></pre>\n\n<p>You can implement this interface and process <code>T message</code>. You have to pass an instance of your implementation to an <code>EventDispatcher</code> instance. The class stores internally multiple <code>EventHandler</code> instances of various types. </p>\n\n<p>At some point an event is triggered and the <code>EventDispatcher</code> instance calls the corresponding <code>EventHandler</code>'s <code>handleEvent()</code> method and passes a message that is the same type as the <code>EventHandler</code>. The problem is that I don't know which is the exact type, but I am sure that the <code>T message</code> I'm passing to the <code>EventHandler</code> instance have the same \"T\".</p>\n\n<p>The way I make this call uses raw types and works:</p>\n\n<pre><code>EventHandler handler = getHandler();\nObject message = getMessage();\nhandler.handleEvent(message);\n</code></pre>\n\n<p>,but I get the warning \"Unchecked call to 'handleEvent(T)' as a member of raw type 'EventHandler'\".</p>\n\n<p>Is it possible to use generics to avoid the warning? </p>\n\n<p>One possible solution I have thought of is to make a generic wrapper method:</p>\n\n<pre><code>private &lt;T&gt; boolean handleEventGeneric(EventHandler&lt;T&gt; handler, T message) {\n    return handler.handleEvent(message);\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>EventHandler handler = getHandler();\nObject message = getMessage();\nhandleEventGeneric(action.eventHandler, message);\n</code></pre>\n\n<p>But I don't like the fact that I have to make a wrapper method. Is there a more elegant solution?</p>\n"},{"tags":["java","android","interface","android-volley"],"owner":{"account_id":26900337,"reputation":1,"user_id":20477583,"display_name":"Guilherme da Silva Batista"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668324305,"answer_count":0,"score":-3,"last_activity_date":1668342461,"creation_date":1668262402,"question_id":74413656,"body_markdown":"I&#39;m trying to set my adapter into the function private void dataInitialize(), and then I need three params, context, arrayList and the interface, but it has an error on my interface, I know that if I put this command into onViewCreated it doesn&#39;t show any error, but also doesn&#39;t work at all, how can I do this, it is in a fragment\r\n\r\n**Fragment Home:**\r\n\r\n```\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedIntanceState){\r\n        super.onViewCreated(view, savedIntanceState);\r\n\r\n        TextView txtUsuario = view.findViewById(R.id.txtUsuario);\r\n        SharedPreferences preferences = getContext().getSharedPreferences(&quot;dados&quot;, MODE_PRIVATE);\r\n        String nome = preferences.getString(&quot;nome&quot;,&quot;&quot;);\r\n\r\n        String nomeMsg = nome.contains(&quot; &quot;) ? nome.split(&quot; &quot;)[0] : nome;\r\n        txtUsuario.setText(&quot;Ol&#225; &quot;+ nomeMsg);\r\n\r\n\r\n        dataInitialize(view);\r\n\r\n    }\r\n\r\n    private void dataInitialize(View view) {\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(getContext());\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.POST, url, null, new com.android.volley.Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        JSONObject object = response.getJSONObject(i);\r\n\r\n                        String titulo = object.getString(&quot;nome&quot;);\r\n                        String descricao = object.getString(&quot;descricao&quot;);\r\n                        int avaliacao = object.getInt(&quot;avaliacao&quot;);\r\n                        int valor = object.getInt(&quot;valor&quot;);\r\n                        String fotoResto = object.getString(&quot;fotoRestaurante&quot;);\r\n\r\n                        restaurantes restaurantes = new restaurantes(titulo, descricao, avaliacao, valor, fotoResto);\r\n                        restaurantesArrayList.add(restaurantes);\r\n\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n\r\n                recyclerView = view.findViewById(R.id.recyclerView);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n                recyclerView.setHasFixedSize(true);\r\n                adapterRestaurante myAdapter = new adapterRestaurante(getContext(), restaurantesArrayList, this);\r\n                recyclerView.setAdapter(myAdapter);\r\n                myAdapter.notifyDataSetChanged();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Log.d(&quot;tag&quot;, &quot;onErrorResponse: &quot;+ error.getMessage());\r\n            }\r\n        });\r\n        queue.add(jsonArrayRequest);\r\n\r\n    }\r\n\r\n   \r\n\r\n}\r\n```\r\nThe error says:\r\n\r\n**Required type:**\r\nInterfaceRestaurantes\r\n**Provided:**\r\nListener&lt;JSONArray&gt;\r\n\r\nI&#39;ve tried to use this as my interface, but it doesn&#39;t work, I think probably it&#39;s a problem with scopes, but I have no idea how can I solve it","title":"How can I set my interface on this public void?","body":"<p>I'm trying to set my adapter into the function private void dataInitialize(), and then I need three params, context, arrayList and the interface, but it has an error on my interface, I know that if I put this command into onViewCreated it doesn't show any error, but also doesn't work at all, how can I do this, it is in a fragment</p>\n<p><strong>Fragment Home:</strong></p>\n<pre><code>\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedIntanceState){\n        super.onViewCreated(view, savedIntanceState);\n\n        TextView txtUsuario = view.findViewById(R.id.txtUsuario);\n        SharedPreferences preferences = getContext().getSharedPreferences(&quot;dados&quot;, MODE_PRIVATE);\n        String nome = preferences.getString(&quot;nome&quot;,&quot;&quot;);\n\n        String nomeMsg = nome.contains(&quot; &quot;) ? nome.split(&quot; &quot;)[0] : nome;\n        txtUsuario.setText(&quot;OlÃ¡ &quot;+ nomeMsg);\n\n\n        dataInitialize(view);\n\n    }\n\n    private void dataInitialize(View view) {\n\n        RequestQueue queue = Volley.newRequestQueue(getContext());\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.POST, url, null, new com.android.volley.Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray response) {\n                for (int i = 0; i &lt; response.length(); i++) {\n                    try {\n                        JSONObject object = response.getJSONObject(i);\n\n                        String titulo = object.getString(&quot;nome&quot;);\n                        String descricao = object.getString(&quot;descricao&quot;);\n                        int avaliacao = object.getInt(&quot;avaliacao&quot;);\n                        int valor = object.getInt(&quot;valor&quot;);\n                        String fotoResto = object.getString(&quot;fotoRestaurante&quot;);\n\n                        restaurantes restaurantes = new restaurantes(titulo, descricao, avaliacao, valor, fotoResto);\n                        restaurantesArrayList.add(restaurantes);\n\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n\n                recyclerView = view.findViewById(R.id.recyclerView);\n                recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n                recyclerView.setHasFixedSize(true);\n                adapterRestaurante myAdapter = new adapterRestaurante(getContext(), restaurantesArrayList, this);\n                recyclerView.setAdapter(myAdapter);\n                myAdapter.notifyDataSetChanged();\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Log.d(&quot;tag&quot;, &quot;onErrorResponse: &quot;+ error.getMessage());\n            }\n        });\n        queue.add(jsonArrayRequest);\n\n    }\n\n   \n\n}\n</code></pre>\n<p>The error says:</p>\n<p><strong>Required type:</strong>\nInterfaceRestaurantes\n<strong>Provided:</strong>\nListener</p>\n<p>I've tried to use this as my interface, but it doesn't work, I think probably it's a problem with scopes, but I have no idea how can I solve it</p>\n"},{"tags":["java","crash","intellij-idea","memory-management"],"comments":[{"owner":{"account_id":264181,"reputation":3163,"user_id":550271,"accept_rate":80,"display_name":"z7sg Ñª"},"score":2,"creation_date":1305735778,"post_id":6047627,"comment_id":6997248,"body_markdown":"The location of the log files is system-dependent but it will be something like ~UserHomeDir/.IdeaXXX/system/log.  Maybe if you update your question with a relevant part someone will have a chance of answering it.","body":"The location of the log files is system-dependent but it will be something like ~UserHomeDir/.IdeaXXX/system/log.  Maybe if you update your question with a relevant part someone will have a chance of answering it."},{"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"score":0,"creation_date":1305736239,"post_id":6047627,"comment_id":6997363,"body_markdown":"I can see lots of memory exceptions in there, there are like 20 MB of logs. I can&#39;t say exactly what was the last exception when it crashed, will try increasing jvm memory and if/when that happens again look at the last few logs. Thanks.","body":"I can see lots of memory exceptions in there, there are like 20 MB of logs. I can&#39;t say exactly what was the last exception when it crashed, will try increasing jvm memory and if/when that happens again look at the last few logs. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1428890242,"creation_date":1305744816,"answer_id":6049649,"question_id":6047627,"body_markdown":"Please define &quot;crashes&quot;. If the window just disappears, it usually means the JVM bug and there will be **hs_err_pidXXX.log** files in the IDEA working directory (usually IDEA_HOME/bin). In some cases updating JDK to the new version or changing Garbage Collector strategy (via vmoptions file) can workaround such issues.\r\n\r\nIf the IDE stops responding completely, you need to [provide thread dumps][1].\r\n\r\nIf it behaves weird, then you need to check **idea.log** for exceptions. In some cases it can be caused by OutOfMemory issues. Increasing heap size in idea.vmoptions should help. [Check the FAQ][2] for IDEA files locations.\r\n\r\nIf IDEA is becoming very slow on certain operations, you need to [provide CPU snapshot][3].\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/entries/23348667\r\n  [2]: http://devnet.jetbrains.net/docs/DOC-181\r\n  [3]: http://www.jetbrains.net/devnet/docs/DOC-192","title":"Intellij diagnosing crash problem","body":"<p>Please define \"crashes\". If the window just disappears, it usually means the JVM bug and there will be <strong>hs_err_pidXXX.log</strong> files in the IDEA working directory (usually IDEA_HOME/bin). In some cases updating JDK to the new version or changing Garbage Collector strategy (via vmoptions file) can workaround such issues.</p>\n\n<p>If the IDE stops responding completely, you need to <a href=\"https://intellij-support.jetbrains.com/entries/23348667\" rel=\"nofollow\">provide thread dumps</a>.</p>\n\n<p>If it behaves weird, then you need to check <strong>idea.log</strong> for exceptions. In some cases it can be caused by OutOfMemory issues. Increasing heap size in idea.vmoptions should help. <a href=\"http://devnet.jetbrains.net/docs/DOC-181\" rel=\"nofollow\">Check the FAQ</a> for IDEA files locations.</p>\n\n<p>If IDEA is becoming very slow on certain operations, you need to <a href=\"http://www.jetbrains.net/devnet/docs/DOC-192\" rel=\"nofollow\">provide CPU snapshot</a>.</p>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1443808774,"creation_date":1443808774,"answer_id":32913106,"question_id":6047627,"body_markdown":"Intellij wouldnt start up i.e. flashes IntelliJ and crashes. \r\n\r\n**Fix:** Set -Xmx to default 512MB in `idea.exe.vmoptions` file located in folder `C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 14.1.4\\bin`\r\n\r\n**How I landed on this issue:** I was having Xmx set to 2048MB earlier and it crashed hitting GC limit. Then on IntelliJ wouldn&#39;t start. ","title":"Intellij diagnosing crash problem","body":"<p>Intellij wouldnt start up i.e. flashes IntelliJ and crashes. </p>\n\n<p><strong>Fix:</strong> Set -Xmx to default 512MB in <code>idea.exe.vmoptions</code> file located in folder <code>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 14.1.4\\bin</code></p>\n\n<p><strong>How I landed on this issue:</strong> I was having Xmx set to 2048MB earlier and it crashed hitting GC limit. Then on IntelliJ wouldn't start. </p>\n"},{"tags":[],"owner":{"account_id":1237712,"reputation":1077,"user_id":1200966,"accept_rate":75,"display_name":"aram063"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537809426,"creation_date":1537809426,"answer_id":52484348,"question_id":6047627,"body_markdown":"In addition to the above answer, I added: \r\n\r\n`-Dswing.noxp=true` to .vmoptions file located at IDE_HOME\\bin\\&lt;product&gt;[bits][.exe].vmoptions\r\n\r\nThis fixed the problem for me.","title":"Intellij diagnosing crash problem","body":"<p>In addition to the above answer, I added: </p>\n\n<p><code>-Dswing.noxp=true</code> to .vmoptions file located at IDE_HOME\\bin\\[bits][.exe].vmoptions</p>\n\n<p>This fixed the problem for me.</p>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26043,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6049649,"answer_count":3,"score":13,"last_activity_date":1668342243,"creation_date":1305734528,"question_id":6047627,"body_markdown":"Sometimes `Intellij IDEA` crashes for no obvious reason.\r\n\r\nFirst, it becomes quite slow, `CTRL + N` (class search) often takes a bit longer than usual time to respond when you type something into it, jumping between files takes more time. And then it crashes..\r\n\r\nWhat is the usual route to diagnose `Intellij` crash? I&#39;ve been monitoring memory on the status bar when it crashed and it had about 100MB (out of 512MB) left at that time. Are there any useful logs that would point in the direction of the problem?\r\n\r\n[UPDATE] 3 crashes in total.\r\n\r\n1 instance:\r\n&lt;blockquote&gt;A fatal error has been detected by the Java Runtime Environment:\r\n\r\n EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d93acab, pid=3120, tid=5588\r\n\r\n JRE version: 6.0_24-b07\r\n Java VM: Java HotSpot(TM) Client VM (19.1-b02 mixed mode windows-x86 )\r\n Problematic frame:\r\n V  [jvm.dll+0x9acab]\r\n&lt;/blockquote&gt;\r\n\r\n2 instances:\r\n&lt;blockquote&gt;A fatal error has been detected by the Java Runtime Environment:\r\njava.lang.OutOfMemoryError: requested 32756 bytes for ChunkPool::allocate. Out of swap space?\r\nInternal Error (allocation.cpp:166), pid=2484, tid=5568\r\nError: ChunkPool::allocate&lt;/blockquote&gt;\r\n\r\nMemory configuration:\r\n-Xss2m  \r\n-Xms32m  \r\n-Xmx512m \r\n\r\nIncreased the memory to `-Xmx768`, hopefully that will delay the out of memory error by a bit. Increasing the memory to `-Xmx1024` caused weird address mapping problems after running IDEA for a while (integer overflow?). The machine has 3GB of RAM.","title":"Intellij diagnosing crash problem","body":"<p>Sometimes <code>Intellij IDEA</code> crashes for no obvious reason.</p>\n\n<p>First, it becomes quite slow, <code>CTRL + N</code> (class search) often takes a bit longer than usual time to respond when you type something into it, jumping between files takes more time. And then it crashes..</p>\n\n<p>What is the usual route to diagnose <code>Intellij</code> crash? I've been monitoring memory on the status bar when it crashed and it had about 100MB (out of 512MB) left at that time. Are there any useful logs that would point in the direction of the problem?</p>\n\n<p>[UPDATE] 3 crashes in total.</p>\n\n<p>1 instance:</p>\n\n<blockquote>A fatal error has been detected by the Java Runtime Environment:\n\n EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d93acab, pid=3120, tid=5588\n\n JRE version: 6.0_24-b07\n Java VM: Java HotSpot(TM) Client VM (19.1-b02 mixed mode windows-x86 )\n Problematic frame:\n V  [jvm.dll+0x9acab]\n</blockquote>\n\n<p>2 instances:</p>\n\n<blockquote>A fatal error has been detected by the Java Runtime Environment:\njava.lang.OutOfMemoryError: requested 32756 bytes for ChunkPool::allocate. Out of swap space?\nInternal Error (allocation.cpp:166), pid=2484, tid=5568\nError: ChunkPool::allocate</blockquote>\n\n<p>Memory configuration:\n-Xss2m<br>\n-Xms32m<br>\n-Xmx512m </p>\n\n<p>Increased the memory to <code>-Xmx768</code>, hopefully that will delay the out of memory error by a bit. Increasing the memory to <code>-Xmx1024</code> caused weird address mapping problems after running IDEA for a while (integer overflow?). The machine has 3GB of RAM.</p>\n"},{"tags":["java","jsf","el","managed-bean"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668161323,"post_id":74400774,"comment_id":131343568,"body_markdown":"Just wondering , would i need to use java.lang.reflect to obtain and load the running ApplicationContextFacade instance to get the main ServletContext. I&#39;m using Tomcat 10 therefore  i do not use javax","body":"Just wondering , would i need to use java.lang.reflect to obtain and load the running ApplicationContextFacade instance to get the main ServletContext. I&#39;m using Tomcat 10 therefore  i do not use javax"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668162071,"post_id":74400774,"comment_id":131343855,"body_markdown":"nb: h:outputText value=&quot;JavaServer Faces&quot; in the page prints and shows as everything else shows in &quot;view source&quot; , i know from earlier bloopers the methods ARE called , but now , i get no result and no errors printed. Another ? is the servletcontext i get from externalcontext a class representation of the instance that needs loading from class.forName to use it as an instance ???","body":"nb: h:outputText value=&quot;JavaServer Faces&quot; in the page prints and shows as everything else shows in &quot;view source&quot; , i know from earlier bloopers the methods ARE called , but now , i get no result and no errors printed. Another ? is the servletcontext i get from externalcontext a class representation of the instance that needs loading from class.forName to use it as an instance ???"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1668164975,"post_id":74400774,"comment_id":131344841,"body_markdown":"Your question is pretty long winded and the general approach is unnecessarily overcomplicated, but in first place, did you know that the default managed bean name is `imageByteDataBean` with the 1st character lowercased, conform the Javabeans specification? You have there an outcommented `name=&quot;ImageByteDataBean&quot;` which should have worked.","body":"Your question is pretty long winded and the general approach is unnecessarily overcomplicated, but in first place, did you know that the default managed bean name is <code>imageByteDataBean</code> with the 1st character lowercased, conform the Javabeans specification? You have there an outcommented <code>name=&quot;ImageByteDataBean&quot;</code> which should have worked."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668176942,"post_id":74400774,"comment_id":131349114,"body_markdown":"Thats interesting, because in the j2ee6 tutorial the UserNameBean class is spelled starting with uppercase and does not use AT ManagedBean annotation? Apparantly that works (Sun Micro.) Also @ManagedBean is deprecated in favor of AT named of recent. I just switched to jakarta.faces-3.0.0-RC5.jar that has com.sun.faces.config.WebConfiguration and the jakarta faces packages. Same result. I&#39;ll try putting the name = back","body":"Thats interesting, because in the j2ee6 tutorial the UserNameBean class is spelled starting with uppercase and does not use AT ManagedBean annotation? Apparantly that works (Sun Micro.) Also @ManagedBean is deprecated in favor of AT named of recent. I just switched to jakarta.faces-3.0.0-RC5.jar that has com.sun.faces.config.WebConfiguration and the jakarta faces packages. Same result. I&#39;ll try putting the name = back"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668178094,"post_id":74400774,"comment_id":131349569,"body_markdown":"...UserNameBean class in the xhtml code.","body":"...UserNameBean class in the xhtml code."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1668178421,"post_id":74400774,"comment_id":131349696,"body_markdown":"JSF 1.x used `&lt;managed-bean&gt;` entries in `faces-config.xml` instead of `@ManagedBean.` And indeed, it&#39;s in turn deprecated since JSF 2.3 in favor of CDI.","body":"JSF 1.x used <code>&lt;managed-bean&gt;</code> entries in <code>faces-config.xml</code> instead of <code>@ManagedBean.</code> And indeed, it&#39;s in turn deprecated since JSF 2.3 in favor of CDI."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668182133,"post_id":74400774,"comment_id":131350953,"body_markdown":"It is actually &quot;not taking&quot; on any of the methods while the AT ManageBean has the parenthesized arguments for name and or eager. Without it it pretends to not have an error. Finally errors have shown up warning about serializable and JSF in catalina.out","body":"It is actually &quot;not taking&quot; on any of the methods while the AT ManageBean has the parenthesized arguments for name and or eager. Without it it pretends to not have an error. Finally errors have shown up warning about serializable and JSF in catalina.out"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668224148,"post_id":74400774,"comment_id":131359852,"body_markdown":"SOLVED IT and as usual its biting off too many things at once. It now gets the base64 image String from the ServletContext of the app outside Faces context and servlet from within faces. Uses com.sun in jakarta.faces-3.0.0-RC5.jar although the other jakarta  .jar without it i&#39;ve yet to try. I had to remove the parameterized bean method calls, quite frankly i cannot find good docs to explain the program flow of parametized bean methods or whether they are set or get.","body":"SOLVED IT and as usual its biting off too many things at once. It now gets the base64 image String from the ServletContext of the app outside Faces context and servlet from within faces. Uses com.sun in jakarta.faces-3.0.0-RC5.jar although the other jakarta  .jar without it i&#39;ve yet to try. I had to remove the parameterized bean method calls, quite frankly i cannot find good docs to explain the program flow of parametized bean methods or whether they are set or get."}],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668341729,"creation_date":1668160669,"question_id":74400774,"body_markdown":"\r\n\r\nThis is a piece difficult,It&#39;s JSF i&#39;m using jakarta faces api 3.0.0 , it seems in a ManagedBean calling FacesContext to acquire the jakarta.faces.context.ExternalContext and use its getContext method that returns &quot;java.lang.Object&quot; that is either a PortletContext or a ServletContext (i&#39;m not using neither need a portlet library) it does not respond or seem to gain the applications&#39; running instance in Tomcat 10.\r\nI need to obtain the proper instance of jakarta.servlet.ServletContext.\r\nThe docs do give reasons the ExternalContext getContext is not called except at startup or shutdown and does not make clear sense.\r\nSo shifting to another method that is called during operation from `ExternalContext getApplicationMap` a java.util.Map  and using `get &quot;anobjectname&quot;` did not operate either.\r\n\r\nI need to access the class attributes i placed into the jakarta.servlet.ServletContext of the app as to that thereof in normal circumstance as always operates,` jakarta.servlet.ServletContext getAttribute &quot;TheLoadedClassAttribute&quot;`\r\n\r\nThe JSF page is XML and renders and calls the methods and shows but i cannot reach the proper ServletContext instance when i call these in the ManagedBean.\r\nIt also shows no error in the catalina.out log. \r\n\r\nAs you can see i&#39;ve been shifting the code around this way and that but no result , but no error either !\r\n\r\n\r\n\r\n\r\n\r\n    package beans;\r\n        \r\n        \r\n        import com.sun.faces.config.WebConfiguration;\r\n        import jakarta.faces.bean.ManagedBean;\r\n        import jakarta.faces.bean.ManagedProperty;\r\n        import jakarta.faces.bean.SessionScoped;\r\n        //import jakarta.servlet.ServletConfig;\r\n        import jakarta.servlet.ServletContext;\r\n        import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\r\n        import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\r\n        \r\n        @ManagedBean(name=&quot;imagebytedatabean&quot;)\r\n        @SessionScoped\r\n        public class ImageByteDataBean{\r\n        //ServletContext appconxt;  WebAppToolRAMDataServingObj dat;  RamStringB64 b64obj;\r\n        //\r\n        String imagedata;\r\n        String testout;\r\n        \r\n        public ImageByteDataBean(){}\r\n        \r\n        \r\n        public void setImageData(String imgNumber){\r\n        // jakarta.faces-3.0.0-RC5.jar\r\n         WebConfiguration wbc = WebConfiguration.getInstance();\r\n        ServletContext appconxt = wbc.getServletContext();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        String idat = (b64obj.getRAMstringB64((int)new Integer(imgNumber).intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+idat);\r\n        this.imagedata = idat;\r\n        }\r\n        \r\n        \r\n        public String getImageData(){\r\n        return this.imagedata;\r\n        }\r\n        \r\n        \r\n        public void setTestout(String testout){\r\n        this.testout=testout;\r\n        }\r\n        \r\n        public String getTestout(){\r\n        return this.testout;\r\n        }\r\n        \r\n        \r\n        }//enclss\r\n        \r\n        \r\n        /*\r\n        public void setImagedata(Integer imgNumber){\r\n        java.util.Map appconxt = (java.util.Map)((jakarta.faces.context.ExternalContext)((jakarta.faces.context.FacesContext)jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext()).getApplicationMap();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.get(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        String idat = (b64obj.getRAMstringB64((int)imgNumber.intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+idat);\r\n        this.imagedata = idat;\r\n        }\r\n        */\r\n        \r\n\r\n    \r\n    \r\n    \r\n\r\n\r\nHERE IS AN ERROR OUTPUT when @ManagedBean has parenthesized arguments to name the bean.\r\n\r\n\r\n\r\n    12-Nov-2022 03:46:05.050 WARNING [http-nio-8080-exec-3] com.sun.faces.context.SessionMap.put JSF1063: WARNING! Setting non-serializable attribute value into HttpSession (key: imagebytedatabean, value class: beans.ImageByteDataBean).\r\n        12-Nov-2022 03:46:05.054 SEVERE [http-nio-8080-exec-3] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/welcomeJSF.xhtml]\r\n        \tjakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\r\n        \t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\r\n        \t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\r\n        \t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\r\n        \t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\r\n        \t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\r\n        \t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\r\n        \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \t\tat java.lang.Thread.run(Thread.java:748)\r\n        12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log JSF1073: jakarta.el.ELException caught during processing of RENDER_RESPONSE 6 : UIComponent-ClientId=, Message=/welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \tjakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\r\n        \t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\r\n        \t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\r\n        \t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\r\n        \t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\r\n        \t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\r\n        \t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\r\n        \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \t\tat java.lang.Thread.run(Thread.java:748)\r\n        \t\t\r\n\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\nFollowing is its xml page , its only set for test output , the parameterized set method is able to inside or outside of an element and the whole process completes , but no result , but no error.\r\n\r\n\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    \r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n    xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n    xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\r\n            &lt;h:head&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n                &lt;title&gt;JSP Page&lt;/title&gt;          \r\n          \r\n            &lt;/h:head&gt;\r\n      &lt;f:view&gt;\r\n            &lt;h:body&gt;\r\n    \r\n                &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\r\n        #{imagebytedatabean.testout(&#39;So heres some text to blow your mind!&#39;)}        \r\n     &lt;h:outputText value=&quot;#{imagebytedatabean.testout}&quot; /&gt; \r\n     &lt;p /&gt;\r\n                \r\n     #{imagebytedatabean.imageData(&#39;4&#39;)}           \r\n      \r\n     &lt;p /&gt;\r\n    &lt;h:outputText value=&quot;#{imagebytedatabean.imageData}&quot; /&gt;\r\n    \r\n           &lt;/h:body&gt;\r\n      &lt;/f:view&gt;\r\n        &lt;/html&gt;    \r\n     \r\n\r\n   \r\n    \r\n\r\nI obtained the FacesContext and classes it obtains that indicate or insinuate coherent association with the the overall application context the jakarta.servlet.ServletContext.\r\n\r\n\r\n**SOLVED IT (mainly i should instantiated the properties) i simply could not understand the program flow of parameterized methods, so removed them (need to find good docs about parameterized EL methods), i&#39;ll just need to add another property to commit processing for page processing flow.**\r\n\r\n**A good work around would/may be using WebConfiguration class to obtain the request parameters internally in the bean to obtain an image index with the postback url.**\r\n\r\n\r\n\r\n        // jakarta.faces-3.0.0-RC5.jar   jakarta.servlet.jsp.jstl-2.0.0.jar   \r\n        // jakarta.inject-api-2.0.0.jar   jakarta.annotation-api-62.jar\r\n        // nicephotog-web-tools.jar   https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=share_link\r\n        package beans;\r\n        \r\n        import com.sun.faces.config.WebConfiguration;\r\n        import jakarta.faces.bean.ManagedBean;\r\n        //import jakarta.inject.Named;\r\n        //import jakarta.faces.bean.ManagedProperty;\r\n        //import jakarta.faces.bean.SessionScoped;\r\n        import jakarta.faces.bean.RequestScoped;\r\n        import jakarta.servlet.ServletContext;\r\n        import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\r\n        import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\r\n        // (name = &quot;imageByteDataBean&quot;, eager = true) @ManagedBean(name=&quot;imagebytedatabean&quot;) \r\n        //@Named(&quot;imageByteDataBean&quot;)\r\n        \r\n        @ManagedBean\r\n        @RequestScoped\r\n        public class ImageByteDataBean{\r\n        //\r\n        String imagedata=&quot;4&quot;;\r\n        String testout=&quot;Internal text value&quot;;\r\n        \r\n        public ImageByteDataBean(){}\r\n        \r\n        \r\n        public void setImagedata(String imagedata){\r\n        this.imagedata = imagedata ;\r\n        }\r\n        \r\n        \r\n        public String getImagedata(){\r\n        makeImg(imagedata);\r\n        return this.imagedata;\r\n        }\r\n        \r\n        \r\n        public void setTestout(String testout){\r\n        this.testout=testout;\r\n        }\r\n        \r\n        public String getTestout(){\r\n        return this.testout;\r\n        }\r\n        \r\n        public String makeImg(String umber){\r\n    /*\r\n    jakarta.faces-3.0.0-RC5.jar\r\n     javax package is identical to jakarta except for javax package name\r\n    THIS OPERATES TOO - NOTE THE CAST (jakarta.servlet.ServletContext)    NOTE A CAST (javax.servlet.ServletContext)\r\n    jakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\r\n    */\r\n         WebConfiguration wbc = WebConfiguration.getInstance();\r\n        ServletContext appconxt = wbc.getServletContext();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        imagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+imagedata);\r\n        return imagedata;\r\n        }\r\n        \r\n        \r\n        }//enclss\r\n     \r\n\r\n       \r\n\r\nthe test page xml\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    \r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n    xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n    xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\r\n            &lt;h:head&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n                &lt;title&gt;JSP Page&lt;/title&gt;          \r\n          \r\n            &lt;/h:head&gt;\r\n      &lt;f:view&gt;\r\n            &lt;h:body&gt;\r\n    \r\n                &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\r\n                \r\n     &lt;h:outputText value=&quot;#{imageByteDataBean.testout}&quot; /&gt; \r\n     &lt;p /&gt;\r\n                     \r\n      \r\n     &lt;p /&gt;\r\n    &lt;h:outputText value=&quot;#{imageByteDataBean.imagedata}&quot; /&gt;\r\n    \r\n           &lt;/h:body&gt;\r\n      &lt;/f:view&gt;\r\n        &lt;/html&gt;\r\n\r\n\r\n\r\n\r\n","title":"jakarta.servlet.ServletContext from jakarta.faces.context.FacesContext to getAttribute(&quot;AnAttributeName&quot;)","body":"<p>This is a piece difficult,It's JSF i'm using jakarta faces api 3.0.0 , it seems in a ManagedBean calling FacesContext to acquire the jakarta.faces.context.ExternalContext and use its getContext method that returns &quot;java.lang.Object&quot; that is either a PortletContext or a ServletContext (i'm not using neither need a portlet library) it does not respond or seem to gain the applications' running instance in Tomcat 10.\nI need to obtain the proper instance of jakarta.servlet.ServletContext.\nThe docs do give reasons the ExternalContext getContext is not called except at startup or shutdown and does not make clear sense.\nSo shifting to another method that is called during operation from <code>ExternalContext getApplicationMap</code> a java.util.Map  and using <code>get &quot;anobjectname&quot;</code> did not operate either.</p>\n<p>I need to access the class attributes i placed into the jakarta.servlet.ServletContext of the app as to that thereof in normal circumstance as always operates,<code> jakarta.servlet.ServletContext getAttribute &quot;TheLoadedClassAttribute&quot;</code></p>\n<p>The JSF page is XML and renders and calls the methods and shows but i cannot reach the proper ServletContext instance when i call these in the ManagedBean.\nIt also shows no error in the catalina.out log.</p>\n<p>As you can see i've been shifting the code around this way and that but no result , but no error either !</p>\n<pre><code>package beans;\n    \n    \n    import com.sun.faces.config.WebConfiguration;\n    import jakarta.faces.bean.ManagedBean;\n    import jakarta.faces.bean.ManagedProperty;\n    import jakarta.faces.bean.SessionScoped;\n    //import jakarta.servlet.ServletConfig;\n    import jakarta.servlet.ServletContext;\n    import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\n    import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\n    \n    @ManagedBean(name=&quot;imagebytedatabean&quot;)\n    @SessionScoped\n    public class ImageByteDataBean{\n    //ServletContext appconxt;  WebAppToolRAMDataServingObj dat;  RamStringB64 b64obj;\n    //\n    String imagedata;\n    String testout;\n    \n    public ImageByteDataBean(){}\n    \n    \n    public void setImageData(String imgNumber){\n    // jakarta.faces-3.0.0-RC5.jar\n     WebConfiguration wbc = WebConfiguration.getInstance();\n    ServletContext appconxt = wbc.getServletContext();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    String idat = (b64obj.getRAMstringB64((int)new Integer(imgNumber).intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+idat);\n    this.imagedata = idat;\n    }\n    \n    \n    public String getImageData(){\n    return this.imagedata;\n    }\n    \n    \n    public void setTestout(String testout){\n    this.testout=testout;\n    }\n    \n    public String getTestout(){\n    return this.testout;\n    }\n    \n    \n    }//enclss\n    \n    \n    /*\n    public void setImagedata(Integer imgNumber){\n    java.util.Map appconxt = (java.util.Map)((jakarta.faces.context.ExternalContext)((jakarta.faces.context.FacesContext)jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext()).getApplicationMap();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.get(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    String idat = (b64obj.getRAMstringB64((int)imgNumber.intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+idat);\n    this.imagedata = idat;\n    }\n    */\n    \n</code></pre>\n<p>HERE IS AN ERROR OUTPUT when @ManagedBean has parenthesized arguments to name the bean.</p>\n<pre><code>12-Nov-2022 03:46:05.050 WARNING [http-nio-8080-exec-3] com.sun.faces.context.SessionMap.put JSF1063: WARNING! Setting non-serializable attribute value into HttpSession (key: imagebytedatabean, value class: beans.ImageByteDataBean).\n    12-Nov-2022 03:46:05.054 SEVERE [http-nio-8080-exec-3] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/welcomeJSF.xhtml]\n        jakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n            at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\n            at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\n            at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\n            at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\n            at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n    12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log JSF1073: jakarta.el.ELException caught during processing of RENDER_RESPONSE 6 : UIComponent-ClientId=, Message=/welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n    12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n        jakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n            at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\n            at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\n            at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\n            at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\n            at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n            \n\n        \n        \n        \n</code></pre>\n<p>Following is its xml page , its only set for test output , the parameterized set method is able to inside or outside of an element and the whole process completes , but no result , but no error.</p>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\nxmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\nxmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\n        &lt;h:head&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n            &lt;title&gt;JSP Page&lt;/title&gt;          \n      \n        &lt;/h:head&gt;\n  &lt;f:view&gt;\n        &lt;h:body&gt;\n\n            &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\n    #{imagebytedatabean.testout('So heres some text to blow your mind!')}        \n &lt;h:outputText value=&quot;#{imagebytedatabean.testout}&quot; /&gt; \n &lt;p /&gt;\n            \n #{imagebytedatabean.imageData('4')}           \n  \n &lt;p /&gt;\n&lt;h:outputText value=&quot;#{imagebytedatabean.imageData}&quot; /&gt;\n\n       &lt;/h:body&gt;\n  &lt;/f:view&gt;\n    &lt;/html&gt;    \n \n</code></pre>\n<p>I obtained the FacesContext and classes it obtains that indicate or insinuate coherent association with the the overall application context the jakarta.servlet.ServletContext.</p>\n<p><strong>SOLVED IT (mainly i should instantiated the properties) i simply could not understand the program flow of parameterized methods, so removed them (need to find good docs about parameterized EL methods), i'll just need to add another property to commit processing for page processing flow.</strong></p>\n<p><strong>A good work around would/may be using WebConfiguration class to obtain the request parameters internally in the bean to obtain an image index with the postback url.</strong></p>\n<pre><code>    // jakarta.faces-3.0.0-RC5.jar   jakarta.servlet.jsp.jstl-2.0.0.jar   \n    // jakarta.inject-api-2.0.0.jar   jakarta.annotation-api-62.jar\n    // nicephotog-web-tools.jar   https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=share_link\n    package beans;\n    \n    import com.sun.faces.config.WebConfiguration;\n    import jakarta.faces.bean.ManagedBean;\n    //import jakarta.inject.Named;\n    //import jakarta.faces.bean.ManagedProperty;\n    //import jakarta.faces.bean.SessionScoped;\n    import jakarta.faces.bean.RequestScoped;\n    import jakarta.servlet.ServletContext;\n    import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\n    import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\n    // (name = &quot;imageByteDataBean&quot;, eager = true) @ManagedBean(name=&quot;imagebytedatabean&quot;) \n    //@Named(&quot;imageByteDataBean&quot;)\n    \n    @ManagedBean\n    @RequestScoped\n    public class ImageByteDataBean{\n    //\n    String imagedata=&quot;4&quot;;\n    String testout=&quot;Internal text value&quot;;\n    \n    public ImageByteDataBean(){}\n    \n    \n    public void setImagedata(String imagedata){\n    this.imagedata = imagedata ;\n    }\n    \n    \n    public String getImagedata(){\n    makeImg(imagedata);\n    return this.imagedata;\n    }\n    \n    \n    public void setTestout(String testout){\n    this.testout=testout;\n    }\n    \n    public String getTestout(){\n    return this.testout;\n    }\n    \n    public String makeImg(String umber){\n/*\njakarta.faces-3.0.0-RC5.jar\n javax package is identical to jakarta except for javax package name\nTHIS OPERATES TOO - NOTE THE CAST (jakarta.servlet.ServletContext)    NOTE A CAST (javax.servlet.ServletContext)\njakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\n*/\n     WebConfiguration wbc = WebConfiguration.getInstance();\n    ServletContext appconxt = wbc.getServletContext();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    imagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+imagedata);\n    return imagedata;\n    }\n    \n    \n    }//enclss\n \n\n   \n</code></pre>\n<p>the test page xml</p>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\nxmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\nxmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\n        &lt;h:head&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n            &lt;title&gt;JSP Page&lt;/title&gt;          \n      \n        &lt;/h:head&gt;\n  &lt;f:view&gt;\n        &lt;h:body&gt;\n\n            &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\n            \n &lt;h:outputText value=&quot;#{imageByteDataBean.testout}&quot; /&gt; \n &lt;p /&gt;\n                 \n  \n &lt;p /&gt;\n&lt;h:outputText value=&quot;#{imageByteDataBean.imagedata}&quot; /&gt;\n\n       &lt;/h:body&gt;\n  &lt;/f:view&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1339681822,"creation_date":1339681504,"answer_id":11034480,"question_id":11034322,"body_markdown":"For example, like this:\r\n\r\n    List&lt;T&gt; results = em.createQuery(&quot;SELECT t FROM TABLE t&quot;, T.class)\r\n                            .getResultList();\r\n\r\n\r\nWith parameters:\r\n\r\n    List&lt;T&gt; results = em.createQuery(&quot;SELECT t FROM TABLE t where t.value = :value1&quot;)\r\n                            .setParameter(&quot;value1&quot;, &quot;some value&quot;).getResultList();\r\n\r\nFor single result replace `getResultList()` with `getSingleResult()`:\r\n\r\n    T entity = em.createQuery(&quot;SELECT t FROM TABLE t where t.uniqueKey = :value1&quot;)\r\n                     .setParameter(&quot;value1&quot;, &quot;KEY1&quot;).getSingleResult();\r\n\r\nOne other way is to use Criteria API.","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>For example, like this:</p>\n\n<pre><code>List&lt;T&gt; results = em.createQuery(\"SELECT t FROM TABLE t\", T.class)\n                        .getResultList();\n</code></pre>\n\n<p>With parameters:</p>\n\n<pre><code>List&lt;T&gt; results = em.createQuery(\"SELECT t FROM TABLE t where t.value = :value1\")\n                        .setParameter(\"value1\", \"some value\").getResultList();\n</code></pre>\n\n<p>For single result replace <code>getResultList()</code> with <code>getSingleResult()</code>:</p>\n\n<pre><code>T entity = em.createQuery(\"SELECT t FROM TABLE t where t.uniqueKey = :value1\")\n                 .setParameter(\"value1\", \"KEY1\").getSingleResult();\n</code></pre>\n\n<p>One other way is to use Criteria API.</p>\n"},{"tags":[],"owner":{"account_id":1344409,"reputation":9495,"user_id":1285418,"display_name":"Pau Kiat Wee"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1339681833,"creation_date":1339681833,"answer_id":11034585,"question_id":11034322,"body_markdown":"You can use appropriate JPQL with [TypedQuery][1].\r\n  \r\n    try {\r\n        TypedQuery&lt;Bean&gt; tq = em.createQuery(&quot;from Bean WHERE column=?&quot;, Bean.class);\r\n        Bean result = tq.setParameter(1, &quot;uniqueKey&quot;).getSingleResult();\r\n    } catch(NoResultException noresult) {\r\n        // if there is no result\r\n    } catch(NonUniqueResultException notUnique) {\r\n        // if more than one result\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/TypedQuery.html","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You can use appropriate JPQL with <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/TypedQuery.html\">TypedQuery</a>.</p>\n\n<pre><code>try {\n    TypedQuery&lt;Bean&gt; tq = em.createQuery(\"from Bean WHERE column=?\", Bean.class);\n    Bean result = tq.setParameter(1, \"uniqueKey\").getSingleResult();\n} catch(NoResultException noresult) {\n    // if there is no result\n} catch(NonUniqueResultException notUnique) {\n    // if more than one result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1339683962,"creation_date":1339683962,"answer_id":11035213,"question_id":11034322,"body_markdown":"You can use a Query, either JPQL, Criteria, or SQL.\r\n\r\nNot sure if your concern is in obtaining cache hits similar to find().  In EclipseLink 2.4 cache indexes were added to allow you to index non-primary key fields and obtain cache hits from JPQL or Criteria.\r\n\r\nSee,\r\nhttp://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes\r\n\r\nPrior to 2.4 you could use in-memory queries to query the cache on non-id fields.","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You can use a Query, either JPQL, Criteria, or SQL.</p>\n\n<p>Not sure if your concern is in obtaining cache hits similar to find().  In EclipseLink 2.4 cache indexes were added to allow you to index non-primary key fields and obtain cache hits from JPQL or Criteria.</p>\n\n<p>See,\n<a href=\"http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes</a></p>\n\n<p>Prior to 2.4 you could use in-memory queries to query the cache on non-id fields.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341681,"creation_date":1668341681,"answer_id":74420832,"question_id":11034322,"body_markdown":"TL;DR\r\n\r\nWith in DSL level - [JPA][1] no practice mentioned in previous answers \r\n&gt; How do I find a value in a column that just have unique values and is not a primary key?\r\n\r\n\r\nThere isn&#39;t specification for query with custom field with in root interface of `javax.persistence.EntityManager`, you need to have [criteria][2] base query.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;R&gt; criteriaQuery = criteriaBuilder.createQuery(EntityType.class)\r\n    Root&lt;R&gt; root = criteriaQuery.from(type);\r\n    criteriaBuilder.and(criteriaBuilder.equal(root.get(your_field), value));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou can also group your predicates together and pass them all together.\r\n\r\n    andPredicates.add(criteriaBuilder.and(root.get(field).in(child)));\r\n    criteriaBuilder.and(andPredicates.toArray(new Predicate[]{});\r\nAnd calling result(rather single entity or a list of entities) with \r\n\r\n    entityManager.createQuery(suitable_criteria_query).getSingleResult();\r\n    entityManager.createQuery(suitable_criteria_query).getResultList();\r\n                               \r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/package-summary.html\r\n  [2]: https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>TL;DR</p>\n<p>With in DSL level - <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\">JPA</a> no practice mentioned in previous answers</p>\n<blockquote>\n<p>How do I find a value in a column that just have unique values and is not a primary key?</p>\n</blockquote>\n<p>There isn't specification for query with custom field with in root interface of <code>javax.persistence.EntityManager</code>, you need to have <a href=\"https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm\" rel=\"nofollow noreferrer\">criteria</a> base query.</p>\n<pre class=\"lang-html prettyprint-override\"><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;R&gt; criteriaQuery = criteriaBuilder.createQuery(EntityType.class)\nRoot&lt;R&gt; root = criteriaQuery.from(type);\ncriteriaBuilder.and(criteriaBuilder.equal(root.get(your_field), value));\n</code></pre>\n\n<p>You can also group your predicates together and pass them all together.</p>\n<pre><code>andPredicates.add(criteriaBuilder.and(root.get(field).in(child)));\ncriteriaBuilder.and(andPredicates.toArray(new Predicate[]{});\n</code></pre>\n<p>And calling result(rather single entity or a list of entities) with</p>\n<pre><code>entityManager.createQuery(suitable_criteria_query).getSingleResult();\nentityManager.createQuery(suitable_criteria_query).getResultList();\n                           \n</code></pre>\n"}],"owner":{"account_id":991364,"reputation":2697,"user_id":1008572,"accept_rate":73,"display_name":"Rox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25304,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11034480,"answer_count":4,"score":14,"last_activity_date":1668341681,"creation_date":1339681073,"question_id":11034322,"body_markdown":"You have the &lt;code&gt;EntityManager.find(Class&lt;T&gt; entityClass, Object primaryKey)&lt;/code&gt; method to find a specific row with a primary key. \r\n\r\nBut how do I find a value in a column that just have unique values and is not a primary key?","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You have the <code>EntityManager.find(Class entityClass, Object primaryKey)</code> method to find a specific row with a primary key. </p>\n\n<p>But how do I find a value in a column that just have unique values and is not a primary key?</p>\n"},{"tags":["java","file","methods","size"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668342575,"post_id":74420821,"comment_id":131377092,"body_markdown":"The method returns a result, where is it used / printed to console?","body":"The method returns a result, where is it used / printed to console?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668343004,"post_id":74420821,"comment_id":131377156,"body_markdown":"You use the name of the class it is  coded in, or if it is in scope you can simply call it with no reference to the class. This is better than answering your question  https://www.geeksforgeeks.org/static-method-in-java-with-examples/   and here&#39;s another for that problem  https://www.javatpoint.com/static-function-in-java   note you can pass non static arguments into a static method but not obtain them any other way.","body":"You use the name of the class it is  coded in, or if it is in scope you can simply call it with no reference to the class. This is better than answering your question  <a href=\"https://www.geeksforgeeks.org/static-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/static-method-in-java-with-examples</a>   and here&#39;s another for that problem  <a href=\"https://www.javatpoint.com/static-function-in-java\" rel=\"nofollow noreferrer\">javatpoint.com/static-function-in-java</a>   note you can pass non static arguments into a static method but not obtain them any other way."}],"owner":{"account_id":21843239,"reputation":1,"user_id":16136483,"display_name":"KATCHAW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668341583,"creation_date":1668341583,"question_id":74420821,"body_markdown":"I dont get why the value of diffSize is never used\r\n\r\n\r\nhere is my method:\r\n\r\n```\r\npublic static long diffSize(String File01, String File02){\r\n    //get path to first file\r\n    File file = new File(File01);\r\n    //get path to second file\r\n    File file2 = new File(File02);\r\n\r\n    //get size of first file\r\n    long bytes = file.length();\r\n    //get size of second file\r\n    long bytes2 = file2.length();\r\n\r\n    //get difference\r\n    return bytes-bytes2;\r\n}\r\n```\r\n\r\nhere is the line I used to call the method in my Main\r\n\r\n`extensions.diffSize(&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.png&quot;,&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.qoi&quot; );`\r\n\r\nand in the terminal nothing is returned\r\n","title":"Java compare size of files","body":"<p>I dont get why the value of diffSize is never used</p>\n<p>here is my method:</p>\n<pre><code>public static long diffSize(String File01, String File02){\n    //get path to first file\n    File file = new File(File01);\n    //get path to second file\n    File file2 = new File(File02);\n\n    //get size of first file\n    long bytes = file.length();\n    //get size of second file\n    long bytes2 = file2.length();\n\n    //get difference\n    return bytes-bytes2;\n}\n</code></pre>\n<p>here is the line I used to call the method in my Main</p>\n<p><code>extensions.diffSize(&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.png&quot;,&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.qoi&quot; );</code></p>\n<p>and in the terminal nothing is returned</p>\n"},{"tags":["java","xml","apache-poi","vml"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341460,"creation_date":1668341460,"answer_id":74420807,"question_id":74400379,"body_markdown":"You can use the `Java AWT Graphics` library to create the rectangle, then you can save the image to a temporary `Bitmap` or `JPEG` file.\r\n\r\nYou can insert the image into a Word-Document using this code:\r\n```java\r\nprivate void insertImage(final XWPFDocument document, final File image, final int width, final int height) {\r\n    final FileInputStream fileInputStream = new FileInputStream(image);\r\n    run.addBreak();\r\n    run.addPicture(fileInputStream, XWPFDocument.PICTURE_TYPE_JPEG, image, Units.toEMU(width), Units.toEMU(height));\r\n    fileInputStream.close();\r\n}\r\n```","title":"How to draw a rectangle in Word with Apache poi and fill it with colors?","body":"<p>You can use the <code>Java AWT Graphics</code> library to create the rectangle, then you can save the image to a temporary <code>Bitmap</code> or <code>JPEG</code> file.</p>\n<p>You can insert the image into a Word-Document using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void insertImage(final XWPFDocument document, final File image, final int width, final int height) {\n    final FileInputStream fileInputStream = new FileInputStream(image);\n    run.addBreak();\n    run.addPicture(fileInputStream, XWPFDocument.PICTURE_TYPE_JPEG, image, Units.toEMU(width), Units.toEMU(height));\n    fileInputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668341460,"creation_date":1668158621,"question_id":74400379,"body_markdown":"I need to create a Word document with the help of Apache poi and need to create a red bar at the top. I did not find any shape module or function in apache poi to draw a rectangle. I read somewhere that the shapes in the Word with the help of the Apche poi can be inserted with the help of the Vector markup language. How should I approach the problem?  \r\n\r\nI tried implementing few shapes in the following but I was not successful in doing the same as it is throwing error- \r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.xmlbeans.XmlException: error: The prefix &quot;w&quot; for element &quot;w:shape&quot; is not bound.\r\n\r\nString cTAbstractNumBulletXML =\r\n    &quot;&lt;v:shape type=\\&quot;#downArrow\\&quot; style=&#39;position: absolute; left: 77; top: 16; width: 64; height: 128&#39;/&gt;&quot;;\r\n\r\nCTNumbering cTNumbering = CTNumbering.Factory.parse(cTAbstractNumBulletXML);\r\n\r\nCTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\r\n\r\nXWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\nXWPFNumbering numbering = document.createNumbering();\r\nBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\nBigInteger numID = numbering.addNum(abstractNumID);\r\n\r\n//Create a blank paragraph\r\nXWPFParagraph paragraph = document.createParagraph();\r\nparagraph.setNumID(numID);\r\n\r\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;C:\\\\xx\\\\xxx&quot;\r\n                                                         + &quot;xxxx.docs&quot;);\r\ndocument.write(fileOutputStream);\r\nfileOutputStream.close();\r\n```\r\n\r\nI tried to draw shapes with the help of the VML. However, it is throwing error because it is not able to recognise the tags like v and w.\r\n","title":"How to draw a rectangle in Word with Apache poi and fill it with colors?","body":"<p>I need to create a Word document with the help of Apache poi and need to create a red bar at the top. I did not find any shape module or function in apache poi to draw a rectangle. I read somewhere that the shapes in the Word with the help of the Apche poi can be inserted with the help of the Vector markup language. How should I approach the problem?</p>\n<p>I tried implementing few shapes in the following but I was not successful in doing the same as it is throwing error-</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.xmlbeans.XmlException: error: The prefix &quot;w&quot; for element &quot;w:shape&quot; is not bound.\n\nString cTAbstractNumBulletXML =\n    &quot;&lt;v:shape type=\\&quot;#downArrow\\&quot; style='position: absolute; left: 77; top: 16; width: 64; height: 128'/&gt;&quot;;\n\nCTNumbering cTNumbering = CTNumbering.Factory.parse(cTAbstractNumBulletXML);\n\nCTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\n\nXWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\nXWPFNumbering numbering = document.createNumbering();\nBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\nBigInteger numID = numbering.addNum(abstractNumID);\n\n//Create a blank paragraph\nXWPFParagraph paragraph = document.createParagraph();\nparagraph.setNumID(numID);\n\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;C:\\\\xx\\\\xxx&quot;\n                                                         + &quot;xxxx.docs&quot;);\ndocument.write(fileOutputStream);\nfileOutputStream.close();\n</code></pre>\n<p>I tried to draw shapes with the help of the VML. However, it is throwing error because it is not able to recognise the tags like v and w.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341112,"creation_date":1668341112,"answer_id":74420763,"question_id":74367209,"body_markdown":"I&#39;m not sure about that code, I had a similar task but parsed the numbers myself... Here&#39;s the code, not sure if it&#39;s gonna help you though:\r\n\r\n```java\r\n\r\nprivate String getNumericValue(final String raw) {\r\n\tfinal double value = Double.parseDouble(raw);\r\n\tfinal String strValue = String.valueOf(new BigDecimal(value).setScale(1, RoundingMode.CEILING).doubleValue()).replace(&#39;.&#39;, &#39;,&#39;);\r\n\tif (strValue.endsWith(&quot;,0&quot;))\r\n\t\treturn strValue.substring(0, (strValue.length() - 2));\r\n\treturn strValue;\r\n}\r\n```","title":"How to make excel sheet with &quot;comma style&quot; cell in Apache POI?","body":"<p>I'm not sure about that code, I had a similar task but parsed the numbers myself... Here's the code, not sure if it's gonna help you though:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate String getNumericValue(final String raw) {\n    final double value = Double.parseDouble(raw);\n    final String strValue = String.valueOf(new BigDecimal(value).setScale(1, RoundingMode.CEILING).doubleValue()).replace('.', ',');\n    if (strValue.endsWith(&quot;,0&quot;))\n        return strValue.substring(0, (strValue.length() - 2));\n    return strValue;\n}\n</code></pre>\n"}],"owner":{"account_id":22515372,"reputation":21,"user_id":16709664,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668341112,"creation_date":1667941751,"question_id":74367209,"body_markdown":"My task is to format excel file to &quot;comma style&quot;.\r\nFor example I have value 0 or 0.00 in my cell, and I press &quot;,&quot; button in excel\r\n\r\n[![enter image description here](https://i.stack.imgur.com/c7Dgi.png)](https://i.stack.imgur.com/c7Dgi.png)\r\n\r\nas a result my value becomes &quot;-&quot;.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yyJdh.png)](https://i.stack.imgur.com/yyJdh.png)\r\n\r\nif I have value &quot;Hello&quot;\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6Zekc.png)](https://i.stack.imgur.com/6Zekc.png)\r\n\r\nafter pressing this button - value moves little bit right:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uXBYi.png)](https://i.stack.imgur.com/uXBYi.png)\r\n\r\nMy task is to emulate pressing this button in Apache poi, how can I do it?\r\n\r\n\r\n\r\n\r\nI have no idea how to do it!\r\nAll I could find is formatting below, but it doesn&#39;t work:\r\n\r\n\r\n    public class Test {\r\n    public static void main(String s[]) {\r\n        try{\r\n            FileOutputStream out = new FileOutputStream\r\n                    (&quot;dateFormat.xls&quot;);\r\n            HSSFWorkbook hssfworkbook = new HSSFWorkbook();\r\n            HSSFSheet sheet = hssfworkbook.createSheet\r\n                    (&quot;new sheet&quot;);\r\n            HSSFCellStyle cs = hssfworkbook.createCellStyle();\r\n            HSSFDataFormat df = hssfworkbook.\r\n                    createDataFormat();\r\n            cs.setDataFormat(df.getFormat(&quot;#,##0.0&quot;));\r\n            HSSFRow row = sheet.createRow((short)0);\r\n            HSSFCell cell = row.createCell((short)0);\r\n            cell.setCellValue(11111.0);\r\n            cell.setCellStyle(cs);\r\n\r\n            HSSFCell cell2 = row.createCell((short)1);\r\n            cell2.setCellValue(0);\r\n            cell2.setCellStyle(cs);\r\n\r\n            HSSFCell cell3 = row.createCell((short)2);\r\n            cell3.setCellValue(&quot;hello&quot;);\r\n            cell3.setCellStyle(cs);\r\n\r\n            hssfworkbook.write(out);\r\n            out.close();\r\n        }catch(Exception e){}\r\n    }\r\n    }\r\n\r\nAlso I have separate task - if value is 1.0 it should become 1, if you could help me with this formatting would be great!\r\n","title":"How to make excel sheet with &quot;comma style&quot; cell in Apache POI?","body":"<p>My task is to format excel file to &quot;comma style&quot;.\nFor example I have value 0 or 0.00 in my cell, and I press &quot;,&quot; button in excel</p>\n<p><a href=\"https://i.stack.imgur.com/c7Dgi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7Dgi.png\" alt=\"enter image description here\" /></a></p>\n<p>as a result my value becomes &quot;-&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/yyJdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyJdh.png\" alt=\"enter image description here\" /></a></p>\n<p>if I have value &quot;Hello&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/6Zekc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Zekc.png\" alt=\"enter image description here\" /></a></p>\n<p>after pressing this button - value moves little bit right:</p>\n<p><a href=\"https://i.stack.imgur.com/uXBYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXBYi.png\" alt=\"enter image description here\" /></a></p>\n<p>My task is to emulate pressing this button in Apache poi, how can I do it?</p>\n<p>I have no idea how to do it!\nAll I could find is formatting below, but it doesn't work:</p>\n<pre><code>public class Test {\npublic static void main(String s[]) {\n    try{\n        FileOutputStream out = new FileOutputStream\n                (&quot;dateFormat.xls&quot;);\n        HSSFWorkbook hssfworkbook = new HSSFWorkbook();\n        HSSFSheet sheet = hssfworkbook.createSheet\n                (&quot;new sheet&quot;);\n        HSSFCellStyle cs = hssfworkbook.createCellStyle();\n        HSSFDataFormat df = hssfworkbook.\n                createDataFormat();\n        cs.setDataFormat(df.getFormat(&quot;#,##0.0&quot;));\n        HSSFRow row = sheet.createRow((short)0);\n        HSSFCell cell = row.createCell((short)0);\n        cell.setCellValue(11111.0);\n        cell.setCellStyle(cs);\n\n        HSSFCell cell2 = row.createCell((short)1);\n        cell2.setCellValue(0);\n        cell2.setCellStyle(cs);\n\n        HSSFCell cell3 = row.createCell((short)2);\n        cell3.setCellValue(&quot;hello&quot;);\n        cell3.setCellStyle(cs);\n\n        hssfworkbook.write(out);\n        out.close();\n    }catch(Exception e){}\n}\n}\n</code></pre>\n<p>Also I have separate task - if value is 1.0 it should become 1, if you could help me with this formatting would be great!</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1367440443,"creation_date":1367440443,"answer_id":16326023,"question_id":16325606,"body_markdown":"There&#39;s quite a few ways to skin the cat here. It essentially all boils down to on which level you&#39;d like to apply the tenancy. \r\n\r\n# Basics\r\n\r\nThe basic approach is to bind some kind of key identifying the customer on a per-thread basis, so that you can find out about the customer the current thread of execution deals with. This is usually achieved by populating a `ThreadLocal` with some authentication related information as you can usually derive the tenant from the logged in user.\r\n\r\nNow if that&#39;s in place there&#39;s a few options of where to apply the tenant knowledge. Let me briefly outline the most common ones:\r\n\r\n# Multi-tenancy on the database level\r\n\r\nOne way to separate data for multiple clients is to have individual databases per tenant. Spring Data MongoDB&#39;s core abstraction for this is the `MongoDBFactory` interface. The easiest way here is to override `SimpleMongoDbFactory.getDb(String name)` and call the parent method with the database name e.g. enriched by the tenant prefix or the like.\r\n\r\n# Multi-tenancy on the collection level\r\n\r\nAnother option is to have tenant specific collections, e.g. through tenant pre- or postfixes. This mechanism can actually be leveraged by using the Spring Expression language (SpEl) in the `@Document` annotation&#39;s `collectionName` attribute. First, expose the tenant prefix through a Spring bean:\r\n\r\n     @Component(&quot;tenantProvider&quot;)\r\n     public class TenantProvider {\r\n       \r\n       public String getTenantId() {\r\n         // â€¦ implement ThreadLocal lookup here\r\n       }\r\n     }\r\n\r\nThen use SpEL in your domain types `@Document` mapping:\r\n\r\n     @Document(collectionName = &quot;#{tenantProvider.getTenantId()}_accounts&quot;\r\n     public class Account { â€¦ }\r\n\r\nSpEl allows you to refer to Spring beans by name and execute methods on them. `MongoTemplate` (and thus the repository abstraction transitively) will use the mapping metadata of the document class and the mapping subsystem will evaluate the `collectionName` attribute to find out about the collection to interact with.","title":"Making spring-data-mongodb multi-tenant","body":"<p>There's quite a few ways to skin the cat here. It essentially all boils down to on which level you'd like to apply the tenancy. </p>\n\n<h1>Basics</h1>\n\n<p>The basic approach is to bind some kind of key identifying the customer on a per-thread basis, so that you can find out about the customer the current thread of execution deals with. This is usually achieved by populating a <code>ThreadLocal</code> with some authentication related information as you can usually derive the tenant from the logged in user.</p>\n\n<p>Now if that's in place there's a few options of where to apply the tenant knowledge. Let me briefly outline the most common ones:</p>\n\n<h1>Multi-tenancy on the database level</h1>\n\n<p>One way to separate data for multiple clients is to have individual databases per tenant. Spring Data MongoDB's core abstraction for this is the <code>MongoDBFactory</code> interface. The easiest way here is to override <code>SimpleMongoDbFactory.getDb(String name)</code> and call the parent method with the database name e.g. enriched by the tenant prefix or the like.</p>\n\n<h1>Multi-tenancy on the collection level</h1>\n\n<p>Another option is to have tenant specific collections, e.g. through tenant pre- or postfixes. This mechanism can actually be leveraged by using the Spring Expression language (SpEl) in the <code>@Document</code> annotation's <code>collectionName</code> attribute. First, expose the tenant prefix through a Spring bean:</p>\n\n<pre><code> @Component(\"tenantProvider\")\n public class TenantProvider {\n\n   public String getTenantId() {\n     // â€¦ implement ThreadLocal lookup here\n   }\n }\n</code></pre>\n\n<p>Then use SpEL in your domain types <code>@Document</code> mapping:</p>\n\n<pre><code> @Document(collectionName = \"#{tenantProvider.getTenantId()}_accounts\"\n public class Account { â€¦ }\n</code></pre>\n\n<p>SpEl allows you to refer to Spring beans by name and execute methods on them. <code>MongoTemplate</code> (and thus the repository abstraction transitively) will use the mapping metadata of the document class and the mapping subsystem will evaluate the <code>collectionName</code> attribute to find out about the collection to interact with.</p>\n"},{"tags":[],"owner":{"account_id":1298254,"reputation":2903,"user_id":1248724,"accept_rate":67,"display_name":"Zarathustra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402663350,"creation_date":1402663350,"answer_id":24205593,"question_id":16325606,"body_markdown":"I had a similar approach to Oliver Gierke.\r\nAt least on database-level. https://github.com/Loki-Afro/multi-tenant-spring-mongodb\r\nYou should be able to do things like this:\r\n\r\n\r\n            MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(&quot;test&quot;);\r\n            this.personRepository.save(createPerson(&quot;Phillip&quot;, &quot;Wirth&quot;, ChronoUnit.YEARS.between(\r\n                    LocalDate.of(1992, Month.FEBRUARY, 3),\r\n                    LocalDate.now())));\r\n    \r\n            System.out.println(&quot;data from test: &quot; + this.personRepository.findAll());\r\n    //        okay? fine. - lets switch the database\r\n            MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(&quot;test666&quot;);\r\n    \r\n    //        should be empty\r\n            System.out.println(&quot;data from test666: &quot; + this.personRepository.findAll());","title":"Making spring-data-mongodb multi-tenant","body":"<p>I had a similar approach to Oliver Gierke.\nAt least on database-level. <a href=\"https://github.com/Loki-Afro/multi-tenant-spring-mongodb\" rel=\"nofollow\">https://github.com/Loki-Afro/multi-tenant-spring-mongodb</a>\nYou should be able to do things like this:</p>\n\n<pre><code>        MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(\"test\");\n        this.personRepository.save(createPerson(\"Phillip\", \"Wirth\", ChronoUnit.YEARS.between(\n                LocalDate.of(1992, Month.FEBRUARY, 3),\n                LocalDate.now())));\n\n        System.out.println(\"data from test: \" + this.personRepository.findAll());\n//        okay? fine. - lets switch the database\n        MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(\"test666\");\n\n//        should be empty\n        System.out.println(\"data from test666: \" + this.personRepository.findAll());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13947357,"reputation":31,"user_id":10071774,"display_name":"Jose Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599499077,"creation_date":1599499077,"answer_id":63781779,"question_id":16325606,"body_markdown":"for springboot 2.3.3 \r\n\r\noverriding doGetMongoDatabase helped to achieve multi tenancy\r\n\r\n    protected MongoDatabase doGetMongoDatabase(String dbName) {   \r\n    }\r\n\r\nhttps://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3","title":"Making spring-data-mongodb multi-tenant","body":"<p>for springboot 2.3.3</p>\n<p>overriding doGetMongoDatabase helped to achieve multi tenancy</p>\n<pre><code>protected MongoDatabase doGetMongoDatabase(String dbName) {   \n}\n</code></pre>\n<p><a href=\"https://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3\" rel=\"nofollow noreferrer\">https://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3</a></p>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609772700,"creation_date":1609772700,"answer_id":65564931,"question_id":16325606,"body_markdown":"Full featured multi-tenant/tenancy with Spring Boot + MongoDB + Spring MVC with shared/global database configuration.\r\n\r\nhttps://github.com/arun2pratap/multitenant-spring-mongodb \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/usCVB.jpg","title":"Making spring-data-mongodb multi-tenant","body":"<p>Full featured multi-tenant/tenancy with Spring Boot + MongoDB + Spring MVC with shared/global database configuration.</p>\n<p><a href=\"https://github.com/arun2pratap/multitenant-spring-mongodb\" rel=\"nofollow noreferrer\">https://github.com/arun2pratap/multitenant-spring-mongodb</a></p>\n<p><a href=\"https://i.stack.imgur.com/usCVB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usCVB.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1468378,"reputation":141,"user_id":1380593,"display_name":"nicolasvdb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12497,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1668340990,"creation_date":1367438768,"question_id":16325606,"body_markdown":"In a [post](https://stackoverflow.com/questions/12078669/spring-data-mongodb-connect-to-multiple-databases-in-one-mongo-instance) last august [sbzoom](https://stackoverflow.com/users/229178/sbzoom) proposed a solution to make spring-data-mongoDB multi-tenant:\r\n\r\n&quot;You have to make your own RepositoryFactoryBean. Here is the example from the [Spring Data MongoDB Reference Docs](http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories). You would still have to implement your own MongoTemplate and delay or remove the ensureIndexes() call. But you would have to rewrite a few classes to make sure your MongoTemplate is called instead of Spring&#39;s.&quot;\r\n\r\nDid anybody implement this or something equivalent?","title":"Making spring-data-mongodb multi-tenant","body":"<p>In a <a href=\"https://stackoverflow.com/questions/12078669/spring-data-mongodb-connect-to-multiple-databases-in-one-mongo-instance\">post</a> last august <a href=\"https://stackoverflow.com/users/229178/sbzoom\">sbzoom</a> proposed a solution to make spring-data-mongoDB multi-tenant:</p>\n\n<p>\"You have to make your own RepositoryFactoryBean. Here is the example from the <a href=\"http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"noreferrer\">Spring Data MongoDB Reference Docs</a>. You would still have to implement your own MongoTemplate and delay or remove the ensureIndexes() call. But you would have to rewrite a few classes to make sure your MongoTemplate is called instead of Spring's.\"</p>\n\n<p>Did anybody implement this or something equivalent?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-mvc","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1668111291,"post_id":74384059,"comment_id":131333502,"body_markdown":"What is the question exactly?","body":"What is the question exactly?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1668178125,"post_id":74384059,"comment_id":131349583,"body_markdown":"SonarQube shows lines 8 - 10 of the second code as not tested. I want a scenario where I can throw a RestClientException and assert it. @Knittl","body":"SonarQube shows lines 8 - 10 of the second code as not tested. I want a scenario where I can throw a RestClientException and assert it. @Knittl"}],"answers":[{"tags":[],"owner":{"account_id":19123769,"reputation":21,"user_id":13967151,"display_name":"madrile&#241;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668057102,"creation_date":1668057102,"answer_id":74384414,"question_id":74384059,"body_markdown":"If you are working with JUnit5, try replacing the last line with something like this:\r\n\r\n    assertThrows(RestClientException.class, () -&gt; idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto));\r\n\r\nIn JUnit4 the @Test annotation provides a parameter to specify an expected exception for the test.","title":"Generating RestClientException error in mockito unit test","body":"<p>If you are working with JUnit5, try replacing the last line with something like this:</p>\n<pre><code>assertThrows(RestClientException.class, () -&gt; idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto));\n</code></pre>\n<p>In JUnit4 the @Test annotation provides a parameter to specify an expected exception for the test.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668340947,"creation_date":1668340947,"answer_id":74420742,"question_id":74384059,"body_markdown":"You can make your mock throw an exception when the `exchange` method is called:\r\n\r\n```\r\ndoThrow(new RestClientException())\r\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), eq(String.class));\r\n```\r\n\r\nAnd then verify the new exception thrown in the catchblock with `assertThrows` or `assertThatCode(â€¦).hasMessageContaining(â€¦)`.","title":"Generating RestClientException error in mockito unit test","body":"<p>You can make your mock throw an exception when the <code>exchange</code> method is called:</p>\n<pre><code>doThrow(new RestClientException())\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), eq(String.class));\n</code></pre>\n<p>And then verify the new exception thrown in the catchblock with <code>assertThrows</code> or <code>assertThatCode(â€¦).hasMessageContaining(â€¦)</code>.</p>\n"}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420742,"answer_count":2,"score":0,"last_activity_date":1668340947,"creation_date":1668053748,"question_id":74384059,"body_markdown":"I am trying to validate a restclientexception error. My code is below and help would be appreciated. This is from my test class:`\r\n\r\n`\r\n```\r\n@Test\r\nvoid test_update_customer_in_ath0_server_error(){\r\n    //given\r\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.SERVICE_UNAVAILABLE);\r\n    doReturn(responseEntity)\r\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), (Class&lt;String&gt;)any());\r\n\r\n\r\n    idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto);\r\n\r\n    //then\r\n    verify(restTemplate).exchange(any(), eq(HttpMethod.PATCH), argThat(this::verifyUpdatedCustomerBody), (Class&lt;String&gt;)any());\r\n}\r\n\r\n```\r\n\r\n\r\nThis is from my injectMock class\r\n\r\n`\r\n```\r\ntry {\r\n    response = restTemplate.exchange(URI.create(idpFacadeUpdateUrl), HttpMethod.PATCH, entity,  String.class);\r\n    if (response.getStatusCode() == HttpStatus.OK) {\r\n        log.info(&quot;customer first name update success {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\r\n    }else {\r\n        log.error(&quot;Customer first name update failed in IDP for {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\r\n    }\r\n} catch (RestClientException e) {\r\n    throw new RestClientException(&quot;Idp facade API error for user first name &quot; + customerUpdateRecordsDto.getFirstName(), e);\r\n}\r\n```\r\n`","title":"Generating RestClientException error in mockito unit test","body":"<p>I am trying to validate a restclientexception error. My code is below and help would be appreciated. This is from my test class:`</p>\n<p>`</p>\n<pre><code>@Test\nvoid test_update_customer_in_ath0_server_error(){\n    //given\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.SERVICE_UNAVAILABLE);\n    doReturn(responseEntity)\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), (Class&lt;String&gt;)any());\n\n\n    idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto);\n\n    //then\n    verify(restTemplate).exchange(any(), eq(HttpMethod.PATCH), argThat(this::verifyUpdatedCustomerBody), (Class&lt;String&gt;)any());\n}\n\n</code></pre>\n<p>This is from my injectMock class</p>\n<p>`</p>\n<pre><code>try {\n    response = restTemplate.exchange(URI.create(idpFacadeUpdateUrl), HttpMethod.PATCH, entity,  String.class);\n    if (response.getStatusCode() == HttpStatus.OK) {\n        log.info(&quot;customer first name update success {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\n    }else {\n        log.error(&quot;Customer first name update failed in IDP for {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\n    }\n} catch (RestClientException e) {\n    throw new RestClientException(&quot;Idp facade API error for user first name &quot; + customerUpdateRecordsDto.getFirstName(), e);\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668340795,"creation_date":1668340795,"answer_id":74420723,"question_id":74368270,"body_markdown":"I got this working the other day!\r\n\r\nThe best way to make it bold is to make the format-indicator bold in the document itself.\r\n\r\nThe other way is to create a new `XWPFRun` and set it to `bold`. The text should be the value of the key. After that, you can just add all the fixed `XWPFRun`s into an `ArrayList` and re-insert them, after removing every run in the selected paragraph. You can then just remove the old-normal `XWPFRun` that contains the format-indicator.","title":"Making a string inside a sentence bold - Apache POI","body":"<p>I got this working the other day!</p>\n<p>The best way to make it bold is to make the format-indicator bold in the document itself.</p>\n<p>The other way is to create a new <code>XWPFRun</code> and set it to <code>bold</code>. The text should be the value of the key. After that, you can just add all the fixed <code>XWPFRun</code>s into an <code>ArrayList</code> and re-insert them, after removing every run in the selected paragraph. You can then just remove the old-normal <code>XWPFRun</code> that contains the format-indicator.</p>\n"}],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420723,"answer_count":1,"score":0,"last_activity_date":1668340795,"creation_date":1667949716,"question_id":74368270,"body_markdown":"How do I make a string bold while it&#39;s inside a sentence?\r\n\r\nI&#39;ve just started using Apache POI like 4 hours ago and wanted to:\r\n\r\n1. Locate different strings inside a Word-Document (.docx/XWPF)\r\n2. Replace the strings with the value of the map\r\n3. Make the value appear bold, if the string has a special flag.\r\n\r\nI tried to first approach this by iterating over the paragraph (not the Runs), but it didn&#39;t work. I&#39;ve got my current solution from this post right [here](https://stackoverflow.com/a/49765239/16028444).\r\n\r\nEverything is fine with the first two steps, now I want to make every value that contains a special flag (like `${key:bold}` or `${score:bold}`) bold. I&#39;ve tried to create a new `XWPFRun` that writes the bold string, it just won&#39;t work with the code underneath...\r\n\r\n`ParagraphFieldReplacer.java` (Currently working for step 1 and 2)\r\n```java\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.poi.ooxml.POIXMLException;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\r\n\r\npublic final class ParagraphFieldReplacer {\r\n\t\r\n\tpublic static void replace(final Student student, final XWPFDocument document, final Map&lt;String, FormatObject&gt; fields) {\r\n\t    final List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n\t    for (final XWPFParagraph paragraph : paragraphs)\r\n\t    \treplaceParagraph(student, paragraph, fields);\r\n\t}\r\n\t\r\n\tprivate static void replaceParagraph(final Student student, final XWPFParagraph paragraph, final Map&lt;String, FormatObject&gt; fields) throws POIXMLException {\r\n\t\tList&lt;XWPFRun&gt; runs;\r\n\t\tString paragraphtext;\r\n\t\tString runsText;\r\n\t\tXWPFRun nextRun;\r\n\t\tString target;\r\n\t    XWPFRun run;\r\n\t    for (final String key : fields.keySet()) {\r\n\t    \tparagraphtext = paragraph.getText();\r\n\t        if (!(paragraphtext.contains(&quot;${&quot;)))\r\n\t            return;\r\n\t        target = &quot;${&quot; + key + &quot;}&quot;;\r\n\t        if (!(paragraphtext.contains(target)))\r\n\t            continue;\r\n\t        runs = paragraph.getRuns();\r\n\t        for (int i = 0; i &lt; runs.size(); i++) {\r\n\t            run = runs.get(i);\r\n\t            runsText = run.getText(0);\r\n\t            if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\r\n\t                while (!(openTagCountIsEqualCloseTagCount(runsText))) {\r\n\t                    nextRun = runs.get(i + 1);\r\n\t                    runsText = runsText + nextRun.getText(0);\r\n\t                    paragraph.removeRun(i + 1);\r\n\t                }\r\n\t                if (!(runsText.contains(target)))\r\n\t                \trun.setText(runsText, 0);\r\n\t                else {\r\n\t                \tfinal FormatObject format = fields.get(key);\r\n\t                \tfinal String handle = format.handle(student);\r\n\t                \trun.setText(runsText.replace(target, handle), 0);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t}\r\n\t\r\n\tprivate static boolean openTagCountIsEqualCloseTagCount(final String runText) {\r\n\t    final int openTagCount = (runText.split(&quot;\\\\$\\\\{&quot;, -1).length - 1);\r\n\t    final int closeTagCount = (runText.split(&quot;}&quot;, -1).length - 1);\r\n\t    return (openTagCount == closeTagCount);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n`FormatObject.java`\r\n```java\r\npublic final class FormatObject {\r\n\t\r\n\tprivate boolean bold;\r\n\tprivate FormatHandler&lt;Student, String&gt; handler;\r\n\t\r\n\tpublic FormatObject(final FormatHandler&lt;Student, String&gt; handler, final boolean bold) {\r\n\t\tthis.handler= handler;\r\n\t\tthis.bold = bold;\r\n\t}\r\n\t\r\n\tpublic boolean isBold() {\r\n\t\treturn bold;\r\n\t}\r\n\t\r\n\tpublic String handle(final ZertifikationsStudent student) {\r\n\t\treturn handler.handle(student);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n`FormatHandler.java`\r\n```\r\n@FunctionalInterface\r\npublic interface FormatHandler&lt;P, R&gt; {\r\n\t\r\n\tpublic R handle(P p);\r\n\t\r\n}\r\n```\r\n\r\nThanks for reading/helping!","title":"Making a string inside a sentence bold - Apache POI","body":"<p>How do I make a string bold while it's inside a sentence?</p>\n<p>I've just started using Apache POI like 4 hours ago and wanted to:</p>\n<ol>\n<li>Locate different strings inside a Word-Document (.docx/XWPF)</li>\n<li>Replace the strings with the value of the map</li>\n<li>Make the value appear bold, if the string has a special flag.</li>\n</ol>\n<p>I tried to first approach this by iterating over the paragraph (not the Runs), but it didn't work. I've got my current solution from this post right <a href=\"https://stackoverflow.com/a/49765239/16028444\">here</a>.</p>\n<p>Everything is fine with the first two steps, now I want to make every value that contains a special flag (like <code>${key:bold}</code> or <code>${score:bold}</code>) bold. I've tried to create a new <code>XWPFRun</code> that writes the bold string, it just won't work with the code underneath...</p>\n<p><code>ParagraphFieldReplacer.java</code> (Currently working for step 1 and 2)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\n\nimport org.apache.poi.ooxml.POIXMLException;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\n\npublic final class ParagraphFieldReplacer {\n    \n    public static void replace(final Student student, final XWPFDocument document, final Map&lt;String, FormatObject&gt; fields) {\n        final List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n        for (final XWPFParagraph paragraph : paragraphs)\n            replaceParagraph(student, paragraph, fields);\n    }\n    \n    private static void replaceParagraph(final Student student, final XWPFParagraph paragraph, final Map&lt;String, FormatObject&gt; fields) throws POIXMLException {\n        List&lt;XWPFRun&gt; runs;\n        String paragraphtext;\n        String runsText;\n        XWPFRun nextRun;\n        String target;\n        XWPFRun run;\n        for (final String key : fields.keySet()) {\n            paragraphtext = paragraph.getText();\n            if (!(paragraphtext.contains(&quot;${&quot;)))\n                return;\n            target = &quot;${&quot; + key + &quot;}&quot;;\n            if (!(paragraphtext.contains(target)))\n                continue;\n            runs = paragraph.getRuns();\n            for (int i = 0; i &lt; runs.size(); i++) {\n                run = runs.get(i);\n                runsText = run.getText(0);\n                if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\n                    while (!(openTagCountIsEqualCloseTagCount(runsText))) {\n                        nextRun = runs.get(i + 1);\n                        runsText = runsText + nextRun.getText(0);\n                        paragraph.removeRun(i + 1);\n                    }\n                    if (!(runsText.contains(target)))\n                        run.setText(runsText, 0);\n                    else {\n                        final FormatObject format = fields.get(key);\n                        final String handle = format.handle(student);\n                        run.setText(runsText.replace(target, handle), 0);\n                    }\n                }\n            }\n        }\n    }\n    \n    private static boolean openTagCountIsEqualCloseTagCount(final String runText) {\n        final int openTagCount = (runText.split(&quot;\\\\$\\\\{&quot;, -1).length - 1);\n        final int closeTagCount = (runText.split(&quot;}&quot;, -1).length - 1);\n        return (openTagCount == closeTagCount);\n    }\n    \n}\n</code></pre>\n<p><code>FormatObject.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FormatObject {\n    \n    private boolean bold;\n    private FormatHandler&lt;Student, String&gt; handler;\n    \n    public FormatObject(final FormatHandler&lt;Student, String&gt; handler, final boolean bold) {\n        this.handler= handler;\n        this.bold = bold;\n    }\n    \n    public boolean isBold() {\n        return bold;\n    }\n    \n    public String handle(final ZertifikationsStudent student) {\n        return handler.handle(student);\n    }\n    \n}\n\n</code></pre>\n<p><code>FormatHandler.java</code></p>\n<pre><code>@FunctionalInterface\npublic interface FormatHandler&lt;P, R&gt; {\n    \n    public R handle(P p);\n    \n}\n</code></pre>\n<p>Thanks for reading/helping!</p>\n"},{"tags":["java","spring","database","h2"],"comments":[{"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"score":0,"creation_date":1647332075,"post_id":71472558,"comment_id":126338102,"body_markdown":"problem is in my spring security,but idk why security damaged my h2console","body":"problem is in my spring security,but idk why security damaged my h2console"}],"answers":[{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647534604,"creation_date":1647534604,"answer_id":71515888,"question_id":71472558,"body_markdown":"By default, spring-security will protect each and every end-point - So, for /error you need to manually configure like the following - \r\n\r\n    @EnableWebSecurity\r\n    public class AppSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t    @Override\r\n    \tpublic void configure(HttpSecurity auth) {\r\n\t\t    auth.csrf().disable()\r\n\t\t\t    .authorizeRequests()\r\n\t\t\t    .antMatchers(&quot;/error/**&quot;).permitAll() // permit-all for /error  page\r\n\t\t\t    .anyRequest().authenticated();\r\n\t    }\r\n    }","title":"My h2 working, but i cant connect inside of h2-console","body":"<p>By default, spring-security will protect each and every end-point - So, for /error you need to manually configure like the following -</p>\n<pre><code>@EnableWebSecurity\npublic class AppSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity auth) {\n        auth.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/error/**&quot;).permitAll() // permit-all for /error  page\n            .anyRequest().authenticated();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2845562,"reputation":89,"user_id":2444066,"accept_rate":50,"display_name":"MichaÅ‚ GÄ…tkowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668340684,"creation_date":1668186229,"answer_id":74405894,"question_id":71472558,"body_markdown":"For future reference:\r\n\r\nIn Spring Boot 3.0 / Spring Security 6.0 `http.antMatcher()` is not longer available and was replaced with `http.securityMatcher()`.\r\n\r\nSo Subham&#39;s answer would look like that: \r\n```Java\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\r\n                .csrf().disable()\r\n                .securityMatcher(&quot;/error/**&quot;)\r\n                .httpBasic(withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```","title":"My h2 working, but i cant connect inside of h2-console","body":"<p>For future reference:</p>\n<p>In Spring Boot 3.0 / Spring Security 6.0 <code>http.antMatcher()</code> is not longer available and was replaced with <code>http.securityMatcher()</code>.</p>\n<p>So Subham's answer would look like that:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\n                .csrf().disable()\n                .securityMatcher(&quot;/error/**&quot;)\n                .httpBasic(withDefaults());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668340684,"creation_date":1647282503,"question_id":71472558,"body_markdown":"**Yoo coder**, have one issue with **h2-console**.When i created some entitys on start,my h2 worked and i could open my h2-console and saw there tables ,but after some time i want connect again and doesn&#39;t work now.Meanwhile i added some lines and classes,but idk why doesn&#39;t work my h2-console,cause i don&#39;t touch application properties.\r\nAfter lick on conect or testconect i got this ***error*** \r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    Mon Mar 14 19:12:33 CET 2022\r\n    There was an unexpected error (type=Forbidden, status=403).\r\n\r\nMy github project: https://github.com/Wynnyy/bookingdoctor-project.git\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nlogs\r\n\r\n    2022-03-14 19:12:16.222  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Starting BookingdoctorApplication using Java 17.0.2 on DESKTOP-K3O8I67 with PID 23108 (C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\bookingdoctor\\target\\classes started by Wynny in C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\bookingdoctor)\r\n    2022-03-14 19:12:16.224  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-03-14 19:12:16.928  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-03-14 19:12:16.986  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.\r\n    2022-03-14 19:12:17.670  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-03-14 19:12:17.682  INFO 23108 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-03-14 19:12:17.682  INFO 23108 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\r\n    2022-03-14 19:12:17.780  INFO 23108 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-03-14 19:12:17.780  INFO 23108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms\r\n    2022-03-14 19:12:17.829  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-03-14 19:12:18.068  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-03-14 19:12:18.080  INFO 23108 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:wynny&#39;\r\n    2022-03-14 19:12:18.277  INFO 23108 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-03-14 19:12:18.331  INFO 23108 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n    2022-03-14 19:12:18.497  INFO 23108 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-03-14 19:12:18.627  INFO 23108 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    2022-03-14 19:12:19.225  INFO 23108 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-03-14 19:12:19.232  INFO 23108 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-03-14 19:12:19.540  WARN 23108 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-03-14 19:12:19.708  INFO 23108 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request\r\n    2022-03-14 19:12:20.112  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-03-14 19:12:20.211  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Started BookingdoctorApplication in 4.362 seconds (JVM running for 4.745)\r\n    2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-03-14 19:12:24.417  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIshD.png","title":"My h2 working, but i cant connect inside of h2-console","body":"<p><strong>Yoo coder</strong>, have one issue with <strong>h2-console</strong>.When i created some entitys on start,my h2 worked and i could open my h2-console and saw there tables ,but after some time i want connect again and doesn't work now.Meanwhile i added some lines and classes,but idk why doesn't work my h2-console,cause i don't touch application properties.\nAfter lick on conect or testconect i got this <em><strong>error</strong></em></p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Mar 14 19:12:33 CET 2022\nThere was an unexpected error (type=Forbidden, status=403).\n</code></pre>\n<p>My github project: <a href=\"https://github.com/Wynnyy/bookingdoctor-project.git\" rel=\"nofollow noreferrer\">https://github.com/Wynnyy/bookingdoctor-project.git</a></p>\n<p><a href=\"https://i.stack.imgur.com/qIshD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIshD.png\" alt=\"enter image description here\" /></a></p>\n<p>logs</p>\n<pre><code>2022-03-14 19:12:16.222  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Starting BookingdoctorApplication using Java 17.0.2 on DESKTOP-K3O8I67 with PID 23108 (C:\\Users\\Patrik SeverÃ­n\\IdeaProjects\\bookingdoctor\\target\\classes started by Wynny in C:\\Users\\Patrik SeverÃ­n\\IdeaProjects\\bookingdoctor)\n2022-03-14 19:12:16.224  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-14 19:12:16.928  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-14 19:12:16.986  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.\n2022-03-14 19:12:17.670  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-03-14 19:12:17.682  INFO 23108 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-03-14 19:12:17.682  INFO 23108 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\n2022-03-14 19:12:17.780  INFO 23108 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-03-14 19:12:17.780  INFO 23108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms\n2022-03-14 19:12:17.829  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-14 19:12:18.068  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-03-14 19:12:18.080  INFO 23108 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:wynny'\n2022-03-14 19:12:18.277  INFO 23108 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-03-14 19:12:18.331  INFO 23108 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-03-14 19:12:18.497  INFO 23108 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-03-14 19:12:18.627  INFO 23108 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-03-14 19:12:19.225  INFO 23108 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-14 19:12:19.232  INFO 23108 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-03-14 19:12:19.540  WARN 23108 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-03-14 19:12:19.708  INFO 23108 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request\n2022-03-14 19:12:20.112  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-03-14 19:12:20.211  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Started BookingdoctorApplication in 4.362 seconds (JVM running for 4.745)\n2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-03-14 19:12:24.417  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n</code></pre>\n"},{"tags":["java","junit","mockito","jersey"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668161547,"post_id":74400898,"comment_id":131343644,"body_markdown":"How  `ClassB` looks like?","body":"How  <code>ClassB</code> looks like?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668161589,"post_id":74400898,"comment_id":131343658,"body_markdown":"In class A, you dare calling a `static` method to get your instance of ClassB, so `InjectMocks` wonâ€™t help you with that.  What you want to do instead is described here : https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito","body":"In class A, you dare calling a <code>static</code> method to get your instance of ClassB, so <code>InjectMocks</code> wonâ€™t help you with that.  What you want to do instead is described here : <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>"},{"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"score":0,"creation_date":1668161802,"post_id":74400898,"comment_id":131343748,"body_markdown":"Oh okay. So I should use powerMockito for this?","body":"Oh okay. So I should use powerMockito for this?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668163048,"post_id":74400898,"comment_id":131344168,"body_markdown":"No, powermockito is old - mockito has been extended to mock static methods, as described in that answer, or here for more details : https://www.baeldung.com/mockito-mock-static-methods","body":"No, powermockito is old - mockito has been extended to mock static methods, as described in that answer, or here for more details : <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/mockito-mock-static-methods</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668163572,"post_id":74400898,"comment_id":131344340,"body_markdown":"Instead of â€œoldâ€, rather PowerMockito has issues with Junit5.  Best to stick with pure Mockito where possible (including the mocking of static methods)","body":"Instead of â€œoldâ€, rather PowerMockito has issues with Junit5.  Best to stick with pure Mockito where possible (including the mocking of static methods)"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1668184405,"post_id":74400898,"comment_id":131351778,"body_markdown":"Consider making your class more test-friendly. Instead of reaching for the singleton instance of ClassB, you could store it as a field - preferably initialized in a constructor","body":"Consider making your class more test-friendly. Instead of reaching for the singleton instance of ClassB, you could store it as a field - preferably initialized in a constructor"}],"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668340519,"creation_date":1668161352,"question_id":74400898,"body_markdown":"I&#39;m very new to writing unit tests for java. I want to write a test for method1:\r\n\r\n    public ClassA {\r\n       public String method1() {\r\n          ClassB classInst = ClassB.getInstance()\r\n          return classInst.doSomething()\r\n       }\r\n    }\r\nHere, doSomething in classB connects to some databases and does an operation. This is my test class:\r\n\r\n    public TestClassA {\r\n       @Mock\r\n       private ClassB classBInst = mock(ClassB.class)\r\n\r\n       @InjectMocks\r\n       private ClassA classAInst = new ClassA()\r\n\r\n       @Before\r\n       public void setup() {\r\n          when(classInst.isClientEnabled()).thenReturn(&quot;ReturnStr&quot;);\r\n       }\r\n\r\n       @Test\r\n       public void testMethod1() {\r\n          String result = classAInst.method1();\r\n          assertEquals(result, &quot;ReturnStr&quot;)\r\n       }\r\n\r\n    }\r\nBut the assert is failing because ClassB.doSomething() is not returning the mocked return value. Am I doing something wrong here? What is the correct way to mock classB here? I am using junit4 and mockito here\r\n\r\n\r\n\r\n","title":"Unable to inject mocks for my jersey project","body":"<p>I'm very new to writing unit tests for java. I want to write a test for method1:</p>\n<pre><code>public ClassA {\n   public String method1() {\n      ClassB classInst = ClassB.getInstance()\n      return classInst.doSomething()\n   }\n}\n</code></pre>\n<p>Here, doSomething in classB connects to some databases and does an operation. This is my test class:</p>\n<pre><code>public TestClassA {\n   @Mock\n   private ClassB classBInst = mock(ClassB.class)\n\n   @InjectMocks\n   private ClassA classAInst = new ClassA()\n\n   @Before\n   public void setup() {\n      when(classInst.isClientEnabled()).thenReturn(&quot;ReturnStr&quot;);\n   }\n\n   @Test\n   public void testMethod1() {\n      String result = classAInst.method1();\n      assertEquals(result, &quot;ReturnStr&quot;)\n   }\n\n}\n</code></pre>\n<p>But the assert is failing because ClassB.doSomething() is not returning the mocked return value. Am I doing something wrong here? What is the correct way to mock classB here? I am using junit4 and mockito here</p>\n"},{"tags":["java","mysql","eclipse","jdbc"],"comments":[{"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"score":0,"creation_date":1668263806,"post_id":74413554,"comment_id":131365432,"body_markdown":"hmm i didn&#39;t found the .Connection from `com.mysql.cj.jdbc`","body":"hmm i didn&#39;t found the .Connection from <code>com.mysql.cj.jdbc</code>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1668264119,"post_id":74413554,"comment_id":131365494,"body_markdown":"Were you intending to use Java Modules?","body":"Were you intending to use Java Modules?"},{"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"score":0,"creation_date":1668264310,"post_id":74413554,"comment_id":131365527,"body_markdown":"yes I want to use the .Connection class from .com.mysql.jdbc jar file","body":"yes I want to use the .Connection class from .com.mysql.jdbc jar file"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668340226,"post_id":74413554,"comment_id":131376662,"body_markdown":"MySQL Connector/J 8.0.x doesn&#39;t have a `com.mysql.jdbc.Connection` class, but even with MySQL Connector/J 5.1.x (which does have it) you shouldn&#39;t normally have imported that class. Import `java.sql.Connection` instead.","body":"MySQL Connector/J 8.0.x doesn&#39;t have a <code>com.mysql.jdbc.Connection</code> class, but even with MySQL Connector/J 5.1.x (which does have it) you shouldn&#39;t normally have imported that class. Import <code>java.sql.Connection</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668268875,"creation_date":1668268875,"answer_id":74414461,"question_id":74413554,"body_markdown":"Your referenced library looks correct but you have imported a wrong class. You should import `java.sql.Connection` instead of `com.mysql.jdbc.Connection`.\r\n\r\nSome other important imports are as follows:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n\r\nThere are hundreds of good tutorials (e.g. [this](https://www.vogella.com/tutorials/MySQLJava/article.html)) available on the internet.","title":"The import com.mysql.jdbc.Connection cannot be resolved","body":"<p>Your referenced library looks correct but you have imported a wrong class. You should import <code>java.sql.Connection</code> instead of <code>com.mysql.jdbc.Connection</code>.</p>\n<p>Some other important imports are as follows:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n</code></pre>\n<p>There are hundreds of good tutorials (e.g. <a href=\"https://www.vogella.com/tutorials/MySQLJava/article.html\" rel=\"nofollow noreferrer\">this</a>) available on the internet.</p>\n"}],"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74414461,"answer_count":1,"score":0,"last_activity_date":1668340305,"creation_date":1668261556,"question_id":74413554,"body_markdown":"How to solve this problem? I have downloaded and imported the &quot;mysql-connector-java&quot; to my build-path project, but still issue. It seems the library doesn&#39;t have the Connection class?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/105xR.png\r\n  [2]: https://i.stack.imgur.com/2aHQb.png\r\n  [3]: https://i.stack.imgur.com/ragzb.png","title":"The import com.mysql.jdbc.Connection cannot be resolved","body":"<p>How to solve this problem? I have downloaded and imported the &quot;mysql-connector-java&quot; to my build-path project, but still issue. It seems the library doesn't have the Connection class?</p>\n<p><a href=\"https://i.stack.imgur.com/105xR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/105xR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2aHQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2aHQb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ragzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ragzb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jenkins","sonarqube","code-coverage"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668335989,"post_id":74417454,"comment_id":131375996,"body_markdown":"The definition of jacoco-maven-plugin as dependency is simply wrong nor needed.","body":"The definition of jacoco-maven-plugin as dependency is simply wrong nor needed."},{"owner":{"account_id":20669887,"reputation":137,"user_id":15175890,"display_name":"Compte Gmail"},"score":0,"creation_date":1668340233,"post_id":74417454,"comment_id":131376664,"body_markdown":"@khmarbaise hey , I just removed the dependency, I just update my full code in the question. Have a look at it again ,  I feel that I may be missing something.","body":"@khmarbaise hey , I just removed the dependency, I just update my full code in the question. Have a look at it again ,  I feel that I may be missing something."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1668405802,"post_id":74417454,"comment_id":131388442,"body_markdown":"Refer to [this answer](https://stackoverflow.com/a/68160007/598141","body":"Refer to [this answer](<a href=\"https://stackoverflow.com/a/68160007/598141\">stackoverflow.com/a/68160007/598141</a>"}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668324051,"creation_date":1668324051,"answer_id":74419157,"question_id":74417454,"body_markdown":"I hope it&#39;s clear that the jacoco and surefire plugins have to agree on where to find the data file, and what its name is. They do not, which is why this isn&#39;t working.\r\n\r\nIn addition, for recent plugin versions, you should probably use the xml format of the data file, not the binary version. In your current configuration, not only do they not agree on the location, one plugin is specifying the binary format, and the other the xml format.\r\n\r\nI suggest you have property settings like the following:\r\n\r\n\t&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n\t&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n\r\nIn the Jacoco plugin, make sure you have this:\r\n\r\n\t&lt;execution&gt;\r\n\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n\r\nThe Surefire plugin needs this in the &quot;configuration&quot; block:\r\n\r\n    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n","title":"Code Coverage precentage is 0% in Sonarqube","body":"<p>I hope it's clear that the jacoco and surefire plugins have to agree on where to find the data file, and what its name is. They do not, which is why this isn't working.</p>\n<p>In addition, for recent plugin versions, you should probably use the xml format of the data file, not the binary version. In your current configuration, not only do they not agree on the location, one plugin is specifying the binary format, and the other the xml format.</p>\n<p>I suggest you have property settings like the following:</p>\n<pre><code>&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n</code></pre>\n<p>In the Jacoco plugin, make sure you have this:</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;post-unit-test&lt;/id&gt;\n    &lt;phase&gt;test&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>The Surefire plugin needs this in the &quot;configuration&quot; block:</p>\n<pre><code>&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n</code></pre>\n"}],"owner":{"account_id":20669887,"reputation":137,"user_id":15175890,"display_name":"Compte Gmail"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4100,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668340161,"creation_date":1668297369,"question_id":74417454,"body_markdown":"I developed some JUnit tests using Jenkins pipeline for a Spring Boot App and and the Coverage percentage on SonarQube is still 0% (I believe this could be an issue from my script or my pom.xml)\r\n\r\nPlugins installed On jenkins: Sonargraph + Sonarqube + Code Coverage API + Jacoco Plugin\r\nThis is the warning I get\r\n```\r\n[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] --- jacoco-maven-plugin:0.8.6:report (report) @ achat ---\r\n[INFO] Skipping JaCoCo execution due to missing execution data file.\r\n[INFO] BUILD SUCCESS\r\n```\r\n\r\nHere is my Jenkins script stage for Sonar declaration:\r\n```\r\nsh &#39;  mvn sonar:sonar -Dsonar.sources=src/main/java -Dsonar.css.node=. \r\n-Dsonar.java.binaries=. -Dsonar.host.url=http://192.168.2.2:9000/ \r\n-Dsonar.login=admin   -Dsonar.password=sonar -Dsonar.jacoco.reportPath=build/reports/jacoco.xml&#39;\r\n```\r\n\r\nHere is my Test stage in jenkins:\r\n```\r\nsh &#39;  mvn test&#39;\r\njacoco execPattern: &#39;target/jacoco.exec&#39;\r\n```\r\n\r\nPropreties in pom.xml\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n\t\t&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n\t\t\r\n\t&lt;/properties&gt;\r\n\r\n```\r\nPlugin in pom.xml\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n   \t\t\t\t\t\t &lt;id&gt;post-unit-test&lt;/id&gt;\r\n  \t\t\t\t\t\t  &lt;phase&gt;test&lt;/phase&gt;\r\n \t\t\t\t\t\t   &lt;goals&gt;\r\n \t\t\t\t\t       &lt;goal&gt;report&lt;/goal&gt;\r\n \t\t\t\t\t   &lt;/goals&gt;\r\n \t\t\t\t\t   &lt;configuration&gt;\r\n  \t\t\t\t      &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\r\n \t\t\t\t   &lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n\t\t\t\t\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t\t\t\t\t&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"Code Coverage precentage is 0% in Sonarqube","body":"<p>I developed some JUnit tests using Jenkins pipeline for a Spring Boot App and and the Coverage percentage on SonarQube is still 0% (I believe this could be an issue from my script or my pom.xml)</p>\n<p>Plugins installed On jenkins: Sonargraph + Sonarqube + Code Coverage API + Jacoco Plugin\nThis is the warning I get</p>\n<pre><code>[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0\n[INFO] --- jacoco-maven-plugin:0.8.6:report (report) @ achat ---\n[INFO] Skipping JaCoCo execution due to missing execution data file.\n[INFO] BUILD SUCCESS\n</code></pre>\n<p>Here is my Jenkins script stage for Sonar declaration:</p>\n<pre><code>sh '  mvn sonar:sonar -Dsonar.sources=src/main/java -Dsonar.css.node=. \n-Dsonar.java.binaries=. -Dsonar.host.url=http://192.168.2.2:9000/ \n-Dsonar.login=admin   -Dsonar.password=sonar -Dsonar.jacoco.reportPath=build/reports/jacoco.xml'\n</code></pre>\n<p>Here is my Test stage in jenkins:</p>\n<pre><code>sh '  mvn test'\njacoco execPattern: 'target/jacoco.exec'\n</code></pre>\n<p>Propreties in pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n        \n    &lt;/properties&gt;\n\n</code></pre>\n<p>Plugin in pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.6&lt;/version&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                         &lt;id&gt;post-unit-test&lt;/id&gt;\n                          &lt;phase&gt;test&lt;/phase&gt;\n                           &lt;goals&gt;\n                           &lt;goal&gt;report&lt;/goal&gt;\n                       &lt;/goals&gt;\n                       &lt;configuration&gt;\n                      &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\n                   &lt;/configuration&gt;\n                &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                            &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668283530,"post_id":74416155,"comment_id":131369461,"body_markdown":"That should work, but note that it&#39;s a hidden &lt;input&gt; field, so you can&#39;t just see it. Also, this code is a giant security leak.","body":"That should work, but note that it&#39;s a hidden &lt;input&gt; field, so you can&#39;t just see it. Also, this code is a giant security leak."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1668283543,"post_id":74416155,"comment_id":131369463,"body_markdown":"`&lt;%=` if you want to get the value of the expression.","body":"<code>&lt;%=</code> if you want to get the value of the expression."},{"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"score":0,"creation_date":1668364643,"post_id":74416155,"comment_id":131381908,"body_markdown":"@FedericoklezCulloca you just saved me so much time man, thank you so so much!!","body":"@FedericoklezCulloca you just saved me so much time man, thank you so so much!!"}],"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668340007,"creation_date":1668283306,"question_id":74416155,"body_markdown":"I am playing around with creating a login/registration page using Eclipse, JDBC, and MySQL. I am following an online tutorial and have been making good progress but I am stuck on one portion. The video states to use the code \r\n\r\n`&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;) %&gt;&quot;&gt;`\r\n\r\nBut I get a syntax error message that says to use ;. I instead have done \r\n\r\n`&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;); %&gt;&quot;&gt;`\r\n\r\nAnd although I am not getting any syntax errors, the code is not properly running. Could anyone please shed some insight? The video is from the beginning of 2022 so perhaps some stuff has been updated.","title":"Syntax Issues When Creating a Login Page with Eclipse, JDBC, and MySQL","body":"<p>I am playing around with creating a login/registration page using Eclipse, JDBC, and MySQL. I am following an online tutorial and have been making good progress but I am stuck on one portion. The video states to use the code</p>\n<p><code>&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;) %&gt;&quot;&gt;</code></p>\n<p>But I get a syntax error message that says to use ;. I instead have done</p>\n<p><code>&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;); %&gt;&quot;&gt;</code></p>\n<p>And although I am not getting any syntax errors, the code is not properly running. Could anyone please shed some insight? The video is from the beginning of 2022 so perhaps some stuff has been updated.</p>\n"},{"tags":["java","mysql","unit-testing","jdbc","junit"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668339900,"post_id":74420212,"comment_id":131376603,"body_markdown":"Use something like testcontainers-java for your unit tests. Are you by any chance using MyISAM tables? Also, please provide a [mre]. The code shown doesn&#39;t actually **insert** anything. Also, please learn how to use prepared statements. Your current code is vulnerable to SQL injection.","body":"Use something like testcontainers-java for your unit tests. Are you by any chance using MyISAM tables? Also, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code shown doesn&#39;t actually <b>insert</b> anything. Also, please learn how to use prepared statements. Your current code is vulnerable to SQL injection."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668340443,"post_id":74420212,"comment_id":131376718,"body_markdown":"You rollback the transaction on a particular connection. Perhaps `memberControl` doesn&#39;t use that connection, or `addMember` commits.","body":"You rollback the transaction on a particular connection. Perhaps <code>memberControl</code> doesn&#39;t use that connection, or <code>addMember</code> commits."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668340505,"post_id":74420212,"comment_id":131376735,"body_markdown":"&quot;I can see the member being added to db&quot; What does this mean?","body":"&quot;I can see the member being added to db&quot; What does this mean?"},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668351389,"post_id":74420212,"comment_id":131378934,"body_markdown":"@MarkRotteveel sorry for not giving enough clarity, I&#39;m inserting the data in addMember method by passing an object. and thank you for your clarification. I&#39;ll look into prepared statements and testContainers.","body":"@MarkRotteveel sorry for not giving enough clarity, I&#39;m inserting the data in addMember method by passing an object. and thank you for your clarification. I&#39;ll look into prepared statements and testContainers."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668351469,"post_id":74420212,"comment_id":131378960,"body_markdown":"@Danjr You don&#39;t **show** what that method does. Likely it creates its own connection and commits the data.","body":"@Danjr You don&#39;t <b>show</b> what that method does. Likely it creates its own connection and commits the data."},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668351539,"post_id":74420212,"comment_id":131378977,"body_markdown":"@tgdavies while testing i&#39;m parallelly looking into database as well so I can see the member data I use for testing is getting added in that table in spite of rollback.","body":"@tgdavies while testing i&#39;m parallelly looking into database as well so I can see the member data I use for testing is getting added in that table in spite of rollback."},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668354457,"post_id":74420212,"comment_id":131379641,"body_markdown":"@MarkRotteveel yeah","body":"@MarkRotteveel yeah"}],"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668339817,"creation_date":1668336207,"question_id":74420212,"body_markdown":"I have rolled back the changes made in a database, but the changes are being made in the database. Since it;s a unit test I can&#39;t have the data being tested inserted in the database.\r\n\r\nI tried to add a member in db and got that member through his id by result set, but the member is being added in the db. I gave rollback to stop the changes made in db, but it&#39;s not working, I can see the member being added to db. Any solution?\r\n\r\n```\r\n@Test public void TestAddMember() { Member member = new Member();   \r\n    try ( Connection connect = BookControl_jdbc.connection()) {\r\n        try ( Statement stcheck = connect.createStatement()) {\r\n            connect.setAutoCommit(false);\r\n            //input parameters\r\n            String name = &quot;lia&quot;;\r\n            int age = 20;\r\n            String gender = &quot;F&quot;;\r\n            String status = &quot;ACTIVE&quot;;\r\n            member.setAge(age);\r\n            member.setGender(gender);\r\n# member.setName(name);\r\n            member.setStatus(status);\r\n\r\n            memberControl.addMember(member);\r\n            memberControl.viewMembers();\r\n            int memberId;\r\n     \r\n            String singleMemberQuery = &quot;SELECT Member_id,Member_name,Age,Gender, Member_Status FROM Member WHERE Member_name=&#39;&quot; + member.getName() + &quot;&#39;;&quot;;\r\n            ResultSet rs = MemberControlDao_jdbc.getStmtResultSet(singleMemberQuery);\r\n            assertTrue(rs.next());\r\n            memberId = rs.getInt(&quot;Member_id&quot;);\r\n            assertEquals(name, rs.getString(&quot;Member_name&quot;));\r\n            assertEquals(age, rs.getInt(&quot;Age&quot;));\r\n            assertEquals(gender, rs.getString(&quot;Gender&quot;));\r\n            assertEquals(status, rs.getString(&quot;Member_Status&quot;));\r\n            \r\n        } finally {\r\n            connect.rollback();\r\n        }\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"rollback not working in unit test junit 5","body":"<p>I have rolled back the changes made in a database, but the changes are being made in the database. Since it;s a unit test I can't have the data being tested inserted in the database.</p>\n<p>I tried to add a member in db and got that member through his id by result set, but the member is being added in the db. I gave rollback to stop the changes made in db, but it's not working, I can see the member being added to db. Any solution?</p>\n<pre><code>@Test public void TestAddMember() { Member member = new Member();   \n    try ( Connection connect = BookControl_jdbc.connection()) {\n        try ( Statement stcheck = connect.createStatement()) {\n            connect.setAutoCommit(false);\n            //input parameters\n            String name = &quot;lia&quot;;\n            int age = 20;\n            String gender = &quot;F&quot;;\n            String status = &quot;ACTIVE&quot;;\n            member.setAge(age);\n            member.setGender(gender);\n# member.setName(name);\n            member.setStatus(status);\n\n            memberControl.addMember(member);\n            memberControl.viewMembers();\n            int memberId;\n     \n            String singleMemberQuery = &quot;SELECT Member_id,Member_name,Age,Gender, Member_Status FROM Member WHERE Member_name='&quot; + member.getName() + &quot;';&quot;;\n            ResultSet rs = MemberControlDao_jdbc.getStmtResultSet(singleMemberQuery);\n            assertTrue(rs.next());\n            memberId = rs.getInt(&quot;Member_id&quot;);\n            assertEquals(name, rs.getString(&quot;Member_name&quot;));\n            assertEquals(age, rs.getInt(&quot;Age&quot;));\n            assertEquals(gender, rs.getString(&quot;Gender&quot;));\n            assertEquals(status, rs.getString(&quot;Member_Status&quot;));\n            \n        } finally {\n            connect.rollback();\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","listener"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1339251530,"post_id":10961714,"comment_id":14310872,"body_markdown":"Terminating a thread half way will always generate an exception. If it is normal behavior, then you can just catch and ignore the `InterruptedException`. This is what I think, but I also wonder how the standard way is.","body":"Terminating a thread half way will always generate an exception. If it is normal behavior, then you can just catch and ignore the <code>InterruptedException</code>. This is what I think, but I also wonder how the standard way is."},{"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"score":0,"creation_date":1339251780,"post_id":10961714,"comment_id":14310921,"body_markdown":"I have not been using threads very often so I am pretty new at threads, so  I do not know if it is normal behavior to ignore the exception. That is why I am asking.","body":"I have not been using threads very often so I am pretty new at threads, so  I do not know if it is normal behavior to ignore the exception. That is why I am asking."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":0,"creation_date":1339259352,"post_id":10961714,"comment_id":14312289,"body_markdown":"In many cases it is normal behavior to ignore the exception and terminate the method processing.  See my answer below for why this is bettern than a flag based approach.","body":"In many cases it is normal behavior to ignore the exception and terminate the method processing.  See my answer below for why this is bettern than a flag based approach."},{"owner":{"account_id":4576002,"reputation":2400,"user_id":3715151,"accept_rate":68,"display_name":"Daniel"},"score":1,"creation_date":1419967982,"post_id":10961714,"comment_id":43834789,"body_markdown":"A neat explanation by B. Goetz regarding `InterruptedException` can be found at http://www.ibm.com/developerworks/library/j-jtp05236/.","body":"A neat explanation by B. Goetz regarding <code>InterruptedException</code> can be found at <a href=\"http://www.ibm.com/developerworks/library/j-jtp05236/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/library/j-jtp05236</a>."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1423861055,"post_id":10961714,"comment_id":45336278,"body_markdown":"the InterruptedException is not a problem, your only issue in the posted code is you shouldn&#39;t log it as an error, there&#39;s really not a compelling reason to log it as all except as debug just to demonstrate it happened in case you&#39;re interested. the selected answer is unfortunate because it does not allow for cutting short calls to calls such as sleep and wait.","body":"the InterruptedException is not a problem, your only issue in the posted code is you shouldn&#39;t log it as an error, there&#39;s really not a compelling reason to log it as all except as debug just to demonstrate it happened in case you&#39;re interested. the selected answer is unfortunate because it does not allow for cutting short calls to calls such as sleep and wait."}],"answers":[{"tags":[],"owner":{"account_id":552869,"reputation":6545,"user_id":918124,"accept_rate":89,"display_name":"DrYap"},"down_vote_count":11,"up_vote_count":202,"is_accepted":true,"score":191,"last_activity_date":1339252270,"creation_date":1339251715,"answer_id":10961760,"question_id":10961714,"body_markdown":"In the `IndexProcessor` class you need a way of setting a flag which informs the thread that it will need to terminate, similar to the variable `run` that you have used just in the class scope.\r\n\r\nWhen you wish to stop the thread, you set this flag and call `join()` on the thread and wait for it to finish.\r\n\r\nMake sure that the flag is thread safe by using a volatile variable or by using getter and setter methods which are synchronised with the variable being used as the flag.\r\n\r\n    public class IndexProcessor implements Runnable {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n        private volatile boolean running = true;\r\n\r\n        public void terminate() {\r\n            running = false;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while (running) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n\r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    running = false;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThen in `SearchEngineContextListener`:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n        private IndexProcessor runnable = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            runnable = new IndexProcessor();\r\n            thread = new Thread(runnable);\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (thread != null) {\r\n                runnable.terminate();\r\n                thread.join();\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to properly stop the Thread in Java?","body":"<p>In the <code>IndexProcessor</code> class you need a way of setting a flag which informs the thread that it will need to terminate, similar to the variable <code>run</code> that you have used just in the class scope.</p>\n\n<p>When you wish to stop the thread, you set this flag and call <code>join()</code> on the thread and wait for it to finish.</p>\n\n<p>Make sure that the flag is thread safe by using a volatile variable or by using getter and setter methods which are synchronised with the variable being used as the flag.</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n    private volatile boolean running = true;\n\n    public void terminate() {\n        running = false;\n    }\n\n    @Override\n    public void run() {\n        while (running) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                running = false;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>Then in <code>SearchEngineContextListener</code>:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n    private IndexProcessor runnable = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        runnable = new IndexProcessor();\n        thread = new Thread(runnable);\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (thread != null) {\n            runnable.terminate();\n            thread.join();\n            LOGGER.debug(\"Thread successfully stopped.\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1155795,"reputation":3113,"user_id":1136443,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1339251760,"creation_date":1339251760,"answer_id":10961767,"question_id":10961714,"body_markdown":"You should always end threads by checking a flag in the `run()` loop (if any).\r\n\r\nYour thread should look like this:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n        private volatile boolean execute;\r\n    \r\n        @Override\r\n        public void run() {\r\n            this.execute = true;\r\n            while (this.execute) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n    \r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    this.execute = false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void stopExecuting() {\r\n            this.execute = false;\r\n        }\r\n    }\r\n\r\nThen you can end the thread by calling `thread.stopExecuting()`. That way the thread is ended clean, but this takes up to 15 seconds (due to your sleep).\r\nYou can still call thread.interrupt() if it&#39;s really urgent - but the prefered way should always be checking the flag.\r\n\r\nTo avoid waiting for 15 seconds, you can split up the sleep like this:\r\n\r\n            ...\r\n            try {\r\n                LOGGER.debug(&quot;Sleeping...&quot;);\r\n                for (int i = 0; (i &lt; 150) &amp;&amp; this.execute; i++) {\r\n                \tThread.sleep((long) 100);\r\n                }\r\n\r\n                LOGGER.debug(&quot;Processing&quot;);\r\n            } catch (InterruptedException e) {\r\n            ...","title":"How to properly stop the Thread in Java?","body":"<p>You should always end threads by checking a flag in the <code>run()</code> loop (if any).</p>\n\n<p>Your thread should look like this:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n    private volatile boolean execute;\n\n    @Override\n    public void run() {\n        this.execute = true;\n        while (this.execute) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                this.execute = false;\n            }\n        }\n    }\n\n    public void stopExecuting() {\n        this.execute = false;\n    }\n}\n</code></pre>\n\n<p>Then you can end the thread by calling <code>thread.stopExecuting()</code>. That way the thread is ended clean, but this takes up to 15 seconds (due to your sleep).\nYou can still call thread.interrupt() if it's really urgent - but the prefered way should always be checking the flag.</p>\n\n<p>To avoid waiting for 15 seconds, you can split up the sleep like this:</p>\n\n<pre><code>        ...\n        try {\n            LOGGER.debug(\"Sleeping...\");\n            for (int i = 0; (i &lt; 150) &amp;&amp; this.execute; i++) {\n                Thread.sleep((long) 100);\n            }\n\n            LOGGER.debug(\"Processing\");\n        } catch (InterruptedException e) {\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1542591,"reputation":1787,"user_id":1436874,"accept_rate":100,"display_name":"Eduardo Sanchez-Ros"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423389288,"creation_date":1339253521,"answer_id":10961971,"question_id":10961714,"body_markdown":"For synchronizing threads I prefer using `CountDownLatch` which helps threads to wait until the process being performed complete. In this case, the worker class is set up with a `CountDownLatch` instance with a given count. A call to `await` method will block until the current count reaches zero due to invocations of the `countDown` method or the timeout set is reached. This approach allows interrupting a thread instantly without having to wait for the specified waiting time to elapse:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n    \r\n        private final CountDownLatch countdownlatch;\r\n        public IndexProcessor(CountDownLatch countdownlatch) {\r\n        \tthis.countdownlatch = countdownlatch;\r\n        }\r\n    \r\n        \r\n        public void run() {\r\n            try {\r\n    \t\t\twhile (!countdownlatch.await(15000, TimeUnit.MILLISECONDS)) {\r\n    \t\t\t\tLOGGER.debug(&quot;Processing...&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tLOGGER.error(&quot;Exception&quot;, e);\r\n                run = false;\r\n    \t\t}\r\n    \r\n        }\r\n    }\r\n\r\nWhen you want to finish execution of the other thread, execute countDown on the `CountDownLatch` and `join` the thread to the main thread:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n        private IndexProcessor runnable = null;\r\n        private CountDownLatch countdownLatch = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            countdownLatch = new CountDownLatch(1);\r\n            Thread thread = new Thread(new IndexProcessor(countdownLatch));\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (countdownLatch != null) \r\n            {\r\n                countdownLatch.countDown();\r\n            } \r\n            if (thread != null) {\r\n                try {\r\n    \t\t\t\tthread.join();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tLOGGER.error(&quot;Exception&quot;, e);\r\n    \t\t\t}\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            } \r\n        }\r\n    }\r\n\t\t","title":"How to properly stop the Thread in Java?","body":"<p>For synchronizing threads I prefer using <code>CountDownLatch</code> which helps threads to wait until the process being performed complete. In this case, the worker class is set up with a <code>CountDownLatch</code> instance with a given count. A call to <code>await</code> method will block until the current count reaches zero due to invocations of the <code>countDown</code> method or the timeout set is reached. This approach allows interrupting a thread instantly without having to wait for the specified waiting time to elapse:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n\n    private final CountDownLatch countdownlatch;\n    public IndexProcessor(CountDownLatch countdownlatch) {\n        this.countdownlatch = countdownlatch;\n    }\n\n\n    public void run() {\n        try {\n            while (!countdownlatch.await(15000, TimeUnit.MILLISECONDS)) {\n                LOGGER.debug(\"Processing...\");\n            }\n        } catch (InterruptedException e) {\n            LOGGER.error(\"Exception\", e);\n            run = false;\n        }\n\n    }\n}\n</code></pre>\n\n<p>When you want to finish execution of the other thread, execute countDown on the <code>CountDownLatch</code> and <code>join</code> the thread to the main thread:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n    private IndexProcessor runnable = null;\n    private CountDownLatch countdownLatch = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        countdownLatch = new CountDownLatch(1);\n        Thread thread = new Thread(new IndexProcessor(countdownLatch));\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (countdownLatch != null) \n        {\n            countdownLatch.countDown();\n        } \n        if (thread != null) {\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n            }\n            LOGGER.debug(\"Thread successfully stopped.\");\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":2,"up_vote_count":341,"is_accepted":false,"score":339,"last_activity_date":1475491243,"creation_date":1339259248,"answer_id":10962613,"question_id":10961714,"body_markdown":"Using `Thread.interrupt()` is a perfectly acceptable way of doing this. In fact, it&#39;s probably preferrable to a flag as suggested above.  The reason being that if you&#39;re in an interruptable blocking call (like `Thread.sleep` or using java.nio Channel operations), you&#39;ll actually be able to break out of those right away.\r\n\r\nIf you use a flag, you have to wait for the blocking operation to finish and then you can check your flag.  In some cases you have to do this anyway, such as using standard `InputStream`/`OutputStream` which are not interruptable.\r\n\r\nIn that case, when a thread is interrupted, it will not interrupt the IO, however, you can easily do this routinely in your code (and you should do this at strategic points where you can safely stop and cleanup)\r\n\r\n    if (Thread.currentThread().isInterrupted()) {\r\n      // cleanup and stop execution\r\n      // for example a break in a loop\r\n    }\r\n\r\nLike I said, the main advantage to `Thread.interrupt()` is that you can immediately break out of interruptable calls, which you can&#39;t do with the flag approach.","title":"How to properly stop the Thread in Java?","body":"<p>Using <code>Thread.interrupt()</code> is a perfectly acceptable way of doing this. In fact, it's probably preferrable to a flag as suggested above.  The reason being that if you're in an interruptable blocking call (like <code>Thread.sleep</code> or using java.nio Channel operations), you'll actually be able to break out of those right away.</p>\n\n<p>If you use a flag, you have to wait for the blocking operation to finish and then you can check your flag.  In some cases you have to do this anyway, such as using standard <code>InputStream</code>/<code>OutputStream</code> which are not interruptable.</p>\n\n<p>In that case, when a thread is interrupted, it will not interrupt the IO, however, you can easily do this routinely in your code (and you should do this at strategic points where you can safely stop and cleanup)</p>\n\n<pre><code>if (Thread.currentThread().isInterrupted()) {\n  // cleanup and stop execution\n  // for example a break in a loop\n}\n</code></pre>\n\n<p>Like I said, the main advantage to <code>Thread.interrupt()</code> is that you can immediately break out of interruptable calls, which you can't do with the flag approach.</p>\n"},{"tags":[],"owner":{"account_id":3926578,"reputation":351,"user_id":3246818,"display_name":"hamsterofdark"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1466326585,"creation_date":1429739069,"answer_id":29809440,"question_id":10961714,"body_markdown":"Simple answer:\r\nYou can stop a thread INTERNALLY in one of two common ways:\r\n\r\n - The run method hits a return subroutine.\r\n - Run method finishes, and returns implicitly.\r\n\r\nYou can also stop threads EXTERNALLY:\r\n\r\n - Call `system.exit` (this kills your entire process)\r\n - Call the thread object&#39;s `interrupt()` method *\r\n - See if the thread has an implemented method that sounds like it would work (like `kill()` or `stop()`)\r\n\r\n*: The expectation is that this is supposed to stop a thread.  However, what the thread actually does when this happens is entirely up to what the developer wrote when they created the thread implementation.\r\n\r\nA common pattern you see with run method implementations is a `while(boolean){}`, where the boolean is typically something named `isRunning`, it&#39;s a member variable of its thread class, it&#39;s volatile, and typically accessible by other threads by a setter method of sorts, e.g. `kill() { isRunnable=false; }`. These subroutines are nice because they allow the thread to release any resources it holds before terminating.","title":"How to properly stop the Thread in Java?","body":"<p>Simple answer:\nYou can stop a thread INTERNALLY in one of two common ways:</p>\n\n<ul>\n<li>The run method hits a return subroutine.</li>\n<li>Run method finishes, and returns implicitly.</li>\n</ul>\n\n<p>You can also stop threads EXTERNALLY:</p>\n\n<ul>\n<li>Call <code>system.exit</code> (this kills your entire process)</li>\n<li>Call the thread object's <code>interrupt()</code> method *</li>\n<li>See if the thread has an implemented method that sounds like it would work (like <code>kill()</code> or <code>stop()</code>)</li>\n</ul>\n\n<p>*: The expectation is that this is supposed to stop a thread.  However, what the thread actually does when this happens is entirely up to what the developer wrote when they created the thread implementation.</p>\n\n<p>A common pattern you see with run method implementations is a <code>while(boolean){}</code>, where the boolean is typically something named <code>isRunning</code>, it's a member variable of its thread class, it's volatile, and typically accessible by other threads by a setter method of sorts, e.g. <code>kill() { isRunnable=false; }</code>. These subroutines are nice because they allow the thread to release any resources it holds before terminating.</p>\n"},{"tags":[],"owner":{"account_id":2666287,"reputation":39,"user_id":2304660,"display_name":"Feng"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1439326986,"creation_date":1439326986,"answer_id":31951888,"question_id":10961714,"body_markdown":"Some supplementary info.\r\nBoth flag and interrupt are suggested in the Java doc. \r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private volatile Thread blinker;\r\n\r\n    public void stop() {\r\n        blinker = null;\r\n    }\r\n\r\n    public void run() {\r\n        Thread thisThread = Thread.currentThread();\r\n        while (blinker == thisThread) {\r\n            try {\r\n                Thread.sleep(interval);\r\n            } catch (InterruptedException e){\r\n            }\r\n            repaint();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\nFor a thread that waits for long periods (e.g., for input), use `Thread.interrupt`  \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n     \r\n    public void stop() {\r\n         Thread moribund = waiter;\r\n          waiter = null;\r\n          moribund.interrupt();\r\n     }\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>Some supplementary info.\nBoth flag and interrupt are suggested in the Java doc. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private volatile Thread blinker;\n\npublic void stop() {\n    blinker = null;\n}\n\npublic void run() {\n    Thread thisThread = Thread.currentThread();\n    while (blinker == thisThread) {\n        try {\n            Thread.sleep(interval);\n        } catch (InterruptedException e){\n        }\n        repaint();\n    }\n}\n</code></pre>\n\n<p>For a thread that waits for long periods (e.g., for input), use <code>Thread.interrupt</code>  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void stop() {\n     Thread moribund = waiter;\n      waiter = null;\n      moribund.interrupt();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11257334,"reputation":73,"user_id":8256650,"display_name":"Mindborg"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1499424149,"creation_date":1499424149,"answer_id":44968798,"question_id":10961714,"body_markdown":"I didn&#39;t get the interrupt to work in Android, so I used this method, works perfectly:\r\n\r\n    boolean shouldCheckUpdates = true;\r\n\r\n    private void startupCheckForUpdatesEveryFewSeconds() {\r\n        threadCheckChat = new Thread(new CheckUpdates());\r\n        threadCheckChat.start();\r\n    }\r\n\r\n    private class CheckUpdates implements Runnable{\r\n        public void run() {\r\n            while (shouldCheckUpdates){\r\n                System.out.println(&quot;Do your thing here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n     public void stop(){\r\n            shouldCheckUpdates = false;\r\n     }\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>I didn't get the interrupt to work in Android, so I used this method, works perfectly:</p>\n\n<pre><code>boolean shouldCheckUpdates = true;\n\nprivate void startupCheckForUpdatesEveryFewSeconds() {\n    threadCheckChat = new Thread(new CheckUpdates());\n    threadCheckChat.start();\n}\n\nprivate class CheckUpdates implements Runnable{\n    public void run() {\n        while (shouldCheckUpdates){\n            System.out.println(\"Do your thing here\");\n        }\n    }\n}\n\n public void stop(){\n        shouldCheckUpdates = false;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543314713,"creation_date":1543314713,"answer_id":53497677,"question_id":10961714,"body_markdown":"Typically, a thread is terminated when it&#39;s interrupted. So, why not use the native boolean? Try isInterrupted():\r\n\r\n\r\n    Thread t = new Thread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                while(!Thread.currentThread().isInterrupted()){\r\n                    // do stuff         \r\n                }   \r\n            }});\r\n        t.start();\r\n    \r\n        // Sleep a second, and then interrupt\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {}\r\n        t.interrupt();\r\n\r\nref- https://stackoverflow.com/questions/5915156/how-can-i-kill-a-thread-without-using-stop/5915430?noredirect=1#comment93838957_5915430","title":"How to properly stop the Thread in Java?","body":"<p>Typically, a thread is terminated when it's interrupted. So, why not use the native boolean? Try isInterrupted():</p>\n\n<pre><code>Thread t = new Thread(new Runnable(){\n        @Override\n        public void run() {\n            while(!Thread.currentThread().isInterrupted()){\n                // do stuff         \n            }   \n        }});\n    t.start();\n\n    // Sleep a second, and then interrupt\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {}\n    t.interrupt();\n</code></pre>\n\n<p>ref- <a href=\"https://stackoverflow.com/questions/5915156/how-can-i-kill-a-thread-without-using-stop/5915430?noredirect=1#comment93838957_5915430\">How can I kill a thread? without using stop();</a></p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668339784,"creation_date":1668294525,"answer_id":74417252,"question_id":10961714,"body_markdown":"Brian Goetz in his book suggests to use `Thread.currentThread().isInterrupted()` flag and `interrupt()` method for cancellation.\r\n\r\nBlocking library methods like `sleep()` and `wait()` try to detect when a thread has been interrupted and return early. They respond to interruption by clearing the interrupted status and throwing `InterruptedException`, indicating that the blocking operation completed early due to interruption. \r\n\r\nThe JVM makes no guarantees on how quickly a blocking method will detect interruption, but in practice this happens reasonably quickly.\r\n\r\n    class PrimeProducer extends Thread {\r\n        private final BlockingQueue&lt;BigInteger&gt; queue;\r\n    \r\n        PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                BigInteger p = BigInteger.ONE;\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    queue.put(p = p.nextProbablePrime()); // blocking operation\r\n                }\r\n            } catch (InterruptedException consumed) {\r\n                // allow thread to exit\r\n            }\r\n            // any code here will still be executed\r\n        }\r\n    \r\n        public void cancel() {\r\n            interrupt();\r\n        }\r\n    }\r\n\r\n**If you put any code after catch block, it will still be executed as we swallow `InterruptedException` to exit from `run()` gracefully**.\r\n\r\nJust a couple words on how `interrupt()` works.\r\n \r\nIf `interrupt` is called on non-blocked thread, `interrupt()` will not cause `InterruptedException` inside `run()` but will just change flag `isInterrupted` to `true` and thread will continue its work until it reaches `Thread.currentThread().isInterrupted()` check and exit from `run()`.\r\n\r\nIf `interrupt` is called on blocked thread (`sleep()` or `wait()`was called, in our case it&#39;s `put()` that might block a thread) then `isInterrupted` will be set to `false` and `InterruptedException` will be thrown inside `put()`.\r\n\r\n\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>Brian Goetz in his book suggests to use <code>Thread.currentThread().isInterrupted()</code> flag and <code>interrupt()</code> method for cancellation.</p>\n<p>Blocking library methods like <code>sleep()</code> and <code>wait()</code> try to detect when a thread has been interrupted and return early. They respond to interruption by clearing the interrupted status and throwing <code>InterruptedException</code>, indicating that the blocking operation completed early due to interruption.</p>\n<p>The JVM makes no guarantees on how quickly a blocking method will detect interruption, but in practice this happens reasonably quickly.</p>\n<pre><code>class PrimeProducer extends Thread {\n    private final BlockingQueue&lt;BigInteger&gt; queue;\n\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            BigInteger p = BigInteger.ONE;\n            while (!Thread.currentThread().isInterrupted()) {\n                queue.put(p = p.nextProbablePrime()); // blocking operation\n            }\n        } catch (InterruptedException consumed) {\n            // allow thread to exit\n        }\n        // any code here will still be executed\n    }\n\n    public void cancel() {\n        interrupt();\n    }\n}\n</code></pre>\n<p><strong>If you put any code after catch block, it will still be executed as we swallow <code>InterruptedException</code> to exit from <code>run()</code> gracefully</strong>.</p>\n<p>Just a couple words on how <code>interrupt()</code> works.</p>\n<p>If <code>interrupt</code> is called on non-blocked thread, <code>interrupt()</code> will not cause <code>InterruptedException</code> inside <code>run()</code> but will just change flag <code>isInterrupted</code> to <code>true</code> and thread will continue its work until it reaches <code>Thread.currentThread().isInterrupted()</code> check and exit from <code>run()</code>.</p>\n<p>If <code>interrupt</code> is called on blocked thread (<code>sleep()</code> or <code>wait()</code>was called, in our case it's <code>put()</code> that might block a thread) then <code>isInterrupted</code> will be set to <code>false</code> and <code>InterruptedException</code> will be thrown inside <code>put()</code>.</p>\n"}],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679131,"favorite_count":0,"down_vote_count":0,"up_vote_count":317,"accepted_answer_id":10961760,"answer_count":9,"score":317,"last_activity_date":1668339784,"creation_date":1339251306,"question_id":10961714,"body_markdown":"I need a solution to properly stop the thread in Java.\r\n\r\nI have `IndexProcessor`class which implements the Runnable interface:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n    \r\n        @Override\r\n        public void run() {\r\n            boolean run = true;\r\n            while (run) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n    \r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    run = false;\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd I have `ServletContextListener` class which starts and stops the thread:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            thread = new Thread(new IndexProcessor());\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (thread != null) {\r\n                thread.interrupt();\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBut when I shutdown tomcat, I get the exception in my IndexProcessor class:\r\n\r\n    2012-06-09 17:04:50,671 [Thread-3] ERROR  IndexProcessor Exception\r\n    java.lang.InterruptedException: sleep interrupted\r\n    \tat java.lang.Thread.sleep(Native Method)\r\n    \tat lt.ccl.searchengine.processor.IndexProcessor.run(IndexProcessor.java:22)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nI am using JDK 1.6. So the question is:\r\n\r\nHow can I stop the thread and not throw any exceptions? \r\n\r\n**P.S.** I do not want to use `.stop();` method because it is deprecated.","title":"How to properly stop the Thread in Java?","body":"<p>I need a solution to properly stop the thread in Java.</p>\n\n<p>I have <code>IndexProcessor</code>class which implements the Runnable interface:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n\n    @Override\n    public void run() {\n        boolean run = true;\n        while (run) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                run = false;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>And I have <code>ServletContextListener</code> class which starts and stops the thread:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        thread = new Thread(new IndexProcessor());\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (thread != null) {\n            thread.interrupt();\n            LOGGER.debug(\"Thread successfully stopped.\");\n        }\n    }\n}\n</code></pre>\n\n<p>But when I shutdown tomcat, I get the exception in my IndexProcessor class:</p>\n\n<pre><code>2012-06-09 17:04:50,671 [Thread-3] ERROR  IndexProcessor Exception\njava.lang.InterruptedException: sleep interrupted\n    at java.lang.Thread.sleep(Native Method)\n    at lt.ccl.searchengine.processor.IndexProcessor.run(IndexProcessor.java:22)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I am using JDK 1.6. So the question is:</p>\n\n<p>How can I stop the thread and not throw any exceptions? </p>\n\n<p><strong>P.S.</strong> I do not want to use <code>.stop();</code> method because it is deprecated.</p>\n"},{"tags":["java"],"owner":{"account_id":24578991,"reputation":1,"user_id":18484423,"display_name":"Elex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1668346098,"answer_count":1,"score":-4,"last_activity_date":1668339614,"creation_date":1668194537,"question_id":74407234,"body_markdown":"The code is running and everything is works but the problem of Time Limit Exceeded! How to fix this problem? Thanks\r\n\r\n```\r\npublic class Contenst {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int n = scan.nextInt() , q = scan.nextInt();\r\n        int[] arr = new int[n];\r\n\r\n        boolean[] light = new boolean[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = scan.nextInt();\r\n        }\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (arr[j] % (i+1) == 0){\r\n                    light[j] = !light[j];\r\n                }\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; q; i++) {\r\n            int l = scan.nextInt(); // 1\r\n            int r = scan.nextInt(); //2\r\n            int count = 0;\r\n            for (int j = l-1; j &lt;= r-1 ; j++) {\r\n                if (light[j])\r\n                    count++;\r\n            }\r\n            System.out.println(count);\r\n        }\r\n    }\r\n}\r\n```\r\nThiess my code! How to fix Time Limit Exceeded of 3000MS (If my code reach 3000 MS the code will stopped automatically)\r\n\r\nFull problem: It&#39;s &quot; Light Bulbs &quot; problem! `One activity is involving lightbulbs and a challenge. He has arranged an array B of N lightbulbs numbered from 1 to N, each bulb has its own switch that will turn it ON or OFF. Initially, all lightbulbs are OFF. The lightbulbs are in random order.\r\n\r\nAt the start of the party, Maher gave each of his guests a card with a number written on it from 1 to N, where each guest has a unique number. The challenge states that each guest will go through all the switches that have numbers divisible by his number and click it. The click will change the state of the corresponding lightbulb from OFF to ON or from ON to OFF.\r\n\r\nMaher then challenges you by asking you Q queries with start and end points L and R, and you need to find how many lightbulbs in that range will be ON after all his N guests finish pressing all of their switches. Hurry up! You need to find the answer before their guests or you will lose.\r\n\r\nInput\r\nThe first line contains two integers N and Q (1â‰¤N,Qâ‰¤2&#215;10^5).\r\n\r\nThe second line contains N integers B1,B2,...,BN, representing the order of the lightbulbs. The array B will be a permutation of the integers from 1 to N.\r\n\r\nQ lines follow, each contains two integers L and R (1â‰¤Lâ‰¤Râ‰¤N), representing the start and end point of the range, both inclusive.\r\n\r\nOutput\r\nFor each query, print the number of lightbulbs that will remain ON in the range (BL,BL+1,...,BR) after all the N guests finish pressing their switches.\r\n\r\nNote\r\nGuest 1 will press all the switches turning them ON, since all the numbers are divisible by 1.\r\n\r\nGuest 2 will press only B3 which is connected to lightbulb 2 turning it OFF, since only this number is divisible by 2.\r\n\r\nGuest 3 will press only B1 which is connected to lightbulb 3 turning it OFF, since only this number is divisible by 3.\r\n\r\nAfter all 3 guests press their switches, the only B2 which is connected to lightbulb 1 will be turned ON.`","title":"Time Limit Exceeded java","body":"<p>The code is running and everything is works but the problem of Time Limit Exceeded! How to fix this problem? Thanks</p>\n<pre><code>public class Contenst {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int n = scan.nextInt() , q = scan.nextInt();\n        int[] arr = new int[n];\n\n        boolean[] light = new boolean[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = scan.nextInt();\n        }\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                if (arr[j] % (i+1) == 0){\n                    light[j] = !light[j];\n                }\n            }\n        }\n        for (int i = 0; i &lt; q; i++) {\n            int l = scan.nextInt(); // 1\n            int r = scan.nextInt(); //2\n            int count = 0;\n            for (int j = l-1; j &lt;= r-1 ; j++) {\n                if (light[j])\n                    count++;\n            }\n            System.out.println(count);\n        }\n    }\n}\n</code></pre>\n<p>Thiess my code! How to fix Time Limit Exceeded of 3000MS (If my code reach 3000 MS the code will stopped automatically)</p>\n<p>Full problem: It's &quot; Light Bulbs &quot; problem! `One activity is involving lightbulbs and a challenge. He has arranged an array B of N lightbulbs numbered from 1 to N, each bulb has its own switch that will turn it ON or OFF. Initially, all lightbulbs are OFF. The lightbulbs are in random order.</p>\n<p>At the start of the party, Maher gave each of his guests a card with a number written on it from 1 to N, where each guest has a unique number. The challenge states that each guest will go through all the switches that have numbers divisible by his number and click it. The click will change the state of the corresponding lightbulb from OFF to ON or from ON to OFF.</p>\n<p>Maher then challenges you by asking you Q queries with start and end points L and R, and you need to find how many lightbulbs in that range will be ON after all his N guests finish pressing all of their switches. Hurry up! You need to find the answer before their guests or you will lose.</p>\n<p>Input\nThe first line contains two integers N and Q (1â‰¤N,Qâ‰¤2Ã—10^5).</p>\n<p>The second line contains N integers B1,B2,...,BN, representing the order of the lightbulbs. The array B will be a permutation of the integers from 1 to N.</p>\n<p>Q lines follow, each contains two integers L and R (1â‰¤Lâ‰¤Râ‰¤N), representing the start and end point of the range, both inclusive.</p>\n<p>Output\nFor each query, print the number of lightbulbs that will remain ON in the range (BL,BL+1,...,BR) after all the N guests finish pressing their switches.</p>\n<p>Note\nGuest 1 will press all the switches turning them ON, since all the numbers are divisible by 1.</p>\n<p>Guest 2 will press only B3 which is connected to lightbulb 2 turning it OFF, since only this number is divisible by 2.</p>\n<p>Guest 3 will press only B1 which is connected to lightbulb 3 turning it OFF, since only this number is divisible by 3.</p>\n<p>After all 3 guests press their switches, the only B2 which is connected to lightbulb 1 will be turned ON.`</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":1,"creation_date":1668198213,"post_id":74407477,"comment_id":131355694,"body_markdown":"Why would you need to know this? If itâ€™s not in the documentation itâ€™s an implementation detail. Anecdotally I think itâ€™s unlikely youâ€™ll see the change your expecting - itâ€™s more around days out of range etc.","body":"Why would you need to know this? If itâ€™s not in the documentation itâ€™s an implementation detail. Anecdotally I think itâ€™s unlikely youâ€™ll see the change your expecting - itâ€™s more around days out of range etc."},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1668201731,"post_id":74407477,"comment_id":131356512,"body_markdown":"@jakg I have a webapp running since about 10 years and in the last days I received a few `0022-mm-dd` dates. Looks like `22-01-01`, for instance, is interpreted as `0022-01-01`.  Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently.","body":"@jakg I have a webapp running since about 10 years and in the last days I received a few <code>0022-mm-dd</code> dates. Looks like <code>22-01-01</code>, for instance, is interpreted as <code>0022-01-01</code>.  Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1668202801,"post_id":74407477,"comment_id":131356763,"body_markdown":"I&#39;m assuming you&#39;ve updated the JRE in the past 10 years? That&#39;s probably much more likely to be where the variation is coming from.","body":"I&#39;m assuming you&#39;ve updated the JRE in the past 10 years? That&#39;s probably much more likely to be where the variation is coming from."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668287282,"post_id":74407477,"comment_id":131370147,"body_markdown":"Lenient or not, parsing behavior is unlikely to change unless the timezone rules change for the timezone used by your SimpleDateFormat.","body":"Lenient or not, parsing behavior is unlikely to change unless the timezone rules change for the timezone used by your SimpleDateFormat."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668338646,"post_id":74407477,"comment_id":131376373,"body_markdown":"If and when you can, upgrade your code to [java.time, the modern Java date and time API.](https://docs.oracle.com/javase/tutorial/datetime/index.html) `DateFormat` and its concrete subclass `SimpleDateFormat` were always troublesome, and poor and insufficient documentation is a minor one of their problems. That said, I am convinced that using pattern `yyyy-MM-dd` `SImpleDateFormat` has always parsed `22-01-01` into 0022-01-01 (never 1922-01-01 nor 2022-01-01). May it be that the input you are getting has changed?","body":"If and when you can, upgrade your code to <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API.</a> <code>DateFormat</code> and its concrete subclass <code>SimpleDateFormat</code> were always troublesome, and poor and insufficient documentation is a minor one of their problems. That said, I am convinced that using pattern <code>yyyy-MM-dd</code> <code>SImpleDateFormat</code> has always parsed <code>22-01-01</code> into 0022-01-01 (never 1922-01-01 nor 2022-01-01). May it be that the input you are getting has changed?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668338826,"post_id":74407477,"comment_id":131376403,"body_markdown":"A third possible explanation is that you are using one of `DateFormat`â€™s localized formats, and that the localized format has changed in a recent Java version. Which is your Java version and which is your locale or the locale you are using for parsing? Also please show us your code -- not the full code, but a [mre].","body":"A third possible explanation is that you are using one of <code>DateFormat</code>â€™s localized formats, and that the localized format has changed in a recent Java version. Which is your Java version and which is your locale or the locale you are using for parsing? Also please show us your code -- not the full code, but a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668339089,"post_id":74407477,"comment_id":131376444,"body_markdown":"Leniency in this case is not about format as the docs would have us believe, but about interpreting out-of-range values so that when there are 30 days in November, November 31 is interpreted as December 1. Theoretically they could change the interpretation in a new Java version, but like the others I seriously doubt that this has happened or ever will. Also becuase `DateFormat` and `SimpleDateFormat` are long outdated, so there would really be no good reason to put any effort into their maintenance with the risk of breaking old code, which is the only place where they are reasonably used.","body":"Leniency in this case is not about format as the docs would have us believe, but about interpreting out-of-range values so that when there are 30 days in November, November 31 is interpreted as December 1. Theoretically they could change the interpretation in a new Java version, but like the others I seriously doubt that this has happened or ever will. Also becuase <code>DateFormat</code> and <code>SimpleDateFormat</code> are long outdated, so there would really be no good reason to put any effort into their maintenance with the risk of breaking old code, which is the only place where they are reasonably used."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668339522,"post_id":74407477,"comment_id":131376528,"body_markdown":"@OleV.V. Well, for that I&#39;d compare the source code; it&#39;s available after all. They could have made it a stub to the new API, although I seriously doubt that.","body":"@OleV.V. Well, for that I&#39;d compare the source code; it&#39;s available after all. They could have made it a stub to the new API, although I seriously doubt that."}],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668339222,"creation_date":1668196224,"question_id":74407477,"body_markdown":"The [javadoc][1] of `DateFormat` states that with lenient `true` \r\n\r\n&gt; the parser may use heuristics to interpret inputs that do not preci$sely match this object&#39;s format...\r\n\r\nMy question is how to know the impact of `lenient=true` on common date manipulation classes like, for instance, `SimpleDateFormat`?  \r\n\r\nMore precisely I would to know if those heuristics can change their behavior over time with the same date input. For instance, if a date xyz can be parsed/guessed one way in 2019 and differently in 2020.\r\n\r\nI have a web app running since about 10 years and in the last days I received a few `0022-mm-dd` dates. Looks like `22-01-01`, for instance, is interpreted as `0022-01-01`. Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javatext/DateFormat.html#setLenient%28boolean%29\r\n\r\n","title":"Impact of lenient true","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/javatext/DateFormat.html#setLenient%28boolean%29\" rel=\"nofollow noreferrer\">javadoc</a> of <code>DateFormat</code> states that with lenient <code>true</code></p>\n<blockquote>\n<p>the parser may use heuristics to interpret inputs that do not preci$sely match this object's format...</p>\n</blockquote>\n<p>My question is how to know the impact of <code>lenient=true</code> on common date manipulation classes like, for instance, <code>SimpleDateFormat</code>?</p>\n<p>More precisely I would to know if those heuristics can change their behavior over time with the same date input. For instance, if a date xyz can be parsed/guessed one way in 2019 and differently in 2020.</p>\n<p>I have a web app running since about 10 years and in the last days I received a few <code>0022-mm-dd</code> dates. Looks like <code>22-01-01</code>, for instance, is interpreted as <code>0022-01-01</code>. Nothing in the base code seems to have changed so I'm wondering if the heuristic parser is now working differently.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668339110,"creation_date":1668339110,"answer_id":74420526,"question_id":74420341,"body_markdown":"You are changing image on list-item when it is clicked. When you scroll down, this list-item get refreshed and thus loose the changed image and loads the default image that you are setting in OnBindViewHolder() function in adapter class.\r\nLoad the image according to selection status using if-else, like this :\r\n\r\n````\r\n\t@Override  \r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n\r\n        if (la.get(position).Select.equals(&quot;N&quot;)){\r\n            // set not-selected image\r\n        else{\r\n            // set selected image\r\n        }\r\n\r\n        // your onclick\r\n        holder.imageClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\r\n                if (la.get(position).Select.equals(&quot;N&quot;)){\r\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                    la.get(position).Select = &quot;Y&quot;;}\r\n                else{\r\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                    la.get(position).Select = &quot;N&quot;;\r\n                }\r\n            }\r\n        }  \r\n        \r\n    }  \r\n\r\n","title":"Pb with recyclerView","body":"<p>You are changing image on list-item when it is clicked. When you scroll down, this list-item get refreshed and thus loose the changed image and loads the default image that you are setting in OnBindViewHolder() function in adapter class.\nLoad the image according to selection status using if-else, like this :</p>\n<pre><code>    @Override  \n    public void onBindViewHolder(ViewHolder holder, int position) {\n\n        if (la.get(position).Select.equals(&quot;N&quot;)){\n            // set not-selected image\n        else{\n            // set selected image\n        }\n\n        // your onclick\n        holder.imageClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\n                if (la.get(position).Select.equals(&quot;N&quot;)){\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n                    la.get(position).Select = &quot;Y&quot;;}\n                else{\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n                    la.get(position).Select = &quot;N&quot;;\n                }\n            }\n        }  \n        \n    }  \n\n</code></pre>\n"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668339110,"creation_date":1668337416,"question_id":74420341,"body_markdown":"I&#39;ve a problem with a recyclerView.I&#39;ve a selection of players (arraylist), when you click on the image it changes the status of the player (selected or not selected). This is correct in Firebase, but when I scroll down and up the screen, the image is not good, I lost the right image.\r\nI tried to add notifyDataSetChange but no result\r\nIs there a simple solution  \r\nThank you very much for your help\r\nBest regards\r\nGeorges\r\n\r\n     holder.imageClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\r\n            if (la.get(position).Select.equals(&quot;N&quot;)){\r\n                mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                la.get(position).Select = &quot;Y&quot;;}\r\n            else{\r\n                mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                la.get(position).Select = &quot;N&quot;;}}\r\n        }[enter image description here][1]\r\n\r\n  \r\n\r\n","title":"Pb with recyclerView","body":"<p>I've a problem with a recyclerView.I've a selection of players (arraylist), when you click on the image it changes the status of the player (selected or not selected). This is correct in Firebase, but when I scroll down and up the screen, the image is not good, I lost the right image.\nI tried to add notifyDataSetChange but no result\nIs there a simple solution<br />\nThank you very much for your help\nBest regards\nGeorges</p>\n<pre><code> holder.imageClick.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String keyJoeur = &quot;l&quot; + la.get(position).Licence;\n        if (la.get(position).Select.equals(&quot;N&quot;)){\n            mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n            holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n            la.get(position).Select = &quot;Y&quot;;}\n        else{\n            mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n            holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n            la.get(position).Select = &quot;N&quot;;}}\n    }[enter image description here][1]\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1668337634,"post_id":74420319,"comment_id":131376241,"body_markdown":"Please rephrase your question and show us what the expected output should be here.","body":"Please rephrase your question and show us what the expected output should be here."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668339063,"creation_date":1668339063,"answer_id":74420521,"question_id":74420319,"body_markdown":"Split before `+` or `-`:\r\n\r\n    String[] parts = str.split(&quot;(?=[+-])&quot;);\r\n\r\n---\r\n\r\nTest code:\r\n\r\n```java\r\nString str = &quot;2d6+13+3d10-1d4+5+1d8-6&quot;;\r\nString[] parts = str.split(&quot;(?=[+-])&quot;);\r\nSystem.out.println(Arrays.toString(parts));\r\n```\r\n\r\nOutput:\r\n\r\n    [2d6, +13, +3d10, -1d4, +5, +1d8, -6]\r\n","title":"Java; Splitting a string into segments","body":"<p>Split before <code>+</code> or <code>-</code>:</p>\n<pre><code>String[] parts = str.split(&quot;(?=[+-])&quot;);\n</code></pre>\n<hr />\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;2d6+13+3d10-1d4+5+1d8-6&quot;;\nString[] parts = str.split(&quot;(?=[+-])&quot;);\nSystem.out.println(Arrays.toString(parts));\n</code></pre>\n<p>Output:</p>\n<pre><code>[2d6, +13, +3d10, -1d4, +5, +1d8, -6]\n</code></pre>\n"}],"owner":{"account_id":26917274,"reputation":3,"user_id":20491861,"display_name":"VoiceFromAnotherWorlds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74420521,"answer_count":1,"score":-1,"last_activity_date":1668339063,"creation_date":1668337267,"question_id":74420319,"body_markdown":"(Warning - made with Google Translate)\r\n\r\nI am learning to use regular expressions while creating a simple program for myself that would take as input a string consisting of formulas for various dice rolls and modifiers to them. Example:\r\n\r\n`2d6+13+3d10-1d4+5+1d8-6`\r\n\r\nI have a regular expression to search for segments like &quot;+-XdY&quot;:\r\n\r\n`(^|[\\\\+-])[1-9]\\\\d*d[1-9]\\\\d*`\r\n\r\nI want to cut such segments from a string, store them as an array for further processing, and at the same time remove them from the string\r\n \r\n`Input - string &quot;2d6+13+3d10-1d4+5+1d8-6&quot;`\r\n\r\n`Output - string &quot;+13+5-6&quot; (without any +-XdY) and array of strings {&quot;2d6&quot;, &quot;+3d10&quot;, &quot;-1d4&quot;, &quot;+1d8&quot;} (all of +-XdY)`\r\n\r\nso after that it can be repeated with modifiers (using another regex)\r\n\r\n`Input - string &quot;+13+5-6&quot;`\r\n\r\n`Output - string &quot;&quot; and array of strings {&quot;+13&quot;, &quot;+5&quot;, &quot;-6&quot;}`\r\n\r\nand, by the remaining string at the end, understand whether the data was entered correctly or not (empty = good).\r\n\r\nThe problem is that I simply cannot find a suitable tool to cut certain fragments from the string and save them as an array.\r\n\r\nCan you help me? Or perhaps there is a simpler algorithm for this task?\r\n\r\nThanks for your help in advance!","title":"Java; Splitting a string into segments","body":"<p>(Warning - made with Google Translate)</p>\n<p>I am learning to use regular expressions while creating a simple program for myself that would take as input a string consisting of formulas for various dice rolls and modifiers to them. Example:</p>\n<p><code>2d6+13+3d10-1d4+5+1d8-6</code></p>\n<p>I have a regular expression to search for segments like &quot;+-XdY&quot;:</p>\n<p><code>(^|[\\\\+-])[1-9]\\\\d*d[1-9]\\\\d*</code></p>\n<p>I want to cut such segments from a string, store them as an array for further processing, and at the same time remove them from the string</p>\n<p><code>Input - string &quot;2d6+13+3d10-1d4+5+1d8-6&quot;</code></p>\n<p><code>Output - string &quot;+13+5-6&quot; (without any +-XdY) and array of strings {&quot;2d6&quot;, &quot;+3d10&quot;, &quot;-1d4&quot;, &quot;+1d8&quot;} (all of +-XdY)</code></p>\n<p>so after that it can be repeated with modifiers (using another regex)</p>\n<p><code>Input - string &quot;+13+5-6&quot;</code></p>\n<p><code>Output - string &quot;&quot; and array of strings {&quot;+13&quot;, &quot;+5&quot;, &quot;-6&quot;}</code></p>\n<p>and, by the remaining string at the end, understand whether the data was entered correctly or not (empty = good).</p>\n<p>The problem is that I simply cannot find a suitable tool to cut certain fragments from the string and save them as an array.</p>\n<p>Can you help me? Or perhaps there is a simpler algorithm for this task?</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","xml","sign","xml-signature","xml-dsig"],"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668338304,"creation_date":1632762152,"question_id":69350583,"body_markdown":"I need to generate a &quot;partial XML Signature&quot; message. \r\n\r\nTo summarize, when we need to sign one kind of XML document, we create a digested &quot;partial XML Signature&quot; message, this &quot;partial XML Signature&quot; message is forwarded (with some credentials) to another service which is in charge of sign it and return it, and finally we extract this signature to inject it in the origin message.\r\n\r\nTypically, the &quot;partial XML Signature&quot; message looks like that: \r\n\r\n    &lt;soap:Envelope xmlns:soap =&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n      &lt;W3CComputeSignature xmlns=&quot;urn:swift:amh:xsd:signature&quot;&gt;\r\n        &lt;user&gt;\r\n          &lt;name&gt; sign_ws_user &lt;/name&gt;\r\n          &lt;password&gt;P@ssword01&lt;/ password&gt;\r\n        &lt;/user&gt;\r\n      &lt; .... /&gt;\r\n      &lt;signature&gt;&lt;![CDATA[&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_wwwwww&quot;&gt;\r\n    \r\n    &lt;ds:Signature xmlns:ds =&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_xxxxxx&quot;&gt;\r\n      &lt;ds:SignedInfo&gt;\r\n        &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n        &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig more#rsa sha256&quot;/&gt;\r\n        &lt;ds:Reference URI=&quot;&quot;&gt;\r\n          &lt;ds:Transforms&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped signature&quot;/&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n          &lt;/ds:Transforms&gt;\r\n          &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n          &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\r\n        &lt;/ds:Reference&gt;\r\n        &lt;ds:Reference&gt;\r\n          &lt;ds:Transforms&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n          &lt;/ds:Transforms&gt;\r\n          &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n          &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\r\n        &lt;/ds:Reference&gt;\r\n      &lt;/ds:SignedInfo&gt;\r\n    &lt;/ds:Signature&gt;\r\n\r\n    ]]&gt;&lt;/signature&gt;\r\n    &lt;/W3CComputeSignature&gt;\r\n    &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nI have some problems to obtain this ``&lt;ds:SignedInfo&gt;`` and generate the file.  I followed some examples found on Oracle website, like https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html \r\n\r\nBased on this example, I am able to build the ``SignedInfo`` object with the ``References``, ``Transforms`` and ``Digest`` I need. But I do not understand how to adapt the code after this step.\r\n\r\nIn Oracle&#39;s webpage, they create the keypairs in order to effectively sign the document. In my case I do not need to sign the document ! My idea is to keep this ``SignedInfo`` object and materialize it in a ``&lt;ds:SignedInfo&gt;`` tag I would wrap in the ``&lt;soap:Envelope&gt;&lt;soap:Body&gt;...&lt;signature&gt; CDATA ``.\r\n\r\nBut I found no suitable method on ``SignedInfo`` to help me. I tried to work with ``DOMSignedInfo`` but I have a classcast Exception :\r\n\r\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n    SignedInfo si = fac.newSignedInfo(.......);\r\n    DOMSignedInfo domSi = (DOMSignedInfo) si;\r\n    \r\n    --&gt;  java.lang.ClassCastException: org.jcp.xml.dsig.internal.dom.DOMSignedInfo cannot be cast to org.apache.jcp.xml.dsig.internal.dom.DOMSignedInfo\r\n\r\nAnd I am unsure what I could do with a ``DOMSignedInfo``. \r\n\r\nAny clues to help me?\r\n\r\n\r\n \r\n","title":"How to generate a &quot;Partial Xml Signature&quot; (ie the content of the SignedInfo tag)?","body":"<p>I need to generate a &quot;partial XML Signature&quot; message.</p>\n<p>To summarize, when we need to sign one kind of XML document, we create a digested &quot;partial XML Signature&quot; message, this &quot;partial XML Signature&quot; message is forwarded (with some credentials) to another service which is in charge of sign it and return it, and finally we extract this signature to inject it in the origin message.</p>\n<p>Typically, the &quot;partial XML Signature&quot; message looks like that:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap =&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n&lt;soap:Body&gt;\n  &lt;W3CComputeSignature xmlns=&quot;urn:swift:amh:xsd:signature&quot;&gt;\n    &lt;user&gt;\n      &lt;name&gt; sign_ws_user &lt;/name&gt;\n      &lt;password&gt;P@ssword01&lt;/ password&gt;\n    &lt;/user&gt;\n  &lt; .... /&gt;\n  &lt;signature&gt;&lt;![CDATA[&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_wwwwww&quot;&gt;\n\n&lt;ds:Signature xmlns:ds =&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_xxxxxx&quot;&gt;\n  &lt;ds:SignedInfo&gt;\n    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig more#rsa sha256&quot;/&gt;\n    &lt;ds:Reference URI=&quot;&quot;&gt;\n      &lt;ds:Transforms&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped signature&quot;/&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n      &lt;/ds:Transforms&gt;\n      &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n      &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\n    &lt;/ds:Reference&gt;\n    &lt;ds:Reference&gt;\n      &lt;ds:Transforms&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n      &lt;/ds:Transforms&gt;\n      &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n      &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\n    &lt;/ds:Reference&gt;\n  &lt;/ds:SignedInfo&gt;\n&lt;/ds:Signature&gt;\n\n]]&gt;&lt;/signature&gt;\n&lt;/W3CComputeSignature&gt;\n&lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I have some problems to obtain this <code>&lt;ds:SignedInfo&gt;</code> and generate the file.  I followed some examples found on Oracle website, like <a href=\"https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html</a></p>\n<p>Based on this example, I am able to build the <code>SignedInfo</code> object with the <code>References</code>, <code>Transforms</code> and <code>Digest</code> I need. But I do not understand how to adapt the code after this step.</p>\n<p>In Oracle's webpage, they create the keypairs in order to effectively sign the document. In my case I do not need to sign the document ! My idea is to keep this <code>SignedInfo</code> object and materialize it in a <code>&lt;ds:SignedInfo&gt;</code> tag I would wrap in the <code>&lt;soap:Envelope&gt;&lt;soap:Body&gt;...&lt;signature&gt; CDATA </code>.</p>\n<p>But I found no suitable method on <code>SignedInfo</code> to help me. I tried to work with <code>DOMSignedInfo</code> but I have a classcast Exception :</p>\n<pre><code>XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\nSignedInfo si = fac.newSignedInfo(.......);\nDOMSignedInfo domSi = (DOMSignedInfo) si;\n\n--&gt;  java.lang.ClassCastException: org.jcp.xml.dsig.internal.dom.DOMSignedInfo cannot be cast to org.apache.jcp.xml.dsig.internal.dom.DOMSignedInfo\n</code></pre>\n<p>And I am unsure what I could do with a <code>DOMSignedInfo</code>.</p>\n<p>Any clues to help me?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1620137643,"post_id":67385105,"comment_id":119108236,"body_markdown":"Looks like you have an old version of Apache Commons Compress on your classpath, can you remove the old one and leave just the one that Apache POI uses?","body":"Looks like you have an old version of Apache Commons Compress on your classpath, can you remove the old one and leave just the one that Apache POI uses?"},{"owner":{"account_id":217530,"reputation":389,"user_id":473376,"accept_rate":67,"display_name":"Sudhakar Singh"},"score":0,"creation_date":1656991112,"post_id":67385105,"comment_id":128697416,"body_markdown":"did we get an answer here ? I am curious as I am also getting a similar error\n- \nInputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\n        at org.drools.decisiontable.DecisionTableProviderImpl.loadFromResource(DecisionTableProviderImpl.java:49)","body":"did we get an answer here ? I am curious as I am also getting a similar error -  InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.         at org.drools.decisiontable.DecisionTableProviderImpl.loadFromR&zwnj;&#8203;esource(DecisionTabl&zwnj;&#8203;eProviderImpl.java:4&zwnj;&#8203;9)"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1656995884,"post_id":67385105,"comment_id":128698078,"body_markdown":"@Sudhakar Singh: I doubt someone will be able to answer this properly as the stacktrace is not complete. The stacktrace tells that **something** tries using the constructor of  `ZipArchiveThresholdInputStream` and hand over an `InputStream`which not implements `InputStreamStatistics`. But the constructor of  `ZipArchiveThresholdInputStream` checks whether  the given `InputStream` is instanceof `InputStreamStatistics` and throws that error if not. So we would need to know **what** tries using the constructor with a wrong `InputStream`.","body":"@Sudhakar Singh: I doubt someone will be able to answer this properly as the stacktrace is not complete. The stacktrace tells that <b>something</b> tries using the constructor of  <code>ZipArchiveThresholdInputStream</code> and hand over an <code>InputStream</code>which not implements <code>InputStreamStatistics</code>. But the constructor of  <code>ZipArchiveThresholdInputStream</code> checks whether  the given <code>InputStream</code> is instanceof <code>InputStreamStatistics</code> and throws that error if not. So we would need to know <b>what</b> tries using the constructor with a wrong <code>InputStream</code>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1656998938,"post_id":67385105,"comment_id":128698573,"body_markdown":"As a guess, as @Gagravarr told already, there must be an old version of `org.apache.commons`-&gt; `commons-compress` in class path where `ZipFile.getInputStream(ZipArchiveEntry ze)` returns an `InputStream` which not  implements `InputStreamStatistics`. That would must be a  `commons-compress`  version lower than or equal `1.16`. So check your class path.","body":"As a guess, as @Gagravarr told already, there must be an old version of <code>org.apache.commons</code>-&gt; <code>commons-compress</code> in class path where <code>ZipFile.getInputStream(ZipArchiveEntry ze)</code> returns an <code>InputStream</code> which not  implements <code>InputStreamStatistics</code>. That would must be a  <code>commons-compress</code>  version lower than or equal <code>1.16</code>. So check your class path."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1657008657,"post_id":67385105,"comment_id":128701237,"body_markdown":"@GNF can you provide a small [mre] to reproduce the message please? Could help to find a solution. Best WITH your dependencies specified.","body":"@GNF can you provide a small <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to reproduce the message please? Could help to find a solution. Best WITH your dependencies specified."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1657351152,"post_id":67385105,"comment_id":128794103,"body_markdown":"I will never understand why people open questions or even spend reputation points for a bounty on other people&#39;s ones, but then are unwilling to walk the last mile and provide an [MCVE](https://stackoverflow.com/help/mcve). Instead, they do nothing and let the question stay unanswered or let the bounty expire due to their own inactivity and lack of cooperation. Is that meant to yield helpful answers? I just don&#39;t get it. Folks, if you are unable to create an MCVE, stop calling yourselves software developers! _(Sorry for the rant.)_","body":"I will never understand why people open questions or even spend reputation points for a bounty on other people&#39;s ones, but then are unwilling to walk the last mile and provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Instead, they do nothing and let the question stay unanswered or let the bounty expire due to their own inactivity and lack of cooperation. Is that meant to yield helpful answers? I just don&#39;t get it. Folks, if you are unable to create an MCVE, stop calling yourselves software developers! <i>(Sorry for the rant.)</i>"},{"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"score":0,"creation_date":1657445687,"post_id":67385105,"comment_id":128807850,"body_markdown":"I did not receive any answers (except for the Gagravarr suggestion) until this thread has come back to live **14 months** later.\nI cannot remember now if / how I solved this problem. I agree with Gagravarr that this might have been a library conflict. Due to time constrains in the project and taking into account that POI 5.x did not provide any new features which were needed,  I think I just switched back to POI 4.x.","body":"I did not receive any answers (except for the Gagravarr suggestion) until this thread has come back to live <b>14 months</b> later. I cannot remember now if / how I solved this problem. I agree with Gagravarr that this might have been a library conflict. Due to time constrains in the project and taking into account that POI 5.x did not provide any new features which were needed,  I think I just switched back to POI 4.x."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1657956615,"post_id":67385105,"comment_id":128936989,"body_markdown":"It would not have taken 14 months but possibly less than 14 hours to receive an answer, if you simply had asked your question the right way. &#128521; My remarks from above also went to the person opening the bounty, drawing attention to this old question, but who also did nothing whatsoever to make it reproducible.","body":"It would not have taken 14 months but possibly less than 14 hours to receive an answer, if you simply had asked your question the right way. ðŸ˜‰ My remarks from above also went to the person opening the bounty, drawing attention to this old question, but who also did nothing whatsoever to make it reproducible."}],"answers":[{"tags":[],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657533239,"creation_date":1657533239,"answer_id":72936678,"question_id":67385105,"body_markdown":"There are several reasons this could be happening, as mentioned in the comments.\r\n\r\nThere could be a version conflict. Specifically you have version &lt;= 1.6 of Apache commons-compress alongside &gt;= 5 of Apache POI which are not compatible. To solve this, you will need to change your classpath - if you&#39;re using Maven then use `mvn dependency:tree` and if Gradle then use `gradle dependencies`.\r\n\r\nYou don&#39;t know where the call to the constructor is coming from because (probably) the application server Liberty is removing some of them. You can get the full stacktrace from `messages.log` and then you can see the full cause which could poentially be another class calling the `ZipArchiveThresholdInputStream` constructor with another InputStream that doesn&#39;t implement `InputStreamStatistics`. I would guess that this is less likely than the simple version conflict mentioned above.","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>There are several reasons this could be happening, as mentioned in the comments.</p>\n<p>There could be a version conflict. Specifically you have version &lt;= 1.6 of Apache commons-compress alongside &gt;= 5 of Apache POI which are not compatible. To solve this, you will need to change your classpath - if you're using Maven then use <code>mvn dependency:tree</code> and if Gradle then use <code>gradle dependencies</code>.</p>\n<p>You don't know where the call to the constructor is coming from because (probably) the application server Liberty is removing some of them. You can get the full stacktrace from <code>messages.log</code> and then you can see the full cause which could poentially be another class calling the <code>ZipArchiveThresholdInputStream</code> constructor with another InputStream that doesn't implement <code>InputStreamStatistics</code>. I would guess that this is less likely than the simple version conflict mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668338139,"creation_date":1668338139,"answer_id":74420414,"question_id":67385105,"body_markdown":"I have been facing this problem every time I tried to upgrade to a new Apache POI release and used to forget about it because of not having the time to take care of it. \r\nI had tried with multiple releases of Apache Common Compress (1.18 - 1.22). Same results.\r\n\r\nThe other day (two years since my first try and 18 months after posting my question) I finally found a useful suggestion for solving my problem. I am posting it here in case someone might find it useful. \r\nThe suggestion was using the piece of code below to find which library contained the code I was trying to use.\r\n\r\n```\r\nString s = &lt;class&gt;.getProtectionDomain().getCodeSource().getLocation().toString();\r\nSystem.out.println(s);\r\n```\r\n\r\nSo, in my case I wrote:\r\n```\r\nString s = org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.class.getProtectionDomain().getCodeSource().getLocation().toString();\r\nSystem.out.println(s);\r\n```\r\n\r\nAnd the output was:\r\n\r\n```\r\nfile:/C:/IBM/lib/com.ibm.ws.kernel.boot_1.0.20.jar\r\n```\r\n\r\nMy WebSphere Liberty server had its own version of the library and that was the one in use. \r\n\r\nOnce I found the problem it was just a case of changing the order on which the libraries were loaded (parentLast).\r\n","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>I have been facing this problem every time I tried to upgrade to a new Apache POI release and used to forget about it because of not having the time to take care of it.\nI had tried with multiple releases of Apache Common Compress (1.18 - 1.22). Same results.</p>\n<p>The other day (two years since my first try and 18 months after posting my question) I finally found a useful suggestion for solving my problem. I am posting it here in case someone might find it useful.\nThe suggestion was using the piece of code below to find which library contained the code I was trying to use.</p>\n<pre><code>String s = &lt;class&gt;.getProtectionDomain().getCodeSource().getLocation().toString();\nSystem.out.println(s);\n</code></pre>\n<p>So, in my case I wrote:</p>\n<pre><code>String s = org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.class.getProtectionDomain().getCodeSource().getLocation().toString();\nSystem.out.println(s);\n</code></pre>\n<p>And the output was:</p>\n<pre><code>file:/C:/IBM/lib/com.ibm.ws.kernel.boot_1.0.20.jar\n</code></pre>\n<p>My WebSphere Liberty server had its own version of the library and that was the one in use.</p>\n<p>Once I found the problem it was just a case of changing the order on which the libraries were loaded (parentLast).</p>\n"}],"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74420414,"answer_count":2,"score":1,"last_activity_date":1668338139,"creation_date":1620132595,"question_id":67385105,"body_markdown":"I have just migrated my libraries so that my code is now using the new Apache POI5.0 instead of POI4.12. I am using POI to build an Excel file from scratch with data retrieved from my database.\r\nThe code was working fine but now, when my code is writing the contents, I receive an exception. \r\nI am using commons-compress-1.20 which is the library released with Apache POI5.0.\r\n\r\n``` \r\n[err] java.lang.IllegalArgumentException: InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\r\n[err] \tat org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\r\n[err] \tat [internal classes]\r\n``` \r\n\r\nAny ideas? Thanks in advance.","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>I have just migrated my libraries so that my code is now using the new Apache POI5.0 instead of POI4.12. I am using POI to build an Excel file from scratch with data retrieved from my database.\nThe code was working fine but now, when my code is writing the contents, I receive an exception.\nI am using commons-compress-1.20 which is the library released with Apache POI5.0.</p>\n<pre><code>[err] java.lang.IllegalArgumentException: InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\n[err]   at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\n[err]   at [internal classes]\n</code></pre>\n<p>Any ideas? Thanks in advance.</p>\n"},{"tags":["java","data-structures","avl-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668329260,"post_id":74419597,"comment_id":131375037,"body_markdown":"The common AVL implementation does not store height in the node, but (only) a balance factor. I don&#39;t understand why a HashMap would not work? The memory needs for that hashMap are O(n). That hashMap should deliver the balance factor. You don&#39;t need height at all. What is the problem?","body":"The common AVL implementation does not store height in the node, but (only) a balance factor. I don&#39;t understand why a HashMap would not work? The memory needs for that hashMap are O(n). That hashMap should deliver the balance factor. You don&#39;t need height at all. What is the problem?"},{"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"score":0,"creation_date":1668330561,"post_id":74419597,"comment_id":131375200,"body_markdown":"@trincot I have added some source code and test code. Hopefully, it will help you understand the problem better.","body":"@trincot I have added some source code and test code. Hopefully, it will help you understand the problem better."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668331654,"post_id":74419597,"comment_id":131375343,"body_markdown":"Try to find a smaller case where you get the same error, and then use a debugger to inspect where things go wrong. You seem to assume it has to do with the *size* of the input, and that somehow a hashMap breaks down, but that is very unlikely given the error message you got, which is just a NPE.","body":"Try to find a smaller case where you get the same error, and then use a debugger to inspect where things go wrong. You seem to assume it has to do with the <i>size</i> of the input, and that somehow a hashMap breaks down, but that is very unlikely given the error message you got, which is just a NPE."},{"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"score":0,"creation_date":1668333846,"post_id":74419597,"comment_id":131375677,"body_markdown":"@trincot You are correct. The problem is not likely to be the size of the input. I tested the code with the same input multiple times, sometimes it would work, and sometimes it would not. There has to be something wrong with the rotation. I am still trying to figure it out. Thank you for your suggestion!","body":"@trincot You are correct. The problem is not likely to be the size of the input. I tested the code with the same input multiple times, sometimes it would work, and sometimes it would not. There has to be something wrong with the rotation. I am still trying to figure it out. Thank you for your suggestion!"}],"answers":[{"tags":[],"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668337942,"creation_date":1668337942,"answer_id":74420397,"question_id":74419597,"body_markdown":"Problem found. A careless mistake. I was focusing too much on the size of the input. The actual problem is with the insertion and rotations.\r\nThe amended code.\r\n\r\n    public Node insert(Node curNode, Student s){\r\n            if (curNode == null){\r\n                Node newNode = new Node(s);\r\n                map.put(newNode, 1);\r\n                return newNode;\r\n            }\r\n            else if (s.name.compareTo(curNode.e.name) &lt; 0)\r\n                curNode.lc = insert(curNode.lc, s);\r\n            else if (s.name.compareTo(curNode.e.name) &gt; 0)\r\n                curNode.rc = insert(curNode.rc, s);\r\n            else return curNode;\r\n            int l, r;\r\n            map.put(curNode, max(nheight(curNode.rc), nheight(curNode.lc)) + 1);\r\n    \r\n            int balance = getBalance(curNode);\r\n    \r\n            if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &lt; 0)\r\n                return rightRotate(curNode);\r\n            if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &gt; 0)\r\n                return leftRotate(curNode);\r\n            if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &gt; 0){\r\n                curNode.lc = leftRotate(curNode.lc);\r\n                return rightRotate(curNode);\r\n            }\r\n            if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &lt; 0){\r\n                curNode.rc = rightRotate(curNode.rc);\r\n                return leftRotate(curNode);\r\n            }\r\n            return curNode;\r\n        }","title":"How to implement an AVL tree without storing height inside the node?","body":"<p>Problem found. A careless mistake. I was focusing too much on the size of the input. The actual problem is with the insertion and rotations.\nThe amended code.</p>\n<pre><code>public Node insert(Node curNode, Student s){\n        if (curNode == null){\n            Node newNode = new Node(s);\n            map.put(newNode, 1);\n            return newNode;\n        }\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\n            curNode.lc = insert(curNode.lc, s);\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\n            curNode.rc = insert(curNode.rc, s);\n        else return curNode;\n        int l, r;\n        map.put(curNode, max(nheight(curNode.rc), nheight(curNode.lc)) + 1);\n\n        int balance = getBalance(curNode);\n\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &lt; 0)\n            return rightRotate(curNode);\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &gt; 0)\n            return leftRotate(curNode);\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &gt; 0){\n            curNode.lc = leftRotate(curNode.lc);\n            return rightRotate(curNode);\n        }\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &lt; 0){\n            curNode.rc = rightRotate(curNode.rc);\n            return leftRotate(curNode);\n        }\n        return curNode;\n    }\n</code></pre>\n"}],"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420397,"answer_count":1,"score":0,"last_activity_date":1668337942,"creation_date":1668329070,"question_id":74419597,"body_markdown":"I am currently learning binary search tree. For a school assignment, I want to implement an self-balancing binary search tree (I choose AVL tree); however, the Node class cannot be modified. I cannot use the common implementation of the AVL tree (I can&#39;t store height inside the node).\r\nThis is the source code that I implemented (using HashMap).\r\n\r\n```\r\npublic class Tree {\r\n    static class Student {\r\n        String id;\r\n        String name;\r\n        public Student(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String toString() {return id + &quot;, &quot; + name;}\r\n    }\r\n    \r\n    private class Node {\r\n        Student e;\r\n        public Node lc, rc; // left child; right child\r\n\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public Node(Student data) {\r\n            this.e = data;\r\n        }\r\n\r\n        public String toString() {\r\n            return e.toString();\r\n        }\r\n    }\r\n\r\n    Node root;\r\n    public HashMap&lt;Node, Integer&gt; map = new HashMap&lt;&gt;();\r\n   \r\n    public void insert(Student s) {\r\n        root = insert(root, s);\r\n    }\r\n\r\n    public Node insert(Node curNode, Student s){\r\n        if (curNode == null){\r\n            Node newNode = new Node(s);\r\n            map.put(newNode, 1);\r\n            return newNode;\r\n        }\r\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\r\n            curNode.lc = insert(curNode.lc, s);\r\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\r\n            curNode.rc = insert(curNode.rc, s);\r\n        else return curNode;\r\n        int l, r;\r\n        map.put(curNode, max(nheight(curNode.rc), \r\n                nheight(curNode.lc)) + 1);\r\n        \r\n        int balance = getBalance(curNode);\r\n\r\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0)\r\n            return rightRotate(curNode);\r\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0)\r\n            return leftRotate(curNode);\r\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0){\r\n            curNode.lc = leftRotate(curNode.lc);\r\n            return rightRotate(curNode);\r\n        }\r\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0){\r\n            curNode.rc = rightRotate(curNode.rc);\r\n            return leftRotate(curNode);\r\n        }\r\n        return curNode;\r\n    }\r\n    \r\n\r\n    public int max(int a, int b){\r\n        return a &gt; b ? a : b;\r\n    }\r\n    \r\n    public int nheight(Node curRoot){\r\n        if (curRoot == null) return 0;\r\n        return map.get(curRoot);\r\n    }\r\n\r\n    public int getBalance(Node curNode){\r\n        if (curNode == null) return 0;\r\n        return nheight(curNode.lc) - nheight(curNode.rc);\r\n    }\r\n    \r\n    public Node rightRotate(Node y){\r\n        Node x = y.lc;\r\n        Node T2 = x.rc;\r\n        x.rc = y;\r\n        y.lc = T2;\r\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\r\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\r\n        return x;\r\n    }\r\n\r\n    public Node leftRotate(Node x){\r\n        Node y = x.rc;\r\n        Node T2 = y.lc;\r\n        y.lc = x;\r\n        x.rc = T2;\r\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\r\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\r\n        return y;\r\n    }\r\n    \r\n}\r\n     \r\n```\r\n\r\n\r\nI tried using a HashMap&lt;Node, Integer&gt; to store the height of each node, and using recursive method to calculate the height and balance factor every time. For small number of nodes, the above two methods would work; however, for large node size (&gt;=1000000) those methods will not work. Is there any other data structures I can use the keep track of the height of each node?\r\n\r\nThis is the code I used to test. I randomly created 1000000 students with names and ids and insert them into the AVL tree.\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Tree tree = new Tree();\r\n        String[] surnames = {&quot;Chan&quot;, &quot;Leung&quot;, &quot;Li&quot;, &quot;Lai&quot;, &quot;Cheung&quot;, &quot;Yeung&quot;, &quot;Tang&quot;, &quot;Chow&quot;, &quot;Fung&quot;, &quot;Tsang&quot;, &quot;Kwok&quot;, &quot;Chu&quot;, &quot;Liu&quot;, &quot;Wong&quot;, &quot;Mak&quot;};\r\n        SecureRandom random = new SecureRandom();\r\n        String[] names = new String[1000000];\r\n        for (int j = 0; j &lt; names.length; j++) {\r\n\t        \tStringBuilder a = new StringBuilder();\r\n\t        \tfor(int i = 0; i &lt; 5; i ++) {\r\n\t        \t\ta.append((char)(&#39;a&#39; + random.nextInt(25)));\r\n\t        \t}\r\n\t        \tnames[j] = surnames[random.nextInt(surnames.length)] + &quot; &quot; + a.toString();\r\n        }\r\n        int id = 22222222;\r\n        for (String name : names) {\r\n            id += random.nextInt(100);\r\n            tree.insert(new Tree.Student(String.valueOf(id), name));\r\n        }\r\n    }\r\n}\r\n\r\nThe code works fine when the size of the String is 1000 (String[1000]). It gets error when the size of String gets larger. For example, when it gets to 1000000. The error code is below.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;lc&quot; because &quot;y&quot; is null","title":"How to implement an AVL tree without storing height inside the node?","body":"<p>I am currently learning binary search tree. For a school assignment, I want to implement an self-balancing binary search tree (I choose AVL tree); however, the Node class cannot be modified. I cannot use the common implementation of the AVL tree (I can't store height inside the node).\nThis is the source code that I implemented (using HashMap).</p>\n<pre><code>public class Tree {\n    static class Student {\n        String id;\n        String name;\n        public Student(String id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n\n        public String toString() {return id + &quot;, &quot; + name;}\n    }\n    \n    private class Node {\n        Student e;\n        public Node lc, rc; // left child; right child\n\n        @SuppressWarnings(&quot;unused&quot;)\n        public Node(Student data) {\n            this.e = data;\n        }\n\n        public String toString() {\n            return e.toString();\n        }\n    }\n\n    Node root;\n    public HashMap&lt;Node, Integer&gt; map = new HashMap&lt;&gt;();\n   \n    public void insert(Student s) {\n        root = insert(root, s);\n    }\n\n    public Node insert(Node curNode, Student s){\n        if (curNode == null){\n            Node newNode = new Node(s);\n            map.put(newNode, 1);\n            return newNode;\n        }\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\n            curNode.lc = insert(curNode.lc, s);\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\n            curNode.rc = insert(curNode.rc, s);\n        else return curNode;\n        int l, r;\n        map.put(curNode, max(nheight(curNode.rc), \n                nheight(curNode.lc)) + 1);\n        \n        int balance = getBalance(curNode);\n\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0)\n            return rightRotate(curNode);\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0)\n            return leftRotate(curNode);\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0){\n            curNode.lc = leftRotate(curNode.lc);\n            return rightRotate(curNode);\n        }\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0){\n            curNode.rc = rightRotate(curNode.rc);\n            return leftRotate(curNode);\n        }\n        return curNode;\n    }\n    \n\n    public int max(int a, int b){\n        return a &gt; b ? a : b;\n    }\n    \n    public int nheight(Node curRoot){\n        if (curRoot == null) return 0;\n        return map.get(curRoot);\n    }\n\n    public int getBalance(Node curNode){\n        if (curNode == null) return 0;\n        return nheight(curNode.lc) - nheight(curNode.rc);\n    }\n    \n    public Node rightRotate(Node y){\n        Node x = y.lc;\n        Node T2 = x.rc;\n        x.rc = y;\n        y.lc = T2;\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\n        return x;\n    }\n\n    public Node leftRotate(Node x){\n        Node y = x.rc;\n        Node T2 = y.lc;\n        y.lc = x;\n        x.rc = T2;\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\n        return y;\n    }\n    \n}\n     \n</code></pre>\n<p>I tried using a HashMap&lt;Node, Integer&gt; to store the height of each node, and using recursive method to calculate the height and balance factor every time. For small number of nodes, the above two methods would work; however, for large node size (&gt;=1000000) those methods will not work. Is there any other data structures I can use the keep track of the height of each node?</p>\n<p>This is the code I used to test. I randomly created 1000000 students with names and ids and insert them into the AVL tree.</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Tree tree = new Tree();\n    String[] surnames = {&quot;Chan&quot;, &quot;Leung&quot;, &quot;Li&quot;, &quot;Lai&quot;, &quot;Cheung&quot;, &quot;Yeung&quot;, &quot;Tang&quot;, &quot;Chow&quot;, &quot;Fung&quot;, &quot;Tsang&quot;, &quot;Kwok&quot;, &quot;Chu&quot;, &quot;Liu&quot;, &quot;Wong&quot;, &quot;Mak&quot;};\n    SecureRandom random = new SecureRandom();\n    String[] names = new String[1000000];\n    for (int j = 0; j &lt; names.length; j++) {\n            StringBuilder a = new StringBuilder();\n            for(int i = 0; i &lt; 5; i ++) {\n                a.append((char)('a' + random.nextInt(25)));\n            }\n            names[j] = surnames[random.nextInt(surnames.length)] + &quot; &quot; + a.toString();\n    }\n    int id = 22222222;\n    for (String name : names) {\n        id += random.nextInt(100);\n        tree.insert(new Tree.Student(String.valueOf(id), name));\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The code works fine when the size of the String is 1000 (String[1000]). It gets error when the size of String gets larger. For example, when it gets to 1000000. The error code is below.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;lc&quot; because &quot;y&quot; is null</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9105,"page":887,"page_size":100}
