{"items":[{"tags":["java","http","authentication","get"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655187065,"creation_date":1655184310,"answer_id":72611884,"question_id":72607653,"body_markdown":"Please use something like this:\r\n\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            URL url;\r\n            try {\r\n                url = new URL(&quot;https://api.company.com/api/auth?username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;);\r\n                HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n                int status = con.getResponseCode();\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                String inputLine;\r\n                StringBuilder content = new StringBuilder();\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    content.append(inputLine);\r\n                }\r\n                in.close();\r\n                con.disconnect();\r\n                System.out.println(&quot;Response status: &quot; + status);\r\n                System.out.println(content.toString());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nOr\r\n\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String params = &quot;username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;;\r\n    \r\n            CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n            HttpGet request = new HttpGet(&quot;https://api.company.com/api/auth?&quot; + params);\r\n            request.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            CloseableHttpResponse response = null;\r\n            try {\r\n                response = httpClient.execute(request);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(response.getStatusLine().getStatusCode());\r\n            try {\r\n                System.out.println(response.getEntity().getContent());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java HTTP GET for bearer token?","body":"<p>Please use something like this:</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        URL url;\n        try {\n            url = new URL(&quot;https://api.company.com/api/auth?username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;);\n            HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n            con.setRequestMethod(&quot;GET&quot;);\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            int status = con.getResponseCode();\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuilder content = new StringBuilder();\n            while ((inputLine = in.readLine()) != null) {\n                content.append(inputLine);\n            }\n            in.close();\n            con.disconnect();\n            System.out.println(&quot;Response status: &quot; + status);\n            System.out.println(content.toString());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>import org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\n\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        String params = &quot;username=&lt;username&gt;&amp;secret=&lt;secret&gt;&quot;;\n\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n        HttpGet request = new HttpGet(&quot;https://api.company.com/api/auth?&quot; + params);\n        request.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n        CloseableHttpResponse response = null;\n        try {\n            response = httpClient.execute(request);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.out.println(response.getStatusLine().getStatusCode());\n        try {\n            System.out.println(response.getEntity().getContent());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3022376,"reputation":151,"user_id":2563087,"display_name":"user2563087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655187065,"creation_date":1655145838,"question_id":72607653,"body_markdown":"I&#39;d like to get a bearer token with Java. My API reference says to do a GET with curl:\r\n\r\n    curl -G &quot;https://api.company.com/api/auth&quot; --data-urlencode &quot;username=&lt;username&gt;&quot; --\r\n    data-urlencode &quot;secret=&lt;secret&gt;&quot;\r\n\r\nThen, extract the “Value” property or the bearer token from the returned JSON object.\r\n\r\nWhat is the equivalent way to do this with java 8?","title":"Java HTTP GET for bearer token?","body":"<p>I'd like to get a bearer token with Java. My API reference says to do a GET with curl:</p>\n<pre><code>curl -G &quot;https://api.company.com/api/auth&quot; --data-urlencode &quot;username=&lt;username&gt;&quot; --\ndata-urlencode &quot;secret=&lt;secret&gt;&quot;\n</code></pre>\n<p>Then, extract the “Value” property or the bearer token from the returned JSON object.</p>\n<p>What is the equivalent way to do this with java 8?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1391963149,"post_id":21661611,"comment_id":32740823,"body_markdown":"Terminating condition on your title, and your question don&#39;t match.","body":"Terminating condition on your title, and your question don&#39;t match."},{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1391963163,"post_id":21661611,"comment_id":32740825,"body_markdown":"Hint: where are you _checking_ for -1 (or 0, or whatever), and what are you doing to exit the loop when you see it?","body":"Hint: where are you <i>checking</i> for -1 (or 0, or whatever), and what are you doing to exit the loop when you see it?"},{"owner":{"account_id":345285,"reputation":2175,"user_id":678095,"accept_rate":95,"display_name":"Aram Gevorgyan"},"score":0,"creation_date":1391963176,"post_id":21661611,"comment_id":32740829,"body_markdown":"oddCount&gt;=0&amp;&amp;evenCount&gt;=0 is always true","body":"oddCount&gt;=0&amp;&amp;evenCount&gt;=0 is always true"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391964827,"creation_date":1391963395,"answer_id":21661684,"question_id":21661611,"body_markdown":"There are a few problems here.\r\n\r\nFirst, since you never decrease `oddCount` and `evenCount`, the condition `oddCount&gt;=0&amp;&amp;evenCount&gt;=0` will always be `true`.\r\n\r\nSecond, you have an empty loop that loops endlessly, since it&#39;s condition is `true` and it has no body: `while (temp&gt;0);`\r\n\r\nI&#39;d just take out the first loop, which is redundant, and use a `do while` loop:\r\n\r\n    int oddCount = 0;\r\n    int evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    do {\r\n        System.out.print(&quot;Enter an integer: &quot;);\r\n        int temp = in.nextInt();\r\n        if (temp &gt; 0) {\r\n            if (temp % 2==0) {\r\n                evenCount++;\r\n            } else {\r\n                oddCount++;\r\n            }\r\n         }\r\n     } while (temp &gt; 0);\r\n\r\n     System.out.println(&quot;Number of even integers: &quot; + evenCount);\r\n     System.out.println(&quot;Number of odd integers: &quot;  + oddCount);\r\n","title":"Count even and odd intergers until 0 is encountered","body":"<p>There are a few problems here.</p>\n\n<p>First, since you never decrease <code>oddCount</code> and <code>evenCount</code>, the condition <code>oddCount&gt;=0&amp;&amp;evenCount&gt;=0</code> will always be <code>true</code>.</p>\n\n<p>Second, you have an empty loop that loops endlessly, since it's condition is <code>true</code> and it has no body: <code>while (temp&gt;0);</code></p>\n\n<p>I'd just take out the first loop, which is redundant, and use a <code>do while</code> loop:</p>\n\n<pre><code>int oddCount = 0;\nint evenCount = 0;\nScanner in = new Scanner(System.in);\ndo {\n    System.out.print(\"Enter an integer: \");\n    int temp = in.nextInt();\n    if (temp &gt; 0) {\n        if (temp % 2==0) {\n            evenCount++;\n        } else {\n            oddCount++;\n        }\n     }\n } while (temp &gt; 0);\n\n System.out.println(\"Number of even integers: \" + evenCount);\n System.out.println(\"Number of odd integers: \"  + oddCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963831,"creation_date":1391963431,"answer_id":21661695,"question_id":21661611,"body_markdown":"Your loop will always continue because `while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0)` will always be true in your case. Try it like this:\r\n\r\n    int oddCount = 0, evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    boolean continue = true;\r\n    while (continue){\r\n            System.out.print(&quot;Enter an integer: &quot;);\r\n            int temp = in.nextInt();\r\n            if (temp&gt;0) {\r\n                if (temp%2==0)\r\n                    evenCount++;\r\n                else \r\n                    oddCount++;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Number of even integers: &quot;+evenCount);\r\n                System.out.println(&quot;Number of odd integers: &quot; +oddCount);\r\n                continue = false;\r\n            }\r\n        }","title":"Count even and odd intergers until 0 is encountered","body":"<p>Your loop will always continue because <code>while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0)</code> will always be true in your case. Try it like this:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0;\nScanner in = new Scanner(System.in);\nboolean continue = true;\nwhile (continue){\n        System.out.print(\"Enter an integer: \");\n        int temp = in.nextInt();\n        if (temp&gt;0) {\n            if (temp%2==0)\n                evenCount++;\n            else \n                oddCount++;\n        }\n        else {\n            System.out.println(\"Number of even integers: \"+evenCount);\n            System.out.println(\"Number of odd integers: \" +oddCount);\n            continue = false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963748,"creation_date":1391963748,"answer_id":21661763,"question_id":21661611,"body_markdown":"I think using do While loop will also prevent your isses,\r\n\r\n    int oddCount = 0;\r\n    int evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    do {\r\n        System.out.print(&quot;Enter an integer: &quot;);\r\n        int temp = in.nextInt();\r\n        if (temp &gt; 0) {\r\n            (temp % 2==0)? evenCount++:oddCount++;\r\n        }\r\n     } while (temp &gt; 0);","title":"Count even and odd intergers until 0 is encountered","body":"<p>I think using do While loop will also prevent your isses,</p>\n\n<pre><code>int oddCount = 0;\nint evenCount = 0;\nScanner in = new Scanner(System.in);\ndo {\n    System.out.print(\"Enter an integer: \");\n    int temp = in.nextInt();\n    if (temp &gt; 0) {\n        (temp % 2==0)? evenCount++:oddCount++;\n    }\n } while (temp &gt; 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3925071,"reputation":643,"user_id":3245887,"display_name":"Mohammed Alokshiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391963939,"creation_date":1391963939,"answer_id":21661818,"question_id":21661611,"body_markdown":"Your code reads just one integer, then stuck at this line: `while (temp&gt;0);`\r\n\r\nThe code below solve your problem:\r\n\r\n    int oddCount = 0, evenCount = 0, temp;\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.print(&quot;Enter an integer: &quot;);\r\n    while (true) {\r\n    \ttemp = in.nextInt();\r\n    \tif (temp &lt; 0) {\r\n    \t\tbreak;\r\n    \t} else if (temp % 2 == 0) {\r\n    \t\tevenCount = evenCount + 1;\r\n    \t} else {\r\n    \t\toddCount = oddCount + 1;\r\n    \t}\r\n    }\r\n    System.out.println(&quot;Number of even integers: &quot; + evenCount);\r\n    System.out.println(&quot;Number of odd integers: &quot; + oddCount);","title":"Count even and odd intergers until 0 is encountered","body":"<p>Your code reads just one integer, then stuck at this line: <code>while (temp&gt;0);</code></p>\n\n<p>The code below solve your problem:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0, temp;\nScanner in = new Scanner(System.in);\nSystem.out.print(\"Enter an integer: \");\nwhile (true) {\n    temp = in.nextInt();\n    if (temp &lt; 0) {\n        break;\n    } else if (temp % 2 == 0) {\n        evenCount = evenCount + 1;\n    } else {\n        oddCount = oddCount + 1;\n    }\n}\nSystem.out.println(\"Number of even integers: \" + evenCount);\nSystem.out.println(\"Number of odd integers: \" + oddCount);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391965553,"creation_date":1391965194,"answer_id":21662072,"question_id":21661611,"body_markdown":"Try this..\r\n\r\n    Scanner s=new Scanner(System.in);\r\n    int evenCount=0, oddCount=0;\r\n    while(true)\r\n    {\r\n    System.out.println(&quot;Enter a number&quot;);\r\n    int n=s.nextInt();\r\n       if(n&lt;0) break;\r\n       if(n%2==0) evenCount+=n;\r\n       else oddCount+=n;\r\n    }\r\n    System.out.println(&quot;even count &quot;+evenCount);\r\n    System.out.println(&quot;odd count &quot;+oddCount);\r\n","title":"Count even and odd intergers until 0 is encountered","body":"<p>Try this..</p>\n\n<pre><code>Scanner s=new Scanner(System.in);\nint evenCount=0, oddCount=0;\nwhile(true)\n{\nSystem.out.println(\"Enter a number\");\nint n=s.nextInt();\n   if(n&lt;0) break;\n   if(n%2==0) evenCount+=n;\n   else oddCount+=n;\n}\nSystem.out.println(\"even count \"+evenCount);\nSystem.out.println(\"odd count \"+oddCount);\n</code></pre>\n"}],"owner":{"account_id":3991118,"reputation":11,"user_id":3290019,"display_name":"user3290019"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1655186790,"creation_date":1391963030,"question_id":21661611,"body_markdown":"Here is what I have to do:&lt;br&gt;\r\n&gt; &quot;Write a segment of code that reads a sequence of integers from the keyboard until the user enters a negative number.  It should then output a count of the number of even integers and the number of odd integers read (not including the final negative value in either count).  Remember - 0 is an even number.  For example, if the sequence is: \r\n  &lt;pre&gt;\r\n2\r\n7\r\n15\r\n5\r\n88\r\n1243\r\n104\r\n-1\r\n&lt;/pre&gt;\r\nThen the output should be\r\n &lt;pre&gt;\r\nNumber of even integers: 3\r\nNumber of odd integers: 4\r\n&lt;/pre&gt;\r\n\r\nMy code just keeps going even after inputting -1. I have a feeling I am missing a `{ `somewhere or wrote the code wrong. Here is my code:\r\n\r\n    int oddCount = 0, evenCount = 0;\r\n    Scanner in = new Scanner(System.in);\r\n    while (oddCount&gt;=0&amp;&amp;evenCount&gt;=0){\r\n\t\t\tSystem.out.print(&quot;Enter an integer: &quot;);\r\n\t\t\tint temp = in.nextInt();\r\n\t\t\tif (temp&gt;0) {\r\n\t\t\t\tif (temp%2==0)\r\n\t\t\t\t\tevenCount = evenCount + 1;\r\n\t\t\t\telse oddCount = oddCount + 1;\r\n\t\t\t\twhile (temp&gt;0);\r\n\t\t\tSystem.out.println(&quot;Number of even integers: &quot;+evenCount);\r\n\t\t\tSystem.out.println(&quot;Number of odd integers: &quot; +oddCount);\r\n\t\t\t}\r\n\t\t} ","title":"Count even and odd intergers until 0 is encountered","body":"<p>Here is what I have to do:<br></p>\n\n<blockquote>\n  <p>\"Write a segment of code that reads a sequence of integers from the keyboard until the user enters a negative number.  It should then output a count of the number of even integers and the number of odd integers read (not including the final negative value in either count).  Remember - 0 is an even number.  For example, if the sequence is: \n  <pre>\n2\n7\n15\n5\n88\n1243\n104\n-1\n</pre>\n  Then the output should be\n <pre>\nNumber of even integers: 3\nNumber of odd integers: 4\n</pre></p>\n</blockquote>\n\n<p>My code just keeps going even after inputting -1. I have a feeling I am missing a <code>{</code>somewhere or wrote the code wrong. Here is my code:</p>\n\n<pre><code>int oddCount = 0, evenCount = 0;\nScanner in = new Scanner(System.in);\nwhile (oddCount&gt;=0&amp;&amp;evenCount&gt;=0){\n        System.out.print(\"Enter an integer: \");\n        int temp = in.nextInt();\n        if (temp&gt;0) {\n            if (temp%2==0)\n                evenCount = evenCount + 1;\n            else oddCount = oddCount + 1;\n            while (temp&gt;0);\n        System.out.println(\"Number of even integers: \"+evenCount);\n        System.out.println(\"Number of odd integers: \" +oddCount);\n        }\n    } \n</code></pre>\n"},{"tags":["java","android","c++","java-native-interface","djinni"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1649709349,"post_id":71833851,"comment_id":126940631,"body_markdown":"Why not just an array of bytes?  Why complicate things?  You don&#39;t need to pass the array from Java to C, just have C create the array.  Worrying about a single memcopy is really premature optimization.","body":"Why not just an array of bytes?  Why complicate things?  You don&#39;t need to pass the array from Java to C, just have C create the array.  Worrying about a single memcopy is really premature optimization."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1649718067,"post_id":71833851,"comment_id":126942664,"body_markdown":"I have to agree with @GabeSechan: keep it simple and use `byte` arrays.  `public native byte [] getDataFromNativeCode(...);`  You make it more complicated only ***after*** profiling your code proves the copying of data into the Java `byte[]` is a bottleneck.  And guess what?  There&#39;s a good chance your &quot;improved&quot; code won&#39;t be any faster.  See https://stackoverflow.com/questions/26603285/return-byte-array-in-jni-android","body":"I have to agree with @GabeSechan: keep it simple and use <code>byte</code> arrays.  <code>public native byte [] getDataFromNativeCode(...);</code>  You make it more complicated only <b><i>after</i></b> profiling your code proves the copying of data into the Java <code>byte[]</code> is a bottleneck.  And guess what?  There&#39;s a good chance your &quot;improved&quot; code won&#39;t be any faster.  See <a href=\"https://stackoverflow.com/questions/26603285/return-byte-array-in-jni-android\" title=\"return byte array in jni android\">stackoverflow.com/questions/26603285/&hellip;</a>"},{"owner":{"account_id":896755,"reputation":384,"user_id":933838,"accept_rate":50,"display_name":"Josh A."},"score":0,"creation_date":1649731506,"post_id":71833851,"comment_id":126944830,"body_markdown":"I&#39;m not worried about the CPU cycles necessary to do the memcpy, I&#39;m worried about the extra memory usage. Based on these responses, I am relaxing my approach a bit. However, I&#39;ve been reading the JNI spec and I&#39;m struggling to find what types are guaranteed to be copied (or not).","body":"I&#39;m not worried about the CPU cycles necessary to do the memcpy, I&#39;m worried about the extra memory usage. Based on these responses, I am relaxing my approach a bit. However, I&#39;ve been reading the JNI spec and I&#39;m struggling to find what types are guaranteed to be copied (or not)."}],"answers":[{"tags":[],"owner":{"account_id":1020457,"reputation":26,"user_id":1030940,"display_name":"finalpatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655186266,"creation_date":1655186266,"answer_id":72612137,"question_id":71833851,"body_markdown":"Snap&#39;s Djinni has built-in support for passing large buffers with and without ownership semantics. Checkout this link for details:\r\n\r\nhttps://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview","title":"Passing large buffers from C++ to Java on Android","body":"<p>Snap's Djinni has built-in support for passing large buffers with and without ownership semantics. Checkout this link for details:</p>\n<p><a href=\"https://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview\" rel=\"nofollow noreferrer\">https://github.com/Snapchat/djinni#exposing-data-across-language-boundary-with-dataview</a></p>\n"}],"owner":{"account_id":896755,"reputation":384,"user_id":933838,"accept_rate":50,"display_name":"Josh A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655186266,"creation_date":1649708497,"question_id":71833851,"body_markdown":"I&#39;m trying to figure out the best way to pass large amounts (20Kb - 2MB) of data from C++ to Java on Android. I&#39;m using [Djinni][1] to generate as much of the bridge code as possible. The options I&#39;m considering are:\r\n\r\n1. Use [AHardwareBuffer][2] - looks like an abstraction around shared memory and is intended primarily for EGL images, and other GLES/Vulkan rendering needs but could be used here. I&#39;m uneasy because of the word &quot;hardware&quot; here as I&#39;m not interfacing with hardware. Perhaps &quot;hardware&quot; just implies this memory can be safely mapped to a device and my use case is _also_ ok? This solution would require hand coding some JNI code.\r\n\r\n1. Have Java provide the buffer - If java passes C++ `bytes[]` the data isn’t copied, only the address of the array. This is clunky as Java has to first ask C++ how big the buffer should be before allocating it. This solution could use auto-generated JNI code.\r\n\r\n1. Use [NewDirectByteBuffer][3] / j[ava.nio.ByteBuffer.allocateDirect][4] -  [Sources][5], without citations, claim that this is a bad option as its hard to manage and performs poorly for small amounts of data. It is what [Google recommends][6] though. This solution would require hand coding some JNI code.\r\n\r\nI&#39;m leaning towards option #2 as it doesn&#39;t require handwriting any JNI code and seems &quot;good enough&quot;. I&#39;m also assuming that this approach would work well in reverse (i.e. no/low overhead sharing of a buffer from Java to C++). Hoping to get y&#39;alls thoughts here before prototyping/benchmarking as doing so will be a somewhat sizable investment.\r\n\r\n  [1]: https://github.com/dropbox/djinni\r\n  [2]: https://developer.android.com/ndk/reference/group/a-hardware-buffer\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [5]: https://stackoverflow.com/a/28799276/933838\r\n  [6]: https://developer.android.com/training/articles/perf-jni#faq:-how-do-i-share-raw-data-with-native-code","title":"Passing large buffers from C++ to Java on Android","body":"<p>I'm trying to figure out the best way to pass large amounts (20Kb - 2MB) of data from C++ to Java on Android. I'm using <a href=\"https://github.com/dropbox/djinni\" rel=\"nofollow noreferrer\">Djinni</a> to generate as much of the bridge code as possible. The options I'm considering are:</p>\n<ol>\n<li><p>Use <a href=\"https://developer.android.com/ndk/reference/group/a-hardware-buffer\" rel=\"nofollow noreferrer\">AHardwareBuffer</a> - looks like an abstraction around shared memory and is intended primarily for EGL images, and other GLES/Vulkan rendering needs but could be used here. I'm uneasy because of the word &quot;hardware&quot; here as I'm not interfacing with hardware. Perhaps &quot;hardware&quot; just implies this memory can be safely mapped to a device and my use case is <em>also</em> ok? This solution would require hand coding some JNI code.</p>\n</li>\n<li><p>Have Java provide the buffer - If java passes C++ <code>bytes[]</code> the data isn’t copied, only the address of the array. This is clunky as Java has to first ask C++ how big the buffer should be before allocating it. This solution could use auto-generated JNI code.</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\" rel=\"nofollow noreferrer\">NewDirectByteBuffer</a> / j<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ava.nio.ByteBuffer.allocateDirect</a> -  <a href=\"https://stackoverflow.com/a/28799276/933838\">Sources</a>, without citations, claim that this is a bad option as its hard to manage and performs poorly for small amounts of data. It is what <a href=\"https://developer.android.com/training/articles/perf-jni#faq:-how-do-i-share-raw-data-with-native-code\" rel=\"nofollow noreferrer\">Google recommends</a> though. This solution would require hand coding some JNI code.</p>\n</li>\n</ol>\n<p>I'm leaning towards option #2 as it doesn't require handwriting any JNI code and seems &quot;good enough&quot;. I'm also assuming that this approach would work well in reverse (i.e. no/low overhead sharing of a buffer from Java to C++). Hoping to get y'alls thoughts here before prototyping/benchmarking as doing so will be a somewhat sizable investment.</p>\n"},{"tags":["java","spring","database","hibernate","sessionfactory"],"comments":[{"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"score":0,"creation_date":1631874824,"post_id":69204072,"comment_id":122347047,"body_markdown":"LazyInitializationException is thrown when you are trying to access the relational entity that has been marked as LAZY loadable.","body":"LazyInitializationException is thrown when you are trying to access the relational entity that has been marked as LAZY loadable."},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1631909561,"post_id":69204072,"comment_id":122360325,"body_markdown":"By the first session factory it does not throw any error but the same entity with the second session factory it throws LazyInitializationException - no session.","body":"By the first session factory it does not throw any error but the same entity with the second session factory it throws LazyInitializationException - no session."},{"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"score":0,"creation_date":1631924272,"post_id":69204072,"comment_id":122362957,"body_markdown":"Can you share the code for entity model and loading the entity","body":"Can you share the code for entity model and loading the entity"},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1632076980,"post_id":69204072,"comment_id":122390113,"body_markdown":"It happened with all entity models of the projects. With FIRST SESSION FACTORY it is working properly but don&#39;t know why when i used the second session factory it returns this error.","body":"It happened with all entity models of the projects. With FIRST SESSION FACTORY it is working properly but don&#39;t know why when i used the second session factory it returns this error."},{"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"score":0,"creation_date":1632167994,"post_id":69204072,"comment_id":122415884,"body_markdown":"Accodring to me, so far i come to know that the sessionHolder (in HibernateTransactionObject class),it is null for the second transaction manager(i.e. for second session factory)whereas for first transacion manager, the session holder is not null.And so by using load() with secondsesionfactory the session gets closed due to sessionHolder and gives me this lazy exception. But don&#39;t know why sessionHolder is null????","body":"Accodring to me, so far i come to know that the sessionHolder (in HibernateTransactionObject class),it is null for the second transaction manager(i.e. for second session factory)whereas for first transacion manager, the session holder is not null.And so by using load() with secondsesionfactory the session gets closed due to sessionHolder and gives me this lazy exception. But don&#39;t know why sessionHolder is null????"}],"answers":[{"tags":[],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655186095,"creation_date":1655186095,"answer_id":72612123,"question_id":69204072,"body_markdown":"Finally, I got the solution of the above problem. you need to create open session in view for second session factory also and to create the open session in view for second session factory.In web.xml configuration of open session in view for both session factories is required.","title":"Using load() by second session factory in my project throws org.hibernate.LazyInitializationException: could not initialize proxy - no session error","body":"<p>Finally, I got the solution of the above problem. you need to create open session in view for second session factory also and to create the open session in view for second session factory.In web.xml configuration of open session in view for both session factories is required.</p>\n"}],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72612123,"answer_count":1,"score":0,"last_activity_date":1655186095,"creation_date":1631777301,"question_id":69204072,"body_markdown":"I implemented the two session factories in my spring hibernate project.\r\n\r\nwhy is it happening, when i use the first session factory for load() it works fine but when i use second session factory for load method it returns the org.hibernate.LazyInitializationException: could not initialize proxy - no session  error.","title":"Using load() by second session factory in my project throws org.hibernate.LazyInitializationException: could not initialize proxy - no session error","body":"<p>I implemented the two session factories in my spring hibernate project.</p>\n<p>why is it happening, when i use the first session factory for load() it works fine but when i use second session factory for load method it returns the org.hibernate.LazyInitializationException: could not initialize proxy - no session  error.</p>\n"},{"tags":["java","unit-testing","mockito","stubbing","argument-matcher"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446042329,"post_id":33393595,"comment_id":54578626,"body_markdown":"Please provide a full (but simple) working example that demonstrate the problem.","body":"Please provide a full (but simple) working example that demonstrate the problem."},{"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"score":0,"creation_date":1446043241,"post_id":33393595,"comment_id":54579332,"body_markdown":"i cannot provide actual code as it is licenced to company i am working for. However I have given minimal relavent code . I can explain more if you don&#39;t find any of the above code explanatory enough.","body":"i cannot provide actual code as it is licenced to company i am working for. However I have given minimal relavent code . I can explain more if you don&#39;t find any of the above code explanatory enough."}],"answers":[{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446042857,"creation_date":1446042857,"answer_id":33393915,"question_id":33393595,"body_markdown":"Mockito has an eq() method\r\n\r\nYou could try:\r\n\r\n    import static org.mockito.Matchers.eq;\r\n\r\n    .....\r\n\r\n    when(myRepository.getMyClassInstances(eq(&quot;1234&quot;), eq(200L), eq(stubbedList)).thenReturn(stubbedMyClassInstanceList);","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>Mockito has an eq() method</p>\n\n<p>You could try:</p>\n\n<pre><code>import static org.mockito.Matchers.eq;\n\n.....\n\nwhen(myRepository.getMyClassInstances(eq(\"1234\"), eq(200L), eq(stubbedList)).thenReturn(stubbedMyClassInstanceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5278604,"reputation":795,"user_id":4214684,"display_name":"RCB"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1508938593,"creation_date":1446042884,"answer_id":33393927,"question_id":33393595,"body_markdown":"Mockito naturally uses `equals()` for argument matching. The `equals()` method in `List&lt;T&gt;` specifies that two lists are defined to be equal if they contain the same elements in the same order.\r\n\r\nYour custom argument matcher, that you say works, is not considering order.\r\n\r\nSo maybe the 1 and 3 are in the wrong order in the `List&lt;T&gt;`?","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>Mockito naturally uses <code>equals()</code> for argument matching. The <code>equals()</code> method in <code>List&lt;T&gt;</code> specifies that two lists are defined to be equal if they contain the same elements in the same order.</p>\n\n<p>Your custom argument matcher, that you say works, is not considering order.</p>\n\n<p>So maybe the 1 and 3 are in the wrong order in the <code>List&lt;T&gt;</code>?</p>\n"},{"tags":[],"owner":{"display_name":"user3184550"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655185059,"creation_date":1655184553,"answer_id":72611919,"question_id":33393595,"body_markdown":"You can check equality by yourself if your list consists of distinct elements:\r\n\r\n\t\tMockito.when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, Mockito.anyList())).thenAnswer(new Answer&lt;List&lt;MyClass&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;MyClass&gt; answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\tSet&lt;MyClass&gt; argSet = invocation.getArgument(2).stream().collect(Collectors.toSet());\r\n\t\t\t\tSet&lt;MyClass&gt; stubbedSet = stubbedList.stream().collect(Collectors.toSet());\r\n\t\t\t\tif (argSet.equals(stubbedSet)) {\r\n\t\t\t\t\treturn stubbedMyClassInstanceList;\r\n\t\t\t\t}else {\r\n\t\t\t\t\treturn myRepository.getMyClassInstances(&quot;1234&quot;, 200L, invocation.getArgument(2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>You can check equality by yourself if your list consists of distinct elements:</p>\n<pre><code>    Mockito.when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, Mockito.anyList())).thenAnswer(new Answer&lt;List&lt;MyClass&gt;&gt;() {\n        @Override\n        public List&lt;MyClass&gt; answer(InvocationOnMock invocation) throws Throwable {\n            Set&lt;MyClass&gt; argSet = invocation.getArgument(2).stream().collect(Collectors.toSet());\n            Set&lt;MyClass&gt; stubbedSet = stubbedList.stream().collect(Collectors.toSet());\n            if (argSet.equals(stubbedSet)) {\n                return stubbedMyClassInstanceList;\n            }else {\n                return myRepository.getMyClassInstances(&quot;1234&quot;, 200L, invocation.getArgument(2));\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":910649,"reputation":1776,"user_id":944600,"accept_rate":58,"display_name":"Shailesh Vaishampayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13606,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":33393927,"answer_count":3,"score":6,"last_activity_date":1655185059,"creation_date":1446042065,"question_id":33393595,"body_markdown":"I am trying to mock a class and return a stubbed list of objects when a method on the mocked object is called. Lets consider following code :\r\n\r\n    interface MyRepositry{\r\n           public List&lt;MyClass&gt; getMyClassInstances(String str,Long id,List&lt;Integer&gt; statusList);\r\n    }\r\n\r\nI am mocking above method ivocation as follows :\r\n\r\n    when(myRepository.getMyClassInstances(&quot;1234&quot;, 200L, stubbedList)).thenReturn(stubbedMyClassInstanceList);\r\n\r\nwhere \r\n\r\n     stubbedList \r\nis the list I create by inserting two integers 1 and 3. In real call also I pass the list I construct which has integers 1 and 3. Point ot note here is stubbedList object and the list object in real call are different but always contain two integers 1 and 3.\r\n\r\n\r\n    stubbedMyClassInstanceList    \r\nis the stubbed list of MyClass instances.\r\n\r\nHowever mockito return an empty list when i run the test. I did some debugging and I guess mockito is not able to match the list object that I am using in \r\n\r\n \r\n          when(..).thenReturn(..)\r\n\r\ncall and in actual call and hence doesn&#39;t find the correct signature.\r\n\r\nI cannot use \r\n\r\n    anyList() \r\n\r\nmatcher as I always pass list of two integers (1 and 3).\r\n\r\nI have resolved the problem by using custom \r\n\r\n         ArgumentMatcher \r\n\r\nas follows :\r\n\r\n         class StatusMatcher extends ArgumentMatcher&lt;List&gt; {\r\n        public boolean matches(Object list) {\r\n            List statuses = ((List) list);\r\n            return (statuses.size() == 2 &amp;&amp; statuses.contains(1) &amp;&amp; statuses.contains(3));\r\n        }\r\n    }\r\n\r\nSo the question is :\r\n\r\n 1) Is my guess about why the stubbing/mocking not working correct?\r\n 2) and is the solution I have used correct?\r\n\r\n\r\n         ","title":"Mockito doesn&#39;t correctly stub methods taking list as argument","body":"<p>I am trying to mock a class and return a stubbed list of objects when a method on the mocked object is called. Lets consider following code :</p>\n\n<pre><code>interface MyRepositry{\n       public List&lt;MyClass&gt; getMyClassInstances(String str,Long id,List&lt;Integer&gt; statusList);\n}\n</code></pre>\n\n<p>I am mocking above method ivocation as follows :</p>\n\n<pre><code>when(myRepository.getMyClassInstances(\"1234\", 200L, stubbedList)).thenReturn(stubbedMyClassInstanceList);\n</code></pre>\n\n<p>where </p>\n\n<pre><code> stubbedList \n</code></pre>\n\n<p>is the list I create by inserting two integers 1 and 3. In real call also I pass the list I construct which has integers 1 and 3. Point ot note here is stubbedList object and the list object in real call are different but always contain two integers 1 and 3.</p>\n\n<pre><code>stubbedMyClassInstanceList    \n</code></pre>\n\n<p>is the stubbed list of MyClass instances.</p>\n\n<p>However mockito return an empty list when i run the test. I did some debugging and I guess mockito is not able to match the list object that I am using in </p>\n\n<pre><code>      when(..).thenReturn(..)\n</code></pre>\n\n<p>call and in actual call and hence doesn't find the correct signature.</p>\n\n<p>I cannot use </p>\n\n<pre><code>anyList() \n</code></pre>\n\n<p>matcher as I always pass list of two integers (1 and 3).</p>\n\n<p>I have resolved the problem by using custom </p>\n\n<pre><code>     ArgumentMatcher \n</code></pre>\n\n<p>as follows :</p>\n\n<pre><code>     class StatusMatcher extends ArgumentMatcher&lt;List&gt; {\n    public boolean matches(Object list) {\n        List statuses = ((List) list);\n        return (statuses.size() == 2 &amp;&amp; statuses.contains(1) &amp;&amp; statuses.contains(3));\n    }\n}\n</code></pre>\n\n<p>So the question is :</p>\n\n<p>1) Is my guess about why the stubbing/mocking not working correct?\n 2) and is the solution I have used correct?</p>\n"},{"tags":["java","time","vaadin","wait","sleep"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655184863,"post_id":72609113,"comment_id":128265113,"body_markdown":"You should consider using a ProgressBar https://vaadin.com/docs/latest/ds/components/progress-bar","body":"You should consider using a ProgressBar <a href=\"https://vaadin.com/docs/latest/ds/components/progress-bar\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/ds/components/progress-bar</a>"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655184869,"creation_date":1655184869,"answer_id":72611966,"question_id":72609113,"body_markdown":"Vaadin application as many other web applications are running in server and browser at the same time. User interaction and UI updates are based on HTTP requests. Hence you can&#39;t design the application based on fully synchronous processes.\r\n\r\nIf you need a pause, you need to run your process in a background thread using Executor, you need to enable also the [Push][1] functionality of Vaadin and use UI#access to periodically update the view from the background thread.\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/flow/advanced/server-push","title":"How to implement a short pause in Vaadin","body":"<p>Vaadin application as many other web applications are running in server and browser at the same time. User interaction and UI updates are based on HTTP requests. Hence you can't design the application based on fully synchronous processes.</p>\n<p>If you need a pause, you need to run your process in a background thread using Executor, you need to enable also the <a href=\"https://vaadin.com/docs/latest/flow/advanced/server-push\" rel=\"nofollow noreferrer\">Push</a> functionality of Vaadin and use UI#access to periodically update the view from the background thread.</p>\n"}],"owner":{"account_id":6352100,"reputation":11,"user_id":4930800,"display_name":"CM9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655184869,"creation_date":1655154910,"question_id":72609113,"body_markdown":"I&#39;m trying to make a sorting algorithm visualizer, which visually displays the integers as bars and shows changes made to the array at each step. I am using Vaadin 23.1.0 and Java 17. All the sorting algorithms and other UI work properly so far, but I haven&#39;t been able to get it to pause briefly between steps. I&#39;ve tried using Thread.sleep and TimeUnit.SECONDS.Sleep, but in both cases, it doesn&#39;t pause between steps. It just has a long loading bar at the top of the view, then shows the end sorted array. \r\nCode:\r\n```\r\npublic class MainView extends VerticalLayout{\r\n//set up UI and display initial unsorted array\r\nbuttonBeginSort.addClickListener(e -&gt; {\r\n            bubbleSort();\r\n        });\r\n}\r\npublic void bubbleSort()\r\n{\r\n        for (int i = 0; i &lt; arr.length-1; i++)\r\n        {\r\n            for (int j = 0; j &lt; arr.length-i-1; j++)\r\n            {\r\n                if (arr[j] &gt; arr[j+1])\r\n                {\r\n                    swapIndexes(j,j+1);\r\n                }\r\n            }\r\n        }\r\n}\r\npublic void swapIndexes(int a, int b) {\r\n        //swap array elements\r\n        //display new, modified array\r\n\r\n        waitBetweenSteps();\r\n}\r\npublic void waitBetweenSteps()\r\n    {\r\n        try\r\n        {\r\n            Thread.sleep(500);\r\n        }catch (InterruptedException ex)\r\n        {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n}\r\n\r\n```\r\nWith all this considered, how can I make a brief pause in a Vaadin web app?","title":"How to implement a short pause in Vaadin","body":"<p>I'm trying to make a sorting algorithm visualizer, which visually displays the integers as bars and shows changes made to the array at each step. I am using Vaadin 23.1.0 and Java 17. All the sorting algorithms and other UI work properly so far, but I haven't been able to get it to pause briefly between steps. I've tried using Thread.sleep and TimeUnit.SECONDS.Sleep, but in both cases, it doesn't pause between steps. It just has a long loading bar at the top of the view, then shows the end sorted array.\nCode:</p>\n<pre><code>public class MainView extends VerticalLayout{\n//set up UI and display initial unsorted array\nbuttonBeginSort.addClickListener(e -&gt; {\n            bubbleSort();\n        });\n}\npublic void bubbleSort()\n{\n        for (int i = 0; i &lt; arr.length-1; i++)\n        {\n            for (int j = 0; j &lt; arr.length-i-1; j++)\n            {\n                if (arr[j] &gt; arr[j+1])\n                {\n                    swapIndexes(j,j+1);\n                }\n            }\n        }\n}\npublic void swapIndexes(int a, int b) {\n        //swap array elements\n        //display new, modified array\n\n        waitBetweenSteps();\n}\npublic void waitBetweenSteps()\n    {\n        try\n        {\n            Thread.sleep(500);\n        }catch (InterruptedException ex)\n        {\n            Thread.currentThread().interrupt();\n        }\n}\n\n</code></pre>\n<p>With all this considered, how can I make a brief pause in a Vaadin web app?</p>\n"},{"tags":["java","sql","json","elasticsearch","kibana"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1655183421,"post_id":72611752,"comment_id":128264803,"body_markdown":"how you decide top city or based on which field or param you decide top city","body":"how you decide top city or based on which field or param you decide top city"},{"owner":{"account_id":20765437,"reputation":27,"user_id":15249566,"display_name":"JuanCruz"},"score":0,"creation_date":1655184204,"post_id":72611752,"comment_id":128264958,"body_markdown":"@SagarPatel That query will return top cities id by count in desc order (thats the default order by ES), but i just want to limit the ocurrence by country in only 2 cities, so i can get top 2 cities from one country, then 2 cities from next country, etc","body":"@SagarPatel That query will return top cities id by count in desc order (thats the default order by ES), but i just want to limit the ocurrence by country in only 2 cities, so i can get top 2 cities from one country, then 2 cities from next country, etc"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1655185724,"post_id":72611752,"comment_id":128265303,"body_markdown":"please check, i have posted answer for your question.","body":"please check, i have posted answer for your question."}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655184813,"creation_date":1655184813,"answer_id":72611956,"question_id":72611752,"body_markdown":"Below aggregation query give you 2 city per country.\r\n\r\n```json\r\n{\r\n  &quot;aggs&quot;: {\r\n    &quot;user_country_id&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;user.country_id&quot;,\r\n        &quot;size&quot;: 10\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;user_city_id&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;user.city_id&quot;,\r\n            &quot;size&quot;: 2\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"ElasticSearch get top 2 results per specific term in aggregations","body":"<p>Below aggregation query give you 2 city per country.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;aggs&quot;: {\n    &quot;user_country_id&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;user.country_id&quot;,\n        &quot;size&quot;: 10\n      },\n      &quot;aggs&quot;: {\n        &quot;user_city_id&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;user.city_id&quot;,\n            &quot;size&quot;: 2\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20765437,"reputation":27,"user_id":15249566,"display_name":"JuanCruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72611956,"answer_count":1,"score":0,"last_activity_date":1655184813,"creation_date":1655183072,"question_id":72611752,"body_markdown":"Given this query, i want to retrieve and limit only to top 2 cities from each country.\r\nSo, **given the most popular country, retrieve top 2 cities, then next country, top 2 cities and etcera.**\r\n\r\n```\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;user_city_id&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;user.city_id&quot;,\r\n        &quot;size&quot;: 999\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;user_country_id&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;user.country_id&quot;,\r\n            &quot;size&quot;: 1\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;user_name&quot;: {\r\n              &quot;terms&quot;: {\r\n                &quot;field&quot;: &quot;user.name&quot;,\r\n                &quot;size&quot;: 1\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;user.category&quot;: 1\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```","title":"ElasticSearch get top 2 results per specific term in aggregations","body":"<p>Given this query, i want to retrieve and limit only to top 2 cities from each country.\nSo, <strong>given the most popular country, retrieve top 2 cities, then next country, top 2 cities and etcera.</strong></p>\n<pre><code>{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;user_city_id&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;user.city_id&quot;,\n        &quot;size&quot;: 999\n      },\n      &quot;aggs&quot;: {\n        &quot;user_country_id&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;user.country_id&quot;,\n            &quot;size&quot;: 1\n          },\n          &quot;aggs&quot;: {\n            &quot;user_name&quot;: {\n              &quot;terms&quot;: {\n                &quot;field&quot;: &quot;user.name&quot;,\n                &quot;size&quot;: 1\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;user.category&quot;: 1\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655176144,"post_id":72611016,"comment_id":128263684,"body_markdown":"Create a `Set` (of the alphabet) and subtract the origin input&#39;s charactes from it","body":"Create a <code>Set</code> (of the alphabet) and subtract the origin input&#39;s charactes from it"},{"owner":{"account_id":12922561,"reputation":7,"user_id":9344443,"display_name":"Brijesh Verma"},"score":0,"creation_date":1655176833,"post_id":72611016,"comment_id":128263793,"body_markdown":"yes @MadProgrammer i can have two Sets one with a to z and another with input string and then i can do intersection set1.removeAll(set2) all missing values will be in set1. But if want it to be done using stream or others java8 features how can I, any idea?","body":"yes @MadProgrammer i can have two Sets one with a to z and another with input string and then i can do intersection set1.removeAll(set2) all missing values will be in set1. But if want it to be done using stream or others java8 features how can I, any idea?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655177320,"post_id":72611016,"comment_id":128263866,"body_markdown":"Why?!  Any way, about the only way I can think of doing it would be to filter the alphabet, but then for each element in the alphabet, you&#39;d have to do some kind of &quot;contains&quot; workflow, so I doubt you&#39;d get much improvement - just saying","body":"Why?!  Any way, about the only way I can think of doing it would be to filter the alphabet, but then for each element in the alphabet, you&#39;d have to do some kind of &quot;contains&quot; workflow, so I doubt you&#39;d get much improvement - just saying"}],"answers":[{"tags":[],"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655177458,"creation_date":1655176736,"answer_id":72611164,"question_id":72611016,"body_markdown":"Here is a very na&#239;ve way of achieving this, using two loops. Could be much more efficient and elegant. But it works\r\n\r\n       public class Replace {\r\n            public static void main(String[] args) {\r\n                \r\n                String input = &quot;az&quot;;\r\n                String[] myArray = input.split(&quot;&quot;);\r\n                \r\n                String compare = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n                String[] myCompare = compare.split(&quot;&quot;);\r\n                \r\n                String output = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n                \r\n                for (int i = 0; i &lt; myCompare.length; i++)\r\n                {\r\n                    for (int j = 0; j &lt; myArray.length; j++)\r\n                    {\r\n                        \r\n                        if(myCompare[i].equals(myArray[j]))\r\n                        {\r\n                              output = output.replace(myArray[j], &quot;&quot;);\r\n                        }\r\n               \r\n                    }\r\n                }\r\n                \r\n                System.out.println(output); \r\n            }\r\n        \r\n        }","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Here is a very naïve way of achieving this, using two loops. Could be much more efficient and elegant. But it works</p>\n<pre><code>   public class Replace {\n        public static void main(String[] args) {\n            \n            String input = &quot;az&quot;;\n            String[] myArray = input.split(&quot;&quot;);\n            \n            String compare = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n            String[] myCompare = compare.split(&quot;&quot;);\n            \n            String output = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n            \n            for (int i = 0; i &lt; myCompare.length; i++)\n            {\n                for (int j = 0; j &lt; myArray.length; j++)\n                {\n                    \n                    if(myCompare[i].equals(myArray[j]))\n                    {\n                          output = output.replace(myArray[j], &quot;&quot;);\n                    }\n           \n                }\n            }\n            \n            System.out.println(output); \n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655178567,"creation_date":1655178567,"answer_id":72611310,"question_id":72611016,"body_markdown":"\r\nBuild a list of individual `String` characters (note, only using lower case)\r\n\r\n    Set&lt;String&gt; alphabet = new HashSet&lt;String&gt;();\r\n    for (int index = 0; index &lt; 26; index++) {\r\n        alphabet.add(Character.toString(&#39;a&#39; + index));\r\n    }\r\n\r\n*(you could probably just use `char`, but I&#39;m kind can&#39;t be bothered working that out)*\r\n\r\nOr if you don&#39;t want to use a loop...\r\n\r\n    Set&lt;String&gt; alphabet = new HashSet&lt;&gt;(Arrays.asList(&quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;)));\r\n\r\nor...\r\n\r\n    Set&lt;String&gt; alphabet = IntStream\r\n            .range(0, 26)\r\n            .mapToObj(v -&gt; Character.toString((char)(&#39;a&#39; + v)))\r\n            .collect(Collectors.toSet());\r\n\r\n\r\nGet some input...\r\n\r\n    String input = &quot;abc&quot;.toLowerCase();\r\n    // Yes, I know it&#39;s already lower case, but just\r\n    // in case you&#39;re getting your input from the user\r\n    // or some other variable &#128580;\r\n\r\nFilter out all matching elements...\r\n\r\n    List&lt;String&gt; result = alphabet\r\n            .stream()\r\n            .filter( x -&gt; !input.contains(x))\r\n            .collect(Collectors.toList());\r\n\r\nwhich results in...\r\n\r\n    [d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\r\n\r\nOf, you could just do a set subtraction...\r\n\r\n    Set&lt;String&gt; match = new HashSet&lt;&gt;(Arrays.asList(input.toLowerCase().split(&quot;&quot;)));\r\n    alphabet.removeAll(match);\r\n    System.out.println(alphabet);\r\n\r\nwhich also prints...\r\n\r\n    [d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\r\n\r\n*nb: I&#39;m `Stream` noob, so there might be a &quot;better&quot; way, but this is basically what I could come up with off the top of my head*","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Build a list of individual <code>String</code> characters (note, only using lower case)</p>\n<pre><code>Set&lt;String&gt; alphabet = new HashSet&lt;String&gt;();\nfor (int index = 0; index &lt; 26; index++) {\n    alphabet.add(Character.toString('a' + index));\n}\n</code></pre>\n<p><em>(you could probably just use <code>char</code>, but I'm kind can't be bothered working that out)</em></p>\n<p>Or if you don't want to use a loop...</p>\n<pre><code>Set&lt;String&gt; alphabet = new HashSet&lt;&gt;(Arrays.asList(&quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;)));\n</code></pre>\n<p>or...</p>\n<pre><code>Set&lt;String&gt; alphabet = IntStream\n        .range(0, 26)\n        .mapToObj(v -&gt; Character.toString((char)('a' + v)))\n        .collect(Collectors.toSet());\n</code></pre>\n<p>Get some input...</p>\n<pre><code>String input = &quot;abc&quot;.toLowerCase();\n// Yes, I know it's already lower case, but just\n// in case you're getting your input from the user\n// or some other variable 🙄\n</code></pre>\n<p>Filter out all matching elements...</p>\n<pre><code>List&lt;String&gt; result = alphabet\n        .stream()\n        .filter( x -&gt; !input.contains(x))\n        .collect(Collectors.toList());\n</code></pre>\n<p>which results in...</p>\n<pre><code>[d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\n</code></pre>\n<p>Of, you could just do a set subtraction...</p>\n<pre><code>Set&lt;String&gt; match = new HashSet&lt;&gt;(Arrays.asList(input.toLowerCase().split(&quot;&quot;)));\nalphabet.removeAll(match);\nSystem.out.println(alphabet);\n</code></pre>\n<p>which also prints...</p>\n<pre><code>[d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z]\n</code></pre>\n<p><em>nb: I'm <code>Stream</code> noob, so there might be a &quot;better&quot; way, but this is basically what I could come up with off the top of my head</em></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655184451,"creation_date":1655184451,"answer_id":72611904,"question_id":72611016,"body_markdown":"Here&#39;s a one-liner:\r\n\r\n    String output = IntStream.rangeClosed(&#39;a&#39;, &#39;z&#39;)\r\n      .filter(c -&gt; input.indexOf(c) == -1)\r\n      .mapToObj(Character::toString)\r\n      .collect(joining());\r\n","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>Here's a one-liner:</p>\n<pre><code>String output = IntStream.rangeClosed('a', 'z')\n  .filter(c -&gt; input.indexOf(c) == -1)\n  .mapToObj(Character::toString)\n  .collect(joining());\n</code></pre>\n"}],"owner":{"account_id":12922561,"reputation":7,"user_id":9344443,"display_name":"Brijesh Verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655197046,"answer_count":3,"score":-1,"last_activity_date":1655184451,"creation_date":1655175024,"question_id":72611016,"body_markdown":"I have one problem statement where I need to find missing char in given string, I tried couple of operation with filter and distinct of stream Api. But couldn&#39;t get desired output. \r\n\r\nString input =&quot;abc&quot;;\r\n\r\nExpected output= &quot;defghijklmnopqrstuvwxyz&quot; [char from d to z ]","title":"How can we find missing character of alphabet(a-z or A to Z) using java8?","body":"<p>I have one problem statement where I need to find missing char in given string, I tried couple of operation with filter and distinct of stream Api. But couldn't get desired output.</p>\n<p>String input =&quot;abc&quot;;</p>\n<p>Expected output= &quot;defghijklmnopqrstuvwxyz&quot; [char from d to z ]</p>\n"},{"tags":["java","cucumber","bdd","rest-assured","cucumber-serenity"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1654044633,"post_id":72451242,"comment_id":127996892,"body_markdown":"just put it as `public static String TOKEN` to make it a global variable","body":"just put it as <code>public static String TOKEN</code> to make it a global variable"},{"owner":{"account_id":8031633,"reputation":135,"user_id":6176973,"accept_rate":75,"display_name":"iAutomate"},"score":0,"creation_date":1654057669,"post_id":72451242,"comment_id":127998633,"body_markdown":"@lucas-nguyen-17 here &quot;TOKEN&quot; is just an example. the logic should work for any attribute fetched from a response and need to assign it to the variable name from feature file itself.\n\nFor example:\nSet global &quot;access_token&quot; in &quot;token&quot;\nOR\nSet global &quot;app_id&quot; in &quot;appid&quot;","body":"@lucas-nguyen-17 here &quot;TOKEN&quot; is just an example. the logic should work for any attribute fetched from a response and need to assign it to the variable name from feature file itself.  For example: Set global &quot;access_token&quot; in &quot;token&quot; OR Set global &quot;app_id&quot; in &quot;appid&quot;"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1654058420,"post_id":72451242,"comment_id":127998782,"body_markdown":"You may need `public static` Map, then get value by key. It will apply for other variables","body":"You may need <code>public static</code> Map, then get value by key. It will apply for other variables"}],"answers":[{"tags":[],"owner":{"account_id":16947773,"reputation":23,"user_id":12258097,"display_name":"Madalina P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654864357,"creation_date":1654864357,"answer_id":72574371,"question_id":72451242,"body_markdown":"You can create a scenario context object or a test context object (depending on the needed lifetime of the object) in which you can have a HashMap with key-value pairs. You can then use this object to store the information you need and retrieve it later. Take a look at this article, as it explains the concept in great detail: https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/","title":"How can i store a value as global variable from an API response and pass it to another API as parameter in Cucumber feature file using REST assured","body":"<p>You can create a scenario context object or a test context object (depending on the needed lifetime of the object) in which you can have a HashMap with key-value pairs. You can then use this object to store the information you need and retrieve it later. Take a look at this article, as it explains the concept in great detail: <a href=\"https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/\" rel=\"nofollow noreferrer\">https://www.toolsqa.com/selenium-cucumber-framework/share-data-between-steps-in-cucumber-using-scenario-context/</a></p>\n"}],"owner":{"account_id":8031633,"reputation":135,"user_id":6176973,"accept_rate":75,"display_name":"iAutomate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655183985,"creation_date":1654014347,"question_id":72451242,"body_markdown":"I am designing automation scripts on Cucumber BDD framework for REST APIs using Rest assured.\r\nI have one api which generates the &quot;Token&quot; and then there is an another api for order create which requires this &quot;Token&quot; in the authorisation parameter. Here is my feature file\r\n\r\n   \r\n\r\n \r\n\r\nFeature: Create Order API\r\n    \r\n      @Background:\r\n      Scenario Outline: Generate Access token With Valid Details\r\n        Given Query param for request\r\n          | grant_type         |\r\n          | client_credentials |\r\n        Given Basic Auth keys for request &quot;&lt;userName&gt;&quot; and &quot;&lt;key&gt;&quot;\r\n        When Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_GET_AUTH_KEY&quot;\r\n    #    And Set global &quot;access_token&quot; in &quot;token&quot;\r\n        And Perform &quot;POST&quot; request using\r\n        Then status code is 200\r\n        And  response contains &quot;scope&quot;\r\n        Examples:\r\n          | userName    | key |                                                                  \r\n       | AWnCbuv9Bee0_6 | EMWowD696LqfznidhQ2RT_jZL2ys |\r\n    \r\n    \r\n      Now response of above API is as follows.\r\n\r\n    {\r\n        &quot;scope&quot;: &quot;https://uri.pppaypal.com/services/invoicing https://uri.pppaypal.com/services/applications/webhooks&quot;,\r\n        &quot;access_token&quot;: &quot;ALs1szFnv2TJ19Zf3vq&quot;,\r\n        &quot;token_type&quot;: &quot;Bearer&quot;,\r\n        &quot;app_id&quot;: &quot;APP-284543T&quot;,\r\n        &quot;expires_in&quot;: 311286,\r\n        &quot;nonce&quot;: &quot;2022-05-31T03:41:41ZWs9dpOQ&quot;\r\n    }\r\n\r\nNow i need this &quot;access_token&quot; as &lt;token&gt; in the &quot;Create Order API&quot; Authorisation parameter withe Bearer. the &quot;Create Order API&quot; feature file is below.\r\n\r\n\r\n     Scenario: Verify create order api using valid auth\r\n        Given Generate request\r\n        And Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_CREATE_ORDER_API&quot;\r\n        And Set header values as\r\n          | Content-Type     | Authorization                                                                                            |\r\n          | application/json | Bearer &lt;token&gt; |\r\n        When Perform &quot;POST&quot; request using &quot;FILE_PATH_ORDER_JSON&quot;\r\n        Then status code is 201\r\n\r\n\r\nHow can i set &quot;access_token&quot; in &quot;token&quot; as global variable from the feature file so that i can use it anywhere in this feature file using the following step?\r\n\r\n  \r\n\r\n    And Set global &quot;access_token&quot; in &quot;token&quot;","title":"How can i store a value as global variable from an API response and pass it to another API as parameter in Cucumber feature file using REST assured","body":"<p>I am designing automation scripts on Cucumber BDD framework for REST APIs using Rest assured.\nI have one api which generates the &quot;Token&quot; and then there is an another api for order create which requires this &quot;Token&quot; in the authorisation parameter. Here is my feature file</p>\n<p>Feature: Create Order API</p>\n<pre><code>  @Background:\n  Scenario Outline: Generate Access token With Valid Details\n    Given Query param for request\n      | grant_type         |\n      | client_credentials |\n    Given Basic Auth keys for request &quot;&lt;userName&gt;&quot; and &quot;&lt;key&gt;&quot;\n    When Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_GET_AUTH_KEY&quot;\n#    And Set global &quot;access_token&quot; in &quot;token&quot;\n    And Perform &quot;POST&quot; request using\n    Then status code is 200\n    And  response contains &quot;scope&quot;\n    Examples:\n      | userName    | key |                                                                  \n   | AWnCbuv9Bee0_6 | EMWowD696LqfznidhQ2RT_jZL2ys |\n\n\n  Now response of above API is as follows.\n\n{\n    &quot;scope&quot;: &quot;https://uri.pppaypal.com/services/invoicing https://uri.pppaypal.com/services/applications/webhooks&quot;,\n    &quot;access_token&quot;: &quot;ALs1szFnv2TJ19Zf3vq&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;,\n    &quot;app_id&quot;: &quot;APP-284543T&quot;,\n    &quot;expires_in&quot;: 311286,\n    &quot;nonce&quot;: &quot;2022-05-31T03:41:41ZWs9dpOQ&quot;\n}\n</code></pre>\n<p>Now i need this &quot;access_token&quot; as  in the &quot;Create Order API&quot; Authorisation parameter withe Bearer. the &quot;Create Order API&quot; feature file is below.</p>\n<pre><code> Scenario: Verify create order api using valid auth\n    Given Generate request\n    And Build request for baseurl &quot;PAYPAL_BASE_URI&quot; and endpoint &quot;ENDPOINT_CREATE_ORDER_API&quot;\n    And Set header values as\n      | Content-Type     | Authorization                                                                                            |\n      | application/json | Bearer &lt;token&gt; |\n    When Perform &quot;POST&quot; request using &quot;FILE_PATH_ORDER_JSON&quot;\n    Then status code is 201\n</code></pre>\n<p>How can i set &quot;access_token&quot; in &quot;token&quot; as global variable from the feature file so that i can use it anywhere in this feature file using the following step?</p>\n<pre><code>And Set global &quot;access_token&quot; in &quot;token&quot;\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1369306019,"post_id":16705165,"comment_id":24057844,"body_markdown":"It&#39;s working for me:  driver.find_element(:id, &quot;551&quot;).text","body":"It&#39;s working for me:  driver.find_element(:id, &quot;551&quot;).text"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1369306195,"post_id":16705165,"comment_id":24057936,"body_markdown":"It&#39;s also working for me using xpath: driver.find_element(:xpath, &quot;//a[@id=&#39;551&#39;]&quot;).text","body":"It&#39;s also working for me using xpath: driver.find_element(:xpath, &quot;//a[@id=&#39;551&#39;]&quot;).text"},{"owner":{"account_id":1940875,"reputation":2370,"user_id":2310411,"accept_rate":58,"display_name":"Vignesh Paramasivam"},"score":0,"creation_date":1407856206,"post_id":16705165,"comment_id":39371859,"body_markdown":"@TDHM The one which you specified will not work for Java as well as OP.","body":"@TDHM The one which you specified will not work for Java as well as OP."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1584422784,"post_id":16705165,"comment_id":107424662,"body_markdown":"Plenty of answers here, but no discussion of which approach is better than the other. Refer the differences between &quot;innerText&quot;, &quot;textContent&quot; etc. from here https://stackoverflow.com/questions/21311299/nodevalue-vs-innerhtml-and-textcontent-how-to-choose and also https://medium.com/better-programming/whats-best-innertext-vs-innerhtml-vs-textcontent-903ebc43a3fc.","body":"Plenty of answers here, but no discussion of which approach is better than the other. Refer the differences between &quot;innerText&quot;, &quot;textContent&quot; etc. from here <a href=\"https://stackoverflow.com/questions/21311299/nodevalue-vs-innerhtml-and-textcontent-how-to-choose\" title=\"nodevalue vs innerhtml and textcontent how to choose\">stackoverflow.com/questions/21311299/&hellip;</a> and also <a href=\"https://medium.com/better-programming/whats-best-innertext-vs-innerhtml-vs-textcontent-903ebc43a3fc\" rel=\"nofollow noreferrer\">medium.com/better-programming/&hellip;</a>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1606030941,"post_id":16705165,"comment_id":114831283,"body_markdown":"Possible duplicate: *[How to gettext() of an element in Selenium Webdriver](https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver)*","body":"Possible duplicate: <i><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></i>"}],"answers":[{"tags":[],"owner":{"account_id":2093312,"reputation":875,"user_id":1862627,"accept_rate":100,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606911094,"creation_date":1369291809,"answer_id":16707354,"question_id":16705165,"body_markdown":"It is really surprising you are able to get attribute title, but not text.\r\n\r\nTry with\r\n\r\n    driver.findelement(By.xpath(&quot;//a[@id=&#39;551&#39; and contains(text(),&#39;Country&#39;)]&quot;)).isDisplayed();\r\n\r\nor\r\n\r\n    driver.findelement(By.xpath(&quot;//a[@id=&#39;551&#39; and text()=&#39;Country&#39;]&quot;)).isDisplayed();\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>It is really surprising you are able to get attribute title, but not text.</p>\n<p>Try with</p>\n<pre><code>driver.findelement(By.xpath(&quot;//a[@id='551' and contains(text(),'Country')]&quot;)).isDisplayed();\n</code></pre>\n<p>or</p>\n<pre><code>driver.findelement(By.xpath(&quot;//a[@id='551' and text()='Country']&quot;)).isDisplayed();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606911324,"creation_date":1369324328,"answer_id":16718494,"question_id":16705165,"body_markdown":"Unless it is a typo while copying to Stack&amp;nbsp;Overflow, you are missing a parentheses before getText. Change\r\n`driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;).getText())` to  `driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getText()`\r\n\r\nI tried the following code, and it worked perfectly for me.\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;C:\\\\test.html&quot;);\r\n    System.out.println(driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getText());\r\n    System.out.println(driver.findElement(By.xpath(&quot;//*@id=&#39;551&#39;]&quot;)).getAttribute(&quot;title&quot;));\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>Unless it is a typo while copying to Stack Overflow, you are missing a parentheses before getText. Change\n<code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;).getText())</code> to  <code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getText()</code></p>\n<p>I tried the following code, and it worked perfectly for me.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;C:\\\\test.html&quot;);\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getText());\nSystem.out.println(driver.findElement(By.xpath(&quot;//*@id='551']&quot;)).getAttribute(&quot;title&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864980,"reputation":1209,"user_id":2459476,"display_name":"satender"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1606911399,"creation_date":1405344718,"answer_id":24737697,"question_id":16705165,"body_markdown":"It depends on the code as well. Give a try with the below code:\r\n\r\nInstead of `getText()`, please use `getAttribute(&quot;innerHTML&quot;)` which will then return what you are looking for, including any HTML that is invisible.\r\n\r\n```\r\n&lt;div class=&quot;no-docs-selected&quot;&gt;\r\n    &lt;p class=&quot;icon-alert&quot;&gt;Please select a doc&lt;/p&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nI was looking for `Please select a doc`, but I didn&#39;t succeed with `getText()`. But the below one worked.\r\n\r\n    driver.findElement(By.xpath(&quot;//p[@class=&#39;icon-alert&#39;]&quot;)).getAttribute(&quot;innerHTML&quot;);\r\n\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>It depends on the code as well. Give a try with the below code:</p>\n<p>Instead of <code>getText()</code>, please use <code>getAttribute(&quot;innerHTML&quot;)</code> which will then return what you are looking for, including any HTML that is invisible.</p>\n<pre><code>&lt;div class=&quot;no-docs-selected&quot;&gt;\n    &lt;p class=&quot;icon-alert&quot;&gt;Please select a doc&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I was looking for <code>Please select a doc</code>, but I didn't succeed with <code>getText()</code>. But the below one worked.</p>\n<pre><code>driver.findElement(By.xpath(&quot;//p[@class='icon-alert']&quot;)).getAttribute(&quot;innerHTML&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7892742,"reputation":19,"user_id":5962401,"display_name":"Syagin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623055077,"creation_date":1472629914,"answer_id":39243749,"question_id":16705165,"body_markdown":"Use `&lt;WebElement&gt;.getAttribute(&quot;value&quot;)` to extract the text.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>Use <code>&lt;WebElement&gt;.getAttribute(&quot;value&quot;)</code> to extract the text.</p>\n"},{"tags":[],"owner":{"account_id":9902502,"reputation":11,"user_id":7332079,"display_name":"user7332079"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1606912322,"creation_date":1482443903,"answer_id":41292246,"question_id":16705165,"body_markdown":"In a similar situation, this worked for me:\r\n\r\n    .getAttribute(&quot;innerHTML&quot;);\r\n    .getAttribute(&quot;innerText&quot;);\r\n    .getAttribute(&quot;outerText&quot;);\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>In a similar situation, this worked for me:</p>\n<pre><code>.getAttribute(&quot;innerHTML&quot;);\n.getAttribute(&quot;innerText&quot;);\n.getAttribute(&quot;outerText&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168646,"reputation":81,"user_id":7509647,"display_name":"Mahesh Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606912371,"creation_date":1486101875,"answer_id":42017775,"question_id":16705165,"body_markdown":"    String text1 = driver.findElementByXPath(&quot;//input[@value=&#39;EFASTGTC&#39;]/../ancestor::tr[1]/scipt[1]&quot;).getAttribute(&quot;innerText&quot;); \r\n\t\t\t\r\n    System.out.println(&quot;Value=&quot; + text1);\r\n\r\nThis code will work if you want text written between script tag.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<pre><code>String text1 = driver.findElementByXPath(&quot;//input[@value='EFASTGTC']/../ancestor::tr[1]/scipt[1]&quot;).getAttribute(&quot;innerText&quot;); \n        \nSystem.out.println(&quot;Value=&quot; + text1);\n</code></pre>\n<p>This code will work if you want text written between script tag.</p>\n"},{"tags":[],"owner":{"account_id":8690059,"reputation":183,"user_id":6503194,"display_name":"Ami Desai"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1606912495,"creation_date":1490171543,"answer_id":42946330,"question_id":16705165,"body_markdown":"I faced the same issue, and then I updated .getText() to **.getAttribute(&quot;textContent&quot;)** and it worked.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I faced the same issue, and then I updated .getText() to <strong>.getAttribute(&quot;textContent&quot;)</strong> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":5749893,"reputation":494,"user_id":4539922,"display_name":"ldiary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606912689,"creation_date":1572893059,"answer_id":58699339,"question_id":16705165,"body_markdown":"I also had a case where `getAttribute(&quot;innerHTML&quot;)` worked, but not `getText()`. It turned out that the element was present, but it was not visible or displayed.\r\n\r\nWhen I scrolled to the element first before calling `getText()` it worked.\r\n\r\n```\r\n    if(!element.isDisplayed()) \r\n        scrollIntoView(element);\r\n    element.getText();\r\n```\r\n\r\nThe `scrollIntoView` function is like this:\r\n\r\n```\r\n    public void scrollIntoView(WebElement element) {\r\n        ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n    }\r\n```\r\n\r\nI therefore don&#39;t need to use getAttribute(&quot;innerHTML&quot;)`.\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I also had a case where <code>getAttribute(&quot;innerHTML&quot;)</code> worked, but not <code>getText()</code>. It turned out that the element was present, but it was not visible or displayed.</p>\n<p>When I scrolled to the element first before calling <code>getText()</code> it worked.</p>\n<pre><code>    if(!element.isDisplayed()) \n        scrollIntoView(element);\n    element.getText();\n</code></pre>\n<p>The <code>scrollIntoView</code> function is like this:</p>\n<pre><code>    public void scrollIntoView(WebElement element) {\n        ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n    }\n</code></pre>\n<p>I therefore don't need to use getAttribute(&quot;innerHTML&quot;)`.</p>\n"},{"tags":[],"owner":{"account_id":17743157,"reputation":13,"user_id":12882983,"display_name":"usha sree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623054952,"creation_date":1622990098,"answer_id":67860236,"question_id":16705165,"body_markdown":"This worked for me:\r\n```java\r\nSystem.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\r\n```\r\n\r\nCode:\r\n    \r\n    driver.get(&quot;https://login.salesforce.com/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;Hello&quot;);\r\n    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Hello&quot;);\r\n    driver.findElement(By.id(&quot;Login&quot;)).click();\r\n    System.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\r\n    driver.close();","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>This worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\n</code></pre>\n<p>Code:</p>\n<pre><code>driver.get(&quot;https://login.salesforce.com/&quot;);\ndriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;Hello&quot;);\ndriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Hello&quot;);\ndriver.findElement(By.id(&quot;Login&quot;)).click();\nSystem.out.println(driver.findElement(By.id(&quot;error&quot;)).getAttribute(&quot;textContent&quot;));\ndriver.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25269297,"reputation":3,"user_id":19098858,"display_name":"Rekha Rajasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655183889,"creation_date":1655119451,"answer_id":72602017,"question_id":16705165,"body_markdown":"This worked for me. I used `getAttribute(&quot;innerText&quot;)` instead of `getText()`.\r\n\r\n```java\r\nSystem.out.println(driver.findElement(By.id(&quot;modalError&quot;)).getAttribute(&quot;innerText&quot;));\r\n```\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>This worked for me. I used <code>getAttribute(&quot;innerText&quot;)</code> instead of <code>getText()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(driver.findElement(By.id(&quot;modalError&quot;)).getAttribute(&quot;innerText&quot;));\n</code></pre>\n"}],"owner":{"account_id":2106302,"reputation":945,"user_id":1872565,"accept_rate":62,"display_name":"Learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51147,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":10,"score":14,"last_activity_date":1655183889,"creation_date":1369279557,"question_id":16705165,"body_markdown":"I am not able to find the `gettext` of the below code in the Selenium WebDriver.\r\n\r\n    &lt;a id=&quot;551&quot; class=&quot;blueTextNormal1 spc&quot; onclick=&quot;sPh(this,&#39;079&#39;);return false;&quot; title=&quot;079&quot;&gt;Country&lt;/a&gt;\r\n\r\nI want to get the value of Country. I tried using the `xpath`:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;).getText())\r\n\r\nbut it is not returning any value. When I tried with\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;551&#39;]&quot;)).getAttribute(&quot;title&quot;))\r\n\r\nI am getting the value as &quot;079&quot;.\r\n\r\nHow can I to proceed?\r\n\r\n\r\n\r\n","title":"Unable to extract the text using gettext in Selenium WebDriver and also unable to click it","body":"<p>I am not able to find the <code>gettext</code> of the below code in the Selenium WebDriver.</p>\n<pre><code>&lt;a id=&quot;551&quot; class=&quot;blueTextNormal1 spc&quot; onclick=&quot;sPh(this,'079');return false;&quot; title=&quot;079&quot;&gt;Country&lt;/a&gt;\n</code></pre>\n<p>I want to get the value of Country. I tried using the <code>xpath</code>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;).getText())\n</code></pre>\n<p>but it is not returning any value. When I tried with</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id='551']&quot;)).getAttribute(&quot;title&quot;))\n</code></pre>\n<p>I am getting the value as &quot;079&quot;.</p>\n<p>How can I to proceed?</p>\n"},{"tags":["java","rest","spring-boot","openapi"],"comments":[{"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"score":0,"creation_date":1552637793,"post_id":55178220,"comment_id":97094322,"body_markdown":"Why is that an issue anyway. If datatype is number then 2.110 is same as 2.11","body":"Why is that an issue anyway. If datatype is number then 2.110 is same as 2.11"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1552637809,"post_id":55178220,"comment_id":97094337,"body_markdown":"Mathematically, there is no difference between 2.110 and 2.11. If you want the characters to be preserved you may transfer it as a string.","body":"Mathematically, there is no difference between 2.110 and 2.11. If you want the characters to be preserved you may transfer it as a string."},{"owner":{"account_id":8567458,"reputation":1,"user_id":6419528,"display_name":"Srinivasan"},"score":0,"creation_date":1552911252,"post_id":55178220,"comment_id":97177153,"body_markdown":"@henry/Vinay, I have updated question with more details of my problem.","body":"@henry/Vinay, I have updated question with more details of my problem."}],"owner":{"account_id":8567458,"reputation":1,"user_id":6419528,"display_name":"Srinivasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655183398,"creation_date":1552637670,"question_id":55178220,"body_markdown":"I have declared few properties as `type:number` in my app.yaml file. I am getting money values from backend as `String` that I am converting into `BigDecimal` as shown below:\r\n\r\n`BigDecimal bd=new BigDecimal(&quot;24.00&quot;);`\r\n\r\nIt works fine within `Java` code, but when I check my service response, the output is auto rounded to `24`. Though, the auto round for zero makes sense, there is a requirement in this project to always display 2 digits after precision point, even for `0` it should display `0.00`.\r\n\r\nI have verified with the junit cases, the `java` conversion of BigDecimal works fine. I suspect, there must be some configuration missing in `jackson`\r\n\r\nI am using open API 3 and spring boot. Can any one help me to solve this issue?","title":"Swagger data type number round issues","body":"<p>I have declared few properties as <code>type:number</code> in my app.yaml file. I am getting money values from backend as <code>String</code> that I am converting into <code>BigDecimal</code> as shown below:</p>\n\n<p><code>BigDecimal bd=new BigDecimal(\"24.00\");</code></p>\n\n<p>It works fine within <code>Java</code> code, but when I check my service response, the output is auto rounded to <code>24</code>. Though, the auto round for zero makes sense, there is a requirement in this project to always display 2 digits after precision point, even for <code>0</code> it should display <code>0.00</code>.</p>\n\n<p>I have verified with the junit cases, the <code>java</code> conversion of BigDecimal works fine. I suspect, there must be some configuration missing in <code>jackson</code></p>\n\n<p>I am using open API 3 and spring boot. Can any one help me to solve this issue?</p>\n"},{"tags":["java","rest","cucumber","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1655200966,"post_id":72611756,"comment_id":128270320,"body_markdown":"RA doen&#39;t support OAuth2 directly, you have to run login step first get the `bearer_token` then put it to header of the requests.","body":"RA doen&#39;t support OAuth2 directly, you have to run login step first get the <code>bearer_token</code> then put it to header of the requests."},{"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"score":0,"creation_date":1655965104,"post_id":72611756,"comment_id":128457607,"body_markdown":"@lucas-nguyen-17 how do i set it up so it gets the bearer_token and runs it for all the feature files. I have about 10 diff feature files","body":"@lucas-nguyen-17 how do i set it up so it gets the bearer_token and runs it for all the feature files. I have about 10 diff feature files"}],"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655183099,"creation_date":1655183099,"question_id":72611756,"body_markdown":"So we currently have a framework bdd with rest assured . All this time it was set up with service fake just to make sure the framework is ready for when we have actual data . Currently I already have couples of features running already. We recently added Oauth2 support . \r\n\r\nNow I automated the process to get the bearer token but confused on how I should go about using it. Should i save the bearer token as a variable and just pass it in the requests ?\r\n\r\n How do I make it so the framework generates bearer token then uses that token to run the tests (crud operation). Do I have to make another feature and have that running first from cukes runner?","title":"Add oauth2 support to Automated framework","body":"<p>So we currently have a framework bdd with rest assured . All this time it was set up with service fake just to make sure the framework is ready for when we have actual data . Currently I already have couples of features running already. We recently added Oauth2 support .</p>\n<p>Now I automated the process to get the bearer token but confused on how I should go about using it. Should i save the bearer token as a variable and just pass it in the requests ?</p>\n<p>How do I make it so the framework generates bearer token then uses that token to run the tests (crud operation). Do I have to make another feature and have that running first from cukes runner?</p>\n"},{"tags":["java","spring-boot","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655183071,"creation_date":1655183071,"answer_id":72611751,"question_id":72274862,"body_markdown":"This has been fixed with JobRunr 5.1.3.","title":"JobRunr: Deleting and Recreating the schedule with same schedule Id &amp; different time never runs","body":"<p>This has been fixed with JobRunr 5.1.3.</p>\n"}],"owner":{"account_id":6509120,"reputation":134,"user_id":5664993,"display_name":"Kapil Bablani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72611751,"answer_count":1,"score":0,"last_activity_date":1655183071,"creation_date":1652793861,"question_id":72274862,"body_markdown":"I am using JobRunr 5.0.1 with Spring Boot Parent version 3.6.7. I have an edit endpoint where I am deleting the schedule by Id and creating the new one with the same Id but updated time details. The schedule don&#39;t runs at the updated scheduled time although the JobRunr Dashboard shows the updated schedule Time and all the other details too.\r\nDid anybody know whether its a known issue/bug or am I missing something ?\r\n\r\nNote (Not Sure): Previously I was using JobRunr 4..10 and spring boot version 3.6.6 and seems it was working But now not working even with the older said versions.","title":"JobRunr: Deleting and Recreating the schedule with same schedule Id &amp; different time never runs","body":"<p>I am using JobRunr 5.0.1 with Spring Boot Parent version 3.6.7. I have an edit endpoint where I am deleting the schedule by Id and creating the new one with the same Id but updated time details. The schedule don't runs at the updated scheduled time although the JobRunr Dashboard shows the updated schedule Time and all the other details too.\nDid anybody know whether its a known issue/bug or am I missing something ?</p>\n<p>Note (Not Sure): Previously I was using JobRunr 4..10 and spring boot version 3.6.6 and seems it was working But now not working even with the older said versions.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":3,"creation_date":1461312358,"post_id":36782687,"comment_id":61151593,"body_markdown":"And where in your code is the NPE raised?","body":"And where in your code is the NPE raised?"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1655182808,"post_id":36782687,"comment_id":128264696,"body_markdown":"_Why_ do you want to mock the interface? It&#39;s an interface - you can just provide whatever implementation makes sense.","body":"<i>Why</i> do you want to mock the interface? It&#39;s an interface - you can just provide whatever implementation makes sense."}],"answers":[{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1461313318,"creation_date":1461313318,"answer_id":36788618,"question_id":36782687,"body_markdown":"I&#39;m guessing that `order` is `null` and you&#39;re getting the `NullPointerException` here:\r\n\r\n    when(order.ordersFor(type)).thenReturn(ll);\r\n\r\nFor `@InjectMocks` to work and instantiate your class, you&#39;ll need to add a runner:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ServiceImplTest {\r\n        // ...\r\n    }\r\n\r\nYou don&#39;t have to use the runner, refer to [the documentation][1] for alternatives.\r\n\r\n[1]: http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/runners/MockitoJUnitRunner.html","title":"Mocking an interface with Mockito","body":"<p>I'm guessing that <code>order</code> is <code>null</code> and you're getting the <code>NullPointerException</code> here:</p>\n\n<pre><code>when(order.ordersFor(type)).thenReturn(ll);\n</code></pre>\n\n<p>For <code>@InjectMocks</code> to work and instantiate your class, you'll need to add a runner:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceImplTest {\n    // ...\n}\n</code></pre>\n\n<p>You don't have to use the runner, refer to <a href=\"http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">the documentation</a> for alternatives.</p>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1544169002,"creation_date":1461430730,"answer_id":36813781,"question_id":36782687,"body_markdown":"`@InjectMocks` will not instantiate or mock your class. This annotation is used for injecting mocks into this field.\r\n\r\nIf you want to test `serviceImpl` you will need to mock in this way:\r\n\r\n    @Mock\r\n    private OrderIF order;\r\n    \r\n    @InjectMocks\r\n    private Service reqService = new ServiceImpl(); \r\n\r\nTo make it work you either need to use runner or `MockitoAnnotations.initMocks(this);` in `@Before` method.\r\n","title":"Mocking an interface with Mockito","body":"<p><code>@InjectMocks</code> will not instantiate or mock your class. This annotation is used for injecting mocks into this field.</p>\n\n<p>If you want to test <code>serviceImpl</code> you will need to mock in this way:</p>\n\n<pre><code>@Mock\nprivate OrderIF order;\n\n@InjectMocks\nprivate Service reqService = new ServiceImpl(); \n</code></pre>\n\n<p>To make it work you either need to use runner or <code>MockitoAnnotations.initMocks(this);</code> in <code>@Before</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3077152,"reputation":125,"user_id":2606203,"display_name":"Ajinkya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655182637,"creation_date":1655182637,"answer_id":72611715,"question_id":36782687,"body_markdown":"`@InjectMocks` doesn&#39;t work on interface. It needs concrete class to work with.\r\n\r\nAlso `@InjectMocks` is used to inject mocks to the specified class and `@Mock` is used to create mocks of classes which needs to be injected.\r\n\r\nSo for your case to work you have to do following change\r\n\r\n    @Mock \r\n    private OrderIF order;\r\n    \r\n    @InjectMocks \r\n    private ServiceImpl reqService;","title":"Mocking an interface with Mockito","body":"<p><code>@InjectMocks</code> doesn't work on interface. It needs concrete class to work with.</p>\n<p>Also <code>@InjectMocks</code> is used to inject mocks to the specified class and <code>@Mock</code> is used to create mocks of classes which needs to be injected.</p>\n<p>So for your case to work you have to do following change</p>\n<pre><code>@Mock \nprivate OrderIF order;\n\n@InjectMocks \nprivate ServiceImpl reqService;\n</code></pre>\n"}],"owner":{"account_id":6173800,"reputation":625,"user_id":5609463,"accept_rate":0,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148582,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":3,"score":34,"last_activity_date":1655182637,"creation_date":1461285099,"question_id":36782687,"body_markdown":"Can someone please help me with the below Mock object.\r\nI want to write a mock test case for ServiceImpl class. \r\nI want to mock OrderIF interface: \r\n\r\n    public interface OrderIF{\r\n\t    List&lt;Order&gt; ordersFor(String type);\r\n    }\r\n\r\nThe implementation of service is:  \r\n\r\n    public class ServiceImpl implements Service {\r\n\t    private List &lt;Order&gt; orders ;\r\n    \tprivate OrderIF orderif ; // this is 3rd party interface\r\n\r\n        public int getval(String type) {\r\n           //some code \r\n\r\n\t\t   // this returns a list of objects (orders)\r\n\t\t   orders = orderif.ordersFor(type);\r\n\t\t\r\n           // some code \r\n\t\t   return orders.get(0)\r\n\t    }\r\n    }\r\n\r\nMy code give NullPoinerException: \r\n\r\n    public class ServiceImplTest {\r\n\t     private List &lt;Order&gt; ll ;\r\n         private service reqService ; \r\n\r\n     \t @InjectMocks\r\n \t     private orderIF order;\r\n \r\n \t     @Before\r\n \t     public void setUp() throws Exception {\r\n\t\t     ll = new ArrayList&lt;Order&gt; ();\r\n\t\t     ll.add(new Order(&quot;Buy&quot;  ,  11 , &quot;USD&quot; ));\r\n\t\t     ll.add(new Order(&quot;Sell&quot; ,  22 , &quot;USD&quot; ));\r\n\t\t     reqService = spy(new ServiceImpl());\r\n \t     }\r\n\r\n\t     @Test\r\n\t     public void test() {\r\n\t\t    String type= &quot;USD&quot; ; \r\n\t\t    when(order.ordersFor(type)).thenReturn(ll);\r\n\t\t    q = reqService.getval(type);\r\n    \t    assertTrue(q.get().ask == 232.75);\r\n\t    }\r\n    }\r\n","title":"Mocking an interface with Mockito","body":"<p>Can someone please help me with the below Mock object.\nI want to write a mock test case for ServiceImpl class. \nI want to mock OrderIF interface: </p>\n\n<pre><code>public interface OrderIF{\n    List&lt;Order&gt; ordersFor(String type);\n}\n</code></pre>\n\n<p>The implementation of service is:  </p>\n\n<pre><code>public class ServiceImpl implements Service {\n    private List &lt;Order&gt; orders ;\n    private OrderIF orderif ; // this is 3rd party interface\n\n    public int getval(String type) {\n       //some code \n\n       // this returns a list of objects (orders)\n       orders = orderif.ordersFor(type);\n\n       // some code \n       return orders.get(0)\n    }\n}\n</code></pre>\n\n<p>My code give NullPoinerException: </p>\n\n<pre><code>public class ServiceImplTest {\n     private List &lt;Order&gt; ll ;\n     private service reqService ; \n\n     @InjectMocks\n     private orderIF order;\n\n     @Before\n     public void setUp() throws Exception {\n         ll = new ArrayList&lt;Order&gt; ();\n         ll.add(new Order(\"Buy\"  ,  11 , \"USD\" ));\n         ll.add(new Order(\"Sell\" ,  22 , \"USD\" ));\n         reqService = spy(new ServiceImpl());\n     }\n\n     @Test\n     public void test() {\n        String type= \"USD\" ; \n        when(order.ordersFor(type)).thenReturn(ll);\n        q = reqService.getval(type);\n        assertTrue(q.get().ask == 232.75);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","methods","onclick","invoke"],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655163135,"creation_date":1655162830,"answer_id":72610049,"question_id":72610012,"body_markdown":"The problem is here\r\n\r\n    findViewById(R.id.txt1);\r\n    findViewById(R.id.btn1);\r\n\r\nyou are getting the views from the `.xml` file but you are not actually assigning the value to any object... so when you try to call a method to the `btn1` it&#39;s null (empty) and throws an error\r\n\r\nSo just assign the value you are getting to the views objects like so:\r\n\r\n    txt1 = findViewById(R.id.txt1);\r\n    btn1 = findViewById(R.id.btn1);\r\n\r\n This will fix the problem\r\n","title":"setOnClickListener does not work in android studio","body":"<p>The problem is here</p>\n<pre><code>findViewById(R.id.txt1);\nfindViewById(R.id.btn1);\n</code></pre>\n<p>you are getting the views from the <code>.xml</code> file but you are not actually assigning the value to any object... so when you try to call a method to the <code>btn1</code> it's null (empty) and throws an error</p>\n<p>So just assign the value you are getting to the views objects like so:</p>\n<pre><code>txt1 = findViewById(R.id.txt1);\nbtn1 = findViewById(R.id.btn1);\n</code></pre>\n<p>This will fix the problem</p>\n"},{"tags":[],"owner":{"account_id":25542183,"reputation":71,"user_id":19328067,"display_name":"Janki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655182556,"creation_date":1655182556,"answer_id":72611708,"question_id":72610012,"body_markdown":"Save the element in variable and set onClick method to that particular variable as below:\r\n\r\n    btn1 = findViewById(R.id.btn1);\r\n    \r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n    \r\n                txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\r\n    \r\n    \r\n            }\r\n        });","title":"setOnClickListener does not work in android studio","body":"<p>Save the element in variable and set onClick method to that particular variable as below:</p>\n<pre><code>btn1 = findViewById(R.id.btn1);\n\n    btn1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\n\n\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":24427003,"reputation":1,"user_id":18352463,"display_name":"Zaid Sh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655182556,"creation_date":1655162376,"question_id":72610012,"body_markdown":"that is my code, very simple and basic \r\npublic Button btn1;\r\n    public TextView txt1;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViewById(R.id.txt1);\r\n        findViewById(R.id.btn1);\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\nand the error showing is:\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n","title":"setOnClickListener does not work in android studio","body":"<p>that is my code, very simple and basic\npublic Button btn1;\npublic TextView txt1;</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    findViewById(R.id.txt1);\n    findViewById(R.id.btn1);\n\n    btn1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            txt1.setText(&quot;finalyyyyyyyyyyy&quot;);\n\n\n        }\n    });\n</code></pre>\n<p>and the error showing is:\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference</p>\n"},{"tags":["java","maven","maven-deploy-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655188791,"post_id":72611701,"comment_id":128266084,"body_markdown":"Please show the full pom file...how is flatten-maven-plugin configured etc. ? Why using target/source for JDK and not using `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` instead? And most important: Why do you call only the goals of plugins and not using the life cycle?","body":"Please show the full pom file...how is flatten-maven-plugin configured etc. ? Why using target/source for JDK and not using <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code> instead? And most important: Why do you call only the goals of plugins and not using the life cycle?"}],"owner":{"account_id":2689534,"reputation":1193,"user_id":2323150,"accept_rate":17,"display_name":"Ishant Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655182504,"creation_date":1655182504,"question_id":72611701,"body_markdown":"I have a multimodule project, in which i am defining the project version in the parent and using that property to be consumed in the child pom as below. Seems like maven deploy plugin is not able to pick the property from parent pom.\r\n\r\nParent pom :\r\n\r\n \r\n\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Parent                                                        == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.test.parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archetype-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Properties                                                        == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;properties&gt;\r\n            &lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\r\n            &lt;jaxb.impl.version&gt;2.3.0&lt;/jaxb.impl.version&gt;\r\n            &lt;app.version&gt;LATEST-SNAPSHOT&lt;/app.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == This Artifact                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n        &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;${app.version}&lt;/version&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Modules                                                       == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;modules&lt;/module&gt;\r\n            &lt;module&gt;services&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n\r\nService child pom :\r\n\r\n\r\n \r\n\r\n      &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == Parent                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n            &lt;version&gt;${app.version}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;!-- == This Artifact                                                 == --&gt;\r\n        &lt;!-- =================================================================== --&gt;\r\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\r\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;${app.version}&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;jdk.version&gt;11&lt;/jdk.version&gt;\r\n            &lt;maven.compiler.target&gt;${jdk.version}&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;${jdk.version}&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n\r\n\r\nModule child pom is also similar to service child pom .\r\n\r\nFor me compilation steps(mvn clean install) works properly with no error but while the below command is executed to deploy the artifact via using maven deploy plugin.\r\n\r\n\r\n\r\n    mvn -e -f pom.xml flatten:clean flatten:flatten -B org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file -Durl={repositrypath} -DrepositoryId={repositoryId}-Dfile=pom.xml -DpomFile=/pom.xml -DgeneratePom=false \r\n\r\n\r\nError :\r\n\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file (default-cli) on project integration: Failed to deploy artifacts: Could not transfer artifact com.igaurav:integration:pom:${app.version} from/to spartafactory (url): Transfer failed for {urlPath}/integration/$%257Bapp.version%257D/integration-$%257Bapp.version%257D.pom 409 Conflict\r\n```\r\n\r\nIssue here is that it is not converting the app.version into LATEST-SNAPSHOT and just reading it as it is.","title":"Maven deploy plugin not picking the value from parent pom properties","body":"<p>I have a multimodule project, in which i am defining the project version in the parent and using that property to be consumed in the child pom as below. Seems like maven deploy plugin is not able to pick the property from parent pom.</p>\n<p>Parent pom :</p>\n<pre><code> &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Parent                                                        == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.test.parent&lt;/groupId&gt;\n        &lt;artifactId&gt;archetype-parent&lt;/artifactId&gt;\n        &lt;version&gt;LATEST-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Properties                                                        == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;properties&gt;\n        &lt;jaxb.api.version&gt;2.3.0&lt;/jaxb.api.version&gt;\n        &lt;jaxb.impl.version&gt;2.3.0&lt;/jaxb.impl.version&gt;\n        &lt;app.version&gt;LATEST-SNAPSHOT&lt;/app.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == This Artifact                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n    &lt;artifactId&gt;integration&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;${app.version}&lt;/version&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Modules                                                       == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;modules&gt;\n        &lt;module&gt;modules&lt;/module&gt;\n        &lt;module&gt;services&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>Service child pom :</p>\n<pre><code>  &lt;!-- =================================================================== --&gt;\n    &lt;!-- == Parent                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n        &lt;artifactId&gt;integration&lt;/artifactId&gt;\n        &lt;version&gt;${app.version}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- =================================================================== --&gt;\n    &lt;!-- == This Artifact                                                 == --&gt;\n    &lt;!-- =================================================================== --&gt;\n    &lt;groupId&gt;com.igaurav&lt;/groupId&gt;\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;${app.version}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;jdk.version&gt;11&lt;/jdk.version&gt;\n        &lt;maven.compiler.target&gt;${jdk.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${jdk.version}&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>Module child pom is also similar to service child pom .</p>\n<p>For me compilation steps(mvn clean install) works properly with no error but while the below command is executed to deploy the artifact via using maven deploy plugin.</p>\n<pre><code>mvn -e -f pom.xml flatten:clean flatten:flatten -B org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file -Durl={repositrypath} -DrepositoryId={repositoryId}-Dfile=pom.xml -DpomFile=/pom.xml -DgeneratePom=false \n</code></pre>\n<p>Error :</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1:deploy-file (default-cli) on project integration: Failed to deploy artifacts: Could not transfer artifact com.igaurav:integration:pom:${app.version} from/to spartafactory (url): Transfer failed for {urlPath}/integration/$%257Bapp.version%257D/integration-$%257Bapp.version%257D.pom 409 Conflict\n</code></pre>\n<p>Issue here is that it is not converting the app.version into LATEST-SNAPSHOT and just reading it as it is.</p>\n"},{"tags":["java","android","calculator"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1609168791,"post_id":65479088,"comment_id":115765569,"body_markdown":"You can use the DecimalFormat class to determine how a double is formatted. You can display it as 2, or as 2.0 or even more decimal places if needed.","body":"You can use the DecimalFormat class to determine how a double is formatted. You can display it as 2, or as 2.0 or even more decimal places if needed."},{"owner":{"account_id":20209060,"reputation":77,"user_id":14822557,"display_name":"cloud"},"score":0,"creation_date":1609202346,"post_id":65479088,"comment_id":115776480,"body_markdown":"@LiveandLetLive thank you for spending your time to help me. I am really a beginner that I got the above code from youtube. I am trying to understand the code you write. Thank you so much to share your knowledge!!!! I do appreciate it so much!!!","body":"@LiveandLetLive thank you for spending your time to help me. I am really a beginner that I got the above code from youtube. I am trying to understand the code you write. Thank you so much to share your knowledge!!!! I do appreciate it so much!!!"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1609222544,"post_id":65479088,"comment_id":115779947,"body_markdown":"You are most welcome.","body":"You are most welcome."}],"answers":[{"tags":[],"owner":{"account_id":10503317,"reputation":51,"user_id":7741366,"display_name":"Cx Vercility"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609166753,"creation_date":1609166430,"answer_id":65479332,"question_id":65479088,"body_markdown":"\r\nUse the modulo operator to check whether a double is an Integer \r\n    (result %1 ==0)\r\nor Math.floor then check whether result changed or not.\r\n\r\nIf it is, you can use Integer.valueOf(result)\r\n\r\nInteger has a built in toString method by the way. ","title":"How to show result with Int on calculator?","body":"<p>Use the modulo operator to check whether a double is an Integer\n(result %1 ==0)\nor Math.floor then check whether result changed or not.</p>\n<p>If it is, you can use Integer.valueOf(result)</p>\n<p>Integer has a built in toString method by the way.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609168852,"creation_date":1609167637,"answer_id":65479613,"question_id":65479088,"body_markdown":"It is happening because you have declared `result` of type, `Double`. Therefore, until you cast it&#39;s `doubleValue()` into an `int` and set the same to `resultsTV`, its `double` value will be set there.\r\n\r\n\r\nChange your method definition as follows:\r\n\r\n    public void equalsOnClick(View view) {\r\n        Double result = null;\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n    \r\n        try {\r\n            result = (Double)engine.eval(workings);\r\n            if(result != null) {\r\n            \tint intVal = (int)result.doubleValue();\r\n                if(result == intVal) {// Check if it&#39;s value is equal to its integer part\r\n                    resultsTV.setText(String.valueOf(intVal));\r\n                } else {\r\n                    resultsTV.setText(String.valueOf(result));\r\n                }\r\n            }\r\n        } catch (ScriptException e) {\r\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n        }    \r\n    }\r\n\r\nNote that I have also moved `resultsTV.setText` inside the `try-catch` block so that it gets executed only when `result = (Double)engine.eval(workings)` does not throw an exception.\r\n","title":"How to show result with Int on calculator?","body":"<p>It is happening because you have declared <code>result</code> of type, <code>Double</code>. Therefore, until you cast it's <code>doubleValue()</code> into an <code>int</code> and set the same to <code>resultsTV</code>, its <code>double</code> value will be set there.</p>\n<p>Change your method definition as follows:</p>\n<pre><code>public void equalsOnClick(View view) {\n    Double result = null;\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n    try {\n        result = (Double)engine.eval(workings);\n        if(result != null) {\n            int intVal = (int)result.doubleValue();\n            if(result == intVal) {// Check if it's value is equal to its integer part\n                resultsTV.setText(String.valueOf(intVal));\n            } else {\n                resultsTV.setText(String.valueOf(result));\n            }\n        }\n    } catch (ScriptException e) {\n        Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n    }    \n}\n</code></pre>\n<p>Note that I have also moved <code>resultsTV.setText</code> inside the <code>try-catch</code> block so that it gets executed only when <code>result = (Double)engine.eval(workings)</code> does not throw an exception.</p>\n"},{"tags":[],"owner":{"display_name":"user19126248"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655181108,"creation_date":1655032819,"answer_id":72591710,"question_id":65479088,"body_markdown":"Nothing to do.\r\n\r\nJust check the string on whether it ended with `&quot;.0&quot;`\r\nIf so, just replace the string like this: `replace(&quot;.0&quot;,&quot;&quot;);`\r\n\r\nIn the else condition, insert the string as you input like now.","title":"How to show result with Int on calculator?","body":"<p>Nothing to do.</p>\n<p>Just check the string on whether it ended with <code>&quot;.0&quot;</code>\nIf so, just replace the string like this: <code>replace(&quot;.0&quot;,&quot;&quot;);</code></p>\n<p>In the else condition, insert the string as you input like now.</p>\n"}],"owner":{"account_id":20209060,"reputation":77,"user_id":14822557,"display_name":"cloud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65479613,"answer_count":3,"score":1,"last_activity_date":1655181108,"creation_date":1609165324,"question_id":65479088,"body_markdown":"I am making the calculator app. It shows double at the result even when I don&#39;t use double. \r\nExample) 1+1 = 2.0\r\n\r\nBut I want like 1+1= 2\r\n\r\nOf course, I want to keep double when there is double like 1.2+1.3= 2.5\r\n\r\nHow should I have to edit? \r\n\r\nI tried to edit like this, but there is an error. \r\n\r\n    public void equalsOnClick(View view)\r\n    {\r\n        Integer result = null;\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n\r\n        try {\r\n            result = (int)engine.eval(workings);\r\n        } catch (ScriptException e)\r\n        {\r\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        if(result != null)\r\n            resultsTV.setText(String.valueOf(result.intValue()));\r\n\r\n    }\r\n\r\n\r\n**MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView workingsTV;\r\n        TextView resultsTV;\r\n    \r\n        String workings = &quot;&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            initTextView();\r\n        }\r\n    \r\n        private void initTextView()\r\n        {\r\n            workingsTV = (TextView)findViewById(R.id.workingsTextView);\r\n            resultsTV = (TextView)findViewById(R.id.resultTextView);\r\n        }\r\n    \r\n        private void setWorkings(String givenValue)\r\n        {\r\n            workings = workings + givenValue;\r\n            workingsTV.setText(workings);\r\n        }\r\n    \r\n        public void equalsOnClick(View view)\r\n        {\r\n            Double result = null;\r\n            ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\r\n    \r\n            try {\r\n                result = (double)engine.eval(workings);\r\n            } catch (ScriptException e)\r\n            {\r\n                Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            if(result != null)\r\n                resultsTV.setText(String.valueOf(result.doubleValue()));\r\n        }\r\n    \r\n        public void clearOnClick(View view)\r\n        {\r\n            workingsTV.setText(&quot;&quot;);\r\n            workings = &quot;&quot;;\r\n            resultsTV.setText(&quot;&quot;);\r\n            leftBracket = true;\r\n        }\r\n    }","title":"How to show result with Int on calculator?","body":"<p>I am making the calculator app. It shows double at the result even when I don't use double.\nExample) 1+1 = 2.0</p>\n<p>But I want like 1+1= 2</p>\n<p>Of course, I want to keep double when there is double like 1.2+1.3= 2.5</p>\n<p>How should I have to edit?</p>\n<p>I tried to edit like this, but there is an error.</p>\n<pre><code>public void equalsOnClick(View view)\n{\n    Integer result = null;\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n    try {\n        result = (int)engine.eval(workings);\n    } catch (ScriptException e)\n    {\n        Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    if(result != null)\n        resultsTV.setText(String.valueOf(result.intValue()));\n\n}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView workingsTV;\n    TextView resultsTV;\n\n    String workings = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        initTextView();\n    }\n\n    private void initTextView()\n    {\n        workingsTV = (TextView)findViewById(R.id.workingsTextView);\n        resultsTV = (TextView)findViewById(R.id.resultTextView);\n    }\n\n    private void setWorkings(String givenValue)\n    {\n        workings = workings + givenValue;\n        workingsTV.setText(workings);\n    }\n\n    public void equalsOnClick(View view)\n    {\n        Double result = null;\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;rhino&quot;);\n\n        try {\n            result = (double)engine.eval(workings);\n        } catch (ScriptException e)\n        {\n            Toast.makeText(this, &quot;Invalid Input&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        if(result != null)\n            resultsTV.setText(String.valueOf(result.doubleValue()));\n    }\n\n    public void clearOnClick(View view)\n    {\n        workingsTV.setText(&quot;&quot;);\n        workings = &quot;&quot;;\n        resultsTV.setText(&quot;&quot;);\n        leftBracket = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","junit4"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1655181245,"post_id":72611555,"comment_id":128264427,"body_markdown":"Where you are creating your test class? Under src/test/java?","body":"Where you are creating your test class? Under src/test/java?"},{"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"score":1,"creation_date":1655181643,"post_id":72611555,"comment_id":128264513,"body_markdown":"I&#39;m trying to create under src/main/java","body":"I&#39;m trying to create under src/main/java"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1655181685,"post_id":72611555,"comment_id":128264518,"body_markdown":"Dependencies with scope test are not available under src/main.","body":"Dependencies with scope test are not available under src/main."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1655188839,"post_id":72611555,"comment_id":128266097,"body_markdown":"In `src/main/java` only production code is located. Tests have to be located in `src/test/java`....","body":"In <code>src&#47;main&#47;java</code> only production code is located. Tests have to be located in <code>src&#47;test&#47;java</code>...."}],"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655181024,"creation_date":1655181024,"question_id":72611555,"body_markdown":"I have created a new maven project where I have added dependency for Junit but I&#39;m unable to access `org.junit.*;`. I&#39;m using below `pom.xml` file for the dependency. \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenproject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nIt would be great if you can highlight my problem in this code.","title":"Unable to access Junit in a maven project of eclipse","body":"<p>I have created a new maven project where I have added dependency for Junit but I'm unable to access <code>org.junit.*;</code>. I'm using below <code>pom.xml</code> file for the dependency.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.appium&lt;/groupId&gt;\n&lt;artifactId&gt;mavenproject&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;7.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>It would be great if you can highlight my problem in this code.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1422915457,"post_id":28286822,"comment_id":44929546,"body_markdown":"Dunno about the 2nd replaceAll, but the 4th one isn&#39;t going to find much to chew on.","body":"Dunno about the 2nd replaceAll, but the 4th one isn&#39;t going to find much to chew on."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1422915490,"post_id":28286822,"comment_id":44929563,"body_markdown":"`reaplceAll` is not called so because it replaces all the occurrences; `replace` does the same. It&#39;s called so because it replaces all the string _matching the given regular expression_.","body":"<code>reaplceAll</code> is not called so because it replaces all the occurrences; <code>replace</code> does the same. It&#39;s called so because it replaces all the string <i>matching the given regular expression</i>."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1422915670,"post_id":28286822,"comment_id":44929643,"body_markdown":"Note that you have 5 instances of `replaceAll` there.  I suspect you didn&#39;t really want a couple of them.  And you really should break the statement down into multiple statements assigning to temps -- much easier to debug that way, and no less efficient.","body":"Note that you have 5 instances of <code>replaceAll</code> there.  I suspect you didn&#39;t really want a couple of them.  And you really should break the statement down into multiple statements assigning to temps -- much easier to debug that way, and no less efficient."}],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422945995,"creation_date":1422915464,"answer_id":28287846,"question_id":28286822,"body_markdown":"The `replaceAll()` method is taking a regular expression instead of regular string. **Curly braces have special meaning in Java Regular expressions**.\r\n\r\nYou have to escape the curly braces, otherwise they will be understood as part of regex.\r\n\r\nHowever the following expression will not work correctly:\r\n\r\n    zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;,  &quot;\\uffff&quot;)\r\n         .replaceAll(&quot;,&quot;,      &quot;&quot;)\r\n         .replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)\r\n         .replaceAll(&quot;\\uffff&quot;, &quot;},{&quot;)\r\n         .replaceAll(&quot;},{&quot;,    &quot;\\uffff&quot;);\r\n\r\n**Because you are using multiple calls of `replaceAll()`, you are producing multiple intermediate results**, and the results depends on the previous intermediate result.\r\n\r\ne.g. if the content of the input string will be `&quot;,&quot;,},{`, your program will:\r\n\r\n    1. zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;,  &quot;\\uffff&quot;)    // input = \\uffff,},{\r\n    2.     .replaceAll(&quot;,&quot;,       &quot;&quot;)          // input = \\uffff}{\r\n    3.     .replaceAll(&quot;\\uffff&quot;,  &quot;\\&quot;,\\&quot;&quot;)     // input = &quot;,&quot;}{\r\n    4.     .replaceAll(&quot;\\uffff&quot;,  &quot;},{&quot;)       // input = &quot;,&quot;}{\r\n    5.     .replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\uffff&quot;);   // input = &quot;,&quot;}{\r\nNotes:\r\n\r\n- note that line 1 and 3 are doing the reverse change, first you replace all occurences of `&quot;,&quot;` by `\\uffff` and then you just replace all of them back\r\n- line 4 will never execute as all the occurences of `\\uffff` were already replaced in line 3\r\n- line 5 will never execute either as all the occurences of `,` was already replaced in line 2","title":"Second replaceALL not working","body":"<p>The <code>replaceAll()</code> method is taking a regular expression instead of regular string. <strong>Curly braces have special meaning in Java Regular expressions</strong>.</p>\n\n<p>You have to escape the curly braces, otherwise they will be understood as part of regex.</p>\n\n<p>However the following expression will not work correctly:</p>\n\n<pre><code>zeile.replaceAll(\"\\\",\\\"\",  \"\\uffff\")\n     .replaceAll(\",\",      \"\")\n     .replaceAll(\"\\uffff\", \"\\\",\\\"\")\n     .replaceAll(\"\\uffff\", \"},{\")\n     .replaceAll(\"},{\",    \"\\uffff\");\n</code></pre>\n\n<p><strong>Because you are using multiple calls of <code>replaceAll()</code>, you are producing multiple intermediate results</strong>, and the results depends on the previous intermediate result.</p>\n\n<p>e.g. if the content of the input string will be <code>\",\",},{</code>, your program will:</p>\n\n<pre><code>1. zeile.replaceAll(\"\\\",\\\"\",  \"\\uffff\")    // input = \\uffff,},{\n2.     .replaceAll(\",\",       \"\")          // input = \\uffff}{\n3.     .replaceAll(\"\\uffff\",  \"\\\",\\\"\")     // input = \",\"}{\n4.     .replaceAll(\"\\uffff\",  \"},{\")       // input = \",\"}{\n5.     .replaceAll(\"\\\\},\\\\{\", \"\\uffff\");   // input = \",\"}{\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>note that line 1 and 3 are doing the reverse change, first you replace all occurences of <code>\",\"</code> by <code>\\uffff</code> and then you just replace all of them back</li>\n<li>line 4 will never execute as all the occurences of <code>\\uffff</code> were already replaced in line 3</li>\n<li>line 5 will never execute either as all the occurences of <code>,</code> was already replaced in line 2</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3104405,"reputation":1512,"user_id":2627644,"accept_rate":43,"display_name":"jp-jee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422965743,"creation_date":1422915502,"answer_id":28287859,"question_id":28286822,"body_markdown":"Characters `{` and `}` have a special meaning in regular expressions (quantifier). Escape these characters using `\\`.\r\n\r\nEscape this for Java using a second `\\`.\r\n\r\nResult: `.replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\\\uffff&quot;);`\r\n\r\n**Update**\r\n\r\nChange the order of your replacements as following:\r\n\r\n\t\t   zeile = zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;, &quot;\\uffff&quot;)    //backup any &quot;,&quot; \r\n\t\t\t\t   \t\t.replaceAll(&quot;\\\\},\\\\{&quot;, &quot;\\ueeee&quot;)  //backup any },{\r\n\t\t\t\t   \t\t.replaceAll(&quot;,&quot;, &quot;&quot;)              //replace all commas that are still in the string\r\n\t\t\t\t   \t\t.replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)    //restore &quot;,&quot;\r\n\t\t\t\t   \t\t.replaceAll(&quot;\\ueeee&quot;, &quot;},{&quot;);     //restore },{","title":"Second replaceALL not working","body":"<p>Characters <code>{</code> and <code>}</code> have a special meaning in regular expressions (quantifier). Escape these characters using <code>\\</code>.</p>\n\n<p>Escape this for Java using a second <code>\\</code>.</p>\n\n<p>Result: <code>.replaceAll(\"\\\\},\\\\{\", \"\\\\uffff\");</code></p>\n\n<p><strong>Update</strong></p>\n\n<p>Change the order of your replacements as following:</p>\n\n<pre><code>       zeile = zeile.replaceAll(\"\\\",\\\"\", \"\\uffff\")    //backup any \",\" \n                    .replaceAll(\"\\\\},\\\\{\", \"\\ueeee\")  //backup any },{\n                    .replaceAll(\",\", \"\")              //replace all commas that are still in the string\n                    .replaceAll(\"\\uffff\", \"\\\",\\\"\")    //restore \",\"\n                    .replaceAll(\"\\ueeee\", \"},{\");     //restore },{\n</code></pre>\n"}],"owner":{"account_id":5620492,"reputation":23,"user_id":4450512,"display_name":"ayhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655180993,"creation_date":1422911410,"question_id":28286822,"body_markdown":"My code doesn&#39;t want to work. I would like to replace all commas but replace these commas &quot;,&quot; and this `},{`\r\n  \r\n\r\n    import java.io.*;\r\n\r\n    public class converter {\r\n\t   \r\n    public static void main(String[] args) throws IOException {\r\n\t   try {\r\n\r\n\t        BufferedReader br = new BufferedReader(\r\n\t                new FileReader(&quot;C:/Users/Sei_Erfolgreich/Desktop/convert.txt&quot;));\r\n\t        String zeile;\r\n\r\n\t        try {\r\n\t            File newTextFile = new File(&quot;C:/Users/Sei_Erfolgreich/Desktop/convert2.txt&quot;);\r\n\t            FileWriter fw = new FileWriter(newTextFile);\r\n\t            while ((zeile = br.readLine()) != null) {\r\n\t                zeile = zeile.replaceAll(&quot;\\&quot;,\\&quot;&quot;, &quot;\\uffff&quot;).replaceAll(&quot;,&quot;, &quot;&quot;).replaceAll(&quot;\\uffff&quot;, &quot;\\&quot;,\\&quot;&quot;)\r\n\t                .replaceAll(&quot;\\uffff&quot;, &quot;},{&quot;)\r\n\t                .replaceAll(&quot;},{&quot;, &quot;\\uffff&quot;);\r\n\t                System.out.println(zeile);\r\n\t                fw.write(zeile);\r\n\t            }\r\n\r\n\t            fw.close();\r\n\t        } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    } catch (FileNotFoundException e1) {\r\n\t        e1.printStackTrace();\r\n\t    }\r\n   \r\n     }\r\n    }\r\n\t\t\r\n\r\nSo I want to let this comma stay which stay between `},{`, but it does not work and I get an error message `&quot;Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Illegal repetition near index 1 },{`&quot;","title":"Second replaceALL not working","body":"<p>My code doesn't want to work. I would like to replace all commas but replace these commas \",\" and this <code>},{</code></p>\n\n<pre><code>import java.io.*;\n\npublic class converter {\n\npublic static void main(String[] args) throws IOException {\n   try {\n\n        BufferedReader br = new BufferedReader(\n                new FileReader(\"C:/Users/Sei_Erfolgreich/Desktop/convert.txt\"));\n        String zeile;\n\n        try {\n            File newTextFile = new File(\"C:/Users/Sei_Erfolgreich/Desktop/convert2.txt\");\n            FileWriter fw = new FileWriter(newTextFile);\n            while ((zeile = br.readLine()) != null) {\n                zeile = zeile.replaceAll(\"\\\",\\\"\", \"\\uffff\").replaceAll(\",\", \"\").replaceAll(\"\\uffff\", \"\\\",\\\"\")\n                .replaceAll(\"\\uffff\", \"},{\")\n                .replaceAll(\"},{\", \"\\uffff\");\n                System.out.println(zeile);\n                fw.write(zeile);\n            }\n\n            fw.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    } catch (FileNotFoundException e1) {\n        e1.printStackTrace();\n    }\n\n }\n}\n</code></pre>\n\n<p>So I want to let this comma stay which stay between <code>},{</code>, but it does not work and I get an error message <code>\"Exception in thread \"main\" java.util.regex.PatternSyntaxException: Illegal repetition near index 1 },{</code>\"</p>\n"},{"tags":["java","url","unicode"],"comments":[{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":1,"creation_date":1347155557,"post_id":12335912,"comment_id":16559418,"body_markdown":"Java strings are naturally Unicode encoded (in UTF-16). URLs need to be encoded as [Punycode](http://en.wikipedia.org/wiki/Punycode). The problem must be somewhere else in your program flow.","body":"Java strings are naturally Unicode encoded (in UTF-16). URLs need to be encoded as <a href=\"http://en.wikipedia.org/wiki/Punycode\" rel=\"nofollow noreferrer\">Punycode</a>. The problem must be somewhere else in your program flow."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":2,"creation_date":1347156896,"post_id":12335912,"comment_id":16559548,"body_markdown":"Have you tried [java.net.IDN](http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html)?","body":"Have you tried <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/IDN.html\" rel=\"nofollow noreferrer\">java.net.IDN</a>?"},{"owner":{"display_name":"user352353"},"score":0,"creation_date":1347223775,"post_id":12335912,"comment_id":16571022,"body_markdown":"Please see the update I added; if you can help me I appreciate it.","body":"Please see the update I added; if you can help me I appreciate it."},{"owner":{"account_id":422939,"reputation":4371,"user_id":802012,"accept_rate":60,"display_name":"Mark Butler"},"score":0,"creation_date":1370242306,"post_id":12335912,"comment_id":24372612,"body_markdown":"See this related question http://stackoverflow.com/questions/3295989/apache-common-urlvalidator-does-not-support-unicode-alernative-is-avaliable","body":"See this related question <a href=\"http://stackoverflow.com/questions/3295989/apache-common-urlvalidator-does-not-support-unicode-alernative-is-avaliable\" title=\"apache common urlvalidator does not support unicode alernative is avaliable\">stackoverflow.com/questions/3295989/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1347160070,"creation_date":1347160070,"answer_id":12336221,"question_id":12335912,"body_markdown":"Not sure what do you mean by &quot;parse&quot; - what do you intend to do with these parts? &lt;BR&gt;\r\nArabic and Russian, as far as I know are supported by UTF-8. &lt;BR&gt;\r\nNot sure what is your source of data (some sort of Stream perhaps?) but [String][1] has a CTOR that accepts the desired encoding. &lt;BR&gt;\r\nYou should be able to obtain a string NOT containing ??? when it comes to Arabic and Russian if you use this CTOR (with the &quot;UTF-8&quot; argument)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html","title":"How to handle UNICODE URL?","body":"<p>Not sure what do you mean by \"parse\" - what do you intend to do with these parts? <BR>\nArabic and Russian, as far as I know are supported by UTF-8. <BR>\nNot sure what is your source of data (some sort of Stream perhaps?) but <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow\">String</a> has a CTOR that accepts the desired encoding. <BR>\nYou should be able to obtain a string NOT containing ??? when it comes to Arabic and Russian if you use this CTOR (with the \"UTF-8\" argument)</p>\n"},{"tags":[],"owner":{"account_id":1169780,"reputation":408,"user_id":1147207,"display_name":"Mark Yao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1347160775,"creation_date":1347160775,"answer_id":12336261,"question_id":12335912,"body_markdown":"You can try the follow code:\r\n\r\n    import java.net.URLDecoder;\r\n    import java.net.URLEncoder;\r\n\r\n    public class Test7 {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString str = &quot;http://www.中国政府.政务.cn&quot;;\r\n\t\tSystem.out.println(URLDecoder.decode(str, URLEncoder.encode(str,\r\n\t\t\t\t&quot;UTF-8&quot;)));\r\n\t    }\r\n    }","title":"How to handle UNICODE URL?","body":"<p>You can try the follow code:</p>\n\n<pre><code>import java.net.URLDecoder;\nimport java.net.URLEncoder;\n\npublic class Test7 {\npublic static void main(String[] args) throws Exception {\n    String str = \"http://www.中国政府.政务.cn\";\n    System.out.println(URLDecoder.decode(str, URLEncoder.encode(str,\n            \"UTF-8\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076392,"reputation":1,"user_id":2605592,"display_name":"Volmir Alex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1374471021,"creation_date":1374469762,"answer_id":17780315,"question_id":12335912,"body_markdown":"You may try use the following:\r\n\r\n    String pageUrl = &quot;http://www.中国政府.政务.cn&quot;;\r\n\r\n    try \r\n    {\r\n    \t    URL url = new URL(pageUrl);\r\n    \t    System.out.println(url.toURI().toASCIIString());\r\n    }\r\n\r\n    catch (MalformedURLException e1) \r\n    {\r\n\t    // TODO Auto-generated catch block\r\n\t    e1.printStackTrace();\r\n    }\r\n\r\n    catch (URISyntaxException e) \r\n    {\r\n\t    // TODO Auto-generated catch block\r\n\t    e.printStackTrace();\r\n    }\r\n\r\nThe result is as expected:\r\nhttp://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\r\n\r\nBut converting to `URI` has its own disadvantage, you should replace manually the special characters like `&#39;|&#39;, &#39;&quot;&#39;, &#39;#&#39;` to its `URL` encoding.","title":"How to handle UNICODE URL?","body":"<p>You may try use the following:</p>\n\n<pre><code>String pageUrl = \"http://www.中国政府.政务.cn\";\n\ntry \n{\n        URL url = new URL(pageUrl);\n        System.out.println(url.toURI().toASCIIString());\n}\n\ncatch (MalformedURLException e1) \n{\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n\ncatch (URISyntaxException e) \n{\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The result is as expected:\n<a href=\"http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\">http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn</a></p>\n\n<p>But converting to <code>URI</code> has its own disadvantage, you should replace manually the special characters like <code>'|', '\"', '#'</code> to its <code>URL</code> encoding.</p>\n"},{"tags":[],"owner":{"account_id":6179691,"reputation":36,"user_id":4815595,"display_name":"Hyunjong Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445256458,"creation_date":1445256458,"answer_id":33213993,"question_id":12335912,"body_markdown":"For domain name, you should convert unicode host name using [Punycode][1].\r\nPunycode is a way to convert unicode string to ascii string.\r\n\r\nThe following link shows a JAVA method to convert Unicode Domain Name to International Domain Name.\r\nhttps://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)\r\n\r\n    \tURL u = new URL(url);\r\n\t\tString host = u.getHost();\r\n\r\n\t\tString[] labels = host.split(&quot;\\\\.&quot;);\r\n\t\tfor (int i = 0; i &lt; labels.length; i++) {\r\n\t\t\tlabels[i] = java.net.IDN.toUnicode(labels[i]);\r\n\t\t}\r\n\t\thost = StringUtils.join(labels, &quot;.&quot;);\r\n\t\tSystem.out.println(host);\r\n\r\nAlso, you can test some unicode URL using online punycode converter.\r\nhttps://www.punycoder.com/\r\n\r\nFor example, &quot;http://www.中国政府.政务.cn&quot; is converted into &quot;http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/&quot;.\r\n\r\n[1]: https://en.wikipedia.org/wiki/Punycode","title":"How to handle UNICODE URL?","body":"<p>For domain name, you should convert unicode host name using <a href=\"https://en.wikipedia.org/wiki/Punycode\" rel=\"nofollow\">Punycode</a>.\nPunycode is a way to convert unicode string to ascii string.</p>\n\n<p>The following link shows a JAVA method to convert Unicode Domain Name to International Domain Name.\n<a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)\" rel=\"nofollow\">https://docs.oracle.com/javase/6/docs/api/java/net/IDN.html#toASCII(java.lang.String)</a></p>\n\n<pre><code>    URL u = new URL(url);\n    String host = u.getHost();\n\n    String[] labels = host.split(\"\\\\.\");\n    for (int i = 0; i &lt; labels.length; i++) {\n        labels[i] = java.net.IDN.toUnicode(labels[i]);\n    }\n    host = StringUtils.join(labels, \".\");\n    System.out.println(host);\n</code></pre>\n\n<p>Also, you can test some unicode URL using online punycode converter.\n<a href=\"https://www.punycoder.com/\" rel=\"nofollow\">https://www.punycoder.com/</a></p>\n\n<p>For example, \"<a href=\"http://www.%E4%B8%AD%E5%9B%BD%E6%94%BF%E5%BA%9C.%E6%94%BF%E5%8A%A1.cn\">http://www.中国政府.政务.cn</a>\" is converted into \"<a href=\"http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/\" rel=\"nofollow\">http://www.xn--fiqs8sirgfmh.xn--zfr164b.cn/</a>\".</p>\n"},{"tags":[],"owner":{"account_id":12146552,"reputation":399,"user_id":8868638,"display_name":"Yehezkiel L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655180374,"creation_date":1655180374,"answer_id":72611490,"question_id":12335912,"body_markdown":"Based on @hyunjong [answer][1] its not working to use `toUnicode`, use `toASCII` instead. And if you prefer kotlin, you can use this code\r\n\r\n    val a = &quot;http://www.中国政府.政务.cn&quot;\r\n\r\n    val u = URL(a);\r\n    val labels = u.host.split(&quot;\\\\.&quot;);\r\n    val result = labels.joinToString(separator = &quot;.&quot;) { s -&gt;\r\n        java.net.IDN.toASCII(s)\r\n    }\r\n    \r\n    print(result) //www.xn--fiqs8sirgfmh.xn--zfr164b.cn\r\n    \r\n    \r\n    \r\n   [1]: https://stackoverflow.com/a/33213993/8868638\r\n\r\n ","title":"How to handle UNICODE URL?","body":"<p>Based on @hyunjong <a href=\"https://stackoverflow.com/a/33213993/8868638\">answer</a> its not working to use <code>toUnicode</code>, use <code>toASCII</code> instead. And if you prefer kotlin, you can use this code</p>\n<pre><code>val a = &quot;http://www.中国政府.政务.cn&quot;\n\nval u = URL(a);\nval labels = u.host.split(&quot;\\\\.&quot;);\nval result = labels.joinToString(separator = &quot;.&quot;) { s -&gt;\n    java.net.IDN.toASCII(s)\n}\n\nprint(result) //www.xn--fiqs8sirgfmh.xn--zfr164b.cn\n</code></pre>\n"}],"owner":{"display_name":"user352353"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7187,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1655180374,"creation_date":1347155072,"question_id":12335912,"body_markdown":"If I want to pase the following URL&#39;s in Java:\r\n\r\n![Screenshot of URL&#39;s in UNICODE][1]\r\n\r\n... what handle should I have with the String.\r\n\r\nSo far I have been unable to handle that String&#39;s, all I&#39;ve got are ???? chars.\r\n\r\nThanks.\r\n\r\nModified in 2012.09.09:\r\n\r\n    package pruebas;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.net.URLDecoder;\r\n    import java.net.URLEncoder;\r\n    import java.util.Vector;\r\n    \r\n    public class Prueba03\r\n    {\r\n    \tpublic static void main(String argumentos[])\r\n    \t{\r\n    \t\tVector&lt;String&gt; listaURLs = new Vector&lt;String&gt;();\r\n    \t\t\r\n    \t\tlistaURLs.add(&quot;http://президент.рф/&quot;);\r\n    \t\tlistaURLs.add(&quot;http://www.中国政府.政务.cn&quot;);\r\n    \t\tlistaURLs.add(&quot;http://www.原來我不帥.cn/&quot;);\r\n    \t\tlistaURLs.add(&quot;http://وزارة-الأتصالات.مصر/&quot;);\r\n    \t\t\r\n    \t\tURL currentURL;\r\n    \t    URLConnection currentConnection;\r\n    \t    int currentSize;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;listaURLs.size(); i++)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(URLDecoder.decode(listaURLs.get(i), URLEncoder.encode(listaURLs.get(i), &quot;UTF-8&quot;)));\r\n    \t\t\t} // End of the try.\r\n    \t\t\tcatch(UnsupportedEncodingException uee)\r\n    \t\t\t{\r\n    \t\t\t\tuee.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t\t\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tcurrentURL = new URL(listaURLs.get(i));\r\n    \t\t\t\tSystem.out.println(&quot;currentURL&quot; + &quot; = &quot; + currentURL);\r\n    \t\t\t\t\r\n    \t\t\t\tcurrentConnection = currentURL.openConnection();\r\n    \t\t\t\tSystem.out.println(&quot;currentConnection&quot; + &quot; = &quot; + currentConnection);\r\n    \t\t\t\t\r\n    \t\t\t\tcurrentSize = currentConnection.getContentLength();\r\n    \t\t\t\tSystem.out.println(&quot;currentSize&quot; + &quot; = &quot; + currentSize);\r\n    \t\t\t} // End of the try.\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} // End of the catch.\r\n    \t\t} // End of the for.\r\n    \t} // End of the main method.\r\n    } // End of the Prueba02 class.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3IG9m.png","title":"How to handle UNICODE URL?","body":"<p>If I want to pase the following URL's in Java:</p>\n\n<p><img src=\"https://i.stack.imgur.com/3IG9m.png\" alt=\"Screenshot of URL&#39;s in UNICODE\"></p>\n\n<p>... what handle should I have with the String.</p>\n\n<p>So far I have been unable to handle that String's, all I've got are ???? chars.</p>\n\n<p>Thanks.</p>\n\n<p>Modified in 2012.09.09:</p>\n\n<pre><code>package pruebas;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.net.URLDecoder;\nimport java.net.URLEncoder;\nimport java.util.Vector;\n\npublic class Prueba03\n{\n    public static void main(String argumentos[])\n    {\n        Vector&lt;String&gt; listaURLs = new Vector&lt;String&gt;();\n\n        listaURLs.add(\"http://президент.рф/\");\n        listaURLs.add(\"http://www.中国政府.政务.cn\");\n        listaURLs.add(\"http://www.原來我不帥.cn/\");\n        listaURLs.add(\"http://وزارة-الأتصالات.مصر/\");\n\n        URL currentURL;\n        URLConnection currentConnection;\n        int currentSize;\n\n        for(int i=0; i&lt;listaURLs.size(); i++)\n        {\n            try\n            {\n                System.out.println(URLDecoder.decode(listaURLs.get(i), URLEncoder.encode(listaURLs.get(i), \"UTF-8\")));\n            } // End of the try.\n            catch(UnsupportedEncodingException uee)\n            {\n                uee.printStackTrace();\n            } // End of the catch.\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            } // End of the catch.\n\n            try\n            {\n                currentURL = new URL(listaURLs.get(i));\n                System.out.println(\"currentURL\" + \" = \" + currentURL);\n\n                currentConnection = currentURL.openConnection();\n                System.out.println(\"currentConnection\" + \" = \" + currentConnection);\n\n                currentSize = currentConnection.getContentLength();\n                System.out.println(\"currentSize\" + \" = \" + currentSize);\n            } // End of the try.\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            } // End of the catch.\n        } // End of the for.\n    } // End of the main method.\n} // End of the Prueba02 class.\n</code></pre>\n"},{"tags":["java","java-8","switch-statement"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1653394067,"post_id":72362600,"comment_id":127836920,"body_markdown":"Use a `Map&lt;String, String&gt;` to look up the format string? (Unfortunately it&#39;s hard to tell whether that would work with only pseudo-code. We don&#39;t need to see the *actual* business code, but you should be able to come up with a [mcve] that demonstrates the problem.)","body":"Use a <code>Map&lt;String, String&gt;</code> to look up the format string? (Unfortunately it&#39;s hard to tell whether that would work with only pseudo-code. We don&#39;t need to see the <i>actual</i> business code, but you should be able to come up with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem.)"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653394158,"post_id":72362600,"comment_id":127836956,"body_markdown":"You mean &lt;case-check&gt; as key and arg to format as value?","body":"You mean &lt;case-check&gt; as key and arg to format as value?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394367,"post_id":72362600,"comment_id":127837047,"body_markdown":"@justanotherguy You need to show what your formatting string *and* arguments look like.","body":"@justanotherguy You need to show what your formatting string <i>and</i> arguments look like."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394414,"post_id":72362600,"comment_id":127837066,"body_markdown":"And if you are bound to a particular Java version, you&#39;ll need to mention that in your question as well.","body":"And if you are bound to a particular Java version, you&#39;ll need to mention that in your question as well."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1653394595,"post_id":72362600,"comment_id":127837148,"body_markdown":"Does that mean that you are running Java 8 (i.e. language features for Java versions &gt; 8 cannot be used)?","body":"Does that mean that you are running Java 8 (i.e. language features for Java versions &gt; 8 cannot be used)?"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653394613,"post_id":72362600,"comment_id":127837155,"body_markdown":"Yes, precisely.","body":"Yes, precisely."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1653397206,"post_id":72362600,"comment_id":127838264,"body_markdown":"With your specific example, you could have a `Map&lt;String, String&gt;` where the keys would be &quot;name1&quot; -&gt; &quot;surname1&quot;, &quot;name2&quot; -&gt; &quot;surname2&quot; and &quot;name3&quot; -&gt; &quot;surname3&quot;. But are the differences *really* just constants?","body":"With your specific example, you could have a <code>Map&lt;String, String&gt;</code> where the keys would be &quot;name1&quot; -&gt; &quot;surname1&quot;, &quot;name2&quot; -&gt; &quot;surname2&quot; and &quot;name3&quot; -&gt; &quot;surname3&quot;. But are the differences <i>really</i> just constants?"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653400598,"post_id":72362600,"comment_id":127839875,"body_markdown":"@JonSkeet, yes, and no. The application actually converts the syntax of the old style input lines to new. So, the surname part (which isn&#39;t actually the surname), that actually comes from a list holding the changed attributes of the line.","body":"@JonSkeet, yes, and no. The application actually converts the syntax of the old style input lines to new. So, the surname part (which isn&#39;t actually the surname), that actually comes from a list holding the changed attributes of the line."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1653402419,"post_id":72362600,"comment_id":127840723,"body_markdown":"@justanotherguy: That doesn&#39;t really tell me whether it&#39;s suitable to be in a map... it sounds like what you&#39;ve shown still isn&#39;t *actually* representative of what you need.","body":"@justanotherguy: That doesn&#39;t really tell me whether it&#39;s suitable to be in a map... it sounds like what you&#39;ve shown still isn&#39;t <i>actually</i> representative of what you need."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653454735,"post_id":72362600,"comment_id":127853551,"body_markdown":"@JonSkeet, sorry man. I am trying my best, but I fear that I might accidentally disclose privileged information about the program. That is why I am trying to be as abstract as possible.","body":"@JonSkeet, sorry man. I am trying my best, but I fear that I might accidentally disclose privileged information about the program. That is why I am trying to be as abstract as possible."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1653454864,"post_id":72362600,"comment_id":127853578,"body_markdown":"All I can say is this, @MCEmperor is very close to what is actually happening. The only thing left now is what to do when some names are to be appended with a middle name too along with the surname, while some names have 3 surnames (that&#39;s a valid possibility here in my country)","body":"All I can say is this, @MCEmperor is very close to what is actually happening. The only thing left now is what to do when some names are to be appended with a middle name too along with the surname, while some names have 3 surnames (that&#39;s a valid possibility here in my country)"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653396161,"creation_date":1653395498,"answer_id":72362936,"question_id":72362600,"body_markdown":"Well, if all of your cases have that exact form, then you could simply do something like this:\r\n\r\n```java\r\nString surname;\r\nswitch (name) {\r\n    case &quot;name1&quot;:\r\n        surname = &quot;surname1&quot;;\r\n        break;\r\n    case &quot;name2&quot;:\r\n        surname = &quot;surname2&quot;;\r\n        break;\r\n    default:\r\n        surname = &quot;&quot;;\r\n        break;\r\n}\r\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\r\n```\r\n\r\nOr use a `Map` to look up the value:\r\n\r\n```java\r\nMap&lt;String, String&gt; mapping = new HashMap&lt;&gt;();\r\nmapping.put(&quot;name1&quot;, &quot;surname1&quot;);\r\nmapping.put(&quot;name2&quot;, &quot;surname2&quot;);\r\nmapping.put(&quot;name3&quot;, &quot;surname3&quot;);\r\n\r\nString surname = mapping.get(name); // Assuming name is always a valid map entry\r\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\r\n```\r\n","title":"Simplify a switch statement to avoid code duplication","body":"<p>Well, if all of your cases have that exact form, then you could simply do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String surname;\nswitch (name) {\n    case &quot;name1&quot;:\n        surname = &quot;surname1&quot;;\n        break;\n    case &quot;name2&quot;:\n        surname = &quot;surname2&quot;;\n        break;\n    default:\n        surname = &quot;&quot;;\n        break;\n}\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\n</code></pre>\n<p>Or use a <code>Map</code> to look up the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; mapping = new HashMap&lt;&gt;();\nmapping.put(&quot;name1&quot;, &quot;surname1&quot;);\nmapping.put(&quot;name2&quot;, &quot;surname2&quot;);\nmapping.put(&quot;name3&quot;, &quot;surname3&quot;);\n\nString surname = mapping.get(name); // Assuming name is always a valid map entry\nString fullname = String.format(&quot;%s %s&quot;, name, surname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653595767,"creation_date":1653595767,"answer_id":72397509,"question_id":72362600,"body_markdown":"The `Map` approach outlined elsewhere is probably your best best for Java 8, but note that as of Java 14, you can use a switch expression:\r\n\r\n```\r\nString surname = switch (name) { \r\n    case &quot;name1&quot; -&gt; &quot;surname1&quot;;\r\n    case &quot;name2&quot; -&gt; &quot;surname2&quot;;\r\n    ...\r\n};\r\nString fullName = String.format(&quot;%s %s&quot;, name, surname);\r\n ","title":"Simplify a switch statement to avoid code duplication","body":"<p>The <code>Map</code> approach outlined elsewhere is probably your best best for Java 8, but note that as of Java 14, you can use a switch expression:</p>\n<pre><code>String surname = switch (name) { \n    case &quot;name1&quot; -&gt; &quot;surname1&quot;;\n    case &quot;name2&quot; -&gt; &quot;surname2&quot;;\n    ...\n};\nString fullName = String.format(&quot;%s %s&quot;, name, surname);\n \n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72362936,"answer_count":2,"score":0,"last_activity_date":1655180180,"creation_date":1653393971,"question_id":72362600,"body_markdown":"I have the following code:\r\n\r\n```lang-java\r\nString fullName = &quot;&quot;;\r\nswitch(name) {\r\n  case &quot;name1&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname1&quot;);\r\n    break;\r\n\r\n  case &quot;name2&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname2&quot;);    \r\n    break;\r\n\r\n  case &quot;name3&quot;:\r\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname3&quot;);\r\n    break;\r\n  ...\r\n}\r\n```\r\n(there&#39;s a break statement after the cases, I just haven&#39;t written it here)\r\n\r\nSo here&#39;s the problem:\r\n\r\nThere&#39;s 16 different case statements all having the exact same code, except for the argument to `String.format()`.\r\n\r\nIs there any way I can simplify this code?\r\n\r\n\r\n----------\r\n\r\nNote: Java 8 is a must","title":"Simplify a switch statement to avoid code duplication","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fullName = &quot;&quot;;\nswitch(name) {\n  case &quot;name1&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname1&quot;);\n    break;\n\n  case &quot;name2&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname2&quot;);    \n    break;\n\n  case &quot;name3&quot;:\n    fullName = String.format(&quot;%s %s&quot;, name, &quot;surname3&quot;);\n    break;\n  ...\n}\n</code></pre>\n<p>(there's a break statement after the cases, I just haven't written it here)</p>\n<p>So here's the problem:</p>\n<p>There's 16 different case statements all having the exact same code, except for the argument to <code>String.format()</code>.</p>\n<p>Is there any way I can simplify this code?</p>\n<hr />\n<p>Note: Java 8 is a must</p>\n"},{"tags":["java","esapi"],"answers":[{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504827525,"creation_date":1504827525,"answer_id":46106563,"question_id":46089274,"body_markdown":"I think I answered a previous question.  \r\n\r\nAgain you&#39;re the victim of some bad design choices back at the beginning of the ESAPI project between 2009-2011. Namely, the Singleton-based monolith.  \r\n\r\nESAPI&#39;s current design is monolithic, meaning it tries to be everything to everyone.  As you&#39;re well aware, this isn&#39;t the best design strategy, but that&#39;s where we&#39;re at.  \r\n\r\nWe have several proposals for breaking various functions out into separate libraries, but that&#39;s future work towards building ESAPI 3.0.  \r\n\r\nFor your current dilemma, there&#39;s too much of the library that is dependent upon functionality that it sounds like you don&#39;t need and don&#39;t intend to use.  Unfortunately, that is simply the current fact of life.  No one has ever seemed to use our authentication interface--but its there for everybody, even if they don&#39;t need it.  Most users use our encoding/decoding capability first, followed by the validation API and then crypto.  The last couple are log injection and the WAF.  \r\n\r\nMost users of ESAPI take the non-prod test file, and leave it at that.  (This is a *really* bad idea.)  \r\n\r\nThe others take the one you reference and work through the exceptions, asking us questions on the mailing list.  \r\n\r\nThis is not an ideal path to walk either, but it&#39;s the path we&#39;re in right now. \r\n\r\nThe danger from my perspective, is if you choose to implement happy-path configurations for the ones ESAPI is throwing exceptions towards, with the goal of JUST making it happy so you can get to your two narrow use-cases. \r\n\r\nThen you get promoted and another developer on your app is faced with a problem that she thinks is solved because you handled all the integration with ESAPI.  \r\n\r\nPAY ATTENTION TO THE PARTS OF ESAPI THAT DON&#39;T PERTAIN TO YOUR USE CASE.  This isn&#39;t ideal, but its where we&#39;re at in 2017. Ask us questions on the user list.  \r\n\r\nFailure to do so--especially in the crypto portion, will leave your application vulnerable in the future.   \r\n","title":"Minimum required properties in ESAPI.properties","body":"<p>I think I answered a previous question.  </p>\n\n<p>Again you're the victim of some bad design choices back at the beginning of the ESAPI project between 2009-2011. Namely, the Singleton-based monolith.  </p>\n\n<p>ESAPI's current design is monolithic, meaning it tries to be everything to everyone.  As you're well aware, this isn't the best design strategy, but that's where we're at.  </p>\n\n<p>We have several proposals for breaking various functions out into separate libraries, but that's future work towards building ESAPI 3.0.  </p>\n\n<p>For your current dilemma, there's too much of the library that is dependent upon functionality that it sounds like you don't need and don't intend to use.  Unfortunately, that is simply the current fact of life.  No one has ever seemed to use our authentication interface--but its there for everybody, even if they don't need it.  Most users use our encoding/decoding capability first, followed by the validation API and then crypto.  The last couple are log injection and the WAF.  </p>\n\n<p>Most users of ESAPI take the non-prod test file, and leave it at that.  (This is a <em>really</em> bad idea.)  </p>\n\n<p>The others take the one you reference and work through the exceptions, asking us questions on the mailing list.  </p>\n\n<p>This is not an ideal path to walk either, but it's the path we're in right now. </p>\n\n<p>The danger from my perspective, is if you choose to implement happy-path configurations for the ones ESAPI is throwing exceptions towards, with the goal of JUST making it happy so you can get to your two narrow use-cases. </p>\n\n<p>Then you get promoted and another developer on your app is faced with a problem that she thinks is solved because you handled all the integration with ESAPI.  </p>\n\n<p>PAY ATTENTION TO THE PARTS OF ESAPI THAT DON'T PERTAIN TO YOUR USE CASE.  This isn't ideal, but its where we're at in 2017. Ask us questions on the user list.  </p>\n\n<p>Failure to do so--especially in the crypto portion, will leave your application vulnerable in the future.   </p>\n"},{"tags":[],"owner":{"account_id":326850,"reputation":1174,"user_id":1525799,"accept_rate":75,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1504884824,"creation_date":1504828989,"answer_id":46106748,"question_id":46089274,"body_markdown":"If you are just using the encoder() function, the 3 lines in the encoder section is all you need. Lines 99-119 (between all the comments). \r\n\r\n**Edit** \r\nPlus you must specify a default encoder. Example:\r\n\r\n    \r\n    ESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\r\n    \r\n    Encoder.AllowMultipleEncoding=false\r\n    \r\n    Encoder.AllowMixedEncoding=false\r\n    \r\n    Encoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec","title":"Minimum required properties in ESAPI.properties","body":"<p>If you are just using the encoder() function, the 3 lines in the encoder section is all you need. Lines 99-119 (between all the comments). </p>\n\n<p><strong>Edit</strong> \nPlus you must specify a default encoder. Example:</p>\n\n<pre><code>ESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\n\nEncoder.AllowMultipleEncoding=false\n\nEncoder.AllowMixedEncoding=false\n\nEncoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15304769,"reputation":21,"user_id":11041927,"display_name":"Deepak Kenchamba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655179913,"creation_date":1655179913,"answer_id":72611448,"question_id":46089274,"body_markdown":"# RegEx used in ESAPI.validator().getValidInput(..) calls\r\nValidator.COMPANY_ID_PTRN=[a-zA-Z0-9]+&lt;br/&gt;\r\nValidator.USER_DN_PTRN=[a-zA-Z0-9=,]+&lt;br/&gt;\r\nValidator.ROLE_DN_PTRN=[a-zA-Z0-9=,^\\\\- ]+&lt;br/&gt;\r\n\r\n# Minimum default settings\r\nESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder&lt;br/&gt;\r\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory&lt;br/&gt;\r\nLogger.ApplicationName=TrianzApp&lt;br/&gt;\r\nLogger.LogEncodingRequired=false&lt;br/&gt;\r\nLogger.LogApplicationName=false&lt;br/&gt;\r\nLogger.LogServerIP=false&lt;br/&gt;\r\nLogger.UserInfo=false&lt;br/&gt;\r\nLogger.ClientInfo=false&lt;br/&gt;\r\nIntrusionDetector.Disable=true&lt;br/&gt;\r\nESAPI.Validator=org.owasp.esapi.reference.DefaultValidator&lt;br/&gt;\r\nEncoder.AllowMixedEncoding=false&lt;br/&gt;\r\nEncoder.AllowMultipleEncoding=false&lt;br/&gt;\r\nESAPI.printProperties=false&lt;br/&gt;\r\n","title":"Minimum required properties in ESAPI.properties","body":"<h1>RegEx used in ESAPI.validator().getValidInput(..) calls</h1>\n<p>Validator.COMPANY_ID_PTRN=[a-zA-Z0-9]+<br/>\nValidator.USER_DN_PTRN=[a-zA-Z0-9=,]+<br/>\nValidator.ROLE_DN_PTRN=[a-zA-Z0-9=,^\\- ]+<br/></p>\n<h1>Minimum default settings</h1>\n<p>ESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder<br/>\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory<br/>\nLogger.ApplicationName=TrianzApp<br/>\nLogger.LogEncodingRequired=false<br/>\nLogger.LogApplicationName=false<br/>\nLogger.LogServerIP=false<br/>\nLogger.UserInfo=false<br/>\nLogger.ClientInfo=false<br/>\nIntrusionDetector.Disable=true<br/>\nESAPI.Validator=org.owasp.esapi.reference.DefaultValidator<br/>\nEncoder.AllowMixedEncoding=false<br/>\nEncoder.AllowMultipleEncoding=false<br/>\nESAPI.printProperties=false<br/></p>\n"}],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46106748,"answer_count":3,"score":3,"last_activity_date":1655179913,"creation_date":1504765621,"question_id":46089274,"body_markdown":"My web application uses only the following ESAPI encode methods:\r\n\r\n - `ESAPI.encoder().encodeForLDAP()`\r\n - `ESAPI.encoder().encodeForHTML()`\r\n\r\nIn this case, what is the minimum required properties in ESAPI.properties?\r\n\r\nNow I&#39;m using ESAPI 2.1.0.1 and [this properties](https://github.com/k-tamura/easybuggy/blob/master/src/main/resources/ESAPI.properties).","title":"Minimum required properties in ESAPI.properties","body":"<p>My web application uses only the following ESAPI encode methods:</p>\n\n<ul>\n<li><code>ESAPI.encoder().encodeForLDAP()</code></li>\n<li><code>ESAPI.encoder().encodeForHTML()</code></li>\n</ul>\n\n<p>In this case, what is the minimum required properties in ESAPI.properties?</p>\n\n<p>Now I'm using ESAPI 2.1.0.1 and <a href=\"https://github.com/k-tamura/easybuggy/blob/master/src/main/resources/ESAPI.properties\" rel=\"nofollow noreferrer\">this properties</a>.</p>\n"},{"tags":["java","nashorn"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515762715,"creation_date":1515762715,"answer_id":48227010,"question_id":48226505,"body_markdown":"You can create a native array through javascript, and then convert the corresponding `ScriptObjectMirror` to a `List&lt;Object&gt;`, it looks like the list will use the native array as underlying storage:\r\n\r\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);    \t\r\n\tScriptObjectMirror jsArray = (ScriptObjectMirror) engine.eval(&quot;var arr = []; arr&quot;);\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tList&lt;Object&gt; ls = jsArray.to(List.class);\r\n\tls.add(1);\r\n\tls.add(2);\r\n\tls.add(3);\r\n\t\r\n\tSystem.out.println(ls); // [1, 2, 3]\r\n\tengine.eval(&quot;print(arr)&quot;); // 1,2,3\r\n\tengine.eval(&quot;print(Array.isArray(arr))&quot;); // true\r\n\r\nYou can then use this list on the Java side.\r\n    ","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>You can create a native array through javascript, and then convert the corresponding <code>ScriptObjectMirror</code> to a <code>List&lt;Object&gt;</code>, it looks like the list will use the native array as underlying storage:</p>\n\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");     \nScriptObjectMirror jsArray = (ScriptObjectMirror) engine.eval(\"var arr = []; arr\");\n\n@SuppressWarnings(\"unchecked\")\nList&lt;Object&gt; ls = jsArray.to(List.class);\nls.add(1);\nls.add(2);\nls.add(3);\n\nSystem.out.println(ls); // [1, 2, 3]\nengine.eval(\"print(arr)\"); // 1,2,3\nengine.eval(\"print(Array.isArray(arr))\"); // true\n</code></pre>\n\n<p>You can then use this list on the Java side.</p>\n"},{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515777529,"creation_date":1515777529,"answer_id":48231096,"question_id":48226505,"body_markdown":"Nashorn has a non-standard top-level `Java` object with – among other things – useful conversion methods named `to` and `from`. If you have a Java array `arr`, then `Java.from(arr)` will create a JS array as a shallow copy of the Java array. It also works with any `java.util.Collection`.\r\n\r\nNote that in most cases, you can use Java arrays and lists natively in Nashorn; in cases where for some reason you need to have an actual JavaScript native array (e.g. to work with the array comprehensions functions), you will want to use this method. ","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>Nashorn has a non-standard top-level <code>Java</code> object with – among other things – useful conversion methods named <code>to</code> and <code>from</code>. If you have a Java array <code>arr</code>, then <code>Java.from(arr)</code> will create a JS array as a shallow copy of the Java array. It also works with any <code>java.util.Collection</code>.</p>\n\n<p>Note that in most cases, you can use Java arrays and lists natively in Nashorn; in cases where for some reason you need to have an actual JavaScript native array (e.g. to work with the array comprehensions functions), you will want to use this method. </p>\n"},{"tags":[],"owner":{"account_id":405167,"reputation":9,"user_id":4018593,"display_name":"kun yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655179599,"creation_date":1655179599,"answer_id":72611411,"question_id":48226505,"body_markdown":"Global.wrapAsObject()\r\n\r\n    /**\r\n     * Wrap a Java object as corresponding script object\r\n     *\r\n     * @param obj object to wrap\r\n     * @return    wrapped object\r\n     */\r\n    public Object wrapAsObject(final Object obj) {\r\n        if (obj instanceof Boolean) {\r\n            return new NativeBoolean((Boolean)obj, this);\r\n        } else if (obj instanceof Number) {\r\n            return new NativeNumber(((Number)obj).doubleValue(), this);\r\n        } else if (isString(obj)) {\r\n            return new NativeString((CharSequence)obj, this);\r\n        } else if (obj instanceof Object[]) { // extension\r\n            return new NativeArray(ArrayData.allocate((Object[])obj), this);\r\n        } else if (obj instanceof double[]) { // extension\r\n            return new NativeArray(ArrayData.allocate((double[])obj), this);\r\n        } else if (obj instanceof int[]) {\r\n            return new NativeArray(ArrayData.allocate((int[]) obj), this);\r\n        } else if (obj instanceof ArrayData) {\r\n            return new NativeArray((ArrayData) obj, this);\r\n        } else if (obj instanceof Symbol) {\r\n            return new NativeSymbol((Symbol) obj, this);\r\n        } else {\r\n            // FIXME: more special cases? Map? List?\r\n            return obj;\r\n        }\r\n    }","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>Global.wrapAsObject()</p>\n<pre><code>/**\n * Wrap a Java object as corresponding script object\n *\n * @param obj object to wrap\n * @return    wrapped object\n */\npublic Object wrapAsObject(final Object obj) {\n    if (obj instanceof Boolean) {\n        return new NativeBoolean((Boolean)obj, this);\n    } else if (obj instanceof Number) {\n        return new NativeNumber(((Number)obj).doubleValue(), this);\n    } else if (isString(obj)) {\n        return new NativeString((CharSequence)obj, this);\n    } else if (obj instanceof Object[]) { // extension\n        return new NativeArray(ArrayData.allocate((Object[])obj), this);\n    } else if (obj instanceof double[]) { // extension\n        return new NativeArray(ArrayData.allocate((double[])obj), this);\n    } else if (obj instanceof int[]) {\n        return new NativeArray(ArrayData.allocate((int[]) obj), this);\n    } else if (obj instanceof ArrayData) {\n        return new NativeArray((ArrayData) obj, this);\n    } else if (obj instanceof Symbol) {\n        return new NativeSymbol((Symbol) obj, this);\n    } else {\n        // FIXME: more special cases? Map? List?\n        return obj;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48227010,"answer_count":3,"score":2,"last_activity_date":1655179599,"creation_date":1515760843,"question_id":48226505,"body_markdown":"I have a Java array, say, `Object[]`, which I need to pass to the JS execution environment, which is `ScriptEngine`.\r\n\r\nI cannot simply put it as a property in the following way:\r\n\r\n\tScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n\tObject[] array = {1, 2, 3};\r\n\tengine.put(&quot;prop&quot;, array);\r\n\r\nbecause in the JS environment expression `Array.isArray(prop)` will be evaluated to `false`, whereas I need it to be `true`.\r\n\r\n`jdk.nashorn.internal.objects.NativeArray` constructors are closed, which means you cannot instantiate `NativeArray` explicitly.\r\n\r\nOne can, however, use `jdk.nashorn.internal.objects.Global.instance().wrapAsObject` to convert Java array `Object[]` to `NativeArray`, and the resultant object would be recognized as a JS array, i.e. `Array.isArray` would return true for this object.\r\n\r\nAlthough this gives the desired result, using classes from `internal` package is not a very good idea, and even worse idea if you are using Java 9.\r\n\r\nThus, I am wondering, is there a better way to provide Java object to the JS execution environment assuming I cannot change the JS source so that the object is recognized a true JS array, i.e. `Array.isArray` returns true?","title":"How to wrap to NativeArray in Nashorn without using classes from &quot;internal&quot; subpackage","body":"<p>I have a Java array, say, <code>Object[]</code>, which I need to pass to the JS execution environment, which is <code>ScriptEngine</code>.</p>\n\n<p>I cannot simply put it as a property in the following way:</p>\n\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");\nObject[] array = {1, 2, 3};\nengine.put(\"prop\", array);\n</code></pre>\n\n<p>because in the JS environment expression <code>Array.isArray(prop)</code> will be evaluated to <code>false</code>, whereas I need it to be <code>true</code>.</p>\n\n<p><code>jdk.nashorn.internal.objects.NativeArray</code> constructors are closed, which means you cannot instantiate <code>NativeArray</code> explicitly.</p>\n\n<p>One can, however, use <code>jdk.nashorn.internal.objects.Global.instance().wrapAsObject</code> to convert Java array <code>Object[]</code> to <code>NativeArray</code>, and the resultant object would be recognized as a JS array, i.e. <code>Array.isArray</code> would return true for this object.</p>\n\n<p>Although this gives the desired result, using classes from <code>internal</code> package is not a very good idea, and even worse idea if you are using Java 9.</p>\n\n<p>Thus, I am wondering, is there a better way to provide Java object to the JS execution environment assuming I cannot change the JS source so that the object is recognized a true JS array, i.e. <code>Array.isArray</code> returns true?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":7,"creation_date":1655104944,"post_id":72599034,"comment_id":128242232,"body_markdown":"Because the designers of the Java language decided to provide a shortcut when initializing an array in the same statement that&#39;s declaring an array variable. It&#39;s &quot;syntactic sugar&quot;. The values inside the brackets are number literals, another feature of the Java language.","body":"Because the designers of the Java language decided to provide a shortcut when initializing an array in the same statement that&#39;s declaring an array variable. It&#39;s &quot;syntactic sugar&quot;. The values inside the brackets are number literals, another feature of the Java language."},{"owner":{"account_id":1546585,"reputation":4397,"user_id":1440005,"display_name":"Octavian Mărculescu"},"score":2,"creation_date":1655104957,"post_id":72599034,"comment_id":128242237,"body_markdown":"It is probably just syntactic sugar. &quot;In the background&quot;, the constructor will most likely still be called.","body":"It is probably just syntactic sugar. &quot;In the background&quot;, the constructor will most likely still be called."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1655105047,"post_id":72599034,"comment_id":128242273,"body_markdown":"While at it, there are in fact also other ways to create instances, actually bypassing constructors (its mostly legacy though, avoid it), for example the Clone- and Serialization-API.","body":"While at it, there are in fact also other ways to create instances, actually bypassing constructors (its mostly legacy though, avoid it), for example the Clone- and Serialization-API."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1655105210,"post_id":72599034,"comment_id":128242326,"body_markdown":"Syntactic sugar - may be inspired by C++ aggregates initialization https://en.cppreference.com/w/cpp/language/aggregate_initialization","body":"Syntactic sugar - may be inspired by C++ aggregates initialization <a href=\"https://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/aggregate_initialization</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655105214,"post_id":72599034,"comment_id":128242328,"body_markdown":"[Because the JLS says so](https://docs.oracle.com/javase/specs/jls/se18/html/jls-10.html#jls-10.3). Your claim &#39;objects should be instantiated with the &quot;new&quot; keyword&#39; is false. There are several other ways.","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-10.html#jls-10.3\" rel=\"nofollow noreferrer\">Because the JLS says so</a>. Your claim &#39;objects should be instantiated with the &quot;new&quot; keyword&#39; is false. There are several other ways."}],"owner":{"account_id":25539100,"reputation":1,"user_id":19325551,"display_name":"Moayad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655105159,"answer_count":0,"score":0,"last_activity_date":1655179522,"creation_date":1655104825,"question_id":72599034,"body_markdown":"Since arrays are objects in java, and objects should be instantiated with the &quot;new&quot; keyword, I wonder how is it possible then to instantiate an array without using the new keyword, for example:\r\n\r\n    int[]test = {33,44,55};","title":"Initialization of arrays without the new keyword","body":"<p>Since arrays are objects in java, and objects should be instantiated with the &quot;new&quot; keyword, I wonder how is it possible then to instantiate an array without using the new keyword, for example:</p>\n<pre><code>int[]test = {33,44,55};\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout","android-developer-api"],"answers":[{"tags":[],"owner":{"account_id":16213907,"reputation":1,"user_id":11707139,"display_name":"Eduardo Vargas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655179369,"creation_date":1655052976,"answer_id":72594206,"question_id":70167219,"body_markdown":"It&#39;s a bit late but I&#39;d be happy to help you.\r\n\r\n1. First you must create a new file in the layout directory, for example: `custom_cast_ui.xml`.\r\n\r\n2. In your activity you need to call `custom_cast_ui.xml` like this: `setContentView(R.layout.custom_cast_ui);`\r\n\r\n3. If you need to call elements like `ImageView`, you can do it as normal, because the new layout has already been set. Like this: `ImageView imageView = findViewById(R.id.img_example);`","title":"Display different ui on TV screen when connect with screen casting with android app in android studio?","body":"<p>It's a bit late but I'd be happy to help you.</p>\n<ol>\n<li><p>First you must create a new file in the layout directory, for example: <code>custom_cast_ui.xml</code>.</p>\n</li>\n<li><p>In your activity you need to call <code>custom_cast_ui.xml</code> like this: <code>setContentView(R.layout.custom_cast_ui);</code></p>\n</li>\n<li><p>If you need to call elements like <code>ImageView</code>, you can do it as normal, because the new layout has already been set. Like this: <code>ImageView imageView = findViewById(R.id.img_example);</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":16041581,"reputation":1,"user_id":11577868,"display_name":"VIKAS KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655179369,"creation_date":1638265464,"question_id":70167219,"body_markdown":"I want to show a different UI when the app is casting a screen with a TV in android studio.\r\n\r\nI tried a lot but haven&#39;t succeeded yet. Please help me to sort out this problem.\r\n","title":"Display different ui on TV screen when connect with screen casting with android app in android studio?","body":"<p>I want to show a different UI when the app is casting a screen with a TV in android studio.</p>\n<p>I tried a lot but haven't succeeded yet. Please help me to sort out this problem.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2451367,"reputation":5905,"user_id":2284641,"accept_rate":67,"display_name":"Johannes H."},"down_vote_count":5,"up_vote_count":6,"is_accepted":false,"score":1,"last_activity_date":1465158098,"creation_date":1465158098,"answer_id":37646393,"question_id":37646364,"body_markdown":"`.` is not an operator. Therefore, it &quot;does&quot; nothing.\r\n\r\nIt is just a syntactic element that denotes the seperation of, in this case, a variable name holding an object and the object&#39;s property. The same character is used to seperate package names and Classes.","title":"What is the purpose of Java DOT operator?","body":"<p><code>.</code> is not an operator. Therefore, it \"does\" nothing.</p>\n\n<p>It is just a syntactic element that denotes the seperation of, in this case, a variable name holding an object and the object's property. The same character is used to seperate package names and Classes.</p>\n"},{"tags":[],"owner":{"account_id":11397851,"reputation":82,"user_id":8355623,"display_name":"Karthik Reddy V V"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1502086012,"creation_date":1502086012,"answer_id":45540349,"question_id":37646364,"body_markdown":"The dot operator, also known as separator or period used to separate a variable or method from a reference variable.\r\n\r\nOnly static variables or methods can be accessed using class name.\r\n\r\nCode that is outside the object&#39;s class must use an object reference or expression, followed by the dot (.) operator, followed by a simple field name as in\r\n    \r\n    objectReference.fieldName\r\n\r\nWe use the object reference to invoke an object&#39;s method. Append the method&#39;s simple name to the object reference, with an intervening dot operator (.) as in \r\n\r\n    objectReference.methodName(argumentList);\r\n\r\n\r\nIn the above mentioned code, ***p.great()*** can be used to invoke the method ***great()*** on object ***p*** and ***p.value*** is used to access the instance variable ***value***.\r\n\r\n\r\nRef: https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html\r\n\r\n  The Complete Reference, Book by Herbert Schildt\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the purpose of Java DOT operator?","body":"<p>The dot operator, also known as separator or period used to separate a variable or method from a reference variable.</p>\n\n<p>Only static variables or methods can be accessed using class name.</p>\n\n<p>Code that is outside the object's class must use an object reference or expression, followed by the dot (.) operator, followed by a simple field name as in</p>\n\n<pre><code>objectReference.fieldName\n</code></pre>\n\n<p>We use the object reference to invoke an object's method. Append the method's simple name to the object reference, with an intervening dot operator (.) as in </p>\n\n<pre><code>objectReference.methodName(argumentList);\n</code></pre>\n\n<p>In the above mentioned code, <strong><em>p.great()</em></strong> can be used to invoke the method <strong><em>great()</em></strong> on object <strong><em>p</em></strong> and <strong><em>p.value</em></strong> is used to access the instance variable <strong><em>value</em></strong>.</p>\n\n<p>Ref: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/usingobject.html</a></p>\n\n<p>The Complete Reference, Book by Herbert Schildt</p>\n"},{"tags":[],"owner":{"account_id":17498339,"reputation":11,"user_id":12689182,"display_name":"Anatolii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655178913,"creation_date":1654945832,"answer_id":72583822,"question_id":37646364,"body_markdown":"Simply the dot operator acts as an access provider for objects and classes. The usage of the above operator is as below.\r\n\r\nIt separates a function and variable from an instance variable.\r\nIt allows accessing sub-packages and classes from a package.\r\nIt leads to access to the member of a class or a package.\r\n```\r\npublic class DotOperatorExample1 {\r\n        \r\nvoid display() { \r\n        double d = 67.54;    \r\n        int i = (int)d;  \r\n        System.out.println(i);  \r\n    }  \r\npublic static void main(String args[]) {  \r\n        DotOperatorExample1 doe = new DotOperatorExample1();   \r\n        doe.display();\r\n    }  \r\n}  \r\n```\r\n\r\n","title":"What is the purpose of Java DOT operator?","body":"<p>Simply the dot operator acts as an access provider for objects and classes. The usage of the above operator is as below.</p>\n<p>It separates a function and variable from an instance variable.\nIt allows accessing sub-packages and classes from a package.\nIt leads to access to the member of a class or a package.</p>\n<pre><code>public class DotOperatorExample1 {\n        \nvoid display() { \n        double d = 67.54;    \n        int i = (int)d;  \n        System.out.println(i);  \n    }  \npublic static void main(String args[]) {  \n        DotOperatorExample1 doe = new DotOperatorExample1();   \n        doe.display();\n    }  \n}  \n</code></pre>\n"}],"owner":{"account_id":2845383,"reputation":112,"user_id":2443943,"accept_rate":0,"display_name":"user2443943"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35551,"favorite_count":0,"down_vote_count":5,"up_vote_count":9,"answer_count":3,"score":4,"last_activity_date":1655178913,"creation_date":1465157921,"question_id":37646364,"body_markdown":"Can somebody tell me what Java DOT operator actually does? \r\n\r\nFor example:\r\n```\r\npublic class {\r\n    int value;\r\n    public void great() {};\r\n    ... \r\n}\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n    \r\n    Person p = new Person();\r\n    \r\n    Person.great(); // &lt;--- here\r\n    \r\n    Person.value; // &lt;--- here\r\n```\r\n\r\nI want to know what is **`.`** operator doing in above code when I do `Person.great()` or `Person.value`?","title":"What is the purpose of Java DOT operator?","body":"<p>Can somebody tell me what Java DOT operator actually does? </p>\n\n<p>For example:</p>\n\n<pre><code>public class {\n    int value;\n    public void great() {};\n    ... \n}\n</code></pre>\n\n<pre><code>public static void main(String[] args) {\n\n    Person p = new Person();\n\n    Person.great(); // &lt;--- here\n\n    Person.value; // &lt;--- here\n</code></pre>\n\n<p>I want to know what is <strong><code>.</code></strong> operator doing in above code when I do <code>Person.great()</code> or <code>Person.value</code>?</p>\n"},{"tags":["java","android","inheritance"],"comments":[{"owner":{"account_id":1834983,"reputation":4628,"user_id":1665544,"accept_rate":25,"display_name":"Suau"},"score":0,"creation_date":1382080703,"post_id":19443371,"comment_id":28829247,"body_markdown":"i&#39;d recommend to use fragments instead, this way you can put the layout and functionality of your menu into a single fragment and inflate it in several activities (if necessary, you might also just use one activity and just swap fragments) google for &quot;android master detail&quot;","body":"i&#39;d recommend to use fragments instead, this way you can put the layout and functionality of your menu into a single fragment and inflate it in several activities (if necessary, you might also just use one activity and just swap fragments) google for &quot;android master detail&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382079396,"creation_date":1382079396,"answer_id":19443423,"question_id":19443371,"body_markdown":"Yes you can..for this take one MainActivty and write your menu code in that..after then all your activitys extend that MainActivity like below..\r\n\r\n    class  MainActivty extend Activity{\r\n    }\r\n    \r\n    class FirstActivity extend MainActivity{\r\n    }\r\n    \r\n    \r\n    class SecondActivity extend MainActivity{\r\n    }\r\n\r\nThen menu will appear in your all activitys..\r\n","title":"Import common functions in all activities android","body":"<p>Yes you can..for this take one MainActivty and write your menu code in that..after then all your activitys extend that MainActivity like below..</p>\n\n<pre><code>class  MainActivty extend Activity{\n}\n\nclass FirstActivity extend MainActivity{\n}\n\n\nclass SecondActivity extend MainActivity{\n}\n</code></pre>\n\n<p>Then menu will appear in your all activitys..</p>\n"},{"tags":[],"owner":{"account_id":1663738,"reputation":369,"user_id":1531560,"display_name":"narangrajeev81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382079445,"creation_date":1382079445,"answer_id":19443435,"question_id":19443371,"body_markdown":"Yes you can create a layout and include it like this:\r\n    \r\n    &lt;include\r\n    android:id=&quot;@+id/headerLayout&quot;\r\n    layout=&quot;@layout/login_header&quot;\r\n    /&gt;\r\n\r\nIt has its own class file where common functionality can be kept.","title":"Import common functions in all activities android","body":"<p>Yes you can create a layout and include it like this:</p>\n\n<pre><code>&lt;include\nandroid:id=\"@+id/headerLayout\"\nlayout=\"@layout/login_header\"\n/&gt;\n</code></pre>\n\n<p>It has its own class file where common functionality can be kept.</p>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382079810,"creation_date":1382079452,"answer_id":19443438,"question_id":19443371,"body_markdown":"&gt; I have to repeat the code for these in all activities.\r\n\r\nJava does not support multiple inheritances.\r\n\r\n Don’t use inheritance just to get code reuse. If there is no **is a** relationship then use composition for code reuse. Overuse of implementation inheritance (aka `extends`) can break all the sub-classes, if the superclass is modified.\r\n\r\n![enter image description here][1]\r\n\r\n\r\nIn you case I would use **composition**. Just create new class that implements above mentioned Listener logic.\r\n\r\n  [1]: http://i.stack.imgur.com/h5OYe.png","title":"Import common functions in all activities android","body":"<blockquote>\n  <p>I have to repeat the code for these in all activities.</p>\n</blockquote>\n\n<p>Java does not support multiple inheritances.</p>\n\n<p>Don’t use inheritance just to get code reuse. If there is no <strong>is a</strong> relationship then use composition for code reuse. Overuse of implementation inheritance (aka <code>extends</code>) can break all the sub-classes, if the superclass is modified.</p>\n\n<p><img src=\"https://i.stack.imgur.com/h5OYe.png\" alt=\"enter image description here\"></p>\n\n<p>In you case I would use <strong>composition</strong>. Just create new class that implements above mentioned Listener logic.</p>\n"},{"tags":[],"owner":{"account_id":1717378,"reputation":5135,"user_id":1574153,"accept_rate":26,"display_name":"Bhanu Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655178275,"creation_date":1382081282,"answer_id":19443974,"question_id":19443371,"body_markdown":"Steps to reuse function in java class:\r\n    \r\n 1. make a Singleton class so that that instance is anywhere you can get\r\n  2. mention all your code in this class \r\n  3. use all method from this class\r\n\r\n    \r\n    \r\n   and if you use that layout also then just make one xml and include it in all layout where you want to add.\r\n\r\n  \r\n","title":"Import common functions in all activities android","body":"<p>Steps to reuse function in java class:</p>\n<ol>\n<li>make a Singleton class so that that instance is anywhere you can get</li>\n<li>mention all your code in this class</li>\n<li>use all method from this class</li>\n</ol>\n<p>and if you use that layout also then just make one xml and include it in all layout where you want to add.</p>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655123496,"creation_date":1382082170,"answer_id":19444234,"question_id":19443371,"body_markdown":"it&#39;s very easy you just create a class\r\n```\r\nclass  MenuActivty extend Activity{\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\t\r\n\t((Button)findViewById(R.id.mymenu_home).setOnClickListener(new OnClickListener(){\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(this, HomeActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\t\r\n\t((Button)findViewById(R.id.mymenu_help).setOnClickListener(new OnClickListener(){\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(this, HelpActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\r\n//... same thing for the others\r\n    }\r\n}\r\n\r\n```\r\nbe careful to rename the menu &quot;mymenu&quot; in all the XML\r\n\r\nand all the classes where you want to use the menu should be extended MenuActivty \r\n\r\nand in the XML use\r\n```\r\n&lt;include layout=&quot;@layout/menulayout &quot;\r\n    android:id=&quot;@+id/mymenu&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n```\r\nand create an XML file named menulayout where you put the layout of your menu.","title":"Import common functions in all activities android","body":"<p>it's very easy you just create a class</p>\n<pre><code>class  MenuActivty extend Activity{\n    \n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    ((Button)findViewById(R.id.mymenu_home).setOnClickListener(new OnClickListener(){\n    @Override\n    public void onClick(View v) {\n    // TODO Auto-generated method stub\n    Intent i = new Intent(this, HomeActivity.class);\n    startActivity(i);\n    }\n    });\n    \n    ((Button)findViewById(R.id.mymenu_help).setOnClickListener(new OnClickListener(){\n    @Override\n    public void onClick(View v) {\n    // TODO Auto-generated method stub\n    Intent i = new Intent(this, HelpActivity.class);\n    startActivity(i);\n    }\n    });\n\n//... same thing for the others\n    }\n}\n\n</code></pre>\n<p>be careful to rename the menu &quot;mymenu&quot; in all the XML</p>\n<p>and all the classes where you want to use the menu should be extended MenuActivty</p>\n<p>and in the XML use</p>\n<pre><code>&lt;include layout=&quot;@layout/menulayout &quot;\n    android:id=&quot;@+id/mymenu&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;/&gt;\n</code></pre>\n<p>and create an XML file named menulayout where you put the layout of your menu.</p>\n"},{"tags":[],"owner":{"account_id":4971840,"reputation":363,"user_id":3999311,"display_name":"Rashmi Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655162084,"creation_date":1411985465,"answer_id":26097417,"question_id":19443371,"body_markdown":"   Follow these steps:\r\n    \r\n   1. Create a generic layout for menu and include it wherever you want to use it.\r\n   \r\n\r\n \r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/headerLayout&quot;\r\n        layout=&quot;@layout/login_header&quot;\r\n        /&gt;\r\n\r\n2. Create a class CentralizedHeader. Create on constructor with one parameter of activity type.\r\n    \r\n  3. Create a function here and initialize all views and perform all related functionality here.\r\n```\r\npublic class CentralizedHeader {\r\n\r\n  private Button btnHome, btnContribute;\r\n  private Activity activity;\r\n\r\n  public CentralizedHeader(Activity activity) {\r\n    this.activity = activity;\r\n  }\r\n\r\n  public void headerActions() {\r\n\r\n    btnHome = (Button) activity.findViewById(R.id.btn_home);\r\n    btnContribute = (Button) activity.findViewById(R.id.btn_contribute);\r\n\r\n    btnHome.setOnClickListener(new OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n        Intent intent = new Intent(activity, MorePackagesActivity.class);\r\n        activity.startActivity(intent);\r\n      }\r\n    });\r\n\r\n    btnContribute.setOnClickListener(new OnClickListener() {\r\n\r\n      @Override\r\n      public void onClick(View v) {\r\n        Intent intent = new Intent(activity, ContributeActivity.class);\r\n        activity.startActivity(intent);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n```  \r\n   4. Create an object of this class in other activity and call its function. ie\r\n    \r\n    public class MainActivity extends Activity {\r\n    \tprivate CentralizedHeader headerCentralized;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.fragment_home_tab);\r\n    \t\theaderCentralized = new CentralizedHeader(this);\r\n    \t\theaderCentralized.headerActions();\r\n    \t}\r\n    \r\n    }","title":"Import common functions in all activities android","body":"<p>Follow these steps:</p>\n<ol>\n<li>Create a generic layout for menu and include it wherever you want to use it.</li>\n</ol>\n<pre><code>&lt;include\n    android:id=&quot;@+id/headerLayout&quot;\n    layout=&quot;@layout/login_header&quot;\n    /&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Create a class CentralizedHeader. Create on constructor with one parameter of activity type.</p>\n</li>\n<li><p>Create a function here and initialize all views and perform all related functionality here.</p>\n</li>\n</ol>\n<pre><code>public class CentralizedHeader {\n\n  private Button btnHome, btnContribute;\n  private Activity activity;\n\n  public CentralizedHeader(Activity activity) {\n    this.activity = activity;\n  }\n\n  public void headerActions() {\n\n    btnHome = (Button) activity.findViewById(R.id.btn_home);\n    btnContribute = (Button) activity.findViewById(R.id.btn_contribute);\n\n    btnHome.setOnClickListener(new OnClickListener() {\n      @Override\n      public void onClick(View v) {\n        Intent intent = new Intent(activity, MorePackagesActivity.class);\n        activity.startActivity(intent);\n      }\n    });\n\n    btnContribute.setOnClickListener(new OnClickListener() {\n\n      @Override\n      public void onClick(View v) {\n        Intent intent = new Intent(activity, ContributeActivity.class);\n        activity.startActivity(intent);\n      }\n    });\n  }\n\n}\n</code></pre>\n<ol start=\"4\">\n<li>Create an object of this class in other activity and call its function. ie</li>\n</ol>\n<pre><code>public class MainActivity extends Activity {\n    private CentralizedHeader headerCentralized;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_home_tab);\n        headerCentralized = new CentralizedHeader(this);\n        headerCentralized.headerActions();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2811817,"reputation":70,"user_id":2417904,"display_name":"Sanjay Kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411989161,"creation_date":1411986213,"answer_id":26097654,"question_id":19443371,"body_markdown":"Use only one **Activity** that have all the menus and create **Fragments** for activity. Replace fragment on clicking to the menu. This is the good way to achieve your functionality as you want.","title":"Import common functions in all activities android","body":"<p>Use only one <strong>Activity</strong> that have all the menus and create <strong>Fragments</strong> for activity. Replace fragment on clicking to the menu. This is the good way to achieve your functionality as you want.</p>\n"}],"owner":{"account_id":2066373,"reputation":1185,"user_id":1841812,"accept_rate":46,"display_name":"Shahbaz Pothiawala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":7,"score":1,"last_activity_date":1655178275,"creation_date":1382079151,"question_id":19443371,"body_markdown":"I am working on an android app that has a menu at the top (like we have in websites; home, aboutus etc). This menu is repeated in all the activities so I have to repeat the code for these in all activities. Is there a way that I can write the code once in some class and reuse it in all other activities using inheritance or something? (Just lice there is include function in php). Hope my question is straight forward. Here is the code for the menu that I have to repeat everywhere.\r\n\r\n\t// menu items\r\n\tmenu_home.setOnClickListener(new OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, HomeActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_help.setOnClickListener(new OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, HelpActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_media.setOnClickListener(new OnClickListener() {;\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(CurrentActivity.this, MediaActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\tmenu_index.setOnClickListener(new OnClickListener() {;\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t// TODO Auto-generated method stub\r\n\tIntent i = new Intent(HomeActivity.this, IndexActivity.class);\r\n\tstartActivity(i);\r\n\t}\r\n\t});\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gPLVP.jpg","title":"Import common functions in all activities android","body":"<p>I am working on an android app that has a menu at the top (like we have in websites; home, aboutus etc). This menu is repeated in all the activities so I have to repeat the code for these in all activities. Is there a way that I can write the code once in some class and reuse it in all other activities using inheritance or something? (Just lice there is include function in php). Hope my question is straight forward. Here is the code for the menu that I have to repeat everywhere.</p>\n\n<pre><code>// menu items\nmenu_home.setOnClickListener(new OnClickListener() {\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, HomeActivity.class);\nstartActivity(i);\n}\n});\nmenu_help.setOnClickListener(new OnClickListener() {\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, HelpActivity.class);\nstartActivity(i);\n}\n});\nmenu_media.setOnClickListener(new OnClickListener() {;\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(CurrentActivity.this, MediaActivity.class);\nstartActivity(i);\n}\n});\nmenu_index.setOnClickListener(new OnClickListener() {;\n@Override\npublic void onClick(View v) {\n// TODO Auto-generated method stub\nIntent i = new Intent(HomeActivity.this, IndexActivity.class);\nstartActivity(i);\n}\n});\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/gPLVP.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","eclipse","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655177947,"creation_date":1655177947,"answer_id":72611252,"question_id":72611191,"body_markdown":"Open the &#39;outline&#39; view (as in, the actual view, not the quick-nav popup).\r\n\r\nFrom the menu: Window, Show View, Outline.\r\n\r\nOut of the box, eclipse shows this view already on the right side of your code. Likely you already have this view somewhere on your screen; that menu option will enable it if you don&#39;t have it, or show it/activate it if you do: Now you know what you&#39;re looking for :)\r\n\r\nIn this outline view, you see the methods that lombok generates as if they were written normally. In other words, if `getName()` is being generated by lombok, getName is in this list, indistinguishable from manually written methods. Double clicking it will navigate you to the annotation that caused the getter to exist (be it a `@Getter` on the field, or on the class, or `@Data`, or `@Value`). You can also activate the &#39;show call hierarchy&#39; option from here: Right click it and pick the &#39;Show Call Hierarchy&#39; option (out of the box, this has a keyboard shortcut. On macs, it&#39;s CTRL+ALT+C; no idea what it defaults to on windows). This shows you all callers.\r\n\r\nLombok&#39;s own annotations can also simply be used as if they were the setter - you can invoke the &#39;find callers&#39; straight from the annotation. However, this isn&#39;t always suitable; for example, `@Data` generates a small army of methods, and therefore only one of those can be investigated in this fashion. It works great when you e.g. stick `@Getter` on a field (as that generates just the one getter), but isn&#39;t particularly useful for e.g. `@Getter` or `@Data` on an entire type. You&#39;ll have to use the outline for this.","title":"Code references of setters when using Lombok","body":"<p>Open the 'outline' view (as in, the actual view, not the quick-nav popup).</p>\n<p>From the menu: Window, Show View, Outline.</p>\n<p>Out of the box, eclipse shows this view already on the right side of your code. Likely you already have this view somewhere on your screen; that menu option will enable it if you don't have it, or show it/activate it if you do: Now you know what you're looking for :)</p>\n<p>In this outline view, you see the methods that lombok generates as if they were written normally. In other words, if <code>getName()</code> is being generated by lombok, getName is in this list, indistinguishable from manually written methods. Double clicking it will navigate you to the annotation that caused the getter to exist (be it a <code>@Getter</code> on the field, or on the class, or <code>@Data</code>, or <code>@Value</code>). You can also activate the 'show call hierarchy' option from here: Right click it and pick the 'Show Call Hierarchy' option (out of the box, this has a keyboard shortcut. On macs, it's CTRL+ALT+C; no idea what it defaults to on windows). This shows you all callers.</p>\n<p>Lombok's own annotations can also simply be used as if they were the setter - you can invoke the 'find callers' straight from the annotation. However, this isn't always suitable; for example, <code>@Data</code> generates a small army of methods, and therefore only one of those can be investigated in this fashion. It works great when you e.g. stick <code>@Getter</code> on a field (as that generates just the one getter), but isn't particularly useful for e.g. <code>@Getter</code> or <code>@Data</code> on an entire type. You'll have to use the outline for this.</p>\n"}],"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72611252,"answer_count":1,"score":1,"last_activity_date":1655177947,"creation_date":1655177002,"question_id":72611191,"body_markdown":"I want to use lombok in my project.\r\n\r\nI am using Eclipse ide for development. I could setup lombok for the project in the compile time.\r\n\r\nBut have a basic question on code navigation/references.\r\n\r\nTypically we could find out how the variable is set by finding the references in the setter or the with arguments constructor.\r\n\r\nSince Lombok has auto generation of these boilerplate. How to do these type of code navigation, finding references of the setters/constructors ?\r\n\r\nBest Regards,\r\n\r\nSaurav","title":"Code references of setters when using Lombok","body":"<p>I want to use lombok in my project.</p>\n<p>I am using Eclipse ide for development. I could setup lombok for the project in the compile time.</p>\n<p>But have a basic question on code navigation/references.</p>\n<p>Typically we could find out how the variable is set by finding the references in the setter or the with arguments constructor.</p>\n<p>Since Lombok has auto generation of these boilerplate. How to do these type of code navigation, finding references of the setters/constructors ?</p>\n<p>Best Regards,</p>\n<p>Saurav</p>\n"},{"tags":["java","sql","sql-update"],"answers":[{"tags":[],"owner":{"account_id":23560615,"reputation":21,"user_id":17602031,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655176832,"creation_date":1655176832,"answer_id":72611171,"question_id":72609065,"body_markdown":"This case maybe cause by When you are traversing the result of select SQL, the SQL of update data is triggered, and executeUpdate will automatically submit, so please stop the automatic submission of executeUpdate, and execute the submission after the traversal is over. I hope my idea can help you, thank you.","title":"Why am I getting a &quot;fetch out of sequence&quot; error upon having Java program run insert statement?","body":"<p>This case maybe cause by When you are traversing the result of select SQL, the SQL of update data is triggered, and executeUpdate will automatically submit, so please stop the automatic submission of executeUpdate, and execute the submission after the traversal is over. I hope my idea can help you, thank you.</p>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655176832,"creation_date":1655154594,"question_id":72609065,"body_markdown":"My java program currently runs select statement queries to obtain information. It then takes that info and inserts it into an update statement before the code executes it. Here&#39;s what the code looks like:\r\n\r\n\t//UPDATE\r\n\t\tq = entityManager.createNativeQuery(&quot;update&quot;); //update query found in app properties file\r\n\t\tq.setParameter(&quot;ItemId&quot;, s);\r\n\t\tq.setParameter(&quot;Number&quot;, str);\r\n\t\tSystem.out.println(&quot;Update Statement for P/F was ran&quot;); \r\n\t\tq.executeUpdate();\r\n\r\nThe select statement queries I mentioned are similar in format to the UPDATE code above.\r\n\r\nNow when this update code is ran, the query is executed successfully. I can check the DB and see that the statement updated the necessary values successfully! However, the java program itself outputs &quot;fetch out of sequence&quot; to the console and stops the rest of the queries in the program from running, like so:\r\n\r\n```\r\n2022-06-13 16:56:00.878 ERROR 33060 --- [nio-8004-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exc\r\neption [Request processing failed; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\r\n\r\noracle.jdbc.OracleDatabaseException: ORA-01002: fetch out of sequence\r\n\r\n\r\n\r\n```\r\nAnd there&#39;s more traces of the error below the above output but I think this is the most relevant bit of the outputted error. \r\n\r\nI would appreciate if someone could help me figure out what&#39;s causing this issue and how it can be fixed?\r\n","title":"Why am I getting a &quot;fetch out of sequence&quot; error upon having Java program run insert statement?","body":"<p>My java program currently runs select statement queries to obtain information. It then takes that info and inserts it into an update statement before the code executes it. Here's what the code looks like:</p>\n<pre><code>//UPDATE\n    q = entityManager.createNativeQuery(&quot;update&quot;); //update query found in app properties file\n    q.setParameter(&quot;ItemId&quot;, s);\n    q.setParameter(&quot;Number&quot;, str);\n    System.out.println(&quot;Update Statement for P/F was ran&quot;); \n    q.executeUpdate();\n</code></pre>\n<p>The select statement queries I mentioned are similar in format to the UPDATE code above.</p>\n<p>Now when this update code is ran, the query is executed successfully. I can check the DB and see that the statement updated the necessary values successfully! However, the java program itself outputs &quot;fetch out of sequence&quot; to the console and stops the rest of the queries in the program from running, like so:</p>\n<pre><code>2022-06-13 16:56:00.878 ERROR 33060 --- [nio-8004-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exc\neption [Request processing failed; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query] with root cause\n\noracle.jdbc.OracleDatabaseException: ORA-01002: fetch out of sequence\n\n\n\n</code></pre>\n<p>And there's more traces of the error below the above output but I think this is the most relevant bit of the outputted error.</p>\n<p>I would appreciate if someone could help me figure out what's causing this issue and how it can be fixed?</p>\n"},{"tags":["java","concurrency","atomic"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":225,"is_accepted":true,"score":224,"last_activity_date":1296145748,"creation_date":1296144559,"answer_id":4818753,"question_id":4818699,"body_markdown":"There are two main uses of `AtomicInteger`:\r\n\r\n * As an atomic counter (`incrementAndGet()`, etc) that can be used by many threads concurrently\r\n\r\n * As a primitive that supports [compare-and-swap][1] instruction (`compareAndSet()`) to implement non-blocking algorithms. \r\n\r\n Here is an example of non-blocking random number generator from [Brian G&#246;etz&#39;s Java Concurrency In Practice][2]:\r\n\r\n        public class AtomicPseudoRandom extends PseudoRandom {\r\n            private AtomicInteger seed;\r\n            AtomicPseudoRandom(int seed) {\r\n                this.seed = new AtomicInteger(seed);\r\n            }\r\n    \r\n            public int nextInt(int n) {\r\n                while (true) {\r\n                    int s = seed.get();\r\n                    int nextSeed = calculateNext(s);\r\n                    if (seed.compareAndSet(s, nextSeed)) {\r\n                        int remainder = s % n;\r\n                        return remainder &gt; 0 ? remainder : remainder + n;\r\n                    }\r\n                }\r\n            }\r\n            ...\r\n        }\r\n\r\n   As you can see, it basically works almost the same way as `incrementAndGet()`, but performs arbitrary calculation (`calculateNext()`) instead of increment (and processes the result before return).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Compare-and-swap\r\n  [2]: http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601","title":"Practical uses for AtomicInteger","body":"<p>There are two main uses of <code>AtomicInteger</code>:</p>\n\n<ul>\n<li><p>As an atomic counter (<code>incrementAndGet()</code>, etc) that can be used by many threads concurrently</p></li>\n<li><p>As a primitive that supports <a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">compare-and-swap</a> instruction (<code>compareAndSet()</code>) to implement non-blocking algorithms. </p>\n\n<p>Here is an example of non-blocking random number generator from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Brian Göetz's Java Concurrency In Practice</a>:</p>\n\n<pre><code>public class AtomicPseudoRandom extends PseudoRandom {\n    private AtomicInteger seed;\n    AtomicPseudoRandom(int seed) {\n        this.seed = new AtomicInteger(seed);\n    }\n\n    public int nextInt(int n) {\n        while (true) {\n            int s = seed.get();\n            int nextSeed = calculateNext(s);\n            if (seed.compareAndSet(s, nextSeed)) {\n                int remainder = s % n;\n                return remainder &gt; 0 ? remainder : remainder + n;\n            }\n        }\n    }\n    ...\n}\n</code></pre>\n\n<p>As you can see, it basically works almost the same way as <code>incrementAndGet()</code>, but performs arbitrary calculation (<code>calculateNext()</code>) instead of increment (and processes the result before return).</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296144649,"creation_date":1296144649,"answer_id":4818772,"question_id":4818699,"body_markdown":"The key is that they allow concurrent access and modification safely. They&#39;re commonly used as counters in a multithreaded environment - before their introduction this had to be a user written class that wrapped up the various methods in synchronized blocks.","title":"Practical uses for AtomicInteger","body":"<p>The key is that they allow concurrent access and modification safely. They're commonly used as counters in a multithreaded environment - before their introduction this had to be a user written class that wrapped up the various methods in synchronized blocks.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":126,"is_accepted":false,"score":126,"last_activity_date":1296145050,"creation_date":1296144704,"answer_id":4818783,"question_id":4818699,"body_markdown":"The absolute simplest example I can think of is to make incrementing an atomic operation.\r\n\r\nWith standard ints:\r\n\r\n    private volatile int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n        return counter++; // Not atomic, multiple threads could get the same result\r\n    }\r\n\r\nWith AtomicInteger:\r\n\r\n    private AtomicInteger counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n        return counter.getAndIncrement();\r\n    }\r\n\r\nThe latter is a very simple way to perform simple mutations effects (especially counting, or unique-indexing), without having to resort to synchronizing all access.\r\n\r\nMore complex synchronization-free logic can be employed by using `compareAndSet()` as a type of optimistic locking - get the current value, compute result based on this, set this result *iff* value is still the input used to do the calculation, else start again - but the counting examples are very useful, and I&#39;ll often use `AtomicIntegers` for counting and VM-wide unique generators if there&#39;s any hint of multiple threads being involved, because they&#39;re so easy to work with I&#39;d almost consider it premature optimisation to use plain `ints`.\r\n\r\nWhile you can almost always achieve the same synchronization guarantees with `ints` and appropriate `synchronized` declarations, the beauty of `AtomicInteger` is that the thread-safety is built into the actual object itself, rather than you needing to worry about the possible interleavings, and monitors held, of every method that happens to access the `int` value.  It&#39;s much harder to accidentally violate threadsafety when calling `getAndIncrement()` than when returning `i++` and remembering (or not) to acquire the correct set of monitors beforehand.","title":"Practical uses for AtomicInteger","body":"<p>The absolute simplest example I can think of is to make incrementing an atomic operation.</p>\n\n<p>With standard ints:</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; // Not atomic, multiple threads could get the same result\n}\n</code></pre>\n\n<p>With AtomicInteger:</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The latter is a very simple way to perform simple mutations effects (especially counting, or unique-indexing), without having to resort to synchronizing all access.</p>\n\n<p>More complex synchronization-free logic can be employed by using <code>compareAndSet()</code> as a type of optimistic locking - get the current value, compute result based on this, set this result <em>iff</em> value is still the input used to do the calculation, else start again - but the counting examples are very useful, and I'll often use <code>AtomicIntegers</code> for counting and VM-wide unique generators if there's any hint of multiple threads being involved, because they're so easy to work with I'd almost consider it premature optimisation to use plain <code>ints</code>.</p>\n\n<p>While you can almost always achieve the same synchronization guarantees with <code>ints</code> and appropriate <code>synchronized</code> declarations, the beauty of <code>AtomicInteger</code> is that the thread-safety is built into the actual object itself, rather than you needing to worry about the possible interleavings, and monitors held, of every method that happens to access the <code>int</code> value.  It's much harder to accidentally violate threadsafety when calling <code>getAndIncrement()</code> than when returning <code>i++</code> and remembering (or not) to acquire the correct set of monitors beforehand.</p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1296144811,"creation_date":1296144811,"answer_id":4818802,"question_id":4818699,"body_markdown":"For example, I have a library that generates instances of some class. Each of these instances must have a unique integer ID, as these instances represent commands being sent to a server, and each command must have a unique ID. Since multiple threads are allowed to send commands concurrently, I use an AtomicInteger to generate those IDs. An alternative approach would be to use some sort of lock and a regular integer, but that&#39;s both slower and less elegant.","title":"Practical uses for AtomicInteger","body":"<p>For example, I have a library that generates instances of some class. Each of these instances must have a unique integer ID, as these instances represent commands being sent to a server, and each command must have a unique ID. Since multiple threads are allowed to send commands concurrently, I use an AtomicInteger to generate those IDs. An alternative approach would be to use some sort of lock and a regular integer, but that's both slower and less elegant.</p>\n"},{"tags":[],"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1296149466,"creation_date":1296145314,"answer_id":4818916,"question_id":4818699,"body_markdown":"The primary use of `AtomicInteger` is when you are in a multithreaded context and you need to perform thread safe operations on an integer without using `synchronized`. The assignation and retrieval on the primitive type `int` are already atomic but `AtomicInteger` comes with many operations which are not atomic on `int`.\r\n\r\nThe simplest are the `getAndXXX` or `xXXAndGet`. For instance `getAndIncrement()` is an atomic equivalent to `i++` which is not atomic because it is actually a short cut for three operations: retrieval, addition and assignation. `compareAndSet` is very useful to implements semaphores, locks, latches, etc.\r\n\r\nUsing the `AtomicInteger` is faster and more readable than performing the same using synchronization.\r\n\r\nA simple test:\r\n\r\n    public synchronized int incrementNotAtomic() {\r\n        return notAtomic++;\r\n    }\r\n    \r\n    public void performTestNotAtomic() {\r\n        final long start = System.currentTimeMillis();\r\n        for (int i = 0 ; i &lt; NUM ; i++) {\r\n            incrementNotAtomic();\r\n        }\r\n        System.out.println(&quot;Not atomic: &quot;+(System.currentTimeMillis() - start));\r\n    }\r\n    \r\n    public void performTestAtomic() {\r\n        final long start = System.currentTimeMillis();\r\n        for (int i = 0 ; i &lt; NUM ; i++) {\r\n            atomic.getAndIncrement();\r\n        }\r\n        System.out.println(&quot;Atomic: &quot;+(System.currentTimeMillis() - start));\r\n    }\r\n\r\nOn my PC with Java 1.6 the atomic test runs in 3 seconds while the synchronized one runs in about 5.5 seconds. The problem here is that the operation to synchronize (`notAtomic++`) is really short. So the cost of the synchronization is really important compared to the operation.\r\n\r\nBeside atomicity AtomicInteger can be use as a mutable version of `Integer` for instance in `Map`s as values.","title":"Practical uses for AtomicInteger","body":"<p>The primary use of <code>AtomicInteger</code> is when you are in a multithreaded context and you need to perform thread safe operations on an integer without using <code>synchronized</code>. The assignation and retrieval on the primitive type <code>int</code> are already atomic but <code>AtomicInteger</code> comes with many operations which are not atomic on <code>int</code>.</p>\n\n<p>The simplest are the <code>getAndXXX</code> or <code>xXXAndGet</code>. For instance <code>getAndIncrement()</code> is an atomic equivalent to <code>i++</code> which is not atomic because it is actually a short cut for three operations: retrieval, addition and assignation. <code>compareAndSet</code> is very useful to implements semaphores, locks, latches, etc.</p>\n\n<p>Using the <code>AtomicInteger</code> is faster and more readable than performing the same using synchronization.</p>\n\n<p>A simple test:</p>\n\n<pre><code>public synchronized int incrementNotAtomic() {\n    return notAtomic++;\n}\n\npublic void performTestNotAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        incrementNotAtomic();\n    }\n    System.out.println(\"Not atomic: \"+(System.currentTimeMillis() - start));\n}\n\npublic void performTestAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        atomic.getAndIncrement();\n    }\n    System.out.println(\"Atomic: \"+(System.currentTimeMillis() - start));\n}\n</code></pre>\n\n<p>On my PC with Java 1.6 the atomic test runs in 3 seconds while the synchronized one runs in about 5.5 seconds. The problem here is that the operation to synchronize (<code>notAtomic++</code>) is really short. So the cost of the synchronization is really important compared to the operation.</p>\n\n<p>Beside atomicity AtomicInteger can be use as a mutable version of <code>Integer</code> for instance in <code>Map</code>s as values.</p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1296146250,"creation_date":1296146250,"answer_id":4819109,"question_id":4818699,"body_markdown":"If you look at the methods AtomicInteger has, you&#39;ll notice that they tend to correspond to common operations on ints.  For instance:\r\n\r\n    static AtomicInteger i;\r\n    \r\n    // Later, in a thread\r\n    int current = i.incrementAndGet();\r\n\r\nis the thread-safe version of this:\r\n\r\n    static int i;\r\n    \r\n    // Later, in a thread\r\n    int current = ++i;\r\n\r\nThe methods map like this:  \r\n`++i` is `i.incrementAndGet()`  \r\n`i++` is `i.getAndIncrement()`  \r\n`--i` is `i.decrementAndGet()`  \r\n`i--` is `i.getAndDecrement()`  \r\n`i = x` is `i.set(x)`  \r\n`x = i ` is `x = i.get()`  \r\n\r\nThere are other convenience methods as well, like `compareAndSet` or `addAndGet`\r\n","title":"Practical uses for AtomicInteger","body":"<p>If you look at the methods AtomicInteger has, you'll notice that they tend to correspond to common operations on ints.  For instance:</p>\n\n<pre><code>static AtomicInteger i;\n\n// Later, in a thread\nint current = i.incrementAndGet();\n</code></pre>\n\n<p>is the thread-safe version of this:</p>\n\n<pre><code>static int i;\n\n// Later, in a thread\nint current = ++i;\n</code></pre>\n\n<p>The methods map like this:<br>\n<code>++i</code> is <code>i.incrementAndGet()</code><br>\n<code>i++</code> is <code>i.getAndIncrement()</code><br>\n<code>--i</code> is <code>i.decrementAndGet()</code><br>\n<code>i--</code> is <code>i.getAndDecrement()</code><br>\n<code>i = x</code> is <code>i.set(x)</code><br>\n<code>x = i</code> is <code>x = i.get()</code>  </p>\n\n<p>There are other convenience methods as well, like <code>compareAndSet</code> or <code>addAndGet</code></p>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331022022,"creation_date":1323153354,"answer_id":8396197,"question_id":4818699,"body_markdown":"Like gabuzo said, sometimes I use AtomicIntegers when I want to pass an int by reference.  It&#39;s a built-in class that has architecture-specific code, so it&#39;s easier and likely more optimized than any MutableInteger I could quickly code up.  That said, it feels like an abuse of the class.","title":"Practical uses for AtomicInteger","body":"<p>Like gabuzo said, sometimes I use AtomicIntegers when I want to pass an int by reference.  It's a built-in class that has architecture-specific code, so it's easier and likely more optimized than any MutableInteger I could quickly code up.  That said, it feels like an abuse of the class.</p>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347913576,"creation_date":1347913245,"answer_id":12466533,"question_id":4818699,"body_markdown":"You can implement non-blocking locks using compareAndSwap (CAS) on atomic integers or longs. The [&quot;Tl2&quot; Software Transactional Memory][1] paper describes this:\r\n\r\n&gt; We associate a special versioned write-lock with every transacted\r\n&gt; memory location. In its simplest form, the versioned write-lock is a\r\n&gt; single word spinlock that uses a CAS operation to acquire the lock and\r\n&gt; a store to release it. Since one only needs a single bit to indicate\r\n&gt; that the lock is taken, we use the rest of the lock word to hold a\r\n&gt; version number.\r\n\r\nWhat it is describing is first read the atomic integer. Split this up into an ignored lock-bit and the version number. Attempt to CAS write it as the lock-bit cleared with the current version number to the lock-bit set and the next version number. Loop until you succeed and your are the thread which owns the lock. Unlock by setting the current version number with the lock-bit cleared.&#160;The paper describes using the version numbers in the locks to coordinate that threads have a consistent set of reads when they write.\r\n\r\n[This article][2] describes that processors have hardware support for compare and swap operations making the very efficient.&#160;It also claims:\r\n\r\n&gt; non-blocking CAS-based counters using atomic variables have better\r\n&gt; performance than lock-based counters in low to moderate contention\r\n\r\n\r\n  [1]: http://labs.oracle.com/scalable/pubs/DISC2006.pdf\r\n  [2]: http://www.e-zest.net/blog/writing-thread-safe-programs-using-atomic-variables/","title":"Practical uses for AtomicInteger","body":"<p>You can implement non-blocking locks using compareAndSwap (CAS) on atomic integers or longs. The <a href=\"http://labs.oracle.com/scalable/pubs/DISC2006.pdf\" rel=\"nofollow\">\"Tl2\" Software Transactional Memory</a> paper describes this:</p>\n\n<blockquote>\n  <p>We associate a special versioned write-lock with every transacted\n  memory location. In its simplest form, the versioned write-lock is a\n  single word spinlock that uses a CAS operation to acquire the lock and\n  a store to release it. Since one only needs a single bit to indicate\n  that the lock is taken, we use the rest of the lock word to hold a\n  version number.</p>\n</blockquote>\n\n<p>What it is describing is first read the atomic integer. Split this up into an ignored lock-bit and the version number. Attempt to CAS write it as the lock-bit cleared with the current version number to the lock-bit set and the next version number. Loop until you succeed and your are the thread which owns the lock. Unlock by setting the current version number with the lock-bit cleared. The paper describes using the version numbers in the locks to coordinate that threads have a consistent set of reads when they write.</p>\n\n<p><a href=\"http://www.e-zest.net/blog/writing-thread-safe-programs-using-atomic-variables/\" rel=\"nofollow\">This article</a> describes that processors have hardware support for compare and swap operations making the very efficient. It also claims:</p>\n\n<blockquote>\n  <p>non-blocking CAS-based counters using atomic variables have better\n  performance than lock-based counters in low to moderate contention</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2493980,"reputation":358,"user_id":2170885,"accept_rate":100,"display_name":"DguezTorresEmmanuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364324498,"creation_date":1364324498,"answer_id":15645288,"question_id":4818699,"body_markdown":"I usually use AtomicInteger when I need to give Ids to objects that can be accesed or created from multiple threads, and i usually use it as an static attribute on the class that i access in the constructor of the objects.","title":"Practical uses for AtomicInteger","body":"<p>I usually use AtomicInteger when I need to give Ids to objects that can be accesed or created from multiple threads, and i usually use it as an static attribute on the class that i access in the constructor of the objects.</p>\n"},{"tags":[],"owner":{"account_id":56001,"reputation":382,"user_id":3348552,"display_name":"pwojnowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1449134459,"creation_date":1449134459,"answer_id":34062042,"question_id":4818699,"body_markdown":"In Java 8 atomic classes have been extended with two interesting functions:\r\n\r\n - int getAndUpdate(IntUnaryOperator updateFunction)\r\n - int updateAndGet(IntUnaryOperator updateFunction)\r\n\r\nBoth are using the updateFunction to perform update of the atomic value. The difference is that the first one returns old value and the second one return the new value. The updateFunction may be implemented to do more complex &quot;compare and set&quot; operations than the standard one. For example it can check that atomic counter doesn&#39;t go below zero, normally it would require synchronization, and here the code is lock-free:\r\n\r\n        public class Counter {\r\n \r\n          private final AtomicInteger number;\r\n \r\n          public Counter(int number) {\r\n            this.number = new AtomicInteger(number);\r\n          }\r\n \r\n          /** @return true if still can decrease */\r\n          public boolean dec() {\r\n            // updateAndGet(fn) executed atomically:\r\n            return number.updateAndGet(n -&gt; (n &gt; 0) ? n - 1 : n) &gt; 0;\r\n          }\r\n        }\r\n\r\nThe code is taken from [Java Atomic Example][1].\r\n\r\n\r\n  [1]: http://farenda.com/java/java-atomic-example/","title":"Practical uses for AtomicInteger","body":"<p>In Java 8 atomic classes have been extended with two interesting functions:</p>\n\n<ul>\n<li>int getAndUpdate(IntUnaryOperator updateFunction)</li>\n<li>int updateAndGet(IntUnaryOperator updateFunction)</li>\n</ul>\n\n<p>Both are using the updateFunction to perform update of the atomic value. The difference is that the first one returns old value and the second one return the new value. The updateFunction may be implemented to do more complex \"compare and set\" operations than the standard one. For example it can check that atomic counter doesn't go below zero, normally it would require synchronization, and here the code is lock-free:</p>\n\n<pre><code>    public class Counter {\n\n      private final AtomicInteger number;\n\n      public Counter(int number) {\n        this.number = new AtomicInteger(number);\n      }\n\n      /** @return true if still can decrease */\n      public boolean dec() {\n        // updateAndGet(fn) executed atomically:\n        return number.updateAndGet(n -&gt; (n &gt; 0) ? n - 1 : n) &gt; 0;\n      }\n    }\n</code></pre>\n\n<p>The code is taken from <a href=\"http://farenda.com/java/java-atomic-example/\" rel=\"noreferrer\">Java Atomic Example</a>.</p>\n"},{"tags":[],"owner":{"account_id":9213389,"reputation":133,"user_id":6845625,"display_name":"Rodrigo Gomez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545445566,"creation_date":1545445566,"answer_id":53892600,"question_id":4818699,"body_markdown":"I used AtomicInteger to solve the Dining Philosopher&#39;s problem.\r\n\r\nIn my solution, AtomicInteger instances were used to represent the forks, there are two needed per philosopher. Each Philosopher is identified as an integer, 1 through 5. When a fork is used by a philosopher, the AtomicInteger holds the value of the philosopher, 1 through 5, otherwise the fork is not being used so the value of the AtomicInteger is -1. \r\n\r\nThe AtomicInteger then allows to check if a fork is free, value==-1, and set it to the owner of the fork if free, in one atomic operation. See code below.\r\n     \r\n    AtomicInteger fork0 = neededForks[0];//neededForks is an array that holds the forks needed per Philosopher\r\n    AtomicInteger fork1 = neededForks[1];\r\n    while(true){    \r\n        if (Hungry) {\r\n            //if fork is free (==-1) then grab it by denoting who took it\r\n            if (!fork0.compareAndSet(-1, p) || !fork1.compareAndSet(-1, p)) {\r\n              //at least one fork was not succesfully grabbed, release both and try again later\r\n                fork0.compareAndSet(p, -1);\r\n                fork1.compareAndSet(p, -1);\r\n                try {\r\n                    synchronized (lock) {//sleep and get notified later when a philosopher puts down one fork                    \r\n                        lock.wait();//try again later, goes back up the loop\r\n                    }\r\n                } catch (InterruptedException e) {}\r\n        \r\n            } else {\r\n                //sucessfully grabbed both forks\r\n                transition(fork_l_free_and_fork_r_free);\r\n            }\r\n        }\r\n    }\r\n\r\nBecause the compareAndSet method does not block, it should increase throughput, more work done. As you may know, the Dining Philosophers problem is used when controlled accessed to resources is needed, i.e. forks, are needed, like a process needs resources to continue doing work. ","title":"Practical uses for AtomicInteger","body":"<p>I used AtomicInteger to solve the Dining Philosopher's problem.</p>\n\n<p>In my solution, AtomicInteger instances were used to represent the forks, there are two needed per philosopher. Each Philosopher is identified as an integer, 1 through 5. When a fork is used by a philosopher, the AtomicInteger holds the value of the philosopher, 1 through 5, otherwise the fork is not being used so the value of the AtomicInteger is -1. </p>\n\n<p>The AtomicInteger then allows to check if a fork is free, value==-1, and set it to the owner of the fork if free, in one atomic operation. See code below.</p>\n\n<pre><code>AtomicInteger fork0 = neededForks[0];//neededForks is an array that holds the forks needed per Philosopher\nAtomicInteger fork1 = neededForks[1];\nwhile(true){    \n    if (Hungry) {\n        //if fork is free (==-1) then grab it by denoting who took it\n        if (!fork0.compareAndSet(-1, p) || !fork1.compareAndSet(-1, p)) {\n          //at least one fork was not succesfully grabbed, release both and try again later\n            fork0.compareAndSet(p, -1);\n            fork1.compareAndSet(p, -1);\n            try {\n                synchronized (lock) {//sleep and get notified later when a philosopher puts down one fork                    \n                    lock.wait();//try again later, goes back up the loop\n                }\n            } catch (InterruptedException e) {}\n\n        } else {\n            //sucessfully grabbed both forks\n            transition(fork_l_free_and_fork_r_free);\n        }\n    }\n}\n</code></pre>\n\n<p>Because the compareAndSet method does not block, it should increase throughput, more work done. As you may know, the Dining Philosophers problem is used when controlled accessed to resources is needed, i.e. forks, are needed, like a process needs resources to continue doing work. </p>\n"},{"tags":[],"owner":{"account_id":6263188,"reputation":409,"user_id":11583351,"display_name":"M Shafaei N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573146489,"creation_date":1573146489,"answer_id":58753816,"question_id":4818699,"body_markdown":"Simple example for compareAndSet() function:\r\n\r\n    \r\n \r\n  \r\n    import java.util.concurrent.atomic.AtomicInteger; \r\n  \r\n    public class GFG { \r\n        public static void main(String args[]) \r\n        { \r\n  \r\n            // Initially value as 0 \r\n            AtomicInteger val = new AtomicInteger(0); \r\n  \r\n            // Prints the updated value \r\n            System.out.println(&quot;Previous value: &quot;\r\n                               + val); \r\n   \r\n            // Checks if previous value was 0 \r\n            // and then updates it \r\n            boolean res = val.compareAndSet(0, 6); \r\n  \r\n            // Checks if the value was updated. \r\n            if (res) \r\n                System.out.println(&quot;The value was&quot;\r\n                                   + &quot; updated and it is &quot;\r\n                               + val); \r\n            else\r\n                System.out.println(&quot;The value was &quot;\r\n                                   + &quot;not updated&quot;); \r\n          } \r\n      } \r\n\r\nThe printed is: \r\nprevious value: 0\r\nThe value was updated and it is 6\r\nAnother simple example:\r\n\r\n        import java.util.concurrent.atomic.AtomicInteger; \r\n  \r\n    public class GFG { \r\n        public static void main(String args[]) \r\n        { \r\n  \r\n            // Initially value as 0 \r\n            AtomicInteger val \r\n                = new AtomicInteger(0); \r\n  \r\n            // Prints the updated value \r\n            System.out.println(&quot;Previous value: &quot;\r\n                               + val); \r\n  \r\n             // Checks if previous value was 0 \r\n            // and then updates it \r\n            boolean res = val.compareAndSet(10, 6); \r\n  \r\n              // Checks if the value was updated. \r\n              if (res) \r\n                System.out.println(&quot;The value was&quot;\r\n                                   + &quot; updated and it is &quot;\r\n                                   + val); \r\n            else\r\n                System.out.println(&quot;The value was &quot;\r\n                                   + &quot;not updated&quot;); \r\n        } \r\n    } \r\nThe printed is: \r\nPrevious value: 0\r\nThe value was not updated","title":"Practical uses for AtomicInteger","body":"<p>Simple example for compareAndSet() function:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger; \n\npublic class GFG { \n    public static void main(String args[]) \n    { \n\n        // Initially value as 0 \n        AtomicInteger val = new AtomicInteger(0); \n\n        // Prints the updated value \n        System.out.println(\"Previous value: \"\n                           + val); \n\n        // Checks if previous value was 0 \n        // and then updates it \n        boolean res = val.compareAndSet(0, 6); \n\n        // Checks if the value was updated. \n        if (res) \n            System.out.println(\"The value was\"\n                               + \" updated and it is \"\n                           + val); \n        else\n            System.out.println(\"The value was \"\n                               + \"not updated\"); \n      } \n  } \n</code></pre>\n\n<p>The printed is: \nprevious value: 0\nThe value was updated and it is 6\nAnother simple example:</p>\n\n<pre><code>    import java.util.concurrent.atomic.AtomicInteger; \n\npublic class GFG { \n    public static void main(String args[]) \n    { \n\n        // Initially value as 0 \n        AtomicInteger val \n            = new AtomicInteger(0); \n\n        // Prints the updated value \n        System.out.println(\"Previous value: \"\n                           + val); \n\n         // Checks if previous value was 0 \n        // and then updates it \n        boolean res = val.compareAndSet(10, 6); \n\n          // Checks if the value was updated. \n          if (res) \n            System.out.println(\"The value was\"\n                               + \" updated and it is \"\n                               + val); \n        else\n            System.out.println(\"The value was \"\n                               + \"not updated\"); \n    } \n} \n</code></pre>\n\n<p>The printed is: \nPrevious value: 0\nThe value was not updated</p>\n"},{"tags":[],"owner":{"account_id":14538770,"reputation":1,"user_id":10501196,"display_name":"Chinni Achari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655176341,"creation_date":1655176341,"answer_id":72611135,"question_id":4818699,"body_markdown":"Atomic classes are not general purpose replacements for java.lang.Integer and related classes. They do not define methods such as equals, hashCode and compareTo. (Because atomic variables are expected to be mutated, they are poor choices for hash table keys.) Additionally, classes are provided only for those types that are commonly useful in intended applications. For example, there is no atomic class for representing byte. In those infrequent cases where you would like to do so, you can use an AtomicInteger to hold byte values, and cast appropriately. You can also hold floats using Float.floatToRawIntBits(float) and Float.intBitsToFloat(int) conversions, and doubles using Double.doubleToRawLongBits(double) and Double.longBitsToDouble(long) conversions.\r\n\r\nReference: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\r\n","title":"Practical uses for AtomicInteger","body":"<p>Atomic classes are not general purpose replacements for java.lang.Integer and related classes. They do not define methods such as equals, hashCode and compareTo. (Because atomic variables are expected to be mutated, they are poor choices for hash table keys.) Additionally, classes are provided only for those types that are commonly useful in intended applications. For example, there is no atomic class for representing byte. In those infrequent cases where you would like to do so, you can use an AtomicInteger to hold byte values, and cast appropriately. You can also hold floats using Float.floatToRawIntBits(float) and Float.intBitsToFloat(int) conversions, and doubles using Double.doubleToRawLongBits(double) and Double.longBitsToDouble(long) conversions.</p>\n<p>Reference: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html</a></p>\n"}],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255902,"favorite_count":0,"down_vote_count":0,"up_vote_count":281,"accepted_answer_id":4818753,"answer_count":13,"score":281,"last_activity_date":1655176341,"creation_date":1296144271,"question_id":4818699,"body_markdown":"I sort of understand that AtomicInteger and other Atomic variables allow concurrent accesses. In what cases is this class typically used though?\r\n\r\n\r\n","title":"Practical uses for AtomicInteger","body":"<p>I sort of understand that AtomicInteger and other Atomic variables allow concurrent accesses. In what cases is this class typically used though?</p>\n"},{"tags":["java","inheritance","interface","casting"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1655175886,"post_id":72611049,"comment_id":128263640,"body_markdown":"Answer: because a C instance *is-a* B, but a B instance is not a C.   (If classes A, B and C had some fields, it would be obvious why a B instance **cannot** be a C.)","body":"Answer: because a C instance <i>is-a</i> B, but a B instance is not a C.   (If classes A, B and C had some fields, it would be obvious why a B instance <b>cannot</b> be a C.)"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655176022,"creation_date":1655176022,"answer_id":72611110,"question_id":72611049,"body_markdown":"Your class declaration says that every C is a B and every B (including the C&#39;s) is an A.\r\n\r\nNow you make `c` reference a new C, so it&#39;s also a B and an A.  That means you can cast `c` to any of the three classes, in any order, and there won&#39;t be an error.\r\n\r\nThen you make `b` reference a new B, that&#39;s not a C.  That means you can cast it to A or B without any problems, but as soon as you try to cast `b` to C, you get an error, because the object referenced by `b` is not a C.","title":"Multiple casting in Java","body":"<p>Your class declaration says that every C is a B and every B (including the C's) is an A.</p>\n<p>Now you make <code>c</code> reference a new C, so it's also a B and an A.  That means you can cast <code>c</code> to any of the three classes, in any order, and there won't be an error.</p>\n<p>Then you make <code>b</code> reference a new B, that's not a C.  That means you can cast it to A or B without any problems, but as soon as you try to cast <code>b</code> to C, you get an error, because the object referenced by <code>b</code> is not a C.</p>\n"}],"owner":{"account_id":9990575,"reputation":77,"user_id":7390017,"display_name":"Syed Noman Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":72611110,"answer_count":1,"score":-3,"last_activity_date":1655176022,"creation_date":1655175324,"question_id":72611049,"body_markdown":"I know some rules around how Java performs the casting but I am unable to figure out the rules in the following example:\r\n\r\n```\r\ninterface I {}\r\nclass A implements I {}\r\nclass B extends A {}\r\nclass C extends B {}\r\n\r\nclass DriverClass {\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n        B b = new B();\r\n        C c = new C();\r\n\r\n        a = (A)(B)(C)c;   // line 1 - Valid\r\n        a = (A)(C)(B)c;   // line 2 - Valid\r\n        a = (B)(A)(C)c;   // line 3 - Valid\r\n        a = (B)(C)(A)b;   // line 4 - Runtime error\r\n        a = (C)(B)(A)b;   // line 5 - Runtime error\r\n        a = (C)b;         // line 6 - Runtime error\r\n    }\r\n}\r\n```\r\nCan someone please explain why line 1 to line 3 are valid statements whereas line 4 to line 6 throw Runtime Error of ClassCastException?","title":"Multiple casting in Java","body":"<p>I know some rules around how Java performs the casting but I am unable to figure out the rules in the following example:</p>\n<pre><code>interface I {}\nclass A implements I {}\nclass B extends A {}\nclass C extends B {}\n\nclass DriverClass {\n    public static void main(String[] args) {\n        A a = new A();\n        B b = new B();\n        C c = new C();\n\n        a = (A)(B)(C)c;   // line 1 - Valid\n        a = (A)(C)(B)c;   // line 2 - Valid\n        a = (B)(A)(C)c;   // line 3 - Valid\n        a = (B)(C)(A)b;   // line 4 - Runtime error\n        a = (C)(B)(A)b;   // line 5 - Runtime error\n        a = (C)b;         // line 6 - Runtime error\n    }\n}\n</code></pre>\n<p>Can someone please explain why line 1 to line 3 are valid statements whereas line 4 to line 6 throw Runtime Error of ClassCastException?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1655148693,"post_id":72608127,"comment_id":128258454,"body_markdown":"You never change `i` as you loop over the items. so you&#39;re going to always print the same element.","body":"You never change <code>i</code> as you loop over the items. so you&#39;re going to always print the same element."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1655149235,"post_id":72608127,"comment_id":128258631,"body_markdown":"*&quot;The following code is running fine&quot;* – Nope, it isn&#39;t. You currently have a method within a method, which is not allowed in Java. This code does not compile.","body":"<i>&quot;The following code is running fine&quot;</i> – Nope, it isn&#39;t. You currently have a method within a method, which is not allowed in Java. This code does not compile."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1655149674,"post_id":72608127,"comment_id":128258746,"body_markdown":"`for (Integer a : guessed) { System.out.println(guessed.get(i)); }` This doesn&#39;t make any sense. Either use an enhanced for loop or a C-style for loop. If you had narrower variable scopes (i.e. short methods) instead of one giant main method, it would be harder to misuse variables like this and not notice it.","body":"<code>for (Integer a : guessed) { System.out.println(guessed.get(i)); }</code> This doesn&#39;t make any sense. Either use an enhanced for loop or a C-style for loop. If you had narrower variable scopes (i.e. short methods) instead of one giant main method, it would be harder to misuse variables like this and not notice it."}],"answers":[{"tags":[],"owner":{"account_id":18666314,"reputation":41,"user_id":13606187,"display_name":"Vassopoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655174943,"creation_date":1655174943,"answer_id":72611004,"question_id":72608127,"body_markdown":"The problem is because you iterate over the guessed numbers, and then print out the item of index i from that list. The number i at that point will always be zero, so it will always print just the first element from that list. Instead, you can just print the a, that is the element itself, after the iteration on guessed. Here is how it will look like:\r\n\r\n    System.out.println(&quot;guessed number: &quot;);\r\n    for (Integer a : guessed) {\r\n        System.out.println(a);\r\n    }\r\n\r\n","title":"Same input keeps adding to the arraylist","body":"<p>The problem is because you iterate over the guessed numbers, and then print out the item of index i from that list. The number i at that point will always be zero, so it will always print just the first element from that list. Instead, you can just print the a, that is the element itself, after the iteration on guessed. Here is how it will look like:</p>\n<pre><code>System.out.println(&quot;guessed number: &quot;);\nfor (Integer a : guessed) {\n    System.out.println(a);\n}\n</code></pre>\n"}],"owner":{"account_id":25533564,"reputation":11,"user_id":19321104,"display_name":"Mr.Robot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655174943,"creation_date":1655148498,"question_id":72608127,"body_markdown":"I&#39;m writing a number guessing game in java.\r\nNumber guessing game is a numeric version of famous hangman, where computer picks a\r\nnumber between a prespecified range and user has to guess that number.\r\nRequirements:\r\n1. User must guess a number between 0-1000 and tells the user the range of guessed\r\nnumber.\r\n2. User has max 10 guesses.\r\n3. Every time user makes a guess, total guesses reduce by one.\r\n4. Computer keeps track of all the numbers user has guessed so far and shows this\r\ninformation before next guess.\r\n5. If the guess is correct, game ends in a win. In case of incorrect guess, computer gives a\r\nhint to the user. If the user guess is greater than the picked number, then client tell the\r\nuser that ‘your guess is bigger’ and in case of being smaller appropriate message is\r\nshown.\r\n6. In case of invalid guess (alphabets, symbols and repeated guesses) one warning is given\r\nand on next warning user loses a guess\r\n\r\nThe following code is running fine but it always shows the same number after guesses number. I think its not adding the new input in the arrraylist rather the first one everytime.\r\n\r\n        import java.util.*;\r\n    import java.lang.*;\r\n    public class NumberGuess {\r\n        public static void main(String[] args) {\r\n    \r\n    \r\n            int tries = 10;\r\n            ArrayList&lt;Integer&gt; guessed = new ArrayList();\r\n            int warnings = 2;\r\n            int i = 0;\r\n            Random rand = new Random();\r\n            int random = rand.nextInt(1000);\r\n            private void StartMenu () {\r\n                System.out.println(&quot;\\&quot; Welcome to the Number guessing game!\\n I am thinking of a number between 0-1000\\n You have 1 warning.\\n You have 1 warning.\\n ------------ &quot;);\r\n            }\r\n    \r\n            public char[] ToCharacterArray (String input){\r\n                char arr[] = new char[input.length()];\r\n                arr = input.toCharArray();\r\n                return arr;\r\n    \r\n            }\r\n    \r\n            public boolean CheckInput ( char arr[]){\r\n                if (Character.isDigit(arr[0])) {\r\n                    return true;\r\n                } else {\r\n    \r\n                    return false;\r\n                }\r\n            }\r\n    \r\n    \r\n            String input;\r\n    \r\n            while (tries &gt; 0 &amp;&amp; warnings &gt; 0) {\r\n                System.out.println(&quot;You have &quot; + tries + &quot; guesses left.&quot;);\r\n                if (tries == 10) {\r\n                    System.out.println(&quot;guessed number: &quot;);\r\n                } else {\r\n                    System.out.println(&quot;guessed number: &quot;);\r\n                    for (Integer a : guessed) {\r\n                        System.out.println(guessed.get(i));\r\n                    }\r\n                }\r\n                System.out.println(&quot;Please guess a number:&quot;);\r\n                Scanner sc = new Scanner(System.in);\r\n    \r\n                input = sc.next();\r\n    \r\n                char InputString[] = ToCharacterArray(input);\r\n                if (CheckInput(InputString)) {\r\n                    int intInput = Integer.parseInt(input);\r\n                    guessed.add(intInput);\r\n                    if (intInput &gt; random) {\r\n                        System.out.println(&quot;Your guess is greater&quot;);\r\n                    }\r\n                    if (intInput &lt; random) {\r\n                        System.out.println(&quot;Your guess is smaller&quot;);\r\n                    }\r\n                    if (intInput == random) {\r\n                        System.out.println(&quot;Congrats! You win.&quot;);\r\n                        System.out.println(&quot;The guessed number is: &quot; + intInput);\r\n                        tries = -1;\r\n                    }\r\n    \r\n                }\r\n                tries--;\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Same input keeps adding to the arraylist","body":"<p>I'm writing a number guessing game in java.\nNumber guessing game is a numeric version of famous hangman, where computer picks a\nnumber between a prespecified range and user has to guess that number.\nRequirements:</p>\n<ol>\n<li>User must guess a number between 0-1000 and tells the user the range of guessed\nnumber.</li>\n<li>User has max 10 guesses.</li>\n<li>Every time user makes a guess, total guesses reduce by one.</li>\n<li>Computer keeps track of all the numbers user has guessed so far and shows this\ninformation before next guess.</li>\n<li>If the guess is correct, game ends in a win. In case of incorrect guess, computer gives a\nhint to the user. If the user guess is greater than the picked number, then client tell the\nuser that ‘your guess is bigger’ and in case of being smaller appropriate message is\nshown.</li>\n<li>In case of invalid guess (alphabets, symbols and repeated guesses) one warning is given\nand on next warning user loses a guess</li>\n</ol>\n<p>The following code is running fine but it always shows the same number after guesses number. I think its not adding the new input in the arrraylist rather the first one everytime.</p>\n<pre><code>    import java.util.*;\nimport java.lang.*;\npublic class NumberGuess {\n    public static void main(String[] args) {\n\n\n        int tries = 10;\n        ArrayList&lt;Integer&gt; guessed = new ArrayList();\n        int warnings = 2;\n        int i = 0;\n        Random rand = new Random();\n        int random = rand.nextInt(1000);\n        private void StartMenu () {\n            System.out.println(&quot;\\&quot; Welcome to the Number guessing game!\\n I am thinking of a number between 0-1000\\n You have 1 warning.\\n You have 1 warning.\\n ------------ &quot;);\n        }\n\n        public char[] ToCharacterArray (String input){\n            char arr[] = new char[input.length()];\n            arr = input.toCharArray();\n            return arr;\n\n        }\n\n        public boolean CheckInput ( char arr[]){\n            if (Character.isDigit(arr[0])) {\n                return true;\n            } else {\n\n                return false;\n            }\n        }\n\n\n        String input;\n\n        while (tries &gt; 0 &amp;&amp; warnings &gt; 0) {\n            System.out.println(&quot;You have &quot; + tries + &quot; guesses left.&quot;);\n            if (tries == 10) {\n                System.out.println(&quot;guessed number: &quot;);\n            } else {\n                System.out.println(&quot;guessed number: &quot;);\n                for (Integer a : guessed) {\n                    System.out.println(guessed.get(i));\n                }\n            }\n            System.out.println(&quot;Please guess a number:&quot;);\n            Scanner sc = new Scanner(System.in);\n\n            input = sc.next();\n\n            char InputString[] = ToCharacterArray(input);\n            if (CheckInput(InputString)) {\n                int intInput = Integer.parseInt(input);\n                guessed.add(intInput);\n                if (intInput &gt; random) {\n                    System.out.println(&quot;Your guess is greater&quot;);\n                }\n                if (intInput &lt; random) {\n                    System.out.println(&quot;Your guess is smaller&quot;);\n                }\n                if (intInput == random) {\n                    System.out.println(&quot;Congrats! You win.&quot;);\n                    System.out.println(&quot;The guessed number is: &quot; + intInput);\n                    tries = -1;\n                }\n\n            }\n            tries--;\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1655143770,"post_id":72607157,"comment_id":128256844,"body_markdown":"It sounds like you want to wait for all those tasks to complete. I recommend checking out the [Become a Firebase Taskmaster](https://firebase.blog/posts/2016/09/become-a-firebase-taskmaster-part-1) blog series, specifically [part 4](https://firebase.blog/posts/2016/10/become-a-firebase-taskmaster-part-4) which covers `Tasks.whenAll`.","body":"It sounds like you want to wait for all those tasks to complete. I recommend checking out the <a href=\"https://firebase.blog/posts/2016/09/become-a-firebase-taskmaster-part-1\" rel=\"nofollow noreferrer\">Become a Firebase Taskmaster</a> blog series, specifically <a href=\"https://firebase.blog/posts/2016/10/become-a-firebase-taskmaster-part-4\" rel=\"nofollow noreferrer\">part 4</a> which covers <code>Tasks.whenAll</code>."},{"owner":{"account_id":18115205,"reputation":1150,"user_id":13171940,"display_name":"Rogelio Monter"},"score":3,"creation_date":1655162067,"post_id":72607157,"comment_id":128261779,"body_markdown":"Does this answer your question? [Firebase Firestore: How to acess a collection from another collection](https://stackoverflow.com/questions/60145265/firebase-firestore-how-to-acess-a-collection-from-another-collection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60145265/firebase-firestore-how-to-acess-a-collection-from-another-collection\">Firebase Firestore: How to acess a collection from another collection</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1655195706,"post_id":72607157,"comment_id":128268337,"body_markdown":"I think this [answer](https://stackoverflow.com/questions/63698816/java-firestore-get-multiple-documents-from-firestore-using-an-arraylist-of-do/) will also help.","body":"I think this <a href=\"https://stackoverflow.com/questions/63698816/java-firestore-get-multiple-documents-from-firestore-using-an-arraylist-of-do/\">answer</a> will also help."}],"owner":{"account_id":3298468,"reputation":1731,"user_id":2775139,"accept_rate":54,"display_name":"anand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655174841,"creation_date":1655142929,"question_id":72607157,"body_markdown":"In our app we are trying to fetch all the products and by iterating each product trying to get `specificationId` which is equal to another `documentId` in seperate collection Specifications.\r\n\r\nBasically the structure is like below:\r\n\r\n **ProductDetail**\r\n\r\n - productId \r\n - productTitle\r\n - productDescription\r\n - specificationId\r\n\r\n **Specification**\r\n\r\n - documentId — this is autogenerated id for collection which is being used as `specificationId` in `ProductDetail` collection.\r\n\r\n**MainActivity.java**\r\n\r\n    Query productResponseQuery = FirebaseFirestore.getInstance()\r\n                .collection(&quot;productdetails&quot;)\r\n                .limit(50);\r\n\r\n        productResponseQuery.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @RequiresApi(api = Build.VERSION_CODES.N)\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot querySnapshot, @Nullable FirebaseFirestoreException error) {\r\n\r\n                if (error != null) {\r\n                    Log.d(TAG, &quot;Error getting documents: &quot; + error.getMessage());\r\n                    return;\r\n                }\r\n\r\n                querySnapshot.forEach(doc -&gt; {\r\n                    ProductDetailResponse productDetailResponse = new ProductDetailResponse();\r\n                    productDetailResponse.setProductImage(doc.getData().get(&quot;productImageUrl&quot;).toString());\r\n                    productDetailResponse.setProductTitle(doc.getData().get(&quot;productTitle&quot;).toString());\r\n                    productDetailResponse.setProductShortDesc(doc.getData().get(&quot;productShortDesc&quot;).toString());\r\n                    productDetailResponse.setProductDesc(doc.getData().get(&quot;productDescription&quot;).toString());\r\n\r\n                   populateSpecification(doc.getData().get(&quot;specId&quot;).toString());\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n     private void populateSpecification(String specId){\r\n        DocumentReference specDocumentRef = FirebaseFirestore.getInstance()\r\n                .collection(&quot;specifications&quot;)\r\n                .document(specId);\r\n\r\n        specDocumentRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                if(task.getResult().exists()){\r\n                    task.getResult();\r\n                }else{\r\n                    task.getException();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n I understand that the Firestore database calls are asynchronous in nature. Hence if I call the specificationQuery inside the for loop, without waiting for the result it is jumping to the next iteration.\r\n\r\nIs there any way without changing the structure I can achieve the result, which will basically show all the product details along with their respective specification collection?\r\n","title":"How to Fetch Collections based on another collections field value inside the loop in Firestore","body":"<p>In our app we are trying to fetch all the products and by iterating each product trying to get <code>specificationId</code> which is equal to another <code>documentId</code> in seperate collection Specifications.</p>\n<p>Basically the structure is like below:</p>\n<p><strong>ProductDetail</strong></p>\n<ul>\n<li>productId</li>\n<li>productTitle</li>\n<li>productDescription</li>\n<li>specificationId</li>\n</ul>\n<p><strong>Specification</strong></p>\n<ul>\n<li>documentId — this is autogenerated id for collection which is being used as <code>specificationId</code> in <code>ProductDetail</code> collection.</li>\n</ul>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>Query productResponseQuery = FirebaseFirestore.getInstance()\n            .collection(&quot;productdetails&quot;)\n            .limit(50);\n\n    productResponseQuery.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n        @RequiresApi(api = Build.VERSION_CODES.N)\n        @Override\n        public void onEvent(@Nullable QuerySnapshot querySnapshot, @Nullable FirebaseFirestoreException error) {\n\n            if (error != null) {\n                Log.d(TAG, &quot;Error getting documents: &quot; + error.getMessage());\n                return;\n            }\n\n            querySnapshot.forEach(doc -&gt; {\n                ProductDetailResponse productDetailResponse = new ProductDetailResponse();\n                productDetailResponse.setProductImage(doc.getData().get(&quot;productImageUrl&quot;).toString());\n                productDetailResponse.setProductTitle(doc.getData().get(&quot;productTitle&quot;).toString());\n                productDetailResponse.setProductShortDesc(doc.getData().get(&quot;productShortDesc&quot;).toString());\n                productDetailResponse.setProductDesc(doc.getData().get(&quot;productDescription&quot;).toString());\n\n               populateSpecification(doc.getData().get(&quot;specId&quot;).toString());\n\n            });\n        }\n    });\n\n private void populateSpecification(String specId){\n    DocumentReference specDocumentRef = FirebaseFirestore.getInstance()\n            .collection(&quot;specifications&quot;)\n            .document(specId);\n\n    specDocumentRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n            if(task.getResult().exists()){\n                task.getResult();\n            }else{\n                task.getException();\n            }\n        }\n    });\n}\n</code></pre>\n<p>I understand that the Firestore database calls are asynchronous in nature. Hence if I call the specificationQuery inside the for loop, without waiting for the result it is jumping to the next iteration.</p>\n<p>Is there any way without changing the structure I can achieve the result, which will basically show all the product details along with their respective specification collection?</p>\n"},{"tags":["java","spring","rest","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":12242420,"reputation":109,"user_id":8935088,"display_name":"Ahmet Amasyalı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575981557,"creation_date":1575981557,"answer_id":59267432,"question_id":59267295,"body_markdown":"Two different mappings with same path is impossible. \r\nBut maybe you can do something like this :\r\n\r\n        @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    \tpublic CommonResponse getByMonth(@RequestParam Integer month, @RequestParam(required = false) Integer year) {\r\n    \t\tif(month == null &amp;&amp; year == null) {\r\n    \t\t\treturn getAll();\r\n    \t\t} else {\r\n    \t\t\treturn getByMonth(month, year);\r\n    \t\t}\r\n    \t}\r\n\r\nOr you can change one variable to a path variable on your second mapping\r\n\r\n        @RequestMapping(value = &quot;/all/{month}&quot;, method = RequestMethod.GET)\r\n    \tpublic CommonResponse getByMonth(@PathVariable(&quot;month&quot;) Integer month, @RequestParam(required = false) int year) {\r\n    \t}","title":"Create two methods for the same URL pattern with different arguments (with argument and without argument)","body":"<p>Two different mappings with same path is impossible. \nBut maybe you can do something like this :</p>\n\n<pre><code>    @RequestMapping(value = \"/all\", method = RequestMethod.GET)\n    public CommonResponse getByMonth(@RequestParam Integer month, @RequestParam(required = false) Integer year) {\n        if(month == null &amp;&amp; year == null) {\n            return getAll();\n        } else {\n            return getByMonth(month, year);\n        }\n    }\n</code></pre>\n\n<p>Or you can change one variable to a path variable on your second mapping</p>\n\n<pre><code>    @RequestMapping(value = \"/all/{month}\", method = RequestMethod.GET)\n    public CommonResponse getByMonth(@PathVariable(\"month\") Integer month, @RequestParam(required = false) int year) {\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575982131,"creation_date":1575982131,"answer_id":59267622,"question_id":59267295,"body_markdown":"You can&#39;t create two methods for the same url, you have to make your month param optional, and check in code if the month is present or not.\r\n\r\n    @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    public CommonResponse getAllOrByMonth(@RequestParam(required = false) Integer month, \r\n                                          @RequestParam(required = false) Integer year) {\r\n        if (month != null) {\r\n            // Get by month\r\n        } else {\r\n            // Get all\r\n        }\r\n    }","title":"Create two methods for the same URL pattern with different arguments (with argument and without argument)","body":"<p>You can't create two methods for the same url, you have to make your month param optional, and check in code if the month is present or not.</p>\n\n<pre><code>@RequestMapping(value = \"/all\", method = RequestMethod.GET)\npublic CommonResponse getAllOrByMonth(@RequestParam(required = false) Integer month, \n                                      @RequestParam(required = false) Integer year) {\n    if (month != null) {\n        // Get by month\n    } else {\n        // Get all\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8977382,"reputation":1204,"user_id":9993404,"display_name":"Victory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575984049,"creation_date":1575983401,"answer_id":59267998,"question_id":59267295,"body_markdown":"I got the solution :)\r\n\r\n    @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    public CommonResponse getAll(@RequestParam(required = false) Optional&lt;Integer&gt; month, \r\n                                 @RequestParam(required = false, defaultValue = &quot;0&quot;) int year) {\r\n\r\n        if (month.isPresent()) {\r\n           return getByMonth(month.get, year);\r\n        }\r\n\r\n        return getAll();\r\n    }","title":"Create two methods for the same URL pattern with different arguments (with argument and without argument)","body":"<p>I got the solution :)</p>\n\n<pre><code>@RequestMapping(value = \"/all\", method = RequestMethod.GET)\npublic CommonResponse getAll(@RequestParam(required = false) Optional&lt;Integer&gt; month, \n                             @RequestParam(required = false, defaultValue = \"0\") int year) {\n\n    if (month.isPresent()) {\n       return getByMonth(month.get, year);\n    }\n\n    return getAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19975984,"reputation":1,"user_id":14640270,"display_name":"for Responsibility Live"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655173923,"creation_date":1655173923,"answer_id":72610920,"question_id":59267295,"body_markdown":"You can use like this:\r\n\r\n    @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    public CommonResponse getAll() {\r\n    \r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/all&quot;, params = {&quot;month&quot;, &quot;date&quot;}, method = \r\n    RequestMethod.GET)\r\n    public CommonResponse getByMonth(@RequestParam(&quot;month&quot;) int \r\n    month,@RequestParam(&quot;date&quot;) int date, @RequestParam(required = false) int year) \r\n    {\r\n    \r\n    }","title":"Create two methods for the same URL pattern with different arguments (with argument and without argument)","body":"<p>You can use like this:</p>\n<pre><code>@RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\npublic CommonResponse getAll() {\n\n}\n\n@RequestMapping(value = &quot;/all&quot;, params = {&quot;month&quot;, &quot;date&quot;}, method = \nRequestMethod.GET)\npublic CommonResponse getByMonth(@RequestParam(&quot;month&quot;) int \nmonth,@RequestParam(&quot;date&quot;) int date, @RequestParam(required = false) int year) \n{\n\n}\n</code></pre>\n"}],"owner":{"account_id":8977382,"reputation":1204,"user_id":9993404,"display_name":"Victory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59267998,"answer_count":4,"score":2,"last_activity_date":1655173923,"creation_date":1575981088,"question_id":59267295,"body_markdown":"I&#39;d like to use one URL mapping `/all` **with request parameters** (`month`, `date`) or **without parameters**.\r\n\r\nI&#39;ve tried to create two methods, one without parameters:\r\n\r\n    @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    public CommonResponse getAll() {\r\n            \r\n    }\r\n    \r\nAnd one with parameters:\r\n\r\n    @RequestMapping(value = &quot;/all&quot;, method = RequestMethod.GET)\r\n    public CommonResponse getByMonth(@RequestParam int month, @RequestParam(required = false) int year) {\r\n\r\n    }\r\n\r\nBut i am getting **&quot;Ambiguous mapping found&quot;** `IllegalStateException`. Does Spring have any way to handle this situation?\r\n\r\n**Note:-** Please don&#39;t suggest this [solution][1] because I have different scenario.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15853217/9993404","title":"Create two methods for the same URL pattern with different arguments (with argument and without argument)","body":"<p>I'd like to use one URL mapping <code>/all</code> <strong>with request parameters</strong> (<code>month</code>, <code>date</code>) or <strong>without parameters</strong>.</p>\n\n<p>I've tried to create two methods, one without parameters:</p>\n\n<pre><code>@RequestMapping(value = \"/all\", method = RequestMethod.GET)\npublic CommonResponse getAll() {\n\n}\n</code></pre>\n\n<p>And one with parameters:</p>\n\n<pre><code>@RequestMapping(value = \"/all\", method = RequestMethod.GET)\npublic CommonResponse getByMonth(@RequestParam int month, @RequestParam(required = false) int year) {\n\n}\n</code></pre>\n\n<p>But i am getting <strong>\"Ambiguous mapping found\"</strong> <code>IllegalStateException</code>. Does Spring have any way to handle this situation?</p>\n\n<p><strong>Note:-</strong> Please don't suggest this <a href=\"https://stackoverflow.com/a/15853217/9993404\">solution</a> because I have different scenario.</p>\n"},{"tags":["java","arrays","postgresql","playframework","jsonb"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":1,"creation_date":1655188625,"post_id":72609706,"comment_id":128266045,"body_markdown":"Try `setObject` instead of `setString` to give PostgreSQL full freedom to choose the data type.","body":"Try <code>setObject</code> instead of <code>setString</code> to give PostgreSQL full freedom to choose the data type."}],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655159799,"creation_date":1655159799,"answer_id":72609763,"question_id":72609706,"body_markdown":"The 2nd argument for [`jsonb_set()`][1] is `text[]` - an *array* - not `varchar` or `text`.\r\n\r\nSo pass your `keyValue` wrapped in an array literal like you did in your test from pgAdmin:\r\n\r\n    &#39;{&quot;some_key&quot;}&#39;\r\n\r\n or\r\n\r\n    &#39;{some_key}&#39;\r\n\r\nDouble quotes are only needed to wrap special characters in the string.\r\n\r\n***Not***:\r\n\r\n    &#39;some_key&#39;\r\n\r\nSee:\r\n\r\n- https://stackoverflow.com/questions/17138792/pass-array-literal-to-postgresql-function/17139751#17139751\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-%20PROCESSING-TABLE","title":"Java PreparedStatement error when calling jsonb_set()","body":"<p>The 2nd argument for <a href=\"https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-%20PROCESSING-TABLE\" rel=\"nofollow noreferrer\"><code>jsonb_set()</code></a> is <code>text[]</code> - an <em>array</em> - not <code>varchar</code> or <code>text</code>.</p>\n<p>So pass your <code>keyValue</code> wrapped in an array literal like you did in your test from pgAdmin:</p>\n<pre><code>'{&quot;some_key&quot;}'\n</code></pre>\n<p>or</p>\n<pre><code>'{some_key}'\n</code></pre>\n<p>Double quotes are only needed to wrap special characters in the string.</p>\n<p><em><strong>Not</strong></em>:</p>\n<pre><code>'some_key'\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/17138792/pass-array-literal-to-postgresql-function/17139751#17139751\">Pass array literal to PostgreSQL function</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655173527,"creation_date":1655173527,"answer_id":72610884,"question_id":72609706,"body_markdown":"Just as the third argument has been cast to JSONB, the 2nd one should be cast to text array.\r\n\r\n    UPDATE table SET col = jsonb_set(col, ?::text[], ?::jsonb) \r\n\r\n&gt; In the debugger I can see that exactly same query is generated with this java code \r\n\r\nWhat debugger?  And what do you see in it?  What I see is that it is not exactly the same as that other query you show, because the params are sent separately and are labeled with their types.  \r\n\r\nWhen you interpolate the values into the query and use the simple protocol, like pgadmin apparently does, their types are unknown and so the database decides it must be text[] to match the function signature.  But when it is explicitly labelled as being character varying, then the database just accepts that label, and then fails to find a corresponding function with that type signature.\r\n\r\n\r\n\r\n","title":"Java PreparedStatement error when calling jsonb_set()","body":"<p>Just as the third argument has been cast to JSONB, the 2nd one should be cast to text array.</p>\n<pre><code>UPDATE table SET col = jsonb_set(col, ?::text[], ?::jsonb) \n</code></pre>\n<blockquote>\n<p>In the debugger I can see that exactly same query is generated with this java code</p>\n</blockquote>\n<p>What debugger?  And what do you see in it?  What I see is that it is not exactly the same as that other query you show, because the params are sent separately and are labeled with their types.</p>\n<p>When you interpolate the values into the query and use the simple protocol, like pgadmin apparently does, their types are unknown and so the database decides it must be text[] to match the function signature.  But when it is explicitly labelled as being character varying, then the database just accepts that label, and then fails to find a corresponding function with that type signature.</p>\n"}],"owner":{"account_id":22105620,"reputation":339,"user_id":16361345,"display_name":"eko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655173527,"creation_date":1655159221,"question_id":72609706,"body_markdown":"When I run this SQL query in pgAdmin it works. But not in the Java code, the SQL string looks like this: \r\n\r\n```pgsql\r\nUPDATE table SET col = jsonb_set(col,&#39;{&quot;some_key&quot;}&#39;, &#39;{&quot;items&quot;:[&quot;banana&quot;]}&#39; ::jsonb)\r\n```\r\n\r\nIn the debugger I can see that exactly same query is generated with this java code but it throws error:\r\n\r\n```java\r\nfinal String sql = &quot;UPDATE table SET col = jsonb_set(col,?, ? ::jsonb) &quot;;\r\n\t\ttry {\r\n\t\t\tconnection = defaultDatabase.getConnection();\r\n\t\t\tstmt = connection.prepareStatement(sql);\r\n\t\t\tstmt.setString(1, keyName);\r\n\t\t\tstmt.setString(2, keyValue);\r\n\t\t\tstmt.execute();\r\n\t\t} catch (SQLException e) {\r\n\t\t\tlogger.error(&quot;error:&quot;, e.getMessage());\r\n\t\t} finally {\r\n\t\t\tDbUtils.closeQuietly(connection);\r\n\t\t\tDbUtils.closeQuietly(stmt);\r\n\t\t}\r\n```\r\n\r\nError:\r\n\r\n```\r\nERROR: function jsonb_set(jsonb, character varying, jsonb) does not exist\r\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 40\r\n```","title":"Java PreparedStatement error when calling jsonb_set()","body":"<p>When I run this SQL query in pgAdmin it works. But not in the Java code, the SQL string looks like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE table SET col = jsonb_set(col,'{&quot;some_key&quot;}', '{&quot;items&quot;:[&quot;banana&quot;]}' ::jsonb)\n</code></pre>\n<p>In the debugger I can see that exactly same query is generated with this java code but it throws error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String sql = &quot;UPDATE table SET col = jsonb_set(col,?, ? ::jsonb) &quot;;\n        try {\n            connection = defaultDatabase.getConnection();\n            stmt = connection.prepareStatement(sql);\n            stmt.setString(1, keyName);\n            stmt.setString(2, keyValue);\n            stmt.execute();\n        } catch (SQLException e) {\n            logger.error(&quot;error:&quot;, e.getMessage());\n        } finally {\n            DbUtils.closeQuietly(connection);\n            DbUtils.closeQuietly(stmt);\n        }\n</code></pre>\n<p>Error:</p>\n<pre><code>ERROR: function jsonb_set(jsonb, character varying, jsonb) does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n  Position: 40\n</code></pre>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1655192160,"post_id":72610882,"comment_id":128267113,"body_markdown":"(1) that code must be ancient; it hasn&#39;t been necessary to specify sun.net.www handlers for 20 years (2) it&#39;s extremely unlikely you can figure out internal_error from the client end; this needs to be investigated and maybe debugged on the server","body":"(1) that code must be ancient; it hasn&#39;t been necessary to specify sun.net.www handlers for 20 years (2) it&#39;s extremely unlikely you can figure out internal_error from the client end; this needs to be investigated and maybe debugged on the server"},{"owner":{"account_id":11733063,"reputation":156,"user_id":8587847,"display_name":"Md Alif Al Amin"},"score":0,"creation_date":1655193000,"post_id":72610882,"comment_id":128267372,"body_markdown":"I dont have access to the server, from server its giving Alert error code 80.. can you give me some update on how i can upgrade the code.","body":"I dont have access to the server, from server its giving Alert error code 80.. can you give me some update on how i can upgrade the code."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1655269761,"post_id":72610882,"comment_id":128289575,"body_markdown":"You can and should remove the specification of the handler class, but I don&#39;t expect that to solve the problem. Assuming not, that alert gives you _no_ information about the cause or solution; there&#39;s a good chance it can&#39;t be solved on the client _at all_ and if it can you might have to try thousands or even millions of things before hitting the right one, which could take many years.","body":"You can and should remove the specification of the handler class, but I don&#39;t expect that to solve the problem. Assuming not, that alert gives you <i>no</i> information about the cause or solution; there&#39;s a good chance it can&#39;t be solved on the client <i>at all</i> and if it can you might have to try thousands or even millions of things before hitting the right one, which could take many years."},{"owner":{"account_id":11733063,"reputation":156,"user_id":8587847,"display_name":"Md Alif Al Amin"},"score":0,"creation_date":1655373655,"post_id":72610882,"comment_id":128319443,"body_markdown":"i have solved the issue. :) SSLFactory is the key. By using sslfactory and bind it with the https connection has done the trick. also needed to remove  https.setHostnameVerifier(DO_NOT_VERIFY);             \n this part of code. thanks anyway","body":"i have solved the issue. :) SSLFactory is the key. By using sslfactory and bind it with the https connection has done the trick. also needed to remove  https.setHostnameVerifier(DO_NOT_VERIFY);               this part of code. thanks anyway"}],"owner":{"account_id":11733063,"reputation":156,"user_id":8587847,"display_name":"Md Alif Al Amin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655173524,"creation_date":1655173524,"question_id":72610882,"body_markdown":"I am trying to send https req using an API. I have used this sniped of code and getting error while trying to getOutputStream from the connection. In this function, first i have created a connection then trying to connect using either http/https. then just parse the response into an array using connection.getOutputStream. This code working fine for http only.\r\n\r\n      public String sendNativePost(String httpURL, Map headers, String body, String respType)\r\n      throws Exception {\r\n\r\n    URL url = new URL(httpURL);\r\n    HttpURLConnection connection;\r\n\r\n    if (url.getProtocol().toLowerCase().equals(&quot;https&quot;)) {\r\n      url = new URL(null, httpURL, new sun.net.www.protocol.https.Handler());\r\n      trustAllHosts();\r\n      HttpsURLConnection https = (HttpsURLConnection) url.openConnection();\r\n      https.setHostnameVerifier(DO_NOT_VERIFY);\r\n      connection = https;\r\n    } else {\r\n      connection = (HttpURLConnection) url.openConnection();\r\n    }\r\n\r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\r\n    if (headers != null) {\r\n      for (Object key : headers.keySet()) {\r\n        connection.setRequestProperty((String) key, (String) headers.get(key));\r\n      }\r\n    } else {\r\n      logger.error(&quot;Header is Empty&quot;);\r\n    }\r\n\r\n    connection.setConnectTimeout(10 * 1000);\r\n    connection.setReadTimeout(10 * 1000);\r\n    connection.setDoOutput(true);\r\n    connection.setDoInput(true);\r\n    connection.setRequestProperty(\r\n        &quot;User-Agent&quot;, SMSServer.APPLICATION_NAME + &quot;_&quot; + SMSServer.APPLICATION_VERSION);\r\n    try (OutputStream os = connection.getOutputStream()) {\r\n      byte[] input = body.getBytes(StandardCharsets.UTF_8);\r\n      logger.debug(&quot;get body-&quot;);\r\n      os.write(input, 0, input.length);\r\n      logger.debug(&quot;write body&quot;);\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Output Stream Error!&quot;, e);\r\n    }\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    String responseMessage = &quot;&quot;;\r\n\r\n    while (true) {\r\n      String line = br.readLine();\r\n      if (line != null) {\r\n        responseMessage += line;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    br.close();\r\n    connection.disconnect();\r\n\r\n    return responseMessage;\r\n  }\r\n\r\n   \r\n\r\nAnd got the following error:\r\n\r\n \r\n\r\n    2022-06-13 17:17:41:323 ERROR HttpClient:224 - Output Stream Error!\r\n    javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n        at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2023)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)\r\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1316)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1291)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n        at smsclient.HTTPClient.sendNativePost(HTTPClient.java:217)\r\n        at smsclient.SMSClientHttp.sendPOST(SMSClientHttp.java:256)\r\n        at smsclient.SMSClientHttp.sendSMS(SMSClientHttp.java:147)\r\n        at smsclient.SMSClientHttp.processSMS(SMSClientHttp.java:42)\r\n        at smsclient.HTTPClientMessageSender.run(HTTPClientMessageSender.java:75)\r\n\r\nPlease let me know if you need anymore info ","title":"When trying to send data through https getting &#39;javax.net.ssl.SSLException: Received fatal alert: internal_error&#39;","body":"<p>I am trying to send https req using an API. I have used this sniped of code and getting error while trying to getOutputStream from the connection. In this function, first i have created a connection then trying to connect using either http/https. then just parse the response into an array using connection.getOutputStream. This code working fine for http only.</p>\n<pre><code>  public String sendNativePost(String httpURL, Map headers, String body, String respType)\n  throws Exception {\n\nURL url = new URL(httpURL);\nHttpURLConnection connection;\n\nif (url.getProtocol().toLowerCase().equals(&quot;https&quot;)) {\n  url = new URL(null, httpURL, new sun.net.www.protocol.https.Handler());\n  trustAllHosts();\n  HttpsURLConnection https = (HttpsURLConnection) url.openConnection();\n  https.setHostnameVerifier(DO_NOT_VERIFY);\n  connection = https;\n} else {\n  connection = (HttpURLConnection) url.openConnection();\n}\n\nconnection.setRequestMethod(&quot;POST&quot;);\nconnection.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n\nif (headers != null) {\n  for (Object key : headers.keySet()) {\n    connection.setRequestProperty((String) key, (String) headers.get(key));\n  }\n} else {\n  logger.error(&quot;Header is Empty&quot;);\n}\n\nconnection.setConnectTimeout(10 * 1000);\nconnection.setReadTimeout(10 * 1000);\nconnection.setDoOutput(true);\nconnection.setDoInput(true);\nconnection.setRequestProperty(\n    &quot;User-Agent&quot;, SMSServer.APPLICATION_NAME + &quot;_&quot; + SMSServer.APPLICATION_VERSION);\ntry (OutputStream os = connection.getOutputStream()) {\n  byte[] input = body.getBytes(StandardCharsets.UTF_8);\n  logger.debug(&quot;get body-&quot;);\n  os.write(input, 0, input.length);\n  logger.debug(&quot;write body&quot;);\n} catch (Exception e) {\n  logger.error(&quot;Output Stream Error!&quot;, e);\n}\n\nBufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\nString responseMessage = &quot;&quot;;\n\nwhile (true) {\n  String line = br.readLine();\n  if (line != null) {\n    responseMessage += line;\n  } else {\n    break;\n  }\n}\n\nbr.close();\nconnection.disconnect();\n\nreturn responseMessage;\n</code></pre>\n<p>}</p>\n<p>And got the following error:</p>\n<pre><code>2022-06-13 17:17:41:323 ERROR HttpClient:224 - Output Stream Error!\njavax.net.ssl.SSLException: Received fatal alert: internal_error\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2023)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1316)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1291)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n    at smsclient.HTTPClient.sendNativePost(HTTPClient.java:217)\n    at smsclient.SMSClientHttp.sendPOST(SMSClientHttp.java:256)\n    at smsclient.SMSClientHttp.sendSMS(SMSClientHttp.java:147)\n    at smsclient.SMSClientHttp.processSMS(SMSClientHttp.java:42)\n    at smsclient.HTTPClientMessageSender.run(HTTPClientMessageSender.java:75)\n</code></pre>\n<p>Please let me know if you need anymore info</p>\n"},{"tags":["java","visual-studio-code","format","ide","pretty-print"],"comments":[{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1580800965,"post_id":59978090,"comment_id":106206986,"body_markdown":"you may try to use the shortcut key `shift + alt + F `","body":"you may try to use the shortcut key <code>shift + alt + F </code>"},{"owner":{"account_id":7370570,"reputation":10801,"user_id":5610850,"display_name":"Elvis Xia - MSFT"},"score":1,"creation_date":1581316568,"post_id":59978090,"comment_id":106376717,"body_markdown":"Could you please check if there is any other java related extension? Uninstall them if there is. And reload vscode and try again.","body":"Could you please check if there is any other java related extension? Uninstall them if there is. And reload vscode and try again."},{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":0,"creation_date":1581659545,"post_id":59978090,"comment_id":106518172,"body_markdown":"I&#39;ll remve the different extensions, they may be causing a problem @ElvisXia-MSFT","body":"I&#39;ll remve the different extensions, they may be causing a problem @ElvisXia-MSFT"},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":1,"creation_date":1596032538,"post_id":59978090,"comment_id":111680276,"body_markdown":"You solved the issue ?","body":"You solved the issue ?"},{"owner":{"account_id":17752502,"reputation":732,"user_id":12890258,"display_name":"Mudasir Habib"},"score":0,"creation_date":1656229072,"post_id":59978090,"comment_id":128517061,"body_markdown":"Every time I open vsCode  it says there is no formatter installer for &quot;language&quot; , but after a while it loads formatter. So i think wait for a while after starting vs code  may helpful","body":"Every time I open vsCode  it says there is no formatter installer for &quot;language&quot; , but after a while it loads formatter. So i think wait for a while after starting vs code  may helpful"}],"answers":[{"tags":[],"owner":{"account_id":5616715,"reputation":131,"user_id":4447780,"display_name":"Ani David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631179755,"creation_date":1631179755,"answer_id":69115651,"question_id":59978090,"body_markdown":"Everything worked fine until today. I didn&#39;t update or change anything in vs code.\r\nBut today I had the same error for typescript files:\r\n&quot;Sorry, but there is no formatter for &#39;typescript&#39;-files installed&quot;\r\nExplicitly setting typescript.format.enable to true fixed it.","title":"There is no formatter for &#39;java&#39; files installed in VSCode","body":"<p>Everything worked fine until today. I didn't update or change anything in vs code.\nBut today I had the same error for typescript files:\n&quot;Sorry, but there is no formatter for 'typescript'-files installed&quot;\nExplicitly setting typescript.format.enable to true fixed it.</p>\n"},{"tags":[],"owner":{"account_id":24576262,"reputation":1,"user_id":18482042,"display_name":"Kaveri Nikunj Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647428093,"creation_date":1647428093,"answer_id":71495824,"question_id":59978090,"body_markdown":"Click on Disable All Installed Extensions and then click on Enable All Extensions","title":"There is no formatter for &#39;java&#39; files installed in VSCode","body":"<p>Click on Disable All Installed Extensions and then click on Enable All Extensions</p>\n"},{"tags":[],"owner":{"account_id":13487750,"reputation":416,"user_id":9731043,"display_name":"Paul Sender"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655171581,"creation_date":1655171581,"answer_id":72610715,"question_id":59978090,"body_markdown":"Check your settings.json (mine was in .vscode). Update this to: \r\n\r\n```\r\n&quot;java.format.enable&quot;: true,\r\n```\r\n\r\nMine was set to false.","title":"There is no formatter for &#39;java&#39; files installed in VSCode","body":"<p>Check your settings.json (mine was in .vscode). Update this to:</p>\n<pre><code>&quot;java.format.enable&quot;: true,\n</code></pre>\n<p>Mine was set to false.</p>\n"}],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8277,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1655171581,"creation_date":1580349398,"question_id":59978090,"body_markdown":"I was able to format Java code in VSCode, but now I see &quot;there is no formatter for &#39;java&#39; files installed.&quot; as:\r\n\r\n[![screenshot][1]][1]\r\n\r\nCertainly language support is provided through the redhat language support plugin.  Can this be re-initialized, perhaps?\r\n\r\nLooks to be a [problem][2] others have at least seen, although the error message might be slightly different.\r\n\r\nVersion info:\r\n\r\n    Version: 1.41.1\r\n    Commit: 26076a4de974ead31f97692a0d32f90d735645c0\r\n    Date: 2019-12-18T15:04:31.999Z\r\n    Electron: 6.1.5\r\n    Chrome: 76.0.3809.146\r\n    Node.js: 12.4.0\r\n    V8: 7.6.303.31-electron.0\r\n    OS: Linux x64 4.18.0-25-generic snap\r\n\r\n  [1]: https://i.stack.imgur.com/AkuuE.png\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/610","title":"There is no formatter for &#39;java&#39; files installed in VSCode","body":"<p>I was able to format Java code in VSCode, but now I see \"there is no formatter for 'java' files installed.\" as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AkuuE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AkuuE.png\" alt=\"screenshot\"></a></p>\n\n<p>Certainly language support is provided through the redhat language support plugin.  Can this be re-initialized, perhaps?</p>\n\n<p>Looks to be a <a href=\"https://github.com/redhat-developer/vscode-java/issues/610\" rel=\"noreferrer\">problem</a> others have at least seen, although the error message might be slightly different.</p>\n\n<p>Version info:</p>\n\n<pre><code>Version: 1.41.1\nCommit: 26076a4de974ead31f97692a0d32f90d735645c0\nDate: 2019-12-18T15:04:31.999Z\nElectron: 6.1.5\nChrome: 76.0.3809.146\nNode.js: 12.4.0\nV8: 7.6.303.31-electron.0\nOS: Linux x64 4.18.0-25-generic snap\n</code></pre>\n"},{"tags":["java","hash","hashmap","hashtable"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1564333822,"post_id":57243157,"comment_id":100987118,"body_markdown":"If you have 100 persons, and you want to find the youngest one, you can&#39;t possibly know who it is until you have asked the age of **every** person. So, you&#39;ll know who is the youngest only **after** the loop is finished. But your code deletes a vertex as soon as it finds the first entry, or any entry that is lower than the previous ones.","body":"If you have 100 persons, and you want to find the youngest one, you can&#39;t possibly know who it is until you have asked the age of <b>every</b> person. So, you&#39;ll know who is the youngest only <b>after</b> the loop is finished. But your code deletes a vertex as soon as it finds the first entry, or any entry that is lower than the previous ones."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1564333999,"post_id":57243157,"comment_id":100987153,"body_markdown":"the easiest soultion would be to sort entries by the value and then it would be trivial to find first,second, third youngest person.","body":"the easiest soultion would be to sort entries by the value and then it would be trivial to find first,second, third youngest person."},{"owner":{"account_id":15334429,"reputation":45,"user_id":11063237,"display_name":"J. Doe"},"score":0,"creation_date":1564334129,"post_id":57243157,"comment_id":100987194,"body_markdown":"Yes JB Nizet thank you I have put the last two lines outside the for loop. Also, thanks for the advice michalk I should sort based on values and that would make my life easier.","body":"Yes JB Nizet thank you I have put the last two lines outside the for loop. Also, thanks for the advice michalk I should sort based on values and that would make my life easier."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1564334415,"post_id":57243157,"comment_id":100987268,"body_markdown":"Possible duplicate of [Sort a Map&lt;Key, Value&gt; by values](https://stackoverflow.com/q/109383/5221149)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/109383/5221149\">Sort a Map&lt;Key, Value&gt; by values</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1564359879,"post_id":57243157,"comment_id":100992581,"body_markdown":"You&#39;re using the wrong data structure for this task.","body":"You&#39;re using the wrong data structure for this task."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564355436,"creation_date":1564334441,"answer_id":57243288,"question_id":57243157,"body_markdown":"# tl;dr\r\n\r\n    Map &lt; Integer, Integer &gt; myMap = Map.of ( 1 , 111 , 4 , 444 , 2 , 222 , 3 , 333 , 5 , 555 );\r\n    myMap.keySet().stream().sorted().limit( 3 ).map( key -&gt; myMap.get( key ) ).forEach( System.out :: println ) ;\r\n\r\n\r\n&gt;value: 111\r\n\r\n&gt;value: 222\r\n\r\n&gt;value: 333\r\n\r\n\r\n# Details\r\n\r\n**Focus on the keys** first, filtering and sorting them. \r\n\r\n    Set&lt; Integer &gt; allKeys = myMap.keySet() ;\r\n    List&lt; Integer &gt; sortedKeys = new ArrayList&lt;&gt;( allKeys ) ;\r\n    Collections.sort( sortedKeys ) ;\r\n\r\nLoop the first three keys, fetching the matching value from your map. \r\n\r\n    for ( int index = 0 ; index &lt; 3 ; index++ )\r\n    {\r\n        Integer key = sortedKeys.get ( index );\r\n        Integer value = myMap.get ( key );\r\n        System.out.println ( &quot;value: &quot; + value );\r\n    }\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;value: 111\r\n\r\n&gt;value: 222\r\n\r\n&gt;value: 333\r\n\r\n\r\n----------\r\n\r\n\r\nOr truncate the list to the first three. You can call `List::sublist`. Things to know:\r\n\r\n - The new list is actually a view over a subset of original list. So the sub-list and original are tied together. To get a new separate list, we must feed the sub-list to a new list.\r\n - The numbers passes to `subList` are annoying zero-based counting index numbers.\r\n - The indexes are Half-Open, beginning is *inclusive* while the ending is *exclusive*.\r\n\r\nCode.\r\n\r\n    List&lt; Integer &gt; targetKeys = new ArrayList&lt; Integer &gt;( sortedKeys.subList( 0 , 3 ) ) ;\r\n\r\nNow loop the entire list of three elements. \r\n\r\n    for ( Integer targetKey : targetKeys )\r\n    {\r\n        Integer value = myMap.get ( targetKey );\r\n        System.out.println ( &quot;value: &quot; + value );\r\n    }\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n&gt;value: 111\r\n\r\n&gt;value: 222\r\n\r\n&gt;value: 333\r\n\r\n\r\n----------\r\n\r\nOr, get fancy with a one-liner using Java Streams.\r\n\r\n\r\n    Map &lt; Integer, Integer &gt; myMap = Map.of ( 1 , 111 , 4 , 444 , 2 , 222 , 3 , 333 , 5 , 555 );\r\n\r\n    myMap\r\n    .keySet ()\r\n    .stream ()\r\n    .sorted ()\r\n    .limit ( 3 )\r\n    .map ( key -&gt; myMap.get ( key ) )\r\n    .forEach ( System.out :: println )\r\n    ;\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n&gt;value: 111\r\n\r\n&gt;value: 222\r\n\r\n&gt;value: 333\r\n\r\n\r\n  [1]: https://ideone.com/lzlZSI\r\n  [2]: https://ideone.com/1pAmZg\r\n  [3]: https://ideone.com/O0QMsV","title":"Finding first, second, third minimum in hash map","body":"<h1>tl;dr</h1>\n\n<pre><code>Map &lt; Integer, Integer &gt; myMap = Map.of ( 1 , 111 , 4 , 444 , 2 , 222 , 3 , 333 , 5 , 555 );\nmyMap.keySet().stream().sorted().limit( 3 ).map( key -&gt; myMap.get( key ) ).forEach( System.out :: println ) ;\n</code></pre>\n\n<blockquote>\n  <p>value: 111</p>\n  \n  <p>value: 222</p>\n  \n  <p>value: 333</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p><strong>Focus on the keys</strong> first, filtering and sorting them. </p>\n\n<pre><code>Set&lt; Integer &gt; allKeys = myMap.keySet() ;\nList&lt; Integer &gt; sortedKeys = new ArrayList&lt;&gt;( allKeys ) ;\nCollections.sort( sortedKeys ) ;\n</code></pre>\n\n<p>Loop the first three keys, fetching the matching value from your map. </p>\n\n<pre><code>for ( int index = 0 ; index &lt; 3 ; index++ )\n{\n    Integer key = sortedKeys.get ( index );\n    Integer value = myMap.get ( key );\n    System.out.println ( \"value: \" + value );\n}\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/lzlZSI\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>value: 111</p>\n  \n  <p>value: 222</p>\n  \n  <p>value: 333</p>\n</blockquote>\n\n<hr>\n\n<p>Or truncate the list to the first three. You can call <code>List::sublist</code>. Things to know:</p>\n\n<ul>\n<li>The new list is actually a view over a subset of original list. So the sub-list and original are tied together. To get a new separate list, we must feed the sub-list to a new list.</li>\n<li>The numbers passes to <code>subList</code> are annoying zero-based counting index numbers.</li>\n<li>The indexes are Half-Open, beginning is <em>inclusive</em> while the ending is <em>exclusive</em>.</li>\n</ul>\n\n<p>Code.</p>\n\n<pre><code>List&lt; Integer &gt; targetKeys = new ArrayList&lt; Integer &gt;( sortedKeys.subList( 0 , 3 ) ) ;\n</code></pre>\n\n<p>Now loop the entire list of three elements. </p>\n\n<pre><code>for ( Integer targetKey : targetKeys )\n{\n    Integer value = myMap.get ( targetKey );\n    System.out.println ( \"value: \" + value );\n}\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/1pAmZg\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>value: 111</p>\n  \n  <p>value: 222</p>\n  \n  <p>value: 333</p>\n</blockquote>\n\n<hr>\n\n<p>Or, get fancy with a one-liner using Java Streams.</p>\n\n<pre><code>Map &lt; Integer, Integer &gt; myMap = Map.of ( 1 , 111 , 4 , 444 , 2 , 222 , 3 , 333 , 5 , 555 );\n\nmyMap\n.keySet ()\n.stream ()\n.sorted ()\n.limit ( 3 )\n.map ( key -&gt; myMap.get ( key ) )\n.forEach ( System.out :: println )\n;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/O0QMsV\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>value: 111</p>\n  \n  <p>value: 222</p>\n  \n  <p>value: 333</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564335458,"creation_date":1564335458,"answer_id":57243428,"question_id":57243157,"body_markdown":"Not quite understood second part about repeat, anyway it may help:\r\n```\r\n public static void main(String[] args) {\r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(1,10);\r\n        map.put(2,100);\r\n        map.put(3,20);\r\n        map.put(4,990);\r\n\r\n        Map.Entry&lt;Integer, Integer&gt; integerIntegerEntry = map.entrySet()\r\n                .stream().min(Comparator.comparing(Map.Entry::getKey))\r\n                .orElseThrow(() -&gt;new RuntimeException(&quot;Oops!&quot;));\r\n        System.out.println(&quot;min val is :&quot; + integerIntegerEntry.getValue());\r\n        anotherMethod(integerIntegerEntry.getKey());\r\n    }\r\n```","title":"Finding first, second, third minimum in hash map","body":"<p>Not quite understood second part about repeat, anyway it may help:</p>\n\n<pre><code> public static void main(String[] args) {\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(1,10);\n        map.put(2,100);\n        map.put(3,20);\n        map.put(4,990);\n\n        Map.Entry&lt;Integer, Integer&gt; integerIntegerEntry = map.entrySet()\n                .stream().min(Comparator.comparing(Map.Entry::getKey))\n                .orElseThrow(() -&gt;new RuntimeException(\"Oops!\"));\n        System.out.println(\"min val is :\" + integerIntegerEntry.getValue());\n        anotherMethod(integerIntegerEntry.getKey());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25530591,"reputation":1,"user_id":19318699,"display_name":"priyanka kumari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655170718,"creation_date":1654939862,"answer_id":72583186,"question_id":57243157,"body_markdown":"To find first, second, third minimum key in Hasmap based on key as Integer.\r\n\r\n\r\n    Map&lt;Integer, String&gt; map1 = new HashMap&lt;&gt;();\r\n    map1.put(100, &quot;abc&quot;);\r\n    \t\tmap1.put(30, &quot;xyz&quot;);\r\n    \t\tmap1.put(55, &quot;ab&quot;);\r\n    \t\tmap1.put(12, &quot;we&quot;);\r\n    \t\tmap1.put(20, &quot;vibe&quot;);\r\n    \t\tmap1.put(29, &quot;java&quot;);\r\n    \t\tmap1.put(10,&quot;spring&quot;);\r\n    \t\tInteger first = map1.keySet().stream().sorted().findFirst().get();\r\n\t\tSystem.out.println(&quot;first:&quot; +first);\r\n\t\t\r\n\t\tInteger second = map1.keySet().stream().sorted().skip(1).findFirst().get();\r\n\t\tSystem.out.println(&quot;Second:&quot; +second);\r\n\r\n    // Using TreeMap\r\n\t\t    TreeMap &lt;Integer, String&gt; treeMap = new TreeMap&lt;&gt;();\r\n    \t\t    treeMap.putAll(map1);\r\n    \t\t    Integer i = treeMap.entrySet().stream().findFirst().get().getKey();\r\n    \t\t    Integer i2 = \r\n                  treeMap.entrySet().stream().skip(1).findFirst().get().getKey();\r\n    \t\t      System.out.println(i);\r\n    \t\t      System.out.println(i2);","title":"Finding first, second, third minimum in hash map","body":"<p>To find first, second, third minimum key in Hasmap based on key as Integer.</p>\n<pre><code>Map&lt;Integer, String&gt; map1 = new HashMap&lt;&gt;();\nmap1.put(100, &quot;abc&quot;);\n        map1.put(30, &quot;xyz&quot;);\n        map1.put(55, &quot;ab&quot;);\n        map1.put(12, &quot;we&quot;);\n        map1.put(20, &quot;vibe&quot;);\n        map1.put(29, &quot;java&quot;);\n        map1.put(10,&quot;spring&quot;);\n        Integer first = map1.keySet().stream().sorted().findFirst().get();\n    System.out.println(&quot;first:&quot; +first);\n    \n    Integer second = map1.keySet().stream().sorted().skip(1).findFirst().get();\n    System.out.println(&quot;Second:&quot; +second);\n\n// Using TreeMap\n        TreeMap &lt;Integer, String&gt; treeMap = new TreeMap&lt;&gt;();\n            treeMap.putAll(map1);\n            Integer i = treeMap.entrySet().stream().findFirst().get().getKey();\n            Integer i2 = \n              treeMap.entrySet().stream().skip(1).findFirst().get().getKey();\n              System.out.println(i);\n              System.out.println(i2);\n</code></pre>\n"}],"owner":{"account_id":15334429,"reputation":45,"user_id":11063237,"display_name":"J. Doe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57243428,"answer_count":3,"score":1,"last_activity_date":1655170718,"creation_date":1564333554,"question_id":57243157,"body_markdown":"I am trying to mind the minimum value in hash map and use its key in another method. I also want to do this repeatedly and exclude the previously found minimum. Thank you! \r\n\r\n        Entry&lt;Integer, Integer&gt; min = null;\r\n        for (Entry&lt;Integer, Integer&gt; entry : graph.myMap.entrySet()) {\r\n            if (min == null || min.getValue() &gt; entry.getValue()) {\r\n                min = entry;\r\n                int minV = min.getKey();\r\n                deleteVertex(graph, minV);\r\n            }\r\n        }","title":"Finding first, second, third minimum in hash map","body":"<p>I am trying to mind the minimum value in hash map and use its key in another method. I also want to do this repeatedly and exclude the previously found minimum. Thank you! </p>\n\n<pre><code>    Entry&lt;Integer, Integer&gt; min = null;\n    for (Entry&lt;Integer, Integer&gt; entry : graph.myMap.entrySet()) {\n        if (min == null || min.getValue() &gt; entry.getValue()) {\n            min = entry;\n            int minV = min.getKey();\n            deleteVertex(graph, minV);\n        }\n    }\n</code></pre>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1572136583,"post_id":58575712,"comment_id":103467426,"body_markdown":"You can include quotes in your query string by escaping them:\n\n    `String query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, \\&quot;&quot;+artikelname+&quot;\\&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;;`","body":"You can include quotes in your query string by escaping them:      <code>String query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, \\&quot;&quot;+artikelname+&quot;\\&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572143287,"creation_date":1572143287,"answer_id":58576193,"question_id":58575712,"body_markdown":"You __CANNOT__ include input like this in an SQL query. Imagine the artikelname being sent is the string `whatever&#39;; DROP DATABASE warenliste CASCADE; --`.\r\n\r\nIf you were to then run your code.. your database would be wiped.\r\n\r\nIt is not possible to escape this properly. The solution lies in `PreparedStatement`:\r\n\r\n    try (PreparedStatement ps = connection.prepareStatement(&quot;INSERT INTO warenliste (Artikel_ID, etc) VALUES (?, ?)&quot;)) {\r\n        // Note the question marks above: They mark where the variables go. Do not quote them.\r\n        ps.setInt(1, artikel_ID);\r\n        ps.setString(2, artikelname);\r\n        ... the other vars go here.\r\n        ps.executeUpdate();\r\n    }\r\n\r\nAlso, in java weWriteVariableNamesLikeThis, not_like_this, it&#39;s &#39;artikel&#39; and not arikel, and exceptions contain at least 4 interesting bits of info, with just `e.printStackTrace()` you are [A] throwing away 3 of the 4 interesting bits, and [B] as the code will continue to run you will get a cascade of errors. The proper way to solve this is to declare your method to `throws SQLException`. Note that your `public static void main` can (and should!) be declared as `throws Exception`.\r\n","title":"SQL False comand, Java Code and SQL? Hope someone can help me","body":"<p>You <strong>CANNOT</strong> include input like this in an SQL query. Imagine the artikelname being sent is the string <code>whatever'; DROP DATABASE warenliste CASCADE; --</code>.</p>\n\n<p>If you were to then run your code.. your database would be wiped.</p>\n\n<p>It is not possible to escape this properly. The solution lies in <code>PreparedStatement</code>:</p>\n\n<pre><code>try (PreparedStatement ps = connection.prepareStatement(\"INSERT INTO warenliste (Artikel_ID, etc) VALUES (?, ?)\")) {\n    // Note the question marks above: They mark where the variables go. Do not quote them.\n    ps.setInt(1, artikel_ID);\n    ps.setString(2, artikelname);\n    ... the other vars go here.\n    ps.executeUpdate();\n}\n</code></pre>\n\n<p>Also, in java weWriteVariableNamesLikeThis, not_like_this, it's 'artikel' and not arikel, and exceptions contain at least 4 interesting bits of info, with just <code>e.printStackTrace()</code> you are [A] throwing away 3 of the 4 interesting bits, and [B] as the code will continue to run you will get a cascade of errors. The proper way to solve this is to declare your method to <code>throws SQLException</code>. Note that your <code>public static void main</code> can (and should!) be declared as <code>throws Exception</code>.</p>\n"}],"owner":{"account_id":16635000,"reputation":35,"user_id":12021931,"display_name":"Funkeyfreak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655170306,"creation_date":1572135759,"question_id":58575712,"body_markdown":"I have a problem with MySQL code. I think the problem is the &quot;String artikelname&quot;, which I need to quote in SQL.\r\n\r\n```\r\nString query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, &quot;+artikelname+&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;\r\n```\r\n\r\nthe normal SQL command says: insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (123, &quot;name&quot;, 5, 0);\r\n\r\n-&gt; here the &quot;name&quot; is in the quote, but in my Java code I can&#39;t do it in quotes because of the variable &quot;Artikelname&quot;.\r\n\r\n**Full code:**\r\n\r\n    public void setWareHinzu(int arikel_ID, String artikelname, int anzahl, boolean hochfrequent) {\r\n\r\n    \ttry {\r\n    \t\tString query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, &quot;+artikelname+&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;;\r\n    \t\tst.executeUpdate(query);\r\n\r\n    \t}\r\n    \tcatch(Exception e) {\r\n    \t\tSystem.out.println(e);\r\n    \t}\r\n\r\n    }\r\n","title":"SQL False comand, Java Code and SQL? Hope someone can help me","body":"<p>I have a problem with MySQL code. I think the problem is the &quot;String artikelname&quot;, which I need to quote in SQL.</p>\n<pre><code>String query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, &quot;+artikelname+&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;\n</code></pre>\n<p>the normal SQL command says: insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (123, &quot;name&quot;, 5, 0);</p>\n<p>-&gt; here the &quot;name&quot; is in the quote, but in my Java code I can't do it in quotes because of the variable &quot;Artikelname&quot;.</p>\n<p><strong>Full code:</strong></p>\n<pre><code>public void setWareHinzu(int arikel_ID, String artikelname, int anzahl, boolean hochfrequent) {\n\n    try {\n        String query = &quot;insert into warenliste (Artikel_ID, Artikelname, Anzahl, Hochfrequent) values (&quot;+arikel_ID+&quot;, &quot;+artikelname+&quot;, &quot;+anzahl+&quot;, &quot;+hochfrequent+&quot;)&quot;;\n        st.executeUpdate(query);\n\n    }\n    catch(Exception e) {\n        System.out.println(e);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1655099743,"post_id":72598284,"comment_id":128240960,"body_markdown":"Welcome to SO , please check up on Boxed vs primitive types. Integer vs int , Long vs long . That should get you started","body":"Welcome to SO , please check up on Boxed vs primitive types. Integer vs int , Long vs long . That should get you started"},{"owner":{"account_id":9273165,"reputation":3381,"user_id":6886501,"display_name":"Markus Meyer"},"score":1,"creation_date":1655099813,"post_id":72598284,"comment_id":128240979,"body_markdown":"Please do not add code as images: https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"Please do not add code as images: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"score":0,"creation_date":1655100085,"post_id":72598284,"comment_id":128241032,"body_markdown":"please paste your code as problem description, not a screen shot","body":"please paste your code as problem description, not a screen shot"}],"answers":[{"tags":[],"owner":{"account_id":11797837,"reputation":28,"user_id":8632196,"display_name":"Cthurier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655101838,"creation_date":1655100092,"answer_id":72598337,"question_id":72598284,"body_markdown":"Never give images !!! always code !!!\r\n\r\nJava comparator must return an int (as shown in signature)\r\n\r\n(edited after comments)\r\n\r\n```java\r\npublic int compare(Integer o1, Integer o2){\r\n   return Math.abs(o2) - Math.abs(o1);\r\n}\r\n```","title":"Error in java comparator class while sorting the array?","body":"<p>Never give images !!! always code !!!</p>\n<p>Java comparator must return an int (as shown in signature)</p>\n<p>(edited after comments)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int compare(Integer o1, Integer o2){\n   return Math.abs(o2) - Math.abs(o1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4995738,"reputation":94,"user_id":8824639,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655100808,"creation_date":1655100183,"answer_id":72598353,"question_id":72598284,"body_markdown":"The return type of compare method is int and you are returning a boolean value.\r\n\r\nModify the code to return an int value.\r\n\r\nAlso, comparator class requires object datatype. Modify your array from int[] to Integer[]\r\n\r\n    Integer[] nums = new Integer[]{not, tak, twice};\r\n        Arrays.sort(nums, new Comparator&lt;Integer&gt;() {\r\n            @Override\r\n            public int compare(final Integer o1, final Integer o2) {\r\n                return Math.abs(o1) - Math.abs(o2);\r\n            }\r\n        }\r\n\r\n","title":"Error in java comparator class while sorting the array?","body":"<p>The return type of compare method is int and you are returning a boolean value.</p>\n<p>Modify the code to return an int value.</p>\n<p>Also, comparator class requires object datatype. Modify your array from int[] to Integer[]</p>\n<pre><code>Integer[] nums = new Integer[]{not, tak, twice};\n    Arrays.sort(nums, new Comparator&lt;Integer&gt;() {\n        @Override\n        public int compare(final Integer o1, final Integer o2) {\n            return Math.abs(o1) - Math.abs(o2);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655101496,"creation_date":1655101496,"answer_id":72598512,"question_id":72598284,"body_markdown":"You can simply sort an array in ascending order by: \r\n\r\n    Arrays.sort(array);\r\n\r\nIf you need to sort the array in descending order you can use: \r\n\r\n    Arrays.sort(array, Collections.reverseOrder());\r\n\r\nNote: If you gonna use `Comparator` inside `Arrays.sort` you probably get : \r\n\r\n&gt; The method sort(int[]) in the type Arrays is not applicable for the\r\n&gt; arguments (int[], new Comparator&lt;Integer&gt;(){})","title":"Error in java comparator class while sorting the array?","body":"<p>You can simply sort an array in ascending order by:</p>\n<pre><code>Arrays.sort(array);\n</code></pre>\n<p>If you need to sort the array in descending order you can use:</p>\n<pre><code>Arrays.sort(array, Collections.reverseOrder());\n</code></pre>\n<p>Note: If you gonna use <code>Comparator</code> inside <code>Arrays.sort</code> you probably get :</p>\n<blockquote>\n<p>The method sort(int[]) in the type Arrays is not applicable for the\narguments (int[], new Comparator(){})</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655101910,"creation_date":1655101910,"answer_id":72598590,"question_id":72598284,"body_markdown":"You want to first sort on the absolute values, and when equal on the signed value.\r\n\r\nAnd then the `Arrays.sort` with a `Comparator` only is for Object derived classes, not the primitive type `int`. So you need an `Integer[]`\r\n\r\n    Integer[] nums = {not, tak, twice};\r\n    Arrays.sort(nums,\r\n        Comparator.comparingInt(n -&gt; Math.abs(n.intValue())\r\n                  .thenComparingInt(Integer::intValue));\r\n\r\n","title":"Error in java comparator class while sorting the array?","body":"<p>You want to first sort on the absolute values, and when equal on the signed value.</p>\n<p>And then the <code>Arrays.sort</code> with a <code>Comparator</code> only is for Object derived classes, not the primitive type <code>int</code>. So you need an <code>Integer[]</code></p>\n<pre><code>Integer[] nums = {not, tak, twice};\nArrays.sort(nums,\n    Comparator.comparingInt(n -&gt; Math.abs(n.intValue())\n              .thenComparingInt(Integer::intValue));\n</code></pre>\n"}],"owner":{"account_id":19047791,"reputation":1,"user_id":13906616,"display_name":"Coder"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1655104284,"answer_count":4,"score":-5,"last_activity_date":1655169426,"creation_date":1655099581,"question_id":72598284,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am getting this error please tell how to correct it\r\n\r\n  [1]: https://i.stack.imgur.com/V4C8O.png","title":"Error in java comparator class while sorting the array?","body":"<p><a href=\"https://i.stack.imgur.com/V4C8O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4C8O.png\" alt=\"enter image description here\" /></a></p>\n<p>I am getting this error please tell how to correct it</p>\n"},{"tags":["java","spring","jwt"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":2,"creation_date":1535050883,"post_id":51991251,"comment_id":90934872,"body_markdown":"the token you show here misses an &#39;e&#39; in the beginning. Should be &#39;eyJhbG...&#39;. Is this just a mistake when you copied it here or is it already the problem? When I try to decode your malformed token on base64decode.org, I get `Ș[Ȏ̍M`, which looks similar to the gibberish shown in your error. \n[JWT always start with eyJ](https://stackoverflow.com/questions/49517324/why-header-and-payload-in-the-jwt-token-always-starts-with-eyj/49519717#49519717)","body":"the token you show here misses an &#39;e&#39; in the beginning. Should be &#39;eyJhbG...&#39;. Is this just a mistake when you copied it here or is it already the problem? When I try to decode your malformed token on base64decode.org, I get <code>Ș[Ȏ̍M</code>, which looks similar to the gibberish shown in your error.  <a href=\"https://stackoverflow.com/questions/49517324/why-header-and-payload-in-the-jwt-token-always-starts-with-eyj/49519717#49519717\">JWT always start with eyJ</a>"}],"answers":[{"tags":[],"owner":{"account_id":9628035,"reputation":830,"user_id":7147006,"accept_rate":100,"display_name":"KevKosDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535051211,"creation_date":1535051211,"answer_id":51992712,"question_id":51991251,"body_markdown":"The string you posted is not a valid JWT. More specific the header section, which is the section before the first `.`, is missing an `e` which causes the error while parsing.\r\n\r\nWith the `e` added your decoded token looks like this:\r\n\r\n    {\r\n      &quot;alg&quot;: &quot;HS256&quot;\r\n    }\r\n    {\r\n      &quot;sub&quot;: &quot;bpawan&quot;,\r\n      &quot;role&quot;: null,\r\n      &quot;enable&quot;: null,\r\n      &quot;exp&quot;: 1534823525,\r\n      &quot;iat&quot;: 1534794725\r\n    }","title":"Java io.jsonwebtoken.MalformedJwtException: Unable to read JSON value:","body":"<p>The string you posted is not a valid JWT. More specific the header section, which is the section before the first <code>.</code>, is missing an <code>e</code> which causes the error while parsing.</p>\n\n<p>With the <code>e</code> added your decoded token looks like this:</p>\n\n<pre><code>{\n  \"alg\": \"HS256\"\n}\n{\n  \"sub\": \"bpawan\",\n  \"role\": null,\n  \"enable\": null,\n  \"exp\": 1534823525,\n  \"iat\": 1534794725\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562001607,"creation_date":1562001607,"answer_id":56839830,"question_id":51991251,"body_markdown":"&gt; io.jsonwebtoken.MalformedJwtException: JWT strings must contain exactly 2 period characters. Found: &#39;X&#39;\r\n\r\nThis means the JWT token is not the valid token and it does not contains the separator deliminator `.` .\r\nPlease check the mechanism from where you are generating the token for JWT.","title":"Java io.jsonwebtoken.MalformedJwtException: Unable to read JSON value:","body":"<blockquote>\n  <p>io.jsonwebtoken.MalformedJwtException: JWT strings must contain exactly 2 period characters. Found: 'X'</p>\n</blockquote>\n\n<p>This means the JWT token is not the valid token and it does not contains the separator deliminator <code>.</code> .\nPlease check the mechanism from where you are generating the token for JWT.</p>\n"},{"tags":[],"owner":{"account_id":16079821,"reputation":1,"user_id":11606062,"display_name":"Rajan Kesharwani"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1622320803,"creation_date":1622320803,"answer_id":67755568,"question_id":51991251,"body_markdown":"You are getting this error because you are not adding proper Authorisation token in your header , Authorisation token have some patter so do not temper it and use Bearer before your token (Example &quot;Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2MjIzNTY1MzQsImlhdCI6MTYyMjMyMDUzNH0.XOtVjuiEKDg6m367hUA1qc9owqzkCe2OmsBB4_mRFcU &quot;).\r\n\r\nAnd your Authorisation token always start with **ey**.\r\n\r\nThank you. ","title":"Java io.jsonwebtoken.MalformedJwtException: Unable to read JSON value:","body":"<p>You are getting this error because you are not adding proper Authorisation token in your header , Authorisation token have some patter so do not temper it and use Bearer before your token (Example &quot;Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2MjIzNTY1MzQsImlhdCI6MTYyMjMyMDUzNH0.XOtVjuiEKDg6m367hUA1qc9owqzkCe2OmsBB4_mRFcU &quot;).</p>\n<p>And your Authorisation token always start with <strong>ey</strong>.</p>\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":22887195,"reputation":1,"user_id":17027898,"display_name":"rakesh mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655169403,"creation_date":1655098106,"answer_id":72598122,"question_id":51991251,"body_markdown":"Your JWT token is missing an `e` from the begin. JWT always starts with `ey` so \r\ninsert an `e` and check again.","title":"Java io.jsonwebtoken.MalformedJwtException: Unable to read JSON value:","body":"<p>Your JWT token is missing an <code>e</code> from the begin. JWT always starts with <code>ey</code> so\ninsert an <code>e</code> and check again.</p>\n"}],"owner":{"account_id":2796161,"reputation":446,"user_id":2405353,"accept_rate":88,"display_name":"zambliner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23028,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1655169403,"creation_date":1535045169,"question_id":51991251,"body_markdown":"I have following function written to parse claims:\r\n\r\n      public Claims getAllClaimsFromToken(String token) {\r\n        return Jwts.parser().setSigningKey(config.getJwtSecret()).parseClaimsJws(token).getBody();\r\n    }\r\n\r\nAnd when I try to call the function with the following string:\r\n\r\n    yJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJicGF3YW4iLCJyb2xlIjpudWxsLCJlbmFibGUiOm51bGwsImV4cCI6MTUzNDgyMzUyNSwiaWF0IjoxNTM0Nzk0NzI1fQ.65PPknMebR53ykLm-EBIunjFJvlV-vL-pfTOtbBLtnQ\r\n\r\nI get the following error:\r\n\r\n    io.jsonwebtoken.MalformedJwtException: Unable to read JSON value: Ș[\u0019Ȏ��\u0014̍M��\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:554) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:252) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat com.saralpasal.api.security.JWTUtil.getAllClaimsFromToken(JWTUtil.java:33) ~[classes/:na]\r\n\tat com.saralpasal.api.security.JWTUtil.getUsernameFromToken(JWTUtil.java:29) ~[classes/:na]\r\n\tat com.saralpasal.api.security.AuthenticationManager.getUserNameFromToken(AuthenticationManager.java:51) ~[classes/:na]\r\n\tat com.saralpasal.api.security.AuthenticationManager.authenticate(AuthenticationManager.java:37) ~[classes/:na]\r\n\tat com.saralpasal.api.security.SecurityContextRepository.load(SecurityContextRepository.java:34) [classes/:na]\r\n\tat org.springframework.security.web.server.context.ReactorContextWebFilter.withSecurityContext(ReactorContextWebFilter.java:51) [spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n\tat org.springframework.security.web.server.context.ReactorContextWebFilter.lambda$filter$0(ReactorContextWebFilter.java:46) [spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n\tat reactor.core.publisher.MonoSubscriberContext.subscribe(MonoSubscriberContext.java:40) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:115) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:115) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1083) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:241) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1083) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onComplete(MonoCollectList.java:117) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.fastPath(FluxIterable.java:334) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:199) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onSubscribe(MonoCollectList.java:90) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:140) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:64) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoCollectList.subscribe(MonoCollectList.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:287) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onNext(FluxFilterWhen.java:131) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:244) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:202) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onSubscribe(FluxFilterWhen.java:190) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:140) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:64) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.FluxFilterWhen.subscribe(FluxFilterWhen.java:68) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoNext.subscribe(MonoNext.java:40) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoSwitchIfEmpty.subscribe(MonoSwitchIfEmpty.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoFlatMap.subscribe(MonoFlatMap.java:60) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoMapFuseable.subscribe(MonoMapFuseable.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoMapFuseable.subscribe(MonoMapFuseable.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoFlatMap.subscribe(MonoFlatMap.java:60) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3080) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoPeekFuseable.subscribe(MonoPeekFuseable.java:70) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.core.publisher.MonoPeekTerminal.subscribe(MonoPeekTerminal.java:61) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\r\n\tat reactor.ipc.netty.channel.ChannelOperations.applyHandler(ChannelOperations.java:380) ~[reactor-netty-0.7.8.RELEASE.jar:0.7.8.RELEASE]\r\n\tat reactor.ipc.netty.http.server.HttpServerOperations.onHandlerStart(HttpServerOperations.java:398) ~[reactor-netty-0.7.8.RELEASE.jar:0.7.8.RELEASE]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:322) ~[netty-transport-native-epoll-4.1.27.Final-linux-x86_64.jar:4.1.27.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:844) ~[na:na]\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;Ș&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n at [Source: (String)&quot;Ș[\u0019Ȏ��\u0014̍M��&quot;; line: 1, column: 2]\r\n\r\n\r\nno matter what I try I could not find the cause of the error.\r\nAnybody have experienced the same error. Any help would be greatly appreciated.\r\n\r\nThank you very much\r\n","title":"Java io.jsonwebtoken.MalformedJwtException: Unable to read JSON value:","body":"<p>I have following function written to parse claims:</p>\n\n<pre><code>  public Claims getAllClaimsFromToken(String token) {\n    return Jwts.parser().setSigningKey(config.getJwtSecret()).parseClaimsJws(token).getBody();\n}\n</code></pre>\n\n<p>And when I try to call the function with the following string:</p>\n\n<pre><code>yJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJicGF3YW4iLCJyb2xlIjpudWxsLCJlbmFibGUiOm51bGwsImV4cCI6MTUzNDgyMzUyNSwiaWF0IjoxNTM0Nzk0NzI1fQ.65PPknMebR53ykLm-EBIunjFJvlV-vL-pfTOtbBLtnQ\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>io.jsonwebtoken.MalformedJwtException: Unable to read JSON value: Ș[Ȏ��̍M��\nat io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:554) ~[jjwt-0.9.1.jar:0.9.1]\nat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:252) ~[jjwt-0.9.1.jar:0.9.1]\nat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]\nat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]\nat com.saralpasal.api.security.JWTUtil.getAllClaimsFromToken(JWTUtil.java:33) ~[classes/:na]\nat com.saralpasal.api.security.JWTUtil.getUsernameFromToken(JWTUtil.java:29) ~[classes/:na]\nat com.saralpasal.api.security.AuthenticationManager.getUserNameFromToken(AuthenticationManager.java:51) ~[classes/:na]\nat com.saralpasal.api.security.AuthenticationManager.authenticate(AuthenticationManager.java:37) ~[classes/:na]\nat com.saralpasal.api.security.SecurityContextRepository.load(SecurityContextRepository.java:34) [classes/:na]\nat org.springframework.security.web.server.context.ReactorContextWebFilter.withSecurityContext(ReactorContextWebFilter.java:51) [spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\nat org.springframework.security.web.server.context.ReactorContextWebFilter.lambda$filter$0(ReactorContextWebFilter.java:46) [spring-security-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]\nat reactor.core.publisher.MonoSubscriberContext.subscribe(MonoSubscriberContext.java:40) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:115) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:115) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1083) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:241) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1083) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onComplete(MonoCollectList.java:117) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable$IterableSubscription.fastPath(FluxIterable.java:334) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:199) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onSubscribe(MonoCollectList.java:90) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:140) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:64) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoCollectList.subscribe(MonoCollectList.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.drain(FluxFilterWhen.java:287) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onNext(FluxFilterWhen.java:131) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:244) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:202) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxFilterWhen$FluxFilterWhenSubscriber.onSubscribe(FluxFilterWhen.java:190) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:140) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:64) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.FluxFilterWhen.subscribe(FluxFilterWhen.java:68) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoNext.subscribe(MonoNext.java:40) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoSwitchIfEmpty.subscribe(MonoSwitchIfEmpty.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoFlatMap.subscribe(MonoFlatMap.java:60) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoMapFuseable.subscribe(MonoMapFuseable.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoMapFuseable.subscribe(MonoMapFuseable.java:59) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoFlatMap.subscribe(MonoFlatMap.java:60) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoOnErrorResume.subscribe(MonoOnErrorResume.java:44) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.Mono.subscribe(Mono.java:3080) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoPeekFuseable.subscribe(MonoPeekFuseable.java:70) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.core.publisher.MonoPeekTerminal.subscribe(MonoPeekTerminal.java:61) ~[reactor-core-3.1.8.RELEASE.jar:3.1.8.RELEASE]\nat reactor.ipc.netty.channel.ChannelOperations.applyHandler(ChannelOperations.java:380) ~[reactor-netty-0.7.8.RELEASE.jar:0.7.8.RELEASE]\nat reactor.ipc.netty.http.server.HttpServerOperations.onHandlerStart(HttpServerOperations.java:398) ~[reactor-netty-0.7.8.RELEASE.jar:0.7.8.RELEASE]\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:322) ~[netty-transport-native-epoll-4.1.27.Final-linux-x86_64.jar:4.1.27.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) ~[netty-common-4.1.27.Final.jar:4.1.27.Final]\nat java.base/java.lang.Thread.run(Thread.java:844) ~[na:na]\n</code></pre>\n\n<p>Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'Ș': was expecting ('true', 'false' or 'null')\n at [Source: (String)\"Ș[Ȏ��̍M��\"; line: 1, column: 2]</p>\n\n<p>no matter what I try I could not find the cause of the error.\nAnybody have experienced the same error. Any help would be greatly appreciated.</p>\n\n<p>Thank you very much</p>\n"},{"tags":["java","image","rgb","javax.imageio","read-write"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1654933618,"post_id":72581932,"comment_id":128214399,"body_markdown":"What is an example that doesn&#39;t work?","body":"What is an example that doesn&#39;t work?"},{"owner":{"account_id":19586972,"reputation":39,"user_id":14334886,"display_name":"d0nut"},"score":0,"creation_date":1654957319,"post_id":72581932,"comment_id":128218452,"body_markdown":"https://i.stack.imgur.com/GTrpa.png I&#39;m not sure if this link works for you","body":"<a href=\"https://i.stack.imgur.com/GTrpa.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/GTrpa.png</a> I&#39;m not sure if this link works for you"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1654969369,"post_id":72581932,"comment_id":128220981,"body_markdown":"That links to a png not `res/test2.ppm` as used as input by your example code.","body":"That links to a png not <code>res&#47;test2.ppm</code> as used as input by your example code."},{"owner":{"account_id":19586972,"reputation":39,"user_id":14334886,"display_name":"d0nut"},"score":0,"creation_date":1654973693,"post_id":72581932,"comment_id":128221787,"body_markdown":"it seems like I can&#39;t upload a ppm file here. but here is the content of the file: &quot;P3\n2 2\n255\n255\n0\n0\n0\n255\n255\n255\n0\n255\n255\n255\n0\n&quot;","body":"it seems like I can&#39;t upload a ppm file here. but here is the content of the file: &quot;P3 2 2 255 255 0 0 0 255 255 255 0 255 255 255 0 &quot;"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1654973765,"post_id":72581932,"comment_id":128221808,"body_markdown":"@d0nut Are you getting correct colors when saving the image as PNG?","body":"@d0nut Are you getting correct colors when saving the image as PNG?"},{"owner":{"account_id":19586972,"reputation":39,"user_id":14334886,"display_name":"d0nut"},"score":0,"creation_date":1654973806,"post_id":72581932,"comment_id":128221814,"body_markdown":"@Rotem yes, just jpg/jpeg that is not working","body":"@Rotem yes, just jpg/jpeg that is not working"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":1,"creation_date":1654976234,"post_id":72581932,"comment_id":128222245,"body_markdown":"@d0nut I figured out the reason. JPEG chroma sub-sumpling default is [YUV420](https://en.wikipedia.org/wiki/Chroma_subsampling). In YUV420 every 2x2 pixels have the same chroma information (the 2x2 pixels have the same color). The 2x2 pixels have the same color but each pixel has different luminance. That is the reason the 4 pixels has the same color (the color is a mixture of the 4 original colors).","body":"@d0nut I figured out the reason. JPEG chroma sub-sumpling default is <a href=\"https://en.wikipedia.org/wiki/Chroma_subsampling\" rel=\"nofollow noreferrer\">YUV420</a>. In YUV420 every 2x2 pixels have the same chroma information (the 2x2 pixels have the same color). The 2x2 pixels have the same color but each pixel has different luminance. That is the reason the 4 pixels has the same color (the color is a mixture of the 4 original colors)."},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1654976527,"post_id":72581932,"comment_id":128222296,"body_markdown":"There is a way to save JPEG image in YUV444 chroma sub-sumpling, but it&#39;s much less common. I found [this post](https://stackoverflow.com/questions/14149739/disable-java-imageio-chroma-subsampling) for example, but I can&#39;t find good answers... GIMP manages to save JPEG with YUV444 chroma sub-sumpling, so there is way for doing it.","body":"There is a way to save JPEG image in YUV444 chroma sub-sumpling, but it&#39;s much less common. I found <a href=\"https://stackoverflow.com/questions/14149739/disable-java-imageio-chroma-subsampling\">this post</a> for example, but I can&#39;t find good answers... GIMP manages to save JPEG with YUV444 chroma sub-sumpling, so there is way for doing it."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1655123454,"post_id":72581932,"comment_id":128248642,"body_markdown":"@Rotem I think you are correct, and it would be great if you could rework your comment into an answer. Theoretically, JPEG can be stored as plain RGB or non-subsampled YCbCr (YUV) in addition to the more common subsampled YCbCr, but there&#39;s no easy way to control subsampling or output &quot;color space&quot; through the ImageIO JPEG plugin, unfortunately.","body":"@Rotem I think you are correct, and it would be great if you could rework your comment into an answer. Theoretically, JPEG can be stored as plain RGB or non-subsampled YCbCr (YUV) in addition to the more common subsampled YCbCr, but there&#39;s no easy way to control subsampling or output &quot;color space&quot; through the ImageIO JPEG plugin, unfortunately."},{"owner":{"account_id":19586972,"reputation":39,"user_id":14334886,"display_name":"d0nut"},"score":0,"creation_date":1655151411,"post_id":72581932,"comment_id":128259241,"body_markdown":"@HaraldK do you know any other library that can help me output a jpg file correctly?","body":"@HaraldK do you know any other library that can help me output a jpg file correctly?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1655190825,"post_id":72581932,"comment_id":128266685,"body_markdown":"It’s not really about the library. It’s the technology. Even if you find a library that outputs the image like you want, it will be larger than the equivalent BMP, PNG and GIF. JPEG is great for compressing “natural” images. Not so for “artificial” images like this with solid colors, sharp edges and in your case extremely small size. For more “normal” images, the standard ImageIO JPEG plugin will do just fine.","body":"It’s not really about the library. It’s the technology. Even if you find a library that outputs the image like you want, it will be larger than the equivalent BMP, PNG and GIF. JPEG is great for compressing “natural” images. Not so for “artificial” images like this with solid colors, sharp edges and in your case extremely small size. For more “normal” images, the standard ImageIO JPEG plugin will do just fine."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1655194843,"post_id":72581932,"comment_id":128268014,"body_markdown":"The answer in [this post](https://stackoverflow.com/a/14150769/1428606) seems to work for me, writing a JPEG with 4:4:4 (no chroma subsampling). The result has visually correct colors (close to the PNG/BMP). The JPEG is 467 bytes, compared to the 70 byte BMP and 76 byte PNG.","body":"The answer in <a href=\"https://stackoverflow.com/a/14150769/1428606\">this post</a> seems to work for me, writing a JPEG with 4:4:4 (no chroma subsampling). The result has visually correct colors (close to the PNG/BMP). The JPEG is 467 bytes, compared to the 70 byte BMP and 76 byte PNG."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654943285,"creation_date":1654942942,"answer_id":72583529,"question_id":72581932,"body_markdown":"To some degree the effect you describe is to be expected.\r\n\r\nFrom https://en.wikipedia.org/wiki/JPEG:\r\n\r\n&gt; JPEG is a commonly used method of lossy compression for digital\r\n&gt; images, particularly for those images produced by digital photography.\r\n&gt; The degree of compression can be adjusted, allowing a selectable\r\n&gt; tradeoff between storage size and image quality. JPEG typically\r\n&gt; achieves 10:1 compression with little perceptible loss in image\r\n&gt; quality.\r\n\r\nMaybe when storing small files you can set the compression to be low and thus increase quality. See https://stackoverflow.com/questions/17108234/setting-jpg-compression-level-with-imageio-in-java","title":"Why is the color of my image changed after writing it as a jpg file?","body":"<p>To some degree the effect you describe is to be expected.</p>\n<p>From <a href=\"https://en.wikipedia.org/wiki/JPEG\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/JPEG</a>:</p>\n<blockquote>\n<p>JPEG is a commonly used method of lossy compression for digital\nimages, particularly for those images produced by digital photography.\nThe degree of compression can be adjusted, allowing a selectable\ntradeoff between storage size and image quality. JPEG typically\nachieves 10:1 compression with little perceptible loss in image\nquality.</p>\n</blockquote>\n<p>Maybe when storing small files you can set the compression to be low and thus increase quality. See <a href=\"https://stackoverflow.com/questions/17108234/setting-jpg-compression-level-with-imageio-in-java\">Setting jpg compression level with ImageIO in Java</a></p>\n"},{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655132880,"creation_date":1655132880,"answer_id":72605116,"question_id":72581932,"body_markdown":"The reason for the strange colors is [YUV420][1] chroma subsumpling used by JPEG encoding. \r\n\r\nIn YUV420 every 2x2 pixels have the same chroma information (the 2x2 pixels have the same color).  \r\nThe 2x2 pixels have the same color, but each pixel has different luminance (brighness).  \r\n\r\n---\r\n\r\nThe YUV420 Chroma subsumpling is demonstrated in [Wikipedia][2]:   \r\n[![enter image description here][3]][3]  \r\n\r\nAnd in our case:  \r\n[![enter image description here][4]][4] becomes [![enter image description here][5]][5]  \r\nThe brown color is a mixture of the original red, cyan magenta and the yellow colors (the brown color is &quot;shared&quot; by the 4 pixels).\r\n\r\n---\r\n\r\n - Note:  \r\nChroma subsumpling is not considered as &quot;compression&quot;, is the sense that it not performed as part of the JPEG compression stage.  \r\nWe can&#39;t control the chroma subsumpling by setting the compression quality parameter.  \r\nChroma subsumpling is referred as part of the &quot;color format conversion&quot; pre-processing stage - converting from RGB to YUV420 color format.  \r\n\r\n---\r\n\r\nThe commonly used JPEG color format is YUV420, but JPEG standard does support YUV444 Chroma subsumpling.  \r\n[GIMP][6] manages to save JPEG images with YUV444 Chroma subsumpling.  \r\n\r\nExample (2x2 image):  \r\nToo small: [![enter image description here][7]][7]   Enlarged: [![enter image description here][8]][8]\r\n\r\nI couldn&#39;t find an example for saving YUV444 JPEG in JAVA...\r\n\r\n  [1]: https://en.wikipedia.org/wiki/YUV#Y%E2%80%B2UV420p_(and_Y%E2%80%B2V12_or_YV12)_to_RGB888_conversion\r\n  [2]: https://en.wikipedia.org/wiki/Chroma_subsampling\r\n  [3]: https://i.stack.imgur.com/u2Ewx.png\r\n  [4]: https://i.stack.imgur.com/g9r3E.png\r\n  [5]: https://i.stack.imgur.com/qP18N.png\r\n  [6]: https://www.gimp.org/\r\n  [7]: https://i.stack.imgur.com/SRfsk.jpg\r\n  [8]: https://i.stack.imgur.com/Xy6OG.jpg","title":"Why is the color of my image changed after writing it as a jpg file?","body":"<p>The reason for the strange colors is <a href=\"https://en.wikipedia.org/wiki/YUV#Y%E2%80%B2UV420p_(and_Y%E2%80%B2V12_or_YV12)_to_RGB888_conversion\" rel=\"nofollow noreferrer\">YUV420</a> chroma subsumpling used by JPEG encoding.</p>\n<p>In YUV420 every 2x2 pixels have the same chroma information (the 2x2 pixels have the same color).<br />\nThe 2x2 pixels have the same color, but each pixel has different luminance (brighness).</p>\n<hr />\n<p>The YUV420 Chroma subsumpling is demonstrated in <a href=\"https://en.wikipedia.org/wiki/Chroma_subsampling\" rel=\"nofollow noreferrer\">Wikipedia</a>:<br />\n<a href=\"https://i.stack.imgur.com/u2Ewx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2Ewx.png\" alt=\"enter image description here\" /></a></p>\n<p>And in our case:<br />\n<a href=\"https://i.stack.imgur.com/g9r3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g9r3E.png\" alt=\"enter image description here\" /></a> becomes <a href=\"https://i.stack.imgur.com/qP18N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qP18N.png\" alt=\"enter image description here\" /></a><br />\nThe brown color is a mixture of the original red, cyan magenta and the yellow colors (the brown color is &quot;shared&quot; by the 4 pixels).</p>\n<hr />\n<ul>\n<li>Note:<br />\nChroma subsumpling is not considered as &quot;compression&quot;, is the sense that it not performed as part of the JPEG compression stage.<br />\nWe can't control the chroma subsumpling by setting the compression quality parameter.<br />\nChroma subsumpling is referred as part of the &quot;color format conversion&quot; pre-processing stage - converting from RGB to YUV420 color format.</li>\n</ul>\n<hr />\n<p>The commonly used JPEG color format is YUV420, but JPEG standard does support YUV444 Chroma subsumpling.<br />\n<a href=\"https://www.gimp.org/\" rel=\"nofollow noreferrer\">GIMP</a> manages to save JPEG images with YUV444 Chroma subsumpling.</p>\n<p>Example (2x2 image):<br />\nToo small: <a href=\"https://i.stack.imgur.com/SRfsk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SRfsk.jpg\" alt=\"enter image description here\" /></a>   Enlarged: <a href=\"https://i.stack.imgur.com/Xy6OG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xy6OG.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I couldn't find an example for saving YUV444 JPEG in JAVA...</p>\n"}],"owner":{"account_id":19586972,"reputation":39,"user_id":14334886,"display_name":"d0nut"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72605116,"answer_count":2,"score":1,"last_activity_date":1655169058,"creation_date":1654924968,"question_id":72581932,"body_markdown":"I&#39;m currently making a method that converts a ppm file to a jpg, png, and bmp file. The way I did it is reading the content of a ppm file, creating a BufferedImage, and assigning each pixel from the ppm file to the corresponding pixel in the BufferedImage. My bmp and png files look correct. However, the jpg file looks completely different. \r\n\r\nBelow is my code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.DataBufferInt;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class readPPMOutputOthers {\r\n    \r\n      public static void main(String[] args) throws InterruptedException {\r\n        // read a ppm file\r\n    \r\n        Scanner sc;\r\n        // if the file is not found, it will throw an exception\r\n        try {\r\n          sc = new Scanner(new FileInputStream(&quot;res/test2.ppm&quot;));\r\n        } catch (FileNotFoundException e) {\r\n          throw new IllegalArgumentException(&quot;File not found!&quot;);\r\n        }\r\n    \r\n        // the file now is a StringBuilder\r\n        // read line by line to get information\r\n        StringBuilder builder = new StringBuilder();\r\n        while (sc.hasNextLine()) {\r\n          String s = sc.nextLine();\r\n          // ignore comment #\r\n          if (s.charAt(0) != &#39;#&#39;) {\r\n            builder.append(s).append(System.lineSeparator());\r\n          }\r\n        }\r\n    \r\n       \r\n        sc = new Scanner(builder.toString());\r\n        String token;\r\n        token = sc.next();\r\n    \r\n        // set the fields\r\n        // initial load image\r\n        int width = sc.nextInt();\r\n        int height = sc.nextInt();\r\n        int maxValue = sc.nextInt();\r\n    \r\n        List&lt;Integer&gt; pixels = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; height; i++) {\r\n          for (int j = 0; j &lt; width; j++) {\r\n            int r = sc.nextInt();\r\n            int g = sc.nextInt();\r\n            int b = sc.nextInt();\r\n    \r\n            int rgb = r;\r\n            rgb = (rgb &lt;&lt; 8) + g;\r\n            rgb = (rgb &lt;&lt; 8) + b;\r\n            pixels.add(rgb);\r\n          }\r\n        }\r\n    \r\n        // make a BufferedImage from pixels\r\n        BufferedImage outputImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n        int[] outputImagePixelData = ((DataBufferInt) outputImg.getRaster().getDataBuffer()).getData();\r\n    \r\n        for (int i = 0; i &lt; pixels.size(); i++) {\r\n          outputImagePixelData[i] = pixels.get(i);\r\n        }\r\n    \r\n        try {\r\n            ImageIO.write(outputImg, &quot;png&quot;,\r\n                new File(&quot;res/test.png&quot;));\r\n          ImageIO.write(outputImg, &quot;jpg&quot;,\r\n              new File(&quot;res/test2.jpg&quot;));\r\n            ImageIO.write(outputImg, &quot;bmp&quot;,\r\n                new File(&quot;res/test.bmp&quot;));\r\n        } catch (IOException e) {\r\n          System.out.println(&quot;Exception occurred :&quot; + e.getMessage());\r\n        }\r\n        System.out.println(&quot;Images were written successfully.&quot;);\r\n      }\r\n    }\r\n\r\n[images comparison][1]\r\n\r\nThe weird thing is it works for a very large image but not for this small image. I need to make it work for such small images because of testing. I&#39;ve been digging posts about this on google and still didn&#39;t find a way to solve this. Any help would be appreciated!\r\n\r\n  [1]: https://i.stack.imgur.com/GTrpa.png","title":"Why is the color of my image changed after writing it as a jpg file?","body":"<p>I'm currently making a method that converts a ppm file to a jpg, png, and bmp file. The way I did it is reading the content of a ppm file, creating a BufferedImage, and assigning each pixel from the ppm file to the corresponding pixel in the BufferedImage. My bmp and png files look correct. However, the jpg file looks completely different.</p>\n<p>Below is my code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.DataBufferInt;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport javax.imageio.ImageIO;\n\npublic class readPPMOutputOthers {\n\n  public static void main(String[] args) throws InterruptedException {\n    // read a ppm file\n\n    Scanner sc;\n    // if the file is not found, it will throw an exception\n    try {\n      sc = new Scanner(new FileInputStream(&quot;res/test2.ppm&quot;));\n    } catch (FileNotFoundException e) {\n      throw new IllegalArgumentException(&quot;File not found!&quot;);\n    }\n\n    // the file now is a StringBuilder\n    // read line by line to get information\n    StringBuilder builder = new StringBuilder();\n    while (sc.hasNextLine()) {\n      String s = sc.nextLine();\n      // ignore comment #\n      if (s.charAt(0) != '#') {\n        builder.append(s).append(System.lineSeparator());\n      }\n    }\n\n   \n    sc = new Scanner(builder.toString());\n    String token;\n    token = sc.next();\n\n    // set the fields\n    // initial load image\n    int width = sc.nextInt();\n    int height = sc.nextInt();\n    int maxValue = sc.nextInt();\n\n    List&lt;Integer&gt; pixels = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; height; i++) {\n      for (int j = 0; j &lt; width; j++) {\n        int r = sc.nextInt();\n        int g = sc.nextInt();\n        int b = sc.nextInt();\n\n        int rgb = r;\n        rgb = (rgb &lt;&lt; 8) + g;\n        rgb = (rgb &lt;&lt; 8) + b;\n        pixels.add(rgb);\n      }\n    }\n\n    // make a BufferedImage from pixels\n    BufferedImage outputImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    int[] outputImagePixelData = ((DataBufferInt) outputImg.getRaster().getDataBuffer()).getData();\n\n    for (int i = 0; i &lt; pixels.size(); i++) {\n      outputImagePixelData[i] = pixels.get(i);\n    }\n\n    try {\n        ImageIO.write(outputImg, &quot;png&quot;,\n            new File(&quot;res/test.png&quot;));\n      ImageIO.write(outputImg, &quot;jpg&quot;,\n          new File(&quot;res/test2.jpg&quot;));\n        ImageIO.write(outputImg, &quot;bmp&quot;,\n            new File(&quot;res/test.bmp&quot;));\n    } catch (IOException e) {\n      System.out.println(&quot;Exception occurred :&quot; + e.getMessage());\n    }\n    System.out.println(&quot;Images were written successfully.&quot;);\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GTrpa.png\" rel=\"nofollow noreferrer\">images comparison</a></p>\n<p>The weird thing is it works for a very large image but not for this small image. I need to make it work for such small images because of testing. I've been digging posts about this on google and still didn't find a way to solve this. Any help would be appreciated!</p>\n"},{"tags":["java","c#","recursion","text","permutation"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1655071697,"post_id":72596143,"comment_id":128237402,"body_markdown":"You forget to share your attempt and describe a problem that you&#39;ve encountered. It&#39;s mandatory if you expect to get feedback on your question.","body":"You forget to share your attempt and describe a problem that you&#39;ve encountered. It&#39;s mandatory if you expect to get feedback on your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655072680,"post_id":72596143,"comment_id":128237542,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1655095515,"post_id":72596143,"comment_id":128240249,"body_markdown":"Modify [my answer here](https://stackoverflow.com/a/71534134/2330053). It&#39;s basically the same problem.","body":"Modify <a href=\"https://stackoverflow.com/a/71534134/2330053\">my answer here</a>. It&#39;s basically the same problem."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655096454,"creation_date":1655096454,"answer_id":72597945,"question_id":72596143,"body_markdown":"Here&#39;s my code [from this PAQ](https://stackoverflow.com/questions/71530527/java-generate-all-possible-permutations-from-multiple-arrays/71534134#71534134) modified for chars:\r\n\r\n\timport java.util.*;\r\n\timport java.util.ArrayList;\r\n\r\n\tclass Main {\r\n\t \r\n\t  public static void main(String[] args) {   \r\n\t\tArrayList&lt;ArrayList&lt;Character&gt;&gt; conditions = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\r\n\t\tArrayList&lt;Character&gt; condition1 = new ArrayList&lt;Character&gt;();\r\n\t\tcondition1.add(&#39;1&#39;);\r\n\t\tcondition1.add(&#39;2&#39;);\r\n\t\tcondition1.add(&#39;3&#39;);\r\n\t\tconditions.add(condition1);\r\n\t\tArrayList&lt;Character&gt; condition2 = new ArrayList&lt;Character&gt;();\r\n\t\tcondition2.add(&#39;a&#39;);\r\n\t\tcondition2.add(&#39;b&#39;);\r\n\t\tcondition2.add(&#39;c&#39;);\r\n\t\tcondition2.add(&#39;d&#39;);\r\n\t\tcondition2.add(&#39;\\0&#39;);\r\n\t\tconditions.add(condition2);\r\n\t\tArrayList&lt;Character&gt; condition3 = new ArrayList&lt;Character&gt;();\r\n\t\tcondition3.add(&#39;!&#39;);\r\n\t\tcondition3.add(&#39;#&#39;);\r\n\t\tconditions.add(condition3);\r\n\r\n\t\tSystem.out.println(&quot;Input Data:&quot;);\r\n\t\tdisplay(conditions);\r\n\t\t\r\n\t\tSystem.out.println();    \r\n\t\tArrayList&lt;ArrayList&lt;Character&gt;&gt; combos = findOptimalPairs(conditions);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Output Data:&quot;);\r\n\t\tdisplay(combos);\r\n\t  }\r\n\r\n\t  public static void display(ArrayList&lt;ArrayList&lt;Character&gt;&gt; data) {\r\n\t\tfor(ArrayList&lt;Character&gt; set : data) {\r\n\t\t  for(int i=0; i&lt;set.size(); i++) {\r\n\t\t\tSystem.out.print(set.get(i));        \r\n\t\t  }\r\n\t\t  System.out.println();\r\n\t\t}\r\n\t  }\r\n\t  \r\n\t  public static ArrayList&lt;ArrayList&lt;Character&gt;&gt; findOptimalPairs(ArrayList&lt;ArrayList&lt;Character&gt;&gt; conditions) {\r\n\t\tArrayList&lt;ArrayList&lt;Character&gt;&gt; combos = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\r\n\t\t\r\n\t\tint combinations = 1;\r\n\t\tint[] setSize = new int[conditions.size()];\r\n\t\tfor(int i=0; i&lt;conditions.size(); i++) {\r\n\t\t  ArrayList&lt;Character&gt; set = conditions.get(i);\r\n\t\t  int size = set.size();\r\n\t\t  setSize[i] = size;\r\n\t\t  combinations = combinations * size;\r\n\t\t}\r\n\r\n\t\tint[] counters = new int[setSize.length];\r\n\t\tfor(int i=0; i&lt;combinations; i++) {\r\n\t\t  ArrayList&lt;Character&gt; combo = new ArrayList&lt;Character&gt;();      \r\n\t\t  for(int j=0; j&lt;counters.length; j++) {\r\n\t\t\tcombo.add(conditions.get(j).get(counters[j]));\r\n\t\t  }\r\n\t\t  combos.add(combo);\r\n\t\t  \r\n\t\t  for(int j=0; j&lt;counters.length; j++) {\r\n\t\t\tif (counters[j]&lt;(setSize[j]-1)) {\r\n\t\t\t  counters[j]++;\r\n\t\t\t  break;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t  counters[j] = 0;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\treturn combos;\r\n\t  }\r\n\t  \r\n\t}\r\n\r\nProducing the output:\r\n\r\n    Input Data:\r\n\t123\r\n\tabcd\r\n\t!#\r\n\r\n\tOutput Data:\r\n\t1a!\r\n\t2a!\r\n\t3a!\r\n\t1b!\r\n\t2b!\r\n\t3b!\r\n\t1c!\r\n\t2c!\r\n\t3c!\r\n\t1d!\r\n\t2d!\r\n\t3d!\r\n\t1!\r\n\t2!\r\n\t3!\r\n\t1a#\r\n\t2a#\r\n\t3a#\r\n\t1b#\r\n\t2b#\r\n\t3b#\r\n\t1c#\r\n\t2c#\r\n\t3c#\r\n\t1d#\r\n\t2d#\r\n\t3d#\r\n\t1#\r\n\t2#\r\n\t3#\r\n","title":"Generate Permutations with Placeholders and Options","body":"<p>Here's my code <a href=\"https://stackoverflow.com/questions/71530527/java-generate-all-possible-permutations-from-multiple-arrays/71534134#71534134\">from this PAQ</a> modified for chars:</p>\n<pre><code>import java.util.*;\nimport java.util.ArrayList;\n\nclass Main {\n \n  public static void main(String[] args) {   \n    ArrayList&lt;ArrayList&lt;Character&gt;&gt; conditions = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\n    ArrayList&lt;Character&gt; condition1 = new ArrayList&lt;Character&gt;();\n    condition1.add('1');\n    condition1.add('2');\n    condition1.add('3');\n    conditions.add(condition1);\n    ArrayList&lt;Character&gt; condition2 = new ArrayList&lt;Character&gt;();\n    condition2.add('a');\n    condition2.add('b');\n    condition2.add('c');\n    condition2.add('d');\n    condition2.add('\\0');\n    conditions.add(condition2);\n    ArrayList&lt;Character&gt; condition3 = new ArrayList&lt;Character&gt;();\n    condition3.add('!');\n    condition3.add('#');\n    conditions.add(condition3);\n\n    System.out.println(&quot;Input Data:&quot;);\n    display(conditions);\n    \n    System.out.println();    \n    ArrayList&lt;ArrayList&lt;Character&gt;&gt; combos = findOptimalPairs(conditions);\n    \n    System.out.println(&quot;Output Data:&quot;);\n    display(combos);\n  }\n\n  public static void display(ArrayList&lt;ArrayList&lt;Character&gt;&gt; data) {\n    for(ArrayList&lt;Character&gt; set : data) {\n      for(int i=0; i&lt;set.size(); i++) {\n        System.out.print(set.get(i));        \n      }\n      System.out.println();\n    }\n  }\n  \n  public static ArrayList&lt;ArrayList&lt;Character&gt;&gt; findOptimalPairs(ArrayList&lt;ArrayList&lt;Character&gt;&gt; conditions) {\n    ArrayList&lt;ArrayList&lt;Character&gt;&gt; combos = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;();\n    \n    int combinations = 1;\n    int[] setSize = new int[conditions.size()];\n    for(int i=0; i&lt;conditions.size(); i++) {\n      ArrayList&lt;Character&gt; set = conditions.get(i);\n      int size = set.size();\n      setSize[i] = size;\n      combinations = combinations * size;\n    }\n\n    int[] counters = new int[setSize.length];\n    for(int i=0; i&lt;combinations; i++) {\n      ArrayList&lt;Character&gt; combo = new ArrayList&lt;Character&gt;();      \n      for(int j=0; j&lt;counters.length; j++) {\n        combo.add(conditions.get(j).get(counters[j]));\n      }\n      combos.add(combo);\n      \n      for(int j=0; j&lt;counters.length; j++) {\n        if (counters[j]&lt;(setSize[j]-1)) {\n          counters[j]++;\n          break;\n        }\n        else {\n          counters[j] = 0;\n        }\n      }\n    }\n    \n    return combos;\n  }\n  \n}\n</code></pre>\n<p>Producing the output:</p>\n<pre><code>Input Data:\n123\nabcd\n!#\n\nOutput Data:\n1a!\n2a!\n3a!\n1b!\n2b!\n3b!\n1c!\n2c!\n3c!\n1d!\n2d!\n3d!\n1!\n2!\n3!\n1a#\n2a#\n3a#\n1b#\n2b#\n3b#\n1c#\n2c#\n3c#\n1d#\n2d#\n3d#\n1#\n2#\n3#\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25539559,"reputation":7,"user_id":19325909,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655168874,"creation_date":1655164035,"answer_id":72610150,"question_id":72596143,"body_markdown":"Here is one solution that I thought of.\r\n\r\nany ideas for performance **optimization**?\r\n\r\n    using System;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using System.Text;\r\n\r\n    public class WordGen\r\n    {\r\n        public WordGen(string[][] Options)\r\n        {\r\n            this.options = Options;\r\n            this.words = new List&lt;string&gt;();\r\n            this.optionsCounter = countAllOptions();\r\n        }\r\n    \r\n        private string[][] options;\r\n\r\n        private long optionsCounter;\r\n\r\n        private Dictionary&lt;int, int&gt; optionsPointers;\r\n\r\n        private bool endofOptions;\r\n\r\n        private List&lt;string&gt; words;\r\n\r\n        private long countAllOptions()\r\n        {\r\n            long optionsCount = 1;\r\n            foreach (string[] g in options)\r\n            {\r\n                optionsCount *= g.Length;\r\n            }\r\n    \r\n            return optionsCount;\r\n        }\r\n        private void intOptionPointers()\r\n        {\r\n            optionsPointers = new Dictionary&lt;int, int&gt;();\r\n            for (int i = 0; i &lt;= options.Length - 1; i++)\r\n            {\r\n                optionsPointers.Add(i, 0);\r\n            }\r\n        }\r\n\r\n        private void zeroOptionsPointers()\r\n        {\r\n            for (int i = options.Length - 1; i &gt;= 0; i--)\r\n            {\r\n                if (optionsPointers[i] == options[i].Length - 1)\r\n                {\r\n                    if (i == 0)\r\n                        endofOptions = true;\r\n                    else\r\n                        optionsPointers[i] = 0;\r\n                }\r\n                else\r\n                {\r\n                    optionsPointers[i]++;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        private void removeSkipChars()\r\n        {\r\n            IEnumerable&lt;string&gt; wordsWithsSkipChars = this.words.Where(w =&gt; w.Contains(&#39;-&#39;));\r\n            foreach (string word in wordsWithsSkipChars)\r\n            {\r\n                int index = words.IndexOf(word);\r\n                words[index] = word.Trim(&#39;-&#39;);\r\n            }\r\n        }\r\n\r\n        private void buildWordsRec(StringBuilder word, int grpIndx)\r\n        {\r\n            int grpIndex = grpIndx;\r\n            while (!this.endofOptions)\r\n            {\r\n                //last group\r\n                if (grpIndex == options.Length - 1)\r\n                {\r\n                    string fullWord = word.ToString() + options[grpIndex][optionsPointers[grpIndex]];\r\n                    words.Add(fullWord);\r\n                    System.Console.WriteLine(&quot;word: &quot; + fullWord + &quot; as &quot; + words.Count + &quot; out of &quot; + this.optionsCounter);\r\n\r\n                    //last element\r\n                    if (optionsPointers[grpIndex] == options[grpIndex].Length - 1)\r\n                    {\r\n                        word.Clear();\r\n                        zeroOptionsPointers();\r\n                        grpIndex = 0;\r\n                    }\r\n                    else\r\n                    {\r\n                        optionsPointers[grpIndex]++;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    word.Append(options[grpIndex][optionsPointers[grpIndex]]);\r\n                    grpIndex++;\r\n                }\r\n            }\r\n        }\r\n\r\n        public List&lt;string&gt; GenerateWords()\r\n        {\r\n            StringBuilder word = new StringBuilder();\r\n            intOptionPointers();\r\n            buildWordsRec(word, 0);\r\n            removeSkipChars();\r\n            this.endofOptions = false;\r\n    \r\n            return words;\r\n        }\r\n        public void WriteWordsToFile(string path)\r\n        {\r\n            System.IO.File.AppendAllLines(path, this.words);\r\n        }\r\n        public List&lt;string&gt; Words\r\n        {\r\n            get { return words; }\r\n        }\r\n    }\r\n\r\n    internal class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            string[] group1 = new string[] { &quot;1&quot;,&quot;2&quot;,&quot;3&quot; };\r\n\r\n            string[] group2 = new string[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;-&quot; };//&quot;-&quot; is act as Skip keyword\r\n            string[] group3 = new string[] { &quot;!&quot;, &quot;#&quot;};\r\n\r\n            string[][] options = new string[][] { group1, group2, group3 };\r\n\r\n            WordGen pw = new WordGen(options);\r\n\r\n            pw.GenerateWords();\r\n            pw.WriteWordsToFile(&quot;D:\\\\words.txt&quot;);\r\n\r\n            System.Console.Read();\r\n        }\r\n    }","title":"Generate Permutations with Placeholders and Options","body":"<p>Here is one solution that I thought of.</p>\n<p>any ideas for performance <strong>optimization</strong>?</p>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\npublic class WordGen\n{\n    public WordGen(string[][] Options)\n    {\n        this.options = Options;\n        this.words = new List&lt;string&gt;();\n        this.optionsCounter = countAllOptions();\n    }\n\n    private string[][] options;\n\n    private long optionsCounter;\n\n    private Dictionary&lt;int, int&gt; optionsPointers;\n\n    private bool endofOptions;\n\n    private List&lt;string&gt; words;\n\n    private long countAllOptions()\n    {\n        long optionsCount = 1;\n        foreach (string[] g in options)\n        {\n            optionsCount *= g.Length;\n        }\n\n        return optionsCount;\n    }\n    private void intOptionPointers()\n    {\n        optionsPointers = new Dictionary&lt;int, int&gt;();\n        for (int i = 0; i &lt;= options.Length - 1; i++)\n        {\n            optionsPointers.Add(i, 0);\n        }\n    }\n\n    private void zeroOptionsPointers()\n    {\n        for (int i = options.Length - 1; i &gt;= 0; i--)\n        {\n            if (optionsPointers[i] == options[i].Length - 1)\n            {\n                if (i == 0)\n                    endofOptions = true;\n                else\n                    optionsPointers[i] = 0;\n            }\n            else\n            {\n                optionsPointers[i]++;\n                return;\n            }\n        }\n    }\n\n    private void removeSkipChars()\n    {\n        IEnumerable&lt;string&gt; wordsWithsSkipChars = this.words.Where(w =&gt; w.Contains('-'));\n        foreach (string word in wordsWithsSkipChars)\n        {\n            int index = words.IndexOf(word);\n            words[index] = word.Trim('-');\n        }\n    }\n\n    private void buildWordsRec(StringBuilder word, int grpIndx)\n    {\n        int grpIndex = grpIndx;\n        while (!this.endofOptions)\n        {\n            //last group\n            if (grpIndex == options.Length - 1)\n            {\n                string fullWord = word.ToString() + options[grpIndex][optionsPointers[grpIndex]];\n                words.Add(fullWord);\n                System.Console.WriteLine(&quot;word: &quot; + fullWord + &quot; as &quot; + words.Count + &quot; out of &quot; + this.optionsCounter);\n\n                //last element\n                if (optionsPointers[grpIndex] == options[grpIndex].Length - 1)\n                {\n                    word.Clear();\n                    zeroOptionsPointers();\n                    grpIndex = 0;\n                }\n                else\n                {\n                    optionsPointers[grpIndex]++;\n                }\n            }\n            else\n            {\n                word.Append(options[grpIndex][optionsPointers[grpIndex]]);\n                grpIndex++;\n            }\n        }\n    }\n\n    public List&lt;string&gt; GenerateWords()\n    {\n        StringBuilder word = new StringBuilder();\n        intOptionPointers();\n        buildWordsRec(word, 0);\n        removeSkipChars();\n        this.endofOptions = false;\n\n        return words;\n    }\n    public void WriteWordsToFile(string path)\n    {\n        System.IO.File.AppendAllLines(path, this.words);\n    }\n    public List&lt;string&gt; Words\n    {\n        get { return words; }\n    }\n}\n\ninternal class Program\n{\n    static void Main(string[] args)\n    {\n        string[] group1 = new string[] { &quot;1&quot;,&quot;2&quot;,&quot;3&quot; };\n\n        string[] group2 = new string[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;-&quot; };//&quot;-&quot; is act as Skip keyword\n        string[] group3 = new string[] { &quot;!&quot;, &quot;#&quot;};\n\n        string[][] options = new string[][] { group1, group2, group3 };\n\n        WordGen pw = new WordGen(options);\n\n        pw.GenerateWords();\n        pw.WriteWordsToFile(&quot;D:\\\\words.txt&quot;);\n\n        System.Console.Read();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25539559,"reputation":7,"user_id":19325909,"display_name":"Uri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1655168874,"creation_date":1655070630,"question_id":72596143,"body_markdown":"A bit complex challenge in Permutations for talented guys :) \r\n\r\nLet&#39;s say we want to generate a **Word** using **Placeholders** (masks) for each part of the word.\r\n\r\nIn a word, we could have **N Predefined** placeholders (masks), let&#39;s call them **Groups**. \r\n\r\nIn each group we can have **M values** as options for the placeholder, let&#39;s call them **Elements**.\r\n\r\nFor instant, given a 3 parts word: **[X][Y][Z]**. \r\n\r\n[X] is a mask corresponding to the X Group.\r\nmeaning each Element (value) from the X Group \r\n\r\nwill take place in the permutations word.\r\n\r\nsame for Y and Z.\r\n\r\nA concrete example for the 3 parts word is **1a!** \r\nout of **30** permutations of the following Groups and Elements below.\r\n\r\nPlease notice:\r\n1. Order is important, GroupX then GroupY and so..\r\n2. Group can have a **&quot;skip&quot;** option like Group &quot;Y&quot; in this example, \r\nwhich means that permutations should also include a word from the type: **[X][Z]** \r\n3. Total Permutations are Group1 X Group2 X G_n \r\n(or in this example GroupX X GroupY X GroupZ)\r\n\r\n\r\n**GroupX: 1, 2, 3**\r\n\r\n**GroupY: a, b, c, d, *Skip***\r\n\r\n**GroupZ: !, #**\r\n\r\n\r\nAll the 30 permutations for [X][Y][Z] are:\r\n\r\n1a!,\r\n1a#,\r\n1b!,\r\n1b#,\r\n1c!,\r\n1c#,\r\n1d!,\r\n1d#,\r\n2a!,\r\n2a#,\r\n2b!,\r\n2b#,\r\n2c!,\r\n2c#,\r\n2d!,\r\n2d#,\r\n3a!,\r\n3a#,\r\n3b!,\r\n3b#,\r\n3c!,\r\n3c#,\r\n3d!,\r\n3d#\r\n\r\nAnd also because the &quot;skip&quot; of group Y we will have those permutations:\r\n\r\n1!,\r\n1#,\r\n2!,\r\n2#,\r\n3!,\r\n3#, ","title":"Generate Permutations with Placeholders and Options","body":"<p>A bit complex challenge in Permutations for talented guys :)</p>\n<p>Let's say we want to generate a <strong>Word</strong> using <strong>Placeholders</strong> (masks) for each part of the word.</p>\n<p>In a word, we could have <strong>N Predefined</strong> placeholders (masks), let's call them <strong>Groups</strong>.</p>\n<p>In each group we can have <strong>M values</strong> as options for the placeholder, let's call them <strong>Elements</strong>.</p>\n<p>For instant, given a 3 parts word: <strong>[X][Y][Z]</strong>.</p>\n<p>[X] is a mask corresponding to the X Group.\nmeaning each Element (value) from the X Group</p>\n<p>will take place in the permutations word.</p>\n<p>same for Y and Z.</p>\n<p>A concrete example for the 3 parts word is <strong>1a!</strong>\nout of <strong>30</strong> permutations of the following Groups and Elements below.</p>\n<p>Please notice:</p>\n<ol>\n<li>Order is important, GroupX then GroupY and so..</li>\n<li>Group can have a <strong>&quot;skip&quot;</strong> option like Group &quot;Y&quot; in this example,\nwhich means that permutations should also include a word from the type: <strong>[X][Z]</strong></li>\n<li>Total Permutations are Group1 X Group2 X G_n\n(or in this example GroupX X GroupY X GroupZ)</li>\n</ol>\n<p><strong>GroupX: 1, 2, 3</strong></p>\n<p><strong>GroupY: a, b, c, d, <em>Skip</em></strong></p>\n<p><strong>GroupZ: !, #</strong></p>\n<p>All the 30 permutations for [X][Y][Z] are:</p>\n<p>1a!,\n1a#,\n1b!,\n1b#,\n1c!,\n1c#,\n1d!,\n1d#,\n2a!,\n2a#,\n2b!,\n2b#,\n2c!,\n2c#,\n2d!,\n2d#,\n3a!,\n3a#,\n3b!,\n3b#,\n3c!,\n3c#,\n3d!,\n3d#</p>\n<p>And also because the &quot;skip&quot; of group Y we will have those permutations:</p>\n<p>1!,\n1#,\n2!,\n2#,\n3!,\n3#,</p>\n"},{"tags":["java","swing","user-interface","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655166212,"post_id":72610295,"comment_id":128262382,"body_markdown":"There is a difference between &quot;components&quot;, like `JPanel` and graphics primitives, like `Rectangle`.  My first guess is, you don&#39;t actually need `Rectangle`, instead you need to create custom `JPanel`s instead and use those, then you can make use of layout managers to organise them","body":"There is a difference between &quot;components&quot;, like <code>JPanel</code> and graphics primitives, like <code>Rectangle</code>.  My first guess is, you don&#39;t actually need <code>Rectangle</code>, instead you need to create custom <code>JPanel</code>s instead and use those, then you can make use of layout managers to organise them"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655168671,"creation_date":1655167100,"answer_id":72610382,"question_id":72610295,"body_markdown":"In your first scenario, the default layout manager of the frame is the `BorderLayout` and you are adding your &quot;g&quot; panel to the BorderLayout.CENTER. So based on the rules of the BorderLayout your &quot;g&quot; panel will take up all the space available in the frame. So you have plenty of space to paint your rectangle.\r\n\r\nHowever, in your second scenario, your &quot;layout&quot; panel is using the default layout manager of a `JPanel` which is a `FlowLayout` which respects the preferred size of any component added to it. \r\n\r\nThe preferred size of the &quot;g&quot; panel is 10 x 10. So, when you add the &quot;g&quot; panel to the &quot;layout&quot; panel there is nothing to see because all you custom painting is done outside the bounds of the panel.\r\n\r\nYou need to override the `getPreferredSize()` method of your GUI panel to return a preferred size of (120, 120) so you can see your rectangle painted with a 10 pixel border around all the edges.\r\n\r\nRead the section from the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information and working examples demonstrating how to override the `getPreferredSize() method.\r\n\r\nYou will also need to read the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for example of using the constraints to add multiple components. ","title":"Can I add a rectangle to a Jpanel in java swing and specify constraints for it using GridBagConstraints?","body":"<p>In your first scenario, the default layout manager of the frame is the <code>BorderLayout</code> and you are adding your &quot;g&quot; panel to the BorderLayout.CENTER. So based on the rules of the BorderLayout your &quot;g&quot; panel will take up all the space available in the frame. So you have plenty of space to paint your rectangle.</p>\n<p>However, in your second scenario, your &quot;layout&quot; panel is using the default layout manager of a <code>JPanel</code> which is a <code>FlowLayout</code> which respects the preferred size of any component added to it.</p>\n<p>The preferred size of the &quot;g&quot; panel is 10 x 10. So, when you add the &quot;g&quot; panel to the &quot;layout&quot; panel there is nothing to see because all you custom painting is done outside the bounds of the panel.</p>\n<p>You need to override the <code>getPreferredSize()</code> method of your GUI panel to return a preferred size of (120, 120) so you can see your rectangle painted with a 10 pixel border around all the edges.</p>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information and working examples demonstrating how to override the `getPreferredSize() method.</p>\n<p>You will also need to read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for example of using the constraints to add multiple components.</p>\n"}],"owner":{"account_id":25548851,"reputation":1,"user_id":19333630,"display_name":"mattiman18"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655168671,"creation_date":1655165871,"question_id":72610295,"body_markdown":"I&#39;m pretty new to GUI and Java as a whole so I hope that I can explain this well enough and understand people&#39;s answers.\r\n\r\nFor a school project, I need to put a bunch of stuff on some rectangles but I&#39;m having issues even adding one rectangle properly. \r\n\r\nFrom researching online, this is what I have (the JPanel and GridBagConstraints are just there to show what I&#39;d like to use):\r\n\r\n    public class GUI extends JPanel \r\n    {\r\n    \r\n    \tpublic static void main (String [] args)\r\n    \t{\r\n    \t\tGUI g = new GUI();\r\n    \t\t\r\n    \t\tJFrame window = new JFrame(&quot;Java Window&quot;); \r\n    \t\twindow.setSize(1280, 960); \r\n            window.add(g);\r\n            window.setVisible(true);\r\n    \t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n    \t\t\r\n    \t\tJPanel layout = new JPanel(new GridBagLayout()); \r\n    \t\tGridBagConstraints constraints = new GridBagConstraints(); \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tColor boxColour = new Color(194, 190, 190);\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tg.setColor(boxColour);\r\n    \t\tg.fillRect(10, 10, 100, 100);\r\n    \t}\r\n    \r\n    }\r\n\r\nSo right now, the rectangle appears in the window. But how can I add constraints to it? Is that possible? I would think that I should use JPanel to keep everything more organized since there will be many components so I tried adding this:\r\n\r\n    layout.add(g);\r\n\twindow.add(layout);\r\n\twindow.setVisible(true);\r\nHowever, the rectangle no longer appeared. What am I doing wrong and how can I fix it and add constraints to my shapes? Thanks!","title":"Can I add a rectangle to a Jpanel in java swing and specify constraints for it using GridBagConstraints?","body":"<p>I'm pretty new to GUI and Java as a whole so I hope that I can explain this well enough and understand people's answers.</p>\n<p>For a school project, I need to put a bunch of stuff on some rectangles but I'm having issues even adding one rectangle properly.</p>\n<p>From researching online, this is what I have (the JPanel and GridBagConstraints are just there to show what I'd like to use):</p>\n<pre><code>public class GUI extends JPanel \n{\n\n    public static void main (String [] args)\n    {\n        GUI g = new GUI();\n        \n        JFrame window = new JFrame(&quot;Java Window&quot;); \n        window.setSize(1280, 960); \n        window.add(g);\n        window.setVisible(true);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        \n        JPanel layout = new JPanel(new GridBagLayout()); \n        GridBagConstraints constraints = new GridBagConstraints(); \n    }\n    \n    @Override\n    public void paintComponent(Graphics g)\n    {\n        Color boxColour = new Color(194, 190, 190);\n        super.paintComponent(g);\n        g.setColor(boxColour);\n        g.fillRect(10, 10, 100, 100);\n    }\n\n}\n</code></pre>\n<p>So right now, the rectangle appears in the window. But how can I add constraints to it? Is that possible? I would think that I should use JPanel to keep everything more organized since there will be many components so I tried adding this:</p>\n<pre><code>layout.add(g);\nwindow.add(layout);\nwindow.setVisible(true);\n</code></pre>\n<p>However, the rectangle no longer appeared. What am I doing wrong and how can I fix it and add constraints to my shapes? Thanks!</p>\n"},{"tags":["java","docker","runtime","exec","docker-run"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1655167806,"post_id":72610285,"comment_id":128262593,"body_markdown":"I&#39;d suggest using a [Docker SDK](https://docs.docker.com/engine/api/sdk/) over trying to run the `docker` CLI as a subprocess.  Is there anything interesting on the subprocess&#39;s stderr?  Can you use `Runtime.exec(String[])` to remove any ambiguity around quoting and shell parsing (and potential shell-injection attacks)?","body":"I&#39;d suggest using a <a href=\"https://docs.docker.com/engine/api/sdk/\" rel=\"nofollow noreferrer\">Docker SDK</a> over trying to run the <code>docker</code> CLI as a subprocess.  Is there anything interesting on the subprocess&#39;s stderr?  Can you use <code>Runtime.exec(String[])</code> to remove any ambiguity around quoting and shell parsing (and potential shell-injection attacks)?"},{"owner":{"account_id":20233069,"reputation":13,"user_id":14839088,"display_name":"OpenSource"},"score":0,"creation_date":1655168258,"post_id":72610285,"comment_id":128262661,"body_markdown":"Hi and thank you very much for your suggestion. It seems like the issue was that I had \\&quot; in the command. For whatever reason, when running the command from Java it is possible to run it without quotes, but when running in terminal, the directory path must be inside quotes. I was easily able to find the issue using the stderr. Forgot that it exists &#128517;. And yes, don&#39;t worry, this was just a sample code for testing purposes.","body":"Hi and thank you very much for your suggestion. It seems like the issue was that I had \\&quot; in the command. For whatever reason, when running the command from Java it is possible to run it without quotes, but when running in terminal, the directory path must be inside quotes. I was easily able to find the issue using the stderr. Forgot that it exists 😅. And yes, don&#39;t worry, this was just a sample code for testing purposes."}],"answers":[{"tags":[],"owner":{"account_id":20233069,"reputation":13,"user_id":14839088,"display_name":"OpenSource"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655168412,"creation_date":1655168412,"answer_id":72610476,"question_id":72610285,"body_markdown":"The issue seems to be the fact I used \\&quot;, but it was not required, and furthermore, it caused issues. While with docker command in terminal quotes seem to be required, in Java, it seems to be the opposite.\r\n\r\nFor anyone with a similar problem, I&#39;d suggest also checking out `p.getErrorStream()` and proceed debugging errors from there.","title":"Can&#39;t mount Docker volume from Java","body":"<p>The issue seems to be the fact I used &quot;, but it was not required, and furthermore, it caused issues. While with docker command in terminal quotes seem to be required, in Java, it seems to be the opposite.</p>\n<p>For anyone with a similar problem, I'd suggest also checking out <code>p.getErrorStream()</code> and proceed debugging errors from there.</p>\n"}],"owner":{"account_id":20233069,"reputation":13,"user_id":14839088,"display_name":"OpenSource"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655168412,"creation_date":1655165702,"question_id":72610285,"body_markdown":"**My working environment is macOS 12.**&lt;br&gt;\r\n**UPDATE: Ubuntu 20.04 has the same issue.**\r\n\r\nI&#39;m trying to create a Docker container and mount a volume to it.\r\n\r\nHere&#39;s what I tried:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            var p = Runtime.getRuntime().exec(&quot;docker run -d -it -v \\&quot;/Users/myname/Documents/MC_Servers/BungeeCord/plugins/PlayerServers/servers/OpenSourcee:/data\\&quot; -p 32348:32348 -e TYPE=PAPER -e ONLINE_MODE=false -e SERVER_PORT=32348 -e EULA=TRUE -e VERSION=1.8.8 --name OpenSourcee itzg/minecraft-server&quot;, null, null);\r\n    \r\n            // Read the output from the command\r\n            var reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n    \r\n            System.out.println(p.waitFor());\r\n        }\r\n    }\r\n\r\nThe output seems to be empty, and the exit value is 125\r\n\r\nInterestingly enough, if I do the same, but without &lt;br&gt;&lt;br&gt;\r\n`-v \\&quot;/Users/myname/Documents/MC_Servers/BungeeCord/plugins/PlayerServers/servers/OpenSourcee:/data\\&quot;`&lt;br&gt;&lt;br&gt;\r\nit works without any issues. As an example, the following works:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            var p = Runtime.getRuntime().exec(&quot;docker run -d -it -p 32348:32348 -e TYPE=PAPER -e ONLINE_MODE=false -e SERVER_PORT=32348 -e EULA=TRUE -e VERSION=1.8.8 --name OpenSourcee itzg/minecraft-server&quot;, null, null);\r\n    \r\n            // Read the output from the command\r\n            var reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n    \r\n            System.out.println(p.waitFor());\r\n        }\r\n    }\r\n\r\nI did also try to manually execute the command from the first block and it works without any issues, however, it does not work from Java. I&#39;m guessing it may be some kind of permission issue or something...?","title":"Can&#39;t mount Docker volume from Java","body":"<p><strong>My working environment is macOS 12.</strong><br>\n<strong>UPDATE: Ubuntu 20.04 has the same issue.</strong></p>\n<p>I'm trying to create a Docker container and mount a volume to it.</p>\n<p>Here's what I tried:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        var p = Runtime.getRuntime().exec(&quot;docker run -d -it -v \\&quot;/Users/myname/Documents/MC_Servers/BungeeCord/plugins/PlayerServers/servers/OpenSourcee:/data\\&quot; -p 32348:32348 -e TYPE=PAPER -e ONLINE_MODE=false -e SERVER_PORT=32348 -e EULA=TRUE -e VERSION=1.8.8 --name OpenSourcee itzg/minecraft-server&quot;, null, null);\n\n        // Read the output from the command\n        var reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n\n        System.out.println(p.waitFor());\n    }\n}\n</code></pre>\n<p>The output seems to be empty, and the exit value is 125</p>\n<p>Interestingly enough, if I do the same, but without <br><br>\n<code>-v \\&quot;/Users/myname/Documents/MC_Servers/BungeeCord/plugins/PlayerServers/servers/OpenSourcee:/data\\&quot;</code><br><br>\nit works without any issues. As an example, the following works:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        var p = Runtime.getRuntime().exec(&quot;docker run -d -it -p 32348:32348 -e TYPE=PAPER -e ONLINE_MODE=false -e SERVER_PORT=32348 -e EULA=TRUE -e VERSION=1.8.8 --name OpenSourcee itzg/minecraft-server&quot;, null, null);\n\n        // Read the output from the command\n        var reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n\n        System.out.println(p.waitFor());\n    }\n}\n</code></pre>\n<p>I did also try to manually execute the command from the first block and it works without any issues, however, it does not work from Java. I'm guessing it may be some kind of permission issue or something...?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":0,"creation_date":1655081129,"post_id":72596813,"comment_id":128238464,"body_markdown":"could you post your input json and expected output json with error message?","body":"could you post your input json and expected output json with error message?"}],"answers":[{"tags":[],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655120784,"creation_date":1655120784,"answer_id":72602282,"question_id":72596813,"body_markdown":"UPDATE:\r\nOk seems that setting a &#39;label&#39; on a field to use in interpolation is not possible, I just created a class that contains the display names that I want to use and appended the error message to it:\r\n\r\n```\r\npublic class FieldName {\r\n\tpublic static final String E_MAIL_ADDRESS = &quot;E-mail address&quot;;\r\n}\r\n\r\n\r\npublic class ErrorMessages {\r\n\tprivate static final String INVALID_LENGTH = &quot; &#39;${validatedValue}&#39; must be between {min} and {max} characters long&quot;;\r\n\tpublic static final String E_MAIL_INVALID_LENGTH = FieldName.E_MAIL_ADDRESS + INVALID_LENGTH;\r\n\t\r\n}\r\n```\r\n\r\nThe payload class\r\n\r\n\r\n```\r\npublic class Contact {\r\n\t@Size(max = 20, message = ErrorMessages.E_MAIL_INVALID_LENGTH)\r\n\tprivate String email;\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nFixed output:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-06-13T03:27:03.207+00:00&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;errors&quot;: [\r\n        &quot;E-mail address &#39;tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com&#39; must be between 0 and 20 characters long&quot;\r\n    ]\r\n}\r\n```","title":"Spring boot annotation validation set custom field name","body":"<p>UPDATE:\nOk seems that setting a 'label' on a field to use in interpolation is not possible, I just created a class that contains the display names that I want to use and appended the error message to it:</p>\n<pre><code>public class FieldName {\n    public static final String E_MAIL_ADDRESS = &quot;E-mail address&quot;;\n}\n\n\npublic class ErrorMessages {\n    private static final String INVALID_LENGTH = &quot; '${validatedValue}' must be between {min} and {max} characters long&quot;;\n    public static final String E_MAIL_INVALID_LENGTH = FieldName.E_MAIL_ADDRESS + INVALID_LENGTH;\n    \n}\n</code></pre>\n<p>The payload class</p>\n<pre><code>public class Contact {\n    @Size(max = 20, message = ErrorMessages.E_MAIL_INVALID_LENGTH)\n    private String email;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n<p>Fixed output:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-06-13T03:27:03.207+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;errors&quot;: [\n        &quot;E-mail address 'tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com' must be between 0 and 20 characters long&quot;\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72602282,"answer_count":1,"score":0,"last_activity_date":1655167886,"creation_date":1655080415,"question_id":72596813,"body_markdown":"In my spring boot rest application I&#39;m doing validation via annotation and has the following class, how do I set a custom field name for the fields and use them in the error messages, the below example works, I can retrieve the value from the JSON payload and include them in the error message.\r\n\r\nI need to set the name of the field to &#39;E-mail address&#39; so I can put it in the error message.\r\n\r\n\r\nThe application also does not have any forms, input is received from json.\r\n\r\n\r\n\r\n```\r\npublic class Contact {\r\n\t@Size(max = 20, message = ErrorMessages.INVALID_LENGTH)\r\n\tprivate String email;\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n}\r\n\r\n\r\npublic class ErrorMessages {\r\n\tpublic static final String INVALID_LENGTH = &quot;&#39;${validatedValue}&#39; must be between {min} and {max} characters long&quot;;\r\n}\r\n```\r\n\r\nEDIT:\r\n\r\nJSON input\r\n````\r\n{\r\n        &quot;email&quot;: &quot;tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com&quot;\r\n}\r\n````\r\n\r\nexpected output:\r\n\r\n````\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-06-13T00:32:28.861+00:00&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;errors&quot;: [\r\n        &quot;E-mail address must be between 0 and 20 characters long&quot;\r\n    ]\r\n}\r\n\r\n````\r\n\r\nI don&#39;t want to hard code the field name in the error message since I want to reuse it on other fields for checking their length. I want to do something similar to ${validatedValue} but with the name instead.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nOk seems that setting a &#39;label&#39; on a field to use in interpolation is not possible, I just created a class that contains the display names that I want to use and appended the error message to it:\r\n\r\n```\r\npublic class FieldName {\r\n\tpublic static final String E_MAIL_ADDRESS = &quot;E-mail address&quot;;\r\n}\r\n\r\n\r\npublic class ErrorMessages {\r\n\tprivate static final String INVALID_LENGTH = &quot; &#39;${validatedValue}&#39; must be between {min} and {max} characters long&quot;;\r\n\tpublic static final String E_MAIL_INVALID_LENGTH = FieldName.E_MAIL_ADDRESS + INVALID_LENGTH;\r\n\t\r\n}\r\n```\r\n\r\nThe payload class\r\n\r\n\r\n```\r\npublic class Contact {\r\n\t@Size(max = 20, message = ErrorMessages.E_MAIL_INVALID_LENGTH)\r\n\tprivate String email;\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nFixed output:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-06-13T03:27:03.207+00:00&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;errors&quot;: [\r\n        &quot;E-mail address &#39;tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com&#39; must be between 0 and 20 characters long&quot;\r\n    ]\r\n}\r\n```\r\n","title":"Spring boot annotation validation set custom field name","body":"<p>In my spring boot rest application I'm doing validation via annotation and has the following class, how do I set a custom field name for the fields and use them in the error messages, the below example works, I can retrieve the value from the JSON payload and include them in the error message.</p>\n<p>I need to set the name of the field to 'E-mail address' so I can put it in the error message.</p>\n<p>The application also does not have any forms, input is received from json.</p>\n<pre><code>public class Contact {\n    @Size(max = 20, message = ErrorMessages.INVALID_LENGTH)\n    private String email;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n\n\npublic class ErrorMessages {\n    public static final String INVALID_LENGTH = &quot;'${validatedValue}' must be between {min} and {max} characters long&quot;;\n}\n</code></pre>\n<p>EDIT:</p>\n<p>JSON input</p>\n<pre><code>{\n        &quot;email&quot;: &quot;tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com&quot;\n}\n</code></pre>\n<p>expected output:</p>\n<pre><code>\n{\n    &quot;timestamp&quot;: &quot;2022-06-13T00:32:28.861+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;errors&quot;: [\n        &quot;E-mail address must be between 0 and 20 characters long&quot;\n    ]\n}\n\n</code></pre>\n<p>I don't want to hard code the field name in the error message since I want to reuse it on other fields for checking their length. I want to do something similar to ${validatedValue} but with the name instead.</p>\n<p><strong>UPDATE:</strong></p>\n<p>Ok seems that setting a 'label' on a field to use in interpolation is not possible, I just created a class that contains the display names that I want to use and appended the error message to it:</p>\n<pre><code>public class FieldName {\n    public static final String E_MAIL_ADDRESS = &quot;E-mail address&quot;;\n}\n\n\npublic class ErrorMessages {\n    private static final String INVALID_LENGTH = &quot; '${validatedValue}' must be between {min} and {max} characters long&quot;;\n    public static final String E_MAIL_INVALID_LENGTH = FieldName.E_MAIL_ADDRESS + INVALID_LENGTH;\n    \n}\n</code></pre>\n<p>The payload class</p>\n<pre><code>public class Contact {\n    @Size(max = 20, message = ErrorMessages.E_MAIL_INVALID_LENGTH)\n    private String email;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n<p>Fixed output:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-06-13T03:27:03.207+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;errors&quot;: [\n        &quot;E-mail address 'tesaaaaaaaaaaaaaaaaaaaaaaaaaaaat@test.com' must be between 0 and 20 characters long&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","maven","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4026428,"reputation":2773,"user_id":3314484,"accept_rate":73,"display_name":"Joe W"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1529341840,"creation_date":1529341840,"answer_id":50914455,"question_id":50912944,"body_markdown":"Take a look at the results of\r\n\r\n    mvn dependency:tree\r\n\r\nWith the parent project included and see if you have more than one version of `org.springframework:spring-core`\r\n\r\nYou are loading the correct spring-core version (5.0.7.RELEASE) in this basic pom. But if your parent MVC project is loading a different (older) version of Spring you are probably getting that older version that is missing the class that is referenced in the stack trace (KotlinDetector).","title":"Spring-Boot-Maven-Plugin, Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>Take a look at the results of</p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>With the parent project included and see if you have more than one version of <code>org.springframework:spring-core</code></p>\n\n<p>You are loading the correct spring-core version (5.0.7.RELEASE) in this basic pom. But if your parent MVC project is loading a different (older) version of Spring you are probably getting that older version that is missing the class that is referenced in the stack trace (KotlinDetector).</p>\n"},{"tags":[],"owner":{"account_id":1669453,"reputation":2017,"user_id":1536197,"accept_rate":21,"display_name":"Hernaldo Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655167375,"creation_date":1655167375,"answer_id":72610400,"question_id":50912944,"body_markdown":"In my case, I was using spring-boot-starter-parent 2.6.7\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- 2.4.2 2.6.7 lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\nOnly I change to old version and works. \r\nspring-boot-starter-parent 2.4.2\r\n\r\n    &lt;parent&gt;\r\n        ...\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.2&lt;/version&gt;","title":"Spring-Boot-Maven-Plugin, Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>In my case, I was using spring-boot-starter-parent 2.6.7</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- 2.4.2 2.6.7 lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>Only I change to old version and works.\nspring-boot-starter-parent 2.4.2</p>\n<pre><code>&lt;parent&gt;\n    ...\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":13796381,"reputation":53,"user_id":9957499,"display_name":"Jason Zuang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7039,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50914455,"answer_count":2,"score":5,"last_activity_date":1655167375,"creation_date":1529336026,"question_id":50912944,"body_markdown":"I am working on a spring boot maven project with a custom spring mvc parent project. I am having trouble getting `mvn spring-boot:run` to work. Here is my POM.xml ignoring the parent tags and groupId,artifactID,etc... tags`\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;netbeans.hint.deploy.server&gt;Tomcat&lt;/netbeans.hint.deploy.server&gt;\r\n        &lt;webtarget.root&gt;${basedir}/target/&lt;/webtarget.root&gt;\r\n        &lt;webtarget.base&gt;${basedir}/target/tsm-webapp&lt;/webtarget.base&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Nexus&lt;/id&gt;\r\n            &lt;name&gt;Nexus Managed Internal Repository&lt;/name&gt;\r\n            &lt;url&gt;http://nexus.itg.ti.com/nexus/content/groups/public&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20090211&lt;/version&gt;\r\n        &lt;/dependency&gt;            \r\n            \r\n        &lt;!-- === web assets === --&gt;\r\n\r\n        &lt;!-- jquery --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jquery-cookie&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jquery-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- font-awesome --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- datatables --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datatables&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datatables-plugins&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.11-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt; --&gt;\r\n\r\n        &lt;!-- momentjs --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;momentjs&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--ums--&gt;\r\n        &lt;!--new ui changes--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ti.spring.service&lt;/groupId&gt;\r\n            &lt;artifactId&gt;usersvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;TSM-1.0-27-RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tsm-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.20100224&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;tsm-checker&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;packagingExcludes&gt;WEB-INF/web.xml&lt;/packagingExcludes&gt;\r\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n                    &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;path&gt;/&lt;/path&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Copies external config files from project to output directory --&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n`\r\nI understand that once I add spring boot dependency to in the Dependency management, the plugins are not auto configured anymore. I was wondering if there was something wrong with my spring boot maven plugin configuration, or if there might be something else causing the problems.\r\n\r\nHere is my full stack trace\r\n\r\n        java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\r\n        at java.lang.Thread.run (Thread.java:748)\r\n    Caused by: java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer\r\n        at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:448)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\r\n        at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\r\n        at java.lang.Thread.run (Thread.java:748)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/core/KotlinDetector\r\n        at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:169)\r\n        at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:444)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\r\n        at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\r\n        at java.lang.Thread.run (Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.KotlinDetector\r\n        at java.net.URLClassLoader.findClass (URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:424)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:357)\r\n        at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:169)\r\n        at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:444)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\r\n        at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\r\n        at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\r\n        at java.lang.Thread.run (Thread.java:748)\r\n\r\n\r\n","title":"Spring-Boot-Maven-Plugin, Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>I am working on a spring boot maven project with a custom spring mvc parent project. I am having trouble getting <code>mvn spring-boot:run</code> to work. Here is my POM.xml ignoring the parent tags and groupId,artifactID,etc... tags`</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;netbeans.hint.deploy.server&gt;Tomcat&lt;/netbeans.hint.deploy.server&gt;\n    &lt;webtarget.root&gt;${basedir}/target/&lt;/webtarget.root&gt;\n    &lt;webtarget.base&gt;${basedir}/target/tsm-webapp&lt;/webtarget.base&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;Nexus&lt;/id&gt;\n        &lt;name&gt;Nexus Managed Internal Repository&lt;/name&gt;\n        &lt;url&gt;http://nexus.itg.ti.com/nexus/content/groups/public&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20090211&lt;/version&gt;\n    &lt;/dependency&gt;            \n\n    &lt;!-- === web assets === --&gt;\n\n    &lt;!-- jquery --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery-cookie&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1-1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery-validation&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0-1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- font-awesome --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\n        &lt;version&gt;4.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- datatables --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;datatables&lt;/artifactId&gt;\n        &lt;version&gt;1.10.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;datatables-plugins&lt;/artifactId&gt;\n        &lt;version&gt;1.10.11-1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt; --&gt;\n\n    &lt;!-- momentjs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;momentjs&lt;/artifactId&gt;\n        &lt;version&gt;2.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--ums--&gt;\n    &lt;!--new ui changes--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ti.spring.service&lt;/groupId&gt;\n        &lt;artifactId&gt;usersvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;TSM-1.0-27-RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;tsm-engine&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.20100224&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;tsm-checker&lt;/finalName&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;packagingExcludes&gt;WEB-INF/web.xml&lt;/packagingExcludes&gt;\n                &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n                &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;path&gt;/&lt;/path&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Copies external config files from project to output directory --&gt;\n        &lt;!--&lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;--&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>\n`\nI understand that once I add spring boot dependency to in the Dependency management, the plugins are not auto configured anymore. I was wondering if there was something wrong with my spring boot maven plugin configuration, or if there might be something else causing the problems.</p>\n\n<p>Here is my full stack trace</p>\n\n<pre><code>    java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\n    at java.lang.Thread.run (Thread.java:748)\nCaused by: java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer\n    at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:448)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\n    at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\n    at java.lang.Thread.run (Thread.java:748)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/core/KotlinDetector\n    at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:169)\n    at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:444)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\n    at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\n    at java.lang.Thread.run (Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.KotlinDetector\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:357)\n    at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:169)\n    at org.springframework.boot.SpringApplication.createSpringFactoriesInstances (SpringApplication.java:444)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:427)\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances (SpringApplication.java:418)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:266)\n    at org.springframework.boot.SpringApplication.&lt;init&gt; (SpringApplication.java:247)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1255)\n    at org.springframework.boot.SpringApplication.run (SpringApplication.java:1243)\n    at com.ti.tmg.tsm.checker.Application.main (Application.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:496)\n    at java.lang.Thread.run (Thread.java:748)\n</code></pre>\n"},{"tags":["java","arrays","collections","toarray"],"comments":[{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":0,"creation_date":1655136087,"post_id":72605684,"comment_id":128254077,"body_markdown":"toArray should solve the issue what is happening by your side","body":"toArray should solve the issue what is happening by your side"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655166594,"creation_date":1655136573,"answer_id":72605886,"question_id":72605684,"body_markdown":"&lt;h3&gt;Collection to Integer[]&lt;/h3&gt;\r\n\r\nWhen you need to get a result of type `Integer[]`, you have to provide a function as an argument while calling `toArray()`, there&#39;s no need to apply casting (*if you&#39;re not passing a parameter* `toArray()` *returns an array* `Object[]`).\r\n```\r\nInteger[] arr = id.getDetails().values().toArray(Integer[]::new);\r\n```\r\n\r\n&lt;h3&gt;Collection to int[]&lt;/h3&gt;\r\n\r\nThere&#39;s no way convert a Collection of `Integer` type or an array `Integer[]` into an array `int[]` directly. It&#39;s not possible to obtain one from another simply by doing casting, these types are not compatible.\r\n\r\nYou have to iterate over the source and populate the newly created `int[]` array. It can be done either &quot;manually&quot; using a loop, or in a more convenient way with streams, the overall approach doesn&#39;t change. \r\n\r\nThat&#39;s how it can be done using Stream API:\r\n\r\n```\r\nint[] arr = id.getDetails().values().stream() // Stream&lt;Integer&gt; - stream of objects\r\n    .mapToInt(Integer::intValue) // IntStream - stream of primitives\r\n    .toArray();\r\n```","title":"Convert Collection to int[] array","body":"<h3>Collection to Integer[]</h3>\n<p>When you need to get a result of type <code>Integer[]</code>, you have to provide a function as an argument while calling <code>toArray()</code>, there's no need to apply casting (<em>if you're not passing a parameter</em> <code>toArray()</code> <em>returns an array</em> <code>Object[]</code>).</p>\n<pre><code>Integer[] arr = id.getDetails().values().toArray(Integer[]::new);\n</code></pre>\n<h3>Collection to int[]</h3>\n<p>There's no way convert a Collection of <code>Integer</code> type or an array <code>Integer[]</code> into an array <code>int[]</code> directly. It's not possible to obtain one from another simply by doing casting, these types are not compatible.</p>\n<p>You have to iterate over the source and populate the newly created <code>int[]</code> array. It can be done either &quot;manually&quot; using a loop, or in a more convenient way with streams, the overall approach doesn't change.</p>\n<p>That's how it can be done using Stream API:</p>\n<pre><code>int[] arr = id.getDetails().values().stream() // Stream&lt;Integer&gt; - stream of objects\n    .mapToInt(Integer::intValue) // IntStream - stream of primitives\n    .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655137750,"creation_date":1655137411,"answer_id":72606061,"question_id":72605684,"body_markdown":"You can&#39;t *cast* `Collection&lt;Integer&gt;` to `int[]`, but you can *create* the array:\r\n\r\n    int[] values = id.getDetails().values().stream()\r\n      .mapToInt(n -&gt; n)\r\n      .toArray();\r\n\r\n---\r\n\r\nAn aside... this code:\r\n\r\n    if (!idCollection.contains(id)) {\r\n        idCollection.add(id);\r\n    }\r\n\r\nMay be changed to just:\r\n\r\n    idCollection.add(id);\r\n\r\nbecause `idCollection` is a `Set` and that&#39;s how sets work. It matters not that it&#39;s *declared* as a `Collection`; it *is* a `Set`.","title":"Convert Collection to int[] array","body":"<p>You can't <em>cast</em> <code>Collection&lt;Integer&gt;</code> to <code>int[]</code>, but you can <em>create</em> the array:</p>\n<pre><code>int[] values = id.getDetails().values().stream()\n  .mapToInt(n -&gt; n)\n  .toArray();\n</code></pre>\n<hr />\n<p>An aside... this code:</p>\n<pre><code>if (!idCollection.contains(id)) {\n    idCollection.add(id);\n}\n</code></pre>\n<p>May be changed to just:</p>\n<pre><code>idCollection.add(id);\n</code></pre>\n<p>because <code>idCollection</code> is a <code>Set</code> and that's how sets work. It matters not that it's <em>declared</em> as a <code>Collection</code>; it <em>is</em> a <code>Set</code>.</p>\n"}],"owner":{"account_id":1616411,"reputation":1094,"user_id":1493971,"accept_rate":50,"display_name":"explorer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72605886,"answer_count":2,"score":0,"last_activity_date":1655166951,"creation_date":1655135608,"question_id":72605684,"body_markdown":"There are two existing methods named `getDetails(...)`. One expects a minimum of one mandatory parameter and the other expects a collection (doesn&#39;t validate the content/size of the collection).\r\n\r\nThe problem is that the collection is sometimes passed as empty and according to my business case, I always expect a minimum of one value, to be passed. So, I need to make that method `private`, which accepts Collections. \r\n\r\n    // There are two params, to make sure that at-least one is passed by the caller\r\n    \r\n    public static CustomerContext getDetails(int id, int... ids) { \r\n       Collection&lt;Integer&gt; idCollection = Instream.of(ids).boxed().collect(Collectors.toSet());\r\n       if(!idCollection.contains(id)){\r\n           idCollection.add(id);\r\n       }\r\n       return getDetails(idCollection);\r\n    }\r\n\r\nI&#39;m planning to make the below method scope to `private` so that the callers would not call this method with Zero attributes.\r\n\r\n    public static CustomerContext getDetails(Collection&lt;Integer&gt; idCollection) {\r\n        return getDetails(idCollection,false);\r\n    }\r\n\r\n\r\n\r\nOne of the caller methods is passing Collection object to `getDetails` like below,\r\n\r\n    CustomerContext.getDetails(id.getDetails().values());\r\n\r\n\r\nThe id.getDetails() is as below,\r\n\r\n    public Map&lt;Id,Integer&gt; getDetails(){\r\n        return Collections.unmodifiableMap(details);\r\n    }\r\n\r\nI&#39;m looking for a way to convert the collection `id.getDetails().values()` into `int[]` for passing to `getDetails(int id,int... ids)` instead of calling `getDetails(Collection&lt;Integer&gt; idCollection)`.\r\n\r\nI could cast the collection to `Integer[]` as below,\r\n\r\n    (Integer[])id.getDetails().values().toArray()\r\n\r\nI did not find a way to cast Collection to `int[]`. \r\n\r\nAny suggestions would be of great help.\r\n\r\nI already referred to some of the existing questions but did not succeed to solve my issue: \r\n\r\nhttps://stackoverflow.com/questions/10664698/conversion-of-collection-to-int-array\r\n\r\nhttps://stackoverflow.com/questions/26967716/convert-java-util-collections-to-integer-array","title":"Convert Collection to int[] array","body":"<p>There are two existing methods named <code>getDetails(...)</code>. One expects a minimum of one mandatory parameter and the other expects a collection (doesn't validate the content/size of the collection).</p>\n<p>The problem is that the collection is sometimes passed as empty and according to my business case, I always expect a minimum of one value, to be passed. So, I need to make that method <code>private</code>, which accepts Collections.</p>\n<pre><code>// There are two params, to make sure that at-least one is passed by the caller\n\npublic static CustomerContext getDetails(int id, int... ids) { \n   Collection&lt;Integer&gt; idCollection = Instream.of(ids).boxed().collect(Collectors.toSet());\n   if(!idCollection.contains(id)){\n       idCollection.add(id);\n   }\n   return getDetails(idCollection);\n}\n</code></pre>\n<p>I'm planning to make the below method scope to <code>private</code> so that the callers would not call this method with Zero attributes.</p>\n<pre><code>public static CustomerContext getDetails(Collection&lt;Integer&gt; idCollection) {\n    return getDetails(idCollection,false);\n}\n</code></pre>\n<p>One of the caller methods is passing Collection object to <code>getDetails</code> like below,</p>\n<pre><code>CustomerContext.getDetails(id.getDetails().values());\n</code></pre>\n<p>The id.getDetails() is as below,</p>\n<pre><code>public Map&lt;Id,Integer&gt; getDetails(){\n    return Collections.unmodifiableMap(details);\n}\n</code></pre>\n<p>I'm looking for a way to convert the collection <code>id.getDetails().values()</code> into <code>int[]</code> for passing to <code>getDetails(int id,int... ids)</code> instead of calling <code>getDetails(Collection&lt;Integer&gt; idCollection)</code>.</p>\n<p>I could cast the collection to <code>Integer[]</code> as below,</p>\n<pre><code>(Integer[])id.getDetails().values().toArray()\n</code></pre>\n<p>I did not find a way to cast Collection to <code>int[]</code>.</p>\n<p>Any suggestions would be of great help.</p>\n<p>I already referred to some of the existing questions but did not succeed to solve my issue:</p>\n<p><a href=\"https://stackoverflow.com/questions/10664698/conversion-of-collection-to-int-array\">Conversion of collection to int array</a></p>\n<p><a href=\"https://stackoverflow.com/questions/26967716/convert-java-util-collections-to-integer-array\">Convert java.util.Collections to Integer array</a></p>\n"},{"tags":["java","spring-boot","timestamp"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1655181736,"post_id":72608518,"comment_id":128264531,"body_markdown":"By the way, `java.sql.Timestamp` is one of the terrible legacy date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Replaced specifically by `OffsetDateTime`.","body":"By the way, <code>java.sql.Timestamp</code> is one of the terrible legacy date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. Replaced specifically by <code>OffsetDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655166318,"creation_date":1655165161,"answer_id":72610228,"question_id":72608518,"body_markdown":"You are seeing this exception :\r\n\r\n&gt; java.lang.IllegalArgumentException: Cannot deserialize value of type\r\n&gt; `java.sql.Timestamp` from String &quot;Jun 15, 2022, 07:54:56 PM&quot;: not a\r\n&gt; valid representation (error: Failed to parse Date value &#39;Jun 15, 2022,\r\n&gt; 07:54:56 PM&#39;: Cannot parse date &quot;Jun 14, 2022, Jun 15, 2022, 07:54:56\r\n&gt; PM&quot;: not compatible with any of standard forms\r\n&gt; (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd\r\n&gt; MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\r\n\r\nbeacause your JSON is having the date format which is not compatible with standard date format that Jackson uses for deserializations.\r\n\r\n Below are  standard formats for a date which Jackson supports:\r\n\r\nyyyy-MM-dd’T’HH:mm:ss.SSSZ\r\n\r\nyyyy-MM-dd’T’HH:mm:ss.SSS\r\n\r\nEEE, dd MMM yyyy HH:mm:ss zzz\r\n\r\nyyyy-MM-dd\r\n\r\nTo fix this, you will use\r\n`.setDateFormat()` method which configures Gson to serialize Date objects according to the pattern provided.\r\n\r\nYou will need to set one of above mentioned patterns which jackson support.\r\n\r\nHere is the complete code:\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n    \r\n    \r\n            TestBean TestBean = new TestBean();\r\n            TestBean.setRecReceived(new Timestamp(System.currentTimeMillis()));\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\n            Gson gson = gsonBuilder.create();\r\n            String jsonData = gson.toJson(TestBean); // Cannot ignore this part as it is sent from first server to second server\r\n            Map&lt;String, Object&gt; map = new ObjectMapper().readValue(jsonData, HashMap.class); //Received at server end\r\n            TestBean abc = (TestBean) convertMapToEntity(map, com.example.demo.dto.TestBean.class);\r\n            System.out.println(abc);\r\n        }\r\n\r\nIf you run above code, you should see output like this:\r\n\r\n    TestBean{recReceived=2022-06-14 04:01:56.279, responseSent=null}\r\n\r\n","title":"Cannot deserialize value of type java.sql.Timestamp from String","body":"<p>You are seeing this exception :</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Cannot deserialize value of type\n<code>java.sql.Timestamp</code> from String &quot;Jun 15, 2022, 07:54:56 PM&quot;: not a\nvalid representation (error: Failed to parse Date value 'Jun 15, 2022,\n07:54:56 PM': Cannot parse date &quot;Jun 14, 2022, Jun 15, 2022, 07:54:56\nPM&quot;: not compatible with any of standard forms\n(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd\nMMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))</p>\n</blockquote>\n<p>beacause your JSON is having the date format which is not compatible with standard date format that Jackson uses for deserializations.</p>\n<p>Below are  standard formats for a date which Jackson supports:</p>\n<p>yyyy-MM-dd’T’HH:mm:ss.SSSZ</p>\n<p>yyyy-MM-dd’T’HH:mm:ss.SSS</p>\n<p>EEE, dd MMM yyyy HH:mm:ss zzz</p>\n<p>yyyy-MM-dd</p>\n<p>To fix this, you will use\n<code>.setDateFormat()</code> method which configures Gson to serialize Date objects according to the pattern provided.</p>\n<p>You will need to set one of above mentioned patterns which jackson support.</p>\n<p>Here is the complete code:</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n\n\n        TestBean TestBean = new TestBean();\n        TestBean.setRecReceived(new Timestamp(System.currentTimeMillis()));\n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;);\n        Gson gson = gsonBuilder.create();\n        String jsonData = gson.toJson(TestBean); // Cannot ignore this part as it is sent from first server to second server\n        Map&lt;String, Object&gt; map = new ObjectMapper().readValue(jsonData, HashMap.class); //Received at server end\n        TestBean abc = (TestBean) convertMapToEntity(map, com.example.demo.dto.TestBean.class);\n        System.out.println(abc);\n    }\n</code></pre>\n<p>If you run above code, you should see output like this:</p>\n<pre><code>TestBean{recReceived=2022-06-14 04:01:56.279, responseSent=null}\n</code></pre>\n"}],"owner":{"account_id":5931948,"reputation":559,"user_id":4666134,"accept_rate":42,"display_name":"user4324324"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655166318,"creation_date":1655151129,"question_id":72608518,"body_markdown":"I have a bean class where I am setting the recReceived time using the below code. When I am executing the below code, I am getting error \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot\r\n&gt; deserialize value of type `java.sql.Timestamp` from String\r\n&gt; ............\r\n\r\n    public static void main(String[] args) {\r\n    TestBean TestBean = new TestBean();\r\n    TestBean.setRecReceived(new Timestamp(System.currentTimeMillis()));\r\n    Gson gson = new Gson();\r\n    String jsonData = gson.toJson(TestBean); // Cannot ignore this part as it is sent from first server to second server\r\n    Map&lt;String, Object&gt; map = new ObjectMapper().readValue(jsonData, HashMap.class); //Received at server end\r\n    TestBean abc = (TestBean) convertMapToEntity(map, TestBean.class);\r\n    }\r\n    \t\r\n        // Cannot edit this function\r\n    \tpublic static Object convertMapToEntity(Map&lt;String, Object&gt; object, Class&lt;?&gt; objClass) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    \t\treturn objectMapper.convertValue(object, objClass);\r\n    \r\n    \t}\r\n    \t\r\n    // Bean class - Cannot edit this file\r\n    import java.sql.Timestamp;\r\n    public class TestBean {\r\n    \tTimestamp recReceived;\r\n    \tTimestamp responseSent;\r\n    \t// getter and setter\t\r\n    }\r\n\r\nIt will be really helpful if someone can help me let know what I am doing wrong in the code or can any change be done in code without touching the non editable function or file \r\nThanks in advance","title":"Cannot deserialize value of type java.sql.Timestamp from String","body":"<p>I have a bean class where I am setting the recReceived time using the below code. When I am executing the below code, I am getting error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot\ndeserialize value of type <code>java.sql.Timestamp</code> from String\n............</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\nTestBean TestBean = new TestBean();\nTestBean.setRecReceived(new Timestamp(System.currentTimeMillis()));\nGson gson = new Gson();\nString jsonData = gson.toJson(TestBean); // Cannot ignore this part as it is sent from first server to second server\nMap&lt;String, Object&gt; map = new ObjectMapper().readValue(jsonData, HashMap.class); //Received at server end\nTestBean abc = (TestBean) convertMapToEntity(map, TestBean.class);\n}\n    \n    // Cannot edit this function\n    public static Object convertMapToEntity(Map&lt;String, Object&gt; object, Class&lt;?&gt; objClass) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        return objectMapper.convertValue(object, objClass);\n\n    }\n    \n// Bean class - Cannot edit this file\nimport java.sql.Timestamp;\npublic class TestBean {\n    Timestamp recReceived;\n    Timestamp responseSent;\n    // getter and setter    \n}\n</code></pre>\n<p>It will be really helpful if someone can help me let know what I am doing wrong in the code or can any change be done in code without touching the non editable function or file\nThanks in advance</p>\n"},{"tags":["java","c#","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1655166709,"post_id":72610213,"comment_id":128262456,"body_markdown":"A first step is to simply run the code and see what happens. So, what happens when you run it?","body":"A first step is to simply run the code and see what happens. So, what happens when you run it?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1655189362,"post_id":72610213,"comment_id":128266252,"body_markdown":"You have asked the same question here: [RSA Encryption in C# PEM format](https://stackoverflow.com/questions/72538797/rsa-encryption-in-c-sharp-pem-format). And the answer is the same.","body":"You have asked the same question here: <a href=\"https://stackoverflow.com/questions/72538797/rsa-encryption-in-c-sharp-pem-format\">RSA Encryption in C# PEM format</a>. And the answer is the same."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1655190116,"post_id":72610213,"comment_id":128266471,"body_markdown":"Decryption can also fail for other reasons, e.g. private and public key are not related, the padding is not correct,...","body":"Decryption can also fail for other reasons, e.g. private and public key are not related, the padding is not correct,..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1655213808,"post_id":72610213,"comment_id":128275373,"body_markdown":"I note that the encoded key contains spaces. Base64 decoding fails for me unless I remove them","body":"I note that the encoded key contains spaces. Base64 decoding fails for me unless I remove them"}],"owner":{"account_id":16124686,"reputation":69,"user_id":11639736,"display_name":"ddb20"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655164907,"creation_date":1655164907,"question_id":72610213,"body_markdown":"The given public key to me is in this string format\r\n```\r\nstring publicKey =\r\n&quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlUCQZso6P43gKqw0CfTlwYb3N+m4v6IME 4nPA3WXe52wFpDM/JCFWSdXa7BewlwzDYjblgwL4u59CPxNTPTh7LTD4xXOaGDJHjX5+YgqK4fb9rs ImjMpIACrND/LAdrq5mctWWzw3UtW3F+o+sNwIZM8n65ysS+Vhq9IypFlfuQbWrKjAcWZ3u1iLtplz yf/pjhOEyyZiBUnh6D219+pMiE9nhCpc4xkH1gnlGszIDBqZMMULtGJvFXydA1vv5HxxCYJ2ydEzmA KYxVgA9BGXPEGE89dQbeJsieTj+FSsp9oTm+4vi345opRvH8DWhmZc4OPSwBEL8pwgS7cUnKPtwIDA QAB&quot;;\r\n```\r\n\r\nOne line in the sample code in java that the public key needs to be converted to RSA Public key. \r\nDoes the lines below converts a string public key to RSAPublicKey?  Is there a counterpart in C#?\r\n```\r\nbyte[] decoedPublicKey = Base64.getDecoder().decode(publicKey);\r\nRSAPublicKey rsaPublicKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).\r\n    generatePublic(new X509EncodedKeySpec(decoedPublicKey));\r\n```\r\nI am trying to send an RSA encrypted message to an external API and always the api returns an error that it could not decrypt the message.  I am not doing this step in my c# app, is this required in correct RSA encryption of the public key.  Below is a snippet of my RSA encryption. Is it correct?\r\n\r\n```\r\n Pkcs1Encoding pkcs1Encoding = new Pkcs1Encoding((IAsymmetricBlockCipher)new RsaEngine());\r\n            using (StringReader reader = new StringReader(publicKey))\r\n            {\r\n                AsymmetricKeyParameter parameters = (AsymmetricKeyParameter)new PemReader((TextReader)reader).ReadObject();\r\n                pkcs1Encoding.Init(true, (ICipherParameters)parameters);\r\n            }\r\n\r\n            return Convert.ToBase64String(pkcs1Encoding.ProcessBlock(bytes, 0, bytes.Length));\r\n``` ","title":"RSA Encryption string public key to RSA Public Key","body":"<p>The given public key to me is in this string format</p>\n<pre><code>string publicKey =\n&quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlUCQZso6P43gKqw0CfTlwYb3N+m4v6IME 4nPA3WXe52wFpDM/JCFWSdXa7BewlwzDYjblgwL4u59CPxNTPTh7LTD4xXOaGDJHjX5+YgqK4fb9rs ImjMpIACrND/LAdrq5mctWWzw3UtW3F+o+sNwIZM8n65ysS+Vhq9IypFlfuQbWrKjAcWZ3u1iLtplz yf/pjhOEyyZiBUnh6D219+pMiE9nhCpc4xkH1gnlGszIDBqZMMULtGJvFXydA1vv5HxxCYJ2ydEzmA KYxVgA9BGXPEGE89dQbeJsieTj+FSsp9oTm+4vi345opRvH8DWhmZc4OPSwBEL8pwgS7cUnKPtwIDA QAB&quot;;\n</code></pre>\n<p>One line in the sample code in java that the public key needs to be converted to RSA Public key.\nDoes the lines below converts a string public key to RSAPublicKey?  Is there a counterpart in C#?</p>\n<pre><code>byte[] decoedPublicKey = Base64.getDecoder().decode(publicKey);\nRSAPublicKey rsaPublicKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).\n    generatePublic(new X509EncodedKeySpec(decoedPublicKey));\n</code></pre>\n<p>I am trying to send an RSA encrypted message to an external API and always the api returns an error that it could not decrypt the message.  I am not doing this step in my c# app, is this required in correct RSA encryption of the public key.  Below is a snippet of my RSA encryption. Is it correct?</p>\n<pre><code> Pkcs1Encoding pkcs1Encoding = new Pkcs1Encoding((IAsymmetricBlockCipher)new RsaEngine());\n            using (StringReader reader = new StringReader(publicKey))\n            {\n                AsymmetricKeyParameter parameters = (AsymmetricKeyParameter)new PemReader((TextReader)reader).ReadObject();\n                pkcs1Encoding.Init(true, (ICipherParameters)parameters);\n            }\n\n            return Convert.ToBase64String(pkcs1Encoding.ProcessBlock(bytes, 0, bytes.Length));\n</code></pre>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655164446,"creation_date":1461763113,"answer_id":36891029,"question_id":36890656,"body_markdown":"No.  There isn&#39;t an API to do this.  This is simple high-school maths.  So simple that using an API would make your code &gt;&gt;less&lt;&lt; readable and &gt;&gt;less&lt; maintainable.\r\n\r\nFor the record, the &quot;computation&quot; is `360 - angle`, if the angle is in degrees, or `2 * Math.PI - angle` if the angle is in radians.\r\n\r\n(Or ... maybe, you just want `-angle`.  Your terminology - &quot;clockwise angle&quot; and &quot;anti-clockwise angle&quot; is ambiguous.)","title":"AntiClockWise angle to clockwise angle conversion","body":"<p>No.  There isn't an API to do this.  This is simple high-school maths.  So simple that using an API would make your code &gt;&gt;less&lt;&lt; readable and &gt;&gt;less&lt; maintainable.</p>\n<p>For the record, the &quot;computation&quot; is <code>360 - angle</code>, if the angle is in degrees, or <code>2 * Math.PI - angle</code> if the angle is in radians.</p>\n<p>(Or ... maybe, you just want <code>-angle</code>.  Your terminology - &quot;clockwise angle&quot; and &quot;anti-clockwise angle&quot; is ambiguous.)</p>\n"}],"owner":{"account_id":87674,"reputation":3135,"user_id":242988,"accept_rate":64,"display_name":"srinannapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655164446,"creation_date":1461762142,"question_id":36890656,"body_markdown":"How to get the degree of clockwise angle from antiClockWise angle. I need to do this in Java. Is there any Java API that can help ?","title":"AntiClockWise angle to clockwise angle conversion","body":"<p>How to get the degree of clockwise angle from antiClockWise angle. I need to do this in Java. Is there any Java API that can help ?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1655121701,"post_id":72581361,"comment_id":128247923,"body_markdown":"The app is still a closed beta in Google Play Store... is this the moment to make it become an open beta? I wonder...","body":"The app is still a closed beta in Google Play Store... is this the moment to make it become an open beta? I wonder..."},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1655124978,"post_id":72581361,"comment_id":128249252,"body_markdown":"Perhaps, nothing did work because something related to [this SO answer](https://stackoverflow.com/a/65090883/3692177)? What if because of version 1 had the &quot;Room meta-tables&quot; inside the asset, everything became a mess and nothing works? If the error is related to the linked answer as I suspect, what am I supposed to do about it?","body":"Perhaps, nothing did work because something related to <a href=\"https://stackoverflow.com/a/65090883/3692177\">this SO answer</a>? What if because of version 1 had the &quot;Room meta-tables&quot; inside the asset, everything became a mess and nothing works? If the error is related to the linked answer as I suspect, what am I supposed to do about it?"},{"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"score":0,"creation_date":1655125730,"post_id":72581361,"comment_id":128249547,"body_markdown":"Maybe, instead of &quot;getting rid of the RoomDB&#39;s meta-tables&quot; in the asset, should I rather use them? Their structure is like `CREATE TABLE room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT); CREATE TABLE android_metadata (locale TEXT);`","body":"Maybe, instead of &quot;getting rid of the RoomDB&#39;s meta-tables&quot; in the asset, should I rather use them? Their structure is like <code>CREATE TABLE room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT); CREATE TABLE android_metadata (locale TEXT);</code>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654949001,"creation_date":1654949001,"answer_id":72584179,"question_id":72581361,"body_markdown":"&gt; What is the most simple way to just drop the old database and repopulate it?\r\n\r\nDelete the database before you call the code in your question. For example, you could use [`deleteDatabase()` on `Context`](https://developer.android.com/reference/kotlin/android/content/Context#deletedatabase)\r\n\r\n","title":"RoomDB: Migration without schema changes, I just want to drop the old Database and create from asset","body":"<blockquote>\n<p>What is the most simple way to just drop the old database and repopulate it?</p>\n</blockquote>\n<p>Delete the database before you call the code in your question. For example, you could use <a href=\"https://developer.android.com/reference/kotlin/android/content/Context#deletedatabase\" rel=\"nofollow noreferrer\"><code>deleteDatabase()</code> on <code>Context</code></a></p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655163151,"creation_date":1654992289,"answer_id":72588665,"question_id":72581361,"body_markdown":"I would suggest that the way to go is to detect the change in the asset.\r\n\r\nCopying the asset and then comparing rows would be relatively inefficient. A more efficient approach, although a bit more complicated to manage would be to utilise the SQLITE **USER_VERSION** (or the ***APPLICATION_ID***). \r\n\r\nThis would entail setting the value in the latest asset to be greater than it was.\r\n\r\nA changed (increased) **USER_VERSION** can be detected by just accessing the files (the current database and the asset) and reading the first 100 bytes and then extracting the 4 bytes at offset 60 (68 for the Application Id).\r\n\r\nYou can set the values using `PRAGMA user_version = n` for the **USER_VERSION** or (`PRAGMA application_id = n`) for the ***APPLICATION_ID*** via whatever tool you are using to maintain the database externally.\r\n\r\nYou would do this every time you instantiate the Database class **BEFORE** you build the database. If the asset version is greater (changed) then you delete the database and thus when the build is actioned then `createFromAsset` will copy the database from the asset.\r\n\r\nI would suggest maintaining the database version in-line with the asset (although unlike the SQLite which would thrown an exception on a downgrade API Room doesn&#39;t seem to care about downgrade).\r\n\r\n\r\nHere&#39;s a **working example**.\r\n\r\nFor the testing two asset databases have been created.\r\n\r\n- The first (in the asset folder as V1Base) has rows with id&#39;s 1-5 inclusive and the second column name has V1 within the name.\r\n- The second (in the asset folder as V2Base) has id&#39;s 2 and 4 from the first (1,3 and 5 have been deleted) and an additional 3 rows, id&#39;s 6, 8 and 10 and the name includes V2.\r\n\r\nThe asset folder (after the 2nd test run):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- Obviously you would only have the 1 asset. However, for experimentation/testing/debugging the above allows easy manipulation of the files.\r\n    - as the arrows show V1Base was copied to what is now INIT_DB.sqlite3_ORIGINAL (first run it was named INIT_DB.sqlite3) and V2Base was copied (after renaming INIT_DB.sqlite3 to INIT_DB.sqlite3_ORIGINAL) to INIT_DB.sqlite3\r\n\r\nOnly a single `@Entity` class was used that being **TheTable** :-\r\n\r\n    @Entity\r\n    class TheTable {\r\n        @PrimaryKey\r\n        Long id=null;\r\n        String name;\r\n    }\r\n\r\nAn `@Dao` interface with just a method to extract the data **TheTableDao**:-\r\n\r\n    @Dao\r\n    interface TheTableDao {\r\n        @Query(&quot;SELECT * FROM thetable&quot;)\r\n        List&lt;TheTable&gt; getAllTheTableRows();\r\n    }\r\n\r\nA little more complex than normal `@Database` annotated abstract class **TheDatabase** :-\r\n\r\n    @Database(entities = {TheTable.class}, version = MainActivity.DATABASE_VERSION,exportSchema = false)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract TheTableDao getTheTableDao();\r\n    \r\n        /* see  https://www.sqlite.org/fileformat.html */\r\n        private static int SQLITE_HEADER_DATA_LENGTH = 100;\r\n        private static int SQLITE_HEADER_USERVERSION_OFFSET = 60;\r\n        private static int SQLITE_HEADER_USERVERSION_LENGTH = 4;\r\n    \r\n    \r\n        private volatile static TheDatabase instance=null;\r\n        static TheDatabase getInstance(Context context) {\r\n            if (instance == null) {\r\n                if (isNewAsset(context,MainActivity.ASSET_NAME,MainActivity.DATABASE_NAME)) {\r\n                    context.getDatabasePath(MainActivity.DATABASE_NAME).delete();\r\n                }\r\n                instance = Room.databaseBuilder(context,TheDatabase.class,MainActivity.DATABASE_NAME)\r\n                        .allowMainThreadQueries()\r\n                        //.fallbackToDestructiveMigration()\r\n                        .createFromAsset(MainActivity.ASSET_NAME,ppcb)\r\n                        .addMigrations(v1_v2)\r\n                        .addCallback(cb)\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        static Migration v1_v2 = new Migration(1,2) {\r\n            @Override\r\n            public void migrate(@NonNull SupportSQLiteDatabase database) {\r\n                Log.d(&quot;MIGV1-&gt;V2&quot;,&quot;Invoked Migration from V1 to V2&quot;);\r\n            }\r\n        };\r\n    \r\n        static Callback cb = new Callback() {\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                super.onCreate(db);\r\n                Log.d(&quot;CALLBACK&quot;,&quot;OnCreate Called&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\r\n                super.onDestructiveMigration(db);\r\n                Log.d(&quot;CALLBACK&quot;,&quot;OnDestructiveMigration Called&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpen(db);\r\n                Log.d(&quot;CALLBACK&quot;,&quot;OnOpen Called&quot;);\r\n            }\r\n        };\r\n    \r\n        static PrepackagedDatabaseCallback ppcb = new PrepackagedDatabaseCallback() {\r\n            @Override\r\n            public void onOpenPrepackagedDatabase(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpenPrepackagedDatabase(db);\r\n                Log.d(&quot;PPCALLBACK&quot;,&quot;PrepackagedDatabase Called&quot;);\r\n            }\r\n        };\r\n    \r\n        private static boolean isNewAsset(Context context, String asset, String dbname) {\r\n            File current_Db = context.getDatabasePath(dbname);\r\n            if(!current_Db.exists()) return false; /* No Database then nothing to do */\r\n            int current_Db_version = getDBVersion(current_Db);\r\n            Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has determined that the current database version is &quot; + current_Db_version);\r\n            if (current_Db_version &lt; 0) return false; /* No valid version */\r\n            int asssetVersion = getAssetVersion(context,asset);\r\n            Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has determined that the asset version is &quot; + asssetVersion);\r\n            if (asssetVersion &gt; current_Db_version) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has found that the asset version is greater than the current db version &quot; + current_Db_version);\r\n                return true;\r\n            } else {\r\n                Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has found that the asset version is unchanged &quot; + current_Db_version);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static int getDBVersion(File f) {\r\n            int rv = -1;\r\n            byte[] buffer = new byte[SQLITE_HEADER_DATA_LENGTH];\r\n            InputStream is;\r\n            try {\r\n                is = new FileInputStream(f);\r\n                is.read(buffer,0,buffer.length);\r\n                is.close();\r\n                rv =  getVersionFromBuffer(buffer);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return rv;\r\n        }\r\n    \r\n        private static int getAssetVersion(Context context,String asset) {\r\n            int rv = -1;\r\n            byte[] buffer = new byte[SQLITE_HEADER_DATA_LENGTH];\r\n            InputStream is;\r\n            try {\r\n                is = context.getAssets().open(asset);\r\n                is.read(buffer,0,buffer.length);\r\n                is.close();\r\n                rv = getVersionFromBuffer(buffer);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return rv;\r\n        }\r\n    \r\n    \r\n        static int getVersionFromBuffer(byte[] buffer) {\r\n            int rv = -1;\r\n            if (buffer.length == SQLITE_HEADER_DATA_LENGTH) {\r\n                ByteBuffer bb = ByteBuffer.wrap(buffer,SQLITE_HEADER_USERVERSION_OFFSET,SQLITE_HEADER_USERVERSION_LENGTH);\r\n                return  bb.getInt();\r\n            }\r\n            return rv;\r\n        }\r\n    }\r\n\r\n- **Notes**\r\n    - Although `.allowMainThreadQueries` has been used, this is just for convenience, no reliance is made upon it&#39;s use.\r\n    - what is important is the placement of the call of `isNewAsset`, this should be before the build.\r\n    - the code is complicated by callbacks (suggested as it&#39;s then easier to understand what is going on; *remove them when happy*)\r\n    - likewise some Logging\r\n    - see the reference to the SQLite documentation regarding the header.\r\n\r\nLast but not least and Activity to demonstrate **MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        public static final int DATABASE_VERSION = 1;\r\n        public static final String DATABASE_NAME = &quot;INIT_DB.sqlite3&quot;;\r\n        public static final String ASSET_NAME = &quot;db/&quot; + DATABASE_NAME;\r\n    \r\n        TheDatabase db;\r\n        TheTableDao dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getTheTableDao();\r\n            Log.d(&quot;DBINFO&quot;,&quot;Extracting data&quot;);\r\n            for (TheTable tt: dao.getAllTheTableRows()) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;ID= &quot; + tt.id + &quot; NAME= &quot; + tt.name);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n- nothing special. However, constants placed here as it seemed more convenient for testing.\r\n\r\n\r\n**First Run**\r\n\r\n1. all assets bar **V1Base.db** and **V2Base.db** deleted.\r\n2. the App uninstalled if it existed.\r\n3. **VB1Base.db** copied and pasted as **INIT_DB.sqlite3**.\r\n4. **DATABASE_VERSION** set to **1**.\r\n4. Run and the log includes \r\n\r\n:-\r\n\r\n\r\n    2022-06-12 09:50:37.804 D/DBINFO: Extracting data\r\n    2022-06-12 09:50:37.849 D/PPCALLBACK: PrepackagedDatabase Called\r\n    2022-06-12 09:50:37.905 D/CALLBACK: OnOpen Called\r\n    2022-06-12 09:50:37.910 D/DBINFO: ID= 1 NAME= V1Data001\r\n    2022-06-12 09:50:37.910 D/DBINFO: ID= 2 NAME= V1Data002\r\n    2022-06-12 09:50:37.911 D/DBINFO: ID= 3 NAME= V1Data003\r\n    2022-06-12 09:50:37.911 D/DBINFO: ID= 4 NAME= V1Data004\r\n    2022-06-12 09:50:37.911 D/DBINFO: ID= 5 NAME= V1Data005\r\n\r\n- \r\n\r\n\r\n**Second Run**\r\n\r\n1. Renamed **INIT_DB.sqlite3** to **INIT_DB.sqlite3_ORIGINAL**.\r\n2. Copied and pasted **V2Base.db** to **INIT_DB.sqlite3**.\r\n3. **DATABASE_VERSION** changed to **2**.\r\n4. Run and the log includes\r\n\r\n:-\r\n\r\n    2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has determined that the current database version is 1\r\n    2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has determined that the asset version is 2\r\n    2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has found that the asset version is greater than the current db version 1\r\n    2022-06-12 09:58:29.521 D/DBINFO: Extracting data\r\n    2022-06-12 09:58:29.560 D/PPCALLBACK: PrepackagedDatabase Called\r\n    2022-06-12 09:58:29.571 D/MIGV1-&gt;V2: Invoked Migration from V1 to V2\r\n    2022-06-12 09:58:29.617 D/CALLBACK: OnOpen Called\r\n    2022-06-12 09:58:29.622 D/DBINFO: ID= 2 NAME= V1Data002\r\n    2022-06-12 09:58:29.622 D/DBINFO: ID= 4 NAME= V1Data004\r\n    2022-06-12 09:58:29.622 D/DBINFO: ID= 6 NAME= V2Data001\r\n    2022-06-12 09:58:29.622 D/DBINFO: ID= 8 NAME= V2Data002\r\n    2022-06-12 09:58:29.622 D/DBINFO: ID= 10 NAME= V2Data003\r\n\r\nAs can be seen this time (as the database exists) the versions are obtained, the change has been detected and thus the original database file has been deleted **AND** the data is now, as expected, from the newer asset.\r\n\r\n**Third Run**\r\n\r\nAs a test when there is no new/updated asset, the log includes\r\n\r\n:-\r\n\r\n    2022-06-12 11:23:57.249 D/DBINFO: isNewAsset has determined that the current database version is 2\r\n    2022-06-12 11:23:57.249 D/DBINFO: isNewAsset has determined that the asset version is 2\r\n    2022-06-12 11:23:57.250 D/DBINFO: isNewAsset has found that the asset version is unchanged 2\r\n    2022-06-12 11:23:57.287 D/DBINFO: Extracting data\r\n    2022-06-12 11:23:57.304 D/CALLBACK: OnOpen Called\r\n    2022-06-12 11:23:57.308 D/DBINFO: ID= 2 NAME= V1Data002\r\n    2022-06-12 11:23:57.308 D/DBINFO: ID= 4 NAME= V1Data004\r\n    2022-06-12 11:23:57.308 D/DBINFO: ID= 6 NAME= V2Data001\r\n    2022-06-12 11:23:57.308 D/DBINFO: ID= 8 NAME= V2Data002\r\n    2022-06-12 11:23:57.308 D/DBINFO: ID= 10 NAME= V2Data003\r\n\r\ni.e. the asset and db are at the same level and the data remains as it was.\r\n\r\n\r\n**Fourth Run**\r\n\r\nApp is uninstalled, so as per a new install, the log includes :-\r\n\r\n    2022-06-12 11:28:46.025 D/DBINFO: Extracting data\r\n    2022-06-12 11:28:46.073 D/PPCALLBACK: PrepackagedDatabase Called\r\n    2022-06-12 11:28:46.131 D/CALLBACK: OnOpen Called\r\n    2022-06-12 11:28:46.135 D/DBINFO: ID= 2 NAME= V1Data002\r\n    2022-06-12 11:28:46.135 D/DBINFO: ID= 4 NAME= V1Data004\r\n    2022-06-12 11:28:46.136 D/DBINFO: ID= 6 NAME= V2Data001\r\n    2022-06-12 11:28:46.136 D/DBINFO: ID= 8 NAME= V2Data002\r\n    2022-06-12 11:28:46.136 D/DBINFO: ID= 10 NAME= V2Data003\r\n\r\ni.e. the latest asset is copied.\r\n\r\n**Additional example of setting the **USER_VERSION** using DB Brwoser for SQLite**\r\n\r\n1. Open the database file :-\r\n\r\n[![!\\[enter image description here][2]][2]\r\n\r\n2. Optional but suggested check the current version (here it is 1):-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n3. Change the **USER_VERSION** to 2:-\r\n\r\n[![enter image description here][4]][4]\r\n\r\n- Note that there is no result in the result window but the log window shows that the command was successfully executed.\r\n\r\n4. Check the **USER_VERSION** (strongly suggested) :-\r\n\r\n[![enter image description here][5]][5]\r\n\r\n5. SAVE (File/Close Database), quit DB Browser, restart DB Browser, Open the file and check the **USER_VERSION** again, then File/Close Database.\r\n\r\n6. Copy the amended file into the asset replacing (suggest renaming until checked) the previous asset.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fx61J.png\r\n  [2]: https://i.stack.imgur.com/MkYRF.png\r\n  [3]: https://i.stack.imgur.com/buq7f.png\r\n  [4]: https://i.stack.imgur.com/uBuo9.png\r\n  [5]: https://i.stack.imgur.com/88OiI.png","title":"RoomDB: Migration without schema changes, I just want to drop the old Database and create from asset","body":"<p>I would suggest that the way to go is to detect the change in the asset.</p>\n<p>Copying the asset and then comparing rows would be relatively inefficient. A more efficient approach, although a bit more complicated to manage would be to utilise the SQLITE <strong>USER_VERSION</strong> (or the <em><strong>APPLICATION_ID</strong></em>).</p>\n<p>This would entail setting the value in the latest asset to be greater than it was.</p>\n<p>A changed (increased) <strong>USER_VERSION</strong> can be detected by just accessing the files (the current database and the asset) and reading the first 100 bytes and then extracting the 4 bytes at offset 60 (68 for the Application Id).</p>\n<p>You can set the values using <code>PRAGMA user_version = n</code> for the <strong>USER_VERSION</strong> or (<code>PRAGMA application_id = n</code>) for the <em><strong>APPLICATION_ID</strong></em> via whatever tool you are using to maintain the database externally.</p>\n<p>You would do this every time you instantiate the Database class <strong>BEFORE</strong> you build the database. If the asset version is greater (changed) then you delete the database and thus when the build is actioned then <code>createFromAsset</code> will copy the database from the asset.</p>\n<p>I would suggest maintaining the database version in-line with the asset (although unlike the SQLite which would thrown an exception on a downgrade API Room doesn't seem to care about downgrade).</p>\n<p>Here's a <strong>working example</strong>.</p>\n<p>For the testing two asset databases have been created.</p>\n<ul>\n<li>The first (in the asset folder as V1Base) has rows with id's 1-5 inclusive and the second column name has V1 within the name.</li>\n<li>The second (in the asset folder as V2Base) has id's 2 and 4 from the first (1,3 and 5 have been deleted) and an additional 3 rows, id's 6, 8 and 10 and the name includes V2.</li>\n</ul>\n<p>The asset folder (after the 2nd test run):-</p>\n<p><a href=\"https://i.stack.imgur.com/fx61J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fx61J.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Obviously you would only have the 1 asset. However, for experimentation/testing/debugging the above allows easy manipulation of the files.\n<ul>\n<li>as the arrows show V1Base was copied to what is now INIT_DB.sqlite3_ORIGINAL (first run it was named INIT_DB.sqlite3) and V2Base was copied (after renaming INIT_DB.sqlite3 to INIT_DB.sqlite3_ORIGINAL) to INIT_DB.sqlite3</li>\n</ul>\n</li>\n</ul>\n<p>Only a single <code>@Entity</code> class was used that being <strong>TheTable</strong> :-</p>\n<pre><code>@Entity\nclass TheTable {\n    @PrimaryKey\n    Long id=null;\n    String name;\n}\n</code></pre>\n<p>An <code>@Dao</code> interface with just a method to extract the data <strong>TheTableDao</strong>:-</p>\n<pre><code>@Dao\ninterface TheTableDao {\n    @Query(&quot;SELECT * FROM thetable&quot;)\n    List&lt;TheTable&gt; getAllTheTableRows();\n}\n</code></pre>\n<p>A little more complex than normal <code>@Database</code> annotated abstract class <strong>TheDatabase</strong> :-</p>\n<pre><code>@Database(entities = {TheTable.class}, version = MainActivity.DATABASE_VERSION,exportSchema = false)\nabstract class TheDatabase extends RoomDatabase {\n    abstract TheTableDao getTheTableDao();\n\n    /* see  https://www.sqlite.org/fileformat.html */\n    private static int SQLITE_HEADER_DATA_LENGTH = 100;\n    private static int SQLITE_HEADER_USERVERSION_OFFSET = 60;\n    private static int SQLITE_HEADER_USERVERSION_LENGTH = 4;\n\n\n    private volatile static TheDatabase instance=null;\n    static TheDatabase getInstance(Context context) {\n        if (instance == null) {\n            if (isNewAsset(context,MainActivity.ASSET_NAME,MainActivity.DATABASE_NAME)) {\n                context.getDatabasePath(MainActivity.DATABASE_NAME).delete();\n            }\n            instance = Room.databaseBuilder(context,TheDatabase.class,MainActivity.DATABASE_NAME)\n                    .allowMainThreadQueries()\n                    //.fallbackToDestructiveMigration()\n                    .createFromAsset(MainActivity.ASSET_NAME,ppcb)\n                    .addMigrations(v1_v2)\n                    .addCallback(cb)\n                    .build();\n        }\n        return instance;\n    }\n\n    static Migration v1_v2 = new Migration(1,2) {\n        @Override\n        public void migrate(@NonNull SupportSQLiteDatabase database) {\n            Log.d(&quot;MIGV1-&gt;V2&quot;,&quot;Invoked Migration from V1 to V2&quot;);\n        }\n    };\n\n    static Callback cb = new Callback() {\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            super.onCreate(db);\n            Log.d(&quot;CALLBACK&quot;,&quot;OnCreate Called&quot;);\n        }\n\n        @Override\n        public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\n            super.onDestructiveMigration(db);\n            Log.d(&quot;CALLBACK&quot;,&quot;OnDestructiveMigration Called&quot;);\n        }\n\n        @Override\n        public void onOpen(@NonNull SupportSQLiteDatabase db) {\n            super.onOpen(db);\n            Log.d(&quot;CALLBACK&quot;,&quot;OnOpen Called&quot;);\n        }\n    };\n\n    static PrepackagedDatabaseCallback ppcb = new PrepackagedDatabaseCallback() {\n        @Override\n        public void onOpenPrepackagedDatabase(@NonNull SupportSQLiteDatabase db) {\n            super.onOpenPrepackagedDatabase(db);\n            Log.d(&quot;PPCALLBACK&quot;,&quot;PrepackagedDatabase Called&quot;);\n        }\n    };\n\n    private static boolean isNewAsset(Context context, String asset, String dbname) {\n        File current_Db = context.getDatabasePath(dbname);\n        if(!current_Db.exists()) return false; /* No Database then nothing to do */\n        int current_Db_version = getDBVersion(current_Db);\n        Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has determined that the current database version is &quot; + current_Db_version);\n        if (current_Db_version &lt; 0) return false; /* No valid version */\n        int asssetVersion = getAssetVersion(context,asset);\n        Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has determined that the asset version is &quot; + asssetVersion);\n        if (asssetVersion &gt; current_Db_version) {\n            Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has found that the asset version is greater than the current db version &quot; + current_Db_version);\n            return true;\n        } else {\n            Log.d(&quot;DBINFO&quot;,&quot;isNewAsset has found that the asset version is unchanged &quot; + current_Db_version);\n        }\n        return false;\n    }\n\n    private static int getDBVersion(File f) {\n        int rv = -1;\n        byte[] buffer = new byte[SQLITE_HEADER_DATA_LENGTH];\n        InputStream is;\n        try {\n            is = new FileInputStream(f);\n            is.read(buffer,0,buffer.length);\n            is.close();\n            rv =  getVersionFromBuffer(buffer);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return rv;\n    }\n\n    private static int getAssetVersion(Context context,String asset) {\n        int rv = -1;\n        byte[] buffer = new byte[SQLITE_HEADER_DATA_LENGTH];\n        InputStream is;\n        try {\n            is = context.getAssets().open(asset);\n            is.read(buffer,0,buffer.length);\n            is.close();\n            rv = getVersionFromBuffer(buffer);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return rv;\n    }\n\n\n    static int getVersionFromBuffer(byte[] buffer) {\n        int rv = -1;\n        if (buffer.length == SQLITE_HEADER_DATA_LENGTH) {\n            ByteBuffer bb = ByteBuffer.wrap(buffer,SQLITE_HEADER_USERVERSION_OFFSET,SQLITE_HEADER_USERVERSION_LENGTH);\n            return  bb.getInt();\n        }\n        return rv;\n    }\n}\n</code></pre>\n<ul>\n<li><strong>Notes</strong>\n<ul>\n<li>Although <code>.allowMainThreadQueries</code> has been used, this is just for convenience, no reliance is made upon it's use.</li>\n<li>what is important is the placement of the call of <code>isNewAsset</code>, this should be before the build.</li>\n<li>the code is complicated by callbacks (suggested as it's then easier to understand what is going on; <em>remove them when happy</em>)</li>\n<li>likewise some Logging</li>\n<li>see the reference to the SQLite documentation regarding the header.</li>\n</ul>\n</li>\n</ul>\n<p>Last but not least and Activity to demonstrate <strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public static final int DATABASE_VERSION = 1;\n    public static final String DATABASE_NAME = &quot;INIT_DB.sqlite3&quot;;\n    public static final String ASSET_NAME = &quot;db/&quot; + DATABASE_NAME;\n\n    TheDatabase db;\n    TheTableDao dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = TheDatabase.getInstance(this);\n        dao = db.getTheTableDao();\n        Log.d(&quot;DBINFO&quot;,&quot;Extracting data&quot;);\n        for (TheTable tt: dao.getAllTheTableRows()) {\n            Log.d(&quot;DBINFO&quot;,&quot;ID= &quot; + tt.id + &quot; NAME= &quot; + tt.name);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>nothing special. However, constants placed here as it seemed more convenient for testing.</li>\n</ul>\n<p><strong>First Run</strong></p>\n<ol>\n<li>all assets bar <strong>V1Base.db</strong> and <strong>V2Base.db</strong> deleted.</li>\n<li>the App uninstalled if it existed.</li>\n<li><strong>VB1Base.db</strong> copied and pasted as <strong>INIT_DB.sqlite3</strong>.</li>\n<li><strong>DATABASE_VERSION</strong> set to <strong>1</strong>.</li>\n<li>Run and the log includes</li>\n</ol>\n<p>:-</p>\n<pre><code>2022-06-12 09:50:37.804 D/DBINFO: Extracting data\n2022-06-12 09:50:37.849 D/PPCALLBACK: PrepackagedDatabase Called\n2022-06-12 09:50:37.905 D/CALLBACK: OnOpen Called\n2022-06-12 09:50:37.910 D/DBINFO: ID= 1 NAME= V1Data001\n2022-06-12 09:50:37.910 D/DBINFO: ID= 2 NAME= V1Data002\n2022-06-12 09:50:37.911 D/DBINFO: ID= 3 NAME= V1Data003\n2022-06-12 09:50:37.911 D/DBINFO: ID= 4 NAME= V1Data004\n2022-06-12 09:50:37.911 D/DBINFO: ID= 5 NAME= V1Data005\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p><strong>Second Run</strong></p>\n<ol>\n<li>Renamed <strong>INIT_DB.sqlite3</strong> to <strong>INIT_DB.sqlite3_ORIGINAL</strong>.</li>\n<li>Copied and pasted <strong>V2Base.db</strong> to <strong>INIT_DB.sqlite3</strong>.</li>\n<li><strong>DATABASE_VERSION</strong> changed to <strong>2</strong>.</li>\n<li>Run and the log includes</li>\n</ol>\n<p>:-</p>\n<pre><code>2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has determined that the current database version is 1\n2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has determined that the asset version is 2\n2022-06-12 09:58:29.484 D/DBINFO: isNewAsset has found that the asset version is greater than the current db version 1\n2022-06-12 09:58:29.521 D/DBINFO: Extracting data\n2022-06-12 09:58:29.560 D/PPCALLBACK: PrepackagedDatabase Called\n2022-06-12 09:58:29.571 D/MIGV1-&gt;V2: Invoked Migration from V1 to V2\n2022-06-12 09:58:29.617 D/CALLBACK: OnOpen Called\n2022-06-12 09:58:29.622 D/DBINFO: ID= 2 NAME= V1Data002\n2022-06-12 09:58:29.622 D/DBINFO: ID= 4 NAME= V1Data004\n2022-06-12 09:58:29.622 D/DBINFO: ID= 6 NAME= V2Data001\n2022-06-12 09:58:29.622 D/DBINFO: ID= 8 NAME= V2Data002\n2022-06-12 09:58:29.622 D/DBINFO: ID= 10 NAME= V2Data003\n</code></pre>\n<p>As can be seen this time (as the database exists) the versions are obtained, the change has been detected and thus the original database file has been deleted <strong>AND</strong> the data is now, as expected, from the newer asset.</p>\n<p><strong>Third Run</strong></p>\n<p>As a test when there is no new/updated asset, the log includes</p>\n<p>:-</p>\n<pre><code>2022-06-12 11:23:57.249 D/DBINFO: isNewAsset has determined that the current database version is 2\n2022-06-12 11:23:57.249 D/DBINFO: isNewAsset has determined that the asset version is 2\n2022-06-12 11:23:57.250 D/DBINFO: isNewAsset has found that the asset version is unchanged 2\n2022-06-12 11:23:57.287 D/DBINFO: Extracting data\n2022-06-12 11:23:57.304 D/CALLBACK: OnOpen Called\n2022-06-12 11:23:57.308 D/DBINFO: ID= 2 NAME= V1Data002\n2022-06-12 11:23:57.308 D/DBINFO: ID= 4 NAME= V1Data004\n2022-06-12 11:23:57.308 D/DBINFO: ID= 6 NAME= V2Data001\n2022-06-12 11:23:57.308 D/DBINFO: ID= 8 NAME= V2Data002\n2022-06-12 11:23:57.308 D/DBINFO: ID= 10 NAME= V2Data003\n</code></pre>\n<p>i.e. the asset and db are at the same level and the data remains as it was.</p>\n<p><strong>Fourth Run</strong></p>\n<p>App is uninstalled, so as per a new install, the log includes :-</p>\n<pre><code>2022-06-12 11:28:46.025 D/DBINFO: Extracting data\n2022-06-12 11:28:46.073 D/PPCALLBACK: PrepackagedDatabase Called\n2022-06-12 11:28:46.131 D/CALLBACK: OnOpen Called\n2022-06-12 11:28:46.135 D/DBINFO: ID= 2 NAME= V1Data002\n2022-06-12 11:28:46.135 D/DBINFO: ID= 4 NAME= V1Data004\n2022-06-12 11:28:46.136 D/DBINFO: ID= 6 NAME= V2Data001\n2022-06-12 11:28:46.136 D/DBINFO: ID= 8 NAME= V2Data002\n2022-06-12 11:28:46.136 D/DBINFO: ID= 10 NAME= V2Data003\n</code></pre>\n<p>i.e. the latest asset is copied.</p>\n<p><strong>Additional example of setting the <strong>USER_VERSION</strong> using DB Brwoser for SQLite</strong></p>\n<ol>\n<li>Open the database file :-</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/MkYRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MkYRF.png\" alt=\"![enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Optional but suggested check the current version (here it is 1):-</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/buq7f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/buq7f.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Change the <strong>USER_VERSION</strong> to 2:-</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/uBuo9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBuo9.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Note that there is no result in the result window but the log window shows that the command was successfully executed.</li>\n</ul>\n<ol start=\"4\">\n<li>Check the <strong>USER_VERSION</strong> (strongly suggested) :-</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/88OiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/88OiI.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li><p>SAVE (File/Close Database), quit DB Browser, restart DB Browser, Open the file and check the <strong>USER_VERSION</strong> again, then File/Close Database.</p>\n</li>\n<li><p>Copy the amended file into the asset replacing (suggest renaming until checked) the previous asset.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4545435,"reputation":860,"user_id":3692177,"accept_rate":88,"display_name":"SebasSBM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72588665,"answer_count":2,"score":2,"last_activity_date":1655163151,"creation_date":1654915232,"question_id":72581361,"body_markdown":"My app doesn&#39;t need to keep user&#39;s custom data yet, all Data in Database is prepopulated via `createFromAsset()`. Now I want to make a version 2 that, when installed in device that already runs version 1, just drop all the data and feed it with `createFromAsset()` just like it already works for new installations. The point is version 2 has more data than version 1, but also some old data has been removed and replaced. Remember that user doesn&#39;t insert any data at all.\r\n\r\nI tried combining `createFromAsset()` with `fallbackToDestructiveMigration()` to no avail, even incrementing the schema version parameter in `@Database` annotation.\r\n\r\n    db = Room.databaseBuilder(mCtx, AppDatabase.class, &quot;AppDatabase&quot;)\r\n                .fallbackToDestructiveMigration()\r\n                .createFromAsset(&quot;db/INIT_DB.sqlite3&quot;)\r\n                .build();\r\n\r\nThis would just delete the data when updating the app, but not repopulating from asset as I expected. What is the most simple way to just drop the old database and repopulate it? Must I use migrations for this, even though the DB schema is still the same?\r\n\r\n----\r\n\r\n**EDIT:** After trying the `Callbacks` provided by @MikeT, if I install and run (by pressing Play on AndroidStudio) the &quot;version2&quot; of the App over an already installed &quot;version1&quot; (from the Google Play Store), the logs I obtain are as follows:\r\n\r\nFirst, with `fallbackToDestructiveMigration()`:\r\n\r\n    2022-06-13 XX:XX:XX.XXX 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnDestructiveMigration Called\r\n    2022-06-13 XX:XX:XX.XXY 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnOpen Called\r\n\r\n...and now, providing the &quot;empty migration&quot; instead:\r\n\r\n    2022-06-13 XX:XX:XX.XXX 5859-5907/com.mydomain.myapp I/MYAPP_INFO: MIGRATION! Invoked Migration from V1 to V2\r\n    2022-06-13 XX:XX:XX.XXY 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnOpen Called\r\n\r\n - The `.fallbackToDestructiveMigration()` approach just leads to the\r\n   database getting empty when installing new version over the older, and the asset with the new DB data to be ignored.\r\n - The approach in which I implement the empty migration (as well as the approach in which I try to check the &quot;new version of the asset&quot; and call delete() database from `ctx`), when installing new version over the older, just keeps using the old data, ignoring (once again) all the new data from the asset. **And here comes the funny part**: if, after launching the version2, I just hold my finger over my app&#39;s icon (OS level), &quot;click&quot; on &quot;clean data&quot; and then &quot;delete all data&quot; (emptying therefore the database itself), and **then open the app again**, the `createFromAsset()` kicks in!! **The whole point is** I&#39;d like to spare final users the nuisance of deleting the old database themselves!\r\n\r\nIn both cases, if the installation is done without previous version on the device, the `.createFromAsset` works as expected.\n\n## FOR THE RECORD\nI am still using a single &quot;asset name&quot; for both versions of the app, and one single asset file: `INIT_DB.db` (is an SQLITE3 file anyway, but the SDK won&#39;t swallow it if I don&#39;t use `.db` extension... yet let&#39;s consider the &quot;mock name&quot; `INIT_DB.sqlite3` in the code samples to be valid... ","title":"RoomDB: Migration without schema changes, I just want to drop the old Database and create from asset","body":"<p>My app doesn't need to keep user's custom data yet, all Data in Database is prepopulated via <code>createFromAsset()</code>. Now I want to make a version 2 that, when installed in device that already runs version 1, just drop all the data and feed it with <code>createFromAsset()</code> just like it already works for new installations. The point is version 2 has more data than version 1, but also some old data has been removed and replaced. Remember that user doesn't insert any data at all.</p>\n<p>I tried combining <code>createFromAsset()</code> with <code>fallbackToDestructiveMigration()</code> to no avail, even incrementing the schema version parameter in <code>@Database</code> annotation.</p>\n<pre><code>db = Room.databaseBuilder(mCtx, AppDatabase.class, &quot;AppDatabase&quot;)\n            .fallbackToDestructiveMigration()\n            .createFromAsset(&quot;db/INIT_DB.sqlite3&quot;)\n            .build();\n</code></pre>\n<p>This would just delete the data when updating the app, but not repopulating from asset as I expected. What is the most simple way to just drop the old database and repopulate it? Must I use migrations for this, even though the DB schema is still the same?</p>\n<hr />\n<p><strong>EDIT:</strong> After trying the <code>Callbacks</code> provided by @MikeT, if I install and run (by pressing Play on AndroidStudio) the &quot;version2&quot; of the App over an already installed &quot;version1&quot; (from the Google Play Store), the logs I obtain are as follows:</p>\n<p>First, with <code>fallbackToDestructiveMigration()</code>:</p>\n<pre><code>2022-06-13 XX:XX:XX.XXX 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnDestructiveMigration Called\n2022-06-13 XX:XX:XX.XXY 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnOpen Called\n</code></pre>\n<p>...and now, providing the &quot;empty migration&quot; instead:</p>\n<pre><code>2022-06-13 XX:XX:XX.XXX 5859-5907/com.mydomain.myapp I/MYAPP_INFO: MIGRATION! Invoked Migration from V1 to V2\n2022-06-13 XX:XX:XX.XXY 5859-5907/com.mydomain.myapp I/MYAPP_INFO: CALLBACK -&gt; OnOpen Called\n</code></pre>\n<ul>\n<li>The <code>.fallbackToDestructiveMigration()</code> approach just leads to the\ndatabase getting empty when installing new version over the older, and the asset with the new DB data to be ignored.</li>\n<li>The approach in which I implement the empty migration (as well as the approach in which I try to check the &quot;new version of the asset&quot; and call delete() database from <code>ctx</code>), when installing new version over the older, just keeps using the old data, ignoring (once again) all the new data from the asset. <strong>And here comes the funny part</strong>: if, after launching the version2, I just hold my finger over my app's icon (OS level), &quot;click&quot; on &quot;clean data&quot; and then &quot;delete all data&quot; (emptying therefore the database itself), and <strong>then open the app again</strong>, the <code>createFromAsset()</code> kicks in!! <strong>The whole point is</strong> I'd like to spare final users the nuisance of deleting the old database themselves!</li>\n</ul>\n<p>In both cases, if the installation is done without previous version on the device, the <code>.createFromAsset</code> works as expected.</p>\n<h2>FOR THE RECORD</h2>\n<p>I am still using a single &quot;asset name&quot; for both versions of the app, and one single asset file: <code>INIT_DB.db</code> (is an SQLITE3 file anyway, but the SDK won't swallow it if I don't use <code>.db</code> extension... yet let's consider the &quot;mock name&quot; <code>INIT_DB.sqlite3</code> in the code samples to be valid...</p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":27657,"reputation":442143,"user_id":73226,"accept_rate":100,"display_name":"Martin Smith"},"score":1,"creation_date":1655163039,"post_id":72609550,"comment_id":128261931,"body_markdown":"Why don&#39;t you alias one or both of the columns in your `SELECT  b1.company_id, b2.company_id` query so they don&#39;t both have the same name?","body":"Why don&#39;t you alias one or both of the columns in your <code>SELECT  b1.company_id, b2.company_id</code> query so they don&#39;t both have the same name?"}],"owner":{"account_id":24582489,"reputation":13,"user_id":18487400,"display_name":"Dimension"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655163073,"creation_date":1655157946,"question_id":72609550,"body_markdown":"Here is my problem :\r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Request processing failed; nested exception is\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Encountered a\r\n&gt; duplicated sql alias [company_id] during auto-discovery of a\r\n&gt; native-sql query; nested exception is\r\n&gt; org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException:\r\n&gt; Encountered a duplicated sql alias [company_id] during auto-discovery\r\n&gt; of a native-sql query] with root cause\r\n&gt; \r\n&gt; org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException:\r\n&gt; Encountered a duplicated sql alias [company_id] during auto-discovery\r\n&gt; of a native-sql query\r\n\r\n\r\nMy 3 entities: \r\n\r\n    package ch.zhaw.springboot.entities;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    \r\n    \r\n    \r\n    @Entity\r\n    public class Company {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \r\n    \tprivate String Name;\r\n    \t\r\n    \t@OneToMany\r\n    \tprivate List&lt;Orders&gt; orders;\r\n    \r\n    \tpublic Company() {\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \r\n    \tpublic Company(long id, String name) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tName = name;\r\n    \t}\r\n    \r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn Name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tName = name;\r\n    \t}\r\n    \r\n    \r\n    \t}\r\n\r\n\r\n\r\n\r\n    package ch.zhaw.springboot.entities;\r\n    \r\n    import java.sql.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Entity\r\n    public class Orders {\r\n    \r\n    \t\t@Id\r\n    \t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t\tprivate long id;\r\n    \r\n    \t\tprivate Date date;\r\n    \r\n    \t\t\r\n    \t\t@ManyToOne\r\n    \t\tprivate Company company;\r\n    \t\t@ManyToOne\r\n    \t\tprivate Item item;\r\n    \t\r\n    \t\t\r\n    \t\tpublic Orders() {\r\n    \t\t}\r\n    \r\n    \r\n    \t\tpublic Orders(long id, Date date) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.date = date;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\tpublic Item getItem() {\r\n    \t\t\treturn item;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Company getCompany() {\r\n    \t\t\treturn company;\r\n    \t\t}\r\n    \r\n    \t\tpublic long getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \r\n    \r\n    \t\tpublic Date getDate() {\r\n    \t\t\treturn date;\r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \t\r\n    }\r\n\r\n\r\n\r\n    package ch.zhaw.springboot.entities;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    import org.hibernate.annotations.NotFound;\r\n    import org.hibernate.annotations.NotFoundAction;\r\n    \r\n    \r\n    @Entity\r\n    @org.hibernate.annotations.DiscriminatorOptions(force=true)\r\n    public class Item {\r\n    \r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \r\n    \tprivate String Name;\r\n    \r\n    \t@OneToMany\r\n    \tprivate List&lt;Orders&gt; orders;\r\n    \t@NotFound(action = NotFoundAction.IGNORE)\r\n    \t@ManyToOne\r\n    \tprivate System system;\r\n    \r\n    \tpublic Item() {\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Item(long id, String name) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tName = name;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn Name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tName = name;\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    }\r\n\r\n\r\nMy repository:\r\n\r\n        package ch.zhaw.springboot.repositories;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import ch.zhaw.springboot.entities.Company;\r\n    import ch.zhaw.springboot.entities.Orders;\r\n    \r\n    @Repository\r\n    public interface OrdersRepository extends JpaRepository&lt;Orders, Long&gt; \r\n     {\r\n    \r\n    \t@Query(value = &quot;SELECT  b1.company_id, b2.company_id FROM Orders b1, Orders b2\\r\\n&quot;\r\n    \t\t\t+ &quot;WHERE b1.item_id = b2.item_id\\r\\n&quot;\r\n    \t\t\t+ &quot;AND b1.company_id &lt; b2.company_id&quot;, nativeQuery = true)\r\n    \tpublic List&lt;Company&gt; getCompanyEdgesById(long id);\r\n    \r\n    \t\r\n    \t\r\n    }\r\n\r\nMy Controller:\r\n\r\n    package ch.zhaw.springboot.restcontroller;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import ch.zhaw.springboot.entities.Company;\r\n    import ch.zhaw.springboot.entities.Item;\r\n    import ch.zhaw.springboot.entities.Orders;\r\n    import ch.zhaw.springboot.repositories.CompanyRepository;\r\n    import ch.zhaw.springboot.repositories.ItemRepository;\r\n    import ch.zhaw.springboot.repositories.OrdersRepository;\r\n    import ch.zhaw.springboot.repositories.OrdersRepository;\r\n    \r\n    @RestController\r\n    @CrossOrigin\r\n    public class OrdersRestController {\r\n    \r\n    \t@Autowired\r\n    \tprivate OrdersRepository repository;\r\n    \t\r\n    \t@RequestMapping(value = &quot;/Orders&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;List&lt;Orders&gt;&gt; getOrders() {\r\n    \t\tList&lt;Orders&gt; result = this.repository.findAll();\r\n    \t\tif (!result.isEmpty()) {\r\n    \t\t\treturn new ResponseEntity&lt;List&lt;Orders&gt;&gt;(result, HttpStatus.OK);\r\n    \t\t} else {\r\n    \t\t\treturn new ResponseEntity&lt;List&lt;Orders&gt;&gt;(HttpStatus.NOT_FOUND);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value = &quot;/Orders/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;Orders&gt; getOrdersByID(@PathVariable(&quot;id&quot;) long id) {\r\n    \t\tOptional&lt;Orders&gt; result = this.repository.findById(id);\r\n    \t\tif (result.isPresent()) {\r\n    \t\t\treturn new ResponseEntity&lt;Orders&gt;(result.get(), HttpStatus.OK);\r\n    \t\t} else {\r\n    \t\t\treturn new ResponseEntity&lt;Orders&gt;(HttpStatus.NOT_FOUND);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@RequestMapping(value = &quot;Com/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;List&lt;Company&gt;&gt; getCompanyEdgesById(@PathVariable(&quot;id&quot;) long id) {\r\n    \t\tList&lt;Company&gt; result = this.repository.getCompanyEdgesById(id);\r\n    \r\n    \t\tif (!result.isEmpty()) {\r\n    \t\t\treturn new ResponseEntity&lt;List&lt;Company&gt;&gt;(result, HttpStatus.OK);\r\n    \t\t} else {\r\n    \t\t\treturn new ResponseEntity&lt;List&lt;Company&gt;&gt;(HttpStatus.NOT_FOUND);\r\n    \t\t}\r\n    \t} \r\n    \t\r\n    \t\r\n    \t\r\n    }","title":"Encountered a duplicated sql alias [company_id] during auto-discovery of a native-sql query","body":"<p>Here is my problem :</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path\n[] threw exception [Request processing failed; nested exception is\norg.springframework.orm.jpa.JpaSystemException: Encountered a\nduplicated sql alias [company_id] during auto-discovery of a\nnative-sql query; nested exception is\norg.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException:\nEncountered a duplicated sql alias [company_id] during auto-discovery\nof a native-sql query] with root cause</p>\n<p>org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException:\nEncountered a duplicated sql alias [company_id] during auto-discovery\nof a native-sql query</p>\n</blockquote>\n<p>My 3 entities:</p>\n<pre><code>package ch.zhaw.springboot.entities;\n\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\n\n\n\n\n@Entity\npublic class Company {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String Name;\n    \n    @OneToMany\n    private List&lt;Orders&gt; orders;\n\n    public Company() {\n    }\n    \n    \n\n\n    public Company(long id, String name) {\n        super();\n        this.id = id;\n        Name = name;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n\n    }\n\n\n\n\npackage ch.zhaw.springboot.entities;\n\nimport java.sql.Date;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\n\n@Entity\npublic class Orders {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private long id;\n\n        private Date date;\n\n        \n        @ManyToOne\n        private Company company;\n        @ManyToOne\n        private Item item;\n    \n        \n        public Orders() {\n        }\n\n\n        public Orders(long id, Date date) {\n            super();\n            this.id = id;\n            this.date = date;\n        }\n\n        \n        public Item getItem() {\n            return item;\n        }\n        \n        public Company getCompany() {\n            return company;\n        }\n\n        public long getId() {\n            return id;\n        }\n\n\n        public Date getDate() {\n            return date;\n        }\n\n\n\n    \n}\n\n\n\npackage ch.zhaw.springboot.entities;\n\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport org.hibernate.annotations.NotFound;\nimport org.hibernate.annotations.NotFoundAction;\n\n\n@Entity\n@org.hibernate.annotations.DiscriminatorOptions(force=true)\npublic class Item {\n\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String Name;\n\n    @OneToMany\n    private List&lt;Orders&gt; orders;\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne\n    private System system;\n\n    public Item() {\n    }\n    \n    \n    public Item(long id, String name) {\n        super();\n        this.id = id;\n        Name = name;\n    }\n\n\n\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n\n    \n}\n</code></pre>\n<p>My repository:</p>\n<pre><code>    package ch.zhaw.springboot.repositories;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport ch.zhaw.springboot.entities.Company;\nimport ch.zhaw.springboot.entities.Orders;\n\n@Repository\npublic interface OrdersRepository extends JpaRepository&lt;Orders, Long&gt; \n {\n\n    @Query(value = &quot;SELECT  b1.company_id, b2.company_id FROM Orders b1, Orders b2\\r\\n&quot;\n            + &quot;WHERE b1.item_id = b2.item_id\\r\\n&quot;\n            + &quot;AND b1.company_id &lt; b2.company_id&quot;, nativeQuery = true)\n    public List&lt;Company&gt; getCompanyEdgesById(long id);\n\n    \n    \n}\n</code></pre>\n<p>My Controller:</p>\n<pre><code>package ch.zhaw.springboot.restcontroller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport ch.zhaw.springboot.entities.Company;\nimport ch.zhaw.springboot.entities.Item;\nimport ch.zhaw.springboot.entities.Orders;\nimport ch.zhaw.springboot.repositories.CompanyRepository;\nimport ch.zhaw.springboot.repositories.ItemRepository;\nimport ch.zhaw.springboot.repositories.OrdersRepository;\nimport ch.zhaw.springboot.repositories.OrdersRepository;\n\n@RestController\n@CrossOrigin\npublic class OrdersRestController {\n\n    @Autowired\n    private OrdersRepository repository;\n    \n    @RequestMapping(value = &quot;/Orders&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;List&lt;Orders&gt;&gt; getOrders() {\n        List&lt;Orders&gt; result = this.repository.findAll();\n        if (!result.isEmpty()) {\n            return new ResponseEntity&lt;List&lt;Orders&gt;&gt;(result, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;List&lt;Orders&gt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    \n    @RequestMapping(value = &quot;/Orders/{id}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;Orders&gt; getOrdersByID(@PathVariable(&quot;id&quot;) long id) {\n        Optional&lt;Orders&gt; result = this.repository.findById(id);\n        if (result.isPresent()) {\n            return new ResponseEntity&lt;Orders&gt;(result.get(), HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;Orders&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    \n    \n    @RequestMapping(value = &quot;Com/{id}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;List&lt;Company&gt;&gt; getCompanyEdgesById(@PathVariable(&quot;id&quot;) long id) {\n        List&lt;Company&gt; result = this.repository.getCompanyEdgesById(id);\n\n        if (!result.isEmpty()) {\n            return new ResponseEntity&lt;List&lt;Company&gt;&gt;(result, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;List&lt;Company&gt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    } \n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","c","memory-management","java-native-interface"],"comments":[{"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"score":1,"creation_date":1487382539,"post_id":42310107,"comment_id":71775149,"body_markdown":"What? I don&#39;t understand what you are asking.. A function in JNI can only return LOCAL references IF that the reference is captured by a Java program interacting with it (IE: Garbage Collection). Otherwise the local reference dies when the function ends. Thus the function must make the reference global and return that in order for another C function to use it, then it must be freed after.","body":"What? I don&#39;t understand what you are asking.. A function in JNI can only return LOCAL references IF that the reference is captured by a Java program interacting with it (IE: Garbage Collection). Otherwise the local reference dies when the function ends. Thus the function must make the reference global and return that in order for another C function to use it, then it must be freed after."},{"owner":{"account_id":1145390,"reputation":22765,"user_id":1128289,"accept_rate":85,"display_name":"Praxeolitic"},"score":0,"creation_date":1487383108,"post_id":42310107,"comment_id":71775237,"body_markdown":"@Brandon I&#39;ll try to clarify in words first but I can add an example. A C program embeds a Java VM, i.e. calls `JNI_CreateJavaVM()`. It calls a JNI function that returns a Java object. Since the C program is above the VM in the native call stack, it will never return to the VM. Is there any way for the C program to tell Java that it can free the returned object? The C program could create a global reference but there will still be a local reference. There&#39;s no enclosing Java function in this case. (I don&#39;t regularly use Java so it could be me that is confused here. Please just say so.)","body":"@Brandon I&#39;ll try to clarify in words first but I can add an example. A C program embeds a Java VM, i.e. calls <code>JNI_CreateJavaVM()</code>. It calls a JNI function that returns a Java object. Since the C program is above the VM in the native call stack, it will never return to the VM. Is there any way for the C program to tell Java that it can free the returned object? The C program could create a global reference but there will still be a local reference. There&#39;s no enclosing Java function in this case. (I don&#39;t regularly use Java so it could be me that is confused here. Please just say so.)"},{"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"score":1,"creation_date":1487383380,"post_id":42310107,"comment_id":71775271,"body_markdown":"If you create a JVM you must destroy it yourself. If you allocate a Java object within that VM, the vm can free it depending on the type of object. Otherwise you must free it yourself (ie: strings -- you call &quot;ReleaseStringUTFChars&quot;).","body":"If you create a JVM you must destroy it yourself. If you allocate a Java object within that VM, the vm can free it depending on the type of object. Otherwise you must free it yourself (ie: strings -- you call &quot;ReleaseStringUTFChars&quot;)."},{"owner":{"account_id":1145390,"reputation":22765,"user_id":1128289,"accept_rate":85,"display_name":"Praxeolitic"},"score":0,"creation_date":1487386264,"post_id":42310107,"comment_id":71775820,"body_markdown":"@Brandon Check the example I added. The JVM is manually destroyed. A Java object is created here but it seems like the VM has no chance to free it  during the life of the program since the VM never regains control flow and there&#39;s no call that manually tells the VM that it may free the object. If there is an error in this code, how could I have found it? Please ask for clarification if needed. Thanks.","body":"@Brandon Check the example I added. The JVM is manually destroyed. A Java object is created here but it seems like the VM has no chance to free it  during the life of the program since the VM never regains control flow and there&#39;s no call that manually tells the VM that it may free the object. If there is an error in this code, how could I have found it? Please ask for clarification if needed. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487408821,"creation_date":1487398632,"answer_id":42311819,"question_id":42310107,"body_markdown":"You must turn your `jobj` into a `GlobalRef` as soon as you acquire it, and call `DeleteGlobalRef()` when you&#39;re finished with it.","title":"What are the rules for JNI local references returned to a program that embeds a Java VM?","body":"<p>You must turn your <code>jobj</code> into a <code>GlobalRef</code> as soon as you acquire it, and call <code>DeleteGlobalRef()</code> when you're finished with it.</p>\n"},{"tags":[],"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487542116,"creation_date":1487540087,"answer_id":42333173,"question_id":42310107,"body_markdown":"As you say, you are not in a `native` method so there will be no cleaning up upon &quot;return&quot;. Your question is about cleaning well before return.\r\n\r\nTo free a [local reference](https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#local_references), you have two choices:\r\n\r\n* `DeleteLocalRef` for one reference.\r\n* `PushLocalFrame`/`PopLocalFrame` for a group of references.\r\n\r\n(I suspect `PushLocalFrame`/`PopLocalFrame` is how the clean up of a `native` method is done.)\r\n\r\n**Example:**\r\n\r\nTestKlass.java\r\n\r\n    public class TestKlass {\r\n        public TestKlass() {\r\n            System.out.println(&quot;Java: TestKlass::TestKlass()&quot;);\r\n        }\r\n    \r\n        public void finalize() {\r\n            System.out.println(&quot;Java: TestKlass::finalize()&quot;);\r\n        }\r\n    \r\n        public static void force_gc() {\r\n            System.out.println(&quot;Java: TestKlass::force_gc()&quot;);\r\n    \r\n            System.gc();\r\n            System.runFinalization();\r\n        }\r\n    }\r\n\r\nrun.c\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    \r\n    JNIEnv* create_vm(JavaVM** jvm)\r\n    {\r\n        JNIEnv* env;\r\n        JavaVMInitArgs vm_args;\r\n    \r\n       // For this example, TestKlass.java and run.c are assumed to live in and\r\n        //     be compiled the same directory, so &#39;.&#39; is added to the Java path.\r\n        char opts0[] = &quot;-Djava.class.path=.&quot;;\r\n        char opts1[] = &quot;-Xcheck:jni&quot;;\r\n        JavaVMOption opts[2];\r\n        opts[0].optionString = opts0;\r\n        opts[1].optionString = opts1;\r\n    \r\n        vm_args.version = JNI_VERSION_1_6;\r\n        vm_args.nOptions = 2;\r\n        vm_args.options = opts;\r\n        vm_args.ignoreUnrecognized = 0;\r\n    \r\n        jint r = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;vm_args);\r\n        if (r &lt; 0 || !env) {\r\n            printf(&quot;Unable to Launch JVM %d\\n&quot;, r);\r\n            abort();\r\n        }\r\n        printf(&quot;Launched JVM! :)\\n&quot;);\r\n    \r\n        return env;\r\n    }\r\n    \r\n    int main(int argc, char **argv)\r\n    {\r\n        JavaVM *jvm;\r\n        JNIEnv *env;\r\n        env = create_vm(&amp;jvm);\r\n        if(env == NULL)\r\n            return 1;\r\n    \r\n        jclass cls = (*env)-&gt;FindClass(env, &quot;TestKlass&quot;);\r\n        jmethodID mid = (*env)-&gt;GetMethodID(env, cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n        jobject jobj = (*env)-&gt;NewObject(env, cls, mid);\r\n    \r\n        (*env)-&gt;DeleteLocalRef(env, jobj);\r\n        jmethodID mid2 = (*env)-&gt;GetStaticMethodID(env, cls, &quot;force_gc&quot;, &quot;()V&quot;);\r\n        (*env)-&gt;CallStaticVoidMethod(env, cls, mid2);\r\n    \r\n        (*jvm)-&gt;DestroyJavaVM(jvm);\r\n    }\r\n\r\noutput\r\n\r\n    Launched JVM! :)\r\n    Java: TestKlass::TestKlass()\r\n    Java: TestKlass::force_gc()\r\n    Java: TestKlass::finalize()\r\n\r\nRemoving either the call to `DeleteLocalRef()` or the call to `force_gc()` prevents `finalize()` from running.","title":"What are the rules for JNI local references returned to a program that embeds a Java VM?","body":"<p>As you say, you are not in a <code>native</code> method so there will be no cleaning up upon \"return\". Your question is about cleaning well before return.</p>\n\n<p>To free a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#local_references\" rel=\"nofollow noreferrer\">local reference</a>, you have two choices:</p>\n\n<ul>\n<li><code>DeleteLocalRef</code> for one reference.</li>\n<li><code>PushLocalFrame</code>/<code>PopLocalFrame</code> for a group of references.</li>\n</ul>\n\n<p>(I suspect <code>PushLocalFrame</code>/<code>PopLocalFrame</code> is how the clean up of a <code>native</code> method is done.)</p>\n\n<p><strong>Example:</strong></p>\n\n<p>TestKlass.java</p>\n\n<pre><code>public class TestKlass {\n    public TestKlass() {\n        System.out.println(\"Java: TestKlass::TestKlass()\");\n    }\n\n    public void finalize() {\n        System.out.println(\"Java: TestKlass::finalize()\");\n    }\n\n    public static void force_gc() {\n        System.out.println(\"Java: TestKlass::force_gc()\");\n\n        System.gc();\n        System.runFinalization();\n    }\n}\n</code></pre>\n\n<p>run.c</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdlib.h&gt;\n\nJNIEnv* create_vm(JavaVM** jvm)\n{\n    JNIEnv* env;\n    JavaVMInitArgs vm_args;\n\n   // For this example, TestKlass.java and run.c are assumed to live in and\n    //     be compiled the same directory, so '.' is added to the Java path.\n    char opts0[] = \"-Djava.class.path=.\";\n    char opts1[] = \"-Xcheck:jni\";\n    JavaVMOption opts[2];\n    opts[0].optionString = opts0;\n    opts[1].optionString = opts1;\n\n    vm_args.version = JNI_VERSION_1_6;\n    vm_args.nOptions = 2;\n    vm_args.options = opts;\n    vm_args.ignoreUnrecognized = 0;\n\n    jint r = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;vm_args);\n    if (r &lt; 0 || !env) {\n        printf(\"Unable to Launch JVM %d\\n\", r);\n        abort();\n    }\n    printf(\"Launched JVM! :)\\n\");\n\n    return env;\n}\n\nint main(int argc, char **argv)\n{\n    JavaVM *jvm;\n    JNIEnv *env;\n    env = create_vm(&amp;jvm);\n    if(env == NULL)\n        return 1;\n\n    jclass cls = (*env)-&gt;FindClass(env, \"TestKlass\");\n    jmethodID mid = (*env)-&gt;GetMethodID(env, cls, \"&lt;init&gt;\", \"()V\");\n    jobject jobj = (*env)-&gt;NewObject(env, cls, mid);\n\n    (*env)-&gt;DeleteLocalRef(env, jobj);\n    jmethodID mid2 = (*env)-&gt;GetStaticMethodID(env, cls, \"force_gc\", \"()V\");\n    (*env)-&gt;CallStaticVoidMethod(env, cls, mid2);\n\n    (*jvm)-&gt;DestroyJavaVM(jvm);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Launched JVM! :)\nJava: TestKlass::TestKlass()\nJava: TestKlass::force_gc()\nJava: TestKlass::finalize()\n</code></pre>\n\n<p>Removing either the call to <code>DeleteLocalRef()</code> or the call to <code>force_gc()</code> prevents <code>finalize()</code> from running.</p>\n"},{"tags":[],"owner":{"account_id":2861565,"reputation":2873,"user_id":2456722,"accept_rate":76,"display_name":"Flying_Banana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655162597,"creation_date":1655145725,"answer_id":72607639,"question_id":42310107,"body_markdown":"I did some investigation on this while writing a Java plugin for Unity. I didn&#39;t find the JVM releasing any local references without a call to either `deleteLocalRef` or `popLocalFrame`, making them effectively global references, although they probably shouldn&#39;t be used that way.\r\n\r\nHere&#39;s my test, in which I manually checked the printed reference table outputs from Logcat on a Pixel 5.\r\n\r\n```\r\nusing System;\r\nusing NUnit.Framework;\r\nusing UnityEngine;\r\n\r\n/// &lt;summary&gt;\r\n/// Tests various JNI behaviors.\r\n/// &lt;/summary&gt;\r\npublic class JniTest\r\n{\r\n    [Test]\r\n    public void TestLocalReference()\r\n    {\r\n        CreateLocalReference(10000000);\r\n        DumpReferenceTables();\r\n    }\r\n  \r\n    [Test]\r\n    public void TestGlobalReference()\r\n    {\r\n        CreateGlobalReference(10000000);\r\n        DumpReferenceTables();\r\n    }\r\n  \r\n    private void CreateLocalReference(int count)\r\n    {\r\n        for (int i = 0; i &lt; count; i++)\r\n        {\r\n            AndroidJNI.NewString(i.ToString());\r\n        }\r\n    }\r\n  \r\n    private void CreateGlobalReference(int count)\r\n    {\r\n        for (int i = 0; i &lt; count; i++)\r\n        {\r\n            IntPtr local = AndroidJNI.NewString(i.ToString());\r\n            AndroidJNI.NewGlobalRef(local);\r\n            AndroidJNI.DeleteLocalRef(local);\r\n        }\r\n    }\r\n  \r\n    private void DumpReferenceTables()\r\n    {\r\n        IntPtr debugClass = AndroidJNI.FindClass(&quot;android/os/Debug&quot;);\r\n        IntPtr methodId = AndroidJNI.GetStaticMethodID(debugClass, &quot;dumpReferenceTables&quot;, &quot;()V&quot;);\r\n        AndroidJNI.CallStaticVoidMethod(debugClass, methodId, null);\r\n    }\r\n}\r\n```\r\n\r\nInterestingly, Unity on Android has a different max count than the usually advertised 512 local and 65536 global. I get the following crash logs:\r\n\r\n```\r\nJNI ERROR (app bug): global reference table overflow (max=51200)global reference table dump:\r\n    runtime.cc:677]   Last 10 entries (of 51200):\r\n    runtime.cc:677]     51199: 0x12fc8f10 java.lang.String &quot;50695&quot;\r\n    runtime.cc:677]     51198: 0x12fc8ef8 java.lang.String &quot;50694&quot;\r\n    runtime.cc:677]     51197: 0x12fc8ee0 java.lang.String &quot;50693&quot;\r\n    runtime.cc:677]     51196: 0x12fc8ec8 java.lang.String &quot;50692&quot;\r\n    runtime.cc:677]     51195: 0x12fc8eb0 java.lang.String &quot;50691&quot;\r\n    runtime.cc:677]     51194: 0x12fc8e98 java.lang.String &quot;50690&quot;\r\n    runtime.cc:677]     51193: 0x12fc8e80 java.lang.String &quot;50689&quot;\r\n    runtime.cc:677]     51192: 0x12fc8e68 java.lang.String &quot;50688&quot;\r\n    runtime.cc:677]     51191: 0x12fc8e50 java.lang.String &quot;50687&quot;\r\n    runtime.cc:677]     51190: 0x12fc8e38 java.lang.String &quot;50686&quot;\r\n...\r\n```\r\n\r\nAnd a similar yet surprising stack for local references:\r\n```\r\nJNI ERROR (app bug): local reference table overflow (max=8388608)\r\n...\r\n```\r\n\r\nThe limits might be different for other phones/setups, but the lesson is to always clean up local references when running stuff from native code.\r\n\r\nI also tested the performance tradeoff of using delete vs pop, and found delete faster when cleaning up 2+ refs. Here&#39;s the results of running 1 million times of creating then deleting.\r\n\r\n```\r\nRefs/call | Push/Pop | DeleteLocalRef | Diff\r\n0             474 ms          1078 ms    56%\r\n1            5924 ms          6590 ms    10%\r\n2           14986 ms         10716 ms   -40%\r\n3           22581 ms         14618 ms   -54%\r\n4           30045 ms         18418 ms   -63%\r\n```\r\n\r\nHere&#39;s the test&#39;s source code:\r\n\r\n```\r\nusing System;\r\nusing NUnit.Framework;\r\nusing UnityEngine;\r\n\r\npublic class JniTest\r\n{\r\n    [Test]\r\n    public void TestPerformance()\r\n    {\r\n        var watch = new System.Diagnostics.Stopwatch();\r\n        int iterations = 1000000;\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            watch.Start();\r\n            MethodCallFrame(i, iterations);\r\n            watch.Stop();\r\n            long frameMs = watch.ElapsedMilliseconds;\r\n            \r\n            watch.Restart();\r\n            MethodCallNoFrame(i, iterations);\r\n            watch.Stop();\r\n            long noFrameMs = watch.ElapsedMilliseconds;\r\n            Debug.Log($&quot;Test: {frameMs}, {noFrameMs}, {1 - (double)frameMs / noFrameMs}&quot;);\r\n        }\r\n    }\r\n\r\n    private void MethodCallFrame(int args, int iterations)\r\n    {\r\n        for (int i = 0; i &lt; iterations; i++)\r\n        {\r\n            AndroidJNI.PushLocalFrame(0);\r\n            for (int j = 0; j &lt; args; j++)\r\n            {\r\n                AndroidJNI.NewString(j.ToString());\r\n            }\r\n            AndroidJNI.PopLocalFrame(IntPtr.Zero);\r\n        }\r\n    }\r\n  \r\n    private void MethodCallNoFrame(int argCount, int iterations)\r\n    {\r\n        for (int i = 0; i &lt; iterations; i++)\r\n        {\r\n            IntPtr[] args = new IntPtr[argCount];\r\n            for (int j = 0; j &lt; argCount; j++)\r\n            {\r\n                args[j] = AndroidJNI.NewString(j.ToString());\r\n            }\r\n            \r\n            foreach (IntPtr ptr in args)\r\n            {\r\n                AndroidJNI.DeleteLocalRef(ptr);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"What are the rules for JNI local references returned to a program that embeds a Java VM?","body":"<p>I did some investigation on this while writing a Java plugin for Unity. I didn't find the JVM releasing any local references without a call to either <code>deleteLocalRef</code> or <code>popLocalFrame</code>, making them effectively global references, although they probably shouldn't be used that way.</p>\n<p>Here's my test, in which I manually checked the printed reference table outputs from Logcat on a Pixel 5.</p>\n<pre><code>using System;\nusing NUnit.Framework;\nusing UnityEngine;\n\n/// &lt;summary&gt;\n/// Tests various JNI behaviors.\n/// &lt;/summary&gt;\npublic class JniTest\n{\n    [Test]\n    public void TestLocalReference()\n    {\n        CreateLocalReference(10000000);\n        DumpReferenceTables();\n    }\n  \n    [Test]\n    public void TestGlobalReference()\n    {\n        CreateGlobalReference(10000000);\n        DumpReferenceTables();\n    }\n  \n    private void CreateLocalReference(int count)\n    {\n        for (int i = 0; i &lt; count; i++)\n        {\n            AndroidJNI.NewString(i.ToString());\n        }\n    }\n  \n    private void CreateGlobalReference(int count)\n    {\n        for (int i = 0; i &lt; count; i++)\n        {\n            IntPtr local = AndroidJNI.NewString(i.ToString());\n            AndroidJNI.NewGlobalRef(local);\n            AndroidJNI.DeleteLocalRef(local);\n        }\n    }\n  \n    private void DumpReferenceTables()\n    {\n        IntPtr debugClass = AndroidJNI.FindClass(&quot;android/os/Debug&quot;);\n        IntPtr methodId = AndroidJNI.GetStaticMethodID(debugClass, &quot;dumpReferenceTables&quot;, &quot;()V&quot;);\n        AndroidJNI.CallStaticVoidMethod(debugClass, methodId, null);\n    }\n}\n</code></pre>\n<p>Interestingly, Unity on Android has a different max count than the usually advertised 512 local and 65536 global. I get the following crash logs:</p>\n<pre><code>JNI ERROR (app bug): global reference table overflow (max=51200)global reference table dump:\n    runtime.cc:677]   Last 10 entries (of 51200):\n    runtime.cc:677]     51199: 0x12fc8f10 java.lang.String &quot;50695&quot;\n    runtime.cc:677]     51198: 0x12fc8ef8 java.lang.String &quot;50694&quot;\n    runtime.cc:677]     51197: 0x12fc8ee0 java.lang.String &quot;50693&quot;\n    runtime.cc:677]     51196: 0x12fc8ec8 java.lang.String &quot;50692&quot;\n    runtime.cc:677]     51195: 0x12fc8eb0 java.lang.String &quot;50691&quot;\n    runtime.cc:677]     51194: 0x12fc8e98 java.lang.String &quot;50690&quot;\n    runtime.cc:677]     51193: 0x12fc8e80 java.lang.String &quot;50689&quot;\n    runtime.cc:677]     51192: 0x12fc8e68 java.lang.String &quot;50688&quot;\n    runtime.cc:677]     51191: 0x12fc8e50 java.lang.String &quot;50687&quot;\n    runtime.cc:677]     51190: 0x12fc8e38 java.lang.String &quot;50686&quot;\n...\n</code></pre>\n<p>And a similar yet surprising stack for local references:</p>\n<pre><code>JNI ERROR (app bug): local reference table overflow (max=8388608)\n...\n</code></pre>\n<p>The limits might be different for other phones/setups, but the lesson is to always clean up local references when running stuff from native code.</p>\n<p>I also tested the performance tradeoff of using delete vs pop, and found delete faster when cleaning up 2+ refs. Here's the results of running 1 million times of creating then deleting.</p>\n<pre><code>Refs/call | Push/Pop | DeleteLocalRef | Diff\n0             474 ms          1078 ms    56%\n1            5924 ms          6590 ms    10%\n2           14986 ms         10716 ms   -40%\n3           22581 ms         14618 ms   -54%\n4           30045 ms         18418 ms   -63%\n</code></pre>\n<p>Here's the test's source code:</p>\n<pre><code>using System;\nusing NUnit.Framework;\nusing UnityEngine;\n\npublic class JniTest\n{\n    [Test]\n    public void TestPerformance()\n    {\n        var watch = new System.Diagnostics.Stopwatch();\n        int iterations = 1000000;\n        for (int i = 0; i &lt; 5; i++)\n        {\n            watch.Start();\n            MethodCallFrame(i, iterations);\n            watch.Stop();\n            long frameMs = watch.ElapsedMilliseconds;\n            \n            watch.Restart();\n            MethodCallNoFrame(i, iterations);\n            watch.Stop();\n            long noFrameMs = watch.ElapsedMilliseconds;\n            Debug.Log($&quot;Test: {frameMs}, {noFrameMs}, {1 - (double)frameMs / noFrameMs}&quot;);\n        }\n    }\n\n    private void MethodCallFrame(int args, int iterations)\n    {\n        for (int i = 0; i &lt; iterations; i++)\n        {\n            AndroidJNI.PushLocalFrame(0);\n            for (int j = 0; j &lt; args; j++)\n            {\n                AndroidJNI.NewString(j.ToString());\n            }\n            AndroidJNI.PopLocalFrame(IntPtr.Zero);\n        }\n    }\n  \n    private void MethodCallNoFrame(int argCount, int iterations)\n    {\n        for (int i = 0; i &lt; iterations; i++)\n        {\n            IntPtr[] args = new IntPtr[argCount];\n            for (int j = 0; j &lt; argCount; j++)\n            {\n                args[j] = AndroidJNI.NewString(j.ToString());\n            }\n            \n            foreach (IntPtr ptr in args)\n            {\n                AndroidJNI.DeleteLocalRef(ptr);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1145390,"reputation":22765,"user_id":1128289,"accept_rate":85,"display_name":"Praxeolitic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3071,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42333173,"answer_count":3,"score":4,"last_activity_date":1655162597,"creation_date":1487381770,"question_id":42310107,"body_markdown":"The [JNI docs][1] describe the rules for resource management of objects returned from the JNI. Here&#39;s a quote that gives a good overview:\r\n\r\n&gt; The JNI divides object references used by the native code into two\r\n&gt; categories: local and global references. Local references are valid\r\n&gt; for the duration of a native method call, and are automatically freed\r\n&gt; after the native method returns. Global references remain valid until\r\n&gt; they are explicitly freed.\r\n&gt; \r\n&gt; Objects are passed to native methods as local references. All Java\r\n&gt; objects returned by JNI functions are local references. The JNI allows\r\n&gt; the programmer to create global references from local references. JNI\r\n&gt; functions that expect Java objects accept both global and local\r\n&gt; references. A native method may return a local or global reference to\r\n&gt; the VM as its result.\r\n\r\nThis documentation is obviously geared towards using the JNI to implement methods in native code but the JNI can also be used for embedding. What are the rules for embedding? When the &#39;native method call&#39; that a JNI function returns to is an enclosing program which is embedding a VM, the &#39;native method call&#39;, i.e. the program, will never return to the VM. What are the rules in that case? Can a program that embeds the JNI tell the JNI that it can free a previously returned object?\r\n\r\n**Edit:**\r\n\r\nHere&#39;s an example of code where I&#39;m not sure how to handle an object returned from the JNI based on the docs. `TestKlass.java` defines a simple Java class. `run.c` starts an embedded Java VM and loads the `TestKlass` class using the JNI and then runs the `TestKlass` constructor to get a `jobject` instance of `TestKlass`. What are the resource management rules for the returned `jobject`? When will the Java VM assume that it can safely release the object?\r\n\r\nThe code starts the Java VM with `Xcheck:jni` and the VM does not print any errors, but that doesn&#39;t guarantee that no errors exist in this code. If there are errors in this example, how could I have detected them?\r\n\r\nTestKlass.java\r\n\r\n    public class TestKlass {\r\n        public TestKlass() {\r\n                    System.out.println(&quot;Java: TestKlass::TestKlass()&quot;);\r\n        }\r\n    }\r\n\r\nrun.c\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    \r\n    JNIEnv* create_vm(JavaVM** jvm)\r\n    {\r\n        JNIEnv* env;\r\n        JavaVMInitArgs vm_args;\r\n    \r\n        // For this example, TestKlass.java and run.c are assumed to live in and\r\n        //     be compiled in the same directory, so &#39;.&#39; is added to the Java\r\n        //     path.\r\n        char opts0[] = &quot;-Djava.class.path=.&quot;;\r\n        char opts1[] = &quot;-Xcheck:jni&quot;;\r\n        JavaVMOption opts[2];\r\n        opts[0].optionString = opts0;\r\n        opts[1].optionString = opts1;\r\n    \r\n        vm_args.version = JNI_VERSION_1_6;\r\n        vm_args.nOptions = 2;\r\n        vm_args.options = opts;\r\n        vm_args.ignoreUnrecognized = 0;\r\n    \r\n        jint r = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;vm_args);\r\n        if (r &lt; 0 || !env) {\r\n            printf(&quot;Unable to Launch JVM %d\\n&quot;, r);\r\n            abort();\r\n        }\r\n        printf(&quot;Launched JVM! :)\\n&quot;);\r\n    \r\n        return env;\r\n    }\r\n    \r\n    int main(int argc, char **argv)\r\n    {\r\n        JavaVM *jvm;\r\n        JNIEnv *env;\r\n        env = create_vm(&amp;jvm);\r\n        if(env == NULL)\r\n            return 1;\r\n    \r\n        jclass cls = (*env)-&gt;FindClass(env, &quot;TestKlass&quot;);\r\n        jmethodID mid = (*env)-&gt;GetMethodID(env, cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n        jobject jobj = (*env)-&gt;NewObject(env, cls, mid);\r\n    \r\n        // (Assume that arbitrary JNI calls will be made after this point, the\r\n        //     program will persist for a long time, and returned Java objects may\r\n        //     be large.)\r\n        // What are the rules for negotiating management of jobj with the Java VM?\r\n        // Does the answer change if the object was returned from a\r\n        //     non-constructor function?\r\n        // Is there any way to use the JNI to tell the Java VM either that jobj\r\n        //     can be freed here or that it must not be freed here?\r\n        // Would DeleteLocalRef() be helpful here?\r\n\r\n        // ...\r\n    \r\n        (*jvm)-&gt;DestroyJavaVM(jvm);\r\n    }\r\n\r\noutput\r\n\r\n    Launched JVM! :)\r\n    Java: TestKlass::TestKlass()\r\n\r\nI know C but I haven&#39;t used Java in a long time. I&#39;m mostly working from the JNI docs. If I&#39;m missing something obvious, *please* point it out in an answer or comment.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#referencing_java_objects","title":"What are the rules for JNI local references returned to a program that embeds a Java VM?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html#referencing_java_objects\" rel=\"nofollow noreferrer\">JNI docs</a> describe the rules for resource management of objects returned from the JNI. Here's a quote that gives a good overview:</p>\n\n<blockquote>\n  <p>The JNI divides object references used by the native code into two\n  categories: local and global references. Local references are valid\n  for the duration of a native method call, and are automatically freed\n  after the native method returns. Global references remain valid until\n  they are explicitly freed.</p>\n  \n  <p>Objects are passed to native methods as local references. All Java\n  objects returned by JNI functions are local references. The JNI allows\n  the programmer to create global references from local references. JNI\n  functions that expect Java objects accept both global and local\n  references. A native method may return a local or global reference to\n  the VM as its result.</p>\n</blockquote>\n\n<p>This documentation is obviously geared towards using the JNI to implement methods in native code but the JNI can also be used for embedding. What are the rules for embedding? When the 'native method call' that a JNI function returns to is an enclosing program which is embedding a VM, the 'native method call', i.e. the program, will never return to the VM. What are the rules in that case? Can a program that embeds the JNI tell the JNI that it can free a previously returned object?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here's an example of code where I'm not sure how to handle an object returned from the JNI based on the docs. <code>TestKlass.java</code> defines a simple Java class. <code>run.c</code> starts an embedded Java VM and loads the <code>TestKlass</code> class using the JNI and then runs the <code>TestKlass</code> constructor to get a <code>jobject</code> instance of <code>TestKlass</code>. What are the resource management rules for the returned <code>jobject</code>? When will the Java VM assume that it can safely release the object?</p>\n\n<p>The code starts the Java VM with <code>Xcheck:jni</code> and the VM does not print any errors, but that doesn't guarantee that no errors exist in this code. If there are errors in this example, how could I have detected them?</p>\n\n<p>TestKlass.java</p>\n\n<pre><code>public class TestKlass {\n    public TestKlass() {\n                System.out.println(\"Java: TestKlass::TestKlass()\");\n    }\n}\n</code></pre>\n\n<p>run.c</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdlib.h&gt;\n\nJNIEnv* create_vm(JavaVM** jvm)\n{\n    JNIEnv* env;\n    JavaVMInitArgs vm_args;\n\n    // For this example, TestKlass.java and run.c are assumed to live in and\n    //     be compiled in the same directory, so '.' is added to the Java\n    //     path.\n    char opts0[] = \"-Djava.class.path=.\";\n    char opts1[] = \"-Xcheck:jni\";\n    JavaVMOption opts[2];\n    opts[0].optionString = opts0;\n    opts[1].optionString = opts1;\n\n    vm_args.version = JNI_VERSION_1_6;\n    vm_args.nOptions = 2;\n    vm_args.options = opts;\n    vm_args.ignoreUnrecognized = 0;\n\n    jint r = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;vm_args);\n    if (r &lt; 0 || !env) {\n        printf(\"Unable to Launch JVM %d\\n\", r);\n        abort();\n    }\n    printf(\"Launched JVM! :)\\n\");\n\n    return env;\n}\n\nint main(int argc, char **argv)\n{\n    JavaVM *jvm;\n    JNIEnv *env;\n    env = create_vm(&amp;jvm);\n    if(env == NULL)\n        return 1;\n\n    jclass cls = (*env)-&gt;FindClass(env, \"TestKlass\");\n    jmethodID mid = (*env)-&gt;GetMethodID(env, cls, \"&lt;init&gt;\", \"()V\");\n    jobject jobj = (*env)-&gt;NewObject(env, cls, mid);\n\n    // (Assume that arbitrary JNI calls will be made after this point, the\n    //     program will persist for a long time, and returned Java objects may\n    //     be large.)\n    // What are the rules for negotiating management of jobj with the Java VM?\n    // Does the answer change if the object was returned from a\n    //     non-constructor function?\n    // Is there any way to use the JNI to tell the Java VM either that jobj\n    //     can be freed here or that it must not be freed here?\n    // Would DeleteLocalRef() be helpful here?\n\n    // ...\n\n    (*jvm)-&gt;DestroyJavaVM(jvm);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Launched JVM! :)\nJava: TestKlass::TestKlass()\n</code></pre>\n\n<p>I know C but I haven't used Java in a long time. I'm mostly working from the JNI docs. If I'm missing something obvious, <em>please</em> point it out in an answer or comment.</p>\n"},{"tags":["java","arrays","csv","split"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1410484017,"post_id":25799196,"comment_id":40354151,"body_markdown":"If you&#39;re reading CSV, it&#39;s best to get a parser.  There are several free on the &#39;net.  You can do it, sorta, with regex, but regex can only handle a limited number of nested delimiters (like the quote marks) before it fails.","body":"If you&#39;re reading CSV, it&#39;s best to get a parser.  There are several free on the &#39;net.  You can do it, sorta, with regex, but regex can only handle a limited number of nested delimiters (like the quote marks) before it fails."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1410485871,"post_id":25799196,"comment_id":40354561,"body_markdown":"Why? Why not just get rid of the quotes altogether after you&#39;ve split the lines into cells? You only need them when you write CSV output.","body":"Why? Why not just get rid of the quotes altogether after you&#39;ve split the lines into cells? You only need them when you write CSV output."},{"owner":{"display_name":"user2872988"},"score":0,"creation_date":1410487522,"post_id":25799196,"comment_id":40354940,"body_markdown":"I used the quotes because I wanted to group John, Bob together with Rudy, Judy. Because they&#39;re in the same column in the csv, they&#39;ll be placed into the same array. The problem is the double quotes that were used to group those two names together remain in the array","body":"I used the quotes because I wanted to group John, Bob together with Rudy, Judy. Because they&#39;re in the same column in the csv, they&#39;ll be placed into the same array. The problem is the double quotes that were used to group those two names together remain in the array"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410484015,"creation_date":1410484015,"answer_id":25799218,"question_id":25799196,"body_markdown":"try\r\n\r\n    for(String item: cand2) { System.out.println(item.replace (&quot;\\&quot;&quot;, &quot;&quot;); }","title":"remove double quotes that group values together in csv","body":"<p>try</p>\n\n<pre><code>for(String item: cand2) { System.out.println(item.replace (\"\\\"\", \"\"); }\n</code></pre>\n"}],"owner":{"display_name":"user2872988"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655162434,"creation_date":1410483816,"question_id":25799196,"body_markdown":"I hope the title makes sense...\r\n\r\nBasically I&#39;m reading in a csv like so:\r\n\r\n&quot;blank&quot;, &quot;hello&quot;, &quot;\\&quot;John, Bob\\&quot;, \\&quot;Rudy, Judy\\&quot;&quot;, &quot;something&quot;, &quot;here&quot;\r\n\r\nSo ideally I&#39;d want to store that into an array that results like this: \r\n\r\n        // I&#39;m going to use { } to separate the indexes so it&#39;ll be easier to read\r\n        // each of these indexes will eventually be stored into their own array - they can contain multiple values \r\n        // e.g like John, Bob and Rudy, Judy - they&#39;ll be in the same array but will be in index 0 and 1 and so on\r\n        [{&quot;blank&quot;}, {&quot;hello&quot;}, {&quot;John, Bob&quot;, &quot;Rudy, Judy&quot;}, {&quot;something&quot;}, {&quot;here&quot;}]\r\n\r\nWhen I print out the values of the array, it should be something like this:\r\n\r\n        ...\r\n        System.out.println(item)\r\n\r\n        // results in: \r\n        blank\r\n        hello\r\n        John, Bob\r\n        Rudy, Judy\r\n        ...\r\n\r\nI have something like this in my code:\r\n\r\n        cand2 = (!csv2DArray[i][j].equals(&quot; &quot;)) ? csv2DArray[i][j].split(&quot;,(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;) : new String[0];\r\n        System.out.print(&quot;Candidate2 for current contest is: &quot;);\r\n        for(String item: cand2) { System.out.println(item); }\r\n        ...\r\n\r\nBut I&#39;m getting this when I print out the values:\r\n\r\n        blank\r\n        hello\r\n        &quot;John, Bob&quot;\r\n        &quot;Rudy, Judy&quot;\r\n        ...\r\n\r\nHow can I remove the double quotes that stick with the values?\r\n\r\nDoes this make sense? I&#39;m basically trying to compare values (selenium UI testing). So it&#39;ll read whatever is on a website, store those values in array and I&#39;ll compare.\r\n\r\nWhat&#39;s pulled from UI\r\n\r\n        [&quot;John, Bob&quot;, &quot;Rudy, Judy&quot;, ...] \r\n        // when I check the debugger the values become \r\n        John, Bob, Rudy, Judy...\r\n\r\nWhat results from my code\r\n\r\n        [&quot;&quot;John, Bob&quot;&quot;, &quot;&quot;Rudy, Judy&quot;&quot;, ...]\r\n        // when I check the debugger the values become\r\n        &quot;John, Bob&quot;, &quot;Rudy, Judy&quot;, ...","title":"remove double quotes that group values together in csv","body":"<p>I hope the title makes sense...</p>\n\n<p>Basically I'm reading in a csv like so:</p>\n\n<p>\"blank\", \"hello\", \"\\\"John, Bob\\\", \\\"Rudy, Judy\\\"\", \"something\", \"here\"</p>\n\n<p>So ideally I'd want to store that into an array that results like this: </p>\n\n<pre><code>    // I'm going to use { } to separate the indexes so it'll be easier to read\n    // each of these indexes will eventually be stored into their own array - they can contain multiple values \n    // e.g like John, Bob and Rudy, Judy - they'll be in the same array but will be in index 0 and 1 and so on\n    [{\"blank\"}, {\"hello\"}, {\"John, Bob\", \"Rudy, Judy\"}, {\"something\"}, {\"here\"}]\n</code></pre>\n\n<p>When I print out the values of the array, it should be something like this:</p>\n\n<pre><code>    ...\n    System.out.println(item)\n\n    // results in: \n    blank\n    hello\n    John, Bob\n    Rudy, Judy\n    ...\n</code></pre>\n\n<p>I have something like this in my code:</p>\n\n<pre><code>    cand2 = (!csv2DArray[i][j].equals(\" \")) ? csv2DArray[i][j].split(\",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\") : new String[0];\n    System.out.print(\"Candidate2 for current contest is: \");\n    for(String item: cand2) { System.out.println(item); }\n    ...\n</code></pre>\n\n<p>But I'm getting this when I print out the values:</p>\n\n<pre><code>    blank\n    hello\n    \"John, Bob\"\n    \"Rudy, Judy\"\n    ...\n</code></pre>\n\n<p>How can I remove the double quotes that stick with the values?</p>\n\n<p>Does this make sense? I'm basically trying to compare values (selenium UI testing). So it'll read whatever is on a website, store those values in array and I'll compare.</p>\n\n<p>What's pulled from UI</p>\n\n<pre><code>    [\"John, Bob\", \"Rudy, Judy\", ...] \n    // when I check the debugger the values become \n    John, Bob, Rudy, Judy...\n</code></pre>\n\n<p>What results from my code</p>\n\n<pre><code>    [\"\"John, Bob\"\", \"\"Rudy, Judy\"\", ...]\n    // when I check the debugger the values become\n    \"John, Bob\", \"Rudy, Judy\", ...\n</code></pre>\n"},{"tags":["java","sonarqube","java-11"],"answers":[{"tags":[],"owner":{"account_id":15984386,"reputation":5,"user_id":11535284,"display_name":"Log4JExploit"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1655158323,"creation_date":1655158323,"answer_id":72609607,"question_id":72609556,"body_markdown":"I think the sonar violation is showing up, because you are invoking the **equals** method on two objects, which are most likely not the same.\r\n\r\nHowever the **Double** class has solved this problem, by overwriting the **equals** method and just checking weather the two numbers contained in the object are equal.\r\nI just checked that in Java, just to be safe that it works. You can thus just ignore the warning.\r\n\r\nHope this helps.\r\nKind regards,\r\n403","title":"Sonar violation in Java on DoubleValue.equals(AnotherDoubleValue) - Why?","body":"<p>I think the sonar violation is showing up, because you are invoking the <strong>equals</strong> method on two objects, which are most likely not the same.</p>\n<p>However the <strong>Double</strong> class has solved this problem, by overwriting the <strong>equals</strong> method and just checking weather the two numbers contained in the object are equal.\nI just checked that in Java, just to be safe that it works. You can thus just ignore the warning.</p>\n<p>Hope this helps.\nKind regards,\n403</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655158642,"creation_date":1655158642,"answer_id":72609640,"question_id":72609556,"body_markdown":"This has nothing to do with `==` versus `equals`, and everything to do with how both `double` and `Double` (and `float` and `Float`) values are very difficult to ensure that they are exactly, 100% equal -- and not, say, different by 0.0000000000001.\r\n\r\nSonar is recommending that you do something like, say, `Math.abs(d1 - d2) &lt; 0.0000001`.\r\n\r\n","title":"Sonar violation in Java on DoubleValue.equals(AnotherDoubleValue) - Why?","body":"<p>This has nothing to do with <code>==</code> versus <code>equals</code>, and everything to do with how both <code>double</code> and <code>Double</code> (and <code>float</code> and <code>Float</code>) values are very difficult to ensure that they are exactly, 100% equal -- and not, say, different by 0.0000000000001.</p>\n<p>Sonar is recommending that you do something like, say, <code>Math.abs(d1 - d2) &lt; 0.0000001</code>.</p>\n"}],"owner":{"account_id":3798387,"reputation":167,"user_id":3152645,"accept_rate":75,"display_name":"Vidya Ramanarayanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655162314,"creation_date":1655157997,"question_id":72609556,"body_markdown":"I have a piece of code in Java where -\r\n\r\n    public boolean method1(Double d1, Double d2) {\r\n\r\n      if (d1.equals(d2)) {\r\n\r\n        //Some logic\r\n        return bool;\r\n\r\n    }\r\n\r\nThe statement d1.equals(d2) has a sonar violation which says that &quot;Equality tests should not be made with floating point values.&quot; Link : https://rules.sonarsource.com/java/RSPEC-1244\r\n\r\nIn the explanation it talks about where using a == or === matters but since I&#39;m using a equals method, why does it still show this up as a sonar violation?\r\n","title":"Sonar violation in Java on DoubleValue.equals(AnotherDoubleValue) - Why?","body":"<p>I have a piece of code in Java where -</p>\n<pre><code>public boolean method1(Double d1, Double d2) {\n\n  if (d1.equals(d2)) {\n\n    //Some logic\n    return bool;\n\n}\n</code></pre>\n<p>The statement d1.equals(d2) has a sonar violation which says that &quot;Equality tests should not be made with floating point values.&quot; Link : <a href=\"https://rules.sonarsource.com/java/RSPEC-1244\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-1244</a></p>\n<p>In the explanation it talks about where using a == or === matters but since I'm using a equals method, why does it still show this up as a sonar violation?</p>\n"},{"tags":["java","regex","escaping"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1422984079,"creation_date":1422977572,"answer_id":28302726,"question_id":28302685,"body_markdown":"No difference. `\\\\` is used to escape special characters in regular expressions. The character `,` is not one of them.","title":"What&#39;s the different between the regex &quot;\\\\,&quot; and &quot;,&quot;?","body":"<p>No difference. <code>\\\\</code> is used to escape special characters in regular expressions. The character <code>,</code> is not one of them.</p>\n"},{"tags":[],"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422979029,"creation_date":1422977577,"answer_id":28302728,"question_id":28302685,"body_markdown":"Splitting your input according to `\\\\,` and `,` would return the same output. Since `,` is not a special character in regex, you don&#39;t need to escape that.\r\n\r\nBut escaped characters have some special meaning . For example `\\\\s` matches a space character . `\\\\S` matches a non-space character. `\\\\d` matches a digit. `\\\\D` matches a non-digit character. So don&#39;t escape alphabets.\r\n\r\nEscaping some special characters like `,`, `%`, `#` won&#39;t create any problems . But escaping some special characters would differ in their functions. For ex, `\\\\$` matches a literal `$` symbol, but unescaped `$` matches an end of the line. \r\n\r\nAnd finally, don&#39;t escape digits to match a literal digit. For example, `1` and `\\\\1` has different meaning. `1` matches a literal `1` where `\\\\1` refers to the first captured group.","title":"What&#39;s the different between the regex &quot;\\\\,&quot; and &quot;,&quot;?","body":"<p>Splitting your input according to <code>\\\\,</code> and <code>,</code> would return the same output. Since <code>,</code> is not a special character in regex, you don't need to escape that.</p>\n\n<p>But escaped characters have some special meaning . For example <code>\\\\s</code> matches a space character . <code>\\\\S</code> matches a non-space character. <code>\\\\d</code> matches a digit. <code>\\\\D</code> matches a non-digit character. So don't escape alphabets.</p>\n\n<p>Escaping some special characters like <code>,</code>, <code>%</code>, <code>#</code> won't create any problems . But escaping some special characters would differ in their functions. For ex, <code>\\\\$</code> matches a literal <code>$</code> symbol, but unescaped <code>$</code> matches an end of the line. </p>\n\n<p>And finally, don't escape digits to match a literal digit. For example, <code>1</code> and <code>\\\\1</code> has different meaning. <code>1</code> matches a literal <code>1</code> where <code>\\\\1</code> refers to the first captured group.</p>\n"},{"tags":[],"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422979566,"creation_date":1422978697,"answer_id":28303130,"question_id":28302685,"body_markdown":"You didn&#39;t say whether &quot;\\\\\\\\,&quot; works or seems to work exactly like &quot;,&quot; as the split regular expression. I suspect it does based on what I think I know about javac and also about regular expressions.\r\n\r\nWhen you write &quot;\\\\\\\\,&quot;, then the string that appears in the .class file is &quot;\\\\,&quot;. This is due to how javac treats string literals.\r\n\r\nWhen the regular expression compiler sees &quot;\\\\,&quot; it effectively treats that string as &quot;,&quot; for reasons similar to those of javac. Of course, there are very good reasons to use &#39;\\\\&#39; in your regular expressions. For example, if the &#39;[&#39; character appeared in the input you were scanning and you wanted your parser to be rigid when looking for &#39;[&#39; followed by digits, then you must write your string literal like &quot;\\\\\\\\[[0-9][0-9]*&quot; or the more concise &quot;\\\\\\\\[\\d+&quot;. This is because the regular expression compiler treats &#39;[&#39; as special like the former demonstrates.\r\n\r\nEDIT: The reason why &quot;\\\\.&quot; is treated differently than &quot;\\p&quot; is somewhat evident when you read the summary section of the regular expression constructs, http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum, that show all the character classes have letters that follow the &#39;\\&#39;, implying that implementors might consider &quot;\\p&quot; an error rather than just simply &quot;p&quot;. I would encourage you to not add additional questions to your initial question if for no other reason than to make it less confusing to those who attempt to answer your first question and fail to notice you asked subsequent questions. Instead, you should post a separate question, especially, when it exposes special cases like your follow up question did.\r\n\r\nIn my opinion, the authors have taken the correct path, which should encourage their users to *completely* understand each regular expression they compose.","title":"What&#39;s the different between the regex &quot;\\\\,&quot; and &quot;,&quot;?","body":"<p>You didn't say whether \"\\\\,\" works or seems to work exactly like \",\" as the split regular expression. I suspect it does based on what I think I know about javac and also about regular expressions.</p>\n\n<p>When you write \"\\\\,\", then the string that appears in the .class file is \"\\,\". This is due to how javac treats string literals.</p>\n\n<p>When the regular expression compiler sees \"\\,\" it effectively treats that string as \",\" for reasons similar to those of javac. Of course, there are very good reasons to use '\\' in your regular expressions. For example, if the '[' character appeared in the input you were scanning and you wanted your parser to be rigid when looking for '[' followed by digits, then you must write your string literal like \"\\\\[[0-9][0-9]*\" or the more concise \"\\\\[\\d+\". This is because the regular expression compiler treats '[' as special like the former demonstrates.</p>\n\n<p>EDIT: The reason why \"\\.\" is treated differently than \"\\p\" is somewhat evident when you read the summary section of the regular expression constructs, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum</a>, that show all the character classes have letters that follow the '\\', implying that implementors might consider \"\\p\" an error rather than just simply \"p\". I would encourage you to not add additional questions to your initial question if for no other reason than to make it less confusing to those who attempt to answer your first question and fail to notice you asked subsequent questions. Instead, you should post a separate question, especially, when it exposes special cases like your follow up question did.</p>\n\n<p>In my opinion, the authors have taken the correct path, which should encourage their users to <em>completely</em> understand each regular expression they compose.</p>\n"}],"owner":{"account_id":5728462,"reputation":41,"user_id":4524769,"display_name":"Hossam Salah Al Din"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1655162120,"creation_date":1422977458,"question_id":28302685,"body_markdown":"The below code sample tries to `split` a string by commas (i.e. Passing `\\\\,` to `String.split()`)\r\n\r\nWhen i change the delimiter to `,` it works fine.\r\nthe question is what the difference between using `,` and `\\\\,` ? And when should I use each one ?\r\n\r\n**EDIT**\r\n\r\nAlso if I put a character other than &#39;,&#39; such as `p`, the statement throws a run-time exception because `p` is not a special regex character to be escaped, so why does it accept to escape commas ?!\r\n\r\nthe example :\r\n\r\n    String x = &quot;a,b,c,d&quot;;\r\n    System.out.println(Arrays.toString(x.split(&quot;\\\\,&quot;)));\r\n\r\nthe output :\r\n\r\n    [a, b, c, d]","title":"What&#39;s the different between the regex &quot;\\\\,&quot; and &quot;,&quot;?","body":"<p>The below code sample tries to <code>split</code> a string by commas (i.e. Passing <code>\\\\,</code> to <code>String.split()</code>)</p>\n\n<p>When i change the delimiter to <code>,</code> it works fine.\nthe question is what the difference between using <code>,</code> and <code>\\\\,</code> ? And when should I use each one ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Also if I put a character other than ',' such as <code>p</code>, the statement throws a run-time exception because <code>p</code> is not a special regex character to be escaped, so why does it accept to escape commas ?!</p>\n\n<p>the example :</p>\n\n<pre><code>String x = \"a,b,c,d\";\nSystem.out.println(Arrays.toString(x.split(\"\\\\,\")));\n</code></pre>\n\n<p>the output :</p>\n\n<pre><code>[a, b, c, d]\n</code></pre>\n"},{"tags":["java","json","serialization","jackson","json-deserialization"],"comments":[{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1655029723,"post_id":72588678,"comment_id":128229036,"body_markdown":"Please format your code as code.","body":"Please format your code as code."},{"owner":{"account_id":25510797,"reputation":1,"user_id":19302492,"display_name":"santurron"},"score":0,"creation_date":1655161376,"post_id":72588678,"comment_id":128261677,"body_markdown":"formatted @Kitswas","body":"formatted @Kitswas"}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654997356,"creation_date":1654997356,"answer_id":72588924,"question_id":72588678,"body_markdown":"Try-catch your code\r\n\r\n    try {\r\n       administradores = Persistencia.DEserializeHashMap(Archivos.ADMINISTRADORESALL.getPath(), String.class, Administrador.class);\r\n    }\r\n    catch(Exception e) {\r\n    //It is null or empty\r\n    }    \r\n    \r\n    if(administradores != null &amp;&amp; !administradores.isEmpty()) {\r\n           //Code\r\n    }\r\n\r\nPersonally, I prefer using `com.google.gson.Gson`\r\n\r\n    String json = null;\r\n    Map&lt;String, Object&gt; map = new Gson().fromJson(json, Map.class);\r\n    if(map != null &amp;&amp; !map .isEmpty()) {\r\n        //Code\r\n    }","title":"How do i check if JSON using Jackson library is null or empty?","body":"<p>Try-catch your code</p>\n<pre><code>try {\n   administradores = Persistencia.DEserializeHashMap(Archivos.ADMINISTRADORESALL.getPath(), String.class, Administrador.class);\n}\ncatch(Exception e) {\n//It is null or empty\n}    \n\nif(administradores != null &amp;&amp; !administradores.isEmpty()) {\n       //Code\n}\n</code></pre>\n<p>Personally, I prefer using <code>com.google.gson.Gson</code></p>\n<pre><code>String json = null;\nMap&lt;String, Object&gt; map = new Gson().fromJson(json, Map.class);\nif(map != null &amp;&amp; !map .isEmpty()) {\n    //Code\n}\n</code></pre>\n"}],"owner":{"account_id":25510797,"reputation":1,"user_id":19302492,"display_name":"santurron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655161277,"creation_date":1654992641,"question_id":72588678,"body_markdown":"I&#39;m trying to deserialize a Hashmap and it&#39;s breaking the program when i try to use it after. I would like to check if the JSON is null or empty before i deserialize it. How can i check this? \r\n\r\n        &quot;HashMap&lt;String, Administrador&gt; administradores = new HashMap&lt;&gt;();\r\n\r\n\r\n///here i want to check if there is something in the JSON (jackson)\r\n\r\n        administradores = \r\n        Persistencia.DEserializeHashMap(Archivos.ADMINISTRADORESALL\r\n        .getPath(), String.class, Administrador.class);///deserialize","title":"How do i check if JSON using Jackson library is null or empty?","body":"<p>I'm trying to deserialize a Hashmap and it's breaking the program when i try to use it after. I would like to check if the JSON is null or empty before i deserialize it. How can i check this?</p>\n<pre><code>    &quot;HashMap&lt;String, Administrador&gt; administradores = new HashMap&lt;&gt;();\n</code></pre>\n<p>///here i want to check if there is something in the JSON (jackson)</p>\n<pre><code>    administradores = \n    Persistencia.DEserializeHashMap(Archivos.ADMINISTRADORESALL\n    .getPath(), String.class, Administrador.class);///deserialize\n</code></pre>\n"},{"tags":["java","spring","docker","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655161125,"creation_date":1655161125,"answer_id":72609913,"question_id":72609862,"body_markdown":"Look at the output of `docker ps`\r\n\r\nIf you don&#39;t see `0.0.0.0:9092-&gt;9092/tcp`, then you&#39;ve not forwarded the host to the necessary `KAFKA_ADVERTISED_PORT`\r\n\r\nSetting this way in compose makes Docker pick a random host port to map 9092 to inside the container, and therefore `localhost:9092` isn&#39;t a valid open port on your host. \r\n\r\n```\r\n ports:\r\n      - &quot;9092&quot;\r\n```\r\n\r\nRelated  https://stackoverflow.com/questions/51630260/connect-to-kafka-running-in-docker ","title":"Spring application cannot connect to a Kafka broker","body":"<p>Look at the output of <code>docker ps</code></p>\n<p>If you don't see <code>0.0.0.0:9092-&gt;9092/tcp</code>, then you've not forwarded the host to the necessary <code>KAFKA_ADVERTISED_PORT</code></p>\n<p>Setting this way in compose makes Docker pick a random host port to map 9092 to inside the container, and therefore <code>localhost:9092</code> isn't a valid open port on your host.</p>\n<pre><code> ports:\n      - &quot;9092&quot;\n</code></pre>\n<p>Related  <a href=\"https://stackoverflow.com/questions/51630260/connect-to-kafka-running-in-docker\">Connect to Kafka running in Docker</a></p>\n"}],"owner":{"account_id":22814394,"reputation":213,"user_id":16965226,"display_name":"BoomForm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72609913,"answer_count":1,"score":0,"last_activity_date":1655161125,"creation_date":1655160594,"question_id":72609862,"body_markdown":"-------\r\nI am trying to build my first application using Kafka as a messaging system, but I have some problems with running it. I am using Docker images of **zookeeper** and **Kafka** from **wurstmeister** with this **docker-compose.yml**:\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        restart: unless-stopped\r\n      kafka:\r\n        image: wurstmeister/kafka\r\n        ports:\r\n          - &quot;9092&quot;\r\n        environment:\r\n          KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n          KAFKA_ADVERTISED_PORT: 9092\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_CREATE_TOPICS: &quot;toAll:1:1&quot;\r\n        restart: unless-stopped\r\n\r\n**docker-compose up** gives me following output:\r\n``` ...some configs...\r\nkafka_1      | [2022-06-13 22:08:10,071] INFO [ThrottledChannelReaper-Fetch]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\r\nkafka_1      | [2022-06-13 22:08:10,073] INFO [ThrottledChannelReaper-Produce]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\r\nkafka_1      | [2022-06-13 22:08:10,074] INFO [ThrottledChannelReaper-Request]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\r\nkafka_1      | [2022-06-13 22:08:10,076] INFO [ThrottledChannelReaper-ControllerMutation]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\r\nkafka_1      | [2022-06-13 22:08:10,089] INFO Log directory /kafka/kafka-logs-44d30bad178c not found, creating it. (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,121] INFO Loading logs from log dirs ArraySeq(/kafka/kafka-logs-44d30bad178c) (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,123] INFO Attempting recovery for all logs in /kafka/kafka-logs-44d30bad178c since no clean shutdown file was found (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,128] INFO Loaded 0 logs in 7ms. (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,128] INFO Starting log cleanup with a period of 300000 ms. (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,130] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)\r\nkafka_1      | [2022-06-13 22:08:10,429] INFO Updated connection-accept-rate max connection creation rate to 2147483647 (kafka.network.ConnectionQuotas)\r\nkafka_1      | [2022-06-13 22:08:10,433] INFO Awaiting socket connections on 0.0.0.0:9092. (kafka.network.Acceptor)\r\nkafka_1      | [2022-06-13 22:08:10,465] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Created data-plane acceptor and processors for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)\r\nkafka_1      | [2022-06-13 22:08:10,489] INFO [broker-1049-to-controller-send-thread]: Starting (kafka.server.BrokerToControllerRequestThread)\r\nkafka_1      | [2022-06-13 22:08:10,504] INFO [ExpirationReaper-1049-Produce]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,505] INFO [ExpirationReaper-1049-Fetch]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,506] INFO [ExpirationReaper-1049-DeleteRecords]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,506] INFO [ExpirationReaper-1049-ElectLeader]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,518] INFO [LogDirFailureHandler]: Starting (kafka.server.ReplicaManager$LogDirFailureHandler)\r\nkafka_1      | [2022-06-13 22:08:10,552] INFO Creating /brokers/ids/1049 (is it secure? false) (kafka.zk.KafkaZkClient)\r\nkafka_1      | [2022-06-13 22:08:10,567] INFO Stat of the created znode at /brokers/ids/1049 is: 1191,1191,1655158090560,1655158090560,1,0,0,72057715199770624,202,0,1191\r\nkafka_1      |  (kafka.zk.KafkaZkClient)\r\nkafka_1      | [2022-06-13 22:08:10,567] INFO Registered broker 1049 at path /brokers/ids/1049 with addresses: PLAINTEXT://127.0.0.1:9092, czxid (broker epoch): 1191 (kafka.zk.KafkaZkClient)\r\nkafka_1      | [2022-06-13 22:08:10,623] INFO [ExpirationReaper-1049-topic]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,627] INFO [ExpirationReaper-1049-Heartbeat]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,628] INFO [ExpirationReaper-1049-Rebalance]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,640] INFO [GroupCoordinator 1049]: Starting up. (kafka.coordinator.group.GroupCoordinator)\r\nkafka_1      | [2022-06-13 22:08:10,644] INFO [GroupCoordinator 1049]: Startup complete. (kafka.coordinator.group.GroupCoordinator)\r\nkafka_1      | [2022-06-13 22:08:10,664] INFO [ProducerId Manager 1049]: Acquired new producerId block (brokerId:1049,blockStartProducerId:25000,blockEndProducerId:25999) by writing to Zk with path version 26 (kafka.coordinator.transaction.ProducerIdManager)\r\nkafka_1      | [2022-06-13 22:08:10,665] INFO [TransactionCoordinator id=1049] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)\r\nkafka_1      | [2022-06-13 22:08:10,668] INFO [TransactionCoordinator id=1049] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)\r\nkafka_1      | [2022-06-13 22:08:10,668] INFO [Transaction Marker Channel Manager 1049]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)\r\nkafka_1      | [2022-06-13 22:08:10,688] INFO [ExpirationReaper-1049-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\r\nkafka_1      | [2022-06-13 22:08:10,704] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)\r\nkafka_1      | [2022-06-13 22:08:10,722] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Starting socket server acceptors and processors (kafka.network.SocketServer)\r\nkafka_1      | [2022-06-13 22:08:10,735] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Started data-plane acceptor and processor(s) for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)\r\nkafka_1      | [2022-06-13 22:08:10,735] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Started socket server acceptors and processors (kafka.network.SocketServer)\r\nkafka_1      | [2022-06-13 22:08:10,739] INFO Kafka version: 2.8.1 (org.apache.kafka.common.utils.AppInfoParser)\r\nkafka_1      | [2022-06-13 22:08:10,739] INFO Kafka commitId: 839b886f9b732b15 (org.apache.kafka.common.utils.AppInfoParser)\r\nkafka_1      | [2022-06-13 22:08:10,740] INFO Kafka startTimeMs: 1655158090735 (org.apache.kafka.common.utils.AppInfoParser)\r\nkafka_1      | [2022-06-13 22:08:10,744] INFO [KafkaServer id=1049] started (kafka.server.KafkaServer)\r\nzookeeper_1  | 2022-06-13 22:08:10,770 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@596] - Got user-level KeeperException when processing sessionid:0x100001c35cf0000 type:multi cxid:0x3b zxid:0x4ab txntype:-1 reqpath:n/a aborting remaining multi ops. Error Path:/admin/preferred_replica_election Error:KeeperErrorCode = NoNode for /admin/preferred_replica_election\r\nkafka_1      | [2022-06-13 22:08:10,798] INFO [broker-1049-to-controller-send-thread]: Recorded new controller, from now on will use broker 127.0.0.1:9092 (id: 1049 rack: null) (kafka.server.BrokerToControllerRequestThread)\r\nkafka_1      | creating topics: toAll:1:1\r\nzookeeper_1  | 2022-06-13 22:08:19,653 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@215] - Accepted socket connection from /172.20.0.3:60284\r\nzookeeper_1  | 2022-06-13 22:08:19,655 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@949] - Client attempting to establish new session at /172.20.0.3:60284\r\nzookeeper_1  | 2022-06-13 22:08:19,659 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x100001c35cf0001 with negotiated timeout 30000 for client /172.20.0.3:60284\r\nzookeeper_1  | 2022-06-13 22:08:19,803 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100001c35cf0001\r\nzookeeper_1  | 2022-06-13 22:08:19,808 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1056] - Closed socket connection for client /172.20.0.3:60284 which had sessionid 0x100001c35cf0001 \r\n```\r\nSo, as those said: &lt;code&gt;from now on will use broker 127.0.0.1:9092&lt;/code&gt; and &lt;code&gt;creating topics: toAll:1:1&lt;/code&gt; i am guessing it should be ready to run my application, which is:\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\npublic class KafkaTestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(KafkaTestApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;toAll&quot;).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\r\n\t\treturn args -&gt; {\r\n\t\t\tString mess = &quot;Test message&quot;;\r\n\t\t\ttemplate.send(&quot;toAll&quot;, mess);\r\n\t\t\tlog.info(String.format(&quot;Message sent: %s&quot;, mess));\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nBut when I run it, I get this output: \r\n```\r\n2022-06-14 00:25:25.148  INFO 1108 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \r\n\tbootstrap.servers = [localhost:9092]\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = \r\n\tconnections.max.idle.ms = 300000\r\n\tdefault.api.timeout.ms = 60000\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.2\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\r\n2022-06-14 00:25:25.254  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\r\n2022-06-14 00:25:25.255  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\r\n2022-06-14 00:25:25.255  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1655159125253\r\n2022-06-14 00:25:27.299  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n2022-06-14 00:25:27.301  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2022-06-14 00:25:29.454  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n2022-06-14 00:25:29.454  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2022-06-14 00:25:31.724  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n2022-06-14 00:25:31.724  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n```\r\nand last two lines repeats for a while to finally throw an exception.\r\n\r\nI am fighting with this issue for two days, trying some other setups for Kafka, like kafka_listeners, kafka_advertised_listeners and so on... Some of them make Kafka not running properly, some change IPs, but non of them make my app gives different output.\r\nDo you some ideas what can cause this problem and how might it be fixed? \r\n\r\n**Thanks a lot in advance.**","title":"Spring application cannot connect to a Kafka broker","body":"<hr />\n<p>I am trying to build my first application using Kafka as a messaging system, but I have some problems with running it. I am using Docker images of <strong>zookeeper</strong> and <strong>Kafka</strong> from <strong>wurstmeister</strong> with this <strong>docker-compose.yml</strong>:</p>\n<pre><code>version: '3.8'\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    restart: unless-stopped\n  kafka:\n    image: wurstmeister/kafka\n    ports:\n      - &quot;9092&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ADVERTISED_PORT: 9092\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_CREATE_TOPICS: &quot;toAll:1:1&quot;\n    restart: unless-stopped\n</code></pre>\n<p><strong>docker-compose up</strong> gives me following output:</p>\n<pre><code>kafka_1      | [2022-06-13 22:08:10,071] INFO [ThrottledChannelReaper-Fetch]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\nkafka_1      | [2022-06-13 22:08:10,073] INFO [ThrottledChannelReaper-Produce]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\nkafka_1      | [2022-06-13 22:08:10,074] INFO [ThrottledChannelReaper-Request]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\nkafka_1      | [2022-06-13 22:08:10,076] INFO [ThrottledChannelReaper-ControllerMutation]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)\nkafka_1      | [2022-06-13 22:08:10,089] INFO Log directory /kafka/kafka-logs-44d30bad178c not found, creating it. (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,121] INFO Loading logs from log dirs ArraySeq(/kafka/kafka-logs-44d30bad178c) (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,123] INFO Attempting recovery for all logs in /kafka/kafka-logs-44d30bad178c since no clean shutdown file was found (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,128] INFO Loaded 0 logs in 7ms. (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,128] INFO Starting log cleanup with a period of 300000 ms. (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,130] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)\nkafka_1      | [2022-06-13 22:08:10,429] INFO Updated connection-accept-rate max connection creation rate to 2147483647 (kafka.network.ConnectionQuotas)\nkafka_1      | [2022-06-13 22:08:10,433] INFO Awaiting socket connections on 0.0.0.0:9092. (kafka.network.Acceptor)\nkafka_1      | [2022-06-13 22:08:10,465] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Created data-plane acceptor and processors for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)\nkafka_1      | [2022-06-13 22:08:10,489] INFO [broker-1049-to-controller-send-thread]: Starting (kafka.server.BrokerToControllerRequestThread)\nkafka_1      | [2022-06-13 22:08:10,504] INFO [ExpirationReaper-1049-Produce]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,505] INFO [ExpirationReaper-1049-Fetch]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,506] INFO [ExpirationReaper-1049-DeleteRecords]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,506] INFO [ExpirationReaper-1049-ElectLeader]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,518] INFO [LogDirFailureHandler]: Starting (kafka.server.ReplicaManager$LogDirFailureHandler)\nkafka_1      | [2022-06-13 22:08:10,552] INFO Creating /brokers/ids/1049 (is it secure? false) (kafka.zk.KafkaZkClient)\nkafka_1      | [2022-06-13 22:08:10,567] INFO Stat of the created znode at /brokers/ids/1049 is: 1191,1191,1655158090560,1655158090560,1,0,0,72057715199770624,202,0,1191\nkafka_1      |  (kafka.zk.KafkaZkClient)\nkafka_1      | [2022-06-13 22:08:10,567] INFO Registered broker 1049 at path /brokers/ids/1049 with addresses: PLAINTEXT://127.0.0.1:9092, czxid (broker epoch): 1191 (kafka.zk.KafkaZkClient)\nkafka_1      | [2022-06-13 22:08:10,623] INFO [ExpirationReaper-1049-topic]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,627] INFO [ExpirationReaper-1049-Heartbeat]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,628] INFO [ExpirationReaper-1049-Rebalance]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,640] INFO [GroupCoordinator 1049]: Starting up. (kafka.coordinator.group.GroupCoordinator)\nkafka_1      | [2022-06-13 22:08:10,644] INFO [GroupCoordinator 1049]: Startup complete. (kafka.coordinator.group.GroupCoordinator)\nkafka_1      | [2022-06-13 22:08:10,664] INFO [ProducerId Manager 1049]: Acquired new producerId block (brokerId:1049,blockStartProducerId:25000,blockEndProducerId:25999) by writing to Zk with path version 26 (kafka.coordinator.transaction.ProducerIdManager)\nkafka_1      | [2022-06-13 22:08:10,665] INFO [TransactionCoordinator id=1049] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)\nkafka_1      | [2022-06-13 22:08:10,668] INFO [TransactionCoordinator id=1049] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)\nkafka_1      | [2022-06-13 22:08:10,668] INFO [Transaction Marker Channel Manager 1049]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)\nkafka_1      | [2022-06-13 22:08:10,688] INFO [ExpirationReaper-1049-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)\nkafka_1      | [2022-06-13 22:08:10,704] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)\nkafka_1      | [2022-06-13 22:08:10,722] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Starting socket server acceptors and processors (kafka.network.SocketServer)\nkafka_1      | [2022-06-13 22:08:10,735] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Started data-plane acceptor and processor(s) for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)\nkafka_1      | [2022-06-13 22:08:10,735] INFO [SocketServer listenerType=ZK_BROKER, nodeId=1049] Started socket server acceptors and processors (kafka.network.SocketServer)\nkafka_1      | [2022-06-13 22:08:10,739] INFO Kafka version: 2.8.1 (org.apache.kafka.common.utils.AppInfoParser)\nkafka_1      | [2022-06-13 22:08:10,739] INFO Kafka commitId: 839b886f9b732b15 (org.apache.kafka.common.utils.AppInfoParser)\nkafka_1      | [2022-06-13 22:08:10,740] INFO Kafka startTimeMs: 1655158090735 (org.apache.kafka.common.utils.AppInfoParser)\nkafka_1      | [2022-06-13 22:08:10,744] INFO [KafkaServer id=1049] started (kafka.server.KafkaServer)\nzookeeper_1  | 2022-06-13 22:08:10,770 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@596] - Got user-level KeeperException when processing sessionid:0x100001c35cf0000 type:multi cxid:0x3b zxid:0x4ab txntype:-1 reqpath:n/a aborting remaining multi ops. Error Path:/admin/preferred_replica_election Error:KeeperErrorCode = NoNode for /admin/preferred_replica_election\nkafka_1      | [2022-06-13 22:08:10,798] INFO [broker-1049-to-controller-send-thread]: Recorded new controller, from now on will use broker 127.0.0.1:9092 (id: 1049 rack: null) (kafka.server.BrokerToControllerRequestThread)\nkafka_1      | creating topics: toAll:1:1\nzookeeper_1  | 2022-06-13 22:08:19,653 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@215] - Accepted socket connection from /172.20.0.3:60284\nzookeeper_1  | 2022-06-13 22:08:19,655 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@949] - Client attempting to establish new session at /172.20.0.3:60284\nzookeeper_1  | 2022-06-13 22:08:19,659 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x100001c35cf0001 with negotiated timeout 30000 for client /172.20.0.3:60284\nzookeeper_1  | 2022-06-13 22:08:19,803 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100001c35cf0001\nzookeeper_1  | 2022-06-13 22:08:19,808 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1056] - Closed socket connection for client /172.20.0.3:60284 which had sessionid 0x100001c35cf0001 \n</code></pre>\n<p>So, as those said: <code>from now on will use broker 127.0.0.1:9092</code> and <code>creating topics: toAll:1:1</code> i am guessing it should be ready to run my application, which is:</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class KafkaTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(KafkaTestApplication.class, args);\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;toAll&quot;).build();\n    }\n\n    @Bean\n    public ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\n        return args -&gt; {\n            String mess = &quot;Test message&quot;;\n            template.send(&quot;toAll&quot;, mess);\n            log.info(String.format(&quot;Message sent: %s&quot;, mess));\n        };\n    }\n}\n</code></pre>\n<p>But when I run it, I get this output:</p>\n<pre><code>2022-06-14 00:25:25.148  INFO 1108 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \n    bootstrap.servers = [localhost:9092]\n    client.dns.lookup = use_all_dns_ips\n    client.id = \n    connections.max.idle.ms = 300000\n    default.api.timeout.ms = 60000\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 2147483647\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = GSSAPI\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.2\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n\n2022-06-14 00:25:25.254  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\n2022-06-14 00:25:25.255  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\n2022-06-14 00:25:25.255  INFO 1108 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1655159125253\n2022-06-14 00:25:27.299  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2022-06-14 00:25:27.301  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2022-06-14 00:25:29.454  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2022-06-14 00:25:29.454  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2022-06-14 00:25:31.724  INFO 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2022-06-14 00:25:31.724  WARN 1108 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n</code></pre>\n<p>and last two lines repeats for a while to finally throw an exception.</p>\n<p>I am fighting with this issue for two days, trying some other setups for Kafka, like kafka_listeners, kafka_advertised_listeners and so on... Some of them make Kafka not running properly, some change IPs, but non of them make my app gives different output.\nDo you some ideas what can cause this problem and how might it be fixed?</p>\n<p><strong>Thanks a lot in advance.</strong></p>\n"},{"tags":["java","maven","classpath"],"comments":[{"owner":{"account_id":420643,"reputation":2316,"user_id":798441,"accept_rate":86,"display_name":"wleao"},"score":1,"creation_date":1655171108,"post_id":72609820,"comment_id":128263037,"body_markdown":"check out the second answer of this question https://stackoverflow.com/questions/16655010/in-maven-how-output-the-classpath-being-used and see if it helps","body":"check out the second answer of this question <a href=\"https://stackoverflow.com/questions/16655010/in-maven-how-output-the-classpath-being-used\" title=\"in maven how output the classpath being used\">stackoverflow.com/questions/16655010/&hellip;</a> and see if it helps"},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1655177389,"post_id":72609820,"comment_id":128263878,"body_markdown":"YES I think it does, will look at this more hopefully tomorrow.","body":"YES I think it does, will look at this more hopefully tomorrow."}],"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655160220,"creation_date":1655160220,"question_id":72609820,"body_markdown":"If I have a maven module &#39;my-module&#39;, I can run `dependency:build-classpath` on it, as documented here:\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html\r\n\r\nThis should give me a list of all jars I need in order to run things from `my-module`.  But there&#39;s one jar missing: `my-module.jar` itself!  Any way to fix this?","title":"maven build-classpath doesn&#39;t include its own module","body":"<p>If I have a maven module 'my-module', I can run <code>dependency:build-classpath</code> on it, as documented here:\n<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html</a></p>\n<p>This should give me a list of all jars I need in order to run things from <code>my-module</code>.  But there's one jar missing: <code>my-module.jar</code> itself!  Any way to fix this?</p>\n"},{"tags":["java","android","sockets","tcp","wifi"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":1,"creation_date":1460141585,"post_id":36505450,"comment_id":60621307,"body_markdown":"`I have TimeOutException creating a socket in`. No your socket is created fine. But the socket cannot connect to a server. Please tell which ip&#39;s you use.","body":"<code>I have TimeOutException creating a socket in</code>. No your socket is created fine. But the socket cannot connect to a server. Please tell which ip&#39;s you use."},{"owner":{"account_id":7638593,"reputation":1,"user_id":5791429,"display_name":"Vlad"},"score":0,"creation_date":1460143063,"post_id":36505450,"comment_id":60622140,"body_markdown":"I use my PC&#39;s ip which I get using ipconfig (192.168.0.29 if needed)","body":"I use my PC&#39;s ip which I get using ipconfig (192.168.0.29 if needed)"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":1,"creation_date":1460143850,"post_id":36505450,"comment_id":60622570,"body_markdown":"Check or switch off the firewall","body":"Check or switch off the firewall"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1460144017,"post_id":36505450,"comment_id":60622661,"body_markdown":"Which port number?","body":"Which port number?"},{"owner":{"account_id":7638593,"reputation":1,"user_id":5791429,"display_name":"Vlad"},"score":0,"creation_date":1460144079,"post_id":36505450,"comment_id":60622698,"body_markdown":"I have no firewall on my comp, brandmauer is off and firewall on router is off too.","body":"I have no firewall on my comp, brandmauer is off and firewall on router is off too."},{"owner":{"account_id":7638593,"reputation":1,"user_id":5791429,"display_name":"Vlad"},"score":0,"creation_date":1460144115,"post_id":36505450,"comment_id":60622719,"body_markdown":"i tried different: 15635, 50000, 1000, 80, 1234 etc.","body":"i tried different: 15635, 50000, 1000, 80, 1234 etc."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1460144235,"post_id":36505450,"comment_id":60622789,"body_markdown":"`QHostAddress::Any`. Try with ip of your computer.","body":"<code>QHostAddress::Any</code>. Try with ip of your computer."},{"owner":{"account_id":3153231,"reputation":8125,"user_id":2666212,"display_name":"Mike"},"score":0,"creation_date":1460175729,"post_id":36505450,"comment_id":60631595,"body_markdown":"maybe use a packet sniffer on your desktop (something like wireshark) , to make sure that you are receiving any packet from your phone (specifically look at the SYN packet)","body":"maybe use a packet sniffer on your desktop (something like wireshark) , to make sure that you are receiving any packet from your phone (specifically look at the SYN packet)"}],"answers":[{"tags":[],"owner":{"account_id":445778,"reputation":67,"user_id":838424,"display_name":"j.edi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460140104,"creation_date":1460140104,"answer_id":36506760,"question_id":36505450,"body_markdown":"try check which ip you have assigned on android pohone and if you have route to the destination server ip.\r\n\r\nIs possilbe you get different ip on wifi and different ip by cable.\r\n\r\nAlso you can try an android net tool to try connect to the server.","title":"Why can not I create tcp socket from Android device to PC","body":"<p>try check which ip you have assigned on android pohone and if you have route to the destination server ip.</p>\n\n<p>Is possilbe you get different ip on wifi and different ip by cable.</p>\n\n<p>Also you can try an android net tool to try connect to the server.</p>\n"},{"tags":[],"owner":{"account_id":6964566,"reputation":986,"user_id":5343033,"accept_rate":100,"display_name":"Knowledge Drilling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655159624,"creation_date":1655159624,"answer_id":72609746,"question_id":36505450,"body_markdown":"I had same problem, In my case i created server socket with wrong ip address.\r\nHotspot network band is 192.168.43.1~255\r\n\r\nYou need to create server socket with ip address that hotspot dhcp made like 192.168.43.11\r\n\r\nI had wrongfully made server socket with ip 192.168.0.22, this is wrong.\r\n\r\nAnd your android app should open client socket with it.","title":"Why can not I create tcp socket from Android device to PC","body":"<p>I had same problem, In my case i created server socket with wrong ip address.\nHotspot network band is 192.168.43.1~255</p>\n<p>You need to create server socket with ip address that hotspot dhcp made like 192.168.43.11</p>\n<p>I had wrongfully made server socket with ip 192.168.0.22, this is wrong.</p>\n<p>And your android app should open client socket with it.</p>\n"}],"owner":{"account_id":7638593,"reputation":1,"user_id":5791429,"display_name":"Vlad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655159624,"creation_date":1460135407,"question_id":36505450,"body_markdown":"I&#39;m trying to connect my Android app to desktop server. The problem is when I try to create LAN via portable Wi-Fi hotspot on my smartphone everything works fine, but when I connect PC and phone to the router I have TimeOutException creating a socket in Android app. On the other hand, when I connect desktop client to desktop server via router it works fine too, so the problem occures only when I try to connect mobile client to desktop server via router.\r\n\r\nClient code (Java):\r\n\r\n    Socket socket = new Socket();\r\n    socket.connect(new InetSocketAddress(ip, port), 1000); // TimeOutException\r\n\r\nServer code (C++/Qt):\r\n\r\n    QTcpServer m_tcp_server;\r\n    // ...\r\n    m_tcp_server-&gt;listen(QHostAddress::Any, m_port);\r\n\r\nip address and port are right (100%)\r\n\r\nUPD:\r\n\r\nThank you, guys.\r\n\r\nIt was just a router problem. I tested in on the another one and there is no problem","title":"Why can not I create tcp socket from Android device to PC","body":"<p>I'm trying to connect my Android app to desktop server. The problem is when I try to create LAN via portable Wi-Fi hotspot on my smartphone everything works fine, but when I connect PC and phone to the router I have TimeOutException creating a socket in Android app. On the other hand, when I connect desktop client to desktop server via router it works fine too, so the problem occures only when I try to connect mobile client to desktop server via router.</p>\n\n<p>Client code (Java):</p>\n\n<pre><code>Socket socket = new Socket();\nsocket.connect(new InetSocketAddress(ip, port), 1000); // TimeOutException\n</code></pre>\n\n<p>Server code (C++/Qt):</p>\n\n<pre><code>QTcpServer m_tcp_server;\n// ...\nm_tcp_server-&gt;listen(QHostAddress::Any, m_port);\n</code></pre>\n\n<p>ip address and port are right (100%)</p>\n\n<p>UPD:</p>\n\n<p>Thank you, guys.</p>\n\n<p>It was just a router problem. I tested in on the another one and there is no problem</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1530974829,"post_id":40162392,"comment_id":89428761,"body_markdown":"You don&#39;t have to write the ResponseEntity on the response, but its encapsulated object. Exactly how it&#39;s done here: https://stackoverflow.com/a/43845840/379173","body":"You don&#39;t have to write the ResponseEntity on the response, but its encapsulated object. Exactly how it&#39;s done here: <a href=\"https://stackoverflow.com/a/43845840/379173\">stackoverflow.com/a/43845840/379173</a>"}],"answers":[{"tags":[],"owner":{"account_id":3217089,"reputation":254,"user_id":3647407,"display_name":"andrearro88"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1655159518,"creation_date":1494240932,"answer_id":43845840,"question_id":40162392,"body_markdown":"You can use a custom response object, convert it to a JSON string using the Jackson&#39;s [`ObjectMapper`][1] and write the result into the request.\r\n\r\n---\r\n# Example\r\n\r\n**MyResponseObject.java**\r\n\r\n    private String user;\r\n\r\n    public String getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(String user) {\r\n        this.user = user;\r\n    }\r\n\r\n**MyAuthenticationSuccessHandler.java**\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n        MyResponseObject responseObj = new MyResponseObject();\r\n        responseObj.setUser(&quot;my_user_name&quot;);\r\n\r\n        String json = new ObjectMapper().writeValueAsString(responseObj);\r\n\r\n        httpServletResponse.setStatus(HttpStatus.OK.value());\r\n        httpServletResponse.getWriter().write(json);\r\n        httpServletResponse.flushBuffer();\r\n    }  \r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html","title":"How to write ResponseEntity to HttpServletResponse?","body":"<p>You can use a custom response object, convert it to a JSON string using the Jackson's <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> and write the result into the request.</p>\n<hr />\n<h1>Example</h1>\n<p><strong>MyResponseObject.java</strong></p>\n<pre><code>private String user;\n\npublic String getUser() {\n    return user;\n}\n\npublic void setUser(String user) {\n    this.user = user;\n}\n</code></pre>\n<p><strong>MyAuthenticationSuccessHandler.java</strong></p>\n<pre><code>@Override\npublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n    MyResponseObject responseObj = new MyResponseObject();\n    responseObj.setUser(&quot;my_user_name&quot;);\n\n    String json = new ObjectMapper().writeValueAsString(responseObj);\n\n    httpServletResponse.setStatus(HttpStatus.OK.value());\n    httpServletResponse.getWriter().write(json);\n    httpServletResponse.flushBuffer();\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1533217168,"creation_date":1533217168,"answer_id":51655139,"question_id":40162392,"body_markdown":"Based on [andrearro88&#39;s answer](https://stackoverflow.com/a/43845840/679240), I have made this generic function to copy a `ResponseEntity` to a `HttpServletResponse`:\r\n\r\n\tpublic static void populateResponse(ResponseEntity&lt;String&gt; responseEntity, HttpServletResponse servletResponse)\r\n\t\t\tthrows IOException {\r\n\t\tfor (Map.Entry&lt;String, List&lt;String&gt;&gt; header : responseEntity.getHeaders().entrySet()) {\r\n        \tString chave = header.getKey();\r\n        \tfor (String valor : header.getValue()) {\r\n\t\t\t\tservletResponse.addHeader(chave, valor);        \t\t\r\n        \t}\r\n        }\r\n        \r\n        servletResponse.setStatus(responseEntity.getStatusCodeValue());\r\n        servletResponse.getWriter().write(responseEntity.getBody());\r\n\t}\r\n","title":"How to write ResponseEntity to HttpServletResponse?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/43845840/679240\">andrearro88's answer</a>, I have made this generic function to copy a <code>ResponseEntity</code> to a <code>HttpServletResponse</code>:</p>\n\n<pre><code>public static void populateResponse(ResponseEntity&lt;String&gt; responseEntity, HttpServletResponse servletResponse)\n        throws IOException {\n    for (Map.Entry&lt;String, List&lt;String&gt;&gt; header : responseEntity.getHeaders().entrySet()) {\n        String chave = header.getKey();\n        for (String valor : header.getValue()) {\n            servletResponse.addHeader(chave, valor);                \n        }\n    }\n\n    servletResponse.setStatus(responseEntity.getStatusCodeValue());\n    servletResponse.getWriter().write(responseEntity.getBody());\n}\n</code></pre>\n"}],"owner":{"account_id":1772602,"reputation":1078,"user_id":1617101,"accept_rate":74,"display_name":"Alexey Savchuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22614,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1655159518,"creation_date":1476989695,"question_id":40162392,"body_markdown":"How to write ResponseEntity to HttpServletResponse (as it makes @ResponseBody)?\r\n\r\nFor example I have authentication success handler:\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n        Map responseMap = new HashMap();\r\n        responseMap.put(&quot;user&quot;, &quot;my_user_name&quot;);\r\n        ResponseEntity responseEntity = new ResponseEntity(response, HttpStatus.OK);\r\n    }\r\n\r\nIf use MappingJackson2HttpMessageConverter I have error: &quot;Could not write content: not in non blocking mode.&quot;\r\n\r\nCode:\r\n\r\n    HttpOutputMessage outputMessage = new ServletServerHttpResponse(response);\r\n    messageConverter.write(responseEntity, null, outputMessage);\r\n\r\nWhat are the best practices of implementation handlers with HttpServletResponse?","title":"How to write ResponseEntity to HttpServletResponse?","body":"<p>How to write ResponseEntity to HttpServletResponse (as it makes @ResponseBody)?</p>\n\n<p>For example I have authentication success handler:</p>\n\n<pre><code>@Override\npublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n    Map responseMap = new HashMap();\n    responseMap.put(\"user\", \"my_user_name\");\n    ResponseEntity responseEntity = new ResponseEntity(response, HttpStatus.OK);\n}\n</code></pre>\n\n<p>If use MappingJackson2HttpMessageConverter I have error: \"Could not write content: not in non blocking mode.\"</p>\n\n<p>Code:</p>\n\n<pre><code>HttpOutputMessage outputMessage = new ServletServerHttpResponse(response);\nmessageConverter.write(responseEntity, null, outputMessage);\n</code></pre>\n\n<p>What are the best practices of implementation handlers with HttpServletResponse?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655132306,"post_id":72604196,"comment_id":128252514,"body_markdown":"&quot;Could be&quot; null, but you are in full control of your own producers, so you decide what actually will be null... I don&#39;t think the key and value can be null at the same time. But please clarify what you mean by &quot;materialized view&quot;... You should be able to do prefix searches by a UUID or string","body":"&quot;Could be&quot; null, but you are in full control of your own producers, so you decide what actually will be null... I don&#39;t think the key and value can be null at the same time. But please clarify what you mean by &quot;materialized view&quot;... You should be able to do prefix searches by a UUID or string"},{"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"score":0,"creation_date":1655135932,"post_id":72604196,"comment_id":128254023,"body_markdown":"Thanks for swift reply! I&#39;ve updated original question now showing examples on how to create materialized view as well as how to search.","body":"Thanks for swift reply! I&#39;ve updated original question now showing examples on how to create materialized view as well as how to search."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655136811,"post_id":72604196,"comment_id":128254355,"body_markdown":"What is wrong with [`prefixScan`](https://kafka.apache.org/32/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS))? Then you can get data from all `pk`, then you can further filter from that result","body":"What is wrong with <a href=\"https://kafka.apache.org/32/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS)\" rel=\"nofollow noreferrer\"><code>prefixScan</code></a>? Then you can get data from all <code>pk</code>, then you can further filter from that result"},{"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"score":0,"creation_date":1655159133,"post_id":72604196,"comment_id":128261322,"body_markdown":"There is always something to learn from you! Awesome, never looked into prefixScan. Will definitely need check.","body":"There is always something to learn from you! Awesome, never looked into prefixScan. Will definitely need check."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655159493,"creation_date":1655159493,"answer_id":72609731,"question_id":72604196,"body_markdown":"&gt; make sure that all messages for a parent key go to a specific partition\r\n\r\nA `Partitioner` would be the correct way to do that.\r\n\r\n&gt; method partition both possibilities key and value. However it also denotes that all of them could be null\r\n\r\nIf you have full control over the producers using the Partitioner, that shouldn&#39;t be an issue. I don&#39;t think both key and value can be null, at least not with a state-store where non-null keys are required. \r\n\r\n---\r\n\r\nIf you build the keys such as simple strings `parent:pk`, then use [`ReadOnlyKeyValueStore#prefixScan`](https://kafka.apache.org/32/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS)), that should allow you to get all data for a particular parent prefix, after which, you&#39;d need to check the values of the returned iterator for any more filtering / lookups. ","title":"Kafka Partitioner using value instead of key","body":"<blockquote>\n<p>make sure that all messages for a parent key go to a specific partition</p>\n</blockquote>\n<p>A <code>Partitioner</code> would be the correct way to do that.</p>\n<blockquote>\n<p>method partition both possibilities key and value. However it also denotes that all of them could be null</p>\n</blockquote>\n<p>If you have full control over the producers using the Partitioner, that shouldn't be an issue. I don't think both key and value can be null, at least not with a state-store where non-null keys are required.</p>\n<hr />\n<p>If you build the keys such as simple strings <code>parent:pk</code>, then use <a href=\"https://kafka.apache.org/32/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS)\" rel=\"nofollow noreferrer\"><code>ReadOnlyKeyValueStore#prefixScan</code></a>, that should allow you to get all data for a particular parent prefix, after which, you'd need to check the values of the returned iterator for any more filtering / lookups.</p>\n"}],"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72609731,"answer_count":1,"score":0,"last_activity_date":1655159493,"creation_date":1655128967,"question_id":72604196,"body_markdown":"I&#39;m having a special case where I would need to make sure that all messages for a `parent` key go to a specific partition. Assuming following attributes for the key\r\n - `pk` : `UUID`\r\n\r\nand for the value\r\n - `parent` : `String`\r\n - `name` : `String`\r\n - `familyName` : `String`\r\n - etc.\r\n\r\nPreviously I&#39;ve implemented other partitioners but I always was able to take the relevant information from the key part. The interface [org.apache.kafka.clients.producerPartitioner][1] shows for the method partition both possibilities key and value. However it also denotes that all of them could be null.\r\n\r\nI&#39;m asking this because the content of the stream later also gets loaded into a materialized view. This view should allow to search for the &quot;pk&quot;. \r\nIf I would include the `parent` attribute in the key as well, I could no longer search for a `pk` unless I&#39;d have `parent` as well.\r\n\r\nHere is how I setup a materialized view inside of a stream processing topology:\r\n```Java\r\nKTable&lt;MyObjectKey, MyObjectValue&gt; myObjects = builder\r\n  .table(&quot;topicName&quot;, Consumed.with(myObjectKeySerde, myObjectValueSerde),\r\n         Materialized.&lt;MyObjectKey, MyObjectValue, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;viewName&quot;)\r\n           .withKeySerde(myObjectKeySerde)\r\n           .withValueSerde(myObjectValueSerde));\r\n```\r\n\r\nLater I then can access it like\r\n```\r\nfinal MyObjectKey pk = MyObjectKey.newBuilder().setUUID(... UUID searched for).build();\r\nfinal ReadOnlyKeyValueStore&lt;MyObjectKey, MyObjectValue&gt; store =\r\n  streamsBuilderFactoryBean.getKafkaStreams()\r\n    .store( fromNameAndType(&quot;viewName&quot;, keyValueStore()));\r\nMyObjectValue value = store.get(pk);\r\n```\r\nIn theory could use a range query which then would allow me to include `parent` in the key. Such I then would search from `pk`+ `00000000-0000-0000-0000-000000000000` to `pk`+ `ffffffff-ffff-ffff-ffff-ffffffffffff`.\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/producer/Partitioner.html","title":"Kafka Partitioner using value instead of key","body":"<p>I'm having a special case where I would need to make sure that all messages for a <code>parent</code> key go to a specific partition. Assuming following attributes for the key</p>\n<ul>\n<li><code>pk</code> : <code>UUID</code></li>\n</ul>\n<p>and for the value</p>\n<ul>\n<li><code>parent</code> : <code>String</code></li>\n<li><code>name</code> : <code>String</code></li>\n<li><code>familyName</code> : <code>String</code></li>\n<li>etc.</li>\n</ul>\n<p>Previously I've implemented other partitioners but I always was able to take the relevant information from the key part. The interface <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/producer/Partitioner.html\" rel=\"nofollow noreferrer\">org.apache.kafka.clients.producerPartitioner</a> shows for the method partition both possibilities key and value. However it also denotes that all of them could be null.</p>\n<p>I'm asking this because the content of the stream later also gets loaded into a materialized view. This view should allow to search for the &quot;pk&quot;.\nIf I would include the <code>parent</code> attribute in the key as well, I could no longer search for a <code>pk</code> unless I'd have <code>parent</code> as well.</p>\n<p>Here is how I setup a materialized view inside of a stream processing topology:</p>\n<pre><code>KTable&lt;MyObjectKey, MyObjectValue&gt; myObjects = builder\n  .table(&quot;topicName&quot;, Consumed.with(myObjectKeySerde, myObjectValueSerde),\n         Materialized.&lt;MyObjectKey, MyObjectValue, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;viewName&quot;)\n           .withKeySerde(myObjectKeySerde)\n           .withValueSerde(myObjectValueSerde));\n</code></pre>\n<p>Later I then can access it like</p>\n<pre><code>final MyObjectKey pk = MyObjectKey.newBuilder().setUUID(... UUID searched for).build();\nfinal ReadOnlyKeyValueStore&lt;MyObjectKey, MyObjectValue&gt; store =\n  streamsBuilderFactoryBean.getKafkaStreams()\n    .store( fromNameAndType(&quot;viewName&quot;, keyValueStore()));\nMyObjectValue value = store.get(pk);\n</code></pre>\n<p>In theory could use a range query which then would allow me to include <code>parent</code> in the key. Such I then would search from <code>pk</code>+ <code>00000000-0000-0000-0000-000000000000</code> to <code>pk</code>+ <code>ffffffff-ffff-ffff-ffff-ffffffffffff</code>.</p>\n"},{"tags":["java","string","parsing","delimiter"],"comments":[{"owner":{"account_id":311010,"reputation":1206,"user_id":624341,"accept_rate":100,"display_name":"Igor Rodriguez"},"score":0,"creation_date":1363208632,"post_id":15396266,"comment_id":21764923,"body_markdown":"Use String.split(&quot;,&quot;), without the two backslashes.","body":"Use String.split(&quot;,&quot;), without the two backslashes."}],"answers":[{"tags":[],"owner":{"account_id":395849,"reputation":46365,"user_id":759019,"accept_rate":98,"display_name":"Anirudh Ramanathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363209131,"creation_date":1363208708,"answer_id":15396453,"question_id":15396266,"body_markdown":"Your inner **for-loop** is unnecessary. Its control variable `i` is unused.\r\nOtherwise, your code gives out the right output.\r\n\r\nFor larger comma-separated lists, you&#39;d be better off using a csv-reader, instead of working with strings.\r\n\r\n**Output:** http://ideone.com/dzaIsh","title":"How To Parse Delimiter Comma Separated String For First 4 Values in Java","body":"<p>Your inner <strong>for-loop</strong> is unnecessary. Its control variable <code>i</code> is unused.\nOtherwise, your code gives out the right output.</p>\n\n<p>For larger comma-separated lists, you'd be better off using a csv-reader, instead of working with strings.</p>\n\n<p><strong>Output:</strong> <a href=\"http://ideone.com/dzaIsh\" rel=\"nofollow\">http://ideone.com/dzaIsh</a></p>\n"},{"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363208721,"creation_date":1363208721,"answer_id":15396458,"question_id":15396266,"body_markdown":"you have to remove the `\\\\` from the regex.\r\n\r\nthis will do what you need:\r\n\r\n\t@Test\r\n\tpublic void split2() {\r\n\t\tString input = &quot;1_3_5_1,1_3_7_1,1_4_9_1&quot;;\r\n\t\tString[] csv = input.split(&quot;,&quot;);\r\n\t\tfor(String v : csv) {\r\n\t\t\tString[] usv = v.split(&quot;_&quot;);\r\n\t\t\tSystem.out.print(&quot;[&quot;);\r\n\t\t\tfor(int i = 0; i &lt; usv.length; i++) {\r\n\t\t\t\tSystem.out.print(usv[i]);\r\n\t\t\t\tif(i &lt; usv.length-1) {\r\n\t\t\t\t\tSystem.out.print(&quot;, &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;]&quot;);\r\n\t\t}\r\n\t}\r\n\r\noutput is\r\n\r\n    [1, 3, 5, 1]\r\n    [1, 3, 7, 1]\r\n    [1, 4, 9, 1]\r\n","title":"How To Parse Delimiter Comma Separated String For First 4 Values in Java","body":"<p>you have to remove the <code>\\\\</code> from the regex.</p>\n\n<p>this will do what you need:</p>\n\n<pre><code>@Test\npublic void split2() {\n    String input = \"1_3_5_1,1_3_7_1,1_4_9_1\";\n    String[] csv = input.split(\",\");\n    for(String v : csv) {\n        String[] usv = v.split(\"_\");\n        System.out.print(\"[\");\n        for(int i = 0; i &lt; usv.length; i++) {\n            System.out.print(usv[i]);\n            if(i &lt; usv.length-1) {\n                System.out.print(\", \");\n            }\n        }\n        System.out.println(\"]\");\n    }\n}\n</code></pre>\n\n<p>output is</p>\n\n<pre><code>[1, 3, 5, 1]\n[1, 3, 7, 1]\n[1, 4, 9, 1]\n</code></pre>\n"}],"owner":{"account_id":468936,"reputation":826,"user_id":875203,"accept_rate":83,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15396458,"answer_count":2,"score":1,"last_activity_date":1655159170,"creation_date":1363208084,"question_id":15396266,"body_markdown":"I&#39;m currently trying to parse through a string with the output of `1_3_5_1,1_3_7_1,1_4_9_1`\r\n\r\nI have run a for loop:\r\n\r\n    String[] row;\r\n    for(String value : selValues.split(&quot;\\\\,&quot;)){\r\n\t\t\t\tSystem.err.println(&quot;value to be deleted :: &quot;+value);\r\n\t\t\t\tfor(int i = 0; i &lt;= 4; i++) {\r\n\t\t\t\t\trow = value.split(&quot;\\\\_&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;print row :: &quot; + row[0]);\r\n\t\t\t\t\tSystem.out.println(&quot;print row :: &quot; + row[1]);\r\n\t\t\t\t\tSystem.out.println(&quot;print row :: &quot; + row[2]);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\nI&#39;m trying to capture the first 4 separated by &quot;_&quot;. What I&#39;m looking for is the row[] to be:\r\n    `row[1,3,5,1]\r\nrow[1,3,7,1]\r\nrow[1,4,9,1]`\r\n\r\nSince these are values I&#39;ll be sending to the database in a query.\r\n\r\nRight now, my ouptut is just repeating 1,3,5,1.\r\n\r\nAny help would be greatly appreciated. There may be a better way of doing this. Thanks!\r\n\r\n**SOLUTION**\r\n\r\nThanks for everyone&#39;s input. I&#39;ve cleaned it up using them and have this:\r\n\r\n    if(selValues != null &amp;&amp; !selValues.trim().equals(&quot;&quot;)){\r\n\t\t\tfor(String value : selValues.split(&quot;,&quot;)){\r\n\t\t\t\t\trow = value.split(&quot;_&quot;);\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t//database call here\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"How To Parse Delimiter Comma Separated String For First 4 Values in Java","body":"<p>I'm currently trying to parse through a string with the output of <code>1_3_5_1,1_3_7_1,1_4_9_1</code></p>\n\n<p>I have run a for loop:</p>\n\n<pre><code>String[] row;\nfor(String value : selValues.split(\"\\\\,\")){\n            System.err.println(\"value to be deleted :: \"+value);\n            for(int i = 0; i &lt;= 4; i++) {\n                row = value.split(\"\\\\_\");\n                System.out.println(\"print row :: \" + row[0]);\n                System.out.println(\"print row :: \" + row[1]);\n                System.out.println(\"print row :: \" + row[2]);\n\n            }\n</code></pre>\n\n<p>I'm trying to capture the first 4 separated by \"_\". What I'm looking for is the row[] to be:\n    <code>row[1,3,5,1]\nrow[1,3,7,1]\nrow[1,4,9,1]</code></p>\n\n<p>Since these are values I'll be sending to the database in a query.</p>\n\n<p>Right now, my ouptut is just repeating 1,3,5,1.</p>\n\n<p>Any help would be greatly appreciated. There may be a better way of doing this. Thanks!</p>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>Thanks for everyone's input. I've cleaned it up using them and have this:</p>\n\n<pre><code>if(selValues != null &amp;&amp; !selValues.trim().equals(\"\")){\n        for(String value : selValues.split(\",\")){\n                row = value.split(\"_\");\n                try{\n                //database call here\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n        }\n    }\n</code></pre>\n"},{"tags":["java","memory-leaks","profiler","async-profiler"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1654558818,"post_id":72524403,"comment_id":128114575,"body_markdown":"https://stackoverflow.com/questions/40119/how-to-find-a-java-memory-leak","body":"<a href=\"https://stackoverflow.com/questions/40119/how-to-find-a-java-memory-leak\" title=\"how to find a java memory leak\">stackoverflow.com/questions/40119/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654561747,"creation_date":1654561747,"answer_id":72524708,"question_id":72524403,"body_markdown":"Your async-profilers arguments seem wrong.  \r\nChange `event=itimer,Unsafe_AllocateMemory0` to `event=Unsafe_AllocateMemory0`\r\n\r\nasync-profiler also has an experimental `nativemem` mode specifically for finding native memory leaks. See https://github.com/jvm-profiling-tools/async-profiler/discussions/491 for the details.\r\n\r\n`Other` section in NMT typically includes off-heap memory allocated with `Unsafe.allocateMemory`, in particular, Direct ByteBuffers.","title":"Java Native Memory &#39;Other&#39; section consumes a lot of memory","body":"<p>Your async-profilers arguments seem wrong.<br />\nChange <code>event=itimer,Unsafe_AllocateMemory0</code> to <code>event=Unsafe_AllocateMemory0</code></p>\n<p>async-profiler also has an experimental <code>nativemem</code> mode specifically for finding native memory leaks. See <a href=\"https://github.com/jvm-profiling-tools/async-profiler/discussions/491\" rel=\"nofollow noreferrer\">https://github.com/jvm-profiling-tools/async-profiler/discussions/491</a> for the details.</p>\n<p><code>Other</code> section in NMT typically includes off-heap memory allocated with <code>Unsafe.allocateMemory</code>, in particular, Direct ByteBuffers.</p>\n"}],"owner":{"account_id":25478313,"reputation":13,"user_id":19275148,"display_name":"Anton Gabov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72524708,"answer_count":1,"score":1,"last_activity_date":1655159123,"creation_date":1654557895,"question_id":72524403,"body_markdown":"**Prerequisites**\r\n\r\nApplication is run in docker-container with Java openjdk version &quot;13.0.1&quot; with these options: \r\n\r\n`-Xmx6G -XX:MaxHeapFreeRatio=30 -XX:MinHeapFreeRatio=10 -XX:+AlwaysActAsServerClassMachine -XX:+UseContainerSupport -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath==/.../crush.hprof -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Xlog:gc*:file=/var/log/.../log.gc.log:time::filecount=5,filesize=100000`\r\n\r\nWhen I run `jcmd 1 VM.native_memory`, I get this:\r\n\r\n    Total: reserved=9081562KB, committed=1900002KB\r\n    -                 Java Heap (reserved=6291456KB, committed=896000KB)\r\n                                (mmap: reserved=6291456KB, committed=896000KB) \r\n     \r\n    -                     Class (reserved=1221794KB, committed=197034KB)\r\n                                (classes #34434)\r\n                                (  instance classes #32536, array classes #1898)\r\n                                (malloc=7330KB #121979) \r\n                                (mmap: reserved=1214464KB, committed=189704KB) \r\n                                (  Metadata:   )\r\n                                (    reserved=165888KB, committed=165752KB)\r\n                                (    used=161911KB)\r\n                                (    free=3841KB)\r\n                                (    waste=0KB =0.00%)\r\n                                (  Class space:)\r\n                                (    reserved=1048576KB, committed=23952KB)\r\n                                (    used=21501KB)\r\n                                (    free=2451KB)\r\n                                (    waste=0KB =0.00%)\r\n     \r\n    -                    Thread (reserved=456661KB, committed=50141KB)\r\n                                (thread #442)\r\n                                (stack: reserved=454236KB, committed=47716KB)\r\n                                (malloc=1572KB #2654) \r\n                                (arena=853KB #882)\r\n     \r\n    -                      Code (reserved=255027KB, committed=100419KB)\r\n                                (malloc=7343KB #26005) \r\n                                (mmap: reserved=247684KB, committed=93076KB) \r\n     \r\n    -                        GC (reserved=316675KB, committed=116459KB)\r\n                                (malloc=47311KB #70516) \r\n                                (mmap: reserved=269364KB, committed=69148KB) \r\n     \r\n    -                  Compiler (reserved=1429KB, committed=1429KB)\r\n                                (malloc=1634KB #2498) \r\n                                (arena=18014398509481779KB #5)\r\n     \r\n    -                  Internal (reserved=2998KB, committed=2998KB)\r\n                                (malloc=2962KB #5480) \r\n                                (mmap: reserved=36KB, committed=36KB) \r\n     \r\n    -                     Other (reserved=446581KB, committed=446581KB)\r\n                                (malloc=446581KB #368) \r\n     \r\n    -                    Symbol (reserved=36418KB, committed=36418KB)\r\n                                (malloc=34460KB #906917) \r\n                                (arena=1958KB #1)\r\n     \r\n    -    Native Memory Tracking (reserved=18786KB, committed=18786KB)\r\n                                (malloc=587KB #8291) \r\n                                (tracking overhead=18199KB)\r\n     \r\n    -        Shared class space (reserved=11180KB, committed=11180KB)\r\n                                (mmap: reserved=11180KB, committed=11180KB) \r\n     \r\n    -               Arena Chunk (reserved=19480KB, committed=19480KB)\r\n                                (malloc=19480KB) \r\n     \r\n    -                   Logging (reserved=7KB, committed=7KB)\r\n                                (malloc=7KB #271) \r\n     \r\n    -                 Arguments (reserved=17KB, committed=17KB)\r\n                                (malloc=17KB #471) \r\n     \r\n    -                    Module (reserved=1909KB, committed=1909KB)\r\n                                (malloc=1909KB #11057) \r\n     \r\n    -                 Safepoint (reserved=8KB, committed=8KB)\r\n                                (mmap: reserved=8KB, committed=8KB) \r\n     \r\n    -           Synchronization (reserved=1136KB, committed=1136KB)\r\n                                (malloc=1136KB #6628)\r\n\r\nHere we can see that &#39;Other&#39; section consumes **446581 KB** whereas total committed memory is **1900002 KB**.\r\n\r\nSo, &#39;Other&#39; section takes 23% of all committed memory! \r\n\r\nAlso this memory is not freed when application is running.\r\n\r\nBecause of this I changed java flag `-XX:NativeMemoryTracking=summary` to `-XX:NativeMemoryTracking=detail` to check where memory is allocated and got this 2 strange blocks of memory:\r\n\r\n    [0x00007f8db4b32bae] Unsafe_AllocateMemory0+0x8e\r\n    [0x00007f8da416e7db]\r\n                                 (malloc=298470KB type=Other #286)\r\n    \r\n    [0x00007f8db4b32bae] Unsafe_AllocateMemory0+0x8e\r\n    [0x00007f8d9b84bc90]\r\n                                 (malloc=148111KB type=Other #82)\r\n\r\n**Analyze**\r\n\r\n1) I tried to use *async-profiler* to check event **Unsafe_AllocateMemory0**.\r\n\r\nI run *async-profiler* as agent like this: \r\n\r\n    java -agentpath:/async-profiler/build/libasyncProfiler.so=start,event=itimer,Unsafe_AllocateMemory0,file=/var/log/.../unsafe_allocate_memory.html\r\n\r\nAnd got this flamegraph: https://i.stack.imgur.com/PbE5D.png\r\n\r\nAlso, I tried to profile events `malloc,mmap,mprotect`. `malloc` showed the same flamegraph as event `Unsafe_AllocateMemory0`, but flamegraphs for `mmap` and `mprotect` were empty.\r\n\r\nI thought that problem can be related with C2 compiler and disabled it, but after restart nothing changed - the &#39;Other&#39; section still occupied a lot of memory memory. Moreover, this application is long-living and I&#39;m not sure that disabling C2 can be a good idea.\r\n\r\n2. I tried to use *jeprof* to check which part of code executes `os.malloc`\r\n\r\nI run java application like this:\r\n\r\n    LD_PRELOAD=/usr/local/lib/libjemalloc.so MALLOC_CONF=prof:true,lg_prof_interval:30,lg_prof_sample:17 exec java -jar /srv/app/myapp.jar\r\n\r\nAfter 10+ minutes I used *jeprof* and got this: https://i.stack.imgur.com/45adD.gif\r\n\r\nAnd again there are 2 blocks of memory which occupied many native memory.\r\n\r\n\r\n**Result**\r\n\r\nI cannot find the place, which allocates so much memory. \r\n\r\nMaybe someone can recommend how to spot the root cause of this problem? And what steps do I need to take to avoid this problem?\r\n\r\n\r\n**UPDATE 1**\r\n\r\nThanks to [apangin](https://stackoverflow.com/users/3448419/apangin) I have finally found the place, where so much memory is occupied!\r\n\r\nIt&#39;s related to *Redisson*/*Lettuce*, which are using Netty under the hood: [flamegraph](https://i.stack.imgur.com/UV48V.jpg)\r\n\r\nI used experimental [native mode](https://github.com/jvm-profiling-tools/async-profiler/discussions/491) and run java:\r\n\r\n    java -agentpath:/async-profiler/build/libasyncProfiler.so=start,event=nativemem,file=/var/log/.../profile.jfr -jar /srv/app/myapp.jar ","title":"Java Native Memory &#39;Other&#39; section consumes a lot of memory","body":"<p><strong>Prerequisites</strong></p>\n<p>Application is run in docker-container with Java openjdk version &quot;13.0.1&quot; with these options:</p>\n<p><code>-Xmx6G -XX:MaxHeapFreeRatio=30 -XX:MinHeapFreeRatio=10 -XX:+AlwaysActAsServerClassMachine -XX:+UseContainerSupport -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath==/.../crush.hprof -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Xlog:gc*:file=/var/log/.../log.gc.log:time::filecount=5,filesize=100000</code></p>\n<p>When I run <code>jcmd 1 VM.native_memory</code>, I get this:</p>\n<pre><code>Total: reserved=9081562KB, committed=1900002KB\n-                 Java Heap (reserved=6291456KB, committed=896000KB)\n                            (mmap: reserved=6291456KB, committed=896000KB) \n \n-                     Class (reserved=1221794KB, committed=197034KB)\n                            (classes #34434)\n                            (  instance classes #32536, array classes #1898)\n                            (malloc=7330KB #121979) \n                            (mmap: reserved=1214464KB, committed=189704KB) \n                            (  Metadata:   )\n                            (    reserved=165888KB, committed=165752KB)\n                            (    used=161911KB)\n                            (    free=3841KB)\n                            (    waste=0KB =0.00%)\n                            (  Class space:)\n                            (    reserved=1048576KB, committed=23952KB)\n                            (    used=21501KB)\n                            (    free=2451KB)\n                            (    waste=0KB =0.00%)\n \n-                    Thread (reserved=456661KB, committed=50141KB)\n                            (thread #442)\n                            (stack: reserved=454236KB, committed=47716KB)\n                            (malloc=1572KB #2654) \n                            (arena=853KB #882)\n \n-                      Code (reserved=255027KB, committed=100419KB)\n                            (malloc=7343KB #26005) \n                            (mmap: reserved=247684KB, committed=93076KB) \n \n-                        GC (reserved=316675KB, committed=116459KB)\n                            (malloc=47311KB #70516) \n                            (mmap: reserved=269364KB, committed=69148KB) \n \n-                  Compiler (reserved=1429KB, committed=1429KB)\n                            (malloc=1634KB #2498) \n                            (arena=18014398509481779KB #5)\n \n-                  Internal (reserved=2998KB, committed=2998KB)\n                            (malloc=2962KB #5480) \n                            (mmap: reserved=36KB, committed=36KB) \n \n-                     Other (reserved=446581KB, committed=446581KB)\n                            (malloc=446581KB #368) \n \n-                    Symbol (reserved=36418KB, committed=36418KB)\n                            (malloc=34460KB #906917) \n                            (arena=1958KB #1)\n \n-    Native Memory Tracking (reserved=18786KB, committed=18786KB)\n                            (malloc=587KB #8291) \n                            (tracking overhead=18199KB)\n \n-        Shared class space (reserved=11180KB, committed=11180KB)\n                            (mmap: reserved=11180KB, committed=11180KB) \n \n-               Arena Chunk (reserved=19480KB, committed=19480KB)\n                            (malloc=19480KB) \n \n-                   Logging (reserved=7KB, committed=7KB)\n                            (malloc=7KB #271) \n \n-                 Arguments (reserved=17KB, committed=17KB)\n                            (malloc=17KB #471) \n \n-                    Module (reserved=1909KB, committed=1909KB)\n                            (malloc=1909KB #11057) \n \n-                 Safepoint (reserved=8KB, committed=8KB)\n                            (mmap: reserved=8KB, committed=8KB) \n \n-           Synchronization (reserved=1136KB, committed=1136KB)\n                            (malloc=1136KB #6628)\n</code></pre>\n<p>Here we can see that 'Other' section consumes <strong>446581 KB</strong> whereas total committed memory is <strong>1900002 KB</strong>.</p>\n<p>So, 'Other' section takes 23% of all committed memory!</p>\n<p>Also this memory is not freed when application is running.</p>\n<p>Because of this I changed java flag <code>-XX:NativeMemoryTracking=summary</code> to <code>-XX:NativeMemoryTracking=detail</code> to check where memory is allocated and got this 2 strange blocks of memory:</p>\n<pre><code>[0x00007f8db4b32bae] Unsafe_AllocateMemory0+0x8e\n[0x00007f8da416e7db]\n                             (malloc=298470KB type=Other #286)\n\n[0x00007f8db4b32bae] Unsafe_AllocateMemory0+0x8e\n[0x00007f8d9b84bc90]\n                             (malloc=148111KB type=Other #82)\n</code></pre>\n<p><strong>Analyze</strong></p>\n<ol>\n<li>I tried to use <em>async-profiler</em> to check event <strong>Unsafe_AllocateMemory0</strong>.</li>\n</ol>\n<p>I run <em>async-profiler</em> as agent like this:</p>\n<pre><code>java -agentpath:/async-profiler/build/libasyncProfiler.so=start,event=itimer,Unsafe_AllocateMemory0,file=/var/log/.../unsafe_allocate_memory.html\n</code></pre>\n<p>And got this flamegraph: <a href=\"https://i.stack.imgur.com/PbE5D.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/PbE5D.png</a></p>\n<p>Also, I tried to profile events <code>malloc,mmap,mprotect</code>. <code>malloc</code> showed the same flamegraph as event <code>Unsafe_AllocateMemory0</code>, but flamegraphs for <code>mmap</code> and <code>mprotect</code> were empty.</p>\n<p>I thought that problem can be related with C2 compiler and disabled it, but after restart nothing changed - the 'Other' section still occupied a lot of memory memory. Moreover, this application is long-living and I'm not sure that disabling C2 can be a good idea.</p>\n<ol start=\"2\">\n<li>I tried to use <em>jeprof</em> to check which part of code executes <code>os.malloc</code></li>\n</ol>\n<p>I run java application like this:</p>\n<pre><code>LD_PRELOAD=/usr/local/lib/libjemalloc.so MALLOC_CONF=prof:true,lg_prof_interval:30,lg_prof_sample:17 exec java -jar /srv/app/myapp.jar\n</code></pre>\n<p>After 10+ minutes I used <em>jeprof</em> and got this: <a href=\"https://i.stack.imgur.com/45adD.gif\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/45adD.gif</a></p>\n<p>And again there are 2 blocks of memory which occupied many native memory.</p>\n<p><strong>Result</strong></p>\n<p>I cannot find the place, which allocates so much memory.</p>\n<p>Maybe someone can recommend how to spot the root cause of this problem? And what steps do I need to take to avoid this problem?</p>\n<p><strong>UPDATE 1</strong></p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/3448419/apangin\">apangin</a> I have finally found the place, where so much memory is occupied!</p>\n<p>It's related to <em>Redisson</em>/<em>Lettuce</em>, which are using Netty under the hood: <a href=\"https://i.stack.imgur.com/UV48V.jpg\" rel=\"nofollow noreferrer\">flamegraph</a></p>\n<p>I used experimental <a href=\"https://github.com/jvm-profiling-tools/async-profiler/discussions/491\" rel=\"nofollow noreferrer\">native mode</a> and run java:</p>\n<pre><code>java -agentpath:/async-profiler/build/libasyncProfiler.so=start,event=nativemem,file=/var/log/.../profile.jfr -jar /srv/app/myapp.jar \n</code></pre>\n"},{"tags":["java","maven","apache-spark","apache-kafka","spark-kafka-integration"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655159021,"creation_date":1655159021,"answer_id":72609678,"question_id":72534320,"body_markdown":"First - You need an Uber JAR that actually has the `spark-kafka-sql` packages _included_ (refer Maven Assembly plugin documentation or &quot;`jar-with-dependencies`&quot;). You also should remove `spark-streaming-kafka` since you aren&#39;t using it. \r\n\r\nSecond - [you must use `spark-submit`](https://spark.apache.org/docs/latest/submitting-applications.html) to run Spark applications to establish the correct program classpath\r\n\r\n&gt; runs well when I run by eclipse\r\n\r\nEclipse will default to include the dependencies listed in your POM when running the program from the IDE. ","title":"Spark Streaming - Kafka - Java -jar not working but running by Java application it works","body":"<p>First - You need an Uber JAR that actually has the <code>spark-kafka-sql</code> packages <em>included</em> (refer Maven Assembly plugin documentation or &quot;<code>jar-with-dependencies</code>&quot;). You also should remove <code>spark-streaming-kafka</code> since you aren't using it.</p>\n<p>Second - <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html\" rel=\"nofollow noreferrer\">you must use <code>spark-submit</code></a> to run Spark applications to establish the correct program classpath</p>\n<blockquote>\n<p>runs well when I run by eclipse</p>\n</blockquote>\n<p>Eclipse will default to include the dependencies listed in your POM when running the program from the IDE.</p>\n"}],"owner":{"account_id":7905381,"reputation":1014,"user_id":6534180,"accept_rate":82,"display_name":"Pedro Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72609678,"answer_count":1,"score":0,"last_activity_date":1655159097,"creation_date":1654617506,"question_id":72534320,"body_markdown":"I&#39;ve a simple Java Spark script. That basically it&#39;s to return kafka data:\r\n\r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.functions;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( &quot;Hello World!&quot; );\r\n            SparkSession spark = SparkSession.builder().appName(&quot;Kafka_Load&quot;).config(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\r\n    \t\tDataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;).option(&quot;subscribe&quot;, &quot;my_topic&quot;).load();\r\n    \t\tSystem.out.println( &quot;Hello World1!&quot; );\r\n        }\r\n    }\r\n\r\nThat runs well when I run by eclipse using run java application. But when I run &quot;java -jar my_jar.jar&quot; it gives the follwoing exception:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Failed to find data source: kafka. Please deploy the application as per the deployment section of &quot;Structured Streaming + Kafka Integration Guide&quot;.;\r\n\r\nMy pom.xml is the following one:\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;       \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql-kafka-0-10_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;               \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n\r\nHow can I solve this?\r\n","title":"Spark Streaming - Kafka - Java -jar not working but running by Java application it works","body":"<p>I've a simple Java Spark script. That basically it's to return kafka data:</p>\n<pre><code>import org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.functions;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n        SparkSession spark = SparkSession.builder().appName(&quot;Kafka_Load&quot;).config(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\n        Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;).option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;).option(&quot;subscribe&quot;, &quot;my_topic&quot;).load();\n        System.out.println( &quot;Hello World1!&quot; );\n    }\n}\n</code></pre>\n<p>That runs well when I run by eclipse using run java application. But when I run &quot;java -jar my_jar.jar&quot; it gives the follwoing exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Failed to find data source: kafka. Please deploy the application as per the deployment section of &quot;Structured Streaming + Kafka Integration Guide&quot;.;\n</code></pre>\n<p>My pom.xml is the following one:</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql-kafka-0-10_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;               \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655200289,"post_id":72609585,"comment_id":128270071,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, error.getMessage());`. Do you get something printed out in the logcat? Besides that, have you tried kboskin&#39;s solution? Does it work?","body":"First of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, error.getMessage());</code>. Do you get something printed out in the logcat? Besides that, have you tried kboskin&#39;s solution? Does it work?"},{"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"score":0,"creation_date":1655223417,"post_id":72609585,"comment_id":128279420,"body_markdown":"I have tried logging, but it doesnt print. I did try his solution but no luck","body":"I have tried logging, but it doesnt print. I did try his solution but no luck"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655225486,"post_id":72609585,"comment_id":128280107,"body_markdown":"Is `products` a direct child of the root node?","body":"Is <code>products</code> a direct child of the root node?"}],"answers":[{"tags":[],"owner":{"account_id":10484151,"reputation":422,"user_id":7728273,"accept_rate":80,"display_name":"kboskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655158964,"creation_date":1655158964,"answer_id":72609673,"question_id":72609585,"body_markdown":"It&#39;s pretty hard to debug without having full access but it seems that in your adapter there are some hardcoded things right now\r\n\r\n     @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n\r\nTry changing that to be \r\n\r\n     @Override\r\n    public int getItemCount() {\r\n        return list.size;\r\n    }\r\n\r\nSo that when you call notify adapter, it doesn&#39;t operate with hardcoded 0 lengths. I would also recommend you updating the adapter using some custom method, so that data from the original list doesn&#39;t mixed data in adapter","title":"recycler view returns empty textview from firebase","body":"<p>It's pretty hard to debug without having full access but it seems that in your adapter there are some hardcoded things right now</p>\n<pre><code> @Override\npublic int getItemCount() {\n    return 0;\n}\n</code></pre>\n<p>Try changing that to be</p>\n<pre><code> @Override\npublic int getItemCount() {\n    return list.size;\n}\n</code></pre>\n<p>So that when you call notify adapter, it doesn't operate with hardcoded 0 lengths. I would also recommend you updating the adapter using some custom method, so that data from the original list doesn't mixed data in adapter</p>\n"}],"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655158964,"creation_date":1655158180,"question_id":72609585,"body_markdown":"I am trying to retrieve data from firebase. I have done the exact steps for another data and it worked perfectly. But I can&#39;t seem to get it right with products.\r\n\r\nHere is my codes :\r\n\r\nproduct model\r\n```\r\n\r\npublic class ProductModel {\r\n    private String name;\r\n    private String price;\r\n    private String description;\r\n\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n} \r\n```\r\n\r\nproduct adapter\r\n```\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter&lt;ProductAdapter.ProductViewHolder&gt;  {\r\n\r\n    Context context;\r\n    ArrayList&lt;ProductModel&gt; list;\r\n\r\n    public ProductAdapter(Context context, ArrayList&lt;ProductModel&gt; list){\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.tab_one,parent,false);\r\n        return new ProductAdapter.ProductViewHolder(v);    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {\r\n        ProductModel productModel = list.get(position);\r\n\r\n        holder.description.setText(productModel.getName());\r\n        holder.price.setText(productModel.getPrice());\r\n        holder.description.setText(productModel.getDescription());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n    public static class ProductViewHolder extends  RecyclerView.ViewHolder{\r\n\r\n        TextView name, description, price;\r\n\r\n\r\n        public ProductViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n\r\n            name = itemView.findViewById(R.id.productName);\r\n            description = itemView.findViewById(R.id.desc);\r\n            price = itemView.findViewById(R.id.price);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nproduct list\r\n\r\n```\r\npublic class ProductList extends AppCompatActivity {\r\nRecyclerView recyclerView;\r\nProductAdapter adapter;\r\nArrayList&lt;ProductModel&gt; list;\r\n\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.product_list);\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;products&quot;);\r\n\r\n    recyclerView =  findViewById(R.id.productList);\r\n    recyclerView.setHasFixedSize(true);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n    list = new ArrayList&lt;&gt;();\r\n    adapter = new ProductAdapter(this,list);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n\r\n\r\n    ref.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                ProductModel product = dataSnapshot.getValue(ProductModel.class);\r\n                list.add(product);\r\n            }\r\n\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n}\r\n}\r\n```\r\n\r\ntabone.xml \r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.tablayout.Fragments.TabOne&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;16dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;16dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot; Name :&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;26sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/productName&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;8dp&quot;\r\n                    android:text=&quot;Arya&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot; Price:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;26sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/price&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;8dp&quot;\r\n                    android:text=&quot;Stark&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Description :&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;26sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/desc&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;8dp&quot;\r\n                    android:text=&quot;18&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\n```\r\nproduct_list.xml\r\n```\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.ui.Operations.ProductList&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/productList&quot;&gt;\r\n\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nI saved the data manually just for testing. [Here is how my firebase looks][1] The output is [here][2] . Text there was manually written so they are not being overwritten with data in firebase. What am i doing wrong ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T8dqF.png\r\n  [2]: https://i.stack.imgur.com/BhkEc.png","title":"recycler view returns empty textview from firebase","body":"<p>I am trying to retrieve data from firebase. I have done the exact steps for another data and it worked perfectly. But I can't seem to get it right with products.</p>\n<p>Here is my codes :</p>\n<p>product model</p>\n<pre><code>\npublic class ProductModel {\n    private String name;\n    private String price;\n    private String description;\n\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n} \n</code></pre>\n<p>product adapter</p>\n<pre><code>\npublic class ProductAdapter extends RecyclerView.Adapter&lt;ProductAdapter.ProductViewHolder&gt;  {\n\n    Context context;\n    ArrayList&lt;ProductModel&gt; list;\n\n    public ProductAdapter(Context context, ArrayList&lt;ProductModel&gt; list){\n        this.context = context;\n        this.list = list;\n    }\n    @NonNull\n    @Override\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.tab_one,parent,false);\n        return new ProductAdapter.ProductViewHolder(v);    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {\n        ProductModel productModel = list.get(position);\n\n        holder.description.setText(productModel.getName());\n        holder.price.setText(productModel.getPrice());\n        holder.description.setText(productModel.getDescription());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n\n    public static class ProductViewHolder extends  RecyclerView.ViewHolder{\n\n        TextView name, description, price;\n\n\n        public ProductViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n\n            name = itemView.findViewById(R.id.productName);\n            description = itemView.findViewById(R.id.desc);\n            price = itemView.findViewById(R.id.price);\n\n        }\n    }\n}\n</code></pre>\n<p>product list</p>\n<pre><code>public class ProductList extends AppCompatActivity {\nRecyclerView recyclerView;\nProductAdapter adapter;\nArrayList&lt;ProductModel&gt; list;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.product_list);\n\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;products&quot;);\n\n    recyclerView =  findViewById(R.id.productList);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    list = new ArrayList&lt;&gt;();\n    adapter = new ProductAdapter(this,list);\n    recyclerView.setAdapter(adapter);\n\n\n\n    ref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                ProductModel product = dataSnapshot.getValue(ProductModel.class);\n                list.add(product);\n            }\n\n            adapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>tabone.xml</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.tablayout.Fragments.TabOne&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;16dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;16dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot; Name :&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;26sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/productName&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;8dp&quot;\n                    android:text=&quot;Arya&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot; Price:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;26sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/price&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;8dp&quot;\n                    android:text=&quot;Stark&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Description :&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;26sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/desc&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;8dp&quot;\n                    android:text=&quot;18&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/FrameLayout&gt;\n\n</code></pre>\n<p>product_list.xml</p>\n<pre><code>\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.ui.Operations.ProductList&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/productList&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>I saved the data manually just for testing. <a href=\"https://i.stack.imgur.com/T8dqF.png\" rel=\"nofollow noreferrer\">Here is how my firebase looks</a> The output is <a href=\"https://i.stack.imgur.com/BhkEc.png\" rel=\"nofollow noreferrer\">here</a> . Text there was manually written so they are not being overwritten with data in firebase. What am i doing wrong ?</p>\n"},{"tags":["java","maven","jacoco"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1647939013,"post_id":71568474,"comment_id":126490865,"body_markdown":"First upgrade maven-surefire-plugin to minimum 2.22.2 ...","body":"First upgrade maven-surefire-plugin to minimum 2.22.2 ..."}],"answers":[{"tags":[],"owner":{"account_id":25421357,"reputation":369,"user_id":19227320,"display_name":"Sampada Dubey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1655158737,"creation_date":1655158737,"answer_id":72609653,"question_id":71568474,"body_markdown":"Whenever you are providing your custom `argLine` parameter to `maven-surefire-plugin`, you need to make sure that the `@{argLine}` is added to your property. For your xml, it would be like this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;@{argLine} -Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nHere is a [similar question][1] explaining the `argLine` parameter with Jacoco and Maven Surefire Plugin.\r\n\r\n  [1]: https://stackoverflow.com/questions/18107375/getting-skipping-jacoco-execution-due-to-missing-execution-data-file-upon-exec","title":"Getting &quot;Skipping JaCoCo execution due to missing execution data file&quot; with Jacoco in VS Code","body":"<p>Whenever you are providing your custom <code>argLine</code> parameter to <code>maven-surefire-plugin</code>, you need to make sure that the <code>@{argLine}</code> is added to your property. For your xml, it would be like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;@{argLine} -Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Here is a <a href=\"https://stackoverflow.com/questions/18107375/getting-skipping-jacoco-execution-due-to-missing-execution-data-file-upon-exec\">similar question</a> explaining the <code>argLine</code> parameter with Jacoco and Maven Surefire Plugin.</p>\n"}],"owner":{"account_id":24641260,"reputation":41,"user_id":18539419,"display_name":"Chengcheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5977,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1655158737,"creation_date":1647935278,"question_id":71568474,"body_markdown":"I&#39;m using Maven 3.8.3, JUnit 5.4.2, and Jacoco 0.8.2, and I am trying to create test coverage reports.\r\n\r\nI have a project with unit tests only, but I can&#39;t get reports to run, I&#39;m repeatedly getting the error: Skipping JaCoCo execution due to missing execution data file when I run:\r\n\r\n```\r\nmvn clean jacoco:prepare-agent install jacoco:report\r\n```\r\n\r\nHere is how my pom is configured:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;my-app&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;0.8.2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                  &lt;id&gt;report&lt;/id&gt;\r\n                  &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;report&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n    &lt;forkCount&gt;3&lt;/forkCount&gt;\r\n    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n    &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAny ideas what configuration I&#39;m missing?","title":"Getting &quot;Skipping JaCoCo execution due to missing execution data file&quot; with Jacoco in VS Code","body":"<p>I'm using Maven 3.8.3, JUnit 5.4.2, and Jacoco 0.8.2, and I am trying to create test coverage reports.</p>\n<p>I have a project with unit tests only, but I can't get reports to run, I'm repeatedly getting the error: Skipping JaCoCo execution due to missing execution data file when I run:</p>\n<pre><code>mvn clean jacoco:prepare-agent install jacoco:report\n</code></pre>\n<p>Here is how my pom is configured:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;my-app&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.4.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.4.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n          &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;0.8.2&lt;/version&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n              &lt;execution&gt;\n                  &lt;id&gt;report&lt;/id&gt;\n                  &lt;phase&gt;prepare-package&lt;/phase&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;report&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.0&lt;/version&gt;\n          &lt;configuration&gt;\n    &lt;forkCount&gt;3&lt;/forkCount&gt;\n    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n    &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n  &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any ideas what configuration I'm missing?</p>\n"},{"tags":["java","jar","jmf"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1322533623,"post_id":8304940,"comment_id":10233270,"body_markdown":"Why use JMF for sound?  the `javax.sound.sampled` API has been part of the J2SE since 1.3.","body":"Why use JMF for sound?  the <code>javax.sound.sampled</code> API has been part of the J2SE since 1.3."},{"owner":{"account_id":947039,"reputation":1229,"user_id":974081,"accept_rate":100,"display_name":"Pojo"},"score":0,"creation_date":1322534390,"post_id":8304940,"comment_id":10233400,"body_markdown":"@Andrew Thompson\nIs there anything else in `javax.sound.sampled` besides Clip? Because I&#39;ve tried using Clip and it just wouldn&#39;t work for these files because they&#39;re too big and Clip refuses to play anything bigger than about 1MB","body":"@Andrew Thompson Is there anything else in <code>javax.sound.sampled</code> besides Clip? Because I&#39;ve tried using Clip and it just wouldn&#39;t work for these files because they&#39;re too big and Clip refuses to play anything bigger than about 1MB"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1322534762,"post_id":8304940,"comment_id":10233461,"body_markdown":"*&quot;Clip refuses to play anything bigger than about 1MB&quot;*  A) You probably should be looking to convert those to MP3 format, so they&#39;ll (generally) be smaller than the WAV. B) If you do that, then the `mp3plugin.jar` of the JMF will be needed to decode the MP3, but not the entire JMF. C) Oracle&#39;s implementation of `Clip` can handle at most 1 second of 44.1 KHz 16 bit stereo, but there are two other ways to handle large audio. 1) [BigClip](http://stackoverflow.com/questions/5667454/playing-audio-file-in-java-application/5668510#5668510) 2) Load the stream and play it chunk by chunk.","body":"<i>&quot;Clip refuses to play anything bigger than about 1MB&quot;</i>  A) You probably should be looking to convert those to MP3 format, so they&#39;ll (generally) be smaller than the WAV. B) If you do that, then the <code>mp3plugin.jar</code> of the JMF will be needed to decode the MP3, but not the entire JMF. C) Oracle&#39;s implementation of <code>Clip</code> can handle at most 1 second of 44.1 KHz 16 bit stereo, but there are two other ways to handle large audio. 1) <a href=\"http://stackoverflow.com/questions/5667454/playing-audio-file-in-java-application/5668510#5668510\">BigClip</a> 2) Load the stream and play it chunk by chunk."},{"owner":{"account_id":947039,"reputation":1229,"user_id":974081,"accept_rate":100,"display_name":"Pojo"},"score":0,"creation_date":1322535671,"post_id":8304940,"comment_id":10233603,"body_markdown":"@Andrew Thompson\nWeeeell... It&#39;s a relatively large wav file that needs to loop. For this, I settled on jmf as my solution. And it all works, just for some reason not... while inside a jar. Besides, you said BigClip has issues with looping, right?","body":"@Andrew Thompson Weeeell... It&#39;s a relatively large wav file that needs to loop. For this, I settled on jmf as my solution. And it all works, just for some reason not... while inside a jar. Besides, you said BigClip has issues with looping, right?"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322533744,"creation_date":1322533744,"answer_id":8305115,"question_id":8304940,"body_markdown":"    Manager.createPlayer(this.getClass().getResource(&quot;/song1.wav&quot;));\r\n\r\nThat will work if the `song1.wav` is in the root of a Jar that is on the run-time class-path of the application.","title":"How to load media resources from the classpath in JMF","body":"<pre><code>Manager.createPlayer(this.getClass().getResource(\"/song1.wav\"));\n</code></pre>\n\n<p>That will work if the <code>song1.wav</code> is in the root of a Jar that is on the run-time class-path of the application.</p>\n"},{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322538539,"creation_date":1322538539,"answer_id":8305599,"question_id":8304940,"body_markdown":"This is a far cry from production code, but this seems resolved any runtime exceptions (though it&#39;s not actually wired up to play anything yet):\r\n\r\n    import javax.media.Manager;\r\n    import javax.media.Player;\r\n    import javax.media.protocol.URLDataSource;\r\n    \r\n    // ...\r\n\r\n    URL url = JmfTest.class.getResource(&quot;song1.wav&quot;);\r\n    System.out.println(&quot;url: &quot; + url);\r\n    URLDataSource uds = new URLDataSource(url);\r\n    uds.connect();\r\n    Player player = Manager.createPlayer(uds);\r\n","title":"How to load media resources from the classpath in JMF","body":"<p>This is a far cry from production code, but this seems resolved any runtime exceptions (though it's not actually wired up to play anything yet):</p>\n\n<pre><code>import javax.media.Manager;\nimport javax.media.Player;\nimport javax.media.protocol.URLDataSource;\n\n// ...\n\nURL url = JmfTest.class.getResource(\"song1.wav\");\nSystem.out.println(\"url: \" + url);\nURLDataSource uds = new URLDataSource(url);\nuds.connect();\nPlayer player = Manager.createPlayer(uds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324687619,"creation_date":1324687619,"answer_id":8621919,"question_id":8304940,"body_markdown":"New solution:\r\n\r\nFirst, a custom `DataSource` class that returns a `SourceStream` that implements `Seekable` is needed:\r\n\r\n    package com.ziesemer.test;\r\n    \r\n    import java.io.Closeable;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.JarURLConnection;\r\n    import java.net.URL;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarFile;\r\n    \r\n    import javax.media.Duration;\r\n    import javax.media.MediaLocator;\r\n    import javax.media.Time;\r\n    import javax.media.protocol.ContentDescriptor;\r\n    import javax.media.protocol.PullDataSource;\r\n    import javax.media.protocol.PullSourceStream;\r\n    import javax.media.protocol.Seekable;\r\n    \r\n    /**\r\n     * @author Mark A. Ziesemer\r\n     * \t&lt;a href=&quot;http://www.ziesemer.com.&quot;&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\r\n     */\r\n    public class JarDataSource extends PullDataSource{\r\n    \t\r\n    \tprotected JarURLConnection conn;\r\n    \tprotected ContentDescriptor contentType;\r\n    \tprotected JarPullSourceStream[] sources;\r\n    \tprotected boolean connected;\r\n    \t\r\n    \tpublic JarDataSource(URL url) throws IOException{\r\n    \t\tsetLocator(new MediaLocator(url));\r\n    \t\tconnected = false;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic PullSourceStream[] getStreams(){\r\n    \t\treturn sources;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void connect() throws IOException{\r\n    \t\tconn = (JarURLConnection)getLocator().getURL().openConnection();\r\n    \t\tconn.connect();\r\n    \t\tconnected = true;\r\n    \t\t\r\n    \t\tJarFile jf = conn.getJarFile();\r\n    \t\tJarEntry je = jf.getJarEntry(conn.getEntryName());\r\n    \t\t\r\n    \t\tString mimeType = conn.getContentType();\r\n    \t\tif(mimeType == null){\r\n    \t\t\tmimeType = ContentDescriptor.CONTENT_UNKNOWN;\r\n    \t\t}\r\n    \t\tcontentType = new ContentDescriptor(ContentDescriptor.mimeTypeToPackageName(mimeType));\r\n    \t\t\r\n    \t\tsources = new JarPullSourceStream[1];\r\n    \t\tsources[0] = new JarPullSourceStream(jf, je, contentType);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String getContentType(){\r\n    \t\treturn contentType.getContentType();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void disconnect(){\r\n    \t\tif(connected){\r\n    \t\t\ttry{\r\n    \t\t\t\tsources[0].close();\r\n    \t\t\t}catch(IOException e){\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tconnected = false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void start() throws IOException{\r\n    \t\t// Nothing to do.\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void stop() throws IOException{\r\n    \t\t// Nothing to do.\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Time getDuration(){\r\n    \t\treturn Duration.DURATION_UNKNOWN;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Object[] getControls(){\r\n    \t\treturn new Object[0];\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Object getControl(String controlName){\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tprotected class JarPullSourceStream implements PullSourceStream, Seekable, Closeable{\r\n    \t\t\r\n    \t\tprotected final JarFile jarFile;\r\n    \t\tprotected final JarEntry jarEntry;\r\n    \t\tprotected final ContentDescriptor type;\r\n    \t\t\r\n    \t\tprotected InputStream stream;\r\n    \t\tprotected long position;\r\n    \t\t\r\n    \t\tpublic JarPullSourceStream(JarFile jarFile, JarEntry jarEntry, ContentDescriptor type) throws IOException{\r\n    \t\t\tthis.jarFile = jarFile;\r\n    \t\t\tthis.jarEntry = jarEntry;\r\n    \t\t\tthis.type = type;\r\n    \t\t\tthis.stream = jarFile.getInputStream(jarEntry);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic ContentDescriptor getContentDescriptor(){\r\n    \t\t\treturn type;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic long getContentLength(){\r\n    \t\t\treturn jarEntry.getSize();\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic boolean endOfStream(){\r\n    \t\t\treturn position &lt; getContentLength();\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic Object[] getControls(){\r\n    \t\t\treturn new Object[0];\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic Object getControl(String controlType){\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic boolean willReadBlock(){\r\n    \t\t\tif(endOfStream()){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\ttry{\r\n    \t\t\t\treturn stream.available() == 0;\r\n    \t\t\t}catch(IOException e){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic int read(byte[] buffer, int offset, int length) throws IOException{\r\n    \t\t\tint read = stream.read(buffer, offset, length);\r\n    \t\t\tposition += read;\r\n    \t\t\treturn read;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic long seek(long where){\r\n    \t\t\ttry{\r\n    \t\t\t\tif(where &lt; position){\r\n    \t\t\t\t\tstream.close();\r\n    \t\t\t\t\tstream = jarFile.getInputStream(jarEntry);\r\n    \t\t\t\t\tposition = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\tlong skip = where - position;\r\n    \t\t\t\twhile(skip &gt; 0){\r\n    \t\t\t\t\tlong skipped = stream.skip(skip);\r\n    \t\t\t\t\tskip -= skipped;\r\n    \t\t\t\t\tposition += skipped;\r\n    \t\t\t\t}\r\n    \t\t\t}catch(IOException ioe){\r\n    \t\t\t\t// Made a best effort.\r\n    \t\t\t\tioe.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn position;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic long tell(){\r\n    \t\t\treturn position;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic boolean isRandomAccess(){\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void close() throws IOException{\r\n    \t\t\ttry{\r\n    \t\t\t\tstream.close();\r\n    \t\t\t}finally{\r\n    \t\t\t\tjarFile.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThen, the above custom data source is used to create a player, and a `ControllerListener` is added to cause the player to loop:\r\n\r\n    package com.ziesemer.test;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import javax.media.ControllerEvent;\r\n    import javax.media.ControllerListener;\r\n    import javax.media.EndOfMediaEvent;\r\n    import javax.media.Manager;\r\n    import javax.media.Player;\r\n    import javax.media.Time;\r\n    \r\n    /**\r\n     * @author Mark A. Ziesemer\r\n     * \t&lt;a href=&quot;http://www.ziesemer.com.&quot;&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\r\n     */\r\n    public class JmfTest{\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tURL url = JmfTest.class.getResource(&quot;Test.wav&quot;);\r\n    \t\tJarDataSource jds = new JarDataSource(url);\r\n    \t\tjds.connect();\r\n    \t\tfinal Player player = Manager.createPlayer(jds);\r\n    \t\t\r\n    \t\tplayer.addControllerListener(new ControllerListener(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void controllerUpdate(ControllerEvent ce){\r\n    \t\t\t\tif(ce instanceof EndOfMediaEvent){\r\n    \t\t\t\t\tplayer.setMediaTime(new Time(0));\r\n    \t\t\t\t\tplayer.start();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tplayer.start();\r\n    \t}\r\n    }\r\n\r\nNote that without the custom data source, JMF tries repeatedly to seek back to the beginning - but fails, and eventually gives up.  This can be seen from debugging the same `ControllerListener`, which will receive a several events for each attempt.\r\n\r\nOr, using the `MediaPlayer` approach to loop (that you mentioned on my previous answer):\r\n\r\n    package com.ziesemer.test;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import javax.media.Manager;\r\n    import javax.media.Player;\r\n    import javax.media.bean.playerbean.MediaPlayer;\r\n    \r\n    /**\r\n     * @author Mark A. Ziesemer\r\n     * \t&lt;a href=&quot;http://www.ziesemer.com.&quot;&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\r\n     */\r\n    public class JmfTest{\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tURL url = JmfTest.class.getResource(&quot;Test.wav&quot;);\r\n    \t\tJarDataSource jds = new JarDataSource(url);\r\n    \t\tjds.connect();\r\n    \t\tfinal Player player = Manager.createPlayer(jds);\r\n    \t\t\r\n    \t\tMediaPlayer mp = new MediaPlayer();\r\n    \t\tmp.setPlayer(player);\r\n    \t\tmp.setPlaybackLoop(true);\r\n    \t\tmp.start();\r\n    \t}\r\n    }\r\n\r\nAgain, I would not consider this production-ready code (could use some more Javadocs and logging, etc.), but it is tested and working (Java 1.6), and should meet your needs nicely.\r\n\r\nMerry Christmas, and happy holidays!","title":"How to load media resources from the classpath in JMF","body":"<p>New solution:</p>\n\n<p>First, a custom <code>DataSource</code> class that returns a <code>SourceStream</code> that implements <code>Seekable</code> is needed:</p>\n\n<pre><code>package com.ziesemer.test;\n\nimport java.io.Closeable;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.JarURLConnection;\nimport java.net.URL;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\nimport javax.media.Duration;\nimport javax.media.MediaLocator;\nimport javax.media.Time;\nimport javax.media.protocol.ContentDescriptor;\nimport javax.media.protocol.PullDataSource;\nimport javax.media.protocol.PullSourceStream;\nimport javax.media.protocol.Seekable;\n\n/**\n * @author Mark A. Ziesemer\n *  &lt;a href=\"http://www.ziesemer.com.\"&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\n */\npublic class JarDataSource extends PullDataSource{\n\n    protected JarURLConnection conn;\n    protected ContentDescriptor contentType;\n    protected JarPullSourceStream[] sources;\n    protected boolean connected;\n\n    public JarDataSource(URL url) throws IOException{\n        setLocator(new MediaLocator(url));\n        connected = false;\n    }\n\n    @Override\n    public PullSourceStream[] getStreams(){\n        return sources;\n    }\n\n    @Override\n    public void connect() throws IOException{\n        conn = (JarURLConnection)getLocator().getURL().openConnection();\n        conn.connect();\n        connected = true;\n\n        JarFile jf = conn.getJarFile();\n        JarEntry je = jf.getJarEntry(conn.getEntryName());\n\n        String mimeType = conn.getContentType();\n        if(mimeType == null){\n            mimeType = ContentDescriptor.CONTENT_UNKNOWN;\n        }\n        contentType = new ContentDescriptor(ContentDescriptor.mimeTypeToPackageName(mimeType));\n\n        sources = new JarPullSourceStream[1];\n        sources[0] = new JarPullSourceStream(jf, je, contentType);\n    }\n\n    @Override\n    public String getContentType(){\n        return contentType.getContentType();\n    }\n\n    @Override\n    public void disconnect(){\n        if(connected){\n            try{\n                sources[0].close();\n            }catch(IOException e){\n                e.printStackTrace();\n            }\n            connected = false;\n        }\n    }\n\n    @Override\n    public void start() throws IOException{\n        // Nothing to do.\n    }\n\n    @Override\n    public void stop() throws IOException{\n        // Nothing to do.\n    }\n\n    @Override\n    public Time getDuration(){\n        return Duration.DURATION_UNKNOWN;\n    }\n\n    @Override\n    public Object[] getControls(){\n        return new Object[0];\n    }\n\n    @Override\n    public Object getControl(String controlName){\n        return null;\n    }\n\n    protected class JarPullSourceStream implements PullSourceStream, Seekable, Closeable{\n\n        protected final JarFile jarFile;\n        protected final JarEntry jarEntry;\n        protected final ContentDescriptor type;\n\n        protected InputStream stream;\n        protected long position;\n\n        public JarPullSourceStream(JarFile jarFile, JarEntry jarEntry, ContentDescriptor type) throws IOException{\n            this.jarFile = jarFile;\n            this.jarEntry = jarEntry;\n            this.type = type;\n            this.stream = jarFile.getInputStream(jarEntry);\n        }\n\n        @Override\n        public ContentDescriptor getContentDescriptor(){\n            return type;\n        }\n\n        @Override\n        public long getContentLength(){\n            return jarEntry.getSize();\n        }\n\n        @Override\n        public boolean endOfStream(){\n            return position &lt; getContentLength();\n        }\n\n        @Override\n        public Object[] getControls(){\n            return new Object[0];\n        }\n\n        @Override\n        public Object getControl(String controlType){\n            return null;\n        }\n\n        @Override\n        public boolean willReadBlock(){\n            if(endOfStream()){\n                return true;\n            }\n            try{\n                return stream.available() == 0;\n            }catch(IOException e){\n                return true;\n            }\n        }\n\n        @Override\n        public int read(byte[] buffer, int offset, int length) throws IOException{\n            int read = stream.read(buffer, offset, length);\n            position += read;\n            return read;\n        }\n\n        @Override\n        public long seek(long where){\n            try{\n                if(where &lt; position){\n                    stream.close();\n                    stream = jarFile.getInputStream(jarEntry);\n                    position = 0;\n                }\n                long skip = where - position;\n                while(skip &gt; 0){\n                    long skipped = stream.skip(skip);\n                    skip -= skipped;\n                    position += skipped;\n                }\n            }catch(IOException ioe){\n                // Made a best effort.\n                ioe.printStackTrace();\n            }\n            return position;\n        }\n\n        @Override\n        public long tell(){\n            return position;\n        }\n\n        @Override\n        public boolean isRandomAccess(){\n            return true;\n        }\n\n        @Override\n        public void close() throws IOException{\n            try{\n                stream.close();\n            }finally{\n                jarFile.close();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Then, the above custom data source is used to create a player, and a <code>ControllerListener</code> is added to cause the player to loop:</p>\n\n<pre><code>package com.ziesemer.test;\n\nimport java.net.URL;\n\nimport javax.media.ControllerEvent;\nimport javax.media.ControllerListener;\nimport javax.media.EndOfMediaEvent;\nimport javax.media.Manager;\nimport javax.media.Player;\nimport javax.media.Time;\n\n/**\n * @author Mark A. Ziesemer\n *  &lt;a href=\"http://www.ziesemer.com.\"&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\n */\npublic class JmfTest{\n    public static void main(String[] args) throws Exception{\n        URL url = JmfTest.class.getResource(\"Test.wav\");\n        JarDataSource jds = new JarDataSource(url);\n        jds.connect();\n        final Player player = Manager.createPlayer(jds);\n\n        player.addControllerListener(new ControllerListener(){\n            @Override\n            public void controllerUpdate(ControllerEvent ce){\n                if(ce instanceof EndOfMediaEvent){\n                    player.setMediaTime(new Time(0));\n                    player.start();\n                }\n            }\n        });\n        player.start();\n    }\n}\n</code></pre>\n\n<p>Note that without the custom data source, JMF tries repeatedly to seek back to the beginning - but fails, and eventually gives up.  This can be seen from debugging the same <code>ControllerListener</code>, which will receive a several events for each attempt.</p>\n\n<p>Or, using the <code>MediaPlayer</code> approach to loop (that you mentioned on my previous answer):</p>\n\n<pre><code>package com.ziesemer.test;\n\nimport java.net.URL;\n\nimport javax.media.Manager;\nimport javax.media.Player;\nimport javax.media.bean.playerbean.MediaPlayer;\n\n/**\n * @author Mark A. Ziesemer\n *  &lt;a href=\"http://www.ziesemer.com.\"&gt;&amp;lt;www.ziesemer.com&amp;gt;&lt;/a&gt;\n */\npublic class JmfTest{\n    public static void main(String[] args) throws Exception{\n        URL url = JmfTest.class.getResource(\"Test.wav\");\n        JarDataSource jds = new JarDataSource(url);\n        jds.connect();\n        final Player player = Manager.createPlayer(jds);\n\n        MediaPlayer mp = new MediaPlayer();\n        mp.setPlayer(player);\n        mp.setPlaybackLoop(true);\n        mp.start();\n    }\n}\n</code></pre>\n\n<p>Again, I would not consider this production-ready code (could use some more Javadocs and logging, etc.), but it is tested and working (Java 1.6), and should meet your needs nicely.</p>\n\n<p>Merry Christmas, and happy holidays!</p>\n"}],"owner":{"account_id":947039,"reputation":1229,"user_id":974081,"accept_rate":100,"display_name":"Pojo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4270,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8621919,"answer_count":3,"score":3,"last_activity_date":1655158286,"creation_date":1322532187,"question_id":8304940,"body_markdown":"I have a Java application that I want to turn into an executable jar. I am using JMF in this application, and I can&#39;t seem to get the sound files working right...\r\n\r\nI create the jar using\r\n\r\n    jar cvfm jarname.jar manifest.txt *.class *.gif *.wav\r\nSo, all the sound files get put inside the jar, and in the code, I am creating the Players using\r\n\r\n    Player player = Manager.createPlayer(ClassName.class.getResource(&quot;song1.wav&quot;));\r\n\r\nThe jar is on my desktop, and when I attempt to run it, this exception occurs:\r\n\r\n    javax.media.NoPlayerException: Cannot find a Player for :jar:file:/C:/Users/Pojo/\r\n    Desktop/jarname.jar!/song1.wav\r\n\r\n...It&#39;s not getting IOExceptions, so it seems to at least be finding the file itself all right.\r\n\r\n\r\nAlso, before I used the getResource, I used to have it like this:\r\n\r\n    Player player = Manager.createPlayer(new File(&quot;song1.wav&quot;).toURL());\r\n\r\nand it was playing fine, so I know nothing is wrong with the sound file itself. \r\n\r\nThe reason I am trying to switch to this method instead of the File method is so that the sound files can be packaged inside the jar itself and not have to be its siblings in a directory.","title":"How to load media resources from the classpath in JMF","body":"<p>I have a Java application that I want to turn into an executable jar. I am using JMF in this application, and I can't seem to get the sound files working right...</p>\n<p>I create the jar using</p>\n<pre><code>jar cvfm jarname.jar manifest.txt *.class *.gif *.wav\n</code></pre>\n<p>So, all the sound files get put inside the jar, and in the code, I am creating the Players using</p>\n<pre><code>Player player = Manager.createPlayer(ClassName.class.getResource(&quot;song1.wav&quot;));\n</code></pre>\n<p>The jar is on my desktop, and when I attempt to run it, this exception occurs:</p>\n<pre><code>javax.media.NoPlayerException: Cannot find a Player for :jar:file:/C:/Users/Pojo/\nDesktop/jarname.jar!/song1.wav\n</code></pre>\n<p>...It's not getting IOExceptions, so it seems to at least be finding the file itself all right.</p>\n<p>Also, before I used the getResource, I used to have it like this:</p>\n<pre><code>Player player = Manager.createPlayer(new File(&quot;song1.wav&quot;).toURL());\n</code></pre>\n<p>and it was playing fine, so I know nothing is wrong with the sound file itself.</p>\n<p>The reason I am trying to switch to this method instead of the File method is so that the sound files can be packaged inside the jar itself and not have to be its siblings in a directory.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","serverless-framework","graalvm"],"answers":[{"tags":[],"owner":{"account_id":83818,"reputation":166,"user_id":234764,"accept_rate":50,"display_name":"Not Mandatory"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560558844,"creation_date":1560558844,"answer_id":56606440,"question_id":55704912,"body_markdown":"According to [this article][1] the Serverless framework does support native GraalVM images. The given example is with Kotlin but the same technique should work for plain Java. There are a number of caveats due to using GraalVM native images.\r\n\r\n  [1]: https://medium.com/@mathiasdpunkt/fighting-cold-startup-issues-for-your-kotlin-lambda-with-graalvm-39d19b297730","title":"AWS Lambda function on Java with Serverless framework and GraalVM","body":"<p>According to <a href=\"https://medium.com/@mathiasdpunkt/fighting-cold-startup-issues-for-your-kotlin-lambda-with-graalvm-39d19b297730\" rel=\"nofollow noreferrer\">this article</a> the Serverless framework does support native GraalVM images. The given example is with Kotlin but the same technique should work for plain Java. There are a number of caveats due to using GraalVM native images.</p>\n"}],"owner":{"account_id":1167924,"reputation":7073,"user_id":1145792,"accept_rate":92,"display_name":"Hleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1399,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1655157429,"creation_date":1555407121,"question_id":55704912,"body_markdown":"I know that there is an ability to create AWS Lambda functions on Java using [Serverless framework][1]. Basic configuration in `serverless.yml` usually looks something like:\r\n\r\n    service: aws-java-endpoint\r\n    \r\n    frameworkVersion: &quot;&gt;=1.2.0 &lt;2.0.0&quot;\r\n    \r\n    provider:\r\n      name: aws\r\n      runtime: java8\r\n      \r\n    package:\r\n      artifact: build/distributions/aws-java-endpoint.zip\r\n    \r\n    functions:\r\n      currentTime:\r\n        handler: com.serverless.Handler\r\n        events:\r\n          - http:\r\n              path: ping\r\n              method: get\r\n\r\nBut with coming of [GraalVM][2] and `native-image` compilation for Java I look for the ability to build AWS Lambda functions written on Java using GraalVM and deploy it with Serverless.\r\n\r\nDoes Serverless framework already support native Java images feature?\r\n\r\n\r\n  [1]: https://serverless.com/\r\n  [2]: https://www.graalvm.org/","title":"AWS Lambda function on Java with Serverless framework and GraalVM","body":"<p>I know that there is an ability to create AWS Lambda functions on Java using <a href=\"https://serverless.com/\" rel=\"nofollow noreferrer\">Serverless framework</a>. Basic configuration in <code>serverless.yml</code> usually looks something like:</p>\n<pre><code>service: aws-java-endpoint\n\nframeworkVersion: &quot;&gt;=1.2.0 &lt;2.0.0&quot;\n\nprovider:\n  name: aws\n  runtime: java8\n  \npackage:\n  artifact: build/distributions/aws-java-endpoint.zip\n\nfunctions:\n  currentTime:\n    handler: com.serverless.Handler\n    events:\n      - http:\n          path: ping\n          method: get\n</code></pre>\n<p>But with coming of <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a> and <code>native-image</code> compilation for Java I look for the ability to build AWS Lambda functions written on Java using GraalVM and deploy it with Serverless.</p>\n<p>Does Serverless framework already support native Java images feature?</p>\n"},{"tags":["java","subclass","mapstruct","subclassing"],"owner":{"account_id":13896008,"reputation":103,"user_id":10032858,"display_name":"Dmytro Verbivskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1655156924,"creation_date":1655153694,"question_id":72608919,"body_markdown":"I&#39;m using new feature in mapstruct to map hierarchy of classes. And now I need to write rest PUT for update. But it actually not updating fields of subclasses, and I could not apply any mapping ignores for subclasses.\r\n\r\n```\r\n@Mapper\r\npublic interface FruitMapper {\r\n    \r\n    @SubclassMapping(target = AppleEntity.class, source = AppleDto.class )\r\n    @SubclassMapping(target = BananaEntity.class, source = BananaDto.class)\r\n    FruitEntity map(FruitDto source);\r\n    \r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;createdDate&quot;, ignore = true)\r\n    void put(@MappingTarget FruitEntity target, FruitEntity input);\r\n    \r\n    @Mapping(target = &quot;country&quot;, ignore = true)\r\n    void put(@MappingTarget BananaEntity target, BananaEntity input);\r\n    \r\n}\r\n```\r\n\r\nUPD: my straight-forward solution is currently with lombok to make deep copy\r\n```\r\n// add this method to mapper class, and provide method for each subclass\r\n   default void performPut(FruitEntity target, FruitEntity input) {\r\n        put(target, input);\r\n        var targetBackup = target.toBuilder().build();\r\n\r\n        if (target instanceof AppleEntity) {\r\n            put((AppleEntity) target, (AppleEntity) input);\r\n        } else if (target instanceof BananaEntity) {\r\n            put((BananaEntity) target, (BananaEntity) input);\r\n        }\r\n        target.setId(targetBackup.getId());\r\n        target.setCreatedDate(targetBackup.getCreatedDate());\r\n    }\r\n```\r\n","title":"Mapstruct mappingTarget with subclasses","body":"<p>I'm using new feature in mapstruct to map hierarchy of classes. And now I need to write rest PUT for update. But it actually not updating fields of subclasses, and I could not apply any mapping ignores for subclasses.</p>\n<pre><code>@Mapper\npublic interface FruitMapper {\n    \n    @SubclassMapping(target = AppleEntity.class, source = AppleDto.class )\n    @SubclassMapping(target = BananaEntity.class, source = BananaDto.class)\n    FruitEntity map(FruitDto source);\n    \n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;createdDate&quot;, ignore = true)\n    void put(@MappingTarget FruitEntity target, FruitEntity input);\n    \n    @Mapping(target = &quot;country&quot;, ignore = true)\n    void put(@MappingTarget BananaEntity target, BananaEntity input);\n    \n}\n</code></pre>\n<p>UPD: my straight-forward solution is currently with lombok to make deep copy</p>\n<pre><code>// add this method to mapper class, and provide method for each subclass\n   default void performPut(FruitEntity target, FruitEntity input) {\n        put(target, input);\n        var targetBackup = target.toBuilder().build();\n\n        if (target instanceof AppleEntity) {\n            put((AppleEntity) target, (AppleEntity) input);\n        } else if (target instanceof BananaEntity) {\n            put((BananaEntity) target, (BananaEntity) input);\n        }\n        target.setId(targetBackup.getId());\n        target.setCreatedDate(targetBackup.getCreatedDate());\n    }\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":25548185,"reputation":16,"user_id":19333124,"display_name":"Ahmed Abd Elnasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655156842,"creation_date":1655154979,"answer_id":72609125,"question_id":72606614,"body_markdown":"i think the problem is in the identifier u named it with capital I\r\nreplace **Id** in posts document with **id** ?\r\ngive it a try... it will work","title":"Getting an error with mapping when using MongoRepository findById","body":"<p>i think the problem is in the identifier u named it with capital I\nreplace <strong>Id</strong> in posts document with <strong>id</strong> ?\ngive it a try... it will work</p>\n"}],"owner":{"account_id":17465025,"reputation":3,"user_id":12661946,"display_name":"SnowKid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72609125,"answer_count":1,"score":0,"last_activity_date":1655156842,"creation_date":1655140144,"question_id":72606614,"body_markdown":"When I try to use the `findById` method from MongoRepository with a string passed in, I get an error with the mapper which leads to no results being returned, even though such exists.\r\n\r\n**Here is my project&#39;s structure and files:**\r\n\r\n**Entity** *Post.java*\r\n\r\n    @Document(&quot;posts&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Post {\r\n        @Id\r\n        private String Id;\r\n        private Integer userId;\r\n        private String content;\r\n        private Integer likes;\r\n        private Integer dislikes;\r\n    }\r\n\r\n**Repository** *PostRepository.java*\r\n\r\n    public interface PostRepository extends MongoRepository&lt;Post, String&gt; {\r\n    \r\n    }\r\n\r\n**Service** *PostService.java*\r\n\r\n    @Service\r\n    public class PostService {\r\n    \r\n        @Autowired\r\n        private PostRepository repository;\r\n    \r\n        public List&lt;Post&gt; getPosts() {\r\n            return repository.findAll();\r\n        }\r\n    \r\n        public Post getPostById(String id) {\r\n            return repository.findById(id).orElse(null);\r\n        }\r\n    \r\n        public Post savePost(Post post) {\r\n            return repository.save(post);\r\n        }\r\n    \r\n        public void deletePostById(String id) {\r\n            repository.deleteById(id);\r\n        }\r\n    \r\n    }\r\n\r\n**Controller** *PostController.java*\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/posts&quot;)\r\n    public class PostController {\r\n    \r\n        @Autowired\r\n        private PostService service;\r\n    \r\n        @Autowired\r\n        private StreamBridge streamBridge;\r\n    \r\n        @GetMapping(&quot;&quot;)\r\n        public List&lt;Post&gt; getPosts() {\r\n            return service.getPosts();\r\n        }\r\n    \r\n        @GetMapping(&quot;/{postId}&quot;)\r\n        public Post getPostById(@PathVariable String postId) {\r\n            return service.getPostById(postId);\r\n        }\r\n    \r\n        @PostMapping(&quot;/createPost&quot;)\r\n        public Post createPost(@RequestBody Post post) {\r\n            streamBridge.send(&quot;postCreated-out-0&quot;, post.getUserId());\r\n            return service.savePost(post);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{postId}&quot;)\r\n        public void deletePostById(@PathVariable String postId) {\r\n            service.deletePostById(postId);\r\n        }\r\n    }\r\n\r\nWhen I try running either a `GET` such as `localhost:9192/posts/62a76719145e644e5b640327` or a DELETE `localhost:9192/posts/62a76719145e644e5b640327`, where `62a76719145e644e5b640327` is a correct id associated with a entry in the document in MongoDB I get this error in the console:\r\n\r\n    [nio-9192-exec-2] o.s.d.mongodb.core.convert.QueryMapper   : Could not map &#39;Post.id&#39;. Maybe a fragment in &#39;String&#39; is considered a simple type. Mapper continues with id.\r\n\r\nI also tried writing a custom query using the `@Query` annotation that overwrites the default findById as such:\r\n\r\n    @Override\r\n    @Query(&quot;{ &#39;id&#39; :  ?0}&quot;)\r\n    Optional&lt;Post&gt; findById(String s);\r\n\r\nAnd I still get the same error. I am using `spring-boot-starter-data-mongodb` version 2.7.0 and I am running MongoDB locally.\r\n\r\nEDIT: Forgot to mention that the same thing happens when using the `deleteById` method","title":"Getting an error with mapping when using MongoRepository findById","body":"<p>When I try to use the <code>findById</code> method from MongoRepository with a string passed in, I get an error with the mapper which leads to no results being returned, even though such exists.</p>\n<p><strong>Here is my project's structure and files:</strong></p>\n<p><strong>Entity</strong> <em>Post.java</em></p>\n<pre><code>@Document(&quot;posts&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Post {\n    @Id\n    private String Id;\n    private Integer userId;\n    private String content;\n    private Integer likes;\n    private Integer dislikes;\n}\n</code></pre>\n<p><strong>Repository</strong> <em>PostRepository.java</em></p>\n<pre><code>public interface PostRepository extends MongoRepository&lt;Post, String&gt; {\n\n}\n</code></pre>\n<p><strong>Service</strong> <em>PostService.java</em></p>\n<pre><code>@Service\npublic class PostService {\n\n    @Autowired\n    private PostRepository repository;\n\n    public List&lt;Post&gt; getPosts() {\n        return repository.findAll();\n    }\n\n    public Post getPostById(String id) {\n        return repository.findById(id).orElse(null);\n    }\n\n    public Post savePost(Post post) {\n        return repository.save(post);\n    }\n\n    public void deletePostById(String id) {\n        repository.deleteById(id);\n    }\n\n}\n</code></pre>\n<p><strong>Controller</strong> <em>PostController.java</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/posts&quot;)\npublic class PostController {\n\n    @Autowired\n    private PostService service;\n\n    @Autowired\n    private StreamBridge streamBridge;\n\n    @GetMapping(&quot;&quot;)\n    public List&lt;Post&gt; getPosts() {\n        return service.getPosts();\n    }\n\n    @GetMapping(&quot;/{postId}&quot;)\n    public Post getPostById(@PathVariable String postId) {\n        return service.getPostById(postId);\n    }\n\n    @PostMapping(&quot;/createPost&quot;)\n    public Post createPost(@RequestBody Post post) {\n        streamBridge.send(&quot;postCreated-out-0&quot;, post.getUserId());\n        return service.savePost(post);\n    }\n\n    @DeleteMapping(&quot;/{postId}&quot;)\n    public void deletePostById(@PathVariable String postId) {\n        service.deletePostById(postId);\n    }\n}\n</code></pre>\n<p>When I try running either a <code>GET</code> such as <code>localhost:9192/posts/62a76719145e644e5b640327</code> or a DELETE <code>localhost:9192/posts/62a76719145e644e5b640327</code>, where <code>62a76719145e644e5b640327</code> is a correct id associated with a entry in the document in MongoDB I get this error in the console:</p>\n<pre><code>[nio-9192-exec-2] o.s.d.mongodb.core.convert.QueryMapper   : Could not map 'Post.id'. Maybe a fragment in 'String' is considered a simple type. Mapper continues with id.\n</code></pre>\n<p>I also tried writing a custom query using the <code>@Query</code> annotation that overwrites the default findById as such:</p>\n<pre><code>@Override\n@Query(&quot;{ 'id' :  ?0}&quot;)\nOptional&lt;Post&gt; findById(String s);\n</code></pre>\n<p>And I still get the same error. I am using <code>spring-boot-starter-data-mongodb</code> version 2.7.0 and I am running MongoDB locally.</p>\n<p>EDIT: Forgot to mention that the same thing happens when using the <code>deleteById</code> method</p>\n"},{"tags":["java","code-coverage","jacoco"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1652893512,"post_id":72293256,"comment_id":127719461,"body_markdown":"Which things have you tried that have not worked for you?","body":"Which things have you tried that have not worked for you?"},{"owner":{"account_id":14923811,"reputation":371,"user_id":10775306,"display_name":"Kushani Karunarathne"},"score":0,"creation_date":1652894022,"post_id":72293256,"comment_id":127719649,"body_markdown":"worked exclude method, &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*Sample.class&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;                                                                                             But want to exclude some specified lines in methods","body":"worked exclude method, &lt;configuration&gt;                 &lt;excludes&gt;                     &lt;exclude&gt;**/*Sample.class&lt;/exclude&gt;                 &lt;/excludes&gt;             &lt;/configuration&gt;                                                                                             But want to exclude some specified lines in methods"}],"answers":[{"tags":[],"owner":{"account_id":25421357,"reputation":369,"user_id":19227320,"display_name":"Sampada Dubey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655156658,"creation_date":1655156658,"answer_id":72609390,"question_id":72293256,"body_markdown":"As mentioned in the comment, use the `exclude/include` as part of your configuration.\r\n\r\nHere is [an example][1].\r\n\r\n&gt; Below is an example in which, all classes which has `jacocodemo` in it is package are included except if they have `jacocodemo/strings` in them.\r\n\r\n```xml\r\n&lt;execution&gt;\r\n    &lt;id&gt;jacoco-report&lt;/id&gt;\r\n    &lt;goals&gt;\r\n        &lt;goal&gt;report&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/jacocodemo/**/*&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/jacocodemo/strings/*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-report-goal-configurations/#ltincludes--ltexcludes","title":"How can I exclude specified methods and some code of lines in a method from jacoco code coverage?","body":"<p>As mentioned in the comment, use the <code>exclude/include</code> as part of your configuration.</p>\n<p>Here is <a href=\"https://www.thecodejournal.tech/2022/04/jacoco-maven-plugin-report-goal-configurations/#ltincludes--ltexcludes\" rel=\"nofollow noreferrer\">an example</a>.</p>\n<blockquote>\n<p>Below is an example in which, all classes which has <code>jacocodemo</code> in it is package are included except if they have <code>jacocodemo/strings</code> in them.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;execution&gt;\n    &lt;id&gt;jacoco-report&lt;/id&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/jacocodemo/**/*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/jacocodemo/strings/*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":14923811,"reputation":371,"user_id":10775306,"display_name":"Kushani Karunarathne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655156658,"creation_date":1652893382,"question_id":72293256,"body_markdown":"Require - exclude some methods and exclude some code of lines in a method","title":"How can I exclude specified methods and some code of lines in a method from jacoco code coverage?","body":"<p>Require - exclude some methods and exclude some code of lines in a method</p>\n"},{"tags":["java","web-scraping","maven-repository"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1655134185,"post_id":72605313,"comment_id":128253327,"body_markdown":"Because it&#39;s explicitly trying to not be crawled and wants JS and a captcha.","body":"Because it&#39;s explicitly trying to not be crawled and wants JS and a captcha."},{"owner":{"account_id":13431403,"reputation":775,"user_id":9691138,"display_name":"res"},"score":0,"creation_date":1655134606,"post_id":72605313,"comment_id":128253499,"body_markdown":"NOOOO! There goes my dream of automating the most tedious and annoying task I have nowadays, anyone knows another good site to acquire CVE code or vulnerability code of the jars I&#39;m using?","body":"NOOOO! There goes my dream of automating the most tedious and annoying task I have nowadays, anyone knows another good site to acquire CVE code or vulnerability code of the jars I&#39;m using?"}],"answers":[{"tags":[],"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655155351,"creation_date":1655154987,"answer_id":72609127,"question_id":72605313,"body_markdown":"This web use anti-bot security **CloudFlare**.   \r\nHow to **bypass** CloudFlare bot **protection**?    \r\nIt depends.... Sometimes it is very **difficult** task or **impossible**. That you need to do, is simulate a real user with the browser.   \r\nWith [htmlunit][1] browser you can bypass it in **this case only** and with a **good IP address**. (i use my own ip address and did only one request)   \r\n\r\nYou need maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n        &lt;version&gt;2.57.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere you have some java example:\r\n````java\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\nimport com.gargoylesoftware.htmlunit.html.HtmlAnchor;\r\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.List;\r\n\r\npublic class Maven {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        try (final WebClient webClient = new WebClient()) {\r\n            webClient.getOptions().setJavaScriptEnabled(false);\r\n            URL target = new URL(&quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;);\r\n            final HtmlPage page = webClient.getPage(target);\r\n            List&lt;HtmlAnchor&gt; elements = page.getByXPath(&quot;//a[contains(@class, &#39;vuln&#39;)]&quot;);\r\n            elements.forEach(element -&gt; System.out.println(element.getTextContent()));\r\n        }\r\n    }\r\n}\r\n\r\n````\r\n**OUTPUT**:\r\n\r\n    CVE-2022-23305\r\n    CVE-2022-23302\r\n    CVE-2021-4104\r\n    CVE-2019-17571\r\n    View 1 more ...\r\n    4 vulnerabilities \r\nI hope I have been able to help you.\r\n\r\n\r\n\r\n  [1]: https://htmlunit.sourceforge.io/","title":"Can&#39;t access maven repo through URLConnection or HttpsURLConnection (403)","body":"<p>This web use anti-bot security <strong>CloudFlare</strong>.<br />\nHow to <strong>bypass</strong> CloudFlare bot <strong>protection</strong>?<br />\nIt depends.... Sometimes it is very <strong>difficult</strong> task or <strong>impossible</strong>. That you need to do, is simulate a real user with the browser.<br />\nWith <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">htmlunit</a> browser you can bypass it in <strong>this case only</strong> and with a <strong>good IP address</strong>. (i use my own ip address and did only one request)</p>\n<p>You need maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;2.57.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here you have some java example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlAnchor;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\n\npublic class Maven {\n\n    public static void main(String[] args) throws IOException {\n\n        try (final WebClient webClient = new WebClient()) {\n            webClient.getOptions().setJavaScriptEnabled(false);\n            URL target = new URL(&quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;);\n            final HtmlPage page = webClient.getPage(target);\n            List&lt;HtmlAnchor&gt; elements = page.getByXPath(&quot;//a[contains(@class, 'vuln')]&quot;);\n            elements.forEach(element -&gt; System.out.println(element.getTextContent()));\n        }\n    }\n}\n\n</code></pre>\n<p><strong>OUTPUT</strong>:</p>\n<pre><code>CVE-2022-23305\nCVE-2022-23302\nCVE-2021-4104\nCVE-2019-17571\nView 1 more ...\n4 vulnerabilities \n</code></pre>\n<p>I hope I have been able to help you.</p>\n"}],"owner":{"account_id":13431403,"reputation":775,"user_id":9691138,"display_name":"res"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72609127,"answer_count":1,"score":2,"last_activity_date":1655155351,"creation_date":1655133860,"question_id":72605313,"body_markdown":"*Purpose, just a POC (for now) to automatically and periodically find some CVE tags in the maven repository.*\r\n\r\nI can access maven just fine through browser and mvn, but am unable to do the same via Java, what am I missing? I&#39;ve tried UrlConnection, HttpsURLConnection, with and without GET, Content-type, User-Agent, and Accept, it always returns a 403 for all addresses that I try, the same code works fine on other websites like &quot;cve.mitre.org&quot; or &quot;nvd.nist.gov&quot;, but fails for &quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;.\r\n\r\n\r\nMy URL is been built dynamically, with the start &quot;**https://mvnrepository.com/artifact/**&quot;, then adding the group, name, and version are added, turning it into a valid address like &quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;\r\n\r\n\r\n        System.setProperty(&quot;https.proxyHost&quot;, &quot;xxxx&quot;);\r\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;xxxx&quot;);\r\n\r\n        String content = null;\r\n        try {\r\n            URL obj = new URL(address);\r\n            HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\r\n            con.setRequestMethod(&quot;GET&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&quot;);\r\n            con.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\r\n            con.connect();\r\n            \r\n            BufferedReader br;\r\n            \r\n            if (con.getResponseCode() &lt; 300) {\r\n                br = new BufferedReader(new InputStreamReader(con.getInputStream(), StandardCharsets.UTF_8));\r\n            } else {\r\n                br = new BufferedReader(new InputStreamReader(con.getErrorStream(), StandardCharsets.UTF_8));\r\n            }            \r\n\r\n            final StringBuilder sb = new StringBuilder();\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n            br.close();\r\n\r\n","title":"Can&#39;t access maven repo through URLConnection or HttpsURLConnection (403)","body":"<p><em>Purpose, just a POC (for now) to automatically and periodically find some CVE tags in the maven repository.</em></p>\n<p>I can access maven just fine through browser and mvn, but am unable to do the same via Java, what am I missing? I've tried UrlConnection, HttpsURLConnection, with and without GET, Content-type, User-Agent, and Accept, it always returns a 403 for all addresses that I try, the same code works fine on other websites like &quot;cve.mitre.org&quot; or &quot;nvd.nist.gov&quot;, but fails for &quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;.</p>\n<p>My URL is been built dynamically, with the start &quot;**<a href=\"https://mvnrepository.com/artifact/**%22\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/**&quot;</a>, then adding the group, name, and version are added, turning it into a valid address like &quot;https://mvnrepository.com/artifact/log4j/apache-log4j-extras/1.2.17&quot;</p>\n<pre><code>    System.setProperty(&quot;https.proxyHost&quot;, &quot;xxxx&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;xxxx&quot;);\n\n    String content = null;\n    try {\n        URL obj = new URL(address);\n        HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n\n        con.connect();\n        \n        BufferedReader br;\n        \n        if (con.getResponseCode() &lt; 300) {\n            br = new BufferedReader(new InputStreamReader(con.getInputStream(), StandardCharsets.UTF_8));\n        } else {\n            br = new BufferedReader(new InputStreamReader(con.getErrorStream(), StandardCharsets.UTF_8));\n        }            \n\n        final StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n        br.close();\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655137298,"creation_date":1655137298,"answer_id":72606038,"question_id":72604806,"body_markdown":"In cases like yours more common error is `java.lang.StackOverflowError`. I am not sure why your property is not added. But in any case there is a problem in your code. in your child Entity, in your case in class `File` (I would suggest to change the class name, but this is not related to this issue) add annotation `@JsonIgnore` over your `private Customer Customer;` property. See my answer to this question for the explanation: [Error convert pojo to json(cxf JAX-RS : Data Bindings)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69388204/error-convert-pojo-to-jsoncxf-jax-rs-data-bindings/69388301#69388301","title":"Foreign key returns null when add as JSON content in ManyToOne Relationship","body":"<p>In cases like yours more common error is <code>java.lang.StackOverflowError</code>. I am not sure why your property is not added. But in any case there is a problem in your code. in your child Entity, in your case in class <code>File</code> (I would suggest to change the class name, but this is not related to this issue) add annotation <code>@JsonIgnore</code> over your <code>private Customer Customer;</code> property. See my answer to this question for the explanation: <a href=\"https://stackoverflow.com/questions/69388204/error-convert-pojo-to-jsoncxf-jax-rs-data-bindings/69388301#69388301\">Error convert pojo to json(cxf JAX-RS : Data Bindings)</a></p>\n"}],"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655155266,"creation_date":1655131618,"question_id":72604806,"body_markdown":"I have two models and when i try to add a new file the file_id is null. How can I fix that?\r\n\r\nCustomer :\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        private String CustomerName;\r\n    \r\n        private String email;\r\n\r\n        @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private List&lt;File&gt; File = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n\r\nFile :\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;file&quot;)\r\n    public class File implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        private String file_name;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;customer_id&quot;)\r\n        private Customer Customer;\r\n    \r\n      }\r\n\r\nRepository :\r\n\r\n    @Repository\r\n    public interface FileRepository extends JpaRepository &lt;File,Integer&gt; {\r\n    \r\n       \r\n    }\r\n\r\nI think problem is in mapper class. I want to add integer.\r\nMapper :\r\n\r\n    public class FileMapper {\r\n    \r\n        public static FileDTO toDto(File file){\r\n            File DTO fileDTO = new FileDTO();\r\n            fileDTO.setFile_name(file.getFile_name());\r\n            fileDTO.setCustomer(file.getCustomer());\r\n    \r\n    \r\n    \r\n            return fileDTO;\r\n    \r\n        }\r\n    \r\n        public static File toEntity(FileDTO fileDTO){\r\n            File file = new File();\r\n            file.setFile_name(fileDTO.getFile_name());\r\n            file.setCustomer(fileDTO.getCustomer());\r\n    \r\n    \r\n            return file;\r\n    \r\n        }\r\n\r\n\r\nController :\r\n\r\n      @PostMapping(path = &quot;/addFile&quot;)\r\n        public boolean addFile(@RequestBody FileDTO File) {\r\n         return FileService.addFile(FileMapper.toEntity(file));\r\n        }\r\n\r\n \r\n\r\nI want to add File with JSON Content and use `customer_id` as foreign key. But `customer_id` returns null when I add file.","title":"Foreign key returns null when add as JSON content in ManyToOne Relationship","body":"<p>I have two models and when i try to add a new file the file_id is null. How can I fix that?</p>\n<p>Customer :</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String CustomerName;\n\n    private String email;\n\n    @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;File&gt; File = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>File :</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Entity\n@Table(name = &quot;file&quot;)\npublic class File implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String file_name;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;customer_id&quot;)\n    private Customer Customer;\n\n  }\n</code></pre>\n<p>Repository :</p>\n<pre><code>@Repository\npublic interface FileRepository extends JpaRepository &lt;File,Integer&gt; {\n\n   \n}\n</code></pre>\n<p>I think problem is in mapper class. I want to add integer.\nMapper :</p>\n<pre><code>public class FileMapper {\n\n    public static FileDTO toDto(File file){\n        File DTO fileDTO = new FileDTO();\n        fileDTO.setFile_name(file.getFile_name());\n        fileDTO.setCustomer(file.getCustomer());\n\n\n\n        return fileDTO;\n\n    }\n\n    public static File toEntity(FileDTO fileDTO){\n        File file = new File();\n        file.setFile_name(fileDTO.getFile_name());\n        file.setCustomer(fileDTO.getCustomer());\n\n\n        return file;\n\n    }\n</code></pre>\n<p>Controller :</p>\n<pre><code>  @PostMapping(path = &quot;/addFile&quot;)\n    public boolean addFile(@RequestBody FileDTO File) {\n     return FileService.addFile(FileMapper.toEntity(file));\n    }\n</code></pre>\n<p>I want to add File with JSON Content and use <code>customer_id</code> as foreign key. But <code>customer_id</code> returns null when I add file.</p>\n"},{"tags":["java","mysql","dictionary"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1394568700,"creation_date":1394568700,"answer_id":22335617,"question_id":22335572,"body_markdown":"You need to learn about relational databases and normalization.\r\n\r\nYou won&#39;t be storing a Map in MySQL.  I can see a one-to-many relationship between two tables, where the parent is the table with the String key and the child is the one with many integer row values.\r\n","title":"MySQL - What data type should I use to store a Map field","body":"<p>You need to learn about relational databases and normalization.</p>\n\n<p>You won't be storing a Map in MySQL.  I can see a one-to-many relationship between two tables, where the parent is the table with the String key and the child is the one with many integer row values.</p>\n"},{"tags":[],"owner":{"account_id":25548121,"reputation":1,"user_id":19333072,"display_name":"Epulse cart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655154227,"creation_date":1655154227,"answer_id":72609014,"question_id":22335572,"body_markdown":"you have two solutions \r\n1- DB normalization, where you will have more then one table.\r\n2- if you are (which is obvious) going to connect your database to a project, then maybe you can json encode the map, that will convert the map into a string, when you need it, decode it. do use this approach only if you are not processing the data within the database it self, if its just to store data, or communicate it using APIs or any sort of data communication you do.  ","title":"MySQL - What data type should I use to store a Map field","body":"<p>you have two solutions\n1- DB normalization, where you will have more then one table.\n2- if you are (which is obvious) going to connect your database to a project, then maybe you can json encode the map, that will convert the map into a string, when you need it, decode it. do use this approach only if you are not processing the data within the database it self, if its just to store data, or communicate it using APIs or any sort of data communication you do.</p>\n"}],"owner":{"account_id":3179292,"reputation":1083,"user_id":2686419,"accept_rate":73,"display_name":"uesports135"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10413,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22335617,"answer_count":2,"score":4,"last_activity_date":1655154227,"creation_date":1394568579,"question_id":22335572,"body_markdown":"I have a field on my Java object that is type  \r\n    \r\n    Map&lt;String, ArrayList&lt;Integer&gt;&gt;\r\n\r\nand I am trying to figure out the best way to store it in a MySQL database. Does anyone have any suggestions as to what data type I should use?","title":"MySQL - What data type should I use to store a Map field","body":"<p>I have a field on my Java object that is type  </p>\n\n<pre><code>Map&lt;String, ArrayList&lt;Integer&gt;&gt;\n</code></pre>\n\n<p>and I am trying to figure out the best way to store it in a MySQL database. Does anyone have any suggestions as to what data type I should use?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"score":1,"creation_date":1506595316,"post_id":38636254,"comment_id":79889014,"body_markdown":"User user=new Gson().fromJson(yourJsonString,User.class);","body":"User user=new Gson().fromJson(yourJsonString,User.class);"},{"owner":{"account_id":319074,"reputation":3350,"user_id":636641,"accept_rate":67,"display_name":"Paul"},"score":1,"creation_date":1510236804,"post_id":38636254,"comment_id":81356537,"body_markdown":"As an FYI to anyone starting out with just JSON - from an API they&#39;re consuming say: There are a lot of services - utilities and online - which can take the JSON and generate the corresponding class or nested classes automatically. for example http://pojo.sodhanalibrary.com/ . So you can just drop those POJOS into your project and still use the top answer. saves time and typos.","body":"As an FYI to anyone starting out with just JSON - from an API they&#39;re consuming say: There are a lot of services - utilities and online - which can take the JSON and generate the corresponding class or nested classes automatically. for example <a href=\"http://pojo.sodhanalibrary.com/\" rel=\"nofollow noreferrer\">pojo.sodhanalibrary.com</a> . So you can just drop those POJOS into your project and still use the top answer. saves time and typos."}],"answers":[{"tags":[],"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1469708888,"creation_date":1469708888,"answer_id":38636376,"question_id":38636254,"body_markdown":"Try this:\r\n\r\n    Gson gson = new Gson();\r\n\tString jsonInString = &quot;{\\&quot;userId\\&quot;:\\&quot;1\\&quot;,\\&quot;userName\\&quot;:\\&quot;Yasir\\&quot;}&quot;;\r\n\tUser user= gson.fromJson(jsonInString, User.class);","title":"How to convert Json to Java object using Gson","body":"<p>Try this:</p>\n\n<pre><code>Gson gson = new Gson();\nString jsonInString = \"{\\\"userId\\\":\\\"1\\\",\\\"userName\\\":\\\"Yasir\\\"}\";\nUser user= gson.fromJson(jsonInString, User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4431757,"reputation":178,"user_id":3608764,"display_name":"dtenreiro"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1655153710,"creation_date":1469708946,"answer_id":38636406,"question_id":38636254,"body_markdown":"    Gson gson = new Gson();\r\n    User user = gson.fromJson(&quot;{\\&quot;userId\\&quot;:\\&quot;1\\&quot;,\\&quot;userName\\&quot;:\\&quot;Yasir\\&quot;}&quot;, User.class);\r\n\r\n","title":"How to convert Json to Java object using Gson","body":"<pre><code>Gson gson = new Gson();\nUser user = gson.fromJson(&quot;{\\&quot;userId\\&quot;:\\&quot;1\\&quot;,\\&quot;userName\\&quot;:\\&quot;Yasir\\&quot;}&quot;, User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469708946,"creation_date":1469708946,"answer_id":38636407,"question_id":38636254,"body_markdown":"\r\n\r\n    User user= gson.fromJson(jsonInString, User.class);\r\n    \r\n    // where jsonInString is your json {&quot;userId&quot;:&quot;1&quot;,&quot;userName&quot;:&quot;Yasir&quot;}","title":"How to convert Json to Java object using Gson","body":"<pre><code>User user= gson.fromJson(jsonInString, User.class);\n\n// where jsonInString is your json {\"userId\":\"1\",\"userName\":\"Yasir\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8551535,"reputation":157,"user_id":6408292,"display_name":"Nitheesh Chandran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518940735,"creation_date":1469709475,"answer_id":38636604,"question_id":38636254,"body_markdown":"    Gson gson = new Gson();\r\n    \r\n    User u=gson.fromJson(jsonstring, User.class);\r\n    System.out.println(&quot;userName: &quot;+u.getusername);  ","title":"How to convert Json to Java object using Gson","body":"<pre><code>Gson gson = new Gson();\n\nUser u=gson.fromJson(jsonstring, User.class);\nSystem.out.println(\"userName: \"+u.getusername);  \n</code></pre>\n"}],"owner":{"display_name":"user6160039"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91402,"favorite_count":0,"down_vote_count":1,"up_vote_count":33,"closed_date":1469736474,"accepted_answer_id":38636376,"answer_count":4,"score":32,"last_activity_date":1655153710,"creation_date":1469708555,"question_id":38636254,"body_markdown":"Suppose I have json string \r\n\r\n    {&quot;userId&quot;:&quot;1&quot;,&quot;userName&quot;:&quot;Yasir&quot;}\r\nnow I have a class User\r\n\r\n    class User{\r\n    int userId;\r\n    String userName;\r\n    //setters and getters\r\n    }\r\nNow How can I convert above json string to user class object","title":"How to convert Json to Java object using Gson","body":"<p>Suppose I have json string </p>\n\n<pre><code>{\"userId\":\"1\",\"userName\":\"Yasir\"}\n</code></pre>\n\n<p>now I have a class User</p>\n\n<pre><code>class User{\nint userId;\nString userName;\n//setters and getters\n}\n</code></pre>\n\n<p>Now How can I convert above json string to user class object</p>\n"},{"tags":["java","sql-injection"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1654785526,"post_id":72562184,"comment_id":128179522,"body_markdown":"There is no SQL injection possible when `id` is in fact of type `int`.","body":"There is no SQL injection possible when <code>id</code> is in fact of type <code>int</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1654785816,"post_id":72562184,"comment_id":128179647,"body_markdown":"If `id` is an int, there is no SQL injection possible, just overflow. However hard to check by a reader, and it is a mixture of text and code. Parameterized SQL could be externalized in XML or whatever.","body":"If <code>id</code> is an int, there is no SQL injection possible, just overflow. However hard to check by a reader, and it is a mixture of text and code. Parameterized SQL could be externalized in XML or whatever."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1654785837,"post_id":72562184,"comment_id":128179659,"body_markdown":"It&#39;s safe, for now. One problem is that someone may decide later that String IDs are more appropriate and change the parameter type, but not the implementation. In which case, you would be vulnerable. I like the `setInt` approach regardless because changing the ID parameter to String necessitates a change in the implementation, since `setInt` will fail to compile if the second argument is not an integer","body":"It&#39;s safe, for now. One problem is that someone may decide later that String IDs are more appropriate and change the parameter type, but not the implementation. In which case, you would be vulnerable. I like the <code>setInt</code> approach regardless because changing the ID parameter to String necessitates a change in the implementation, since <code>setInt</code> will fail to compile if the second argument is not an integer"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1654786024,"post_id":72562184,"comment_id":128179756,"body_markdown":"its ok as long as its integer, but! some code analyzer may flag it as potential sql injection. it would be easier (for everyone) to stay consistent with parameterized sql rather than mixing string concat here and there.","body":"its ok as long as its integer, but! some code analyzer may flag it as potential sql injection. it would be easier (for everyone) to stay consistent with parameterized sql rather than mixing string concat here and there."}],"answers":[{"tags":[],"owner":{"account_id":403315,"reputation":1,"user_id":3548461,"display_name":"SuperPommeDeTerre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654786110,"creation_date":1654785434,"answer_id":72562224,"question_id":72562184,"body_markdown":"If your langage doesn&#39;t support strong typing or if input validation is weak, some malicious string (for example: &quot;1 OR 1=1&quot;) can makes its way down to your request.","title":"Are numeric parameters subject to SQL injection attacks?","body":"<p>If your langage doesn't support strong typing or if input validation is weak, some malicious string (for example: &quot;1 OR 1=1&quot;) can makes its way down to your request.</p>\n"},{"tags":[],"owner":{"account_id":8426135,"reputation":56,"user_id":6323312,"display_name":"Joseph Hendrix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654785724,"creation_date":1654785724,"answer_id":72562304,"question_id":72562184,"body_markdown":"I can think of two things that might go wrong even if `id` is an int and can never be anything else:\r\n\r\n1. Someone in the future might change the `id` type to a `String`.\r\n2. Someone might copy-paste your code to another part of the codebase, and then modify the SQL so that it&#39;s concatenated with a `String`, making that part vulnerable.","title":"Are numeric parameters subject to SQL injection attacks?","body":"<p>I can think of two things that might go wrong even if <code>id</code> is an int and can never be anything else:</p>\n<ol>\n<li>Someone in the future might change the <code>id</code> type to a <code>String</code>.</li>\n<li>Someone might copy-paste your code to another part of the codebase, and then modify the SQL so that it's concatenated with a <code>String</code>, making that part vulnerable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654786378,"creation_date":1654786378,"answer_id":72562459,"question_id":72562184,"body_markdown":"First Java is strongly typed language so, pragmatically speaking there is no way an sql injection make it to this part of code.\r\n\r\nbut security is more than that.\r\ncode quality is also a security level that is not to be taken lightly, if you pass this code snippet in a sonar qube server this will be revoqued.\r\n\r\nWhy ?\r\n\r\nFirst if you r not respecting the string concatenation, this is not a performance freindly way of coding.\r\n\r\nIn large scale applications everything matters. where technical debt is also a vulnerablity","title":"Are numeric parameters subject to SQL injection attacks?","body":"<p>First Java is strongly typed language so, pragmatically speaking there is no way an sql injection make it to this part of code.</p>\n<p>but security is more than that.\ncode quality is also a security level that is not to be taken lightly, if you pass this code snippet in a sonar qube server this will be revoqued.</p>\n<p>Why ?</p>\n<p>First if you r not respecting the string concatenation, this is not a performance freindly way of coding.</p>\n<p>In large scale applications everything matters. where technical debt is also a vulnerablity</p>\n"},{"tags":[],"owner":{"account_id":9630238,"reputation":739,"user_id":7184001,"display_name":"Egret"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655153256,"creation_date":1654887563,"answer_id":72578791,"question_id":72562184,"body_markdown":"The previous responses are correct - as a validated/typed int, this is likely not exploitable.  But it should be changed to future proof it and improve performance (the DB can cache the compiled statement more easily).\r\n\r\nOn a related note - although int is safe, real numbers and dates can be exploited in some cases via lateral SQL injection, even when those values have been fully validated or come from strong types.  This method uses the formatting mechanism for injection - see \r\nhttp://www.davidlitchfield.com/Lateral_SQL_Injection_Revisited_Final.pdf .","title":"Are numeric parameters subject to SQL injection attacks?","body":"<p>The previous responses are correct - as a validated/typed int, this is likely not exploitable.  But it should be changed to future proof it and improve performance (the DB can cache the compiled statement more easily).</p>\n<p>On a related note - although int is safe, real numbers and dates can be exploited in some cases via lateral SQL injection, even when those values have been fully validated or come from strong types.  This method uses the formatting mechanism for injection - see\n<a href=\"http://www.davidlitchfield.com/Lateral_SQL_Injection_Revisited_Final.pdf\" rel=\"nofollow noreferrer\">http://www.davidlitchfield.com/Lateral_SQL_Injection_Revisited_Final.pdf</a> .</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72562304,"answer_count":4,"score":1,"last_activity_date":1655153256,"creation_date":1654785247,"question_id":72562184,"body_markdown":"Consider this statement:\r\n\r\n    PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM t WHERE id=?&quot;);\r\n    stmt.setInt(1, id);\r\n\r\nThe above is considered safe from SQL Injection attacks. Is the one below also safe, knowing that `id` is of type `int`?\r\n\r\n    PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM t WHERE id=&quot; + id);\r\n\r\nIf not, what can go wrong?","title":"Are numeric parameters subject to SQL injection attacks?","body":"<p>Consider this statement:</p>\n<pre><code>PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM t WHERE id=?&quot;);\nstmt.setInt(1, id);\n</code></pre>\n<p>The above is considered safe from SQL Injection attacks. Is the one below also safe, knowing that <code>id</code> is of type <code>int</code>?</p>\n<pre><code>PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM t WHERE id=&quot; + id);\n</code></pre>\n<p>If not, what can go wrong?</p>\n"},{"tags":["java","android","gradle","javadoc","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655153159,"creation_date":1655133780,"answer_id":72605299,"question_id":72603780,"body_markdown":"Extracting the built AAR and putting it on `classpath` provides the generated classes -&lt;br/&gt;\r\nbut it&#39;s a whole lot more elegant to reference the intermediate `classes.jar` already:\r\n\r\n    task javadoc(type: Javadoc) {\r\n    \r\n        ...\r\n        doFirst {\r\n    \r\n            ...\r\n            def aar_main = new File(&quot;$buildDir/intermediates/aar_main_jar&quot;)\r\n            if (aar_main.exists()) {\r\n                copy {\r\n                    from aar_main\r\n                    include &quot;**/classes.jar&quot;\r\n                    into &quot;$buildDir/tmp/aarsToJars/aar_main_jar/&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOne can also check `.exists()` before already:\r\n\r\n    javadoc.onlyIf {\r\n        new File(&quot;$buildDir/intermediates/aar_main_jar&quot;).exists()\r\n    }","title":"How to provide generated data-binding classes in a Gradle Javadoc task?","body":"<p>Extracting the built AAR and putting it on <code>classpath</code> provides the generated classes -<br/>\nbut it's a whole lot more elegant to reference the intermediate <code>classes.jar</code> already:</p>\n<pre><code>task javadoc(type: Javadoc) {\n\n    ...\n    doFirst {\n\n        ...\n        def aar_main = new File(&quot;$buildDir/intermediates/aar_main_jar&quot;)\n        if (aar_main.exists()) {\n            copy {\n                from aar_main\n                include &quot;**/classes.jar&quot;\n                into &quot;$buildDir/tmp/aarsToJars/aar_main_jar/&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>One can also check <code>.exists()</code> before already:</p>\n<pre><code>javadoc.onlyIf {\n    new File(&quot;$buildDir/intermediates/aar_main_jar&quot;).exists()\n}\n</code></pre>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72605299,"answer_count":1,"score":1,"last_activity_date":1655153159,"creation_date":1655127236,"question_id":72603780,"body_markdown":"With this Gradle [task](https://github.com/syslogic/androidx-colorpicker/blob/master/publish.gradle) I&#39;ve used to extract AAR, in order to generate Javadoc:\r\n\r\n    task javadoc(type: Javadoc) {\r\n        doFirst {\r\n            configurations.implementation.filter { it.name.endsWith(&#39;.aar&#39;) }.each { aar -&gt;\r\n                copy {\r\n                    from zipTree(aar)\r\n                    include &quot;**/classes.jar&quot;\r\n                    into &quot;$buildDir/tmp/aarsToJars/${aar.name.replace(&#39;.aar&#39;, &#39;&#39;)}/&quot;\r\n                }\r\n            }\r\n        }\r\n        failOnError false\r\n        options.linkSource true\r\n        options.links(&quot;https://docs.oracle.com/en/java/javase/11/docs/api/&quot;)\r\n        options.links(&quot;https://developer.android.com/reference/&quot;)\r\n        title = &quot;Colorpicker Library ${versionName} API&quot;\r\n        source = android.sourceSets.main.java.srcDirs\r\n        classpath = files(new File(&quot;${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar&quot;))\r\n        classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n        classpath += fileTree(dir: &quot;$buildDir/tmp/aarsToJars/&quot;)\r\n        configurations.implementation.setCanBeResolved(true)\r\n        classpath += configurations.implementation\r\n        destinationDir = file(&quot;${project.buildDir}/outputs/javadoc/&quot;)\r\n        exclude &quot;**/BuildConfig.java&quot;\r\n        exclude &quot;**/R.java&quot;\r\n    }\r\n\r\nIt fails since I&#39;ve enabled `androidx.databinding` `7.2.1` inside the library module:\r\n\r\n    &gt; Task :library:javadoc\r\n    ...\\ColorPickerDialogFragment.java:24: error: package com.acme.databinding does not exist\r\n    import com.acme.databinding.DialogColorPickerBinding;\r\n                                              ^\r\n    ...\\ColorPickerDialogFragment.java:46: error: cannot find symbol\r\n        DialogColorPickerBinding mDataBinding;\r\n        ^\r\n      symbol:   class DialogColorPickerBinding\r\n      location: class ColorPickerDialogFragment\r\n    2 errors\r\n\r\nHow can I add these generated sources to `classpath`? Ignoring the class `import` doesn&#39;t seem to be an option. Or does `javadoc` have to depend on the task, which generates these (bad timing)? In general, `exclude &quot;**/ColorPickerDialogFragment.java&quot;` is not the answer I&#39;m looking for.","title":"How to provide generated data-binding classes in a Gradle Javadoc task?","body":"<p>With this Gradle <a href=\"https://github.com/syslogic/androidx-colorpicker/blob/master/publish.gradle\" rel=\"nofollow noreferrer\">task</a> I've used to extract AAR, in order to generate Javadoc:</p>\n<pre><code>task javadoc(type: Javadoc) {\n    doFirst {\n        configurations.implementation.filter { it.name.endsWith('.aar') }.each { aar -&gt;\n            copy {\n                from zipTree(aar)\n                include &quot;**/classes.jar&quot;\n                into &quot;$buildDir/tmp/aarsToJars/${aar.name.replace('.aar', '')}/&quot;\n            }\n        }\n    }\n    failOnError false\n    options.linkSource true\n    options.links(&quot;https://docs.oracle.com/en/java/javase/11/docs/api/&quot;)\n    options.links(&quot;https://developer.android.com/reference/&quot;)\n    title = &quot;Colorpicker Library ${versionName} API&quot;\n    source = android.sourceSets.main.java.srcDirs\n    classpath = files(new File(&quot;${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar&quot;))\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n    classpath += fileTree(dir: &quot;$buildDir/tmp/aarsToJars/&quot;)\n    configurations.implementation.setCanBeResolved(true)\n    classpath += configurations.implementation\n    destinationDir = file(&quot;${project.buildDir}/outputs/javadoc/&quot;)\n    exclude &quot;**/BuildConfig.java&quot;\n    exclude &quot;**/R.java&quot;\n}\n</code></pre>\n<p>It fails since I've enabled <code>androidx.databinding</code> <code>7.2.1</code> inside the library module:</p>\n<pre><code>&gt; Task :library:javadoc\n...\\ColorPickerDialogFragment.java:24: error: package com.acme.databinding does not exist\nimport com.acme.databinding.DialogColorPickerBinding;\n                                          ^\n...\\ColorPickerDialogFragment.java:46: error: cannot find symbol\n    DialogColorPickerBinding mDataBinding;\n    ^\n  symbol:   class DialogColorPickerBinding\n  location: class ColorPickerDialogFragment\n2 errors\n</code></pre>\n<p>How can I add these generated sources to <code>classpath</code>? Ignoring the class <code>import</code> doesn't seem to be an option. Or does <code>javadoc</code> have to depend on the task, which generates these (bad timing)? In general, <code>exclude &quot;**/ColorPickerDialogFragment.java&quot;</code> is not the answer I'm looking for.</p>\n"},{"tags":["java","maven","junit","cucumber","appium"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655155515,"post_id":72608835,"comment_id":128260453,"body_markdown":"Compare the logs from running locally and running on Jenkins and see where they differ.","body":"Compare the logs from running locally and running on Jenkins and see where they differ."},{"owner":{"account_id":25547928,"reputation":1,"user_id":19332916,"display_name":"iDon&#39;tDrinkJava"},"score":0,"creation_date":1655164111,"post_id":72608835,"comment_id":128262089,"body_markdown":"I found out the issue. So I was running from local repo, and I did not know that you still had to commit your code in order for Jenkins to pick it up. Oops o0. Thanks for your help!","body":"I found out the issue. So I was running from local repo, and I did not know that you still had to commit your code in order for Jenkins to pick it up. Oops o0. Thanks for your help!"}],"owner":{"account_id":25547928,"reputation":1,"user_id":19332916,"display_name":"iDon&#39;tDrinkJava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655153145,"creation_date":1655153145,"question_id":72608835,"body_markdown":"So I have a maven project that has a profile\r\n\r\n**When I run the following in the terminal for my project, the tests will run just fine**\r\n\r\nmvn clean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @&#39;QR_Scan&#39;&quot; -Dtest.environment=PrePRod\r\n\r\n**When I run the following in a Jenkins project it will not run the tests that I need it too**\r\n\r\nclean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @&#39;QR_Scan&#39;&quot; -Dtest.environment=PrePRod\r\n\r\n\r\n\r\n**Jenkins settings** \r\n\r\nI have setup a Jenkins Maven project and told Jenkins where my Pom is, and I send the command below for the goal and options &quot;clean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @&#39;QR_Scan&#39;&quot; -Dtest.environment=PrePRod&quot;\r\n\r\n**Maven Settings**\r\n\r\n &lt;profile&gt;\r\n            &lt;id&gt;serial-integration-test&lt;/id&gt;\r\n\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;1.8&lt;/source&gt;\r\n                            &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.0&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;junitPlatformArtifactName&gt;com.github.junit-team.junit5:junit-platform-engine&lt;/junitPlatformArtifactName&gt;\r\n                            &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/Parallel*IT.class&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;test.environment&gt;&lt;/test.environment&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.0.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;generateRunners&lt;/id&gt;\r\n                                &lt;phase&gt;validate&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;generateRunners&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;plugins&gt;\r\n                                        &lt;plugin&gt;\r\n                                            &lt;name&gt;com.gm.onstar.rita.cucumber.CucumberReporter&lt;/name&gt;\r\n                                        &lt;/plugin&gt;\r\n                                    &lt;/plugins&gt;\r\n                                    &lt;glue&gt;\r\n                                        &lt;package&gt;com.gm.onstar.rita.stepdefinitions&lt;/package&gt;\r\n                                    &lt;/glue&gt;\r\n                                    &lt;featuresDirectory&gt;src/main/resources/features&lt;/featuresDirectory&gt;\r\n                                    &lt;tags&gt;\r\n                                        &lt;tag&gt;${cucumber.tag1}&lt;/tag&gt;\r\n                                        &lt;tag&gt;${cucumber.tag2}&lt;/tag&gt;\r\n                                        &lt;tag&gt;${cucumber.tag3}&lt;/tag&gt;\r\n                                        &lt;tag&gt;${cucumber.tag4}&lt;/tag&gt;\r\n                                        &lt;tag&gt;${cucumber.tag5}&lt;/tag&gt;\r\n                                        &lt;tag&gt;~@Ignore&lt;/tag&gt;\r\n                                    &lt;/tags&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n\r\n**What I have tried**\r\n\r\n1. I have tried putting in like this in Jenkins -Dcucumber.options=&quot;--tags @QR_Scan&quot; and like this -Dcucumber.options=&#39;--tags @QR_Scan&#39;\r\n2. I have tried putting the profile -Pserial-integration-test with a space and without a space -P serial-integration-test \r\n3. I have tried to see if I a missing some sort of plugin\r\n4. I have tried to see if Mvn clean install or Mvn clear verify would run it on Jenkins\r\n\r\n\r\n**What it might be.**\r\n\r\n1. Jenkins does not like that my cucumber runner is in the main and not in java test folder?\r\n2. Am I missing a plugin for Jenkins?\r\n3. Am I typing the command in wrong in jenkins, and maybe missing some parentheses or something?\r\n\r\n**Any help would be appreciated. Thank you!**\r\n","title":"Maven command runs fine on local machine, but not in Jenkins","body":"<p>So I have a maven project that has a profile</p>\n<p><strong>When I run the following in the terminal for my project, the tests will run just fine</strong></p>\n<p>mvn clean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @'QR_Scan'&quot; -Dtest.environment=PrePRod</p>\n<p><strong>When I run the following in a Jenkins project it will not run the tests that I need it too</strong></p>\n<p>clean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @'QR_Scan'&quot; -Dtest.environment=PrePRod</p>\n<p><strong>Jenkins settings</strong></p>\n<p>I have setup a Jenkins Maven project and told Jenkins where my Pom is, and I send the command below for the goal and options &quot;clean install -Pserial-integration-test -Dcucumber.options=&quot;--tags @'QR_Scan'&quot; -Dtest.environment=PrePRod&quot;</p>\n<p><strong>Maven Settings</strong></p>\n \n            serial-integration-test\n<pre><code>        &lt;build&gt;\n            &lt;plugins&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;junitPlatformArtifactName&gt;com.github.junit-team.junit5:junit-platform-engine&lt;/junitPlatformArtifactName&gt;\n                        &lt;forkCount&gt;1&lt;/forkCount&gt;\n                        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/Parallel*IT.class&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;test.environment&gt;&lt;/test.environment&gt;\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\n                                &lt;goal&gt;verify&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;5.0.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generateRunners&lt;/id&gt;\n                            &lt;phase&gt;validate&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generateRunners&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;plugins&gt;\n                                    &lt;plugin&gt;\n                                        &lt;name&gt;com.gm.onstar.rita.cucumber.CucumberReporter&lt;/name&gt;\n                                    &lt;/plugin&gt;\n                                &lt;/plugins&gt;\n                                &lt;glue&gt;\n                                    &lt;package&gt;com.gm.onstar.rita.stepdefinitions&lt;/package&gt;\n                                &lt;/glue&gt;\n                                &lt;featuresDirectory&gt;src/main/resources/features&lt;/featuresDirectory&gt;\n                                &lt;tags&gt;\n                                    &lt;tag&gt;${cucumber.tag1}&lt;/tag&gt;\n                                    &lt;tag&gt;${cucumber.tag2}&lt;/tag&gt;\n                                    &lt;tag&gt;${cucumber.tag3}&lt;/tag&gt;\n                                    &lt;tag&gt;${cucumber.tag4}&lt;/tag&gt;\n                                    &lt;tag&gt;${cucumber.tag5}&lt;/tag&gt;\n                                    &lt;tag&gt;~@Ignore&lt;/tag&gt;\n                                &lt;/tags&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p><strong>What I have tried</strong></p>\n<ol>\n<li>I have tried putting in like this in Jenkins -Dcucumber.options=&quot;--tags @QR_Scan&quot; and like this -Dcucumber.options='--tags @QR_Scan'</li>\n<li>I have tried putting the profile -Pserial-integration-test with a space and without a space -P serial-integration-test</li>\n<li>I have tried to see if I a missing some sort of plugin</li>\n<li>I have tried to see if Mvn clean install or Mvn clear verify would run it on Jenkins</li>\n</ol>\n<p><strong>What it might be.</strong></p>\n<ol>\n<li>Jenkins does not like that my cucumber runner is in the main and not in java test folder?</li>\n<li>Am I missing a plugin for Jenkins?</li>\n<li>Am I typing the command in wrong in jenkins, and maybe missing some parentheses or something?</li>\n</ol>\n<p><strong>Any help would be appreciated. Thank you!</strong></p>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":6,"creation_date":1524832357,"post_id":50062424,"comment_id":87141382,"body_markdown":"I&#39;m voting to close this question as off-topic because: [&quot;3. Questions asking for homework help must include a **summary of the work you&#39;ve done so far to solve the problem**, and a **description of the difficulty you are having** solving it.&quot;](https://stackoverflow.com/help/on-topic). Current state of your question doesn&#39;t fulfill these requirements. Use [edit] option to improve it. Also read this [Open letter to students with homework problems](http://meta.programmers.stackexchange.com/q/6166)","body":"I&#39;m voting to close this question as off-topic because: <a href=\"https://stackoverflow.com/help/on-topic\">&quot;3. Questions asking for homework help must include a <b>summary of the work you&#39;ve done so far to solve the problem</b>, and a <b>description of the difficulty you are having</b> solving it.&quot;</a>. Current state of your question doesn&#39;t fulfill these requirements. Use <a href=\"https://stackoverflow.com/posts/50062424/edit\">edit</a> option to improve it. Also read this <a href=\"http://meta.programmers.stackexchange.com/q/6166\">Open letter to students with homework problems</a>"},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1524832505,"post_id":50062424,"comment_id":87141467,"body_markdown":"In addition to what @Pshemo said, you also have a teacher who is being paid to teach you. They should be the one you&#39;re going to with questions about your assignment. They are in the best position to understand what they&#39;ve asked, and they also need to know where you&#39;re having difficulties so they can adjust their lesson plans for improvement.","body":"In addition to what @Pshemo said, you also have a teacher who is being paid to teach you. They should be the one you&#39;re going to with questions about your assignment. They are in the best position to understand what they&#39;ve asked, and they also need to know where you&#39;re having difficulties so they can adjust their lesson plans for improvement."},{"owner":{"account_id":341428,"reputation":1283,"user_id":672030,"display_name":"Andrei Mărcuţ"},"score":1,"creation_date":1524832727,"post_id":50062424,"comment_id":87141599,"body_markdown":"It will print &quot;Two&quot; because you Override the inherited method. If you want to access the super implementation, in your class Two, call super.display() and it will then also print &quot;One&quot;","body":"It will print &quot;Two&quot; because you Override the inherited method. If you want to access the super implementation, in your class Two, call super.display() and it will then also print &quot;One&quot;"},{"owner":{"account_id":13244695,"reputation":416,"user_id":9564191,"display_name":"Lutzi"},"score":0,"creation_date":1524832734,"post_id":50062424,"comment_id":87141601,"body_markdown":"Try it, and you will have your answer yourself :) .","body":"Try it, and you will have your answer yourself :) ."},{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":0,"creation_date":1524832948,"post_id":50062424,"comment_id":87141731,"body_markdown":"I&#39;m voting to close this question as off-topic because this is a homework assignment","body":"I&#39;m voting to close this question as off-topic because this is a homework assignment"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1524833370,"post_id":50062424,"comment_id":87141999,"body_markdown":"@Ascalonian Problem is not that it is homework (there are many great questions here which are based on homework assignments). Problem is that it is homework dump, question without any *specific* problem description.","body":"@Ascalonian Problem is not that it is homework (there are many great questions here which are based on homework assignments). Problem is that it is homework dump, question without any <i>specific</i> problem description."}],"answers":[{"tags":[],"owner":{"account_id":7818645,"reputation":2089,"user_id":5912422,"display_name":"Valentin Michalak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524833631,"creation_date":1524833455,"answer_id":50062808,"question_id":50062424,"body_markdown":"**The good answer is 3. &quot;Two&quot;.** \r\n\r\nTo understand why, you have to understand polymorphism and overriding:\r\nIn your case you have two classes:\r\n\r\n    +------------------+\r\n    |        Two       |\r\n    +------------------+\r\n              |\r\n            extend\r\n              |\r\n              v\r\n    +------------------+\r\n    |        One       |\r\n    +------------------+\r\n\r\nAll public and protected field from One are visible and overridable by Two.\r\nIn your case, `One.display()` is overrided by `Two.display()`. \r\n\r\nIf the code followed the Java conventions, there should be the annotation [`@Override`][1] on top of the Two.display() method to explicit this behavior to other developers and to the Compiler who&#39;s check if the method already exists in the parent object.\r\n\r\nI hope I have been helpful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Override.html","title":"Java issue that i dont understand","body":"<p><strong>The good answer is 3. \"Two\".</strong> </p>\n\n<p>To understand why, you have to understand polymorphism and overriding:\nIn your case you have two classes:</p>\n\n<pre><code>+------------------+\n|        Two       |\n+------------------+\n          |\n        extend\n          |\n          v\n+------------------+\n|        One       |\n+------------------+\n</code></pre>\n\n<p>All public and protected field from One are visible and overridable by Two.\nIn your case, <code>One.display()</code> is overrided by <code>Two.display()</code>. </p>\n\n<p>If the code followed the Java conventions, there should be the annotation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Override.html\" rel=\"nofollow noreferrer\"><code>@Override</code></a> on top of the Two.display() method to explicit this behavior to other developers and to the Compiler who's check if the method already exists in the parent object.</p>\n\n<p>I hope I have been helpful.</p>\n"},{"tags":[],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655152840,"creation_date":1655152840,"answer_id":72608784,"question_id":50062424,"body_markdown":"This problem actually common problem around high school studies. But you need to just simple think.\r\n\r\nThe Object class is superclass all of the classes in java. You think something class withoud any extend operation. And again imagine that, this something class has a method called method1. (void or not void. Not important.) When you create an instance in main method, and, when you try to call method1 from this instance, if you use any IDE for java, you will see something methods called notify(), notifyAll(), toString() and etc. This methods are methods of Object classes. \r\n\r\nBeside, when you write a code like this\r\n&lt;br&gt;\r\n```Object instance = new YourClass();```\r\n&lt;br&gt;\r\nand after then, when you write your ide like ```instance.``` \r\nyou can see Object methods. \r\n\r\nThis is Polymorphism","title":"Java issue that i dont understand","body":"<p>This problem actually common problem around high school studies. But you need to just simple think.</p>\n<p>The Object class is superclass all of the classes in java. You think something class withoud any extend operation. And again imagine that, this something class has a method called method1. (void or not void. Not important.) When you create an instance in main method, and, when you try to call method1 from this instance, if you use any IDE for java, you will see something methods called notify(), notifyAll(), toString() and etc. This methods are methods of Object classes.</p>\n<p>Beside, when you write a code like this\n<br>\n<code>Object instance = new YourClass();</code>\n<br>\nand after then, when you write your ide like <code>instance.</code>\nyou can see Object methods.</p>\n<p>This is Polymorphism</p>\n"}],"owner":{"account_id":13457096,"reputation":3,"user_id":9710379,"display_name":"i suck at coding"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":50062808,"answer_count":2,"score":-5,"last_activity_date":1655152840,"creation_date":1524832172,"question_id":50062424,"body_markdown":"i am sorry that i might seem dumb but im new java as i am studying it in high school: \r\n\r\n    public class One\r\n    {\r\n        public void display()\r\n        {\r\n            System.out.print (&quot;One&quot;);\r\n        }\r\n    }\r\n\r\n    public class Two extends One\r\n    {\r\n        public void display ()\r\n        {\r\n            System.out.print(&quot;Two&quot;);\r\n        }\r\n    }\r\n\r\n&gt; What is printed after the following code segment is executed?\r\n\r\n&gt;     One object1= new Two();\r\n&gt;     object1.display();\r\n\r\n&gt;    1. OneTwo\r\n\r\n&gt;    2. TwoOne\r\n\r\n&gt;    3. Two\r\n\r\n&gt;    4. One\r\n\r\n&gt;    5. No output\r\n\r\nCan anyone please help me with answering the question above,  i have read a lot about objects and classes and how they operate and how subclasses work but i cannot figure this question, plx help. \r\n\r\nEdit: This is an AP computer Science A question i dont really have a tutor/teacher to reach out to most of java was self-studied for me, so i would consider myself as a beginner to java but i got a lot covered, thanks for the help!! ","title":"Java issue that i dont understand","body":"<p>i am sorry that i might seem dumb but im new java as i am studying it in high school: </p>\n\n<pre><code>public class One\n{\n    public void display()\n    {\n        System.out.print (\"One\");\n    }\n}\n\npublic class Two extends One\n{\n    public void display ()\n    {\n        System.out.print(\"Two\");\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>What is printed after the following code segment is executed?</p>\n\n<pre><code>One object1= new Two();\nobject1.display();\n</code></pre>\n  \n  <ol>\n  <li><p>OneTwo</p></li>\n  <li><p>TwoOne</p></li>\n  <li><p>Two</p></li>\n  <li><p>One</p></li>\n  <li><p>No output</p></li>\n  </ol>\n</blockquote>\n\n<p>Can anyone please help me with answering the question above,  i have read a lot about objects and classes and how they operate and how subclasses work but i cannot figure this question, plx help. </p>\n\n<p>Edit: This is an AP computer Science A question i dont really have a tutor/teacher to reach out to most of java was self-studied for me, so i would consider myself as a beginner to java but i got a lot covered, thanks for the help!! </p>\n"},{"tags":["java","android","kotlin","crash","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":2377329,"reputation":176,"user_id":2080305,"display_name":"UserX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639069714,"creation_date":1639066498,"answer_id":70293165,"question_id":70018748,"body_markdown":"I use com.squareup.moshi:moshi-kotlin-codegen:1.12.0 in my project and face same issue with Exoplayer. Probably moshi codegen breaks desugaring mechanics (Exoplayer code contains java 8 lambdas).\r\nIf you use moshi too, try downgrade or upgrade moshi version. Also check other code generation tools used by your project.\r\n\r\nUpd:\r\nI found that in one of project modules i use `implementation com.squareup.moshi:moshi-kotlin-codegen:1.12.0` instead `kapt com.squareup.moshi:moshi-kotlin-codegen:1.12.0`. After replacing from `implementation` to `kapt` all works as expected.","title":"Crash ExoPlayer.Builder in android version 5 and 6 (android api 21 and 23)","body":"<p>I use com.squareup.moshi:moshi-kotlin-codegen:1.12.0 in my project and face same issue with Exoplayer. Probably moshi codegen breaks desugaring mechanics (Exoplayer code contains java 8 lambdas).\nIf you use moshi too, try downgrade or upgrade moshi version. Also check other code generation tools used by your project.</p>\n<p>Upd:\nI found that in one of project modules i use <code>implementation com.squareup.moshi:moshi-kotlin-codegen:1.12.0</code> instead <code>kapt com.squareup.moshi:moshi-kotlin-codegen:1.12.0</code>. After replacing from <code>implementation</code> to <code>kapt</code> all works as expected.</p>\n"},{"tags":[],"owner":{"account_id":14543437,"reputation":261,"user_id":16885569,"display_name":"user16885569"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655152048,"creation_date":1655149002,"answer_id":72608195,"question_id":70018748,"body_markdown":"&lt;strike&gt;\r\nIn my case, the error was caused by this dependency: \r\n`org.jetbrains.kotlinx:kotlinx-coroutines-guava` (don&#39;t ask me why, it doesn&#39;t make any sense to be honest), which I used to await a `ListenableFuture` within a `CoroutineScope`. \r\n\r\nI solved by removing the dependency.\r\n&lt;/strike&gt;\r\n\r\n**EDIT**:\r\nThe problem is there&#39;s a library that uses Java 8 language features. You need to enable [desugaring][1].\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring","title":"Crash ExoPlayer.Builder in android version 5 and 6 (android api 21 and 23)","body":"<strike>\nIn my case, the error was caused by this dependency: \n`org.jetbrains.kotlinx:kotlinx-coroutines-guava` (don't ask me why, it doesn't make any sense to be honest), which I used to await a `ListenableFuture` within a `CoroutineScope`. \n<p>I solved by removing the dependency.\n</strike></p>\n<p><strong>EDIT</strong>:\nThe problem is there's a library that uses Java 8 language features. You need to enable <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">desugaring</a>.</p>\n"}],"owner":{"account_id":16446103,"reputation":31,"user_id":11880870,"display_name":"Mohammadreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655152048,"creation_date":1637233571,"question_id":70018748,"body_markdown":"When I upgrade exoplayer to version 2.16.0, it crashes when I run the line below the code:\r\n\r\n`exoPlayer = ExoPlayer.Builder(this).build()`\r\n\r\nI tested on higher Androids version like 10 and 11 (android api 29 and 30) and there is no problem, but in Android version 5 and 6 it crashes (android api 21 and 23)\r\nPreviously, in version 2.11.8, which I used, it ran without any problems in all versions of Android, but since I updated it to version 2.16.0, I have seen this problem in Android version 5 and 6.\r\n\r\nWhat should I do to solve this problem?\r\n\r\nMy error log:\r\n\r\n   ```\r\n java.lang.NoClassDefFoundError: com.google.android.exoplayer2.ExoPlayer$Builder$$ExternalSyntheticLambda0\r\n        at com.google.android.exoplayer2.ExoPlayer$Builder.&lt;init&gt;(ExoPlayer.java:440)\r\n        at com.myapp.Activity.VideoActivity_Online.onCreate(VideoActivity_Online.kt:58)\r\n        at android.app.Activity.performCreate(Activity.java:6237)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n        at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:148)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```","title":"Crash ExoPlayer.Builder in android version 5 and 6 (android api 21 and 23)","body":"<p>When I upgrade exoplayer to version 2.16.0, it crashes when I run the line below the code:</p>\n<p><code>exoPlayer = ExoPlayer.Builder(this).build()</code></p>\n<p>I tested on higher Androids version like 10 and 11 (android api 29 and 30) and there is no problem, but in Android version 5 and 6 it crashes (android api 21 and 23)\nPreviously, in version 2.11.8, which I used, it ran without any problems in all versions of Android, but since I updated it to version 2.16.0, I have seen this problem in Android version 5 and 6.</p>\n<p>What should I do to solve this problem?</p>\n<p>My error log:</p>\n<pre><code>java.lang.NoClassDefFoundError: com.google.android.exoplayer2.ExoPlayer$Builder$$ExternalSyntheticLambda0\n     at com.google.android.exoplayer2.ExoPlayer$Builder.&lt;init&gt;(ExoPlayer.java:440)\n     at com.myapp.Activity.VideoActivity_Online.onCreate(VideoActivity_Online.kt:58)\n     at android.app.Activity.performCreate(Activity.java:6237)\n     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n     at android.app.ActivityThread.-wrap11(ActivityThread.java)\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n     at android.os.Handler.dispatchMessage(Handler.java:102)\n     at android.os.Looper.loop(Looper.java:148)\n     at android.app.ActivityThread.main(ActivityThread.java:5417)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1668432856,"post_id":4750372,"comment_id":131396476,"body_markdown":"Related: [How to **get** the path of current Windows wallpaper](https://stackoverflow.com/a/74432415/8583692)","body":"Related: <a href=\"https://stackoverflow.com/a/74432415/8583692\">How to <b>get</b> the path of current Windows wallpaper</a>"}],"answers":[{"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295545924,"creation_date":1295545924,"answer_id":4750673,"question_id":4750372,"body_markdown":"The JNA java library allows you to easily call Win32 API calls.  In particular, to change the desktop background, you need to call the [SystemParametersInfo ](http://msdn.microsoft.com/en-us/library/ms724947%28v=vs.85%29.aspx) function.\r\n\r\nTake a look at this article for an introduction to JNA: http://today.java.net/article/2009/11/11/simplify-native-code-access-jna\r\n\r\n","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>The JNA java library allows you to easily call Win32 API calls.  In particular, to change the desktop background, you need to call the <a href=\"http://msdn.microsoft.com/en-us/library/ms724947%28v=vs.85%29.aspx\" rel=\"nofollow\">SystemParametersInfo </a> function.</p>\n\n<p>Take a look at this article for an introduction to JNA: <a href=\"http://today.java.net/article/2009/11/11/simplify-native-code-access-jna\" rel=\"nofollow\">http://today.java.net/article/2009/11/11/simplify-native-code-access-jna</a></p>\n"},{"tags":[],"owner":{"account_id":164242,"reputation":2737,"user_id":386875,"accept_rate":97,"display_name":"Eternal Noob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295546249,"creation_date":1295546249,"answer_id":4750715,"question_id":4750372,"body_markdown":"You can write a [batch file to change the wall-paper][1], and execute that batch file using,\r\n\r\n`Runtime.getRuntime.exec()`\r\n\r\n\r\n  [1]: http://www.daniweb.com/forums/thread65339.html","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>You can write a <a href=\"http://www.daniweb.com/forums/thread65339.html\" rel=\"nofollow\">batch file to change the wall-paper</a>, and execute that batch file using,</p>\n\n<p><code>Runtime.getRuntime.exec()</code></p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1295559529,"creation_date":1295546648,"answer_id":4750765,"question_id":4750372,"body_markdown":"Sorry I&#39;m a bit behind @ataylor&#39;s answer because I was preparing a snippet to do it.  Yes, JNA is a correct approach.  Here you go:\r\n\r\n    import java.util.HashMap;\r\n    \r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.WinDef.UINT_PTR;\r\n    import com.sun.jna.win32.*;\r\n    \r\n    public class WallpaperChanger {\r\n       public static void main(String[] args) {\r\n          //supply your own path instead of using this one\r\n          String path = &quot;C:\\\\Users\\\\Public\\\\Pictures\\\\Sample Pictures\\\\Chrysanthemum.jpg&quot;;\r\n          \r\n          SPI.INSTANCE.SystemParametersInfo(\r\n              new UINT_PTR(SPI.SPI_SETDESKWALLPAPER), \r\n              new UINT_PTR(0), \r\n              path, \r\n              new UINT_PTR(SPI.SPIF_UPDATEINIFILE | SPI.SPIF_SENDWININICHANGE));\r\n       }\r\n       \r\n       public interface SPI extends StdCallLibrary {\r\n    \r\n          //from MSDN article\r\n          long SPI_SETDESKWALLPAPER = 20;\r\n          long SPIF_UPDATEINIFILE = 0x01;\r\n          long SPIF_SENDWININICHANGE = 0x02;\r\n          \r\n          SPI INSTANCE = (SPI) Native.loadLibrary(&quot;user32&quot;, SPI.class, new HashMap&lt;Object, Object&gt;() {\r\n             {\r\n                put(OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\r\n                put(OPTION_FUNCTION_MAPPER, W32APIFunctionMapper.UNICODE);\r\n             }\r\n          });\r\n    \r\n          boolean SystemParametersInfo(\r\n              UINT_PTR uiAction,\r\n              UINT_PTR uiParam,\r\n              String pvParam,\r\n              UINT_PTR fWinIni\r\n            );\r\n      }\r\n    }\r\n\r\nYou need to have the JNA libraries on the classpath for this to work.  This was tested in Windows 7, there might be some nuances in XP but I think it should work.  That API is presumably stable.\r\n\r\nReferences\r\n--\r\n- [Setting Wallpaper - Coding4Fun][1]\r\n- https://stackoverflow.com/questions/2057492/how-to-determine-if-a-screensaver-is-running-in-java\r\n- [W32API.java][2]\r\n\r\nEdit (2010/01/20):\r\n--\r\nI had previously omitted the options `SPIF_UPDATEINIFILE` and `SPIF_SENDWININICHANGE`.  These are now being used as they were suggested in the Coding4Fun MSDN article.\r\n\r\n  [1]: http://blogs.msdn.com/b/coding4fun/archive/2006/10/31/912569.aspx\r\n  [2]: http://www.koders.com/java/fidFD72484D3A2451C9E8B017577D085D8C95154A35.aspx","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>Sorry I'm a bit behind @ataylor's answer because I was preparing a snippet to do it.  Yes, JNA is a correct approach.  Here you go:</p>\n\n<pre><code>import java.util.HashMap;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.UINT_PTR;\nimport com.sun.jna.win32.*;\n\npublic class WallpaperChanger {\n   public static void main(String[] args) {\n      //supply your own path instead of using this one\n      String path = \"C:\\\\Users\\\\Public\\\\Pictures\\\\Sample Pictures\\\\Chrysanthemum.jpg\";\n\n      SPI.INSTANCE.SystemParametersInfo(\n          new UINT_PTR(SPI.SPI_SETDESKWALLPAPER), \n          new UINT_PTR(0), \n          path, \n          new UINT_PTR(SPI.SPIF_UPDATEINIFILE | SPI.SPIF_SENDWININICHANGE));\n   }\n\n   public interface SPI extends StdCallLibrary {\n\n      //from MSDN article\n      long SPI_SETDESKWALLPAPER = 20;\n      long SPIF_UPDATEINIFILE = 0x01;\n      long SPIF_SENDWININICHANGE = 0x02;\n\n      SPI INSTANCE = (SPI) Native.loadLibrary(\"user32\", SPI.class, new HashMap&lt;Object, Object&gt;() {\n         {\n            put(OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\n            put(OPTION_FUNCTION_MAPPER, W32APIFunctionMapper.UNICODE);\n         }\n      });\n\n      boolean SystemParametersInfo(\n          UINT_PTR uiAction,\n          UINT_PTR uiParam,\n          String pvParam,\n          UINT_PTR fWinIni\n        );\n  }\n}\n</code></pre>\n\n<p>You need to have the JNA libraries on the classpath for this to work.  This was tested in Windows 7, there might be some nuances in XP but I think it should work.  That API is presumably stable.</p>\n\n<h2>References</h2>\n\n<ul>\n<li><a href=\"http://blogs.msdn.com/b/coding4fun/archive/2006/10/31/912569.aspx\" rel=\"noreferrer\">Setting Wallpaper - Coding4Fun</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2057492/how-to-determine-if-a-screensaver-is-running-in-java\">How to determine if a screensaver is running in Java?</a></li>\n<li><a href=\"http://www.koders.com/java/fidFD72484D3A2451C9E8B017577D085D8C95154A35.aspx\" rel=\"noreferrer\">W32API.java</a></li>\n</ul>\n\n<h2>Edit (2010/01/20):</h2>\n\n<p>I had previously omitted the options <code>SPIF_UPDATEINIFILE</code> and <code>SPIF_SENDWININICHANGE</code>.  These are now being used as they were suggested in the Coding4Fun MSDN article.</p>\n"},{"tags":[],"owner":{"account_id":4255796,"reputation":1546,"user_id":3481534,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1396462687,"creation_date":1396461585,"answer_id":22819371,"question_id":4750372,"body_markdown":"You can do it easier:\r\n\r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.WinDef.PVOID;\r\n    import com.sun.jna.win32.W32APIOptions;\r\n    public class Wallpaper {\t\r\n\t public static interface User32 extends Library {\r\n         User32 INSTANCE = (User32) Native.loadLibrary(&quot;user32&quot;,User32.class,W32APIOptions.DEFAULT_OPTIONS);        \r\n         boolean SystemParametersInfo (int one, int two, String s ,int three);         \r\n     }\r\n    public static void main(String[] args) {   \r\n\t   User32.INSTANCE.SystemParametersInfo(0x0014, 0, &quot;C:\\\\Users\\\\Public\\\\Pictures\\\\Sample Pictures\\\\Chrysanthemum.jpg&quot; , 1);\r\n\t   }\r\n     }\r\n","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>You can do it easier:</p>\n\n<pre><code>import com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.PVOID;\nimport com.sun.jna.win32.W32APIOptions;\npublic class Wallpaper {    \n public static interface User32 extends Library {\n     User32 INSTANCE = (User32) Native.loadLibrary(\"user32\",User32.class,W32APIOptions.DEFAULT_OPTIONS);        \n     boolean SystemParametersInfo (int one, int two, String s ,int three);         \n }\npublic static void main(String[] args) {   \n   User32.INSTANCE.SystemParametersInfo(0x0014, 0, \"C:\\\\Users\\\\Public\\\\Pictures\\\\Sample Pictures\\\\Chrysanthemum.jpg\" , 1);\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642328108,"creation_date":1608132807,"answer_id":65326358,"question_id":4750372,"body_markdown":"Here is a Pure Java implementation which uses [Project Panama][1] to make the native callbacks into Windows USER32.DLL. Note that the API is incubating so has changed between JDK16, 17 and later builds. These samples use the versions of Panama that are in the current JDK16/17 release, some changes may be required if you switch to the latest Panama Early Access builds. \r\n\r\n    import java.lang.invoke.*;\r\n    import java.nio.file.Path;\r\n    import jdk.incubator.foreign.*;\r\n\r\n    /**\r\n     %JDK16%\\bin\\java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign SetWallpaper.java A.JPG\r\n     */\r\n    public class SetWallpaper {\r\n        static final int SPI_SETDESKWALLPAPER  = 0x0014;\r\n        static final int SPIF_UPDATEINIFILE    = 0x01;\r\n        static final int SPIF_SENDCHANGE       = 0x02;\r\n        public static void main(String[] args) throws Throwable {\r\n            LibraryLookup user32 = LibraryLookup.ofLibrary(&quot;user32&quot;);\r\n            MethodHandle spi = CLinker.getInstance().downcallHandle(user32.lookup(&quot;SystemParametersInfoA&quot;).get()\r\n                // BOOL SystemParametersInfoA         (UINT uiAction,  UINT uiParam,   PVOID pvParam,       UINT fWinIni);\r\n                , MethodType.methodType(int.class,     int.class,      int.class,      MemoryAddress.class, int.class)\r\n                , FunctionDescriptor.of(CLinker.C_LONG,CLinker.C_LONG, CLinker.C_LONG, CLinker.C_POINTER,   CLinker.C_LONG));\r\n        \r\n            Path path = Path.of(args[0]).toRealPath();\r\n        \r\n            try (NativeScope scope = NativeScope.unboundedScope()) {\r\n                MemorySegment img = CLinker.toCString(path.toString(), scope);\r\n                int status = (int)spi.invokeExact(SPI_SETDESKWALLPAPER, 0, img.address(), SPIF_UPDATEINIFILE | SPIF_SENDCHANGE);\r\n                System.out.println(&quot;Changed wallpaper to &quot;+path+&quot; rc=&quot;+status+(status == 0 ? &quot; *** ERROR ***&quot;: &quot; OK&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\nSmall changes needed for JDK17:\r\n\r\n    /**\r\n    %JAVA_HOME%\\bin\\java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign SetWallpaper.java A.JPG\r\n    */\r\n    public static void main(String[] args) throws Throwable {\r\n        System.loadLibrary(&quot;user32&quot;);\r\n        // BOOL SystemParametersInfoA(UINT uiAction, UINT uiParam, PVOID pvParam, UINT fWinIni);\r\n        MemoryAddress symbol = SymbolLookup.loaderLookup().lookup(&quot;SystemParametersInfoW&quot;).get();\r\n        MethodHandle SystemParametersInfoW = CLinker.getInstance().downcallHandle(symbol\r\n            , MethodType.methodType(int.class,     int.class,      int.class,      MemoryAddress.class, int.class)\r\n            , FunctionDescriptor.of(CLinker.C_LONG,CLinker.C_LONG, CLinker.C_LONG, CLinker.C_POINTER,   CLinker.C_LONG));\r\n\r\n        Path path = Path.of(args[0]).toRealPath();\r\n\r\n        try(ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n            SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\r\n            // toCString as WIDE string\r\n            Addressable wide = allocator.allocateArray(CLinker.C_CHAR, (path+&quot;\\0&quot;).getBytes(StandardCharsets.UTF_16LE));\r\n            int status = (int)SystemParametersInfoW.invokeExact(SPI_SETDESKWALLPAPER, 0, wide.address(), SPIF_UPDATEINIFILE | SPIF_SENDCHANGE);\r\n            System.out.println(&quot;Changed wallpaper to &quot;+path+&quot; rc=&quot;+status+(status == 0 ? &quot; *** ERROR ***&quot;: &quot; OK&quot;));\r\n        }\r\n    }\r\n\r\n  [1]: https://jdk.java.net/panama/","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>Here is a Pure Java implementation which uses <a href=\"https://jdk.java.net/panama/\" rel=\"nofollow noreferrer\">Project Panama</a> to make the native callbacks into Windows USER32.DLL. Note that the API is incubating so has changed between JDK16, 17 and later builds. These samples use the versions of Panama that are in the current JDK16/17 release, some changes may be required if you switch to the latest Panama Early Access builds.</p>\n<pre><code>import java.lang.invoke.*;\nimport java.nio.file.Path;\nimport jdk.incubator.foreign.*;\n\n/**\n %JDK16%\\bin\\java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign SetWallpaper.java A.JPG\n */\npublic class SetWallpaper {\n    static final int SPI_SETDESKWALLPAPER  = 0x0014;\n    static final int SPIF_UPDATEINIFILE    = 0x01;\n    static final int SPIF_SENDCHANGE       = 0x02;\n    public static void main(String[] args) throws Throwable {\n        LibraryLookup user32 = LibraryLookup.ofLibrary(&quot;user32&quot;);\n        MethodHandle spi = CLinker.getInstance().downcallHandle(user32.lookup(&quot;SystemParametersInfoA&quot;).get()\n            // BOOL SystemParametersInfoA         (UINT uiAction,  UINT uiParam,   PVOID pvParam,       UINT fWinIni);\n            , MethodType.methodType(int.class,     int.class,      int.class,      MemoryAddress.class, int.class)\n            , FunctionDescriptor.of(CLinker.C_LONG,CLinker.C_LONG, CLinker.C_LONG, CLinker.C_POINTER,   CLinker.C_LONG));\n    \n        Path path = Path.of(args[0]).toRealPath();\n    \n        try (NativeScope scope = NativeScope.unboundedScope()) {\n            MemorySegment img = CLinker.toCString(path.toString(), scope);\n            int status = (int)spi.invokeExact(SPI_SETDESKWALLPAPER, 0, img.address(), SPIF_UPDATEINIFILE | SPIF_SENDCHANGE);\n            System.out.println(&quot;Changed wallpaper to &quot;+path+&quot; rc=&quot;+status+(status == 0 ? &quot; *** ERROR ***&quot;: &quot; OK&quot;));\n        }\n    }\n}\n</code></pre>\n<p>Small changes needed for JDK17:</p>\n<pre><code>/**\n%JAVA_HOME%\\bin\\java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign SetWallpaper.java A.JPG\n*/\npublic static void main(String[] args) throws Throwable {\n    System.loadLibrary(&quot;user32&quot;);\n    // BOOL SystemParametersInfoA(UINT uiAction, UINT uiParam, PVOID pvParam, UINT fWinIni);\n    MemoryAddress symbol = SymbolLookup.loaderLookup().lookup(&quot;SystemParametersInfoW&quot;).get();\n    MethodHandle SystemParametersInfoW = CLinker.getInstance().downcallHandle(symbol\n        , MethodType.methodType(int.class,     int.class,      int.class,      MemoryAddress.class, int.class)\n        , FunctionDescriptor.of(CLinker.C_LONG,CLinker.C_LONG, CLinker.C_LONG, CLinker.C_POINTER,   CLinker.C_LONG));\n\n    Path path = Path.of(args[0]).toRealPath();\n\n    try(ResourceScope scope = ResourceScope.newConfinedScope()) {\n        SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\n        // toCString as WIDE string\n        Addressable wide = allocator.allocateArray(CLinker.C_CHAR, (path+&quot;\\0&quot;).getBytes(StandardCharsets.UTF_16LE));\n        int status = (int)SystemParametersInfoW.invokeExact(SPI_SETDESKWALLPAPER, 0, wide.address(), SPIF_UPDATEINIFILE | SPIF_SENDCHANGE);\n        System.out.println(&quot;Changed wallpaper to &quot;+path+&quot; rc=&quot;+status+(status == 0 ? &quot; *** ERROR ***&quot;: &quot; OK&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033195,"reputation":26,"user_id":3318571,"display_name":"Shams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655151366,"creation_date":1655151366,"answer_id":72608546,"question_id":4750372,"body_markdown":"Expanding on the answer from @DuncG, here&#39;s an updated solution which uses Project Panama from JDK 18.\r\n\r\n    import jdk.incubator.foreign.*;\r\n    \r\n    import java.lang.invoke.MethodHandle;\r\n    import java.nio.file.Path;\r\n    \r\n    import static jdk.incubator.foreign.ValueLayout.*;\r\n\r\n    public class WindowsOperatingSystem {\r\n        private static final int SPI_SETDESKWALLPAPER  = 0x0014;\r\n        private static final int SPIF_UPDATEINIFILE    = 0x01;\r\n        private static final int SPIF_SENDCHANGE       = 0x02;\r\n    \r\n        private static final MethodHandle systemParametersInfoAFunction;\r\n    \r\n        static {\r\n            System.loadLibrary(&quot;user32&quot;);\r\n            // BOOL SystemParametersInfoA(UINT uiAction, UINT uiParam, PVOID pvParam, UINT fWinIni);\r\n            systemParametersInfoAFunction = CLinker.systemCLinker().downcallHandle(\r\n                    SymbolLookup.loaderLookup().lookup(&quot;SystemParametersInfoA&quot;).get(),\r\n                    FunctionDescriptor.of(JAVA_BOOLEAN, JAVA_INT, JAVA_INT, ADDRESS, JAVA_INT)\r\n            );\r\n        }\r\n    \r\n        public static void setWallpaper(Path file) {\r\n            try (ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n                SegmentAllocator allocator = SegmentAllocator.nativeAllocator(scope);\r\n                Addressable nativeFilePath = allocator.allocateUtf8String(file.toString());\r\n                var result = (boolean)systemParametersInfoAFunction.invokeExact(\r\n                        SPI_SETDESKWALLPAPER,\r\n                        0,\r\n                        nativeFilePath,\r\n                        SPIF_UPDATEINIFILE | SPIF_SENDCHANGE\r\n                );\r\n                if (!result) {\r\n                    throw new IllegalStateException();\r\n                }\r\n            } catch (Error | RuntimeException t) {\r\n                throw t;\r\n            } catch (Throwable t) {\r\n                throw new RuntimeException(t);\r\n            }\r\n        }\r\n    }","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>Expanding on the answer from @DuncG, here's an updated solution which uses Project Panama from JDK 18.</p>\n<pre><code>import jdk.incubator.foreign.*;\n\nimport java.lang.invoke.MethodHandle;\nimport java.nio.file.Path;\n\nimport static jdk.incubator.foreign.ValueLayout.*;\n\npublic class WindowsOperatingSystem {\n    private static final int SPI_SETDESKWALLPAPER  = 0x0014;\n    private static final int SPIF_UPDATEINIFILE    = 0x01;\n    private static final int SPIF_SENDCHANGE       = 0x02;\n\n    private static final MethodHandle systemParametersInfoAFunction;\n\n    static {\n        System.loadLibrary(&quot;user32&quot;);\n        // BOOL SystemParametersInfoA(UINT uiAction, UINT uiParam, PVOID pvParam, UINT fWinIni);\n        systemParametersInfoAFunction = CLinker.systemCLinker().downcallHandle(\n                SymbolLookup.loaderLookup().lookup(&quot;SystemParametersInfoA&quot;).get(),\n                FunctionDescriptor.of(JAVA_BOOLEAN, JAVA_INT, JAVA_INT, ADDRESS, JAVA_INT)\n        );\n    }\n\n    public static void setWallpaper(Path file) {\n        try (ResourceScope scope = ResourceScope.newConfinedScope()) {\n            SegmentAllocator allocator = SegmentAllocator.nativeAllocator(scope);\n            Addressable nativeFilePath = allocator.allocateUtf8String(file.toString());\n            var result = (boolean)systemParametersInfoAFunction.invokeExact(\n                    SPI_SETDESKWALLPAPER,\n                    0,\n                    nativeFilePath,\n                    SPIF_UPDATEINIFILE | SPIF_SENDCHANGE\n            );\n            if (!result) {\n                throw new IllegalStateException();\n            }\n        } catch (Error | RuntimeException t) {\n            throw t;\n        } catch (Throwable t) {\n            throw new RuntimeException(t);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10818,"reputation":1096,"user_id":20605,"accept_rate":100,"display_name":"Matt N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25269,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":4750765,"answer_count":6,"score":17,"last_activity_date":1655151366,"creation_date":1295544138,"question_id":4750372,"body_markdown":"Is there a way I can use Java (or Groovy) to change my desktop wallpaper in Windows XP?  I have a program that creates a new image every day (or whenever) and I would like a way to automatically update my desktop.\r\n\r\nI&#39;ve seem some questions on this site about C++ or .NET, but I did not see anything specific to Java.","title":"Can I change my Windows desktop wallpaper programmatically in Java/Groovy?","body":"<p>Is there a way I can use Java (or Groovy) to change my desktop wallpaper in Windows XP?  I have a program that creates a new image every day (or whenever) and I would like a way to automatically update my desktop.</p>\n\n<p>I've seem some questions on this site about C++ or .NET, but I did not see anything specific to Java.</p>\n"},{"tags":["java","java-module","jmod"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655152184,"post_id":72608538,"comment_id":128259470,"body_markdown":"Does `jar -d -f bouncycastle/bcprov-jdk18on-171.jar` display any module information?","body":"Does <code>jar -d -f bouncycastle&#47;bcprov-jdk18on-171.jar</code> display any module information?"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1655153327,"post_id":72608538,"comment_id":128259805,"body_markdown":"@VGR yes, but only if I add `--release 9` to the jar command.  `jar  -d  -f bouncycastle/bcprov-jdk18on-171.jar --release 9`","body":"@VGR yes, but only if I add <code>--release 9</code> to the jar command.  <code>jar  -d  -f bouncycastle&#47;bcprov-jdk18on-171.jar --release 9</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655153761,"post_id":72608538,"comment_id":128259947,"body_markdown":"Does the manifest of bcprov-jdk18on-171.jar contain a `Multi-Release: true` line?","body":"Does the manifest of bcprov-jdk18on-171.jar contain a <code>Multi-Release: true</code> line?"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1655155255,"post_id":72608538,"comment_id":128260382,"body_markdown":"yes, `Multi-Release: true` is present","body":"yes, <code>Multi-Release: true</code> is present"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1655230334,"post_id":72608538,"comment_id":128281696,"body_markdown":"what if you change the command to use `--module-path ./bouncycastle` instead of the classpath, does that help?","body":"what if you change the command to use <code>--module-path .&#47;bouncycastle</code> instead of the classpath, does that help?"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1655151321,"creation_date":1655151321,"question_id":72608538,"body_markdown":"Attempting to create a .mod file from a jar file.  \r\n\r\n```bash\r\n $JAVA_HOME/bin/jmod create --class-path ./bouncycastle/bcprov-jdk18on-171.jar bouncycastle.mod\r\n```\r\nresults in:\r\n```\r\nError: module-info.class not found\r\njava.io.IOException: module-info.class not found\r\n\tat jdk.jlink/jdk.tools.jmod.JmodTask$JmodFileWriter.writeModuleInfo(JmodTask.java:538)\r\n\tat jdk.jlink/jdk.tools.jmod.JmodTask$JmodFileWriter.write(JmodTask.java:476)\r\n\tat jdk.jlink/jdk.tools.jmod.JmodTask.create(JmodTask.java:433)\r\n\tat jdk.jlink/jdk.tools.jmod.JmodTask.run(JmodTask.java:208)\r\n\tat jdk.jlink/jdk.tools.jmod.Main.main(Main.java:34)\r\n```\r\n\r\nthat classfile does exist though, and it is [valid][1]\r\n\r\n```bash\r\njar -tvf bouncycastle/bcprov-jdk18on-171.jar | grep module\r\n\r\n  7672 Thu Mar 31 10:06:58 PDT 2022 META-INF/versions/9/module-info.class\r\n```\r\n\r\nWhat am I doing wrong here?\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/blob/master/prov/src/main/jdk1.9/module-info.java","title":"jmod: &quot;Error: module-info.class not found&quot; despite it existing in the jar file","body":"<p>Attempting to create a .mod file from a jar file.</p>\n<pre class=\"lang-bash prettyprint-override\"><code> $JAVA_HOME/bin/jmod create --class-path ./bouncycastle/bcprov-jdk18on-171.jar bouncycastle.mod\n</code></pre>\n<p>results in:</p>\n<pre><code>Error: module-info.class not found\njava.io.IOException: module-info.class not found\n    at jdk.jlink/jdk.tools.jmod.JmodTask$JmodFileWriter.writeModuleInfo(JmodTask.java:538)\n    at jdk.jlink/jdk.tools.jmod.JmodTask$JmodFileWriter.write(JmodTask.java:476)\n    at jdk.jlink/jdk.tools.jmod.JmodTask.create(JmodTask.java:433)\n    at jdk.jlink/jdk.tools.jmod.JmodTask.run(JmodTask.java:208)\n    at jdk.jlink/jdk.tools.jmod.Main.main(Main.java:34)\n</code></pre>\n<p>that classfile does exist though, and it is <a href=\"https://github.com/bcgit/bc-java/blob/master/prov/src/main/jdk1.9/module-info.java\" rel=\"nofollow noreferrer\">valid</a></p>\n<pre class=\"lang-bash prettyprint-override\"><code>jar -tvf bouncycastle/bcprov-jdk18on-171.jar | grep module\n\n  7672 Thu Mar 31 10:06:58 PDT 2022 META-INF/versions/9/module-info.class\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","aws-lambda","graalvm-native-image","quarkus-native"],"answers":[{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651273668,"creation_date":1651273668,"answer_id":72064464,"question_id":72064463,"body_markdown":"I choosed the wrong runtime setting:\r\n\r\n* **Lambda -&gt; Code -&gt; runtime settings -&gt; &quot;Custom runtime on Amazon Linux 2&quot; or &quot;Custom runtime&quot; instead of Java11**\r\n\r\n(Still curios about:\r\n* the 2 different custom runtimes because both of them work. [Documentation][1] couldn&#39;t help me here\r\n* how does GraalVM / Quarkus know about my target environmet for the ahead of time compiliation?\r\n  * yes, command line tells &quot;native&quot; but which docker image is fetched to build the stuff?  )\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html","title":"Quarkus GraalVM native build fails in AWS Lambda with ClassNotFoundException","body":"<p>I choosed the wrong runtime setting:</p>\n<ul>\n<li><strong>Lambda -&gt; Code -&gt; runtime settings -&gt; &quot;Custom runtime on Amazon Linux 2&quot; or &quot;Custom runtime&quot; instead of Java11</strong></li>\n</ul>\n<p>(Still curios about:</p>\n<ul>\n<li>the 2 different custom runtimes because both of them work. <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html\" rel=\"nofollow noreferrer\">Documentation</a> couldn't help me here</li>\n<li>how does GraalVM / Quarkus know about my target environmet for the ahead of time compiliation?\n<ul>\n<li>yes, command line tells &quot;native&quot; but which docker image is fetched to build the stuff?  )</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655151166,"creation_date":1655151166,"answer_id":72608520,"question_id":72064463,"body_markdown":"Quarkus will produce a special zip file when it&#39;s targeting AWS Lambda. If you open it you will see a bootstrap file. The bootstrap file is only used with the custom runtimes. The custom runtimes know to execute that when they start up.\r\n\r\nIf you deploy a native executable to a Java-managed runtime by mistake then the JVM will not be able to find your handler method because it isn&#39;t a class on the classpath but a native executable instead.\r\n\r\nQuarkus knows how to package your Lambda function this way because you&#39;ve used the amazon-lambda extension.\r\n","title":"Quarkus GraalVM native build fails in AWS Lambda with ClassNotFoundException","body":"<p>Quarkus will produce a special zip file when it's targeting AWS Lambda. If you open it you will see a bootstrap file. The bootstrap file is only used with the custom runtimes. The custom runtimes know to execute that when they start up.</p>\n<p>If you deploy a native executable to a Java-managed runtime by mistake then the JVM will not be able to find your handler method because it isn't a class on the classpath but a native executable instead.</p>\n<p>Quarkus knows how to package your Lambda function this way because you've used the amazon-lambda extension.</p>\n"}],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655151166,"creation_date":1651273668,"question_id":72064463,"body_markdown":"I want to create a java project with quarkus and want to use GraalVm for ahead of time compilation to lower cold startup times in AWS lambda. \r\n\r\nWhen I deploy it in AWS Lambda and run Test I get the following error:\r\n\r\n    Class not found: de.timguy.lambda.GreetingLambda: java.lang.ClassNotFoundException\r\n    \tjava.lang.ClassNotFoundException: de.timguy.lambda.GreetingLambda. Current classpath: file:/var/task/\r\n\r\n**Steps I took**\r\n\r\n\r\n* Create project: https://code.quarkus.io/?g=de.timguy&amp;a=quark2&amp;b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;e=amazon-lambda&amp;extension-search=lambda\r\n\r\n  * Quarkus version: 2.8.2.Final (gradle.properties)\r\n* gradlew build -Dquarkus.package.type=native -Dquarkus.native.container-build=true\r\n\r\n\r\n&gt;     Version info: GraalVM 22.0.0.2 Java 11 CE\r\n&gt;      3 user-provided feature(s)\r\n&gt;       - io.quarkus.runner.AutoFeature\r\n&gt;       - io.quarkus.runtime.graal.DisableLoggingAutoFeature\r\n&gt;       - io.quarkus.runtime.graal.ResourcesFeature    \r\n&gt;     Produced artifacts:\r\n&gt;      /project/quark2-1.0.0-SNAPSHOT-runner (executable)\r\n&gt;      /project/quark2-1.0.0-SNAPSHOT-runner.build_artifacts.txt\r\n&gt;     \r\n&gt;     Finished generating &#39;quark2-1.0.0-SNAPSHOT-runner&#39; in 11m 54s.\r\n&gt;     \r\n&gt;     BUILD SUCCESSFUL in 12m 52s\r\n\r\n \r\n* AWS - create function &quot;quark2&quot;\r\n  * runtime &quot;Java 11 Coretto&quot;\r\n  * Edit runtime setting: Handler = de.timguy.lambda.GreetingLambda\r\n  * Upload quark2/build/runner.zip via S3\r\n  * Test -&gt; ClassNotFoundException (see complete error at top)","title":"Quarkus GraalVM native build fails in AWS Lambda with ClassNotFoundException","body":"<p>I want to create a java project with quarkus and want to use GraalVm for ahead of time compilation to lower cold startup times in AWS lambda.</p>\n<p>When I deploy it in AWS Lambda and run Test I get the following error:</p>\n<pre><code>Class not found: de.timguy.lambda.GreetingLambda: java.lang.ClassNotFoundException\n    java.lang.ClassNotFoundException: de.timguy.lambda.GreetingLambda. Current classpath: file:/var/task/\n</code></pre>\n<p><strong>Steps I took</strong></p>\n<ul>\n<li><p>Create project: <a href=\"https://code.quarkus.io/?g=de.timguy&amp;a=quark2&amp;b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;e=amazon-lambda&amp;extension-search=lambda\" rel=\"nofollow noreferrer\">https://code.quarkus.io/?g=de.timguy&amp;a=quark2&amp;b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;e=amazon-lambda&amp;extension-search=lambda</a></p>\n<ul>\n<li>Quarkus version: 2.8.2.Final (gradle.properties)</li>\n</ul>\n</li>\n<li><p>gradlew build -Dquarkus.package.type=native -Dquarkus.native.container-build=true</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>Version info: GraalVM 22.0.0.2 Java 11 CE\n 3 user-provided feature(s)\n  - io.quarkus.runner.AutoFeature\n  - io.quarkus.runtime.graal.DisableLoggingAutoFeature\n  - io.quarkus.runtime.graal.ResourcesFeature    \nProduced artifacts:\n /project/quark2-1.0.0-SNAPSHOT-runner (executable)\n /project/quark2-1.0.0-SNAPSHOT-runner.build_artifacts.txt\n\nFinished generating 'quark2-1.0.0-SNAPSHOT-runner' in 11m 54s.\n\nBUILD SUCCESSFUL in 12m 52s\n</code></pre>\n</blockquote>\n<ul>\n<li>AWS - create function &quot;quark2&quot;\n<ul>\n<li>runtime &quot;Java 11 Coretto&quot;</li>\n<li>Edit runtime setting: Handler = de.timguy.lambda.GreetingLambda</li>\n<li>Upload quark2/build/runner.zip via S3</li>\n<li>Test -&gt; ClassNotFoundException (see complete error at top)</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","recursion","arraylist","subsequence"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655057772,"post_id":72594663,"comment_id":128234935,"body_markdown":"Can you clarify your program requirements? When you run it with input `{1, 3, 2}`, what output do you see? What is the expected output?","body":"Can you clarify your program requirements? When you run it with input <code>{1, 3, 2}</code>, what output do you see? What is the expected output?"},{"owner":{"account_id":12439965,"reputation":136,"user_id":9058664,"display_name":"Edd"},"score":0,"creation_date":1655058814,"post_id":72594663,"comment_id":128235150,"body_markdown":"There is an algorithm for generating all subsequences of a string using recursion here: https://www.geeksforgeeks.org/recursive-program-to-generate-power-set/ With minimal adjustment you can make it work for your situation.","body":"There is an algorithm for generating all subsequences of a string using recursion here: <a href=\"https://www.geeksforgeeks.org/recursive-program-to-generate-power-set/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/recursive-program-to-generate-power-set</a> With minimal adjustment you can make it work for your situation."},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":0,"creation_date":1655062687,"post_id":72594663,"comment_id":128235881,"body_markdown":"i guess you want an output like:\n{1}\n{1,3}\n{1,3,2}\nto achieve this you have to go throw the list and not print the list object at once, cause this will only print the default toString return value of the ArrayList-class\nwhat got me wondering is that you have two new arraylists in the method m and call m twice in it!? what to you want to achieve with this?","body":"i guess you want an output like: {1} {1,3} {1,3,2} to achieve this you have to go throw the list and not print the list object at once, cause this will only print the default toString return value of the ArrayList-class what got me wondering is that you have two new arraylists in the method m and call m twice in it!? what to you want to achieve with this?"},{"owner":{"account_id":25538758,"reputation":3,"user_id":19325284,"display_name":"Sourabh Gayake"},"score":0,"creation_date":1655149244,"post_id":72594663,"comment_id":128258635,"body_markdown":"@kaan I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. Logic is perfectly right and hence getting first 3 outputs right. But after that there is problem with input list ip. It is keeping elements of previous function call in it.","body":"@kaan I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. Logic is perfectly right and hence getting first 3 outputs right. But after that there is problem with input list ip. It is keeping elements of previous function call in it."},{"owner":{"account_id":25538758,"reputation":3,"user_id":19325284,"display_name":"Sourabh Gayake"},"score":0,"creation_date":1655149365,"post_id":72594663,"comment_id":128258671,"body_markdown":"@Sebastian  I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. I have used 2 list to achieve tree where I choose one element in one list and dont choose that element in other list.","body":"@Sebastian  I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. I have used 2 list to achieve tree where I choose one element in one list and dont choose that element in other list."},{"owner":{"account_id":25538758,"reputation":3,"user_id":19325284,"display_name":"Sourabh Gayake"},"score":0,"creation_date":1655149476,"post_id":72594663,"comment_id":128258694,"body_markdown":"@Edd I have checked that code. My logic is also perfectly right. But problem is I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. I am getting first 3 outputs right. But after that there is problem with input list ip. It is keeping elements of previous function call in it.","body":"@Edd I have checked that code. My logic is also perfectly right. But problem is I want output as {}{2},{3},{3,2},{1},{1,2}, {1,3},{1,3,2}. But output is {},{2},{3},{1}. I am getting first 3 outputs right. But after that there is problem with input list ip. It is keeping elements of previous function call in it."}],"answers":[{"tags":[],"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655151098,"creation_date":1655151098,"answer_id":72608516,"question_id":72594663,"body_markdown":"The problem is not, like you said in your comment, that the list ip keeps elements of the previous function call. The problem is that you don&#39;t create a new arraylist as ip parameter for the next function call, meaning, as it is call by reference, that you remove the elements of one function call already in the other function call. You can fix this by just creating a new array list for the new function call, like you already to for op. However you could also use this:\r\n\r\n     m(l2,new ArrayList&lt;&gt;(ip));\r\n     m(l1,new ArrayList&lt;&gt;(ip));\r\nso you don&#39;t have to use an extra addAll() ;)","title":"printing all subsequences of an array using recursion in JAVA","body":"<p>The problem is not, like you said in your comment, that the list ip keeps elements of the previous function call. The problem is that you don't create a new arraylist as ip parameter for the next function call, meaning, as it is call by reference, that you remove the elements of one function call already in the other function call. You can fix this by just creating a new array list for the new function call, like you already to for op. However you could also use this:</p>\n<pre><code> m(l2,new ArrayList&lt;&gt;(ip));\n m(l1,new ArrayList&lt;&gt;(ip));\n</code></pre>\n<p>so you don't have to use an extra addAll() ;)</p>\n"}],"owner":{"account_id":25538758,"reputation":3,"user_id":19325284,"display_name":"Sourabh Gayake"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72608516,"answer_count":1,"score":0,"last_activity_date":1655151098,"creation_date":1655056878,"question_id":72594663,"body_markdown":"The following code for above requirement. However I am not getting proper output. There is problem with input list that I am passing in recursion\r\n\r\n    \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class abc\r\n{\r\n\t\r\n\tpublic static void m(ArrayList&lt;Integer&gt; op, ArrayList&lt;Integer&gt; ip) {\r\n\t   if(ip.size()==0) {\r\n\t\t   System.out.println(op);\r\n\t\t   return;\r\n\t   }\r\n\t   ArrayList&lt;Integer&gt; l1=new ArrayList&lt;Integer&gt;();\r\n\t   ArrayList&lt;Integer&gt; l2=new ArrayList&lt;Integer&gt;();\r\n\t   l1.addAll(op);\r\n\t   l2.addAll(op);\r\n\t   l1.add(ip.get(0));\r\n\t   ip.remove(0);\r\n\t   m(l2,ip);\r\n\t   m(l1,ip);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n        Integer [] z = {1,3,2};\r\n        ArrayList&lt;Integer&gt; ip=new ArrayList&lt;Integer&gt;();\r\n        Collections.addAll(ip, z);\r\n        ArrayList&lt;Integer&gt; op=new ArrayList&lt;Integer&gt;();\r\n        m(op,ip);\r\n    }\r\n}\r\n","title":"printing all subsequences of an array using recursion in JAVA","body":"<p>The following code for above requirement. However I am not getting proper output. There is problem with input list that I am passing in recursion</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class abc\n{\n    \n    public static void m(ArrayList&lt;Integer&gt; op, ArrayList&lt;Integer&gt; ip) {\n       if(ip.size()==0) {\n           System.out.println(op);\n           return;\n       }\n       ArrayList&lt;Integer&gt; l1=new ArrayList&lt;Integer&gt;();\n       ArrayList&lt;Integer&gt; l2=new ArrayList&lt;Integer&gt;();\n       l1.addAll(op);\n       l2.addAll(op);\n       l1.add(ip.get(0));\n       ip.remove(0);\n       m(l2,ip);\n       m(l1,ip);\n    }\n\n    public static void main(String[] args) {\n        Integer [] z = {1,3,2};\n        ArrayList&lt;Integer&gt; ip=new ArrayList&lt;Integer&gt;();\n        Collections.addAll(ip, z);\n        ArrayList&lt;Integer&gt; op=new ArrayList&lt;Integer&gt;();\n        m(op,ip);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":2,"creation_date":1655149100,"post_id":72608177,"comment_id":128258582,"body_markdown":"Can you show your code instead of the JSON?","body":"Can you show your code instead of the JSON?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1655149435,"post_id":72608177,"comment_id":128258683,"body_markdown":"Okay, maybe I&#39;m not getting something.. Where do you add a `Property` entity to the collection inside `Tenant`?","body":"Okay, maybe I&#39;m not getting something.. Where do you add a <code>Property</code> entity to the collection inside <code>Tenant</code>?"},{"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"score":0,"creation_date":1655149655,"post_id":72608177,"comment_id":128258742,"body_markdown":"@StanislavBashkyrtsev it comes inside a post request","body":"@StanislavBashkyrtsev it comes inside a post request"}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655150561,"creation_date":1655150561,"answer_id":72608431,"question_id":72608177,"body_markdown":"Cascading is when you have 2 entities, and you want both of them to be `UPDATE`ed / `INSERT`ed / whatever even though you did something only to one of them explicitly. Your question doesn&#39;t really relate to cascading - because you want to INSERT one entity, but UPDATE another one.\r\n\r\nNow, you put a `mappedBy` on the `Tenant.properties`. This means that `Property` will be the owning entity - it&#39;s responsible for saving the connection between these 2 entities.\r\n\r\nIt means that you need to retrieve `Property` from DB and set `Tenant` to it. Then when saving `Property` you&#39;ll get your Foreign Key filled.","title":"Spring JPA/Hibernate - OneToMany bi-directional problem","body":"<p>Cascading is when you have 2 entities, and you want both of them to be <code>UPDATE</code>ed / <code>INSERT</code>ed / whatever even though you did something only to one of them explicitly. Your question doesn't really relate to cascading - because you want to INSERT one entity, but UPDATE another one.</p>\n<p>Now, you put a <code>mappedBy</code> on the <code>Tenant.properties</code>. This means that <code>Property</code> will be the owning entity - it's responsible for saving the connection between these 2 entities.</p>\n<p>It means that you need to retrieve <code>Property</code> from DB and set <code>Tenant</code> to it. Then when saving <code>Property</code> you'll get your Foreign Key filled.</p>\n"}],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72608431,"answer_count":1,"score":0,"last_activity_date":1655150561,"creation_date":1655148813,"question_id":72608177,"body_markdown":"I&#39;ve encountered this problem that won&#39;t let me sleep\r\n\r\nI have 2 entities\r\nProperty and Tenant\r\n\r\neach property can have 0..1 tenant, each tenant can have 1..N properties\r\n\r\n```\r\n// some annotations\r\npublic class Tenant {\r\n\r\n  // more fields\r\n\r\n  @OneToMany(mappedBy = &quot;tenant&quot;, cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n  private Set&lt;Property&gt; properties = new HashSet&lt;&gt;();\r\n\r\n}\r\n\r\n// some annotations\r\npublic class Property {\r\n\r\n  // more fields\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  private Tenant tenant;\r\n\r\n}\r\n```\r\n\r\nwhat am I trying to accomplish is when I create a new tenant, using cascading I want to attach it to an existing property\r\n\r\nsaving is done via JpaRepository.save(Tenant)\r\n\r\nfor example\r\nfirst I create new Property\r\n\r\n```\r\n{\r\n  // more fields\r\n  &quot;tenant&quot;: null\r\n}\r\n```\r\n\r\nthen sometime later I decide I want to create a tenant for this property\r\n```\r\n{\r\n  // more fields\r\n  &quot;properties&quot;: [\r\n    {\r\n      &quot;id&quot;: 1, // property id I want to create this tenant for\r\n      &quot;tenant&quot;: null\r\n    }  \r\n  ]\r\n}\r\n```\r\n\r\nI believe I&#39;ve tried every cascade type (except ALL and PERSIST, these 2 can&#39;t be used with detached entities)\r\n\r\nHow would it be possible to synchronize a newly created tenant with an already existing property?\r\n\r\nI read about this that CascadeType.MERGE should do the trick but it does not for me\r\n\r\nAny help is appreciated\r\nThanks in advance\r\n\r\n\r\nedit: all getters and setters are generated by lombok\r\n\r\nrest resource for saving\r\n```\r\n  @PostMapping\r\n  public ResponseEntity&lt;Void&gt; saveTenant(\r\n      @Valid @RequestBody TenantDto tenantDto, UriComponentsBuilder uriComponentsBuilder) {\r\n    log.info(tenantDto.toString());\r\n    Long id = tenantService.saveTenant(tenantDto);\r\n    URI location = uriComponentsBuilder.path(&quot;/api/tenants/{id}&quot;).buildAndExpand(id).toUri();\r\n    return ResponseEntity.created(location).build();\r\n  }\r\n```\r\n\r\nservice\r\n```\r\n  @Override\r\n  public Long saveTenant(TenantDto tenantDto) {\r\n    // mapstruct mapping\r\n    return tenantRepository.save(tenantMapper.toEntity(tenantDto)).getId();\r\n  }\r\n```\r\n\r\nrepo\r\n```\r\n@Repository\r\npublic interface TenantRepository extends JpaRepository&lt;Tenant, Long&gt; {}\r\n```","title":"Spring JPA/Hibernate - OneToMany bi-directional problem","body":"<p>I've encountered this problem that won't let me sleep</p>\n<p>I have 2 entities\nProperty and Tenant</p>\n<p>each property can have 0..1 tenant, each tenant can have 1..N properties</p>\n<pre><code>// some annotations\npublic class Tenant {\n\n  // more fields\n\n  @OneToMany(mappedBy = &quot;tenant&quot;, cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n  private Set&lt;Property&gt; properties = new HashSet&lt;&gt;();\n\n}\n\n// some annotations\npublic class Property {\n\n  // more fields\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  private Tenant tenant;\n\n}\n</code></pre>\n<p>what am I trying to accomplish is when I create a new tenant, using cascading I want to attach it to an existing property</p>\n<p>saving is done via JpaRepository.save(Tenant)</p>\n<p>for example\nfirst I create new Property</p>\n<pre><code>{\n  // more fields\n  &quot;tenant&quot;: null\n}\n</code></pre>\n<p>then sometime later I decide I want to create a tenant for this property</p>\n<pre><code>{\n  // more fields\n  &quot;properties&quot;: [\n    {\n      &quot;id&quot;: 1, // property id I want to create this tenant for\n      &quot;tenant&quot;: null\n    }  \n  ]\n}\n</code></pre>\n<p>I believe I've tried every cascade type (except ALL and PERSIST, these 2 can't be used with detached entities)</p>\n<p>How would it be possible to synchronize a newly created tenant with an already existing property?</p>\n<p>I read about this that CascadeType.MERGE should do the trick but it does not for me</p>\n<p>Any help is appreciated\nThanks in advance</p>\n<p>edit: all getters and setters are generated by lombok</p>\n<p>rest resource for saving</p>\n<pre><code>  @PostMapping\n  public ResponseEntity&lt;Void&gt; saveTenant(\n      @Valid @RequestBody TenantDto tenantDto, UriComponentsBuilder uriComponentsBuilder) {\n    log.info(tenantDto.toString());\n    Long id = tenantService.saveTenant(tenantDto);\n    URI location = uriComponentsBuilder.path(&quot;/api/tenants/{id}&quot;).buildAndExpand(id).toUri();\n    return ResponseEntity.created(location).build();\n  }\n</code></pre>\n<p>service</p>\n<pre><code>  @Override\n  public Long saveTenant(TenantDto tenantDto) {\n    // mapstruct mapping\n    return tenantRepository.save(tenantMapper.toEntity(tenantDto)).getId();\n  }\n</code></pre>\n<p>repo</p>\n<pre><code>@Repository\npublic interface TenantRepository extends JpaRepository&lt;Tenant, Long&gt; {}\n</code></pre>\n"},{"tags":["java","spring","logback"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1655148294,"post_id":72607692,"comment_id":128258344,"body_markdown":"https://stackoverflow.com/questions/24180772/logback-logger-logging-twice has some answers that may help.","body":"<a href=\"https://stackoverflow.com/questions/24180772/logback-logger-logging-twice\" title=\"logback logger logging twice\">stackoverflow.com/questions/24180772/&hellip;</a> has some answers that may help."},{"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"score":0,"creation_date":1655150617,"post_id":72607692,"comment_id":128258983,"body_markdown":"@j_b I have followed that question&#39;s answers and still get duplicated logs (I even copied the additivity=&quot;false&quot; from one answer)","body":"@j_b I have followed that question&#39;s answers and still get duplicated logs (I even copied the additivity=&quot;false&quot; from one answer)"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655150326,"creation_date":1655150326,"answer_id":72608392,"question_id":72607692,"body_markdown":"Using your exact configuration (minus a postgres implementation) I get but a single log entry.  I suspect that the postgres logger is doing this for you.  Try disabling it and see what happens, then you can dive in to its configuration\r\n\r\n\r\n    &lt;logger name=&quot;org.postgresql&quot; level=&quot;OFF&quot;/&gt;`\r\n","title":"Spring sending logs twice to syslog server","body":"<p>Using your exact configuration (minus a postgres implementation) I get but a single log entry.  I suspect that the postgres logger is doing this for you.  Try disabling it and see what happens, then you can dive in to its configuration</p>\n<pre><code>&lt;logger name=&quot;org.postgresql&quot; level=&quot;OFF&quot;/&gt;`\n</code></pre>\n"}],"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655150326,"creation_date":1655146041,"question_id":72607692,"body_markdown":"I have a spring application with the following logback config file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;PAPERTRAIL_LOGGER&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender name=&quot;PAPERTRAIL&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\r\n            &lt;syslogHost&gt;[HOST]&lt;/syslogHost&gt;\r\n            &lt;port&gt;[PORT]&lt;/port&gt;\r\n            &lt;facility&gt;user&lt;/facility&gt;\r\n            &lt;suffixPattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] %clr(%5p) KOCH --- %ex{full}&lt;/suffixPattern&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/logger&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nBut when I send a log message with the following code:\r\n\r\n```\r\nLoggerFactory.getLogger(&quot;PAPERTRAIL_LOGGER&quot;).error(&quot;Error: &quot;, throwable);\r\n```\r\n\r\nSpring is sending two set of messages, one formatted by the suffixPattern provided:\r\n```\r\nJun 13 10:45:04 DEVLINUSCUA03 DEVLINUSCUA03 [2022-06-13 14:45:04.320] ERROR KOCH --- org.postgresql.util.PSQLException: ERROR: relation &quot;forcederror&quot; does not exist   Position: 15 \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) [...]\r\n```\r\n\r\nand another broken in lines:\r\n```\r\nJun 13 10:45:04 DEVLINUSCUA03 org.postgresql.util.PSQLException ERROR: relation &quot;forcederror&quot; does not exist   Position: 15\r\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\r\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\r\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\r\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\r\n[...]\r\n```\r\n\r\nHow can I make it for spring to not send the second message to the syslog server?","title":"Spring sending logs twice to syslog server","body":"<p>I have a spring application with the following logback config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\n\n    &lt;logger name=&quot;PAPERTRAIL_LOGGER&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender name=&quot;PAPERTRAIL&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\n            &lt;syslogHost&gt;[HOST]&lt;/syslogHost&gt;\n            &lt;port&gt;[PORT]&lt;/port&gt;\n            &lt;facility&gt;user&lt;/facility&gt;\n            &lt;suffixPattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] %clr(%5p) KOCH --- %ex{full}&lt;/suffixPattern&gt;\n        &lt;/appender&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>But when I send a log message with the following code:</p>\n<pre><code>LoggerFactory.getLogger(&quot;PAPERTRAIL_LOGGER&quot;).error(&quot;Error: &quot;, throwable);\n</code></pre>\n<p>Spring is sending two set of messages, one formatted by the suffixPattern provided:</p>\n<pre><code>Jun 13 10:45:04 DEVLINUSCUA03 DEVLINUSCUA03 [2022-06-13 14:45:04.320] ERROR KOCH --- org.postgresql.util.PSQLException: ERROR: relation &quot;forcederror&quot; does not exist   Position: 15     at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)   at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) [...]\n</code></pre>\n<p>and another broken in lines:</p>\n<pre><code>Jun 13 10:45:04 DEVLINUSCUA03 org.postgresql.util.PSQLException ERROR: relation &quot;forcederror&quot; does not exist   Position: 15\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\n Jun 13 10:45:04 DEVLINUSCUA03 at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\n[...]\n</code></pre>\n<p>How can I make it for spring to not send the second message to the syslog server?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":10157288,"reputation":484,"user_id":9661573,"display_name":"Moish"},"score":0,"creation_date":1655146026,"post_id":72606047,"comment_id":128257592,"body_markdown":"Please clarify your question. You have shared with us the input and desired output and some code. What is your problem? Do you have a logical error, compilation error, etc...? Be specific about what your asking please","body":"Please clarify your question. You have shared with us the input and desired output and some code. What is your problem? Do you have a logical error, compilation error, etc...? Be specific about what your asking please"},{"owner":{"account_id":25546148,"reputation":1,"user_id":19331436,"display_name":"Lyra "},"score":0,"creation_date":1655169315,"post_id":72606047,"comment_id":128262785,"body_markdown":"@Moish my problem is when the data input changes, the columns would misplace e.g. PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx would be xxx,xxx,xxx instead of xxx,xxx, , ,xxx","body":"@Moish my problem is when the data input changes, the columns would misplace e.g. PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx would be xxx,xxx,xxx instead of xxx,xxx, , ,xxx"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655150255,"creation_date":1655150255,"answer_id":72608378,"question_id":72606047,"body_markdown":"Maybe something like this?\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    import java.util.stream.*;\r\n    import java.io.Reader;\r\n    import java.io.StringReader;\r\n    import java.io.PrintWriter;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class LogParser {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String logFileString = &quot;&quot;&quot;\r\n    2022-06-06 9:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.l=xxx&amp;PT.m=xxx&amp;PT.n=xxx&amp;PT.o=xxx&amp;PT.p=xxx&amp;PT.q=xxx&amp;PT.r=xxx&amp;PT.s=xxx&amp;PT.t=xxx&amp;PT.u=xxx&amp;PT.v=xxx&amp;PT.w=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\r\n     2022-06-06 10:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=xxx&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\r\n     2022-06-06 11:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\r\n     2022-06-06 12:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\r\n                &quot;&quot;&quot;;                \r\n                LogParser logParser = new LogParser();\r\n                // Usage java LogParser [input file] [ouput csv file]\r\n                // Usage java LogParser \r\n                // The latter will just run the demo data in the app to stdout\r\n                if (args.length &lt; 2) {\r\n                    try (PrintWriter out = new PrintWriter(System.out)) {\r\n                        logParser.logFile2Csv(new StringReader(logFileString), out);\r\n                    }\r\n                }\r\n                else {\r\n                    Path logFile = Paths.get(args[0]);\r\n                    Path csvFile = Paths.get(args[1]);\r\n                    try (Reader in = Files.newBufferedReader(logFile)) {\r\n                        try (PrintWriter out = new PrintWriter(Files.newBufferedWriter(csvFile))) {\r\n                            logParser.logFile2Csv(in, out);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void logFile2Csv(Reader logReader, PrintWriter csvPrinter) {\r\n            final String SPLIT_PAT = &quot;&amp;?PT\\\\.[a-z]+=&quot;;\r\n            Scanner lines = new Scanner(logReader);\r\n            while (lines.hasNextLine()) {\r\n                String[] fields = lines.nextLine().split(SPLIT_PAT);\r\n                String outLine = Arrays.stream(fields).map(String::trim).collect(Collectors.joining(&quot;,&quot;));\r\n                csvPrinter.println(outLine);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Parse log to csv with Java","body":"<p>Maybe something like this?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nimport java.util.stream.*;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.io.PrintWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class LogParser {\n    public static void main(String[] args) {\n        try {\n            String logFileString = &quot;&quot;&quot;\n2022-06-06 9:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.l=xxx&amp;PT.m=xxx&amp;PT.n=xxx&amp;PT.o=xxx&amp;PT.p=xxx&amp;PT.q=xxx&amp;PT.r=xxx&amp;PT.s=xxx&amp;PT.t=xxx&amp;PT.u=xxx&amp;PT.v=xxx&amp;PT.w=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\n 2022-06-06 10:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=xxx&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\n 2022-06-06 11:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\n 2022-06-06 12:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\n            &quot;&quot;&quot;;                \n            LogParser logParser = new LogParser();\n            // Usage java LogParser [input file] [ouput csv file]\n            // Usage java LogParser \n            // The latter will just run the demo data in the app to stdout\n            if (args.length &lt; 2) {\n                try (PrintWriter out = new PrintWriter(System.out)) {\n                    logParser.logFile2Csv(new StringReader(logFileString), out);\n                }\n            }\n            else {\n                Path logFile = Paths.get(args[0]);\n                Path csvFile = Paths.get(args[1]);\n                try (Reader in = Files.newBufferedReader(logFile)) {\n                    try (PrintWriter out = new PrintWriter(Files.newBufferedWriter(csvFile))) {\n                        logParser.logFile2Csv(in, out);\n                    }\n                }\n            }\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public void logFile2Csv(Reader logReader, PrintWriter csvPrinter) {\n        final String SPLIT_PAT = &quot;&amp;?PT\\\\.[a-z]+=&quot;;\n        Scanner lines = new Scanner(logReader);\n        while (lines.hasNextLine()) {\n            String[] fields = lines.nextLine().split(SPLIT_PAT);\n            String outLine = Arrays.stream(fields).map(String::trim).collect(Collectors.joining(&quot;,&quot;));\n            csvPrinter.println(outLine);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25546148,"reputation":1,"user_id":19331436,"display_name":"Lyra "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655150255,"creation_date":1655137345,"question_id":72606047,"body_markdown":"I am trying to parse my log file and export to csv with given regex patterns, but changes happen in data inputs, how can I find the patterns accurately and write into csv file.\r\n\r\nPatterns: (PT.a=.PT=b, ...) ends with &amp;\r\n\r\nlog file:\r\n```\r\n 2022-06-06 9:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.l=xxx&amp;PT.m=xxx&amp;PT.n=xxx&amp;PT.o=xxx&amp;PT.p=xxx&amp;PT.q=xxx&amp;PT.r=xxx&amp;PT.s=xxx&amp;PT.t=xxx&amp;PT.u=xxx&amp;PT.v=xxx&amp;PT.w=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\r\n 2022-06-06 10:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=xxx&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\r\n 2022-06-06 11:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\r\n 2022-06-06 12:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\r\n```\r\ncsv output \r\n\r\n```\r\n 2022-06-9:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\r\n 2022-06-06 10:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\r\n 2022-06-06,12:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\r\n 2022-06-06 11:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\r\n 2022-06-06,12:09:07,xxx,xxx,,,xxx,xxx,xxx,xxx,xxx\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class readLog {\r\n    public static void main(String[] args) {\r\n        try{\r\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/Users/user/Desktop/log0601.log&quot;));\r\n            FileWriter out = new FileWriter(&quot;/Users/user/Desktop/csv0601.csv&quot;);\r\n            String str;\r\n            while((str=in.readLine()) != null) {\r\n                str = str.replaceAll(&quot; PT.a=|PT.b=|PT.c=|PT.d|PT.e=|PT.f=|PT.g=|PT.h=|PT.i=|PT.j=|PT.k=|PT.l=|PT.m=|PT.n=|PT.o|PT.p=|PT.q=|PT.r=|PT.s=|PT.t=|PT.u=|PT.v=|PT.w=|PT.x=|PT.y=|PT.z=|PT.ab=|PT.ac=|PT.ad=|PT.ae=|PT.af=| &quot;, &quot;,&quot;).replace(&quot;&amp;&quot;,&quot;&quot;);\r\n                System.out.println(str);\r\n                out.write(str);\r\n                out.append(&quot;\\n&quot;);\r\n            }\r\n            out.close();\r\n        }\r\n    \r\n        catch (IOException e) {\r\n        }\r\n    }\r\n    \r\n}\r\n```","title":"Parse log to csv with Java","body":"<p>I am trying to parse my log file and export to csv with given regex patterns, but changes happen in data inputs, how can I find the patterns accurately and write into csv file.</p>\n<p>Patterns: (PT.a=.PT=b, ...) ends with &amp;</p>\n<p>log file:</p>\n<pre><code> 2022-06-06 9:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.l=xxx&amp;PT.m=xxx&amp;PT.n=xxx&amp;PT.o=xxx&amp;PT.p=xxx&amp;PT.q=xxx&amp;PT.r=xxx&amp;PT.s=xxx&amp;PT.t=xxx&amp;PT.u=xxx&amp;PT.v=xxx&amp;PT.w=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\n 2022-06-06 10:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=xxx&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx&amp;PT.j=xxx&amp;PT.k=xxx&amp;PT.x=xxx&amp;PT.y=xxx&amp;PT.z=xxx&amp;PT.ab=xxx&amp;PT.ac=xxx&amp;PT.ad=xxx&amp;PT.ae=xxx&amp;PT.af=xxx\n 2022-06-06 11:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.c=&amp;PT.d=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\n 2022-06-06 12:09:07 PT.a=xxx&amp;PT.b=xxx&amp;PT.e=xxx&amp;PT.f=xxx&amp;PT.g=xxx&amp;PT.h=xxx&amp;PT.i=xxx\n</code></pre>\n<p>csv output</p>\n<pre><code> 2022-06-9:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\n 2022-06-06 10:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\n 2022-06-06,12:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\n 2022-06-06 11:09:07,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx,xxx\n 2022-06-06,12:09:07,xxx,xxx,,,xxx,xxx,xxx,xxx,xxx\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class readLog {\n    public static void main(String[] args) {\n        try{\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/Users/user/Desktop/log0601.log&quot;));\n            FileWriter out = new FileWriter(&quot;/Users/user/Desktop/csv0601.csv&quot;);\n            String str;\n            while((str=in.readLine()) != null) {\n                str = str.replaceAll(&quot; PT.a=|PT.b=|PT.c=|PT.d|PT.e=|PT.f=|PT.g=|PT.h=|PT.i=|PT.j=|PT.k=|PT.l=|PT.m=|PT.n=|PT.o|PT.p=|PT.q=|PT.r=|PT.s=|PT.t=|PT.u=|PT.v=|PT.w=|PT.x=|PT.y=|PT.z=|PT.ab=|PT.ac=|PT.ad=|PT.ae=|PT.af=| &quot;, &quot;,&quot;).replace(&quot;&amp;&quot;,&quot;&quot;);\n                System.out.println(str);\n                out.write(str);\n                out.append(&quot;\\n&quot;);\n            }\n            out.close();\n        }\n    \n        catch (IOException e) {\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","scala","playframework","newline","twilio"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1402741986,"post_id":24218945,"comment_id":37398185,"body_markdown":"Try %0D%0A as line break","body":"Try %0D%0A as line break"},{"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"score":0,"creation_date":1402742585,"post_id":24218945,"comment_id":37398341,"body_markdown":"@Jens  user getting as it is message with %0D%0A","body":"@Jens  user getting as it is message with %0D%0A"},{"owner":{"account_id":1397579,"reputation":1244,"user_id":1327062,"accept_rate":50,"display_name":"phalt"},"score":1,"creation_date":1403085364,"post_id":24218945,"comment_id":37519207,"body_markdown":"Hey! Twilio employee here. Have you tried writing a multiline string with a return carriage in it? That works for me (in Python).","body":"Hey! Twilio employee here. Have you tried writing a multiline string with a return carriage in it? That works for me (in Python)."},{"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"score":0,"creation_date":1403085511,"post_id":24218945,"comment_id":37519304,"body_markdown":"@phalt \\n works for me","body":"@phalt \\n works for me"}],"answers":[{"tags":[],"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1402742077,"creation_date":1402742077,"answer_id":24219023,"question_id":24218945,"body_markdown":"Use %0a , it might be helpful.\r\n\r\nReference :http://www.twilio.com/help/faq/sms/how-do-i-add-a-line-break-in-my-sms-message","title":"How do I add a line break in my Twilio SMS message?","body":"<p>Use %0a , it might be helpful.</p>\n\n<p>Reference :<a href=\"http://www.twilio.com/help/faq/sms/how-do-i-add-a-line-break-in-my-sms-message\" rel=\"noreferrer\">http://www.twilio.com/help/faq/sms/how-do-i-add-a-line-break-in-my-sms-message</a></p>\n"},{"tags":[],"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402749044,"creation_date":1402749044,"answer_id":24219931,"question_id":24218945,"body_markdown":"`\\n` works , and i was trying for, `%0a`\r\n\r\n    var body = &quot;Hello from Govind Singh Nagarkoti!\\n Your verification code is &quot; + code","title":"How do I add a line break in my Twilio SMS message?","body":"<p><code>\\n</code> works , and i was trying for, <code>%0a</code></p>\n\n<pre><code>var body = \"Hello from Govind Singh Nagarkoti!\\n Your verification code is \" + code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4213934,"reputation":1329,"user_id":3450793,"accept_rate":53,"display_name":"alphaleonis"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1462751833,"creation_date":1455925866,"answer_id":35517189,"question_id":24218945,"body_markdown":"If you are using an [official Twilio library][1], the proper syntax is `\\n`. \r\n\r\nIn your case, this should work:\r\n\r\n    var body = &quot;Hello from Govind Singh Nagarkoti! \\n Your verification code is &quot; + code\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/libraries","title":"How do I add a line break in my Twilio SMS message?","body":"<p>If you are using an <a href=\"https://www.twilio.com/docs/libraries\" rel=\"noreferrer\">official Twilio library</a>, the proper syntax is <code>\\n</code>. </p>\n\n<p>In your case, this should work:</p>\n\n<pre><code>var body = \"Hello from Govind Singh Nagarkoti! \\n Your verification code is \" + code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":914299,"reputation":360,"user_id":947449,"display_name":"jdprc06"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462755689,"creation_date":1462755689,"answer_id":37106489,"question_id":24218945,"body_markdown":"You can either use `\\n` with single quotes \r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    val body = s&quot;Hello from Govind Singh Nagarkoti!\\nYour verification code is $code&quot;\r\n\r\nor a new line with triple quotes: \r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    var body = s&quot;&quot;&quot;Hello from Govind Singh Nagarkoti! \r\n    Your verification code is $code&quot;&quot;&quot;\r\n\r\nNote that I also used string interpolation here by prefixing the variable with `$` and prefixing the string with `s`.","title":"How do I add a line break in my Twilio SMS message?","body":"<p>You can either use <code>\\n</code> with single quotes </p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val body = s\"Hello from Govind Singh Nagarkoti!\\nYour verification code is $code\"\n</code></pre>\n\n<p>or a new line with triple quotes: </p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>var body = s\"\"\"Hello from Govind Singh Nagarkoti! \nYour verification code is $code\"\"\"\n</code></pre>\n\n<p>Note that I also used string interpolation here by prefixing the variable with <code>$</code> and prefixing the string with <code>s</code>.</p>\n"},{"tags":[],"owner":{"account_id":5502488,"reputation":221,"user_id":4371424,"display_name":"Samar Gurjar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1482862726,"creation_date":1482860221,"answer_id":41349627,"question_id":24218945,"body_markdown":"Just a tip to anyone else who tries to use `\\n` to take the content to a new line: the &quot;`\\n`&quot; has to be within double quotes; if it&#39;s contained within single quotes it will print out as &#39;`\\n`&#39;.","title":"How do I add a line break in my Twilio SMS message?","body":"<p>Just a tip to anyone else who tries to use <code>\\n</code> to take the content to a new line: the \"<code>\\n</code>\" has to be within double quotes; if it's contained within single quotes it will print out as '<code>\\n</code>'.</p>\n"},{"tags":[],"owner":{"account_id":14280330,"reputation":148,"user_id":10315229,"display_name":"Slobodan Margetić"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564398123,"creation_date":1564398123,"answer_id":57252456,"question_id":24218945,"body_markdown":"Make sure your IDE doesn&#39;t automatcally add another \\ if you copy pasted &quot;\\n&quot;.\r\nThis is what tripped me. I pasted &quot;\\n&quot; and it got inserted as &quot;\\\\\\n&quot; so naturaly the first &quot;\\&quot; made the second &quot;\\&quot; the special character and resulted in the &quot;n&quot; being treated as a simple &quot;n&quot; character. Hope this helps.","title":"How do I add a line break in my Twilio SMS message?","body":"<p>Make sure your IDE doesn't automatcally add another \\ if you copy pasted \"\\n\".\nThis is what tripped me. I pasted \"\\n\" and it got inserted as \"\\\\n\" so naturaly the first \"\\\" made the second \"\\\" the special character and resulted in the \"n\" being treated as a simple \"n\" character. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13955321,"reputation":11,"user_id":10077886,"display_name":"Dan Harris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611737390,"creation_date":1611737390,"answer_id":65915684,"question_id":24218945,"body_markdown":"If anyone is struggling with this in Node.js specifically maybe this will help.\r\n\r\nI tried all of the above and nothing worked.  In my case the notification.msgText was coming from a database and the \\n were in the string returned from the db.  Nothing I tried worked, until I did the following.  I used the | as a placeholder in the database, and then replaced it on the call to twillio.  Hopefully this might save you from pulling out a hair or two.\r\n\r\n```\r\nconst rsp = await twilioClient.messages\r\n    .create({\r\n        body: notification.msgText.replace(/\\|/g, &quot;\\n&quot;),\r\n        from: twilioFromNum,\r\n        to: `+1${notification.cellPhone}`\r\n});\r\n```","title":"How do I add a line break in my Twilio SMS message?","body":"<p>If anyone is struggling with this in Node.js specifically maybe this will help.</p>\n<p>I tried all of the above and nothing worked.  In my case the notification.msgText was coming from a database and the \\n were in the string returned from the db.  Nothing I tried worked, until I did the following.  I used the | as a placeholder in the database, and then replaced it on the call to twillio.  Hopefully this might save you from pulling out a hair or two.</p>\n<pre><code>const rsp = await twilioClient.messages\n    .create({\n        body: notification.msgText.replace(/\\|/g, &quot;\\n&quot;),\n        from: twilioFromNum,\n        to: `+1${notification.cellPhone}`\n});\n</code></pre>\n"}],"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21231,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35517189,"answer_count":7,"score":18,"last_activity_date":1655150171,"creation_date":1402741600,"question_id":24218945,"body_markdown":"Using Java/Scala.  I am sending this string (an sms message) to a user mobile number by a Twilio Account.\r\n\r\n    var body = &quot;Hello from Govind Singh Nagarkoti! Your verification code is &quot; + code\r\n\r\nThis goes out to the user mobile, in 1 line.\r\n\r\nI want a newline after the first sentence.  I want the user to receive:\r\n\r\n    &quot;Hello from Govind Singh Nagarkoti!\r\n     Your verification code is 240190&quot; \r\n\r\nHow can I enter a line break?\r\n","title":"How do I add a line break in my Twilio SMS message?","body":"<p>Using Java/Scala.  I am sending this string (an sms message) to a user mobile number by a Twilio Account.</p>\n\n<pre><code>var body = \"Hello from Govind Singh Nagarkoti! Your verification code is \" + code\n</code></pre>\n\n<p>This goes out to the user mobile, in 1 line.</p>\n\n<p>I want a newline after the first sentence.  I want the user to receive:</p>\n\n<pre><code>\"Hello from Govind Singh Nagarkoti!\n Your verification code is 240190\" \n</code></pre>\n\n<p>How can I enter a line break?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654031938,"post_id":72454209,"comment_id":127994694,"body_markdown":"I feel like separate methods is the solution here since you&#39;re being blocked by the method body&#39;s usage of `ack`. Or you could ack on a background thread, but that might cause other issues","body":"I feel like separate methods is the solution here since you&#39;re being blocked by the method body&#39;s usage of <code>ack</code>. Or you could ack on a background thread, but that might cause other issues"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1654090467,"post_id":72454209,"comment_id":128008963,"body_markdown":"There is no need for multiple methods.\n\nYou can put multiple `@KafkaListener` annotations on a single method and each one will create a separate container.","body":"There is no need for multiple methods.  You can put multiple <code>@KafkaListener</code> annotations on a single method and each one will create a separate container."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654090459,"creation_date":1654090459,"answer_id":72462760,"question_id":72454209,"body_markdown":"There is no need for multiple methods.\r\n\r\nYou can put multiple `@KafkaListener` annotations on a single method and each one will create a separate container.","title":"@KafkaListener with multiples independent topics processing","body":"<p>There is no need for multiple methods.</p>\n<p>You can put multiple <code>@KafkaListener</code> annotations on a single method and each one will create a separate container.</p>\n"}],"owner":{"account_id":22227764,"reputation":11,"user_id":16464464,"display_name":"Milton Neto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655150066,"creation_date":1654031688,"question_id":72454209,"body_markdown":"Software used:\r\n\r\n* Java version: **8**\r\n* SpringBoot version: **2.4.0**\r\n* SpringKafka version: **2.7.2**\r\n\r\nI have this method in my spring:\r\n\r\n\r\n```java8\r\n\t@KafkaListener(topics=&quot;#{consumerSpring.topics}&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;, concurrency=&quot;#{consumerSpring.recommendedConcurrency}&quot;)\r\n\tpublic void listenKafkbooiaTopic(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\r\n\t\tConsumerSpring consumer = this.consumerSpring();\r\n\t\t//\r\n\t\t//\r\n\t\tKafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\r\n\t\t\t\ttopicName,\r\n\t\t\t\tconsumer.getConsumerId(),\r\n\t\t\t\tmessage);\r\n\t\t\r\n\t\tif (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\r\n\t\t\tack.acknowledge();\r\n\t\t} else {\r\n\t\t\tack.nack(5 * 1000);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n`#{consumerSpring.topics}` returns \r\n\r\n    {&quot;topic1&quot;, &quot;topic2&quot;, &quot;topic3&quot;}\r\n\r\n`#{consumerSpring.consumerId}` returns:\r\n\r\n    myConsumer\r\n\r\n`#{consumerSpring.recommendedConcurrency}` returns:\r\n\r\n    3\r\n\r\nOK! This is working fine! But I need isolate these topics, for example:\r\n\r\nTopicA is stuck in fatal error and it&#39;s calling:\r\n\r\n    ack.nack(5 * 1000);\r\n\r\nBut the topics: TopicB and TopicC aren&#39;t stuck. Then I need that these topics continue the execution normally.\r\n\r\nBasically I need the same behavior as if I declared two separate structures, example:\r\n\r\n\r\n```java8\r\n\t@KafkaListener(topics=&quot;topica&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;)\r\n\tpublic void listenerTopicB(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\r\n\t\tConsumerSpring consumer = this.consumerSpring();\r\n\t\t//\r\n\t\t//\r\n\t\tKafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\r\n\t\t\t\ttopicName,\r\n\t\t\t\tconsumer.getConsumerId(),\r\n\t\t\t\tmessage);\r\n\t\t\r\n\t\tif (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\r\n\t\t\tack.acknowledge();\r\n\t\t} else {\r\n\t\t\tack.nack(5 * 1000);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@KafkaListener(topics=&quot;topicb&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;)\r\n\tpublic void listenerTopicA(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\r\n\t\tConsumerSpring consumer = this.consumerSpring();\r\n\t\t//\r\n\t\t//\r\n\t\tKafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\r\n\t\t\t\ttopicName,\r\n\t\t\t\tconsumer.getConsumerId(),\r\n\t\t\t\tmessage);\r\n\t\t\r\n\t\tif (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\r\n\t\t\tack.acknowledge();\r\n\t\t} else {\r\n\t\t\tack.nack(5 * 1000);\r\n\t\t}\r\n\t}\r\n```","title":"@KafkaListener with multiples independent topics processing","body":"<p>Software used:</p>\n<ul>\n<li>Java version: <strong>8</strong></li>\n<li>SpringBoot version: <strong>2.4.0</strong></li>\n<li>SpringKafka version: <strong>2.7.2</strong></li>\n</ul>\n<p>I have this method in my spring:</p>\n<pre><code>    @KafkaListener(topics=&quot;#{consumerSpring.topics}&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;, concurrency=&quot;#{consumerSpring.recommendedConcurrency}&quot;)\n    public void listenKafkbooiaTopic(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\n        ConsumerSpring consumer = this.consumerSpring();\n        //\n        //\n        KafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\n                topicName,\n                consumer.getConsumerId(),\n                message);\n        \n        if (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\n            ack.acknowledge();\n        } else {\n            ack.nack(5 * 1000);\n        }\n    }\n</code></pre>\n<p><code>#{consumerSpring.topics}</code> returns</p>\n<pre><code>{&quot;topic1&quot;, &quot;topic2&quot;, &quot;topic3&quot;}\n</code></pre>\n<p><code>#{consumerSpring.consumerId}</code> returns:</p>\n<pre><code>myConsumer\n</code></pre>\n<p><code>#{consumerSpring.recommendedConcurrency}</code> returns:</p>\n<pre><code>3\n</code></pre>\n<p>OK! This is working fine! But I need isolate these topics, for example:</p>\n<p>TopicA is stuck in fatal error and it's calling:</p>\n<pre><code>ack.nack(5 * 1000);\n</code></pre>\n<p>But the topics: TopicB and TopicC aren't stuck. Then I need that these topics continue the execution normally.</p>\n<p>Basically I need the same behavior as if I declared two separate structures, example:</p>\n<pre><code>    @KafkaListener(topics=&quot;topica&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;)\n    public void listenerTopicB(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\n        ConsumerSpring consumer = this.consumerSpring();\n        //\n        //\n        KafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\n                topicName,\n                consumer.getConsumerId(),\n                message);\n        \n        if (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\n            ack.acknowledge();\n        } else {\n            ack.nack(5 * 1000);\n        }\n    }\n    \n    @KafkaListener(topics=&quot;topicb&quot;, groupId=&quot;#{consumerSpring.consumerId}&quot;)\n    public void listenerTopicA(@Header(KafkaHeaders.RECEIVED_TOPIC) String topicName, @Payload String message, Acknowledgment ack) throws Exception {\n        ConsumerSpring consumer = this.consumerSpring();\n        //\n        //\n        KafkaHandlerReturn handlerReturn = consumer.getKafkaProxy().handleRequest(\n                topicName,\n                consumer.getConsumerId(),\n                message);\n        \n        if (handlerReturn.equals(KafkaHandlerReturn.SUCCESS) || handlerReturn.equals(KafkaHandlerReturn.FAIL_LOGIC)) {\n            ack.acknowledge();\n        } else {\n            ack.nack(5 * 1000);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1655152199,"post_id":72607864,"comment_id":128259475,"body_markdown":"upsert is what you are describing and is not a best practice in concurrent applications; it works for data dump type operations, but the risk of overwriting a row with stale data grows with upsert. With Insert, you are clear that this record must not already exist. WIth update, you are stating it MUST exist, and can add other logic to check versions. What you want is certainly possible, but requires provider and database specific code that would perform a basic statement operation, negating most of the benefits and required behavior of JPA","body":"upsert is what you are describing and is not a best practice in concurrent applications; it works for data dump type operations, but the risk of overwriting a row with stale data grows with upsert. With Insert, you are clear that this record must not already exist. WIth update, you are stating it MUST exist, and can add other logic to check versions. What you want is certainly possible, but requires provider and database specific code that would perform a basic statement operation, negating most of the benefits and required behavior of JPA"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1655152463,"post_id":72607864,"comment_id":128259550,"body_markdown":"JPA/Spring handle this with merge functionality, which checks if the ID exists and merges the data into the managed instance, or creates it. I don&#39;t understand your usecase where no ID is given - if the entity you are calling save on doesn&#39;t have identity, it does not already exist. Identity IS the entity. So the issue seems more to be with what you use to define your entity with; maybe use a natural Identifier as the ID instead of a sequence/generated one. Or implement control logic to look up the entity using your own criteria so you don&#39;t need to pass around IDs.","body":"JPA/Spring handle this with merge functionality, which checks if the ID exists and merges the data into the managed instance, or creates it. I don&#39;t understand your usecase where no ID is given - if the entity you are calling save on doesn&#39;t have identity, it does not already exist. Identity IS the entity. So the issue seems more to be with what you use to define your entity with; maybe use a natural Identifier as the ID instead of a sequence/generated one. Or implement control logic to look up the entity using your own criteria so you don&#39;t need to pass around IDs."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655147747,"creation_date":1655147747,"answer_id":72608011,"question_id":72607864,"body_markdown":"I don&#39;t think Hibernate has such functionality. Some databases support this with their native capabilities (`insert ignore` in MySQL or `on conflict do nothing` in Postgres), but you&#39;d have to write SQL yourself. And some databases don&#39;t have this feature at all.\r\n\r\nProbably, the only way to do this with Hibernate is to handle constraint violation exceptions. Note though if it happens, you may not be able to proceed with the transaction/session since Hibernate warns you that Session/EntityManager can&#39;t be further used reliably if it threw an exception.","title":"Spring JPA: Update without existing Id?","body":"<p>I don't think Hibernate has such functionality. Some databases support this with their native capabilities (<code>insert ignore</code> in MySQL or <code>on conflict do nothing</code> in Postgres), but you'd have to write SQL yourself. And some databases don't have this feature at all.</p>\n<p>Probably, the only way to do this with Hibernate is to handle constraint violation exceptions. Note though if it happens, you may not be able to proceed with the transaction/session since Hibernate warns you that Session/EntityManager can't be further used reliably if it threw an exception.</p>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655150065,"creation_date":1655146944,"question_id":72607864,"body_markdown":"I am using Spring-Boot and JPA.\r\n\r\nFor saving and also updating a record there is the one method save of CrudRepository.\r\n\r\nI use a generated long id for primary key of my record. \r\n\r\nNow I need to update a already existing record. That will fail with an duplication exception if the primary key id does not \r\nmatch the value that is already in the database. If no id is given JPA would assume an insert and that fails because the old record already exists.\r\n\r\nSo what is the best strategy for that?\r\n\r\nI do not want to look for the id of the existing record before doing a save for updating my record.\r\n\r\nIs there some default value for id that I an use for marking it for update instead of insert? ","title":"Spring JPA: Update without existing Id?","body":"<p>I am using Spring-Boot and JPA.</p>\n<p>For saving and also updating a record there is the one method save of CrudRepository.</p>\n<p>I use a generated long id for primary key of my record.</p>\n<p>Now I need to update a already existing record. That will fail with an duplication exception if the primary key id does not\nmatch the value that is already in the database. If no id is given JPA would assume an insert and that fails because the old record already exists.</p>\n<p>So what is the best strategy for that?</p>\n<p>I do not want to look for the id of the existing record before doing a save for updating my record.</p>\n<p>Is there some default value for id that I an use for marking it for update instead of insert?</p>\n"},{"tags":["java","windows","environment-variables"],"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":3,"creation_date":1654443270,"post_id":72508685,"comment_id":128087033,"body_markdown":"have you tried opening a fresh command window? Windows caches the environment variables when the command window is opened.","body":"have you tried opening a fresh command window? Windows caches the environment variables when the command window is opened."},{"owner":{"account_id":3393838,"reputation":207,"user_id":2848031,"accept_rate":64,"display_name":"user2848031"},"score":0,"creation_date":1654444696,"post_id":72508685,"comment_id":128087360,"body_markdown":"Yes, I have closed the command windows and even restarted the windows server but no change.","body":"Yes, I have closed the command windows and even restarted the windows server but no change."},{"owner":{"account_id":18654504,"reputation":49,"user_id":13597235,"display_name":"Harikrishnan"},"score":0,"creation_date":1654446108,"post_id":72508685,"comment_id":128106542,"body_markdown":"What is the path listing for java below commands from cmd ?\n```\necho %PATH%\nSET\n```","body":"What is the path listing for java below commands from cmd ? ``` echo %PATH% SET ```"},{"owner":{"account_id":3393838,"reputation":207,"user_id":2848031,"accept_rate":64,"display_name":"user2848031"},"score":0,"creation_date":1654446694,"post_id":72508685,"comment_id":128106543,"body_markdown":"echo %PATH% return JAVA_HOME/bin and echo %JAVA_HOME% return newer version path but when try java -version return older version.","body":"echo %PATH% return JAVA_HOME/bin and echo %JAVA_HOME% return newer version path but when try java -version return older version."}],"answers":[{"tags":[],"owner":{"account_id":21928048,"reputation":11,"user_id":16210357,"display_name":"Yashar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655149640,"creation_date":1654457626,"answer_id":72510548,"question_id":72508685,"body_markdown":"Yup, we&#39;ve all been there: changing the JDK making you want to change your computer in the process. Here&#39;s some troubleshooting tips:\r\n\r\n* Double check that you deleted the old path from the environmental variable. When you do the `java` command, windows looks for `java.exe` starting from the first directory in the path variable until it finds it, so if you have something like  \r\n`C:\\User\\...\\jdk\\old_jdk\\bin;C:\\windows\\system32;C:\\User\\...\\jdk\\new_jdk\\bin;` it would stop searching after it finds it in the old jdk&#39;s bin folder.\r\n\r\n* Sometimes there may be both a path environmental variable defined for the user and for the system, if this is the case make sure the old JDK is not sneakily defined on the system path as well.\r\n\r\nIf you&#39;re really desperate (although not recommended as it will probably confuse you and others in the future), you can also rename the new JDK to the old JDK, so when windows tries to find the old JDK it would instead use the new JDK.\r\n\r\nIn the meantime if you&#39;d need to use the new JDK, you should be able to use either\r\n`%JAVA_HOME%\\bin\\java.exe JavaFile.java` or `&quot;C:\\Users\\...\\jdk\\jdk1.8.0_262\\bin\\java.exe&quot; JavaFile.java`(or wherever your JDK is) instead of `java JavaFile.java`. Similarly `javac` can be used by replacing `java.exe` to `javac.exe`.\r\n\r\nHope this helps!","title":"Unbale to change JAVA HOME path","body":"<p>Yup, we've all been there: changing the JDK making you want to change your computer in the process. Here's some troubleshooting tips:</p>\n<ul>\n<li><p>Double check that you deleted the old path from the environmental variable. When you do the <code>java</code> command, windows looks for <code>java.exe</code> starting from the first directory in the path variable until it finds it, so if you have something like<br />\n<code>C:\\User\\...\\jdk\\old_jdk\\bin;C:\\windows\\system32;C:\\User\\...\\jdk\\new_jdk\\bin;</code> it would stop searching after it finds it in the old jdk's bin folder.</p>\n</li>\n<li><p>Sometimes there may be both a path environmental variable defined for the user and for the system, if this is the case make sure the old JDK is not sneakily defined on the system path as well.</p>\n</li>\n</ul>\n<p>If you're really desperate (although not recommended as it will probably confuse you and others in the future), you can also rename the new JDK to the old JDK, so when windows tries to find the old JDK it would instead use the new JDK.</p>\n<p>In the meantime if you'd need to use the new JDK, you should be able to use either\n<code>%JAVA_HOME%\\bin\\java.exe JavaFile.java</code> or <code>&quot;C:\\Users\\...\\jdk\\jdk1.8.0_262\\bin\\java.exe&quot; JavaFile.java</code>(or wherever your JDK is) instead of <code>java JavaFile.java</code>. Similarly <code>javac</code> can be used by replacing <code>java.exe</code> to <code>javac.exe</code>.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":3393838,"reputation":207,"user_id":2848031,"accept_rate":64,"display_name":"user2848031"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654481547,"answer_count":1,"score":0,"last_activity_date":1655149640,"creation_date":1654443150,"question_id":72508685,"body_markdown":"I want to update jdk version from  jdk1.8.0_18 to jdk1.8.0_262 in windows server 2008, so i have both versions in the system and i changed JAVA HOME in environment variable and updated in PATH as well. But when i type in command prompt java -version , it return old version and not updating to newer version.   \r\n\r\nI have tried multiple options, but it is referring to older versions. I know this basic but need some help to troubleshot.\r\n\r\n\r\n","title":"Unbale to change JAVA HOME path","body":"<p>I want to update jdk version from  jdk1.8.0_18 to jdk1.8.0_262 in windows server 2008, so i have both versions in the system and i changed JAVA HOME in environment variable and updated in PATH as well. But when i type in command prompt java -version , it return old version and not updating to newer version.</p>\n<p>I have tried multiple options, but it is referring to older versions. I know this basic but need some help to troubleshot.</p>\n"},{"tags":["java","linux","macos","youtube-dl"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654975759,"post_id":72586453,"comment_id":128222161,"body_markdown":"You need to handle stdin and stderr. Using `ProcessBuilder` should help","body":"You need to handle stdin and stderr. Using <code>ProcessBuilder</code> should help"},{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1655029062,"post_id":72586453,"comment_id":128228914,"body_markdown":"Hi can yout give an example code","body":"Hi can yout give an example code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655029714,"post_id":72586453,"comment_id":128229033,"body_markdown":"You could do a lot worse than copying the [javadoc example](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/ProcessBuilder.html) (You can leave out the env and assert stuff)","body":"You could do a lot worse than copying the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">javadoc example</a> (You can leave out the env and assert stuff)"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655149400,"creation_date":1654968170,"question_id":72586453,"body_markdown":"I am trying to execute command from java to MacOs terminal but is not working I search all over the internet and I can&#39;t find a solution when I try with mkdiris working with ls command no I use same code for linux and is working there the strange thing is that is working for wget command but for youtube-dl is appear a problematic. I also try with the full path of youtube-dl again it fails.\r\n\r\n    import java.io.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            File file = new File(&quot;links_sorted.txt&quot;);\r\n    \r\n            FileReader fr = new FileReader(file);\r\n            BufferedReader br = new BufferedReader(fr);\r\n            String line;\r\n            while((line=br.readLine())!=null)\r\n            {\r\n                String [] command = {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;youtube-dl &quot; +  &quot;&#39;&quot; + line + &quot;&#39;&quot;};\r\n                Process proc = Runtime.getRuntime().exec(command);\r\n                System.out.println(line + &quot; done downloading&quot;);\r\n            }\r\n            fr.close();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Process runtime not executing command onn Mac os youtube-dl command","body":"<p>I am trying to execute command from java to MacOs terminal but is not working I search all over the internet and I can't find a solution when I try with mkdiris working with ls command no I use same code for linux and is working there the strange thing is that is working for wget command but for youtube-dl is appear a problematic. I also try with the full path of youtube-dl again it fails.</p>\n<pre><code>import java.io.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(&quot;links_sorted.txt&quot;);\n\n        FileReader fr = new FileReader(file);\n        BufferedReader br = new BufferedReader(fr);\n        String line;\n        while((line=br.readLine())!=null)\n        {\n            String [] command = {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;youtube-dl &quot; +  &quot;'&quot; + line + &quot;'&quot;};\n            Process proc = Runtime.getRuntime().exec(command);\n            System.out.println(line + &quot; done downloading&quot;);\n        }\n        fr.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17190,"reputation":1725,"user_id":38231,"accept_rate":79,"display_name":"Tomas"},"score":3,"creation_date":1416919889,"post_id":27127199,"comment_id":42753854,"body_markdown":"I think your question is a bit confusing. E.g. you cannot have a public class help in a file called secondFile.java You also confuse packages with filenames.","body":"I think your question is a bit confusing. E.g. you cannot have a public class help in a file called secondFile.java You also confuse packages with filenames."},{"owner":{"account_id":2171888,"reputation":845,"user_id":1923647,"display_name":"Tudmotu"},"score":0,"creation_date":1416919990,"post_id":27127199,"comment_id":42753925,"body_markdown":"For what you are after, you should probably use an enum, and not a class.","body":"For what you are after, you should probably use an enum, and not a class."},{"owner":{"account_id":2526040,"reputation":217,"user_id":2195411,"accept_rate":8,"display_name":"user2195411"},"score":0,"creation_date":1416920300,"post_id":27127199,"comment_id":42754137,"body_markdown":"@Tomas, I will rename the helper file now.","body":"@Tomas, I will rename the helper file now."}],"answers":[{"tags":[],"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416920399,"creation_date":1416919873,"answer_id":27127264,"question_id":27127199,"body_markdown":"Simpliest way to do this is to import your `help` class and access it like:\r\n\r\n    import help;\r\n    \r\n    ...\r\n\r\n    String test = help.bar;\r\n\r\n... or you can use [static import][1]:\r\n\r\n    import static help.bar;\r\n    \r\n    ...\r\n\r\n    String test = bar;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html","title":"Java- use a variable from another file","body":"<p>Simpliest way to do this is to import your <code>help</code> class and access it like:</p>\n\n<pre><code>import help;\n\n...\n\nString test = help.bar;\n</code></pre>\n\n<p>... or you can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html\" rel=\"nofollow\">static import</a>:</p>\n\n<pre><code>import static help.bar;\n\n...\n\nString test = bar;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384986,"reputation":199,"user_id":4289188,"display_name":"robin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1416920138,"creation_date":1416920138,"answer_id":27127367,"question_id":27127199,"body_markdown":"There are two severe errors in your code:&lt;br&gt;\r\n- the  helper file name must be the same as the class name&lt;br&gt;\r\n- the import in the master file must import the helper file with the full package name (I assume the files are in the same package)\r\n\r\n    // master file TicketAdminTestSuite.java\r\n    import Help;\r\n    public class TicketAdminTestSuite extends something {\r\n\r\n       void printStuff(){\r\n            System.out.println(Help.bar);\r\n       } \r\n    }\r\n\r\n    // help file Help.java\r\n    public class Help  {\r\n        public static final String bar = &quot;blah&quot;;\r\n    }","title":"Java- use a variable from another file","body":"<p>There are two severe errors in your code:<br>\n- the  helper file name must be the same as the class name<br>\n- the import in the master file must import the helper file with the full package name (I assume the files are in the same package)</p>\n\n<pre><code>// master file TicketAdminTestSuite.java\nimport Help;\npublic class TicketAdminTestSuite extends something {\n\n   void printStuff(){\n        System.out.println(Help.bar);\n   } \n}\n\n// help file Help.java\npublic class Help  {\n    public static final String bar = \"blah\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4360493,"reputation":2594,"user_id":3557748,"accept_rate":92,"display_name":"Sapikelio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416920205,"creation_date":1416920205,"answer_id":27127397,"question_id":27127199,"body_markdown":"Use a getter method. \r\n \r\n\r\n      public class help  {\r\n            public static final String bar = &quot;blah&quot;;            \r\n            public String getBar(){\r\n                  return this.bar;\r\n            }         \r\n        }\r\nAnd then use it on your code.\r\n\r\n    import secondFile.help;\r\n    \r\n    public class TicketAdminTestSuite extends something {\r\n           Help help = new Help();\r\n           void printStuff(){\r\n                System.out.println(help.getBar());\r\n           }    \r\n    }","title":"Java- use a variable from another file","body":"<p>Use a getter method. </p>\n\n<pre><code>  public class help  {\n        public static final String bar = \"blah\";            \n        public String getBar(){\n              return this.bar;\n        }         \n    }\n</code></pre>\n\n<p>And then use it on your code.</p>\n\n<pre><code>import secondFile.help;\n\npublic class TicketAdminTestSuite extends something {\n       Help help = new Help();\n       void printStuff(){\n            System.out.println(help.getBar());\n       }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371777,"reputation":4674,"user_id":2830834,"accept_rate":75,"display_name":"Sagar Pudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417075717,"creation_date":1416920385,"answer_id":27127465,"question_id":27127199,"body_markdown":"`public class` name should match with its file name.\r\n\r\n\r\neg:\r\n\r\nFirst.java\r\n\r\n    import demo.Second;\r\n    public class First{\r\n     Second second=new Second();\r\n           void printStuff(){\r\n                System.out.println(second.getBar());\r\n           } \r\n    }\r\n\r\nSecond.java\r\n   \r\n\r\n     package demo;\r\n        public class Second{\r\n         String bar=&quot;blah&quot;;\r\n         public String getBar(){\r\n                  return this.bar;\r\n         }\r\n        }","title":"Java- use a variable from another file","body":"<p><code>public class</code> name should match with its file name.</p>\n\n<p>eg:</p>\n\n<p>First.java</p>\n\n<pre><code>import demo.Second;\npublic class First{\n Second second=new Second();\n       void printStuff(){\n            System.out.println(second.getBar());\n       } \n}\n</code></pre>\n\n<p>Second.java</p>\n\n<pre><code> package demo;\n    public class Second{\n     String bar=\"blah\";\n     public String getBar(){\n              return this.bar;\n     }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5351596,"reputation":103,"user_id":4279184,"accept_rate":60,"display_name":"Tilion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1416920444,"creation_date":1416920444,"answer_id":27127482,"question_id":27127199,"body_markdown":"Just write help.bar:\r\n\r\n       void printStuff(){\r\n            System.out.println(help.bar);\r\nBut this example is a bit confusing because the public class must be called the same as the .java file. \r\nAnd if you made a second class in the secoundfile you wouldn&#39;t be able to access it from your first file. \r\nThis would be a better example:\r\n    import secondFile;\r\n\r\n    public class TicketAdminTestSuite extends something {\r\n\r\n       void printStuff(){\r\n            System.out.println(secondFile.BAR);\r\n    } \r\n\r\n    }\r\n\r\nAnd the second file is made like this\r\n\r\n    public class secondFile  {\r\n         public static final String BAR = &quot;blah&quot;;\r\n    }\r\n","title":"Java- use a variable from another file","body":"<p>Just write help.bar:</p>\n\n<pre><code>   void printStuff(){\n        System.out.println(help.bar);\n</code></pre>\n\n<p>But this example is a bit confusing because the public class must be called the same as the .java file. \nAnd if you made a second class in the secoundfile you wouldn't be able to access it from your first file. \nThis would be a better example:\n    import secondFile;</p>\n\n<pre><code>public class TicketAdminTestSuite extends something {\n\n   void printStuff(){\n        System.out.println(secondFile.BAR);\n} \n\n}\n</code></pre>\n\n<p>And the second file is made like this</p>\n\n<pre><code>public class secondFile  {\n     public static final String BAR = \"blah\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25197250,"reputation":35,"user_id":19036591,"display_name":"anEgg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655148535,"creation_date":1655148535,"answer_id":72608130,"question_id":27127199,"body_markdown":"it was excruciating, but I managed to do it. my code for the first file, &quot;Main.java&quot; is:\r\n```\r\nimport maintu.*;\r\n\r\npublic class Main extends maintu.Maintu {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;println&quot;);\r\n\t\tSystem.out.println(&quot;I am on a different line&quot;);\r\n\t\tSystem.out.print(&quot;I am print &quot;);\r\n\t\tSystem.out.print(&quot;I will be on the same line &quot;);\r\n\t\tSystem.out.println(3 + 3);\r\n\t\t// I will be ignored\r\n\t\tSystem.out.println(&quot;there is a comment after me&quot;); // so will I\r\n\t\t//System.out.println(&quot;I will be ignored too&quot;);\r\n\t\t/* I will be ignored until I end\r\n\r\n\r\n\t\tnot over yet.\r\n\r\n\t\tNow i am over*/\r\n\t\tSystem.out.println(&quot;I will print though&quot;);\r\n\t\tString variable = &quot;you can use me to call on me for later &quot;;\r\n\t\tSystem.out.println(variable + &quot;and I dont need quotes!&quot;);\r\n\t\tint numVariable = 13;\r\n\t\tSystem.out.print(&quot;my number is &quot; + numVariable + &quot;.&quot;);\r\n\t\tString hi;\r\n\t\thi = &quot;This works too!&quot;;\r\n\t\tSystem.out.println(hi);\r\n\t\tint x;\r\n\t\tx = 10;\r\n\t\tx = 20;\r\n\t\tSystem.out.println(x);\r\n\t\tfinal String finel = &quot;I cannot change&quot;;\r\n\t\tfinal int que; // I will always be empty. not 0, empty\r\n\t\tint w = 5, y = 6, z = 50; /*you can set several variables in one line like this*/\r\n\t\t/*you can do this as well :\r\n\t\tint x, y, z;\r\n\t\tx = y = z = 50;\r\n\t\t*/\r\n\t\tint wholenumber = 1;\r\n\t\tfloat onepointone = 5.99f;\r\n\t\tchar onesinglecharacter = &#39;D&#39;;\r\n\t\tboolean truefalse = true;\r\n\t\tString unlimitedwords = &quot;string = words&quot;;\r\n\t\tbyte onezero = -13;\r\n\t\tshort hexagecimal = -13000;\r\n\t\tlong isverylong = -4775808;\r\n\t\tdouble bdoublo;\r\n\t\tx=0;\r\n\t\tSystem.out.println(maintu.Maintu.maybe);/*\r\n\t\twhile(true) {\r\n\t\t\tx = x + 1;\r\n\t\t\tSystem.out.print(x + &quot; &quot;);\r\n\t\t}*/\r\n\t}\r\n}\r\n```\r\nand my code for the, as you call it &quot;helper&quot; file, &quot;maintu.java&quot; is:\r\n```\r\npackage maintu;\r\n\tpublic class Maintu {\r\n\t\tpublic static String maybe = &quot;extends&quot;;\r\n\t}\r\n```\r\nthe way I did it was:\r\nwrite code for files\r\nin command prompt: run `javac Maintu.java`\r\nin command prompt: run `javac Maintu.java`\r\nin command prompt: run `javac Main.java`\r\nin command prompt: run `java Main.java`\r\ncommand prompt output:\r\n```\r\nprintln\r\nI am on a different line\r\nI am print I will be on the same line 6\r\nthere is a comment after me\r\nI will print though\r\nyou can use me to call on me for later and I dont need quotes!\r\nmy number is 13.This works too!\r\n20\r\nextends\r\n```\r\n\r\nI am using java 17\r\n\r\n","title":"Java- use a variable from another file","body":"<p>it was excruciating, but I managed to do it. my code for the first file, &quot;Main.java&quot; is:</p>\n<pre><code>import maintu.*;\n\npublic class Main extends maintu.Maintu {\n    public static void main(String[] args) {\n        System.out.println(&quot;println&quot;);\n        System.out.println(&quot;I am on a different line&quot;);\n        System.out.print(&quot;I am print &quot;);\n        System.out.print(&quot;I will be on the same line &quot;);\n        System.out.println(3 + 3);\n        // I will be ignored\n        System.out.println(&quot;there is a comment after me&quot;); // so will I\n        //System.out.println(&quot;I will be ignored too&quot;);\n        /* I will be ignored until I end\n\n\n        not over yet.\n\n        Now i am over*/\n        System.out.println(&quot;I will print though&quot;);\n        String variable = &quot;you can use me to call on me for later &quot;;\n        System.out.println(variable + &quot;and I dont need quotes!&quot;);\n        int numVariable = 13;\n        System.out.print(&quot;my number is &quot; + numVariable + &quot;.&quot;);\n        String hi;\n        hi = &quot;This works too!&quot;;\n        System.out.println(hi);\n        int x;\n        x = 10;\n        x = 20;\n        System.out.println(x);\n        final String finel = &quot;I cannot change&quot;;\n        final int que; // I will always be empty. not 0, empty\n        int w = 5, y = 6, z = 50; /*you can set several variables in one line like this*/\n        /*you can do this as well :\n        int x, y, z;\n        x = y = z = 50;\n        */\n        int wholenumber = 1;\n        float onepointone = 5.99f;\n        char onesinglecharacter = 'D';\n        boolean truefalse = true;\n        String unlimitedwords = &quot;string = words&quot;;\n        byte onezero = -13;\n        short hexagecimal = -13000;\n        long isverylong = -4775808;\n        double bdoublo;\n        x=0;\n        System.out.println(maintu.Maintu.maybe);/*\n        while(true) {\n            x = x + 1;\n            System.out.print(x + &quot; &quot;);\n        }*/\n    }\n}\n</code></pre>\n<p>and my code for the, as you call it &quot;helper&quot; file, &quot;maintu.java&quot; is:</p>\n<pre><code>package maintu;\n    public class Maintu {\n        public static String maybe = &quot;extends&quot;;\n    }\n</code></pre>\n<p>the way I did it was:\nwrite code for files\nin command prompt: run <code>javac Maintu.java</code>\nin command prompt: run <code>javac Maintu.java</code>\nin command prompt: run <code>javac Main.java</code>\nin command prompt: run <code>java Main.java</code>\ncommand prompt output:</p>\n<pre><code>println\nI am on a different line\nI am print I will be on the same line 6\nthere is a comment after me\nI will print though\nyou can use me to call on me for later and I dont need quotes!\nmy number is 13.This works too!\n20\nextends\n</code></pre>\n<p>I am using java 17</p>\n"}],"owner":{"account_id":2526040,"reputation":217,"user_id":2195411,"accept_rate":8,"display_name":"user2195411"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1655148535,"creation_date":1416919719,"question_id":27127199,"body_markdown":"How can I use a variable from another file?  I am writing automation tests (Selenium and TestNG).  I want to store some data variables and xpaths in a separate file (secondFile.java)\r\n\r\nMaster File:\r\n\r\n    import secondFile.help;\r\n\r\n    public class TicketAdminTestSuite extends something {\r\n\r\n           void printStuff(){\r\n    \t        System.out.println(bar);\r\n    } \r\n\r\n    }\r\n\r\n==============================================\r\n\r\nHelper file (name: help.java):\r\n\r\n    public class help  {\r\n        public static final String bar = &quot;blah&quot;;\r\n    }","title":"Java- use a variable from another file","body":"<p>How can I use a variable from another file?  I am writing automation tests (Selenium and TestNG).  I want to store some data variables and xpaths in a separate file (secondFile.java)</p>\n\n<p>Master File:</p>\n\n<pre><code>import secondFile.help;\n\npublic class TicketAdminTestSuite extends something {\n\n       void printStuff(){\n            System.out.println(bar);\n} \n\n}\n</code></pre>\n\n<p>==============================================</p>\n\n<p>Helper file (name: help.java):</p>\n\n<pre><code>public class help  {\n    public static final String bar = \"blah\";\n}\n</code></pre>\n"},{"tags":["java","javafx","arduino","rfid"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1655148601,"post_id":72608095,"comment_id":128258425,"body_markdown":"*&quot;I tried to call methods from the LoginController class directly, but that doesn&#39;t work because the SerialportListener is on another Thread&quot;*. I may be misunderstanding the issue, but don&#39;t you just need to wrap those calls in `Platform.runLater(...)`?","body":"<i>&quot;I tried to call methods from the LoginController class directly, but that doesn&#39;t work because the SerialportListener is on another Thread&quot;</i>. I may be misunderstanding the issue, but don&#39;t you just need to wrap those calls in <code>Platform.runLater(...)</code>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655153531,"post_id":72608095,"comment_id":128259872,"body_markdown":"Don&#39;t try to load any `Scene` in `CardReader`.  Make `CardReader` a `Task`. Use the `Task` `setOnSucceeded` return value to determine if you want to load a `Scene` or not. https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm","body":"Don&#39;t try to load any <code>Scene</code> in <code>CardReader</code>.  Make <code>CardReader</code> a <code>Task</code>. Use the <code>Task</code> <code>setOnSucceeded</code> return value to determine if you want to load a <code>Scene</code> or not. <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/interoperability-tutorial/&hellip;</a>"}],"owner":{"account_id":18643148,"reputation":53,"user_id":13588465,"display_name":"Dboy0Z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655148316,"creation_date":1655148316,"question_id":72608095,"body_markdown":"I am working on a project for school right now and the task is to develope a Desktop-application for a fake hospital.\r\n\r\nThe application is used to store and display medical records of patients. Therefore it is required to have a login system. For the Login system, we are required to use an Arduino and the included MFRC-522 RFID module. Basically  when a card is scanned, the user should be logged in and he stays logged into his account for as long as the card is on the reader. As soon as he takes off the card, he loggs out of his account.\r\n\r\nI already managed to code the Arduinosketch and the bytestream-reader in Java. (I used the JSerialComm library for Java for that).\r\n\r\n**My problem right now is:**\r\nI made a UI for the application, but I can&#39;t find a way to swap the scene when the Arduino reads a card. So basically, I want the UI to switch from the Loginscene to the mainmenuscene as soon as the card touches the card reader and as soon as the card is taken away from the reader, the loginmenu should be displayed again.\r\n\r\n```\r\npackage application;\r\n\r\nimport com.fazecast.jSerialComm.SerialPort;\r\nimport com.fazecast.jSerialComm.SerialPortDataListener;\r\nimport com.fazecast.jSerialComm.SerialPortEvent;\r\n\r\npublic class CardReader {\r\n\r\n\tSerialPort activePort;\r\n\tpublic static boolean LoggedOut = true;\r\n\tpublic static String ID = &quot;&quot;;\r\n\r\n\tpublic CardReader() {\r\n\t\tactivePort = SerialPort.getCommPort(&quot;COM3&quot;);\r\n\t\tactivePort.openPort();\r\n\t\tactivePort.addDataListener(new SerialPortDataListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void serialEvent(SerialPortEvent event) {\r\n\t\t\t\tint size = event.getSerialPort().bytesAvailable();\r\n\t\t\t\tbyte[] buffer = new byte[size];\r\n\t\t\t\tevent.getSerialPort().readBytes(buffer, size);\r\n\t\t\t\tfor (byte b : buffer) {\r\n\t\t\t\t\tif (b == 10) {\r\n\t\t\t\t\t\tCardReader.ID = CardReader.ID.trim();\r\n\t\t\t\t\t\tif (CardReader.ID.equals(&quot;XXXXX&quot;)) {\r\n\t\t\t\t\t\t\tif (LoggedOut == false) {\r\n\t\t\t\t\t\t\t\tmainClass.LoginManager.logout(mainClass.currentUser);\r\n\t\t\t\t\t\t\t\t//Show loginmenu\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;logged out&quot;);\r\n\t\t\t\t\t\t\t\tLoggedOut = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tmainClass.currentUser.setUserID(CardReader.ID);\r\n\t\t\t\t\t\t\tif(mainClass.LoginManager.loginWithCard(mainClass.currentUser, mainClass.listOfAllUsers) == true) {\r\n\t\t\t\t\t\t\t\t//Here I want to show the mainmenu\r\n                                //I tried to call methods from the LoginController here\r\n                                //directly, but that doesn&#39;t work\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Logged in&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;|&quot; + CardReader.ID + &quot;|&quot;);\r\n\t\t\t\t\t\t\t\tLoggedOut = false;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t//Ausgabe Karte gesperrt\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Karte gesperrt&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t//System.out.println(&quot;|&quot; + CardReader.ID.trim() + &quot;|&quot;);\r\n\t\t\t\t\t\tCardReader.ID = &quot;&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tCardReader.ID += (char) b;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int getListeningEvents() {\r\n\t\t\t\treturn SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n}\r\n```\r\nCode for the Controller of the loginmenu I use to handle the UI\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\n\r\nimport application.User.permissions;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.stage.Stage;\r\n\r\npublic class LoginController {\r\n\r\n\tprivate Stage stage;\r\n\tprivate Scene scene;\r\n\tprivate Parent root;\r\n\tAlert alert = new Alert(AlertType.WARNING);\r\n\r\n\t@FXML\r\n\tprivate TextField TextFieldUsername;\r\n\t@FXML\r\n\tprivate TextField TextFieldPassword;\r\n\r\n\tpublic void setUIKarte(ActionEvent event) throws IOException {\r\n\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;LoginmenuCard.fxml&quot;));\r\n\t\tstage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\r\n\t}\r\n\r\n\tpublic void setUIUser(ActionEvent event) throws IOException {\r\n\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;LoginmenuUser.fxml&quot;));\r\n\t\tstage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\r\n\t}\r\n\r\n//I use this code for mutiple Scenes, that&#39;s why there are also functions \r\n//for the option to login with a Username and password\r\n\tpublic void loginbuttonclick(ActionEvent event) throws IOException {\r\n\t\tmainClass.currentUser.setUsername(TextField.getText());\r\n\t\tmainClass.aktuellerBenutzer.setPassword(TextFieldPassword.getText());\r\n\r\n\t\tif (mainClass.LoginManager.L(mainClass.currentUser,\r\n\t\t\t\tmainClass.listOfAllUsers)) {\r\n\t\t\tsetHauptmenu(event, mainClass.currentUser.getUserPerm());\r\n\t\t} else {\r\n\t\t\tmainClass.LoginManager.lo(mainClass.currentUser);\r\n\t\t\talert.setContentText(&quot;Username and Password are incorrect.&quot;);\r\n\t\t\talert.show();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void setMainmenu(ActionEvent event, Permissions inPermissions) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;CardMenu.fxml&quot;));;\r\n\t\t\r\n\t\tswitch (inPermissions) {\r\n\t\tcase ADMIN:\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;MainmenuAdmin.fxml&quot;));\r\n\t\t\tbreak;\r\n\t\tcase DOCTOR:\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\r\n\t\t\tbreak;\r\n\t\tcase NURSE:\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\r\n\t\t\tbreak;\r\n\t\tcase STAFF:\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\r\n\t\t\tbreak;\r\n\t\tcase NONE:\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tstage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\t\r\n\tpublic void InvisButtonClick(ActionEvent event) {\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nI tried to call methods from the LoginController class directly, but that doesn&#39;t work because the SerialportListener is on another Thread (automatically by the library).\r\n\r\n","title":"Switching JavaFX Scene when RFID-Card is on reader (Arduino)","body":"<p>I am working on a project for school right now and the task is to develope a Desktop-application for a fake hospital.</p>\n<p>The application is used to store and display medical records of patients. Therefore it is required to have a login system. For the Login system, we are required to use an Arduino and the included MFRC-522 RFID module. Basically  when a card is scanned, the user should be logged in and he stays logged into his account for as long as the card is on the reader. As soon as he takes off the card, he loggs out of his account.</p>\n<p>I already managed to code the Arduinosketch and the bytestream-reader in Java. (I used the JSerialComm library for Java for that).</p>\n<p><strong>My problem right now is:</strong>\nI made a UI for the application, but I can't find a way to swap the scene when the Arduino reads a card. So basically, I want the UI to switch from the Loginscene to the mainmenuscene as soon as the card touches the card reader and as soon as the card is taken away from the reader, the loginmenu should be displayed again.</p>\n<pre><code>package application;\n\nimport com.fazecast.jSerialComm.SerialPort;\nimport com.fazecast.jSerialComm.SerialPortDataListener;\nimport com.fazecast.jSerialComm.SerialPortEvent;\n\npublic class CardReader {\n\n    SerialPort activePort;\n    public static boolean LoggedOut = true;\n    public static String ID = &quot;&quot;;\n\n    public CardReader() {\n        activePort = SerialPort.getCommPort(&quot;COM3&quot;);\n        activePort.openPort();\n        activePort.addDataListener(new SerialPortDataListener() {\n\n            @Override\n            public void serialEvent(SerialPortEvent event) {\n                int size = event.getSerialPort().bytesAvailable();\n                byte[] buffer = new byte[size];\n                event.getSerialPort().readBytes(buffer, size);\n                for (byte b : buffer) {\n                    if (b == 10) {\n                        CardReader.ID = CardReader.ID.trim();\n                        if (CardReader.ID.equals(&quot;XXXXX&quot;)) {\n                            if (LoggedOut == false) {\n                                mainClass.LoginManager.logout(mainClass.currentUser);\n                                //Show loginmenu\n                                System.out.println(&quot;logged out&quot;);\n                                LoggedOut = true;\n                            }\n                        } else {\n                            \n                            mainClass.currentUser.setUserID(CardReader.ID);\n                            if(mainClass.LoginManager.loginWithCard(mainClass.currentUser, mainClass.listOfAllUsers) == true) {\n                                //Here I want to show the mainmenu\n                                //I tried to call methods from the LoginController here\n                                //directly, but that doesn't work\n                                System.out.println(&quot;Logged in&quot;);\n                                System.out.println(&quot;|&quot; + CardReader.ID + &quot;|&quot;);\n                                LoggedOut = false;\n                            }else {\n                                //Ausgabe Karte gesperrt\n                                System.out.println(&quot;Karte gesperrt&quot;);\n                            }\n                            \n                        }\n                            \n                        //System.out.println(&quot;|&quot; + CardReader.ID.trim() + &quot;|&quot;);\n                        CardReader.ID = &quot;&quot;;\n                    } else {\n                        CardReader.ID += (char) b;\n                    }\n                }\n            }\n\n            @Override\n            public int getListeningEvents() {\n                return SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\n            }\n\n        });\n    }\n}\n</code></pre>\n<p>Code for the Controller of the loginmenu I use to handle the UI</p>\n<pre><code>package application;\n\nimport java.io.IOException;\n\nimport application.User.permissions;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.stage.Stage;\n\npublic class LoginController {\n\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    Alert alert = new Alert(AlertType.WARNING);\n\n    @FXML\n    private TextField TextFieldUsername;\n    @FXML\n    private TextField TextFieldPassword;\n\n    public void setUIKarte(ActionEvent event) throws IOException {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginmenuCard.fxml&quot;));\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    public void setUIUser(ActionEvent event) throws IOException {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginmenuUser.fxml&quot;));\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n//I use this code for mutiple Scenes, that's why there are also functions \n//for the option to login with a Username and password\n    public void loginbuttonclick(ActionEvent event) throws IOException {\n        mainClass.currentUser.setUsername(TextField.getText());\n        mainClass.aktuellerBenutzer.setPassword(TextFieldPassword.getText());\n\n        if (mainClass.LoginManager.L(mainClass.currentUser,\n                mainClass.listOfAllUsers)) {\n            setHauptmenu(event, mainClass.currentUser.getUserPerm());\n        } else {\n            mainClass.LoginManager.lo(mainClass.currentUser);\n            alert.setContentText(&quot;Username and Password are incorrect.&quot;);\n            alert.show();\n        }\n\n    }\n\n    public void setMainmenu(ActionEvent event, Permissions inPermissions) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;CardMenu.fxml&quot;));;\n        \n        switch (inPermissions) {\n        case ADMIN:\n            root = FXMLLoader.load(getClass().getResource(&quot;MainmenuAdmin.fxml&quot;));\n            break;\n        case DOCTOR:\n            root = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\n            break;\n        case NURSE:\n            root = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\n            break;\n        case STAFF:\n            root = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\n            break;\n        case NONE:\n            root = FXMLLoader.load(getClass().getResource(&quot;Mainmenu.fxml&quot;));\n            break;\n        }\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public void InvisButtonClick(ActionEvent event) {\n        \n        \n    }\n\n}\n</code></pre>\n<p>I tried to call methods from the LoginController class directly, but that doesn't work because the SerialportListener is on another Thread (automatically by the library).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1655142587,"post_id":72606679,"comment_id":128256463,"body_markdown":"Seems like you should _group_ your plans two times: once for associate IDs, and once for product codes. A group is simply a `Map&lt;String, List&lt;Plan&gt;&gt;` (assuming that the IDs and codes are simple strings).","body":"Seems like you should <i>group</i> your plans two times: once for associate IDs, and once for product codes. A group is simply a <code>Map&lt;String, List&lt;Plan&gt;&gt;</code> (assuming that the IDs and codes are simple strings)."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1655142837,"post_id":72606679,"comment_id":128256549,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others. Include the sample data you have before you run your source code and the result you want after you run your source code.","body":"Please <a href=\"https://stackoverflow.com/posts/72606679/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Include the sample data you have before you run your source code and the result you want after you run your source code."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1655143010,"post_id":72606679,"comment_id":128256604,"body_markdown":"is there any relationship of `CoverageId`  to `plans`?","body":"is there any relationship of <code>CoverageId</code>  to <code>plans</code>?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1655143518,"post_id":72606679,"comment_id":128256762,"body_markdown":"There is no use of `CoverageId` in the snippet. As long as you compare only associateIds `coverageDetail.getAssociateId().equals(plan.getAssocaiteId())` should be a map aproach totaly fine.","body":"There is no use of <code>CoverageId</code> in the snippet. As long as you compare only associateIds <code>coverageDetail.getAssociateId().equals(plan.getAssocaiteId()&zwnj;&#8203;)</code> should be a map aproach totaly fine."},{"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"score":0,"creation_date":1655145096,"post_id":72606679,"comment_id":128257299,"body_markdown":"I have edited the code. can you please look now. @Progman.\nIMP note: Mistake have corrected:\nCoverageId is added by replacing the planCode.","body":"I have edited the code. can you please look now. @Progman. IMP note: Mistake have corrected: CoverageId is added by replacing the planCode."},{"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"score":0,"creation_date":1655145387,"post_id":72606679,"comment_id":128257387,"body_markdown":"can you look now @Eritrean. Just corrected.","body":"can you look now @Eritrean. Just corrected."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1655145442,"post_id":72606679,"comment_id":128257406,"body_markdown":"@man123 The sample input is missing, we don&#39;t know with what values you are starting with. Please provide a working [mcve].","body":"@man123 The sample input is missing, we don&#39;t know with what values you are starting with. Please provide a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"score":0,"creation_date":1655146413,"post_id":72606679,"comment_id":128257714,"body_markdown":"Added the sample input @progman","body":"Added the sample input @progman"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1655146760,"post_id":72606679,"comment_id":128257840,"body_markdown":"@man123 Your sample input does not show any values for `Plan` objects, also it does not show other related data like the matching `coverageId` field. It is also not clear why the first and third object have different plan details for the same associate id. Keep in mind that we don&#39;t see your code or your data, that&#39;s why you should add a MCVE to your question.","body":"@man123 Your sample input does not show any values for <code>Plan</code> objects, also it does not show other related data like the matching <code>coverageId</code> field. It is also not clear why the first and third object have different plan details for the same associate id. Keep in mind that we don&#39;t see your code or your data, that&#39;s why you should add a MCVE to your question."}],"answers":[{"tags":[],"owner":{"display_name":"user19331914"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655141011,"creation_date":1655141011,"answer_id":72606789,"question_id":72606679,"body_markdown":"You can make a map of `Plan` `associateId` --&gt; `Plan` object and then use that, within your loop. Like this:\r\n\r\n    Map&lt;String, Plan&gt; map = new HashMap&lt;&gt;();\r\n    for (Plan plan : plans) {\r\n      map.put(plan.getAssociateId(),plan);\r\n    }\r\n    \r\n    for (CoverageDetail coverageDetail : employeeCoverage.getCoverageDetailList) {\r\n                    if (map.containsKey(coverageDetail.getAssociateId())) {\r\n                        Plan plan = map.get(coverageDetail.getAssociateId());\r\n                        coverageDetail.setClasscode(plan.getClasscode());\r\n                        if (coverageDetail.getplanCode().equals(plan.getproductcode())) {\r\n                            coverageDetail.setPlancode(plan.getplanCode());\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\nThis assumes tha your `Plan` has different associateId.\r\n","title":"How to avoid the nested loop?","body":"<p>You can make a map of <code>Plan</code> <code>associateId</code> --&gt; <code>Plan</code> object and then use that, within your loop. Like this:</p>\n<pre><code>Map&lt;String, Plan&gt; map = new HashMap&lt;&gt;();\nfor (Plan plan : plans) {\n  map.put(plan.getAssociateId(),plan);\n}\n\nfor (CoverageDetail coverageDetail : employeeCoverage.getCoverageDetailList) {\n                if (map.containsKey(coverageDetail.getAssociateId())) {\n                    Plan plan = map.get(coverageDetail.getAssociateId());\n                    coverageDetail.setClasscode(plan.getClasscode());\n                    if (coverageDetail.getplanCode().equals(plan.getproductcode())) {\n                        coverageDetail.setPlancode(plan.getplanCode());\n                        break;\n                    }\n                }\n            }\n</code></pre>\n<p>This assumes tha your <code>Plan</code> has different associateId.</p>\n"}],"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1655184174,"answer_count":1,"score":-3,"last_activity_date":1655148213,"creation_date":1655140465,"question_id":72606679,"body_markdown":"I want to achieve the below nested forloop code in single loop. I don&#39;t care about the space time complexity. I tried using to achieve using the hashmap but problem is all the ```assocaiteId``` in the coveragelist will have same value, Thus everytime value get overridden for the same key in hashmap.\r\n\r\nBelow are the ```CoverageDetail.java``` and ```PlanDetail.java``` classes\r\n```\r\npublic class CoverageDetail {\r\n    private String AssociateId;\r\n    private String coverageId;\r\n    // getter and setter\r\n    \r\n}\r\n\r\npublic class PlanDetail{\r\n    private String planCode;\r\n    private String AssociateId;\r\n    private String classCode;\r\n    private String productCode;\r\n    // getter and setters\r\n}\r\n```\r\n\r\n**Sample Input:**(Note: ```employeeCoverage.getCoverageDetailList``` return the below List(&quot;coverageDetails&quot;) )\r\n```\r\n{\r\n  &quot;coverageDetails&quot;: [\r\n    {\r\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\r\n      //other fields\r\n    },\r\n    {\r\n      &quot;AssociateId&quot;: &quot;Ba4BAcd132131&quot;,\r\n      //other fields\r\n    },\r\n    {\r\n      &quot;AssociateId&quot;: &quot;5BAC4B132121&quot;,\r\n      //other fields\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\nfor (CoverageDetail coverageDetail : employeeCoverage.getCoverageDetailList) {\r\n            for (Plan plan : plans) {\r\n                if (coverageDetail.getAssociateId().equals(plan.getAssocaiteId())) {\r\n                    coverageDetail.setClasscode(plan.getClasscode());\r\n                    if (coverageDetail.getCoverageId().equals(plan.getproductcode())) {\r\n                        coverageDetail.setPlancode(plan.getplanCode());\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nNote: ```employeeCoverage.getCoverageDetailList()``` will return many ```CoverageDetail``` Object all of them have will have same value of ```AssociateId``` but differntValue for ```CoverageId```\r\n\r\n**Expected output:**\r\nAll the objecta ofCoverageDetail from the \r\n```employeeCoverage.getCoverageDetailList``` should contain additional parameters which is ```classCode``` and ```planCode```.\r\n\r\n**Sample Response:**\r\n\r\n```\r\n{\r\n  &quot;coverageDetails&quot;: [\r\n    {\r\n    &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\r\n    &quot;classCode&quot;:&quot;001M&quot;,\r\n    &quot;coverageId&quot;:&quot;LXB&quot;,\r\n    &quot;planCode&quot;:&quot;OXB&quot;\r\n\r\n// some other fields as well\r\n     },\r\n    {\r\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\r\n      &quot;classCode&quot;:&quot;BCC&quot;,\r\n      &quot;coverageId&quot;:&quot;MXB&quot;,\r\n      &quot;planCode&quot;:&quot;OCB&quot;\r\n\r\n// some other fields as well\r\n      \r\n    },\r\n    {\r\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\r\n      &quot;classCode&quot;:&quot;CX2&quot;,\r\n      &quot;coverageId&quot;:&quot;CXL&quot;,\r\n      &quot;planCode&quot;:&quot;DOZ&quot;\r\n\r\n// some other fields as well      \r\n    }\r\n    \r\n  ]\r\n\r\n}\r\n```\r\n\r\n\r\nPS Any hint or the sample code will be helpful.","title":"How to avoid the nested loop?","body":"<p>I want to achieve the below nested forloop code in single loop. I don't care about the space time complexity. I tried using to achieve using the hashmap but problem is all the <code>assocaiteId</code> in the coveragelist will have same value, Thus everytime value get overridden for the same key in hashmap.</p>\n<p>Below are the <code>CoverageDetail.java</code> and <code>PlanDetail.java</code> classes</p>\n<pre><code>public class CoverageDetail {\n    private String AssociateId;\n    private String coverageId;\n    // getter and setter\n    \n}\n\npublic class PlanDetail{\n    private String planCode;\n    private String AssociateId;\n    private String classCode;\n    private String productCode;\n    // getter and setters\n}\n</code></pre>\n<p><strong>Sample Input:</strong>(Note: <code>employeeCoverage.getCoverageDetailList</code> return the below List(&quot;coverageDetails&quot;) )</p>\n<pre><code>{\n  &quot;coverageDetails&quot;: [\n    {\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\n      //other fields\n    },\n    {\n      &quot;AssociateId&quot;: &quot;Ba4BAcd132131&quot;,\n      //other fields\n    },\n    {\n      &quot;AssociateId&quot;: &quot;5BAC4B132121&quot;,\n      //other fields\n    }\n  ]\n}\n</code></pre>\n<pre><code>for (CoverageDetail coverageDetail : employeeCoverage.getCoverageDetailList) {\n            for (Plan plan : plans) {\n                if (coverageDetail.getAssociateId().equals(plan.getAssocaiteId())) {\n                    coverageDetail.setClasscode(plan.getClasscode());\n                    if (coverageDetail.getCoverageId().equals(plan.getproductcode())) {\n                        coverageDetail.setPlancode(plan.getplanCode());\n                        break;\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>Note: <code>employeeCoverage.getCoverageDetailList()</code> will return many <code>CoverageDetail</code> Object all of them have will have same value of <code>AssociateId</code> but differntValue for <code>CoverageId</code></p>\n<p><strong>Expected output:</strong>\nAll the objecta ofCoverageDetail from the\n<code>employeeCoverage.getCoverageDetailList</code> should contain additional parameters which is <code>classCode</code> and <code>planCode</code>.</p>\n<p><strong>Sample Response:</strong></p>\n<pre><code>{\n  &quot;coverageDetails&quot;: [\n    {\n    &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\n    &quot;classCode&quot;:&quot;001M&quot;,\n    &quot;coverageId&quot;:&quot;LXB&quot;,\n    &quot;planCode&quot;:&quot;OXB&quot;\n\n// some other fields as well\n     },\n    {\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\n      &quot;classCode&quot;:&quot;BCC&quot;,\n      &quot;coverageId&quot;:&quot;MXB&quot;,\n      &quot;planCode&quot;:&quot;OCB&quot;\n\n// some other fields as well\n      \n    },\n    {\n      &quot;AssociateId&quot;: &quot;54BAcd132121&quot;,\n      &quot;classCode&quot;:&quot;CX2&quot;,\n      &quot;coverageId&quot;:&quot;CXL&quot;,\n      &quot;planCode&quot;:&quot;DOZ&quot;\n\n// some other fields as well      \n    }\n    \n  ]\n\n}\n</code></pre>\n<p>PS Any hint or the sample code will be helpful.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":1,"creation_date":1256305984,"post_id":1613202,"comment_id":1479916,"body_markdown":"@ax, this is a POI question, so it is a question of how to get POI to set the cell type as a percentage.","body":"@ax, this is a POI question, so it is a question of how to get POI to set the cell type as a percentage."}],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1256315720,"creation_date":1256315720,"answer_id":1614587,"question_id":1613202,"body_markdown":"You need to:\r\n\r\n 1. Set your data as number (floating-point), not as text.\r\n 2. Specify cell format as percentage.\r\n\r\nSomething like:\r\n\r\n    cell.setCellValue(0.123); // set value as number\r\n    CellStyle style = workbook.createCellStyle();\r\n    style.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.000%&quot;));\r\n    cell.setCellStyle(style);\r\n\r\nTake a look at &lt;a href=&quot;http://poi.apache.org/spreadsheet/quick-guide.html#DataFormats&quot;&gt;user defined formats section&lt;/a&gt; of POI quick guide for more details. You may also want to go through the &lt;a href=&quot;http://poi.apache.org/spreadsheet/examples.html&quot;&gt;examples&lt;/a&gt; which show how to use different POI capabilities.","title":"Display percentage values in Excel using POI API","body":"<p>You need to:</p>\n\n<ol>\n<li>Set your data as number (floating-point), not as text.</li>\n<li>Specify cell format as percentage.</li>\n</ol>\n\n<p>Something like:</p>\n\n<pre><code>cell.setCellValue(0.123); // set value as number\nCellStyle style = workbook.createCellStyle();\nstyle.setDataFormat(workbook.createDataFormat().getFormat(\"0.000%\"));\ncell.setCellStyle(style);\n</code></pre>\n\n<p>Take a look at <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#DataFormats\" rel=\"noreferrer\">user defined formats section</a> of POI quick guide for more details. You may also want to go through the <a href=\"http://poi.apache.org/spreadsheet/examples.html\" rel=\"noreferrer\">examples</a> which show how to use different POI capabilities.</p>\n"},{"tags":[],"owner":{"account_id":9595359,"reputation":317,"user_id":7124679,"display_name":"Aasim ali"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568019160,"creation_date":1561732818,"answer_id":56808893,"question_id":1613202,"body_markdown":"POI has built-in formats check this [link][1] first\r\n\r\n\r\nand check this [link][2] for example \r\n\r\nFor percentage, it will be something like this&lt;br/&gt;\r\n\r\n    dataCell.setCellValue(.12)\r\n    CellStyle stylePercentage = workbook.createCellStyle();\r\n    stylePercentage.setDataFormat(workbook.createDataFormat()\r\n    .getFormat(BuiltinFormats.getBuiltinFormat( 10 )));\r\n     dataCell.setCellStyle(stylePercentage);\r\n\r\n[1]: http://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/BuiltinFormats.html\r\n  [2]: https://www.programcreek.com/java-api-examples/?api=org.apache.poi.ss.usermodel.BuiltinFormats","title":"Display percentage values in Excel using POI API","body":"<p>POI has built-in formats check this <a href=\"http://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/BuiltinFormats.html\" rel=\"noreferrer\">link</a> first</p>\n\n<p>and check this <a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.poi.ss.usermodel.BuiltinFormats\" rel=\"noreferrer\">link</a> for example </p>\n\n<p>For percentage, it will be something like this<br/></p>\n\n<pre><code>dataCell.setCellValue(.12)\nCellStyle stylePercentage = workbook.createCellStyle();\nstylePercentage.setDataFormat(workbook.createDataFormat()\n.getFormat(BuiltinFormats.getBuiltinFormat( 10 )));\n dataCell.setCellStyle(stylePercentage);\n</code></pre>\n"}],"owner":{"account_id":564594,"reputation":491,"user_id":194649,"display_name":"nagireddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47844,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":2,"score":46,"last_activity_date":1655148129,"creation_date":1256301973,"question_id":1613202,"body_markdown":"I need to display a value in an excel cell formatted like a percentage, e.g. like `12.3%`.\r\n\r\nBy default the value is displayed as Text, but I need to display it as a number.\r\n\r\nWhat is the appropriate method to achieve this?\r\n","title":"Display percentage values in Excel using POI API","body":"<p>I need to display a value in an excel cell formatted like a percentage, e.g. like <code>12.3%</code>.</p>\n\n<p>By default the value is displayed as Text, but I need to display it as a number.</p>\n\n<p>What is the appropriate method to achieve this?</p>\n"},{"tags":["java","testing","jetty","integration-testing"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1655140138,"post_id":72606526,"comment_id":128255608,"body_markdown":"doing this at the headers level is insufficient, the HttpTester / HttpParser doesn&#39;t take into account content encoding, transfer encoding, and similar concepts.    It would be easier to just start an embedded jetty server and write your handler to suite your needs.   Quick startup too.","body":"doing this at the headers level is insufficient, the HttpTester / HttpParser doesn&#39;t take into account content encoding, transfer encoding, and similar concepts.    It would be easier to just start an embedded jetty server and write your handler to suite your needs.   Quick startup too."},{"owner":{"account_id":6011679,"reputation":2795,"user_id":4721937,"accept_rate":45,"display_name":"warownia1"},"score":0,"creation_date":1655145703,"post_id":72606526,"comment_id":128257493,"body_markdown":"I agree, starting up the server and writing handlers seems much nicer to me but I had two issues with that. 1. starting the server in @BeforeXXX and then adding handlers in tests throw IllegalStateException. 2. I can&#39;t make assertions (or return values) in the handlers.","body":"I agree, starting up the server and writing handlers seems much nicer to me but I had two issues with that. 1. starting the server in @BeforeXXX and then adding handlers in tests throw IllegalStateException. 2. I can&#39;t make assertions (or return values) in the handlers."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1655146737,"post_id":72606526,"comment_id":128257829,"body_markdown":"You can [`startServer(Handler)`](https://github.com/eclipse/jetty.project/search?q=startServer) in your testcase, or you can use `HandlerCollection(true)`, or you can make your `Handler` just delegate to your testcase&#39;s specific rules.  Having assertions in Handlers is common too.  The Jetty source is littered with all of these behaviors.","body":"You can <a href=\"https://github.com/eclipse/jetty.project/search?q=startServer\" rel=\"nofollow noreferrer\"><code>startServer(Handler)</code></a> in your testcase, or you can use <code>HandlerCollection(true)</code>, or you can make your <code>Handler</code> just delegate to your testcase&#39;s specific rules.  Having assertions in Handlers is common too.  The Jetty source is littered with all of these behaviors."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655147763,"creation_date":1655147763,"answer_id":72608013,"question_id":72606526,"body_markdown":"One way is to to use the `startServer(Handler)` technique.\r\n\r\n``` java\r\npackage jetty;\r\n\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.Request;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.server.handler.AbstractHandler;\r\nimport org.eclipse.jetty.util.component.LifeCycle;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TestingExampleStartServer\r\n{\r\n    private static Server server;\r\n    private URI serverBaseURI;\r\n\r\n    public void startServer(Handler handler) throws Exception\r\n    {\r\n        server = new Server(0);\r\n        server.setHandler(handler);\r\n        server.start();\r\n        serverBaseURI = server.getURI().resolve(&quot;/&quot;);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void stopServer()\r\n    {\r\n        LifeCycle.stop(server);\r\n    }\r\n\r\n    @Test\r\n    public void testHandler() throws Exception\r\n    {\r\n        startServer(new AbstractHandler() {\r\n            @Override\r\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\r\n            {\r\n                // do something custom here\r\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\r\n                baseRequest.setHandled(true);\r\n                // assert here if you want\r\n            }\r\n        });\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest\r\n            .newBuilder(serverBaseURI)\r\n            .GET()\r\n            .build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        assertEquals(200, response.statusCode());\r\n        assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\r\n    }\r\n}\r\n```\r\n\r\nAnother is to just let the `HandlerCollection` add at will\r\n\r\n``` java\r\npackage jetty;\r\n\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.Request;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.server.handler.AbstractHandler;\r\nimport org.eclipse.jetty.server.handler.HandlerCollection;\r\nimport org.eclipse.jetty.util.component.LifeCycle;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TestingExampleMutableCollection\r\n{\r\n    private static Server server;\r\n    private static URI serverBaseURI;\r\n    private static HandlerCollection handlers;\r\n\r\n    @BeforeAll\r\n    public static void startServer() throws Exception\r\n    {\r\n        server = new Server(0);\r\n        handlers = new HandlerCollection(true);\r\n        server.setHandler(handlers);\r\n        server.start();\r\n        serverBaseURI = server.getURI().resolve(&quot;/&quot;);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void stopServer()\r\n    {\r\n        LifeCycle.stop(server);\r\n    }\r\n\r\n    private void setHandler(Handler ... handlerList)\r\n    {\r\n        // use .setHandlers(Handler[]) to reset the list, removing other handlers already present.\r\n        handlers.setHandlers(handlerList);\r\n    }\r\n\r\n    @Test\r\n    public void testHandler() throws Exception\r\n    {\r\n        setHandler(new AbstractHandler() {\r\n            @Override\r\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\r\n            {\r\n                // do something custom here\r\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\r\n                baseRequest.setHandled(true);\r\n                // assert here if you want\r\n            }\r\n        });\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest\r\n            .newBuilder(serverBaseURI)\r\n            .GET()\r\n            .build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        assertEquals(200, response.statusCode());\r\n        assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut the easiest is to not use `@BeforeAll` and `@AfterAll` and use a unique server instance per-test. (startup of Jetty is sub 100ms)\r\n\r\n``` java\r\npackage jetty;\r\n\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.eclipse.jetty.server.Request;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.server.handler.AbstractHandler;\r\nimport org.eclipse.jetty.util.component.LifeCycle;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TestingExampleLocalServer\r\n{\r\n    @Test\r\n    public void testHandler() throws Exception\r\n    {\r\n        Server server = new Server(0);\r\n        server.setHandler(new AbstractHandler()\r\n        {\r\n            @Override\r\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\r\n            {\r\n                // do something custom here\r\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\r\n                baseRequest.setHandled(true);\r\n                // assert here if you want\r\n            }\r\n        });\r\n        server.start();\r\n        try\r\n        {\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            HttpRequest request = HttpRequest\r\n                .newBuilder(server.getURI().resolve(&quot;/&quot;))\r\n                .GET()\r\n                .build();\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            assertEquals(200, response.statusCode());\r\n            assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\r\n        }\r\n        finally\r\n        {\r\n            LifeCycle.stop(server);\r\n        }\r\n    }\r\n}\r\n```","title":"Testing application using a stub server in jetty","body":"<p>One way is to to use the <code>startServer(Handler)</code> technique.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jetty;\n\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\nimport org.eclipse.jetty.util.component.LifeCycle;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TestingExampleStartServer\n{\n    private static Server server;\n    private URI serverBaseURI;\n\n    public void startServer(Handler handler) throws Exception\n    {\n        server = new Server(0);\n        server.setHandler(handler);\n        server.start();\n        serverBaseURI = server.getURI().resolve(&quot;/&quot;);\n    }\n\n    @AfterAll\n    public static void stopServer()\n    {\n        LifeCycle.stop(server);\n    }\n\n    @Test\n    public void testHandler() throws Exception\n    {\n        startServer(new AbstractHandler() {\n            @Override\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\n            {\n                // do something custom here\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\n                baseRequest.setHandled(true);\n                // assert here if you want\n            }\n        });\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest\n            .newBuilder(serverBaseURI)\n            .GET()\n            .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n        assertEquals(200, response.statusCode());\n        assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\n    }\n}\n</code></pre>\n<p>Another is to just let the <code>HandlerCollection</code> add at will</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jetty;\n\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\nimport org.eclipse.jetty.server.handler.HandlerCollection;\nimport org.eclipse.jetty.util.component.LifeCycle;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TestingExampleMutableCollection\n{\n    private static Server server;\n    private static URI serverBaseURI;\n    private static HandlerCollection handlers;\n\n    @BeforeAll\n    public static void startServer() throws Exception\n    {\n        server = new Server(0);\n        handlers = new HandlerCollection(true);\n        server.setHandler(handlers);\n        server.start();\n        serverBaseURI = server.getURI().resolve(&quot;/&quot;);\n    }\n\n    @AfterAll\n    public static void stopServer()\n    {\n        LifeCycle.stop(server);\n    }\n\n    private void setHandler(Handler ... handlerList)\n    {\n        // use .setHandlers(Handler[]) to reset the list, removing other handlers already present.\n        handlers.setHandlers(handlerList);\n    }\n\n    @Test\n    public void testHandler() throws Exception\n    {\n        setHandler(new AbstractHandler() {\n            @Override\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\n            {\n                // do something custom here\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\n                baseRequest.setHandled(true);\n                // assert here if you want\n            }\n        });\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest\n            .newBuilder(serverBaseURI)\n            .GET()\n            .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n        assertEquals(200, response.statusCode());\n        assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\n    }\n\n}\n</code></pre>\n<p>But the easiest is to not use <code>@BeforeAll</code> and <code>@AfterAll</code> and use a unique server instance per-test. (startup of Jetty is sub 100ms)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jetty;\n\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\nimport org.eclipse.jetty.util.component.LifeCycle;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TestingExampleLocalServer\n{\n    @Test\n    public void testHandler() throws Exception\n    {\n        Server server = new Server(0);\n        server.setHandler(new AbstractHandler()\n        {\n            @Override\n            public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\n            {\n                // do something custom here\n                response.setHeader(&quot;X-Foo&quot;, &quot;Bar&quot;);\n                baseRequest.setHandled(true);\n                // assert here if you want\n            }\n        });\n        server.start();\n        try\n        {\n            HttpClient client = HttpClient.newHttpClient();\n            HttpRequest request = HttpRequest\n                .newBuilder(server.getURI().resolve(&quot;/&quot;))\n                .GET()\n                .build();\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            assertEquals(200, response.statusCode());\n            assertEquals(&quot;Bar&quot;, response.headers().firstValue(&quot;X-Foo&quot;).orElse(null));\n        }\n        finally\n        {\n            LifeCycle.stop(server);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6011679,"reputation":2795,"user_id":4721937,"accept_rate":45,"display_name":"warownia1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655147763,"creation_date":1655139629,"question_id":72606526,"body_markdown":"I&#39;m writing tests for an application that accesses web services over http. I&#39;d like to create a stub server where I can verify the request that came from the client app and send a stub response. I&#39;m trying to use jetty but its API documentation is quite lacking.\r\nI&#39;d like to have something, where I can fetch and parse an HTTP request from the socket stream, send a stub response and introspect the request. Here is a dummy code where I test if the client sent a correct header:\r\n\r\n~~~java\r\npublic class MyTestSuite {\r\n  ServerSocket serverSock;\r\n  ExecutorService executor;\r\n\r\n  @BeforeMethod\r\n  public void setupServerSocket() throws IOException {\r\n    serverSock = new ServerSocket(0);\r\n  }\r\n\r\n  @AfterMethod\r\n  public void teardownServerSocket() throws IOException {\r\n    serverSock.close();\r\n  }\r\n\r\n  @Test\r\n  public void myTest() {\r\n    Future&lt;HttpField&gt; result = executor.submit(() -&gt; {\r\n      try (Socket sock = serverSock.accept()) {\r\n        // I need a way to create a request from the stream\r\n        Request req = ...;\r\n        // I need to initialize and send a response stub\r\n        Response rep = ...;\r\n        sock.getOutputStream().write(...);\r\n        // ...and return any value I want to inspect\r\n        return req.getField(&quot;Content-Type&quot;);\r\n      }\r\n    });\r\n    clientUnderTest.methodUnderTest();\r\n    var field = result.get();\r\n    assertEquals(field.getHeader(), HttpHeader.CONTENT_TYPE);\r\n    assertEquals(field.getValue(), &quot;application/json&quot;);\r\n  }\r\n}\r\n~~~\r\n\r\njetty&#39;s `HttpTester` and `HttpParser` look like the way to go, but they are quite poorly documented. Is it even the right way to stub the server? ","title":"Testing application using a stub server in jetty","body":"<p>I'm writing tests for an application that accesses web services over http. I'd like to create a stub server where I can verify the request that came from the client app and send a stub response. I'm trying to use jetty but its API documentation is quite lacking.\nI'd like to have something, where I can fetch and parse an HTTP request from the socket stream, send a stub response and introspect the request. Here is a dummy code where I test if the client sent a correct header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTestSuite {\n  ServerSocket serverSock;\n  ExecutorService executor;\n\n  @BeforeMethod\n  public void setupServerSocket() throws IOException {\n    serverSock = new ServerSocket(0);\n  }\n\n  @AfterMethod\n  public void teardownServerSocket() throws IOException {\n    serverSock.close();\n  }\n\n  @Test\n  public void myTest() {\n    Future&lt;HttpField&gt; result = executor.submit(() -&gt; {\n      try (Socket sock = serverSock.accept()) {\n        // I need a way to create a request from the stream\n        Request req = ...;\n        // I need to initialize and send a response stub\n        Response rep = ...;\n        sock.getOutputStream().write(...);\n        // ...and return any value I want to inspect\n        return req.getField(&quot;Content-Type&quot;);\n      }\n    });\n    clientUnderTest.methodUnderTest();\n    var field = result.get();\n    assertEquals(field.getHeader(), HttpHeader.CONTENT_TYPE);\n    assertEquals(field.getValue(), &quot;application/json&quot;);\n  }\n}\n</code></pre>\n<p>jetty's <code>HttpTester</code> and <code>HttpParser</code> look like the way to go, but they are quite poorly documented. Is it even the right way to stub the server?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1655132295,"post_id":72604931,"comment_id":128252508,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1655132401,"post_id":72604931,"comment_id":128252561,"body_markdown":"check this [link](https://meta.stackoverflow.com/a/285557/16320675)","body":"check this <a href=\"https://meta.stackoverflow.com/a/285557/16320675\">link</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655194105,"post_id":72604931,"comment_id":128267772,"body_markdown":"Where in your code are you adding the ValueEventListener? Please respond with @AlexMamo","body":"Where in your code are you adding the ValueEventListener? Please respond with @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":1964117,"reputation":1853,"user_id":1764803,"accept_rate":67,"display_name":"Ihor Bykov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655147759,"creation_date":1655147759,"answer_id":72608012,"question_id":72604931,"body_markdown":"&gt;reference.addValueEventListener(...)\r\n\r\nWhen do you run this code?\r\n\r\n\r\n\r\nMy assumption that you receive callback to ValueEventListener listener before you initialise `badge` object","title":"Attempt to invoke virtual method &#39;void android.widget.TextView.setVisibility(int)&#39; on a null object reference","body":"<blockquote>\n<p>reference.addValueEventListener(...)</p>\n</blockquote>\n<p>When do you run this code?</p>\n<p>My assumption that you receive callback to ValueEventListener listener before you initialise <code>badge</code> object</p>\n"}],"owner":{"account_id":25545718,"reputation":1,"user_id":19331072,"display_name":"Salahuddin Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655147759,"creation_date":1655132104,"question_id":72604931,"body_markdown":" I&#39;m setting the textview count to `VISIBLE` on the notfication\r\n that consist of a textview, but I&#39;m getting the error\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setVisibility(int)&#39; on a null object reference\r\n\r\n\r\n&gt; MainActivity \r\n\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot childSnapshot: snapshot.getChildren()) {\r\n                    ids.add(childSnapshot.getKey());\r\n                }\r\n\r\n\r\n                int i;\r\n                for ( i = 0 ; i &lt; ids.size();i++)\r\n                {\r\n                    ref = FirebaseDatabase.getInstance().getReference().child(&quot;Items&quot;).child(ids.get(i));\r\n\r\n                    ref.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                            for (DataSnapshot childSnapshot: snapshot.getChildren()) {\r\n                                hashmap.put(childSnapshot.getKey(),childSnapshot.getValue().toString());\r\n                            }\r\n\r\n\r\n                            if(Integer.parseInt(hashmap.get(&quot;qty&quot;))&lt;=25)\r\n                            {\r\n                                badge.setVisibility(View.VISIBLE);\r\n\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n&gt; On Create Options Menu\r\n\r\n     @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater mi = getMenuInflater();\r\n            mi.inflate(R.menu.actionbar,menu);\r\n             View notificaitons = menu.findItem(R.id.notification).getActionView();\r\n            ImageButton iconButtonMessages = (ImageButton) notificaitons.findViewById(R.id.badge_icon_button);\r\n            badge = (TextView) notificaitons.findViewById(R.id.noti);\r\n            iconButtonMessages.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent =new Intent(MainActivity.this,Notification.class);\r\n                    startActivity(intent);\r\n\r\n                }\r\n            });\r\n\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\n    \r\n\r\n&gt; onOptionsItemSelected\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.notification:\r\n                Intent intentHome = new Intent(this, Notification.class);\r\n                startActivity(intentHome);\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n","title":"Attempt to invoke virtual method &#39;void android.widget.TextView.setVisibility(int)&#39; on a null object reference","body":"<p>I'm setting the textview count to <code>VISIBLE</code> on the notfication\nthat consist of a textview, but I'm getting the error\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setVisibility(int)' on a null object reference</p>\n<blockquote>\n<p>MainActivity</p>\n</blockquote>\n<pre><code>reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot childSnapshot: snapshot.getChildren()) {\n                ids.add(childSnapshot.getKey());\n            }\n\n\n            int i;\n            for ( i = 0 ; i &lt; ids.size();i++)\n            {\n                ref = FirebaseDatabase.getInstance().getReference().child(&quot;Items&quot;).child(ids.get(i));\n\n                ref.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                        for (DataSnapshot childSnapshot: snapshot.getChildren()) {\n                            hashmap.put(childSnapshot.getKey(),childSnapshot.getValue().toString());\n                        }\n\n\n                        if(Integer.parseInt(hashmap.get(&quot;qty&quot;))&lt;=25)\n                        {\n                            badge.setVisibility(View.VISIBLE);\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n\n            }\n</code></pre>\n<blockquote>\n<p>On Create Options Menu</p>\n</blockquote>\n<pre><code> @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater mi = getMenuInflater();\n        mi.inflate(R.menu.actionbar,menu);\n         View notificaitons = menu.findItem(R.id.notification).getActionView();\n        ImageButton iconButtonMessages = (ImageButton) notificaitons.findViewById(R.id.badge_icon_button);\n        badge = (TextView) notificaitons.findViewById(R.id.noti);\n        iconButtonMessages.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent =new Intent(MainActivity.this,Notification.class);\n                startActivity(intent);\n\n            }\n        });\n\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n<blockquote>\n<p>onOptionsItemSelected</p>\n</blockquote>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.notification:\n            Intent intentHome = new Intent(this, Notification.class);\n            startActivity(intentHome);\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8726,"page":1266,"page_size":100}
