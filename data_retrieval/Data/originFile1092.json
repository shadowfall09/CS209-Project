{"items":[{"tags":["java","android","unity-game-engine"],"answers":[{"tags":[],"owner":{"account_id":17094848,"reputation":41,"user_id":12370066,"display_name":"spykeh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606370289,"creation_date":1606362560,"answer_id":65015852,"question_id":61621876,"body_markdown":"In my case the problem was that Mapbox SDK already included this file. I fixed it by removing all **.aar** files from `\\Assets\\Mapbox\\Core\\Plugins\\Android`","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>In my case the problem was that Mapbox SDK already included this file. I fixed it by removing all <strong>.aar</strong> files from <code>\\Assets\\Mapbox\\Core\\Plugins\\Android</code></p>\n"},{"tags":[],"owner":{"account_id":18303214,"reputation":11,"user_id":13327522,"display_name":"Vinay Ambapkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234653,"creation_date":1660824183,"answer_id":73402768,"question_id":61621876,"body_markdown":"Close Android studio then\r\n\r\n    1)Go to C:Users:&lt;OrgName&gt;: .android - delete &#39;cache&#39; folder.\r\n    2) Go to C:Users:&lt;OrgName&gt;: .gradle- delete &#39;caches&#39;, &#39;daemon&#39; and wrapper folder.\r\n\r\nthen restart Android studio. It should work.\r\n","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>Close Android studio then</p>\n<pre><code>1)Go to C:Users:&lt;OrgName&gt;: .android - delete 'cache' folder.\n2) Go to C:Users:&lt;OrgName&gt;: .gradle- delete 'caches', 'daemon' and wrapper folder.\n</code></pre>\n<p>then restart Android studio. It should work.</p>\n"}],"owner":{"account_id":18499507,"reputation":11,"user_id":13477155,"display_name":"abdel zaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661234653,"creation_date":1588708475,"question_id":61621876,"body_markdown":"I built my unity project to android but it has some error on gradle, so I decided to export it to Android studio\r\nbut when I export it I get the following error :\r\n\r\n        ERROR: Unable to resolve dependency for &#39;:unityLibrary@debug/compileClasspath&#39;: Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}.\r\n    Show Details\r\n    Affected Modules: unityLibrary\r\n\r\nthis is my build.gradle for unityLibrary\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    \r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation(name: &#39;androidx.arch.core.core-runtime-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.asynclayoutinflater.asynclayoutinflater-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.coordinatorlayout.coordinatorlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.core.core-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.cursoradapter.cursoradapter-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.customview.customview-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.documentfile.documentfile-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.drawerlayout.drawerlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.fragment.fragment-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.interpolator.interpolator-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.legacy.legacy-support-core-ui-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.legacy.legacy-support-core-utils-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-livedata-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-livedata-core-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-runtime-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-viewmodel-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.loader.loader-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.localbroadcastmanager.localbroadcastmanager-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.print.print-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.slidingpanelayout.slidingpanelayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.swiperefreshlayout.swiperefreshlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.versionedparcelable.versionedparcelable-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.viewpager.viewpager-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;animated-vector-drawable-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;appcompat-v7-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;arcore_client&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-ads-identifier-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-base-17.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-basement-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-api-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-base-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-impl-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-sdk-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-sdk-api-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-stats-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-tasks-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-analytics-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-app-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-19.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-interop-19.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-common-19.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-components-16.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-19.2.1&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-collection-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-iid-20.0.2&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-iid-interop-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-measurement-connector-18.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-storage-19.1.1&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-storage-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.mapbox.android.unity-debug&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;mapbox-android-telemetry-2-1-0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-compat-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-core-ui-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-core-utils-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-media-compat-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-v4-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-vector-drawable-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;unityandroidpermissions&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;UnityARCore&#39;, ext:&#39;aar&#39;)\r\n        implementation project(&#39;Firebase&#39;)\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &#39;28.0.3&#39;\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 24\r\n            targetSdkVersion 28\r\n            ndk {\r\n                abiFilters &#39;armeabi-v7a&#39;\r\n            }\r\n            versionCode 1\r\n            versionName &#39;0.1&#39;\r\n            consumerProguardFiles &#39;proguard-unity.txt&#39;\r\n        }\r\n    \r\n        lintOptions {\r\n            abortOnError false\r\n        }\r\n    \r\n        aaptOptions {\r\n            ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\r\n        }\r\n    \r\n        packagingOptions {\r\n            doNotStrip &#39;*/armeabi-v7a/*.so&#39;\r\n        }\r\n    }\r\n\r\ngradle.properties :\r\n\r\n    org.gradle.jvmargs=-Xmx4096M\r\n    org.gradle.parallel=true\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nAndroid studio version : 3.5.\r\nGradle version : 5.4.1.\r\n\r\nI cleaned the project and rebuilt but not works\r\n\r\n\r\n\r\n\r\n\r\n","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>I built my unity project to android but it has some error on gradle, so I decided to export it to Android studio\nbut when I export it I get the following error :</p>\n\n<pre><code>    ERROR: Unable to resolve dependency for ':unityLibrary@debug/compileClasspath': Failed to transform artifact 'support-v4-25.1.0.aar (:support-v4-25.1.0:)' to match attributes {artifactType=jar}.\nShow Details\nAffected Modules: unityLibrary\n</code></pre>\n\n<p>this is my build.gradle for unityLibrary</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation(name: 'androidx.arch.core.core-runtime-2.0.0', ext:'aar')\n    implementation(name: 'androidx.asynclayoutinflater.asynclayoutinflater-1.0.0', ext:'aar')\n    implementation(name: 'androidx.coordinatorlayout.coordinatorlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.core.core-1.0.0', ext:'aar')\n    implementation(name: 'androidx.cursoradapter.cursoradapter-1.0.0', ext:'aar')\n    implementation(name: 'androidx.customview.customview-1.0.0', ext:'aar')\n    implementation(name: 'androidx.documentfile.documentfile-1.0.0', ext:'aar')\n    implementation(name: 'androidx.drawerlayout.drawerlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.fragment.fragment-1.0.0', ext:'aar')\n    implementation(name: 'androidx.interpolator.interpolator-1.0.0', ext:'aar')\n    implementation(name: 'androidx.legacy.legacy-support-core-ui-1.0.0', ext:'aar')\n    implementation(name: 'androidx.legacy.legacy-support-core-utils-1.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-livedata-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-livedata-core-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-runtime-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-viewmodel-2.0.0', ext:'aar')\n    implementation(name: 'androidx.loader.loader-1.0.0', ext:'aar')\n    implementation(name: 'androidx.localbroadcastmanager.localbroadcastmanager-1.0.0', ext:'aar')\n    implementation(name: 'androidx.print.print-1.0.0', ext:'aar')\n    implementation(name: 'androidx.slidingpanelayout.slidingpanelayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.swiperefreshlayout.swiperefreshlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.versionedparcelable.versionedparcelable-1.0.0', ext:'aar')\n    implementation(name: 'androidx.viewpager.viewpager-1.0.0', ext:'aar')\n    implementation(name: 'animated-vector-drawable-25.1.0', ext:'aar')\n    implementation(name: 'appcompat-v7-25.1.0', ext:'aar')\n    implementation(name: 'arcore_client', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-ads-identifier-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-base-17.1.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-basement-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-api-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-base-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-impl-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-sdk-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-sdk-api-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-stats-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-tasks-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-analytics-17.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-app-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-19.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-interop-19.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-common-19.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-components-16.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-19.2.1', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-collection-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-iid-20.0.2', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-iid-interop-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-measurement-connector-18.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-storage-19.1.1', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-storage-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.mapbox.android.unity-debug', ext:'aar')\n    implementation(name: 'mapbox-android-telemetry-2-1-0', ext:'aar')\n    implementation(name: 'support-compat-25.1.0', ext:'aar')\n    implementation(name: 'support-core-ui-25.1.0', ext:'aar')\n    implementation(name: 'support-core-utils-25.1.0', ext:'aar')\n    implementation(name: 'support-media-compat-25.1.0', ext:'aar')\n    implementation(name: 'support-v4-25.1.0', ext:'aar')\n    implementation(name: 'support-vector-drawable-25.1.0', ext:'aar')\n    implementation(name: 'unityandroidpermissions', ext:'aar')\n    implementation(name: 'UnityARCore', ext:'aar')\n    implementation project('Firebase')\n}\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion 24\n        targetSdkVersion 28\n        ndk {\n            abiFilters 'armeabi-v7a'\n        }\n        versionCode 1\n        versionName '0.1'\n        consumerProguardFiles 'proguard-unity.txt'\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    aaptOptions {\n        ignoreAssetsPattern = \"!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~\"\n    }\n\n    packagingOptions {\n        doNotStrip '*/armeabi-v7a/*.so'\n    }\n}\n</code></pre>\n\n<p>gradle.properties :</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx4096M\norg.gradle.parallel=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>Android studio version : 3.5.\nGradle version : 5.4.1.</p>\n\n<p>I cleaned the project and rebuilt but not works</p>\n"},{"tags":["java","macos","keytool"],"comments":[{"owner":{"account_id":5877408,"reputation":2486,"user_id":4627880,"accept_rate":80,"display_name":"JamesD"},"score":0,"creation_date":1531826979,"post_id":39774665,"comment_id":89732030,"body_markdown":"same issue, I am using /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/bin/keytool instead did you get anywher with this ?","body":"same issue, I am using /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/&zwnj;&#8203;Home/bin/keytool instead did you get anywher with this ?"},{"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"score":0,"creation_date":1608538136,"post_id":39774665,"comment_id":115604546,"body_markdown":"As suggested, try typing the command. Also try without quotation marks around the alias, they shouldn&#39;t be needed. Lastly, I always use the operation -importcert to import a certificate to a keystore (my keytool doesn&#39;t list the operation -import at all).","body":"As suggested, try typing the command. Also try without quotation marks around the alias, they shouldn&#39;t be needed. Lastly, I always use the operation -importcert to import a certificate to a keystore (my keytool doesn&#39;t list the operation -import at all)."}],"answers":[{"tags":[],"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1475164036,"creation_date":1475164036,"answer_id":39774758,"question_id":39774665,"body_markdown":"OSX includes its own certificate and credentials management tool, which name is also `keytool`.\r\n\r\nThe most probable cause is that you are using OSX&#39;s `keytool`  instead of Java `keytool` (as this provides the `-alias` option)\r\n\r\nUse the full path for Java keytool on the command line, which is `JAVA_HOME/bin/keytool`","title":"Keytool giving error for Illegal option: -alias","body":"<p>OSX includes its own certificate and credentials management tool, which name is also <code>keytool</code>.</p>\n\n<p>The most probable cause is that you are using OSX's <code>keytool</code>  instead of Java <code>keytool</code> (as this provides the <code>-alias</code> option)</p>\n\n<p>Use the full path for Java keytool on the command line, which is <code>JAVA_HOME/bin/keytool</code></p>\n"},{"tags":[],"owner":{"account_id":1221292,"reputation":343,"user_id":1187896,"display_name":"M.A.Naseer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502312871,"creation_date":1502312871,"answer_id":45600652,"question_id":39774665,"body_markdown":"Try removing the quotes around the &quot;myappProd&quot; in alias value. \r\n\r\nso the command should be\r\n\r\n    keytool -import -alias myappProd -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer ","title":"Keytool giving error for Illegal option: -alias","body":"<p>Try removing the quotes around the \"myappProd\" in alias value. </p>\n\n<p>so the command should be</p>\n\n<pre><code>keytool -import -alias myappProd -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1603918985,"creation_date":1603918985,"answer_id":64581251,"question_id":39774665,"body_markdown":"This might sound silly, but was happening also to me.\r\n\r\nI typed the command instead of using copy/paste into terminal, that worked.\r\n\r\nApparently the hyphen was different","title":"Keytool giving error for Illegal option: -alias","body":"<p>This might sound silly, but was happening also to me.</p>\n<p>I typed the command instead of using copy/paste into terminal, that worked.</p>\n<p>Apparently the hyphen was different</p>\n"},{"tags":[],"owner":{"account_id":15513031,"reputation":453,"user_id":11191344,"display_name":"Yoshita Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608536398,"creation_date":1608536037,"answer_id":65388984,"question_id":39774665,"body_markdown":"When you face this issue Keytool giving error for Illegal option: -alias\r\n\r\nTry typing the whole command instead of copy pasting the command in command prompt .You wont face any issue.","title":"Keytool giving error for Illegal option: -alias","body":"<p>When you face this issue Keytool giving error for Illegal option: -alias</p>\n<p>Try typing the whole command instead of copy pasting the command in command prompt .You wont face any issue.</p>\n"},{"tags":[],"owner":{"account_id":20139558,"reputation":27,"user_id":14769736,"display_name":"Fahad Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234514,"creation_date":1660807968,"answer_id":73399093,"question_id":39774665,"body_markdown":"In my case, I had to type the command to resolve the issue. but ignore the first back slash &quot;\\\\&quot; in the statement. \r\n**Instead of**\r\n\r\n    keytool -list -v \\\\\r\n    -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n\r\n**type this**\r\n\r\n    keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore","title":"Keytool giving error for Illegal option: -alias","body":"<p>In my case, I had to type the command to resolve the issue. but ignore the first back slash &quot;\\&quot; in the statement.\n<strong>Instead of</strong></p>\n<pre><code>keytool -list -v \\\\\n-alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p><strong>type this</strong></p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n"}],"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21679,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1661234514,"creation_date":1475163779,"question_id":39774665,"body_markdown":"I&#39;m trying to import a certificate to my cacerts file in my java installation.\r\n\r\nThis command seems to give me the error &quot;Illegal option: -alias myappProd&quot;.\r\n\r\n    $ keytool -import -alias&#160;&quot;myappProd&quot; -keystore&#160;/Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file&#160;/Users/myuser/Downloads/certs/javaprod.cer \r\n    Illegal option:  -alias&#160;myappProd\r\n\r\nHow can I get past this issue?\r\n","title":"Keytool giving error for Illegal option: -alias","body":"<p>I'm trying to import a certificate to my cacerts file in my java installation.</p>\n\n<p>This command seems to give me the error \"Illegal option: -alias myappProd\".</p>\n\n<pre><code>$ keytool -import -alias \"myappProd\" -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer \nIllegal option:  -alias myappProd\n</code></pre>\n\n<p>How can I get past this issue?</p>\n"},{"tags":["java","email","selenium-webdriver","gmail-imap"],"comments":[{"owner":{"account_id":22997491,"reputation":63,"user_id":17122008,"display_name":"jalcala"},"score":0,"creation_date":1655332595,"post_id":72632604,"comment_id":128310808,"body_markdown":"Does this answer your question? [Is there a work around google disabling &quot;Less secure apps&quot;?](https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps\">Is there a work around google disabling &quot;Less secure apps&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22997491,"reputation":63,"user_id":17122008,"display_name":"jalcala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655305873,"creation_date":1655305873,"answer_id":72633811,"question_id":72632604,"body_markdown":"You have to use a different authentication method. Either OAuth2 or an [app password][1]. See [this question][2] which this is likely a duplicate of. \r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/185833?hl=en\r\n  [2]: https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p>You have to use a different authentication method. Either OAuth2 or an <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow noreferrer\">app password</a>. See <a href=\"https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps\">this question</a> which this is likely a duplicate of.</p>\n"},{"tags":[],"owner":{"account_id":2285959,"reputation":335,"user_id":3392152,"accept_rate":50,"display_name":"Varun Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661234087,"creation_date":1661234087,"answer_id":73453753,"question_id":72632604,"body_markdown":"You have to Create &amp; use App Passwords\r\n\r\nGo to your Google [Account][1].\r\nSelect Security.\r\nUnder &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option or 2-Step Verification is not set up for your account.\r\n\r\nAt the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\r\nFollow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device. Clink on Done.\r\n\r\nIf you are getting cert error try this :\r\n\r\n    \r\n    String certificatesTrustStorePath = &quot;C:\\\\jdk-17.0.2.8-hotspot\\\\lib\\\\security\\\\security\\\\cacerts&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\r\n\r\nIf you are getting TTL/SSL error try this:\r\n\r\n    System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n    System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n  [1]: https://myaccount.google.com/","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p>You have to Create &amp; use App Passwords</p>\n<p>Go to your Google <a href=\"https://myaccount.google.com/\" rel=\"nofollow noreferrer\">Account</a>.\nSelect Security.\nUnder &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option or 2-Step Verification is not set up for your account.</p>\n<p>At the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\nFollow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device. Clink on Done.</p>\n<p>If you are getting cert error try this :</p>\n<pre><code>String certificatesTrustStorePath = &quot;C:\\\\jdk-17.0.2.8-hotspot\\\\lib\\\\security\\\\security\\\\cacerts&quot;;\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\n</code></pre>\n<p>If you are getting TTL/SSL error try this:</p>\n<pre><code>System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\nSystem.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n"}],"owner":{"account_id":25562882,"reputation":3,"user_id":19345223,"display_name":"Neha Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73453753,"answer_count":2,"score":0,"last_activity_date":1661234087,"creation_date":1655300712,"question_id":72632604,"body_markdown":"*Error which i faced*\r\ninternal.qaauto.framework.exceptions.EmailDriverException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\r\n\r\n\tat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:55)\r\n\tat certainwebapptests.CreateSubAccount.setUp(CreateSubAccount.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:782)\r\n\tat org.testng.TestRunner.run(TestRunner.java:632)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.run(TestNG.java:1064)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\r\n\tat javax.mail.Service.connect(Service.java:295)\r\n\tat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:45)\r\n\t... 24 more\r\n\r\n*Here is my code*\r\ntry {\r\n            Properties connectionProperties = new Properties();\r\n\r\n            // Set IMAPS as store protocol\r\n\r\n\r\n            connectionProperties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n            connectionProperties.put(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n\r\n            // Create a session with mail server\r\n            session = Session.getDefaultInstance(connectionProperties);\r\n\r\n            // Get the Store, which is JavaMail name for the entity that holds the mails.\r\n            store = session.getStore(&quot;imaps&quot;);\r\n\r\n            // Connect the recently created Store\r\n            reporter.debug(&quot;Connecting to &quot; + MAIL_HOSTNAME + &quot;:&quot; + IMAP_PORT + &quot; using &quot; + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD);\r\n            store.connect(MAIL_HOSTNAME, IMAP_PORT, MAIL_USER, MAIL_PASSWORD);\r\n\r\n            // Check that connection was successful\r\n            checkConnection();\r\n\r\n            // Select Inbox folder\r\n            selectFolder(&quot;Inbox&quot;);\r\n        } catch (MessagingException e) {\r\n            reporter.error(&quot;Unable to connect to mail server &quot; + MAIL_HOSTNAME + &quot; through port &quot; + IMAP_PORT + &quot;. Using &quot;\r\n                    + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD + &quot;. Reason: &quot; + e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p><em>Error which i faced</em>\ninternal.qaauto.framework.exceptions.EmailDriverException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)</p>\n<pre><code>at internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:55)\nat certainwebapptests.CreateSubAccount.setUp(CreateSubAccount.java:53)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\nat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\nat org.testng.TestRunner.privateRun(TestRunner.java:782)\nat org.testng.TestRunner.run(TestRunner.java:632)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\nat org.testng.SuiteRunner.run(SuiteRunner.java:268)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\nat org.testng.TestNG.run(TestNG.java:1064)\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Caused by: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\nat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\nat javax.mail.Service.connect(Service.java:295)\nat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:45)\n... 24 more</p>\n<p><em>Here is my code</em>\ntry {\nProperties connectionProperties = new Properties();</p>\n<pre><code>        // Set IMAPS as store protocol\n\n\n        connectionProperties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n        connectionProperties.put(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\n\n        // Create a session with mail server\n        session = Session.getDefaultInstance(connectionProperties);\n\n        // Get the Store, which is JavaMail name for the entity that holds the mails.\n        store = session.getStore(&quot;imaps&quot;);\n\n        // Connect the recently created Store\n        reporter.debug(&quot;Connecting to &quot; + MAIL_HOSTNAME + &quot;:&quot; + IMAP_PORT + &quot; using &quot; + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD);\n        store.connect(MAIL_HOSTNAME, IMAP_PORT, MAIL_USER, MAIL_PASSWORD);\n\n        // Check that connection was successful\n        checkConnection();\n\n        // Select Inbox folder\n        selectFolder(&quot;Inbox&quot;);\n    } catch (MessagingException e) {\n        reporter.error(&quot;Unable to connect to mail server &quot; + MAIL_HOSTNAME + &quot; through port &quot; + IMAP_PORT + &quot;. Using &quot;\n                + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD + &quot;. Reason: &quot; + e.getMessage());\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1659021478,"post_id":73155196,"comment_id":129201402,"body_markdown":"Wrong encoding used.  Need UTF-8.  Is Postman assuming ASCII?","body":"Wrong encoding used.  Need UTF-8.  Is Postman assuming ASCII?"},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659021725,"post_id":73155196,"comment_id":129201498,"body_markdown":"Nope, content-type = application/json and I also tried adding charset=utf-8 in content-type but still shows ? in UAT env.","body":"Nope, content-type = application/json and I also tried adding charset=utf-8 in content-type but still shows ? in UAT env."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1659021776,"post_id":73155196,"comment_id":129201523,"body_markdown":"That&#39;s fine for the HTTP request.  What about the Postman display?  Your problem occurs in the last mile when rendering on the UI.","body":"That&#39;s fine for the HTTP request.  What about the Postman display?  Your problem occurs in the last mile when rendering on the UI."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659021946,"post_id":73155196,"comment_id":129201578,"body_markdown":"@duffymo not yet integrated with UI. But when I debugged it, I can see ? symbol there also, so if that&#39;s the case, how UI can convert it into pound by itself? Only after integration we will get to know.","body":"@duffymo not yet integrated with UI. But when I debugged it, I can see ? symbol there also, so if that&#39;s the case, how UI can convert it into pound by itself? Only after integration we will get to know."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1659021991,"post_id":73155196,"comment_id":129201596,"body_markdown":"That&#39;s the part that needs to be figured out.  Sounds like the data is there.  Need to make sure the renderer is interpreting it correctly.","body":"That&#39;s the part that needs to be figured out.  Sounds like the data is there.  Need to make sure the renderer is interpreting it correctly."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1659022023,"post_id":73155196,"comment_id":129201608,"body_markdown":"Try swagger UI and see what the data looks like?","body":"Try swagger UI and see what the data looks like?"},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659460254,"post_id":73155196,"comment_id":129298474,"body_markdown":"@Enfieldli I can&#39;t use swagger UI cuz testing of api required tons of headers to be passed which I don&#39;t know how to pass via swagger UI. So far no help yet.","body":"@Enfieldli I can&#39;t use swagger UI cuz testing of api required tons of headers to be passed which I don&#39;t know how to pass via swagger UI. So far no help yet."}],"answers":[{"tags":[],"owner":{"account_id":26135582,"reputation":11,"user_id":19825625,"display_name":"Sumit Sagar Lakra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661233335,"creation_date":1661233335,"answer_id":73453655,"question_id":73155196,"body_markdown":"There is a specific character that shows up wrong when UTF-8 is set from the client(SoapUI) in the header content-type: application/json;charset=UTF-8.\r\nFor more details [Check this link][1] \r\n\r\n\r\n  [1]: https://knowledge.broadcom.com/external/article/72616/western-european-characters-do-not-displ.html","title":"Why Pound symbol (&#163;) is converted to question mark (?) in Postman?","body":"<p>There is a specific character that shows up wrong when UTF-8 is set from the client(SoapUI) in the header content-type: application/json;charset=UTF-8.\nFor more details <a href=\"https://knowledge.broadcom.com/external/article/72616/western-european-characters-do-not-displ.html\" rel=\"nofollow noreferrer\">Check this link</a></p>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1661233335,"creation_date":1659021324,"question_id":73155196,"body_markdown":"I have set some error code and message in a JSON file in my project which looks like (not original code for safety):\r\n\r\n    {\r\n    &quot;ERROR&quot;:&quot;Limit is &#163;100.&quot;\r\n    }\r\nWhen I set this message to be thrown as exception when testing from Postman, instead of showing `Limit is &#163;100.`, it shows like `Limit is ?100.`\r\n\r\nSo, I&#39;m worried why `&#163;` gets converted to `?`. Then, I tried to replace this **?** with **&#163;** by using below code:\r\n\r\n    String message = fetchErrorMessage(&quot;ERROR&quot;, ***some parameters***);\r\n    if (message != null) {\r\n    message = message.contains(&quot;�&quot;)\r\n            ? message.replaceAll(&quot;�&quot;, &quot;&#163;&quot;)\r\n            : message;\r\n    }\r\n\r\n**Note: I checked with � instead of **?** because when I was debugging the code and hover over the `message` to check whether it contains the `&#163;` symbol or not, I found that it was having a weird looking square block (check screenshot below). So, I copy-paste it and got to know it&#39;s a question mark symbol inside a black diamond.**\r\n[![enter image description here][1]][1]\r\n\r\nNow, with above piece of code change, the message is coming properly in Postman but soon I realized that when I deployed the code in UAT environment, it still shows `?`.\r\n\r\nSo, any workaround how to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nayv2.png","title":"Why Pound symbol (&#163;) is converted to question mark (?) in Postman?","body":"<p>I have set some error code and message in a JSON file in my project which looks like (not original code for safety):</p>\n<pre><code>{\n&quot;ERROR&quot;:&quot;Limit is £100.&quot;\n}\n</code></pre>\n<p>When I set this message to be thrown as exception when testing from Postman, instead of showing <code>Limit is £100.</code>, it shows like <code>Limit is ?100.</code></p>\n<p>So, I'm worried why <code>£</code> gets converted to <code>?</code>. Then, I tried to replace this <strong>?</strong> with <strong>£</strong> by using below code:</p>\n<pre><code>String message = fetchErrorMessage(&quot;ERROR&quot;, ***some parameters***);\nif (message != null) {\nmessage = message.contains(&quot;�&quot;)\n        ? message.replaceAll(&quot;�&quot;, &quot;£&quot;)\n        : message;\n}\n</code></pre>\n<p><strong>Note: I checked with � instead of <strong>?</strong> because when I was debugging the code and hover over the <code>message</code> to check whether it contains the <code>£</code> symbol or not, I found that it was having a weird looking square block (check screenshot below). So, I copy-paste it and got to know it's a question mark symbol inside a black diamond.</strong>\n<a href=\"https://i.stack.imgur.com/nayv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nayv2.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, with above piece of code change, the message is coming properly in Postman but soon I realized that when I deployed the code in UAT environment, it still shows <code>?</code>.</p>\n<p>So, any workaround how to fix it?</p>\n"},{"tags":["java","private-key"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1661240782,"post_id":73453588,"comment_id":129718038,"body_markdown":"what is getPublicKey?","body":"what is getPublicKey?"},{"owner":{"account_id":375465,"reputation":43,"user_id":726319,"display_name":"Jason"},"score":0,"creation_date":1661301720,"post_id":73453588,"comment_id":129737878,"body_markdown":"It&#39;s just deriving the ECPublicKey from the ECPrivateKey (not the PublicKey that I think I need to get back to a KeyPair).","body":"It&#39;s just deriving the ECPublicKey from the ECPrivateKey (not the PublicKey that I think I need to get back to a KeyPair)."}],"owner":{"account_id":375465,"reputation":43,"user_id":726319,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661232767,"creation_date":1661232767,"question_id":73453588,"body_markdown":"I generated a secp256k1 KeyPair and saved the private key to a file as Base58 and Base64.\r\n\r\nI thought perhaps it was a standard PrivateKey string from:\r\n\r\n       Base64.encode(privateKey.getEncoded())\r\n\r\nThe Base58 string is 87 characters long.\r\nThe Base64 string is 88 characters long.\r\n\r\nI believe I&#39;m able to get the PrivateKey, ECPrivateKey, and ECPublicKey from this:\r\n\r\n     byte[] pkcs8EncodedBytes = Base64.decode(known64);\r\n     KeyFactory kecFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n     PrivateKey privateKeyNative = kecFactory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedBytes));\r\n     ECPrivateKey ecPrivateKeyNative = (ECPrivateKey) privateKeyNative;\r\n     ECPublicKey ecPublicKeyNative = getPublicKey(ecPrivateKeyNative);\r\n\r\nIt works without error, however I need to get back to the full KeyPair. I&#39;ve tried all sorts of looking online and just seem to be hitting a wall.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n\r\n","title":"Can&#39;t recover full KeyPair from PrivateKey saved as string","body":"<p>I generated a secp256k1 KeyPair and saved the private key to a file as Base58 and Base64.</p>\n<p>I thought perhaps it was a standard PrivateKey string from:</p>\n<pre><code>   Base64.encode(privateKey.getEncoded())\n</code></pre>\n<p>The Base58 string is 87 characters long.\nThe Base64 string is 88 characters long.</p>\n<p>I believe I'm able to get the PrivateKey, ECPrivateKey, and ECPublicKey from this:</p>\n<pre><code> byte[] pkcs8EncodedBytes = Base64.decode(known64);\n KeyFactory kecFactory = KeyFactory.getInstance(&quot;EC&quot;);\n PrivateKey privateKeyNative = kecFactory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedBytes));\n ECPrivateKey ecPrivateKeyNative = (ECPrivateKey) privateKeyNative;\n ECPublicKey ecPublicKeyNative = getPublicKey(ecPrivateKeyNative);\n</code></pre>\n<p>It works without error, however I need to get back to the full KeyPair. I've tried all sorts of looking online and just seem to be hitting a wall.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","shutdown-hook"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1659442218,"post_id":73207293,"comment_id":129291220,"body_markdown":"Where are you running it? Lambda? EC2? How are you shutting it down?","body":"Where are you running it? Lambda? EC2? How are you shutting it down?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1659442263,"post_id":73207293,"comment_id":129291238,"body_markdown":"Hi @Michael EC2! And Amazon is shutting the machine!","body":"Hi @Michael EC2! And Amazon is shutting the machine!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659442762,"post_id":73207293,"comment_id":129291419,"body_markdown":"It would depend on how the runtime is being ended. Certain process signals (e.g. `SIGKILL`) and in-process calls (like `Runtime#halt`) will not reliably call shutdown hooks. You will likely need to look within AWS&#39;s documentation regarding how to handle this situation.","body":"It would depend on how the runtime is being ended. Certain process signals (e.g. <code>SIGKILL</code>) and in-process calls (like <code>Runtime#halt</code>) will not reliably call shutdown hooks. You will likely need to look within AWS&#39;s documentation regarding how to handle this situation."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1659442836,"post_id":73207293,"comment_id":129291457,"body_markdown":"According to some other threads I found, it should wait minutes or more, so I suspect this is the JVM rather than anything to do with AWS. Maybe your shutdown task is async so unblocks the shutdown thread?","body":"According to some other threads I found, it should wait minutes or more, so I suspect this is the JVM rather than anything to do with AWS. Maybe your shutdown task is async so unblocks the shutdown thread?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1659442843,"post_id":73207293,"comment_id":129291460,"body_markdown":"The shutdown is called indeed but is not finish i dont know why!","body":"The shutdown is called indeed but is not finish i dont know why!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1659444004,"post_id":73207293,"comment_id":129291959,"body_markdown":"Include the code for your shutdown hook.","body":"Include the code for your shutdown hook."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659618139,"post_id":73207293,"comment_id":129340815,"body_markdown":"It&#39;s important to include the actual code involved here (or at least the same methods in use). If that shutdown hook is merely starting a lot of threads, but never using `Thread#join` on them, then the shutdown hook thread will terminate without waiting for the other threads.","body":"It&#39;s important to include the actual code involved here (or at least the same methods in use). If that shutdown hook is merely starting a lot of threads, but never using <code>Thread#join</code> on them, then the shutdown hook thread will terminate without waiting for the other threads."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661232698,"creation_date":1659442514,"answer_id":73207373,"question_id":73207293,"body_markdown":"Normally projects use &quot;transactions&quot; for this kind of cases. You can&#39;t really avoid a machine being shutted down, and sometimes you will not even get a notification. The only solution to reliable deal with this problem is to use ATOMIC operations aka &quot;transactions&quot;\r\n\r\nThere is no way to guarantee a shutdown hook always finish or even being fired at all, otherwise you could hang the shutdown process indefinitally in the shutdown hook. shutdown hook is to give you chance to shutdown gracefully - eg. notify other components of the system so they will not waste time on trying to connect, or to maybe try to save something, which might be usefull. But this can be used for kind of shutdown optimization to be as gracefull as possible, but it is not for relying on it for data or operation integrity. That&#39;s it, and if you will think about it it makes perfect sense.","title":"Java there is a way to guarantee a shutdown hook finish?","body":"<p>Normally projects use &quot;transactions&quot; for this kind of cases. You can't really avoid a machine being shutted down, and sometimes you will not even get a notification. The only solution to reliable deal with this problem is to use ATOMIC operations aka &quot;transactions&quot;</p>\n<p>There is no way to guarantee a shutdown hook always finish or even being fired at all, otherwise you could hang the shutdown process indefinitally in the shutdown hook. shutdown hook is to give you chance to shutdown gracefully - eg. notify other components of the system so they will not waste time on trying to connect, or to maybe try to save something, which might be usefull. But this can be used for kind of shutdown optimization to be as gracefull as possible, but it is not for relying on it for data or operation integrity. That's it, and if you will think about it it makes perfect sense.</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661232698,"creation_date":1659442073,"question_id":73207293,"body_markdown":"I need to perform some medium load on shutdown but in AWS the machine is giving only 2 or less seconds to the thread to perform and only 45-47% of load is consume.\r\n\r\nIs there is a way to increase this? or is nothing i can do!\r\n\r\nThread started.\r\n\r\n    07:22:09.476 [Thread-61] INFO  com.company.main.Main.lambda$run$0(307) - Shutdown process start with thread: [Thread-61]\r\n\r\nAnd the last line.\r\n\r\n    07:22:11.026 [Thread-61] DEBUG c.p.w.company.lambda$sort$1(341)\r\n\r\nAs you can see like 1.5 seconds is giving to thread to finish and i need to do finish the method :(\r\n\r\nWe are using EC2!\r\n\r\nSorry if the question is plain but this is giving me nightmares.\r\n\r\nThe code is not mine but is something like this.\r\n\r\n    public class Main extends Thread {\r\n\r\nIn public static method we create some Threads.\r\n\r\n\r\n    for (int i = 0; i &lt; threads; i++) {\r\n          Main main = (Main) ctx.getBean(&quot;beanName&quot;);\r\n          main.setName(&quot;main-&quot; + i);\r\n          main.start();\r\n     }\r\n\r\nThe Main class **run** method override\r\n\r\n    @Override\r\n    public void run() {\r\n        if (StringUtils.equals(&quot;main-0&quot;, Thread.currentThread().getName())) {\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                doWork();\r\n            }));\r\n        }\r\n\r\nAs you can see we are creating the shutdown on the 1 Main thread created, i did created the shutdown on the **main** thread as well but the same thing happens.\r\n\r\n","title":"Java there is a way to guarantee a shutdown hook finish?","body":"<p>I need to perform some medium load on shutdown but in AWS the machine is giving only 2 or less seconds to the thread to perform and only 45-47% of load is consume.</p>\n<p>Is there is a way to increase this? or is nothing i can do!</p>\n<p>Thread started.</p>\n<pre><code>07:22:09.476 [Thread-61] INFO  com.company.main.Main.lambda$run$0(307) - Shutdown process start with thread: [Thread-61]\n</code></pre>\n<p>And the last line.</p>\n<pre><code>07:22:11.026 [Thread-61] DEBUG c.p.w.company.lambda$sort$1(341)\n</code></pre>\n<p>As you can see like 1.5 seconds is giving to thread to finish and i need to do finish the method :(</p>\n<p>We are using EC2!</p>\n<p>Sorry if the question is plain but this is giving me nightmares.</p>\n<p>The code is not mine but is something like this.</p>\n<pre><code>public class Main extends Thread {\n</code></pre>\n<p>In public static method we create some Threads.</p>\n<pre><code>for (int i = 0; i &lt; threads; i++) {\n      Main main = (Main) ctx.getBean(&quot;beanName&quot;);\n      main.setName(&quot;main-&quot; + i);\n      main.start();\n }\n</code></pre>\n<p>The Main class <strong>run</strong> method override</p>\n<pre><code>@Override\npublic void run() {\n    if (StringUtils.equals(&quot;main-0&quot;, Thread.currentThread().getName())) {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            doWork();\n        }));\n    }\n</code></pre>\n<p>As you can see we are creating the shutdown on the 1 Main thread created, i did created the shutdown on the <strong>main</strong> thread as well but the same thing happens.</p>\n"},{"tags":["java","android","kotlin","gesture"],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661232188,"creation_date":1661232188,"question_id":73453518,"body_markdown":"I need to use `setSystemGestureExclusionRects` to prevent Android&#39;s &quot;swipe from edge of device to trigger back navigation&quot;, for my app&#39;s painter-like feature. However, though it works perfectly on android simulator, it does not work for many real devices.\r\n\r\nReproducible sample: https://github.com/fzyzcjy/android_gesture_exclusion_example\r\n\r\nCore code(https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt): \r\n\r\n        binding.root.doOnNextLayout {\r\n            val exclusions = listOf(Rect(0, it.bottom - 200, 100, it.bottom))\r\n            ViewCompat.setSystemGestureExclusionRects(binding.root, exclusions)\r\n        }\r\n\r\n\r\nExpected behavior: When dragging horizontally from left to right near the left-bottom of the left edge of the device (i.e. the `exclusions` region in the code), android system should not trigger back navigation.\r\n\r\nExperiments:\r\n\r\n* Android simulator, android 30: Expected behavior\r\n* Android simulator, android 29: Expected behavior\r\n* Real Redmi device, android 29: Unexpected behavior (seems the `setSystemGestureExclusionRects` does not work at all)\r\n* Real Honor device, android 29: Unexpected behavior (same as above)","title":"`setSystemGestureExclusionRects` does not work for many real devices","body":"<p>I need to use <code>setSystemGestureExclusionRects</code> to prevent Android's &quot;swipe from edge of device to trigger back navigation&quot;, for my app's painter-like feature. However, though it works perfectly on android simulator, it does not work for many real devices.</p>\n<p>Reproducible sample: <a href=\"https://github.com/fzyzcjy/android_gesture_exclusion_example\" rel=\"nofollow noreferrer\">https://github.com/fzyzcjy/android_gesture_exclusion_example</a></p>\n<p>Core code(<a href=\"https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt</a>):</p>\n<pre><code>    binding.root.doOnNextLayout {\n        val exclusions = listOf(Rect(0, it.bottom - 200, 100, it.bottom))\n        ViewCompat.setSystemGestureExclusionRects(binding.root, exclusions)\n    }\n</code></pre>\n<p>Expected behavior: When dragging horizontally from left to right near the left-bottom of the left edge of the device (i.e. the <code>exclusions</code> region in the code), android system should not trigger back navigation.</p>\n<p>Experiments:</p>\n<ul>\n<li>Android simulator, android 30: Expected behavior</li>\n<li>Android simulator, android 29: Expected behavior</li>\n<li>Real Redmi device, android 29: Unexpected behavior (seems the <code>setSystemGestureExclusionRects</code> does not work at all)</li>\n<li>Real Honor device, android 29: Unexpected behavior (same as above)</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661229815,"post_id":73453196,"comment_id":129715384,"body_markdown":"Where are these files located? Do you use an IDE?","body":"Where are these files located? Do you use an IDE?"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230025,"post_id":73453196,"comment_id":129715411,"body_markdown":"In the same folder. The the enum part and the RawAsupFile part are in different files within the same folder. The enum part is located in a file called QueueType.java and the other part is in a file called RawAsupFile.java. I was able to compile and get QueueType.class. I cannot compile RawAsupFile.java","body":"In the same folder. The the enum part and the RawAsupFile part are in different files within the same folder. The enum part is located in a file called QueueType.java and the other part is in a file called RawAsupFile.java. I was able to compile and get QueueType.class. I cannot compile RawAsupFile.java"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661230126,"post_id":73453196,"comment_id":129715427,"body_markdown":"Is the folder called `mypack`? How do you compile the files?","body":"Is the folder called <code>mypack</code>? How do you compile the files?"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230259,"post_id":73453196,"comment_id":129715447,"body_markdown":"mypack is a place holder, I have replaced the original value due to privacy reasons. But both the files are in the same package. I compile on the terminal using javac filename.java","body":"mypack is a place holder, I have replaced the original value due to privacy reasons. But both the files are in the same package. I compile on the terminal using javac filename.java"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661230475,"post_id":73453196,"comment_id":129715487,"body_markdown":"a) the folder structure has to follow the package structure (that&#39;s why I asked), b) you have to tell javac where it should try to find classes (aka class path), go one directory up (the root of your package/folder structure) and call `javac -cp . mypackage/Filename.java` (you can also use `*.java` to compile all files in this directory at once)","body":"a) the folder structure has to follow the package structure (that&#39;s why I asked), b) you have to tell javac where it should try to find classes (aka class path), go one directory up (the root of your package/folder structure) and call <code>javac -cp . mypackage&#47;Filename.java</code> (you can also use <code>*.java</code> to compile all files in this directory at once)"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230684,"post_id":73453196,"comment_id":129715532,"body_markdown":"The last part worked. I could not compile it individually but going a folder up and compiling them all at once worked for whatever reason","body":"The last part worked. I could not compile it individually but going a folder up and compiling them all at once worked for whatever reason"}],"answers":[{"tags":[],"owner":{"account_id":25889921,"reputation":11,"user_id":19617498,"display_name":"reegs20"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661231864,"creation_date":1661231864,"answer_id":73453478,"question_id":73453196,"body_markdown":"If your files are in the same folder and you want to compile everything together then you can use with option `javac *.java` from folder/package location \r\n\r\nIn case if you want to compile each file individually then you can try with the command `javac -cp &lt;path location&gt; filename.java`.\r\nExample `javac -cp D:\\mypack\\* RawAsupFile.java` in Windows","title":"Unable to import an enum from another class in the same package","body":"<p>If your files are in the same folder and you want to compile everything together then you can use with option <code>javac *.java</code> from folder/package location</p>\n<p>In case if you want to compile each file individually then you can try with the command <code>javac -cp &lt;path location&gt; filename.java</code>.\nExample <code>javac -cp D:\\mypack\\* RawAsupFile.java</code> in Windows</p>\n"}],"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661231864,"creation_date":1661229574,"question_id":73453196,"body_markdown":"I have a a class QueueType:\r\n\r\n    package mypack;\r\n    \r\n    public enum QueueType {\r\n    \tSMTP, PUT, POST, ISF\r\n    }\r\n\r\nI am trying to import this into another class in the same package but I get an error saying &quot;can&#39;t find symbol QueueType&quot;. What am I doing wrong?\r\n\r\n    package mypack;\r\n    \r\n    public class RawAsupFile {\r\n    \r\n    \tprivate QueueType queueType;\r\n    .\r\n    .\r\n    .","title":"Unable to import an enum from another class in the same package","body":"<p>I have a a class QueueType:</p>\n<pre><code>package mypack;\n\npublic enum QueueType {\n    SMTP, PUT, POST, ISF\n}\n</code></pre>\n<p>I am trying to import this into another class in the same package but I get an error saying &quot;can't find symbol QueueType&quot;. What am I doing wrong?</p>\n<pre><code>package mypack;\n\npublic class RawAsupFile {\n\n    private QueueType queueType;\n.\n.\n.\n</code></pre>\n"},{"tags":["java","bazel","arm64"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660815583,"post_id":73397931,"comment_id":129623907,"body_markdown":"No help from me, just info. JAVA_HOME was a (cross-platform) requirement of the JDK, that now no longer holds. It seems bazel still uses it. Alternative java versions side-by-side: https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java","body":"No help from me, just info. JAVA_HOME was a (cross-platform) requirement of the JDK, that now no longer holds. It seems bazel still uses it. Alternative java versions side-by-side: <a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660820924,"post_id":73397931,"comment_id":129625845,"body_markdown":"@user16320675 yes and then there was also JDK_HOME.","body":"@user16320675 yes and then there was also JDK_HOME."}],"answers":[{"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660801714,"creation_date":1660801714,"answer_id":73397996,"question_id":73397931,"body_markdown":"Try to set up an Environment Variable. Google &quot;how to install JDK 8.&quot; You can get better answers there","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>Try to set up an Environment Variable. Google &quot;how to install JDK 8.&quot; You can get better answers there</p>\n"},{"tags":[],"owner":{"account_id":25819182,"reputation":180,"user_id":19558627,"display_name":"Phillip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660802009,"creation_date":1660802009,"answer_id":73398039,"question_id":73397931,"body_markdown":"It seems like you didn&#39;t set JAVA_HOME environment variable\r\n\r\nPlease check [here][1] to manually setup environment variables.\r\n\r\nHere you should set `export JAVA_HOME=&lt;java_path&gt;`\r\n\r\n\r\n  [1]: https://docs.nvidia.com/drive/drive_os_5.1.6.1L/nvvib_docs/index.html#page/DRIVE_OS_Linux_SDK_Development_Guide/Architecture/config_env_variables_setup.html","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>It seems like you didn't set JAVA_HOME environment variable</p>\n<p>Please check <a href=\"https://docs.nvidia.com/drive/drive_os_5.1.6.1L/nvvib_docs/index.html#page/DRIVE_OS_Linux_SDK_Development_Guide/Architecture/config_env_variables_setup.html\" rel=\"nofollow noreferrer\">here</a> to manually setup environment variables.</p>\n<p>Here you should set <code>export JAVA_HOME=&lt;java_path&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":14320442,"reputation":451,"user_id":17779615,"display_name":"Susan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661231820,"creation_date":1660814855,"answer_id":73400564,"question_id":73397931,"body_markdown":"Thank you @Philip for your input and advice.\r\n\r\nThe issue is solved by:\r\n\r\n1. ```ls -l /etc/alternatives/java``` gives ```etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-arm64/```\r\n\r\n2. ```vim /etc/profile```\r\n\r\n3. Press `I`\r\n\r\n4. Add\r\n\r\n       export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64/bin/java\r\n    \r\n       export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n5. Reboot the os. ```source /etc/profile```","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>Thank you @Philip for your input and advice.</p>\n<p>The issue is solved by:</p>\n<ol>\n<li><p><code>ls -l /etc/alternatives/java</code> gives <code>etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-arm64/</code></p>\n</li>\n<li><p><code>vim /etc/profile</code></p>\n</li>\n<li><p>Press <code>I</code></p>\n</li>\n<li><p>Add</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64/bin/java\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n</li>\n<li><p>Reboot the os. <code>source /etc/profile</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":14320442,"reputation":451,"user_id":17779615,"display_name":"Susan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1461,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1661231820,"creation_date":1660801103,"question_id":73397931,"body_markdown":"I am using Linux aarch64 machine. I use miniconda3 and create a virtual environment in miniconda3. I want to install tensorflow using bazel. Therefore I first download the bazel zip file. \r\n\r\nWhen I run the compile.sh file after extracting the zip file of &quot;bazel&quot;, I got the following error \r\n```\r\nINFO: You can skip this first step by providing a path to the bazel binary as second argument:\r\nINFO:    ./compile.sh compile /path/to/bazel\r\n&#127811;  Building Bazel from scratch\r\nERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;\r\n```\r\nWhen I search Java version , \r\n```java --version```\r\nI got this \r\n```\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode)\r\n```\r\nMay  I know how can I solve the issue?\r\nWhen I check ```echo $JAVA_HOME&quot;```, I got nothing. Do I also need to set JAVAC_VERSION? If yes, may  I know how can I set both Java_home and javac_version?\r\nThank you.","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>I am using Linux aarch64 machine. I use miniconda3 and create a virtual environment in miniconda3. I want to install tensorflow using bazel. Therefore I first download the bazel zip file.</p>\n<p>When I run the compile.sh file after extracting the zip file of &quot;bazel&quot;, I got the following error</p>\n<pre><code>INFO: You can skip this first step by providing a path to the bazel binary as second argument:\nINFO:    ./compile.sh compile /path/to/bazel\n🍃  Building Bazel from scratch\nERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;\n</code></pre>\n<p>When I search Java version ,\n<code>java --version</code>\nI got this</p>\n<pre><code>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode)\n</code></pre>\n<p>May  I know how can I solve the issue?\nWhen I check <code>echo $JAVA_HOME&quot;</code>, I got nothing. Do I also need to set JAVAC_VERSION? If yes, may  I know how can I set both Java_home and javac_version?\nThank you.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1518426056,"post_id":48742631,"comment_id":84484988,"body_markdown":"Have you tried running your code in a debugger?","body":"Have you tried running your code in a debugger?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1518426102,"post_id":48742631,"comment_id":84485016,"body_markdown":"There appears to be a bunch of words missing from your task specification. Please try and write stuff that makes sense.","body":"There appears to be a bunch of words missing from your task specification. Please try and write stuff that makes sense."},{"owner":{"account_id":5486720,"reputation":347,"user_id":4361236,"accept_rate":20,"display_name":"Awanish"},"score":0,"creation_date":1518426584,"post_id":48742631,"comment_id":84485280,"body_markdown":"Can you try changing the &quot;&lt;=&quot; condition in for loop to &quot;&lt;&quot; and try","body":"Can you try changing the &quot;&lt;=&quot; condition in for loop to &quot;&lt;&quot; and try"},{"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"score":0,"creation_date":1518426596,"post_id":48742631,"comment_id":84485285,"body_markdown":"I have edited it. Please check now","body":"I have edited it. Please check now"},{"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"score":0,"creation_date":1518426800,"post_id":48742631,"comment_id":84485393,"body_markdown":"Already tried that but no change in output. Instead it takes N-1 test cases","body":"Already tried that but no change in output. Instead it takes N-1 test cases"}],"answers":[{"tags":[],"owner":{"account_id":7591569,"reputation":51,"user_id":5759082,"display_name":"madhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518427072,"creation_date":1518427072,"answer_id":48742944,"question_id":48742631,"body_markdown":"I think the expectation is to take all inputs in one go.\r\nMeaning, once the number of words are given, read all words and then print the output. Since the question is not clear, I am answering based on my assumption.","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>I think the expectation is to take all inputs in one go.\nMeaning, once the number of words are given, read all words and then print the output. Since the question is not clear, I am answering based on my assumption.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518559151,"creation_date":1518427149,"answer_id":48742965,"question_id":48742631,"body_markdown":"The problem is not:\r\n\r\n&gt; _______________ // first line is getting skipped but if i comment the System\r\n\r\n&gt;.out.println at the end of loop then both string are coming on same line\r\n\r\n\r\n, but:\r\n      \r\n    for(int i=0; i&lt;=n; i++) { ...\r\n\r\n\r\n...and:\r\n\r\n&gt;Error (stderr)\r\n&gt;\r\n&gt;Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.util.Scanner.nextLine(Scanner.java:1585)\r\n\tat Solution.main(Solution.java:14)\r\n\r\n...with:\r\n\r\n    for(int i=0; i&lt;n; i++) { //!!\r\n\r\n, you&#39;ll get:\r\n\r\n&gt;Congrats, you solved this challenge!\r\n&gt;Challenge your friends:\r\n&gt;Test Case #0\r\n&gt;Test Case #1\r\n&gt;Test Case #2\r\n&gt;Test Case #3\r\n&gt;Test Case #4\r\n&gt;Test Case #5\r\n&gt;Test Case #6\r\n&gt;Test Case #7\r\n&gt;Test Case #8\r\n&gt;Test Case #9\r\n\r\n\r\n\r\n----------\r\n    \r\n... a small style&amp;efficiency improvement would be:\r\n   \r\n    ...\r\n    for(int j = 0; j&lt;str.length() ; j+=2){//!!\r\n        // no if!\r\n        System.out.print(str.charAt(j));\r\n    }\r\n    System.out.print(&quot; &quot;);\r\n    for(int j = 1; j&lt; str.length() ; j+=2){//!!\r\n        //no if!       \r\n        System.out.print(str.charAt(j));\r\n    }\r\n    ...","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>The problem is not:</p>\n\n<blockquote>\n  <p>_______________ // first line is getting skipped but if i comment the System</p>\n  \n  <p>.out.println at the end of loop then both string are coming on same line</p>\n</blockquote>\n\n<p>, but:</p>\n\n<pre><code>for(int i=0; i&lt;=n; i++) { ...\n</code></pre>\n\n<p>...and:</p>\n\n<blockquote>\n  <p>Error (stderr)</p>\n  \n  <p>Exception in thread \"main\" java.util.NoSuchElementException: No line found\n      at java.util.Scanner.nextLine(Scanner.java:1585)\n      at Solution.main(Solution.java:14)</p>\n</blockquote>\n\n<p>...with:</p>\n\n<pre><code>for(int i=0; i&lt;n; i++) { //!!\n</code></pre>\n\n<p>, you'll get:</p>\n\n<blockquote>\n  <p>Congrats, you solved this challenge!\n  Challenge your friends:\n  Test Case #0\n  Test Case #1\n  Test Case #2\n  Test Case #3\n  Test Case #4\n  Test Case #5\n  Test Case #6\n  Test Case #7\n  Test Case #8\n  Test Case #9</p>\n</blockquote>\n\n<hr>\n\n<p>... a small style&amp;efficiency improvement would be:</p>\n\n<pre><code>...\nfor(int j = 0; j&lt;str.length() ; j+=2){//!!\n    // no if!\n    System.out.print(str.charAt(j));\n}\nSystem.out.print(\" \");\nfor(int j = 1; j&lt; str.length() ; j+=2){//!!\n    //no if!       \n    System.out.print(str.charAt(j));\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9281755,"reputation":763,"user_id":6892765,"display_name":"anurag0510"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518427322,"creation_date":1518427322,"answer_id":48743014,"question_id":48742631,"body_markdown":"Well there are few mistakes which I found in your code which could be the reason for failure :\r\n\r\n&gt; for(int i=0; i&lt;=n; i++)\r\n\r\nThere should be condition like i &lt; n.\r\n\r\nAlso you are printing the output one by one i.e. as soon as user gave first input out of n you are printing it.\r\n\r\n    2\r\n    Hacker\r\n    Hce akr\r\n    Rank\r\n    Rn ak\r\n\r\nHere I modified the code which you are using hope you ry to understand it first before using :\r\n\r\n    public class Solution {\r\n    public static void main(String[] args) {\r\n    \t    /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n    \t    Scanner sc = new Scanner(System.in);\r\n    \t    int n = sc.nextInt();\r\n    \t    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t    sc.nextLine();\r\n    \t    for(int i=0; i&lt; n; i++){\r\n    \t        String str = sc.nextLine();\r\n    \t        String s1 =&quot;&quot;;\r\n    \t        for(int j = 0; j&lt; str.length() ; j++){\r\n    \t            if(j%2 ==0){\r\n    \t                s1 = s1 + str.charAt(j);\r\n    \t            }                \r\n    \t        }\r\n    \t        s1 = s1 + &quot; &quot;;\r\n    \t        for(int j = 0; j&lt; str.length() ; j++){\r\n    \t            if(j%2==1 ){\r\n    \t                s1 = s1 + str.charAt(j);\r\n    \t            }\r\n    \t        }\r\n    \t        list.add(s1);\r\n    \t    }\r\n    \t    for(int i = 0; i &lt; list.size(); i++) {\r\n    \t    \tSystem.out.println(list.get(i));\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>Well there are few mistakes which I found in your code which could be the reason for failure :</p>\n\n<blockquote>\n  <p>for(int i=0; i&lt;=n; i++)</p>\n</blockquote>\n\n<p>There should be condition like i &lt; n.</p>\n\n<p>Also you are printing the output one by one i.e. as soon as user gave first input out of n you are printing it.</p>\n\n<pre><code>2\nHacker\nHce akr\nRank\nRn ak\n</code></pre>\n\n<p>Here I modified the code which you are using hope you ry to understand it first before using :</p>\n\n<pre><code>public class Solution {\npublic static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        sc.nextLine();\n        for(int i=0; i&lt; n; i++){\n            String str = sc.nextLine();\n            String s1 =\"\";\n            for(int j = 0; j&lt; str.length() ; j++){\n                if(j%2 ==0){\n                    s1 = s1 + str.charAt(j);\n                }                \n            }\n            s1 = s1 + \" \";\n            for(int j = 0; j&lt; str.length() ; j++){\n                if(j%2==1 ){\n                    s1 = s1 + str.charAt(j);\n                }\n            }\n            list.add(s1);\n        }\n        for(int i = 0; i &lt; list.size(); i++) {\n            System.out.println(list.get(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1661231614,"creation_date":1518425896,"question_id":48742631,"body_markdown":"I am solving a problem in HackerRank.\r\n\r\n**Task:**\r\n \r\nGiven a string,S, of length N that is indexed from 0 to N-1 , print its even-indexed and odd-indexed characters as 2 space-separated strings on a single line (see the Sample below for more detail).\r\n\r\n\r\n**Input Format**\r\n\r\nThe first line contains an integer, T (the number of test cases). \r\nEach line i of the T subsequent lines contain a String, S .\r\n\r\n\r\n**Output Format**\r\n\r\nFor each String Sj (where ), print Sj&#39;s even-indexed characters, followed by a space, followed by Sj&#39;s odd-indexed characters.\r\n\r\n**Sample Input**\r\n\r\n2\r\n\r\nHacker\r\n\r\nRank\r\n\r\n**Sample Output**\r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Following is the Code I have written:**\r\n\r\n    public class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        sc.nextLine();\r\n        for(int i=0; i&lt;=n; i++){\r\n            String str = sc.nextLine();\r\n            for(int j = 0; j&lt; str.length() ; j++){\r\n                if(j%2 ==0){\r\n                    System.out.print(str.charAt(j));\r\n                }                \r\n            }\r\n            System.out.print(&quot; &quot;);\r\n            for(int j = 0; j&lt; str.length() ; j++){\r\n                if(j%2==1 ){\r\n                    System.out.print(str.charAt(j));\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\nNow My Output is differing with the Test Case Output:\r\n\r\n**Testcase 0**\r\nYour code did not pass this test case.\r\n\r\n**Input (stdin)**\r\n\r\n2\r\n\r\nHacker\r\n\r\nRank\r\n\r\n**Your Output (stdout)**\r\n\r\n_______________   // first line is getting skipped but if i comment the System.out.println at the end of loop then both string are coming on same line     \r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Expected Output**\r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Compiler Message**\r\n\r\nWrong Answer\r\n\r\nI want to know whats wrong with my Program as per my knowledge I am not making any mistakes. Why after first time String Manipulation it is exiting loop?\r\n\r\n\r\nHere is the link for Whole question:\r\nhttps://www.hackerrank.com/challenges/30-review-loop/problem\r\n\r\n**One Question Added**\r\nyou can see if we are putting System.out.println() at the end of loop I am getting extra line in my output but when i m skipping it my program is working fine but as there is no linebreak between my output both are sticking together and coming like this: hce akrRn ak. U see this is my main problem. I want to get the output in sperate lines.","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>I am solving a problem in HackerRank.</p>\n\n<p><strong>Task:</strong></p>\n\n<p>Given a string,S, of length N that is indexed from 0 to N-1 , print its even-indexed and odd-indexed characters as 2 space-separated strings on a single line (see the Sample below for more detail).</p>\n\n<p><strong>Input Format</strong></p>\n\n<p>The first line contains an integer, T (the number of test cases). \nEach line i of the T subsequent lines contain a String, S .</p>\n\n<p><strong>Output Format</strong></p>\n\n<p>For each String Sj (where ), print Sj's even-indexed characters, followed by a space, followed by Sj's odd-indexed characters.</p>\n\n<p><strong>Sample Input</strong></p>\n\n<p>2</p>\n\n<p>Hacker</p>\n\n<p>Rank</p>\n\n<p><strong>Sample Output</strong></p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Following is the Code I have written:</strong></p>\n\n<pre><code>public class Solution {\n\npublic static void main(String[] args) {\n    /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n    Scanner sc = new Scanner(System.in);\n    int n = sc.nextInt();\n    sc.nextLine();\n    for(int i=0; i&lt;=n; i++){\n        String str = sc.nextLine();\n        for(int j = 0; j&lt; str.length() ; j++){\n            if(j%2 ==0){\n                System.out.print(str.charAt(j));\n            }                \n        }\n        System.out.print(\" \");\n        for(int j = 0; j&lt; str.length() ; j++){\n            if(j%2==1 ){\n                System.out.print(str.charAt(j));\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now My Output is differing with the Test Case Output:</p>\n\n<p><strong>Testcase 0</strong>\nYour code did not pass this test case.</p>\n\n<p><strong>Input (stdin)</strong></p>\n\n<p>2</p>\n\n<p>Hacker</p>\n\n<p>Rank</p>\n\n<p><strong>Your Output (stdout)</strong></p>\n\n<p>_______________   // first line is getting skipped but if i comment the System.out.println at the end of loop then both string are coming on same line     </p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Expected Output</strong></p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Compiler Message</strong></p>\n\n<p>Wrong Answer</p>\n\n<p>I want to know whats wrong with my Program as per my knowledge I am not making any mistakes. Why after first time String Manipulation it is exiting loop?</p>\n\n<p>Here is the link for Whole question:\n<a href=\"https://www.hackerrank.com/challenges/30-review-loop/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/30-review-loop/problem</a></p>\n\n<p><strong>One Question Added</strong>\nyou can see if we are putting System.out.println() at the end of loop I am getting extra line in my output but when i m skipping it my program is working fine but as there is no linebreak between my output both are sticking together and coming like this: hce akrRn ak. U see this is my main problem. I want to get the output in sperate lines.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661229241,"post_id":73453101,"comment_id":129715291,"body_markdown":"Since this appears to be an assignment, are there any limitations on which parts of Java can be used? Your code imports `java.util.ArrayList` but does not use that class. Are you allowed to use `ArrayList` in your code? Are you allowed to use the [stream API](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html)? Are you allowed to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)?","body":"Since this appears to be an assignment, are there any limitations on which parts of Java can be used? Your code imports <code>java.util.ArrayList</code> but does not use that class. Are you allowed to use <code>ArrayList</code> in your code? Are you allowed to use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>? Are you allowed to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661229279,"post_id":73453101,"comment_id":129715298,"body_markdown":"Step through your code with the debugger","body":"Step through your code with the debugger"},{"owner":{"account_id":23822387,"reputation":17,"user_id":17829901,"display_name":"theClawistheLaw"},"score":0,"creation_date":1661230578,"post_id":73453101,"comment_id":129715508,"body_markdown":"@Abra There&#39;s no limitations that I know of, although I had no idea what the stream API was before you mentioned it, or try with resource. But I can use an ArrayList if desired.","body":"@Abra There&#39;s no limitations that I know of, although I had no idea what the stream API was before you mentioned it, or try with resource. But I can use an ArrayList if desired."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661231133,"creation_date":1661231133,"answer_id":73453397,"question_id":73453101,"body_markdown":"Notes after the code.\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Lab12MU2 {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;CAM.txt&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            List&lt;String[]&gt; list = lines.map(line -&gt; line.split(&quot;, &quot;))\r\n                                       .collect(Collectors.toList());\r\n            String[][] matrix = list.toArray(new String[][]{});\r\n            boolean first = true;\r\n            for (int col = 0; col &lt; matrix[0].length; col++) {\r\n                if (first) {\r\n                    first = false;\r\n                }\r\n                else {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                System.out.print(matrix[0][col]);\r\n            }\r\n            System.out.println();\r\n            for (int row = 1; row &lt; matrix.length; row++) {\r\n                first = true;\r\n                for (int col = 0; col &lt; matrix[row].length; col++) {\r\n                    if (first) {\r\n                        first = false;\r\n                    }\r\n                    else {\r\n                        System.out.print(&quot; &quot;);\r\n                    }\r\n                    System.out.printf(&quot;%&quot; + matrix[0][col].length() + &quot;s&quot;, matrix[row][col]);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n        catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nAbove code assumes that the file name is _CAM.txt_ rather than getting the file name from the user. Note that, according to the above code, the file must be in the working directory.\r\n\r\nThe code uses the [stream API][1] and [try-with-resources][2].\r\n\r\nRefer to the [documentation][3] for method `printf`.\r\n\r\nWhen I run the above code, using the file from your question, I get the following output:\r\n```none\r\nNew York Boston Atlanta St. Paul\r\n       0    120     400       -1\r\n     120      0    1700      500\r\n     400   1700       0       -1\r\n      -1    500      -1        0\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)","title":"Reading a 2d array from an external file","body":"<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Lab12MU2 {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;CAM.txt&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            List&lt;String[]&gt; list = lines.map(line -&gt; line.split(&quot;, &quot;))\n                                       .collect(Collectors.toList());\n            String[][] matrix = list.toArray(new String[][]{});\n            boolean first = true;\n            for (int col = 0; col &lt; matrix[0].length; col++) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    System.out.print(&quot; &quot;);\n                }\n                System.out.print(matrix[0][col]);\n            }\n            System.out.println();\n            for (int row = 1; row &lt; matrix.length; row++) {\n                first = true;\n                for (int col = 0; col &lt; matrix[row].length; col++) {\n                    if (first) {\n                        first = false;\n                    }\n                    else {\n                        System.out.print(&quot; &quot;);\n                    }\n                    System.out.printf(&quot;%&quot; + matrix[0][col].length() + &quot;s&quot;, matrix[row][col]);\n                }\n                System.out.println();\n            }\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Above code assumes that the file name is <em>CAM.txt</em> rather than getting the file name from the user. Note that, according to the above code, the file must be in the working directory.</p>\n<p>The code uses the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">documentation</a> for method <code>printf</code>.</p>\n<p>When I run the above code, using the file from your question, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>New York Boston Atlanta St. Paul\n       0    120     400       -1\n     120      0    1700      500\n     400   1700       0       -1\n      -1    500      -1        0\n</code></pre>\n"}],"owner":{"account_id":23822387,"reputation":17,"user_id":17829901,"display_name":"theClawistheLaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73453397,"answer_count":1,"score":0,"last_activity_date":1661231133,"creation_date":1661228378,"question_id":73453101,"body_markdown":"I know this has been asked before, but I&#39;m still confused after reading other&#39;s posts. I&#39;m trying to read a cost adjacency matrix from an external file and use it to populate my 2d array which I&#39;ll end up printing. I&#39;m able to read the information in the text file, but my matrix isn&#39;t filling in properly. Right now it looks like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gN29D.png\r\n\r\nWhat I&#39;m shooting for would look like this,\r\n\r\n             New York Boston Atlanta St.Paul\r\n    New York        0    120     400      -1\r\n    Boston        120      0    1700     500\r\n    Atlanta       400   1700       0      -1\r\n    St.Paul        -1    500      -1       0\r\n\r\n\r\nHere is my code so far:\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Lab12MU2 {\r\n\r\n    public static void main(String[] args) {\r\n        String fileName;\r\n        FileReader myFileRead;\r\n        String[][] matrix;\r\n        boolean populated = false;\r\n        Scanner scn = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the name of the file: &quot;);\r\n        fileName = scn.nextLine();\r\n        try {\r\n            myFileRead = new FileReader(fileName);\r\n            BufferedReader buffRead;\r\n            buffRead = new BufferedReader(myFileRead);\r\n            Scanner input = new Scanner(new File(fileName));\r\n            int dim = 5;\r\n            matrix = new String[dim][dim];\r\n            int i, j;\r\n            for (i = 0; i &lt; dim; ++i) {\r\n                for (j = 0; j &lt; dim - 1; ++j) {\r\n                    if (input.hasNext()) {\r\n                        matrix[i][j] = input.nextLine();\r\n                    }\r\n                }\r\n            }\r\n            for (i = 0; i &lt; matrix.length; i++) {\r\n                for (j = 0; j &lt; matrix[0].length; j++) {\r\n                    System.out.print(matrix[i][j] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            populated = true;\r\n            myFileRead.close();\r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;ERROR: File not found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nAny help in fixing my matrix to look anything close to my desired result is appreciated. Also, here&#39;s the text file: https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0\r\n\r\n```none\r\nNew York, Boston, Atlanta, St. Paul \r\n0, 120, 400, -1\r\n120, 0, 1700, 500 \r\n400, 1700, 0, -1\r\n-1, 500, -1, 0\r\n```\r\n","title":"Reading a 2d array from an external file","body":"<p>I know this has been asked before, but I'm still confused after reading other's posts. I'm trying to read a cost adjacency matrix from an external file and use it to populate my 2d array which I'll end up printing. I'm able to read the information in the text file, but my matrix isn't filling in properly. Right now it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/gN29D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gN29D.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm shooting for would look like this,</p>\n<pre><code>         New York Boston Atlanta St.Paul\nNew York        0    120     400      -1\nBoston        120      0    1700     500\nAtlanta       400   1700       0      -1\nSt.Paul        -1    500      -1       0\n</code></pre>\n<p>Here is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Lab12MU2 {\n\n    public static void main(String[] args) {\n        String fileName;\n        FileReader myFileRead;\n        String[][] matrix;\n        boolean populated = false;\n        Scanner scn = new Scanner(System.in);\n        System.out.print(&quot;Enter the name of the file: &quot;);\n        fileName = scn.nextLine();\n        try {\n            myFileRead = new FileReader(fileName);\n            BufferedReader buffRead;\n            buffRead = new BufferedReader(myFileRead);\n            Scanner input = new Scanner(new File(fileName));\n            int dim = 5;\n            matrix = new String[dim][dim];\n            int i, j;\n            for (i = 0; i &lt; dim; ++i) {\n                for (j = 0; j &lt; dim - 1; ++j) {\n                    if (input.hasNext()) {\n                        matrix[i][j] = input.nextLine();\n                    }\n                }\n            }\n            for (i = 0; i &lt; matrix.length; i++) {\n                for (j = 0; j &lt; matrix[0].length; j++) {\n                    System.out.print(matrix[i][j] + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n            populated = true;\n            myFileRead.close();\n        }\n        catch (Exception ex) {\n            System.out.println(&quot;ERROR: File not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Any help in fixing my matrix to look anything close to my desired result is appreciated. Also, here's the text file: <a href=\"https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>New York, Boston, Atlanta, St. Paul \n0, 120, 400, -1\n120, 0, 1700, 500 \n400, 1700, 0, -1\n-1, 500, -1, 0\n</code></pre>\n"},{"tags":["java","android","xml","layout"],"comments":[{"owner":{"account_id":1250748,"reputation":1775,"user_id":1211209,"display_name":"Hradesh Kumar"},"score":0,"creation_date":1491287716,"post_id":12763746,"comment_id":73471738,"body_markdown":"I had solve same problem, see my answer :- [http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823](http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823)","body":"I had solve same problem, see my answer :- <a href=\"http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823\">http://stackoverflow.com/questions/42832856/minheight-not-wo&zwnj;&#8203;rking-with-weight-1-&zwnj;&#8203;in-linearlayout/4319&zwnj;&#8203;9823#43199823</a>"},{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":0,"creation_date":1661229249,"post_id":12763746,"comment_id":129715293,"body_markdown":"Switch to `ConstraintLayout` sooner than later!","body":"Switch to <code>ConstraintLayout</code> sooner than later!"}],"answers":[{"tags":[],"owner":{"account_id":1857806,"reputation":3283,"user_id":1683022,"display_name":"Givi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349556752,"creation_date":1349556752,"answer_id":12763778,"question_id":12763746,"body_markdown":"Add         `android:layout_weight=&quot;1&quot;` to the ListView as well.\r\nChange them both (list &amp; linearMe)        `android:layout_height` attribute to `&quot;match_parent&quot;`\r\nRemove `minHeight.\r\n\r\nThat way each View will take half of the screen.`\r\n","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>Add         <code>android:layout_weight=\"1\"</code> to the ListView as well.\nChange them both (list &amp; linearMe)        <code>android:layout_height</code> attribute to <code>\"match_parent\"</code>\nRemove `minHeight.</p>\n\n<p>That way each View will take half of the screen.`</p>\n"},{"tags":[],"owner":{"account_id":1410773,"reputation":1621,"user_id":1337412,"display_name":"theelfismike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349556899,"creation_date":1349556899,"answer_id":12763798,"question_id":12763746,"body_markdown":"You might want to try your spacer layout using &quot;View&quot; instead of &quot;LinearLayout&quot;. The ViewGroup classes sometimes handle layouts slightly differently.","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>You might want to try your spacer layout using \"View\" instead of \"LinearLayout\". The ViewGroup classes sometimes handle layouts slightly differently.</p>\n"},{"tags":[],"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661231133,"creation_date":1661231133,"answer_id":73453395,"question_id":12763746,"body_markdown":"If you are willing to use `ConstraintLayout` as the parent container, the following xml should serve your purpose:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constrainedHeight=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/linearMe&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@android:layout/list_content&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearMe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#FF0000&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/list&quot;\r\n        app:layout_constraintHeight_min=&quot;200dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nWhat I&#39;ve done is that I&#39;ve defined constraints to chain both `list` and `linearMe` with each other. `app:layout_constraintHeight_min=&quot;200dp&quot;` will ensure minimum height of 200dp for `linearMe`. `app:layout_constrainedHeight=&quot;true&quot;` makes sure that when `list` has more items, it doesn&#39;t hide behind `linearMe`.\r\n\r\nI couldn&#39;t test it with some data to fill the `ListView`. You can just try it out and post your feedback here.","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>If you are willing to use <code>ConstraintLayout</code> as the parent container, the following xml should serve your purpose:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/list&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constrainedHeight=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/linearMe&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:listitem=&quot;@android:layout/list_content&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearMe&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:background=&quot;#FF0000&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/list&quot;\n    app:layout_constraintHeight_min=&quot;200dp&quot;\n    android:orientation=&quot;vertical&quot;\n    /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>What I've done is that I've defined constraints to chain both <code>list</code> and <code>linearMe</code> with each other. <code>app:layout_constraintHeight_min=&quot;200dp&quot;</code> will ensure minimum height of 200dp for <code>linearMe</code>. <code>app:layout_constrainedHeight=&quot;true&quot;</code> makes sure that when <code>list</code> has more items, it doesn't hide behind <code>linearMe</code>.</p>\n<p>I couldn't test it with some data to fill the <code>ListView</code>. You can just try it out and post your feedback here.</p>\n"}],"owner":{"account_id":410014,"reputation":9732,"user_id":781588,"accept_rate":53,"display_name":"Timoth&#233;e Jeannin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1661231133,"creation_date":1349556503,"question_id":12763746,"body_markdown":"I tried all afternoon to get the `minHeight` attribute to work. \r\n\r\nWhat I want is the `linearMe` layout to:\r\n\r\n - Stretch from the bottom of the screen to the bottom of the ListView when the ListView has just a few elements.\r\n - I need to be able to fill the linearMe layout with a picture for example.\r\n\r\nAs the ListView gets bigger I want the `linearMe` layout to:\r\n\r\n - Have a fixed height (while being at the bottom of the screen) and the ListView to allow scrolling.\r\n\r\nMy problem is that the the `linearMe` layout is smaller and smaller as there is more elements in the ListView. And when there is enough element for the listView to fill the screen, the `linearMe` layout is just gone. It looks like the `minHeight` is useless in this case.\r\n\r\n```\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n&lt;ListView\r\n    android:id=&quot;@+id/list&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/linearMe&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:background=&quot;#FF0000&quot;\r\n    android:minHeight=&quot;200dp&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n![enter image description here][1]![enter image description here][2]\r\n\r\nI hope you can help me out ! :)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/efTMg.png\r\n  [2]: http://i.stack.imgur.com/MS53S.png","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>I tried all afternoon to get the <code>minHeight</code> attribute to work.</p>\n<p>What I want is the <code>linearMe</code> layout to:</p>\n<ul>\n<li>Stretch from the bottom of the screen to the bottom of the ListView when the ListView has just a few elements.</li>\n<li>I need to be able to fill the linearMe layout with a picture for example.</li>\n</ul>\n<p>As the ListView gets bigger I want the <code>linearMe</code> layout to:</p>\n<ul>\n<li>Have a fixed height (while being at the bottom of the screen) and the ListView to allow scrolling.</li>\n</ul>\n<p>My problem is that the the <code>linearMe</code> layout is smaller and smaller as there is more elements in the ListView. And when there is enough element for the listView to fill the screen, the <code>linearMe</code> layout is just gone. It looks like the <code>minHeight</code> is useless in this case.</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n&lt;ListView\n    android:id=&quot;@+id/list&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearMe&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:background=&quot;#FF0000&quot;\n    android:minHeight=&quot;200dp&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/efTMg.png\" alt=\"enter image description here\" /><img src=\"https://i.stack.imgur.com/MS53S.png\" alt=\"enter image description here\" /></p>\n<p>I hope you can help me out ! :)</p>\n"},{"tags":["java","android","gracenote","albumart"],"answers":[{"tags":[],"owner":{"account_id":3876358,"reputation":2617,"user_id":3210285,"accept_rate":100,"display_name":"Chintan Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661230777,"creation_date":1459257972,"answer_id":36285690,"question_id":22371838,"body_markdown":"I know it&#39;s bit late to answer but you can get the link of the cover art in gracenote response itself but you need to change some properties in its API.  \r\nIn initGracenote() change following\r\n\r\n    config.setProperty(&quot;content.coverart&quot;, &quot;1&quot;);\r\n\r\nI also recommend you to set this property also because sometimes I personally felt something chaotic in getting link.\r\n\r\n    config.setProperty(&quot;content.allowfullresponse&quot;, &quot;1&quot;);\r\n\r\nfor fetching coverart URL from response do the following\r\n\r\n    String coverArt = response.getCoverArt().getUrl().toString();\r\n\r\nHope it help you.","title":"find album art and cover art programatically in Android","body":"<p>I know it's bit late to answer but you can get the link of the cover art in gracenote response itself but you need to change some properties in its API.<br />\nIn initGracenote() change following</p>\n<pre><code>config.setProperty(&quot;content.coverart&quot;, &quot;1&quot;);\n</code></pre>\n<p>I also recommend you to set this property also because sometimes I personally felt something chaotic in getting link.</p>\n<pre><code>config.setProperty(&quot;content.allowfullresponse&quot;, &quot;1&quot;);\n</code></pre>\n<p>for fetching coverart URL from response do the following</p>\n<pre><code>String coverArt = response.getCoverArt().getUrl().toString();\n</code></pre>\n<p>Hope it help you.</p>\n"}],"owner":{"account_id":4086003,"reputation":243,"user_id":3355265,"accept_rate":60,"display_name":"jarnail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661230955,"creation_date":1394695590,"question_id":22371838,"body_markdown":"I have song name, artist name and album name.  \r\nIs there any link from where I can get cover or album art by sending these parameters?  \r\nFor my application I need cover art. I searched a lot to find out something but get nothing.\r\n\r\nIf there is any third party available for this, then help me with sample code.\r\n    \r\nBy using **Gracenote API**, I am getting song name, artist name and album name but am unable to get cover art. So I need help for this. If I externally can get the cover art by using third party service then please help me.","title":"find album art and cover art programatically in Android","body":"<p>I have song name, artist name and album name.<br />\nIs there any link from where I can get cover or album art by sending these parameters?<br />\nFor my application I need cover art. I searched a lot to find out something but get nothing.</p>\n<p>If there is any third party available for this, then help me with sample code.</p>\n<p>By using <strong>Gracenote API</strong>, I am getting song name, artist name and album name but am unable to get cover art. So I need help for this. If I externally can get the cover art by using third party service then please help me.</p>\n"},{"tags":["java","spring","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661229288,"post_id":73452953,"comment_id":129715299,"body_markdown":"there is a typo in your parent pom: `grovvy.version` - should be `groovy.version`","body":"there is a typo in your parent pom: <code>grovvy.version</code> - should be <code>groovy.version</code>"},{"owner":{"account_id":22812427,"reputation":21,"user_id":16963512,"display_name":"Malay Pandey"},"score":0,"creation_date":1661229856,"post_id":73452953,"comment_id":129715391,"body_markdown":"Ohh sorry, u can ignore that btw.","body":"Ohh sorry, u can ignore that btw."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":1,"creation_date":1661244215,"post_id":73452953,"comment_id":129719195,"body_markdown":"Just tested your code (with and without the optional &quot;depedency.version 2.5.1.3&quot;) and it works. I&#39;m afraid you&#39;ll have to show us more code than that.","body":"Just tested your code (with and without the optional &quot;depedency.version 2.5.1.3&quot;) and it works. I&#39;m afraid you&#39;ll have to show us more code than that."}],"owner":{"account_id":22812427,"reputation":21,"user_id":16963512,"display_name":"Malay Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661229873,"creation_date":1661226773,"question_id":73452953,"body_markdown":"In my application I am using `grovvy` dependency for using a class called `GrovvyClassLoader`. Earlier I was using spring version `2.2.11.RELEASE` and my `grovvy` was on `2.5.13`. Since I have upgraded to spring `2.6.6`, it tends to download `grovvy` version `3.0.10` automatically. \r\n\r\nI have tried to use `&lt;grovvy.version&gt;` tag inside `&lt;properties&gt;` tag in pom file to prevent spring from downloading `grovvy` automatically but even that is not helpful. Surprising is the fact that even `grovvy` dependency in my pom is set to version `2.5.13`.\r\n\r\nThis my pom(parent pom),\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.6&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n &lt;properties&gt;\r\n   .\r\n   .\r\n   .\r\n&lt;groovy.version&gt;2.5.13&lt;/groovy.version&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nThis is a child pom to the above pom where I am actually setting dependency for `grovvy`,\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nCan anybody tell me why is spring overriding my version and how can stop it.\r\n\r\n","title":"Spring downloading upgraded version automatically","body":"<p>In my application I am using <code>grovvy</code> dependency for using a class called <code>GrovvyClassLoader</code>. Earlier I was using spring version <code>2.2.11.RELEASE</code> and my <code>grovvy</code> was on <code>2.5.13</code>. Since I have upgraded to spring <code>2.6.6</code>, it tends to download <code>grovvy</code> version <code>3.0.10</code> automatically.</p>\n<p>I have tried to use <code>&lt;grovvy.version&gt;</code> tag inside <code>&lt;properties&gt;</code> tag in pom file to prevent spring from downloading <code>grovvy</code> automatically but even that is not helpful. Surprising is the fact that even <code>grovvy</code> dependency in my pom is set to version <code>2.5.13</code>.</p>\n<p>This my pom(parent pom),</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n &lt;properties&gt;\n   .\n   .\n   .\n&lt;groovy.version&gt;2.5.13&lt;/groovy.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>This is a child pom to the above pom where I am actually setting dependency for <code>grovvy</code>,</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;2.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Can anybody tell me why is spring overriding my version and how can stop it.</p>\n"},{"tags":["java","android","json","org.json"],"comments":[{"owner":{"account_id":147366,"reputation":12038,"user_id":358435,"accept_rate":68,"display_name":"karthick"},"score":2,"creation_date":1532139660,"post_id":51452188,"comment_id":89874529,"body_markdown":"which version of the library are you using? I am not able to reproduce the issue in json-20180130.jar   https://mvnrepository.com/artifact/org.json/json/20180130","body":"which version of the library are you using? I am not able to reproduce the issue in json-20180130.jar   <a href=\"https://mvnrepository.com/artifact/org.json/json/20180130\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json/20180130</a>"},{"owner":{"account_id":5711782,"reputation":164,"user_id":4513526,"display_name":"xiurobert"},"score":0,"creation_date":1532141134,"post_id":51452188,"comment_id":89874669,"body_markdown":"@karthick im using the one bundled with android api 26. Not sure which one that would be","body":"@karthick im using the one bundled with android api 26. Not sure which one that would be"}],"answers":[{"tags":[],"owner":{"account_id":10514107,"reputation":395,"user_id":7748753,"display_name":"Himanshu itmca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532348588,"creation_date":1532348588,"answer_id":51478702,"question_id":51452188,"body_markdown":"This is working perfectly\r\n\r\n    String json = &quot;{\\&quot;status\\&quot;:200,\\&quot;message\\&quot;:\\&quot;200 Request is valid\\&quot;,\\&quot;job\\&quot;:{\\&quot;Id\\&quot;:1,\\&quot;Jobtitle\\&quot;:\\&quot;Test Job\\&quot;,\\&quot;Description\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Medicalcondition\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Language\\&quot;:\\&quot;English\\&quot;,\\&quot;Racereligion\\&quot;:\\&quot;Chinese\\&quot;,\\&quot;Agegender\\&quot;:\\&quot;50, Female\\&quot;,\\&quot;Hourlyprice\\&quot;:42,\\&quot;Type\\&quot;:\\&quot;caregiver\\&quot;,\\&quot;Date\\&quot;:\\&quot;2019-05-12T00:00:00+08:00\\&quot;,\\&quot;Starttime\\&quot;:\\&quot;2018-07-20T12:15:00+08:00\\&quot;,\\&quot;Endtime\\&quot;:\\&quot;2018-07-20T18:15:00+08:00\\&quot;,\\&quot;Address\\&quot;:\\&quot;1 Cluny Road\\&quot;,\\&quot;Latitude\\&quot;:1.3152057,\\&quot;Longitude\\&quot;:103.8162553,\\&quot;Creator\\&quot;:\\&quot;xiurobert\\&quot;}}&quot;;\r\n            try\r\n            {\r\n                JSONObject jsonObject = new JSONObject(json);\r\n                Log.i(&quot;TAG&quot;, &quot;a: &quot;+jsonObject.toString());\r\n    \r\n            } catch (JSONException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nwhere are you getting error","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>This is working perfectly</p>\n\n<pre><code>String json = \"{\\\"status\\\":200,\\\"message\\\":\\\"200 Request is valid\\\",\\\"job\\\":{\\\"Id\\\":1,\\\"Jobtitle\\\":\\\"Test Job\\\",\\\"Description\\\":\\\"Asthma\\\",\\\"Medicalcondition\\\":\\\"Asthma\\\",\\\"Language\\\":\\\"English\\\",\\\"Racereligion\\\":\\\"Chinese\\\",\\\"Agegender\\\":\\\"50, Female\\\",\\\"Hourlyprice\\\":42,\\\"Type\\\":\\\"caregiver\\\",\\\"Date\\\":\\\"2019-05-12T00:00:00+08:00\\\",\\\"Starttime\\\":\\\"2018-07-20T12:15:00+08:00\\\",\\\"Endtime\\\":\\\"2018-07-20T18:15:00+08:00\\\",\\\"Address\\\":\\\"1 Cluny Road\\\",\\\"Latitude\\\":1.3152057,\\\"Longitude\\\":103.8162553,\\\"Creator\\\":\\\"xiurobert\\\"}}\";\n        try\n        {\n            JSONObject jsonObject = new JSONObject(json);\n            Log.i(\"TAG\", \"a: \"+jsonObject.toString());\n\n        } catch (JSONException e)\n        {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>where are you getting error</p>\n"},{"tags":[],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661228502,"creation_date":1661228502,"answer_id":73453112,"question_id":51452188,"body_markdown":"In my case i have used `org.json.JSONObject` and `org.json.JSONArray`. Then i changed the imports to `org.json.simple.JSONObject` and `org.json.simple.JSONArray` and my code worked without any issues.\r\n\r\n","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>In my case i have used <code>org.json.JSONObject</code> and <code>org.json.JSONArray</code>. Then i changed the imports to <code>org.json.simple.JSONObject</code> and <code>org.json.simple.JSONArray</code> and my code worked without any issues.</p>\n"}],"owner":{"account_id":5711782,"reputation":164,"user_id":4513526,"display_name":"xiurobert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1967,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661228502,"creation_date":1532138441,"question_id":51452188,"body_markdown":"I&#39;ve been trying to figure out why constructing a `org.json.JSONObject` from a string json would not work for very long.\r\n\r\nHere is the json string (pretty)\r\n\r\n\r\n    {\r\n        &quot;status&quot;: 200,\r\n        &quot;message&quot;: &quot;200 Request is valid&quot;,\r\n        &quot;job&quot;: {\r\n            &quot;Id&quot;: 1,\r\n            &quot;Jobtitle&quot;: &quot;Test Job&quot;,\r\n            &quot;Description&quot;: &quot;Asthma&quot;,\r\n            &quot;Medicalcondition&quot;: &quot;Asthma&quot;,\r\n            &quot;Language&quot;: &quot;English&quot;,\r\n            &quot;Racereligion&quot;: &quot;Chinese&quot;,\r\n            &quot;Agegender&quot;: &quot;50, Female&quot;,\r\n            &quot;Hourlyprice&quot;: 42,\r\n            &quot;Type&quot;: &quot;caregiver&quot;,\r\n            &quot;Date&quot;: &quot;2019-05-12T00:00:00+08:00&quot;,\r\n            &quot;Starttime&quot;: &quot;2018-07-20T12:15:00+08:00&quot;,\r\n            &quot;Endtime&quot;: &quot;2018-07-20T18:15:00+08:00&quot;,\r\n            &quot;Address&quot;: &quot;1 Cluny Road&quot;,\r\n            &quot;Latitude&quot;: 1.3152057,\r\n            &quot;Longitude&quot;: 103.8162553,\r\n            &quot;Creator&quot;: &quot;xiurobert&quot;\r\n        }\r\n    }\r\n\r\nand minified (the one that I&#39;m attempting to construct a JSONObject from)\r\n\r\n    String json = &quot;{\\&quot;status\\&quot;:200,\\&quot;message\\&quot;:\\&quot;200 Request is valid\\&quot;,\\&quot;job\\&quot;:{\\&quot;Id\\&quot;:1,\\&quot;Jobtitle\\&quot;:\\&quot;Test Job\\&quot;,\\&quot;Description\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Medicalcondition\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Language\\&quot;:\\&quot;English\\&quot;,\\&quot;Racereligion\\&quot;:\\&quot;Chinese\\&quot;,\\&quot;Agegender\\&quot;:\\&quot;50, Female\\&quot;,\\&quot;Hourlyprice\\&quot;:42,\\&quot;Type\\&quot;:\\&quot;caregiver\\&quot;,\\&quot;Date\\&quot;:\\&quot;2019-05-12T00:00:00+08:00\\&quot;,\\&quot;Starttime\\&quot;:\\&quot;2018-07-20T12:15:00+08:00\\&quot;,\\&quot;Endtime\\&quot;:\\&quot;2018-07-20T18:15:00+08:00\\&quot;,\\&quot;Address\\&quot;:\\&quot;1 Cluny Road\\&quot;,\\&quot;Latitude\\&quot;:1.3152057,\\&quot;Longitude\\&quot;:103.8162553,\\&quot;Creator\\&quot;:\\&quot;xiurobert\\&quot;}}&quot;;\r\n\r\nConstructor\r\n\r\n    JSONObject jsonObject = new JSONObject(json)\r\n\r\nHowever, this resulted in a `java.lang.RuntimeException: Cannot evaluate org.json.JSONObject.toString()`\r\n\r\nI&#39;ve even tried using gson to parse the string first and then output it back to the new JSONObject but it seems like it didn&#39;t work.\r\n\r\nAny reasons why?\r\n\r\n","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>I've been trying to figure out why constructing a <code>org.json.JSONObject</code> from a string json would not work for very long.</p>\n\n<p>Here is the json string (pretty)</p>\n\n<pre><code>{\n    \"status\": 200,\n    \"message\": \"200 Request is valid\",\n    \"job\": {\n        \"Id\": 1,\n        \"Jobtitle\": \"Test Job\",\n        \"Description\": \"Asthma\",\n        \"Medicalcondition\": \"Asthma\",\n        \"Language\": \"English\",\n        \"Racereligion\": \"Chinese\",\n        \"Agegender\": \"50, Female\",\n        \"Hourlyprice\": 42,\n        \"Type\": \"caregiver\",\n        \"Date\": \"2019-05-12T00:00:00+08:00\",\n        \"Starttime\": \"2018-07-20T12:15:00+08:00\",\n        \"Endtime\": \"2018-07-20T18:15:00+08:00\",\n        \"Address\": \"1 Cluny Road\",\n        \"Latitude\": 1.3152057,\n        \"Longitude\": 103.8162553,\n        \"Creator\": \"xiurobert\"\n    }\n}\n</code></pre>\n\n<p>and minified (the one that I'm attempting to construct a JSONObject from)</p>\n\n<pre><code>String json = \"{\\\"status\\\":200,\\\"message\\\":\\\"200 Request is valid\\\",\\\"job\\\":{\\\"Id\\\":1,\\\"Jobtitle\\\":\\\"Test Job\\\",\\\"Description\\\":\\\"Asthma\\\",\\\"Medicalcondition\\\":\\\"Asthma\\\",\\\"Language\\\":\\\"English\\\",\\\"Racereligion\\\":\\\"Chinese\\\",\\\"Agegender\\\":\\\"50, Female\\\",\\\"Hourlyprice\\\":42,\\\"Type\\\":\\\"caregiver\\\",\\\"Date\\\":\\\"2019-05-12T00:00:00+08:00\\\",\\\"Starttime\\\":\\\"2018-07-20T12:15:00+08:00\\\",\\\"Endtime\\\":\\\"2018-07-20T18:15:00+08:00\\\",\\\"Address\\\":\\\"1 Cluny Road\\\",\\\"Latitude\\\":1.3152057,\\\"Longitude\\\":103.8162553,\\\"Creator\\\":\\\"xiurobert\\\"}}\";\n</code></pre>\n\n<p>Constructor</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(json)\n</code></pre>\n\n<p>However, this resulted in a <code>java.lang.RuntimeException: Cannot evaluate org.json.JSONObject.toString()</code></p>\n\n<p>I've even tried using gson to parse the string first and then output it back to the new JSONObject but it seems like it didn't work.</p>\n\n<p>Any reasons why?</p>\n"},{"tags":["java"],"owner":{"account_id":21025048,"reputation":11,"user_id":15450589,"display_name":"Kyle Stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661227287,"creation_date":1661227287,"question_id":73453007,"body_markdown":"heres my code\r\n\r\n    @Autowired\r\n    HttpSession httpSession;\r\n\r\n    @GetMapping(&quot;/getproductlist&quot;)\r\n    @CrossOrigin\r\n    @ResponseBody\r\n    public Map&lt;String,Object&gt; getproductlist(HttpServletRequest request,HttpSession session)\r\n    {\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n        shop currshop = new shop();\r\n        currshop.setShop_id(1l);\r\n        request.getSession().setAttribute(&quot;currshop&quot;,currshop);\r\n        httpSession.setAttribute(&quot;currshop&quot;,currshop);\r\n\r\n\r\n        shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\r\n\r\n        System.out.println(&quot;====================&quot;+currshop2.getShop_id());\r\n\r\n        List&lt;productCategory&gt; list = null;\r\n\r\n        if(currshop2 != null &amp;&amp; currshop2.getShop_id() != null)\r\n        {\r\n            list = pcategoryService.queryProductCategoryList(currshop.getShop_id());\r\n            map.put(&quot;pcategory&quot;,list);\r\n        }else{\r\n            map.put(&quot;success&quot;,false);\r\n        }\r\n        return map;\r\n    }\r\nits works if in this request\r\nbut its always null when i try next request\r\n\r\n    @PostMapping(value = &quot;/insertBatch&quot;)\r\n    @CrossOrigin\r\n    @ResponseBody\r\n    public Map&lt;String,Object&gt; insertBatch(@RequestBody List&lt;productCategory&gt; pcategory,HttpServletRequest request)  {\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n        int a =-1;\r\n        shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\r\n\r\n        System.out.println(&quot;====================&quot;+currshop2 .getShop_id());\r\n\r\n        for(productCategory pc : pcategory)\r\n        {\r\n            pc.setShop_id(currshop2 .getShop_id());\r\n        }\r\n        if(pcategory != null &amp;&amp; pcategory.size() != 0)\r\n        {\r\n            a = pcategoryService.insertBatch(pcategory);\r\n            map.put(&quot;success&quot;,a);\r\n        }else{\r\n            a=0;\r\n            map.put(&quot;success&quot;,&quot;empty list&quot;);\r\n        }\r\n        return map;\r\n    }\r\nis it browser problem or i missing something?\r\nheres the error list\r\n\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\r\n\tat org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:292)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException: null\r\n\r\n \r\ni was try to fix this issue for 2 day.but i cant not figure out why i \r\nalways can not get session attribute when trying to get diffrerent page\r\nand fetch the right attribute\r\n  \r\n","title":"session attribute receive null when crossing diffrent request in spring boot","body":"<p>heres my code</p>\n<pre><code>@Autowired\nHttpSession httpSession;\n\n@GetMapping(&quot;/getproductlist&quot;)\n@CrossOrigin\n@ResponseBody\npublic Map&lt;String,Object&gt; getproductlist(HttpServletRequest request,HttpSession session)\n{\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    shop currshop = new shop();\n    currshop.setShop_id(1l);\n    request.getSession().setAttribute(&quot;currshop&quot;,currshop);\n    httpSession.setAttribute(&quot;currshop&quot;,currshop);\n\n\n    shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\n\n    System.out.println(&quot;====================&quot;+currshop2.getShop_id());\n\n    List&lt;productCategory&gt; list = null;\n\n    if(currshop2 != null &amp;&amp; currshop2.getShop_id() != null)\n    {\n        list = pcategoryService.queryProductCategoryList(currshop.getShop_id());\n        map.put(&quot;pcategory&quot;,list);\n    }else{\n        map.put(&quot;success&quot;,false);\n    }\n    return map;\n}\n</code></pre>\n<p>its works if in this request\nbut its always null when i try next request</p>\n<pre><code>@PostMapping(value = &quot;/insertBatch&quot;)\n@CrossOrigin\n@ResponseBody\npublic Map&lt;String,Object&gt; insertBatch(@RequestBody List&lt;productCategory&gt; pcategory,HttpServletRequest request)  {\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    int a =-1;\n    shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\n\n    System.out.println(&quot;====================&quot;+currshop2 .getShop_id());\n\n    for(productCategory pc : pcategory)\n    {\n        pc.setShop_id(currshop2 .getShop_id());\n    }\n    if(pcategory != null &amp;&amp; pcategory.size() != 0)\n    {\n        a = pcategoryService.insertBatch(pcategory);\n        map.put(&quot;success&quot;,a);\n    }else{\n        a=0;\n        map.put(&quot;success&quot;,&quot;empty list&quot;);\n    }\n    return map;\n}\n</code></pre>\n<p>is it browser problem or i missing something?\nheres the error list</p>\n<pre><code>at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\nat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\nat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\nat org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:292)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Caused by: java.lang.NullPointerException: null</p>\n<p>i was try to fix this issue for 2 day.but i cant not figure out why i\nalways can not get session attribute when trying to get diffrerent page\nand fetch the right attribute</p>\n"},{"tags":["java","cassandra","talend","datastax-enterprise","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518717251,"creation_date":1518717251,"answer_id":48813479,"question_id":48813091,"body_markdown":"DataStax provides a tarball that includes all dependencies which can be downloaded from [here](http://downloads.datastax.com/java-driver/dse/).\r\n\r\nUsing maven and the `dependency:tree` goal, I generated the dependency tree for 1.5.0\r\n\r\n```\r\n[INFO] com.datastax.dse:dse-java-driver-core:jar:1.5.0\r\n[INFO] +- io.netty:netty-handler:jar:4.0.47.Final:compile\r\n[INFO] |  +- io.netty:netty-buffer:jar:4.0.47.Final:compile\r\n[INFO] |  +- io.netty:netty-transport:jar:4.0.47.Final:compile\r\n[INFO] |  \\- io.netty:netty-codec:jar:4.0.47.Final:compile\r\n[INFO] +- com.google.guava:guava:jar:19.0:compile\r\n[INFO] +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n[INFO] +- com.github.jnr:jnr-ffi:jar:2.0.7:compile\r\n[INFO] |  +- com.github.jnr:jffi:jar:1.2.10:compile\r\n[INFO] |  +- com.github.jnr:jffi:jar:native:1.2.10:runtime\r\n[INFO] |  +- org.ow2.asm:asm:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\r\n[INFO] |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\r\n[INFO] +- com.github.jnr:jnr-posix:jar:3.0.27:compile\r\n[INFO] |  \\- com.github.jnr:jnr-constants:jar:0.9.0:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.8.8:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.8:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.7.9.2:compile\r\n[INFO] +- com.esri.geometry:esri-geometry-api:jar:1.2.1:compile\r\n[INFO] |  +- org.json:json:jar:20090211:compile\r\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.12:compile\r\n[INFO] +- org.xerial.snappy:snappy-java:jar:1.1.2.6:compile\r\n[INFO] +- net.jpountz.lz4:lz4:jar:1.3.0:compile\r\n[INFO] +- io.netty:netty-transport-native-epoll:jar:4.0.47.Final:compile\r\n[INFO] |  \\- io.netty:netty-common:jar:4.0.47.Final:compile\r\n[INFO] \\- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n```\r\n\r\nNote that the jnr jars and their dependencies are optional, as well as the metrics library (if you use `withoutMetrics` in your `Cluster.builder()`).  The lz4 and snappy libraries are also optional (only needed if you use compression)","title":"What are the dependent JAR files needed for dse-java-driver-core-1.5.0.jar?","body":"<p>DataStax provides a tarball that includes all dependencies which can be downloaded from <a href=\"http://downloads.datastax.com/java-driver/dse/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Using maven and the <code>dependency:tree</code> goal, I generated the dependency tree for 1.5.0</p>\n\n<p><code>\n[INFO] com.datastax.dse:dse-java-driver-core:jar:1.5.0\n[INFO] +- io.netty:netty-handler:jar:4.0.47.Final:compile\n[INFO] |  +- io.netty:netty-buffer:jar:4.0.47.Final:compile\n[INFO] |  +- io.netty:netty-transport:jar:4.0.47.Final:compile\n[INFO] |  \\- io.netty:netty-codec:jar:4.0.47.Final:compile\n[INFO] +- com.google.guava:guava:jar:19.0:compile\n[INFO] +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] +- com.github.jnr:jnr-ffi:jar:2.0.7:compile\n[INFO] |  +- com.github.jnr:jffi:jar:1.2.10:compile\n[INFO] |  +- com.github.jnr:jffi:jar:native:1.2.10:runtime\n[INFO] |  +- org.ow2.asm:asm:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\n[INFO] |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\n[INFO] +- com.github.jnr:jnr-posix:jar:3.0.27:compile\n[INFO] |  \\- com.github.jnr:jnr-constants:jar:0.9.0:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.8.8:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.8:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.7.9.2:compile\n[INFO] +- com.esri.geometry:esri-geometry-api:jar:1.2.1:compile\n[INFO] |  +- org.json:json:jar:20090211:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.12:compile\n[INFO] +- org.xerial.snappy:snappy-java:jar:1.1.2.6:compile\n[INFO] +- net.jpountz.lz4:lz4:jar:1.3.0:compile\n[INFO] +- io.netty:netty-transport-native-epoll:jar:4.0.47.Final:compile\n[INFO] |  \\- io.netty:netty-common:jar:4.0.47.Final:compile\n[INFO] \\- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\n</code></p>\n\n<p>Note that the jnr jars and their dependencies are optional, as well as the metrics library (if you use <code>withoutMetrics</code> in your <code>Cluster.builder()</code>).  The lz4 and snappy libraries are also optional (only needed if you use compression)</p>\n"}],"owner":{"account_id":12954993,"reputation":5,"user_id":9366151,"display_name":"Kevin Carpenter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48813479,"answer_count":1,"score":0,"last_activity_date":1661226683,"creation_date":1518715880,"question_id":48813091,"body_markdown":"I am trying to use the DataStax Java driver in Talend to generate TimeUUIDs; however I keep getting a class not found exception. I am pretty sure the reason is because at execution time the JAR file is reaching out to some external repositories on the web to get dependent libraries and my work&#39;s network firewall is blocking Talend from getting those dependencies. Are there specific JARs that I can download and install into Talend manually so that my jobs don&#39;t need to reach out to the web for the libraries at execution time?\r\n\r\nI am using:\r\n\r\n - Talend Open Studio for Big Data version 6.4.1\r\n - Oracle Java JDK 8 Update 161 (Standard Edition)\r\n - Windows 10 Enterprise 64-bit version 1709\r\n - dse-java-driver-core-1.5.0.jar","title":"What are the dependent JAR files needed for dse-java-driver-core-1.5.0.jar?","body":"<p>I am trying to use the DataStax Java driver in Talend to generate TimeUUIDs; however I keep getting a class not found exception. I am pretty sure the reason is because at execution time the JAR file is reaching out to some external repositories on the web to get dependent libraries and my work's network firewall is blocking Talend from getting those dependencies. Are there specific JARs that I can download and install into Talend manually so that my jobs don't need to reach out to the web for the libraries at execution time?</p>\n\n<p>I am using:</p>\n\n<ul>\n<li>Talend Open Studio for Big Data version 6.4.1</li>\n<li>Oracle Java JDK 8 Update 161 (Standard Edition)</li>\n<li>Windows 10 Enterprise 64-bit version 1709</li>\n<li>dse-java-driver-core-1.5.0.jar</li>\n</ul>\n"},{"tags":["java","functional-programming","java-8","option-type"],"comments":[{"owner":{"account_id":6881348,"reputation":678,"user_id":5287968,"display_name":"Bryce Rogers"},"score":0,"creation_date":1479963448,"post_id":40778248,"comment_id":68780118,"body_markdown":"Possible duplicate of [Uses for Optional](http://stackoverflow.com/questions/23454952/uses-for-optional)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/23454952/uses-for-optional\">Uses for Optional</a>"},{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":1,"creation_date":1479963608,"post_id":40778248,"comment_id":68780165,"body_markdown":"Possible duplicate of [Optional vs. null. What is the purpose of Optional in Java 8?](http://stackoverflow.com/questions/28746482/optional-vs-null-what-is-the-purpose-of-optional-in-java-8)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/28746482/optional-vs-null-what-is-the-purpose-of-optional-in-java-8\">Optional vs. null. What is the purpose of Optional in Java 8?</a>"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1479963684,"post_id":40778248,"comment_id":68780182,"body_markdown":"Well, for one thing, you can use `x.toString()` on an `Optional` that isn&#39;t present, but you can&#39;t use it on a `null`.  Also something like `x.equals(y)`.","body":"Well, for one thing, you can use <code>x.toString()</code> on an <code>Optional</code> that isn&#39;t present, but you can&#39;t use it on a <code>null</code>.  Also something like <code>x.equals(y)</code>."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1479963883,"post_id":40778248,"comment_id":68780253,"body_markdown":"I don&#39;t think avoiding exceptions is the big benefit [other than what I mentioned in my other comment].  If your code is broken, you won&#39;t get `NullPointerException` as often but you might get `NoSuchElementException`.  Big deal.  I think a bigger benefit is that if you use `Optional` consistently, so that a value can be present or `empty`, then when you get a `NullPointerException` you know that your code did something really wrong, like forgetting to initialize something.","body":"I don&#39;t think avoiding exceptions is the big benefit [other than what I mentioned in my other comment].  If your code is broken, you won&#39;t get <code>NullPointerException</code> as often but you might get <code>NoSuchElementException</code>.  Big deal.  I think a bigger benefit is that if you use <code>Optional</code> consistently, so that a value can be present or <code>empty</code>, then when you get a <code>NullPointerException</code> you know that your code did something really wrong, like forgetting to initialize something."}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1480064291,"creation_date":1480064291,"answer_id":40801034,"question_id":40778248,"body_markdown":"Let&#39;s say you want to get a string returned by a function, convert it to upper case, and then print it out. If you have:\r\n\r\n    String someFunc() { ... }\r\n\r\nYou might be tempted to write:\r\n\r\n    System.out.println(someFunc().toUpperCase());\r\n\r\nOf course, this throws `NullPointerException` if `someFunc` returns `null`. Instead, suppose we have this:\r\n\r\n    Optional&lt;String&gt; someFunc() { ... }\r\n\r\nThen\r\n\r\n    System.out.println(someFunc().toUpperCase());\r\n\r\nwon&#39;t work, since `Optional` doesn&#39;t have a `toUpperCase` method. At this point -- hopefully -- you&#39;ll be confronted with an `Optional`, which should make you think about the case of the `Optional` being empty. This helps avoid NPEs, but probably only somewhat.\r\n\r\nNow you might be focusing on how to get the value out of the `Optional`, and you might forget about the empty case. Ah, there&#39;s a `get` method:\r\n\r\n    System.out.println(someFunc().get().toUpperCase());\r\n\r\nThis brings back the same problem as NPE, except that the exception is `NoSuchElementException` instead. So if you blindly call `get` on an `Optional`, it really is pretty much the same thing as calling a method on a reference without checking whether it&#39;s null.\r\n\r\n(For this reason, [Brian Goetz][1] considers `Optional.get` to be the biggest mistake in Java 8. See his interview with Angelika Langer [*JAX 2015 Fragen und Antworten zu Java 8*][2] at about 16 minutes in. I&#39;m not sure it&#39;s the biggest, but it is a mistake. People just don&#39;t expect `get` to throw an exception.)\r\n\r\nIf you&#39;re diligent about checking for null references or empty optionals, then\r\n\r\n    Optional&lt;String&gt; os = someFunc();\r\n    if (os.isPresent()) {\r\n        System.out.println(os.get().toUpperCase());\r\n    }\r\n\r\nis hardly any better than the old\r\n\r\n    String s = someFunc();\r\n    if (s != null) {\r\n        System.out.println(s.toUpperCase());\r\n    }\r\n\r\nThe **real** advantage of `Optional` is that it&#39;s a library class that has a fairly rich API for dealing with the empty case in a safe way. It&#39;s often possible to process the value that might be contained within an `Optional` by chaining a couple method calls to the method that returned the `Optional` in the first place. For example, we could rewrite the sample above as follows:\r\n\r\n    someFunc().map(String::toUpperCase)\r\n              .ifPresent(System.out::println);\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3553087/brian-goetz\r\n  [2]: https://jaxenter.de/fragen-und-antworten-zu-java-8-qa-33108","title":"Null check vs Optional isPresent check","body":"<p>Let's say you want to get a string returned by a function, convert it to upper case, and then print it out. If you have:</p>\n\n<pre><code>String someFunc() { ... }\n</code></pre>\n\n<p>You might be tempted to write:</p>\n\n<pre><code>System.out.println(someFunc().toUpperCase());\n</code></pre>\n\n<p>Of course, this throws <code>NullPointerException</code> if <code>someFunc</code> returns <code>null</code>. Instead, suppose we have this:</p>\n\n<pre><code>Optional&lt;String&gt; someFunc() { ... }\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>System.out.println(someFunc().toUpperCase());\n</code></pre>\n\n<p>won't work, since <code>Optional</code> doesn't have a <code>toUpperCase</code> method. At this point -- hopefully -- you'll be confronted with an <code>Optional</code>, which should make you think about the case of the <code>Optional</code> being empty. This helps avoid NPEs, but probably only somewhat.</p>\n\n<p>Now you might be focusing on how to get the value out of the <code>Optional</code>, and you might forget about the empty case. Ah, there's a <code>get</code> method:</p>\n\n<pre><code>System.out.println(someFunc().get().toUpperCase());\n</code></pre>\n\n<p>This brings back the same problem as NPE, except that the exception is <code>NoSuchElementException</code> instead. So if you blindly call <code>get</code> on an <code>Optional</code>, it really is pretty much the same thing as calling a method on a reference without checking whether it's null.</p>\n\n<p>(For this reason, <a href=\"https://stackoverflow.com/users/3553087/brian-goetz\">Brian Goetz</a> considers <code>Optional.get</code> to be the biggest mistake in Java 8. See his interview with Angelika Langer <a href=\"https://jaxenter.de/fragen-und-antworten-zu-java-8-qa-33108\" rel=\"noreferrer\"><em>JAX 2015 Fragen und Antworten zu Java 8</em></a> at about 16 minutes in. I'm not sure it's the biggest, but it is a mistake. People just don't expect <code>get</code> to throw an exception.)</p>\n\n<p>If you're diligent about checking for null references or empty optionals, then</p>\n\n<pre><code>Optional&lt;String&gt; os = someFunc();\nif (os.isPresent()) {\n    System.out.println(os.get().toUpperCase());\n}\n</code></pre>\n\n<p>is hardly any better than the old</p>\n\n<pre><code>String s = someFunc();\nif (s != null) {\n    System.out.println(s.toUpperCase());\n}\n</code></pre>\n\n<p>The <strong>real</strong> advantage of <code>Optional</code> is that it's a library class that has a fairly rich API for dealing with the empty case in a safe way. It's often possible to process the value that might be contained within an <code>Optional</code> by chaining a couple method calls to the method that returned the <code>Optional</code> in the first place. For example, we could rewrite the sample above as follows:</p>\n\n<pre><code>someFunc().map(String::toUpperCase)\n          .ifPresent(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647105640,"creation_date":1647105640,"answer_id":71451781,"question_id":40778248,"body_markdown":"    String op = someFunc()\r\n    if(op != null) {\r\n       op.trim();\r\n    }\r\n\r\nWhen the interface someFunc() is invoked above, it doesn&#39;t explicitly say that a null value could be returned, so the caller is left to his/her own assumption.\r\n\r\nBy explicitly returning an Optional, the caller of someFunc() is made aware that the interface could potentially return null. From an interface creator&#39;s perspective, it lets him/her be specific about the return value rather than having to document it separately. \r\n\r\n    Optional&lt;String&gt; op = someFunc()\r\n    if(op.isPresent()) {\r\n       op.get().trim();\r\n    }","title":"Null check vs Optional isPresent check","body":"<pre><code>String op = someFunc()\nif(op != null) {\n   op.trim();\n}\n</code></pre>\n<p>When the interface someFunc() is invoked above, it doesn't explicitly say that a null value could be returned, so the caller is left to his/her own assumption.</p>\n<p>By explicitly returning an Optional, the caller of someFunc() is made aware that the interface could potentially return null. From an interface creator's perspective, it lets him/her be specific about the return value rather than having to document it separately.</p>\n<pre><code>Optional&lt;String&gt; op = someFunc()\nif(op.isPresent()) {\n   op.get().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661226577,"creation_date":1661226577,"answer_id":73452927,"question_id":40778248,"body_markdown":"One scenario where Optional is helpful in avoiding NullPointerException is method chaining. \r\n```\r\nclass A {\r\n  private B b;\r\n}\r\nclass B {\r\n  private C c;\r\n}\r\nclass C {\r\n  private D d;\r\n}\r\n```\r\nLet&#39;s say I have the above classes, and I want to make sure that an instance of class A has a non-null instance of D, but without causing a null pointer exception. \r\nIf I were to directly call `a.getB().getC().getD() != null`, then it might throw NullPointerException - say if `a.getB()` was null.\r\n\r\nOf course, I can do\r\n```\r\ntry { \r\n  a.getB().getC().getD(); \r\n  // do something\r\n}\r\ncatch(NullPointerException e) {\r\n  // handle exception\r\n};\r\n```\r\nBut that doesn&#39;t look nice. An elegant solution would be to wrap our objects in optional.\r\n\r\n```\r\nOptional.ofNullable(a).map(A::getB).map(B::getC).map(C::getD).isPresent()\r\n```\r\n\r\nCheck [this][1] for more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3458451/check-chains-of-get-calls-for-null","title":"Null check vs Optional isPresent check","body":"<p>One scenario where Optional is helpful in avoiding NullPointerException is method chaining.</p>\n<pre><code>class A {\n  private B b;\n}\nclass B {\n  private C c;\n}\nclass C {\n  private D d;\n}\n</code></pre>\n<p>Let's say I have the above classes, and I want to make sure that an instance of class A has a non-null instance of D, but without causing a null pointer exception.\nIf I were to directly call <code>a.getB().getC().getD() != null</code>, then it might throw NullPointerException - say if <code>a.getB()</code> was null.</p>\n<p>Of course, I can do</p>\n<pre><code>try { \n  a.getB().getC().getD(); \n  // do something\n}\ncatch(NullPointerException e) {\n  // handle exception\n};\n</code></pre>\n<p>But that doesn't look nice. An elegant solution would be to wrap our objects in optional.</p>\n<pre><code>Optional.ofNullable(a).map(A::getB).map(B::getC).map(C::getD).isPresent()\n</code></pre>\n<p>Check <a href=\"https://stackoverflow.com/questions/3458451/check-chains-of-get-calls-for-null\">this</a> for more.</p>\n"}],"owner":{"account_id":3207382,"reputation":2884,"user_id":2708169,"accept_rate":49,"display_name":"ffff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52824,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":40801034,"answer_count":3,"score":35,"last_activity_date":1661226577,"creation_date":1479962925,"question_id":40778248,"body_markdown":"Can someone explain how `Optional` helps us avoid `NullPointerException`?\r\n\r\n    Optional&lt;String&gt; op = someFunc()\r\n    if(op.isPresent()) {\r\n       op.get();\r\n    }\r\n    String possibleNull = op.get();\r\n\r\nIsn&#39;t this code prone to `NullPointerException` too? If so, then why is this code preferred over\r\n\r\n    String op = someFunc()\r\n    if(op != null) {\r\n       op.get();\r\n    }\r\n    String possibleNull = op;\r\n\r\nWhat possible benefit does `Optional` provide other than the fact that it helps us in knowing whether a function actually had a return value or not","title":"Null check vs Optional isPresent check","body":"<p>Can someone explain how <code>Optional</code> helps us avoid <code>NullPointerException</code>?</p>\n\n<pre><code>Optional&lt;String&gt; op = someFunc()\nif(op.isPresent()) {\n   op.get();\n}\nString possibleNull = op.get();\n</code></pre>\n\n<p>Isn't this code prone to <code>NullPointerException</code> too? If so, then why is this code preferred over</p>\n\n<pre><code>String op = someFunc()\nif(op != null) {\n   op.get();\n}\nString possibleNull = op;\n</code></pre>\n\n<p>What possible benefit does <code>Optional</code> provide other than the fact that it helps us in knowing whether a function actually had a return value or not</p>\n"},{"tags":["java","sql","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1527846222,"post_id":50640540,"comment_id":88291164,"body_markdown":"QueryBuilder is from which library?","body":"QueryBuilder is from which library?"},{"owner":{"account_id":11641250,"reputation":185,"user_id":8525580,"accept_rate":60,"display_name":"S.P."},"score":0,"creation_date":1527846407,"post_id":50640540,"comment_id":88291281,"body_markdown":"from com.datastax.driver.core.querybuilder.QueryBuilder","body":"from com.datastax.driver.core.querybuilder.QueryBuilder"},{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1527847388,"post_id":50640540,"comment_id":88291860,"body_markdown":"Possible duplicate of [PreparedStatement IN clause alternatives?](https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives\">PreparedStatement IN clause alternatives?</a>"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1527847663,"post_id":50640540,"comment_id":88292025,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/16918853/prepared-statement-with-collection-in-in-clause-in-datastax-cassandra-cql-driver","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/16918853/prepared-statement-with-collection-in-in-clause-in-datastax-cassandra-cql-driver\" title=\"prepared statement with collection in in clause in datastax cassandra cql driver\">stackoverflow.com/questions/16918853/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527850568,"creation_date":1527850568,"answer_id":50641908,"question_id":50640540,"body_markdown":"To achieve this with `QueryBuilder` you need to call the `bindMarker()`, or `bindMarker(&quot;name&quot;)`... See corresponding [Javadocs][1] (example is from it):\r\n\r\n    Insert i = QueryBuilder.insertInto(&quot;test&quot;).value(&quot;k&quot;, 0)\r\n                           .value(&quot;c&quot;, QueryBuilder.bindMarker());\r\n    PreparedStatement p = session.prepare(i.toString());\r\n\r\n  [1]: https://docs.datastax.com/en/drivers/java/3.5/com/datastax/driver/core/querybuilder/QueryBuilder.html#bindMarker--","title":"Query builder in clause to prepared statement","body":"<p>To achieve this with <code>QueryBuilder</code> you need to call the <code>bindMarker()</code>, or <code>bindMarker(\"name\")</code>... See corresponding <a href=\"https://docs.datastax.com/en/drivers/java/3.5/com/datastax/driver/core/querybuilder/QueryBuilder.html#bindMarker--\" rel=\"nofollow noreferrer\">Javadocs</a> (example is from it):</p>\n\n<pre><code>Insert i = QueryBuilder.insertInto(\"test\").value(\"k\", 0)\n                       .value(\"c\", QueryBuilder.bindMarker());\nPreparedStatement p = session.prepare(i.toString());\n</code></pre>\n"}],"owner":{"account_id":11641250,"reputation":185,"user_id":8525580,"accept_rate":60,"display_name":"S.P."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661226524,"creation_date":1527846112,"question_id":50640540,"body_markdown":"I want to change following query to prepared statement :\r\n\r\n                   \r\n    QueryBuilder.select().column(id).from(studentTable).where(QueryBuilder.in(id,List)).\r\n\r\nI know noramlly this query can be written as : \r\n\r\n    select id from studentTable where id = ?\r\n\r\nHow the same can be achieved by `querybuilder` ?\r\n","title":"Query builder in clause to prepared statement","body":"<p>I want to change following query to prepared statement :</p>\n\n<pre><code>QueryBuilder.select().column(id).from(studentTable).where(QueryBuilder.in(id,List)).\n</code></pre>\n\n<p>I know noramlly this query can be written as : </p>\n\n<pre><code>select id from studentTable where id = ?\n</code></pre>\n\n<p>How the same can be achieved by <code>querybuilder</code> ?</p>\n"},{"tags":["java","cassandra","deserialization","nio","datastax-java-driver"],"comments":[{"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"score":0,"creation_date":1548863833,"post_id":54444440,"comment_id":95698316,"body_markdown":"Do you really have the need to encapsulate your &#39;attributes.getBytes()&#39; inside a ByteBuffer ? You could just store your array directly and deserialise it...","body":"Do you really have the need to encapsulate your &#39;attributes.getBytes()&#39; inside a ByteBuffer ? You could just store your array directly and deserialise it..."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1548865195,"post_id":54444440,"comment_id":95699149,"body_markdown":"Didn&#39;t get your question. Attributes is a  string and ByteBuffer.wrap(takes a bytearray) hence calling getBytes() on it","body":"Didn&#39;t get your question. Attributes is a  string and ByteBuffer.wrap(takes a bytearray) hence calling getBytes() on it"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1548866982,"post_id":54444440,"comment_id":95700317,"body_markdown":"https://stackoverflow.com/questions/3982704/how-to-serialize-bytebuffer","body":"<a href=\"https://stackoverflow.com/questions/3982704/how-to-serialize-bytebuffer\" title=\"how to serialize bytebuffer\">stackoverflow.com/questions/3982704/how-to-serialize-bytebuf&zwnj;&#8203;fer</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1548867003,"post_id":54444440,"comment_id":95700327,"body_markdown":"The error suggests that the data it is not serialized through the Java serialization mechanism. Using `String.getBytes` is just a direct string-to-bytes conversion (`7B226F70` is `{&quot;op` in ASCII, which to me looks like the start of a JSON string converted to bytes). Make sure you use the correct mechanism (which is `new String(thebytes)`. Note though that it would be better to explicitly specify the character set, because right now you&#39;re relying on platform specific encoding","body":"The error suggests that the data it is not serialized through the Java serialization mechanism. Using <code>String.getBytes</code> is just a direct string-to-bytes conversion (<code>7B226F70</code> is <code>{&quot;op</code> in ASCII, which to me looks like the start of a JSON string converted to bytes). Make sure you use the correct mechanism (which is <code>new String(thebytes)</code>. Note though that it would be better to explicitly specify the character set, because right now you&#39;re relying on platform specific encoding"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1548867102,"post_id":54444440,"comment_id":95700388,"body_markdown":"https://kafka.apache.org/10/javadoc/org/apache/kafka/common/serialization/ByteBufferDeserializer.html","body":"<a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/common/serialization/ByteBufferDeserializer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/10/javadoc/org/apache/kafka/common/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548866756,"creation_date":1548866756,"answer_id":54445506,"question_id":54444440,"body_markdown":"You should try something like this :\r\n\r\n    byte[] bytes = attributes.getBytes( StandardCharsets.UTF_8 );\r\n    ByteBuffer.wrap(bytes);\r\n\r\nI added StandardCharsets.UTF_8 as getBytes() uses the default charset of your platform.\r\nthen you can get your bytes back with something like :\r\n\r\n    String original = new String( entity.getAttributes(), StandardCharsets.UTF_8 );\r\n\r\nIn fact I don&#39;t know what type is your **entity.getAttributes()** but if it is a byte[] it should work.\r\n","title":"How to deserialize a java.nio.ByteBuffer in Java","body":"<p>You should try something like this :</p>\n\n<pre><code>byte[] bytes = attributes.getBytes( StandardCharsets.UTF_8 );\nByteBuffer.wrap(bytes);\n</code></pre>\n\n<p>I added StandardCharsets.UTF_8 as getBytes() uses the default charset of your platform.\nthen you can get your bytes back with something like :</p>\n\n<pre><code>String original = new String( entity.getAttributes(), StandardCharsets.UTF_8 );\n</code></pre>\n\n<p>In fact I don't know what type is your <strong>entity.getAttributes()</strong> but if it is a byte[] it should work.</p>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54445506,"answer_count":1,"score":1,"last_activity_date":1661226088,"creation_date":1548863405,"question_id":54444440,"body_markdown":"I converted an object to json String and storing it as Blob in Datastax using `ByteBuffer.wrap(attributes.getBytes())`. How can I convert that back to String and assert in my tests? I tried using \r\n`org.apache.commons.lang3.SerializationUtils.deserialize(entity.getAttributes().array())` but getting an exception\r\n\r\n&gt; org.apache.commons.lang3.SerializationException: java.io.StreamCorruptedException: invalid stream header: 7B226F70\r\n\r\n\tat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:197)\r\n\tat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:223)\r\n\tat com.homedepot.productassortment.fullfeed.util.InstallSkusToProductAssortmentConverterTest.convertInstallSkuToProductAssortmentEntity(InstallSkusToProductAssortmentConverterTest.java:50)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n","title":"How to deserialize a java.nio.ByteBuffer in Java","body":"<p>I converted an object to json String and storing it as Blob in Datastax using <code>ByteBuffer.wrap(attributes.getBytes())</code>. How can I convert that back to String and assert in my tests? I tried using \n<code>org.apache.commons.lang3.SerializationUtils.deserialize(entity.getAttributes().array())</code> but getting an exception</p>\n\n<blockquote>\n  <p>org.apache.commons.lang3.SerializationException: java.io.StreamCorruptedException: invalid stream header: 7B226F70</p>\n</blockquote>\n\n<pre><code>at org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:197)\nat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:223)\nat com.homedepot.productassortment.fullfeed.util.InstallSkusToProductAssortmentConverterTest.convertInstallSkuToProductAssortmentEntity(InstallSkusToProductAssortmentConverterTest.java:50)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1661224094,"post_id":73452681,"comment_id":129714641,"body_markdown":"Fails how?  Provide the full error message(s) and stack trace(s) for your failures.","body":"Fails how?  Provide the full error message(s) and stack trace(s) for your failures."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1661224305,"post_id":73452681,"comment_id":129714669,"body_markdown":"And dragging in Apache Commons to convert an input stream to a `byte` array?  Just copy the InputStream to a `ByteArrayOutputStream`.  You can even wrap that `ByteArrayOutputStream` with a base64 encoding stream and save a copy step.","body":"And dragging in Apache Commons to convert an input stream to a <code>byte</code> array?  Just copy the InputStream to a <code>ByteArrayOutputStream</code>.  You can even wrap that <code>ByteArrayOutputStream</code> with a base64 encoding stream and save a copy step."},{"owner":{"account_id":2099763,"reputation":59,"user_id":1867729,"display_name":"amitz27"},"score":0,"creation_date":1661225065,"post_id":73452681,"comment_id":129714753,"body_markdown":"Seems like the corporate firewall maybe blocking the request except for the Microsoft link which seems to be reachable. Error is: \n\norg.w3c.www.protocol.http.HttpException: Connection closed by remote host.","body":"Seems like the corporate firewall maybe blocking the request except for the Microsoft link which seems to be reachable. Error is:   org.w3c.www.protocol.http.HttpException: Connection closed by remote host."}],"owner":{"account_id":2099763,"reputation":59,"user_id":1867729,"display_name":"amitz27"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661225950,"creation_date":1661223588,"question_id":73452681,"body_markdown":"I am trying to convert an image(Web URL) to Base64 encoded string using Java. The below code works fine for the below URL\r\n\r\nhttps://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b\r\n\r\nHowever, fails for most other image URLs\r\n\r\ne.g. https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\r\n\r\nSeems like it fails in the openStream() step in the code.\r\n\r\n```\r\ntry{\r\n\tURI attURI = new URI(strURL);\r\n\timportanttrace.addWarning(attURI.toASCIIString());\r\n    java.net.URL url = new java.net.URL(attURI.toASCIIString());\r\n    InputStream is = url.openStream(); //erroring\r\n\tbyte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\r\n    String res = Base64.getEncoder().encodeToString(bytes);\r\n\treturn res;\r\n}\r\ncatch (Exception e) {\r\nreturn &quot;err&quot;;\r\n}\r\n```\r\n\r\nCan someone help me understand what the issue may be? Thanks for your help!\r\n\r\nEDIT: It is a FIREWALL issue.","title":"Image URL to Base64 encoded data","body":"<p>I am trying to convert an image(Web URL) to Base64 encoded string using Java. The below code works fine for the below URL</p>\n<p><a href=\"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b\" rel=\"nofollow noreferrer\">https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b</a></p>\n<p>However, fails for most other image URLs</p>\n<p>e.g. <a href=\"https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\" rel=\"nofollow noreferrer\">https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png</a></p>\n<p>Seems like it fails in the openStream() step in the code.</p>\n<pre><code>try{\n    URI attURI = new URI(strURL);\n    importanttrace.addWarning(attURI.toASCIIString());\n    java.net.URL url = new java.net.URL(attURI.toASCIIString());\n    InputStream is = url.openStream(); //erroring\n    byte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\n    String res = Base64.getEncoder().encodeToString(bytes);\n    return res;\n}\ncatch (Exception e) {\nreturn &quot;err&quot;;\n}\n</code></pre>\n<p>Can someone help me understand what the issue may be? Thanks for your help!</p>\n<p>EDIT: It is a FIREWALL issue.</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661091577,"creation_date":1661091577,"answer_id":73435293,"question_id":73429170,"body_markdown":"I dont know with what arguments you actually do the call `UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);` \r\nBut in your test you stub the method for 2 strings, 2 Integers, and 1 String. \r\nIn your class it lookslike your last argument is NULL. So your stub doesn&#39;t match with the actual arguments used. so mockito will throw a `PotentialStubbingProblem` telling you your stub doesn&#39;t match with the actual method called. This can be fixed by adjusting you last parameter for your stub to for example &#39;any()&#39; or `isNull()` or `nullable(String.class)`","title":"Mocked Instance is always Null","body":"<p>I dont know with what arguments you actually do the call <code>UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);</code>\nBut in your test you stub the method for 2 strings, 2 Integers, and 1 String.\nIn your class it lookslike your last argument is NULL. So your stub doesn't match with the actual arguments used. so mockito will throw a <code>PotentialStubbingProblem</code> telling you your stub doesn't match with the actual method called. This can be fixed by adjusting you last parameter for your stub to for example 'any()' or <code>isNull()</code> or <code>nullable(String.class)</code></p>\n"},{"tags":[],"owner":{"account_id":14406892,"reputation":77,"user_id":10406714,"display_name":"Vinayak49"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661225083,"creation_date":1661225083,"answer_id":73452803,"question_id":73429170,"body_markdown":"Its working when I changed arguments in mocked function call from anyString(), anyInt() to any() i.e \r\nInstead of \r\n```\r\nwhen(service.getInfo(anyString(), anyString(), anyInt(), anyInt()).thenReturn(info);\r\n```\r\nreplaced this with :\r\n```\r\nwhen(service.getInfo(any(), any(), any(), any()).thenReturn(info);\r\n```\r\n\r\nAlso I am avoiding passing of Null argument as I realized its not required as that variable would be always Null","title":"Mocked Instance is always Null","body":"<p>Its working when I changed arguments in mocked function call from anyString(), anyInt() to any() i.e\nInstead of</p>\n<pre><code>when(service.getInfo(anyString(), anyString(), anyInt(), anyInt()).thenReturn(info);\n</code></pre>\n<p>replaced this with :</p>\n<pre><code>when(service.getInfo(any(), any(), any(), any()).thenReturn(info);\n</code></pre>\n<p>Also I am avoiding passing of Null argument as I realized its not required as that variable would be always Null</p>\n"}],"owner":{"account_id":14406892,"reputation":77,"user_id":10406714,"display_name":"Vinayak49"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73452803,"answer_count":2,"score":0,"last_activity_date":1661225083,"creation_date":1661020272,"question_id":73429170,"body_markdown":"Sample Code :\r\nFile : InfoRequestControllerTest.java\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class InfoRequestControllerTest {\r\n\r\nInfoRequestController InfoRequestControllerTest;\r\n\r\n@Mock\r\nService service;\r\n\r\n@Mock\r\nUserInfo info\r\n\r\n@Before\r\npublic void setupMocks() {\r\n        MockitoAnnotations.openMocks(this);\r\n        InfoRequestControllerTest = new InfoRequestController(argmock1, argmock2, argmock3);\r\n\r\n}\r\n\r\n@SneakyThrows\r\n@Test\r\npublic void InfoTest() {\r\n\twhen(service.getInfo(anyString(), anyString(), anyInt(), anyInt(), anyString()).thenReturn(info);\r\n\tRespDto respDto = InfoRequestControllerTest.InfoRequest(&quot;string&quot;, &quot;string&quot;, &quot;string&quot;).call();\r\n\r\n}\r\n```\r\n\r\nFile : InfoRequestController.java\r\n```\r\npublic Callable&lt;UserInfo&gt; InfoRequest() \r\n{\r\n  ...\r\n  UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);\r\n  ...\r\n}\r\n```\r\n\r\nSo inside this InfoRequest method, I am always getting &quot;info&quot; as null.\r\nI have added &quot;@RunWith(MockitoJUnitRunner.class)&quot; at the beginning of InfoRequestControllerTest class. ALso &quot;MockitoAnnotations.openMocks(this)&quot; is present inside setup class.\r\n\r\nI am not understanding inspite of mocking &quot;info&quot;, why it&#39;s coming Null during the execution of test case.\r\nAny pointers will be really helpful.\r\n","title":"Mocked Instance is always Null","body":"<p>Sample Code :\nFile : InfoRequestControllerTest.java</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class InfoRequestControllerTest {\n\nInfoRequestController InfoRequestControllerTest;\n\n@Mock\nService service;\n\n@Mock\nUserInfo info\n\n@Before\npublic void setupMocks() {\n        MockitoAnnotations.openMocks(this);\n        InfoRequestControllerTest = new InfoRequestController(argmock1, argmock2, argmock3);\n\n}\n\n@SneakyThrows\n@Test\npublic void InfoTest() {\n    when(service.getInfo(anyString(), anyString(), anyInt(), anyInt(), anyString()).thenReturn(info);\n    RespDto respDto = InfoRequestControllerTest.InfoRequest(&quot;string&quot;, &quot;string&quot;, &quot;string&quot;).call();\n\n}\n</code></pre>\n<p>File : InfoRequestController.java</p>\n<pre><code>public Callable&lt;UserInfo&gt; InfoRequest() \n{\n  ...\n  UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);\n  ...\n}\n</code></pre>\n<p>So inside this InfoRequest method, I am always getting &quot;info&quot; as null.\nI have added &quot;@RunWith(MockitoJUnitRunner.class)&quot; at the beginning of InfoRequestControllerTest class. ALso &quot;MockitoAnnotations.openMocks(this)&quot; is present inside setup class.</p>\n<p>I am not understanding inspite of mocking &quot;info&quot;, why it's coming Null during the execution of test case.\nAny pointers will be really helpful.</p>\n"},{"tags":["java","jenkins","jenkins-plugins","hudson"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1661171340,"post_id":73444832,"comment_id":129700853,"body_markdown":"Do you want to recursively traverse and get all files and directories in the workspace?","body":"Do you want to recursively traverse and get all files and directories in the workspace?"},{"owner":{"account_id":320694,"reputation":1530,"user_id":639107,"accept_rate":84,"display_name":"kn_pavan"},"score":0,"creation_date":1661171433,"post_id":73444832,"comment_id":129700892,"body_markdown":"That&#39;s correct @ycr. I would like to include both files and directories, except for the exclusion patten matched ones","body":"That&#39;s correct @ycr. I would like to include both files and directories, except for the exclusion patten matched ones"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661224691,"creation_date":1661223539,"answer_id":73452678,"question_id":73444832,"body_markdown":"You can&#39;t use `hudson.FilePath#listDirectories` with a exclude/include patterns. Hence you will have to implement your own method to get the directories supporting Ant pattern matching. Here is a sample code.\r\n\r\n**Dependency**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Java Code**\r\n```java\r\nprivate String [] getDirectories(String baseDir, String excludes) {\r\n\r\n    DirSet ds = new DirSet();\r\n    ds.setDir(new File(baseDir));\r\n    for (String token : excludes.split(&quot;,&quot;)) {\r\n        ds.createExclude().setName(token);\r\n    }\r\n    DirectoryScanner scanner = ds.getDirectoryScanner(new Project());\r\n    String[] directories = scanner.getIncludedDirectories();\r\n\r\n    return directories;\r\n}\r\n```\r\n\r\n**Calling the method**\r\n```java\r\nString excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\r\nString dir = &quot;/SOME/DIR&quot;;\r\nString[] directories = getDirectories(dir, excludes);\r\n```\r\n  [1]: https://github.com/jenkinsci/jenkins/blob/master/core/src/main/java/hudson/FilePath.java#L2051","title":"hudson.FilePath : How to list subDirectories as well whole using excludes glob filter","body":"<p>You can't use <code>hudson.FilePath#listDirectories</code> with a exclude/include patterns. Hence you will have to implement your own method to get the directories supporting Ant pattern matching. Here is a sample code.</p>\n<p><strong>Dependency</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n  &lt;artifactId&gt;ant&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private String [] getDirectories(String baseDir, String excludes) {\n\n    DirSet ds = new DirSet();\n    ds.setDir(new File(baseDir));\n    for (String token : excludes.split(&quot;,&quot;)) {\n        ds.createExclude().setName(token);\n    }\n    DirectoryScanner scanner = ds.getDirectoryScanner(new Project());\n    String[] directories = scanner.getIncludedDirectories();\n\n    return directories;\n}\n</code></pre>\n<p><strong>Calling the method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\nString dir = &quot;/SOME/DIR&quot;;\nString[] directories = getDirectories(dir, excludes);\n</code></pre>\n"}],"owner":{"account_id":320694,"reputation":1530,"user_id":639107,"accept_rate":84,"display_name":"kn_pavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73452678,"answer_count":1,"score":2,"last_activity_date":1661224691,"creation_date":1661169811,"question_id":73444832,"body_markdown":"I am working on a Jenkins custom Plugin, where I need to list all valid FilePaths: sub-Directories and child files, excluding some temporary files like `.git,.npm,.cache etc`, the full list is included in below code sample:\r\n\r\n```java\r\nString excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\r\nFilePath[] validFileAndFolderPaths = workspace.list(&quot;**/*&quot;, excludes);\r\n```\r\n\r\nThe above code is giving me all of the files in the `workspace` FilePath, but not the sub-directories.  \r\n\r\nThere is a method for listing all sub-directories `hudson.FilePath#listDirectories`, but that doesn&#39;t support exclusion list.\r\nAny help on how to achieve this requirement?","title":"hudson.FilePath : How to list subDirectories as well whole using excludes glob filter","body":"<p>I am working on a Jenkins custom Plugin, where I need to list all valid FilePaths: sub-Directories and child files, excluding some temporary files like <code>.git,.npm,.cache etc</code>, the full list is included in below code sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\nFilePath[] validFileAndFolderPaths = workspace.list(&quot;**/*&quot;, excludes);\n</code></pre>\n<p>The above code is giving me all of the files in the <code>workspace</code> FilePath, but not the sub-directories.</p>\n<p>There is a method for listing all sub-directories <code>hudson.FilePath#listDirectories</code>, but that doesn't support exclusion list.\nAny help on how to achieve this requirement?</p>\n"},{"tags":["java","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1434285375,"creation_date":1434284828,"answer_id":30829337,"question_id":30829164,"body_markdown":"Use a web view:\r\n\r\n    @FXML\r\n    private WebView fontWebView ;\r\n    \r\n    // ...\r\n\r\n    public void changeFont() {\r\n        StringBuilder sb = new StringBuilder(fontText);\r\n        for (int i = 0; i &lt; fontSizes.length; i++) {\r\n            sb.append(&quot;&lt;p style=&#39;font-family:&quot;)\r\n              .append(fontListView.getSelectionModel().getSelectedItem())\r\n              .append(&quot;;font-size:&quot;)\r\n              .append( fontSizes[i])\r\n              .append(&quot;&#39;&gt;This is Sample Text&lt;/p&gt;&quot;);\r\n        }\r\n        fontText = sb.toString();\r\n        fontWebView.getEngine().loadContent(fontText);\r\n    }\r\n\r\n","title":"How to display HTML in JavaFX Application","body":"<p>Use a web view:</p>\n\n<pre><code>@FXML\nprivate WebView fontWebView ;\n\n// ...\n\npublic void changeFont() {\n    StringBuilder sb = new StringBuilder(fontText);\n    for (int i = 0; i &lt; fontSizes.length; i++) {\n        sb.append(\"&lt;p style='font-family:\")\n          .append(fontListView.getSelectionModel().getSelectedItem())\n          .append(\";font-size:\")\n          .append( fontSizes[i])\n          .append(\"'&gt;This is Sample Text&lt;/p&gt;\");\n    }\n    fontText = sb.toString();\n    fontWebView.getEngine().loadContent(fontText);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11050447,"reputation":111,"user_id":8488508,"display_name":"tj1000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609259979,"creation_date":1609252521,"answer_id":65493850,"question_id":30829164,"body_markdown":"This is a very late answer, but I wanted to pass this along for those who need to apply fonts to a variety of FX controls (as I needed to do):\r\n\r\nYou can display fonts without using a `WebView`, by using the `TextArea`&#39;s setFont method. This has the advantage of being applicable to most text displaying FX controls, including `Button`, `TextField`, etc..., and can be used with downloaded TTF or OTF files.\r\n\r\n\r\n    // examples create a 20 pt font\r\n    // system font\r\n    Font f = Font.font(&quot;SansSerif&quot;, Font.PLAIN, 20);\r\n    // TTF/OTF added to your project as a resource:\r\n    Font f = Font.loadFont(ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;ResourceName&quot;), 20);\r\n    // TTF/OTF loaded from a file dynamically... read the font file into an input stream, and:\r\n    Font f = Font.loadFont(inputStream, 20);\r\n    // to use:\r\n    fontTextArea.setFont(f);\r\n\r\nNote: some of the script TTF/OTF fonts can extend above or below the area that a system font will fit into, so test appropriately when using downloaded fonts.\r\n","title":"How to display HTML in JavaFX Application","body":"<p>This is a very late answer, but I wanted to pass this along for those who need to apply fonts to a variety of FX controls (as I needed to do):</p>\n<p>You can display fonts without using a <code>WebView</code>, by using the <code>TextArea</code>'s setFont method. This has the advantage of being applicable to most text displaying FX controls, including <code>Button</code>, <code>TextField</code>, etc..., and can be used with downloaded TTF or OTF files.</p>\n<pre><code>// examples create a 20 pt font\n// system font\nFont f = Font.font(&quot;SansSerif&quot;, Font.PLAIN, 20);\n// TTF/OTF added to your project as a resource:\nFont f = Font.loadFont(ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;ResourceName&quot;), 20);\n// TTF/OTF loaded from a file dynamically... read the font file into an input stream, and:\nFont f = Font.loadFont(inputStream, 20);\n// to use:\nfontTextArea.setFont(f);\n</code></pre>\n<p>Note: some of the script TTF/OTF fonts can extend above or below the area that a system font will fit into, so test appropriately when using downloaded fonts.</p>\n"}],"owner":{"account_id":356260,"reputation":2426,"user_id":695657,"accept_rate":78,"display_name":"Sai Upadhyayula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20795,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":30829337,"answer_count":2,"score":12,"last_activity_date":1661224535,"creation_date":1434283721,"question_id":30829164,"body_markdown":"I am developing a FontViewer application which changes the font of the text based on the selected font style.\r\n\r\nThis is the controller class of my application\r\n\r\n    public class FXMLDocumentController implements Initializable {\r\n    \r\n        @FXML\r\n        private ListView fontListView;\r\n    \r\n        @FXML\r\n        private TextArea fontTextArea;\r\n    \r\n        int[] fontSizes = {34, 28, 24, 20, 18, 16, 14, 12, 11, 10, 9, 8, 7, 6};\r\n    \r\n        String fontText = &quot;&quot;;\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            ObservableList&lt;String&gt; fontsList = FXCollections.observableArrayList(Font.getFontNames());\r\n            fontListView.setItems(fontsList);\r\n        }\r\n    \r\n        @FXML\r\n        public void handleMouseClickEvent(MouseEvent mouseEvent) {\r\n            changeFont();\r\n        }\r\n    \r\n        public void changeFont() {\r\n            for (int i = 0; i &lt; fontSizes.length; i++) {\r\n                fontText += &quot;&lt;p style=&#39;font-family:&quot; + fontListView.getSelectionModel().getSelectedItem() + &quot;;font-size:&quot; + fontSizes[i] + &quot;&#39;&gt;&quot; + &quot;This is Sample Text&lt;/p&gt;&quot;;\r\n            }\r\n    \r\n            fontTextArea.setText(fontText);\r\n        }\r\n    }\r\n\r\nScreenshot of my application:\r\n\r\n![enter image description here][1]\r\n\r\n When I use a `TextArea`, it displays just the plain HTML code instead of converting the HTML to Text. Which control should I use to accomplish this?\r\n\r\nP.S: I tried `TextFlow` but it doesn&#39;t work, as I need to display different Styles and font-sizes for the required text.\r\n\r\nI also looked at `WebView` but didn&#39;t understand how it could solve the mentioned problem.\r\n\r\n  [1]: http://i.stack.imgur.com/UdoKB.png","title":"How to display HTML in JavaFX Application","body":"<p>I am developing a FontViewer application which changes the font of the text based on the selected font style.</p>\n\n<p>This is the controller class of my application</p>\n\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private ListView fontListView;\n\n    @FXML\n    private TextArea fontTextArea;\n\n    int[] fontSizes = {34, 28, 24, 20, 18, 16, 14, 12, 11, 10, 9, 8, 7, 6};\n\n    String fontText = \"\";\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        ObservableList&lt;String&gt; fontsList = FXCollections.observableArrayList(Font.getFontNames());\n        fontListView.setItems(fontsList);\n    }\n\n    @FXML\n    public void handleMouseClickEvent(MouseEvent mouseEvent) {\n        changeFont();\n    }\n\n    public void changeFont() {\n        for (int i = 0; i &lt; fontSizes.length; i++) {\n            fontText += \"&lt;p style='font-family:\" + fontListView.getSelectionModel().getSelectedItem() + \";font-size:\" + fontSizes[i] + \"'&gt;\" + \"This is Sample Text&lt;/p&gt;\";\n        }\n\n        fontTextArea.setText(fontText);\n    }\n}\n</code></pre>\n\n<p>Screenshot of my application:</p>\n\n<p><img src=\"https://i.stack.imgur.com/UdoKB.png\" alt=\"enter image description here\"></p>\n\n<p>When I use a <code>TextArea</code>, it displays just the plain HTML code instead of converting the HTML to Text. Which control should I use to accomplish this?</p>\n\n<p>P.S: I tried <code>TextFlow</code> but it doesn't work, as I need to display different Styles and font-sizes for the required text.</p>\n\n<p>I also looked at <code>WebView</code> but didn't understand how it could solve the mentioned problem.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":1,"creation_date":1355387647,"post_id":13855700,"comment_id":19076441,"body_markdown":"@NandkumarTekale I don&#39;t know, I&#39;m not using Eclipse. I&#39;m compiling from a shell script using Oracle&#39;s Java compiler.","body":"@NandkumarTekale I don&#39;t know, I&#39;m not using Eclipse. I&#39;m compiling from a shell script using Oracle&#39;s Java compiler."},{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1430480069,"post_id":13855700,"comment_id":48091359,"body_markdown":"possible duplicate of [Cannot stop ant from generating compiler warnings](http://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-warnings)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-warnings\">Cannot stop ant from generating compiler warnings</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1559646800,"post_id":13855700,"comment_id":99478780,"body_markdown":"Rather than suppress the warning, in the base of the Base64 encoder, why not [use the Java 8 supplied encoder rather than the proprietary API](https://stackoverflow.com/questions/13109588/base64-encoding-in-java)?","body":"Rather than suppress the warning, in the base of the Base64 encoder, why not <a href=\"https://stackoverflow.com/questions/13109588/base64-encoding-in-java\">use the Java 8 supplied encoder rather than the proprietary API</a>?"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1355387039,"creation_date":1355387039,"answer_id":13855737,"question_id":13855700,"body_markdown":"Reference its interface [CachedRowSet][1] not the implementation.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17824_01/dsc_docs/docs/jscreator/apis/rowset/javax/sql/rowset/CachedRowSet.html","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>Reference its interface <a href=\"http://docs.oracle.com/cd/E17824_01/dsc_docs/docs/jscreator/apis/rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"noreferrer\">CachedRowSet</a> not the implementation.</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1355387049,"creation_date":1355387049,"answer_id":13855741,"question_id":13855700,"body_markdown":"Try the javac option\r\n\r\n    -Xlint:none\r\n\r\nIf you compile from an IDE, it should have an option to disable warnings.\r\n\r\nThis will disable ALL warnings that are not a part of Java Language Specification. So for example &quot;unchecked&quot; warning will not be blocked.","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>Try the javac option</p>\n\n<pre><code>-Xlint:none\n</code></pre>\n\n<p>If you compile from an IDE, it should have an option to disable warnings.</p>\n\n<p>This will disable ALL warnings that are not a part of Java Language Specification. So for example \"unchecked\" warning will not be blocked.</p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355393913,"creation_date":1355393913,"answer_id":13857660,"question_id":13855700,"body_markdown":"I tried\r\n   \r\n    @SuppressWarnings(&quot;all&quot;)\r\n\r\nbut that didn&#39;t work.\r\n\r\nSo I resorted to a horrible, horrible kludge which I don&#39;t recommend in general, but in this specific case made the warning go away. I used reflection to instantiate a new instance of the com.sun.rowset.CachedRowSetImpl class.\r\n\r\nI replaced this line, which caused the warning:\r\n\r\n        return new CachedRowSetImpl();\r\n\r\nwith this block:\r\n\r\n        try {\r\n            final Class&lt;?&gt; aClass = Class.forName(&quot;com.sun.rowset.CachedRowSetImpl&quot;);\r\n            return (CachedRowSet) aClass.newInstance();\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nPlease don&#39;t do this in your own code without first considering any other option.\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>I tried</p>\n\n<pre><code>@SuppressWarnings(\"all\")\n</code></pre>\n\n<p>but that didn't work.</p>\n\n<p>So I resorted to a horrible, horrible kludge which I don't recommend in general, but in this specific case made the warning go away. I used reflection to instantiate a new instance of the com.sun.rowset.CachedRowSetImpl class.</p>\n\n<p>I replaced this line, which caused the warning:</p>\n\n<pre><code>    return new CachedRowSetImpl();\n</code></pre>\n\n<p>with this block:</p>\n\n<pre><code>    try {\n        final Class&lt;?&gt; aClass = Class.forName(\"com.sun.rowset.CachedRowSetImpl\");\n        return (CachedRowSet) aClass.newInstance();\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n\n<p>Please don't do this in your own code without first considering any other option.</p>\n"},{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1355417963,"creation_date":1355410119,"answer_id":13862308,"question_id":13855700,"body_markdown":"This particular warning [cannot be suppressed][1]. At least not officially.\r\n\r\n&gt; The warning about proprietary API means that you should not\r\nuse the API which causes the warning.  Sun does not support\r\nsuch API and the warning will not be suppressible.\r\n\r\nIf you&#39;re particularly determined, you can use the highly undocumented [`javac -XDignore.symbol.file`][2] flag which will compile your program against Sun&#39;s internal `rt.jar` rather than the public-facing symbol file `ct.sym`. `rt.jar` doesn&#39;t produce this warning.\r\n\r\n[1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6476630\r\n[2]: https://stackoverflow.com/a/4070685/68587","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>This particular warning <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6476630\" rel=\"nofollow noreferrer\">cannot be suppressed</a>. At least not officially.</p>\n<blockquote>\n<p>The warning about proprietary API means that you should not\nuse the API which causes the warning.  Sun does not support\nsuch API and the warning will not be suppressible.</p>\n</blockquote>\n<p>If you're particularly determined, you can use the highly undocumented <a href=\"https://stackoverflow.com/a/4070685/68587\"><code>javac -XDignore.symbol.file</code></a> flag which will compile your program against Sun's internal <code>rt.jar</code> rather than the public-facing symbol file <code>ct.sym</code>. <code>rt.jar</code> doesn't produce this warning.</p>\n"},{"tags":[],"owner":{"account_id":1283505,"reputation":2377,"user_id":1237044,"accept_rate":100,"display_name":"Brandon"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1427945745,"creation_date":1382385897,"answer_id":19503679,"question_id":13855700,"body_markdown":"If you are using maven, you might be interested in adding the following to your `pom.xml` file:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>If you are using maven, you might be interested in adding the following to your <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2872898,"reputation":1566,"user_id":2465785,"display_name":"William Leung"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1661223764,"creation_date":1487819735,"answer_id":42406330,"question_id":13855700,"body_markdown":"see this answer\r\n&gt; https://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-sun-proprietary-api-warnings/34966719#34966719\r\n\r\nTesting code\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @SuppressWarnings(&quot;sunapi&quot;)\r\n    sun.security.x509.X509CertImpl test;\r\n\r\n\r\ncompiling command line\r\n\r\n    javac test.java -Werror -Xlint:sunapi -XDenableSunApiLintControl\r\n\r\nor\r\n\r\n    javac test.java -Werror -Xlint:all -XDenableSunApiLintControl\r\n \r\ncompile passed with no any warning\r\n\r\nremove the `SuppressWarnings` tag and compile again:\r\n\r\nan error is reported then\r\n\r\n    test.java:4: warning: X509CertImpl is internal proprietary API and may be removed in a future release\r\n            sun.security.x509.X509CertImpl test;\r\n                         ^\r\n    error: warnings found and -Werror specified\r\n    1 error\r\n    1 warning\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>see this answer</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-sun-proprietary-api-warnings/34966719#34966719\">Cannot stop ant from generating compiler Sun proprietary API warnings</a></p>\n</blockquote>\n<p>Testing code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;sunapi&quot;)\nsun.security.x509.X509CertImpl test;\n</code></pre>\n<p>compiling command line</p>\n<pre><code>javac test.java -Werror -Xlint:sunapi -XDenableSunApiLintControl\n</code></pre>\n<p>or</p>\n<pre><code>javac test.java -Werror -Xlint:all -XDenableSunApiLintControl\n</code></pre>\n<p>compile passed with no any warning</p>\n<p>remove the <code>SuppressWarnings</code> tag and compile again:</p>\n<p>an error is reported then</p>\n<pre><code>test.java:4: warning: X509CertImpl is internal proprietary API and may be removed in a future release\n        sun.security.x509.X509CertImpl test;\n                     ^\nerror: warnings found and -Werror specified\n1 error\n1 warning\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13617234,"reputation":45,"user_id":10772634,"display_name":"Pablo Navarro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587054329,"creation_date":1587054329,"answer_id":61255173,"question_id":13855700,"body_markdown":"I acknowledge that this answer is a late harvest, and you will have solved your problem. But I got stuck in the same problem as you, and researching I found this solution.\r\n\r\n**Why happens?**\r\n\r\nhttps://www.oracle.com/java/technologies/faq-sun-packages.html\r\n\r\n**Is this behavior wrong?** \r\n\r\nNo, its a warning telling us that ChachedRowSetImpl does not belong to the public interface, therefore compatibility is not guaranteed.\r\n\r\n**Workaround**\r\n\r\nThe following code snippet creates a `CachedRowSet` object by using a `RowSetFactory` which is created by the `RowSetProvider`:\r\n\r\n```\r\nRowSetFactory factory = RowSetProvider.newFactory();\r\nCachedRowSet rowset = factory.createCachedRowSet();\r\n```\r\n\r\nThis creates a `CachedRowSet` object from the implementation class `com.sun.rowset.CachedRowSetImpl`. It’s equivalent to the following statement:\r\n\r\n```\r\nCachedRowSet rowset = new com.sun.rowset.CachedRowSetImpl();\r\n```\r\nHowever, it’s recommended to create a `CachedRowSet` object from a RowSetFactory because the reference implementation may be changed in future\r\n\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>I acknowledge that this answer is a late harvest, and you will have solved your problem. But I got stuck in the same problem as you, and researching I found this solution.</p>\n\n<p><strong>Why happens?</strong></p>\n\n<p><a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/faq-sun-packages.html</a></p>\n\n<p><strong>Is this behavior wrong?</strong> </p>\n\n<p>No, its a warning telling us that ChachedRowSetImpl does not belong to the public interface, therefore compatibility is not guaranteed.</p>\n\n<p><strong>Workaround</strong></p>\n\n<p>The following code snippet creates a <code>CachedRowSet</code> object by using a <code>RowSetFactory</code> which is created by the <code>RowSetProvider</code>:</p>\n\n<pre><code>RowSetFactory factory = RowSetProvider.newFactory();\nCachedRowSet rowset = factory.createCachedRowSet();\n</code></pre>\n\n<p>This creates a <code>CachedRowSet</code> object from the implementation class <code>com.sun.rowset.CachedRowSetImpl</code>. It’s equivalent to the following statement:</p>\n\n<pre><code>CachedRowSet rowset = new com.sun.rowset.CachedRowSetImpl();\n</code></pre>\n\n<p>However, it’s recommended to create a <code>CachedRowSet</code> object from a RowSetFactory because the reference implementation may be changed in future</p>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61696,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":13862308,"answer_count":7,"score":61,"last_activity_date":1661223764,"creation_date":1355386829,"question_id":13855700,"body_markdown":"When I compile the Spring JDBC source on OS X with JDK 1.7.0, I get this warning:\r\n\r\n    warning: CachedRowSetImpl is internal proprietary API and may be removed in a future release\r\n\r\nHow do I suppress the warning message during a compile?\r\n\r\nI already know and use Java&#39;s @SuppressWarning annotations. I&#39;m looking for the specific use of this to suppress the warning I&#39;ve described.\r\n\r\nMy question specifically is, in this line of code:\r\n\r\n    @SuppressWarnings(&quot;valuegoeshere&quot;)\r\n\r\nwhat should &quot;valuegoeshere&quot; be replaced with?\r\n\r\nEDIT: People, I know that it is best to avoid the code that leads to the warning. And usually that would be my approach. However I&#39;m compiling third-party code here which I don&#39;t want to rewrite. I just want to add the correct annotation to suppress the warning, so that warnings I can actually do something about don&#39;t get buried.","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>When I compile the Spring JDBC source on OS X with JDK 1.7.0, I get this warning:</p>\n\n<pre><code>warning: CachedRowSetImpl is internal proprietary API and may be removed in a future release\n</code></pre>\n\n<p>How do I suppress the warning message during a compile?</p>\n\n<p>I already know and use Java's @SuppressWarning annotations. I'm looking for the specific use of this to suppress the warning I've described.</p>\n\n<p>My question specifically is, in this line of code:</p>\n\n<pre><code>@SuppressWarnings(\"valuegoeshere\")\n</code></pre>\n\n<p>what should \"valuegoeshere\" be replaced with?</p>\n\n<p>EDIT: People, I know that it is best to avoid the code that leads to the warning. And usually that would be my approach. However I'm compiling third-party code here which I don't want to rewrite. I just want to add the correct annotation to suppress the warning, so that warnings I can actually do something about don't get buried.</p>\n"},{"tags":["java","functional-programming","option-type"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1661222190,"post_id":73452494,"comment_id":129714409,"body_markdown":"With `java.util.Optional`, this doesn&#39;t even compile. Are you using some other implementation?","body":"With <code>java.util.Optional</code>, this doesn&#39;t even compile. Are you using some other implementation?"},{"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"score":0,"creation_date":1661222267,"post_id":73452494,"comment_id":129714418,"body_markdown":"I just ran it and it gave me the      [java]     =&gt; java.util.NoSuchElementException: No value present exception","body":"I just ran it and it gave me the      [java]     =&gt; java.util.NoSuchElementException: No value present exception"},{"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"score":0,"creation_date":1661222327,"post_id":73452494,"comment_id":129714423,"body_markdown":"It doesnt seem to be going into the orElse part,","body":"It doesnt seem to be going into the orElse part,"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661223712,"creation_date":1661222301,"answer_id":73452570,"question_id":73452494,"body_markdown":"\r\nLet&#39;s follow the evaluation. Since the inner part of the `Optional.ofNullable(...)` results in `Optional&lt;String&gt;`, the entire chain wraps it in `Optional&lt;Optional&lt;String&gt;&gt;`.\r\n\r\nAfter evaluation of the parameter in `Optional.ofNullable(...)`, the result is roughly this:\r\n\r\n```\r\nOptional.ofNullable(Optional.&lt;String&gt;empty())      // Optional&lt;Optional&lt;String&gt;&gt;\r\n\t\t\t\t.orElse(list.stream().findFirst()) // Optional&lt;String&gt;\r\n\t\t\t\t.orElseThrow();                    // String\r\n```\r\n\r\nThe `orElse` is **not** called as long as the `Optional.empty()` is not `null`, hence the outer `Optional` is **not empty**. The flow continues with the inner `Optional.enpty` on which the `orElseThrow` is called and always fails by throwing `java.util.NoSuchElementException`. \r\n\r\nWhat you want to do is this:\r\n\r\n```\r\nfinal String finalStr = list.stream()                        // Stream&lt;String&gt;\r\n\t\t.filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))             // Stream&lt;String&gt;\r\n\t\t.map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1)) // Stream&lt;String&gt;\r\n\t\t.findFirst()                                         // Optional&lt;String&gt;\r\n\t\t.or(() -&gt; list.stream().findFirst())                 // Optional&lt;String&gt;\r\n\t\t.orElseThrow();                                      // String\r\n```\r\n\r\nThe `or` method is the key one as on empty `Optional&lt;T&gt;` it supplies with a different one without losing the `Optional&lt;T&gt;` context.\r\n","title":"What am i doing wrong in this Java optional - orElse statement","body":"<p>Let's follow the evaluation. Since the inner part of the <code>Optional.ofNullable(...)</code> results in <code>Optional&lt;String&gt;</code>, the entire chain wraps it in <code>Optional&lt;Optional&lt;String&gt;&gt;</code>.</p>\n<p>After evaluation of the parameter in <code>Optional.ofNullable(...)</code>, the result is roughly this:</p>\n<pre><code>Optional.ofNullable(Optional.&lt;String&gt;empty())      // Optional&lt;Optional&lt;String&gt;&gt;\n                .orElse(list.stream().findFirst()) // Optional&lt;String&gt;\n                .orElseThrow();                    // String\n</code></pre>\n<p>The <code>orElse</code> is <strong>not</strong> called as long as the <code>Optional.empty()</code> is not <code>null</code>, hence the outer <code>Optional</code> is <strong>not empty</strong>. The flow continues with the inner <code>Optional.enpty</code> on which the <code>orElseThrow</code> is called and always fails by throwing <code>java.util.NoSuchElementException</code>.</p>\n<p>What you want to do is this:</p>\n<pre><code>final String finalStr = list.stream()                        // Stream&lt;String&gt;\n        .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))             // Stream&lt;String&gt;\n        .map(str -&gt; str.substring(str.lastIndexOf(':') + 1)) // Stream&lt;String&gt;\n        .findFirst()                                         // Optional&lt;String&gt;\n        .or(() -&gt; list.stream().findFirst())                 // Optional&lt;String&gt;\n        .orElseThrow();                                      // String\n</code></pre>\n<p>The <code>or</code> method is the key one as on empty <code>Optional&lt;T&gt;</code> it supplies with a different one without losing the <code>Optional&lt;T&gt;</code> context.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661222812,"creation_date":1661222509,"answer_id":73452594,"question_id":73452494,"body_markdown":"Your misunderstanding is that `findFirst` returns null if the stream is empty, and tries to use `Optional.ofNullable` to wrap it into an `Optional`. `findFirst` in fact returns an `Optional&lt;T&gt;` directly, so you end up with a double optional - `Optional&lt;Optional&lt;String&gt;&gt;`. And the outer optional is never empty, since `findFirst` always returns a non-null value (that could be either an empty or a non-empty `Optional`).\r\n\r\nThen, you use `orElse` on it. Since the outer optional is never empty, this always unwraps the outer optional and the default value you provide is never used. Finally, `orElseThrow` is called on the inner optional, which could be empty or non-empty, as that is what is returned by the first `findFirst`. If it happens to be empty, you&#39;d get the exception.\r\n\r\nYou should not wrap the first `findFirst` in `Optional.ofNullable` in the first place. Use [`or`][1] to supply another `Optional` as the alternative when the optional is empty.\r\n\r\n    final String finalStr =\r\n        list.stream()\r\n                .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\r\n                .map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1))\r\n                .findFirst()\r\n            .or(() -&gt;\r\n                list.stream()\r\n                    .filter(s -&gt; !s.contains(&quot;pattern:c:d&quot;))\r\n                    .findFirst()\r\n            )\r\n            .orElseThrow();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)","title":"What am i doing wrong in this Java optional - orElse statement","body":"<p>Your misunderstanding is that <code>findFirst</code> returns null if the stream is empty, and tries to use <code>Optional.ofNullable</code> to wrap it into an <code>Optional</code>. <code>findFirst</code> in fact returns an <code>Optional&lt;T&gt;</code> directly, so you end up with a double optional - <code>Optional&lt;Optional&lt;String&gt;&gt;</code>. And the outer optional is never empty, since <code>findFirst</code> always returns a non-null value (that could be either an empty or a non-empty <code>Optional</code>).</p>\n<p>Then, you use <code>orElse</code> on it. Since the outer optional is never empty, this always unwraps the outer optional and the default value you provide is never used. Finally, <code>orElseThrow</code> is called on the inner optional, which could be empty or non-empty, as that is what is returned by the first <code>findFirst</code>. If it happens to be empty, you'd get the exception.</p>\n<p>You should not wrap the first <code>findFirst</code> in <code>Optional.ofNullable</code> in the first place. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>or</code></a> to supply another <code>Optional</code> as the alternative when the optional is empty.</p>\n<pre><code>final String finalStr =\n    list.stream()\n            .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\n            .map(str -&gt; str.substring(str.lastIndexOf(':') + 1))\n            .findFirst()\n        .or(() -&gt;\n            list.stream()\n                .filter(s -&gt; !s.contains(&quot;pattern:c:d&quot;))\n                .findFirst()\n        )\n        .orElseThrow();\n</code></pre>\n"}],"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":73452570,"answer_count":2,"score":0,"last_activity_date":1661223712,"creation_date":1661221370,"question_id":73452494,"body_markdown":"     List&lt;String&gt; list = \r\n      Arrays.asList(&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot;);\r\n\r\n        final String finalStr = \r\n    Optional.ofNullable(list.stream()\r\n                .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\r\n                .map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1))\r\n                .findFirst())\r\n                .orElse(list.stream()\r\n                        .filter(s -&gt; !s.contains(&quot;pattern:c:d:&quot;))\r\n                        .findFirst())\r\n                .orElseThrow();\r\n\r\nIt will work if the list contains pattern:a:b: but for above example always throw an exception if that pattern is not available. In the orElse part it doesnt even seem to be executing. \r\n\r\nMy result is \r\n     [java]     =&gt; java.util.NoSuchElementException: No value present when i am epecting to return me the first element.\r\n\r\nEdit: I wish to first find if any string with pattern:a:b exists in the list, if it does not, i wish it to return me the first string that does not contain the pattern:c:d For example\r\n\r\n&quot;pattern:a:b:TEST1&quot;, &quot;pattern:c:d:TEST2&quot;, &quot;TEST3&quot; should always return TEST1.\r\n\r\n\r\n&quot;pattern:c:d:TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST2.\r\n\r\n&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST1.\r\n\r\n","title":"What am i doing wrong in this Java optional - orElse statement","body":"<pre><code> List&lt;String&gt; list = \n  Arrays.asList(&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot;);\n\n    final String finalStr = \nOptional.ofNullable(list.stream()\n            .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\n            .map(str -&gt; str.substring(str.lastIndexOf(':') + 1))\n            .findFirst())\n            .orElse(list.stream()\n                    .filter(s -&gt; !s.contains(&quot;pattern:c:d:&quot;))\n                    .findFirst())\n            .orElseThrow();\n</code></pre>\n<p>It will work if the list contains pattern:a:b: but for above example always throw an exception if that pattern is not available. In the orElse part it doesnt even seem to be executing.</p>\n<p>My result is\n[java]     =&gt; java.util.NoSuchElementException: No value present when i am epecting to return me the first element.</p>\n<p>Edit: I wish to first find if any string with pattern:a:b exists in the list, if it does not, i wish it to return me the first string that does not contain the pattern:c:d For example</p>\n<p>&quot;pattern:a:b:TEST1&quot;, &quot;pattern:c:d:TEST2&quot;, &quot;TEST3&quot; should always return TEST1.</p>\n<p>&quot;pattern:c:d:TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST2.</p>\n<p>&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST1.</p>\n"},{"tags":["java","xpath"],"answers":[{"tags":[],"owner":{"account_id":30849,"reputation":39971,"user_id":84378,"accept_rate":85,"display_name":"Reverend Gonzo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1323102991,"creation_date":1323102991,"answer_id":8388584,"question_id":8388460,"body_markdown":"I haven&#39;t used the date functions, but you could use substring to extract the month and test that value, for example:\r\n\r\n    &#39;//entry[substring(@date,6,2)=&quot;11&quot;]&#39;\r\n\r\nreturns just \r\n\r\n    &lt;entry date=&quot;2011-11-29&quot; /&gt;\r\n","title":"xpath and queries using date functions","body":"<p>I haven't used the date functions, but you could use substring to extract the month and test that value, for example:</p>\n\n<pre><code>'//entry[substring(@date,6,2)=\"11\"]'\n</code></pre>\n\n<p>returns just </p>\n\n<pre><code>&lt;entry date=\"2011-11-29\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82655,"reputation":6401,"user_id":232235,"display_name":"Eli Acherkan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323103585,"creation_date":1323103585,"answer_id":8388718,"question_id":8388460,"body_markdown":"The following XPath works for me:\r\n\r\n    //entry[month-from-date(@date)=11]\r\n\r\n(Replace `entry` with `*` to select *all* the nodes with a November `date` attribute, regardless of the node name.)","title":"xpath and queries using date functions","body":"<p>The following XPath works for me:</p>\n\n<pre><code>//entry[month-from-date(@date)=11]\n</code></pre>\n\n<p>(Replace <code>entry</code> with <code>*</code> to select <em>all</em> the nodes with a November <code>date</code> attribute, regardless of the node name.)</p>\n"}],"owner":{"account_id":14053,"reputation":12913,"user_id":28582,"accept_rate":88,"display_name":"Davide Gualano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8388584,"answer_count":2,"score":1,"last_activity_date":1661223632,"creation_date":1323102530,"question_id":8388460,"body_markdown":"I have an xml file containing a lists of nodes with a &quot;date&quot; attribute, storing a date:\r\n\r\n    &lt;root&gt;\r\n        &lt;entry date=&quot;2011-12-04&quot; /&gt;\r\n        &lt;entry date=&quot;2011-11-29&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\nIs it possible using a xPath query to retrive all the nodes that have the month of the &quot;date&quot; attribute set to november?  \r\nI read on the web (for example [here][1]) that this kind of functions exists in the xPath language, but I am not able to figure how to use them.  \r\nI should using this in a java application.\r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xsl_functions.asp#datetime","title":"xpath and queries using date functions","body":"<p>I have an xml file containing a lists of nodes with a &quot;date&quot; attribute, storing a date:</p>\n<pre><code>&lt;root&gt;\n    &lt;entry date=&quot;2011-12-04&quot; /&gt;\n    &lt;entry date=&quot;2011-11-29&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Is it possible using a xPath query to retrive all the nodes that have the month of the &quot;date&quot; attribute set to november?<br />\nI read on the web (for example <a href=\"https://www.w3schools.com/xml/xsl_functions.asp#datetime\" rel=\"nofollow noreferrer\">here</a>) that this kind of functions exists in the xPath language, but I am not able to figure how to use them.<br />\nI should using this in a java application.</p>\n"},{"tags":["java","spring","logging","slf4j","mdc"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1661205178,"post_id":73449669,"comment_id":129712330,"body_markdown":"MDC is meant for logging and the implementations of MDC that I know of only support strings as keys and as values. That means that the only way to store an integer value in an MDC is to convert it into a string and if you need the integer value back you need to convert the string back into an integer.","body":"MDC is meant for logging and the implementations of MDC that I know of only support strings as keys and as values. That means that the only way to store an integer value in an MDC is to convert it into a string and if you need the integer value back you need to convert the string back into an integer."}],"answers":[{"tags":[],"owner":{"account_id":16092908,"reputation":16,"user_id":11615862,"display_name":"Divyanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661222761,"creation_date":1661222761,"answer_id":73452622,"question_id":73449669,"body_markdown":"MDC only supports string values as keys and values. What you can do instead, to avoid type casting errors for null values, is to use [Integer class][1] instead of the primitive int.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html","title":"Using Integer value in MDC object","body":"<p>MDC only supports string values as keys and values. What you can do instead, to avoid type casting errors for null values, is to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer class</a> instead of the primitive int.</p>\n"}],"owner":{"account_id":25892122,"reputation":11,"user_id":19619365,"display_name":"Pavittar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661222761,"creation_date":1661193593,"question_id":73449669,"body_markdown":"I was using MDC for logging in my spring boot application. Along with that I was also maintaining a graph. I was fetching the values from MDC to draw the graph. It requires Integer values not the string values. I don&#39;t want to make use of String values and then type caste it explicitly after fetching the values for the graph reason being the code may break during type casting as it may contain null values (even though there would be no such scenario as I have kept the default value as &quot;0&quot; but still I want to avoid this).\r\n\r\nIf I try \r\n```MDC.put(&quot;Speed&quot;, &quot;0&quot;);```\r\nIt works fine. \r\nBut it shows error for\r\n```MDC.put(&quot;Speed&quot;, 0);```\r\n\r\nPlease tell how can I put an integer value in the MDC object.","title":"Using Integer value in MDC object","body":"<p>I was using MDC for logging in my spring boot application. Along with that I was also maintaining a graph. I was fetching the values from MDC to draw the graph. It requires Integer values not the string values. I don't want to make use of String values and then type caste it explicitly after fetching the values for the graph reason being the code may break during type casting as it may contain null values (even though there would be no such scenario as I have kept the default value as &quot;0&quot; but still I want to avoid this).</p>\n<p>If I try\n<code>MDC.put(&quot;Speed&quot;, &quot;0&quot;);</code>\nIt works fine.\nBut it shows error for\n<code>MDC.put(&quot;Speed&quot;, 0);</code></p>\n<p>Please tell how can I put an integer value in the MDC object.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1661215229,"post_id":73452261,"comment_id":129713925,"body_markdown":"You can&#39;t use a parameter in a PreparedStatement to substitute for a table name.  You&#39;re just going to have to append the table name into the query.","body":"You can&#39;t use a parameter in a PreparedStatement to substitute for a table name.  You&#39;re just going to have to append the table name into the query."},{"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"score":0,"creation_date":1661215427,"post_id":73452261,"comment_id":129713951,"body_markdown":"Okay, there is no other way another this? I need to be able to use the same method for like 10 differant tables.  I really don&#39;t want to write a method for each table.","body":"Okay, there is no other way another this? I need to be able to use the same method for like 10 differant tables.  I really don&#39;t want to write a method for each table."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1661215519,"post_id":73452261,"comment_id":129713963,"body_markdown":"You don&#39;t have to write a method for each table.  Just append the table name to the rest of the SQL.  Something like `String sql = &quot;SELECT COUNT(*) AS total FROM &quot; + tableName;` would work nicely.","body":"You don&#39;t have to write a method for each table.  Just append the table name to the rest of the SQL.  Something like <code>String sql = &quot;SELECT COUNT(*) AS total FROM &quot; + tableName;</code> would work nicely."},{"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"score":0,"creation_date":1661215654,"post_id":73452261,"comment_id":129713978,"body_markdown":"Okay thanks, I don&#39;t really work with java very much, I got a little confused.","body":"Okay thanks, I don&#39;t really work with java very much, I got a little confused."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1661215713,"post_id":73452261,"comment_id":129713983,"body_markdown":"Just make sure that the name of the table is not provided by the user, otherwise this is subject to SQL injection attacks.  If it has to be provided by the user, then validate it first.","body":"Just make sure that the name of the table is not provided by the user, otherwise this is subject to SQL injection attacks.  If it has to be provided by the user, then validate it first."}],"answers":[{"tags":[],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661216387,"creation_date":1661216387,"answer_id":73452373,"question_id":73452261,"body_markdown":"Based on the answer given above, the code should look something like this:\r\n\r\n    int tableCounter(String tableName) {\r\n    \tint num = 0;\r\n    \tString sql = &quot;SELECT COUNT(*) AS total FROM &quot;+ tableName;\r\n    \tConnection conn = letConnect();\r\n    \ttry{Statement stmt = conn.createStatement();\r\n    \t\tResultSet rs = stmt.executeQuery(sql);\r\n    \t\twhile (rs.next()){\r\n    \t\t\tnum = rs.getInt(&quot;total&quot;);}\r\n    \t}catch (SQLException e) {\r\n    \t\te.printStackTrace();}\r\n    \treturn num;}","title":"How to Fix MySQL Count Function Error In Java?","body":"<p>Based on the answer given above, the code should look something like this:</p>\n<pre><code>int tableCounter(String tableName) {\n    int num = 0;\n    String sql = &quot;SELECT COUNT(*) AS total FROM &quot;+ tableName;\n    Connection conn = letConnect();\n    try{Statement stmt = conn.createStatement();\n        ResultSet rs = stmt.executeQuery(sql);\n        while (rs.next()){\n            num = rs.getInt(&quot;total&quot;);}\n    }catch (SQLException e) {\n        e.printStackTrace();}\n    return num;}\n</code></pre>\n"}],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1661442413,"answer_count":1,"score":1,"last_activity_date":1661216387,"creation_date":1661215010,"question_id":73452261,"body_markdown":"I am trying to create a method that will count the number of records I have in a certain table when the method is called.  But for some reason, I keep getting an error saying I have a problem in my SQL code.  Looking over everything, I couldn&#39;t find the problem.  I even went as far to as to copy parts of another person&#39;s solution online, but this failed too. To better show where the error seems to be ocurring, I inserted two print statements in the code. I think Java and SQL must hate me!  Any help would be most appreciated.\r\n\r\n\r\n    \r\n\r\n   \r\n\r\n     int tableCounter(String tableName) {\r\n                \tint num = 0;\r\n                \tString sql = &quot;SELECT COUNT(*) AS total FROM ?&quot;;\r\n                \ttry(Connection conn = letConnect(); PreparedStatement ps = conn.prepareStatement(sql)){\r\n                \t\tps.setString(1, tableName);\r\n                \t\tSystem.out.println(&quot;test&quot;);\r\n                \t\tResultSet rs = ps.executeQuery();//error ocurrs here\r\n                                                         //when the SQL code is executed\r\n                \t\tSystem.out.println(&quot;test&quot;);\r\n                \t\tnum = rs.getInt(&quot;total&quot;);\r\n                \t} catch (SQLException e) {\r\n                \t\te.printStackTrace();\r\n                \t}\r\n                \treturn num;\r\n                }\r\n\r\nOutput:\r\n\r\n    test\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;Country&#39;&#39; at line 1\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\r\n    \tat Database_Interactor.tableCounter(Database_Interactor.java:25)\r\n    \tat MainClass.main(MainClass.java:10)\r\n\r\n","title":"How to Fix MySQL Count Function Error In Java?","body":"<p>I am trying to create a method that will count the number of records I have in a certain table when the method is called.  But for some reason, I keep getting an error saying I have a problem in my SQL code.  Looking over everything, I couldn't find the problem.  I even went as far to as to copy parts of another person's solution online, but this failed too. To better show where the error seems to be ocurring, I inserted two print statements in the code. I think Java and SQL must hate me!  Any help would be most appreciated.</p>\n<pre><code> int tableCounter(String tableName) {\n                int num = 0;\n                String sql = &quot;SELECT COUNT(*) AS total FROM ?&quot;;\n                try(Connection conn = letConnect(); PreparedStatement ps = conn.prepareStatement(sql)){\n                    ps.setString(1, tableName);\n                    System.out.println(&quot;test&quot;);\n                    ResultSet rs = ps.executeQuery();//error ocurrs here\n                                                     //when the SQL code is executed\n                    System.out.println(&quot;test&quot;);\n                    num = rs.getInt(&quot;total&quot;);\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n                return num;\n            }\n</code></pre>\n<p>Output:</p>\n<pre><code>test\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''Country'' at line 1\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\n    at Database_Interactor.tableCounter(Database_Interactor.java:25)\n    at MainClass.main(MainClass.java:10)\n</code></pre>\n"},{"tags":["java","swing","menu"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1661197657,"post_id":73450170,"comment_id":129710393,"body_markdown":"If you are serious about this, the thing to do is to create your own look and feel : https://medium.com/@keeptoo/spicing-up-your-java-swingui-using-custom-look-and-feel-113501dd5920","body":"If you are serious about this, the thing to do is to create your own look and feel : <a href=\"https://medium.com/@keeptoo/spicing-up-your-java-swingui-using-custom-look-and-feel-113501dd5920\" rel=\"nofollow noreferrer\">medium.com/@keeptoo/&hellip;</a>"},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661197891,"post_id":73450170,"comment_id":129710454,"body_markdown":"@ControlAltDel I am serious but I don&#39;t believe things need to escalate that far. I am confident there are hacks and workarounds for each individual customization I am trying to implement.","body":"@ControlAltDel I am serious but I don&#39;t believe things need to escalate that far. I am confident there are hacks and workarounds for each individual customization I am trying to implement."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1661198812,"post_id":73450170,"comment_id":129710726,"body_markdown":"I&#39;d advise you to look for a tutorial on creating a custom look and feel. Go through the tutorial, and then decide if creating a custom L&amp;F is too much","body":"I&#39;d advise you to look for a tutorial on creating a custom look and feel. Go through the tutorial, and then decide if creating a custom L&amp;F is too much"},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661201511,"post_id":73450170,"comment_id":129711522,"body_markdown":"@ControlAltDel Thank you for your advice :) At some point, I might explore using FlatLAF. Thanks for the link. Maybe sometime down the line, I will revisit the idea of creating a custom L&amp;F, but that is not in the near future. All that being said, I already figured out how to set the accelerator text color. I am still interested in solutions for the menu item borders and even more so, for the separator items.","body":"@ControlAltDel Thank you for your advice :) At some point, I might explore using FlatLAF. Thanks for the link. Maybe sometime down the line, I will revisit the idea of creating a custom L&amp;F, but that is not in the near future. All that being said, I already figured out how to set the accelerator text color. I am still interested in solutions for the menu item borders and even more so, for the separator items."}],"answers":[{"tags":[],"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661215703,"creation_date":1661215703,"answer_id":73452320,"question_id":73450170,"body_markdown":"After digging a bit deeper into the Swing API, I was able to achieve what I set out to do when I posted this question. Here is an illustration of the outcome:\r\n[![enter image description here][1]][1]\r\n\r\nIn order to help anyone who might come across a similar problem in the future, I will post my own answer to this question.\r\n\r\n\r\n----------\r\n\r\n\r\nFirst, regarding the foreground (text) color of the `accelerator` menu shortcuts, the only way I could get it to work was setting some application wide flags using `UIManager`.\r\n\r\n    UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\r\n    // For Windows L&amp;F:\r\n    uiDefaults.put(&quot;MenuItem.acceleratorForeground&quot;, Color.lightGray);\r\n    uiDefaults.put(&quot;MenuItem.acceleratorSelectionForeground&quot;, Color.lightGray);\r\n    // For Nimbus L&amp;F:\r\n    uiDefaults.put(&quot;MenuItem:MenuItemAccelerator.textForeground&quot;, Color.lightGray);\r\n\r\n\r\n----------\r\n\r\n\r\nNext on the list was finding a way to apply the custom &quot;skin&quot; to the `separator` items in the menu list. The way to do this was to call the menu&#39;s `add(Component c)` method instead of the more common `addSeparator()`, while passing to it a `JSeparator` component. First, you would need to create the `JSeparator` object and set its properties before adding it to the menu. To simplify things, I created a helper class:\r\n\r\n    public class XMenuSeparator extends JSeparator\r\n    {\r\n    \tpublic XMenuSeparator(Color bgColor, Color fgColor)\r\n    \t{\r\n    \t\tsuper.setOpaque(true);\r\n    \t\tsuper.setBackground(bgColor);\r\n    \t\tsuper.setForeground(fgColor);\r\n    \t}\r\n    }\r\nWhich can subsequently be used as such:\r\n\r\n    myMenu.add(new XMenuSeparator(Color.darkGray, Color.lightGray));\r\nWhere `myMenu` is a `JMenu` instance (or as we will see next, an instance of our other helper class, `XMenu`).\r\n\r\n\r\n----------\r\n\r\nLast on the list was figuring out how to customize the menu list (background color, foreground color, and most importantly, the surrounding borders around the menu list). The first two customizations were pretty straight forward, using `setBackground(Color.darkGray)` and `setForeground(Color.lightGray)`, with the only consideration needed was setting the opacity to true: `setOpaque(true)`.\r\n\r\nAs for the surrounding border that had preserved the default background colors, and where the initial attempts to customize it using `JMenu`&#39;s `setBorder` had failed, the solution was to actually set the borders of the menu list and not the menu command button itself (obviously!) as such:\r\n\r\n    JMenu myMenu = new JMenu(&quot;File&quot;);\r\n    myMenu.getPopupMenu().setBorder(new LineBorder(Color.gray, borderThickness));\r\nAnd so to encapsulate all those steps (and some additional functionality of switching back and forth between the default and &quot;skinned&quot; looks), here&#39;s a simple helper class:\r\n\r\n    public class XMenu extends JMenu\r\n    {\r\n    \tprivate Color skinBgColor = Color.darkGray;\r\n    \tprivate Color skinFgColor = Color.lightGray;\r\n    \tprivate Color skinBorderColor = Color.gray;\r\n    \tprivate int skinBorderThickness = 1;\r\n    \t\r\n    \tprivate Color defaultBgColor;\r\n    \tprivate Color defaultFgColor;\r\n    \tprivate Border defaultBorder;\r\n    \tprivate boolean defaultOpacity;\r\n    \t\r\n    \tprivate void saveDefaults()\r\n    \t{\r\n    \t\tdefaultBgColor = super.getBackground();\r\n    \t\tdefaultFgColor = super.getForeground();\r\n    \t\tdefaultBorder = super.getPopupMenu().getBorder();\r\n    \t\tdefaultOpacity = super.isOpaque();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s, Color bgColor, Color fgColor, Color borderColor)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t\tthis.setSkinProperties(bgColor, fgColor, borderColor, 1);\r\n    \t\tthis.applySkin();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s, Color bgColor, Color fgColor, Color borderColor, int borderThickness)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t\tthis.setSkinProperties(bgColor, fgColor, borderColor, borderThickness);\r\n    \t\tthis.applySkin();\r\n    \t}\r\n    \t\r\n    \tpublic void setSkinProperties(Color bgColor, Color fgColor, Color borderColor, int borderThickness)\r\n    \t{\r\n    \t\tthis.skinBgColor = bgColor;\r\n    \t\tthis.skinFgColor = fgColor;\r\n    \t\tthis.skinBorderColor = borderColor;\r\n    \t\tthis.skinBorderThickness = borderThickness;\r\n    \t}\r\n    \t\r\n    \tpublic void applySkin()\r\n    \t{\r\n    \t\tsuper.setOpaque(true);\r\n    \t\tsuper.setBackground(skinBgColor);\r\n    \t\tsuper.setForeground(skinFgColor);\r\n    \t\tsuper.getPopupMenu().setBorder(new LineBorder(skinBorderColor, skinBorderThickness));\r\n    \t}\r\n    \t\r\n    \tpublic void stripSkin()\r\n    \t{\r\n    \t\tsuper.setOpaque(defaultOpacity);\r\n    \t\tsuper.setBackground(defaultBgColor);\r\n    \t\tsuper.setForeground(defaultFgColor);\r\n    \t\tsuper.getPopupMenu().setBorder(defaultBorder);\r\n    \t}\r\n    }\r\nAnd now, one could simply instantiate this class for the menu lists:\r\n\r\n    JMenu myMenu = new XMenu(&quot;File&quot;, Color.darkGray, Color.lightGray, Color.gray);\r\n\r\n\r\n----------\r\n\r\n\r\nHopefully this helps anyone who comes across this posting! \r\n\r\n  [1]: https://i.stack.imgur.com/an1S2.png","title":"Customizing the Foreground and Background Colors of Java Swing Menu Items, Menu Separators, and Menu Accelerators","body":"<p>After digging a bit deeper into the Swing API, I was able to achieve what I set out to do when I posted this question. Here is an illustration of the outcome:\n<a href=\"https://i.stack.imgur.com/an1S2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/an1S2.png\" alt=\"enter image description here\" /></a></p>\n<p>In order to help anyone who might come across a similar problem in the future, I will post my own answer to this question.</p>\n<hr />\n<p>First, regarding the foreground (text) color of the <code>accelerator</code> menu shortcuts, the only way I could get it to work was setting some application wide flags using <code>UIManager</code>.</p>\n<pre><code>UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\n// For Windows L&amp;F:\nuiDefaults.put(&quot;MenuItem.acceleratorForeground&quot;, Color.lightGray);\nuiDefaults.put(&quot;MenuItem.acceleratorSelectionForeground&quot;, Color.lightGray);\n// For Nimbus L&amp;F:\nuiDefaults.put(&quot;MenuItem:MenuItemAccelerator.textForeground&quot;, Color.lightGray);\n</code></pre>\n<hr />\n<p>Next on the list was finding a way to apply the custom &quot;skin&quot; to the <code>separator</code> items in the menu list. The way to do this was to call the menu's <code>add(Component c)</code> method instead of the more common <code>addSeparator()</code>, while passing to it a <code>JSeparator</code> component. First, you would need to create the <code>JSeparator</code> object and set its properties before adding it to the menu. To simplify things, I created a helper class:</p>\n<pre><code>public class XMenuSeparator extends JSeparator\n{\n    public XMenuSeparator(Color bgColor, Color fgColor)\n    {\n        super.setOpaque(true);\n        super.setBackground(bgColor);\n        super.setForeground(fgColor);\n    }\n}\n</code></pre>\n<p>Which can subsequently be used as such:</p>\n<pre><code>myMenu.add(new XMenuSeparator(Color.darkGray, Color.lightGray));\n</code></pre>\n<p>Where <code>myMenu</code> is a <code>JMenu</code> instance (or as we will see next, an instance of our other helper class, <code>XMenu</code>).</p>\n<hr />\n<p>Last on the list was figuring out how to customize the menu list (background color, foreground color, and most importantly, the surrounding borders around the menu list). The first two customizations were pretty straight forward, using <code>setBackground(Color.darkGray)</code> and <code>setForeground(Color.lightGray)</code>, with the only consideration needed was setting the opacity to true: <code>setOpaque(true)</code>.</p>\n<p>As for the surrounding border that had preserved the default background colors, and where the initial attempts to customize it using <code>JMenu</code>'s <code>setBorder</code> had failed, the solution was to actually set the borders of the menu list and not the menu command button itself (obviously!) as such:</p>\n<pre><code>JMenu myMenu = new JMenu(&quot;File&quot;);\nmyMenu.getPopupMenu().setBorder(new LineBorder(Color.gray, borderThickness));\n</code></pre>\n<p>And so to encapsulate all those steps (and some additional functionality of switching back and forth between the default and &quot;skinned&quot; looks), here's a simple helper class:</p>\n<pre><code>public class XMenu extends JMenu\n{\n    private Color skinBgColor = Color.darkGray;\n    private Color skinFgColor = Color.lightGray;\n    private Color skinBorderColor = Color.gray;\n    private int skinBorderThickness = 1;\n    \n    private Color defaultBgColor;\n    private Color defaultFgColor;\n    private Border defaultBorder;\n    private boolean defaultOpacity;\n    \n    private void saveDefaults()\n    {\n        defaultBgColor = super.getBackground();\n        defaultFgColor = super.getForeground();\n        defaultBorder = super.getPopupMenu().getBorder();\n        defaultOpacity = super.isOpaque();\n    }\n    \n    public XMenu(String s)\n    {\n        super(s);\n        this.saveDefaults();\n    }\n    \n    public XMenu(String s, Color bgColor, Color fgColor, Color borderColor)\n    {\n        super(s);\n        this.saveDefaults();\n        this.setSkinProperties(bgColor, fgColor, borderColor, 1);\n        this.applySkin();\n    }\n    \n    public XMenu(String s, Color bgColor, Color fgColor, Color borderColor, int borderThickness)\n    {\n        super(s);\n        this.saveDefaults();\n        this.setSkinProperties(bgColor, fgColor, borderColor, borderThickness);\n        this.applySkin();\n    }\n    \n    public void setSkinProperties(Color bgColor, Color fgColor, Color borderColor, int borderThickness)\n    {\n        this.skinBgColor = bgColor;\n        this.skinFgColor = fgColor;\n        this.skinBorderColor = borderColor;\n        this.skinBorderThickness = borderThickness;\n    }\n    \n    public void applySkin()\n    {\n        super.setOpaque(true);\n        super.setBackground(skinBgColor);\n        super.setForeground(skinFgColor);\n        super.getPopupMenu().setBorder(new LineBorder(skinBorderColor, skinBorderThickness));\n    }\n    \n    public void stripSkin()\n    {\n        super.setOpaque(defaultOpacity);\n        super.setBackground(defaultBgColor);\n        super.setForeground(defaultFgColor);\n        super.getPopupMenu().setBorder(defaultBorder);\n    }\n}\n</code></pre>\n<p>And now, one could simply instantiate this class for the menu lists:</p>\n<pre><code>JMenu myMenu = new XMenu(&quot;File&quot;, Color.darkGray, Color.lightGray, Color.gray);\n</code></pre>\n<hr />\n<p>Hopefully this helps anyone who comes across this posting!</p>\n"}],"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73452320,"answer_count":1,"score":2,"last_activity_date":1661215703,"creation_date":1661196613,"question_id":73450170,"body_markdown":"I am trying to fashion a dark mode menu bar for my desktop GUI. Developing and testing on Windows with System L&amp;F.\r\n\r\nWhat has worked so far:\r\n\r\n- Setting the background color of the actual `JMenuBar` component itself.\r\n- Setting the background and foreground colors of the `JMenu` buttons (e.g. File, Edit, etc).\r\n- Setting the background color of the Menu items (somewhat).\r\n- Setting the foreground color of the Menu items (somewhat).\r\n\r\nFollowing is an illustration of what has worked and what has not worked so far:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, I couldn&#39;t manage to set the desired background color for the Menu items&#39; borders. I am not even sure if those are per-item borders or a single container border for the items&#39; `JMenu` parent. Either way, calling `setBorder(new EmptyBorder(0,0,0,0))` and `setBorder(new LineBorder(Color.red))` on both the parent `JMenu` and the actual Menu items failed to make any changes to the UI.\r\n\r\nMoreover, another two issues that need to be dealt with are:\r\n- Setting the foreground color of the accelerator shortcut.\r\n- Setting the background (and possibly foreground) color of `Separator` items (which are not actual Menu items per-se since the call to `addSeparator()` returns `void`.\r\n\r\nI don&#39;t wanna give up on this endeavor! Help!\r\n\r\n----------\r\n\r\n**EDIT:**\r\n\r\nSetting the accelerators&#39; color application wide using:\r\n`UIManager.getLookAndFeelDefaults().put(&quot;MenuItem.acceleratorForeground&quot;, Color.yellow);` before any components are created seems to work for System L&amp;F on Windows.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DSrja.png","title":"Customizing the Foreground and Background Colors of Java Swing Menu Items, Menu Separators, and Menu Accelerators","body":"<p>I am trying to fashion a dark mode menu bar for my desktop GUI. Developing and testing on Windows with System L&amp;F.</p>\n<p>What has worked so far:</p>\n<ul>\n<li>Setting the background color of the actual <code>JMenuBar</code> component itself.</li>\n<li>Setting the background and foreground colors of the <code>JMenu</code> buttons (e.g. File, Edit, etc).</li>\n<li>Setting the background color of the Menu items (somewhat).</li>\n<li>Setting the foreground color of the Menu items (somewhat).</li>\n</ul>\n<p>Following is an illustration of what has worked and what has not worked so far:\n<a href=\"https://i.stack.imgur.com/DSrja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSrja.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I couldn't manage to set the desired background color for the Menu items' borders. I am not even sure if those are per-item borders or a single container border for the items' <code>JMenu</code> parent. Either way, calling <code>setBorder(new EmptyBorder(0,0,0,0))</code> and <code>setBorder(new LineBorder(Color.red))</code> on both the parent <code>JMenu</code> and the actual Menu items failed to make any changes to the UI.</p>\n<p>Moreover, another two issues that need to be dealt with are:</p>\n<ul>\n<li>Setting the foreground color of the accelerator shortcut.</li>\n<li>Setting the background (and possibly foreground) color of <code>Separator</code> items (which are not actual Menu items per-se since the call to <code>addSeparator()</code> returns <code>void</code>.</li>\n</ul>\n<p>I don't wanna give up on this endeavor! Help!</p>\n<hr />\n<p><strong>EDIT:</strong></p>\n<p>Setting the accelerators' color application wide using:\n<code>UIManager.getLookAndFeelDefaults().put(&quot;MenuItem.acceleratorForeground&quot;, Color.yellow);</code> before any components are created seems to work for System L&amp;F on Windows.</p>\n"},{"tags":["java","jar","noclassdeffounderror","live-streaming","youtube-data-api"],"comments":[{"owner":{"account_id":3801676,"reputation":2535,"user_id":3155154,"accept_rate":88,"display_name":"Nitek"},"score":0,"creation_date":1432192965,"post_id":30367045,"comment_id":48824928,"body_markdown":"Did you run it using maven?","body":"Did you run it using maven?"},{"owner":{"account_id":5499909,"reputation":582,"user_id":4369561,"accept_rate":38,"display_name":"Pro"},"score":0,"creation_date":1432193025,"post_id":30367045,"comment_id":48824967,"body_markdown":"looks like com.fasterxml.jackson.core:jackson-core dependency is missing in pom.xml","body":"looks like com.fasterxml.jackson.core:jackson-core dependency is missing in pom.xml"},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1432193037,"post_id":30367045,"comment_id":48824975,"body_markdown":"You missed some jar at runtime that was used at compile time.","body":"You missed some jar at runtime that was used at compile time."},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197162,"post_id":30367045,"comment_id":48827454,"body_markdown":"@Nitek No I have added jar by going to project properties option","body":"@Nitek No I have added jar by going to project properties option"},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197181,"post_id":30367045,"comment_id":48827464,"body_markdown":"@NareshK i am not using Maven","body":"@NareshK i am not using Maven"},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197197,"post_id":30367045,"comment_id":48827476,"body_markdown":"@FranMontero No, there are no CTE","body":"@FranMontero No, there are no CTE"}],"answers":[{"tags":[],"owner":{"account_id":4062106,"reputation":7114,"user_id":3338360,"accept_rate":25,"display_name":"Kartheek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432193072,"creation_date":1432193072,"answer_id":30367146,"question_id":30367045,"body_markdown":"You have to add one jar : `jackson-annotations-2.1.2.jar`\r\nYou can download it from [here][1] and add it to the class path\r\nIf you are using the  gradle then add the following dependency.\r\n\r\n    compile &#39;com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.5.2&#39;\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjacksonannotations212jar.htm","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>You have to add one jar : <code>jackson-annotations-2.1.2.jar</code>\nYou can download it from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjacksonannotations212jar.htm\" rel=\"nofollow\">here</a> and add it to the class path\nIf you are using the  gradle then add the following dependency.</p>\n\n<pre><code>compile 'com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.5.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6303188,"reputation":3960,"user_id":4897144,"display_name":"shruti1810"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1432193267,"creation_date":1432193267,"answer_id":30367210,"question_id":30367045,"body_markdown":"Add the following dependency to your `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Add the following dependency to your <code>pom.xml</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10246036,"reputation":51,"user_id":7561794,"display_name":"Emmanuel Douaud"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487060579,"creation_date":1487060579,"answer_id":42221059,"question_id":30367045,"body_markdown":"The requested jar is probably not jackson-**annotations**-x.y.z.jar but jackson-**core**-x.y.z.jar which could be found here:\r\n[http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>The requested jar is probably not jackson-<strong>annotations</strong>-x.y.z.jar but jackson-<strong>core</strong>-x.y.z.jar which could be found here:\n<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm</a></p>\n"},{"tags":[],"owner":{"account_id":1409335,"reputation":1766,"user_id":1336263,"accept_rate":82,"display_name":"Cec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494152933,"creation_date":1494152933,"answer_id":43830401,"question_id":30367045,"body_markdown":"As of jackson 2.7.4 (or earlier maybe), the class is in jacskon-jaxrs-base.jar, which is contained in [jackson-jaxrs-json-provider][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>As of jackson 2.7.4 (or earlier maybe), the class is in jacskon-jaxrs-base.jar, which is contained in <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider\" rel=\"nofollow noreferrer\">jackson-jaxrs-json-provider</a></p>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1561507887,"creation_date":1532239779,"answer_id":51462494,"question_id":30367045,"body_markdown":"Because of old version I got this error.\r\nThen I changed to this version n error gone \r\nUsing maven\r\nmy pom.xml \r\n\r\n    &lt;properties&gt;  \r\n        ...\r\n        &lt;jackson.version&gt;2.5.2&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    ...\r\n            &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nmy old version was &#39;2.2.3&#39;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Because of old version I got this error.\nThen I changed to this version n error gone \nUsing maven\nmy pom.xml </p>\n\n<pre><code>&lt;properties&gt;  \n    ...\n    &lt;jackson.version&gt;2.5.2&lt;/jackson.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n...\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>my old version was '2.2.3'</p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570490674,"creation_date":1570490674,"answer_id":58278304,"question_id":30367045,"body_markdown":"**Solved the problem by upgrading the dependency to below version**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p><strong>Solved the problem by upgrading the dependency to below version</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1648723469,"creation_date":1593003205,"answer_id":62555520,"question_id":30367045,"body_markdown":"In my case problem was when i added com.fasterxml.jackson.dataformat\r\ni put the version **2.11.0**.\r\n\r\nWhile all other Jackson dependencies were 2.8.0 and one of them was **2.11.0** and changing all to be **2.8.0** fixed it.\r\n\r\nFYI, 2.11 is the latest but due to my legacy code, i kept it as 2.8 as well.\r\n\r\nBefore Fix [**ERROR**] : `com.fasterxml.jackson.dataformat` version is `2.11.0`:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter Fix [**WORKED**] `com.fasterxml.jackson.dataformat` version is `2.8.0`:\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>In my case problem was when i added com.fasterxml.jackson.dataformat\ni put the version <strong>2.11.0</strong>.</p>\n<p>While all other Jackson dependencies were 2.8.0 and one of them was <strong>2.11.0</strong> and changing all to be <strong>2.8.0</strong> fixed it.</p>\n<p>FYI, 2.11 is the latest but due to my legacy code, i kept it as 2.8 as well.</p>\n<p>Before Fix [<strong>ERROR</strong>] : <code>com.fasterxml.jackson.dataformat</code> version is <code>2.11.0</code>:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After Fix [<strong>WORKED</strong>] <code>com.fasterxml.jackson.dataformat</code> version is <code>2.8.0</code>:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10800701,"reputation":2436,"user_id":7944768,"display_name":"ezzou"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1599844828,"creation_date":1599844828,"answer_id":63851623,"question_id":30367045,"body_markdown":"If you are using springboot then **jackson is added by default**,\r\n\r\nSo the version of jackson you are adding manualy is probably **conflicting** with the one spring boot adds,\r\n\r\nTry to delete the jackson dependencies from your pom,\r\n\r\nIf you need to override the version spring boots add, then you need to **exclude** it first and then add your own","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>If you are using springboot then <strong>jackson is added by default</strong>,</p>\n<p>So the version of jackson you are adding manualy is probably <strong>conflicting</strong> with the one spring boot adds,</p>\n<p>Try to delete the jackson dependencies from your pom,</p>\n<p>If you need to override the version spring boots add, then you need to <strong>exclude</strong> it first and then add your own</p>\n"},{"tags":[],"owner":{"account_id":20477959,"reputation":71,"user_id":15026810,"display_name":"Yanpol"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1610932018,"creation_date":1610932018,"answer_id":65767626,"question_id":30367045,"body_markdown":"I have had the same error.\r\nI added dependency on pom.xml (I am working with Maven)\r\n\r\n    &lt;dependency&gt; \r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; \r\n            &lt;version&gt;2.12.1&lt;/version&gt; \r\n     &lt;/dependency&gt; \r\n\r\n  I started trying with version 2.9.0, then I found a different error (com/fasterxml/jackson/core/exc/InputCoercionException)\r\n  then I try different versions until all errors were solved with version 2.12.1\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I have had the same error.\nI added dependency on pom.xml (I am working with Maven)</p>\n<pre><code>&lt;dependency&gt; \n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; \n        &lt;version&gt;2.12.1&lt;/version&gt; \n &lt;/dependency&gt; \n</code></pre>\n<p>I started trying with version 2.9.0, then I found a different error (com/fasterxml/jackson/core/exc/InputCoercionException)\nthen I try different versions until all errors were solved with version 2.12.1</p>\n"},{"tags":[],"owner":{"account_id":17624121,"reputation":331,"user_id":13679909,"display_name":"Rohit Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632310084,"creation_date":1632310084,"answer_id":69283301,"question_id":30367045,"body_markdown":"I faced the same issue and this was happening due to conflicting Jackson version present in the project. \r\n\r\nSo I explicitly defined the same version for all the Jackson dependencies in my pom.xml. Post this I did not face the error while running jar and it was properly resolved.\r\n\r\nBelow is what I used:\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n**Maven Dependency tree with conflicting version**\r\n```\r\n(base) rohiagra-mac:test-secret rohiagra$ mvn dependency:tree|grep jackson\r\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\r\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.9:compile\r\n```\r\n\r\n**Maven Dependency tree with resolved conflicts**\r\n```\r\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\r\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.0:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\r\n```","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I faced the same issue and this was happening due to conflicting Jackson version present in the project.</p>\n<p>So I explicitly defined the same version for all the Jackson dependencies in my pom.xml. Post this I did not face the error while running jar and it was properly resolved.</p>\n<p>Below is what I used:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Maven Dependency tree with conflicting version</strong></p>\n<pre><code>(base) rohiagra-mac:test-secret rohiagra$ mvn dependency:tree|grep jackson\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.9:compile\n</code></pre>\n<p><strong>Maven Dependency tree with resolved conflicts</strong></p>\n<pre><code>[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.0:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637055958,"creation_date":1637055958,"answer_id":69986839,"question_id":30367045,"body_markdown":"Most of time it is Jackson version incompatibility. Upgrade the jackson version and it should work. ","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Most of time it is Jackson version incompatibility. Upgrade the jackson version and it should work.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648024077,"creation_date":1648024077,"answer_id":71583959,"question_id":30367045,"body_markdown":"The issue was conflicting version of `Jackson-databind`. My spring-boot version was `2.5.8`, and spring-boot was using `jackson-core` version 2.12.6. \r\n\r\nMy explicit implementation was using `jackson-core` version 2.13.2, and this was the cause of the problem.\r\n\r\nI commented out the below line from `gradle.build`, and this fixed the issue.\r\n\r\n```yml\r\nimplementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.2&#39;\r\n```\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>The issue was conflicting version of <code>Jackson-databind</code>. My spring-boot version was <code>2.5.8</code>, and spring-boot was using <code>jackson-core</code> version 2.12.6.</p>\n<p>My explicit implementation was using <code>jackson-core</code> version 2.13.2, and this was the cause of the problem.</p>\n<p>I commented out the below line from <code>gradle.build</code>, and this fixed the issue.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2131,"user_id":10832700,"display_name":"ahmnouira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649337253,"creation_date":1649337253,"answer_id":71782853,"question_id":30367045,"body_markdown":"I fixed this issue by simply removing the version tag as follows: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I fixed this issue by simply removing the version tag as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23024708,"reputation":344,"user_id":17145156,"display_name":"AceneKASDI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649506304,"creation_date":1649506304,"answer_id":71807929,"question_id":30367045,"body_markdown":"I have faced the same issue on my project Java 17, I have used the dependency.\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nNote that the version of jackson is automatically added by spring boot, you \r\ndon&#39;t really need to add it manually.\r\n\r\nI have removed it from the pom.xml\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I have faced the same issue on my project Java 17, I have used the dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Note that the version of jackson is automatically added by spring boot, you\ndon't really need to add it manually.</p>\n<p>I have removed it from the pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661215310,"creation_date":1661215310,"answer_id":73452286,"question_id":30367045,"body_markdown":"I&#39;ve reproduced the issue like:\r\n\r\n    java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/util/JacksonFeature\r\n\r\n\r\nwith version of dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo fix it, I&#39;ve used:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I've reproduced the issue like:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/util/JacksonFeature\n</code></pre>\n<p>with version of dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.13.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To fix it, I've used:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306294,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"accepted_answer_id":30367210,"answer_count":15,"score":95,"last_activity_date":1661215310,"creation_date":1432192816,"question_id":30367045,"body_markdown":"I am working on `YouTube broadcast` sample examples. I have created a sample `Java Project` &amp; added required jars. But, when I try to run the project it throws exception.\r\n\r\nException :\r\n\r\n    Throwable: com/fasterxml/jackson/core/JsonFactory\r\n    java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory\r\n    \tat com.google.api.client.json.jackson2.JacksonFactory.&lt;init&gt;(JacksonFactory.java:44)\r\n    \tat com.google.api.services.samples.youtube.cmdline.live.Auth.&lt;clinit&gt;(Auth.java:35)\r\n    \tat com.google.api.services.samples.youtube.cmdline.live.CreateBroadcast.main(CreateBroadcast.java:55)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonFactory\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 3 more\r\n\r\nI downloaded the project from [this GitHub repository][1]. \r\n\r\n\r\n  [1]: https://github.com/youtube/api-samples/tree/master/java","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I am working on <code>YouTube broadcast</code> sample examples. I have created a sample <code>Java Project</code> &amp; added required jars. But, when I try to run the project it throws exception.</p>\n\n<p>Exception :</p>\n\n<pre><code>Throwable: com/fasterxml/jackson/core/JsonFactory\njava.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory\n    at com.google.api.client.json.jackson2.JacksonFactory.&lt;init&gt;(JacksonFactory.java:44)\n    at com.google.api.services.samples.youtube.cmdline.live.Auth.&lt;clinit&gt;(Auth.java:35)\n    at com.google.api.services.samples.youtube.cmdline.live.CreateBroadcast.main(CreateBroadcast.java:55)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonFactory\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 3 more\n</code></pre>\n\n<p>I downloaded the project from <a href=\"https://github.com/youtube/api-samples/tree/master/java\" rel=\"noreferrer\">this GitHub repository</a>. </p>\n"},{"tags":["java","xml","soap","client","cxf"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661192501,"post_id":73449008,"comment_id":129708792,"body_markdown":"How are you generating the classes? maven plugin? soap-ui?","body":"How are you generating the classes? maven plugin? soap-ui?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661207181,"post_id":73449008,"comment_id":129712738,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661207588,"post_id":73449008,"comment_id":129712822,"body_markdown":"The field might be annotated as `@XmlElement(name=&quot;orderId&quot;)\n         public String accessCode;` or similar","body":"The field might be annotated as <code>@XmlElement(name=&quot;orderId&quot;)          public String accessCode;</code> or similar"},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661353862,"post_id":73449008,"comment_id":129753496,"body_markdown":"@Pp88 the classes were generated with cfx-codegen plugin for maven.","body":"@Pp88 the classes were generated with cfx-codegen plugin for maven."},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661354110,"post_id":73449008,"comment_id":129753611,"body_markdown":"@LMC I&#39;ve tried searching for orderId in Intellij without success. the response i see defined in the operation definition only defines up to Result though, with the result being an xml type.\n`&lt;soap:Body&gt;\n   &lt;InsertOrderResponsexmlns=&quot;https://webservices.infotrust.pt/IdOnResp&quot;&gt;\n      &lt;InsertOrderResult&gt;\n        &lt;MessageId&gt;int&lt;/MessageId&gt;\n        &lt;TimeStamp&gt;long&lt;/TimeStamp&gt;\n        &lt;Result&gt;xml&lt;/Result&gt;\n      &lt;/InsertOrderResult&gt;\n    &lt;/InsertOrderResponse&gt;\n&lt;/soap:Body&gt;`","body":"@LMC I&#39;ve tried searching for orderId in Intellij without success. the response i see defined in the operation definition only defines up to Result though, with the result being an xml type. <code>&lt;soap:Body&gt;    &lt;InsertOrderResponsexmlns=&quot;https:&#47;&#47;webservices.infotrust.pt&#47;&zwnj;&#8203;IdOnResp&quot;&gt;       &lt;InsertOrderResult&gt;         &lt;MessageId&gt;int&lt;&#47;MessageId&gt;         &lt;TimeStamp&gt;long&lt;&#47;TimeStamp&gt;         &lt;Result&gt;xml&lt;&#47;Result&gt;       &lt;&#47;InsertOrderResult&gt;     &lt;&#47;InsertOrderResponse&gt; &lt;&#47;soap:Body&gt;</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661354369,"post_id":73449008,"comment_id":129753727,"body_markdown":"If the element appears in xml instance it must be defined somewhere, may the problem is in the [code generation](https://cxf.apache.org/docs/wsdl-to-java.html)","body":"If the element appears in xml instance it must be defined somewhere, may the problem is in the <a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">code generation</a>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661354899,"post_id":73449008,"comment_id":129753977,"body_markdown":"Post the wsdl and the plug-in configuration if you can","body":"Post the wsdl and the plug-in configuration if you can"},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661394028,"post_id":73449008,"comment_id":129763695,"body_markdown":"I managed to solve my issue, the problem was that the lowest level field was of type XML, but I could not seem to find a way of parsing it since I couldn&#39;t serialize it, or cast it to another object. The type of Result for me was com.sun.org.apache.xerces.internal.dom.elementnsimpl, but somehow it was impossible to cast it to that object, and from what I understood is a bug in recent java versions.\nThe solution was simply casting it to `org.w3c.dom.Element` like said in [here](https://stackoverflow.com/a/56203831/19816674) and then I could navigate to the data.\nThanks for your time","body":"I managed to solve my issue, the problem was that the lowest level field was of type XML, but I could not seem to find a way of parsing it since I couldn&#39;t serialize it, or cast it to another object. The type of Result for me was com.sun.org.apache.xerces.internal.dom.elementnsimpl, but somehow it was impossible to cast it to that object, and from what I understood is a bug in recent java versions. The solution was simply casting it to <code>org.w3c.dom.Element</code> like said in <a href=\"https://stackoverflow.com/a/56203831/19816674\">here</a> and then I could navigate to the data. Thanks for your time"}],"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661213125,"creation_date":1661189784,"question_id":73449008,"body_markdown":"So I have this project where I consume an endpoint that creates a resource, and an access key for that resource is returned.\r\nThe response xml I get on Soap UI looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;soap:Envelope\r\n\txmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t&lt;soap:Body&gt;\r\n\t\t&lt;InsertOrderResponse\r\n\t\t\txmlns=&quot;service URL&quot;&gt;\r\n\t\t\t&lt;InsertOrderResult&gt;\r\n\t\t\t\t&lt;MessageId&gt;0&lt;/MessageId&gt;\r\n\t\t\t\t&lt;TimeStamp&gt;123456789&lt;/TimeStamp&gt;\r\n\t\t\t\t&lt;Result&gt;\r\n\t\t\t\t\t&lt;orderId\r\n\t\t\t\t\t\txmlns=&quot;&quot;&gt;12345-access-code-67890\r\n\t\t\t\t\t&lt;/orderId&gt;\r\n\t\t\t\t&lt;/Result&gt;\r\n\t\t\t&lt;/InsertOrderResult&gt;\r\n\t\t&lt;/InsertOrderResponse&gt;\r\n\t&lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nI want to get that order ID, but that field doesn&#39;t appear in any of the cxf-generated classes, the lowest level defined in the classes is the Result class which contains a list of objects &#39;content&#39;. In the debugger, I can see the field and value is present in [the return (inside field &#39;firstChild&#39;)][1]\r\n\r\n\r\nHowever, there is no [implemented method to extract that field.][2]\r\n\r\nI feel like this should be very easy, but I&#39;m very noob and I can&#39;t see to find a way of doing this.\r\n\r\n  [1]: https://i.stack.imgur.com/kFiAm.png\r\n  [2]: https://i.stack.imgur.com/aPkB5.png","title":"How do I extract the actual result of a cfx SOAP client in Java (no CXF class was generated with the field name i&#39;m looking for)","body":"<p>So I have this project where I consume an endpoint that creates a resource, and an access key for that resource is returned.\nThe response xml I get on Soap UI looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope\n    xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;InsertOrderResponse\n            xmlns=&quot;service URL&quot;&gt;\n            &lt;InsertOrderResult&gt;\n                &lt;MessageId&gt;0&lt;/MessageId&gt;\n                &lt;TimeStamp&gt;123456789&lt;/TimeStamp&gt;\n                &lt;Result&gt;\n                    &lt;orderId\n                        xmlns=&quot;&quot;&gt;12345-access-code-67890\n                    &lt;/orderId&gt;\n                &lt;/Result&gt;\n            &lt;/InsertOrderResult&gt;\n        &lt;/InsertOrderResponse&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I want to get that order ID, but that field doesn't appear in any of the cxf-generated classes, the lowest level defined in the classes is the Result class which contains a list of objects 'content'. In the debugger, I can see the field and value is present in <a href=\"https://i.stack.imgur.com/kFiAm.png\" rel=\"nofollow noreferrer\">the return (inside field 'firstChild')</a></p>\n<p>However, there is no <a href=\"https://i.stack.imgur.com/aPkB5.png\" rel=\"nofollow noreferrer\">implemented method to extract that field.</a></p>\n<p>I feel like this should be very easy, but I'm very noob and I can't see to find a way of doing this.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":1108634,"reputation":2121,"user_id":1099503,"display_name":"DRCB"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1520026073,"creation_date":1324292766,"answer_id":8560390,"question_id":8560348,"body_markdown":"I would bind two different getters/setters pair to one variable:\r\n\r\n    class Coordinates{\r\n        int red;\r\n\r\n        @JsonProperty(&quot;red&quot;)\r\n        public byte getRed() {\r\n          return red;\r\n        }\r\n\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n\r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getR() {\r\n          return red;\r\n        }\r\n\r\n        public void setR(byte red) {\r\n          this.red = red;\r\n        }\r\n    }","title":"Different names of JSON property during serialization and deserialization","body":"<p>I would bind two different getters/setters pair to one variable:</p>\n\n<pre><code>class Coordinates{\n    int red;\n\n    @JsonProperty(\"red\")\n    public byte getRed() {\n      return red;\n    }\n\n    public void setRed(byte red) {\n      this.red = red;\n    }\n\n    @JsonProperty(\"r\")\n    public byte getR() {\n      return red;\n    }\n\n    public void setR(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18865,"reputation":25722,"user_id":43677,"accept_rate":100,"display_name":"bezmax"},"down_vote_count":1,"up_vote_count":260,"is_accepted":true,"score":259,"last_activity_date":1324294011,"creation_date":1324294011,"answer_id":8560615,"question_id":8560348,"body_markdown":"Just tested and this works:\r\n\r\n    public class Coordinates {\r\n        byte red;\r\n    \r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getR() {\r\n          return red;\r\n        }\r\n    \r\n        @JsonProperty(&quot;red&quot;)\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n    }\r\n\r\nThe idea is that method names should be different, so jackson parses it as different fields, not as one field.\r\n\r\nHere is test code:\r\n\r\n    Coordinates c = new Coordinates();\r\n    c.setRed((byte) 5);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    System.out.println(&quot;Serialization: &quot; + mapper.writeValueAsString(c));\r\n\r\n    Coordinates r = mapper.readValue(&quot;{\\&quot;red\\&quot;:25}&quot;,Coordinates.class);\r\n    System.out.println(&quot;Deserialization: &quot; + r.getR());\r\n\r\nResult:\r\n\r\n    Serialization: {&quot;r&quot;:5}\r\n    Deserialization: 25","title":"Different names of JSON property during serialization and deserialization","body":"<p>Just tested and this works:</p>\n\n<pre><code>public class Coordinates {\n    byte red;\n\n    @JsonProperty(\"r\")\n    public byte getR() {\n      return red;\n    }\n\n    @JsonProperty(\"red\")\n    public void setRed(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n\n<p>The idea is that method names should be different, so jackson parses it as different fields, not as one field.</p>\n\n<p>Here is test code:</p>\n\n<pre><code>Coordinates c = new Coordinates();\nc.setRed((byte) 5);\n\nObjectMapper mapper = new ObjectMapper();\nSystem.out.println(\"Serialization: \" + mapper.writeValueAsString(c));\n\nCoordinates r = mapper.readValue(\"{\\\"red\\\":25}\",Coordinates.class);\nSystem.out.println(\"Deserialization: \" + r.getR());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Serialization: {\"r\":5}\nDeserialization: 25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6340276,"reputation":71,"user_id":4922418,"display_name":"Andy Talkowski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432160824,"creation_date":1432160824,"answer_id":30361447,"question_id":8560348,"body_markdown":"This was not what I was expecting as a solution (though it is a legitimate use case). My requirement was to allow an existing buggy client (a mobile app which already released) to use alternate names. \r\n\r\nThe solution lies in providing a separate setter method like this:\r\n\r\n    @JsonSetter( &quot;r&quot; )\r\n    public void alternateSetRed( byte red ) {\r\n        this.red = red;\r\n    }","title":"Different names of JSON property during serialization and deserialization","body":"<p>This was not what I was expecting as a solution (though it is a legitimate use case). My requirement was to allow an existing buggy client (a mobile app which already released) to use alternate names. </p>\n\n<p>The solution lies in providing a separate setter method like this:</p>\n\n<pre><code>@JsonSetter( \"r\" )\npublic void alternateSetRed( byte red ) {\n    this.red = red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398778,"reputation":1,"user_id":1327949,"display_name":"Vernon Kujyio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557238040,"creation_date":1447826550,"answer_id":33772850,"question_id":8560348,"body_markdown":"You can write a serialize class to do that:\r\n```java\r\npublic class Symbol\r\n\r\n{\r\n\t private String symbol;\r\n\r\n\t private String name;\r\n\r\n     public String getSymbol() {\r\n\t\treturn symbol;\r\n\t}\r\n\tpublic void setSymbol(String symbol) {\r\n\t\tthis.symbol = symbol;\r\n\t}\t \r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\t \r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic class SymbolJsonSerializer extends JsonSerializer&lt;Symbol&gt; {\r\n \r\n\t@Override\r\n\tpublic void serialize(Symbol symbol, JsonGenerator jgen, SerializerProvider serializers) throws IOException, JsonProcessingException {\r\n\t\tjgen.writeStartObject();\r\n\t\t\r\n\t\tjgen.writeStringField(&quot;symbol&quot;, symbol.getSymbol());\r\n         //Changed name to full_name as the field name of Json string\r\n\t\tjgen.writeStringField(&quot;full_name&quot;, symbol.getName());\r\n\t\tjgen.writeEndObject(); \r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\n            ObjectMapper mapper = new ObjectMapper();\r\n\t\t\r\n\t\t\tSimpleModule module = new SimpleModule();\r\n\t\t\tmodule.addSerializer(Symbol.class, new SymbolJsonSerializer());\r\n\t\t\tmapper.registerModule(module); \r\n\r\n            //only convert non-null field, option...\r\n\t\t\tmapper.setSerializationInclusion(Include.NON_NULL); \r\n\t\t\t \r\n\t\t\tString jsonString = mapper.writeValueAsString(symbolList);\r\n \r\n```","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can write a serialize class to do that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Symbol\n\n{\n     private String symbol;\n\n     private String name;\n\n     public String getSymbol() {\n        return symbol;\n    }\n    public void setSymbol(String symbol) {\n        this.symbol = symbol;\n    }    \n    public String getName() {\n        return name;\n    }    \n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SymbolJsonSerializer extends JsonSerializer&lt;Symbol&gt; {\n\n    @Override\n    public void serialize(Symbol symbol, JsonGenerator jgen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n\n        jgen.writeStringField(\"symbol\", symbol.getSymbol());\n         //Changed name to full_name as the field name of Json string\n        jgen.writeStringField(\"full_name\", symbol.getName());\n        jgen.writeEndObject(); \n    }\n}\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>            ObjectMapper mapper = new ObjectMapper();\n\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(Symbol.class, new SymbolJsonSerializer());\n            mapper.registerModule(module); \n\n            //only convert non-null field, option...\n            mapper.setSerializationInclusion(Include.NON_NULL); \n\n            String jsonString = mapper.writeValueAsString(symbolList);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468666458,"creation_date":1468666458,"answer_id":38410431,"question_id":8560348,"body_markdown":"They must have included this as a feature, because now setting a different `@JsonProperty` for a getter and setter results in exactly what you would expect (different property name during serialization and deserialization for the same field). Jackson version 2.6.7","title":"Different names of JSON property during serialization and deserialization","body":"<p>They must have included this as a feature, because now setting a different <code>@JsonProperty</code> for a getter and setter results in exactly what you would expect (different property name during serialization and deserialization for the same field). Jackson version 2.6.7</p>\n"},{"tags":[],"owner":{"account_id":3506256,"reputation":1117,"user_id":2931745,"display_name":"Raman Yelianevich"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485949576,"creation_date":1485949576,"answer_id":41979024,"question_id":8560348,"body_markdown":"It&#39;s possible to have normal getter/setter pair. You just need to specify access mode in `@JsonProperty`\r\n\r\nHere is unit test for that:\r\n\r\n    public class JsonPropertyTest {\r\n    \r\n      private static class TestJackson {\r\n\r\n        private String color;\r\n\r\n        @JsonProperty(value = &quot;device_color&quot;, access = JsonProperty.Access.READ_ONLY)\r\n        public String getColor() {\r\n          return color;\r\n        };\r\n\r\n        @JsonProperty(value = &quot;color&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n        public void setColor(String color) {\r\n          this.color = color;\r\n        }\r\n\r\n      }\r\n\r\n      @Test\r\n      public void shouldParseWithAccessModeSpecified() throws Exception {\r\n        String colorJson = &quot;{\\&quot;color\\&quot;:\\&quot;red\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        TestJackson colotObject = mapper.readValue(colorJson, TestJackson.class);\r\n\r\n        String ser = mapper.writeValueAsString(colotObject);\r\n        System.out.println(&quot;Serialized colotObject: &quot; + ser);\r\n      }\r\n    }\r\n\r\nI got the output as follows:\r\n\r\n    Serialized colotObject: {&quot;device_color&quot;:&quot;red&quot;}","title":"Different names of JSON property during serialization and deserialization","body":"<p>It's possible to have normal getter/setter pair. You just need to specify access mode in <code>@JsonProperty</code></p>\n\n<p>Here is unit test for that:</p>\n\n<pre><code>public class JsonPropertyTest {\n\n  private static class TestJackson {\n\n    private String color;\n\n    @JsonProperty(value = \"device_color\", access = JsonProperty.Access.READ_ONLY)\n    public String getColor() {\n      return color;\n    };\n\n    @JsonProperty(value = \"color\", access = JsonProperty.Access.WRITE_ONLY)\n    public void setColor(String color) {\n      this.color = color;\n    }\n\n  }\n\n  @Test\n  public void shouldParseWithAccessModeSpecified() throws Exception {\n    String colorJson = \"{\\\"color\\\":\\\"red\\\"}\";\n    ObjectMapper mapper = new ObjectMapper();\n    TestJackson colotObject = mapper.readValue(colorJson, TestJackson.class);\n\n    String ser = mapper.writeValueAsString(colotObject);\n    System.out.println(\"Serialized colotObject: \" + ser);\n  }\n}\n</code></pre>\n\n<p>I got the output as follows:</p>\n\n<pre><code>Serialized colotObject: {\"device_color\":\"red\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11518413,"reputation":889,"user_id":8441079,"display_name":"Asura"},"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1575629401,"creation_date":1502296837,"answer_id":45596305,"question_id":8560348,"body_markdown":"You can use `@jsonAlias` which got introduced in jackson 2.9.0\r\n\r\nExample:\r\n\r\n    public class Info {\r\n      @JsonAlias({ &quot;red&quot; })\r\n      public String r;\r\n    }\r\n\r\nThis uses `r` during serialization, but allows `red` as an alias during deserialization. This still allows `r` to be deserialized as well, though.","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use <code>@jsonAlias</code> which got introduced in jackson 2.9.0</p>\n\n<p>Example:</p>\n\n<pre><code>public class Info {\n  @JsonAlias({ \"red\" })\n  public String r;\n}\n</code></pre>\n\n<p>This uses <code>r</code> during serialization, but allows <code>red</code> as an alias during deserialization. This still allows <code>r</code> to be deserialized as well, though.</p>\n"},{"tags":[],"owner":{"account_id":1073465,"reputation":1055,"user_id":1072175,"accept_rate":100,"display_name":"Xaero Degreaz"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1659073771,"creation_date":1519753508,"answer_id":49014860,"question_id":8560348,"body_markdown":"You can use a combination of [@JsonSetter](https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsonsetter), and [@JsonGetter](https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsongetter) to control the deserialization, and serialization of your property, respectively. This will also allow you to keep standardized getter and setter method names that correspond to your actual field name.\r\n\r\n    import com.fasterxml.jackson.annotation.JsonSetter;    \r\n    import com.fasterxml.jackson.annotation.JsonGetter;\r\n    \r\n    class Coordinates {\r\n    \tprivate int red;\r\n    \r\n    \t//# Used during serialization\r\n    \t@JsonGetter(&quot;r&quot;)\r\n    \tpublic int getRed() {\r\n    \t\treturn red;\r\n    \t}\r\n    \r\n    \t//# Used during deserialization\r\n    \t@JsonSetter(&quot;red&quot;)\r\n    \tpublic void setRed(int red) {\r\n    \t\tthis.red = red;\r\n    \t}\r\n    }\r\n**Edit**: Updated the documentation links, as the `fasterxml` GitHub pages are now returning 404.","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use a combination of <a href=\"https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsonsetter\" rel=\"nofollow noreferrer\">@JsonSetter</a>, and <a href=\"https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsongetter\" rel=\"nofollow noreferrer\">@JsonGetter</a> to control the deserialization, and serialization of your property, respectively. This will also allow you to keep standardized getter and setter method names that correspond to your actual field name.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonSetter;    \nimport com.fasterxml.jackson.annotation.JsonGetter;\n\nclass Coordinates {\n    private int red;\n\n    //# Used during serialization\n    @JsonGetter(&quot;r&quot;)\n    public int getRed() {\n        return red;\n    }\n\n    //# Used during deserialization\n    @JsonSetter(&quot;red&quot;)\n    public void setRed(int red) {\n        this.red = red;\n    }\n}\n</code></pre>\n<p><strong>Edit</strong>: Updated the documentation links, as the <code>fasterxml</code> GitHub pages are now returning 404.</p>\n"},{"tags":[],"owner":{"account_id":10891961,"reputation":529,"user_id":8007430,"display_name":"Khaled"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557697543,"creation_date":1557697543,"answer_id":56103727,"question_id":8560348,"body_markdown":"I know its an old question but for me I got it working when I figured out that its conflicting with Gson library so if you are using Gson then use `@SerializedName(&quot;name&quot;)` instead of `@JsonProperty(&quot;name&quot;)` hope this helps","title":"Different names of JSON property during serialization and deserialization","body":"<p>I know its an old question but for me I got it working when I figured out that its conflicting with Gson library so if you are using Gson then use <code>@SerializedName(\"name\")</code> instead of <code>@JsonProperty(\"name\")</code> hope this helps</p>\n"},{"tags":[],"owner":{"account_id":8626891,"reputation":113,"user_id":6459849,"display_name":"Arnab Das"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591945153,"creation_date":1591945153,"answer_id":62339100,"question_id":8560348,"body_markdown":"Annotating with `@JsonAlias` which got introduced with Jackson 2.9+, without mentioning `@JsonProperty` on the item to be deserialized with more than one alias(different names for a json property) works fine.\r\n\r\n\r\nI used `com.fasterxml.jackson.annotation.JsonAlias` for package consistency with `com.fasterxml.jackson.databind.ObjectMapper` for my use-case. \r\n\r\nFor e.g.:\r\n\r\n    @Data\r\n    @Builder\r\n    public class Chair {\r\n    \r\n        @JsonAlias({&quot;woodenChair&quot;, &quot;steelChair&quot;})\r\n        private String entityType;\r\n\r\n    }\r\n    \r\n    \r\n    @Test\r\n    public void test1() {\r\n       \r\n       String str1 = &quot;{\\&quot;woodenChair\\&quot;:\\&quot;chair made of wood\\&quot;}&quot;;\r\n       System.out.println( mapper.readValue(str1, Chair.class));\r\n       String str2 = &quot;{\\&quot;steelChair\\&quot;:\\&quot;chair made of steel\\&quot;}&quot;;\r\n       System.out.println( mapper.readValue(str2, Chair.class));\r\n    \r\n    }\r\n\r\njust works fine.\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>Annotating with <code>@JsonAlias</code> which got introduced with Jackson 2.9+, without mentioning <code>@JsonProperty</code> on the item to be deserialized with more than one alias(different names for a json property) works fine.</p>\n\n<p>I used <code>com.fasterxml.jackson.annotation.JsonAlias</code> for package consistency with <code>com.fasterxml.jackson.databind.ObjectMapper</code> for my use-case. </p>\n\n<p>For e.g.:</p>\n\n<pre><code>@Data\n@Builder\npublic class Chair {\n\n    @JsonAlias({\"woodenChair\", \"steelChair\"})\n    private String entityType;\n\n}\n\n\n@Test\npublic void test1() {\n\n   String str1 = \"{\\\"woodenChair\\\":\\\"chair made of wood\\\"}\";\n   System.out.println( mapper.readValue(str1, Chair.class));\n   String str2 = \"{\\\"steelChair\\\":\\\"chair made of steel\\\"}\";\n   System.out.println( mapper.readValue(str2, Chair.class));\n\n}\n</code></pre>\n\n<p>just works fine.</p>\n"},{"tags":[],"owner":{"account_id":10652891,"reputation":478,"user_id":7843234,"accept_rate":100,"display_name":"Vitalii T"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1598013571,"creation_date":1598013005,"answer_id":63522964,"question_id":8560348,"body_markdown":"You can use this variant:\r\n \r\n\r\n    import lombok.Getter;\r\n    import com.fasterxml.jackson.annotation.JsonGetter;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    //...\r\n\r\n    @JsonProperty(value = &quot;rr&quot;) // for deserialization\r\n    @Getter(onMethod_ = {@JsonGetter(value = &quot;r&quot;)}) // for serialization\r\n    private String rrrr;\r\n\r\nwith Lombok getter\r\n\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use this variant:</p>\n<pre><code>import lombok.Getter;\nimport com.fasterxml.jackson.annotation.JsonGetter;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n//...\n\n@JsonProperty(value = &quot;rr&quot;) // for deserialization\n@Getter(onMethod_ = {@JsonGetter(value = &quot;r&quot;)}) // for serialization\nprivate String rrrr;\n</code></pre>\n<p>with Lombok getter</p>\n"},{"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636461128,"creation_date":1636460792,"answer_id":69898130,"question_id":8560348,"body_markdown":"In my case, I had to read inputs in Brazilian portuguese and generate outputs in english. \r\n\r\nSo, a workaround which worked for me was using `@JsonAlias` instead of `@JsonProperty`:\r\n\r\n```Java\r\n\r\n// pseudo-java\r\n@Value\r\npublic class User {\r\n\r\n   String username;\r\n\r\n   public User(\r\n      @JsonAlias(&quot;nome_usuario&quot;) String username) {\r\n     // ...\r\n   }\r\n\r\n}\r\n\r\n```\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>In my case, I had to read inputs in Brazilian portuguese and generate outputs in english.</p>\n<p>So, a workaround which worked for me was using <code>@JsonAlias</code> instead of <code>@JsonProperty</code>:</p>\n<pre><code>\n// pseudo-java\n@Value\npublic class User {\n\n   String username;\n\n   public User(\n      @JsonAlias(&quot;nome_usuario&quot;) String username) {\n     // ...\n   }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11624210,"reputation":731,"user_id":8514493,"display_name":"E.Big"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657648544,"creation_date":1657648544,"answer_id":72956533,"question_id":8560348,"body_markdown":"&lt;!-- language-all: lang-kotlin --&gt;\r\n\r\nFor Kotlin guys:\r\n\r\n```\r\ndata class TestClassDTO(\r\n    @JsonProperty(&quot;user_name&quot;)\r\n    val username: String\r\n)\r\n```\r\n\r\nYou will successfull handle `{&quot;user_name&quot;: &quot;John&quot;}` from POST payload in RestControllers \r\n\r\nBut when you need to serialize back with same name of @JsonProperty you can use this reflexe-approach\r\n\r\n\r\n\r\n```\r\nfun Any.forceSerialize(separator: String, sorted: Boolean = false): String {\r\n    var fieldNameToAnnotatedNameMap = this.javaClass.declaredFields.map { it.name }.associateWith { fieldName -&gt;\r\n        val jsonFieldName =\r\n            this::class.primaryConstructor?.parameters?.first { it.name == fieldName }?.annotations?.firstOrNull { it is JsonProperty }\r\n        val serializedName = if (jsonFieldName != null) (jsonFieldName as JsonProperty).value else fieldName\r\n        serializedName\r\n    }\r\n    if (sorted)\r\n        fieldNameToAnnotatedNameMap = fieldNameToAnnotatedNameMap.toList().sortedBy { (_, value) -&gt; value}.toMap()\r\n    return fieldNameToAnnotatedNameMap.entries.joinToString(separator) { e -&gt;\r\n        val field = this::class.memberProperties.first { it.name == e.key }\r\n        &quot;${e.value}=${field.javaGetter?.invoke(this)}&quot;\r\n    }\r\n}\r\n```","title":"Different names of JSON property during serialization and deserialization","body":"\n<p>For Kotlin guys:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class TestClassDTO(\n    @JsonProperty(&quot;user_name&quot;)\n    val username: String\n)\n</code></pre>\n<p>You will successfull handle <code>{&quot;user_name&quot;: &quot;John&quot;}</code> from POST payload in RestControllers</p>\n<p>But when you need to serialize back with same name of @JsonProperty you can use this reflexe-approach</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Any.forceSerialize(separator: String, sorted: Boolean = false): String {\n    var fieldNameToAnnotatedNameMap = this.javaClass.declaredFields.map { it.name }.associateWith { fieldName -&gt;\n        val jsonFieldName =\n            this::class.primaryConstructor?.parameters?.first { it.name == fieldName }?.annotations?.firstOrNull { it is JsonProperty }\n        val serializedName = if (jsonFieldName != null) (jsonFieldName as JsonProperty).value else fieldName\n        serializedName\n    }\n    if (sorted)\n        fieldNameToAnnotatedNameMap = fieldNameToAnnotatedNameMap.toList().sortedBy { (_, value) -&gt; value}.toMap()\n    return fieldNameToAnnotatedNameMap.entries.joinToString(separator) { e -&gt;\n        val field = this::class.memberProperties.first { it.name == e.key }\n        &quot;${e.value}=${field.javaGetter?.invoke(this)}&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431512,"reputation":1366,"user_id":815627,"accept_rate":50,"display_name":"mdev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661211580,"creation_date":1661211580,"answer_id":73451972,"question_id":8560348,"body_markdown":"Use both JsonAlias and JsonProperty on the attribute.\r\n\r\n    data class PayoutMethodCard(\r\n        @JsonProperty(&quot;payment_account_id&quot;)\r\n        @JsonAlias(&quot;payout_account_id&quot;)\r\n        val payoutAccountId: Long\r\n    )\r\n\r\nIn this case `paymentAccountId` can serialized from JSON either by `payment_account_id` or by `payout_account_id`, but when deserialized back to JSON JSONProperty will be used, and `payment_account_id` will be used.","title":"Different names of JSON property during serialization and deserialization","body":"<p>Use both JsonAlias and JsonProperty on the attribute.</p>\n<pre><code>data class PayoutMethodCard(\n    @JsonProperty(&quot;payment_account_id&quot;)\n    @JsonAlias(&quot;payout_account_id&quot;)\n    val payoutAccountId: Long\n)\n</code></pre>\n<p>In this case <code>paymentAccountId</code> can serialized from JSON either by <code>payment_account_id</code> or by <code>payout_account_id</code>, but when deserialized back to JSON JSONProperty will be used, and <code>payment_account_id</code> will be used.</p>\n"}],"owner":{"account_id":396500,"reputation":2375,"user_id":760085,"accept_rate":50,"display_name":"kiRach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310232,"favorite_count":0,"down_vote_count":0,"up_vote_count":212,"accepted_answer_id":8560615,"answer_count":14,"score":212,"last_activity_date":1661211580,"creation_date":1324292509,"question_id":8560348,"body_markdown":"Is it possible: to have one field in class, but different names for it during serialization/deserialization in Jackson library?\r\n\r\nFor example, I have class &quot;Coordiantes&quot;.\r\n    \r\n    class Coordinates{\r\n      int red;\r\n    }\r\n\r\nFor deserialization from JSON want to have format like this:\r\n    \r\n    {\r\n      &quot;red&quot;:12\r\n    }\r\n\r\nBut when I will serialize object, result should be like this one:\r\n   \r\n    {\r\n      &quot;r&quot;:12\r\n    }\r\n\r\nI tried to implement this by applying `@JsonProperty` annotation both on getter and setter (with different values):\r\n    \r\n    class Coordiantes{\r\n        int red;\r\n       \r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getRed() {\r\n          return red;\r\n        }\r\n\r\n        @JsonProperty(&quot;red&quot;)\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n    }\r\nbut I got an exception:\r\n     \r\n&gt;org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field &quot;red&quot;\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>Is it possible: to have one field in class, but different names for it during serialization/deserialization in Jackson library?</p>\n\n<p>For example, I have class \"Coordiantes\".</p>\n\n<pre><code>class Coordinates{\n  int red;\n}\n</code></pre>\n\n<p>For deserialization from JSON want to have format like this:</p>\n\n<pre><code>{\n  \"red\":12\n}\n</code></pre>\n\n<p>But when I will serialize object, result should be like this one:</p>\n\n<pre><code>{\n  \"r\":12\n}\n</code></pre>\n\n<p>I tried to implement this by applying <code>@JsonProperty</code> annotation both on getter and setter (with different values):</p>\n\n<pre><code>class Coordiantes{\n    int red;\n\n    @JsonProperty(\"r\")\n    public byte getRed() {\n      return red;\n    }\n\n    @JsonProperty(\"red\")\n    public void setRed(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n\n<p>but I got an exception:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field \"red\"</p>\n</blockquote>\n"},{"tags":["java","jsp","java-ee-6","jsp-tags"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1661186398,"post_id":73448309,"comment_id":129706796,"body_markdown":"have you tried `List[i].name`?","body":"have you tried <code>List[i].name</code>?"},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1661186705,"post_id":73448309,"comment_id":129706907,"body_markdown":"@f1sh I don&#39;t understand how but it worked because I&#39;m using an arraylist, so I&#39;m suppose to use get() to get the arraylist that I want. If you want you can submit the answer and thanks &lt;3","body":"@f1sh I don&#39;t understand how but it worked because I&#39;m using an arraylist, so I&#39;m suppose to use get() to get the arraylist that I want. If you want you can submit the answer and thanks &lt;3"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661210057,"creation_date":1661210057,"answer_id":73451849,"question_id":73448309,"body_markdown":"The problem here is the syntax. You expect to write java code in these places, however JSP expects these expression to follow the syntax of the [Expression Language](https://docs.oracle.com/javaee/6/tutorial/doc/gjddd.html) (&quot;EL&quot;).\r\n\r\nIn EL, array/List/Map elements are accessed [using brackets][1]. Properties are expected to follow the naming convention of getters, so `.name` will internally be translated to `getName()`.\r\n\r\nOverall, your expression should be\r\n\r\n    List[i].name\r\n\r\nwhich EL evaluates one by one, eventually returning the same as `List.get(i).getName()`.\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/tutorial/doc/bnahu.html","title":"Why forEach var doesn&#39;t work as a parameter? JSP/JSTL","body":"<p>The problem here is the syntax. You expect to write java code in these places, however JSP expects these expression to follow the syntax of the <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjddd.html\" rel=\"nofollow noreferrer\">Expression Language</a> (&quot;EL&quot;).</p>\n<p>In EL, array/List/Map elements are accessed <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnahu.html\" rel=\"nofollow noreferrer\">using brackets</a>. Properties are expected to follow the naming convention of getters, so <code>.name</code> will internally be translated to <code>getName()</code>.</p>\n<p>Overall, your expression should be</p>\n<pre><code>List[i].name\n</code></pre>\n<p>which EL evaluates one by one, eventually returning the same as <code>List.get(i).getName()</code>.</p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451849,"answer_count":1,"score":0,"last_activity_date":1661210057,"creation_date":1661185919,"question_id":73448309,"body_markdown":"    &lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;${List.size()}&quot;&gt;\r\n      &lt;option value=&quot;2&quot; selected&gt;\r\n        ${List.get(i).getName()}\r\n      &lt;/option&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nMy arraylist (List) works and also the forEach, but I don&#39;t understand why the var **i** is not able to reach as a **parameter** for the function **get()**. But if I use it like **${i}** it works, also if I want to print **${List.get(0).getName()}** sending a number as a paramether it works.\r\n\r\nSo my question is why **&quot;i&quot;** doesn&#39;t work when is used as a parameter to get the list that I want.\r\n\r\nI also tried these:\r\n\r\n    &lt;c:out value=&quot;${List.get(i).getName()}&quot;/&gt;\r\n\r\n    &lt;%=List.get(i).getName()%&gt;","title":"Why forEach var doesn&#39;t work as a parameter? JSP/JSTL","body":"<pre><code>&lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;${List.size()}&quot;&gt;\n  &lt;option value=&quot;2&quot; selected&gt;\n    ${List.get(i).getName()}\n  &lt;/option&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>My arraylist (List) works and also the forEach, but I don't understand why the var <strong>i</strong> is not able to reach as a <strong>parameter</strong> for the function <strong>get()</strong>. But if I use it like <strong>${i}</strong> it works, also if I want to print <strong>${List.get(0).getName()}</strong> sending a number as a paramether it works.</p>\n<p>So my question is why <strong>&quot;i&quot;</strong> doesn't work when is used as a parameter to get the list that I want.</p>\n<p>I also tried these:</p>\n<pre><code>&lt;c:out value=&quot;${List.get(i).getName()}&quot;/&gt;\n\n&lt;%=List.get(i).getName()%&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jwt"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":2,"creation_date":1661221009,"post_id":73451841,"comment_id":129714267,"body_markdown":"The error is self explanatory. Where&#39;s your `Jwt.secret`?","body":"The error is self explanatory. Where&#39;s your <code>Jwt.secret</code>?"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":2,"creation_date":1661233277,"post_id":73451841,"comment_id":129715979,"body_markdown":"Looks like in your `JwtProvider` you have something like `@Value(&quot;${Jwt.secret}&quot;)`, and something&#39;s wrong with the placeholder here. maybe you don&#39;t have this property or its name is incorrect, or you defined a static field which cannot be processed by Spring","body":"Looks like in your <code>JwtProvider</code> you have something like <code>@Value(&quot;${Jwt.secret}&quot;)</code>, and something&#39;s wrong with the placeholder here. maybe you don&#39;t have this property or its name is incorrect, or you defined a static field which cannot be processed by Spring"},{"owner":{"account_id":25196252,"reputation":43,"user_id":19035739,"display_name":"Valente Zunino"},"score":1,"creation_date":1661275471,"post_id":73451841,"comment_id":129731825,"body_markdown":"It was a error in my application.properties where Jwt.secret and Jwt.expiration where misspelled, that resolved everything else. Thanks you so much for taking the time to help me.","body":"It was a error in my application.properties where Jwt.secret and Jwt.expiration where misspelled, that resolved everything else. Thanks you so much for taking the time to help me."}],"owner":{"account_id":25196252,"reputation":43,"user_id":19035739,"display_name":"Valente Zunino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661209958,"creation_date":1661209958,"question_id":73451841,"body_markdown":"Im having problems with my project in Java, making some Login with Jwt, below you can see the error thats throws me, really trying everything that see on the internet but nothing works for me.\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through field &#39;jwtProvider&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtProvider&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtProvider&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;&gt;\r\n\r\n\r\n\r\nHere there is the JwtTokenFilter.java\r\n\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n    private final static Logger logger = LoggerFactory.getLogger(JwtProvider.class);\r\n\r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServiceImpl;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n            String token = getToken(request);\r\n            if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\r\n                String nombreUsuario = jwtProvider.getNombreUsuarioFromToken(token);\r\n                UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(nombreUsuario);\r\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\r\n                        null, userDetails.getAuthorities());\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        } catch (UsernameNotFoundException e) {\r\n            logger.error(&quot;Fallo el metodo doFilterInternal&quot;);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n    \r\n    private String getToken(HttpServletRequest request){\r\n    String header = request.getHeader(&quot;Authorization&quot;);\r\n    if(header != null &amp;&amp; header.startsWith(&quot;Bearer&quot;))\r\n           return header.replace(&quot;Bearer&quot;,&quot;&quot;);\r\n      return null;\r\n    }\r\n\r\n}`\r\n\r\n\r\n\r\n\r\nMainSecurity.java\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MainSecurity extends WebSecurityConfigurerAdapter{\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServicesImpl;\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter(){\r\n        return new JwtTokenFilter();\r\n    }\r\n    \r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n        return super.authenticationManager();\r\n    }\r\n    \r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsServicesImpl).passwordEncoder(passwordEncoder());\r\n    }\r\n    \r\n    \r\n    \r\n}`\r\n\r\n\r\n","title":"Error with beans.factory, JwtProvider &amp; Jwt.secret","body":"<p>Im having problems with my project in Java, making some Login with Jwt, below you can see the error thats throws me, really trying everything that see on the internet but nothing works for me.</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'jwtProvider'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtProvider': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtProvider': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;&gt;</p>\n</blockquote>\n<p>Here there is the JwtTokenFilter.java</p>\n<p>public class JwtTokenFilter extends OncePerRequestFilter {</p>\n<pre><code>private final static Logger logger = LoggerFactory.getLogger(JwtProvider.class);\n\n@Autowired\nJwtProvider jwtProvider;\n@Autowired\nUserDetailsImpl userDetailsServiceImpl;\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try {\n        String token = getToken(request);\n        if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\n            String nombreUsuario = jwtProvider.getNombreUsuarioFromToken(token);\n            UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(nombreUsuario);\n            UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\n                    null, userDetails.getAuthorities());\n            SecurityContextHolder.getContext().setAuthentication(auth);\n        }\n    } catch (UsernameNotFoundException e) {\n        logger.error(&quot;Fallo el metodo doFilterInternal&quot;);\n    }\n    filterChain.doFilter(request, response);\n}\n\nprivate String getToken(HttpServletRequest request){\nString header = request.getHeader(&quot;Authorization&quot;);\nif(header != null &amp;&amp; header.startsWith(&quot;Bearer&quot;))\n       return header.replace(&quot;Bearer&quot;,&quot;&quot;);\n  return null;\n}\n</code></pre>\n<p>}`</p>\n<p>MainSecurity.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MainSecurity extends WebSecurityConfigurerAdapter{\n@Autowired\nUserDetailsImpl userDetailsServicesImpl;\n@Autowired\nJwtEntryPoint jwtEntryPoint;\n\n@Bean\npublic JwtTokenFilter jwtTokenFilter(){\n    return new JwtTokenFilter();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder(){\n    return new BCryptPasswordEncoder();\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\n            .and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n\n@Override\nprotected AuthenticationManager authenticationManager() throws Exception {\n    return super.authenticationManager();\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsServicesImpl).passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","tomcat","jackson","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661209728,"creation_date":1661209728,"answer_id":73451826,"question_id":73426791,"body_markdown":"**Short answer**: META-INF/services.\r\n\r\n**Longer answer**: Jackson defines [Module class][1] which is used as a [service][2] (defined in META-INF/services) loaded by a standard ServiceLoader mechanism. Jackson defines \r\na static [method loading][3] all `Modules` and the Jackson `jackson-datatype-java8` module defines the [proper service][4]. \r\n\r\nJersey just [uses][5] the Jackson service-finding routine to [register the module][6].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/Module.java\r\n  [2]: https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1104\r\n  [3]: https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1088\r\n  [4]: https://github.com/FasterXML/jackson-modules-java8/blob/jackson-modules-java8-2.13.3/datatypes/src/main/resources/META-INF/services/com.fasterxml.jackson.databind.Module\r\n  [5]: https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L76\r\n  [6]: https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L62","title":"(Why) is Jdk8Module registering &quot;itself&quot;?","body":"<p><strong>Short answer</strong>: META-INF/services.</p>\n<p><strong>Longer answer</strong>: Jackson defines <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/Module.java\" rel=\"nofollow noreferrer\">Module class</a> which is used as a <a href=\"https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1104\" rel=\"nofollow noreferrer\">service</a> (defined in META-INF/services) loaded by a standard ServiceLoader mechanism. Jackson defines\na static <a href=\"https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1088\" rel=\"nofollow noreferrer\">method loading</a> all <code>Modules</code> and the Jackson <code>jackson-datatype-java8</code> module defines the <a href=\"https://github.com/FasterXML/jackson-modules-java8/blob/jackson-modules-java8-2.13.3/datatypes/src/main/resources/META-INF/services/com.fasterxml.jackson.databind.Module\" rel=\"nofollow noreferrer\">proper service</a>.</p>\n<p>Jersey just <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L76\" rel=\"nofollow noreferrer\">uses</a> the Jackson service-finding routine to <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L62\" rel=\"nofollow noreferrer\">register the module</a>.</p>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451826,"answer_count":1,"score":0,"last_activity_date":1661209728,"creation_date":1660999386,"question_id":73426791,"body_markdown":"I have an implementation using Tomcat v10.0.x and org.glassfish.jersey.* in version 3.0.5 to provide a web service. Initially, I had problems returning response Objects as `MediaType.APPLICATION_JSON` whenever they hat Attributes/Getters that are `Optional`.\r\n\r\nOnce I added jackson-datatype-jdk8 2.13.3 based on [this][1] question, everything started to work fine.\r\n\r\nI am confused, though. I did not register `Jdk8Module` because I am not actively creating a `Client` instance. As far as I believe to understand the inner workings of Jersey as JAX-RS implementation, the `@POST` annotations I am using are responsible for handling Client objects. It might also be Tomcat. On the web there is a big gap between simple howtos with little explanation, and in-depth documentation that is hard to understand.\r\n\r\nWhere is Jdk8Module registered, and how, and why, or not at all? Simply speaking, why does my code work?\r\n\r\n  [1]: https://stackoverflow.com/questions/40038232/how-to-map-java-util-optional-with-jersey-client","title":"(Why) is Jdk8Module registering &quot;itself&quot;?","body":"<p>I have an implementation using Tomcat v10.0.x and org.glassfish.jersey.* in version 3.0.5 to provide a web service. Initially, I had problems returning response Objects as <code>MediaType.APPLICATION_JSON</code> whenever they hat Attributes/Getters that are <code>Optional</code>.</p>\n<p>Once I added jackson-datatype-jdk8 2.13.3 based on <a href=\"https://stackoverflow.com/questions/40038232/how-to-map-java-util-optional-with-jersey-client\">this</a> question, everything started to work fine.</p>\n<p>I am confused, though. I did not register <code>Jdk8Module</code> because I am not actively creating a <code>Client</code> instance. As far as I believe to understand the inner workings of Jersey as JAX-RS implementation, the <code>@POST</code> annotations I am using are responsible for handling Client objects. It might also be Tomcat. On the web there is a big gap between simple howtos with little explanation, and in-depth documentation that is hard to understand.</p>\n<p>Where is Jdk8Module registered, and how, and why, or not at all? Simply speaking, why does my code work?</p>\n"},{"tags":["java","jackson","jax-rs","quarkus","objectmapper"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1661222748,"post_id":73448216,"comment_id":129714473,"body_markdown":"Probably because you&#39;re reading the stream. I don&#39;t know what a `CloseShieldInputStream` is but I&#39;m assuming, like most InputStreams, it can only be read once.","body":"Probably because you&#39;re reading the stream. I don&#39;t know what a <code>CloseShieldInputStream</code> is but I&#39;m assuming, like most InputStreams, it can only be read once."},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661230829,"post_id":73448216,"comment_id":129715562,"body_markdown":"@PaulSamsotha then I would be getting Stream is closed error not the 400 Bad Request error.","body":"@PaulSamsotha then I would be getting Stream is closed error not the 400 Bad Request error."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661263971,"post_id":73448216,"comment_id":129727336,"body_markdown":"You will get a 400 with any exception that occurs with the Jackson JSON provider","body":"You will get a 400 with any exception that occurs with the Jackson JSON provider"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264231,"post_id":73448216,"comment_id":129727468,"body_markdown":"@PaulSamsotha But if I remove the filter it works fine for the proper json means json without any validation errors .. so I want to know what&#39;s causing this issue ..","body":"@PaulSamsotha But if I remove the filter it works fine for the proper json means json without any validation errors .. so I want to know what&#39;s causing this issue .."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264383,"post_id":73448216,"comment_id":129727535,"body_markdown":"I told you already. The stream is read by your filter. That&#39;s what&#39;s causing the error. Why would you expect it to _not_ work without the filter?","body":"I told you already. The stream is read by your filter. That&#39;s what&#39;s causing the error. Why would you expect it to <i>not</i> work without the filter?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264723,"post_id":73448216,"comment_id":129727682,"body_markdown":"If I don&#39;t use CloseShieldInputStream  then hitting filter second time causes Stream is closed in the logs. CloseShieldInputStream   prevents this Stream getting closes as it Proxy stream that prevents the underlying input stream from being closed.","body":"If I don&#39;t use CloseShieldInputStream  then hitting filter second time causes Stream is closed in the logs. CloseShieldInputStream   prevents this Stream getting closes as it Proxy stream that prevents the underlying input stream from being closed."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264759,"post_id":73448216,"comment_id":129727693,"body_markdown":"Closed and consumed are two different things. Can you verify it&#39;s not empty by the time it gets to the provider?","body":"Closed and consumed are two different things. Can you verify it&#39;s not empty by the time it gets to the provider?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264808,"post_id":73448216,"comment_id":129727714,"body_markdown":"Filter is needed to log json mapping errors if any. I am saying if I don&#39;t use filter just to test whether my request is fine or not it works fine with the proper request and removing the filter...","body":"Filter is needed to log json mapping errors if any. I am saying if I don&#39;t use filter just to test whether my request is fine or not it works fine with the proper request and removing the filter..."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264871,"post_id":73448216,"comment_id":129727734,"body_markdown":"I don&#39;t get what you don&#39;t understand about what I&#39;m saying.","body":"I don&#39;t get what you don&#39;t understand about what I&#39;m saying."},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264900,"post_id":73448216,"comment_id":129727745,"body_markdown":"ok so how can I verify if the request is empty or not in this filter .. I mean which method I can use in this case to find if request is empty or not in the filter..","body":"ok so how can I verify if the request is empty or not in this filter .. I mean which method I can use in this case to find if request is empty or not in the filter.."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264965,"post_id":73448216,"comment_id":129727774,"body_markdown":"Put a breakpoint in the provider I guess.","body":"Put a breakpoint in the provider I guess."},{"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"score":0,"creation_date":1662187832,"post_id":73448216,"comment_id":129952376,"body_markdown":"try adding `catch (JsonProcessingException e)` for any Jackson JSON provider exception/errors/. maybe convert that `InputStream` to a non-stream right away before you convert it to another object.","body":"try adding <code>catch (JsonProcessingException e)</code> for any Jackson JSON provider exception/errors/. maybe convert that <code>InputStream</code> to a non-stream right away before you convert it to another object."}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661208416,"creation_date":1661185503,"question_id":73448216,"body_markdown":"I am implementing a filter to find out any json mapping or parsing issues using ContainerRequestFilter interface. It logs error for all json parsing or mapping issues but for request which doesn&#39;t have any json validation issues it throws 400 Bad request. If I remove the filter from the code it works fine for proper json request. Below is the code for the same ..\r\n\r\n     @Provider\r\n     public class AppFilter implements ContainerRequestFilter {\r\n      private static final Logger LOG = Logger.getLogger(AppFilter.class);\r\n    \r\n\t  @Inject\r\n\t  ObjectMapper objectMapper;\r\n\t    \r\n     @Override\r\n     public void filter(ContainerRequestContext context) throws IOException {\r\n       \r\n       try(InputStream stream = new CloseShieldInputStream(context.getEntityStream())) {\r\n           objectMapper.readValue(stream,AppRequest.class);\r\n          }catch(Exception ex) {\r\n          \tLOG.error(ExceptionUtils.getRootCauseMessage(ex));\r\n          }\r\n        }\r\n      }\r\n\r\n\t@Path(&quot;/app&quot;)\r\n    public class MatchResource {\r\n\t@POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Uni&lt;Response&gt; processRequest(AppRequest request,\r\n                                            @Context SecurityContext securityContext) {\r\n        String tranId = UUID.randomUUID().toString();\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.now(TIME_ZONE_ID);\r\n        return Uni.createFrom().item(request)\r\n                .onItem().invoke(() -&gt; {\r\n                    Set&lt;ConstraintViolation&lt;AppRequest&gt;&gt; violations = validator.validate(request);\r\n                    if (!violations.isEmpty()) {\r\n                        throw new RequestViolationsException(violations, \r\n       request.header.applicationReferenceId);\r\n                    }\r\n\t  }).onFailure()\r\n                .transform(t -&gt; \tLOG.error(ExceptionUtils.getRootCauseMessage(t)));\r\n    }\r\n\r\nLet me know if I am missing anything in this ..","title":"ContainerRequestFilter throwing 400 Bad Request on proper json request","body":"<p>I am implementing a filter to find out any json mapping or parsing issues using ContainerRequestFilter interface. It logs error for all json parsing or mapping issues but for request which doesn't have any json validation issues it throws 400 Bad request. If I remove the filter from the code it works fine for proper json request. Below is the code for the same ..</p>\n<pre><code> @Provider\n public class AppFilter implements ContainerRequestFilter {\n  private static final Logger LOG = Logger.getLogger(AppFilter.class);\n\n  @Inject\n  ObjectMapper objectMapper;\n    \n @Override\n public void filter(ContainerRequestContext context) throws IOException {\n   \n   try(InputStream stream = new CloseShieldInputStream(context.getEntityStream())) {\n       objectMapper.readValue(stream,AppRequest.class);\n      }catch(Exception ex) {\n        LOG.error(ExceptionUtils.getRootCauseMessage(ex));\n      }\n    }\n  }\n\n@Path(&quot;/app&quot;)\npublic class MatchResource {\n@POST\n@Produces(MediaType.APPLICATION_JSON)\npublic Uni&lt;Response&gt; processRequest(AppRequest request,\n                                        @Context SecurityContext securityContext) {\n    String tranId = UUID.randomUUID().toString();\n    ZonedDateTime zonedDateTime = ZonedDateTime.now(TIME_ZONE_ID);\n    return Uni.createFrom().item(request)\n            .onItem().invoke(() -&gt; {\n                Set&lt;ConstraintViolation&lt;AppRequest&gt;&gt; violations = validator.validate(request);\n                if (!violations.isEmpty()) {\n                    throw new RequestViolationsException(violations, \n   request.header.applicationReferenceId);\n                }\n  }).onFailure()\n            .transform(t -&gt;     LOG.error(ExceptionUtils.getRootCauseMessage(t)));\n}\n</code></pre>\n<p>Let me know if I am missing anything in this ..</p>\n"},{"tags":["java","multithreading","javafx","websocket","micronaut"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1661210875,"post_id":73451671,"comment_id":129713315,"body_markdown":"Please provide an [mcve], e.g. code without redacted `...` blocks in it, that could be run via copy and paste.  Your client code doesn&#39;t appear to have any JavaFX in it, so I am guessing JavaFX is (currently) irrelevant to the question and it is OK to keep it that way if your issue isn&#39;t really related to JavaFX usage.","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. code without redacted <code>...</code> blocks in it, that could be run via copy and paste.  Your client code doesn&#39;t appear to have any JavaFX in it, so I am guessing JavaFX is (currently) irrelevant to the question and it is OK to keep it that way if your issue isn&#39;t really related to JavaFX usage."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211065,"post_id":73451671,"comment_id":129713338,"body_markdown":"Oracle [provides a WebSocket example with JavaFX](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/BinaryWebSocket/binaryWebSocket.html).  WebSocket is a low level API.  Consider using a higher level API instead, e.g. either using a built-to-purpose chat API or a generic messaging API such as Stomp.  Baeldung provides some info on using Stomp in Spring servers and clients, in [Intro to WebSockets with Spring](https://www.baeldung.com/websockets-spring) and [A Java Client for a WebSockets API](https://www.baeldung.com/websockets-api-java-spring-client).","body":"Oracle <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/BinaryWebSocket/binaryWebSocket.html\" rel=\"nofollow noreferrer\">provides a WebSocket example with JavaFX</a>.  WebSocket is a low level API.  Consider using a higher level API instead, e.g. either using a built-to-purpose chat API or a generic messaging API such as Stomp.  Baeldung provides some info on using Stomp in Spring servers and clients, in <a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">Intro to WebSockets with Spring</a> and <a href=\"https://www.baeldung.com/websockets-api-java-spring-client\" rel=\"nofollow noreferrer\">A Java Client for a WebSockets API</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211546,"post_id":73451671,"comment_id":129713403,"body_markdown":"Also, if you need it [info on Stomp](https://stomp.github.io/) and the [Stomp specifcation](https://stomp.github.io/stomp-specification-1.2.html) so that you can understand what it is.","body":"Also, if you need it <a href=\"https://stomp.github.io/\" rel=\"nofollow noreferrer\">info on Stomp</a> and the <a href=\"https://stomp.github.io/stomp-specification-1.2.html\" rel=\"nofollow noreferrer\">Stomp specifcation</a> so that you can understand what it is."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211560,"post_id":73451671,"comment_id":129713408,"body_markdown":"Another example of integrating [websockets and JavaFX](https://github.com/jewelsea/javafx-websocket-test), based on Tyrus (the predecessor to official JDK/JEE WebSocket implementations).  Here is a [console chat client and server](https://github.com/fmbenhassine/web-socket-lab) using the same web socket framework.","body":"Another example of integrating <a href=\"https://github.com/jewelsea/javafx-websocket-test\" rel=\"nofollow noreferrer\">websockets and JavaFX</a>, based on Tyrus (the predecessor to official JDK/JEE WebSocket implementations).  Here is a <a href=\"https://github.com/fmbenhassine/web-socket-lab\" rel=\"nofollow noreferrer\">console chat client and server</a> using the same web socket framework."}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661208083,"creation_date":1661208083,"question_id":73451671,"body_markdown":"So I have been trying to implement websockets based on the examples given on this example https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html  on the sverer side . I have a JavaFX client that uses the native java websocket API to connect to the server . The issue is I can&#39;t or I seem to fail to keep my client sessions alive on the server side , after connecting on javafx I get `INFO: onClose:statusCode- 1011`  after 5 seconds . \r\n\r\non the severe I have been tracking the sessions so , the session immediately closes , so I have started to think that its my client that has problems so I ended up using okhttp lib for this ,but I keep on getting the same issue of my sessions not living longer or expiring very early before any message can even be sent, below I have shared the client code and server code I have been testing with , so please can anyone help me on this if I am missing the point or something . \r\n\r\nYes , I have tried to look up for a solution on the server side to keep the session alive but you know Micronaut docs are also very shallow In practical solutions to our problems. \r\n\r\n```java\r\n// MyWebsockets.java  the server side\r\nimport io.micronaut.http.MediaType;\r\nimport io.micronaut.security.annotation.Secured;\r\nimport io.micronaut.security.rules.SecurityRule;\r\nimport io.micronaut.websocket.WebSocketBroadcaster;\r\nimport io.micronaut.websocket.WebSocketSession;\r\nimport io.micronaut.websocket.annotation.OnClose;\r\nimport io.micronaut.websocket.annotation.OnMessage;\r\nimport io.micronaut.websocket.annotation.OnOpen;\r\nimport io.micronaut.websocket.annotation.ServerWebSocket;\r\nimport org.json.JSONObject;\r\nimport org.reactivestreams.Publisher;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Collectors;\r\n@ServerWebSocket (&quot;/ws/chat/{tail}/{logs}&quot;)\r\npublic class MyWebsockets {\r\n\r\n\t\r\n\tpublic final  WebSocketBroadcaster          broadcaster;\r\n\t\r\n\r\n\tprivate final Map&lt;String, WebSocketSession&gt; sessions        = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tpublic MyWebsockets (WebSocketBroadcaster broadcaster) {\r\n\t\tthis.broadcaster = broadcaster;\r\n\t\t\r\n\t}\r\n\r\n\t@OnOpen\r\n\tpublic Publisher&lt;String&gt; onOpen (String tail, String logs, WebSocketSession session) {\r\n\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + session.getId());\r\n\t\tsessions.put(session.getId(), session);\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + sessions.size());\r\n\r\n\t\t\r\n\t\treturn broadcaster.broadcast(new JSONObject()\r\n\t\t\t\t\t\t.put(&quot;type&quot;, &quot;joined&quot;)\r\n\t\t\t\t\t\t.put(&quot;success&quot;, true)\r\n\t\t\t\t\t\t.put(&quot;logs&quot;, logs)\r\n\t\t\t\t\t\t.put(&quot;tail&quot;, tail).toString()\r\n\t\t\t\t, MediaType.APPLICATION_JSON_TYPE);\r\n\r\n\t}\r\n\r\n\t@OnMessage\r\n\tpublic Publisher&lt;String&gt; onMessage (String tail, String logs, String message, WebSocketSession session) {\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + message);\r\n\t\treturn broadcaster.broadcast(String.format(&quot;[%s] %s&quot;, logs, message),  MediaType.APPLICATION_JSON_TYPE);\r\n\t}\r\n\r\n\t@OnClose\r\n\tpublic Publisher&lt;String&gt; onClose (String tail, String logs, WebSocketSession session) {\r\n\t\tSystem.out.println(&quot;[onClose] &quot; + tail + &quot; &quot; + logs  + session.getId());\r\n\t\tsessions.remove(session.getId());\r\n\t\t\r\n\t\treturn broadcaster.broadcast(String.format(&quot;[%s] Leaving %s!&quot;, logs, tail), MediaType.APPLICATION_JSON_TYPE);\r\n\t}\r\n}\r\n\r\n```\r\nHere is the JavaFX client code :\r\n\r\n```java\r\npublic static void main (String [] s){\r\n\r\nnew Thread(() -&gt; {\r\n\r\n\t\t\tws = HttpClient\r\n\t\t\t\t\t.newHttpClient()\r\n\t\t\t\t\t.newWebSocketBuilder().connectTimeout(Duration.of(30, ChronoUnit.SECONDS))\r\n\t\t\t\t\t.buildAsync(URI.create(&quot;ws://&quot; + finalUrl +&quot;/ws/chat/room/four&quot;), new WebSocketClient())\r\n\r\n\t\t\t\t\t.join();\r\n\r\n\t\t\tws.sendText(&quot;hi&quot;,true);\r\n\t\t\twhile (true) {\r\n\t\t\t}\r\n\r\n\t\t}).start();\r\n\r\n}\r\n[...]\r\n\r\n\r\nprivate static class WebSocketClient implements WebSocket.Listener {\r\n\t\tLogger logger = Logger.getLogger(WebSocketClient.class.getName());\r\n\t\t@Override\r\n\t\tpublic void onOpen (WebSocket webSocket) {\r\n\t\t\tWebSocket.Listener.super.onOpen(webSocket);\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.TRUE;\r\n\t\t\tlogger.info(&quot;onOpen: &quot; + webSocket);\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onText (WebSocket webSocket, CharSequence data, boolean last) {\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.TRUE;\r\n\t\t\tlogger.info(&quot;onText received &quot; + data);\r\n\t\t\tSystem.out.println(&quot;onText received &quot; + data);\r\n\t\t\t\r\n\t\t\treturn WebSocket.Listener.super.onText(webSocket, data, last);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onPing (WebSocket webSocket, ByteBuffer message) {\r\n\t\t\tSystem.out.println(&quot;onPing received &quot; + message);\r\n\t\t\treturn WebSocket.Listener.super.onPing(webSocket, message);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onPong (WebSocket webSocket, ByteBuffer message) {\r\n\t\t\tSystem.out.println(&quot;onPong received &quot; + message);\r\n\t\t\treturn WebSocket.Listener.super.onPong(webSocket, message);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onClose (WebSocket webSocket, int statusCode, String reason) {\r\n\r\n\t\t\tlogger.info(&quot;onClose:statusCode- &quot; + statusCode);\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.FALSE;\r\n\r\n\t\t\treturn WebSocket.Listener.super.onClose(webSocket, statusCode, reason);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onError (WebSocket webSocket, Throwable error) {\r\n\t\t\tlogger.info(&quot;Bad day! &quot; + webSocket.toString());\r\n\t\t\tWebSocket.Listener.super.onError(webSocket, error);\r\n\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n```\r\n","title":"Micronaut Web-sockets Client Session errors","body":"<p>So I have been trying to implement websockets based on the examples given on this example <a href=\"https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html</a>  on the sverer side . I have a JavaFX client that uses the native java websocket API to connect to the server . The issue is I can't or I seem to fail to keep my client sessions alive on the server side , after connecting on javafx I get <code>INFO: onClose:statusCode- 1011</code>  after 5 seconds .</p>\n<p>on the severe I have been tracking the sessions so , the session immediately closes , so I have started to think that its my client that has problems so I ended up using okhttp lib for this ,but I keep on getting the same issue of my sessions not living longer or expiring very early before any message can even be sent, below I have shared the client code and server code I have been testing with , so please can anyone help me on this if I am missing the point or something .</p>\n<p>Yes , I have tried to look up for a solution on the server side to keep the session alive but you know Micronaut docs are also very shallow In practical solutions to our problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyWebsockets.java  the server side\nimport io.micronaut.http.MediaType;\nimport io.micronaut.security.annotation.Secured;\nimport io.micronaut.security.rules.SecurityRule;\nimport io.micronaut.websocket.WebSocketBroadcaster;\nimport io.micronaut.websocket.WebSocketSession;\nimport io.micronaut.websocket.annotation.OnClose;\nimport io.micronaut.websocket.annotation.OnMessage;\nimport io.micronaut.websocket.annotation.OnOpen;\nimport io.micronaut.websocket.annotation.ServerWebSocket;\nimport org.json.JSONObject;\nimport org.reactivestreams.Publisher;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n@ServerWebSocket (&quot;/ws/chat/{tail}/{logs}&quot;)\npublic class MyWebsockets {\n\n    \n    public final  WebSocketBroadcaster          broadcaster;\n    \n\n    private final Map&lt;String, WebSocketSession&gt; sessions        = new ConcurrentHashMap&lt;&gt;();\n\n    public MyWebsockets (WebSocketBroadcaster broadcaster) {\n        this.broadcaster = broadcaster;\n        \n    }\n\n    @OnOpen\n    public Publisher&lt;String&gt; onOpen (String tail, String logs, WebSocketSession session) {\n\n        System.out.println(&quot;onOpen: &quot; + session.getId());\n        sessions.put(session.getId(), session);\n        System.out.println(&quot;onOpen: &quot; + sessions.size());\n\n        \n        return broadcaster.broadcast(new JSONObject()\n                        .put(&quot;type&quot;, &quot;joined&quot;)\n                        .put(&quot;success&quot;, true)\n                        .put(&quot;logs&quot;, logs)\n                        .put(&quot;tail&quot;, tail).toString()\n                , MediaType.APPLICATION_JSON_TYPE);\n\n    }\n\n    @OnMessage\n    public Publisher&lt;String&gt; onMessage (String tail, String logs, String message, WebSocketSession session) {\n        System.out.println(&quot;onOpen: &quot; + message);\n        return broadcaster.broadcast(String.format(&quot;[%s] %s&quot;, logs, message),  MediaType.APPLICATION_JSON_TYPE);\n    }\n\n    @OnClose\n    public Publisher&lt;String&gt; onClose (String tail, String logs, WebSocketSession session) {\n        System.out.println(&quot;[onClose] &quot; + tail + &quot; &quot; + logs  + session.getId());\n        sessions.remove(session.getId());\n        \n        return broadcaster.broadcast(String.format(&quot;[%s] Leaving %s!&quot;, logs, tail), MediaType.APPLICATION_JSON_TYPE);\n    }\n}\n\n</code></pre>\n<p>Here is the JavaFX client code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String [] s){\n\nnew Thread(() -&gt; {\n\n            ws = HttpClient\n                    .newHttpClient()\n                    .newWebSocketBuilder().connectTimeout(Duration.of(30, ChronoUnit.SECONDS))\n                    .buildAsync(URI.create(&quot;ws://&quot; + finalUrl +&quot;/ws/chat/room/four&quot;), new WebSocketClient())\n\n                    .join();\n\n            ws.sendText(&quot;hi&quot;,true);\n            while (true) {\n            }\n\n        }).start();\n\n}\n[...]\n\n\nprivate static class WebSocketClient implements WebSocket.Listener {\n        Logger logger = Logger.getLogger(WebSocketClient.class.getName());\n        @Override\n        public void onOpen (WebSocket webSocket) {\n            WebSocket.Listener.super.onOpen(webSocket);\n            WebSockets.IS_ONLINE = Boolean.TRUE;\n            logger.info(&quot;onOpen: &quot; + webSocket);\n        }\n\n\n        @Override\n        public CompletionStage&lt;?&gt; onText (WebSocket webSocket, CharSequence data, boolean last) {\n            WebSockets.IS_ONLINE = Boolean.TRUE;\n            logger.info(&quot;onText received &quot; + data);\n            System.out.println(&quot;onText received &quot; + data);\n            \n            return WebSocket.Listener.super.onText(webSocket, data, last);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onPing (WebSocket webSocket, ByteBuffer message) {\n            System.out.println(&quot;onPing received &quot; + message);\n            return WebSocket.Listener.super.onPing(webSocket, message);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onPong (WebSocket webSocket, ByteBuffer message) {\n            System.out.println(&quot;onPong received &quot; + message);\n            return WebSocket.Listener.super.onPong(webSocket, message);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onClose (WebSocket webSocket, int statusCode, String reason) {\n\n            logger.info(&quot;onClose:statusCode- &quot; + statusCode);\n            WebSockets.IS_ONLINE = Boolean.FALSE;\n\n            return WebSocket.Listener.super.onClose(webSocket, statusCode, reason);\n        }\n\n        @Override\n        public void onError (WebSocket webSocket, Throwable error) {\n            logger.info(&quot;Bad day! &quot; + webSocket.toString());\n            WebSocket.Listener.super.onError(webSocket, error);\n\n\n        }\n\n        \n    }\n</code></pre>\n"},{"tags":["java","android","debugging","textview","android-viewpager"],"comments":[{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":1,"creation_date":1618549611,"post_id":67119221,"comment_id":118639574,"body_markdown":"can you provide complete code of adapter and how you are calling it in your activity","body":"can you provide complete code of adapter and how you are calling it in your activity"},{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":0,"creation_date":1618550719,"post_id":67119221,"comment_id":118639826,"body_markdown":"Have you tried setOffscreenPageLimit (int limit) https://stackoverflow.com/a/12706211/9502601","body":"Have you tried setOffscreenPageLimit (int limit) <a href=\"https://stackoverflow.com/a/12706211/9502601\">stackoverflow.com/a/12706211/9502601</a>"}],"answers":[{"tags":[],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618602044,"creation_date":1618552950,"answer_id":67119870,"question_id":67119221,"body_markdown":"adding this snipped solved the problem, it is a must to define borders to the pager\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            ...\r\n        int size = sliderAdapter.slide_headings.length;\r\n        AktifHareket.setOffscreenPageLimit(size);","title":"TextView in SliderView text shown and text value bug [the n&#39;th TextView is returning its initialized value after changing (n+2)&#39;th textView]","body":"<p>adding this snipped solved the problem, it is a must to define borders to the pager</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n        ...\n    int size = sliderAdapter.slide_headings.length;\n    AktifHareket.setOffscreenPageLimit(size);\n</code></pre>\n"}],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67119870,"answer_count":1,"score":0,"last_activity_date":1661207932,"creation_date":1618548335,"question_id":67119221,"body_markdown":"   i have a textView in SliderView like this\r\n\r\nactivitity_slider.xml\r\n\r\n     &lt;androidx.viewpager.widget.ViewPager\r\n            android:id=&quot;@+id/slideViewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\nslide_layout.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n    \r\n        android:background=&quot;@color/white&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/HareketEkranı&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n    \r\n            &lt;androidx.cardview.widget.CardView\r\n                android:id=&quot;@+id/hareket&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                app:cardBackgroundColor=&quot;@color/white&quot;\r\n                app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/HareketResmi&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:layout_marginBottom=&quot;20dp&quot;\r\n                    android:contentDescription=&quot;Hareket&quot;/&gt;\r\n                    //android:src=&quot;@drawable/ic_armcircle&quot;\r\n                &lt;com.jjoe64.graphview.GraphView\r\n                    android:id=&quot;@+id/haraketdatasi&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    /&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/textView&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:gravity=&quot;left&quot;\r\n                            android:text=&quot;Hareket&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/darkTextColor&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/HareketAdi&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;right&quot;\r\n                            android:textAlignment=&quot;gravity&quot;\r\n                            android:gravity=&quot;right&quot;\r\n                            android:text=&quot;Armcircle&quot;\r\n                            android:textColor=&quot;@color/red&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarYazisiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom&quot;\r\n                            android:text=&quot;Tekrar&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/darkTextColor&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarSayisiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom|end&quot;\r\n                            android:text=&quot;TekrarSayisi&quot;\r\n                            android:textAlignment=&quot;gravity&quot;\r\n                            android:gravity=&quot;right&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/red&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/kesme&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;bottom|end&quot;\r\n                        android:text=&quot;/&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;24sp&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarhedefiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom|end&quot;\r\n                            android:text=&quot;25&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/black&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\n**UPDATE !**\r\n\r\nSliderAdapter.java\r\n\r\n        package gymholix.assistx;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.viewpager.widget.PagerAdapter;\r\n    \r\n    public class SliderAdapter extends PagerAdapter {\r\n    \r\n        Context context;\r\n        LayoutInflater layoutInflater;\r\n    \r\n        public SliderAdapter(Context context){\r\n            this.context = context;\r\n        }\r\n    \r\n        //Arrays\r\n        public int[] slide_images = {\r\n                R.drawable.ic_armcircle,\r\n                R.drawable.ic_ropejump,\r\n                R.drawable.ic_jumpingjack,\r\n                R.drawable.ic_burpee,\r\n                R.drawable.ic_squat\r\n        };\r\n        public String[] slide_headings = {\r\n                &quot;ArmCircle&quot;,\r\n            &quot;RopeJump&quot;,\r\n            &quot;JumpingJack&quot;,\r\n            &quot;Burpee&quot;,\r\n            &quot;Squat&quot;\r\n    };\r\n    /*public String[] tekrar_sayisi = {\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;*/\r\n    public int[] tekrar_sayisi = {\r\n            1,\r\n            2,\r\n            3,\r\n            4,\r\n            5\r\n    };\r\n\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return slide_headings.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n        return view == (RelativeLayout) object;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\r\n        View view =layoutInflater.inflate(R.layout.slide_layout, container, false);\r\n\r\n        ImageView slideImageView = (ImageView) view.findViewById(R.id.HareketResmi);\r\n        TextView slideHeading = (TextView) view.findViewById(R.id.HareketAdi);\r\n        TextView slideTekraSayisi = (TextView) view.findViewById(R.id.TekrarSayisiSlide);\r\n\r\n        slideImageView.setImageResource((slide_images[position]));\r\n        slideHeading.setText(slide_headings[position]);\r\n        slideTekraSayisi.setText(String.valueOf(tekrar_sayisi[position]));\r\n\r\n\r\n\r\n        container.addView(view);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n        public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nSlider.Java\r\n\r\n        package gymholix.assistx;\r\n    \r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.viewpager.widget.ViewPager;\r\n    \r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.text.Html;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Slider extends AppCompatActivity {\r\n    \r\n    \r\n        private LinearLayout mDotLayout;\r\n        private String asd;\r\n        private int asdf;\r\n    \r\n        TextView DenemeSayiCek;\r\n        int position;\r\n        View view;\r\n        int count;\r\n        View viewFix;\r\n        Context context;\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        private Accelerometer accelerometer;\r\n        private Gyroscope gyroscope;\r\n    \r\n        public double[] acc={3.00,2.00,1.00};\r\n        public double[] gyr={3.00,2.00,1.00};\r\n    \r\n        //Sensors---------------------------------------------------------------------------------------\r\n        //Main------------------------------------------------------------------------------------------\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Antreman antreman = new Antreman();\r\n            context = this;\r\n            setContentView(R.layout.activity_slider);\r\n    \r\n            ViewPager AktifHareket = findViewById(R.id.slideViewPager);\r\n            mDotLayout = findViewById(R.id.dotsLayout);\r\n            SliderAdapter sliderAdapter = new SliderAdapter(this);\r\n            AktifHareket.setAdapter((sliderAdapter));\r\n    \r\n            addDotsIndicator();\r\n    \r\n            //Saydir Buton------------------------------------------------------------------------------\r\n            TextView Deneme = findViewById(R.id.deneme);\r\n            TextView Deneme4 = findViewById(R.id.deneme4);\r\n        \r\n\r\n        TextView Deneme3 = findViewById(R.id.deneme3);\r\n                TextView Deneme2 = findViewById(R.id.deneme2);\r\n                Button Saydir = findViewById(R.id.SaydirSlide);\r\n                Button Saydir2 = findViewById(R.id.Saydir2Slide);\r\n                Saydir.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n    \r\n                    position = AktifHareket.getCurrentItem();\r\n                    view = AktifHareket.getChildAt(position);\r\n                    count = AktifHareket.indexOfChild(view);\r\n                    viewFix = AktifHareket.getChildAt(count);\r\n                    DenemeSayiCek = viewFix.findViewById(R.id.TekrarSayisiSlide);\r\n                    asd = DenemeSayiCek.getText().toString();\r\n                    asdf = Integer.parseInt(asd);\r\n                    asdf++;\r\n                    DenemeSayiCek.setText(String.valueOf(asdf));\r\n                    Deneme.setText(String.valueOf(asd));\r\n                    Deneme2.setText(String.valueOf(position));\r\n                    Deneme3.setText(String.valueOf(asdf));\r\n                    Deneme4.setText(String.valueOf(SliderAdapter.POSITION_NONE));\r\n    \r\n                }\r\n            });\r\n    \r\n            //Saydir Buton------------------------------------------------------------------------------\r\n            //ImageButton-------------------------------------------------------------------------------\r\n            ImageView logoImage = findViewById(R.id.logo);\r\n            logoImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    antreman.AntremanSayfasi(context);\r\n                }\r\n            });\r\n            antreman.AntremanSayfasi(context);//A&#231;ılışta Sayfayı a&#231;sın diye\r\n            //ImageButton-------------------------------------------------------------------------------\r\n            //Sensors-----------------------------------------------------------------------------------\r\n    \r\n            accelerometer = new Accelerometer(this);\r\n            gyroscope = new Gyroscope(this);\r\n            accelerometer.setListner(new Accelerometer.Listner() {\r\n                @Override\r\n                public void onTranslation(float ax, float ay, float az) {\r\n                    setAccValue(ax, ay, az);\r\n                    Antreman.GetSensorValues.OnAccelerometerChangeValues = acc;\r\n                }\r\n            });\r\n            gyroscope.setListner(new Gyroscope.Listner() {\r\n                @Override\r\n                public void onRotation(float gx, float gy, float gz) {\r\n                    setGyroValue(gx, gy, gz);\r\n                    Antreman.GetSensorValues.OnGyroscopeChangeValues = gyr;\r\n                    //OnSensorChangeValues.add(1, String.valueOf(gyr) );\r\n                }\r\n            });\r\n    /*        Saydir2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n    \r\n                }\r\n            });*/\r\n            //Sensors-----------------------------------------------------------------------------------\r\n        }\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        protected void onResume(){\r\n            super.onResume();\r\n    \r\n            accelerometer.register();\r\n            gyroscope.register();\r\n        }\r\n        protected void onPouse(){\r\n            super.onPause();\r\n            accelerometer.unregister();\r\n            gyroscope.unregister();\r\n        }\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        //SensorsValueGetAndSet-------------------------------------------------------------------------\r\n        public double[] setAccValue(float ac, float bc, float cc){\r\n            this.acc[0] = ac;\r\n            this.acc[1] = bc;\r\n            this.acc[2] = cc;\r\n            return acc;\r\n        }\r\n        public double[] setGyroValue(float qq, float wq, float eq){\r\n            this.gyr[0] = qq;\r\n            this.gyr[1] = wq;\r\n            this.gyr[2] = eq;\r\n            return gyr;\r\n        }\r\n        public void getAccValue(float ac, float bc, float cc){\r\n            ac = (float) acc[0];\r\n            bc = (float) acc[1];\r\n            cc = (float) acc[2];\r\n        }\r\n        public void getGyroValue(float qq, float wq, float eq){\r\n            qq = (float) gyr[0];\r\n            wq = (float) gyr[1];\r\n            eq = (float) gyr[2];\r\n        }\r\n        //SensorsValueGetAndSet-------------------------------------------------------------------------\r\n        public void addDotsIndicator(){\r\n            TextView[] mDots = new TextView[3];\r\n            for(int i = 0; i &lt; mDots.length; i++){\r\n                mDots[i] = new TextView(this);\r\n                mDots[i].setText(Html.fromHtml(&quot;&amp;#8226;&quot;));\r\n                mDots[i].setTextSize(35);\r\n                mDots[i].setTextColor(getResources().getColor(R.color.colorPrimaryDark));\r\n                mDotLayout.addView(mDots[i]);\r\n            }\r\n        }\r\n        //----------------------------------------------------------------------------------------------\r\n    }\r\n\r\nthe weird thing about this code is; while running the button changes the text value correctly in the first pager, and the seckond one but when it comes the third one while it changes the value it resets the first pagers shown value but the getText() method inherits the correct value but the text is frozen and it cant be changed any more, after that the other page&#39;s values cant be changed either, but the getText() method still works fine and gets the correct value.\r\n\r\n   any idea will speed up my debuging process thanx anyway...","title":"TextView in SliderView text shown and text value bug [the n&#39;th TextView is returning its initialized value after changing (n+2)&#39;th textView]","body":"<p>i have a textView in SliderView like this</p>\n<p>activitity_slider.xml</p>\n<pre><code> &lt;androidx.viewpager.widget.ViewPager\n        android:id=&quot;@+id/slideViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n</code></pre>\n<p>slide_layout.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_gravity=&quot;center&quot;\n\n    android:background=&quot;@color/white&quot;&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/HareketEkranı&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:id=&quot;@+id/hareket&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            app:cardBackgroundColor=&quot;@color/white&quot;\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/HareketResmi&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginBottom=&quot;20dp&quot;\n                android:contentDescription=&quot;Hareket&quot;/&gt;\n                //android:src=&quot;@drawable/ic_armcircle&quot;\n            &lt;com.jjoe64.graphview.GraphView\n                android:id=&quot;@+id/haraketdatasi&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                /&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/textView&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:gravity=&quot;left&quot;\n                        android:text=&quot;Hareket&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/darkTextColor&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/HareketAdi&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;right&quot;\n                        android:textAlignment=&quot;gravity&quot;\n                        android:gravity=&quot;right&quot;\n                        android:text=&quot;Armcircle&quot;\n                        android:textColor=&quot;@color/red&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarYazisiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom&quot;\n                        android:text=&quot;Tekrar&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/darkTextColor&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarSayisiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom|end&quot;\n                        android:text=&quot;TekrarSayisi&quot;\n                        android:textAlignment=&quot;gravity&quot;\n                        android:gravity=&quot;right&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/red&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/kesme&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;bottom|end&quot;\n                    android:text=&quot;/&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24sp&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarhedefiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom|end&quot;\n                        android:text=&quot;25&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>UPDATE !</strong></p>\n<p>SliderAdapter.java</p>\n<pre><code>    package gymholix.assistx;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.viewpager.widget.PagerAdapter;\n\npublic class SliderAdapter extends PagerAdapter {\n\n    Context context;\n    LayoutInflater layoutInflater;\n\n    public SliderAdapter(Context context){\n        this.context = context;\n    }\n\n    //Arrays\n    public int[] slide_images = {\n            R.drawable.ic_armcircle,\n            R.drawable.ic_ropejump,\n            R.drawable.ic_jumpingjack,\n            R.drawable.ic_burpee,\n            R.drawable.ic_squat\n    };\n    public String[] slide_headings = {\n            &quot;ArmCircle&quot;,\n        &quot;RopeJump&quot;,\n        &quot;JumpingJack&quot;,\n        &quot;Burpee&quot;,\n        &quot;Squat&quot;\n};\n/*public String[] tekrar_sayisi = {\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;*/\npublic int[] tekrar_sayisi = {\n        1,\n        2,\n        3,\n        4,\n        5\n};\n\n\n\n@Override\npublic int getCount() {\n    return slide_headings.length;\n}\n\n@Override\npublic boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n    return view == (RelativeLayout) object;\n}\n@NonNull\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, int position) {\n    layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\n    View view =layoutInflater.inflate(R.layout.slide_layout, container, false);\n\n    ImageView slideImageView = (ImageView) view.findViewById(R.id.HareketResmi);\n    TextView slideHeading = (TextView) view.findViewById(R.id.HareketAdi);\n    TextView slideTekraSayisi = (TextView) view.findViewById(R.id.TekrarSayisiSlide);\n\n    slideImageView.setImageResource((slide_images[position]));\n    slideHeading.setText(slide_headings[position]);\n    slideTekraSayisi.setText(String.valueOf(tekrar_sayisi[position]));\n\n\n\n    container.addView(view);\n\n    return view;\n}\n\n@Override\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n\n    }\n\n}\n</code></pre>\n<p>Slider.Java</p>\n<pre><code>    package gymholix.assistx;\n\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager.widget.ViewPager;\n\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Slider extends AppCompatActivity {\n\n\n    private LinearLayout mDotLayout;\n    private String asd;\n    private int asdf;\n\n    TextView DenemeSayiCek;\n    int position;\n    View view;\n    int count;\n    View viewFix;\n    Context context;\n    //Sensors---------------------------------------------------------------------------------------\n    private Accelerometer accelerometer;\n    private Gyroscope gyroscope;\n\n    public double[] acc={3.00,2.00,1.00};\n    public double[] gyr={3.00,2.00,1.00};\n\n    //Sensors---------------------------------------------------------------------------------------\n    //Main------------------------------------------------------------------------------------------\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Antreman antreman = new Antreman();\n        context = this;\n        setContentView(R.layout.activity_slider);\n\n        ViewPager AktifHareket = findViewById(R.id.slideViewPager);\n        mDotLayout = findViewById(R.id.dotsLayout);\n        SliderAdapter sliderAdapter = new SliderAdapter(this);\n        AktifHareket.setAdapter((sliderAdapter));\n\n        addDotsIndicator();\n\n        //Saydir Buton------------------------------------------------------------------------------\n        TextView Deneme = findViewById(R.id.deneme);\n        TextView Deneme4 = findViewById(R.id.deneme4);\n    \n\n    TextView Deneme3 = findViewById(R.id.deneme3);\n            TextView Deneme2 = findViewById(R.id.deneme2);\n            Button Saydir = findViewById(R.id.SaydirSlide);\n            Button Saydir2 = findViewById(R.id.Saydir2Slide);\n            Saydir.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                position = AktifHareket.getCurrentItem();\n                view = AktifHareket.getChildAt(position);\n                count = AktifHareket.indexOfChild(view);\n                viewFix = AktifHareket.getChildAt(count);\n                DenemeSayiCek = viewFix.findViewById(R.id.TekrarSayisiSlide);\n                asd = DenemeSayiCek.getText().toString();\n                asdf = Integer.parseInt(asd);\n                asdf++;\n                DenemeSayiCek.setText(String.valueOf(asdf));\n                Deneme.setText(String.valueOf(asd));\n                Deneme2.setText(String.valueOf(position));\n                Deneme3.setText(String.valueOf(asdf));\n                Deneme4.setText(String.valueOf(SliderAdapter.POSITION_NONE));\n\n            }\n        });\n\n        //Saydir Buton------------------------------------------------------------------------------\n        //ImageButton-------------------------------------------------------------------------------\n        ImageView logoImage = findViewById(R.id.logo);\n        logoImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                antreman.AntremanSayfasi(context);\n            }\n        });\n        antreman.AntremanSayfasi(context);//Açılışta Sayfayı açsın diye\n        //ImageButton-------------------------------------------------------------------------------\n        //Sensors-----------------------------------------------------------------------------------\n\n        accelerometer = new Accelerometer(this);\n        gyroscope = new Gyroscope(this);\n        accelerometer.setListner(new Accelerometer.Listner() {\n            @Override\n            public void onTranslation(float ax, float ay, float az) {\n                setAccValue(ax, ay, az);\n                Antreman.GetSensorValues.OnAccelerometerChangeValues = acc;\n            }\n        });\n        gyroscope.setListner(new Gyroscope.Listner() {\n            @Override\n            public void onRotation(float gx, float gy, float gz) {\n                setGyroValue(gx, gy, gz);\n                Antreman.GetSensorValues.OnGyroscopeChangeValues = gyr;\n                //OnSensorChangeValues.add(1, String.valueOf(gyr) );\n            }\n        });\n/*        Saydir2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n            }\n        });*/\n        //Sensors-----------------------------------------------------------------------------------\n    }\n    //Sensors---------------------------------------------------------------------------------------\n    protected void onResume(){\n        super.onResume();\n\n        accelerometer.register();\n        gyroscope.register();\n    }\n    protected void onPouse(){\n        super.onPause();\n        accelerometer.unregister();\n        gyroscope.unregister();\n    }\n    //Sensors---------------------------------------------------------------------------------------\n    //SensorsValueGetAndSet-------------------------------------------------------------------------\n    public double[] setAccValue(float ac, float bc, float cc){\n        this.acc[0] = ac;\n        this.acc[1] = bc;\n        this.acc[2] = cc;\n        return acc;\n    }\n    public double[] setGyroValue(float qq, float wq, float eq){\n        this.gyr[0] = qq;\n        this.gyr[1] = wq;\n        this.gyr[2] = eq;\n        return gyr;\n    }\n    public void getAccValue(float ac, float bc, float cc){\n        ac = (float) acc[0];\n        bc = (float) acc[1];\n        cc = (float) acc[2];\n    }\n    public void getGyroValue(float qq, float wq, float eq){\n        qq = (float) gyr[0];\n        wq = (float) gyr[1];\n        eq = (float) gyr[2];\n    }\n    //SensorsValueGetAndSet-------------------------------------------------------------------------\n    public void addDotsIndicator(){\n        TextView[] mDots = new TextView[3];\n        for(int i = 0; i &lt; mDots.length; i++){\n            mDots[i] = new TextView(this);\n            mDots[i].setText(Html.fromHtml(&quot;&amp;#8226;&quot;));\n            mDots[i].setTextSize(35);\n            mDots[i].setTextColor(getResources().getColor(R.color.colorPrimaryDark));\n            mDotLayout.addView(mDots[i]);\n        }\n    }\n    //----------------------------------------------------------------------------------------------\n}\n</code></pre>\n<p>the weird thing about this code is; while running the button changes the text value correctly in the first pager, and the seckond one but when it comes the third one while it changes the value it resets the first pagers shown value but the getText() method inherits the correct value but the text is frozen and it cant be changed any more, after that the other page's values cant be changed either, but the getText() method still works fine and gets the correct value.</p>\n<p>any idea will speed up my debuging process thanx anyway...</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649341363,"creation_date":1649341363,"answer_id":71783950,"question_id":71782621,"body_markdown":"Not able to try your code exactly, but try something like this:\r\n\r\n```java\r\npublic boolean updatePassword(String id, String data) {\r\n    final var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; /*+ staticData.getAPIToken()*/)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .retrieve()\r\n            .onStatus(\r\n                HttpStatus::isError,\r\n                error -&gt; error.bodyToMono(ErrorResponse.class)\r\n                    .map(errorResponse -&gt; {\r\n                    final var errorMsg = errorResponse.getCause().getSummary();\r\n                    if (error.statusCode().is4xxClientError()) {\r\n                      throw new HttpClientErrorException(error.statusCode(), errorMsg);\r\n                    }\r\n                    if (error.statusCode().is5xxServerError()) {\r\n                      throw new HttpServerErrorException(error.statusCode(), errorMsg);\r\n                    }\r\n                    return new HttpServerErrorException(\r\n                            HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;);\r\n                  }))\r\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n    final var response = responseSpec.block();\r\n\r\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\r\n  }\r\n```","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p>Not able to try your code exactly, but try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean updatePassword(String id, String data) {\n    final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; /*+ staticData.getAPIToken()*/)\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .retrieve()\n            .onStatus(\n                HttpStatus::isError,\n                error -&gt; error.bodyToMono(ErrorResponse.class)\n                    .map(errorResponse -&gt; {\n                    final var errorMsg = errorResponse.getCause().getSummary();\n                    if (error.statusCode().is4xxClientError()) {\n                      throw new HttpClientErrorException(error.statusCode(), errorMsg);\n                    }\n                    if (error.statusCode().is5xxServerError()) {\n                      throw new HttpServerErrorException(error.statusCode(), errorMsg);\n                    }\n                    return new HttpServerErrorException(\n                            HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;);\n                  }))\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    final var response = responseSpec.block();\n\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26133744,"reputation":26,"user_id":19824052,"display_name":"phil_stanton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661207905,"creation_date":1661207777,"answer_id":73451627,"question_id":71782621,"body_markdown":"I believe that I have found a solution. \r\n\r\nYou do want to use exchange instead of retrieve as you stated. Although, You might have been missing code and that is why it didn&#39;t work for you the first time around. \r\nBy using exchange you can inspect the return codes and write to a different response object depending on the status code. \r\n\r\nIn your case, \r\n\r\n```\r\nfinal var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .exchange()\r\n            .block()\r\n \r\n\r\nif (respsonseSpec.statusCode().is2xxSuccessful()) { \r\n  Map&lt;String, Object&gt; data = \r\n       responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;() \r\n       {}).block()\r\n    \r\n   /* handle successful response  */ \r\n\r\n} else if (responseSpec.StatusCode().is4xxClientError()){\r\n  ErrorResponse errorResponse = responseSepc.bodyToMono(ErrorResponse.class).block()\r\n\r\n  /* handle error */ \r\n}\r\n/*... other status code cases */ \r\n```\r\n\r\nHopefully this helps for deserialization to different types based on status codes\r\n\r\n","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p>I believe that I have found a solution.</p>\n<p>You do want to use exchange instead of retrieve as you stated. Although, You might have been missing code and that is why it didn't work for you the first time around.\nBy using exchange you can inspect the return codes and write to a different response object depending on the status code.</p>\n<p>In your case,</p>\n<pre><code>final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .exchange()\n            .block()\n \n\nif (respsonseSpec.statusCode().is2xxSuccessful()) { \n  Map&lt;String, Object&gt; data = \n       responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;() \n       {}).block()\n    \n   /* handle successful response  */ \n\n} else if (responseSpec.StatusCode().is4xxClientError()){\n  ErrorResponse errorResponse = responseSepc.bodyToMono(ErrorResponse.class).block()\n\n  /* handle error */ \n}\n/*... other status code cases */ \n</code></pre>\n<p>Hopefully this helps for deserialization to different types based on status codes</p>\n"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451627,"answer_count":2,"score":0,"last_activity_date":1661207905,"creation_date":1649336320,"question_id":71782621,"body_markdown":"**tbjorch**&#39;s answer led me down the right path, but one thing I discovered is I should construct the HTTP exceptions using the static `.create` methods for both `HttpClientErrorException` and `HttpServerErrorException`. If I didn&#39;t do this, all my exceptions would get thrown as just the `Exception` superclass, which was undesirable since it lost the context of the original Http status code.\r\n\r\nI am new to using Spring WebClient. The API I&#39;m implementing responds with different JSON structures based on success or failure. In the case of a failure, I want to be able to deserialize the response body and return the error message. Based on the code below, I get an error message stating:\r\n\r\n```\r\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\r\n```\r\n\r\nI agree, it doesn&#39;t make sense to block in 2 places. But I&#39;m not understanding how I can deserialize the error response to grab the error message. Everything I read on the web and StackOverflow indicates people just return `Mono.error` or throw exceptions, but they don&#39;t seem to be deserializing the response body in those scenarios. Here&#39;s my code:\r\n\r\n```\r\n  public boolean updatePassword(String id, String data) {\r\n    final var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .retrieve()\r\n            .onStatus(\r\n                HttpStatus::isError,\r\n                error -&gt; {\r\n                  final var errorResponse = error.bodyToMono(ErrorResponse.class).block();\r\n                  final var errorMsg = errorResponse.getCause().getSummary();\r\n\r\n                  if (error.statusCode().is4xxClientError()) {\r\n                    throw new HttpClientErrorException(error.statusCode(), errorMsg);\r\n                  }\r\n                  if (error.statusCode().is5xxServerError()) {\r\n                    throw new HttpServerErrorException(error.statusCode(), errorMsg);\r\n                  }\r\n                  return Mono.error(\r\n                      new HttpServerErrorException(\r\n                          HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;));\r\n                })\r\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n    final var response = responseSpec.block();\r\n\r\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\r\n  }\r\n```\r\n\r\n**PS.** I&#39;ve also tried using `.exchangeToMono` instead of `.retrieve`, so that I can inspect the response status code, and then use different types for the `.bodyToMono` function, but as soon as I write two different types between a success and failure, I get an error stating that the type argument can&#39;t be inferred.","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p><strong>tbjorch</strong>'s answer led me down the right path, but one thing I discovered is I should construct the HTTP exceptions using the static <code>.create</code> methods for both <code>HttpClientErrorException</code> and <code>HttpServerErrorException</code>. If I didn't do this, all my exceptions would get thrown as just the <code>Exception</code> superclass, which was undesirable since it lost the context of the original Http status code.</p>\n<p>I am new to using Spring WebClient. The API I'm implementing responds with different JSON structures based on success or failure. In the case of a failure, I want to be able to deserialize the response body and return the error message. Based on the code below, I get an error message stating:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\n</code></pre>\n<p>I agree, it doesn't make sense to block in 2 places. But I'm not understanding how I can deserialize the error response to grab the error message. Everything I read on the web and StackOverflow indicates people just return <code>Mono.error</code> or throw exceptions, but they don't seem to be deserializing the response body in those scenarios. Here's my code:</p>\n<pre><code>  public boolean updatePassword(String id, String data) {\n    final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .retrieve()\n            .onStatus(\n                HttpStatus::isError,\n                error -&gt; {\n                  final var errorResponse = error.bodyToMono(ErrorResponse.class).block();\n                  final var errorMsg = errorResponse.getCause().getSummary();\n\n                  if (error.statusCode().is4xxClientError()) {\n                    throw new HttpClientErrorException(error.statusCode(), errorMsg);\n                  }\n                  if (error.statusCode().is5xxServerError()) {\n                    throw new HttpServerErrorException(error.statusCode(), errorMsg);\n                  }\n                  return Mono.error(\n                      new HttpServerErrorException(\n                          HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;));\n                })\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    final var response = responseSpec.block();\n\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\n  }\n</code></pre>\n<p><strong>PS.</strong> I've also tried using <code>.exchangeToMono</code> instead of <code>.retrieve</code>, so that I can inspect the response status code, and then use different types for the <code>.bodyToMono</code> function, but as soon as I write two different types between a success and failure, I get an error stating that the type argument can't be inferred.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":26109316,"reputation":21,"user_id":19803516,"display_name":"Keenan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661207857,"creation_date":1661207857,"answer_id":73451635,"question_id":73420737,"body_markdown":"By following the example at https://github.com/Thumar/recyclerview-selection/tree/master/app\r\nI was able to get it working.  See my working code below.\r\n\r\nBut I still don&#39;t know which of the changes made it work and why.\r\n\r\nIf anyone figures out what was causing my problem, please post a comment or answer.\r\n\r\nAny and all other feedback is welcome as well.\r\n\r\nTHANKS\r\n\r\n\r\nHere&#39;s my new fragment:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.Selection;\r\nimport androidx.recyclerview.selection.SelectionPredicates;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.selection.StableIdKeyProvider;\r\nimport androidx.recyclerview.selection.StorageStrategy;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class StackSelectionFragment extends Fragment {\r\n\r\n    // TODO: Customize parameter argument names\r\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\r\n    // TODO: Customize parameters\r\n    private int mColumnCount = 1;\r\n\r\n    SelectionTracker&lt;Long&gt; tracker; //TODO: add private?\r\n\r\n    private StackSelectionListener listener;\r\n    public interface StackSelectionListener {\r\n        public void onSelectStack(String stack);\r\n    }\r\n\r\n    String selections = &quot;&quot;;\r\n\r\n\r\n    /**\r\n     * Mandatory empty constructor for the fragment manager to instantiate the\r\n     * fragment (e.g. upon screen orientation changes).\r\n     */\r\n    public StackSelectionFragment() {\r\n    }\r\n\r\n    // TODO: Customize parameter initialization\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static StackSelectionFragment newInstance(int columnCount) {\r\n        StackSelectionFragment fragment = new StackSelectionFragment();\r\n        Bundle args = new Bundle();\r\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (getArguments() != null) {\r\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\r\n        File directory = getActivity().getFilesDir();\r\n\r\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\r\n\r\n        // Set the adapter\r\n        if (view instanceof RecyclerView) {\r\n            Context context = view.getContext();\r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n            if (mColumnCount &lt;= 1) {\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n            } else {\r\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\r\n            }\r\n            MyItemRecyclerViewAdapter adapter = new MyItemRecyclerViewAdapter(filesList);\r\n            recyclerView.setAdapter(adapter);\r\n            adapter.hasStableIds();\r\n\r\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\r\n                    &quot;stack_selector&quot;,\r\n                    recyclerView,\r\n                    new StableIdKeyProvider(recyclerView),\r\n                    new MyDetailsLookup(recyclerView),\r\n                    StorageStrategy.createLongStorage()\r\n            ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\r\n            adapter.injectTracker(this.tracker);\r\n\r\n            SelectionTracker.SelectionObserver&lt;Long&gt; observer = new SelectionTracker.SelectionObserver&lt;Long&gt;() {\r\n                @Override\r\n                public void onSelectionChanged() {\r\n                    super.onSelectionChanged();\r\n\r\n                    //TODO: replace this placeholder action with something useful\r\n                    selections = &quot;&quot;;\r\n                    tracker.getSelection().forEach(item -&gt; selections += adapter.getContent(item.intValue()));//selections += item);\r\n                    //listener.onSelectStack(&quot;selections&quot;); //This causes an error???\r\n                    Context context = getContext();\r\n                    Toast toast = Toast.makeText(context, selections, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                }\r\n            };\r\n            this.tracker.addObserver(observer);\r\n        }\r\n        return view;\r\n    }\r\n\r\n    final class MyDetailsLookup extends ItemDetailsLookup {\r\n\r\n        private final RecyclerView mRecyclerView;\r\n\r\n        MyDetailsLookup(RecyclerView recyclerView) {\r\n            mRecyclerView = recyclerView;\r\n        }\r\n\r\n        public @Nullable\r\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\r\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\r\n            if (view != null) {\r\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\r\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\r\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nHere&#39;s my new adapter:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;String&gt; mValues;\r\n    private SelectionTracker&lt;Long&gt; selectionTracker;\r\n\r\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\r\n        setHasStableIds(true); //TODO: remove redundancy between this and &quot;recyclerView.getAdapter().hasStableIds()&quot; in the Fragment\r\n        mValues = items;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_stack_selection, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        String item = this.mValues.get(position);\r\n        holder.bind(item, selectionTracker.isSelected((long) position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mValues.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return (long)position;\r\n    }\r\n\r\n    public String getContent(int position) {\r\n        return mValues.get(position);\r\n    }\r\n\r\n    public void injectTracker(SelectionTracker&lt;Long&gt; tracker)\r\n    {\r\n        this.selectionTracker = tracker;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final TextView mContentView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mContentView = itemView.findViewById(R.id.content);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + &quot; &#39;&quot; + mContentView.getText() + &quot;&#39;&quot;;\r\n        }\r\n\r\n        public void bind(String item, Boolean activate) {\r\n            this.mContentView.setText(item);\r\n            itemView.setActivated(activate); //TODO: understand how &quot;itemView&quot; exists outside of the constructor\r\n        }\r\n\r\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\r\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\r\n                @Override\r\n                public int getPosition() {\r\n                    return getAbsoluteAdapterPosition();\r\n                }\r\n\r\n                @Nullable\r\n                @Override\r\n                public Long getSelectionKey() {\r\n                    return (long) getAbsoluteAdapterPosition();\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n```","title":"Why isn&#39;t onBindViewHolder getting called when I make a selection?","body":"<p>By following the example at <a href=\"https://github.com/Thumar/recyclerview-selection/tree/master/app\" rel=\"nofollow noreferrer\">https://github.com/Thumar/recyclerview-selection/tree/master/app</a>\nI was able to get it working.  See my working code below.</p>\n<p>But I still don't know which of the changes made it work and why.</p>\n<p>If anyone figures out what was causing my problem, please post a comment or answer.</p>\n<p>Any and all other feedback is welcome as well.</p>\n<p>THANKS</p>\n<p>Here's my new fragment:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.Selection;\nimport androidx.recyclerview.selection.SelectionPredicates;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.selection.StableIdKeyProvider;\nimport androidx.recyclerview.selection.StorageStrategy;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class StackSelectionFragment extends Fragment {\n\n    // TODO: Customize parameter argument names\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\n    // TODO: Customize parameters\n    private int mColumnCount = 1;\n\n    SelectionTracker&lt;Long&gt; tracker; //TODO: add private?\n\n    private StackSelectionListener listener;\n    public interface StackSelectionListener {\n        public void onSelectStack(String stack);\n    }\n\n    String selections = &quot;&quot;;\n\n\n    /**\n     * Mandatory empty constructor for the fragment manager to instantiate the\n     * fragment (e.g. upon screen orientation changes).\n     */\n    public StackSelectionFragment() {\n    }\n\n    // TODO: Customize parameter initialization\n    @SuppressWarnings(&quot;unused&quot;)\n    public static StackSelectionFragment newInstance(int columnCount) {\n        StackSelectionFragment fragment = new StackSelectionFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getArguments() != null) {\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\n        File directory = getActivity().getFilesDir();\n\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\n\n        // Set the adapter\n        if (view instanceof RecyclerView) {\n            Context context = view.getContext();\n            RecyclerView recyclerView = (RecyclerView) view;\n            if (mColumnCount &lt;= 1) {\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\n            } else {\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\n            }\n            MyItemRecyclerViewAdapter adapter = new MyItemRecyclerViewAdapter(filesList);\n            recyclerView.setAdapter(adapter);\n            adapter.hasStableIds();\n\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\n                    &quot;stack_selector&quot;,\n                    recyclerView,\n                    new StableIdKeyProvider(recyclerView),\n                    new MyDetailsLookup(recyclerView),\n                    StorageStrategy.createLongStorage()\n            ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\n            adapter.injectTracker(this.tracker);\n\n            SelectionTracker.SelectionObserver&lt;Long&gt; observer = new SelectionTracker.SelectionObserver&lt;Long&gt;() {\n                @Override\n                public void onSelectionChanged() {\n                    super.onSelectionChanged();\n\n                    //TODO: replace this placeholder action with something useful\n                    selections = &quot;&quot;;\n                    tracker.getSelection().forEach(item -&gt; selections += adapter.getContent(item.intValue()));//selections += item);\n                    //listener.onSelectStack(&quot;selections&quot;); //This causes an error???\n                    Context context = getContext();\n                    Toast toast = Toast.makeText(context, selections, Toast.LENGTH_LONG);\n                    toast.show();\n                }\n            };\n            this.tracker.addObserver(observer);\n        }\n        return view;\n    }\n\n    final class MyDetailsLookup extends ItemDetailsLookup {\n\n        private final RecyclerView mRecyclerView;\n\n        MyDetailsLookup(RecyclerView recyclerView) {\n            mRecyclerView = recyclerView;\n        }\n\n        public @Nullable\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\n            if (view != null) {\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\n                }\n            }\n            return null;\n        }\n    }\n</code></pre>\n<p>Here's my new adapter:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport java.util.List;\n\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\n\n    private final List&lt;String&gt; mValues;\n    private SelectionTracker&lt;Long&gt; selectionTracker;\n\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\n        setHasStableIds(true); //TODO: remove redundancy between this and &quot;recyclerView.getAdapter().hasStableIds()&quot; in the Fragment\n        mValues = items;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_stack_selection, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        String item = this.mValues.get(position);\n        holder.bind(item, selectionTracker.isSelected((long) position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return mValues.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return (long)position;\n    }\n\n    public String getContent(int position) {\n        return mValues.get(position);\n    }\n\n    public void injectTracker(SelectionTracker&lt;Long&gt; tracker)\n    {\n        this.selectionTracker = tracker;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public final TextView mContentView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mContentView = itemView.findViewById(R.id.content);\n        }\n\n        @Override\n        public String toString() {\n            return super.toString() + &quot; '&quot; + mContentView.getText() + &quot;'&quot;;\n        }\n\n        public void bind(String item, Boolean activate) {\n            this.mContentView.setText(item);\n            itemView.setActivated(activate); //TODO: understand how &quot;itemView&quot; exists outside of the constructor\n        }\n\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\n                @Override\n                public int getPosition() {\n                    return getAbsoluteAdapterPosition();\n                }\n\n                @Nullable\n                @Override\n                public Long getSelectionKey() {\n                    return (long) getAbsoluteAdapterPosition();\n                }\n            };\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26109316,"reputation":21,"user_id":19803516,"display_name":"Keenan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661207857,"creation_date":1660932716,"question_id":73420737,"body_markdown":"My scrolling list is displaying properly.\r\n\r\nOnBindViewHolder is called for each item in initial display and when scrolling brings new items into view.\r\n\r\nWhen I click on an item, I do see my ItemDetailsLookup and getItemDetails functions getting called, HOWEVER it doesn&#39;t call the OnBindViewHolder, and so setActivated isn&#39;t getting run.\r\n\r\nThe documentation for androidx.recyclerview.selection says &quot;... When the user selects an item the library will record that in SelectionTracker then notify RecyclerView that the state of the item has changed. This will ultimately cause the value to be rebound by way of RecyclerView.Adapter#onBindViewHolder...&quot; and I think I&#39;ve done everything up to this point, but I must have missed something...\r\n\r\nAny ideas?\r\n\r\nThanks\r\n\r\n\r\nHere&#39;s my fragment:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.SelectionPredicates;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.selection.StableIdKeyProvider;\r\nimport androidx.recyclerview.selection.StorageStrategy;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class StackSelectionFragment extends Fragment {\r\n\r\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\r\n    private int mColumnCount = 1;\r\n\r\n    static SelectionTracker&lt;Long&gt; tracker;\r\n\r\n    public StackSelectionFragment() {\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static StackSelectionFragment newInstance(int columnCount) {\r\n        StackSelectionFragment fragment = new StackSelectionFragment();\r\n        Bundle args = new Bundle();\r\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (getArguments() != null) {\r\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\r\n        File directory = getActivity().getFilesDir();\r\n\r\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\r\n\r\n        if (view instanceof RecyclerView) {\r\n            Context context = view.getContext();\r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n            if (mColumnCount &lt;= 1) {\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n            } else {\r\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\r\n            }\r\n            recyclerView.setAdapter(new MyItemRecyclerViewAdapter(filesList));\r\n            recyclerView.getAdapter().hasStableIds();\r\n\r\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\r\n                    &quot;stack_selector&quot;,\r\n                    recyclerView,\r\n                    new StableIdKeyProvider(recyclerView),\r\n                    new MyDetailsLookup(recyclerView),\r\n                    StorageStrategy.createLongStorage()\r\n                ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\r\n        }\r\n        return view;\r\n    }\r\n\r\n    final class MyDetailsLookup extends ItemDetailsLookup {\r\n\r\n        private final RecyclerView mRecyclerView;\r\n\r\n        MyDetailsLookup(RecyclerView recyclerView) {\r\n            mRecyclerView = recyclerView;\r\n        }\r\n\r\n        public @Nullable\r\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\r\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\r\n            if (view != null) {\r\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\r\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\r\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my adapter:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.smartflashcards.databinding.FragmentStackSelectionBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;String&gt; mValues;\r\n\r\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\r\n        setHasStableIds(true);\r\n        mValues = items;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n        return new ViewHolder(FragmentStackSelectionBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(final ViewHolder holder, int position) {\r\n        holder.mItem = getItemId(position);\r\n        holder.mContentView.setText(mValues.get(position));\r\n        holder.mContentView.setActivated(StackSelectionFragment.tracker.isSelected((long) position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mValues.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return (long)position;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final TextView mIdView;\r\n        public final TextView mContentView;\r\n        public Long mItem;\r\n\r\n        public ViewHolder(FragmentStackSelectionBinding binding) {\r\n            super(binding.getRoot());\r\n            mIdView = binding.itemNumber;\r\n            mContentView = binding.content;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + &quot; &#39;&quot; + mContentView.getText() + &quot;&#39;&quot;;\r\n        }\r\n\r\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\r\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\r\n                @Override\r\n                public int getPosition() {\r\n                    return getAbsoluteAdapterPosition();\r\n                }\r\n\r\n                @Nullable\r\n                @Override\r\n                public Long getSelectionKey() {\r\n                    return mItem;\r\n                }\r\n            };\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Why isn&#39;t onBindViewHolder getting called when I make a selection?","body":"<p>My scrolling list is displaying properly.</p>\n<p>OnBindViewHolder is called for each item in initial display and when scrolling brings new items into view.</p>\n<p>When I click on an item, I do see my ItemDetailsLookup and getItemDetails functions getting called, HOWEVER it doesn't call the OnBindViewHolder, and so setActivated isn't getting run.</p>\n<p>The documentation for androidx.recyclerview.selection says &quot;... When the user selects an item the library will record that in SelectionTracker then notify RecyclerView that the state of the item has changed. This will ultimately cause the value to be rebound by way of RecyclerView.Adapter#onBindViewHolder...&quot; and I think I've done everything up to this point, but I must have missed something...</p>\n<p>Any ideas?</p>\n<p>Thanks</p>\n<p>Here's my fragment:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.SelectionPredicates;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.selection.StableIdKeyProvider;\nimport androidx.recyclerview.selection.StorageStrategy;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class StackSelectionFragment extends Fragment {\n\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\n    private int mColumnCount = 1;\n\n    static SelectionTracker&lt;Long&gt; tracker;\n\n    public StackSelectionFragment() {\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public static StackSelectionFragment newInstance(int columnCount) {\n        StackSelectionFragment fragment = new StackSelectionFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getArguments() != null) {\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\n        File directory = getActivity().getFilesDir();\n\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\n\n        if (view instanceof RecyclerView) {\n            Context context = view.getContext();\n            RecyclerView recyclerView = (RecyclerView) view;\n            if (mColumnCount &lt;= 1) {\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\n            } else {\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\n            }\n            recyclerView.setAdapter(new MyItemRecyclerViewAdapter(filesList));\n            recyclerView.getAdapter().hasStableIds();\n\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\n                    &quot;stack_selector&quot;,\n                    recyclerView,\n                    new StableIdKeyProvider(recyclerView),\n                    new MyDetailsLookup(recyclerView),\n                    StorageStrategy.createLongStorage()\n                ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\n        }\n        return view;\n    }\n\n    final class MyDetailsLookup extends ItemDetailsLookup {\n\n        private final RecyclerView mRecyclerView;\n\n        MyDetailsLookup(RecyclerView recyclerView) {\n            mRecyclerView = recyclerView;\n        }\n\n        public @Nullable\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\n            if (view != null) {\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Here's my adapter:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport androidx.annotation.Nullable;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.example.smartflashcards.databinding.FragmentStackSelectionBinding;\n\nimport java.util.List;\n\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\n\n    private final List&lt;String&gt; mValues;\n\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\n        setHasStableIds(true);\n        mValues = items;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        return new ViewHolder(FragmentStackSelectionBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\n\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        holder.mItem = getItemId(position);\n        holder.mContentView.setText(mValues.get(position));\n        holder.mContentView.setActivated(StackSelectionFragment.tracker.isSelected((long) position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return mValues.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return (long)position;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public final TextView mIdView;\n        public final TextView mContentView;\n        public Long mItem;\n\n        public ViewHolder(FragmentStackSelectionBinding binding) {\n            super(binding.getRoot());\n            mIdView = binding.itemNumber;\n            mContentView = binding.content;\n        }\n\n        @Override\n        public String toString() {\n            return super.toString() + &quot; '&quot; + mContentView.getText() + &quot;'&quot;;\n        }\n\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\n                @Override\n                public int getPosition() {\n                    return getAbsoluteAdapterPosition();\n                }\n\n                @Nullable\n                @Override\n                public Long getSelectionKey() {\n                    return mItem;\n                }\n            };\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661172651,"creation_date":1661172651,"answer_id":73445421,"question_id":73445004,"body_markdown":"The &quot;leak&quot; is probably just a side effect of the exception, because the code as written is not exception-safe. Use try-with-resources to manage the ArrowRecordBatch instead of manually calling `close()`:\r\n\r\n```java\r\ntry (ArrowRecordBatch batch = unloader.getRecordBatch()) {\r\n    loader.load(batch);\r\n}\r\n```\r\n\r\n(though, depending on what `load` does, this may not be enough).\r\n\r\nI can&#39;t say much else about why you&#39;re getting the exception without seeing more code and the full stack trace.","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>The &quot;leak&quot; is probably just a side effect of the exception, because the code as written is not exception-safe. Use try-with-resources to manage the ArrowRecordBatch instead of manually calling <code>close()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (ArrowRecordBatch batch = unloader.getRecordBatch()) {\n    loader.load(batch);\n}\n</code></pre>\n<p>(though, depending on what <code>load</code> does, this may not be enough).</p>\n<p>I can't say much else about why you're getting the exception without seeing more code and the full stack trace.</p>\n"},{"tags":[],"owner":{"account_id":11996521,"reputation":56,"user_id":8777886,"display_name":"David Dali Susanibar Arce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661207650,"creation_date":1661207650,"answer_id":73451614,"question_id":73445004,"body_markdown":"Could you try with something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.apache.arrow.memory.BufferAllocator;\r\n    import org.apache.arrow.memory.RootAllocator;\r\n    import org.apache.arrow.vector.IntVector;\r\n    import org.apache.arrow.vector.VectorLoader;\r\n    import org.apache.arrow.vector.VectorSchemaRoot;\r\n    import org.apache.arrow.vector.VectorUnloader;\r\n    import org.apache.arrow.vector.ipc.message.ArrowRecordBatch;\r\n    import org.apache.arrow.vector.types.pojo.ArrowType;\r\n    import org.apache.arrow.vector.types.pojo.Field;\r\n    import org.apache.arrow.vector.types.pojo.FieldType;\r\n    import org.apache.arrow.vector.types.pojo.Schema;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.stream.Stream;\r\n\r\n    public class StackOverFlowSolved {\r\n        public static void main(String[] args) {\r\n            try(BufferAllocator allocator = new RootAllocator()){\r\n                // load data\r\n                IntVector ageColumn = new IntVector(&quot;age&quot;, allocator);\r\n                ageColumn.allocateNew();\r\n                ageColumn.set(0, 1);\r\n                ageColumn.set(1, 2);\r\n                ageColumn.set(2, 3);\r\n                ageColumn.setValueCount(3);\r\n                Stream&lt;VectorSchemaRoot&gt; streamOfVSR = Collections.singletonList(VectorSchemaRoot.of(ageColumn)).stream();\r\n\r\n                // transfer data\r\n                streamOfVSR.forEach(current -&gt; {\r\n                    Field ageLoad = new Field(&quot;age&quot;,\r\n                            FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n                    Schema schema = new Schema(Arrays.asList(ageLoad));\r\n                    try (VectorSchemaRoot root = VectorSchemaRoot.create(schema,\r\n                                 allocator.newChildAllocator(&quot;loaddata&quot;, 0, Integer.MAX_VALUE))) {\r\n                        VectorUnloader unload = new VectorUnloader(current);\r\n                        try (ArrowRecordBatch recordBatch = unload.getRecordBatch()) {\r\n                            VectorLoader loader = new VectorLoader(root);\r\n                            loader.load(recordBatch);\r\n                        }\r\n                        System.out.println(root.contentToTSVString());\r\n                    }\r\n                    current.close();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    age\r\n    1\r\n    2\r\n    3\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>Could you try with something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.apache.arrow.memory.BufferAllocator;\nimport org.apache.arrow.memory.RootAllocator;\nimport org.apache.arrow.vector.IntVector;\nimport org.apache.arrow.vector.VectorLoader;\nimport org.apache.arrow.vector.VectorSchemaRoot;\nimport org.apache.arrow.vector.VectorUnloader;\nimport org.apache.arrow.vector.ipc.message.ArrowRecordBatch;\nimport org.apache.arrow.vector.types.pojo.ArrowType;\nimport org.apache.arrow.vector.types.pojo.Field;\nimport org.apache.arrow.vector.types.pojo.FieldType;\nimport org.apache.arrow.vector.types.pojo.Schema;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.stream.Stream;\n\npublic class StackOverFlowSolved {\n    public static void main(String[] args) {\n        try(BufferAllocator allocator = new RootAllocator()){\n            // load data\n            IntVector ageColumn = new IntVector(\"age\", allocator);\n            ageColumn.allocateNew();\n            ageColumn.set(0, 1);\n            ageColumn.set(1, 2);\n            ageColumn.set(2, 3);\n            ageColumn.setValueCount(3);\n            Stream&lt;VectorSchemaRoot&gt; streamOfVSR = Collections.singletonList(VectorSchemaRoot.of(ageColumn)).stream();\n\n            // transfer data\n            streamOfVSR.forEach(current -&gt; {\n                Field ageLoad = new Field(\"age\",\n                        FieldType.nullable(new ArrowType.Int(32, true)), null);\n                Schema schema = new Schema(Arrays.asList(ageLoad));\n                try (VectorSchemaRoot root = VectorSchemaRoot.create(schema,\n                             allocator.newChildAllocator(\"loaddata\", 0, Integer.MAX_VALUE))) {\n                    VectorUnloader unload = new VectorUnloader(current);\n                    try (ArrowRecordBatch recordBatch = unload.getRecordBatch()) {\n                        VectorLoader loader = new VectorLoader(root);\n                        loader.load(recordBatch);\n                    }\n                    System.out.println(root.contentToTSVString());\n                }\n                current.close();\n            });\n        }\n    }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>age\n1\n2\n3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9499825,"reputation":1322,"user_id":7061393,"accept_rate":95,"display_name":"Pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661207650,"creation_date":1661170670,"question_id":73445004,"body_markdown":"I need to copy all of the contents of a stream of VectorSchemaRoots into a single object:\r\n\r\n    Stream&lt;VectorSchemaRoot&gt; data = fetchStream();\r\n    \r\n    VectorSchemaRoot finalResult = VectorSchemaRoot.create(schema, allocator);\r\n    VectorLoader = new VectorLoader(finalResult);\r\n    \r\n    data.forEach(current -&gt; {\r\n        VectorUnloader unloader = new VectorUnloader(current);\r\n        ArrowRecordBatch batch = unloader.getRecordBatch();\r\n        loader.load(batch);\r\n        current.close();\r\n    })\r\n\r\nHowever, I am getting the following error:\r\n\r\n    java.lang.IllegalStateException: Memory was leaked by query. Memory was leaked.\r\n\r\nAlso getting this further down the stack track:\r\n\r\n    Could not load buffers for field date: Timetamp(MILLISECOND, null) not null. error message: A buffer can only be associated between two allocators that shame the same root\r\n\r\nI use the same allocator for everything, does anyone know why I am getting this issue?\r\n\r\n","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>I need to copy all of the contents of a stream of VectorSchemaRoots into a single object:</p>\n<pre><code>Stream&lt;VectorSchemaRoot&gt; data = fetchStream();\n\nVectorSchemaRoot finalResult = VectorSchemaRoot.create(schema, allocator);\nVectorLoader = new VectorLoader(finalResult);\n\ndata.forEach(current -&gt; {\n    VectorUnloader unloader = new VectorUnloader(current);\n    ArrowRecordBatch batch = unloader.getRecordBatch();\n    loader.load(batch);\n    current.close();\n})\n</code></pre>\n<p>However, I am getting the following error:</p>\n<pre><code>java.lang.IllegalStateException: Memory was leaked by query. Memory was leaked.\n</code></pre>\n<p>Also getting this further down the stack track:</p>\n<pre><code>Could not load buffers for field date: Timetamp(MILLISECOND, null) not null. error message: A buffer can only be associated between two allocators that shame the same root\n</code></pre>\n<p>I use the same allocator for everything, does anyone know why I am getting this issue?</p>\n"},{"tags":["java","javafx","fxml","builder","scene"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1661207321,"post_id":73451527,"comment_id":129712768,"body_markdown":"I&#39;m not familiar with javafx.  But, in general, it&#39;s not enough to declare a variable&#39;s type. You have to `new` it or use other means of creating / initializing it.","body":"I&#39;m not familiar with javafx.  But, in general, it&#39;s not enough to declare a variable&#39;s type. You have to <code>new</code> it or use other means of creating / initializing it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1661207382,"post_id":73451527,"comment_id":129712778,"body_markdown":"@James You are correct in the general sense, but in JavaFX you virtually never want to manually assign `@FXML`-annotated fields (they are injected for you).","body":"@James You are correct in the general sense, but in JavaFX you virtually never want to manually assign <code>@FXML</code>-annotated fields (they are injected for you)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1661207677,"post_id":73451527,"comment_id":129712838,"body_markdown":"@DylwinTFTW The problem is you have `id=&quot;moneyCount&quot;` instead of `fx:id=&quot;moneyCount&quot;` in your FXML file. Check out [What&#39;s the difference between fx:id and id: in JavaFX?](https://stackoverflow.com/questions/23686325/whats-the-difference-between-fxid-and-id-in-javafx).","body":"@DylwinTFTW The problem is you have <code>id=&quot;moneyCount&quot;</code> instead of <code>fx:id=&quot;moneyCount&quot;</code> in your FXML file. Check out <a href=\"https://stackoverflow.com/questions/23686325/whats-the-difference-between-fxid-and-id-in-javafx\">What&#39;s the difference between fx:id and id: in JavaFX?</a>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1661212477,"post_id":73451527,"comment_id":129713533,"body_markdown":"&#39;Already declaring the variable&#39; has nothing to do with `NullPointerException`.","body":"&#39;Already declaring the variable&#39; has nothing to do with <code>NullPointerException</code>."}],"owner":{"account_id":16153781,"reputation":11,"user_id":11661486,"display_name":"DylwinTFTW"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661209220,"answer_count":0,"score":0,"last_activity_date":1661207497,"creation_date":1661206675,"question_id":73451527,"body_markdown":"I made a small program with JavaFX and Scene Builder.\r\n\r\nHere&#39;s the controller: \r\n\r\n    package com.sunflowerseedgame;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.text.Text;\r\n    \r\n    public class GameLogic {\r\n        \r\n        @FXML\r\n        private Text moneyCount;\r\n    \r\n        public static int amountOfHelper = 0; // example of a helper would be Kid\r\n        public static int amountOfSeeds = 0;\r\n        public static int amountOfShells = 0;\r\n        public static double amountOfMoney = 0;\r\n        public void GetMoney(ActionEvent e) {\r\n            amountOfMoney++;\r\n            moneyCount.setText(&quot;Money = &quot; + amountOfMoney);\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n        }\r\n    }\r\n\r\nAnd here&#39;s the FXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;?import javafx.scene.text.Text?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: green;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.sunflowerseedgame.GameLogic&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Button layoutX=&quot;85.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#GetMoney&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Obtain $1&quot; /&gt;\r\n          &lt;Button layoutX=&quot;439.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Kid - $7&quot; /&gt;\r\n          &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Grab Seed&quot; /&gt;\r\n          &lt;Button layoutX=&quot;348.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Suck Seed&quot; /&gt;\r\n          &lt;Button layoutX=&quot;234.0&quot; layoutY=&quot;341.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Bag of Seeds - $2&quot; /&gt;\r\n          &lt;Text layoutX=&quot;113.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seed Sucker&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Consolas&quot; size=&quot;62.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Text&gt;\r\n          &lt;Text layoutX=&quot;85.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seeds = 0&quot; /&gt;\r\n          &lt;Text id=&quot;moneyCount&quot; layoutX=&quot;271.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Money = 0&quot; /&gt;\r\n          &lt;Text layoutX=&quot;278.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kids = 0&quot; /&gt;\r\n          &lt;Text layoutX=&quot;454.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Shells = 0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nWhen I set the ID for moneyCount in Scene Builder, the option to so hasn&#39;t already there. This is despite me already making the variable for it. It compiles fine, but when I click the money count button I get this error:\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Text.setText(String)&quot; because &quot;this.moneyCount&quot; is null\r\n            at com.sunflowerseedgame/com.sunflowerseedgame.GameLogic.GetMoney(GameLogic.java:18)\r\n\r\n(There&#39;s more errors, but none of the other ones mention my code)\r\n\r\nDoes anyone know why I&#39;m getting this?\r\n\r\n","title":"Getting a NullPointerException with JavaFX despite already declaring the variable","body":"<p>I made a small program with JavaFX and Scene Builder.</p>\n<p>Here's the controller:</p>\n<pre><code>package com.sunflowerseedgame;\n\nimport javafx.event.ActionEvent;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.text.Text;\n\npublic class GameLogic {\n    \n    @FXML\n    private Text moneyCount;\n\n    public static int amountOfHelper = 0; // example of a helper would be Kid\n    public static int amountOfSeeds = 0;\n    public static int amountOfShells = 0;\n    public static double amountOfMoney = 0;\n    public void GetMoney(ActionEvent e) {\n        amountOfMoney++;\n        moneyCount.setText(&quot;Money = &quot; + amountOfMoney);\n    }\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n<p>And here's the FXML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: green;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.sunflowerseedgame.GameLogic&quot;&gt;\n   &lt;children&gt;\n      &lt;Button layoutX=&quot;85.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#GetMoney&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Obtain $1&quot; /&gt;\n      &lt;Button layoutX=&quot;439.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Kid - $7&quot; /&gt;\n      &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Grab Seed&quot; /&gt;\n      &lt;Button layoutX=&quot;348.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Suck Seed&quot; /&gt;\n      &lt;Button layoutX=&quot;234.0&quot; layoutY=&quot;341.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Bag of Seeds - $2&quot; /&gt;\n      &lt;Text layoutX=&quot;113.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seed Sucker&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Consolas&quot; size=&quot;62.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text layoutX=&quot;85.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seeds = 0&quot; /&gt;\n      &lt;Text id=&quot;moneyCount&quot; layoutX=&quot;271.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Money = 0&quot; /&gt;\n      &lt;Text layoutX=&quot;278.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kids = 0&quot; /&gt;\n      &lt;Text layoutX=&quot;454.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Shells = 0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>When I set the ID for moneyCount in Scene Builder, the option to so hasn't already there. This is despite me already making the variable for it. It compiles fine, but when I click the money count button I get this error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Text.setText(String)&quot; because &quot;this.moneyCount&quot; is null\n        at com.sunflowerseedgame/com.sunflowerseedgame.GameLogic.GetMoney(GameLogic.java:18)\n</code></pre>\n<p>(There's more errors, but none of the other ones mention my code)</p>\n<p>Does anyone know why I'm getting this?</p>\n"},{"tags":["java","javafx","quarkus"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661188820,"post_id":73446505,"comment_id":129707596,"body_markdown":"This is a duplicate question. Please stick to one question per post. Please make an attempt at doing the things posted and post a question with what you attempted. Possible duplicate: https://stackoverflow.com/questions/73437944/quarkus-application-with-javafx?noredirect=1#comment129692646_73437944.","body":"This is a duplicate question. Please stick to one question per post. Please make an attempt at doing the things posted and post a question with what you attempted. Possible duplicate: <a href=\"https://stackoverflow.com/questions/73437944/quarkus-application-with-javafx?noredirect=1#comment129692646_73437944\" title=\"quarkus application with javafx\">stackoverflow.com/questions/73437944/&hellip;</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661189183,"post_id":73446505,"comment_id":129707733,"body_markdown":"Also, I am able to run this in `Netbeans` using `Maven 3.8.5` or `Maven 3.6.3` and `JavaFX 18`. I am not very familiar with `IntelliJ`, but I would start by making sure your it is using one of these versions.","body":"Also, I am able to run this in <code>Netbeans</code> using <code>Maven 3.8.5</code> or <code>Maven 3.6.3</code> and <code>JavaFX 18</code>. I am not very familiar with <code>IntelliJ</code>, but I would start by making sure your it is using one of these versions."},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661189598,"post_id":73446505,"comment_id":129707861,"body_markdown":"Did you follow the points listed in How to reproduce?","body":"Did you follow the points listed in How to reproduce?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661193438,"post_id":73446505,"comment_id":129709106,"body_markdown":"I download the project as a Zip from `GitHub`. I made sure I met the requirements in the repo. I open the project in `Netbeans 13`. I click the run in `Netbeans`. The program ran, and I typed my name. I had no errors. If this does not help you, be more clear with your explanation.","body":"I download the project as a Zip from <code>GitHub</code>. I made sure I met the requirements in the repo. I open the project in <code>Netbeans 13</code>. I click the run in <code>Netbeans</code>. The program ran, and I typed my name. I had no errors. If this does not help you, be more clear with your explanation."},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661194455,"post_id":73446505,"comment_id":129709432,"body_markdown":"You forgot the last step. You need to type the name and click the &quot;Click me button&quot; to the right of the textfield.","body":"You forgot the last step. You need to type the name and click the &quot;Click me button&quot; to the right of the textfield."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661195233,"post_id":73446505,"comment_id":129709639,"body_markdown":"Yea, I did that.","body":"Yea, I did that."},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661203699,"post_id":73446505,"comment_id":129712017,"body_markdown":"Ok that’s weird. I use the latest Java and Maven Version (18 and 3.8.6). Please start it from Terminal with mvn quarkus:dev so we can exclude the IDE as error source.","body":"Ok that’s weird. I use the latest Java and Maven Version (18 and 3.8.6). Please start it from Terminal with mvn quarkus:dev so we can exclude the IDE as error source."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661204183,"post_id":73446505,"comment_id":129712110,"body_markdown":"Have you been to https://github.com/pedrolopix/quarkus-javafx-example? Are you following the instructions laid out there? That page is requiring `JKD 11+`, `Maven 3.6.3+` and telling you to run `mvn package` and `java -jar target/quarkus-javafx-example-1.0-runner.jar`. I don&#39;t see anywhere where it says to use `mvn quarkus:dev`.","body":"Have you been to <a href=\"https://github.com/pedrolopix/quarkus-javafx-example\" rel=\"nofollow noreferrer\">github.com/pedrolopix/quarkus-javafx-example</a>? Are you following the instructions laid out there? That page is requiring <code>JKD 11+</code>, <code>Maven 3.6.3+</code> and telling you to run <code>mvn package</code> and <code>java -jar target&#47;quarkus-javafx-example-1.0-runner.jar</code>. I don&#39;t see anywhere where it says to use <code>mvn quarkus:dev</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661204309,"post_id":73446505,"comment_id":129712141,"body_markdown":"Also, it seems the run it command is off. It should be `java -jar ./target/quarkus-app/quarkus-run.jar`","body":"Also, it seems the run it command is off. It should be <code>java -jar .&#47;target&#47;quarkus-app&#47;quarkus-run.jar</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661206982,"post_id":73446505,"comment_id":129712709,"body_markdown":"I&#39;ve edited your question to make it flow better (in my opinion) and to show the full stack trace. Let me know if I made any errors.","body":"I&#39;ve edited your question to make it flow better (in my opinion) and to show the full stack trace. Let me know if I made any errors."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661207243,"post_id":73446505,"comment_id":129712752,"body_markdown":"However, as noted by @SedJ601 and in [a comment](https://stackoverflow.com/questions/73437944/quarkus-application-with-javafx?noredirect=1#comment129692646_73437944) on your original question, it is possible to get the application to run (though perhaps not in &quot;dev mode&quot; or whatever `quarkus:dev` does).","body":"However, as noted by @SedJ601 and in <a href=\"https://stackoverflow.com/questions/73437944/quarkus-application-with-javafx?noredirect=1#comment129692646_73437944\">a comment</a> on your original question, it is possible to get the application to run (though perhaps not in &quot;dev mode&quot; or whatever <code>quarkus:dev</code> does)."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1661209410,"post_id":73446505,"comment_id":129713116,"body_markdown":"__DO NOT__ delete and repost a question - instead edit the previous to make it answerable","body":"<b>DO NOT</b> delete and repost a question - instead edit the previous to make it answerable"},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661272464,"post_id":73446505,"comment_id":129730825,"body_markdown":"Alright thanks @SedJ601 and Slaw for checking this out. Developing an application like this is quite hard when you have to type in those two commands every single time. I hoped there was a more elegant way of running a Quarkus JavaFX application. I managed to get around the problem by getting rid of the fxml part.","body":"Alright thanks @SedJ601 and Slaw for checking this out. Developing an application like this is quite hard when you have to type in those two commands every single time. I hoped there was a more elegant way of running a Quarkus JavaFX application. I managed to get around the problem by getting rid of the fxml part."},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661272583,"post_id":73446505,"comment_id":129730864,"body_markdown":"@kleopatra The original post didn&#39;t get a reopen after detailing the post  from an editor within 10 hours and since it was stated right at the top to either edit the question or delete and ask a new question I decided to delete the original question and ask in a more precise way again.","body":"@kleopatra The original post didn&#39;t get a reopen after detailing the post  from an editor within 10 hours and since it was stated right at the top to either edit the question or delete and ask a new question I decided to delete the original question and ask in a more precise way again."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661276824,"post_id":73446505,"comment_id":129732241,"body_markdown":"Are you using Windows?","body":"Are you using Windows?"},{"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"score":0,"creation_date":1661278469,"post_id":73446505,"comment_id":129732734,"body_markdown":"Yes I&#39;m using Windows 11.","body":"Yes I&#39;m using Windows 11."}],"owner":{"account_id":22646426,"reputation":137,"user_id":16821720,"display_name":"SamTV"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661206862,"creation_date":1661177443,"question_id":73446505,"body_markdown":"I wanted to create a new JavaFX application with Quarkus support. I used this template:\r\n\r\nhttps://github.com/pedrolopix/quarkus-javafx-example\r\n\r\nHere&#39;s what I did:\r\n\r\n1. Cloned the repo.\r\n\r\n2. Executed `mvn quarkus:dev`.\r\n \r\n    * This causes a JavaFX window to be displayed.\r\n\r\n3. Clicked on the &quot;Click!&quot; button\r\n\r\nClicking on the button resulted in the following error, though there are a lot more logs from Quarkus not included here:\r\n\r\n```lang-none\r\nException in thread &quot;JavaFX Application Thread&quot;\r\njava.lang.InternalError: bouncer cannot be found\r\n        at com.sun.javafx.reflect.MethodUtil.getTrampoline(MethodUtil.java:312)\r\n        at com.sun.javafx.reflect.MethodUtil.&lt;clinit&gt;(MethodUtil.java:87)\r\n        at com.sun.javafx.fxml.MethodHelper.&lt;clinit&gt;(MethodHelper.java:44)\r\n        at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n        at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n        at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n        at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n        at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n        at javafx.event.Event.fireEvent(Event.java:198)\r\n        at javafx.scene.Node.fireEvent(Node.java:8792)\r\n        at javafx.scene.control.Button.fire(Button.java:203)\r\n        at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n        at com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n        at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n        at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n        at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n        at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n        at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n        at javafx.event.Event.fireEvent(Event.java:198)\r\n        at javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\r\n        at javafx.scene.Scene.processMouseEvent(Scene.java:1878)\r\n        at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\r\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n        at com.sun.glass.ui.View.handleMouseEvent(View.java:557)\r\n        at com.sun.glass.ui.View.notifyMouse(View.java:943)\r\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.getDeclaredMethod(String, java.lang.Class[])&quot; because &quot;&lt;local1&gt;&quot; is null\r\n        at com.sun.javafx.reflect.MethodUtil$1.run(MethodUtil.java:306)\r\n        at com.sun.javafx.reflect.MethodUtil$1.run(MethodUtil.java:300)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        at com.sun.javafx.reflect.MethodUtil.getTrampoline(MethodUtil.java:299)\r\n        ... 49 more\r\n```\r\n\r\n\r\nDoes anybody know how to solve this? Has a current Quarkus JavaFX demo app?","title":"Quarkus with JavaFX Demo throws exception when executing function in fxml","body":"<p>I wanted to create a new JavaFX application with Quarkus support. I used this template:</p>\n<p><a href=\"https://github.com/pedrolopix/quarkus-javafx-example\" rel=\"nofollow noreferrer\">https://github.com/pedrolopix/quarkus-javafx-example</a></p>\n<p>Here's what I did:</p>\n<ol>\n<li><p>Cloned the repo.</p>\n</li>\n<li><p>Executed <code>mvn quarkus:dev</code>.</p>\n<ul>\n<li>This causes a JavaFX window to be displayed.</li>\n</ul>\n</li>\n<li><p>Clicked on the &quot;Click!&quot; button</p>\n</li>\n</ol>\n<p>Clicking on the button resulted in the following error, though there are a lot more logs from Quarkus not included here:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot;\njava.lang.InternalError: bouncer cannot be found\n        at com.sun.javafx.reflect.MethodUtil.getTrampoline(MethodUtil.java:312)\n        at com.sun.javafx.reflect.MethodUtil.&lt;clinit&gt;(MethodUtil.java:87)\n        at com.sun.javafx.fxml.MethodHelper.&lt;clinit&gt;(MethodHelper.java:44)\n        at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n        at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n        at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n        at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n        at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n        at javafx.event.Event.fireEvent(Event.java:198)\n        at javafx.scene.Node.fireEvent(Node.java:8792)\n        at javafx.scene.control.Button.fire(Button.java:203)\n        at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n        at com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n        at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n        at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n        at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n        at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n        at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n        at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n        at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n        at javafx.event.Event.fireEvent(Event.java:198)\n        at javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\n        at javafx.scene.Scene.processMouseEvent(Scene.java:1878)\n        at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n        at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n        at com.sun.glass.ui.View.handleMouseEvent(View.java:557)\n        at com.sun.glass.ui.View.notifyMouse(View.java:943)\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.getDeclaredMethod(String, java.lang.Class[])&quot; because &quot;&lt;local1&gt;&quot; is null\n        at com.sun.javafx.reflect.MethodUtil$1.run(MethodUtil.java:306)\n        at com.sun.javafx.reflect.MethodUtil$1.run(MethodUtil.java:300)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at com.sun.javafx.reflect.MethodUtil.getTrampoline(MethodUtil.java:299)\n        ... 49 more\n</code></pre>\n<p>Does anybody know how to solve this? Has a current Quarkus JavaFX demo app?</p>\n"},{"tags":["java","postgresql","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1659627700,"post_id":73238697,"comment_id":129344809,"body_markdown":"There is no `psql` database there is the `psql` client that connects to Postgres database. Change your title accordingly.","body":"There is no <code>psql</code> database there is the <code>psql</code> client that connects to Postgres database. Change your title accordingly."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":2,"creation_date":1659627815,"post_id":73238697,"comment_id":129344848,"body_markdown":"Please do not provide images of code. They can&#39;t be searched or compiled. Copy/paste your code as actual text and format it as code.","body":"Please do not provide images of code. They can&#39;t be searched or compiled. Copy/paste your code as actual text and format it as code."},{"owner":{"display_name":"user330315"},"score":2,"creation_date":1659627857,"post_id":73238697,"comment_id":129344864,"body_markdown":"Please do **not** post code as images. See here for more details why: http://meta.stackoverflow.com/questions/285551","body":"Please do <b>not</b> post code as images. See here for more details why: <a href=\"http://meta.stackoverflow.com/questions/285551\">meta.stackoverflow.com/questions/285551</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1659628020,"post_id":73238697,"comment_id":129344926,"body_markdown":"What does your application.properties look like?","body":"What does your application.properties look like?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1659628080,"post_id":73238697,"comment_id":129344958,"body_markdown":"To your question add Postgres version as well as text(not image) of `pg_hba.conf` file. From error looks like it could be SCRAM/md5 password issue.","body":"To your question add Postgres version as well as text(not image) of <code>pg_hba.conf</code> file. From error looks like it could be SCRAM/md5 password issue."},{"owner":{"account_id":24576416,"reputation":13,"user_id":18482178,"display_name":"lschwb"},"score":0,"creation_date":1659632553,"post_id":73238697,"comment_id":129346525,"body_markdown":"Hi sorry for the pictures, I thought it would just be easier...\nI also added the PostgreSQL version number and the pg_hba.config file. If I missed something, I&#39;ll be happy to add it aswell! Thank you for telling me","body":"Hi sorry for the pictures, I thought it would just be easier... I also added the PostgreSQL version number and the pg_hba.config file. If I missed something, I&#39;ll be happy to add it aswell! Thank you for telling me"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1659657855,"post_id":73238697,"comment_id":129352658,"body_markdown":"Do you see any messages in the PostgreSQL log file about connection/authentication failures?  Does Hikari have its own log files you can look in?","body":"Do you see any messages in the PostgreSQL log file about connection/authentication failures?  Does Hikari have its own log files you can look in?"},{"owner":{"account_id":24576416,"reputation":13,"user_id":18482178,"display_name":"lschwb"},"score":0,"creation_date":1659681321,"post_id":73238697,"comment_id":129356328,"body_markdown":"No the console for the PostgreSQL doesn&#39;t say anything, probably because the connection doesn&#39;t go through from the SpringSQL part? and I wouldn&#39;t know about Hikari files, a quick google search doesn&#39;t tell me anything about it...","body":"No the console for the PostgreSQL doesn&#39;t say anything, probably because the connection doesn&#39;t go through from the SpringSQL part? and I wouldn&#39;t know about Hikari files, a quick google search doesn&#39;t tell me anything about it..."}],"answers":[{"tags":[],"owner":{"account_id":24576416,"reputation":13,"user_id":18482178,"display_name":"lschwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661206338,"creation_date":1660820984,"answer_id":73402031,"question_id":73238697,"body_markdown":"I fixed it by now. The problem was that I wrote `hibernat` instead of `hibernate` in the application.properties...","title":"Spring boot won&#39;t connect to Postgres database","body":"<p>I fixed it by now. The problem was that I wrote <code>hibernat</code> instead of <code>hibernate</code> in the application.properties...</p>\n"}],"owner":{"account_id":24576416,"reputation":13,"user_id":18482178,"display_name":"lschwb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73402031,"answer_count":1,"score":0,"last_activity_date":1661206338,"creation_date":1659627560,"question_id":73238697,"body_markdown":"I am trying to learn Spring Boot with a tutorial. I have the code and the database, but I keep getting a Hibernate ERROR whenever I try to connect the two...\r\n\r\nThis is the Error I get:\r\n\r\n     :: Spring Boot ::                (v2.7.2)\r\n    \r\n    \r\n    2022-08-04 19:23:59.263  INFO 13108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1746 ms\r\n    2022-08-04 19:23:59.463  INFO 13108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-08-04 19:24:00.560 ERROR 13108 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\n\r\nI have the dependency set up in my pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nThe StudentService\r\n\r\n        @Service\r\n    public class StudentService {\r\n        public List&lt;Student&gt; getStudents() {\r\n            return List.of(\r\n                    new Student(\r\n                            1L,\r\n                            &quot;Mariam&quot;,\r\n                            &quot;mariam.jamal@gmail.com&quot;,\r\n                            LocalDate.of(2000, Month.JANUARY, 5),\r\n                            21\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\nAnd the StudentController class\r\n\r\n        @RestController\r\n    @RequestMapping(path = &quot;api/v1/student&quot;)\r\n    public class StudentController {\r\n    \r\n        private final StudentService studentService;\r\n    \r\n        @Autowired\r\n        public StudentController(StudentService studentService) {\r\n            this.studentService = studentService;\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Student&gt; getStudents() {\r\n            return studentService.getStudents();\r\n        }\r\n    }\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/student\r\n    spring.datasource.username=postgres\r\n    spring.datasouce.password=password\r\n    spring.jpa.hibernat.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n  [1]: https://i.stack.imgur.com/w9jGx.png\r\n  \r\n\r\nUnfortunately I have no idea what&#39;s the problem or what I can do to improve it. I googled, but only found &quot;the password not filled in&quot; (which is not the case) and &quot;the application.properties not being in the resources folder&quot; (which they are...)\r\n\r\nThank you so much already for looking through it and if I can clarify anything, I am happy to do so.\r\n\r\nEdit: sorry for posting it as pictures I replaced everything but the error code if I should change that too just tell me\r\n\r\nIf I am correct, the version of the PostgreSQL is 14.4 the text from the pg_hba.config:\r\n\r\n    # PostgreSQL Client Authentication Configuration File\r\n    # ===================================================\r\n    #   \r\n    \r\n    \r\n    # TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n    \r\n    # &quot;local&quot; is for Unix domain socket connections only\r\n    local   all             all                                     scram-sha-256\r\n    # IPv4 local connections:\r\n    host    all             all             127.0.0.1/32            scram-sha-256\r\n    # IPv6 local connections:\r\n    host    all             all             ::1/128                 scram-sha-256\r\n    # Allow replication connections from localhost, by a user with the\r\n    # replication privilege.\r\n    local   replication     all                                     scram-sha-256\r\n    host    replication     all             127.0.0.1/32            scram-sha-256\r\n    host    replication     all             ::1/128                 scram-sha-256\r\n\r\n","title":"Spring boot won&#39;t connect to Postgres database","body":"<p>I am trying to learn Spring Boot with a tutorial. I have the code and the database, but I keep getting a Hibernate ERROR whenever I try to connect the two...</p>\n<p>This is the Error I get:</p>\n<pre><code> :: Spring Boot ::                (v2.7.2)\n\n\n2022-08-04 19:23:59.263  INFO 13108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1746 ms\n2022-08-04 19:23:59.463  INFO 13108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-08-04 19:24:00.560 ERROR 13108 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n</code></pre>\n<p>I have the dependency set up in my pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The StudentService</p>\n<pre><code>    @Service\npublic class StudentService {\n    public List&lt;Student&gt; getStudents() {\n        return List.of(\n                new Student(\n                        1L,\n                        &quot;Mariam&quot;,\n                        &quot;mariam.jamal@gmail.com&quot;,\n                        LocalDate.of(2000, Month.JANUARY, 5),\n                        21\n                )\n        );\n    }\n}\n</code></pre>\n<p>And the StudentController class</p>\n<pre><code>    @RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n\n    private final StudentService studentService;\n\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n\n    @GetMapping\n    public List&lt;Student&gt; getStudents() {\n        return studentService.getStudents();\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username=postgres\nspring.datasouce.password=password\nspring.jpa.hibernat.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Unfortunately I have no idea what's the problem or what I can do to improve it. I googled, but only found &quot;the password not filled in&quot; (which is not the case) and &quot;the application.properties not being in the resources folder&quot; (which they are...)</p>\n<p>Thank you so much already for looking through it and if I can clarify anything, I am happy to do so.</p>\n<p>Edit: sorry for posting it as pictures I replaced everything but the error code if I should change that too just tell me</p>\n<p>If I am correct, the version of the PostgreSQL is 14.4 the text from the pg_hba.config:</p>\n<pre><code># PostgreSQL Client Authentication Configuration File\n# ===================================================\n#   \n\n\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# &quot;local&quot; is for Unix domain socket connections only\nlocal   all             all                                     scram-sha-256\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            scram-sha-256\n# IPv6 local connections:\nhost    all             all             ::1/128                 scram-sha-256\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\nlocal   replication     all                                     scram-sha-256\nhost    replication     all             127.0.0.1/32            scram-sha-256\nhost    replication     all             ::1/128                 scram-sha-256\n</code></pre>\n"},{"tags":["java","spring","module"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661205610,"creation_date":1661205610,"question_id":73451413,"body_markdown":"I work on a platform team that supports a large number of SpringBoot microservices, mostly running Java 8.  We&#39;ve been working on a Java 11 upgrade for a while now.  Our first steps will be basically &quot;lift and shift&quot;, not attempting any functional changes to take advantage of Java 11 features.\r\n\r\nI do want to implement &quot;package sealing&quot; for the internal platform libraries we construct, which isn&#39;t the same as Java 9 modules.  After I started investigating this, I wondered about all of the third-party artifacts we support, mostly the Spring Framework.  I notice that even the latest versions of the Spring Framework jars don&#39;t specify package sealing, and they don&#39;t specify Java 9 modules either.\r\n\r\nHas anyone ever considered augmenting the Spring Framework artifacts provided within an enterprise to either implement package sealing or adding a Java 9 module specification?  I&#39;ve run into some teams that attempted to implement &quot;uber jars&quot; for their services that provided many of the classes we support, but sometimes the wrong versions of those artifacts.  I&#39;d like to do something to prevent that from working at all, so it makes it perfectly clear you can&#39;t do that.","title":"Is it reasonable or practical to augment Spring Framework artifact manifests with package sealing?","body":"<p>I work on a platform team that supports a large number of SpringBoot microservices, mostly running Java 8.  We've been working on a Java 11 upgrade for a while now.  Our first steps will be basically &quot;lift and shift&quot;, not attempting any functional changes to take advantage of Java 11 features.</p>\n<p>I do want to implement &quot;package sealing&quot; for the internal platform libraries we construct, which isn't the same as Java 9 modules.  After I started investigating this, I wondered about all of the third-party artifacts we support, mostly the Spring Framework.  I notice that even the latest versions of the Spring Framework jars don't specify package sealing, and they don't specify Java 9 modules either.</p>\n<p>Has anyone ever considered augmenting the Spring Framework artifacts provided within an enterprise to either implement package sealing or adding a Java 9 module specification?  I've run into some teams that attempted to implement &quot;uber jars&quot; for their services that provided many of the classes we support, but sometimes the wrong versions of those artifacts.  I'd like to do something to prevent that from working at all, so it makes it perfectly clear you can't do that.</p>\n"},{"tags":["java","apache-beam","dataflow"],"answers":[{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661204270,"creation_date":1661204270,"answer_id":73451243,"question_id":73433765,"body_markdown":"There&#39;s no way to control exact timing for the execution of downstream steps in a Beam batch pipeline. \r\n\r\nIn your case though, this might also depend on the structure of the pipeline. Do each of the else cases (I assume within a `DoFn`) get called for different input elements ? If so can you restructure your pipeline so that all cases get invoked for the same input element ?","title":"Output multiple tuples at same time in apache beam pipeline","body":"<p>There's no way to control exact timing for the execution of downstream steps in a Beam batch pipeline.</p>\n<p>In your case though, this might also depend on the structure of the pipeline. Do each of the else cases (I assume within a <code>DoFn</code>) get called for different input elements ? If so can you restructure your pipeline so that all cases get invoked for the same input element ?</p>\n"}],"owner":{"account_id":24166782,"reputation":13,"user_id":18129497,"display_name":"htsDeepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661204270,"creation_date":1661079515,"question_id":73433765,"body_markdown":"I want to know is there any way to output multiple tuples at the same time so that it can intiate all 4 tuples steps at time. Currently In my batch pipline once firsttuple outputed its finishing the first tuple operations. But I need to output all the tuples at the same time so that it can initiate all the tuple next processes same time. I have one list from where I am doing output like below :\r\n\r\n        for (int i = 0; i &lt; listlinedto.size(); i++){\r\n          if(i==0) {\r\n            LOG.info(&quot;Size of first tuple:{}&quot;, listlinedto.get(i).size());\r\n            accountingDTO\r\n                    .setFeedStatus(feedStatusDTO)\r\n                    .addAllLineStatuses(listlinedto.get(i))\r\n                    .build();\r\n            c.output(firsttuple,accountingDTO.build());\r\n          }else if(i==1){\r\n            LOG.info(&quot;Size of second tuple:{}&quot;, listlinedto.get(i).size());\r\n            accountingDTO\r\n                    .setFeedStatus(feedStatusDTO)\r\n                    .addAllLineStatuses(listlinedto.get(i))\r\n                    .build();\r\n            c.output(firsttuple,accountingDTO.build());\r\n\r\n          }else if(i==2){\r\n            LOG.info(&quot;Size of third tuple:{}&quot;, listlinedto.get(i).size());\r\n            accountingDTO\r\n                    .setFeedStatus(feedStatusDTO)\r\n                    .addAllLineStatuses(listlinedto.get(i))\r\n                    .build();\r\n            c.output(thirdtuple,accountingDTO.build());\r\n          }else if(i==3){\r\n            LOG.info(&quot;Size of forth tuple:{}&quot;, listofArray.get(i).length);\r\n            accountingDTO\r\n                    .setFeedStatus(feedStatusDTO)\r\n                    .addAllLineStatuses(listlinedto.get(i))\r\n                    .build();\r\n            c.output(forthtuple,accountingDTO.build());\r\n\r\n          }\r\n","title":"Output multiple tuples at same time in apache beam pipeline","body":"<p>I want to know is there any way to output multiple tuples at the same time so that it can intiate all 4 tuples steps at time. Currently In my batch pipline once firsttuple outputed its finishing the first tuple operations. But I need to output all the tuples at the same time so that it can initiate all the tuple next processes same time. I have one list from where I am doing output like below :</p>\n<pre><code>    for (int i = 0; i &lt; listlinedto.size(); i++){\n      if(i==0) {\n        LOG.info(&quot;Size of first tuple:{}&quot;, listlinedto.get(i).size());\n        accountingDTO\n                .setFeedStatus(feedStatusDTO)\n                .addAllLineStatuses(listlinedto.get(i))\n                .build();\n        c.output(firsttuple,accountingDTO.build());\n      }else if(i==1){\n        LOG.info(&quot;Size of second tuple:{}&quot;, listlinedto.get(i).size());\n        accountingDTO\n                .setFeedStatus(feedStatusDTO)\n                .addAllLineStatuses(listlinedto.get(i))\n                .build();\n        c.output(firsttuple,accountingDTO.build());\n\n      }else if(i==2){\n        LOG.info(&quot;Size of third tuple:{}&quot;, listlinedto.get(i).size());\n        accountingDTO\n                .setFeedStatus(feedStatusDTO)\n                .addAllLineStatuses(listlinedto.get(i))\n                .build();\n        c.output(thirdtuple,accountingDTO.build());\n      }else if(i==3){\n        LOG.info(&quot;Size of forth tuple:{}&quot;, listofArray.get(i).length);\n        accountingDTO\n                .setFeedStatus(feedStatusDTO)\n                .addAllLineStatuses(listlinedto.get(i))\n                .build();\n        c.output(forthtuple,accountingDTO.build());\n\n      }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661192204,"creation_date":1661192204,"answer_id":73449420,"question_id":73449277,"body_markdown":"With the use of `WebDriverWait` with `And` operator you can create method like this:\r\n```java\r\npublic boolean validateAllTheElementsPresented(WebElement el1, WebElement el2, WebElement el3){\r\n    try{\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        wait.until(ExpectedConditions.and(ExpectedConditions.presenceOfElementLocated(el1), \r\n            ExpectedConditions.presenceOfElementLocated(el2),\r\n            ExpectedConditions.presenceOfElementLocated(el3)));\r\n        return true;\r\n       }catch (Exception e){\r\n           return false;\r\n       }\r\n}\r\n```","title":"How to check if all the elements present on the page","body":"<p>With the use of <code>WebDriverWait</code> with <code>And</code> operator you can create method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean validateAllTheElementsPresented(WebElement el1, WebElement el2, WebElement el3){\n    try{\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n        wait.until(ExpectedConditions.and(ExpectedConditions.presenceOfElementLocated(el1), \n            ExpectedConditions.presenceOfElementLocated(el2),\n            ExpectedConditions.presenceOfElementLocated(el3)));\n        return true;\n       }catch (Exception e){\n           return false;\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661203783,"creation_date":1661203783,"answer_id":73451178,"question_id":73449277,"body_markdown":"You can so like this below using Java Reflection\r\nCreate a Abstract Base Class\r\npackage com.af.steps;\r\n\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    import java.lang.reflect.Field;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    public abstract class BasePage&lt;T&gt; {\r\n    \r\n       static WebDriver driver;\r\n    \r\n       static {\r\n\r\n          //just for testing purpose , driver instance should be handled in separate class\r\n\r\n    \t  WebDriverManager.chromedriver().setup();\r\n    \t  driver = new ChromeDriver();\r\n       }\r\n    \r\n    \r\n       public void base(Class&lt;?&gt; pageClass) throws InstantiationException, IllegalAccessException {\r\n    \r\n    \t  T page = null;\r\n    \r\n    \t  page = (T) PageFactory.initElements(driver, pageClass);\r\n    \t  Field[] fields = page.getClass().getDeclaredFields();\r\n    \t  for (Field field : fields) {\r\n    \t\t field.setAccessible(true);\r\n    \t\t if (field.getType().equals(WebElement.class)) {\r\n    \t\t\tWebElement value = (WebElement) field.get(page);\r\n    \t\t\tif (value != null) {\r\n    \t\t\t   System.out.println(value.isDisplayed());\r\n    \t\t\t}\r\n    \t\t }\r\n    \t  }\r\n       }\r\n    \r\n    \r\n       protected abstract void checkDisplayed() throws InstantiationException, IllegalAccessException;\r\n    }\r\n\r\n\r\n\r\nYour Page Class should call it like this , I have Tested this On google and works fine\r\nImplement the checkDisplayed and class the base method from Abstract class and pass the Class to it, it will initialize the page suing page factory and check if all webelements are displayed or not\r\n\r\n   \r\n\r\n    import org.apache.poi.ss.formula.functions.T;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    \r\n    public class PageClass extends BasePage&lt;T&gt; {\r\n    \r\n       @FindBy(xpath = &quot;//input[@class=\\&quot;gLFyf gsfi\\&quot;]&quot;)\r\n       WebElement ele1;\r\n    \r\n       @FindBy(xpath = &quot;//input[@class=\\&quot;gNO89b\\&quot;]&quot;)\r\n       WebElement ele2;\r\n    \r\n       @FindBy(xpath = &quot;//input[@class=\\&quot;RNmpXc\\&quot;]&quot;)\r\n       WebElement ele3;\r\n    \r\n       void loadUrl() {\r\n    \t  driver.get(&quot;https://www.google.com/&quot;);\r\n       }\r\n    \r\n       public static void main(String[] a) throws IllegalAccessException, InstantiationException {\r\n    \r\n    \t  PageClass pageClass = new PageClass();\r\n    \t  pageClass.loadUrl();\r\n    \t  pageClass.checkDisplayed();\r\n       }\r\n    \r\n    \r\n       @Override\r\n       protected void checkDisplayed()\r\n    \t   throws InstantiationException, IllegalAccessException {\r\n    \t  base(this.getClass());\r\n       }\r\n    \r\n    }\r\n\r\nyou will an output like below for above example\r\n\r\n    true\r\n    false\r\n    false","title":"How to check if all the elements present on the page","body":"<p>You can so like this below using Java Reflection\nCreate a Abstract Base Class\npackage com.af.steps;</p>\n<pre><code>import io.github.bonigarcia.wdm.WebDriverManager;\nimport java.lang.reflect.Field;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.PageFactory;\n\npublic abstract class BasePage&lt;T&gt; {\n\n   static WebDriver driver;\n\n   static {\n\n      //just for testing purpose , driver instance should be handled in separate class\n\n      WebDriverManager.chromedriver().setup();\n      driver = new ChromeDriver();\n   }\n\n\n   public void base(Class&lt;?&gt; pageClass) throws InstantiationException, IllegalAccessException {\n\n      T page = null;\n\n      page = (T) PageFactory.initElements(driver, pageClass);\n      Field[] fields = page.getClass().getDeclaredFields();\n      for (Field field : fields) {\n         field.setAccessible(true);\n         if (field.getType().equals(WebElement.class)) {\n            WebElement value = (WebElement) field.get(page);\n            if (value != null) {\n               System.out.println(value.isDisplayed());\n            }\n         }\n      }\n   }\n\n\n   protected abstract void checkDisplayed() throws InstantiationException, IllegalAccessException;\n}\n</code></pre>\n<p>Your Page Class should call it like this , I have Tested this On google and works fine\nImplement the checkDisplayed and class the base method from Abstract class and pass the Class to it, it will initialize the page suing page factory and check if all webelements are displayed or not</p>\n<pre><code>import org.apache.poi.ss.formula.functions.T;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class PageClass extends BasePage&lt;T&gt; {\n\n   @FindBy(xpath = &quot;//input[@class=\\&quot;gLFyf gsfi\\&quot;]&quot;)\n   WebElement ele1;\n\n   @FindBy(xpath = &quot;//input[@class=\\&quot;gNO89b\\&quot;]&quot;)\n   WebElement ele2;\n\n   @FindBy(xpath = &quot;//input[@class=\\&quot;RNmpXc\\&quot;]&quot;)\n   WebElement ele3;\n\n   void loadUrl() {\n      driver.get(&quot;https://www.google.com/&quot;);\n   }\n\n   public static void main(String[] a) throws IllegalAccessException, InstantiationException {\n\n      PageClass pageClass = new PageClass();\n      pageClass.loadUrl();\n      pageClass.checkDisplayed();\n   }\n\n\n   @Override\n   protected void checkDisplayed()\n       throws InstantiationException, IllegalAccessException {\n      base(this.getClass());\n   }\n\n}\n</code></pre>\n<p>you will an output like below for above example</p>\n<pre><code>true\nfalse\nfalse\n</code></pre>\n"}],"owner":{"account_id":26132140,"reputation":3,"user_id":19822710,"display_name":"prj godse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451178,"answer_count":2,"score":0,"last_activity_date":1661203783,"creation_date":1661191365,"question_id":73449277,"body_markdown":"I am using page object model using page factory selenium using Java\r\n\r\nI have page class for example:\r\n\r\n    `public class Login extends BasePage {\r\n    \r\n    @Findby(css =&quot;Abc&quot;)\r\n    WebElement ele1;\r\n    \r\n    @Findby(css =&quot;xyz&quot;)\r\n    WebElement ele2;\r\n    \r\n    @Findby(css =&quot;xyz&quot;)\r\n    WebElement ele3;\r\n    \r\n    public void verifyVisibilityOfAllElements {\r\n    List&lt;Webelements&gt; elementList = new ArrayList&lt;Webelements&gt;;\r\n    elementList.add(ele1);\r\n    elementList.add(ele2);\r\n    elementList.add(ele3);\r\n    for(Webelements ele:elementList){\r\n    if(ele.isDisplayed){\r\n    system.out.println(&quot;element is displayed&quot; +ele);\r\n    } else {\r\n    system.out.println(&quot;element is not displayed&quot; +ele);\r\n    }\r\n    }\r\n    }\r\n    }`\r\n\r\nI want to check if all the elements defined in the page class are displayed on the webpage. I want to perform this on in all my page classes. Looking for reusable generic method which can be written in BasePage and can be reuse in all the other pages.","title":"How to check if all the elements present on the page","body":"<p>I am using page object model using page factory selenium using Java</p>\n<p>I have page class for example:</p>\n<pre><code>`public class Login extends BasePage {\n\n@Findby(css =&quot;Abc&quot;)\nWebElement ele1;\n\n@Findby(css =&quot;xyz&quot;)\nWebElement ele2;\n\n@Findby(css =&quot;xyz&quot;)\nWebElement ele3;\n\npublic void verifyVisibilityOfAllElements {\nList&lt;Webelements&gt; elementList = new ArrayList&lt;Webelements&gt;;\nelementList.add(ele1);\nelementList.add(ele2);\nelementList.add(ele3);\nfor(Webelements ele:elementList){\nif(ele.isDisplayed){\nsystem.out.println(&quot;element is displayed&quot; +ele);\n} else {\nsystem.out.println(&quot;element is not displayed&quot; +ele);\n}\n}\n}\n}`\n</code></pre>\n<p>I want to check if all the elements defined in the page class are displayed on the webpage. I want to perform this on in all my page classes. Looking for reusable generic method which can be written in BasePage and can be reuse in all the other pages.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":0,"creation_date":1297261970,"post_id":4945695,"comment_id":5516208,"body_markdown":"So really unwanted characters means anything that is not a a-z or 0-9?  I updated my answer, but it is still unclear what is a dirty character and what is a clean one.","body":"So really unwanted characters means anything that is not a a-z or 0-9?  I updated my answer, but it is still unclear what is a dirty character and what is a clean one."}],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1297261863,"creation_date":1297259449,"answer_id":4945743,"question_id":4945695,"body_markdown":"Edited based on your update:\r\n\r\n    dirtyString.replaceAll(&quot;[^a-zA-Z0-9]&quot;,&quot;&quot;)","title":"How to filter string for unwanted characters using regex?","body":"<p>Edited based on your update:</p>\n\n<pre><code>dirtyString.replaceAll(\"[^a-zA-Z0-9]\",\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1297260223,"creation_date":1297259459,"answer_id":4945749,"question_id":4945695,"body_markdown":"This will do it:\r\n\r\n    String dirtyString = &quot;This contains spaces which are not allowed&quot;;\r\n    String result = dirtyString.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\nand works by replacing all whitespace with &#39;nothing&#39;.\r\n\r\n","title":"How to filter string for unwanted characters using regex?","body":"<p>This will do it:</p>\n\n<pre><code>String dirtyString = \"This contains spaces which are not allowed\";\nString result = dirtyString.replaceAll(\"\\\\s\", \"\");\n</code></pre>\n\n<p>and works by replacing all whitespace with 'nothing'.</p>\n"},{"tags":[],"owner":{"account_id":1298,"reputation":24599,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1297259489,"creation_date":1297259489,"answer_id":4945757,"question_id":4945695,"body_markdown":"Use [`replaceAll`][1].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)","title":"How to filter string for unwanted characters using regex?","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>replaceAll</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1297262414,"creation_date":1297262414,"answer_id":4946332,"question_id":4945695,"body_markdown":"    String resultString = subjectString.replaceAll(&quot;\\\\P{L}+&quot;, &quot;&quot;);\r\n\r\nwill replace any non-letter characters with nothing.","title":"How to filter string for unwanted characters using regex?","body":"<pre><code>String resultString = subjectString.replaceAll(\"\\\\P{L}+\", \"\");\n</code></pre>\n\n<p>will replace any non-letter characters with nothing.</p>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539141921,"creation_date":1297295200,"answer_id":4951897,"question_id":4945695,"body_markdown":"If you&#39;re using [guava][1] on your project (and if you&#39;re not, I believe you should consider it), the [CharMatcher][2] class handles this very nicely:\r\n\r\nYour first example might be:\r\n\r\n    result = CharMatcher.WHITESPACE.removeFrom(dirtyString);\r\n\r\nwhile your second might be:\r\n\r\n    result = CharMatcher.anyOf(&quot; *#&amp;&quot;).removeFrom(dirtyString);\r\n    // or alternatively\r\n    result = CharMatcher.noneOf(&quot; *#&amp;&quot;).retainFrom(dirtyString);\r\n\r\nor if you want to be more flexible with whitespace (tabs etc), you can combine them rather than writing your own:\r\n\r\n    CharMatcher illegal = CharMatcher.WHITESPACE.or(CharMatcher.anyOf(&quot;*#&amp;&quot;));\r\n    result = illegal.removeFrom(dirtyString);\r\n\r\nor you might instead specify legal characters, which depending on your requirements might be:\r\n\r\n    CharMatcher legal = CharMatcher.JAVA_LETTER; // based on Unicode char class\r\n    CharMatcher legal = CharMatcher.ASCII.and(CharMatcher.JAVA_LETTER); // only letters which are also ASCII, as your examples\r\n    CharMatcher legal = CharMatcher.inRange(&#39;a&#39;, &#39;z&#39;); // lowercase only\r\n    CharMatcher legal = CharMatcher.inRange(&#39;a&#39;, &#39;z&#39;).or(CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;)); // either case\r\n  \r\nfollowed by `retainFrom(dirtyString)` as above.\r\n\r\nVery nice, powerful API.\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html","title":"How to filter string for unwanted characters using regex?","body":"<p>If you're using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">guava</a> on your project (and if you're not, I believe you should consider it), the <a href=\"https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html\" rel=\"nofollow noreferrer\">CharMatcher</a> class handles this very nicely:</p>\n\n<p>Your first example might be:</p>\n\n<pre><code>result = CharMatcher.WHITESPACE.removeFrom(dirtyString);\n</code></pre>\n\n<p>while your second might be:</p>\n\n<pre><code>result = CharMatcher.anyOf(\" *#&amp;\").removeFrom(dirtyString);\n// or alternatively\nresult = CharMatcher.noneOf(\" *#&amp;\").retainFrom(dirtyString);\n</code></pre>\n\n<p>or if you want to be more flexible with whitespace (tabs etc), you can combine them rather than writing your own:</p>\n\n<pre><code>CharMatcher illegal = CharMatcher.WHITESPACE.or(CharMatcher.anyOf(\"*#&amp;\"));\nresult = illegal.removeFrom(dirtyString);\n</code></pre>\n\n<p>or you might instead specify legal characters, which depending on your requirements might be:</p>\n\n<pre><code>CharMatcher legal = CharMatcher.JAVA_LETTER; // based on Unicode char class\nCharMatcher legal = CharMatcher.ASCII.and(CharMatcher.JAVA_LETTER); // only letters which are also ASCII, as your examples\nCharMatcher legal = CharMatcher.inRange('a', 'z'); // lowercase only\nCharMatcher legal = CharMatcher.inRange('a', 'z').or(CharMatcher.inRange('A', 'Z')); // either case\n</code></pre>\n\n<p>followed by <code>retainFrom(dirtyString)</code> as above.</p>\n\n<p>Very nice, powerful API.</p>\n"},{"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525769046,"creation_date":1525769046,"answer_id":50229491,"question_id":4945695,"body_markdown":"I also prefer the whitelisting-approach. You&#39;ll never know what comes around. There seem to be more encodings in than characters. This way you can control it all:\r\n\r\n \r\n    public String convert(String s) {\r\n      s = StringUtils.removePattern(s, &quot;[^A-Za-z&#228;&#246;&#252;&#196;&#214;&#220;&#223;?!$,. 0-9\\\\-\\\\+\\\\*\\\\?=&amp;%\\\\$&#167;\\&quot;\\\\!\\\\^#:;,_&#178;&#179;&#176;\\\\[\\\\]\\\\{\\\\}&lt;&gt;\\\\|~]&#39;`&#39;&quot;);\r\n      return s.trim();\r\n    }\r\n\r\n\r\nThis contains all german umlauts and french accents and ... you know - just look at your keyboard. I think I picked them all.\r\nFeel free to omit special chars like &lt; &gt; to prevent code-injection... ","title":"How to filter string for unwanted characters using regex?","body":"<p>I also prefer the whitelisting-approach. You'll never know what comes around. There seem to be more encodings in than characters. This way you can control it all:</p>\n\n<pre><code>public String convert(String s) {\n  s = StringUtils.removePattern(s, \"[^A-Za-zäöüÄÖÜß?!$,. 0-9\\\\-\\\\+\\\\*\\\\?=&amp;%\\\\$§\\\"\\\\!\\\\^#:;,_²³°\\\\[\\\\]\\\\{\\\\}&lt;&gt;\\\\|~]'`'\");\n  return s.trim();\n}\n</code></pre>\n\n<p>This contains all german umlauts and french accents and ... you know - just look at your keyboard. I think I picked them all.\nFeel free to omit special chars like &lt; > to prevent code-injection... </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661203277,"creation_date":1661202778,"answer_id":73451053,"question_id":4945695,"body_markdown":"# Filter code points \r\n\r\nRegex is not the only avenue to your goal. You can get the [code point][1] integer number for each character in your string, then filter out those not considered a letter in [Unicode][2]. \r\n\r\nThe `String#codePoints` method returns an `IntStream`, a stream of `int` primitive values, one per character. \r\n\r\nThe `Character` class can tell us if the character assigned to each of those code point numbers in Unicode is considered a letter, as opposed to [whitespace][3], digits, punctuation, and so on.\r\n\r\nThose code points passing our test are converted back to a `String` by way of the `StringBuilder` class.\r\n\r\n    String input = &quot; this*is#a*&amp;very_dirty&amp;String&quot; ; \r\n    String onlyLetters = \r\n            input \r\n            .codePoints()\r\n            .filter(\r\n                codePoint -&gt; Character.isLetter( codePoint ) \r\n            )\r\n            .collect(               \r\n                StringBuilder :: new ,        \r\n                StringBuilder :: appendCodePoint , \r\n                StringBuilder :: append    \r\n            )        \r\n            .toString() \r\n    ;\r\n\r\nSee this [code run live at Ideone.com][4].\r\n\r\n&gt;thisisaverydirtyString\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://en.wikipedia.org/wiki/Unicode\r\n  [3]: https://en.wikipedia.org/wiki/Whitespace_character\r\n  [4]: https://ideone.com/MVa1tV","title":"How to filter string for unwanted characters using regex?","body":"<h1>Filter code points</h1>\n<p>Regex is not the only avenue to your goal. You can get the <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer number for each character in your string, then filter out those not considered a letter in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>The <code>String#codePoints</code> method returns an <code>IntStream</code>, a stream of <code>int</code> primitive values, one per character.</p>\n<p>The <code>Character</code> class can tell us if the character assigned to each of those code point numbers in Unicode is considered a letter, as opposed to <a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">whitespace</a>, digits, punctuation, and so on.</p>\n<p>Those code points passing our test are converted back to a <code>String</code> by way of the <code>StringBuilder</code> class.</p>\n<pre><code>String input = &quot; this*is#a*&amp;very_dirty&amp;String&quot; ; \nString onlyLetters = \n        input \n        .codePoints()\n        .filter(\n            codePoint -&gt; Character.isLetter( codePoint ) \n        )\n        .collect(               \n            StringBuilder :: new ,        \n            StringBuilder :: appendCodePoint , \n            StringBuilder :: append    \n        )        \n        .toString() \n;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/MVa1tV\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>thisisaverydirtyString</p>\n</blockquote>\n"}],"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92239,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":4945743,"answer_count":7,"score":36,"last_activity_date":1661203277,"creation_date":1297259264,"question_id":4945695,"body_markdown":"Basically , I am wondering if there is a handy class or method to filter a String for unwanted characters. The output of the method should be the &#39;cleaned&#39; String. Ie:\r\n\r\n\r\n    String dirtyString = &quot;This contains spaces which are not allowed&quot;\r\n\r\n    String result = cleaner.getCleanedString(dirtyString);\r\n\r\nExpecting result would be:\r\n\r\n    &quot;Thiscontainsspaceswhicharenotallowed&quot;\r\n\r\nA better example:\r\n\r\n    String reallyDirty = &quot; this*is#a*&amp;very_dirty&amp;String&quot;\r\n\r\n    String result = cleaner.getCleanedString(dirtyString);\r\n\r\nI expect the result to be:\r\n\r\n    &quot;thisisaverydirtyString&quot;\r\n\r\nBecause, i let the cleaner know that &#39; &#39;, &#39;*&#39;, &#39;#&#39;, &#39;&amp;&#39; and &#39;_&#39; are dirty characters. I can solve it by using a white/black list array of chars. But I don&#39;t want to re-invent the wheel.\r\n\r\nI was wondering if there is already such a thing that can &#39;clean&#39; strings using a regex. Instead of writing this myself.\r\n\r\nAddition:\r\nIf you think cleaning a String could be done differently/better then I&#39;m all ears as well of course\r\n\r\nAnother addition:\r\n- It is not only for spaces, but for any kind of character. \r\n","title":"How to filter string for unwanted characters using regex?","body":"<p>Basically , I am wondering if there is a handy class or method to filter a String for unwanted characters. The output of the method should be the 'cleaned' String. Ie:</p>\n\n<pre><code>String dirtyString = \"This contains spaces which are not allowed\"\n\nString result = cleaner.getCleanedString(dirtyString);\n</code></pre>\n\n<p>Expecting result would be:</p>\n\n<pre><code>\"Thiscontainsspaceswhicharenotallowed\"\n</code></pre>\n\n<p>A better example:</p>\n\n<pre><code>String reallyDirty = \" this*is#a*&amp;very_dirty&amp;String\"\n\nString result = cleaner.getCleanedString(dirtyString);\n</code></pre>\n\n<p>I expect the result to be:</p>\n\n<pre><code>\"thisisaverydirtyString\"\n</code></pre>\n\n<p>Because, i let the cleaner know that ' ', '*', '#', '&amp;' and '_' are dirty characters. I can solve it by using a white/black list array of chars. But I don't want to re-invent the wheel.</p>\n\n<p>I was wondering if there is already such a thing that can 'clean' strings using a regex. Instead of writing this myself.</p>\n\n<p>Addition:\nIf you think cleaning a String could be done differently/better then I'm all ears as well of course</p>\n\n<p>Another addition:\n- It is not only for spaces, but for any kind of character. </p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":1,"creation_date":1372780311,"post_id":17429305,"comment_id":25316955,"body_markdown":"Just be aware that the implemented algorithm is so over-simplified, that I can&#39;t honestly imagine any reasonable use of this &quot;transliteration&quot; library. To transliterate text using non-latin characters to latin characters, you need at least to know the source and target languages, potentially which transliteration system to use and in some cases even implicit context knowledge, making an automated translation nearly impossible.","body":"Just be aware that the implemented algorithm is so over-simplified, that I can&#39;t honestly imagine any reasonable use of this &quot;transliteration&quot; library. To transliterate text using non-latin characters to latin characters, you need at least to know the source and target languages, potentially which transliteration system to use and in some cases even implicit context knowledge, making an automated translation nearly impossible."},{"owner":{"account_id":1650465,"reputation":57258,"user_id":1521179,"accept_rate":89,"display_name":"amon"},"score":1,"creation_date":1372782497,"post_id":17429305,"comment_id":25318222,"body_markdown":"To whoever voted to close this question for allegedly asking to “recommend a tool, library or favorite off-site resource”: This question does not incite opinionated debate. It asks whether a similar library exists (fact-based), not what the *best/favourite* library would be (opinion-based). This question should remain open so that alternative libraries can be provided as answers.","body":"To whoever voted to close this question for allegedly asking to “recommend a tool, library or favorite off-site resource”: This question does not incite opinionated debate. It asks whether a similar library exists (fact-based), not what the <i>best/favourite</i> library would be (opinion-based). This question should remain open so that alternative libraries can be provided as answers."},{"owner":{"account_id":29074,"reputation":64370,"user_id":78259,"accept_rate":53,"display_name":"Chas. Owens"},"score":0,"creation_date":1372868763,"post_id":17429305,"comment_id":25357505,"body_markdown":"@jarnbjo A message is being corrupted when transferring between two databases.  The corruption only occurs to non-ASCII characters.  While a fix for the corruption is being investigated, it is desirable for the messages to be readable.  The language is nearly 100% English (maybe a little Spanish) and we are mostly dealing with problems with em dashes, curly quotes, and the like, but I wanted a more complete stopgap solution that didn&#39;t just strip out the offending characters.","body":"@jarnbjo A message is being corrupted when transferring between two databases.  The corruption only occurs to non-ASCII characters.  While a fix for the corruption is being investigated, it is desirable for the messages to be readable.  The language is nearly 100% English (maybe a little Spanish) and we are mostly dealing with problems with em dashes, curly quotes, and the like, but I wanted a more complete stopgap solution that didn&#39;t just strip out the offending characters."},{"owner":{"account_id":3713142,"reputation":1,"user_id":3089922,"display_name":"Anonymous"},"score":0,"creation_date":1386744907,"post_id":17429305,"comment_id":30665116,"body_markdown":"http://stackoverflow.com/questions/2096667/convert-unicode-to-ascii-without-changing-the-string-length-in-java","body":"<a href=\"http://stackoverflow.com/questions/2096667/convert-unicode-to-ascii-without-changing-the-string-length-in-java\" title=\"convert unicode to ascii without changing the string length in java\">stackoverflow.com/questions/2096667/&hellip;</a>"},{"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"score":0,"creation_date":1657376874,"post_id":17429305,"comment_id":128798332,"body_markdown":"There are, at the time of writing, [7 different &quot;junidecode&quot; libraries](https://mvnrepository.com/search?q=junidecode&amp;sort=popular) and [5 different &quot;unidecode&quot; libraries](https://mvnrepository.com/search?q=unidecode) libraries that come up when I search mvnrepository (which in turn searches lots of different package repositories). Most or all of these are presumably ports of Perl&#39;s unidecode. I haven&#39;t dug into the 12 options enough to have a particular recommendation, but you certainly have many options available!","body":"There are, at the time of writing, <a href=\"https://mvnrepository.com/search?q=junidecode&amp;sort=popular\" rel=\"nofollow noreferrer\">7 different &quot;junidecode&quot; libraries</a> and <a href=\"https://mvnrepository.com/search?q=unidecode\" rel=\"nofollow noreferrer\">5 different &quot;unidecode&quot; libraries</a> libraries that come up when I search mvnrepository (which in turn searches lots of different package repositories). Most or all of these are presumably ports of Perl&#39;s unidecode. I haven&#39;t dug into the 12 options enough to have a particular recommendation, but you certainly have many options available!"}],"answers":[{"tags":[],"owner":{"account_id":327698,"reputation":5680,"user_id":650228,"accept_rate":78,"display_name":"kittylyst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372779090,"creation_date":1372779090,"answer_id":17429668,"question_id":17429305,"body_markdown":"A quick Google says: http://junidecode.sourceforge.net/ - but looks like it hasn&#39;t been updated for a while.","title":"Is there a Java library like Perl 5&#39;s Text::Unidecode?","body":"<p>A quick Google says: <a href=\"http://junidecode.sourceforge.net/\" rel=\"nofollow\">http://junidecode.sourceforge.net/</a> - but looks like it hasn't been updated for a while.</p>\n"},{"tags":[],"owner":{"account_id":2555868,"reputation":10429,"user_id":2217862,"display_name":"Jakub Jirutka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661194435,"creation_date":1436483008,"answer_id":31329775,"question_id":17429305,"body_markdown":"There is another library for Java: [unidecode](https://github.com/jirutka/unidecode) (disclaimer: I’m the author of this library).\r\n\r\nUse with Gradle:\r\n\r\n    compile &#39;cz.jirutka.unidecode:unidecode:1.0.1&#39;\r\n\r\nUse with Maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;cz.jirutka.unidecode&lt;/groupId&gt;\r\n        &lt;artifactId&gt;unidecode&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Is there a Java library like Perl 5&#39;s Text::Unidecode?","body":"<p>There is another library for Java: <a href=\"https://github.com/jirutka/unidecode\" rel=\"nofollow noreferrer\">unidecode</a> (disclaimer: I’m the author of this library).</p>\n<p>Use with Gradle:</p>\n<pre><code>compile 'cz.jirutka.unidecode:unidecode:1.0.1'\n</code></pre>\n<p>Use with Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;cz.jirutka.unidecode&lt;/groupId&gt;\n    &lt;artifactId&gt;unidecode&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29074,"reputation":64370,"user_id":78259,"accept_rate":53,"display_name":"Chas. Owens"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1136,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":17429668,"answer_count":2,"score":3,"last_activity_date":1661203087,"creation_date":1372778021,"question_id":17429305,"body_markdown":"Perl 5 has a module on CPAN named [`Text::Unidecode`](http://search.cpan.org/dist/Text-Unidecode/lib/Text/Unidecode.pm) that transliterates Unicode into ASCII.  So, for instance, if you hand it the string `&quot;“北亰 — it’s the best”&quot;` it hands back the string `&quot;\\&quot;Bei Jing  -- it&#39;s the best\\&quot;&quot;`.  A quick search for Java libraries to do the same thing only turned up code that would strip Unicode characters or turn accented characters into non-accented characters.\r\n\r\nDoes anyone know of a Java library that produces similar output to `Text::Unidecode`?","title":"Is there a Java library like Perl 5&#39;s Text::Unidecode?","body":"<p>Perl 5 has a module on CPAN named <a href=\"http://search.cpan.org/dist/Text-Unidecode/lib/Text/Unidecode.pm\" rel=\"nofollow\"><code>Text::Unidecode</code></a> that transliterates Unicode into ASCII.  So, for instance, if you hand it the string <code>\"“北亰 — it’s the best”\"</code> it hands back the string <code>\"\\\"Bei Jing  -- it's the best\\\"\"</code>.  A quick search for Java libraries to do the same thing only turned up code that would strip Unicode characters or turn accented characters into non-accented characters.</p>\n\n<p>Does anyone know of a Java library that produces similar output to <code>Text::Unidecode</code>?</p>\n"},{"tags":["java","functional-programming","comparator"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661171111,"creation_date":1661168066,"answer_id":73444429,"question_id":73444169,"body_markdown":"If I understood the question correctly, you can use your function `pairToBinary` as an argument in [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)) to obtain a comparator of type `Comparator&lt;Pair&lt;Integer,?&gt;&gt;`.\r\n\r\n```\r\nrecord Pair&lt;L, R&gt;(L left, R right) {}\r\n    \r\nFunction&lt;Integer, String&gt; toBinary = Integer::toBinaryString;\r\nFunction&lt;Pair&lt;Integer, ?&gt;, Integer&gt; left = Pair::left;\r\nvar pairToBinary = left.andThen(toBinary); // has type Function&lt;Pair&lt;Integer, ?&gt;, String&gt;\r\n        \r\nComparator&lt;Pair&lt;Integer, ?&gt;&gt; comparator = Comparator.comparing(pairToBinary);\r\n```\r\n\r\nAlternatively, you can use another flavor of [`comparing(keyExtractor,keyComparator)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)), in this case you don&#39;t need to declare any of these functions:\r\n```\r\nComparator&lt;Pair&lt;Integer, ?&gt;&gt; comparator1 =\r\n    Comparator.comparing(Pair::left,                    // keyExtractor function\r\n        Comparator.comparing(Integer::toBinaryString)); // keyComparator which is capable of comparing objects produced by keyExtractor\r\n```\r\n\r\n&gt; I only have `Pair::left` and a `Comparator&lt;Integer&gt;`\r\n\r\nIf you have on your hands a *function* which produces `Integer` and `Comparator&lt;Integer&gt;`, that&#39;s precisely the use-case for `comparing(keyExtractor,keyComparator)`.\r\n\r\nYou need to provide a *function* (`Pair::left` or whatever) as the first argument and a *comparator*, which can compare objects produced by the *function*, as the second argument:\r\n```\r\nComparator.comparing(Pair::left, myIntComparator)\r\n```","title":"How do I map a Comparator&lt;T&gt; to a Comparator&lt;U&gt; using a Function&lt;T, U&gt;?","body":"<p>If I understood the question correctly, you can use your function <code>pairToBinary</code> as an argument in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a> to obtain a comparator of type <code>Comparator&lt;Pair&lt;Integer,?&gt;&gt;</code>.</p>\n<pre><code>record Pair&lt;L, R&gt;(L left, R right) {}\n    \nFunction&lt;Integer, String&gt; toBinary = Integer::toBinaryString;\nFunction&lt;Pair&lt;Integer, ?&gt;, Integer&gt; left = Pair::left;\nvar pairToBinary = left.andThen(toBinary); // has type Function&lt;Pair&lt;Integer, ?&gt;, String&gt;\n        \nComparator&lt;Pair&lt;Integer, ?&gt;&gt; comparator = Comparator.comparing(pairToBinary);\n</code></pre>\n<p>Alternatively, you can use another flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>comparing(keyExtractor,keyComparator)</code></a>, in this case you don't need to declare any of these functions:</p>\n<pre><code>Comparator&lt;Pair&lt;Integer, ?&gt;&gt; comparator1 =\n    Comparator.comparing(Pair::left,                    // keyExtractor function\n        Comparator.comparing(Integer::toBinaryString)); // keyComparator which is capable of comparing objects produced by keyExtractor\n</code></pre>\n<blockquote>\n<p>I only have <code>Pair::left</code> and a <code>Comparator&lt;Integer&gt;</code></p>\n</blockquote>\n<p>If you have on your hands a <em>function</em> which produces <code>Integer</code> and <code>Comparator&lt;Integer&gt;</code>, that's precisely the use-case for <code>comparing(keyExtractor,keyComparator)</code>.</p>\n<p>You need to provide a <em>function</em> (<code>Pair::left</code> or whatever) as the first argument and a <em>comparator</em>, which can compare objects produced by the <em>function</em>, as the second argument:</p>\n<pre><code>Comparator.comparing(Pair::left, myIntComparator)\n</code></pre>\n"}],"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73444429,"answer_count":1,"score":3,"last_activity_date":1661202931,"creation_date":1661166779,"question_id":73444169,"body_markdown":"I have a *comparator* of type `Comparator&lt;Integer&gt;` and a *function* `Function&lt;Pair&lt;Integer,?&gt;,Integer&gt;` expressed as `Pair::left` (that returns an `Integer`).\r\n\r\nI need to obtain a *comparator* of type `Comparator&lt;Pair&lt;Integer,?&gt;&gt;`.\r\n\r\nIf I wanted to simply map a *function* `Function&lt;T,U&gt;` to a *resulting function* `Function&lt;T,V&gt;` though a *function* `Function&lt;U,V&gt;` I could simply apply `andThen()` method like this:\r\n\r\n```java\r\nFunction&lt;Integer, String&gt; toBinary = Integer::toBinaryString;\r\nFunction&lt;Pair&lt;Integer, ?&gt;, Integer&gt; left = Pair::left;\r\n\r\nvar pairToBinary = left.andThen(toBinary); // has type Function&lt;Pair&lt;Integer, ?&gt;, String&gt;\r\n```\r\n\r\nIs it possible to obtain `Comparator&lt;Pair&lt;Integer,?&gt;&gt;` in a similar way?","title":"How do I map a Comparator&lt;T&gt; to a Comparator&lt;U&gt; using a Function&lt;T, U&gt;?","body":"<p>I have a <em>comparator</em> of type <code>Comparator&lt;Integer&gt;</code> and a <em>function</em> <code>Function&lt;Pair&lt;Integer,?&gt;,Integer&gt;</code> expressed as <code>Pair::left</code> (that returns an <code>Integer</code>).</p>\n<p>I need to obtain a <em>comparator</em> of type <code>Comparator&lt;Pair&lt;Integer,?&gt;&gt;</code>.</p>\n<p>If I wanted to simply map a <em>function</em> <code>Function&lt;T,U&gt;</code> to a <em>resulting function</em> <code>Function&lt;T,V&gt;</code> though a <em>function</em> <code>Function&lt;U,V&gt;</code> I could simply apply <code>andThen()</code> method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;Integer, String&gt; toBinary = Integer::toBinaryString;\nFunction&lt;Pair&lt;Integer, ?&gt;, Integer&gt; left = Pair::left;\n\nvar pairToBinary = left.andThen(toBinary); // has type Function&lt;Pair&lt;Integer, ?&gt;, String&gt;\n</code></pre>\n<p>Is it possible to obtain <code>Comparator&lt;Pair&lt;Integer,?&gt;&gt;</code> in a similar way?</p>\n"},{"tags":["java","spring-boot","amazon-sns","messaging","jms-topic"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1661977450,"post_id":73415588,"comment_id":129902630,"body_markdown":"Q: Is the question answered?  As you know, AWS has both SNS (&quot;Simple Notification Service&quot;) and SQS (Simple Queue Service), with many options for both.  I also noticed you haven&#39;t &quot;accepted&quot; a response since 2015...","body":"Q: Is the question answered?  As you know, AWS has both SNS (&quot;Simple Notification Service&quot;) and SQS (Simple Queue Service), with many options for both.  I also noticed you haven&#39;t &quot;accepted&quot; a response since 2015..."}],"answers":[{"tags":[],"owner":{"account_id":11458263,"reputation":809,"user_id":8398636,"display_name":"Osama Bin Saleem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660906619,"creation_date":1660906619,"answer_id":73415700,"question_id":73415588,"body_markdown":"You can configure an AWS lambda function using java as its runtime environment  to get triggered using AWS SNS. More info can be found [here][1]. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-sns.html","title":"Is it possible to consume message from AWS SNS without creating Subscription like ActiveMQ?","body":"<p>You can configure an AWS lambda function using java as its runtime environment  to get triggered using AWS SNS. More info can be found <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sns.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":114308,"reputation":2652,"user_id":300664,"accept_rate":96,"display_name":"bjrnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661201418,"creation_date":1661201418,"answer_id":73450892,"question_id":73415588,"body_markdown":"In general, pub/sub systems always require subscriptions to receive messages.\r\n\r\nHowever, Amazon SNS supports delivering messages to platform application endpoints (for delivering push notifications) and phone numbers (for sending SMS) without creating subscriptions. All other types of destinations will require a subscription.","title":"Is it possible to consume message from AWS SNS without creating Subscription like ActiveMQ?","body":"<p>In general, pub/sub systems always require subscriptions to receive messages.</p>\n<p>However, Amazon SNS supports delivering messages to platform application endpoints (for delivering push notifications) and phone numbers (for sending SMS) without creating subscriptions. All other types of destinations will require a subscription.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661202690,"creation_date":1661202376,"answer_id":73451012,"question_id":73415588,"body_markdown":"AWS has two &quot;messaging&quot; services:\r\n* [SNS](https://aws.amazon.com/sns/) (Simple Notification Service): Send &quot;notifications&quot; to an &quot;endpoint&quot;\r\n* [SQS](https://aws.amazon.com/sqs/) (Simple Queue Service):  a fully managed message queuing service\r\n\r\nIf you *WANTED* pub/sub (analogous to ActiveMQ sub/sub), then you&#39;d probably use SQS.\r\n\r\nTo answer your question: No, you DON&#39;T need to create a &quot;subscriber&quot;.  \r\n\r\nStrictly speaking, you don&#39;t even need to create an SNS Topic:  just fire off a &quot;message&quot; to an &quot;endpoint&quot;. Per the documentation:\r\n\r\n&gt; https://docs.aws.amazon.com/sns/latest/dg/sns-create-topic.html\r\n&gt; \r\n&gt; *SNS topic* is a logical access point that acts as a communication channel. A topic lets you group multiple endpoints (such as AWS\r\n&gt; Lambda, Amazon SQS, HTTP/S, or an email address).\r\n\r\nYour challenge is how to get an external Java app to &quot;listen&quot; for the notification.  This AWS example, [Working with Amazon Simple Notification Service](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-simple-notification-service.html) creates a topic and assigns a subscriber.  It&#39;s a good solution ... but there are plenty of other alternatives.  It all depends on your application, the application&#39;s platform... and your personal preference.\r\n","title":"Is it possible to consume message from AWS SNS without creating Subscription like ActiveMQ?","body":"<p>AWS has two &quot;messaging&quot; services:</p>\n<ul>\n<li><a href=\"https://aws.amazon.com/sns/\" rel=\"nofollow noreferrer\">SNS</a> (Simple Notification Service): Send &quot;notifications&quot; to an &quot;endpoint&quot;</li>\n<li><a href=\"https://aws.amazon.com/sqs/\" rel=\"nofollow noreferrer\">SQS</a> (Simple Queue Service):  a fully managed message queuing service</li>\n</ul>\n<p>If you <em>WANTED</em> pub/sub (analogous to ActiveMQ sub/sub), then you'd probably use SQS.</p>\n<p>To answer your question: No, you DON'T need to create a &quot;subscriber&quot;.</p>\n<p>Strictly speaking, you don't even need to create an SNS Topic:  just fire off a &quot;message&quot; to an &quot;endpoint&quot;. Per the documentation:</p>\n<blockquote>\n<p><a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-create-topic.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sns/latest/dg/sns-create-topic.html</a></p>\n<p><em>SNS topic</em> is a logical access point that acts as a communication channel. A topic lets you group multiple endpoints (such as AWS\nLambda, Amazon SQS, HTTP/S, or an email address).</p>\n</blockquote>\n<p>Your challenge is how to get an external Java app to &quot;listen&quot; for the notification.  This AWS example, <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-simple-notification-service.html\" rel=\"nofollow noreferrer\">Working with Amazon Simple Notification Service</a> creates a topic and assigns a subscriber.  It's a good solution ... but there are plenty of other alternatives.  It all depends on your application, the application's platform... and your personal preference.</p>\n"}],"owner":{"account_id":1152375,"reputation":103,"user_id":1133806,"display_name":"Manish Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2500,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1661202690,"creation_date":1660906066,"question_id":73415588,"body_markdown":"When any message publishes to AWS SNS Topic then the listener (java code) can consume the message from SNS Topic without creating any subscriber. I want to achieve a publish-subscriber pattern like ActiveMQ using AWS SNS.","title":"Is it possible to consume message from AWS SNS without creating Subscription like ActiveMQ?","body":"<p>When any message publishes to AWS SNS Topic then the listener (java code) can consume the message from SNS Topic without creating any subscriber. I want to achieve a publish-subscriber pattern like ActiveMQ using AWS SNS.</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1582792908,"post_id":60426822,"comment_id":106901360,"body_markdown":"This is not even a JNI issue. You were supposed to write `Properties[] records = this.sayHello();` Please pick up a basic Java book.","body":"This is not even a JNI issue. You were supposed to write <code>Properties[] records = this.sayHello();</code> Please pick up a basic Java book."}],"answers":[{"tags":[],"owner":{"account_id":25916243,"reputation":1,"user_id":19639597,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661201992,"creation_date":1660825418,"answer_id":73403027,"question_id":60426822,"body_markdown":"Try using,\r\n\r\n    Properties[] records = new Properties[1000];\r\n    records = new eventJava().sayHello();","title":"How to Display a Windows event Log details in jni the return data must be array of properties","body":"<p>Try using,</p>\n<pre><code>Properties[] records = new Properties[1000];\nrecords = new eventJava().sayHello();\n</code></pre>\n"}],"owner":{"account_id":10207797,"reputation":19,"user_id":7535974,"display_name":"naveen kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661201992,"creation_date":1582781615,"question_id":60426822,"body_markdown":"eventJava.java\r\n```\r\nimport java.util.*;\r\n\r\npublic class eventJava{  \r\n\r\n    static{\r\n        System.loadLibrary(&quot;event&quot;); \r\n    }\r\n \r\n    public native Properties[] sayHello();\r\n    public static void main(String[] args) {\r\n      \r\n        \r\n                   \r\n       try {\r\n        Properties[] records = new Properties[1000];\r\n        records = new sayHello();  \r\n      } catch (UnsatisfiedLinkError e) {\r\n          System.out.println(&quot;Couldn&#39;t call native function.\\n&quot; + e);\r\n      }\r\n       // Create an instance and invoke the native method\r\n \r\n          \r\n       for(Properties record:records){\r\n           System.out.print(&quot;type:&quot;+record.getProperty(&quot;type&quot;));\r\n           System.out.print(&quot;\\ttime:&quot;+record.getProperty(&quot;time&quot;));\r\n           System.out.print(&quot;\\tsource:&quot;+record.getProperty(&quot;source&quot;));\r\n           System.out.print(&quot;\\teid:&quot;+record.getProperty(&quot;eid&quot;));\r\n           System.out.println(&quot;\\n&quot;);\r\n       }\r\n       \r\n    }\r\n }\r\n \r\n```\r\n\r\nevent.cpp\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &quot;eventJava.h&quot;\r\n#include &lt;windows.h&gt;\r\n#include &lt;stdio.h&gt;\r\n#include &lt;bits/stdc++.h&gt;  \r\n#include &lt;winbase.h&gt;\r\n#include&lt;string.h&gt;\r\n#include &lt;iostream&gt;  \r\n#include&lt;vector&gt;\r\n\r\n#define BUFFER_SIZE 1024*128\r\n#define MAX_TIMESTAMP_LEN       23 + 1 \r\n#define MAX_WORD_LEN       1000 \r\n\r\nusing namespace std;\r\n\r\n\r\nstruct SearchRecord {\r\n    string type;\r\n    string time;\r\n    string source;\r\n    string eid;\r\n   \r\n};\r\n\r\nvoid FillEventRecordDetails(std::vector&lt;SearchRecord*&gt;* searchRecordResult ){\r\n{\r\n\r\n    HANDLE h;\r\n    int i=0,j=0;\r\n    EVENTLOGRECORD *pevlr;\r\n    BYTE bBuffer[BUFFER_SIZE];\r\n    DWORD dwRead, dwNeeded, dwThisRecord;\r\n  \r\n    // Open the Application event log.\r\n \r\n    h = OpenEventLog( NULL,    \r\n             &quot;Application&quot;);   \r\n    if (h == NULL)\r\n    {\r\n        printf(&quot;Could not open the Application event log.&quot;);\r\n        return 0;\r\n    }\r\n \r\n    pevlr = (EVENTLOGRECORD *) &amp;bBuffer;\r\n    GetOldestEventLogRecord(h, &amp;dwThisRecord);\r\n\r\n    while (ReadEventLog(h,                // event log handle\r\n                EVENTLOG_FORWARDS_READ |  // reads forward\r\n                EVENTLOG_SEQUENTIAL_READ, // sequential read\r\n                0,            // ignored for sequential reads\r\n                pevlr,        // pointer to buffer\r\n                BUFFER_SIZE,  // size of buffer\r\n                &amp;dwRead,      // number of bytes read\r\n                &amp;dwNeeded))   // bytes in next record\r\n    {\r\n        while (dwRead &gt; 0)\r\n        {\r\n\r\n\t\t\r\n \t\t\t//TIME\r\n\t\t\tstring type;\r\n            switch(pevlr-&gt;EventType)\r\n            {\r\n                case EVENTLOG_ERROR_TYPE:\r\n                  // printf(&quot;ERROR\\t  &quot;);\r\n                   type = &quot;ERROR&quot;;\r\n                    break;\r\n                case EVENTLOG_WARNING_TYPE:\r\n                   // printf(&quot;WARNING\\t  &quot;);\r\n                    type = &quot;WARNING&quot;;\r\n                    break;\r\n                case EVENTLOG_INFORMATION_TYPE:\r\n                   // printf(&quot;INFORMATION \\t &quot;);\r\n                    type = &quot;INFORMATION&quot;;\r\n                    break;\r\n                case EVENTLOG_AUDIT_SUCCESS:\r\n                 //  printf(&quot;AUDIT_SUCCESS\\t  &quot;);\r\n                    type = &quot;AUDIT_SUCCESS&quot;;\r\n                    break;\r\n                case EVENTLOG_AUDIT_FAILURE:\r\n                 //  printf(&quot;AUDIT_FAILURE\\t  &quot;);\r\n                    type = &quot;AUDIT_FAILURE&quot;;\r\n                    break;\r\n                default:\r\n                 //   printf(&quot;Unknown &quot;);\r\n                    type = &quot;Unknown&quot;;\r\n                    break;\r\n            }\r\n\t\t\t\t\r\n\t\t\t//TIME\r\n\t\t  \tDWORD Time = ((PEVENTLOGRECORD)pevlr)-&gt;TimeGenerated ;\r\n\t\t\tULONGLONG ullTimeStamp = 0;\r\n\t\t    ULONGLONG SecsTo1970 = 116444736000000000;\r\n\t\t    SYSTEMTIME st;\r\n\t\t    FILETIME ft, ftLocal;\r\n\t\t    ullTimeStamp = Int32x32To64(Time, 10000000) + SecsTo1970;\r\n\t\t    ft.dwHighDateTime = (DWORD)((ullTimeStamp &gt;&gt; 32) &amp; 0xFFFFFFFF);\r\n\t\t    ft.dwLowDateTime = (DWORD)(ullTimeStamp &amp; 0xFFFFFFFF);   \r\n\t\t    FileTimeToLocalFileTime(&amp;ft, &amp;ftLocal);\r\n\t\t    FileTimeToSystemTime(&amp;ftLocal, &amp;st);   \r\n\t\t    ostringstream mon1 , day1 ,year1,hour1,min1,sec1; \r\n\t\t\tmon1 &lt;&lt; st.wMonth ;day1 &lt;&lt; st.wDay ;year1 &lt;&lt; st.wYear ;hour1 &lt;&lt; st.wHour ;min1 &lt;&lt; st.wMinute ;sec1 &lt;&lt; st.wSecond ;\r\n\t\t\tstring mon = mon1.str();string day = day1.str();string year = year1.str();string hour = hour1.str();string min = min1.str();string sec = sec1.str();\r\n\t\t\tstring time = day+&quot;-&quot;+mon+&quot;-&quot;+year+&quot; &quot;+hour+&quot;:&quot;+min+&quot;:&quot;+sec;\r\n\t\t\t\r\n\t\t\tint id = ((PEVENTLOGRECORD)pevlr)-&gt;EventID &amp; 0xFFFF;\r\n\t\t\tostringstream temp;\r\n\t\t\ttemp &lt;&lt; id;\r\n\t\t\tstring eid = temp.str();  \r\n\t\t\t\r\n\t\t\t \r\n\t\t\tstring source =  (LPSTR) ((LPBYTE) pevlr + sizeof(EVENTLOGRECORD));\r\n\t\t\r\n\t\t\t\t\t\t\r\n\t\t\tSearchRecord *pRecord = new SearchRecord();\r\n\t\t    pRecord-&gt;type = type;\r\n\t\t    pRecord-&gt;time = time;\r\n\t\t   \tpRecord-&gt;eid = eid;\r\n\t\t    pRecord-&gt;source = source;\r\n\t\t    searchRecordResult.push_back(pRecord);\r\n \t\t\t\r\n            dwRead -= pevlr-&gt;Length;\r\n            pevlr = (EVENTLOGRECORD *)\r\n                ((LPBYTE) pevlr + pevlr-&gt;Length);\r\n                \r\n\t\t\t   \r\n        }\r\n         \r\n        pevlr = (EVENTLOGRECORD *) &amp;bBuffer;\r\n    }\r\n\r\n    CloseEventLog(h);\r\n  \r\n}\r\n\r\n\r\nextern &quot;C&quot;\r\nJNIEXPORT jobjectArray JNICALL Java_eventJava_sayHello\r\n  (JNIEnv *env, jobject obj){\r\n\t\r\n\t vector&lt;SearchRecord*&gt; searchRecordResult ;\r\n\t FillEventRecordDetails(&amp;searchRecordResult);\r\n    // Get Properties class, its constructor and the put method\r\n    jclass cls_Properties = env-&gt;FindClass(&quot;java/util/Properties&quot;);\r\n    jmethodID mid_Properties_ctor = env-&gt;GetMethodID(cls_Properties, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n    jmethodID mid_Properties_put = env-&gt;GetMethodID(cls_Properties, &quot;put&quot;, &quot;(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;);\r\n\r\n    // Construct the key Strings up front\r\n    jstring key_type = env-&gt;NewStringUTF(&quot;type&quot;);\r\n    jstring key_time = env-&gt;NewStringUTF(&quot;time&quot;);\r\n    jstring key_source = env-&gt;NewStringUTF(&quot;source&quot;);\r\n    jstring key_eid = env-&gt;NewStringUTF(&quot;eid&quot;);\r\n\r\n    jobjectArray ret = env-&gt;NewObjectArray(searchRecordResult.size(), cls_Properties, 0);\r\n    for (int i = 0; i &lt; searchRecordResult.size(); i++) {\r\n        auto result = searchRecordResult[i];\r\n        // Allocate and fill a Properties object, making sure to clean up the value Strings.\r\n        env-&gt;PushLocalFrame(5);\r\n        jobject prop = env-&gt;NewObject(cls_Properties, mid_Properties_ctor);\r\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_type, env-&gt;NewStringUTF(result-&gt;type));\r\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_time, env-&gt;NewStringUTF(result-&gt;time));\r\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_source, env-&gt;NewStringUTF(result-&gt;source));\r\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_eid, env-&gt;NewStringUTF(result-&gt;eid));\r\n        prop = env-&gt;PopLocalFrame(prop);\r\n        env-&gt;SetObjectArrayElement(ret, i, prop);\r\n    }\r\n\r\n    return ret;\r\n}\r\n```\r\n\r\nWhile compiling java shows error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eAz98.png\r\n\r\nand I wish to get data from cpp data to java using jni Array of properties is must\r\n\r\n\r\nGetting windows log using cpp is working well but jni event i done this without properties array but i want it using properties  array  \r\n","title":"How to Display a Windows event Log details in jni the return data must be array of properties","body":"<p>eventJava.java</p>\n\n<pre><code>import java.util.*;\n\npublic class eventJava{  \n\n    static{\n        System.loadLibrary(\"event\"); \n    }\n\n    public native Properties[] sayHello();\n    public static void main(String[] args) {\n\n\n\n       try {\n        Properties[] records = new Properties[1000];\n        records = new sayHello();  \n      } catch (UnsatisfiedLinkError e) {\n          System.out.println(\"Couldn't call native function.\\n\" + e);\n      }\n       // Create an instance and invoke the native method\n\n\n       for(Properties record:records){\n           System.out.print(\"type:\"+record.getProperty(\"type\"));\n           System.out.print(\"\\ttime:\"+record.getProperty(\"time\"));\n           System.out.print(\"\\tsource:\"+record.getProperty(\"source\"));\n           System.out.print(\"\\teid:\"+record.getProperty(\"eid\"));\n           System.out.println(\"\\n\");\n       }\n\n    }\n }\n\n</code></pre>\n\n<p>event.cpp</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include \"eventJava.h\"\n#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;bits/stdc++.h&gt;  \n#include &lt;winbase.h&gt;\n#include&lt;string.h&gt;\n#include &lt;iostream&gt;  \n#include&lt;vector&gt;\n\n#define BUFFER_SIZE 1024*128\n#define MAX_TIMESTAMP_LEN       23 + 1 \n#define MAX_WORD_LEN       1000 \n\nusing namespace std;\n\n\nstruct SearchRecord {\n    string type;\n    string time;\n    string source;\n    string eid;\n\n};\n\nvoid FillEventRecordDetails(std::vector&lt;SearchRecord*&gt;* searchRecordResult ){\n{\n\n    HANDLE h;\n    int i=0,j=0;\n    EVENTLOGRECORD *pevlr;\n    BYTE bBuffer[BUFFER_SIZE];\n    DWORD dwRead, dwNeeded, dwThisRecord;\n\n    // Open the Application event log.\n\n    h = OpenEventLog( NULL,    \n             \"Application\");   \n    if (h == NULL)\n    {\n        printf(\"Could not open the Application event log.\");\n        return 0;\n    }\n\n    pevlr = (EVENTLOGRECORD *) &amp;bBuffer;\n    GetOldestEventLogRecord(h, &amp;dwThisRecord);\n\n    while (ReadEventLog(h,                // event log handle\n                EVENTLOG_FORWARDS_READ |  // reads forward\n                EVENTLOG_SEQUENTIAL_READ, // sequential read\n                0,            // ignored for sequential reads\n                pevlr,        // pointer to buffer\n                BUFFER_SIZE,  // size of buffer\n                &amp;dwRead,      // number of bytes read\n                &amp;dwNeeded))   // bytes in next record\n    {\n        while (dwRead &gt; 0)\n        {\n\n\n            //TIME\n            string type;\n            switch(pevlr-&gt;EventType)\n            {\n                case EVENTLOG_ERROR_TYPE:\n                  // printf(\"ERROR\\t  \");\n                   type = \"ERROR\";\n                    break;\n                case EVENTLOG_WARNING_TYPE:\n                   // printf(\"WARNING\\t  \");\n                    type = \"WARNING\";\n                    break;\n                case EVENTLOG_INFORMATION_TYPE:\n                   // printf(\"INFORMATION \\t \");\n                    type = \"INFORMATION\";\n                    break;\n                case EVENTLOG_AUDIT_SUCCESS:\n                 //  printf(\"AUDIT_SUCCESS\\t  \");\n                    type = \"AUDIT_SUCCESS\";\n                    break;\n                case EVENTLOG_AUDIT_FAILURE:\n                 //  printf(\"AUDIT_FAILURE\\t  \");\n                    type = \"AUDIT_FAILURE\";\n                    break;\n                default:\n                 //   printf(\"Unknown \");\n                    type = \"Unknown\";\n                    break;\n            }\n\n            //TIME\n            DWORD Time = ((PEVENTLOGRECORD)pevlr)-&gt;TimeGenerated ;\n            ULONGLONG ullTimeStamp = 0;\n            ULONGLONG SecsTo1970 = 116444736000000000;\n            SYSTEMTIME st;\n            FILETIME ft, ftLocal;\n            ullTimeStamp = Int32x32To64(Time, 10000000) + SecsTo1970;\n            ft.dwHighDateTime = (DWORD)((ullTimeStamp &gt;&gt; 32) &amp; 0xFFFFFFFF);\n            ft.dwLowDateTime = (DWORD)(ullTimeStamp &amp; 0xFFFFFFFF);   \n            FileTimeToLocalFileTime(&amp;ft, &amp;ftLocal);\n            FileTimeToSystemTime(&amp;ftLocal, &amp;st);   \n            ostringstream mon1 , day1 ,year1,hour1,min1,sec1; \n            mon1 &lt;&lt; st.wMonth ;day1 &lt;&lt; st.wDay ;year1 &lt;&lt; st.wYear ;hour1 &lt;&lt; st.wHour ;min1 &lt;&lt; st.wMinute ;sec1 &lt;&lt; st.wSecond ;\n            string mon = mon1.str();string day = day1.str();string year = year1.str();string hour = hour1.str();string min = min1.str();string sec = sec1.str();\n            string time = day+\"-\"+mon+\"-\"+year+\" \"+hour+\":\"+min+\":\"+sec;\n\n            int id = ((PEVENTLOGRECORD)pevlr)-&gt;EventID &amp; 0xFFFF;\n            ostringstream temp;\n            temp &lt;&lt; id;\n            string eid = temp.str();  \n\n\n            string source =  (LPSTR) ((LPBYTE) pevlr + sizeof(EVENTLOGRECORD));\n\n\n            SearchRecord *pRecord = new SearchRecord();\n            pRecord-&gt;type = type;\n            pRecord-&gt;time = time;\n            pRecord-&gt;eid = eid;\n            pRecord-&gt;source = source;\n            searchRecordResult.push_back(pRecord);\n\n            dwRead -= pevlr-&gt;Length;\n            pevlr = (EVENTLOGRECORD *)\n                ((LPBYTE) pevlr + pevlr-&gt;Length);\n\n\n        }\n\n        pevlr = (EVENTLOGRECORD *) &amp;bBuffer;\n    }\n\n    CloseEventLog(h);\n\n}\n\n\nextern \"C\"\nJNIEXPORT jobjectArray JNICALL Java_eventJava_sayHello\n  (JNIEnv *env, jobject obj){\n\n     vector&lt;SearchRecord*&gt; searchRecordResult ;\n     FillEventRecordDetails(&amp;searchRecordResult);\n    // Get Properties class, its constructor and the put method\n    jclass cls_Properties = env-&gt;FindClass(\"java/util/Properties\");\n    jmethodID mid_Properties_ctor = env-&gt;GetMethodID(cls_Properties, \"&lt;init&gt;\", \"()V\");\n    jmethodID mid_Properties_put = env-&gt;GetMethodID(cls_Properties, \"put\", \"(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\");\n\n    // Construct the key Strings up front\n    jstring key_type = env-&gt;NewStringUTF(\"type\");\n    jstring key_time = env-&gt;NewStringUTF(\"time\");\n    jstring key_source = env-&gt;NewStringUTF(\"source\");\n    jstring key_eid = env-&gt;NewStringUTF(\"eid\");\n\n    jobjectArray ret = env-&gt;NewObjectArray(searchRecordResult.size(), cls_Properties, 0);\n    for (int i = 0; i &lt; searchRecordResult.size(); i++) {\n        auto result = searchRecordResult[i];\n        // Allocate and fill a Properties object, making sure to clean up the value Strings.\n        env-&gt;PushLocalFrame(5);\n        jobject prop = env-&gt;NewObject(cls_Properties, mid_Properties_ctor);\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_type, env-&gt;NewStringUTF(result-&gt;type));\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_time, env-&gt;NewStringUTF(result-&gt;time));\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_source, env-&gt;NewStringUTF(result-&gt;source));\n        env-&gt;CallObjectMethod(prop, mid_Properties_put, key_eid, env-&gt;NewStringUTF(result-&gt;eid));\n        prop = env-&gt;PopLocalFrame(prop);\n        env-&gt;SetObjectArrayElement(ret, i, prop);\n    }\n\n    return ret;\n}\n</code></pre>\n\n<p>While compiling java shows error</p>\n\n<p><a href=\"https://i.stack.imgur.com/eAz98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAz98.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I wish to get data from cpp data to java using jni Array of properties is must</p>\n\n<p>Getting windows log using cpp is working well but jni event i done this without properties array but i want it using properties  array  </p>\n"},{"tags":["java","arrays","string","formatting"],"comments":[{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1376676945,"post_id":18279622,"comment_id":26814626,"body_markdown":"I&#39;m pretty sure you could just invoke `toString()` on your `ArrayList` and it will return the `toString()` of each element in your array separated by a comma. If you don&#39;t like the `[` and `]`, you could just take those out. Something like [this](http://ideone.com/wBmvua)","body":"I&#39;m pretty sure you could just invoke <code>toString()</code> on your <code>ArrayList</code> and it will return the <code>toString()</code> of each element in your array separated by a comma. If you don&#39;t like the <code>[</code> and <code>]</code>, you could just take those out. Something like <a href=\"http://ideone.com/wBmvua\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1472329833,"creation_date":1376676792,"answer_id":18279659,"question_id":18279622,"body_markdown":"Print the first word on its own if it exists. Then print the pattern as comma first, then the next element.\r\n\r\n    if (arrayListWords.length &gt;= 1) {\r\n        System.out.print(arrayListWords[0]);\r\n    }\r\n\r\n    // note that i starts at 1, since we already printed the element at index 0\r\n    for (int i = 1; i &lt; arrayListWords.length, i++) { \r\n         System.out.print(&quot;, &quot; + arrayListWords[i]);\r\n    }\r\n\r\nWith a `List`, you&#39;re better off using an `Iterator`\r\n\r\n    // assume String\r\n    Iterator&lt;String&gt; it = arrayListWords.iterator();\r\n    if (it.hasNext()) {\r\n        System.out.print(it.next());\r\n    }\r\n    while (it.hasNext()) {\r\n        System.out.print(&quot;, &quot; + it.next());\r\n    }","title":"Print out elements from an Array with a Comma between the elements","body":"<p>Print the first word on its own if it exists. Then print the pattern as comma first, then the next element.</p>\n\n<pre><code>if (arrayListWords.length &gt;= 1) {\n    System.out.print(arrayListWords[0]);\n}\n\n// note that i starts at 1, since we already printed the element at index 0\nfor (int i = 1; i &lt; arrayListWords.length, i++) { \n     System.out.print(\", \" + arrayListWords[i]);\n}\n</code></pre>\n\n<p>With a <code>List</code>, you're better off using an <code>Iterator</code></p>\n\n<pre><code>// assume String\nIterator&lt;String&gt; it = arrayListWords.iterator();\nif (it.hasNext()) {\n    System.out.print(it.next());\n}\nwhile (it.hasNext()) {\n    System.out.print(\", \" + it.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376676972,"creation_date":1376676972,"answer_id":18279706,"question_id":18279622,"body_markdown":"You can use an `Iterator` on the `List` to check whether there are more elements.\r\n\r\nYou can then append the comma only if the current element is not the last element.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final List&lt;String&gt; words = Arrays.asList(new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;});\r\n\r\n        final Iterator&lt;String&gt; wordIter = words.iterator();\r\n        final StringBuilder out = new StringBuilder();\r\n        while (wordIter.hasNext()) {\r\n            out.append(wordIter.next());\r\n            if (wordIter.hasNext()) {\r\n                out.append(&quot;,&quot;);\r\n            }\r\n        }\r\n        System.out.println(out.toString());\r\n    }\r\nHowever it is much easier to use a 3rd party library like [Guava][1] to do this for you. The code then becomes:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final List&lt;String&gt; words = Arrays.asList(new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;});\r\n        System.out.println(Joiner.on(&quot;,&quot;).join(words));\r\n    }\r\n\r\n\r\n[1]: http://en.wikipedia.org/wiki/Guava","title":"Print out elements from an Array with a Comma between the elements","body":"<p>You can use an <code>Iterator</code> on the <code>List</code> to check whether there are more elements.</p>\n\n<p>You can then append the comma only if the current element is not the last element.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final List&lt;String&gt; words = Arrays.asList(new String[]{\"one\", \"two\", \"three\", \"four\"});\n\n    final Iterator&lt;String&gt; wordIter = words.iterator();\n    final StringBuilder out = new StringBuilder();\n    while (wordIter.hasNext()) {\n        out.append(wordIter.next());\n        if (wordIter.hasNext()) {\n            out.append(\",\");\n        }\n    }\n    System.out.println(out.toString());\n}\n</code></pre>\n\n<p>However it is much easier to use a 3rd party library like <a href=\"http://en.wikipedia.org/wiki/Guava\" rel=\"nofollow\">Guava</a> to do this for you. The code then becomes:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final List&lt;String&gt; words = Arrays.asList(new String[]{\"one\", \"two\", \"three\", \"four\"});\n    System.out.println(Joiner.on(\",\").join(words));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376677129,"creation_date":1376677129,"answer_id":18279747,"question_id":18279622,"body_markdown":" You can try this\r\n\r\n        List&lt;String&gt; listWords= Arrays.asList(arrayListWords); // convert array to List\r\n        StringBuilder sb=new StringBuilder();\r\n        sb.append(listWords);\r\n        System.out.println(sb.toString().replaceAll(&quot;\\\\[|\\\\]&quot;,&quot;&quot;));","title":"Print out elements from an Array with a Comma between the elements","body":"<p>You can try this</p>\n\n<pre><code>    List&lt;String&gt; listWords= Arrays.asList(arrayListWords); // convert array to List\n    StringBuilder sb=new StringBuilder();\n    sb.append(listWords);\n    System.out.println(sb.toString().replaceAll(\"\\\\[|\\\\]\",\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376677165,"creation_date":1376677165,"answer_id":18279756,"question_id":18279622,"body_markdown":"While iterating, you can append the `String s` to the `StringBuilder` and at the end, you can delete the last 2 chars which is an extra `,` and a space (`res.length() -2`)\r\n\r\n    StringBuilder res = new StringBuilder();\r\n    for (String s : arrayListWords) {\r\n    \tres.append(s).append(&quot;, &quot;);\r\n    }\r\n    System.out.println(res.deleteCharAt(res.length()-2).toString());","title":"Print out elements from an Array with a Comma between the elements","body":"<p>While iterating, you can append the <code>String s</code> to the <code>StringBuilder</code> and at the end, you can delete the last 2 chars which is an extra <code>,</code> and a space (<code>res.length() -2</code>)</p>\n\n<pre><code>StringBuilder res = new StringBuilder();\nfor (String s : arrayListWords) {\n    res.append(s).append(\", \");\n}\nSystem.out.println(res.deleteCharAt(res.length()-2).toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3182912,"reputation":119,"user_id":2689261,"display_name":"akkerman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376677378,"creation_date":1376677378,"answer_id":18279811,"question_id":18279622,"body_markdown":"You could use a standard function in the java.util package and remove the block quotes at start and end.\r\n\r\n    String str = java.util.Arrays.toString(arrayListWords);\r\n    str = str.substring(1,str.length()-1);\r\n    System.out.println(str);","title":"Print out elements from an Array with a Comma between the elements","body":"<p>You could use a standard function in the java.util package and remove the block quotes at start and end.</p>\n\n<pre><code>String str = java.util.Arrays.toString(arrayListWords);\nstr = str.substring(1,str.length()-1);\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3122652,"reputation":31,"user_id":2642125,"display_name":"Rohit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1376677405,"creation_date":1376677405,"answer_id":18279816,"question_id":18279622,"body_markdown":"Just use the toString() method.\r\n\r\n    String s = arrayListWords.toString();\r\n    System.out.println(s);\r\n\r\n    //This will print it like this: &quot;[one, two, three, four]&quot;\r\n    //If you want to remove the brackets you can do so easily. Just change the way you print.","title":"Print out elements from an Array with a Comma between the elements","body":"<p>Just use the toString() method.</p>\n\n<pre><code>String s = arrayListWords.toString();\nSystem.out.println(s);\n\n//This will print it like this: \"[one, two, three, four]\"\n//If you want to remove the brackets you can do so easily. Just change the way you print.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8563815,"reputation":201,"user_id":6416998,"display_name":"Mav"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1464905940,"creation_date":1464905525,"answer_id":37602997,"question_id":18279622,"body_markdown":"I would write it this way:\r\n    \r\n    String separator = &quot;&quot;;  // separator here is your &quot;,&quot;\r\n\r\n    for (String s : arrayListWords) {\r\n        System.out.print(separator + s);\r\n        separator = &quot;,&quot;;\r\n    }\r\n    \r\nIf arrayListWords has two words, it should print out\r\nA,B  \r\n","title":"Print out elements from an Array with a Comma between the elements","body":"<p>I would write it this way:</p>\n\n<pre><code>String separator = \"\";  // separator here is your \",\"\n\nfor (String s : arrayListWords) {\n    System.out.print(separator + s);\n    separator = \",\";\n}\n</code></pre>\n\n<p>If arrayListWords has two words, it should print out\nA,B  </p>\n"},{"tags":[],"owner":{"account_id":400721,"reputation":8383,"user_id":766855,"accept_rate":100,"display_name":"Camilo Silva"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1477512278,"creation_date":1477512278,"answer_id":40271223,"question_id":18279622,"body_markdown":"Using Java 8 Streams:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Stream.of(arrayListWords).collect(Collectors.joining(&quot;, &quot;));","title":"Print out elements from an Array with a Comma between the elements","body":"<p>Using Java 8 Streams:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(arrayListWords).collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487161243,"creation_date":1487160869,"answer_id":42249133,"question_id":18279622,"body_markdown":"Here is what I come up with: \r\n\r\n    String join = &quot;&quot;;\r\n        \r\n    // solution 1\r\n    List&lt;String&gt; strList = Arrays.asList(new String[] {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;});\r\n    for(String s: strList) {\r\n       int idx = strList.indexOf(s);\r\n       join += (idx == strList.size()-1) ? s : s + &quot;,&quot;;\r\n    }\r\n    System.out.println(join);\r\n\r\n    // solution 2 \r\n    join = &quot;&quot;;\r\n    for(String s: strList) {    \r\n       join += s + &quot;,&quot;;\r\n    }\r\n        \r\n    join = join.substring(0, join.length()-1);\r\n    System.out.println(join);\r\n\r\n    // solution 3  \r\n    join = &quot;&quot;;\r\n    int count = 0;\r\n    for(String s: strList) {    \r\n       join += (count == strlist.size()-1) ? s: s + &quot;,&quot;;\r\n       count++;\r\n    }\r\n\r\n    System.out.println(join);\r\n\r\n\r\noff course we can utalise `StringBuilder` but of all solutions, I like `@Mav` answer as it&#39;s more efficient and clean.  ","title":"Print out elements from an Array with a Comma between the elements","body":"<p>Here is what I come up with: </p>\n\n<pre><code>String join = \"\";\n\n// solution 1\nList&lt;String&gt; strList = Arrays.asList(new String[] {\"1\", \"2\", \"3\"});\nfor(String s: strList) {\n   int idx = strList.indexOf(s);\n   join += (idx == strList.size()-1) ? s : s + \",\";\n}\nSystem.out.println(join);\n\n// solution 2 \njoin = \"\";\nfor(String s: strList) {    \n   join += s + \",\";\n}\n\njoin = join.substring(0, join.length()-1);\nSystem.out.println(join);\n\n// solution 3  \njoin = \"\";\nint count = 0;\nfor(String s: strList) {    \n   join += (count == strlist.size()-1) ? s: s + \",\";\n   count++;\n}\n\nSystem.out.println(join);\n</code></pre>\n\n<p>off course we can utalise <code>StringBuilder</code> but of all solutions, I like <code>@Mav</code> answer as it's more efficient and clean.  </p>\n"},{"tags":[],"owner":{"account_id":3669160,"reputation":1301,"user_id":3056745,"display_name":"Lital Kolog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553278730,"creation_date":1500966136,"answer_id":45296129,"question_id":18279622,"body_markdown":"With Java 8 it got much easier, no need for 3rd parties - \r\n\r\n    final List&lt;String&gt; words = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n    Optional&lt;String&gt; wordsAsString = words.stream().reduce((w1, w2) -&gt; w1 + &quot;,&quot; + w2);\r\n    wordsAsString.ifPresent(System.out::println); \r\n\r\n","title":"Print out elements from an Array with a Comma between the elements","body":"<p>With Java 8 it got much easier, no need for 3rd parties - </p>\n\n<pre><code>final List&lt;String&gt; words = Arrays.asList(\"one\", \"two\", \"three\", \"four\");\nOptional&lt;String&gt; wordsAsString = words.stream().reduce((w1, w2) -&gt; w1 + \",\" + w2);\nwordsAsString.ifPresent(System.out::println); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11882885,"reputation":119,"user_id":8696107,"display_name":"Asparuh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513964978,"creation_date":1513964978,"answer_id":47945434,"question_id":18279622,"body_markdown":"    StringJoiner str = new StringJoiner(&quot;, &quot;);\r\n    str.add(&quot;Aplha&quot;).add(&quot;Beta&quot;).add(&quot;Gamma&quot;);\r\n    \r\n    String result = str.toString();\r\n    System.out.println(&quot;The result is: &quot; + result);\r\n\r\n*The output:\r\nThe result is: Aplha, Beta, Gamma*\r\n\r\n","title":"Print out elements from an Array with a Comma between the elements","body":"<pre><code>StringJoiner str = new StringJoiner(\", \");\nstr.add(\"Aplha\").add(\"Beta\").add(\"Gamma\");\n\nString result = str.toString();\nSystem.out.println(\"The result is: \" + result);\n</code></pre>\n\n<p><em>The output:\nThe result is: Aplha, Beta, Gamma</em></p>\n"},{"tags":[],"owner":{"account_id":1847990,"reputation":7139,"user_id":1675237,"display_name":"Lewis Nakao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541021508,"creation_date":1541021508,"answer_id":53092230,"question_id":18279622,"body_markdown":"This might be the most efficient means of comma-delimited string using best practices and no &quot;if&quot; checks, no unfamiliar libraries, and `StringBuilder` which is best practice for concatenating strings.\r\n\r\nAlso having a &quot;size&quot; variable reduces the calls to the `.size()` method.\r\n\r\nFor those using `String[]`:\r\n\r\n    StringBuilder str = new StringBuilder();\r\n    String[] strArr = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;};\r\n    int size = strArr.length;\r\n    str.append(strArr[0]);\r\n    for (int i = 1; i &lt; size; i++) {\r\n        str.append(&quot;,&quot;).append(strArr[i]);\r\n    }\r\n    System.out.println(str.toString());\r\n\r\nFor those using `ArrayList&lt;String&gt;`:\r\n\r\n    StringBuilder str = new StringBuilder();\r\n    List&lt;String&gt; strArr = Arrays.asList(new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;});\r\n    int size = strArr.size();\r\n    str.append(strArr.get(0));\r\n    for (int i = 1; i &lt; size; i++) {\r\n        str.append(&quot;,&quot;).append(strArr.get(i));\r\n    }\r\n    System.out.println(str.toString());\r\n\r\nBoth yield: `one,two,three,four`\r\n","title":"Print out elements from an Array with a Comma between the elements","body":"<p>This might be the most efficient means of comma-delimited string using best practices and no \"if\" checks, no unfamiliar libraries, and <code>StringBuilder</code> which is best practice for concatenating strings.</p>\n\n<p>Also having a \"size\" variable reduces the calls to the <code>.size()</code> method.</p>\n\n<p>For those using <code>String[]</code>:</p>\n\n<pre><code>StringBuilder str = new StringBuilder();\nString[] strArr = {\"one\", \"two\", \"three\", \"four\"};\nint size = strArr.length;\nstr.append(strArr[0]);\nfor (int i = 1; i &lt; size; i++) {\n    str.append(\",\").append(strArr[i]);\n}\nSystem.out.println(str.toString());\n</code></pre>\n\n<p>For those using <code>ArrayList&lt;String&gt;</code>:</p>\n\n<pre><code>StringBuilder str = new StringBuilder();\nList&lt;String&gt; strArr = Arrays.asList(new String[]{\"one\", \"two\", \"three\", \"four\"});\nint size = strArr.size();\nstr.append(strArr.get(0));\nfor (int i = 1; i &lt; size; i++) {\n    str.append(\",\").append(strArr.get(i));\n}\nSystem.out.println(str.toString());\n</code></pre>\n\n<p>Both yield: <code>one,two,three,four</code></p>\n"},{"tags":[],"owner":{"account_id":4472557,"reputation":3,"user_id":3638494,"display_name":"user3638494"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582507281,"creation_date":1582507281,"answer_id":60368470,"question_id":18279622,"body_markdown":"Since the second-to-top question was wrong, here&#39;s a little method I wrote to do this with an array of Integers but converted to array of Strings.\r\n\r\n        public static void printArray(String[] arr){\r\n        for(int i = 0;i&lt;arr.length;i++){\r\n            System.out.print(arr[i]);\r\n            if(i&lt;(arr.length-1))\r\n                System.out.print(&quot;,&quot;);\r\n        }\r\n    }","title":"Print out elements from an Array with a Comma between the elements","body":"<p>Since the second-to-top question was wrong, here's a little method I wrote to do this with an array of Integers but converted to array of Strings.</p>\n\n<pre><code>    public static void printArray(String[] arr){\n    for(int i = 0;i&lt;arr.length;i++){\n        System.out.print(arr[i]);\n        if(i&lt;(arr.length-1))\n            System.out.print(\",\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661198402,"creation_date":1661198402,"answer_id":73450412,"question_id":18279622,"body_markdown":"It can also be done using Java 8 `static` method `String.join()`, which comes in two flavors.\r\n\r\n&gt; Returns a new `String` composed of copies of the `CharSequence` elements joined together with a copy of the specified `delimiter`.\r\n\r\nBoth versions expect as the first argument `delimiter` of type `CharSequence`, and as the second argument we can provide either *varargs* of `CharSequence` or `Iterable&lt;? extends CharSequence&gt;`.\r\n\r\nBoth methods generate under the hood a `byte`-array filled byte representations of the provided *elements* and *delimiter* according to their encoding and then turn it into the resulting `String`.\r\n\r\n*Example with* [`String.join(CharSequence,CharSequence...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)):\r\n```\r\nString[] strings = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;};\r\n\r\nString joinedStr = String.join(&quot;, &quot;, strings); // &quot;one, two, three, four&quot; - resulting String\r\n```\r\n\r\n*Example with* [`String.join(CharSequence,Iterable&lt;? extends CharSequence&gt;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)):\r\n\r\n```\r\nList&lt;String&gt; strings = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n\r\nString joinedStr = String.join(&quot;, &quot;, strings); // &quot;one, two, three, four&quot; - resulting String\r\n```","title":"Print out elements from an Array with a Comma between the elements","body":"<p>It can also be done using Java 8 <code>static</code> method <code>String.join()</code>, which comes in two flavors.</p>\n<blockquote>\n<p>Returns a new <code>String</code> composed of copies of the <code>CharSequence</code> elements joined together with a copy of the specified <code>delimiter</code>.</p>\n</blockquote>\n<p>Both versions expect as the first argument <code>delimiter</code> of type <code>CharSequence</code>, and as the second argument we can provide either <em>varargs</em> of <code>CharSequence</code> or <code>Iterable&lt;? extends CharSequence&gt;</code>.</p>\n<p>Both methods generate under the hood a <code>byte</code>-array filled byte representations of the provided <em>elements</em> and <em>delimiter</em> according to their encoding and then turn it into the resulting <code>String</code>.</p>\n<p><em>Example with</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\"><code>String.join(CharSequence,CharSequence...)</code></a>:</p>\n<pre><code>String[] strings = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;};\n\nString joinedStr = String.join(&quot;, &quot;, strings); // &quot;one, two, three, four&quot; - resulting String\n</code></pre>\n<p><em>Example with</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\"><code>String.join(CharSequence,Iterable&lt;? extends CharSequence&gt;)</code></a>:</p>\n<pre><code>List&lt;String&gt; strings = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\n\nString joinedStr = String.join(&quot;, &quot;, strings); // &quot;one, two, three, four&quot; - resulting String\n</code></pre>\n"}],"owner":{"account_id":1362345,"reputation":465,"user_id":1299477,"accept_rate":60,"display_name":"Eri."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72105,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":18279659,"answer_count":14,"score":24,"last_activity_date":1661201961,"creation_date":1376676656,"question_id":18279622,"body_markdown":"I am printing out elements from an `ArrayList` and want to have a comma after each word except the last word.\r\n\r\nRight now, I am doing it like this: \r\n\r\n\tfor (String s : arrayListWords) {\r\n\t\tSystem.out.print(s + &quot;, &quot;);\r\n\t}\r\n\r\nIt prints out the words like this:\r\n```\r\none, two, three, four,\r\n```\r\nThe problem is the last comma. How do I solve it?","title":"Print out elements from an Array with a Comma between the elements","body":"<p>I am printing out elements from an <code>ArrayList</code> and want to have a comma after each word except the last word.</p>\n<p>Right now, I am doing it like this:</p>\n<pre><code>for (String s : arrayListWords) {\n    System.out.print(s + &quot;, &quot;);\n}\n</code></pre>\n<p>It prints out the words like this:</p>\n<pre><code>one, two, three, four,\n</code></pre>\n<p>The problem is the last comma. How do I solve it?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661197324,"post_id":73446798,"comment_id":129710278,"body_markdown":"Why are you not making the entities in relation? You have some special constraint?","body":"Why are you not making the entities in relation? You have some special constraint?"}],"answers":[{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661179080,"creation_date":1661179080,"answer_id":73446890,"question_id":73446798,"body_markdown":"Use native query to read JPA objects? See this simplified example where you can use any valid native sql query syntax. \r\n\r\nYou could put `Language getLanguage()` function to MainEntity class.\r\n\r\n    String sql = &quot;Select * From MyEntityTable Where id between (?1 and ?2)&quot;;\r\n    Query query = entityMgr.createNativeQuery(sql, MyEntity.class);\r\n    query.setParameter(1, 1001);\r\n    query.setParameter(2, 2002);\r\n    List&lt;MyEntity&gt; list = query.getResultList();\r\n\r\n","title":"How to get non related entity using JPA","body":"<p>Use native query to read JPA objects? See this simplified example where you can use any valid native sql query syntax.</p>\n<p>You could put <code>Language getLanguage()</code> function to MainEntity class.</p>\n<pre><code>String sql = &quot;Select * From MyEntityTable Where id between (?1 and ?2)&quot;;\nQuery query = entityMgr.createNativeQuery(sql, MyEntity.class);\nquery.setParameter(1, 1001);\nquery.setParameter(2, 2002);\nList&lt;MyEntity&gt; list = query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661201367,"creation_date":1661201367,"answer_id":73450880,"question_id":73446798,"body_markdown":"If you don&#39;t want to make a reletion between `MainEntity` and `Language` you have to make a native query. (As is you can&#39;t make also a jpql query because you should have at least the `String language` in the `MainEntity` in order to make a join on `String isoCode` in `Language` but as I understand I think you don&#39;t want to do that).\r\nSo you have to perform a native query returning an interface as stated [here](https://stackoverflow.com/questions/36328063/how-to-return-a-custom-object-from-a-spring-data-jpa-group-by-query)\r\n```\r\npublic interface IntermediateObject {\r\n    int getId();\r\n\r\n    String getName();\r\n\r\n    int getLanguageId();\r\n\r\n    String getLanguageName();\r\n\r\n    String getIsoCode();\r\n}\r\n```\r\nIn the repository:\r\n```\r\n@Query(&quot;select m.id as id, m.name as name, l.id as languageId, l.name as languageName, l.isoCode as isoCode MainEntity m join Language l on m.language = l.isoCode&quot;, native=true)\r\nList&lt;IntermediateObject&gt; someMethod();\r\n```\r\nIn the MainEntity or better another dto you have to declare a constructor:\r\n```\r\npublic class AnotherDto {\r\n\r\n    private int id;\r\n    private String name;\r\n    private LanguageDto language;\r\n\r\n    public AnotherDto(int id, String name, int languageId, String languageName, String isoCOde) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.language = new LanguageDto(languageId, languageName, isoCode);\r\n    }\r\n\r\n}\r\npublic class LanguageDto {\r\n    private int id;\r\n    private String name;\r\n    private String isoCode;\r\n\r\n    public LanguageDto(int id, String name, String isoCode) {\r\n        this.id;\r\n        this.name = name;\r\n        this.isoCode = isoCode;\r\n    }\r\n}\r\n```\r\nAnd in the service layer you have to construct `AnotherDto` from `IntermediateObject`\r\n```\r\npublic List&lt;AnotherDto&gt; someMethod() {\r\n    return repository.someMethod().stream().map(i -&gt; new AnotherDto(i.getId(), i.getName(), i.getLanguageId(), i.getLanguageName(), i.getIsoCode())).collect(Collectors.toList());\r\n}\r\n```\r\nand now you have the language object populated.\r\n\r\nAnyway I suggest to map the entities instead to do all of this.\r\n","title":"How to get non related entity using JPA","body":"<p>If you don't want to make a reletion between <code>MainEntity</code> and <code>Language</code> you have to make a native query. (As is you can't make also a jpql query because you should have at least the <code>String language</code> in the <code>MainEntity</code> in order to make a join on <code>String isoCode</code> in <code>Language</code> but as I understand I think you don't want to do that).\nSo you have to perform a native query returning an interface as stated <a href=\"https://stackoverflow.com/questions/36328063/how-to-return-a-custom-object-from-a-spring-data-jpa-group-by-query\">here</a></p>\n<pre><code>public interface IntermediateObject {\n    int getId();\n\n    String getName();\n\n    int getLanguageId();\n\n    String getLanguageName();\n\n    String getIsoCode();\n}\n</code></pre>\n<p>In the repository:</p>\n<pre><code>@Query(&quot;select m.id as id, m.name as name, l.id as languageId, l.name as languageName, l.isoCode as isoCode MainEntity m join Language l on m.language = l.isoCode&quot;, native=true)\nList&lt;IntermediateObject&gt; someMethod();\n</code></pre>\n<p>In the MainEntity or better another dto you have to declare a constructor:</p>\n<pre><code>public class AnotherDto {\n\n    private int id;\n    private String name;\n    private LanguageDto language;\n\n    public AnotherDto(int id, String name, int languageId, String languageName, String isoCOde) {\n        this.id = id;\n        this.name = name;\n        this.language = new LanguageDto(languageId, languageName, isoCode);\n    }\n\n}\npublic class LanguageDto {\n    private int id;\n    private String name;\n    private String isoCode;\n\n    public LanguageDto(int id, String name, String isoCode) {\n        this.id;\n        this.name = name;\n        this.isoCode = isoCode;\n    }\n}\n</code></pre>\n<p>And in the service layer you have to construct <code>AnotherDto</code> from <code>IntermediateObject</code></p>\n<pre><code>public List&lt;AnotherDto&gt; someMethod() {\n    return repository.someMethod().stream().map(i -&gt; new AnotherDto(i.getId(), i.getName(), i.getLanguageId(), i.getLanguageName(), i.getIsoCode())).collect(Collectors.toList());\n}\n</code></pre>\n<p>and now you have the language object populated.</p>\n<p>Anyway I suggest to map the entities instead to do all of this.</p>\n"}],"owner":{"account_id":7334810,"reputation":431,"user_id":5586581,"accept_rate":100,"display_name":"Martin Chinome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661201367,"creation_date":1661178668,"question_id":73446798,"body_markdown":"I have two entities \r\n\r\n```\r\n@Entity\r\npublic class Language {\r\n\r\n@Id\r\n@GeneratedValue\r\nprivate int id;\r\n\r\nprivate String name;\r\n\r\nprivate String isoCode;\r\n\r\n}\r\n```\r\nand the another entity\r\n\r\n```\r\n\r\n\r\n@Entity\r\npublic class MainEntity {\r\n\r\n@Id\r\n@GeneratedValue\r\nprivate int id;\r\n\r\nprivate String anotherField;\r\n\r\nprivate Language language;  //(here I want to return the full entity)\r\n\r\n}\r\n\r\n```\r\n\r\nThe entities don&#39;t have a database relation just a string field, Now I want to do a query for MainEntity but I want to get the full entity \r\n\r\nFor example \r\n\r\nLanguage \r\n\r\n|           | value          |\r\n| --------- | -------------- |\r\n| id        | 1              |\r\n| name      | English        |\r\n| isoCode   | EN             |\r\n\r\n \r\nMainEntity\r\n\r\n|          | value\r\n| -------- | -------------- |\r\n| id    | a            |\r\n| name   | xyz            |\r\n| language   | EN            |\r\n\r\n\r\nI have that repository \r\n```\r\npublic interface MainRepository extends JpaRepository&lt;MainEntity, Integer&gt;{\r\n\r\nUser findAll();\r\n}\r\n```\r\n\r\nbut I want that when I do a search on my primary entity it brings me the entire language entity\r\n\r\nfor example\r\n\r\nMyEntity.Language.getName() \r\n\r\n\r\n\r\n\r\n","title":"How to get non related entity using JPA","body":"<p>I have two entities</p>\n<pre><code>@Entity\npublic class Language {\n\n@Id\n@GeneratedValue\nprivate int id;\n\nprivate String name;\n\nprivate String isoCode;\n\n}\n</code></pre>\n<p>and the another entity</p>\n<pre><code>\n\n@Entity\npublic class MainEntity {\n\n@Id\n@GeneratedValue\nprivate int id;\n\nprivate String anotherField;\n\nprivate Language language;  //(here I want to return the full entity)\n\n}\n\n</code></pre>\n<p>The entities don't have a database relation just a string field, Now I want to do a query for MainEntity but I want to get the full entity</p>\n<p>For example</p>\n<p>Language</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>1</td>\n</tr>\n<tr>\n<td>name</td>\n<td>English</td>\n</tr>\n<tr>\n<td>isoCode</td>\n<td>EN</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>MainEntity</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>a</td>\n</tr>\n<tr>\n<td>name</td>\n<td>xyz</td>\n</tr>\n<tr>\n<td>language</td>\n<td>EN</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have that repository</p>\n<pre><code>public interface MainRepository extends JpaRepository&lt;MainEntity, Integer&gt;{\n\nUser findAll();\n}\n</code></pre>\n<p>but I want that when I do a search on my primary entity it brings me the entire language entity</p>\n<p>for example</p>\n<p>MyEntity.Language.getName()</p>\n"},{"tags":["java","reactjs","spring-boot","axios","postman"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1661205807,"post_id":73450582,"comment_id":129712471,"body_markdown":"Maybe you forgot to add the `Bearer` prefix while adding the token to the header in axios?","body":"Maybe you forgot to add the <code>Bearer</code> prefix while adding the token to the header in axios?"},{"owner":{"account_id":20386382,"reputation":21,"user_id":14955289,"display_name":"aenes"},"score":0,"creation_date":1661207444,"post_id":73450582,"comment_id":129712796,"body_markdown":"actually, in localstorage i stored it with Bearer prefix already. when i check, i can see it with Bearer.","body":"actually, in localstorage i stored it with Bearer prefix already. when i check, i can see it with Bearer."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1661209830,"post_id":73450582,"comment_id":129713167,"body_markdown":"storing tokens in localStorage is extremly unsecure, also Spring already has a built in JWTFilter so please motivate why you are building a custom filter?","body":"storing tokens in localStorage is extremly unsecure, also Spring already has a built in JWTFilter so please motivate why you are building a custom filter?"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661200535,"creation_date":1661200535,"answer_id":73450745,"question_id":73450582,"body_markdown":"Because `Postman` does not enforce `CORS` so that is why it works. To enable `CORS`, please check here;\r\n\r\nhttps://enable-cors.org/server.html","title":"http 403 error in axios but works on postman","body":"<p>Because <code>Postman</code> does not enforce <code>CORS</code> so that is why it works. To enable <code>CORS</code>, please check here;</p>\n<p><a href=\"https://enable-cors.org/server.html\" rel=\"nofollow noreferrer\">https://enable-cors.org/server.html</a></p>\n"}],"owner":{"account_id":20386382,"reputation":21,"user_id":14955289,"display_name":"aenes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661200535,"creation_date":1661199438,"question_id":73450582,"body_markdown":"in postman when i entered my post request with Authorization and token value, then it works, however when i wanted to check it with axios it gives me 403 Http error (i&#39;ve already provided authorization header in axios). (My token with Bearer is localStorage.getItem(&quot;CurrentUser&quot;)}) i am putting my axios below (when i checked token and request string, they both totally same with postman): \r\n\r\n            try {\r\n          \r\n            await axios.post(&quot;http://localhost:8080/admins/post/&quot; + allemployees[index].id,\r\n            \r\n            { headers:  {&#39;Authorization&#39;: localStorage.getItem(&quot;CurrentUser&quot;)} });\r\n    \r\n\r\n\r\n        }\r\n\r\n\r\ni also put my security.config, maybe problem was there:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig{\r\n\t\r\n\t\r\n\tprivate JwtAuthenticationEntryPoint handler;\r\n\t\r\n\t\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    \r\n\r\n    @Bean\r\n    public AuthTokenFilter jwtAuthenticationFilter() {\r\n    \treturn new AuthTokenFilter();\r\n    }\r\n    \r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n    \r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;*&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n    \r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\r\n    \thttpSecurity\r\n    \t\t.cors()\r\n    \t\t.and()\r\n    \t\t.csrf().disable()\r\n    \t\t.exceptionHandling().authenticationEntryPoint(handler).and()\r\n    \t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n    \t\t.authorizeRequests()\r\n    \t\t.antMatchers(&quot;/api/**&quot;)\r\n    \t\t.permitAll()\r\n    \t\t.anyRequest().authenticated()\r\n    \t\t.and()\r\n    \t\t.logout()\r\n    \t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;POST&quot;))\r\n    \t\t.logoutSuccessUrl(&quot;http://localhost:3000/&quot;)\r\n    \t\t.invalidateHttpSession(true);\r\n    \t\t\r\n    \thttpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \t\r\n    \t\r\n    \treturn httpSecurity.build();\r\n    }\r\n}\r\n\r\nHow can i solve this problem? Thank you.\r\n\r\n","title":"http 403 error in axios but works on postman","body":"<p>in postman when i entered my post request with Authorization and token value, then it works, however when i wanted to check it with axios it gives me 403 Http error (i've already provided authorization header in axios). (My token with Bearer is localStorage.getItem(&quot;CurrentUser&quot;)}) i am putting my axios below (when i checked token and request string, they both totally same with postman):</p>\n<pre><code>        try {\n      \n        await axios.post(&quot;http://localhost:8080/admins/post/&quot; + allemployees[index].id,\n        \n        { headers:  {'Authorization': localStorage.getItem(&quot;CurrentUser&quot;)} });\n\n\n\n    }\n</code></pre>\n<p>i also put my security.config, maybe problem was there:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n\n\nprivate JwtAuthenticationEntryPoint handler;\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n\n@Bean\npublic AuthTokenFilter jwtAuthenticationFilter() {\n    return new AuthTokenFilter();\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\npublic CorsFilter corsFilter() {\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.setAllowCredentials(true);\n    config.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;*&quot;);\n    source.registerCorsConfiguration(&quot;/**&quot;, config);\n    return new CorsFilter(source);\n}\n\n@Bean\npublic SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity\n        .cors()\n        .and()\n        .csrf().disable()\n        .exceptionHandling().authenticationEntryPoint(handler).and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n        .authorizeRequests()\n        .antMatchers(&quot;/api/**&quot;)\n        .permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .logout()\n        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;POST&quot;))\n        .logoutSuccessUrl(&quot;http://localhost:3000/&quot;)\n        .invalidateHttpSession(true);\n        \n    httpSecurity.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    \n    \n    return httpSecurity.build();\n}\n</code></pre>\n<p>}</p>\n<p>How can i solve this problem? Thank you.</p>\n"},{"tags":["java","jackson","deserialization","mapper"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661186376,"post_id":73448333,"comment_id":129706791,"body_markdown":"change `List&lt;String&gt; ids;` to `List&lt;Sample&gt; ids;`","body":"change <code>List&lt;String&gt; ids;</code> to <code>List&lt;Sample&gt; ids;</code>"},{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1661186644,"post_id":73448333,"comment_id":129706883,"body_markdown":"I dont want to have List&lt;Sample&gt;, I want to have it flatten as far I can.","body":"I dont want to have List&lt;Sample&gt;, I want to have it flatten as far I can."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661186683,"post_id":73448333,"comment_id":129706899,"body_markdown":"*I want to have it flatten as far I can* That is it if you use the `List&lt;Sample&gt;`. BTW: It is not a good practise to change the question after comments are added","body":"<i>I want to have it flatten as far I can</i> That is it if you use the <code>List&lt;Sample&gt;</code>. BTW: It is not a good practise to change the question after comments are added"},{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1661186978,"post_id":73448333,"comment_id":129706979,"body_markdown":"Ok sorry for that but I understood that sample class was confusing. I just want to convert such json into such string list","body":"Ok sorry for that but I understood that sample class was confusing. I just want to convert such json into such string list"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661190084,"post_id":73448333,"comment_id":129708036,"body_markdown":"I think then you have to write your own deserializer","body":"I think then you have to write your own deserializer"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661200472,"creation_date":1661200164,"answer_id":73450686,"question_id":73448333,"body_markdown":"One possible solution is to transform the JSON structure before deserialization.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;ids\\&quot;: [&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;         \\&quot;id\\&quot;: \\&quot;a\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;         \\&quot;id\\&quot;: \\&quot;b\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;         \\&quot;id\\&quot;: \\&quot;c\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n    // Deserialize to Sample\r\n    JsonNode objectNode = josson.getNode(&quot;ids.id.toObject(&#39;ids&#39;)&quot;);\r\n    Sample sample = new ObjectMapper().readerFor(Sample.class).readValue(objectNode);\r\n    System.out.println(sample.ids.toString());\r\n\r\n    // Or deserialize to List&lt;String&gt; directly\r\n    JsonNode arrayNode = josson.getNode(&quot;ids.id&quot;);\r\n    List&lt;String&gt; ids = new ObjectMapper().readerFor(List.class).readValue(arrayNode);\r\n    System.out.println(ids.toString());\r\n\r\nOutput\r\n\r\n    [a, b, c]\r\n","title":"Exists a quick way to deserialize a list of objects into a list of fields from that object?","body":"<p>One possible solution is to transform the JSON structure before deserialization.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;ids\\&quot;: [&quot; +\n    &quot;      {&quot; +\n    &quot;         \\&quot;id\\&quot;: \\&quot;a\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      {&quot; +\n    &quot;         \\&quot;id\\&quot;: \\&quot;b\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      {&quot; +\n    &quot;         \\&quot;id\\&quot;: \\&quot;c\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n\n// Deserialize to Sample\nJsonNode objectNode = josson.getNode(&quot;ids.id.toObject('ids')&quot;);\nSample sample = new ObjectMapper().readerFor(Sample.class).readValue(objectNode);\nSystem.out.println(sample.ids.toString());\n\n// Or deserialize to List&lt;String&gt; directly\nJsonNode arrayNode = josson.getNode(&quot;ids.id&quot;);\nList&lt;String&gt; ids = new ObjectMapper().readerFor(List.class).readValue(arrayNode);\nSystem.out.println(ids.toString());\n</code></pre>\n<p>Output</p>\n<pre><code>[a, b, c]\n</code></pre>\n"}],"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661200472,"creation_date":1661186041,"question_id":73448333,"body_markdown":"I wonder if exists a quick way to deserialize a list of objects into a list of fields from that object?\r\n\r\nI have such object:\r\n\r\n    @Data\r\n    public class Sample {\r\n        private List&lt;String&gt; ids;\r\n    }\r\n\r\nAnd I have a json: \r\n\r\n    {\r\n        &quot;ids&quot;: [\r\n          {\r\n             &quot;id&quot;: &quot;a&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: &quot;b&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: &quot;c&quot;\r\n          }\r\n        ]\r\n    }\r\n\r\nI would like to parse such json object list into string list in &quot;ids&quot; field.\r\nI know that I can do it using StdSerializer abstract class and implement deserialization logic for it but I wonder if exists something more smooth to make it flat.","title":"Exists a quick way to deserialize a list of objects into a list of fields from that object?","body":"<p>I wonder if exists a quick way to deserialize a list of objects into a list of fields from that object?</p>\n<p>I have such object:</p>\n<pre><code>@Data\npublic class Sample {\n    private List&lt;String&gt; ids;\n}\n</code></pre>\n<p>And I have a json:</p>\n<pre><code>{\n    &quot;ids&quot;: [\n      {\n         &quot;id&quot;: &quot;a&quot;\n      },\n      {\n         &quot;id&quot;: &quot;b&quot;\n      },\n      {\n         &quot;id&quot;: &quot;c&quot;\n      }\n    ]\n}\n</code></pre>\n<p>I would like to parse such json object list into string list in &quot;ids&quot; field.\nI know that I can do it using StdSerializer abstract class and implement deserialization logic for it but I wonder if exists something more smooth to make it flat.</p>\n"},{"tags":["java","xml","spring","spring-boot","groovy"],"comments":[{"owner":{"account_id":10317901,"reputation":839,"user_id":7699712,"accept_rate":88,"display_name":"Blazerg"},"score":0,"creation_date":1638053728,"post_id":70138672,"comment_id":123986286,"body_markdown":"I don&#39;t think so because debugging spring web, where the error is thrown, I see that the supported type is still APPLICATION_JSON even tho my controller doesn&#39;t have json anywhere","body":"I don&#39;t think so because debugging spring web, where the error is thrown, I see that the supported type is still APPLICATION_JSON even tho my controller doesn&#39;t have json anywhere"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638089206,"post_id":70138672,"comment_id":123990488,"body_markdown":"Remove the `consumes` and `produces`. It will now accept either json, xml, text whatever. It doesn&#39;t expect JSON it expects XML, but you are sending XML in a UTF-8 encoding.","body":"Remove the <code>consumes</code> and <code>produces</code>. It will now accept either json, xml, text whatever. It doesn&#39;t expect JSON it expects XML, but you are sending XML in a UTF-8 encoding."},{"owner":{"account_id":10317901,"reputation":839,"user_id":7699712,"accept_rate":88,"display_name":"Blazerg"},"score":0,"creation_date":1638099526,"post_id":70138672,"comment_id":123992453,"body_markdown":"hi @M.Deinum Removing consumes and produces doesn&#39;t change anything. The enconding is NOT the issue and I know it for sure because I&#39;m debugging the spring-web module and the exception is thrown because spring still expects the request body to be application/json.","body":"hi @M.Deinum Removing consumes and produces doesn&#39;t change anything. The enconding is NOT the issue and I know it for sure because I&#39;m debugging the spring-web module and the exception is thrown because spring still expects the request body to be application/json."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638166888,"post_id":70138672,"comment_id":124006234,"body_markdown":"Spring doesn&#39;t expect anything, it selects the messageconverter based on the content type. Now it could be that you don&#39;t have any xml library on your classpath (like using JDK11 and not adding JAXB or the Jackson XML module). If there is no xml library Spring cannot receive XML.","body":"Spring doesn&#39;t expect anything, it selects the messageconverter based on the content type. Now it could be that you don&#39;t have any xml library on your classpath (like using JDK11 and not adding JAXB or the Jackson XML module). If there is no xml library Spring cannot receive XML."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638111196,"creation_date":1638050458,"answer_id":70139044,"question_id":70138672,"body_markdown":"Try adding the following annotation on class level on your `Users.class`\r\n\r\n          @XmlRootElement\r\n\r\nAlso check in your maven if jaxb library is included, since you don&#39;t mention which JDK you use. You need this library for marschalling unmarschalling xml but was removed from JDK 11 and onwards. \r\n\r\nEdit: Since you use JDK 11 and jaxb is removed from this version add the following dependencies\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to force Spring boot&#39;s @RequestBody to accept XML","body":"<p>Try adding the following annotation on class level on your <code>Users.class</code></p>\n<pre><code>      @XmlRootElement\n</code></pre>\n<p>Also check in your maven if jaxb library is included, since you don't mention which JDK you use. You need this library for marschalling unmarschalling xml but was removed from JDK 11 and onwards.</p>\n<p>Edit: Since you use JDK 11 and jaxb is removed from this version add the following dependencies</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15916730,"reputation":47,"user_id":11485065,"display_name":"Yongqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661170132,"creation_date":1661169472,"answer_id":73444745,"question_id":70138672,"body_markdown":"I&#39;m not sure if this is working for you but it was definitely working for me.\r\n\r\nI was using Java 17 and added this library: \r\n\r\n`implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml&#39;`\r\n\r\nAnd in the model, I used `@JacksonXmlRootElement` on the class and `JacksonXmlProperty` on its properties, if you need to accept value in CDATA section, use `@JacksonXmlCData`.\r\n\r\n```java\r\n@JacksonXmlRootElement(localName = &quot;xml&quot;)\r\npublic class CommonMessageReq {\r\n    @JacksonXmlProperty(localName = &quot;ToUserName&quot;)\r\n    @JacksonXmlCData\r\n    private String toUserName;\r\n    @JacksonXmlProperty(localName = &quot;FromUserName&quot;)\r\n    @JacksonXmlCData\r\n    private String fromUserName;\r\n    @JacksonXmlProperty(localName = &quot;CreateTime&quot;)\r\n    private Long createTime;\r\n    @JacksonXmlProperty(localName = &quot;MsgType&quot;)\r\n    @JacksonXmlCData\r\n    private String msgType;\r\n    \r\n    // ...omit getter/setter methods...\r\n}\r\n\r\n@PostMapping(consumes = {MediaType.APPLICATION_XML_VALUE})\r\npublic ResponseEntity&lt;String&gt; handle(@RequestBody CommonMessageReq request) {\r\n    // ...omit details\r\n}\r\n```\r\n\r\nAnyway, it&#39;s an alternative library of JAXB.","title":"How to force Spring boot&#39;s @RequestBody to accept XML","body":"<p>I'm not sure if this is working for you but it was definitely working for me.</p>\n<p>I was using Java 17 and added this library:</p>\n<p><code>implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml'</code></p>\n<p>And in the model, I used <code>@JacksonXmlRootElement</code> on the class and <code>JacksonXmlProperty</code> on its properties, if you need to accept value in CDATA section, use <code>@JacksonXmlCData</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JacksonXmlRootElement(localName = &quot;xml&quot;)\npublic class CommonMessageReq {\n    @JacksonXmlProperty(localName = &quot;ToUserName&quot;)\n    @JacksonXmlCData\n    private String toUserName;\n    @JacksonXmlProperty(localName = &quot;FromUserName&quot;)\n    @JacksonXmlCData\n    private String fromUserName;\n    @JacksonXmlProperty(localName = &quot;CreateTime&quot;)\n    private Long createTime;\n    @JacksonXmlProperty(localName = &quot;MsgType&quot;)\n    @JacksonXmlCData\n    private String msgType;\n    \n    // ...omit getter/setter methods...\n}\n\n@PostMapping(consumes = {MediaType.APPLICATION_XML_VALUE})\npublic ResponseEntity&lt;String&gt; handle(@RequestBody CommonMessageReq request) {\n    // ...omit details\n}\n</code></pre>\n<p>Anyway, it's an alternative library of JAXB.</p>\n"},{"tags":[],"owner":{"account_id":12108197,"reputation":11,"user_id":8846092,"display_name":"Jags"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661200345,"creation_date":1661195948,"answer_id":73450072,"question_id":70138672,"body_markdown":"Add below dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnnotate the pojo with @XmlRootElement and the pojo has to implement Serializable for marshalling &amp; unmarshalling the XML\r\n\r\n    @XmlRootElement\r\n    public class Device implements Serializable{\r\n    }\r\n\r\nThe Controller accepts both xml and json, unless restricted to XML using consumes = MediaType.APPLICATION_XML_VALUE\r\n\r\n    @PostMapping(path=&quot;/xmlTest&quot;)\r\n        public String testXml(@RequestBody Device device){\r\n            return device.getMake() + device.getModel();\r\n        }","title":"How to force Spring boot&#39;s @RequestBody to accept XML","body":"<p>Add below dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Annotate the pojo with @XmlRootElement and the pojo has to implement Serializable for marshalling &amp; unmarshalling the XML</p>\n<pre><code>@XmlRootElement\npublic class Device implements Serializable{\n}\n</code></pre>\n<p>The Controller accepts both xml and json, unless restricted to XML using consumes = MediaType.APPLICATION_XML_VALUE</p>\n<pre><code>@PostMapping(path=&quot;/xmlTest&quot;)\n    public String testXml(@RequestBody Device device){\n        return device.getMake() + device.getModel();\n    }\n</code></pre>\n"}],"owner":{"account_id":10317901,"reputation":839,"user_id":7699712,"accept_rate":88,"display_name":"Blazerg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7123,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661200345,"creation_date":1638046958,"question_id":70138672,"body_markdown":"I have a spring boot application with groovy (jdk 11), I want to accept a xml request body. This is my controller:\r\n\r\n    @RestController\r\n    class UserController {\r\n        @PostMapping(path = &quot;/herd&quot;, produces = APPLICATION_XML_VALUE, consumes = APPLICATION_XML_VALUE)\r\n        void saveHerd(@RequestBody Users request) {\r\n            println user.name\r\n        }\r\n    }\r\n\r\nMy xml request body:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;users&gt;\r\n        &lt;user name=&quot;foo&quot; age=&quot;4&quot;/&gt;\r\n        &lt;user name=&quot;Jack&quot; age=&quot;8&quot;/&gt;\r\n    &lt;/users&gt;\r\n\r\nThe users pojos:\r\n\r\n    class Users {\r\n        List&lt;UserDTO&gt; user\r\n    }\r\n\r\n    class UserDTO {\r\n        String name\r\n        String age\r\n    }\r\n\r\nThe problem is that my request is returning a Content type &#39;application/xml;charset=UTF-8&#39; not supported]\r\n\r\nIf I debug my application, I see that spring web is still expecting a json for some reason even if I have specified consumes to be XML. \r\n\r\nWhy is Spring-boot still expecting a json instead of an XML?\r\n","title":"How to force Spring boot&#39;s @RequestBody to accept XML","body":"<p>I have a spring boot application with groovy (jdk 11), I want to accept a xml request body. This is my controller:</p>\n<pre><code>@RestController\nclass UserController {\n    @PostMapping(path = &quot;/herd&quot;, produces = APPLICATION_XML_VALUE, consumes = APPLICATION_XML_VALUE)\n    void saveHerd(@RequestBody Users request) {\n        println user.name\n    }\n}\n</code></pre>\n<p>My xml request body:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;users&gt;\n    &lt;user name=&quot;foo&quot; age=&quot;4&quot;/&gt;\n    &lt;user name=&quot;Jack&quot; age=&quot;8&quot;/&gt;\n&lt;/users&gt;\n</code></pre>\n<p>The users pojos:</p>\n<pre><code>class Users {\n    List&lt;UserDTO&gt; user\n}\n\nclass UserDTO {\n    String name\n    String age\n}\n</code></pre>\n<p>The problem is that my request is returning a Content type 'application/xml;charset=UTF-8' not supported]</p>\n<p>If I debug my application, I see that spring web is still expecting a json for some reason even if I have specified consumes to be XML.</p>\n<p>Why is Spring-boot still expecting a json instead of an XML?</p>\n"},{"tags":["java","file","guice","file-permissions"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661199346,"post_id":73450370,"comment_id":129710886,"body_markdown":"which os are you using, windows ? setExecutable alse false and check this answer please. https://stackoverflow.com/a/14415997/2165146","body":"which os are you using, windows ? setExecutable alse false and check this answer please. <a href=\"https://stackoverflow.com/a/14415997/2165146\">stackoverflow.com/a/14415997/2165146</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1661200539,"post_id":73450370,"comment_id":129711239,"body_markdown":"What&#39;s the value returned from `file.setWritable(false, false);`?  [That will return `false` if the call fails](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#setWritable(boolean,%20boolean)).","body":"What&#39;s the value returned from <code>file.setWritable(false, false);</code>?  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#setWritable(boolean,%20boolean)\" rel=\"nofollow noreferrer\">That will return <code>false</code> if the call fails</a>."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1662485155,"post_id":73450370,"comment_id":130014556,"body_markdown":"Additionally, metadata doesn&#39;t always sync instantly, so it might be possible to finish a write before the changes are prevented.","body":"Additionally, metadata doesn&#39;t always sync instantly, so it might be possible to finish a write before the changes are prevented."}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661199779,"creation_date":1661198034,"question_id":73450370,"body_markdown":"I would expect exception to be thrown in this code at line: `charSink.write(&quot;hi world&quot;);`  since the file is set to be non writable. But this code executes without any exceptions. How to make CharSink respect file permissions? \r\n\r\n```\r\n\r\npublic class CharSinkWritingNonWritableFile {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        final File file = getNewFile();\r\n\r\n        file.setWritable(false, false);\r\n\r\n        val charSink = Files.asCharSink(file, Charsets.UTF_8, FileWriteMode.APPEND);\r\n\r\n        file.setWritable(false, false);\r\n        \r\n        charSink.write(&quot;hi world&quot;);\r\n\r\n        Files.readLines(file, Charsets.UTF_8).forEach(line -&gt; {\r\n            System.out.println(line);\r\n        });\r\n\r\n    }\r\n\r\n    private static File getNewFile() {\r\n\r\n        final File file = new File(&quot;/tmp/hi-world&quot;);\r\n        if (file.exists()) {\r\n            file.delete();\r\n        }\r\n        return file;\r\n    }\r\n}\r\n```\r\n\r\nEdit: \r\n\r\nOS: MacOS 12.4","title":"How to make CharSink respect file permissions?","body":"<p>I would expect exception to be thrown in this code at line: <code>charSink.write(&quot;hi world&quot;);</code>  since the file is set to be non writable. But this code executes without any exceptions. How to make CharSink respect file permissions?</p>\n<pre><code>\npublic class CharSinkWritingNonWritableFile {\n    public static void main(String[] args) throws Exception {\n\n        final File file = getNewFile();\n\n        file.setWritable(false, false);\n\n        val charSink = Files.asCharSink(file, Charsets.UTF_8, FileWriteMode.APPEND);\n\n        file.setWritable(false, false);\n        \n        charSink.write(&quot;hi world&quot;);\n\n        Files.readLines(file, Charsets.UTF_8).forEach(line -&gt; {\n            System.out.println(line);\n        });\n\n    }\n\n    private static File getNewFile() {\n\n        final File file = new File(&quot;/tmp/hi-world&quot;);\n        if (file.exists()) {\n            file.delete();\n        }\n        return file;\n    }\n}\n</code></pre>\n<p>Edit:</p>\n<p>OS: MacOS 12.4</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1659597471,"post_id":73213676,"comment_id":129333319,"body_markdown":"The fact that you have a `slavePartitionHandler` on the worker side is a bit confusing to me and I&#39;m not sure I understand what you are looking for. Are you trying to run multiple steps in a single worker or trying to run a partitioned step on the worker as well (meaning each worker creates a second level of partitioning, ie partitioning the partition that was assigned to it)?","body":"The fact that you have a <code>slavePartitionHandler</code> on the worker side is a bit confusing to me and I&#39;m not sure I understand what you are looking for. Are you trying to run multiple steps in a single worker or trying to run a partitioned step on the worker as well (meaning each worker creates a second level of partitioning, ie partitioning the partition that was assigned to it)?"},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1659625028,"post_id":73213676,"comment_id":129343667,"body_markdown":"High level expectation: I want to leverage the resources of a cluster to run all of the heavy lifting steps in all of my running jobs.\n\nMy particular processes are amenable to massively parallel processing.\n\nI have potentially hundreds of jobs running at any given time, each of which has different processing (steps), and are divisible into potentially thousands of partitions of a few thousand rows of data each.\n\nI want the heavy lifting to be shotgunned out to the cluster for processing.\n\nThe slavePartitionHandler was implemented a few years back as a result of another SO thread.","body":"High level expectation: I want to leverage the resources of a cluster to run all of the heavy lifting steps in all of my running jobs.  My particular processes are amenable to massively parallel processing.  I have potentially hundreds of jobs running at any given time, each of which has different processing (steps), and are divisible into potentially thousands of partitions of a few thousand rows of data each.  I want the heavy lifting to be shotgunned out to the cluster for processing.  The slavePartitionHandler was implemented a few years back as a result of another SO thread."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1659627888,"post_id":73213676,"comment_id":129344876,"body_markdown":"... (continued) Yes, it is possible for a remote flow to further split or partition","body":"... (continued) Yes, it is possible for a remote flow to further split or partition"},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1659631275,"post_id":73213676,"comment_id":129346096,"body_markdown":"... On the other hand if it is redundant, extraneous, or has a negative impact on the system, i am all in favor of removing the slavePartitionHandler you observe.","body":"... On the other hand if it is redundant, extraneous, or has a negative impact on the system, i am all in favor of removing the slavePartitionHandler you observe."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1659690181,"post_id":73213676,"comment_id":129359042,"body_markdown":"Thank you for the updates. I will add an answer with some details, hoping to help as much as possible.","body":"Thank you for the updates. I will add an answer with some details, hoping to help as much as possible."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659692263,"creation_date":1659692263,"answer_id":73247671,"question_id":73213676,"body_markdown":"The type of step executed on the worker side is completely arbitrary, so nothing prevents you from running a partitioned step on the worker side as well. This, indeed, allows you to implement a second level partitioning, in which each worker can further partition the partition that was assigned to it.\r\n\r\nNow to answer your questions:\r\n\r\n&gt; From a purely pragmatic perspective, does this mean that I can simply add more MessageChannelPartitionHandler bean pairs referencing the appropriate steps to ensure that spawned partitions are picked up and executed by the correct step beans on the worker systems?\r\n\r\n\r\nYes, as mentioned previously, the step on the worker side can be a partitioned step. So it would requires its own `Partitioner`/`PartitionHandler` team of two.\r\n\r\n&gt; Or do I need to plug in a flow with a decider to pick the appropriate step from the step ExecutionContext?\r\n\r\nNothing wrong with this approach , but I would personally not recommend it. The reason is that this approach will make the implementation complex, as almost all components should be step-scoped to get access the EC in order to set/get partitioning meta-data (step to execute, partition definition, etc)  needed to do the work. Give it a try, and you will quickly realize what I&#39;m trying to explain.\r\n\r\n\r\n&gt; Or should I implement a StepLocator bean?\r\n\r\nThat could be an option if the step bean is defined outside the application context bootstrapped on the worker side. Otherwise, the default `BeanFactoryStepLocator` can be used to locate the (partitioned) step defined in the worker context.\r\n\r\n---\r\n\r\nThat said, I just wanted to share some personal experience when working towards the same goal: how to maximise resources utilization when running multiple jobs on different machines. Here is a non exhaustive list of what worked well:\r\n\r\n* Design job instances to be independent from each others (for example a job instance per input file, instead of a single job that processes all input files). This maximises parallelism and enables fault-tolerance\r\n* Combine remote partitioning/chunking with a multi-threaded step on workers. This is a bit similar to what you are trying to do. The only difference is using a multi-threaded step on workers instead of partitioned step as you are trying to do (Which I never tried BTW).\r\n\r\nI tried to summarize my experience on the matter in this post: [Spring Batch on Kubernetes: Efficient batch processing at scale](https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale).","title":"Configuration of MessageChannelPartitionHandler for assortment of remote steps","body":"<p>The type of step executed on the worker side is completely arbitrary, so nothing prevents you from running a partitioned step on the worker side as well. This, indeed, allows you to implement a second level partitioning, in which each worker can further partition the partition that was assigned to it.</p>\n<p>Now to answer your questions:</p>\n<blockquote>\n<p>From a purely pragmatic perspective, does this mean that I can simply add more MessageChannelPartitionHandler bean pairs referencing the appropriate steps to ensure that spawned partitions are picked up and executed by the correct step beans on the worker systems?</p>\n</blockquote>\n<p>Yes, as mentioned previously, the step on the worker side can be a partitioned step. So it would requires its own <code>Partitioner</code>/<code>PartitionHandler</code> team of two.</p>\n<blockquote>\n<p>Or do I need to plug in a flow with a decider to pick the appropriate step from the step ExecutionContext?</p>\n</blockquote>\n<p>Nothing wrong with this approach , but I would personally not recommend it. The reason is that this approach will make the implementation complex, as almost all components should be step-scoped to get access the EC in order to set/get partitioning meta-data (step to execute, partition definition, etc)  needed to do the work. Give it a try, and you will quickly realize what I'm trying to explain.</p>\n<blockquote>\n<p>Or should I implement a StepLocator bean?</p>\n</blockquote>\n<p>That could be an option if the step bean is defined outside the application context bootstrapped on the worker side. Otherwise, the default <code>BeanFactoryStepLocator</code> can be used to locate the (partitioned) step defined in the worker context.</p>\n<hr />\n<p>That said, I just wanted to share some personal experience when working towards the same goal: how to maximise resources utilization when running multiple jobs on different machines. Here is a non exhaustive list of what worked well:</p>\n<ul>\n<li>Design job instances to be independent from each others (for example a job instance per input file, instead of a single job that processes all input files). This maximises parallelism and enables fault-tolerance</li>\n<li>Combine remote partitioning/chunking with a multi-threaded step on workers. This is a bit similar to what you are trying to do. The only difference is using a multi-threaded step on workers instead of partitioned step as you are trying to do (Which I never tried BTW).</li>\n</ul>\n<p>I tried to summarize my experience on the matter in this post: <a href=\"https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale\" rel=\"nofollow noreferrer\">Spring Batch on Kubernetes: Efficient batch processing at scale</a>.</p>\n"}],"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73247671,"answer_count":1,"score":0,"last_activity_date":1661199588,"creation_date":1659473580,"question_id":73213676,"body_markdown":"I apologize if this question is repeated.\r\n\r\n**Our current environment:**\r\n\r\n    Java 1.17\r\n    Spring 5.3.18\r\n    Spring batch 4.2.8\r\n\r\nAt a high level, our architecture intent is to physically separate the launcher threads from the execution threads for our spring batch processes, shotgunning heavy workload steps across the available processors on worker nodes. We have designed the partitioners and flows for this model of operation.\r\n\r\nThe expectation is that on the worker systems we can have a bunch of &quot;step&quot; beans floating loosely in the JVM, to be partitioned at the &quot;master&quot; JVM, propagated out via AMQ, then picked up and executed asynchronously at the worker VM&#39;s.\r\n\r\nI have reviewed the documentation at https://docs.spring.io/spring-batch/docs/4.2.x/reference/html/spring-batch-integration.html#remote-partitioning .  The example given (and indeed all of the examples I have found to date on the internet) are written as if there is &quot;A&quot; single step that is being run remotely.\r\n\r\n\r\n**Today:**\r\n\r\nWe are using XML bean configuration for the jobs because of some peculiarities with Spring and Java scoping. Ironically, in our case the XML bean definitions offered scoping options that were not available in the Java DSL.\r\n\r\nThe XML below is an excerpt from a working configuration with a single remote step bean.\r\n\r\nOn the master side, we have this PartitionHandler configuration:\r\n\r\n    &lt;bean id=&quot;ecPartitionHandler&quot; class=&quot;org.springframework.batch.integration.partition.MessageChannelPartitionHandler&quot;&gt;\r\n\t\t&lt;property name=&quot;stepName&quot; value=&quot;as-step0002.slave&quot;/&gt;\r\n\t\t&lt;property name=&quot;jobExplorer&quot; ref=&quot;jobExplorer&quot;/&gt;\r\n\t\t&lt;property name=&quot;messagingOperations&quot; ref=&quot;amqMessagingTemplate&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot; fixed-delay=&quot;1000&quot; /&gt;\r\n\r\nOn the slave side, we have this configuration:\r\n\r\n    &lt;bean id=&quot;stepExecutionRequestHandler&quot;\r\n\t\tclass=&quot;org.springframework.batch.integration.partition.StepExecutionRequestHandler&quot;&gt;\r\n\t\t&lt;property name=&quot;jobExplorer&quot; ref=&quot;jobExplorer&quot; /&gt;\r\n\t\t&lt;property name=&quot;stepLocator&quot; ref=&quot;stepLocator&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;stepLocatorAmq&quot;\r\n\t\tclass=&quot;org.springframework.batch.integration.partition.BeanFactoryStepLocator&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;slavePartitionHandler&quot; class=&quot;org.springframework.batch.integration.partition.MessageChannelPartitionHandler&quot;&gt; \r\n\t\t&lt;property name=&quot;stepName&quot; value=&quot;as-step0002.slave&quot;/&gt; \r\n\t\t&lt;property name=&quot;gridSize&quot; value=&quot;3&quot;/&gt;\r\n\t\t&lt;property name=&quot;messagingOperations&quot; ref=&quot;stepMessagingTemplate&quot;/&gt; \r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;amq-properties&quot;\r\n\t\tclass=&quot;com.maxis.mxarchive.spring.InjectableProperties&quot;\r\n\t\tfactory-method=&quot;getAmqProperties&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;configPropertiesService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n**Observation:**\r\n\r\nThe originating master and the receiving slave message handlers both directly reference the specific step to be executed.\r\n\r\n**Question:**\r\n\r\nFrom a purely pragmatic perspective, does this mean that I can simply add more MessageChannelPartitionHandler bean pairs referencing the appropriate steps to ensure that spawned partitions are picked up and executed by the correct step beans on the worker systems?\r\n\r\nOr do I need to plug in a flow with a decider to pick the appropriate step from the step ExecutionContext?\r\n\r\nOr should I implement a StepLocator bean?\r\n\r\nThank you,\r\n---\r\n\r\nWelp, I&#39;m more lost than ever. Since the examples I&#39;ve found appear to be built to the simplest possible scenario, there is little to generalize to the model I&#39;m trying to build.\r\n\r\nHere is an approximation of the architecture as I understand it now:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere will be 0 to n jobs running concurrently, with 0 to n steps from however many jobs running on the slave VM&#39;s concurrently.\r\n\r\n 1. Does each master job (or step?) require its own request and reply channel, and by extension its own OutboundChannelAdapter? Or are the request and reply channels shared?\r\n 2. Does each master job (or step?) require its own aggregator? By implication this means each job (or step) will have its own partition handler (which may be supported by the existing codebase)\r\n 3. The StepLocator on the slave appears to require a single shared replyChannel across all steps, but it appears to me that the messageChannelpartitionHandler requires a separate reply channel per step.\r\n\r\nWhat I think is unclear (but I can&#39;t tell since it&#39;s unclear) is how the single reply channel is picked up by the aggregatedReplyChannel and then returned to the correct step. Of course I could be so lost I&#39;m asking the wrong questions\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xZog6.png","title":"Configuration of MessageChannelPartitionHandler for assortment of remote steps","body":"<p>I apologize if this question is repeated.</p>\n<p><strong>Our current environment:</strong></p>\n<pre><code>Java 1.17\nSpring 5.3.18\nSpring batch 4.2.8\n</code></pre>\n<p>At a high level, our architecture intent is to physically separate the launcher threads from the execution threads for our spring batch processes, shotgunning heavy workload steps across the available processors on worker nodes. We have designed the partitioners and flows for this model of operation.</p>\n<p>The expectation is that on the worker systems we can have a bunch of &quot;step&quot; beans floating loosely in the JVM, to be partitioned at the &quot;master&quot; JVM, propagated out via AMQ, then picked up and executed asynchronously at the worker VM's.</p>\n<p>I have reviewed the documentation at <a href=\"https://docs.spring.io/spring-batch/docs/4.2.x/reference/html/spring-batch-integration.html#remote-partitioning\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/4.2.x/reference/html/spring-batch-integration.html#remote-partitioning</a> .  The example given (and indeed all of the examples I have found to date on the internet) are written as if there is &quot;A&quot; single step that is being run remotely.</p>\n<p><strong>Today:</strong></p>\n<p>We are using XML bean configuration for the jobs because of some peculiarities with Spring and Java scoping. Ironically, in our case the XML bean definitions offered scoping options that were not available in the Java DSL.</p>\n<p>The XML below is an excerpt from a working configuration with a single remote step bean.</p>\n<p>On the master side, we have this PartitionHandler configuration:</p>\n<pre><code>&lt;bean id=&quot;ecPartitionHandler&quot; class=&quot;org.springframework.batch.integration.partition.MessageChannelPartitionHandler&quot;&gt;\n    &lt;property name=&quot;stepName&quot; value=&quot;as-step0002.slave&quot;/&gt;\n    &lt;property name=&quot;jobExplorer&quot; ref=&quot;jobExplorer&quot;/&gt;\n    &lt;property name=&quot;messagingOperations&quot; ref=&quot;amqMessagingTemplate&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;int:poller default=&quot;true&quot; task-executor=&quot;stepTaskExecutor&quot; fixed-delay=&quot;1000&quot; /&gt;\n</code></pre>\n<p>On the slave side, we have this configuration:</p>\n<pre><code>&lt;bean id=&quot;stepExecutionRequestHandler&quot;\n    class=&quot;org.springframework.batch.integration.partition.StepExecutionRequestHandler&quot;&gt;\n    &lt;property name=&quot;jobExplorer&quot; ref=&quot;jobExplorer&quot; /&gt;\n    &lt;property name=&quot;stepLocator&quot; ref=&quot;stepLocator&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;stepLocatorAmq&quot;\n    class=&quot;org.springframework.batch.integration.partition.BeanFactoryStepLocator&quot; /&gt;\n\n&lt;bean id=&quot;slavePartitionHandler&quot; class=&quot;org.springframework.batch.integration.partition.MessageChannelPartitionHandler&quot;&gt; \n    &lt;property name=&quot;stepName&quot; value=&quot;as-step0002.slave&quot;/&gt; \n    &lt;property name=&quot;gridSize&quot; value=&quot;3&quot;/&gt;\n    &lt;property name=&quot;messagingOperations&quot; ref=&quot;stepMessagingTemplate&quot;/&gt; \n&lt;/bean&gt;\n\n&lt;bean id=&quot;amq-properties&quot;\n    class=&quot;com.maxis.mxarchive.spring.InjectableProperties&quot;\n    factory-method=&quot;getAmqProperties&quot;&gt;\n    &lt;constructor-arg ref=&quot;configPropertiesService&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p><strong>Observation:</strong></p>\n<p>The originating master and the receiving slave message handlers both directly reference the specific step to be executed.</p>\n<p><strong>Question:</strong></p>\n<p>From a purely pragmatic perspective, does this mean that I can simply add more MessageChannelPartitionHandler bean pairs referencing the appropriate steps to ensure that spawned partitions are picked up and executed by the correct step beans on the worker systems?</p>\n<p>Or do I need to plug in a flow with a decider to pick the appropriate step from the step ExecutionContext?</p>\n<p>Or should I implement a StepLocator bean?</p>\n<h2>Thank you,</h2>\n<p>Welp, I'm more lost than ever. Since the examples I've found appear to be built to the simplest possible scenario, there is little to generalize to the model I'm trying to build.</p>\n<p>Here is an approximation of the architecture as I understand it now:</p>\n<p><a href=\"https://i.stack.imgur.com/xZog6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZog6.png\" alt=\"enter image description here\" /></a></p>\n<p>There will be 0 to n jobs running concurrently, with 0 to n steps from however many jobs running on the slave VM's concurrently.</p>\n<ol>\n<li>Does each master job (or step?) require its own request and reply channel, and by extension its own OutboundChannelAdapter? Or are the request and reply channels shared?</li>\n<li>Does each master job (or step?) require its own aggregator? By implication this means each job (or step) will have its own partition handler (which may be supported by the existing codebase)</li>\n<li>The StepLocator on the slave appears to require a single shared replyChannel across all steps, but it appears to me that the messageChannelpartitionHandler requires a separate reply channel per step.</li>\n</ol>\n<p>What I think is unclear (but I can't tell since it's unclear) is how the single reply channel is picked up by the aggregatedReplyChannel and then returned to the correct step. Of course I could be so lost I'm asking the wrong questions</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1661021333,"post_id":73429251,"comment_id":129673695,"body_markdown":"What is the type of column `indexno`? Also, more than 20 years ago it stopped being necessary for you to execute `Class.forName()`","body":"What is the type of column <code>indexno</code>? Also, more than 20 years ago it stopped being necessary for you to execute <code>Class.forName()</code>"},{"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"score":0,"creation_date":1661021447,"post_id":73429251,"comment_id":129673714,"body_markdown":"integer data type column","body":"integer data type column"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661021614,"post_id":73429251,"comment_id":129673758,"body_markdown":"You are setting its value to a string. Try `ps.setInt(1, Integer.parseInt(in.getText()))`","body":"You are setting its value to a string. Try <code>ps.setInt(1, Integer.parseInt(in.getText()))</code>"},{"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"score":0,"creation_date":1661021759,"post_id":73429251,"comment_id":129673788,"body_markdown":"no i am getting the same error again","body":"no i am getting the same error again"},{"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"score":0,"creation_date":1661021865,"post_id":73429251,"comment_id":129673806,"body_markdown":"it ask to check this line java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? and tel=?&#39; at line 1","body":"it ask to check this line java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? and tel=?&#39; at line 1"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1661022189,"post_id":73429251,"comment_id":129673862,"body_markdown":"Show table create statement (relevant columns only).","body":"Show table create statement (relevant columns only)."},{"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"score":0,"creation_date":1661022356,"post_id":73429251,"comment_id":129673898,"body_markdown":"create table reg(indexno int primary key not null, fname varchar(255) not null, lname varchar(255) not null, age int not null, tel int not null );","body":"create table reg(indexno int primary key not null, fname varchar(255) not null, lname varchar(255) not null, age int not null, tel int not null );"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1661071285,"post_id":73429251,"comment_id":129680049,"body_markdown":"Please add the full stacktrace to give us a clue, where the error actually happens.","body":"Please add the full stacktrace to give us a clue, where the error actually happens."},{"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"score":0,"creation_date":1661080273,"post_id":73429251,"comment_id":129681755,"body_markdown":"Statement st =  con.createStatement(); its happened on here","body":"Statement st =  con.createStatement(); its happened on here"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661199384,"creation_date":1661034426,"answer_id":73430484,"question_id":73429251,"body_markdown":"Let&#39;s take a closer look at what your code is doing.\r\n\r\nConnecting to the database:\r\n```java\r\nConnection con =DriverManager.getConnection(&quot;jdbc:mysql://url&quot;,&quot;unam&quot;,&quot;pass&quot;);\r\n```\r\nCreating the SQL query:\r\n```java\r\nString query = &quot;select * from reg where indexno= ? or tel=?&quot;`;\r\n```\r\nCreating a prepared statement:\r\n```java\r\nPreparedStatement ps = con.prepareStatement(query);\r\n```\r\nSetting some bind parameter values:\r\n```java\r\nps.setString(1, in.getText());\r\nps.setString(2, tl.getText());\r\n```\r\nCreating a whole new non-prepared statement (wait, what? Why are we not using the prepared statement we spent some time creating?):\r\n```java\r\nStatement st =  con.createStatement();\r\n```\r\nUsing the new non-prepared statement to execute the SQL query.\r\n```java\r\nResultSet rs = st.executeQuery(query);\r\n```\r\nAs a result of the last two lines, your SQL query is sent straight to the MySQL database. MySQL doesn&#39;t understand what the `?` marks are for, and hence complains with a syntax error about them.\r\n\r\nWhen handling prepared statements, JDBC drivers will either replace the `?` marks with the database&#39;s own syntax for bind parameters (unless the database supports `?` marks directly, but not all databases do), or put the values directly in the SQL string after suitable escaping of any characters, before they send the SQL to the database. `Statement`s don&#39;t support bind parameters, and will just send the SQL string they are given straight to the database.\r\n\r\nYour code creates a `PreparedStatement` and sets two bind parameter values. It seems a shame not to actually use your prepared statement once you&#39;ve created it. You can get the result set you want out of it by calling `ps.executeQuery()`.  There is no need for the separate `Statement` you created by calling `connection.createStatement()`.\r\n\r\nThe fix therefore is to remove the last two lines of the code in your question and add the following line in place of them:\r\n\r\n```java\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? or tel=?&#39; at line 1","body":"<p>Let's take a closer look at what your code is doing.</p>\n<p>Connecting to the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con =DriverManager.getConnection(&quot;jdbc:mysql://url&quot;,&quot;unam&quot;,&quot;pass&quot;);\n</code></pre>\n<p>Creating the SQL query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;select * from reg where indexno= ? or tel=?&quot;`;\n</code></pre>\n<p>Creating a prepared statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = con.prepareStatement(query);\n</code></pre>\n<p>Setting some bind parameter values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ps.setString(1, in.getText());\nps.setString(2, tl.getText());\n</code></pre>\n<p>Creating a whole new non-prepared statement (wait, what? Why are we not using the prepared statement we spent some time creating?):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Statement st =  con.createStatement();\n</code></pre>\n<p>Using the new non-prepared statement to execute the SQL query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = st.executeQuery(query);\n</code></pre>\n<p>As a result of the last two lines, your SQL query is sent straight to the MySQL database. MySQL doesn't understand what the <code>?</code> marks are for, and hence complains with a syntax error about them.</p>\n<p>When handling prepared statements, JDBC drivers will either replace the <code>?</code> marks with the database's own syntax for bind parameters (unless the database supports <code>?</code> marks directly, but not all databases do), or put the values directly in the SQL string after suitable escaping of any characters, before they send the SQL to the database. <code>Statement</code>s don't support bind parameters, and will just send the SQL string they are given straight to the database.</p>\n<p>Your code creates a <code>PreparedStatement</code> and sets two bind parameter values. It seems a shame not to actually use your prepared statement once you've created it. You can get the result set you want out of it by calling <code>ps.executeQuery()</code>.  There is no need for the separate <code>Statement</code> you created by calling <code>connection.createStatement()</code>.</p>\n<p>The fix therefore is to remove the last two lines of the code in your question and add the following line in place of them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":26116959,"reputation":1,"user_id":19809934,"display_name":"zero gaming"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1661199384,"creation_date":1661020903,"question_id":73429251,"body_markdown":"Here&#39;s my query:\r\n\r\n    select *\r\n    from reg\r\n    where indexno=?\r\n    or tel=?\r\n\r\nAnd here&#39;s my code:\r\n\r\n```java\r\nClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\nConnection con =DriverManager.getConnection(&quot;jdbc:mysql://url&quot;,&quot;unam&quot;,&quot;pass&quot;);\r\nString query = &quot;select * from reg where indexno= ? or tel=?&quot;;\r\nPreparedStatement ps = con.prepareStatement(query);\r\nps.setString(1, in.getText());\r\nps.setString(2, tl.getText());\r\nStatement st =  con.createStatement();\r\nResultSet rs = st.executeQuery(query);\r\n```\r\n","title":"error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? or tel=?&#39; at line 1","body":"<p>Here's my query:</p>\n<pre><code>select *\nfrom reg\nwhere indexno=?\nor tel=?\n</code></pre>\n<p>And here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\nConnection con =DriverManager.getConnection(&quot;jdbc:mysql://url&quot;,&quot;unam&quot;,&quot;pass&quot;);\nString query = &quot;select * from reg where indexno= ? or tel=?&quot;;\nPreparedStatement ps = con.prepareStatement(query);\nps.setString(1, in.getText());\nps.setString(2, tl.getText());\nStatement st =  con.createStatement();\nResultSet rs = st.executeQuery(query);\n</code></pre>\n"},{"tags":["java","netlogo","macos-catalina","jenv"],"comments":[{"owner":{"account_id":3482102,"reputation":9438,"user_id":2913864,"accept_rate":70,"display_name":"Alan"},"score":0,"creation_date":1657630541,"post_id":72944053,"comment_id":128852247,"body_markdown":"Fwiw, NetLogo 6 can import NetLogo 5 models.","body":"Fwiw, NetLogo 6 can import NetLogo 5 models."},{"owner":{"account_id":293757,"reputation":2630,"user_id":1246011,"display_name":"Jasper"},"score":1,"creation_date":1657633746,"post_id":72944053,"comment_id":128853685,"body_markdown":"I&#39;m pretty sure I&#39;ve run NetLogo 5.3.1 on Catalina.  It comes with a bundled Java so might have a better chance of working out of the box.  Are you able to try that for your purposes?  http://ccl.northwestern.edu/netlogo/5.3.1/","body":"I&#39;m pretty sure I&#39;ve run NetLogo 5.3.1 on Catalina.  It comes with a bundled Java so might have a better chance of working out of the box.  Are you able to try that for your purposes?  <a href=\"http://ccl.northwestern.edu/netlogo/5.3.1/\" rel=\"nofollow noreferrer\">ccl.northwestern.edu/netlogo/5.3.1</a>"}],"owner":{"account_id":6273802,"reputation":307,"user_id":5369176,"display_name":"jackisquizzical"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661199150,"creation_date":1657569761,"question_id":72944053,"body_markdown":"I&#39;m trying to run an old version of NetLogo (5.0.2) on OS X (Catalina) which requires Java6. I&#39;m using jenv (installed under brew cask management). It seems to find the right java, but I&#39;m getting the below error:\r\n\r\n```\r\ncom.apple.message.domain: com.apple.java.usage.BundledApp\r\ncom.apple.message.domain.version: 1.6.0_65-b14-468\r\ncom.apple.message.signature: org.nlogo.NetLogo / org.nlogo.app.App\r\ncom.apple.message.signature2: org.nlogo.app.App\r\ncom.apple.message.signature3: BundledApp\r\ncom.apple.message.result: noop\r\n```","title":"Trying to run old NetLogo with old Java(6) under jenv gets noop error","body":"<p>I'm trying to run an old version of NetLogo (5.0.2) on OS X (Catalina) which requires Java6. I'm using jenv (installed under brew cask management). It seems to find the right java, but I'm getting the below error:</p>\n<pre><code>com.apple.message.domain: com.apple.java.usage.BundledApp\ncom.apple.message.domain.version: 1.6.0_65-b14-468\ncom.apple.message.signature: org.nlogo.NetLogo / org.nlogo.app.App\ncom.apple.message.signature2: org.nlogo.app.App\ncom.apple.message.signature3: BundledApp\ncom.apple.message.result: noop\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1661200754,"post_id":73450531,"comment_id":129711296,"body_markdown":"This is a pretty standard use for a servlet though there are certainly other ways of handling it.  Is this data read-only or do you need to re-write the XML?  Are you running into issues implementing it?","body":"This is a pretty standard use for a servlet though there are certainly other ways of handling it.  Is this data read-only or do you need to re-write the XML?  Are you running into issues implementing it?"},{"owner":{"account_id":15424656,"reputation":141,"user_id":12934171,"display_name":"Kerdos Media"},"score":0,"creation_date":1661202234,"post_id":73450531,"comment_id":129711697,"body_markdown":"@stdunbar the xml data is read only. I have the xml file and classes, and I&#39;m able to unmarshall the xml using JAXB. I&#39;m not that familiar with all of Spring&#39;s mechanisms and lifecycle as I need to be and I&#39;m not finding the right search terms that bring how to do it with Java Configuration. Based on other ways Spring handles XML I&#39;m guessing there&#39;s a better way to do this. I&#39;m also not sure how to put the object in application scope in a way that&#39;s accessible from jsp such as ${myXmlObject}","body":"@stdunbar the xml data is read only. I have the xml file and classes, and I&#39;m able to unmarshall the xml using JAXB. I&#39;m not that familiar with all of Spring&#39;s mechanisms and lifecycle as I need to be and I&#39;m not finding the right search terms that bring how to do it with Java Configuration. Based on other ways Spring handles XML I&#39;m guessing there&#39;s a better way to do this. I&#39;m also not sure how to put the object in application scope in a way that&#39;s accessible from jsp such as ${myXmlObject}"}],"owner":{"account_id":15424656,"reputation":141,"user_id":12934171,"display_name":"Kerdos Media"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661199119,"creation_date":1661199119,"question_id":73450531,"body_markdown":"I have a Spring Boot (2.7.2) web application deployed as a .war file on Tomcat. I am using JSP for templating and Java Configuration. \r\n\r\nWhen the application starts up I would like it to read the XML file which is located in the WEB-INF directory and create a Java Object based on that file. That POJO should be accessible from more than one JSP page. ","title":"XML File to Java Object at deployment in Spring Boot and access from JSP page?","body":"<p>I have a Spring Boot (2.7.2) web application deployed as a .war file on Tomcat. I am using JSP for templating and Java Configuration.</p>\n<p>When the application starts up I would like it to read the XML file which is located in the WEB-INF directory and create a Java Object based on that file. That POJO should be accessible from more than one JSP page.</p>\n"},{"tags":["javascript","java","datetime","jwt","java-time"],"comments":[{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":2,"creation_date":1661162671,"post_id":73443345,"comment_id":129697915,"body_markdown":"`1661159784 * 1000` as a signed 32bit int is `-992559552` ... try `new Date( -992559552 )` in JS and see!! - or `new Date((1661159784 * 1000) | 0)` in JS to do exactly what Java does - try `new Date(1661159784L * 1000L)` in Java","body":"<code>1661159784 * 1000</code> as a signed 32bit int is <code>-992559552</code> ... try <code>new Date( -992559552 )</code> in JS and see!! - or <code>new Date((1661159784 * 1000) | 0)</code> in JS to do exactly what Java does - try <code>new Date(1661159784L * 1000L)</code> in Java"},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1661163205,"post_id":73443345,"comment_id":129698065,"body_markdown":"by the way, Java documents `new Date` as taking a LONG argument, not an int ... see, in Javascript, we have Number ... no int/long/float/double ... just Number ... which has a &quot;safe&quot; integer range of +/- 2**53 - 1 - a Java INT is only 32 bits ... and todays date needs 41? or so bits ... so, 53 is enough, 32 is not","body":"by the way, Java documents <code>new Date</code> as taking a LONG argument, not an int ... see, in Javascript, we have Number ... no int/long/float/double ... just Number ... which has a &quot;safe&quot; integer range of +/- 2**53 - 1 - a Java INT is only 32 bits ... and todays date needs 41? or so bits ... so, 53 is enough, 32 is not"},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1661163510,"post_id":73443345,"comment_id":129698163,"body_markdown":"note: I deliberately omitted any mention of BigInt in javascript as that is irrelevant :p","body":"note: I deliberately omitted any mention of BigInt in javascript as that is irrelevant :p"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1661164928,"post_id":73443345,"comment_id":129698596,"body_markdown":"I am not sure why you want a `ZonedDateTime` in Java in this case. For most purposes an `Instant` or an `OffsetDateTime` should do fine. In any case use `Instant.ofEpochSecond(1661159784)` to start with (note *Second*  instead of *Milli*) and then do further conversion from there if necessary.","body":"I am not sure why you want a <code>ZonedDateTime</code> in Java in this case. For most purposes an <code>Instant</code> or an <code>OffsetDateTime</code> should do fine. In any case use <code>Instant.ofEpochSecond(1661159784)</code> to start with (note <i>Second</i>  instead of <i>Milli</i>) and then do further conversion from there if necessary."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661182106,"post_id":73443345,"comment_id":129705306,"body_markdown":"Somewhat similar: [Why is this not casting to long](https://stackoverflow.com/questions/49776292/why-is-this-not-casting-to-long)","body":"Somewhat similar: <a href=\"https://stackoverflow.com/questions/49776292/why-is-this-not-casting-to-long\">Why is this not casting to long</a>"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661198577,"creation_date":1661163089,"answer_id":73443450,"question_id":73443345,"body_markdown":"The [constructor of `Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-long-) you used takes a `long` argument, but what you passed is in fact an (overflown) `int`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tint overflowedInt = 1661159784 * 1000;\r\n\tSystem.out.println(overflowedInt);\r\n}\r\n```\r\n\r\nOutput: `-992559552`\r\n\r\nThe same applies to `Instant.ofEpochMilli(long)`…\r\n\r\n---\r\n\r\nYou can get the desired result if you use `Instant.ofEpochSecond(long)` without multiplying by 1000:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tInstant instant = Instant.ofEpochSecond(1661159784L);\r\n\tZonedDateTime zdt = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\r\n\tSystem.out.println(zdt);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-08-22T09:16:24Z[UTC]\r\n```\r\n\r\n---\r\n\r\nIf you have to use a `java.util.Date`, which is not recommended anymore, either do the calculation with `long`s:\r\n\r\n```java\r\nSystem.out.println(new Date(1661159784L * 1000L));\r\n```\r\n\r\nor — **much better** — use the compatibility method `Date.from(Instant)` and create the `Instant` as shown at the top of this answer, that is `Instant.ofEpochSecond(long)`:\r\n\r\n```java\r\nSystem.out.println(Date.from(Instant.ofEpochSecond(1661159784L)));\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nMon Aug 22 11:16:24 CEST 2022\r\n```\r\n\r\n… in my `TimeZone`/`ZoneId` (&quot;Europe/Berlin&quot;), pay attention to the zones here.","title":"convert exp date JWT token in java not work like in js, why?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-long-\" rel=\"nofollow noreferrer\">constructor of <code>Date</code></a> you used takes a <code>long</code> argument, but what you passed is in fact an (overflown) <code>int</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int overflowedInt = 1661159784 * 1000;\n    System.out.println(overflowedInt);\n}\n</code></pre>\n<p>Output: <code>-992559552</code></p>\n<p>The same applies to <code>Instant.ofEpochMilli(long)</code>…</p>\n<hr />\n<p>You can get the desired result if you use <code>Instant.ofEpochSecond(long)</code> without multiplying by 1000:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Instant instant = Instant.ofEpochSecond(1661159784L);\n    ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\n    System.out.println(zdt);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-08-22T09:16:24Z[UTC]\n</code></pre>\n<hr />\n<p>If you have to use a <code>java.util.Date</code>, which is not recommended anymore, either do the calculation with <code>long</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(new Date(1661159784L * 1000L));\n</code></pre>\n<p>or — <strong>much better</strong> — use the compatibility method <code>Date.from(Instant)</code> and create the <code>Instant</code> as shown at the top of this answer, that is <code>Instant.ofEpochSecond(long)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Date.from(Instant.ofEpochSecond(1661159784L)));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mon Aug 22 11:16:24 CEST 2022\n</code></pre>\n<p>… in my <code>TimeZone</code>/<code>ZoneId</code> (&quot;Europe/Berlin&quot;), pay attention to the zones here.</p>\n"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1661198938,"creation_date":1661162560,"question_id":73443345,"body_markdown":"I&#39;m trying to get value of the `exp` datetime in a JWT token. \r\n`exp` is the expiration time after which JWT must not be accepted.\r\n\r\nIn JavaScript I get the correct result by\r\n\r\n```java\r\nnew Date(1661159784*1000) \r\n```\r\n\r\nthe correct result is\r\n\r\n```none\r\nMon Aug 22 2022 11:16:24 GMT+0200 (CEST)\r\n```\r\n---\r\nWhy didn&#39;t I get the same in Java?\r\n\r\nJava:\r\n\r\n```java\r\nSystem.out.println(new Date(1661159784 * 1000)); \r\n```\r\n\r\nresult:\r\n\r\n```none\r\nSat Dec 20 13:17:20 CET 1969\r\n```\r\n\r\nThe same result setting s UTC time zone:\r\n\r\n```java\r\nfinal ZonedDateTime exp2 = Instant.ofEpochMilli(1661159784 * 1000)\r\n                                  .atZone(ZoneOffset.UTC);\r\nSystem.out.println(exp2);\r\n```\r\n\r\nresult:\r\n\r\n```none\r\n1969-12-20T12:17:20.448Z\r\n```\r\n","title":"convert exp date JWT token in java not work like in js, why?","body":"<p>I'm trying to get value of the <code>exp</code> datetime in a JWT token.\n<code>exp</code> is the expiration time after which JWT must not be accepted.</p>\n<p>In JavaScript I get the correct result by</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Date(1661159784*1000) \n</code></pre>\n<p>the correct result is</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mon Aug 22 2022 11:16:24 GMT+0200 (CEST)\n</code></pre>\n<hr />\n<p>Why didn't I get the same in Java?</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(new Date(1661159784 * 1000)); \n</code></pre>\n<p>result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Sat Dec 20 13:17:20 CET 1969\n</code></pre>\n<p>The same result setting s UTC time zone:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ZonedDateTime exp2 = Instant.ofEpochMilli(1661159784 * 1000)\n                                  .atZone(ZoneOffset.UTC);\nSystem.out.println(exp2);\n</code></pre>\n<p>result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1969-12-20T12:17:20.448Z\n</code></pre>\n"},{"tags":["java","android","api","android-recyclerview"],"comments":[{"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"score":0,"creation_date":1661196884,"post_id":73450060,"comment_id":129710158,"body_markdown":"add a Log.d(&quot;Home&quot;, &quot;Fetch data: &quot; + response.size() ) in RecipeByIngredientListener  -&gt; didFetch() and paste the logcat","body":"add a Log.d(&quot;Home&quot;, &quot;Fetch data: &quot; + response.size() ) in RecipeByIngredientListener  -&gt; didFetch() and paste the logcat"},{"owner":{"account_id":23654794,"reputation":39,"user_id":17683245,"display_name":"Muhammad Zarith"},"score":0,"creation_date":1661197219,"post_id":73450060,"comment_id":129710249,"body_markdown":"@davidte `D/Home: Fetch data: 0`","body":"@davidte <code>D&#47;Home: Fetch data: 0</code>"},{"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"score":0,"creation_date":1661197248,"post_id":73450060,"comment_id":129710256,"body_markdown":"the problem is the repository the list return empty, check your RequestManager -&gt; getRecipeByIngredient() implementation","body":"the problem is the repository the list return empty, check your RequestManager -&gt; getRecipeByIngredient() implementation"},{"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"score":0,"creation_date":1661197671,"post_id":73450060,"comment_id":129710397,"body_markdown":"Add another Log.d(&quot;Home&quot;, &quot;Ingredient size: &quot; + Ingredient size()) on Home -&gt; onCreateView, before return v; and paste the logcat","body":"Add another Log.d(&quot;Home&quot;, &quot;Ingredient size: &quot; + Ingredient size()) on Home -&gt; onCreateView, before return v; and paste the logcat"},{"owner":{"account_id":23654794,"reputation":39,"user_id":17683245,"display_name":"Muhammad Zarith"},"score":0,"creation_date":1661198111,"post_id":73450060,"comment_id":129710541,"body_markdown":"I think the problem is at getting ingredient from database, when i tried to access the `Ingredient` outside `addOnCompleteListener` its returning zero, while when i try to access it inside `addOnCompleteListener` its returning the value. why is that? Im moving the `manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);` inside `addOnCompleteListener` and its returning the API data as its should","body":"I think the problem is at getting ingredient from database, when i tried to access the <code>Ingredient</code> outside <code>addOnCompleteListener</code> its returning zero, while when i try to access it inside <code>addOnCompleteListener</code> its returning the value. why is that? Im moving the <code>manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);</code> inside <code>addOnCompleteListener</code> and its returning the API data as its should"}],"answers":[{"tags":[],"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661198675,"creation_date":1661198675,"answer_id":73450465,"question_id":73450060,"body_markdown":"The issue is because calls to the Firebase database are asynchronous, if you call the value outside of addOnCompleteListener can be empty \r\n\r\nChange the reference.get().addOnCompleteListener to: \r\n\r\n    reference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n            if(task.isSuccessful()){\r\n                List&lt;String&gt; Ingredient =  new ArrayList&lt;&gt;();\r\n                for (DataSnapshot userSnapshot : task.getResult().getChildren()){\r\n                    Ingredient.add(userSnapshot.getKey());\r\n                }\r\n                manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"RecyclerView not showing data fetched from API","body":"<p>The issue is because calls to the Firebase database are asynchronous, if you call the value outside of addOnCompleteListener can be empty</p>\n<p>Change the reference.get().addOnCompleteListener to:</p>\n<pre><code>reference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if(task.isSuccessful()){\n            List&lt;String&gt; Ingredient =  new ArrayList&lt;&gt;();\n            for (DataSnapshot userSnapshot : task.getResult().getChildren()){\n                Ingredient.add(userSnapshot.getKey());\n            }\n            manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":23654794,"reputation":39,"user_id":17683245,"display_name":"Muhammad Zarith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73450465,"answer_count":1,"score":0,"last_activity_date":1661198675,"creation_date":1661195888,"question_id":73450060,"body_markdown":"Im creating an app that shows user recipe based on ingredient they have using [SpoonAcular API][1]\r\nThe app fetched the ingredient user currently have on Firebase Realtime Database and using the data to fetch the recipe. I&#39;ve created all the adapter needed to fetch the data but the app not showing the recyclerView as its should. Here&#39;s my code\r\n\r\n**RequestManager.java**\r\n\r\n    public class RequestManager {\r\n    \r\n        Context context;\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.spoonacular.com/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n    \r\n        public RequestManager(Context context){\r\n            this.context = context;\r\n        }\r\n    \r\n        public void getRecipeByIngredient(RecipeByIngredientListener listener, List &lt;String&gt; IngredientList){\r\n            CallRecipeByIngredient callRecipeByIngredient = retrofit.create(CallRecipeByIngredient.class);\r\n    \r\n    \r\n            Call &lt;List&lt;RecipeIngredResponse&gt;&gt; call = callRecipeByIngredient.callRecipeByIngredient(context.getString(R.string.API), IngredientList, &quot;20&quot;);\r\n            call.enqueue(new Callback&lt;List&lt;RecipeIngredResponse&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;List&lt;RecipeIngredResponse&gt;&gt; call, Response&lt;List&lt;RecipeIngredResponse&gt;&gt; response) {\r\n                    if(!response.isSuccessful()){\r\n                        listener.didError(response.message());\r\n                        return;\r\n                    }\r\n                    listener.didFetch(response.body(), response.message());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;List&lt;RecipeIngredResponse&gt;&gt; call, Throwable t) {\r\n                    listener.didError(t.getMessage());\r\n                }\r\n            });\r\n        }\r\n    \r\n        private interface CallRecipeByIngredient{\r\n            @GET(&quot;recipes/findByIngredients&quot;)\r\n            Call&lt;List&lt;RecipeIngredResponse&gt;&gt; callRecipeByIngredient(\r\n                    @Query(&quot;apiKey&quot;) String apiKey,\r\n                    @Query(&quot;ingredients&quot;) List &lt;String&gt; Ingredient,\r\n                    @Query(&quot;number&quot;) String number\r\n            );\r\n        }\r\n    }\r\n\r\n**RecipeByIngredientListener**\r\n\r\n    public interface RecipeByIngredientListener {\r\n        void didFetch(List&lt;RecipeIngredResponse&gt; response, String message);\r\n        void didError(String message);\r\n    }\r\n\r\n**RecipeByIngredientAdapter**\r\n\r\n        \r\n    public class RecipeByIngredientAdapter extends RecyclerView.Adapter&lt;RecipeByIngredientViewHolder&gt; {\r\n    \r\n        Context context;\r\n        List&lt;RecipeIngredResponse&gt; list;\r\n    \r\n        public RecipeByIngredientAdapter(Context context, List&lt;RecipeIngredResponse&gt; list) {\r\n            this.context = context;\r\n            this.list = list;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecipeByIngredientViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            return new RecipeByIngredientViewHolder(LayoutInflater.from(context).inflate(R.layout.list_recipebyingred , parent, false));\r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecipeByIngredientViewHolder holder, int position) {\r\n            holder.recipeName.setText(list.get(position).title);\r\n            holder.missedIngred.setText(list.get(position).missedIngredientCount + &quot; Missed Ingredient&quot;);\r\n            holder.likes.setText(list.get(position).likes + &quot; Likes&quot;);\r\n            Picasso.get().load(list.get(position).image).into(holder.recipeImage);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    }\r\n    \r\n    class RecipeByIngredientViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n        ImageView recipeImage;\r\n        TextView recipeName, missedIngred, likes;\r\n    \r\n        public RecipeByIngredientViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n    \r\n            recipeImage = itemView.findViewById(R.id.recipeImage);\r\n            recipeName = itemView.findViewById(R.id.recipeName);\r\n            missedIngred = itemView.findViewById(R.id.missedIngred);\r\n            likes = itemView.findViewById(R.id.likes);\r\n        }\r\n    }\r\n\r\n**Home.java (Fragment)**\r\n\r\n    RandomRecipeAdapter randomRecipeAdapter;\r\n    RequestManager manager;\r\n    RecyclerView recyclerView, recyclerFromYourFridge;\r\n    RecipeByIngredientAdapter recipeByIngredientAdapter;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        // Inflate the layout for this fragment\r\n        View v =  inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        manager = new RequestManager(getContext());\r\n        manager.getRandomRecipe(randomRecipeResponseListener);\r\n\r\n        recyclerFromYourFridge = (RecyclerView) v.findViewById(R.id.recyclerFromYourFridge);\r\n        //get ingredient from database\r\n        List&lt;String&gt; Ingredient =  new ArrayList&lt;&gt;();\r\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n        String currentUser = mAuth.getCurrentUser().getUid();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;Ingredient&quot;).child(currentUser);\r\n        reference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    for (DataSnapshot userSnapshot : task.getResult().getChildren()){\r\n                        Ingredient.add(userSnapshot.getKey());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);\r\n\r\n        recyclerView = (RecyclerView) v.findViewById(R.id.randomRecipeRecycler);\r\n        return v;\r\n\r\n    }\r\n\r\n    private final RecipeByIngredientListener recipeByIngredientListener = new RecipeByIngredientListener() {\r\n        @Override\r\n        public void didFetch(List&lt;RecipeIngredResponse&gt; response, String message) {\r\n\r\n            recyclerFromYourFridge.setHasFixedSize(true);\r\n            recyclerFromYourFridge.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\r\n            recipeByIngredientAdapter = new RecipeByIngredientAdapter(getContext(), response);\r\n            recyclerFromYourFridge.setAdapter(recipeByIngredientAdapter);\r\n        }\r\n\r\n        @Override\r\n        public void didError(String message) {\r\n            Toast.makeText(getContext(), message, Toast.LENGTH_SHORT).show();\r\n        }\r\n    };\r\n\r\nPretty sure there&#39;s nothing wrong with the app fetching ingredient from Firebase cause i&#39;ve tested it and the api capable to get recipe by using ArrayList. Is there anything wrong with this code?\r\n\r\n  [1]: https://spoonacular.com/food-api/docs#Search-Recipes-by-Ingredients","title":"RecyclerView not showing data fetched from API","body":"<p>Im creating an app that shows user recipe based on ingredient they have using <a href=\"https://spoonacular.com/food-api/docs#Search-Recipes-by-Ingredients\" rel=\"nofollow noreferrer\">SpoonAcular API</a>\nThe app fetched the ingredient user currently have on Firebase Realtime Database and using the data to fetch the recipe. I've created all the adapter needed to fetch the data but the app not showing the recyclerView as its should. Here's my code</p>\n<p><strong>RequestManager.java</strong></p>\n<pre><code>public class RequestManager {\n\n    Context context;\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;https://api.spoonacular.com/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    public RequestManager(Context context){\n        this.context = context;\n    }\n\n    public void getRecipeByIngredient(RecipeByIngredientListener listener, List &lt;String&gt; IngredientList){\n        CallRecipeByIngredient callRecipeByIngredient = retrofit.create(CallRecipeByIngredient.class);\n\n\n        Call &lt;List&lt;RecipeIngredResponse&gt;&gt; call = callRecipeByIngredient.callRecipeByIngredient(context.getString(R.string.API), IngredientList, &quot;20&quot;);\n        call.enqueue(new Callback&lt;List&lt;RecipeIngredResponse&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;RecipeIngredResponse&gt;&gt; call, Response&lt;List&lt;RecipeIngredResponse&gt;&gt; response) {\n                if(!response.isSuccessful()){\n                    listener.didError(response.message());\n                    return;\n                }\n                listener.didFetch(response.body(), response.message());\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;RecipeIngredResponse&gt;&gt; call, Throwable t) {\n                listener.didError(t.getMessage());\n            }\n        });\n    }\n\n    private interface CallRecipeByIngredient{\n        @GET(&quot;recipes/findByIngredients&quot;)\n        Call&lt;List&lt;RecipeIngredResponse&gt;&gt; callRecipeByIngredient(\n                @Query(&quot;apiKey&quot;) String apiKey,\n                @Query(&quot;ingredients&quot;) List &lt;String&gt; Ingredient,\n                @Query(&quot;number&quot;) String number\n        );\n    }\n}\n</code></pre>\n<p><strong>RecipeByIngredientListener</strong></p>\n<pre><code>public interface RecipeByIngredientListener {\n    void didFetch(List&lt;RecipeIngredResponse&gt; response, String message);\n    void didError(String message);\n}\n</code></pre>\n<p><strong>RecipeByIngredientAdapter</strong></p>\n<pre><code>public class RecipeByIngredientAdapter extends RecyclerView.Adapter&lt;RecipeByIngredientViewHolder&gt; {\n\n    Context context;\n    List&lt;RecipeIngredResponse&gt; list;\n\n    public RecipeByIngredientAdapter(Context context, List&lt;RecipeIngredResponse&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public RecipeByIngredientViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new RecipeByIngredientViewHolder(LayoutInflater.from(context).inflate(R.layout.list_recipebyingred , parent, false));\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull RecipeByIngredientViewHolder holder, int position) {\n        holder.recipeName.setText(list.get(position).title);\n        holder.missedIngred.setText(list.get(position).missedIngredientCount + &quot; Missed Ingredient&quot;);\n        holder.likes.setText(list.get(position).likes + &quot; Likes&quot;);\n        Picasso.get().load(list.get(position).image).into(holder.recipeImage);\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n}\n\nclass RecipeByIngredientViewHolder extends RecyclerView.ViewHolder{\n\n    ImageView recipeImage;\n    TextView recipeName, missedIngred, likes;\n\n    public RecipeByIngredientViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        recipeImage = itemView.findViewById(R.id.recipeImage);\n        recipeName = itemView.findViewById(R.id.recipeName);\n        missedIngred = itemView.findViewById(R.id.missedIngred);\n        likes = itemView.findViewById(R.id.likes);\n    }\n}\n</code></pre>\n<p><strong>Home.java (Fragment)</strong></p>\n<pre><code>RandomRecipeAdapter randomRecipeAdapter;\nRequestManager manager;\nRecyclerView recyclerView, recyclerFromYourFridge;\nRecipeByIngredientAdapter recipeByIngredientAdapter;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    // Inflate the layout for this fragment\n    View v =  inflater.inflate(R.layout.fragment_home, container, false);\n\n    manager = new RequestManager(getContext());\n    manager.getRandomRecipe(randomRecipeResponseListener);\n\n    recyclerFromYourFridge = (RecyclerView) v.findViewById(R.id.recyclerFromYourFridge);\n    //get ingredient from database\n    List&lt;String&gt; Ingredient =  new ArrayList&lt;&gt;();\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\n    String currentUser = mAuth.getCurrentUser().getUid();\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;Ingredient&quot;).child(currentUser);\n    reference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if(task.isSuccessful()){\n                for (DataSnapshot userSnapshot : task.getResult().getChildren()){\n                    Ingredient.add(userSnapshot.getKey());\n                }\n            }\n        }\n    });\n\n    manager.getRecipeByIngredient(recipeByIngredientListener , Ingredient);\n\n    recyclerView = (RecyclerView) v.findViewById(R.id.randomRecipeRecycler);\n    return v;\n\n}\n\nprivate final RecipeByIngredientListener recipeByIngredientListener = new RecipeByIngredientListener() {\n    @Override\n    public void didFetch(List&lt;RecipeIngredResponse&gt; response, String message) {\n\n        recyclerFromYourFridge.setHasFixedSize(true);\n        recyclerFromYourFridge.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));\n        recipeByIngredientAdapter = new RecipeByIngredientAdapter(getContext(), response);\n        recyclerFromYourFridge.setAdapter(recipeByIngredientAdapter);\n    }\n\n    @Override\n    public void didError(String message) {\n        Toast.makeText(getContext(), message, Toast.LENGTH_SHORT).show();\n    }\n};\n</code></pre>\n<p>Pretty sure there's nothing wrong with the app fetching ingredient from Firebase cause i've tested it and the api capable to get recipe by using ArrayList. Is there anything wrong with this code?</p>\n"},{"tags":["java","spring-boot","mockito","resttemplate","junit5"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661198136,"creation_date":1549565841,"answer_id":54580389,"question_id":54579940,"body_markdown":"One cause of the described (or a subordinate) problem might be, since `RestTemplate` is nor &quot;private&quot; nor &quot;final&quot; and &quot;known as mockable&quot;, the invocation/mocking of `restTemplate.getForEntity()`\r\n\r\n ... in the [current version][1], this method is available in three flavors/with overloading parameters:\r\n\r\n - `... getForEntity(String url, Class&lt;T&gt; responseType, Object... uriVariables) ...`\r\n - `... getForEntity(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables) ...`\r\n - `... getForEntity(URI url, Class&lt;T&gt; responseType) ...`\r\n\r\nIn your (operative) code you seem to use the 1st flavor, so without changing it (the operative code), I propose to adjust your test code to:\r\n\r\n    ...restTemplate.getForEntity(Mockito.anyString(), String.class\r\n    /*!!!*/, ArgumentMatchers.&lt;Object&gt;any());\r\n\r\nSee also:\r\n \r\n- https://stackoverflow.com/q/44104937/592355\r\n- https://stackoverflow.com/q/2631596/592355\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java\r\n  [2]: https://dzone.com/articles/spring-boot-2-with-junit-5-and-mockito-2-for-unit","title":"Unable to mock RestTemplate in SpringBoot-Junit5-Mockito","body":"<p>One cause of the described (or a subordinate) problem might be, since <code>RestTemplate</code> is nor &quot;private&quot; nor &quot;final&quot; and &quot;known as mockable&quot;, the invocation/mocking of <code>restTemplate.getForEntity()</code></p>\n<p>... in the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/client/RestTemplate.java\" rel=\"nofollow noreferrer\">current version</a>, this method is available in three flavors/with overloading parameters:</p>\n<ul>\n<li><code>... getForEntity(String url, Class&lt;T&gt; responseType, Object... uriVariables) ...</code></li>\n<li><code>... getForEntity(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables) ...</code></li>\n<li><code>... getForEntity(URI url, Class&lt;T&gt; responseType) ...</code></li>\n</ul>\n<p>In your (operative) code you seem to use the 1st flavor, so without changing it (the operative code), I propose to adjust your test code to:</p>\n<pre><code>...restTemplate.getForEntity(Mockito.anyString(), String.class\n/*!!!*/, ArgumentMatchers.&lt;Object&gt;any());\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/44104937/592355\">Mockito not working for RestTemplate</a></li>\n<li><a href=\"https://stackoverflow.com/q/2631596/592355\">How to properly match varargs in Mockito</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6481450,"reputation":1182,"user_id":5018300,"display_name":"Shravan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551024576,"creation_date":1551024576,"answer_id":54853819,"question_id":54579940,"body_markdown":"Okay, I solved the problem. It was a version mismatch between mockito-core and mockito-junit-jupiter jars, which was causing thr problem.\r\n\r\nThe correct dependency is:\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.2.0&#39;\r\n    testCompile &#39;org.junit.jupiter:junit-jupiter-params:5.2.0&#39;\r\n    testRuntime &#39;org.junit.jupiter:junit-jupiter-engine:5.2.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:2.18.3&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:2.18.3&#39;\r\n\r\nEarlier, it was\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:2.+&#39;\r\n\r\nGradle was picking the latest version of mockito-core jar since it was asked to pick any version in the 2.x series, as defined in the build file. I believe the rest is self explanatory.\r\n\r\nHappy, Unit testing! :P","title":"Unable to mock RestTemplate in SpringBoot-Junit5-Mockito","body":"<p>Okay, I solved the problem. It was a version mismatch between mockito-core and mockito-junit-jupiter jars, which was causing thr problem.</p>\n\n<p>The correct dependency is:</p>\n\n<pre><code>testImplementation 'org.junit.jupiter:junit-jupiter-api:5.2.0'\ntestCompile 'org.junit.jupiter:junit-jupiter-params:5.2.0'\ntestRuntime 'org.junit.jupiter:junit-jupiter-engine:5.2.0'\ntestImplementation 'org.mockito:mockito-core:2.18.3'\ntestImplementation 'org.mockito:mockito-junit-jupiter:2.18.3'\n</code></pre>\n\n<p>Earlier, it was</p>\n\n<pre><code>testImplementation 'org.mockito:mockito-core:2.+'\n</code></pre>\n\n<p>Gradle was picking the latest version of mockito-core jar since it was asked to pick any version in the 2.x series, as defined in the build file. I believe the rest is self explanatory.</p>\n\n<p>Happy, Unit testing! :P</p>\n"},{"tags":[],"owner":{"account_id":7327913,"reputation":476,"user_id":5581772,"display_name":"SpareTheRod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571156708,"creation_date":1571156708,"answer_id":58399005,"question_id":54579940,"body_markdown":"This issue happened to me because I was inadvertently running Java 11.  Once I switched to Java 8 which is standard for the project, the issue went away.","title":"Unable to mock RestTemplate in SpringBoot-Junit5-Mockito","body":"<p>This issue happened to me because I was inadvertently running Java 11.  Once I switched to Java 8 which is standard for the project, the issue went away.</p>\n"}],"owner":{"account_id":6481450,"reputation":1182,"user_id":5018300,"display_name":"Shravan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54853819,"answer_count":3,"score":2,"last_activity_date":1661198136,"creation_date":1549564063,"question_id":54579940,"body_markdown":"I&#39;m trying to mock a rest template in my DAO class but Mockito throws weird error saying it isn&#39;t able to mock.\r\n\r\nTrying to cover unit test cases for my Spring boot app version 2.x. I have almost tried all possible solutions over the internet like updating JDK/JRE for compilation but I&#39;m stuck with the following error:\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class org.springframework.web.client.RestTemplate.\r\n\r\n    Mockito can only mock non-private &amp; non-final classes.\r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\n    Java               : 1.8\r\n    JVM vendor name    : Oracle Corporation\r\n    JVM vendor version : 25.181-b13\r\n    JVM name           : Java HotSpot(TM) 64-Bit Server VM\r\n    JVM version        : 1.8.0_181-b13\r\n    JVM info           : mixed mode\r\n    OS name            : Windows 10\r\n    OS version         : 10.0\r\n\r\n\r\n    Underlying exception : java.lang.IllegalArgumentException: Could not create type\r\n\t    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:115)\r\n    ....\r\n\r\nFollowing is my code:\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    \timplementation &#39;org.springframework.retry:spring-retry&#39;\r\n    \timplementation &#39;org.aspectj:aspectjrt&#39;\r\n    \timplementation &#39;org.aspectj:aspectjweaver&#39;\r\n    \timplementation &#39;org.springframework:spring-aop&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \t\r\n    \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.2.0&#39;\r\n        testCompile &#39;org.junit.jupiter:junit-jupiter-params:5.2.0&#39;\r\n        testRuntime &#39;org.junit.jupiter:junit-jupiter-engine:5.2.0&#39;\r\n        testImplementation &#39;org.mockito:mockito-core:2.+&#39;\r\n        testImplementation &#39;org.mockito:mockito-junit-jupiter:2.18.3&#39;\r\n    }\r\n    \r\n    test {\r\n    \ttestLogging.showStandardStreams = true\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nMyDao.java\r\n\r\n    @Repository\r\n    public class MyDao {\t\r\n    \t@Value(&quot;${app.prop.service.url}&quot;)\r\n    \tprivate String url;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic RestTemplate restTemplate;\r\n    \t\r\n    \tpublic String getSignals() {\r\n    \t\tSystem.out.println(&quot;url -----------------------&gt; &quot; + url);\r\n    \t\treturn new RetryTemplate().execute(context -&gt; {\r\n    \t\t\tResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\r\n    \t\t\t\r\n    \t\t\tif (response.getStatusCodeValue() == 200) {\r\n    \t\t\t\tSystem.out.println(&quot;Server response -&gt; &quot; + response.getBody());\r\n    \t\t\t\treturn response.getBody();\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new RuntimeException(&quot;server response status: &quot; + response.getStatusCode());\r\n    \t\t\t}\r\n    \t\t}, context -&gt; {\r\n    \t\t\tSystem.out.println(&quot;retry count: &quot; + context.getRetryCount());\r\n    \t\t\tSystem.err.println(&quot;error -&gt; &quot; + context.getLastThrowable());\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nMyDaoTest.java\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyDaoTest {\t\r\n    \t@Mock\r\n    \tprivate RestTemplate restTemplate;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate MyDao dao;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void prepare() {\r\n    \t\tResponseEntity&lt;String&gt; response = new ResponseEntity&lt;&gt;(&quot;{name: myname}&quot;, HttpStatus.OK);\r\n    \t\tMockito.doReturn(response).when(restTemplate.getForEntity(Mockito.anyString(), String.class));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testGetSignals() {\r\n    \t\tSystem.out.println(&quot;------------------TEST-------------------&quot;);\r\n    \t\tString result = dao.getSignals();\r\n    \t\tSystem.out.println(&quot;result ------&gt;&quot; + result);\r\n    \t\tassertEquals(&quot;{name: myname}&quot;, result);\r\n    \t}\r\n    }\r\n\r\nBeanConfig for RestTemplate\r\n\r\n    @Bean\r\n\tpublic RestTemplate restTemplate() {\r\n        // block of code for SSL config for HTTPS connection\r\n\t\treturn new RestTemplate();\r\n\t}\r\n\r\nAny suggestions will be really helpful\r\n\r\nP.S: The application is running perfectly fine through gradle command \r\n\r\n    gradlew bootRun\r\n\r\nThe problem is only with unit testing\r\n\r\n    gradlew test\r\n","title":"Unable to mock RestTemplate in SpringBoot-Junit5-Mockito","body":"<p>I'm trying to mock a rest template in my DAO class but Mockito throws weird error saying it isn't able to mock.</p>\n\n<p>Trying to cover unit test cases for my Spring boot app version 2.x. I have almost tried all possible solutions over the internet like updating JDK/JRE for compilation but I'm stuck with the following error:</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class org.springframework.web.client.RestTemplate.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.181-b13\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0_181-b13\nJVM info           : mixed mode\nOS name            : Windows 10\nOS version         : 10.0\n\n\nUnderlying exception : java.lang.IllegalArgumentException: Could not create type\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:115)\n....\n</code></pre>\n\n<p>Following is my code:</p>\n\n<p>build.gradle</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.retry:spring-retry'\n    implementation 'org.aspectj:aspectjrt'\n    implementation 'org.aspectj:aspectjweaver'\n    implementation 'org.springframework:spring-aop'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.2.0'\n    testCompile 'org.junit.jupiter:junit-jupiter-params:5.2.0'\n    testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.2.0'\n    testImplementation 'org.mockito:mockito-core:2.+'\n    testImplementation 'org.mockito:mockito-junit-jupiter:2.18.3'\n}\n\ntest {\n    testLogging.showStandardStreams = true\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>MyDao.java</p>\n\n<pre><code>@Repository\npublic class MyDao {    \n    @Value(\"${app.prop.service.url}\")\n    private String url;\n\n    @Autowired\n    public RestTemplate restTemplate;\n\n    public String getSignals() {\n        System.out.println(\"url -----------------------&gt; \" + url);\n        return new RetryTemplate().execute(context -&gt; {\n            ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\n\n            if (response.getStatusCodeValue() == 200) {\n                System.out.println(\"Server response -&gt; \" + response.getBody());\n                return response.getBody();\n            } else {\n                throw new RuntimeException(\"server response status: \" + response.getStatusCode());\n            }\n        }, context -&gt; {\n            System.out.println(\"retry count: \" + context.getRetryCount());\n            System.err.println(\"error -&gt; \" + context.getLastThrowable());\n            return null;\n        });\n    }\n}\n</code></pre>\n\n<p>MyDaoTest.java</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyDaoTest {    \n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private MyDao dao;\n\n    @BeforeEach\n    public void prepare() {\n        ResponseEntity&lt;String&gt; response = new ResponseEntity&lt;&gt;(\"{name: myname}\", HttpStatus.OK);\n        Mockito.doReturn(response).when(restTemplate.getForEntity(Mockito.anyString(), String.class));\n    }\n\n    @Test\n    public void testGetSignals() {\n        System.out.println(\"------------------TEST-------------------\");\n        String result = dao.getSignals();\n        System.out.println(\"result ------&gt;\" + result);\n        assertEquals(\"{name: myname}\", result);\n    }\n}\n</code></pre>\n\n<p>BeanConfig for RestTemplate</p>\n\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    // block of code for SSL config for HTTPS connection\n    return new RestTemplate();\n}\n</code></pre>\n\n<p>Any suggestions will be really helpful</p>\n\n<p>P.S: The application is running perfectly fine through gradle command </p>\n\n<pre><code>gradlew bootRun\n</code></pre>\n\n<p>The problem is only with unit testing</p>\n\n<pre><code>gradlew test\n</code></pre>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1455314698,"creation_date":1455314698,"answer_id":35372980,"question_id":35372753,"body_markdown":"Your problem is that you are both incrementing `i` and using `start.length()-i`.  When `i` is equal to 1, the `start` variable becomes one character shorter. But when `i` is 2, `start.length()` is already one less than the original, and now you subtract 2 characters, so now you&#39;ve missed one.  The same is true for the `end` variable.  Don&#39;t use both an incrementing `i` and the changing length of the strings.\r\n\r\nTo fix it, don&#39;t change the original `start` and `end` variables.  Do something like this:\r\n\r\n        String sTmp = start;\r\n        String eTmp = end;\r\n        while (!sTmp.equals(eTmp) &amp;&amp; i &lt;= start.length()) {\r\n            sTmp = start.substring(0, start.length() - i);\r\n            eTmp = end.substring(i, end.length());\r\n            i++;\r\n        }\r\n        if (sTmp.equals(eTmp)) {\r\n            result = sTmp;\r\n        } else {\r\n            result = &quot;&quot;;\r\n        }\r\n        return result;","title":"CodingBat sameEnds dealing with Strings","body":"<p>Your problem is that you are both incrementing <code>i</code> and using <code>start.length()-i</code>.  When <code>i</code> is equal to 1, the <code>start</code> variable becomes one character shorter. But when <code>i</code> is 2, <code>start.length()</code> is already one less than the original, and now you subtract 2 characters, so now you've missed one.  The same is true for the <code>end</code> variable.  Don't use both an incrementing <code>i</code> and the changing length of the strings.</p>\n\n<p>To fix it, don't change the original <code>start</code> and <code>end</code> variables.  Do something like this:</p>\n\n<pre><code>    String sTmp = start;\n    String eTmp = end;\n    while (!sTmp.equals(eTmp) &amp;&amp; i &lt;= start.length()) {\n        sTmp = start.substring(0, start.length() - i);\n        eTmp = end.substring(i, end.length());\n        i++;\n    }\n    if (sTmp.equals(eTmp)) {\n        result = sTmp;\n    } else {\n        result = \"\";\n    }\n    return result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326469,"reputation":9226,"user_id":2040863,"accept_rate":96,"display_name":"John Hascall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455317675,"creation_date":1455317192,"answer_id":35373512,"question_id":35372753,"body_markdown":"Your code seems overly complicated.  Consider this:\r\n\r\n    public String sameEnds(String string) {\r\n       int e = string.length() - 1;                  /* end of string */\r\n       int b = string.length() / 2;                  /* where to start looking for a match */\r\n       \r\n       while (--b &gt;= 0) {                            /* ran off the front yet? */\r\n\r\n           /*\r\n            * Starting just below the center of the string,\r\n            * look for a character which matches the final character\r\n            */\r\n           for ( ; b &gt;= 0; --b) {\r\n              if (string.charAt(e) == string.charAt(b)) break;\r\n           }\r\n\r\n           /*\r\n            * found a match to the final character (a possible starting point)\r\n            * compare characters backwards until no match or all matched\r\n            * (temp vars ee and bb walk backwards from e and b respectively)\r\n            *\r\n            *    &quot;|f|r|o|b|o|z|z|Q|Q|Q|f|r|o|b|o|z|z|&quot;\r\n            *                  ^                   ^\r\n            *                  |                   |\r\n            *         &lt;--bb    b          &lt;--ee    e\r\n            */\r\n           for (int ee = e, bb = b; bb &gt;= 0; --bb, --ee) {\r\n              if (string.charAt(bb) != string.charAt(ee)) break;  /* no match */\r\n              if (bb == 0) return string.substring(0, b+1);       /* victory! */\r\n           }\r\n       }\r\n       return new String(&quot;&quot;);                              /* nothing matched */\r\n    }","title":"CodingBat sameEnds dealing with Strings","body":"<p>Your code seems overly complicated.  Consider this:</p>\n\n<pre><code>public String sameEnds(String string) {\n   int e = string.length() - 1;                  /* end of string */\n   int b = string.length() / 2;                  /* where to start looking for a match */\n\n   while (--b &gt;= 0) {                            /* ran off the front yet? */\n\n       /*\n        * Starting just below the center of the string,\n        * look for a character which matches the final character\n        */\n       for ( ; b &gt;= 0; --b) {\n          if (string.charAt(e) == string.charAt(b)) break;\n       }\n\n       /*\n        * found a match to the final character (a possible starting point)\n        * compare characters backwards until no match or all matched\n        * (temp vars ee and bb walk backwards from e and b respectively)\n        *\n        *    \"|f|r|o|b|o|z|z|Q|Q|Q|f|r|o|b|o|z|z|\"\n        *                  ^                   ^\n        *                  |                   |\n        *         &lt;--bb    b          &lt;--ee    e\n        */\n       for (int ee = e, bb = b; bb &gt;= 0; --bb, --ee) {\n          if (string.charAt(bb) != string.charAt(ee)) break;  /* no match */\n          if (bb == 0) return string.substring(0, b+1);       /* victory! */\n       }\n   }\n   return new String(\"\");                              /* nothing matched */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7698667,"reputation":11,"user_id":5832120,"display_name":"Tvvi Xie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465015208,"creation_date":1465013740,"answer_id":37626290,"question_id":35372753,"body_markdown":"&lt;h3&gt;Here&#39;s my solution&lt;/h3&gt;\r\n\r\n    public String sameEnds(String string) {\r\n      int mid = string.length() / 2;\r\n      String ls = string.substring(mid);\r\n      String result = &quot;&quot;;\r\n      int index = -1;\r\n      int i = 0;\r\n    \r\n      if (string.length() &lt; 2) {\r\n        return &quot;&quot;;\r\n      }\r\n      \r\n      if (string.length() % 2 == 1) {\r\n        i = 1;\r\n      }\r\n\r\n      // All we need to do is loop over the second part of the string,\r\n      // find out the correct substring that equals to the origin string which start the index of &#39;0&#39;.\r\n\r\n      for (; i &lt; ls.length(); i++) {\r\n        index = string.indexOf(ls.substring(i));\r\n        if (index == 0) {\r\n          result += ls.substring(i);\r\n          break;\r\n        }\r\n      }\r\n      \r\n      return result;\r\n    }\r\n\r\n&lt;h4&gt;Hope it can help you&lt;/h4&gt;","title":"CodingBat sameEnds dealing with Strings","body":"<h3>Here's my solution</h3>\n\n<pre><code>public String sameEnds(String string) {\n  int mid = string.length() / 2;\n  String ls = string.substring(mid);\n  String result = \"\";\n  int index = -1;\n  int i = 0;\n\n  if (string.length() &lt; 2) {\n    return \"\";\n  }\n\n  if (string.length() % 2 == 1) {\n    i = 1;\n  }\n\n  // All we need to do is loop over the second part of the string,\n  // find out the correct substring that equals to the origin string which start the index of '0'.\n\n  for (; i &lt; ls.length(); i++) {\n    index = string.indexOf(ls.substring(i));\n    if (index == 0) {\n      result += ls.substring(i);\n      break;\n    }\n  }\n\n  return result;\n}\n</code></pre>\n\nHope it can help you\n"},{"tags":[],"owner":{"account_id":15495309,"reputation":1,"user_id":12035378,"display_name":"user12035378"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552728637,"creation_date":1552728637,"answer_id":55195301,"question_id":35372753,"body_markdown":"    public String sameEnds(String string) {\r\n      //First half of the string\r\n      String result = string.substring(0, string.length() / 2); \r\n      for (int i = 0; i &lt; string.length() / 2; i++)\r\n      {\r\n        //check if first half equals second half\r\n        if (result.equals(string.substring(string.length() - result.length())))\r\n            //return result if true\r\n            return result;\r\n        //else remove last character of first half\r\n        result = result.substring(0, result.length() - 1);\r\n      }\r\n      //return empty string if ends are not equal\r\n      return &quot;&quot;;\r\n    }\r\n\r\n","title":"CodingBat sameEnds dealing with Strings","body":"<pre><code>public String sameEnds(String string) {\n  //First half of the string\n  String result = string.substring(0, string.length() / 2); \n  for (int i = 0; i &lt; string.length() / 2; i++)\n  {\n    //check if first half equals second half\n    if (result.equals(string.substring(string.length() - result.length())))\n        //return result if true\n        return result;\n    //else remove last character of first half\n    result = result.substring(0, result.length() - 1);\n  }\n  //return empty string if ends are not equal\n  return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587485584,"creation_date":1587485233,"answer_id":61347928,"question_id":35372753,"body_markdown":"    public String sameEnds(String string) {\r\n      final int len = string.length();\r\n      String commonEnd = &quot;&quot;; \r\n      \r\n      //Return empty for Anything smaller than size 1 or size 1 \r\n      if (len &lt;= 1) return commonEnd;\r\n      \r\n      //    S T R I N G\r\n      //    0 1 2 3 4 5\r\n      // left = 2, right = 3\r\n      int left = len / 2;\r\n      int right = len % 2 == 0 ? (len / 2) : (len / 2) + 1;\r\n      \r\n      while (left &gt; 0) {\r\n        //Start by comparing the string cut down in biggest halves and then keep squeezing\r\n        //left and right from there on\r\n        if (string.substring(0, left).equals(string.substring(right, len))) {\r\n          break;\r\n        }\r\n          left--;\r\n          right++;\r\n      }\r\n      \r\n      return string.substring(0, left);\r\n    }\r\n\r\n","title":"CodingBat sameEnds dealing with Strings","body":"<pre><code>public String sameEnds(String string) {\n  final int len = string.length();\n  String commonEnd = \"\"; \n\n  //Return empty for Anything smaller than size 1 or size 1 \n  if (len &lt;= 1) return commonEnd;\n\n  //    S T R I N G\n  //    0 1 2 3 4 5\n  // left = 2, right = 3\n  int left = len / 2;\n  int right = len % 2 == 0 ? (len / 2) : (len / 2) + 1;\n\n  while (left &gt; 0) {\n    //Start by comparing the string cut down in biggest halves and then keep squeezing\n    //left and right from there on\n    if (string.substring(0, left).equals(string.substring(right, len))) {\n      break;\n    }\n      left--;\n      right++;\n  }\n\n  return string.substring(0, left);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17932763,"reputation":11,"user_id":13029752,"display_name":"Rahul Gheewala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590256541,"creation_date":1590014352,"answer_id":61924105,"question_id":35372753,"body_markdown":"my solution: \r\n\r\n\r\n    public String sameEnds(String str) {\r\n\r\n\t\tint middle = str.length()/2;\r\n\t\t\r\n\t\tfor (int i = middle; i &gt;= 0; i--) {\r\n\t\t\tString left = str.substring(0,i);\r\n\t\t\t\r\n\t\t\tif (str.endsWith(left)) {\r\n\t\t\t\treturn left;\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t  return &quot;&quot;;\r\n\t}","title":"CodingBat sameEnds dealing with Strings","body":"<p>my solution: </p>\n\n<pre><code>public String sameEnds(String str) {\n\n    int middle = str.length()/2;\n\n    for (int i = middle; i &gt;= 0; i--) {\n        String left = str.substring(0,i);\n\n        if (str.endsWith(left)) {\n            return left;\n        } \n\n        }\n\n      return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9051013,"reputation":11,"user_id":6741178,"display_name":"Deepa Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661197773,"creation_date":1661197773,"answer_id":73450327,"question_id":35372753,"body_markdown":"JavaScript Solution for same end intergers\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function solution(nums, len) {\r\n        // if(len===nums.length || len === 0) return true\r\n        for(let i=0; i&lt;len; i++){\r\n            if(nums[i]!=nums[nums.length-len +i]) \r\n                    return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    console.log(solution(([5, 6, 45, 99, 13, 5, 6], 2)))\r\n    console.log(solution(([1, 2, 5, 2, 1],0)))\r\n    console.log(solution(([1, 2, 5, 2, 1], 1))) \r\n    console.log(solution(([],0))) \r\n    console.log(solution(([1],1))) \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"CodingBat sameEnds dealing with Strings","body":"<p>JavaScript Solution for same end intergers</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function solution(nums, len) {\n    // if(len===nums.length || len === 0) return true\n    for(let i=0; i&lt;len; i++){\n        if(nums[i]!=nums[nums.length-len +i]) \n                return false\n    }\n    return true\n}\n\nconsole.log(solution(([5, 6, 45, 99, 13, 5, 6], 2)))\nconsole.log(solution(([1, 2, 5, 2, 1],0)))\nconsole.log(solution(([1, 2, 5, 2, 1], 1))) \nconsole.log(solution(([],0))) \nconsole.log(solution(([1],1))) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7810443,"reputation":882,"user_id":5906793,"accept_rate":29,"display_name":"nicoqueijo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35372980,"answer_count":7,"score":3,"last_activity_date":1661197773,"creation_date":1455313711,"question_id":35372753,"body_markdown":"I&#39;m trying to do [this][1] problem from CodingBat \r\nbut don&#39;t understand why it doesn&#39;t work with input string &quot;Hello!&quot;.\r\n\r\nThis is my code and below my code are the results I&#39;m getting.\r\n\r\n\r\n    public String sameEnds(String string) {\r\n            String result;\r\n            int strLen = string.length();\r\n            boolean isOdd = (strLen % 2 != 0);\r\n            String start = string.substring(0, strLen / 2);\r\n            String end;\r\n            if (isOdd) {\r\n                end = string.substring(strLen / 2 + 1);\r\n            } else {\r\n                end = string.substring(strLen / 2);\r\n            }\r\n            int i = 0;\r\n            while (!start.equals(end) &amp;&amp; i &lt;= start.length()) {\r\n                start = start.substring(0, start.length() - i);\r\n                end = end.substring(i, end.length());\r\n                i++;\r\n            }\r\n            if (start.equals(end)) {\r\n                result = start;\r\n            } else {\r\n                result = &quot;&quot;;\r\n            }\r\n            return result;\r\n        }\r\n\r\n![Results I&#39;m getting][2]\r\n\r\n\r\n  [1]: http://codingbat.com/prob/p131516\r\n  [2]: http://i.stack.imgur.com/EcPI4.png","title":"CodingBat sameEnds dealing with Strings","body":"<p>I'm trying to do <a href=\"http://codingbat.com/prob/p131516\" rel=\"nofollow noreferrer\">this</a> problem from CodingBat \nbut don't understand why it doesn't work with input string \"Hello!\".</p>\n\n<p>This is my code and below my code are the results I'm getting.</p>\n\n<pre><code>public String sameEnds(String string) {\n        String result;\n        int strLen = string.length();\n        boolean isOdd = (strLen % 2 != 0);\n        String start = string.substring(0, strLen / 2);\n        String end;\n        if (isOdd) {\n            end = string.substring(strLen / 2 + 1);\n        } else {\n            end = string.substring(strLen / 2);\n        }\n        int i = 0;\n        while (!start.equals(end) &amp;&amp; i &lt;= start.length()) {\n            start = start.substring(0, start.length() - i);\n            end = end.substring(i, end.length());\n            i++;\n        }\n        if (start.equals(end)) {\n            result = start;\n        } else {\n            result = \"\";\n        }\n        return result;\n    }\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/EcPI4.png\" alt=\"Results I&#39;m getting\"></p>\n"},{"tags":["java","spring","spring-boot","prometheus","grafana"],"owner":{"account_id":7280773,"reputation":494,"user_id":5550621,"display_name":"Nenad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661197365,"creation_date":1661197365,"question_id":73450277,"body_markdown":"We have a Spring boot service and we use Actuator/Prometheus/Grafana for monitoring. The default metrics are available and JVM memory metrics can be used for visualizing memory usage. Simple Grafana alert can be defined on jvm_memory_used_bytes metric to detect memory spikes. But the memory spikes can be expected behavior in case of heavy load on the service and if there is no memory leak the Garbage Collector will release the memory. Probably better approach would be to detect gradually increasing average memory usage over longer period, and define an alert to be fired over a certain threshold. Any idea for PromQL query for gradual increase of the average value of jvm_memory_used_bytes metric, please?","title":"Grafana alert for memory leaks in spring boot application","body":"<p>We have a Spring boot service and we use Actuator/Prometheus/Grafana for monitoring. The default metrics are available and JVM memory metrics can be used for visualizing memory usage. Simple Grafana alert can be defined on jvm_memory_used_bytes metric to detect memory spikes. But the memory spikes can be expected behavior in case of heavy load on the service and if there is no memory leak the Garbage Collector will release the memory. Probably better approach would be to detect gradually increasing average memory usage over longer period, and define an alert to be fired over a certain threshold. Any idea for PromQL query for gradual increase of the average value of jvm_memory_used_bytes metric, please?</p>\n"},{"tags":["java","spring-boot","oauth-2.0","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":21867596,"reputation":11,"user_id":16157548,"display_name":"Gustavo de Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661196130,"creation_date":1661196066,"answer_id":73450096,"question_id":71423462,"body_markdown":"put this on your boostrap or yml file and will work:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    springdoc:\r\n      swagger-ui:\r\n        oauth:\r\n          clientId: &#39;clientDefault&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ninside the clientId value, you can put your own clientId default. Do the same for password.","title":"OpenApi Swagger3 default clientId and Password","body":"<p>put this on your boostrap or yml file and will work:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>springdoc:\n  swagger-ui:\n    oauth:\n      clientId: 'clientDefault'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>inside the clientId value, you can put your own clientId default. Do the same for password.</p>\n"}],"owner":{"account_id":12518226,"reputation":71,"user_id":9110580,"display_name":"sadxd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661196130,"creation_date":1646912060,"question_id":71423462,"body_markdown":"I&#39;m using @SecurityScheme annotation in my Spring boot application. It works fine, I can authenticate via open api and call endpoints via Swagger, but I want to have default clientId/password, so consumers would not need to type it.\r\n\r\n    @SecurityScheme(name =&quot;oauth2&quot;, \r\n                    type = SecuritySchemeType.OAUTH2,\r\n                    flows = @OAuthFlows(clientCredentials = @OAuthFlow(tokenUrl = &quot;https://someurl/token&quot;)))\r\n\r\nTherefore, is it possible to add default credentials for the OpenApi calls?","title":"OpenApi Swagger3 default clientId and Password","body":"<p>I'm using @SecurityScheme annotation in my Spring boot application. It works fine, I can authenticate via open api and call endpoints via Swagger, but I want to have default clientId/password, so consumers would not need to type it.</p>\n<pre><code>@SecurityScheme(name =&quot;oauth2&quot;, \n                type = SecuritySchemeType.OAUTH2,\n                flows = @OAuthFlows(clientCredentials = @OAuthFlow(tokenUrl = &quot;https://someurl/token&quot;)))\n</code></pre>\n<p>Therefore, is it possible to add default credentials for the OpenApi calls?</p>\n"},{"tags":["java","access-modifiers"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1661193888,"post_id":73449709,"comment_id":129709263,"body_markdown":"you need to show a [mcve]","body":"you need to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":25911161,"reputation":674,"user_id":19635374,"display_name":"ipodtouch0218"},"score":1,"creation_date":1661193897,"post_id":73449709,"comment_id":129709267,"body_markdown":"Could you possibly post your `Test` and `ExtendsTestOutsideThisPackage` classes?","body":"Could you possibly post your <code>Test</code> and <code>ExtendsTestOutsideThisPackage</code> classes?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1661195418,"post_id":73449709,"comment_id":129709709,"body_markdown":"An important note is that comparison is made between the member&#39;s *declaration* and its *usage*. For example, if a member is `private` only members of the same class can *access* it. You&#39;re trying to access all of the members **from within the `ExtendsTestOutsideThePackage` class**.","body":"An important note is that comparison is made between the member&#39;s <i>declaration</i> and its <i>usage</i>. For example, if a member is <code>private</code> only members of the same class can <i>access</i> it. You&#39;re trying to access all of the members <b>from within the <code>ExtendsTestOutsideThePackage</code> class</b>."}],"answers":[{"tags":[],"owner":{"account_id":25911161,"reputation":674,"user_id":19635374,"display_name":"ipodtouch0218"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661196022,"creation_date":1661194727,"answer_id":73449867,"question_id":73449709,"body_markdown":"It&#39;s a consequence of your `main` method being inside of the subclass, similar to how you can access private variables of a class from within a static method of that same class:\r\n\r\n```java\r\npublic class Test {\r\n    private int privateField = 1;\r\n\r\n    public static void IncrementTest(Test test) {\r\n         //we can access this because we&#39;re inside the class, even though \r\n         //we&#39;re not inside an INSTANCE of the class\r\n         test.privateField++;\r\n    }\r\n}\r\n```\r\n\r\nIn Java, regardless of if you&#39;re using a static method or an instance method, access modifiers work the same. The method just happens to be static.\r\n\r\n- We **can** see the protected variable, since we are within a subclass of `Test`. \r\n- We **cannot** see the private variable, because we are not the `Test` class.\r\n- We **cannot** see the &quot;default&quot; variable, because we are not in the same package. \r\n\r\nIf you move your `main` method to the `Test` class, you&#39;ll be able to access all 3 variables in the same way. If you move it to it&#39;s own class, you wont be able to see any of them. (assuming this new class is outside of the same package)","title":"Visibility of a protected field of a class from a class in another package","body":"<p>It's a consequence of your <code>main</code> method being inside of the subclass, similar to how you can access private variables of a class from within a static method of that same class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    private int privateField = 1;\n\n    public static void IncrementTest(Test test) {\n         //we can access this because we're inside the class, even though \n         //we're not inside an INSTANCE of the class\n         test.privateField++;\n    }\n}\n</code></pre>\n<p>In Java, regardless of if you're using a static method or an instance method, access modifiers work the same. The method just happens to be static.</p>\n<ul>\n<li>We <strong>can</strong> see the protected variable, since we are within a subclass of <code>Test</code>.</li>\n<li>We <strong>cannot</strong> see the private variable, because we are not the <code>Test</code> class.</li>\n<li>We <strong>cannot</strong> see the &quot;default&quot; variable, because we are not in the same package.</li>\n</ul>\n<p>If you move your <code>main</code> method to the <code>Test</code> class, you'll be able to access all 3 variables in the same way. If you move it to it's own class, you wont be able to see any of them. (assuming this new class is outside of the same package)</p>\n"}],"owner":{"account_id":6867997,"reputation":612,"user_id":5279623,"accept_rate":78,"display_name":"iwsnmw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1661195096,"answer_count":1,"score":2,"last_activity_date":1661196022,"creation_date":1661193800,"question_id":73449709,"body_markdown":"```java\r\npackage test1.visibility;\r\n\r\npublic class Test {\r\n    private int privateField = 1;\r\n    int defaultField = 2;\r\n    protected int protectedField = 3;\r\n}\r\n```\r\n\r\n```java    \r\npackage test2.visibility;    \r\n\r\nimport test1.visibility.Test;\r\n    \r\npublic class ExtendsTestOutsideThePackage extends Test {\r\n    public static void main(String[] args) {\r\n        Test tt = new Test();\r\n        Test te = new ExtendsTestOutsideThePackage();\r\n        ExtendsTestOutsideThePackage ee = new ExtendsTestOutsideThePackage();\r\n    \r\n        System.out.println(tt.privateField); //compilation error\r\n        System.out.println(tt.defaultField); //compilation error\r\n        System.out.println(tt.protectedField); //compilation error\r\n    \r\n        System.out.println(te.privateField); //compilation error\r\n        System.out.println(te.defaultField); //compilation error\r\n        System.out.println(te.protectedField); //compilation error\r\n    \r\n        System.out.println(ee.privateField); //compilation error\r\n        System.out.println(ee.defaultField); //compilation error\r\n        System.out.println(ee.protectedField); //works fine\r\n    }\r\n}\r\n```\r\n\r\n    1. System.out.println(tt.protectedField); //compilation error\r\n    2. System.out.println(te.protectedField); //compilation error\r\n    3. System.out.println(ee.protectedField); //works fine\r\n\r\nCan you explain why line 3 works fine, but not 1 and 2? Why cannot tt, and te objects access the &quot;protectedField&quot;?\r\nWhy does Test reference fail to access the protectedField?\r\n\r\n\r\n\r\n","title":"Visibility of a protected field of a class from a class in another package","body":"<pre class=\"lang-java prettyprint-override\"><code>package test1.visibility;\n\npublic class Test {\n    private int privateField = 1;\n    int defaultField = 2;\n    protected int protectedField = 3;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package test2.visibility;    \n\nimport test1.visibility.Test;\n    \npublic class ExtendsTestOutsideThePackage extends Test {\n    public static void main(String[] args) {\n        Test tt = new Test();\n        Test te = new ExtendsTestOutsideThePackage();\n        ExtendsTestOutsideThePackage ee = new ExtendsTestOutsideThePackage();\n    \n        System.out.println(tt.privateField); //compilation error\n        System.out.println(tt.defaultField); //compilation error\n        System.out.println(tt.protectedField); //compilation error\n    \n        System.out.println(te.privateField); //compilation error\n        System.out.println(te.defaultField); //compilation error\n        System.out.println(te.protectedField); //compilation error\n    \n        System.out.println(ee.privateField); //compilation error\n        System.out.println(ee.defaultField); //compilation error\n        System.out.println(ee.protectedField); //works fine\n    }\n}\n</code></pre>\n<pre><code>1. System.out.println(tt.protectedField); //compilation error\n2. System.out.println(te.protectedField); //compilation error\n3. System.out.println(ee.protectedField); //works fine\n</code></pre>\n<p>Can you explain why line 3 works fine, but not 1 and 2? Why cannot tt, and te objects access the &quot;protectedField&quot;?\nWhy does Test reference fail to access the protectedField?</p>\n"},{"tags":["java","deserialization","spring-webclient"],"comments":[{"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"score":0,"creation_date":1660633886,"post_id":73339282,"comment_id":129571484,"body_markdown":"Can you please add the full error you are getting?","body":"Can you please add the full error you are getting?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1660636395,"post_id":73339282,"comment_id":129572336,"body_markdown":"*&quot;Fee needs to be empty as any other object can also come&quot;* I don&#39;t understand what it means.","body":"<i>&quot;Fee needs to be empty as any other object can also come&quot;</i> I don&#39;t understand what it means."},{"owner":{"account_id":10058119,"reputation":75,"user_id":7435701,"display_name":"Kumar Kartikeya"},"score":0,"creation_date":1660640157,"post_id":73339282,"comment_id":129573615,"body_markdown":"@Stempler its actually not error as i said above. For rest of the attributes the values are coming properly.\nThe values/object is not coming for Fee. In response its says &quot;Class has no fields&quot;.","body":"@Stempler its actually not error as i said above. For rest of the attributes the values are coming properly. The values/object is not coming for Fee. In response its says &quot;Class has no fields&quot;."},{"owner":{"account_id":10058119,"reputation":75,"user_id":7435701,"display_name":"Kumar Kartikeya"},"score":0,"creation_date":1660640255,"post_id":73339282,"comment_id":129573652,"body_markdown":"@Olivier by that I meant that the class wont be having any attribute or methods.","body":"@Olivier by that I meant that the class wont be having any attribute or methods."},{"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"score":1,"creation_date":1660649049,"post_id":73339282,"comment_id":129576627,"body_markdown":"what do you mean by values are coming in properly? How is the full response looks like? What http code are you getting? When you deserialize the response into an object, it will always be empty as you provided no fields in it.","body":"what do you mean by values are coming in properly? How is the full response looks like? What http code are you getting? When you deserialize the response into an object, it will always be empty as you provided no fields in it."},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1660744886,"post_id":73339282,"comment_id":129605266,"body_markdown":"if the class (`Fee`) has no fields, nothing can be added there when deserialized (because there is nothing to deserialize to). Maybe you have seen such behavior somewhere or you are mistaken. This cannot work. Use `Map` as answered below if you want a generic structure","body":"if the class (<code>Fee</code>) has no fields, nothing can be added there when deserialized (because there is nothing to deserialize to). Maybe you have seen such behavior somewhere or you are mistaken. This cannot work. Use <code>Map</code> as answered below if you want a generic structure"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660682504,"creation_date":1660672542,"answer_id":73378291,"question_id":73339282,"body_markdown":"You don&#39;t need the `Fee` class, you can get rid of it entirely and use a Map instead:\r\n```\r\npublic class Foo {\r\n  private String name;\r\n  private String type;\r\n  private Map&lt;String, Object&gt; fee;\r\n  private String address;\r\n}\r\n```\r\n","title":"How to deserialize the generic response using Spring WebClient","body":"<p>You don't need the <code>Fee</code> class, you can get rid of it entirely and use a Map instead:</p>\n<pre><code>public class Foo {\n  private String name;\n  private String type;\n  private Map&lt;String, Object&gt; fee;\n  private String address;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14258515,"reputation":27,"user_id":10300063,"display_name":"Santhosh Kumar S"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660760306,"creation_date":1660760306,"answer_id":73393215,"question_id":73339282,"body_markdown":"We cannot dynamically create POJO and hence we are left with two options.\r\n\r\n 1. Add necessary fields to the &#39;Fee&#39; class (If you know Fee structure upfront)\r\n 2. If you are not sure about the &#39;Fee&#39; structure go for Map.","title":"How to deserialize the generic response using Spring WebClient","body":"<p>We cannot dynamically create POJO and hence we are left with two options.</p>\n<ol>\n<li>Add necessary fields to the 'Fee' class (If you know Fee structure upfront)</li>\n<li>If you are not sure about the 'Fee' structure go for Map.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8034641,"reputation":123,"user_id":6058222,"display_name":"tscz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661195794,"creation_date":1661195794,"answer_id":73450048,"question_id":73339282,"body_markdown":"Because spring integrates Jackson you can create a custom Jackson JSON Deserializer for the Fee class that gives you more control:\r\n\r\n    @JsonDeserialize(using = FeeDeserializer.class)\r\n    public class Fee {\r\n    \r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \r\n    \tpublic Fee(String id, String name) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n    import com.fasterxml.jackson.*;\r\n        \r\n    public class FeeDeserializer extends JsonDeserializer&lt;Fee&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Fee deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\r\n    \t\tObjectCodec codec = jsonParser.getCodec();\r\n    \t\tJsonNode tree = codec.readTree(jsonParser);\r\n    \r\n    \t\tJsonNode id = tree.get(&quot;id&quot;);\r\n    \t\tJsonNode name = tree.get(&quot;name&quot;);\r\n    \r\n    \t\treturn (id != null &amp;&amp; name != null) ? new Fee(id.asText(), name.asText()) : null;\r\n    \t}\r\n    \r\n    }\r\n\r\nFor more details see\r\n\r\n - https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.json.jackson.custom-serializers-and-deserializers\r\n - https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs-jackson","title":"How to deserialize the generic response using Spring WebClient","body":"<p>Because spring integrates Jackson you can create a custom Jackson JSON Deserializer for the Fee class that gives you more control:</p>\n<pre><code>@JsonDeserialize(using = FeeDeserializer.class)\npublic class Fee {\n\n    private String id;\n    private String name;\n\n    public Fee(String id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n\nimport com.fasterxml.jackson.*;\n    \npublic class FeeDeserializer extends JsonDeserializer&lt;Fee&gt; {\n\n    @Override\n    public Fee deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\n        ObjectCodec codec = jsonParser.getCodec();\n        JsonNode tree = codec.readTree(jsonParser);\n\n        JsonNode id = tree.get(&quot;id&quot;);\n        JsonNode name = tree.get(&quot;name&quot;);\n\n        return (id != null &amp;&amp; name != null) ? new Fee(id.asText(), name.asText()) : null;\n    }\n\n}\n</code></pre>\n<p>For more details see</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.json.jackson.custom-serializers-and-deserializers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.json.jackson.custom-serializers-and-deserializers</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs-jackson\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs-jackson</a></li>\n</ul>\n"}],"owner":{"account_id":10058119,"reputation":75,"user_id":7435701,"display_name":"Kumar Kartikeya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1661195794,"creation_date":1660334757,"question_id":73339282,"body_markdown":"I have a problem during the deserialization of a response. Let&#39;s suppose I have this response from third party using webclient .\r\n\r\n    Response : \r\n    {\r\n       &quot;name&quot;:&quot;FirstName&quot;,\r\n       &quot;type&quot;:&quot;Steel&quot;,\r\n       &quot;Fee&quot;:{\r\n          &quot;id&quot;:&quot;1234&quot;,\r\n          &quot;name&quot;:&quot;FeeFirstName&quot;\r\n       },\r\n       &quot;address&quot;:&quot;2nd Street&quot;\r\n    }\r\n\r\nThis is how my pojo classes looks like \r\n\r\n    public class Fee{} //generic OR empty class\r\n    \r\n    public class Foo{\r\n      private String name;\r\n      private String type;\r\n      private Fee fee;\r\n      private String address;\r\n    }\r\n\r\nMy webclient get response code :\r\n\r\n    @Autowired\r\n    private WebClient fooWebClient;\r\n    \r\n    public Foo getFoo()\r\n    {\r\n    try{\r\n         return fooWebClient.get()\r\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/foo/fee&quot;).build(&quot;123&quot;))\r\n            .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .bodyToMono(Foo.class)\r\n            .block();\r\n        }catch(Exception e){throw new ApiClientException(e.getMessage());}\r\n    \r\n    }\r\n\r\nThe above webclient getFoo() code is not giving me the full response, the Fee is coming blank stating &quot;Class has no fields&quot;. Rest of the values are coming properly in response. \r\nFee needs to be empty as any other object can also come.\r\n\r\nPlease let me know how to deserialize the whole response.   ","title":"How to deserialize the generic response using Spring WebClient","body":"<p>I have a problem during the deserialization of a response. Let's suppose I have this response from third party using webclient .</p>\n<pre><code>Response : \n{\n   &quot;name&quot;:&quot;FirstName&quot;,\n   &quot;type&quot;:&quot;Steel&quot;,\n   &quot;Fee&quot;:{\n      &quot;id&quot;:&quot;1234&quot;,\n      &quot;name&quot;:&quot;FeeFirstName&quot;\n   },\n   &quot;address&quot;:&quot;2nd Street&quot;\n}\n</code></pre>\n<p>This is how my pojo classes looks like</p>\n<pre><code>public class Fee{} //generic OR empty class\n\npublic class Foo{\n  private String name;\n  private String type;\n  private Fee fee;\n  private String address;\n}\n</code></pre>\n<p>My webclient get response code :</p>\n<pre><code>@Autowired\nprivate WebClient fooWebClient;\n\npublic Foo getFoo()\n{\ntry{\n     return fooWebClient.get()\n        .uri(uriBuilder -&gt; uriBuilder.path(&quot;/foo/fee&quot;).build(&quot;123&quot;))\n        .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\n        .accept(MediaType.APPLICATION_JSON)\n        .retrieve()\n        .bodyToMono(Foo.class)\n        .block();\n    }catch(Exception e){throw new ApiClientException(e.getMessage());}\n\n}\n</code></pre>\n<p>The above webclient getFoo() code is not giving me the full response, the Fee is coming blank stating &quot;Class has no fields&quot;. Rest of the values are coming properly in response.\nFee needs to be empty as any other object can also come.</p>\n<p>Please let me know how to deserialize the whole response.</p>\n"},{"tags":["java","gradle","intellij-idea","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1522569009,"post_id":49540962,"comment_id":86199219,"body_markdown":"It seems that IntelliJ does pickup the configuration (the default component model is there). Can you please do a change in your mapper and see if something happens. The way that IntelliJ performs the incremental compilation it might lead to not creating files if nothing was changed","body":"It seems that IntelliJ does pickup the configuration (the default component model is there). Can you please do a change in your mapper and see if something happens. The way that IntelliJ performs the incremental compilation it might lead to not creating files if nothing was changed"},{"owner":{"account_id":311940,"reputation":696,"user_id":625771,"accept_rate":25,"display_name":"Jega"},"score":0,"creation_date":1531811116,"post_id":49540962,"comment_id":89721777,"body_markdown":"@Filip, same result. it&#39;s not generating the source file","body":"@Filip, same result. it&#39;s not generating the source file"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1531827246,"post_id":49540962,"comment_id":89732228,"body_markdown":"@Jega have you seen the answer to this question https://stackoverflow.com/a/51169211/1115491?","body":"@Jega have you seen the answer to this question <a href=\"https://stackoverflow.com/a/51169211/1115491\">stackoverflow.com/a/51169211/1115491</a>?"},{"owner":{"account_id":311940,"reputation":696,"user_id":625771,"accept_rate":25,"display_name":"Jega"},"score":0,"creation_date":1532078380,"post_id":49540962,"comment_id":89848334,"body_markdown":"yes,  i tried the same still it&#39;s not working with Intellji 2018 CE. i could see only empty generate folder on &quot;out&quot; directory. but works fine on commandline.","body":"yes,  i tried the same still it&#39;s not working with Intellji 2018 CE. i could see only empty generate folder on &quot;out&quot; directory. but works fine on commandline."}],"answers":[{"tags":[],"owner":{"account_id":1262920,"reputation":51,"user_id":9968489,"display_name":"Anton Orlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532947647,"creation_date":1530693147,"answer_id":51169211,"question_id":49540962,"body_markdown":" You need to use `net.ltgt.apt-idea` plugin instead, it will automatically configure IntelliJ IDEA. \r\n\r\n    plugins {\r\n        id &#39;net.ltgt.apt-idea&#39; version &#39;0.17&#39;\r\n    }    \r\n    dependencies {\r\n        compile(&#39;org.mapstruct:mapstruct-jdk8:1.2.0.Final&#39;)\r\n        apt(&#39;org.mapstruct:mapstruct-processor:1.2.0.Final&#39;)\r\n    }\r\n\r\nPlease notice that `apt` is deprecated in the latest gradle version, and one should use `annotationProcessor` instead. However, IntelliJ still does not have support for it. See [IDEA-187868](https://youtrack.jetbrains.com/issue/IDEA-187868).","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>You need to use <code>net.ltgt.apt-idea</code> plugin instead, it will automatically configure IntelliJ IDEA. </p>\n\n<pre><code>plugins {\n    id 'net.ltgt.apt-idea' version '0.17'\n}    \ndependencies {\n    compile('org.mapstruct:mapstruct-jdk8:1.2.0.Final')\n    apt('org.mapstruct:mapstruct-processor:1.2.0.Final')\n}\n</code></pre>\n\n<p>Please notice that <code>apt</code> is deprecated in the latest gradle version, and one should use <code>annotationProcessor</code> instead. However, IntelliJ still does not have support for it. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-187868\" rel=\"nofollow noreferrer\">IDEA-187868</a>.</p>\n"},{"tags":[],"owner":{"account_id":311940,"reputation":696,"user_id":625771,"accept_rate":25,"display_name":"Jega"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1532341007,"creation_date":1532341007,"answer_id":51476415,"question_id":49540962,"body_markdown":"Finally it is working fine &#128077; with Intellji 2018.1 CE.  we don&#39;t need any apt plugins. \r\n\r\nHere is updated gradle file \r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n\r\n    repositories {\r\n           mavenCentral()\r\n           mavenLocal()\r\n    }\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n\r\n    \r\n    dependencies {\r\n          compile group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-jdk8&#39;, version: &#39;1.2.0.Final&#39;\r\n          compileOnly &#39;org.mapstruct:mapstruct-processor:1.2.0.Final&#39;\r\n          annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.2.0.Final&#39;\r\n          compileOnly (&quot;org.projectlombok:lombok&quot;)\r\n          testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\n\r\nPlease make sure  following things are configured properly \r\n\r\n\r\n1. Enable Annotations Processors( Preference-&gt;Build Execute Deployment -&gt;Compiler-&gt;Annotations Processors )\r\n\r\n1. MapStruct plugin \r\n\r\n1. Lombok plugin","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>Finally it is working fine 👍 with Intellji 2018.1 CE.  we don't need any apt plugins. </p>\n\n<p>Here is updated gradle file </p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n       mavenCentral()\n       mavenLocal()\n}\nsourceCompatibility = JavaVersion.VERSION_1_8\n\n\ndependencies {\n      compile group: 'org.mapstruct', name: 'mapstruct-jdk8', version: '1.2.0.Final'\n      compileOnly 'org.mapstruct:mapstruct-processor:1.2.0.Final'\n      annotationProcessor 'org.mapstruct:mapstruct-processor:1.2.0.Final'\n      compileOnly (\"org.projectlombok:lombok\")\n      testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Please make sure  following things are configured properly </p>\n\n<ol>\n<li><p>Enable Annotations Processors( Preference->Build Execute Deployment ->Compiler->Annotations Processors )</p></li>\n<li><p>MapStruct plugin </p></li>\n<li><p>Lombok plugin</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1602231151,"creation_date":1541339108,"answer_id":53141467,"question_id":49540962,"body_markdown":"My build.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n    }\r\n    \r\n    ext {\r\n        mapstructVersion = &#39;1.2.0.Final&#39;\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        // bean mapping\r\n        compile group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-jdk8&#39;, version: mapstructVersion\r\n        compileOnly group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: mapstructVersion\r\n        annotationProcessor group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: mapstructVersion\r\n    \r\n    }\r\n\r\nRefresh and try to rebuild your project. If it doesn&#39;t work smoothly for you, proceed to the Troubleshooting section below.\r\n\r\n## Troubleshooting \r\n\r\nIf it doesn&#39;t work for you...\r\n\r\n1. Enable [Annotation Processors][1] manually.  \r\n   It seems to be a [bug in IDEA][2] related to `annotationProcessor` configuration.\r\n\r\n    [![IntelliJ IDEA -&gt; Configure Annotations Processors (click to enlarge the screenshot)][3]][3]\r\n\r\n2. Check out build output in &quot;out/production/classes/generated&quot; folder. If it&#39;s empty, try to rebuild your project. Make sure changes are applied by manually deleting contents of build output folders and modifying your mapper class before the rebuild.\r\n\r\n    &lt;!-- language: lang-sh --&gt;\r\n\r\n        $ rm -rf out build .gradle\r\n\r\n3. Verify your Gradle build file by building and running the project outside of IntelliJ IDEA.\r\n\r\n4. Try to delegate build actions to Gradle. I don&#39;t use this option, because annotation processor works for me anyway.\r\n\r\n    [![IntelliJ IDEA -&gt; Delegate build/run actions to Gradle][4]][4]\r\n\r\n5. Update to IntelliJ IDEA 2018.3 or later.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/annotation-processors-support.html\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-187868\r\n  [3]: https://i.stack.imgur.com/0VXF7.png\r\n  [4]: https://i.stack.imgur.com/u2k8g.png","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>My build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n}\n\next {\n    mapstructVersion = '1.2.0.Final'\n}\n\ndependencies {\n\n    // bean mapping\n    compile group: 'org.mapstruct', name: 'mapstruct-jdk8', version: mapstructVersion\n    compileOnly group: 'org.mapstruct', name: 'mapstruct-processor', version: mapstructVersion\n    annotationProcessor group: 'org.mapstruct', name: 'mapstruct-processor', version: mapstructVersion\n\n}\n</code></pre>\n<p>Refresh and try to rebuild your project. If it doesn't work smoothly for you, proceed to the Troubleshooting section below.</p>\n<h2>Troubleshooting</h2>\n<p>If it doesn't work for you...</p>\n<ol>\n<li><p>Enable <a href=\"https://www.jetbrains.com/help/idea/annotation-processors-support.html\" rel=\"nofollow noreferrer\">Annotation Processors</a> manually.<br />\nIt seems to be a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-187868\" rel=\"nofollow noreferrer\">bug in IDEA</a> related to <code>annotationProcessor</code> configuration.</p>\n<p><a href=\"https://i.stack.imgur.com/0VXF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0VXF7.png\" alt=\"IntelliJ IDEA -&gt; Configure Annotations Processors (click to enlarge the screenshot)\" /></a></p>\n</li>\n<li><p>Check out build output in &quot;out/production/classes/generated&quot; folder. If it's empty, try to rebuild your project. Make sure changes are applied by manually deleting contents of build output folders and modifying your mapper class before the rebuild.</p>\n <pre class=\"lang-sh prettyprint-override\"><code> $ rm -rf out build .gradle\n</code></pre>\n</li>\n<li><p>Verify your Gradle build file by building and running the project outside of IntelliJ IDEA.</p>\n</li>\n<li><p>Try to delegate build actions to Gradle. I don't use this option, because annotation processor works for me anyway.</p>\n<p><a href=\"https://i.stack.imgur.com/u2k8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2k8g.png\" alt=\"IntelliJ IDEA -&gt; Delegate build/run actions to Gradle\" /></a></p>\n</li>\n<li><p>Update to IntelliJ IDEA 2018.3 or later.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7339273,"reputation":323,"user_id":5589507,"display_name":"feltspar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585169858,"creation_date":1585169858,"answer_id":60857283,"question_id":49540962,"body_markdown":"I am running a Spring application using Tomcat EE server. \r\nFor me doing the following worked:\r\n\r\nAdding the following line in **Edit Configuration &gt; VM Options**\r\n\r\n    -Xms1024m -Xmx1024m -XX:MaxPermSize=256m\r\n\r\n","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>I am running a Spring application using Tomcat EE server. \nFor me doing the following worked:</p>\n\n<p>Adding the following line in <strong>Edit Configuration > VM Options</strong></p>\n\n<pre><code>-Xms1024m -Xmx1024m -XX:MaxPermSize=256m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6582507,"reputation":21,"user_id":5086366,"display_name":"Michael Cheung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632959384,"creation_date":1632959384,"answer_id":69384500,"question_id":49540962,"body_markdown":"if you are using kotlin, We can no longer discover the annotation processor in the classpath. You have to put the dependencies like this below in your build.gradle.kts\r\n\r\n```\r\nkapt {\r\n    dependencies {\r\n        kapt(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\r\n    }\r\n}\r\n```","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>if you are using kotlin, We can no longer discover the annotation processor in the classpath. You have to put the dependencies like this below in your build.gradle.kts</p>\n<pre><code>kapt {\n    dependencies {\n        kapt(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661193799,"creation_date":1661193799,"answer_id":73449707,"question_id":49540962,"body_markdown":"these are the kind of issues I&#39;ve found just in case someone finds it useful.\r\n\r\nissue 1 : **impl class itself is not getting generated**\r\n\r\n 1. make sure that you have only one and correct dependency of mapstruct. multiple dependencies will cause issues\r\n 2. make sure that annotation processing is enabled in IntelliJ and you have lombok and mapstruct plugins installed.\r\n\r\nissue 2 : **not getting fields in the mapstruct generated impl class**\r\n\r\n 1. when getter/setters are not added manually and lombok is used for getter setters, at that time, if mapstruct is processed before lombok, then this issue might come. so make sure that in your gradle file you have lombok processing dependency first and then mapstruct.","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>these are the kind of issues I've found just in case someone finds it useful.</p>\n<p>issue 1 : <strong>impl class itself is not getting generated</strong></p>\n<ol>\n<li>make sure that you have only one and correct dependency of mapstruct. multiple dependencies will cause issues</li>\n<li>make sure that annotation processing is enabled in IntelliJ and you have lombok and mapstruct plugins installed.</li>\n</ol>\n<p>issue 2 : <strong>not getting fields in the mapstruct generated impl class</strong></p>\n<ol>\n<li>when getter/setters are not added manually and lombok is used for getter setters, at that time, if mapstruct is processed before lombok, then this issue might come. so make sure that in your gradle file you have lombok processing dependency first and then mapstruct.</li>\n</ol>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26042,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51476415,"answer_count":6,"score":8,"last_activity_date":1661193799,"creation_date":1522258976,"question_id":49540962,"body_markdown":"I&#39;m trying to use Intellij 2017 Ultimate to build/run a Spring Boot application that uses MapStruct.  It is a Gradle project.  My issue is that IntelliJ does not seem to run the MapStruct Annotation Processor.  I realize that I can configure IntelliJ to delegate to the Gradle build process ([see this][1]), but I am hoping to simply configure IntelliJ to use APT to generate the necessary classes itself.\r\n\r\nI have enabled APT for my project, but my classes are still not generated.\r\n\r\nbuild.gradle (applicable snippets):\r\n\r\n    ext {\r\n        mapstructVersion = &#39;1.2.0.Final&#39;\r\n    }\r\n\r\n    plugins {\r\n        id &#39;net.ltgt.apt&#39; version &#39;0.15&#39;\r\n    }\r\n    \r\n    dependencies {\r\n     \t// MapStruct support\r\n     \timplementation group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-jdk8&#39;, version: mapstructVersion\r\n     \tannotationProcessor group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: mapstructVersion\r\n     }\r\n\r\nIntelliJ configuration:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nYet, when I do a `./gradle clean` followed by a Build-&gt;Rebuild Project, my out/production/classes/generated folder is empty.\r\n\r\nIs there something additional that I need to do to enable APT on this project?  Should IntelliJ automatically detect the mapstruct annotation processor in the classpath?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38947569/mapstruct-and-gradle-configuratoin-issue-in-intellij-idea\r\n  [2]: https://i.stack.imgur.com/u6fO1.png\r\n","title":"Mapstruct Annotation Processor does not seem to work in Intellij with Gradle project","body":"<p>I'm trying to use Intellij 2017 Ultimate to build/run a Spring Boot application that uses MapStruct.  It is a Gradle project.  My issue is that IntelliJ does not seem to run the MapStruct Annotation Processor.  I realize that I can configure IntelliJ to delegate to the Gradle build process (<a href=\"https://stackoverflow.com/questions/38947569/mapstruct-and-gradle-configuratoin-issue-in-intellij-idea\">see this</a>), but I am hoping to simply configure IntelliJ to use APT to generate the necessary classes itself.</p>\n\n<p>I have enabled APT for my project, but my classes are still not generated.</p>\n\n<p>build.gradle (applicable snippets):</p>\n\n<pre><code>ext {\n    mapstructVersion = '1.2.0.Final'\n}\n\nplugins {\n    id 'net.ltgt.apt' version '0.15'\n}\n\ndependencies {\n    // MapStruct support\n    implementation group: 'org.mapstruct', name: 'mapstruct-jdk8', version: mapstructVersion\n    annotationProcessor group: 'org.mapstruct', name: 'mapstruct-processor', version: mapstructVersion\n }\n</code></pre>\n\n<p>IntelliJ configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/u6fO1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u6fO1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Yet, when I do a <code>./gradle clean</code> followed by a Build->Rebuild Project, my out/production/classes/generated folder is empty.</p>\n\n<p>Is there something additional that I need to do to enable APT on this project?  Should IntelliJ automatically detect the mapstruct annotation processor in the classpath?</p>\n"},{"tags":["java","slf4j"],"owner":{"account_id":17998711,"reputation":31,"user_id":13081099,"display_name":"pretchu s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661193530,"creation_date":1661193530,"question_id":73449658,"body_markdown":"Anyone knows if it is possible to create log files based on custom Markers using slf4j?\r\n\r\n\r\nMy Log with my custom Marker:\r\n\r\n```\r\nMarker myCustomMarker = MarkerFactory.getMarker(&quot;MY_CUSTOM_MARKER&quot;);\r\nlogger.error(myCustomMarker , &quot;My application log.&quot;);\r\n```\r\n\r\nMy logback.xml with **&lt;file&gt;logs/%marker.log&lt;/file&gt;**\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logs/%marker.log&lt;/file&gt;\r\n        &lt;append&gt;false&lt;/append&gt;\r\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;com.mkyong&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nbut the result was /logs.log%marker\r\n\r\nThanks for any help","title":"Custom log based on Marker","body":"<p>Anyone knows if it is possible to create log files based on custom Markers using slf4j?</p>\n<p>My Log with my custom Marker:</p>\n<pre><code>Marker myCustomMarker = MarkerFactory.getMarker(&quot;MY_CUSTOM_MARKER&quot;);\nlogger.error(myCustomMarker , &quot;My application log.&quot;);\n</code></pre>\n<p>My logback.xml with <strong>logs/%marker.log</strong></p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logs/%marker.log&lt;/file&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;com.mkyong&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>but the result was /logs.log%marker</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","constructor","record","java-17"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1658924225,"post_id":73135962,"comment_id":129171908,"body_markdown":"`public String bar() { return foo.toUpperCase(; }` seems the least baroque despite its non-caching of toUpperCase.","body":"<code>public String bar() { return foo.toUpperCase(; }</code> seems the least baroque despite its non-caching of toUpperCase."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1659019558,"post_id":73135962,"comment_id":129200617,"body_markdown":"The problem is that you&#39;re trying to use records as if they are only about boilerplate reduction, rather than using records for what they are for (modeling pure aggregates (tuples)), and that&#39;s why you&#39;re having trouble.  Your `ClassA` is not a pure aggregate; you want to have private state that not part of the aggregate the class models (essentially caching a property derived from the record components.)","body":"The problem is that you&#39;re trying to use records as if they are only about boilerplate reduction, rather than using records for what they are for (modeling pure aggregates (tuples)), and that&#39;s why you&#39;re having trouble.  Your <code>ClassA</code> is not a pure aggregate; you want to have private state that not part of the aggregate the class models (essentially caching a property derived from the record components.)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659022343,"creation_date":1658923181,"answer_id":73137529,"question_id":73135962,"body_markdown":"Record classes always have a so-called *canonical constructor*, which expects arguments for all the field you&#39;ve declared. This constructor would be generated by the compiler by default, but you can provide your own one, the key point: a *canonical constructor* is available for every record at runtime.\r\n\r\nHere&#39;s a quote from the [*Java Language Specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4):\r\n\r\n&gt; To ensure proper initialization of its record components, a record class does not implicitly declare a default constructor (&#167;8.8.9). Instead, a *record class* has a **canonical constructor**, declared explicitly or implicitly, that ***initializes all the component fields*** of the record class. \r\n\r\nAll *non-canonical constructors*, which are constructors with signatures that differ from the *canonical*, like your case constructor that expects a single argument `ClassA(String)`, should delegate the call to the *canonical constructor* using so-called *explicit constructor invocation*, i.e. using `this()` (precisely as you&#39;ve done), otherwise such constructor would not compile.\r\n\r\n&gt; A record declaration may contain declarations of constructors that are not canonical constructors. The ***body of every non-canonical constructor*** in a record declaration ***must start with an alternate constructor invocation*** (`&#167;8.8.7.1`), or a compile-time error occurs. \r\n\r\n***Conclusion:*** since you&#39;ve declared a record that has **two** fields, and you also need a *non-canonical* constructor expecting **one** argument, there would be two constructors: *canonical* and a *non-canonical*. There are no workarounds.\r\n________________________________________________\r\n\r\n***In addition***, as [*@Brian Goetz*](https://stackoverflow.com/users/3553087/brian-goetz) has rightfully pointed out, it&#39;s worth to **override** the *canonical constructor* as well. Otherwise, there would be an ambiguity in regard whether the second argument of the record is an uppercase version of the first or not because of the possibility to use two constructors with the different logic.\r\n\r\nIf we define the record as follows:\r\n\r\n    public record ClassA(String foo, String bar) {\r\n        public ClassA(String foo) {\r\n            this(foo, foo.toUpperCase(Locale.ROOT));\r\n        }\r\n    }\r\n\r\nThe code below:\r\n```\r\nSystem.out.println(new ClassA(&quot;foo&quot;, &quot;arbitrary string which not FOO&quot;));\r\nSystem.out.println(new ClassA(&quot;foo&quot;));\r\n```\r\nWill produce the output:\r\n```\r\nClassA[foo=foo, bar=arbitrary string which not FOO] // unexpected result\r\nClassA[foo=foo, bar=FOO]                            // desired result\r\n```\r\n\r\nTo ensure that the second argument at any circumstances would be equal to the first argument turned to uppercase, we have to override the *canonical constructor*:\r\n\r\n    public record ClassA(String foo, String bar) {\r\n        public ClassA(String foo) {\r\n            this(foo, foo); // doesn&#39;t matter what would be provided as the second argument\r\n        }\r\n        \r\n        public ClassA(String foo, String bar) {\r\n            this.foo = foo;\r\n            this.bar = foo.toUpperCase(Locale.ROOT);\r\n        }\r\n    }","title":"rewrite a class with two fields and a constructor with a single parameter as a record class","body":"<p>Record classes always have a so-called <em>canonical constructor</em>, which expects arguments for all the field you've declared. This constructor would be generated by the compiler by default, but you can provide your own one, the key point: a <em>canonical constructor</em> is available for every record at runtime.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4\" rel=\"nofollow noreferrer\"><em>Java Language Specification</em></a>:</p>\n<blockquote>\n<p>To ensure proper initialization of its record components, a record class does not implicitly declare a default constructor (§8.8.9). Instead, a <em>record class</em> has a <strong>canonical constructor</strong>, declared explicitly or implicitly, that <em><strong>initializes all the component fields</strong></em> of the record class.</p>\n</blockquote>\n<p>All <em>non-canonical constructors</em>, which are constructors with signatures that differ from the <em>canonical</em>, like your case constructor that expects a single argument <code>ClassA(String)</code>, should delegate the call to the <em>canonical constructor</em> using so-called <em>explicit constructor invocation</em>, i.e. using <code>this()</code> (precisely as you've done), otherwise such constructor would not compile.</p>\n<blockquote>\n<p>A record declaration may contain declarations of constructors that are not canonical constructors. The <em><strong>body of every non-canonical constructor</strong></em> in a record declaration <em><strong>must start with an alternate constructor invocation</strong></em> (<code>§8.8.7.1</code>), or a compile-time error occurs.</p>\n</blockquote>\n<p><em><strong>Conclusion:</strong></em> since you've declared a record that has <strong>two</strong> fields, and you also need a <em>non-canonical</em> constructor expecting <strong>one</strong> argument, there would be two constructors: <em>canonical</em> and a <em>non-canonical</em>. There are no workarounds.</p>\n<hr />\n<p><em><strong>In addition</strong></em>, as <a href=\"https://stackoverflow.com/users/3553087/brian-goetz\"><em>@Brian Goetz</em></a> has rightfully pointed out, it's worth to <strong>override</strong> the <em>canonical constructor</em> as well. Otherwise, there would be an ambiguity in regard whether the second argument of the record is an uppercase version of the first or not because of the possibility to use two constructors with the different logic.</p>\n<p>If we define the record as follows:</p>\n<pre><code>public record ClassA(String foo, String bar) {\n    public ClassA(String foo) {\n        this(foo, foo.toUpperCase(Locale.ROOT));\n    }\n}\n</code></pre>\n<p>The code below:</p>\n<pre><code>System.out.println(new ClassA(&quot;foo&quot;, &quot;arbitrary string which not FOO&quot;));\nSystem.out.println(new ClassA(&quot;foo&quot;));\n</code></pre>\n<p>Will produce the output:</p>\n<pre><code>ClassA[foo=foo, bar=arbitrary string which not FOO] // unexpected result\nClassA[foo=foo, bar=FOO]                            // desired result\n</code></pre>\n<p>To ensure that the second argument at any circumstances would be equal to the first argument turned to uppercase, we have to override the <em>canonical constructor</em>:</p>\n<pre><code>public record ClassA(String foo, String bar) {\n    public ClassA(String foo) {\n        this(foo, foo); // doesn't matter what would be provided as the second argument\n    }\n    \n    public ClassA(String foo, String bar) {\n        this.foo = foo;\n        this.bar = foo.toUpperCase(Locale.ROOT);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661192843,"creation_date":1659034104,"answer_id":73157819,"question_id":73135962,"body_markdown":"This is more of a response to https://stackoverflow.com/a/73137529/3553087 than any sort of recommendation as to how to do this.  The cited answer is better than the OP&#39;s version, but it still is subverting the spirit of records, which is that they are _nominal tuples_, perhaps with some invariants that constrain the components.  \r\n\r\nHere&#39;s an example of a good use of records with an invariant:\r\n\r\n```\r\nrecord Range(int low, int hi) { \r\n    public Range { \r\n        if (low &gt; hi) throw new IllegalArgumentException();\r\n    }\r\n}\r\n```\r\n\r\nThe canonical constructor validates the arguments, rejecting invalid ones, and thereafter, the whole thing operates like a transparent, immutable container for some tuple, deriving a useful API (constructor, deconstruction pattern (as of Java 19), accessors, equals, hashCode, toString) from the tuple.  \r\n\r\nThe equivalent here is to be honest and admit what what you are writing is a tuple of an arbitrary string, and its uppercase version:\r\n\r\n```\r\nrecord StringWithCachedUppercase(String value, String uppercased) { \r\n    public StringWithCachedUppercase {\r\n        if (!uppercased.equals(value.toUpperCase(Local.ROOT)))\r\n            throw new IllegalArgumentException();\r\n    }\r\n\r\n    public StringWithCachedUppercase(String value) { \r\n        this(value, value.toUpperCase(Locale.ROOT));\r\n    }\r\n}\r\n```\r\n\r\nWhy is the linked answer less desirable?  Because the canonical constructor pulls a fast one, and undermines the reasonable intuition that `new XyRecord(x, y).y()` should return something related to the `y` passed into the constructor.  Maybe it&#39;s a normalized version, but it should be recognizable -- in the linked answer, it is completely ignored.  \r\n\r\nSome may balk at &quot;but then you&#39;re computing the uppercased version twice&quot;, but that&#39;s no excuse for using the mechanism wrong.  (And, since the whole rationale for this sort of thing is &quot;I want to cache this seemingly-expensive computation&quot;, the only point of using it at all is if you&#39;re going to ask for the uppercase version many, many times.  In which case an O(1) additional cost of construction is not relevant.)  \r\n\r\nThis example illustrates a common case where records are an &quot;almost&quot;, which is &quot;tuple, but caching derived quantities&quot;.  We considered this case at great length during the design of records, but in the end, concluded it should remain outside of the design center for records.  \r\n\r\nIf you are really interested in caching derived quantities, then they can be computed lazily and cached in a WHM:\r\n\r\n```\r\nrecord StringWrapper(String s) { \r\n    static Map&lt;StringWrapper, String&gt; uppers = Collections.synchronizedMap(new WeakHashMap&lt;&gt;());\r\n\r\n    public String uppercase() { \r\n        return uppers.computeIfAbsent(this, r -&gt; r.s.toUpperCase(Locale.ROOT));\r\n    }\r\n}\r\n```","title":"rewrite a class with two fields and a constructor with a single parameter as a record class","body":"<p>This is more of a response to <a href=\"https://stackoverflow.com/a/73137529/3553087\">https://stackoverflow.com/a/73137529/3553087</a> than any sort of recommendation as to how to do this.  The cited answer is better than the OP's version, but it still is subverting the spirit of records, which is that they are <em>nominal tuples</em>, perhaps with some invariants that constrain the components.</p>\n<p>Here's an example of a good use of records with an invariant:</p>\n<pre><code>record Range(int low, int hi) { \n    public Range { \n        if (low &gt; hi) throw new IllegalArgumentException();\n    }\n}\n</code></pre>\n<p>The canonical constructor validates the arguments, rejecting invalid ones, and thereafter, the whole thing operates like a transparent, immutable container for some tuple, deriving a useful API (constructor, deconstruction pattern (as of Java 19), accessors, equals, hashCode, toString) from the tuple.</p>\n<p>The equivalent here is to be honest and admit what what you are writing is a tuple of an arbitrary string, and its uppercase version:</p>\n<pre><code>record StringWithCachedUppercase(String value, String uppercased) { \n    public StringWithCachedUppercase {\n        if (!uppercased.equals(value.toUpperCase(Local.ROOT)))\n            throw new IllegalArgumentException();\n    }\n\n    public StringWithCachedUppercase(String value) { \n        this(value, value.toUpperCase(Locale.ROOT));\n    }\n}\n</code></pre>\n<p>Why is the linked answer less desirable?  Because the canonical constructor pulls a fast one, and undermines the reasonable intuition that <code>new XyRecord(x, y).y()</code> should return something related to the <code>y</code> passed into the constructor.  Maybe it's a normalized version, but it should be recognizable -- in the linked answer, it is completely ignored.</p>\n<p>Some may balk at &quot;but then you're computing the uppercased version twice&quot;, but that's no excuse for using the mechanism wrong.  (And, since the whole rationale for this sort of thing is &quot;I want to cache this seemingly-expensive computation&quot;, the only point of using it at all is if you're going to ask for the uppercase version many, many times.  In which case an O(1) additional cost of construction is not relevant.)</p>\n<p>This example illustrates a common case where records are an &quot;almost&quot;, which is &quot;tuple, but caching derived quantities&quot;.  We considered this case at great length during the design of records, but in the end, concluded it should remain outside of the design center for records.</p>\n<p>If you are really interested in caching derived quantities, then they can be computed lazily and cached in a WHM:</p>\n<pre><code>record StringWrapper(String s) { \n    static Map&lt;StringWrapper, String&gt; uppers = Collections.synchronizedMap(new WeakHashMap&lt;&gt;());\n\n    public String uppercase() { \n        return uppers.computeIfAbsent(this, r -&gt; r.s.toUpperCase(Locale.ROOT));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19341000,"reputation":79,"user_id":14140509,"display_name":"Piero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73137529,"answer_count":2,"score":3,"last_activity_date":1661192843,"creation_date":1658916222,"question_id":73135962,"body_markdown":"I would like to know how to rewrite this class\r\n```\r\npublic class ClassA {\r\n    private final String foo;\r\n    private final String bar;\r\n\r\n    public ClassA(String foo) {\r\n        this.foo = foo;\r\n        this.bar = foo.toUpperCase();\r\n    }\r\n\r\n    // getters...\r\n}\r\n```\r\nas a record class.&lt;br/&gt;\r\nThe best I&#39;ve managed to do is this\r\n```\r\npublic record ClassA(String foo, String bar) {\r\n    public ClassA(String foo) {\r\n        this(foo, foo.toUpperCase());\r\n    }\r\n}\r\n```\r\nThe problem is that this solution creates two constructors while I want only one which accepts the string foo","title":"rewrite a class with two fields and a constructor with a single parameter as a record class","body":"<p>I would like to know how to rewrite this class</p>\n<pre><code>public class ClassA {\n    private final String foo;\n    private final String bar;\n\n    public ClassA(String foo) {\n        this.foo = foo;\n        this.bar = foo.toUpperCase();\n    }\n\n    // getters...\n}\n</code></pre>\n<p>as a record class.<br/>\nThe best I've managed to do is this</p>\n<pre><code>public record ClassA(String foo, String bar) {\n    public ClassA(String foo) {\n        this(foo, foo.toUpperCase());\n    }\n}\n</code></pre>\n<p>The problem is that this solution creates two constructors while I want only one which accepts the string foo</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1660922365,"post_id":73418727,"comment_id":129655727,"body_markdown":"It would help if you showed us the code that caused the error, not just the error.","body":"It would help if you showed us the code that caused the error, not just the error."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1660922745,"post_id":73418727,"comment_id":129655872,"body_markdown":"@LouisWasserman I am not sure that I have code that throw it. I add dependency and then I get this error. But if I remove this dependency I don&#39;t have error.","body":"@LouisWasserman I am not sure that I have code that throw it. I add dependency and then I get this error. But if I remove this dependency I don&#39;t have error."},{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1660932778,"post_id":73418727,"comment_id":129658806,"body_markdown":"What is that dependancy?","body":"What is that dependancy?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1661190221,"post_id":73418727,"comment_id":129708077,"body_markdown":"I have an error when spring try initialize `org.springframework.cloud.stream.function.FunctionConfiguration`","body":"I have an error when spring try initialize <code>org.springframework.cloud.stream.function.FunctionConfigurat&zwnj;&#8203;ion</code>"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1662549400,"post_id":73418727,"comment_id":130030165,"body_markdown":"Please see https://github.com/spring-cloud/spring-cloud-stream/issues/2490 The issue is believed to be fixed. Also next time please tag it with spring-cloud-stream or spring-cloud-function","body":"Please see <a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2490\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues/2490</a> The issue is believed to be fixed. Also next time please tag it with spring-cloud-stream or spring-cloud-function"}],"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661192620,"creation_date":1660921292,"question_id":73418727,"body_markdown":"I have error when try compile my java code with kotlin dependencies:\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException:\r\n    Error creating bean with name &#39;functionBindingRegistrar&#39; defined in class path resource [org/springframework/cloud/stream/function/FunctionConfiguration.class]:\r\n    Invocation of init method failed; nested exception is java.lang.ClassCastException:\r\n    class net.jodah.typetools.ReifiedParameterizedType cannot be cast to class java.lang.Class (net.jodah.typetools.ReifiedParameterizedType is in unnamed module of loader &#39;app&#39;;\r\n    java.lang.Class is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\nWhy I get this exception? And how fix it?\r\n\r\nupd:\r\nIf I add this dependency, then I have error. \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI also see in debug that when spring try create `webSocketBuilder` (`java.util.function.Supplier&lt;reactor.netty.http.client.WebsocketClientSpec$Builder&gt;`) then I have this error. And error is ClassCastException because `java.util.function.Supplier&lt;reactor.netty.http.client.WebsocketClientSpec$Builder&gt;` can&#39;t be cast to `(Class&lt;?&gt;)`\r\n\r\nBut I don&#39;t know how to fix it","title":"Java compile exception with kotlin(ReifiedParameterizedType cannot be cast to class java.lang.Class)","body":"<p>I have error when try compile my java code with kotlin dependencies:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'functionBindingRegistrar' defined in class path resource [org/springframework/cloud/stream/function/FunctionConfiguration.class]:\nInvocation of init method failed; nested exception is java.lang.ClassCastException:\nclass net.jodah.typetools.ReifiedParameterizedType cannot be cast to class java.lang.Class (net.jodah.typetools.ReifiedParameterizedType is in unnamed module of loader 'app';\njava.lang.Class is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>Why I get this exception? And how fix it?</p>\n<p>upd:\nIf I add this dependency, then I have error.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I also see in debug that when spring try create <code>webSocketBuilder</code> (<code>java.util.function.Supplier&lt;reactor.netty.http.client.WebsocketClientSpec$Builder&gt;</code>) then I have this error. And error is ClassCastException because <code>java.util.function.Supplier&lt;reactor.netty.http.client.WebsocketClientSpec$Builder&gt;</code> can't be cast to <code>(Class&lt;?&gt;)</code></p>\n<p>But I don't know how to fix it</p>\n"},{"tags":["java","spring","mockito","integration-testing","completable-future"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661192537,"creation_date":1661192537,"answer_id":73449488,"question_id":73448365,"body_markdown":"In general, don&#39;t mock types you don&#39;t own. In particular, CompletableFuture is an enormous API with very complicated semantics and I can&#39;t recommend mocking it. (Your team&#39;s opinion may vary, but [CompletableFuture&#39;s large and non-encapsulated API is known as a design issue](https://stackoverflow.com/questions/38744943/listenablefuture-vs-ompletablefuture), particularly in how a CompletableFuture can be controlled from outside its source.)\r\n\r\nFurthermore, `join` will never _return_ a ResourceAccessException, nor _throw_ one directly. Futures represent the result of some other asynchronous process, probably on another thread; if that process _throws_ a ResourceAccessException, then as in the code you posted, `join` will [_throw_ a _CompletionException_](https://stackoverflow.com/a/49035790/1426891) with a `getCause()` value that is the underlying ResourceAccessException.\r\n\r\nIn Java 9 or better, you can use [`failedFuture`](https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/CompletableFuture.html#failedFuture-java.lang.Throwable-) as a static factory, passing in the raw ResourceAccessException because the real CompletableFuture implementation will wrap it for you:\r\n\r\n```java\r\n// You&#39;ll probably need to specify your generics here, but I can&#39;t see\r\n// enough of your test to fill them in realistically.\r\nCompletableFuture&lt;/* ... */&gt; completableFuture\r\n    = CompletableFuture.failedFuture(new ResourceAccessException(\r\n        &quot;I/O error on /uri&quot;,\r\n        new SocketTimeoutException(&quot;Read Timeout&quot;)));\r\n```\r\n\r\nIn Java 8, in absence of a static factory as in [the SO question &quot;CompletableFuture already completed with an exception&quot;](https://stackoverflow.com/a/49116946/1426891), just create a real CompletableFuture and complete it exceptionally (taking advantage of the aforementioned external-control design issue):\r\n\r\n```java\r\nCompletableFuture&lt;/* ... */&gt; completableFuture\r\n    = new CompletableFuture&lt;/* ... */&gt;();\r\ncompletableFuture.completeExceptionally(\r\n    new ResourceAccessException(/*...*/));\r\n```","title":"Mocking the CompletableFuture.join() for IntegrationTests","body":"<p>In general, don't mock types you don't own. In particular, CompletableFuture is an enormous API with very complicated semantics and I can't recommend mocking it. (Your team's opinion may vary, but <a href=\"https://stackoverflow.com/questions/38744943/listenablefuture-vs-ompletablefuture\">CompletableFuture's large and non-encapsulated API is known as a design issue</a>, particularly in how a CompletableFuture can be controlled from outside its source.)</p>\n<p>Furthermore, <code>join</code> will never <em>return</em> a ResourceAccessException, nor <em>throw</em> one directly. Futures represent the result of some other asynchronous process, probably on another thread; if that process <em>throws</em> a ResourceAccessException, then as in the code you posted, <code>join</code> will <a href=\"https://stackoverflow.com/a/49035790/1426891\"><em>throw</em> a <em>CompletionException</em></a> with a <code>getCause()</code> value that is the underlying ResourceAccessException.</p>\n<p>In Java 9 or better, you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/CompletableFuture.html#failedFuture-java.lang.Throwable-\" rel=\"nofollow noreferrer\"><code>failedFuture</code></a> as a static factory, passing in the raw ResourceAccessException because the real CompletableFuture implementation will wrap it for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You'll probably need to specify your generics here, but I can't see\n// enough of your test to fill them in realistically.\nCompletableFuture&lt;/* ... */&gt; completableFuture\n    = CompletableFuture.failedFuture(new ResourceAccessException(\n        &quot;I/O error on /uri&quot;,\n        new SocketTimeoutException(&quot;Read Timeout&quot;)));\n</code></pre>\n<p>In Java 8, in absence of a static factory as in <a href=\"https://stackoverflow.com/a/49116946/1426891\">the SO question &quot;CompletableFuture already completed with an exception&quot;</a>, just create a real CompletableFuture and complete it exceptionally (taking advantage of the aforementioned external-control design issue):</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;/* ... */&gt; completableFuture\n    = new CompletableFuture&lt;/* ... */&gt;();\ncompletableFuture.completeExceptionally(\n    new ResourceAccessException(/*...*/));\n</code></pre>\n"}],"owner":{"account_id":14445731,"reputation":193,"user_id":10434929,"display_name":"J Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661192537,"creation_date":1661186234,"question_id":73448365,"body_markdown":"\r\nIam writing the Integration test cases and i was stuck at point where i was not able to mock the\r\nCompletableFuture.join() \r\n\r\nFirstly, \r\nI will make an async call and add all the responses to list\r\n\r\n    @Async(&quot;AsyncTaskExecutor&quot;)\r\n        public &lt;T&gt; CompletableFuture&lt;ResponseEntity&lt;T&gt;&gt; callCarrierPost(\r\n                ServiceConfig serviceConfig, Class&lt;T&gt; responseType, ExecutionContext executionContext,\r\n                AdapterContext adapterContext) {\r\n            ResponseEntity&lt;T&gt; responseEntity = carrierInvoker.postForObject(\r\n                    serviceConfig, responseType, executionContext, adapterContext);\r\n            return CompletableFuture.completedFuture(responseEntity);\r\n        }\r\n\r\nOnce the async call is made then i will process the responses of the async calls like below,\r\n \r\n\r\n    private &lt;T&gt; List&lt;ResponseEntity&lt;T&gt;&gt; processResponseFutureList(List&lt;CompletableFuture&lt;ResponseEntity&lt;T&gt;&gt;&gt; responseEntityFutureList) {\r\n            List&lt;ResponseEntity&lt;T&gt;&gt; responseEntityList = new ArrayList&lt;&gt;();\r\n            responseEntityFutureList.forEach(responseEntityFuture -&gt; {\r\n                try {\r\n                    responseEntityList.add(responseEntityFuture.join());\r\n                } catch (CompletionException ex) {\r\n                    if (ex.getCause() instanceof HttpStatusCodeException) {\r\n                        HttpStatusCodeException httpStatusCodeException = ((HttpStatusCodeException) ex.getCause());\r\n                        ResponseEntity&lt;T&gt; response = new ResponseEntity&lt;&gt;((T) httpStatusCodeException.getResponseBodyAsString(),\r\n                                httpStatusCodeException.getResponseHeaders(),\r\n                                httpStatusCodeException.getStatusCode());\r\n                        responseEntityList.add(response);\r\n                    } else if (ex.getCause() instanceof ResourceAccessException &amp;&amp;\r\n                            ex.getCause().getCause() instanceof SocketTimeoutException) {\r\n                        responseEntityList.add(getErrorResponseEntity(HttpStatus.SERVICE_UNAVAILABLE,\r\n                                TimeOutException.Code.PROVIDER_TIME_OUT.getVal(), ex.getMessage()));\r\n                    } else {\r\n                        responseEntityList.add(getErrorResponseEntity(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                                InternalServerException.Code.INTERNAL_M2_BROKER_ERROR.getVal(), ex.getMessage()));\r\n                    }\r\n                }\r\n            });\r\n            return responseEntityList;\r\n        }\r\n\r\nFrom processResponseFutureList method, Iam trying to mock the response of the completableFuture.join() to cover all the exceptional scenarios\r\n\r\nSo i tried to mock completableFuture, but no luck, it was not throwing an exception with below changes, instead it gives the original response.\r\n\r\n    @MockBean\r\n        private CompletableFuture completableFuture;\r\n    \r\n    Mockito.when(completableFuture.join())\r\n                    .thenReturn(new ResourceAccessException(&quot;I/O error on /uri&quot;, new SocketTimeoutException(&quot;Read Timeout&quot;)));\r\n\r\nIam actually new to testing and also never got an chance to work with CompletableFuture\r\n\r\nCan someone help to mock the CompletableFuture.join() to throw an exception.","title":"Mocking the CompletableFuture.join() for IntegrationTests","body":"<p>Iam writing the Integration test cases and i was stuck at point where i was not able to mock the\nCompletableFuture.join()</p>\n<p>Firstly,\nI will make an async call and add all the responses to list</p>\n<pre><code>@Async(&quot;AsyncTaskExecutor&quot;)\n    public &lt;T&gt; CompletableFuture&lt;ResponseEntity&lt;T&gt;&gt; callCarrierPost(\n            ServiceConfig serviceConfig, Class&lt;T&gt; responseType, ExecutionContext executionContext,\n            AdapterContext adapterContext) {\n        ResponseEntity&lt;T&gt; responseEntity = carrierInvoker.postForObject(\n                serviceConfig, responseType, executionContext, adapterContext);\n        return CompletableFuture.completedFuture(responseEntity);\n    }\n</code></pre>\n<p>Once the async call is made then i will process the responses of the async calls like below,</p>\n<pre><code>private &lt;T&gt; List&lt;ResponseEntity&lt;T&gt;&gt; processResponseFutureList(List&lt;CompletableFuture&lt;ResponseEntity&lt;T&gt;&gt;&gt; responseEntityFutureList) {\n        List&lt;ResponseEntity&lt;T&gt;&gt; responseEntityList = new ArrayList&lt;&gt;();\n        responseEntityFutureList.forEach(responseEntityFuture -&gt; {\n            try {\n                responseEntityList.add(responseEntityFuture.join());\n            } catch (CompletionException ex) {\n                if (ex.getCause() instanceof HttpStatusCodeException) {\n                    HttpStatusCodeException httpStatusCodeException = ((HttpStatusCodeException) ex.getCause());\n                    ResponseEntity&lt;T&gt; response = new ResponseEntity&lt;&gt;((T) httpStatusCodeException.getResponseBodyAsString(),\n                            httpStatusCodeException.getResponseHeaders(),\n                            httpStatusCodeException.getStatusCode());\n                    responseEntityList.add(response);\n                } else if (ex.getCause() instanceof ResourceAccessException &amp;&amp;\n                        ex.getCause().getCause() instanceof SocketTimeoutException) {\n                    responseEntityList.add(getErrorResponseEntity(HttpStatus.SERVICE_UNAVAILABLE,\n                            TimeOutException.Code.PROVIDER_TIME_OUT.getVal(), ex.getMessage()));\n                } else {\n                    responseEntityList.add(getErrorResponseEntity(HttpStatus.INTERNAL_SERVER_ERROR,\n                            InternalServerException.Code.INTERNAL_M2_BROKER_ERROR.getVal(), ex.getMessage()));\n                }\n            }\n        });\n        return responseEntityList;\n    }\n</code></pre>\n<p>From processResponseFutureList method, Iam trying to mock the response of the completableFuture.join() to cover all the exceptional scenarios</p>\n<p>So i tried to mock completableFuture, but no luck, it was not throwing an exception with below changes, instead it gives the original response.</p>\n<pre><code>@MockBean\n    private CompletableFuture completableFuture;\n\nMockito.when(completableFuture.join())\n                .thenReturn(new ResourceAccessException(&quot;I/O error on /uri&quot;, new SocketTimeoutException(&quot;Read Timeout&quot;)));\n</code></pre>\n<p>Iam actually new to testing and also never got an chance to work with CompletableFuture</p>\n<p>Can someone help to mock the CompletableFuture.join() to throw an exception.</p>\n"},{"tags":["java","spring","docker","jhipster"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1653492838,"post_id":72375139,"comment_id":127867298,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":1,"creation_date":1653509028,"post_id":72375139,"comment_id":127872919,"body_markdown":"Your question is not detailed enough to help you. Please show the application.properties (or an extract), also the stack trace shows that the error occurs during tests. Are you sure you modified the application.properties in src/test/resources and not the one in src/main/resources?","body":"Your question is not detailed enough to help you. Please show the application.properties (or an extract), also the stack trace shows that the error occurs during tests. Are you sure you modified the application.properties in src/test/resources and not the one in src/main/resources?"}],"owner":{"account_id":15765986,"reputation":21,"user_id":19196893,"display_name":"leochen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661191986,"creation_date":1653471181,"question_id":72375139,"body_markdown":"The application can run perfectly in web server, however when trying to run `./mvnw -Pdev verify jib:dockerBuild` to build the docker image, it throws the error that could not resolve placeholder value defined in `application.properties` in the configuration class.\r\nThe stack trace is as below:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;awsSnsConfiguration&#39; defined in file\r\n&gt; [/Users/xxx/Documents/Interact_Technology/HealthAgent/target/classes/au/com/healthagent/config/AwsSnsConfiguration.class]:\r\n&gt; Unexpected exception during bean creation; nested exception is\r\n&gt; java.lang.IllegalArgumentException: Could not resolve placeholder\r\n&gt; &#39;application.sns_ak_id&#39; in value &quot;${application.sns_ak_id}&quot;\r\n&gt;         at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\r\n&gt;         at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n&gt;         at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt;         at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n&gt;         at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt;         at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n&gt;         at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n&gt;         at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n&gt;         at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n&gt;         at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n&gt;         at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n&gt;         at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n&gt;         at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n&gt;         at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n&gt;         at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n&gt;         at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n&gt;         at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n&gt;         at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n&gt;         at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n&gt;         at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n&gt;         at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n&gt;         at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n&gt;         at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n&gt;         at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n&gt;         at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n&gt;         at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n&gt;         at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n&gt;         at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n&gt;         at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n&gt;         at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n&gt;         at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n&gt;         at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n&gt;         at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n&gt;         at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt;         at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n&gt;         at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n&gt;         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n&gt;         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n&gt;         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n&gt;         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n&gt;         at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n&gt;         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n&gt;         at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n&gt;         at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n&gt;         at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n&gt;         at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)\r\n&gt;         at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)\r\n&gt;         at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\r\n&gt;         at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n&gt;         at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n&gt;         at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n&gt;         at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n&gt; Caused by: java.lang.IllegalArgumentException: Could not resolve\r\n&gt; placeholder &#39;application.sns_ak_id&#39; in value\r\n&gt; &quot;${application.sns_ak_id}&quot;\r\n\r\n","title":"Error: Could not resolve placeholder value defined in Application.properties when building docker image","body":"<p>The application can run perfectly in web server, however when trying to run <code>./mvnw -Pdev verify jib:dockerBuild</code> to build the docker image, it throws the error that could not resolve placeholder value defined in <code>application.properties</code> in the configuration class.\nThe stack trace is as below:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'awsSnsConfiguration' defined in file\n[/Users/xxx/Documents/Interact_Technology/HealthAgent/target/classes/au/com/healthagent/config/AwsSnsConfiguration.class]:\nUnexpected exception during bean creation; nested exception is\njava.lang.IllegalArgumentException: Could not resolve placeholder\n'application.sns_ak_id' in value &quot;${application.sns_ak_id}&quot;\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)\nat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)\nat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\nat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\nat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\nCaused by: java.lang.IllegalArgumentException: Could not resolve\nplaceholder 'application.sns_ak_id' in value\n&quot;${application.sns_ak_id}&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"score":0,"creation_date":1661190620,"post_id":73449038,"comment_id":129708203,"body_markdown":"could you provide your class for CartController","body":"could you provide your class for CartController"},{"owner":{"account_id":26131973,"reputation":121,"user_id":19822560,"display_name":"Mohab Alnajjar"},"score":0,"creation_date":1661190696,"post_id":73449038,"comment_id":129708240,"body_markdown":"I will, but it doesn&#39;t matter. when I comment the whole CartController class another controller throws the same error","body":"I will, but it doesn&#39;t matter. when I comment the whole CartController class another controller throws the same error"},{"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"score":0,"creation_date":1661190901,"post_id":73449038,"comment_id":129708301,"body_markdown":"Do you have the compiled .class?  The error is likely a code block that&#39;s injected on compile time so it would only be in the class at &quot;\\repos\\MealDash\\target\\classes\\com\\mealdash\\controllers\\CartController.class&quot;","body":"Do you have the compiled .class?  The error is likely a code block that&#39;s injected on compile time so it would only be in the class at &quot;\\repos\\MealDash\\target\\classes\\com\\mealdash\\controllers\\Car&zwnj;&#8203;tController.class&quot;"},{"owner":{"account_id":26131973,"reputation":121,"user_id":19822560,"display_name":"Mohab Alnajjar"},"score":1,"creation_date":1661191157,"post_id":73449038,"comment_id":129708375,"body_markdown":"Yes. Compiled CartController is existed.","body":"Yes. Compiled CartController is existed."},{"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"score":0,"creation_date":1661191281,"post_id":73449038,"comment_id":129708417,"body_markdown":"Can you post that one too","body":"Can you post that one too"},{"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"score":0,"creation_date":1661191504,"post_id":73449038,"comment_id":129708473,"body_markdown":"Also your springframeworks in your pom are different versions from eachother and I think that of in the dispatcher-servlet. Try unifying the pom versions first and see if that fixes it.","body":"Also your springframeworks in your pom are different versions from eachother and I think that of in the dispatcher-servlet. Try unifying the pom versions first and see if that fixes it."},{"owner":{"account_id":26131973,"reputation":121,"user_id":19822560,"display_name":"Mohab Alnajjar"},"score":0,"creation_date":1661191535,"post_id":73449038,"comment_id":129708479,"body_markdown":"Done! I added it to the question.","body":"Done! I added it to the question."},{"owner":{"account_id":26131973,"reputation":121,"user_id":19822560,"display_name":"Mohab Alnajjar"},"score":0,"creation_date":1661191845,"post_id":73449038,"comment_id":129708575,"body_markdown":"The different versions caused the problem. I unified them and the project works. Thanks!","body":"The different versions caused the problem. I unified them and the project works. Thanks!"},{"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"score":0,"creation_date":1661191945,"post_id":73449038,"comment_id":129708605,"body_markdown":"Awesome! putting it as an answer for posterity.","body":"Awesome! putting it as an answer for posterity."}],"answers":[{"tags":[],"owner":{"account_id":18823848,"reputation":149,"user_id":19192101,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661191950,"creation_date":1661191950,"answer_id":73449384,"question_id":73449038,"body_markdown":"Your Springframeworks in your pom are different versions from each other and I think that of in the dispatcher-servlet. Try unifying the pom versions first and see if that fixes it.\r\n\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.22&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Spring MVC: Getting NoSuchMethodError when adding an advice","body":"<p>Your Springframeworks in your pom are different versions from each other and I think that of in the dispatcher-servlet. Try unifying the pom versions first and see if that fixes it.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26131973,"reputation":121,"user_id":19822560,"display_name":"Mohab Alnajjar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73449384,"answer_count":1,"score":1,"last_activity_date":1661191950,"creation_date":1661189943,"question_id":73449038,"body_markdown":"I&#39;m working on Spring MVC project and I&#39;m learning about AOP. So, I want to add logging aspect to my project.\r\n\r\nLoggerAspect.java:\r\n\r\n    package com.mealdash.aspects;\r\n    \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class LoggerAspect {\r\n    \tprivate Logger logger = Logger.getLogger(getClass().getName());\r\n    \r\n    \t@Pointcut(&quot;execution(* com.mealdash.controllers.*.*(..))&quot;)\r\n    \tprivate void forControllersPackage() {\r\n    \t}\r\n    \r\n    \t@Pointcut(&quot;execution(* com.mealdash.services.*.*(..))&quot;)\r\n    \tprivate void forServicesPackage() {\r\n    \t}\r\n    \r\n    \t@Pointcut(&quot;execution(* com.mealdash.repositories.*.*(..))&quot;)\r\n    \tprivate void forRepositoriesPackage() {\r\n    \t}\r\n    \r\n    \t@Pointcut(&quot;forControllersPackage() || forServicesPackage() || forRepositoriesPackage()&quot;)\r\n    \tprivate void forAppWorkFlow() {\r\n    \t}\r\n    \r\n    \t@Before(&quot;forAppWorkFlow()&quot;)\r\n    \tpublic void beforeAdvice(JoinPoint joinPoint) {\r\n    \t\tvar methodName = joinPoint.getSignature().getName();\r\n    \t\tlogger.info(&quot;--&gt; Before: Calling method: &quot; + methodName);\r\n    \t}\r\n    }\r\nThen, when I run my project I get this error:\r\n\r\n    22-Aug-2022 19:32:49.360 SEVERE [main] org.springframework.web.servlet.FrameworkServlet.initServletBean Context initialization failed\r\n    \torg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cartController&#39; defined in file [C:\\Users\\mo662\\repos\\MealDash\\target\\classes\\com\\mealdash\\controllers\\CartController.class]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: &#39;boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)&#39;\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n    \t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n    \t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\r\n    \t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\r\n    \t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n    \t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n    \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n    \t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    \tCaused by: java.lang.NoSuchMethodError: &#39;boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)&#39;\r\n    \t\tat org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(DefaultAopProxyFactory.java:64)\r\n    \t\tat org.springframework.aop.framework.ProxyCreatorSupport.createAopProxy(ProxyCreatorSupport.java:105)\r\n    \t\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\r\n    \t\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:480)\r\n    \t\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:344)\r\n    \t\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:293)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n    \t\t... 57 more\r\n    22-Aug-2022 19:32:49.378 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\Users\\mo662\\.SmartTomcat\\MealDash\\MealDash\\conf\\Catalina\\localhost\\.xml] has finished in [9,546] ms\r\n    22-Aug-2022 19:32:49.381 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    22-Aug-2022 19:32:49.396 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [9661] milliseconds\r\nI reread my code and I discovered that when I comment the before advice method `beforeAdvice()` the project run and works successfully.\r\nSo, how can I love this problem?\r\nHere my project files:\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mealdash&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MealDash&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;MealDash Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.17.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.5.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.22&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;MealDash&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\ndispatcher-servlet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t\t xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \t\t\t xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \t\t\t xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \t\t\t xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \t\t\t xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \t\t\t xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    \t\t\t\thttp://www.springframework.org/schema/context\r\n    \t\t\t\thttp://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n    \t\t\t\thttp://www.springframework.org/schema/tx\r\n    \t\t\t\thttp://www.springframework.org/schema/tx/spring-tx-3.2.xsd\r\n    \t\t\t\thttp://www.springframework.org/schema/mvc\r\n    \t\t\t\thttp://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n    \t\t\t\thttp://www.springframework.org/schema/aop\r\n    \t\t\t\thttp://www.springframework.org/schema/aop/spring-aop-3.2.xsd&quot;&gt;\r\n    \r\n    \t&lt;aop:aspectj-autoproxy/&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.mealdash&quot;/&gt;\r\n    \t&lt;mvc:annotation-driven/&gt;\r\n    \t&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\t\t\tclass=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n    \t\t\t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClass&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n    \t\t&lt;property name=&quot;jdbcUrl&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;jdbc:sqlserver://localhost:1433;databaseName=MealDash;integratedsecurity=true&quot;/&gt;\r\n    \t\t&lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\r\n    \t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\r\n    \t\t&lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\t\t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.mealdash.entities&quot;/&gt;\r\n    \r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\t\t\tclass=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \t&lt;mvc:resources location=&quot;/WEB-INF/resources/&quot; mapping=&quot;/resources/**&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\nCartController.java:\r\n\r\n    package com.mealdash.controllers;\r\n    \r\n    import com.mealdash.interfaces.dao.CartDAO;\r\n    import com.mealdash.interfaces.dao.UserDAO;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/cart&quot;)\r\n    public class CartController {\r\n    \tprivate final UserDAO userDAO;\r\n    \tprivate final CartDAO cartDAO;\r\n    \r\n    \t@Autowired\r\n    \tpublic CartController(UserDAO userDAO, CartDAO cartDAO) {\r\n    \t\tthis.userDAO = userDAO;\r\n    \t\tthis.cartDAO = cartDAO;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/addItem&quot;)\r\n    \tpublic String addItemToCart(@RequestParam(&quot;itemId&quot;) int itemId, @RequestParam(&quot;menuId&quot;) int menuId) {\r\n    \t\tvar user = userDAO.getUserById(1);\r\n    \t\tvar cart = user.getCart();\r\n    \t\tif (cart == null) {\r\n    \t\t\tcart = cartDAO.createNewCart(1);\r\n    \t\t}\r\n    \t\tcartDAO.addItemToCart(cart.getId(), itemId);\r\n    \t\treturn &quot;redirect:/menu/get?menuId=&quot; + menuId;\r\n    \t}\r\n    }\r\n\r\nCompiled CartController:\r\n\r\n\r\n  // IntelliJ API Decompiler stub source generated from a class file\r\n  // Implementation of methods is not available\r\n\r\n    package com.mealdash.controllers;\r\n    \r\n    @org.springframework.stereotype.Controller\r\n    @org.springframework.web.bind.annotation.RequestMapping({&quot;/cart&quot;})\r\n    public class CartController {\r\n      private final com.mealdash.interfaces.dao.UserDAO userDAO;\r\n      private final com.mealdash.interfaces.dao.CartDAO cartDAO;\r\n    \r\n      @org.springframework.beans.factory.annotation.Autowired\r\n      public CartController(com.mealdash.interfaces.dao.UserDAO userDAO, com.mealdash.interfaces.dao.CartDAO cartDAO) { /* compiled code */ }\r\n    \r\n      @org.springframework.web.bind.annotation.GetMapping({&quot;/addItem&quot;})\r\n      public java.lang.String addItemToCart(@org.springframework.web.bind.annotation.RequestParam(&quot;itemId&quot;) int itemId, @org.springframework.web.bind.annotation.RequestParam(&quot;menuId&quot;) int menuId) { /* compiled code */ }\r\n    }","title":"Spring MVC: Getting NoSuchMethodError when adding an advice","body":"<p>I'm working on Spring MVC project and I'm learning about AOP. So, I want to add logging aspect to my project.</p>\n<p>LoggerAspect.java:</p>\n<pre><code>package com.mealdash.aspects;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\nimport java.util.logging.Logger;\n\n@Aspect\n@Component\npublic class LoggerAspect {\n    private Logger logger = Logger.getLogger(getClass().getName());\n\n    @Pointcut(&quot;execution(* com.mealdash.controllers.*.*(..))&quot;)\n    private void forControllersPackage() {\n    }\n\n    @Pointcut(&quot;execution(* com.mealdash.services.*.*(..))&quot;)\n    private void forServicesPackage() {\n    }\n\n    @Pointcut(&quot;execution(* com.mealdash.repositories.*.*(..))&quot;)\n    private void forRepositoriesPackage() {\n    }\n\n    @Pointcut(&quot;forControllersPackage() || forServicesPackage() || forRepositoriesPackage()&quot;)\n    private void forAppWorkFlow() {\n    }\n\n    @Before(&quot;forAppWorkFlow()&quot;)\n    public void beforeAdvice(JoinPoint joinPoint) {\n        var methodName = joinPoint.getSignature().getName();\n        logger.info(&quot;--&gt; Before: Calling method: &quot; + methodName);\n    }\n}\n</code></pre>\n<p>Then, when I run my project I get this error:</p>\n<pre><code>22-Aug-2022 19:32:49.360 SEVERE [main] org.springframework.web.servlet.FrameworkServlet.initServletBean Context initialization failed\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cartController' defined in file [C:\\Users\\mo662\\repos\\MealDash\\target\\classes\\com\\mealdash\\controllers\\CartController.class]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: 'boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)'\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1889)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:583)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:473)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: java.lang.NoSuchMethodError: 'boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)'\n        at org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(DefaultAopProxyFactory.java:64)\n        at org.springframework.aop.framework.ProxyCreatorSupport.createAopProxy(ProxyCreatorSupport.java:105)\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\n        at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:480)\n        at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:344)\n        at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:293)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n        ... 57 more\n22-Aug-2022 19:32:49.378 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\Users\\mo662\\.SmartTomcat\\MealDash\\MealDash\\conf\\Catalina\\localhost\\.xml] has finished in [9,546] ms\n22-Aug-2022 19:32:49.381 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n22-Aug-2022 19:32:49.396 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [9661] milliseconds\n</code></pre>\n<p>I reread my code and I discovered that when I comment the before advice method <code>beforeAdvice()</code> the project run and works successfully.\nSo, how can I love this problem?\nHere my project files:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mealdash&lt;/groupId&gt;\n    &lt;artifactId&gt;MealDash&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MealDash Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.3.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;MealDash&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>dispatcher-servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n             xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n             xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n             xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n             xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n             xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n                http://www.springframework.org/schema/context\n                http://www.springframework.org/schema/context/spring-context-3.1.xsd\n                http://www.springframework.org/schema/tx\n                http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\n                http://www.springframework.org/schema/mvc\n                http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n                http://www.springframework.org/schema/aop\n                http://www.springframework.org/schema/aop/spring-aop-3.2.xsd&quot;&gt;\n\n    &lt;aop:aspectj-autoproxy/&gt;\n    &lt;context:component-scan base-package=&quot;com.mealdash&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;dataSource&quot;\n                class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\n                destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n        &lt;property name=&quot;jdbcUrl&quot;\n                            value=&quot;jdbc:sqlserver://localhost:1433;databaseName=MealDash;integratedsecurity=true&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;sessionFactory&quot;\n                class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.mealdash.entities&quot;/&gt;\n\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;transactionManager&quot;\n                class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\n    &lt;mvc:resources location=&quot;/WEB-INF/resources/&quot; mapping=&quot;/resources/**&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>CartController.java:</p>\n<pre><code>package com.mealdash.controllers;\n\nimport com.mealdash.interfaces.dao.CartDAO;\nimport com.mealdash.interfaces.dao.UserDAO;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\n@RequestMapping(&quot;/cart&quot;)\npublic class CartController {\n    private final UserDAO userDAO;\n    private final CartDAO cartDAO;\n\n    @Autowired\n    public CartController(UserDAO userDAO, CartDAO cartDAO) {\n        this.userDAO = userDAO;\n        this.cartDAO = cartDAO;\n    }\n\n    @GetMapping(&quot;/addItem&quot;)\n    public String addItemToCart(@RequestParam(&quot;itemId&quot;) int itemId, @RequestParam(&quot;menuId&quot;) int menuId) {\n        var user = userDAO.getUserById(1);\n        var cart = user.getCart();\n        if (cart == null) {\n            cart = cartDAO.createNewCart(1);\n        }\n        cartDAO.addItemToCart(cart.getId(), itemId);\n        return &quot;redirect:/menu/get?menuId=&quot; + menuId;\n    }\n}\n</code></pre>\n<p>Compiled CartController:</p>\n<p>// IntelliJ API Decompiler stub source generated from a class file\n// Implementation of methods is not available</p>\n<pre><code>package com.mealdash.controllers;\n\n@org.springframework.stereotype.Controller\n@org.springframework.web.bind.annotation.RequestMapping({&quot;/cart&quot;})\npublic class CartController {\n  private final com.mealdash.interfaces.dao.UserDAO userDAO;\n  private final com.mealdash.interfaces.dao.CartDAO cartDAO;\n\n  @org.springframework.beans.factory.annotation.Autowired\n  public CartController(com.mealdash.interfaces.dao.UserDAO userDAO, com.mealdash.interfaces.dao.CartDAO cartDAO) { /* compiled code */ }\n\n  @org.springframework.web.bind.annotation.GetMapping({&quot;/addItem&quot;})\n  public java.lang.String addItemToCart(@org.springframework.web.bind.annotation.RequestParam(&quot;itemId&quot;) int itemId, @org.springframework.web.bind.annotation.RequestParam(&quot;menuId&quot;) int menuId) { /* compiled code */ }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661191889,"creation_date":1661191889,"answer_id":73449369,"question_id":73449146,"body_markdown":"Use the `HttpComponentsMessageSender` in the template, instead of the default\r\n\r\nhttps://docs.spring.io/spring-ws/docs/current/reference/html/#_using_the_client_side_api\r\n\r\n```java\r\n/**\r\n * Sets the timeout until a connection is established. A value of 0 means &lt;em&gt;never&lt;/em&gt; timeout.\r\n *\r\n * @param timeout the timeout value in milliseconds\r\n * @see org.apache.http.params.HttpConnectionParams#setConnectionTimeout(org.apache.http.params.HttpParams, int)\r\n */\r\npublic void setConnectionTimeout(int timeout) {\r\n\tif (timeout &lt; 0) {\r\n\t\tthrow new IllegalArgumentException(&quot;timeout must be a non-negative value&quot;);\r\n\t}\r\n\torg.apache.http.params.HttpConnectionParams.setConnectionTimeout(getHttpClient().getParams(), timeout);\r\n}\r\n\r\n/**\r\n * Set the socket read timeout for the underlying HttpClient. A value of 0 means &lt;em&gt;never&lt;/em&gt; timeout.\r\n *\r\n * @param timeout the timeout value in milliseconds\r\n * @see org.apache.http.params.HttpConnectionParams#setSoTimeout(org.apache.http.params.HttpParams, int)\r\n */\r\npublic void setReadTimeout(int timeout) {\r\n\tif (timeout &lt; 0) {\r\n\t\tthrow new IllegalArgumentException(&quot;timeout must be a non-negative value&quot;);\r\n\t}\r\n\torg.apache.http.params.HttpConnectionParams.setSoTimeout(getHttpClient().getParams(), timeout);\r\n}\r\n```","title":"How to add timeout while calling SOAP Service from spring integration","body":"<p>Use the <code>HttpComponentsMessageSender</code> in the template, instead of the default</p>\n<p><a href=\"https://docs.spring.io/spring-ws/docs/current/reference/html/#_using_the_client_side_api\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-ws/docs/current/reference/html/#_using_the_client_side_api</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Sets the timeout until a connection is established. A value of 0 means &lt;em&gt;never&lt;/em&gt; timeout.\n *\n * @param timeout the timeout value in milliseconds\n * @see org.apache.http.params.HttpConnectionParams#setConnectionTimeout(org.apache.http.params.HttpParams, int)\n */\npublic void setConnectionTimeout(int timeout) {\n    if (timeout &lt; 0) {\n        throw new IllegalArgumentException(&quot;timeout must be a non-negative value&quot;);\n    }\n    org.apache.http.params.HttpConnectionParams.setConnectionTimeout(getHttpClient().getParams(), timeout);\n}\n\n/**\n * Set the socket read timeout for the underlying HttpClient. A value of 0 means &lt;em&gt;never&lt;/em&gt; timeout.\n *\n * @param timeout the timeout value in milliseconds\n * @see org.apache.http.params.HttpConnectionParams#setSoTimeout(org.apache.http.params.HttpParams, int)\n */\npublic void setReadTimeout(int timeout) {\n    if (timeout &lt; 0) {\n        throw new IllegalArgumentException(&quot;timeout must be a non-negative value&quot;);\n    }\n    org.apache.http.params.HttpConnectionParams.setSoTimeout(getHttpClient().getParams(), timeout);\n}\n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661191889,"creation_date":1661190535,"question_id":73449146,"body_markdown":"While calling soap service from spring integration how to add timeout ? Below is the code where I&#39;m calling a soap service using Ws.marshallingOutboundGateway().\r\n\r\n    @Bean\r\n      public IntegrationFlow flow() {\r\n        return flow -&gt;\r\n            flow.handle(Ws.marshallingOutboundGateway(webServiceTemplate()).uri(someSOAPUrl));\r\n        };\r\n      }\r\n    \r\n      @Bean\r\n      public WebServiceTemplate webServiceTemplate() throws Exception {\r\n        WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\r\n    \r\n        R123Marshaller marshaller = new R123Marshaller();\r\n        marshaller.setContextPath(&quot;com.example.request.soap123&quot;);\r\n        webServiceTemplate.setMarshaller(marshaller);\r\n    \r\n        Jaxb2Marshaller unmarshaller = new Jaxb2Marshaller();\r\n        unmarshaller.setContextPath(&quot;com.example.request.soap123&quot;);\r\n        webServiceTemplate.setUnmarshaller(unmarshaller);\r\n    \r\n        return webServiceTemplate;\r\n      }\r\n\r\n\r\nIs there a way I can do something like below - \r\n\r\n    .handle(Http.outboundGateway(someURL, restTemplateConfig.restTemplate())\r\n\r\nHere I have added timeout in the resttemplate that I&#39;ve passed.","title":"How to add timeout while calling SOAP Service from spring integration","body":"<p>While calling soap service from spring integration how to add timeout ? Below is the code where I'm calling a soap service using Ws.marshallingOutboundGateway().</p>\n<pre><code>@Bean\n  public IntegrationFlow flow() {\n    return flow -&gt;\n        flow.handle(Ws.marshallingOutboundGateway(webServiceTemplate()).uri(someSOAPUrl));\n    };\n  }\n\n  @Bean\n  public WebServiceTemplate webServiceTemplate() throws Exception {\n    WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\n\n    R123Marshaller marshaller = new R123Marshaller();\n    marshaller.setContextPath(&quot;com.example.request.soap123&quot;);\n    webServiceTemplate.setMarshaller(marshaller);\n\n    Jaxb2Marshaller unmarshaller = new Jaxb2Marshaller();\n    unmarshaller.setContextPath(&quot;com.example.request.soap123&quot;);\n    webServiceTemplate.setUnmarshaller(unmarshaller);\n\n    return webServiceTemplate;\n  }\n</code></pre>\n<p>Is there a way I can do something like below -</p>\n<pre><code>.handle(Http.outboundGateway(someURL, restTemplateConfig.restTemplate())\n</code></pre>\n<p>Here I have added timeout in the resttemplate that I've passed.</p>\n"},{"tags":["java","spring","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661190783,"creation_date":1661190783,"answer_id":73449179,"question_id":73447778,"body_markdown":"This is expected for `httpBasic()`, [see the `BasicAuthenticationFilter`][1].\r\n\r\nAfter the first request, you should have a `JSESSIONID` cookie, which will be used to authenticate further requests. This behavior avoids doing the basic authentication flow every time a request comes in. The only reason to reauthenticate is if the HTTP Basic `username` is different from the authenticated user&#39;s username.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/c7912c551b94a5f617cfa6b4d821926d28dc12ce/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationFilter.java#L201-L223","title":"Spring boot security passes bad credentials","body":"<p>This is expected for <code>httpBasic()</code>, <a href=\"https://github.com/spring-projects/spring-security/blob/c7912c551b94a5f617cfa6b4d821926d28dc12ce/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationFilter.java#L201-L223\" rel=\"nofollow noreferrer\">see the <code>BasicAuthenticationFilter</code></a>.</p>\n<p>After the first request, you should have a <code>JSESSIONID</code> cookie, which will be used to authenticate further requests. This behavior avoids doing the basic authentication flow every time a request comes in. The only reason to reauthenticate is if the HTTP Basic <code>username</code> is different from the authenticated user's username.</p>\n"}],"owner":{"account_id":21567224,"reputation":3,"user_id":15900767,"display_name":"Enzo Reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73449179,"answer_count":1,"score":0,"last_activity_date":1661190783,"creation_date":1661183103,"question_id":73447778,"body_markdown":"I created a very simple http basic security for a Springboot app, the app deploys and I put the user and password. The problem is that if I call again with a different password, the request still counts as correct, instead of rejecting it.But if I change the user, then the application rejects my request and waits for the correct username and password.\r\n\r\nmy code: \r\n\r\n``` java\r\n@Configuration\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe result with good credentials: [The json output is as expected][1]\r\n\r\nThe result with bad credentials: [The json output is still as if it was succesfull][2]\r\n\r\nThe result with different user: [The app behaves like expected][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oa3fE.png\r\n  [2]: https://i.stack.imgur.com/eZtIf.png\r\n  [3]: https://i.stack.imgur.com/xM7yR.png","title":"Spring boot security passes bad credentials","body":"<p>I created a very simple http basic security for a Springboot app, the app deploys and I put the user and password. The problem is that if I call again with a different password, the request still counts as correct, instead of rejecting it.But if I change the user, then the application rejects my request and waits for the correct username and password.</p>\n<p>my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n        return http.build();\n    }\n}\n</code></pre>\n<p>The result with good credentials: <a href=\"https://i.stack.imgur.com/oa3fE.png\" rel=\"nofollow noreferrer\">The json output is as expected</a></p>\n<p>The result with bad credentials: <a href=\"https://i.stack.imgur.com/eZtIf.png\" rel=\"nofollow noreferrer\">The json output is still as if it was succesfull</a></p>\n<p>The result with different user: <a href=\"https://i.stack.imgur.com/xM7yR.png\" rel=\"nofollow noreferrer\">The app behaves like expected</a></p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661190312,"creation_date":1660000638,"answer_id":73284977,"question_id":73284942,"body_markdown":"Instead of passing around arrays we more often than not use collections like ArrayList, this allows us some abstraction and allows us to add some common methods to it.  Note that ArrayList doesn&#39;t extend arrays, it simply implements a list interface.\r\n\r\nI recommend the same thing for you, instead of passing around an array, consider encapsulating the array in a class and pass that class around.  Use the class to do certain simplifications, for instance you might have a method allowing it to apply a function to each element of the matrix or one to resize the matrix.  \r\n\r\nYou might track your matrix&#39;s dimensions in different variables allowing you  to resize it without re-allocating the array (like an ArrayList does)\r\n\r\nAnother advantage of the encapsulation, if you wish to do something different like make a sparse matrix out of it, you could re-implement the underlying code without changing the ways it&#39;s used (Like the way ArrayList and LinkedList have the same interface but do things different ways for different use cases)\r\n\r\nYour other conditions seem to work for this Matrix object as well as it would arrays, for instance you would pass dimensions into the constructor to create it initially (Although, as I said, you could easily expand it later, especially if you used an ArrayList of ArrayLists for your underlying implementation, if you needed that)\r\n\r\nI think the reason it&#39;s not included in Java is that it is not very commonly used and quite easy to implement, but if you really don&#39;t want to do it yourself, apache has a Matrix implementaiton that looks like it will fit.\r\n\r\nWe use time series data like hourly tempatures a lot (Often down to 10 second resolution for a day) and so we built our own class that essentially represents a line on a graph with the y axis of &quot;Date&quot;, like a linked list but each value is timestamped. This structure is AMAZINGLY useful for us and I often wonder why it&#39;s not in Java, but I think I just answered my own question, not used enough.","title":"Process multi dimensional arrays in Java","body":"<p>Instead of passing around arrays we more often than not use collections like ArrayList, this allows us some abstraction and allows us to add some common methods to it.  Note that ArrayList doesn't extend arrays, it simply implements a list interface.</p>\n<p>I recommend the same thing for you, instead of passing around an array, consider encapsulating the array in a class and pass that class around.  Use the class to do certain simplifications, for instance you might have a method allowing it to apply a function to each element of the matrix or one to resize the matrix.</p>\n<p>You might track your matrix's dimensions in different variables allowing you  to resize it without re-allocating the array (like an ArrayList does)</p>\n<p>Another advantage of the encapsulation, if you wish to do something different like make a sparse matrix out of it, you could re-implement the underlying code without changing the ways it's used (Like the way ArrayList and LinkedList have the same interface but do things different ways for different use cases)</p>\n<p>Your other conditions seem to work for this Matrix object as well as it would arrays, for instance you would pass dimensions into the constructor to create it initially (Although, as I said, you could easily expand it later, especially if you used an ArrayList of ArrayLists for your underlying implementation, if you needed that)</p>\n<p>I think the reason it's not included in Java is that it is not very commonly used and quite easy to implement, but if you really don't want to do it yourself, apache has a Matrix implementaiton that looks like it will fit.</p>\n<p>We use time series data like hourly tempatures a lot (Often down to 10 second resolution for a day) and so we built our own class that essentially represents a line on a graph with the y axis of &quot;Date&quot;, like a linked list but each value is timestamped. This structure is AMAZINGLY useful for us and I often wonder why it's not in Java, but I think I just answered my own question, not used enough.</p>\n"},{"tags":[],"owner":{"account_id":25632622,"reputation":1,"user_id":19402750,"display_name":"user19402750"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660002013,"creation_date":1660002013,"answer_id":73285096,"question_id":73284942,"body_markdown":"This is a job for varargs:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        var matrix = new int[][]{{1,2}, {4, 6, 7}};\r\n        System.out.println(&quot;Length is: &quot; + getSize(matrix));\r\n    }\r\n\r\n    public static int getSize(int[]... multiArray) {\r\n        return multiArray.length;\r\n    }\r\n```\r\nwhich prints out:\r\n```\r\nLength is: 2\r\n```\r\n\r\nAlso, unless you have to use an array to hold your int arrays, I would use an ArrayList&lt;int[]&gt; instead. That way you can easily add to your list like:\r\n\r\n```\r\nArrayList&lt;int[]&gt; multiArray = new ArrayList&lt;&gt;();\r\n\r\nmultiArray.add(new int[]{1,2,3});\r\nmultiArray.add(new int[]{4,5,6});\r\n```\r\nand then you can get its size by simply calling:\r\n\r\n```\r\nmultiArray.size()\r\n```","title":"Process multi dimensional arrays in Java","body":"<p>This is a job for varargs:</p>\n<pre><code>    public static void main(String[] args) {\n        var matrix = new int[][]{{1,2}, {4, 6, 7}};\n        System.out.println(&quot;Length is: &quot; + getSize(matrix));\n    }\n\n    public static int getSize(int[]... multiArray) {\n        return multiArray.length;\n    }\n</code></pre>\n<p>which prints out:</p>\n<pre><code>Length is: 2\n</code></pre>\n<p>Also, unless you have to use an array to hold your int arrays, I would use an ArrayList&lt;int[]&gt; instead. That way you can easily add to your list like:</p>\n<pre><code>ArrayList&lt;int[]&gt; multiArray = new ArrayList&lt;&gt;();\n\nmultiArray.add(new int[]{1,2,3});\nmultiArray.add(new int[]{4,5,6});\n</code></pre>\n<p>and then you can get its size by simply calling:</p>\n<pre><code>multiArray.size()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660018972,"creation_date":1660018972,"answer_id":73286520,"question_id":73284942,"body_markdown":"Here&#39;s my attempt.  You use Object as the parameter and then check for the array dimension in the body of the method.  In this example, I only limit it to 3D array but you can go up to any dimension.  \r\n\r\n```\r\npublic class Main{\r\n   static void process(Object o){\r\n      if (o instanceof int[]){\r\n         int[] a = (int[]) o;\r\n         System.out.println(&quot;1D. length is &quot; + a.length);\r\n      } else if (o instanceof int[][]){\r\n         int[][] a = (int[][]) o;\r\n         System.out.println(&quot;2D. row=&quot; + a.length + &quot;, col=&quot; + a[0].length);\r\n      } else if (o instanceof int[][][]){\r\n         int[][][] a = (int[][][]) o;\r\n         System.out.println(&quot;3D. row=&quot; + a.length + &quot;, col=&quot; + a[0].length + &quot;, depth=&quot; + a[0][0].length);         \r\n      } else {\r\n         System.out.println(&quot;Unsupported array dimension.&quot;);\r\n      }\r\n   }\r\n   \r\n\tpublic static void main(String[] args) {\r\n\t   int[] a = {1,2,3};\r\n\t   int[][] b = {{1,2,3},{1,2,3}};\r\n\t   int[][][] c = {\r\n\t      { {1,2,3}, {1,2,3} },\r\n\t      { {1,2,3}, {1,2,3} }\r\n\t   };\r\n\t   process(a);\r\n\t   process(b);\r\n\t   process(c);\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\n1D. length is 3\r\n2D. row=2, col=3\r\n3D. row=2, col=2, depth=3\r\n```","title":"Process multi dimensional arrays in Java","body":"<p>Here's my attempt.  You use Object as the parameter and then check for the array dimension in the body of the method.  In this example, I only limit it to 3D array but you can go up to any dimension.</p>\n<pre><code>public class Main{\n   static void process(Object o){\n      if (o instanceof int[]){\n         int[] a = (int[]) o;\n         System.out.println(&quot;1D. length is &quot; + a.length);\n      } else if (o instanceof int[][]){\n         int[][] a = (int[][]) o;\n         System.out.println(&quot;2D. row=&quot; + a.length + &quot;, col=&quot; + a[0].length);\n      } else if (o instanceof int[][][]){\n         int[][][] a = (int[][][]) o;\n         System.out.println(&quot;3D. row=&quot; + a.length + &quot;, col=&quot; + a[0].length + &quot;, depth=&quot; + a[0][0].length);         \n      } else {\n         System.out.println(&quot;Unsupported array dimension.&quot;);\n      }\n   }\n   \n    public static void main(String[] args) {\n       int[] a = {1,2,3};\n       int[][] b = {{1,2,3},{1,2,3}};\n       int[][][] c = {\n          { {1,2,3}, {1,2,3} },\n          { {1,2,3}, {1,2,3} }\n       };\n       process(a);\n       process(b);\n       process(c);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1D. length is 3\n2D. row=2, col=3\n3D. row=2, col=2, depth=3\n</code></pre>\n"}],"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73284977,"answer_count":3,"score":0,"last_activity_date":1661190312,"creation_date":1660000216,"question_id":73284942,"body_markdown":"What is the best way to take in a multi dimensional array as a method parameter in the form of an object and then reconstruct it as a variable inside that method? The reason I want to pass the array in as an object is because I want my code to be able to use any n dimensional array. I could circumvent this by using method overloading but making hundreds of identical methods just to account for all possible array dimensions seems like a very bad way to do it. However, using an object as a parameter causes a new set of challenges since I have no way to initialize that array since you normally need to explicitly declare an arrays dimensions. Based on some of my research I have figured out a way to determine the dimensions of an array passed in as an object which you can view in the following code snippet.\r\n\r\n     public static void callTestArray() {\r\n        var matrix = new int[][]{{1,2}, {4, 6, 7}};\r\n        test(matrix);\r\n    }\r\n    \r\n    public static void test(Object obj) {\r\n        final int dimensions = dimensionOf(obj);\r\n        System.out.println(&quot;Dimensions:&quot; + dimensions);\r\n        \r\n        //I can&#39;t create a variable from this though since I need to hard code the dimensions of the array\r\n    }\r\n\r\n    /**\r\n     * This returns the amount of dimensions an array has.\r\n     */\r\n    public static int dimensionOf(Object arr) {\r\n        int dimensionCount = 0;\r\n        Class&lt;?&gt; c = arr.getClass(); // getting the runtime class of an object\r\n\r\n        while (c.isArray()) { // check whether the object is an array\r\n            c = c.getComponentType(); // returns the class denoting the component type of the array\r\n            dimensionCount++;\r\n        }\r\n        return dimensionCount;\r\n    }\r\n\r\n\r\n\r\nI have been looking around for a while now but I cant find an object that allows me to pass in any n dimensional array in that allows me to easily access all of an arrays typical information? Was this not included in Java or am I just missing it? That being said since 255 is the max amount of dimensions an array can have I could make my own utils class to handle this but it would require a ton of redundancies and effort to handle all cases. I just want to make sure it has not already been made before I waste hours making something like that. Also if anyone has a better way of doing it with any internal java libraries please let me know! ","title":"Process multi dimensional arrays in Java","body":"<p>What is the best way to take in a multi dimensional array as a method parameter in the form of an object and then reconstruct it as a variable inside that method? The reason I want to pass the array in as an object is because I want my code to be able to use any n dimensional array. I could circumvent this by using method overloading but making hundreds of identical methods just to account for all possible array dimensions seems like a very bad way to do it. However, using an object as a parameter causes a new set of challenges since I have no way to initialize that array since you normally need to explicitly declare an arrays dimensions. Based on some of my research I have figured out a way to determine the dimensions of an array passed in as an object which you can view in the following code snippet.</p>\n<pre><code> public static void callTestArray() {\n    var matrix = new int[][]{{1,2}, {4, 6, 7}};\n    test(matrix);\n}\n\npublic static void test(Object obj) {\n    final int dimensions = dimensionOf(obj);\n    System.out.println(&quot;Dimensions:&quot; + dimensions);\n    \n    //I can't create a variable from this though since I need to hard code the dimensions of the array\n}\n\n/**\n * This returns the amount of dimensions an array has.\n */\npublic static int dimensionOf(Object arr) {\n    int dimensionCount = 0;\n    Class&lt;?&gt; c = arr.getClass(); // getting the runtime class of an object\n\n    while (c.isArray()) { // check whether the object is an array\n        c = c.getComponentType(); // returns the class denoting the component type of the array\n        dimensionCount++;\n    }\n    return dimensionCount;\n}\n</code></pre>\n<p>I have been looking around for a while now but I cant find an object that allows me to pass in any n dimensional array in that allows me to easily access all of an arrays typical information? Was this not included in Java or am I just missing it? That being said since 255 is the max amount of dimensions an array can have I could make my own utils class to handle this but it would require a ton of redundancies and effort to handle all cases. I just want to make sure it has not already been made before I waste hours making something like that. Also if anyone has a better way of doing it with any internal java libraries please let me know!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661190094,"creation_date":1661190094,"answer_id":73449066,"question_id":73420435,"body_markdown":"I have found a solution. It works when using MethodHandleProxies.asInterfaceInstance.\r\n\r\nPerformance wise, I presume it&#39;s one order slower than the LambdaMetafactory, because it then pass via JDK Proxy.\r\n\r\nI still don&#39;t understand why it doesn&#39;t work with LambdaMetafactory, and what it changes when it&#39;s done via a proxy.\r\nDoes someone has any idea ? Feel free to post the explanation in another answer if you have it.\r\n\r\nThe code becomes as follows:\r\n\r\n    public static &lt;I&gt; I createLambda (Object obj, Executable method, Class&lt;I&gt; interfaceClass, Class&lt;?&gt; returnType, String name, Class&lt;?&gt;... mArgs) throws ReflectiveOperationException {\r\n      try {\r\n        method.setAccessible(true);\r\n        boolean isConstructor = method instanceof Constructor, isStatic = isConstructor || Modifier.isStatic(method.getModifiers()), isBound = obj!=null&amp;&amp;!isStatic;\r\n        var cls = method.getDeclaringClass();\r\n        var targetClassLoader = cls.getClassLoader();\r\n        var pt = method.getParameterTypes();\r\n        var rt = isConstructor? cls : ((Method)method) .getReturnType();\r\n        var lookup = MethodHandles.lookup();\r\n        if (Modifier.isPrivate(method.getModifiers()) || Modifier.isProtected(method.getModifiers())) lookup = MethodHandles.privateLookupIn(cls, lookup);\r\n        var mh = isConstructor? lookup.unreflectConstructor((Constructor)method) : lookup.unreflect((Method)method);\r\n        if (targetClassLoader!=null &amp;&amp; targetClassLoader!=TestLambda.class.getClassLoader()) {\r\n          return (I) MethodHandleProxies.asInterfaceInstance(interfaceClass, mh);\r\n        }\r\n        else {\r\n          var  interfaceMT = isBound? MethodType.methodType(interfaceClass, cls) : MethodType.methodType(interfaceClass);\r\n          var implementationMT = MethodType.methodType(returnType, mArgs);\r\n          var calledMT = isStatic || isBound? MethodType.methodType(rt, pt) : MethodType.methodType(rt, cls, pt);\r\n                  var callSite = LambdaMetafactory.metafactory(lookup, name, interfaceMT, implementationMT, mh, calledMT);\r\n                  return (I) (isBound?\r\n                    callSite.getTarget() .invoke(obj) :\r\n            callSite.getTarget() .invoke() );\r\n          }\r\n      } catch (Throwable t) { \r\n        throw t instanceof ReflectiveOperationException r? r : new ReflectiveOperationException(t);\r\n      }\r\n    }\r\n\r\n","title":"MethodHandle.Lookup for classes loaded outside of default ClassLoader","body":"<p>I have found a solution. It works when using MethodHandleProxies.asInterfaceInstance.</p>\n<p>Performance wise, I presume it's one order slower than the LambdaMetafactory, because it then pass via JDK Proxy.</p>\n<p>I still don't understand why it doesn't work with LambdaMetafactory, and what it changes when it's done via a proxy.\nDoes someone has any idea ? Feel free to post the explanation in another answer if you have it.</p>\n<p>The code becomes as follows:</p>\n<pre><code>public static &lt;I&gt; I createLambda (Object obj, Executable method, Class&lt;I&gt; interfaceClass, Class&lt;?&gt; returnType, String name, Class&lt;?&gt;... mArgs) throws ReflectiveOperationException {\n  try {\n    method.setAccessible(true);\n    boolean isConstructor = method instanceof Constructor, isStatic = isConstructor || Modifier.isStatic(method.getModifiers()), isBound = obj!=null&amp;&amp;!isStatic;\n    var cls = method.getDeclaringClass();\n    var targetClassLoader = cls.getClassLoader();\n    var pt = method.getParameterTypes();\n    var rt = isConstructor? cls : ((Method)method) .getReturnType();\n    var lookup = MethodHandles.lookup();\n    if (Modifier.isPrivate(method.getModifiers()) || Modifier.isProtected(method.getModifiers())) lookup = MethodHandles.privateLookupIn(cls, lookup);\n    var mh = isConstructor? lookup.unreflectConstructor((Constructor)method) : lookup.unreflect((Method)method);\n    if (targetClassLoader!=null &amp;&amp; targetClassLoader!=TestLambda.class.getClassLoader()) {\n      return (I) MethodHandleProxies.asInterfaceInstance(interfaceClass, mh);\n    }\n    else {\n      var  interfaceMT = isBound? MethodType.methodType(interfaceClass, cls) : MethodType.methodType(interfaceClass);\n      var implementationMT = MethodType.methodType(returnType, mArgs);\n      var calledMT = isStatic || isBound? MethodType.methodType(rt, pt) : MethodType.methodType(rt, cls, pt);\n              var callSite = LambdaMetafactory.metafactory(lookup, name, interfaceMT, implementationMT, mh, calledMT);\n              return (I) (isBound?\n                callSite.getTarget() .invoke(obj) :\n        callSite.getTarget() .invoke() );\n      }\n  } catch (Throwable t) { \n    throw t instanceof ReflectiveOperationException r? r : new ReflectiveOperationException(t);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661190094,"creation_date":1660930808,"question_id":73420435,"body_markdown":"I&#39;m using the stuff of java.lang.invoke to create lambdas out of methods obtained by reflection.\r\nWhen the method is called frequently, it improves performances.\r\n\r\nIt works quite well, until I discovered that it no longer works when the method comes from a class loaded by a ClassLoader different than the default one.\r\n\r\nWhat have I missed ?\r\nWhat do I need to change in order to make it work ?\r\n\r\nIN case there is an importance, I&#39;m on Java 17.\r\n\r\nFirst of all, the class I&#39;m going to load externally:\r\n\r\n    public class TestFunc {\r\n      public static String testFunc (String str) {\r\n        return str.toUpperCase();\r\n      }\r\n    }\r\n\r\nThen, the main example code:\r\n\r\n\r\n    import java.lang.reflect.*;\r\n    import java.lang.invoke.*;\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class TestLambda {\r\n    \r\n      public static &lt;I&gt; I createLambda (Object obj, Executable method, Class&lt;I&gt; interfaceClass, Class&lt;?&gt; returnType, String name, Class&lt;?&gt;... mArgs) throws ReflectiveOperationException {\r\n        try {\r\n          method.setAccessible(true);\r\n          boolean isConstructor = method instanceof Constructor, isStatic = isConstructor || Modifier.isStatic(method.getModifiers()), isBound = obj!=null&amp;&amp;!isStatic;\r\n          var cls = method.getDeclaringClass();\r\n          var pt = method.getParameterTypes();\r\n          var rt = isConstructor? cls : ((Method)method) .getReturnType();\r\n          var lookup = MethodHandles.lookup();\r\n          if (Modifier.isPrivate(method.getModifiers()) || Modifier.isProtected(method.getModifiers())) lookup = MethodHandles.privateLookupIn(cls, lookup);\r\n          var mh = isConstructor? lookup.unreflectConstructor((Constructor)method) : lookup.unreflect((Method)method);\r\n          var  interfaceMT = isBound? MethodType.methodType(interfaceClass, cls) : MethodType.methodType(interfaceClass);\r\n          var implementationMT = MethodType.methodType(returnType, mArgs);\r\n          var calledMT = isStatic || isBound? MethodType.methodType(rt, pt) : MethodType.methodType(rt, cls, pt);\r\n          var callSite = LambdaMetafactory.metafactory(lookup, name, interfaceMT, implementationMT, mh, calledMT);\r\n          return (I) (isBound?\r\n            callSite.getTarget() .invoke(obj) :\r\n            callSite.getTarget() .invoke() );\r\n        } catch (Throwable t) { \r\n          throw new ReflectiveOperationException(t);\r\n        }\r\n      }\r\n      \r\n      public static &lt;T,R&gt; Function&lt;T,R&gt; createFunction (Object obj, Executable method, Class&lt;T&gt; argType, Class&lt;R&gt; returnType) throws ReflectiveOperationException {\r\n        return (Function&lt;T,R&gt;) createLambda(obj, method, Function.class, Object.class, &quot;apply&quot;, Object.class);\r\n      }\r\n      \r\n      public static void main (String[] args) throws Throwable {\r\n        // Example usage with a trivial case where it works well\r\n        Method toUpperCaseMethod = String.class.getMethod(&quot;toUpperCase&quot;);\r\n        Function&lt;String, String&gt; toUpperCaseFunction = createFunction(null, toUpperCaseMethod, String.class, String.class);\r\n        System.out.println(toUpperCaseFunction.apply(&quot;Hello, world!&quot;));\r\n        \r\n        // Example 2 to show that calling the external method via standars reflection API works as well\r\n        ClassLoader classLoader = new URLClassLoader( new URL[]{ new File(&quot;test.jar&quot;).toURL() }, TestLambda.class.getClassLoader());\r\n        Class theClass = classLoader.loadClass(&quot;TestFunc&quot;);\r\n        Method method = theClass.getMethod(&quot;testFunc&quot;, String.class);\r\n        System.out.println(method.invoke(null, &quot;This is working&quot;));\r\n        \r\n        // Example 3 where it doesn&#39;t work\r\n        Function&lt;String,String&gt; func = createFunction(null, method, String.class, String.class);\r\n        System.out.println(func.apply(&quot;This doesn&#39;t work&quot;));\r\n      }\r\n\r\n    }\r\n\r\n\r\nResult :\r\n\r\n    HELLO, WORLD!\r\n    THIS IS WORKING\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: TestFunc\r\n    \tat TestLambda.main(TestLambda.java:51)\r\n    Caused by: java.lang.ClassNotFoundException: TestFunc\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat jdk.compiler/com.sun.tools.javac.launcher.Main$MemoryClassLoader.loadClass(Main.java:600)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat TestLambda.main(TestLambda.java:51)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\r\n    \tat jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n    \tat jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n\r\n","title":"MethodHandle.Lookup for classes loaded outside of default ClassLoader","body":"<p>I'm using the stuff of java.lang.invoke to create lambdas out of methods obtained by reflection.\nWhen the method is called frequently, it improves performances.</p>\n<p>It works quite well, until I discovered that it no longer works when the method comes from a class loaded by a ClassLoader different than the default one.</p>\n<p>What have I missed ?\nWhat do I need to change in order to make it work ?</p>\n<p>IN case there is an importance, I'm on Java 17.</p>\n<p>First of all, the class I'm going to load externally:</p>\n<pre><code>public class TestFunc {\n  public static String testFunc (String str) {\n    return str.toUpperCase();\n  }\n}\n</code></pre>\n<p>Then, the main example code:</p>\n<pre><code>import java.lang.reflect.*;\nimport java.lang.invoke.*;\nimport java.util.*;\nimport java.util.function.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class TestLambda {\n\n  public static &lt;I&gt; I createLambda (Object obj, Executable method, Class&lt;I&gt; interfaceClass, Class&lt;?&gt; returnType, String name, Class&lt;?&gt;... mArgs) throws ReflectiveOperationException {\n    try {\n      method.setAccessible(true);\n      boolean isConstructor = method instanceof Constructor, isStatic = isConstructor || Modifier.isStatic(method.getModifiers()), isBound = obj!=null&amp;&amp;!isStatic;\n      var cls = method.getDeclaringClass();\n      var pt = method.getParameterTypes();\n      var rt = isConstructor? cls : ((Method)method) .getReturnType();\n      var lookup = MethodHandles.lookup();\n      if (Modifier.isPrivate(method.getModifiers()) || Modifier.isProtected(method.getModifiers())) lookup = MethodHandles.privateLookupIn(cls, lookup);\n      var mh = isConstructor? lookup.unreflectConstructor((Constructor)method) : lookup.unreflect((Method)method);\n      var  interfaceMT = isBound? MethodType.methodType(interfaceClass, cls) : MethodType.methodType(interfaceClass);\n      var implementationMT = MethodType.methodType(returnType, mArgs);\n      var calledMT = isStatic || isBound? MethodType.methodType(rt, pt) : MethodType.methodType(rt, cls, pt);\n      var callSite = LambdaMetafactory.metafactory(lookup, name, interfaceMT, implementationMT, mh, calledMT);\n      return (I) (isBound?\n        callSite.getTarget() .invoke(obj) :\n        callSite.getTarget() .invoke() );\n    } catch (Throwable t) { \n      throw new ReflectiveOperationException(t);\n    }\n  }\n  \n  public static &lt;T,R&gt; Function&lt;T,R&gt; createFunction (Object obj, Executable method, Class&lt;T&gt; argType, Class&lt;R&gt; returnType) throws ReflectiveOperationException {\n    return (Function&lt;T,R&gt;) createLambda(obj, method, Function.class, Object.class, &quot;apply&quot;, Object.class);\n  }\n  \n  public static void main (String[] args) throws Throwable {\n    // Example usage with a trivial case where it works well\n    Method toUpperCaseMethod = String.class.getMethod(&quot;toUpperCase&quot;);\n    Function&lt;String, String&gt; toUpperCaseFunction = createFunction(null, toUpperCaseMethod, String.class, String.class);\n    System.out.println(toUpperCaseFunction.apply(&quot;Hello, world!&quot;));\n    \n    // Example 2 to show that calling the external method via standars reflection API works as well\n    ClassLoader classLoader = new URLClassLoader( new URL[]{ new File(&quot;test.jar&quot;).toURL() }, TestLambda.class.getClassLoader());\n    Class theClass = classLoader.loadClass(&quot;TestFunc&quot;);\n    Method method = theClass.getMethod(&quot;testFunc&quot;, String.class);\n    System.out.println(method.invoke(null, &quot;This is working&quot;));\n    \n    // Example 3 where it doesn't work\n    Function&lt;String,String&gt; func = createFunction(null, method, String.class, String.class);\n    System.out.println(func.apply(&quot;This doesn't work&quot;));\n  }\n\n}\n</code></pre>\n<p>Result :</p>\n<pre><code>HELLO, WORLD!\nTHIS IS WORKING\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: TestFunc\n    at TestLambda.main(TestLambda.java:51)\nCaused by: java.lang.ClassNotFoundException: TestFunc\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main$MemoryClassLoader.loadClass(Main.java:600)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at TestLambda.main(TestLambda.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1661092074,"post_id":73435168,"comment_id":129684290,"body_markdown":"You can use Keycloak custom event listeners. Check [this](https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/providers.html#providers). So you can react to user events like user created or deleted. And this listener would call your app to for example delete user from your db. One problem with that is that your listener jar has to be deployed together with keycloak which might cause some inconveniences (for example managing your app urls in this listener, deploying new versions of listener to keycloak).","body":"You can use Keycloak custom event listeners. Check <a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/providers.html#providers\" rel=\"nofollow noreferrer\">this</a>. So you can react to user events like user created or deleted. And this listener would call your app to for example delete user from your db. One problem with that is that your listener jar has to be deployed together with keycloak which might cause some inconveniences (for example managing your app urls in this listener, deploying new versions of listener to keycloak)."},{"owner":{"account_id":26121845,"reputation":1,"user_id":19814006,"display_name":"Hiroshking"},"score":0,"creation_date":1661093050,"post_id":73435168,"comment_id":129684515,"body_markdown":"Yeah, this would help for sure but considering what you mentioned something like this would be a problem cause my colleague who&#39;s responsible for deployment doesn&#39;t have experience with keycloak and it&#39;s gonna be painful for him. \nDo you consider using keycloak a good choice in my case or it&#39;s just complicating it?","body":"Yeah, this would help for sure but considering what you mentioned something like this would be a problem cause my colleague who&#39;s responsible for deployment doesn&#39;t have experience with keycloak and it&#39;s gonna be painful for him.  Do you consider using keycloak a good choice in my case or it&#39;s just complicating it?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1661131242,"post_id":73435168,"comment_id":129691362,"body_markdown":"You might have to keep users in DB after they are removed from Keycloak, for instance to keep mandatory accounting records for a few years. Other thing, If you don&#39;t use JWTs in spring security, you should. [It is easy](https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials) and will save a lot of requests to authorization-server. Last, if the reason why you connect spring to user database is to get security data missing from the token, you should look at [keycloak mappers](https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper) to enrich it.","body":"You might have to keep users in DB after they are removed from Keycloak, for instance to keep mandatory accounting records for a few years. Other thing, If you don&#39;t use JWTs in spring security, you should. <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">It is easy</a> and will save a lot of requests to authorization-server. Last, if the reason why you connect spring to user database is to get security data missing from the token, you should look at <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper\" rel=\"nofollow noreferrer\">keycloak mappers</a> to enrich it."},{"owner":{"account_id":26121845,"reputation":1,"user_id":19814006,"display_name":"Hiroshking"},"score":0,"creation_date":1661167012,"post_id":73435168,"comment_id":129699307,"body_markdown":"Actually, I&#39;m making a soft delete (i got a boolean that I make it false instead of real delete ) the problem is if I got a dashboard to display the customers those customers will still be present, if I make a call to keycloak server to get users than send it to the front with a big number of users it&#39;s going to be slow.","body":"Actually, I&#39;m making a soft delete (i got a boolean that I make it false instead of real delete ) the problem is if I got a dashboard to display the customers those customers will still be present, if I make a call to keycloak server to get users than send it to the front with a big number of users it&#39;s going to be slow."},{"owner":{"account_id":1504390,"reputation":1024,"user_id":1408148,"display_name":"Kostia Shiian"},"score":0,"creation_date":1661198397,"post_id":73435168,"comment_id":129710632,"body_markdown":"As an option, you can add the OpenID Connect layer on top of your existing application and make it an external IdP to the Keycloak. Then add a new identity provider in Keycloak and configure trust between Keycloak and IdP. Every time the user needs to be authenticated they will be redirected to your IdP and after successful auth, they will get back the jwt token signed by the Keycloak. Maybe this scenario will be good for you.","body":"As an option, you can add the OpenID Connect layer on top of your existing application and make it an external IdP to the Keycloak. Then add a new identity provider in Keycloak and configure trust between Keycloak and IdP. Every time the user needs to be authenticated they will be redirected to your IdP and after successful auth, they will get back the jwt token signed by the Keycloak. Maybe this scenario will be good for you."},{"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"score":0,"creation_date":1662029269,"post_id":73435168,"comment_id":129914029,"body_markdown":"You can deactivate the user from the keycloak server which is equivalent to soft delete and then hit the keycloak endpoint where you can only fetch the active users.","body":"You can deactivate the user from the keycloak server which is equivalent to soft delete and then hit the keycloak endpoint where you can only fetch the active users."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661189389,"creation_date":1661188836,"answer_id":73448848,"question_id":73435168,"body_markdown":"Have you considered to configure Keycloak with a custom provider (external user database)?\r\n\r\nSomething like that: https://www.baeldung.com/java-keycloak-custom-user-providers.\r\n\r\nThis way, your spring services keep complete control over users database.","title":"Using keycloak in a spring boot project","body":"<p>Have you considered to configure Keycloak with a custom provider (external user database)?</p>\n<p>Something like that: <a href=\"https://www.baeldung.com/java-keycloak-custom-user-providers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-keycloak-custom-user-providers</a>.</p>\n<p>This way, your spring services keep complete control over users database.</p>\n"}],"owner":{"account_id":26121845,"reputation":1,"user_id":19814006,"display_name":"Hiroshking"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661189389,"creation_date":1661090465,"question_id":73435168,"body_markdown":"in a project for my internship I have a spring boot application that manages some products, orders, and users. \r\n\r\nI chose to use keycloak for authentication and authorization I achieved a good part of the job but now I&#39;m facing a problem that makes the whole usage of keycloak in such a project a question. \r\n\r\nSo briefly the user authenticates in keycloak and I got the token in spring I extract the Infos and if the user is not in my database (the one related to spring which is different from keycloak database ) I create a new one but now when I&#39;m thinking if a user is deleted from keycloak it will remain in my application database and even the update of users is gonna be difficult. \r\n\r\nSo my question is should I continue searching for a solution (calling keycloak endpoint from spring is one of them but still thinking about it ) or just go for a JWT implementation .\r\n\r\nI chose keycloak cause it&#39;s a tested solution and got many features that are easy to use if I needed them in the future but now I got these problems with it. \r\nTHANKS for the help !!","title":"Using keycloak in a spring boot project","body":"<p>in a project for my internship I have a spring boot application that manages some products, orders, and users.</p>\n<p>I chose to use keycloak for authentication and authorization I achieved a good part of the job but now I'm facing a problem that makes the whole usage of keycloak in such a project a question.</p>\n<p>So briefly the user authenticates in keycloak and I got the token in spring I extract the Infos and if the user is not in my database (the one related to spring which is different from keycloak database ) I create a new one but now when I'm thinking if a user is deleted from keycloak it will remain in my application database and even the update of users is gonna be difficult.</p>\n<p>So my question is should I continue searching for a solution (calling keycloak endpoint from spring is one of them but still thinking about it ) or just go for a JWT implementation .</p>\n<p>I chose keycloak cause it's a tested solution and got many features that are easy to use if I needed them in the future but now I got these problems with it.\nTHANKS for the help !!</p>\n"},{"tags":["java","json","stream","find","response"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661189359,"creation_date":1661189359,"answer_id":73448932,"question_id":73448783,"body_markdown":"Probably you&#39;re looking for something like:\r\n```\r\nreturn okr.getKeyResults().stream()\r\n        .flatMap(keyResult -&gt; keyResult.getMonthKeyResults().stream())\r\n        .filter(monthKeyResult -&gt; monthKeyResult.getId().equals(monthlyProgressId))\r\n        .findAny()\r\n        .orElse(null);\r\n```\r\n\r\nEdit: fixed typo.","title":"How to get a child object in response with java streams","body":"<p>Probably you're looking for something like:</p>\n<pre><code>return okr.getKeyResults().stream()\n        .flatMap(keyResult -&gt; keyResult.getMonthKeyResults().stream())\n        .filter(monthKeyResult -&gt; monthKeyResult.getId().equals(monthlyProgressId))\n        .findAny()\n        .orElse(null);\n</code></pre>\n<p>Edit: fixed typo.</p>\n"}],"owner":{"account_id":10819729,"reputation":7,"user_id":7957587,"display_name":"pexze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73448932,"answer_count":1,"score":0,"last_activity_date":1661189359,"creation_date":1661188481,"question_id":73448783,"body_markdown":"Alrighty I&#39;ve been banging my head in a wall whole day and cant solve this issue. I am trying to find an id in a object list which is like 3 levels down the hierarchy with java stream. I know how to do it with for loop but I need to get it with stream.\r\njson response is \r\n\r\n&lt;!-- begin snippet: js hide: true console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &quot;NumberOfOwners&quot;: 1,\r\n        &quot;CurrentPage&quot;: 1,\r\n        &quot;TotalItems&quot;: 1,\r\n        &quot;TotalPages&quot;: 1,\r\n        &quot;PageSize&quot;: 1,\r\n        &quot;PageItems&quot;: [\r\n            {\r\n                &quot;Id&quot;: 1560,\r\n                &quot;Title&quot;: &quot;PlsWrk&quot;,\r\n                &quot;IsSubmitted&quot;: true,\r\n                &quot;Owner&quot;: {\r\n                    &quot;Branch&quot;: null,\r\n                    &quot;Position&quot;: null,\r\n                    &quot;Id&quot;: null,\r\n                    &quot;FirstName&quot;: null,\r\n                    &quot;LastName&quot;: null,\r\n                    &quot;ParentName&quot;: null,\r\n                    &quot;Gender&quot;: null,\r\n                    &quot;Image&quot;: null,\r\n                    &quot;LoginStatusId&quot;: 0,\r\n                    &quot;EmployeeStatus&quot;: 0,\r\n                    &quot;CompanyName&quot;: null,\r\n                    &quot;IsSubcontractor&quot;: false\r\n                },\r\n                &quot;KeyResults&quot;: [\r\n                    {\r\n                        &quot;Id&quot;: 5032,\r\n                        &quot;Title&quot;: &quot;asdf1&quot;,\r\n                        &quot;OverallStatus&quot;: 2,\r\n                        &quot;MonthKeyResults&quot;: [\r\n                            {\r\n                                &quot;Id&quot;: 12484,\r\n                                &quot;Month&quot;: 9,\r\n                                &quot;Status&quot;: 3,\r\n                                &quot;Progress&quot;: &quot;REaplace1&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12483,\r\n                                &quot;Month&quot;: 8,\r\n                                &quot;Status&quot;: 3,\r\n                                &quot;Progress&quot;: &quot;sadf4&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12482,\r\n                                &quot;Month&quot;: 7,\r\n                                &quot;Status&quot;: 1,\r\n                                &quot;Progress&quot;: &quot;On Track1&quot;\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        &quot;Id&quot;: 5033,\r\n                        &quot;Title&quot;: &quot;asdf2&quot;,\r\n                        &quot;OverallStatus&quot;: 1,\r\n                        &quot;MonthKeyResults&quot;: [\r\n                            {\r\n                                &quot;Id&quot;: 12485,\r\n                                &quot;Month&quot;: 7,\r\n                                &quot;Status&quot;: 2,\r\n                                &quot;Progress&quot;: &quot;Recovery2&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12487,\r\n                                &quot;Month&quot;: 9,\r\n                                &quot;Status&quot;: 2,\r\n                                &quot;Progress&quot;: &quot;asdfreas&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12486,\r\n                                &quot;Month&quot;: 8,\r\n                                &quot;Status&quot;: 1,\r\n                                &quot;Progress&quot;: &quot;asdf5&quot;\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        &quot;Id&quot;: 5034,\r\n                        &quot;Title&quot;: &quot;asdf3&quot;,\r\n                        &quot;OverallStatus&quot;: 2,\r\n                        &quot;MonthKeyResults&quot;: [\r\n                            {\r\n                                &quot;Id&quot;: 12490,\r\n                                &quot;Month&quot;: 9,\r\n                                &quot;Status&quot;: 1,\r\n                                &quot;Progress&quot;: &quot;asdafa&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12489,\r\n                                &quot;Month&quot;: 8,\r\n                                &quot;Status&quot;: 2,\r\n                                &quot;Progress&quot;: &quot;asdf6&quot;\r\n                            },\r\n                            {\r\n                                &quot;Id&quot;: 12488,\r\n                                &quot;Month&quot;: 7,\r\n                                &quot;Status&quot;: 3,\r\n                                &quot;Progress&quot;: &quot;Replace3&quot;\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPrecisely I want stream to return MonthyKeyResult object with a specific id\r\nAtm I am here \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public static MonthKeyResults getOkrMonthlyProgressById(PageItems okr, Integer monthlyProgressId){\r\n\r\n            //here i get KeyResults object list\r\n            List&lt;KeyResults&gt; keyResult = okr.getKeyResults().stream().collect(Collectors.toList());\r\n                \r\n                //and now I am trying to get all MonthKeyResults \r\n                //objects but I not doing it right\r\n                List&lt;MonthKeyResults&gt; monthKeyResults = keyResult.stream().\r\n                           filter(monthKeyResult -&gt; monthKeyResult.\r\n                                      getMonthKeyResults().\r\n                                      stream().collect(Collectors.toList()));\r\n                \r\n                //and then I am thinking of going trough the monthKeyResults \r\n                //list with stream and finding Id I need and returning that \r\n                //whole object with something like this\r\n        MonthKeyResults mKeyResults = monthKeyResults.stream().filter(id -&gt; id.getId().\r\n                        equals(monthlyProgressId)).findAny().orElse(null);\r\n        return mKeyResult\r\n}\r\n\r\n&lt;!-- end snippet --&gt;\r\nI got one more question\r\nI&#39;ve separated getting the final object as you see in 3 streams, is it possible to get it in one go or you need to separate this objects like this and go trough them separately?\r\n","title":"How to get a child object in response with java streams","body":"<p>Alrighty I've been banging my head in a wall whole day and cant solve this issue. I am trying to find an id in a object list which is like 3 levels down the hierarchy with java stream. I know how to do it with for loop but I need to get it with stream.\njson response is</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\"NumberOfOwners\": 1,\n    \"CurrentPage\": 1,\n    \"TotalItems\": 1,\n    \"TotalPages\": 1,\n    \"PageSize\": 1,\n    \"PageItems\": [\n        {\n            \"Id\": 1560,\n            \"Title\": \"PlsWrk\",\n            \"IsSubmitted\": true,\n            \"Owner\": {\n                \"Branch\": null,\n                \"Position\": null,\n                \"Id\": null,\n                \"FirstName\": null,\n                \"LastName\": null,\n                \"ParentName\": null,\n                \"Gender\": null,\n                \"Image\": null,\n                \"LoginStatusId\": 0,\n                \"EmployeeStatus\": 0,\n                \"CompanyName\": null,\n                \"IsSubcontractor\": false\n            },\n            \"KeyResults\": [\n                {\n                    \"Id\": 5032,\n                    \"Title\": \"asdf1\",\n                    \"OverallStatus\": 2,\n                    \"MonthKeyResults\": [\n                        {\n                            \"Id\": 12484,\n                            \"Month\": 9,\n                            \"Status\": 3,\n                            \"Progress\": \"REaplace1\"\n                        },\n                        {\n                            \"Id\": 12483,\n                            \"Month\": 8,\n                            \"Status\": 3,\n                            \"Progress\": \"sadf4\"\n                        },\n                        {\n                            \"Id\": 12482,\n                            \"Month\": 7,\n                            \"Status\": 1,\n                            \"Progress\": \"On Track1\"\n                        }\n                    ]\n                },\n                {\n                    \"Id\": 5033,\n                    \"Title\": \"asdf2\",\n                    \"OverallStatus\": 1,\n                    \"MonthKeyResults\": [\n                        {\n                            \"Id\": 12485,\n                            \"Month\": 7,\n                            \"Status\": 2,\n                            \"Progress\": \"Recovery2\"\n                        },\n                        {\n                            \"Id\": 12487,\n                            \"Month\": 9,\n                            \"Status\": 2,\n                            \"Progress\": \"asdfreas\"\n                        },\n                        {\n                            \"Id\": 12486,\n                            \"Month\": 8,\n                            \"Status\": 1,\n                            \"Progress\": \"asdf5\"\n                        }\n                    ]\n                },\n                {\n                    \"Id\": 5034,\n                    \"Title\": \"asdf3\",\n                    \"OverallStatus\": 2,\n                    \"MonthKeyResults\": [\n                        {\n                            \"Id\": 12490,\n                            \"Month\": 9,\n                            \"Status\": 1,\n                            \"Progress\": \"asdafa\"\n                        },\n                        {\n                            \"Id\": 12489,\n                            \"Month\": 8,\n                            \"Status\": 2,\n                            \"Progress\": \"asdf6\"\n                        },\n                        {\n                            \"Id\": 12488,\n                            \"Month\": 7,\n                            \"Status\": 3,\n                            \"Progress\": \"Replace3\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Precisely I want stream to return MonthyKeyResult object with a specific id\nAtm I am here</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public static MonthKeyResults getOkrMonthlyProgressById(PageItems okr, Integer monthlyProgressId){\n\n        //here i get KeyResults object list\n        List&lt;KeyResults&gt; keyResult = okr.getKeyResults().stream().collect(Collectors.toList());\n            \n            //and now I am trying to get all MonthKeyResults \n            //objects but I not doing it right\n            List&lt;MonthKeyResults&gt; monthKeyResults = keyResult.stream().\n                       filter(monthKeyResult -&gt; monthKeyResult.\n                                  getMonthKeyResults().\n                                  stream().collect(Collectors.toList()));\n            \n            //and then I am thinking of going trough the monthKeyResults \n            //list with stream and finding Id I need and returning that \n            //whole object with something like this\n    MonthKeyResults mKeyResults = monthKeyResults.stream().filter(id -&gt; id.getId().\n                    equals(monthlyProgressId)).findAny().orElse(null);\n    return mKeyResult\n}</code></pre>\r\n</div>\r\n</div>\r\n\nI got one more question\nI've separated getting the final object as you see in 3 streams, is it possible to get it in one go or you need to separate this objects like this and go trough them separately?</p>\n"},{"tags":["java","protocol-buffers","tensorflow2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661190354,"post_id":73448774,"comment_id":129708116,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26131813,"reputation":21,"user_id":19822428,"display_name":"PatBBound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661188430,"creation_date":1661188430,"question_id":73448774,"body_markdown":"I have been able to successfully build a transformer network in Tensorflow (v 2.6), produce a  protocol buffer (.pb) in python for that model, and then read that back into **python** for execution.\r\n\r\nBut when I try to read the .pb into **Java 8**, I get the statement &quot;While parsing a protocol message, the input ended unexpectedly in the middle of the field.&quot;\r\n\r\nNot quite sure what this could mean. Are there any examples of non-Keras TF 2.x models being loaded into Java that I could study?\r\n\r\nFor reference, I am essentially trying to load a .pb such as that being built on the Tensorflow transformer tutorial at https://www.tensorflow.org/text/tutorials/transformer.\r\n\r\nThanks for any thoughts on this!","title":"Loading Tensorflow 2.6 protocol buffers into Java 8","body":"<p>I have been able to successfully build a transformer network in Tensorflow (v 2.6), produce a  protocol buffer (.pb) in python for that model, and then read that back into <strong>python</strong> for execution.</p>\n<p>But when I try to read the .pb into <strong>Java 8</strong>, I get the statement &quot;While parsing a protocol message, the input ended unexpectedly in the middle of the field.&quot;</p>\n<p>Not quite sure what this could mean. Are there any examples of non-Keras TF 2.x models being loaded into Java that I could study?</p>\n<p>For reference, I am essentially trying to load a .pb such as that being built on the Tensorflow transformer tutorial at <a href=\"https://www.tensorflow.org/text/tutorials/transformer\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/text/tutorials/transformer</a>.</p>\n<p>Thanks for any thoughts on this!</p>\n"},{"tags":["java","postgresql","jar","keycloak"],"comments":[{"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"score":0,"creation_date":1661186733,"post_id":73447296,"comment_id":129706914,"body_markdown":"Which database do you use with Keycloak? Is this also a postgres?","body":"Which database do you use with Keycloak? Is this also a postgres?"},{"owner":{"account_id":1504390,"reputation":1024,"user_id":1408148,"display_name":"Kostia Shiian"},"score":0,"creation_date":1661197524,"post_id":73447296,"comment_id":129710341,"body_markdown":"I suggest that you are required to provide PostgreSQL dependency to your custom SPI jar file","body":"I suggest that you are required to provide PostgreSQL dependency to your custom SPI jar file"}],"answers":[{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661182251,"creation_date":1661182251,"answer_id":73447599,"question_id":73447296,"body_markdown":"Try to add `Class.forName(&quot;org.postgresql.Driver&quot;);` before `conn = DriverManager.getConnection(url, username, password);` and see if it solves your problem (see [this][1]).\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/81/load.html","title":"UserStorage SPI in Keycloak with PostgreSQL driver","body":"<p>Try to add <code>Class.forName(&quot;org.postgresql.Driver&quot;);</code> before <code>conn = DriverManager.getConnection(url, username, password);</code> and see if it solves your problem (see <a href=\"https://jdbc.postgresql.org/documentation/81/load.html\" rel=\"nofollow noreferrer\">this</a>).</p>\n"},{"tags":[],"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661188355,"creation_date":1661188355,"answer_id":73448763,"question_id":73447296,"body_markdown":"If you are also using postgres as your main Keycloak database, simply change the build command to:\r\n\r\n```Dockerfile\r\nRUN /opt/keycloak/bin/kc.sh build --db postgres\r\n```\r\n\r\nIf you are using another databse, you need to add the JDBC driver manually. Simply copy the driver JAR to `/opt/keycloak/providers`.","title":"UserStorage SPI in Keycloak with PostgreSQL driver","body":"<p>If you are also using postgres as your main Keycloak database, simply change the build command to:</p>\n<pre><code>RUN /opt/keycloak/bin/kc.sh build --db postgres\n</code></pre>\n<p>If you are using another databse, you need to add the JDBC driver manually. Simply copy the driver JAR to <code>/opt/keycloak/providers</code>.</p>\n"}],"owner":{"account_id":6840991,"reputation":25,"user_id":5261392,"display_name":"nboisnea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73447599,"answer_count":2,"score":0,"last_activity_date":1661188355,"creation_date":1661180813,"question_id":73447296,"body_markdown":"I&#39;m trying to link a Keycloak instance to an external source of users that is a PostgreSQL database. I&#39;ve followed [Keycloak&#39;s example][1] on how to implement a custom user federation provider that works with a properties file containing username/password pairs and it works as expected.\r\n\r\nStarting from there I changed the code a little so that it connects to my users db instead of reading a properties file but I have this error at providers init:\r\n\r\n```\r\nFailed to init CustomProviderFactory: java.sql.SQLException: No suitable driver found for jdbc:postgresql://postgres:5432/users_db\r\n```\r\n\r\nI run a Docker Compose config with a postgres container so that&#39;s why my db host is simply called `postgres`. (I can `psql` into my db from another container on the same network with that hostname so I don&#39;t think that&#39;s the cause of my problem.) The Keycloak container uses a custom image that copies my SPI into the providers directory. Here&#39;s the Dockerfile if needed:\r\n\r\n```\r\nFROM quay.io/keycloak/keycloak:latest as builder\r\n\r\n# Install custom providers\r\nCOPY target/custom-user-provider.jar /opt/keycloak/providers\r\nRUN /opt/keycloak/bin/kc.sh build\r\n\r\nFROM quay.io/keycloak/keycloak:latest\r\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\r\nWORKDIR /opt/keycloak\r\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\r\n```\r\n\r\nMy problem probably is the `org.postgresql.postgresql:42.4.2` dependency that I have in my pom.xml. I&#39;ve tried multiple artifacts configurations including a JAR with dependencies, a JAR without dependencies and a fat JAR but I&#39;m no expert in Java and I&#39;m not sure I&#39;m building my JAR correctly.\r\n\r\nHere is some code from my SPI implementation including the line where it tries to connect to  postgres:\r\n\r\nCustomUserProviderFactory.java\r\n```\r\npublic class CustomUserProviderFactory implements UserStorageProviderFactory&lt;CustomUserProvider&gt; {\r\n    public static final String PROVIDER_NAME = &quot;custom-user-storage&quot;;\r\n    private static final Logger logger = Logger.getLogger(CustomUserProviderFactory.class);\r\n\r\n    protected UserRepository userRepository;\r\n\r\n    @Override\r\n    public void init(Config.Scope config) {\r\n        try {\r\n            userRepository = new UserRepository();\r\n            logger.error(&quot;Loaded users database&quot;);\r\n        } catch (SQLException ex) {\r\n            logger.error(&quot;Failed to init CustomProviderFactory&quot;, ex);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public CustomUserProvider create(KeycloakSession session, ComponentModel model) {\r\n        return new CustomUserProvider(session, model, userRepository);\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return PROVIDER_NAME;\r\n    }\r\n}\r\n```\r\n\r\nUserRepository.java\r\n```\r\npublic class UserRepository {\r\n    private static final Logger logger = Logger.getLogger(UserRepository.class);\r\n\r\n    private final static String url = &quot;jdbc:postgresql://postgres:5432/users_db&quot;;\r\n    private final static String username = &quot;user&quot;;\r\n    private final static String password = &quot;password&quot;;\r\n    private final Connection conn;\r\n\r\n    public UserRepository() throws SQLException {\r\n        // Error is thrown here\r\n        conn = DriverManager.getConnection(url, username, password);\r\n    }\r\n\r\n    public User getByEmail(String email) throws SQLException {\r\n      // Query user from DB\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_development/index.html#simple-read-only-lookup-example","title":"UserStorage SPI in Keycloak with PostgreSQL driver","body":"<p>I'm trying to link a Keycloak instance to an external source of users that is a PostgreSQL database. I've followed <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#simple-read-only-lookup-example\" rel=\"nofollow noreferrer\">Keycloak's example</a> on how to implement a custom user federation provider that works with a properties file containing username/password pairs and it works as expected.</p>\n<p>Starting from there I changed the code a little so that it connects to my users db instead of reading a properties file but I have this error at providers init:</p>\n<pre><code>Failed to init CustomProviderFactory: java.sql.SQLException: No suitable driver found for jdbc:postgresql://postgres:5432/users_db\n</code></pre>\n<p>I run a Docker Compose config with a postgres container so that's why my db host is simply called <code>postgres</code>. (I can <code>psql</code> into my db from another container on the same network with that hostname so I don't think that's the cause of my problem.) The Keycloak container uses a custom image that copies my SPI into the providers directory. Here's the Dockerfile if needed:</p>\n<pre><code>FROM quay.io/keycloak/keycloak:latest as builder\n\n# Install custom providers\nCOPY target/custom-user-provider.jar /opt/keycloak/providers\nRUN /opt/keycloak/bin/kc.sh build\n\nFROM quay.io/keycloak/keycloak:latest\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\nWORKDIR /opt/keycloak\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\n</code></pre>\n<p>My problem probably is the <code>org.postgresql.postgresql:42.4.2</code> dependency that I have in my pom.xml. I've tried multiple artifacts configurations including a JAR with dependencies, a JAR without dependencies and a fat JAR but I'm no expert in Java and I'm not sure I'm building my JAR correctly.</p>\n<p>Here is some code from my SPI implementation including the line where it tries to connect to  postgres:</p>\n<p>CustomUserProviderFactory.java</p>\n<pre><code>public class CustomUserProviderFactory implements UserStorageProviderFactory&lt;CustomUserProvider&gt; {\n    public static final String PROVIDER_NAME = &quot;custom-user-storage&quot;;\n    private static final Logger logger = Logger.getLogger(CustomUserProviderFactory.class);\n\n    protected UserRepository userRepository;\n\n    @Override\n    public void init(Config.Scope config) {\n        try {\n            userRepository = new UserRepository();\n            logger.error(&quot;Loaded users database&quot;);\n        } catch (SQLException ex) {\n            logger.error(&quot;Failed to init CustomProviderFactory&quot;, ex);\n        }\n\n    }\n\n    @Override\n    public CustomUserProvider create(KeycloakSession session, ComponentModel model) {\n        return new CustomUserProvider(session, model, userRepository);\n    }\n\n    @Override\n    public String getId() {\n        return PROVIDER_NAME;\n    }\n}\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>public class UserRepository {\n    private static final Logger logger = Logger.getLogger(UserRepository.class);\n\n    private final static String url = &quot;jdbc:postgresql://postgres:5432/users_db&quot;;\n    private final static String username = &quot;user&quot;;\n    private final static String password = &quot;password&quot;;\n    private final Connection conn;\n\n    public UserRepository() throws SQLException {\n        // Error is thrown here\n        conn = DriverManager.getConnection(url, username, password);\n    }\n\n    public User getByEmail(String email) throws SQLException {\n      // Query user from DB\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661188132,"creation_date":1661188132,"answer_id":73448721,"question_id":73448386,"body_markdown":"Take a look in [this tutorial][1]. Here is the `@Configuration` class they use:\r\n\r\n    @Configuration\r\n    public class MultipleMongoConfig {\r\n        @Primary\r\n        @Bean(name = &quot;newdb1Properties&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.data.mongodb.newdb1&quot;)\r\n        public MongoProperties getNewDb1Props() throws Exception {\r\n            return new MongoProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;newdb2Properties&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.data.mongodb.newdb2&quot;)\r\n        public MongoProperties getNewDb2Props() throws Exception {\r\n            return new MongoProperties();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;newdb1MongoTemplate&quot;)\r\n        public MongoTemplate newdb1MongoTemplate() throws Exception {\r\n            return new MongoTemplate(newdb1MongoDatabaseFactory(getNewDb1Props()));\r\n        }\r\n    \r\n        @Bean(name =&quot;newdb2MongoTemplate&quot;)\r\n        public MongoTemplate newdb2MongoTemplate() throws Exception {\r\n            return new MongoTemplate(newdb2MongoDatabaseFactory(getNewDb2Props()));\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public MongoDatabaseFactory newdb1MongoDatabaseFactory(MongoProperties mongo) throws Exception {\r\n            return new SimpleMongoClientDatabaseFactory(\r\n                    mongo.getUri()\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n        public MongoDatabaseFactory newdb2MongoDatabaseFactory(MongoProperties mongo) throws Exception {\r\n            return new SimpleMongoClientDatabaseFactory(\r\n                    mongo.getUri()\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://hasangalakdinu.medium.com/how-to-connect-multiple-mongo-db-databases-with-spring-boot-239cb464a114","title":"how to connect 2 mongodb databases in spring mvc","body":"<p>Take a look in <a href=\"https://hasangalakdinu.medium.com/how-to-connect-multiple-mongo-db-databases-with-spring-boot-239cb464a114\" rel=\"nofollow noreferrer\">this tutorial</a>. Here is the <code>@Configuration</code> class they use:</p>\n<pre><code>@Configuration\npublic class MultipleMongoConfig {\n    @Primary\n    @Bean(name = &quot;newdb1Properties&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.data.mongodb.newdb1&quot;)\n    public MongoProperties getNewDb1Props() throws Exception {\n        return new MongoProperties();\n    }\n\n    @Bean(name = &quot;newdb2Properties&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.data.mongodb.newdb2&quot;)\n    public MongoProperties getNewDb2Props() throws Exception {\n        return new MongoProperties();\n    }\n\n    @Primary\n    @Bean(name = &quot;newdb1MongoTemplate&quot;)\n    public MongoTemplate newdb1MongoTemplate() throws Exception {\n        return new MongoTemplate(newdb1MongoDatabaseFactory(getNewDb1Props()));\n    }\n\n    @Bean(name =&quot;newdb2MongoTemplate&quot;)\n    public MongoTemplate newdb2MongoTemplate() throws Exception {\n        return new MongoTemplate(newdb2MongoDatabaseFactory(getNewDb2Props()));\n    }\n\n    @Primary\n    @Bean\n    public MongoDatabaseFactory newdb1MongoDatabaseFactory(MongoProperties mongo) throws Exception {\n        return new SimpleMongoClientDatabaseFactory(\n                mongo.getUri()\n        );\n    }\n\n    @Bean\n    public MongoDatabaseFactory newdb2MongoDatabaseFactory(MongoProperties mongo) throws Exception {\n        return new SimpleMongoClientDatabaseFactory(\n                mongo.getUri()\n        );\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16256404,"reputation":11,"user_id":11738938,"display_name":"Noob Tube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661188132,"creation_date":1661186306,"question_id":73448386,"body_markdown":"Hi I have this config file to connect to my remote `mongodb` service now I need to connect 1 more db simultaneously but I don&#39;t know how can anyone help?\r\n\r\n\r\n\r\n    @Configuration\r\n    public class MongoConfig{\r\n      \r\n    \t@Bean\r\n        public MongoDbFactory mongoDbFactory(){\r\n        \tMongoClientURI uri = new MongoClientURI(&quot;mongodb://user:pass@localhost:27017/?authSource=admin&quot;);\r\n      \r\n    \r\n            return new SimpleMongoDbFactory(new MongoClient(uri), &quot;DataBuild&quot;);\r\n           \r\n        }\r\n      \r\n        @Bean\r\n        public MongoOperations mongoOperations(){\r\n            return new MongoTemplate(mongoDbFactory());\r\n           \r\n        }\r\n        \r\n        @Bean\r\n        MongoTransactionManager transactionManager(MongoDbFactory dbFactory) {\r\n          return new MongoTransactionManager(dbFactory);\r\n        }\r\n    }","title":"how to connect 2 mongodb databases in spring mvc","body":"<p>Hi I have this config file to connect to my remote <code>mongodb</code> service now I need to connect 1 more db simultaneously but I don't know how can anyone help?</p>\n<pre><code>@Configuration\npublic class MongoConfig{\n  \n    @Bean\n    public MongoDbFactory mongoDbFactory(){\n        MongoClientURI uri = new MongoClientURI(&quot;mongodb://user:pass@localhost:27017/?authSource=admin&quot;);\n  \n\n        return new SimpleMongoDbFactory(new MongoClient(uri), &quot;DataBuild&quot;);\n       \n    }\n  \n    @Bean\n    public MongoOperations mongoOperations(){\n        return new MongoTemplate(mongoDbFactory());\n       \n    }\n    \n    @Bean\n    MongoTransactionManager transactionManager(MongoDbFactory dbFactory) {\n      return new MongoTransactionManager(dbFactory);\n    }\n}\n</code></pre>\n"},{"tags":["java","memory","garbage-collection","command-line-arguments","flags"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1661187814,"creation_date":1311859959,"answer_id":6859782,"question_id":6859683,"body_markdown":"The NewRatio is the ratio of old generation to young generation (e.g. value 2 means max size of old will be twice the max size of young, i.e. young can get up to 1/3 of the heap).\r\n\r\nThe OldSize is not one of the documented options, but I assume it&#39;s the size of the tenured space http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\r\n\r\nThe default value is `2`.","title":"What is the meaning of the -XX:NewRatio and -XX:OldSize JVM flags?","body":"<p>The NewRatio is the ratio of old generation to young generation (e.g. value 2 means max size of old will be twice the max size of young, i.e. young can get up to 1/3 of the heap).</p>\n<p>The OldSize is not one of the documented options, but I assume it's the size of the tenured space <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n<p>The default value is <code>2</code>.</p>\n"},{"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397069791,"creation_date":1397069791,"answer_id":22971594,"question_id":6859683,"body_markdown":"Since NewRatio is already well explained, the following should help with OldSize.\r\n\r\nHere, OldSize =&gt; default size of the tenured generation. This is the default size of tenured till the time ergonomics comes into play.","title":"What is the meaning of the -XX:NewRatio and -XX:OldSize JVM flags?","body":"<p>Since NewRatio is already well explained, the following should help with OldSize.</p>\n\n<p>Here, OldSize => default size of the tenured generation. This is the default size of tenured till the time ergonomics comes into play.</p>\n"}],"owner":{"account_id":743761,"reputation":241,"user_id":725443,"display_name":"dacanalr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49126,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1661187814,"creation_date":1311859520,"question_id":6859683,"body_markdown":"I am starting my java app with the following command line :\r\n\r\n    java -XX:+PrintCommandLineFlags -verbose:gc -XX:+PrintGCDetails \\\r\n         -XX:+UseConcMarkSweepGC -jar start.jar\r\n\r\nThe JVM enables the following options:\r\n\r\n    -XX:MaxNewSize=87244800 -XX:MaxTenuringThreshold=4 -XX:NewRatio=7\r\n    -XX:NewSize=21811200 -XX:OldPLABSize=16 -XX:OldSize=65433600\r\n    -XX:+PrintCommandLineFlags -XX:+PrintGC -XX:+PrintGCDetails\r\n    -XX:+UseCompressedOops -XX:+UseConcMarkSweepGC -XX:+UseParNewGC\r\n\r\nCan anyone explains me the meaning of NewRatio and OldSize ? In particular OldSize is the initial size of the tenured generation ?","title":"What is the meaning of the -XX:NewRatio and -XX:OldSize JVM flags?","body":"<p>I am starting my java app with the following command line :</p>\n\n<pre><code>java -XX:+PrintCommandLineFlags -verbose:gc -XX:+PrintGCDetails \\\n     -XX:+UseConcMarkSweepGC -jar start.jar\n</code></pre>\n\n<p>The JVM enables the following options:</p>\n\n<pre><code>-XX:MaxNewSize=87244800 -XX:MaxTenuringThreshold=4 -XX:NewRatio=7\n-XX:NewSize=21811200 -XX:OldPLABSize=16 -XX:OldSize=65433600\n-XX:+PrintCommandLineFlags -XX:+PrintGC -XX:+PrintGCDetails\n-XX:+UseCompressedOops -XX:+UseConcMarkSweepGC -XX:+UseParNewGC\n</code></pre>\n\n<p>Can anyone explains me the meaning of NewRatio and OldSize ? In particular OldSize is the initial size of the tenured generation ?</p>\n"},{"tags":["java","spring","mapping","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10834672,"reputation":416,"user_id":7968003,"display_name":"anicetkeric"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661187566,"creation_date":1661187566,"answer_id":73448622,"question_id":73446141,"body_markdown":"You can use `collectMultimap` which collects all elements emitted by this Flux into a Map. \r\n\r\n    @Test\r\n    public void collectMultimap() {\r\n\r\n        Flux&lt;EventCategoryEntity&gt; flux1 = Flux.just(\r\n                new EventCategoryEntity(&quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,&quot;soccer&quot;,&quot;team&quot;),\r\n                new EventCategoryEntity(&quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,&quot;soccer&quot;,&quot;ball&quot;),\r\n                new EventCategoryEntity(&quot;57108499-4fc1-4b52-8ffc-e11aa039fc85&quot;,&quot;soccer&quot;,&quot;tennis&quot;)\r\n        );\r\n\r\n        flux1.collectMultimap(EventCategoryEntity::getId, EventCategoryEntity::getGroupName)\r\n                .map(ids -&gt; ids.keySet().stream().map(t -&gt; {\r\n                     List&lt;String&gt; categoryGroupList =  ids.get(t).stream().toList();\r\n                     Optional&lt;EventCategoryEntity&gt; f = flux1.toStream().filter(pp -&gt; pp.getId().equals(t)).findFirst();\r\n\r\n                    return new EventCategoryDTO(f.get().getId(), f.get().getCategoryName(), categoryGroupList);\r\n                }).toList())\r\n                .subscribe(result -&gt; System.out.println(result.toString()));\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n&gt; [EventCategoryDTO(id=87108493-4fc1-4b12-8ffc-e10aa039fc39,\r\n&gt; categoryName=soccer, categoryGroup=[team, ball]),\r\n&gt; EventCategoryDTO(id=57108499-4fc1-4b52-8ffc-e11aa039fc85,\r\n&gt; categoryName=soccer, categoryGroup=[tennis])]\r\n\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collectMultimap-java.util.function.Function-java.util.function.Function- ","title":"Map Flux into business DTO with list","body":"<p>You can use <code>collectMultimap</code> which collects all elements emitted by this Flux into a Map.</p>\n<pre><code>@Test\npublic void collectMultimap() {\n\n    Flux&lt;EventCategoryEntity&gt; flux1 = Flux.just(\n            new EventCategoryEntity(&quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,&quot;soccer&quot;,&quot;team&quot;),\n            new EventCategoryEntity(&quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,&quot;soccer&quot;,&quot;ball&quot;),\n            new EventCategoryEntity(&quot;57108499-4fc1-4b52-8ffc-e11aa039fc85&quot;,&quot;soccer&quot;,&quot;tennis&quot;)\n    );\n\n    flux1.collectMultimap(EventCategoryEntity::getId, EventCategoryEntity::getGroupName)\n            .map(ids -&gt; ids.keySet().stream().map(t -&gt; {\n                 List&lt;String&gt; categoryGroupList =  ids.get(t).stream().toList();\n                 Optional&lt;EventCategoryEntity&gt; f = flux1.toStream().filter(pp -&gt; pp.getId().equals(t)).findFirst();\n\n                return new EventCategoryDTO(f.get().getId(), f.get().getCategoryName(), categoryGroupList);\n            }).toList())\n            .subscribe(result -&gt; System.out.println(result.toString()));\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>[EventCategoryDTO(id=87108493-4fc1-4b12-8ffc-e10aa039fc39,\ncategoryName=soccer, categoryGroup=[team, ball]),\nEventCategoryDTO(id=57108499-4fc1-4b52-8ffc-e11aa039fc85,\ncategoryName=soccer, categoryGroup=[tennis])]</p>\n</blockquote>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collectMultimap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collectMultimap-java.util.function.Function-java.util.function.Function-</a></p>\n"}],"owner":{"account_id":1095732,"reputation":556,"user_id":1089362,"accept_rate":90,"display_name":"user1089362"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73448622,"answer_count":1,"score":0,"last_activity_date":1661187566,"creation_date":1661175840,"question_id":73446141,"body_markdown":"I have the following entity:\r\n\r\npublic class EventCategoryEntity {\r\n\r\n    private UUID id;\r\n\r\n    @Column(&quot;category_name&quot;)\r\n    private String categoryName;\r\n\r\n    @Column(&quot;group_name&quot;)\r\n    private String groupName;\r\n\r\n}\r\n\r\nWhich I retrieve via Flux(one to many relationship):\r\n\r\n    public Flux&lt;EventCategoryEntity&gt; findAllCategories() {\r\n        return eventRepository.findAll();\r\n    }\r\n\r\n    @Query(&quot;select ec.id, ec.name as category_name,ecg.name as group_name&quot; +\r\n            &quot;from event_category ec left join event_category_relation ecr on (ec.id = ecr.event_category_id) &quot; +\r\n            &quot;left join event_category_group ecg on (ecr.event_category_group_id = ecg.id);&quot;)\r\n    Flux&lt;EventCategoryEntity&gt; findAll();\r\n\r\nThen output via Controller in JSON response like:\r\n```[\r\n\t{\r\n\t\t&quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\r\n\t\t&quot;categoryName&quot;: &quot;soccer&quot;,\r\n\t\t&quot;groupName&quot;: &quot;team&quot;,\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\r\n\t\t&quot;categoryName&quot;: &quot;soccer&quot;,\r\n\t\t&quot;groupName&quot;: &quot;ball&quot;,\r\n\t}\r\n]\r\n```\r\nBut I would like to aggregate response by id like this:\r\n\r\n```\r\n[\r\n\t{\r\n\t\t&quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\r\n\t\t&quot;categoryName&quot;: &quot;soccer&quot;,\r\n        &quot;groupName: [&quot;team&quot;, &quot;ball&quot;]\r\n\t}\r\n]\r\n```\r\n\r\nI&#39;ve prepared DTO object, but I don&#39;t know how this flux map into the this:\r\n\r\n```\r\npublic class EventCategory {\r\n    private UUID id;\r\n\r\n    private String categoryName;\r\n\r\n    private List&lt;CategoryGroup&gt; categoryGroup;\r\n\r\n    private class CategoryGroup {\r\n        private String groupName;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Map Flux into business DTO with list","body":"<p>I have the following entity:</p>\n<p>public class EventCategoryEntity {</p>\n<pre><code>private UUID id;\n\n@Column(&quot;category_name&quot;)\nprivate String categoryName;\n\n@Column(&quot;group_name&quot;)\nprivate String groupName;\n</code></pre>\n<p>}</p>\n<p>Which I retrieve via Flux(one to many relationship):</p>\n<pre><code>public Flux&lt;EventCategoryEntity&gt; findAllCategories() {\n    return eventRepository.findAll();\n}\n\n@Query(&quot;select ec.id, ec.name as category_name,ecg.name as group_name&quot; +\n        &quot;from event_category ec left join event_category_relation ecr on (ec.id = ecr.event_category_id) &quot; +\n        &quot;left join event_category_group ecg on (ecr.event_category_group_id = ecg.id);&quot;)\nFlux&lt;EventCategoryEntity&gt; findAll();\n</code></pre>\n<p>Then output via Controller in JSON response like:</p>\n<pre><code>    {\n        &quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\n        &quot;categoryName&quot;: &quot;soccer&quot;,\n        &quot;groupName&quot;: &quot;team&quot;,\n    },\n    {\n        &quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\n        &quot;categoryName&quot;: &quot;soccer&quot;,\n        &quot;groupName&quot;: &quot;ball&quot;,\n    }\n]\n</code></pre>\n<p>But I would like to aggregate response by id like this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;87108493-4fc1-4b12-8ffc-e10aa039fc39&quot;,\n        &quot;categoryName&quot;: &quot;soccer&quot;,\n        &quot;groupName: [&quot;team&quot;, &quot;ball&quot;]\n    }\n]\n</code></pre>\n<p>I've prepared DTO object, but I don't know how this flux map into the this:</p>\n<pre><code>public class EventCategory {\n    private UUID id;\n\n    private String categoryName;\n\n    private List&lt;CategoryGroup&gt; categoryGroup;\n\n    private class CategoryGroup {\n        private String groupName;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-el","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661187508,"creation_date":1661187508,"answer_id":73448609,"question_id":73448349,"body_markdown":"No; nothing like that is supported.","title":"Is there a way to get SpEL to treat a bean that is an implementation of a Functional Interface as a method?","body":"<p>No; nothing like that is supported.</p>\n"}],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73448609,"answer_count":1,"score":0,"last_activity_date":1661187508,"creation_date":1661186162,"question_id":73448349,"body_markdown":"I am creating beans that are implementations of a functional interface, for example:\r\n\r\n``` java\r\n@FunctionalInterface\r\npublic interface FooRunnable {\r\n    abstract Bar run();\r\n}\r\n```\r\n\r\nI&#39;ve created a bean with this interface.\r\n\r\nI can use SpEL to call the method run() of the bean using, say, the header-enricher:\r\n\r\n``` xml\r\n   &lt;si:header name=&quot;bar&quot; value=&quot;@foo.run()&quot; /&gt;\r\n``` \r\n\r\nIs there a way for SpEL to recognize that this is a functional interface and allow me to write simply the following, hence eliminate the method name?\r\n\r\n``` xml\r\n   &lt;si:header name=&quot;bar&quot; value=&quot;@foo()&quot; /&gt;\r\n``` \r\n\r\nThanks for any help/pointers.","title":"Is there a way to get SpEL to treat a bean that is an implementation of a Functional Interface as a method?","body":"<p>I am creating beans that are implementations of a functional interface, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface FooRunnable {\n    abstract Bar run();\n}\n</code></pre>\n<p>I've created a bean with this interface.</p>\n<p>I can use SpEL to call the method run() of the bean using, say, the header-enricher:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;si:header name=&quot;bar&quot; value=&quot;@foo.run()&quot; /&gt;\n</code></pre>\n<p>Is there a way for SpEL to recognize that this is a functional interface and allow me to write simply the following, hence eliminate the method name?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;si:header name=&quot;bar&quot; value=&quot;@foo()&quot; /&gt;\n</code></pre>\n<p>Thanks for any help/pointers.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1661185614,"post_id":73448116,"comment_id":129706543,"body_markdown":"I believe this question is not a duplicate of the QA the question has been closed-duplicate with. That question seems to be about enhanced for loops, which this is not","body":"I believe this question is not a duplicate of the QA the question has been closed-duplicate with. That question seems to be about enhanced for loops, which this is not"}],"answers":[{"tags":[],"owner":{"account_id":26131504,"reputation":26,"user_id":19822155,"display_name":"Hemanth Bhargav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1661187054,"creation_date":1661186925,"answer_id":73448518,"question_id":73448116,"body_markdown":"   \r\npublic static void main(String[] args) \r\n{\r\n    \r\n    System.out.print(&quot;Enter a year: &quot;);\r\n    int a = 1004;    //a = 1004\r\n    System.out.print(&quot;Enter another year: &quot;);\r\n    int b = 2020;    //b = 2020\r\n    int min = a &lt; b ? a : b;\r\n    int max = a &lt; b ? b : a;\r\n    System.out.print(&quot;Output: &quot;);\r\n    for (int i = min; i &lt;= max; i++)\r\n    {\r\n\t\tif (i==b)\r\n        {\r\n\t\t\tSystem.out.print(b + &quot;.&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n        if (i%4==0 &amp;&amp; i%100 !=0 ) \r\n        {\r\n\t       System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020.\r\n         }\r\n\t\r\n    }\r\n}","title":"How to remove a character at the end of a printed line?","body":"<p>public static void main(String[] args)\n{</p>\n<pre><code>System.out.print(&quot;Enter a year: &quot;);\nint a = 1004;    //a = 1004\nSystem.out.print(&quot;Enter another year: &quot;);\nint b = 2020;    //b = 2020\nint min = a &lt; b ? a : b;\nint max = a &lt; b ? b : a;\nSystem.out.print(&quot;Output: &quot;);\nfor (int i = min; i &lt;= max; i++)\n{\n    if (i==b)\n    {\n        System.out.print(b + &quot;.&quot;);\n        break;\n    }\n    if (i%4==0 &amp;&amp; i%100 !=0 ) \n    {\n       System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020.\n     }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661187460,"creation_date":1661187460,"answer_id":73448604,"question_id":73448116,"body_markdown":"just replace this line in your original code:\r\n\r\n            System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020,\r\n\r\nwith this:\r\n\r\n            System.out.print(i + ((max-i) &gt; 4? &quot;, &quot;:&quot;. &quot;)) ;  //Output: 1004, 1008, 1012, 1016, 2020.","title":"How to remove a character at the end of a printed line?","body":"<p>just replace this line in your original code:</p>\n<pre><code>        System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020,\n</code></pre>\n<p>with this:</p>\n<pre><code>        System.out.print(i + ((max-i) &gt; 4? &quot;, &quot;:&quot;. &quot;)) ;  //Output: 1004, 1008, 1012, 1016, 2020.\n</code></pre>\n"}],"owner":{"account_id":21269768,"reputation":15,"user_id":15649471,"display_name":"TgD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73448518,"answer_count":2,"score":-1,"last_activity_date":1661187460,"creation_date":1661184954,"question_id":73448116,"body_markdown":"So I have this line of code:\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        System.out.print(&quot;Enter a year: &quot;);\r\n        int a = 1004;    //a = 1004\r\n        System.out.print(&quot;Enter another year: &quot;);\r\n        int b = 2020;    //b = 2020\r\n        int min = a &lt; b ? a : b;\r\n        int max = a &lt; b ? b : a;\r\n        System.out.print(&quot;Output: &quot;);\r\n        for (int i = min; i &lt;= max; i++) {\r\n        if (i%4==0 &amp;&amp; i%100 !=0) {\r\n            System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020,\r\n        }\r\n    }\r\n        \r\n    }\r\n    \r\nSo the code will print out: Output: 1004, 1008, 1012, 1016, 1020,\r\n\r\nHow do I remove the last comma and replace it with a dot ?\r\n","title":"How to remove a character at the end of a printed line?","body":"<p>So I have this line of code:</p>\n<pre><code>public static void main(String[] args) {\n    \n    System.out.print(&quot;Enter a year: &quot;);\n    int a = 1004;    //a = 1004\n    System.out.print(&quot;Enter another year: &quot;);\n    int b = 2020;    //b = 2020\n    int min = a &lt; b ? a : b;\n    int max = a &lt; b ? b : a;\n    System.out.print(&quot;Output: &quot;);\n    for (int i = min; i &lt;= max; i++) {\n    if (i%4==0 &amp;&amp; i%100 !=0) {\n        System.out.print(i + &quot;, &quot;);  //Output: 1004, 1008, 1012, 1016, 2020,\n    }\n}\n    \n}\n</code></pre>\n<p>So the code will print out: Output: 1004, 1008, 1012, 1016, 1020,</p>\n<p>How do I remove the last comma and replace it with a dot ?</p>\n"},{"tags":["java","unit-testing","mocking","mockito","mockito-inline"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661187260,"creation_date":1661187260,"answer_id":73448566,"question_id":73421828,"body_markdown":"As described [in the documentation][1] mocks return null/empty values by default. API for creating static spies which would include the default behavior by default is not currently defined, so you have to tell Mockito to call the actual methods on the mock either by calling `when(...).thenCallRealMethod()` or by using the [CALLS_REAL_METHODS][2] constant `Answer` when calling the `mockStatic` method:\r\n```java\r\ntry (MockedStatic&lt;ZonedDateTime&gt; zonedTime = Mockito.mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS)) {\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/Mockito.html#stubbing\r\n  [2]: https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/Mockito.html#CALLS_REAL_METHODS","title":"Mock specific method with mockito-inline not complete class","body":"<p>As described <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/Mockito.html#stubbing\" rel=\"nofollow noreferrer\">in the documentation</a> mocks return null/empty values by default. API for creating static spies which would include the default behavior by default is not currently defined, so you have to tell Mockito to call the actual methods on the mock either by calling <code>when(...).thenCallRealMethod()</code> or by using the <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/Mockito.html#CALLS_REAL_METHODS\" rel=\"nofollow noreferrer\">CALLS_REAL_METHODS</a> constant <code>Answer</code> when calling the <code>mockStatic</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;ZonedDateTime&gt; zonedTime = Mockito.mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS)) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":19067858,"reputation":165,"user_id":13922643,"display_name":"Booster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661187260,"creation_date":1660939982,"question_id":73421828,"body_markdown":"I want to mock static methods of a class. When I&#39;m using mockito-inline, it mocks the complete class instead of mocking specific methods. My objective is that it should only mock method which I want it to be. Others should remain untouched (as it is).\r\n\r\n    \r\n```\r\n@Test\r\n     public void myTest() throws Exception {\r\n         ZonedDateTime mockDateTime = ZonedDateTime.of(2022, 1, 1, 10, 10, 10, 100, ZoneId.of(DEFAULT_ZONE_ID));\r\n          try (MockedStatic&lt;ZonedDateTime&gt; zonedTime = Mockito.mockStatic(ZonedDateTime.class)) {\r\n              zonedTime.when(() -&gt; ZonedDateTime.now(ZoneId.of(DEFAULT_ZONE_ID))).thenReturn(mockDateTime);\r\n\r\n         // Zoned time will be called inside myMethod\r\n            ZonedDateTime zonedDateTime = myClass.myMethod();\r\n            System.out.println(&quot;Result: &quot;+ zonedDateTime);\r\n          }\r\n```\r\n\r\nIn above code I&#39;m mocking `ZonedDateTime.now()` method, but for some reason, other methods are getting mocked as well e.g `ZonedDateTime.parse()` etc, since I&#39;m not giving any mocks for them, they&#39;re returning `null` for those un-mocked method. Ideally there usual implementation should work.\r\n\r\nI&#39;m looking for some change with which all original method should be inplace.","title":"Mock specific method with mockito-inline not complete class","body":"<p>I want to mock static methods of a class. When I'm using mockito-inline, it mocks the complete class instead of mocking specific methods. My objective is that it should only mock method which I want it to be. Others should remain untouched (as it is).</p>\n<pre><code>@Test\n     public void myTest() throws Exception {\n         ZonedDateTime mockDateTime = ZonedDateTime.of(2022, 1, 1, 10, 10, 10, 100, ZoneId.of(DEFAULT_ZONE_ID));\n          try (MockedStatic&lt;ZonedDateTime&gt; zonedTime = Mockito.mockStatic(ZonedDateTime.class)) {\n              zonedTime.when(() -&gt; ZonedDateTime.now(ZoneId.of(DEFAULT_ZONE_ID))).thenReturn(mockDateTime);\n\n         // Zoned time will be called inside myMethod\n            ZonedDateTime zonedDateTime = myClass.myMethod();\n            System.out.println(&quot;Result: &quot;+ zonedDateTime);\n          }\n</code></pre>\n<p>In above code I'm mocking <code>ZonedDateTime.now()</code> method, but for some reason, other methods are getting mocked as well e.g <code>ZonedDateTime.parse()</code> etc, since I'm not giving any mocks for them, they're returning <code>null</code> for those un-mocked method. Ideally there usual implementation should work.</p>\n<p>I'm looking for some change with which all original method should be inplace.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1479863113,"post_id":40754359,"comment_id":68734594,"body_markdown":"I don&#39;t know exactly how to fix it, but it&#39;s not working because the script is not executed in the context of that class, it&#39;s compiled into its own class (`Script1`).","body":"I don&#39;t know exactly how to fix it, but it&#39;s not working because the script is not executed in the context of that class, it&#39;s compiled into its own class (<code>Script1</code>)."}],"answers":[{"tags":[],"owner":{"account_id":447216,"reputation":1563,"user_id":1240075,"accept_rate":56,"display_name":"user840718"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479896452,"creation_date":1479896452,"answer_id":40761662,"question_id":40754359,"body_markdown":"I&#39;ve solved this problem changing the scope of the function. Seems to be that Groovy is able to execute piece of code inside a string with functions, only if those function are declared in a static way into the class is calling the method evaluate.","title":"How to deal with groovy.lang.MissingMethodException","body":"<p>I've solved this problem changing the scope of the function. Seems to be that Groovy is able to execute piece of code inside a string with functions, only if those function are declared in a static way into the class is calling the method evaluate.</p>\n"},{"tags":[],"owner":{"account_id":11045810,"reputation":588,"user_id":8112003,"display_name":"Nikolai Ehrhardt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661187245,"creation_date":1661187245,"answer_id":73448563,"question_id":40754359,"body_markdown":"You can bypass the current context, or in detail create a binding of it:\r\n\r\n    sh &quot;echo wurst &gt; any.txt&quot;\r\n    def shell = new GroovyShell(new Binding(x:&quot;**/*.txt&quot;, y: this))\r\n    def script1 = shell.parse(&quot;y.archiveArtifacts artifacts: x&quot;)\r\n    script1.run()\r\n\r\nIts another example, but should solve your problem, too.     ","title":"How to deal with groovy.lang.MissingMethodException","body":"<p>You can bypass the current context, or in detail create a binding of it:</p>\n<pre><code>sh &quot;echo wurst &gt; any.txt&quot;\ndef shell = new GroovyShell(new Binding(x:&quot;**/*.txt&quot;, y: this))\ndef script1 = shell.parse(&quot;y.archiveArtifacts artifacts: x&quot;)\nscript1.run()\n</code></pre>\n<p>Its another example, but should solve your problem, too.</p>\n"}],"owner":{"account_id":447216,"reputation":1563,"user_id":1240075,"accept_rate":56,"display_name":"user840718"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661187245,"creation_date":1479862783,"question_id":40754359,"body_markdown":"I&#39;m using Groovy in my program because I need to run some pieces of code generated by string.\r\nIn this very simple example I show my problem related to a very well known error in Groovy.\r\n\r\n    public static void main(String[] args) {\r\n\t\tBinding binding = new Binding();\r\n\t\tGroovyShell shell = new GroovyShell(binding);\r\n\t\tpath(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), Arrays.asList(&quot;A&quot;, &quot;B&quot;));\r\n\t\tString s = &quot;path(Arrays.asList(\\&quot;A\\&quot;, \\&quot;B\\&quot;, \\&quot;C\\&quot;), Arrays.asList(\\&quot;A\\&quot;, \\&quot;B\\&quot;))&quot;; \r\n\t\tObject value = shell.evaluate(s);\r\n\t}\r\n\t\r\n\tprivate static List&lt;String&gt; path(List&lt;String&gt; dstString, List&lt;String&gt; srcString) {\r\n\t\tSystem.out.println(&quot;it works!&quot;);\r\n\t\treturn dstString;\r\n\t}\r\n\r\nI pass inline the two Lists using: *Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), Arrays.asList(&quot;A&quot;, &quot;B&quot;)*. When I call the function path with the inline params without involving Groovy it works.\r\nBut, when I do exactly the same but by Groovy, it fails and returns the following error:\r\n\r\n    Exception in thread &quot;main&quot; groovy.lang.MissingMethodException: No signature        of method: Script1.path() is applicable for argument types: (java.util.Arrays$ArrayList, java.util.Arrays$ArrayList) values: [[A, B, C], [A, B]]\r\n     Possible solutions: wait(), any(), with(groovy.lang.Closure),    each(groovy.lang.Closure), run(), run()\r\n\tat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:58)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:81)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:52)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:154)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:174)\r\n\tat Script1.run(Script1.groovy:1)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:585)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\r\n\tat Test.main(Test.java:16)\r\n\r\nI&#39;m trying to figure out why is not working and how to solve it.\r\nAre there any suggestions?","title":"How to deal with groovy.lang.MissingMethodException","body":"<p>I'm using Groovy in my program because I need to run some pieces of code generated by string.\nIn this very simple example I show my problem related to a very well known error in Groovy.</p>\n\n<pre><code>public static void main(String[] args) {\n    Binding binding = new Binding();\n    GroovyShell shell = new GroovyShell(binding);\n    path(Arrays.asList(\"A\", \"B\", \"C\"), Arrays.asList(\"A\", \"B\"));\n    String s = \"path(Arrays.asList(\\\"A\\\", \\\"B\\\", \\\"C\\\"), Arrays.asList(\\\"A\\\", \\\"B\\\"))\"; \n    Object value = shell.evaluate(s);\n}\n\nprivate static List&lt;String&gt; path(List&lt;String&gt; dstString, List&lt;String&gt; srcString) {\n    System.out.println(\"it works!\");\n    return dstString;\n}\n</code></pre>\n\n<p>I pass inline the two Lists using: <em>Arrays.asList(\"A\", \"B\", \"C\"), Arrays.asList(\"A\", \"B\")</em>. When I call the function path with the inline params without involving Groovy it works.\nBut, when I do exactly the same but by Groovy, it fails and returns the following error:</p>\n\n<pre><code>Exception in thread \"main\" groovy.lang.MissingMethodException: No signature        of method: Script1.path() is applicable for argument types: (java.util.Arrays$ArrayList, java.util.Arrays$ArrayList) values: [[A, B, C], [A, B]]\n Possible solutions: wait(), any(), with(groovy.lang.Closure),    each(groovy.lang.Closure), run(), run()\nat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:58)\nat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:81)\nat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:52)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:154)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:174)\nat Script1.run(Script1.groovy:1)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:585)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\nat Test.main(Test.java:16)\n</code></pre>\n\n<p>I'm trying to figure out why is not working and how to solve it.\nAre there any suggestions?</p>\n"},{"tags":["java","arrays","tostring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1578079961,"post_id":59584306,"comment_id":105334893,"body_markdown":"Just look at the [source code of the method](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java).","body":"Just look at the <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">source code of the method</a>."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1578080136,"post_id":59584306,"comment_id":105334958,"body_markdown":"Wouldn&#39;t this completely depend on the Array passed?","body":"Wouldn&#39;t this completely depend on the Array passed?"},{"owner":{"account_id":10192855,"reputation":2443,"user_id":8347081,"display_name":"mypetlion"},"score":0,"creation_date":1578080521,"post_id":59584306,"comment_id":105335131,"body_markdown":"By &quot;runtime&quot; do you mean the time it takes to run? Are you asking about the performance?","body":"By &quot;runtime&quot; do you mean the time it takes to run? Are you asking about the performance?"},{"owner":{"account_id":9371182,"reputation":1747,"user_id":7264980,"display_name":"Anatoliy R"},"score":0,"creation_date":1578083602,"post_id":59584306,"comment_id":105336374,"body_markdown":"Should be O(n) to get through all characters (with some low-level modifications possible). In your example it should not make any performance issue since sort is O(n log n) which is slower, so the total complexity will be O(n log n)","body":"Should be O(n) to get through all characters (with some low-level modifications possible). In your example it should not make any performance issue since sort is O(n log n) which is slower, so the total complexity will be O(n log n)"},{"owner":{"account_id":10831575,"reputation":13,"user_id":7965756,"display_name":"Joanna"},"score":0,"creation_date":1578092485,"post_id":59584306,"comment_id":105339052,"body_markdown":"@mypetlion I mean with regards to Big O time! I will clarify this in the question :)","body":"@mypetlion I mean with regards to Big O time! I will clarify this in the question :)"},{"owner":{"account_id":10831575,"reputation":13,"user_id":7965756,"display_name":"Joanna"},"score":0,"creation_date":1578092583,"post_id":59584306,"comment_id":105339079,"body_markdown":"@AnatoliyR that makes a lot of sense thank you!","body":"@AnatoliyR that makes a lot of sense thank you!"}],"answers":[{"tags":[],"owner":{"account_id":25987221,"reputation":21,"user_id":19700018,"display_name":"Suman Sinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661186347,"creation_date":1659705993,"answer_id":73250557,"question_id":59584306,"body_markdown":"Array.toString() method, appends each of the array elements to a string builder using a for loop and returns the final string. So, if the size of the array is n, the new string will also be of size n.\r\n\r\nSo, it takes O(n) time to print the string representation of the array and O(n) space to create a new string of length n.\r\n\r\nTime Complexity: O(n) Space Complexity: O(n)","title":"Runtime of Arrays.toString()?","body":"<p>Array.toString() method, appends each of the array elements to a string builder using a for loop and returns the final string. So, if the size of the array is n, the new string will also be of size n.</p>\n<p>So, it takes O(n) time to print the string representation of the array and O(n) space to create a new string of length n.</p>\n<p>Time Complexity: O(n) Space Complexity: O(n)</p>\n"}],"owner":{"account_id":10831575,"reputation":13,"user_id":7965756,"display_name":"Joanna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661186347,"creation_date":1578079857,"question_id":59584306,"body_markdown":"What is the run time (with regard to Big O) of the Arrays.toString() method in Java?\r\n\r\ne.g. \r\n\r\n    String sort(String x){\r\n\tchar[] xArray = x.toCharArray();\r\n\tArrays.sort(xArray);\r\n\treturn Arrays.toString(xArray);\r\n\r\n","title":"Runtime of Arrays.toString()?","body":"<p>What is the run time (with regard to Big O) of the Arrays.toString() method in Java?</p>\n<p>e.g.</p>\n<pre><code>String sort(String x){\nchar[] xArray = x.toCharArray();\nArrays.sort(xArray);\nreturn Arrays.toString(xArray);\n</code></pre>\n"},{"tags":["java","google-cloud-dlp"],"answers":[{"tags":[],"owner":{"account_id":10424977,"reputation":985,"user_id":7686560,"display_name":"Jordanna Chord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661186300,"creation_date":1661186300,"answer_id":73448384,"question_id":73437001,"body_markdown":"They are supported within the InspectConfig.\r\n\r\n```\r\n{\r\n  &quot;inspectConfig&quot;: {\r\n    &quot;customInfoTypes&quot;: [\r\n      {\r\n        &quot;dictionary&quot;: {\r\n          &quot;wordList&quot;: {\r\n            &quot;words&quot;: [\r\n              &quot;dogs&quot;,\r\n              &quot;hedgehogs&quot;,\r\n              &quot;fish&quot;\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  &quot;byteItem&quot;: {\r\n    &quot;data&quot;: &quot;yourimage&quot;\r\n  }\r\n}\r\n```","title":"Google Cloud DLP Custom Info type for Image Inspection","body":"<p>They are supported within the InspectConfig.</p>\n<pre><code>{\n  &quot;inspectConfig&quot;: {\n    &quot;customInfoTypes&quot;: [\n      {\n        &quot;dictionary&quot;: {\n          &quot;wordList&quot;: {\n            &quot;words&quot;: [\n              &quot;dogs&quot;,\n              &quot;hedgehogs&quot;,\n              &quot;fish&quot;\n            ]\n          }\n        }\n      }\n    ]\n  },\n  &quot;byteItem&quot;: {\n    &quot;data&quot;: &quot;yourimage&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11716015,"reputation":75,"user_id":8576498,"display_name":"Saurabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661186300,"creation_date":1661104842,"question_id":73437001,"body_markdown":"Was trying [Cloud Dlp Image Redaction](https://cloud.google.com/dlp/docs/concepts-image-redaction) for removing sensitive content.\r\n\r\nGoogle Doc mentions that we can redact image based on custom infotype but not able to find how to use custom infotype for redaction \r\n\r\nSample codes support for text inspection, tried similar thing for image inspection but was not able to get to a result","title":"Google Cloud DLP Custom Info type for Image Inspection","body":"<p>Was trying <a href=\"https://cloud.google.com/dlp/docs/concepts-image-redaction\" rel=\"nofollow noreferrer\">Cloud Dlp Image Redaction</a> for removing sensitive content.</p>\n<p>Google Doc mentions that we can redact image based on custom infotype but not able to find how to use custom infotype for redaction</p>\n<p>Sample codes support for text inspection, tried similar thing for image inspection but was not able to get to a result</p>\n"},{"tags":["java","scala","apache-spark","hadoop"],"answers":[{"tags":[],"owner":{"account_id":22081851,"reputation":103,"user_id":16341308,"display_name":"ahmetsaim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1650292008,"creation_date":1650292008,"answer_id":71913104,"question_id":71627206,"body_markdown":"I have faced the same issue, resolved it by setting Run/Debug Configurations -&gt; Modify Options -&gt; Java -&gt; Add dependencies with provided scope to classpath to YES","title":"Error: A JNI error has occurred, please check your installation and try again in IntelliJ IDEA for Scala-Spark Program using SBT","body":"<p>I have faced the same issue, resolved it by setting Run/Debug Configurations -&gt; Modify Options -&gt; Java -&gt; Add dependencies with provided scope to classpath to YES</p>\n"}],"owner":{"account_id":11854166,"reputation":21,"user_id":8674573,"display_name":"Saurabh Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1749,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661186042,"creation_date":1648290439,"question_id":71627206,"body_markdown":"    import org.apache.spark.sql.SparkSession\r\n    \r\n    object RDDBroadcast extends App {\r\n    \r\n      val spark = SparkSession.builder()\r\n        .appName(&quot;SparkByExamples.com&quot;)\r\n        .master(&quot;local&quot;)\r\n        .getOrCreate()\r\n    \r\n      val states = Map((&quot;NY&quot;,&quot;New York&quot;),(&quot;CA&quot;,&quot;California&quot;),(&quot;FL&quot;,&quot;Florida&quot;))\r\n      val countries = Map((&quot;USA&quot;,&quot;United States of America&quot;),(&quot;IN&quot;,&quot;India&quot;))\r\n    \r\n      val broadcastStates = spark.sparkContext.broadcast(states)\r\n      val broadcastCountries = spark.sparkContext.broadcast(countries)\r\n    \r\n      val data = Seq((&quot;James&quot;,&quot;Smith&quot;,&quot;USA&quot;,&quot;CA&quot;),\r\n        (&quot;Michael&quot;,&quot;Rose&quot;,&quot;USA&quot;,&quot;NY&quot;),\r\n        (&quot;Robert&quot;,&quot;Williams&quot;,&quot;USA&quot;,&quot;CA&quot;),\r\n        (&quot;Maria&quot;,&quot;Jones&quot;,&quot;USA&quot;,&quot;FL&quot;)\r\n      )\r\n    \r\n      val rdd = spark.sparkContext.parallelize(data)\r\n    \r\n      val rdd2 = rdd.map(f=&gt;{\r\n        val country = f._3\r\n        val state = f._4\r\n        val fullCountry = broadcastCountries.value(country)\r\n        val fullState = broadcastStates.value(state)\r\n        (f._1,f._2,fullCountry,fullState)\r\n      })\r\n    \r\n      println(rdd2.collect().mkString(&quot;\\n&quot;))\r\n    \r\n    }\r\n\r\n\r\nThe above is the spark-scala code to get country and state names. While compiling the code in InteliJ IDEA, I&#39;m getting Error as below:\r\n\r\n    *Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n    \tat java.lang.Class.getMethod0(Class.java:3018)\r\n    \tat java.lang.Class.getMethod(Class.java:1784)\r\n    \tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 7 more*\r\n\r\nI&#39;ve tried multiple solutions like checking the java and javac version but the versions are in sync.\r\n[Click here to view the image.][1]\r\n\r\nI&#39;ve also checked the java version in the project File-&gt;project Structure...-&gt; Module and compared it with Run-&gt;Edit Configurations which is also matching.\r\n\r\nBuild.sbt code: [Click here to view the sbt code][2]\r\n\r\nI&#39;m using VMware workstation 16 Player on which inteliJ is installed in linux OS. java version is **1.8.0_301**\r\n\r\n[Click Here to view the InteliJ IDE in Linux Image][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dgqxY.png\r\n  [2]: https://i.stack.imgur.com/Xh0zC.png\r\n  [3]: https://i.stack.imgur.com/95Cf1.png","title":"Error: A JNI error has occurred, please check your installation and try again in IntelliJ IDEA for Scala-Spark Program using SBT","body":"<pre><code>import org.apache.spark.sql.SparkSession\n\nobject RDDBroadcast extends App {\n\n  val spark = SparkSession.builder()\n    .appName(&quot;SparkByExamples.com&quot;)\n    .master(&quot;local&quot;)\n    .getOrCreate()\n\n  val states = Map((&quot;NY&quot;,&quot;New York&quot;),(&quot;CA&quot;,&quot;California&quot;),(&quot;FL&quot;,&quot;Florida&quot;))\n  val countries = Map((&quot;USA&quot;,&quot;United States of America&quot;),(&quot;IN&quot;,&quot;India&quot;))\n\n  val broadcastStates = spark.sparkContext.broadcast(states)\n  val broadcastCountries = spark.sparkContext.broadcast(countries)\n\n  val data = Seq((&quot;James&quot;,&quot;Smith&quot;,&quot;USA&quot;,&quot;CA&quot;),\n    (&quot;Michael&quot;,&quot;Rose&quot;,&quot;USA&quot;,&quot;NY&quot;),\n    (&quot;Robert&quot;,&quot;Williams&quot;,&quot;USA&quot;,&quot;CA&quot;),\n    (&quot;Maria&quot;,&quot;Jones&quot;,&quot;USA&quot;,&quot;FL&quot;)\n  )\n\n  val rdd = spark.sparkContext.parallelize(data)\n\n  val rdd2 = rdd.map(f=&gt;{\n    val country = f._3\n    val state = f._4\n    val fullCountry = broadcastCountries.value(country)\n    val fullState = broadcastStates.value(state)\n    (f._1,f._2,fullCountry,fullState)\n  })\n\n  println(rdd2.collect().mkString(&quot;\\n&quot;))\n\n}\n</code></pre>\n<p>The above is the spark-scala code to get country and state names. While compiling the code in InteliJ IDEA, I'm getting Error as below:</p>\n<pre><code>*Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 7 more*\n</code></pre>\n<p>I've tried multiple solutions like checking the java and javac version but the versions are in sync.\n<a href=\"https://i.stack.imgur.com/dgqxY.png\" rel=\"nofollow noreferrer\">Click here to view the image.</a></p>\n<p>I've also checked the java version in the project File-&gt;project Structure...-&gt; Module and compared it with Run-&gt;Edit Configurations which is also matching.</p>\n<p>Build.sbt code: <a href=\"https://i.stack.imgur.com/Xh0zC.png\" rel=\"nofollow noreferrer\">Click here to view the sbt code</a></p>\n<p>I'm using VMware workstation 16 Player on which inteliJ is installed in linux OS. java version is <strong>1.8.0_301</strong></p>\n<p><a href=\"https://i.stack.imgur.com/95Cf1.png\" rel=\"nofollow noreferrer\">Click Here to view the InteliJ IDE in Linux Image</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"score":3,"creation_date":1308042664,"post_id":6341367,"comment_id":7418973,"body_markdown":"Maybe there is regular expression to check if a string is a regular expression. Interesting question! But i doubt that there is way that covers all possibilities.","body":"Maybe there is regular expression to check if a string is a regular expression. Interesting question! But i doubt that there is way that covers all possibilities."},{"owner":{"account_id":117541,"reputation":7467,"user_id":307767,"accept_rate":92,"display_name":"oliholz"},"score":0,"creation_date":1308042691,"post_id":6341367,"comment_id":7418980,"body_markdown":"is it impossible that a valid regex meant as _normal_ string?","body":"is it impossible that a valid regex meant as <i>normal</i> string?"},{"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"score":0,"creation_date":1308042971,"post_id":6341367,"comment_id":7420471,"body_markdown":"Also relevant: [&quot;Regex to validate regex&quot;](http://stackoverflow.com/questions/416532/regex-to-validate-regex)","body":"Also relevant: <a href=\"http://stackoverflow.com/questions/416532/regex-to-validate-regex\">&quot;Regex to validate regex&quot;</a>"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1308043016,"post_id":6341367,"comment_id":7419044,"body_markdown":"I think the OP means, let&#39;s say he/she has `String s = &quot;my string with \\[.\\] and another [^b].&quot;;` How does he/she know that the string contains regular expression? Am I right or am I right? lol","body":"I think the OP means, let&#39;s say he/she has <code>String s = &quot;my string with \\[.\\] and another [^b].&quot;;</code> How does he/she know that the string contains regular expression? Am I right or am I right? lol"},{"owner":{"account_id":34512,"reputation":32670,"user_id":97614,"accept_rate":79,"display_name":"Sam Holder"},"score":0,"creation_date":1308043071,"post_id":6341367,"comment_id":7419056,"body_markdown":"do you mean check if a string is a *valid* regular expression?","body":"do you mean check if a string is a <i>valid</i> regular expression?"}],"answers":[{"tags":[],"owner":{"account_id":34512,"reputation":32670,"user_id":97614,"accept_rate":79,"display_name":"Sam Holder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308043231,"creation_date":1308042716,"answer_id":6341411,"question_id":6341367,"body_markdown":"there is no difference between a &#39;normal&#39; sting and a regular expression.  A regular expression is just a normal string which is used as a pattern to match occurrences of the pattern in another string.\r\n\r\nAs others have pointed out, it is possible that the string might not be a **valid** regular expression, but I think that is the only check you can do.  If it is valid then there is no way to know if it is a regular expression or just a normal string because **it will be a regular expression**\r\n\r\nIt is just a normal string which is interpreted in a specific way by the regex engine.\r\n\r\nfor example &quot;blah&quot; is a regular expression which will only match the string &quot;blah&quot; where ever it occurs in another string.\r\n\r\nWhen looked at this way, you can see that a regular expression does not need to contain any of the &#39;special characters&#39; that do more advanced pattern matching, and it will only match the string in the pattern  ","title":"How to check if the string is a regular expression or not","body":"<p>there is no difference between a 'normal' sting and a regular expression.  A regular expression is just a normal string which is used as a pattern to match occurrences of the pattern in another string.</p>\n\n<p>As others have pointed out, it is possible that the string might not be a <strong>valid</strong> regular expression, but I think that is the only check you can do.  If it is valid then there is no way to know if it is a regular expression or just a normal string because <strong>it will be a regular expression</strong></p>\n\n<p>It is just a normal string which is interpreted in a specific way by the regex engine.</p>\n\n<p>for example \"blah\" is a regular expression which will only match the string \"blah\" where ever it occurs in another string.</p>\n\n<p>When looked at this way, you can see that a regular expression does not need to contain any of the 'special characters' that do more advanced pattern matching, and it will only match the string in the pattern  </p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1308042731,"creation_date":1308042731,"answer_id":6341414,"question_id":6341367,"body_markdown":"The only reliable check you could do is if the `String` is a syntactically correct regular expression:\r\n\r\n    boolean isRegex;\r\n    try {\r\n      Pattern.compile(input);\r\n      isRegex = true;\r\n    } catch (PatternSyntaxException e) {\r\n      isRegex = false;\r\n    }\r\n\r\nNote, however, that this will result in `true` even for strings like `Hello World` and `I&#39;m not a regex`, because technically they are valid regular expressions.\r\n\r\nThe only cases where this will return `false` are strings that are not valid regular expressions, such as `[unclosed character class` or `(unclosed group` or `+`.","title":"How to check if the string is a regular expression or not","body":"<p>The only reliable check you could do is if the <code>String</code> is a syntactically correct regular expression:</p>\n\n<pre><code>boolean isRegex;\ntry {\n  Pattern.compile(input);\n  isRegex = true;\n} catch (PatternSyntaxException e) {\n  isRegex = false;\n}\n</code></pre>\n\n<p>Note, however, that this will result in <code>true</code> even for strings like <code>Hello World</code> and <code>I'm not a regex</code>, because technically they are valid regular expressions.</p>\n\n<p>The only cases where this will return <code>false</code> are strings that are not valid regular expressions, such as <code>[unclosed character class</code> or <code>(unclosed group</code> or <code>+</code>.</p>\n"},{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308042780,"creation_date":1308042780,"answer_id":6341429,"question_id":6341367,"body_markdown":"This is ugly but will detect simple regular expressions (with the caveat they must be designed for Java i.e. have the relevant back-slash character escaping).\r\n\r\n    public boolean isRegex(final String str) {\r\n    \ttry {\r\n    \t\tjava.util.regex.Pattern.compile(str);\r\n    \t\treturn true;\r\n    \t} catch (java.util.regex.PatternSyntaxException e) {\r\n    \t\treturn false;\r\n    \t}\r\n    }","title":"How to check if the string is a regular expression or not","body":"<p>This is ugly but will detect simple regular expressions (with the caveat they must be designed for Java i.e. have the relevant back-slash character escaping).</p>\n\n<pre><code>public boolean isRegex(final String str) {\n    try {\n        java.util.regex.Pattern.compile(str);\n        return true;\n    } catch (java.util.regex.PatternSyntaxException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63103,"reputation":11712,"user_id":187014,"accept_rate":85,"display_name":"Jos&#233;Mi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308043118,"creation_date":1308043118,"answer_id":6341484,"question_id":6341367,"body_markdown":"Maybe you&#39;d try to compile that regular expression using regexp package from Apache ( http://jakarta.apache.org/regexp/ ) and, if you get an exception then that&#39;s not a valid regexp so you&#39;d say it&#39;s a normal string.\r\n\r\n\r\n    boolean validRE = true;\r\n    try {\r\n        RE re = new RE(stringToCheck);\r\n    } catch (RESyntaxException e) {\r\n        validRE = false;\r\n    }\r\n\r\nObviously, the user would have typed an invalid regexp and you&#39;d be handling it as a normal string.","title":"How to check if the string is a regular expression or not","body":"<p>Maybe you'd try to compile that regular expression using regexp package from Apache ( <a href=\"http://jakarta.apache.org/regexp/\" rel=\"nofollow\">http://jakarta.apache.org/regexp/</a> ) and, if you get an exception then that's not a valid regexp so you'd say it's a normal string.</p>\n\n<pre><code>boolean validRE = true;\ntry {\n    RE re = new RE(stringToCheck);\n} catch (RESyntaxException e) {\n    validRE = false;\n}\n</code></pre>\n\n<p>Obviously, the user would have typed an invalid regexp and you'd be handling it as a normal string.</p>\n"},{"tags":[],"owner":{"account_id":1632101,"reputation":1,"user_id":1506437,"display_name":"Anonymous"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1341570104,"creation_date":1341570104,"answer_id":11360348,"question_id":6341367,"body_markdown":"    /**\r\n     * If input string is a regex, matches will always return a false.\r\n     */ \r\n    public boolean isRegex(final String str) {   \r\n        return str != null ? !str.matches(str) : false;\r\n    }\r\n\r\n","title":"How to check if the string is a regular expression or not","body":"<pre><code>/**\n * If input string is a regex, matches will always return a false.\n */ \npublic boolean isRegex(final String str) {   \n    return str != null ? !str.matches(str) : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661186006,"creation_date":1661186006,"answer_id":73448321,"question_id":6341367,"body_markdown":"If anyone just want to distinguish just plain text strings and regular-expressions:\r\n\r\n\r\n    static boolean hasSpecialRegexCharacters(String s){\r\n        Pattern regexSpecialCharacters = Pattern\r\n    \t\t\t.compile(&quot;[\\\\\\\\\\\\.\\\\[\\\\]\\\\{\\\\}\\\\(\\\\)\\\\&lt;\\\\&gt;\\\\*\\\\+\\\\-\\\\=\\\\!\\\\?\r\n          \\\\^\\\\$\\\\|]&quot;);\r\n         return regexSpecialCharacters.matcher(s).find();\r\n    }\r\n    \r\n\r\n","title":"How to check if the string is a regular expression or not","body":"<p>If anyone just want to distinguish just plain text strings and regular-expressions:</p>\n<pre><code>static boolean hasSpecialRegexCharacters(String s){\n    Pattern regexSpecialCharacters = Pattern\n            .compile(&quot;[\\\\\\\\\\\\.\\\\[\\\\]\\\\{\\\\}\\\\(\\\\)\\\\&lt;\\\\&gt;\\\\*\\\\+\\\\-\\\\=\\\\!\\\\?\n      \\\\^\\\\$\\\\|]&quot;);\n     return regexSpecialCharacters.matcher(s).find();\n}\n</code></pre>\n"}],"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32359,"favorite_count":0,"down_vote_count":3,"up_vote_count":26,"accepted_answer_id":6341414,"answer_count":6,"score":23,"last_activity_date":1661186006,"creation_date":1308042502,"question_id":6341367,"body_markdown":"I have a string. How I can check if the string is a regular expression or contains regular expression or it is a normal string?","title":"How to check if the string is a regular expression or not","body":"<p>I have a string. How I can check if the string is a regular expression or contains regular expression or it is a normal string?</p>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660897005,"post_id":73399727,"comment_id":129646652,"body_markdown":"To understand your problem better - you&#39;re just not sure if using mocks the way you did is correct? Also - do you have any assertions in your test?","body":"To understand your problem better - you&#39;re just not sure if using mocks the way you did is correct? Also - do you have any assertions in your test?"},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1661015615,"post_id":73399727,"comment_id":129672532,"body_markdown":"Hello Jonasz,\nI use assertions, I just don&#39;t have them in my example code (to keep it as simple as possible).\n\nHere I would check something like the entries or the size of the hitlist. (assertEquals]\n\nMy problem is that I get an object back (client.findByName(&quot;Maria&quot;)) and use it in the next method (customerService.createHitList(pageForTest). And that it doesn&#39;t matter if the object (&quot;page&quot;) is changed from its start state or not in the course of &quot;exampleService.doYourThing(&quot;Maria&quot;).","body":"Hello Jonasz, I use assertions, I just don&#39;t have them in my example code (to keep it as simple as possible).  Here I would check something like the entries or the size of the hitlist. (assertEquals]  My problem is that I get an object back (client.findByName(&quot;Maria&quot;)) and use it in the next method (customerService.createHitList(pageForTest). And that it doesn&#39;t matter if the object (&quot;page&quot;) is changed from its start state or not in the course of &quot;exampleService.doYourThing(&quot;Maria&quot;)."},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1661015629,"post_id":73399727,"comment_id":129672539,"body_markdown":"I&#39;m unsure if this is really a problem. Originally I thought. That I could use this test, for example, to ensure that &quot;pageForTest&quot; does NOT change.\n\nIn the end, I can probably only check this via assertions.\n\nIt&#39;s really hard for me to describe what the problem is :)\n\nIt would help me to know what tests the doYourThing() method should have and what they look like specifically.","body":"I&#39;m unsure if this is really a problem. Originally I thought. That I could use this test, for example, to ensure that &quot;pageForTest&quot; does NOT change.  In the end, I can probably only check this via assertions.  It&#39;s really hard for me to describe what the problem is :)  It would help me to know what tests the doYourThing() method should have and what they look like specifically."}],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661185533,"creation_date":1661185533,"answer_id":73448224,"question_id":73399727,"body_markdown":"When writing unit tests it&#39;s important to actually define **the unit**. A common misconception is treating every class as a separate unit, while we use classes to separate responsibilities, but a certain unit of work can be represented by more than one class (so it could include more than one responsibility as a whole). You can read more about it on the Internet, for example on [the Martin Fowler&#39;s page][1].\r\n\r\nOnce you define a unit you want to test, you will need to make some assumptions regarding the dependencies used by the test. I will point you towards [the Martin Fowler&#39;s page][2] for more information, but in your case this could be a mock of the repository retrieving some data from the database or a service representing another unit, which has it&#39;s own tests and it&#39;s behavior can be assumed and reproduced using a mock. The important thing is that we do not say here that all the dependencies should be mocked, because maybe testing given method while mocking all the dependencies only tests Mockito and not actually your code.\r\n\r\nNow it&#39;s time to actually understand what you want to test - what is the actual logic of the code. When developing using [test-driven development][3], you write the tests first as the requirements are pre-defined and the tests can point you towards the best API that should be exposed by the class. When you have tests ready, you implement the code as designed during writing the tests. In your case you have your logic ready and let&#39;s assume it&#39;s doing what it&#39;s supposed to do - **that&#39;s what you want to test**. You are not actually testing the code, but the desired behavior of the code. After the test is written, you can change the code in many ways including extracting some parts to a method or even a separate class, but the behavior should be well defined and changing the internals of a method or the class (refactoring) should not require changing the tests, unless API or the expected behavior changes.\r\n\r\nThe main problem with trying to help you understand how to test your code is actually the lack of context. Method named `doYourThing` does not describe the expected behavior of the method, but this is actually the most important thing when writing a test - that *thing* should be done. If you strictly stick to how it&#39;s done internally in your test, the code will be hard to modify in the future and the tests may be unreliable. If the important behavior includes setting the `isNew` value, maybe the object returned from the mock should be a spy or it should be verified with assertions? If the actual logic lies in the `customerService`, then maybe it shouldn&#39;t be mocked, but it should be the part of the unit? It requires context, but hopefully I explained some things regarding testing as a concept. I recommend reading up on testing online as multiple articles like those by Martin Fowler can be more helpful in understanding it.\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/UnitTest.html\r\n  [2]: https://martinfowler.com/bliki/TestDouble.html\r\n  [3]: https://martinfowler.com/bliki/TestDrivenDevelopment.html","title":"Mockito Object of willReturn() is a Parameter of the next given()","body":"<p>When writing unit tests it's important to actually define <strong>the unit</strong>. A common misconception is treating every class as a separate unit, while we use classes to separate responsibilities, but a certain unit of work can be represented by more than one class (so it could include more than one responsibility as a whole). You can read more about it on the Internet, for example on <a href=\"https://martinfowler.com/bliki/UnitTest.html\" rel=\"nofollow noreferrer\">the Martin Fowler's page</a>.</p>\n<p>Once you define a unit you want to test, you will need to make some assumptions regarding the dependencies used by the test. I will point you towards <a href=\"https://martinfowler.com/bliki/TestDouble.html\" rel=\"nofollow noreferrer\">the Martin Fowler's page</a> for more information, but in your case this could be a mock of the repository retrieving some data from the database or a service representing another unit, which has it's own tests and it's behavior can be assumed and reproduced using a mock. The important thing is that we do not say here that all the dependencies should be mocked, because maybe testing given method while mocking all the dependencies only tests Mockito and not actually your code.</p>\n<p>Now it's time to actually understand what you want to test - what is the actual logic of the code. When developing using <a href=\"https://martinfowler.com/bliki/TestDrivenDevelopment.html\" rel=\"nofollow noreferrer\">test-driven development</a>, you write the tests first as the requirements are pre-defined and the tests can point you towards the best API that should be exposed by the class. When you have tests ready, you implement the code as designed during writing the tests. In your case you have your logic ready and let's assume it's doing what it's supposed to do - <strong>that's what you want to test</strong>. You are not actually testing the code, but the desired behavior of the code. After the test is written, you can change the code in many ways including extracting some parts to a method or even a separate class, but the behavior should be well defined and changing the internals of a method or the class (refactoring) should not require changing the tests, unless API or the expected behavior changes.</p>\n<p>The main problem with trying to help you understand how to test your code is actually the lack of context. Method named <code>doYourThing</code> does not describe the expected behavior of the method, but this is actually the most important thing when writing a test - that <em>thing</em> should be done. If you strictly stick to how it's done internally in your test, the code will be hard to modify in the future and the tests may be unreliable. If the important behavior includes setting the <code>isNew</code> value, maybe the object returned from the mock should be a spy or it should be verified with assertions? If the actual logic lies in the <code>customerService</code>, then maybe it shouldn't be mocked, but it should be the part of the unit? It requires context, but hopefully I explained some things regarding testing as a concept. I recommend reading up on testing online as multiple articles like those by Martin Fowler can be more helpful in understanding it.</p>\n"}],"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73448224,"answer_count":1,"score":0,"last_activity_date":1661185533,"creation_date":1660811080,"question_id":73399727,"body_markdown":"I don&#39;t know if I&#39;m testing this method wrong or if the whole test is nonsense. (Example code is below)\r\n\r\nI would like to test my ExampleService with Mockito. This has the client and the customerService as dependencies (both with @Mock). Both dependencies are used in exampleService.doYourThing().\r\n\r\nclient.findByName() returns a ResultPage, which in turn is used in customerService.createHitList(). I thought it would be a good idea to test that the page object does not change during the &quot;doYourThing&quot; method, after being returned by client.findByName(). Therefore, customerService.createHitList() should only return something if &#39;page&#39; does not change.\r\n\r\nThe problem: If &#39;page&#39; is returned in &quot;doYourThing()&quot; by client.findByName() and is changed with &quot;page.setIsNew(true)&quot; as in my example, then in my test method the &#39;pageForTest&#39; object also changes. As a result, the condition I set with &quot;given(this.customerService.createHitList(pageForTest))&quot; is met and the customerList is returned.\r\n\r\nI know that &#39;page&#39; is a reference of &#39;pageForTest&#39; and thus changes.\r\n\r\nAnyway, the goal of my test is not fulfilled by this. How would you tackle the problem?\r\n\r\nThis is only sample code, there may be small syntax errors.\r\n\r\nTest method:\r\n```\r\nExampleService exampleService = new ExampleService(client, customerService);\r\n\r\nResultPage pageForTest = new ResultPage();\r\npageForTest.setIsFulltextSearch(true);\r\npageForTest.setIsNew(false);\r\npageForTest.setHits(hits);\r\n\r\ngiven(this.client.findByName(&quot;Maria&quot;)).willReturn(pageForTest);\r\n\r\ngiven(this.customerService.createHitList(pageForTest)).willReturn(customerList);\r\n\r\nHitList hitList = this.exampleService.doYourThing(&quot;Maria&quot;);\r\n\r\n\r\n```\r\nExampleService\r\n```\r\npublic HitList doYourThing(String name) {\r\n  ResultPage page = this.clientFindByName(name);\r\n  page.setIsNew(true);\r\n  HitList hitList = this.customerService.createHitList(page);\r\n  return hitList; \r\n}\r\n\r\n```","title":"Mockito Object of willReturn() is a Parameter of the next given()","body":"<p>I don't know if I'm testing this method wrong or if the whole test is nonsense. (Example code is below)</p>\n<p>I would like to test my ExampleService with Mockito. This has the client and the customerService as dependencies (both with @Mock). Both dependencies are used in exampleService.doYourThing().</p>\n<p>client.findByName() returns a ResultPage, which in turn is used in customerService.createHitList(). I thought it would be a good idea to test that the page object does not change during the &quot;doYourThing&quot; method, after being returned by client.findByName(). Therefore, customerService.createHitList() should only return something if 'page' does not change.</p>\n<p>The problem: If 'page' is returned in &quot;doYourThing()&quot; by client.findByName() and is changed with &quot;page.setIsNew(true)&quot; as in my example, then in my test method the 'pageForTest' object also changes. As a result, the condition I set with &quot;given(this.customerService.createHitList(pageForTest))&quot; is met and the customerList is returned.</p>\n<p>I know that 'page' is a reference of 'pageForTest' and thus changes.</p>\n<p>Anyway, the goal of my test is not fulfilled by this. How would you tackle the problem?</p>\n<p>This is only sample code, there may be small syntax errors.</p>\n<p>Test method:</p>\n<pre><code>ExampleService exampleService = new ExampleService(client, customerService);\n\nResultPage pageForTest = new ResultPage();\npageForTest.setIsFulltextSearch(true);\npageForTest.setIsNew(false);\npageForTest.setHits(hits);\n\ngiven(this.client.findByName(&quot;Maria&quot;)).willReturn(pageForTest);\n\ngiven(this.customerService.createHitList(pageForTest)).willReturn(customerList);\n\nHitList hitList = this.exampleService.doYourThing(&quot;Maria&quot;);\n\n\n</code></pre>\n<p>ExampleService</p>\n<pre><code>public HitList doYourThing(String name) {\n  ResultPage page = this.clientFindByName(name);\n  page.setIsNew(true);\n  HitList hitList = this.customerService.createHitList(page);\n  return hitList; \n}\n\n</code></pre>\n"},{"tags":["java","kotlin","encoding","character-encoding"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1561061874,"post_id":56691003,"comment_id":99951829,"body_markdown":"If you&#39;re starting with some byte data, and ending with a String, aren&#39;t you **decoding from** UTF8?&#160; (The background here is that characters are (in Java/Kotlin, anyway) 16-bit, and UTF-8 is a way of encoding those Unicode characters into 8-bit bytes.&#160; So if `response.data` is already in UTF-8, then this is decoding; or if not, then I don&#39;t know what this question is about!)","body":"If you&#39;re starting with some byte data, and ending with a String, aren&#39;t you <b>decoding from</b> UTF8?  (The background here is that characters are (in Java/Kotlin, anyway) 16-bit, and UTF-8 is a way of encoding those Unicode characters into 8-bit bytes.  So if <code>response.data</code> is already in UTF-8, then this is decoding; or if not, then I don&#39;t know what this question is about!)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1561071181,"creation_date":1561051349,"answer_id":56691052,"question_id":56691003,"body_markdown":"Kotlin has [an overload](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html) of `ByteArray.toString` accepting a `Charset`.  All you need to do is use it: `array.toString(charset)`.\r\n\r\nI cannot find a section in the documentation specifying that `ByteArray.toString()` does the right thing, as it *doesn&#39;t* in Java and that behavior probably is preserved in Kotlin.  I would guess it does the wrong thing. I recommend using `toString(charset)` explicitly.","title":"Encode String to UTF-8 in Kotlin","body":"<p>Kotlin has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html\" rel=\"noreferrer\">an overload</a> of <code>ByteArray.toString</code> accepting a <code>Charset</code>.  All you need to do is use it: <code>array.toString(charset)</code>.</p>\n\n<p>I cannot find a section in the documentation specifying that <code>ByteArray.toString()</code> does the right thing, as it <em>doesn't</em> in Java and that behavior probably is preserved in Kotlin.  I would guess it does the wrong thing. I recommend using <code>toString(charset)</code> explicitly.</p>\n"},{"tags":[],"owner":{"account_id":465230,"reputation":22171,"user_id":869184,"accept_rate":40,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661185505,"creation_date":1561074322,"answer_id":56695167,"question_id":56691003,"body_markdown":"Kotlin 1.4 provides a common [`ByteArray.decodeToString`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/decode-to-string.html) function.\r\n\r\nIt takes a `ByteArray` containing bytes of string encoded with utf8 encoding and decodes it to kotlin `String`. So you can use it like:\r\n\r\n```\r\nval response: String = response.data.decodeToString()\r\n```","title":"Encode String to UTF-8 in Kotlin","body":"<p>Kotlin 1.4 provides a common <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/decode-to-string.html\" rel=\"nofollow noreferrer\"><code>ByteArray.decodeToString</code></a> function.</p>\n<p>It takes a <code>ByteArray</code> containing bytes of string encoded with utf8 encoding and decodes it to kotlin <code>String</code>. So you can use it like:</p>\n<pre><code>val response: String = response.data.decodeToString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3505946,"reputation":2815,"user_id":2931487,"accept_rate":60,"display_name":"Sagar Devanga"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1573027302,"creation_date":1573027302,"answer_id":58725516,"question_id":56691003,"body_markdown":"You can try this\r\n**String(data, Charsets.UTF_8)**\r\n\r\nReference : https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html","title":"Encode String to UTF-8 in Kotlin","body":"<p>You can try this\n<strong>String(data, Charsets.UTF_8)</strong></p>\n\n<p>Reference : <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html</a></p>\n"},{"tags":[],"owner":{"account_id":5242506,"reputation":384,"user_id":4189153,"display_name":"Gopi Cg"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1595993086,"creation_date":1595993086,"answer_id":63145875,"question_id":56691003,"body_markdown":"using kotlin function as\r\n\r\n    charset(&quot;UTF-8&quot;)\r\n\r\nusing from  your data\r\n\r\n     String(response.data, charset(&quot;UTF-8&quot;))","title":"Encode String to UTF-8 in Kotlin","body":"<p>using kotlin function as</p>\n<pre><code>charset(&quot;UTF-8&quot;)\n</code></pre>\n<p>using from  your data</p>\n<pre><code> String(response.data, charset(&quot;UTF-8&quot;))\n</code></pre>\n"}],"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46709,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":56691052,"answer_count":4,"score":19,"last_activity_date":1661185505,"creation_date":1561051187,"question_id":56691003,"body_markdown":"Often times when dealing with json and responses you want to encode String to UTF-8 in java.\r\n\r\n    String response = new String(response.data, UTF); // java code\r\n\r\nFor Kotlin, how is this done? I converted my Java class and the result was\r\n\r\n    String response = String(response.data, UTF) // kotlin code\r\n\r\nBut this results in an error, because I believe the Kotlin String() method is different than what I am doing in Java. Is it as simple as using the toString()?\r\n\r\n    String response = response.data.toString() // kotlin code\r\n\r\nHow does the system know to use UTF-8, or is that just the default? This is just hypothetical, but what if I wanted to do something with String object and therefore used UTF-16? How can I change the encoding?","title":"Encode String to UTF-8 in Kotlin","body":"<p>Often times when dealing with json and responses you want to encode String to UTF-8 in java.</p>\n\n<pre><code>String response = new String(response.data, UTF); // java code\n</code></pre>\n\n<p>For Kotlin, how is this done? I converted my Java class and the result was</p>\n\n<pre><code>String response = String(response.data, UTF) // kotlin code\n</code></pre>\n\n<p>But this results in an error, because I believe the Kotlin String() method is different than what I am doing in Java. Is it as simple as using the toString()?</p>\n\n<pre><code>String response = response.data.toString() // kotlin code\n</code></pre>\n\n<p>How does the system know to use UTF-8, or is that just the default? This is just hypothetical, but what if I wanted to do something with String object and therefore used UTF-16? How can I change the encoding?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":9635091,"reputation":12798,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1661185360,"post_id":73448066,"comment_id":129706450,"body_markdown":"What exactly is `allOptions`? `Boolean` does not have `isCorrect` method.","body":"What exactly is <code>allOptions</code>? <code>Boolean</code> does not have <code>isCorrect</code> method."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1661185392,"post_id":73448066,"comment_id":129706465,"body_markdown":"Where is `allOptions` declared? _How_ is it declared? ... an arraylist of _what_? It must be some class because `.isCorrect()` and `.setCorrect()` aren&#39;t any standard sort of thing.","body":"Where is <code>allOptions</code> declared? <i>How</i> is it declared? ... an arraylist of <i>what</i>? It must be some class because <code>.isCorrect()</code> and <code>.setCorrect()</code> aren&#39;t any standard sort of thing."},{"owner":{"account_id":23529333,"reputation":13,"user_id":17575271,"display_name":"Shakked"},"score":0,"creation_date":1661185513,"post_id":73448066,"comment_id":129706505,"body_markdown":"edited and modified","body":"edited and modified"},{"owner":{"account_id":9635091,"reputation":12798,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1661188896,"post_id":73448066,"comment_id":129707620,"body_markdown":"First of all, we still do not know what `Option` is. Second of all, `setSingleOption` could be easily implemented using `.iterator()` rather than an enhanced `for()` loop or two.","body":"First of all, we still do not know what <code>Option</code> is. Second of all, <code>setSingleOption</code> could be easily implemented using <code>.iterator()</code> rather than an enhanced <code>for()</code> loop or two."}],"owner":{"account_id":23529333,"reputation":13,"user_id":17575271,"display_name":"Shakked"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661185500,"creation_date":1661184631,"question_id":73448066,"body_markdown":"I need to find the first true value in arraylist and then the next true I need to turn into false and I don&#39;t know how to do so. I tried to use isCorrect but it doesn&#39;t do what I want it to.\r\nHere&#39;s what I wrote so far:\r\n```\r\n private boolean singleOption;\r\n    private ArrayList&lt;Option&gt; allOptions;\r\n\r\n    public ClosedQuestion(int id, String title, boolean mandatory,boolean singleOption)\r\n    {\r\n        super(id,title,mandatory);\r\n        this.singleOption=singleOption;\r\n        allOptions = new ArrayList&lt;Option&gt;();\r\n    }\r\n\r\n    public boolean isSingleOption() {\r\n        return singleOption;\r\n    }\r\n\r\n    public void setSingleOption(boolean singleOption)\r\n    {\r\n        boolean flag = true;\r\n        for (int i = 0; i &lt; allOptions.size();i++)\r\n        {\r\n            if(allOptions.get(i).isCorrect()&amp;&amp;flag)\r\n            {\r\n                flag = false;\r\n            }\r\n            if (!flag)\r\n            {\r\n                for(int j=1; j&lt; allOptions.size();j++)\r\n                {\r\n                    allOptions.get(j).setCorrect(false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public ClosedQuestion(ClosedQuestion other)\r\n    {\r\n        super(other);\r\n        this.singleOption=other.singleOption;\r\n        allOptions = new ArrayList&lt;Option&gt;();\r\n        for (Option o: other.allOptions)\r\n        {\r\n            allOptions.add(new Option(o));\r\n        }\r\n    }\r\n}\r\n```","title":"arraylist method to check if array list value is true","body":"<p>I need to find the first true value in arraylist and then the next true I need to turn into false and I don't know how to do so. I tried to use isCorrect but it doesn't do what I want it to.\nHere's what I wrote so far:</p>\n<pre><code> private boolean singleOption;\n    private ArrayList&lt;Option&gt; allOptions;\n\n    public ClosedQuestion(int id, String title, boolean mandatory,boolean singleOption)\n    {\n        super(id,title,mandatory);\n        this.singleOption=singleOption;\n        allOptions = new ArrayList&lt;Option&gt;();\n    }\n\n    public boolean isSingleOption() {\n        return singleOption;\n    }\n\n    public void setSingleOption(boolean singleOption)\n    {\n        boolean flag = true;\n        for (int i = 0; i &lt; allOptions.size();i++)\n        {\n            if(allOptions.get(i).isCorrect()&amp;&amp;flag)\n            {\n                flag = false;\n            }\n            if (!flag)\n            {\n                for(int j=1; j&lt; allOptions.size();j++)\n                {\n                    allOptions.get(j).setCorrect(false);\n                }\n            }\n        }\n    }\n\n    public ClosedQuestion(ClosedQuestion other)\n    {\n        super(other);\n        this.singleOption=other.singleOption;\n        allOptions = new ArrayList&lt;Option&gt;();\n        for (Option o: other.allOptions)\n        {\n            allOptions.add(new Option(o));\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8900,"page":1092,"page_size":100}
