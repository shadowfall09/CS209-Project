{"items":[{"tags":["java","validation","javax"],"comments":[{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1527143013,"post_id":50502163,"comment_id":88016921,"body_markdown":"https://stackoverflow.com/questions/38224733/size-annotation-to-validate-a-field?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"<a href=\"https://stackoverflow.com/questions/38224733/size-annotation-to-validate-a-field?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"size annotation to validate a field\">stackoverflow.com/questions/38224733/&hellip;</a>"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1527143026,"post_id":50502163,"comment_id":88016927,"body_markdown":"check above link","body":"check above link"}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527143208,"creation_date":1527142904,"answer_id":50502304,"question_id":50502163,"body_markdown":"You need a custom `cross field validation` annotation.\r\n\r\nOne way is to annotate your custom class with `@YourCustomAnnotation`.\r\n\r\nIn `YourCustomAnnotationValidator` you have access to your value, hence you can implement your logic there:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @Constraint(validatedBy = DateValidator.class)\r\n    public @interface RangeCheck {\r\n    \r\n        String message();\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class RangeCheckValidtor implements ConstraintValidator&lt;RangeCheck, YourDto&gt; {\r\n       \r\n        @Override\r\n        public void initialize(RangeCheck date) {\r\n            // Nothing here\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(YourDto dto, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (dto.getFrom() == null || dto.getTo() == null) {\r\n                return true;\r\n            }\r\n            return from &lt; to;\r\n        }\r\n    }\r\n\r\nThen mark your `YourDto` class with `@RangeCheck`:\r\n\r\n    @RangeCheck(message = &quot;your messgae&quot;)\r\n    public class YourDto {\r\n       // from\r\n       // to\r\n    }\r\n\r\nOr simply manually validate the relation of two fields.","title":"javax validation greater or less than from other property","body":"<p>You need a custom <code>cross field validation</code> annotation.</p>\n\n<p>One way is to annotate your custom class with <code>@YourCustomAnnotation</code>.</p>\n\n<p>In <code>YourCustomAnnotationValidator</code> you have access to your value, hence you can implement your logic there:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Constraint(validatedBy = DateValidator.class)\npublic @interface RangeCheck {\n\n    String message();\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class RangeCheckValidtor implements ConstraintValidator&lt;RangeCheck, YourDto&gt; {\n\n    @Override\n    public void initialize(RangeCheck date) {\n        // Nothing here\n    }\n\n    @Override\n    public boolean isValid(YourDto dto, ConstraintValidatorContext constraintValidatorContext) {\n        if (dto.getFrom() == null || dto.getTo() == null) {\n            return true;\n        }\n        return from &lt; to;\n    }\n}\n</code></pre>\n\n<p>Then mark your <code>YourDto</code> class with <code>@RangeCheck</code>:</p>\n\n<pre><code>@RangeCheck(message = \"your messgae\")\npublic class YourDto {\n   // from\n   // to\n}\n</code></pre>\n\n<p>Or simply manually validate the relation of two fields.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688945179,"post_id":76632971,"comment_id":135138719,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76632971/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":128922,"reputation":1,"user_id":2019850,"display_name":"Mustafa Bolat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688684016,"creation_date":1688684016,"answer_id":76632971,"question_id":50502163,"body_markdown":"For anyone who needs a more generic solution, validator can be implemented to compare two given property. Here is what I came up with : \r\n\r\n\r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = { CompareFieldsValidator.class })\r\n    public @interface CompareFields {\r\n    \r\n        String message() default &quot;{CompareFields.message}&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        String left();\r\n    \r\n        String right();\r\n        \r\n        int[] vals() default {0};\r\n    \r\n        @Target({ TYPE, ANNOTATION_TYPE })\r\n        @Retention(RUNTIME)\r\n        public @interface List {\r\n        \tCompareFields[] value();\r\n        }\r\n    }\r\n\r\n\r\n    public class CompareFieldsValidator implements ConstraintValidator&lt;CompareFields, Object&gt; {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\r\n    \r\n        private String left;\r\n        private String right;\r\n        private Set&lt;Integer&gt; vals;\r\n    \r\n        @Override\r\n        public void initialize(CompareFields constraintAnnotation) {\r\n            left = constraintAnnotation.left();\r\n            right = constraintAnnotation.right();\r\n            vals = Arrays.stream(constraintAnnotation.vals()).boxed().collect(Collectors.toSet());\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n            if (value == null)\r\n                return true;\r\n    \r\n            try {\r\n                Class&lt;?&gt; clazz = value.getClass();\r\n                //get left operand as comparable\r\n                Field leftField = ReflectionUtils.findField(clazz, left);\r\n                leftField.setAccessible(true);\r\n                Object leftObj = leftField.get(value);\r\n                Comparable&lt;Object&gt; leftComparable = (Comparable&lt;Object&gt;)leftObj;\r\n                //get right operand\r\n                Field rightField = ReflectionUtils.findField(clazz, right);\r\n                rightField.setAccessible(true);\r\n                Object rightObj = rightField.get(value);\r\n                \r\n                //null check : return true if both null\r\n                if(leftComparable == null) {\r\n                \tif(rightObj == null) {\r\n                \t\treturn true;\r\n                \t} else {\r\n                \t\tcontext.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\r\n                \t\t\t.addPropertyNode(left).addPropertyNode(right);\r\n                \t\treturn false;\r\n                \t}\r\n                }\r\n                \r\n                //return true if compareTo result in vals array\r\n                if(vals.contains(leftComparable.compareTo(rightObj))) {\r\n                \treturn true;\r\n                }else {\r\n                \tcontext.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\r\n        \t\t\t.addPropertyNode(left).addConstraintViolation();\r\n                \treturn false;\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Cannot validate one of two field in &#39;&quot; + value + &quot;&#39;!&quot;, e);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //Usage: selling price must be smallar than or equal to list price\r\n    @CompareFields(left = &quot;sellingPrice&quot;, right = &quot;listPrice&quot;, vals = {-1,0})\r\n    public class InventoryDto{\r\n    ...\r\n    }\r\n    //Usage: start time must be before finish time\r\n    @CompareFields(left = &quot;startTime&quot;, right = &quot;finishTime&quot;, vals = {-1})\r\n    public class GateLogDto{\r\n    ...\r\n    }\r\n\r\n","title":"javax validation greater or less than from other property","body":"<p>For anyone who needs a more generic solution, validator can be implemented to compare two given property. Here is what I came up with :</p>\n<pre><code>@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { CompareFieldsValidator.class })\npublic @interface CompareFields {\n\n    String message() default &quot;{CompareFields.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    String left();\n\n    String right();\n    \n    int[] vals() default {0};\n\n    @Target({ TYPE, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    public @interface List {\n        CompareFields[] value();\n    }\n}\n\n\npublic class CompareFieldsValidator implements ConstraintValidator&lt;CompareFields, Object&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\n\n    private String left;\n    private String right;\n    private Set&lt;Integer&gt; vals;\n\n    @Override\n    public void initialize(CompareFields constraintAnnotation) {\n        left = constraintAnnotation.left();\n        right = constraintAnnotation.right();\n        vals = Arrays.stream(constraintAnnotation.vals()).boxed().collect(Collectors.toSet());\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null)\n            return true;\n\n        try {\n            Class&lt;?&gt; clazz = value.getClass();\n            //get left operand as comparable\n            Field leftField = ReflectionUtils.findField(clazz, left);\n            leftField.setAccessible(true);\n            Object leftObj = leftField.get(value);\n            Comparable&lt;Object&gt; leftComparable = (Comparable&lt;Object&gt;)leftObj;\n            //get right operand\n            Field rightField = ReflectionUtils.findField(clazz, right);\n            rightField.setAccessible(true);\n            Object rightObj = rightField.get(value);\n            \n            //null check : return true if both null\n            if(leftComparable == null) {\n                if(rightObj == null) {\n                    return true;\n                } else {\n                    context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\n                        .addPropertyNode(left).addPropertyNode(right);\n                    return false;\n                }\n            }\n            \n            //return true if compareTo result in vals array\n            if(vals.contains(leftComparable.compareTo(rightObj))) {\n                return true;\n            }else {\n                context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\n                .addPropertyNode(left).addConstraintViolation();\n                return false;\n            }\n        } catch (Exception e) {\n            log.error(&quot;Cannot validate one of two field in '&quot; + value + &quot;'!&quot;, e);\n            return false;\n        }\n    }\n}\n\n\n//Usage: selling price must be smallar than or equal to list price\n@CompareFields(left = &quot;sellingPrice&quot;, right = &quot;listPrice&quot;, vals = {-1,0})\npublic class InventoryDto{\n...\n}\n//Usage: start time must be before finish time\n@CompareFields(left = &quot;startTime&quot;, right = &quot;finishTime&quot;, vals = {-1})\npublic class GateLogDto{\n...\n}\n</code></pre>\n"}],"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14951,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1688684016,"creation_date":1527142362,"question_id":50502163,"body_markdown":"with respect to `javax.validation`\r\n\r\n      @NotNull(message = &quot;From can&#39;t be null&quot;)\r\n      @Min(value = 1, message = &quot;From must be greater than zero&quot;)\r\n      private Long from;\r\n      @NotNull(message = &quot;To can&#39;t be null&quot;)\r\n      @Min(value = 1, message = &quot;To must be greater than zero&quot;)\r\n      private Long to;\r\n\r\nI want to also validate that **FROM** should be less than **TO** and **TO** should be greater than **FROM** ? how we can do this using javax validation&#39;s annotation ?","title":"javax validation greater or less than from other property","body":"<p>with respect to <code>javax.validation</code></p>\n\n<pre><code>  @NotNull(message = \"From can't be null\")\n  @Min(value = 1, message = \"From must be greater than zero\")\n  private Long from;\n  @NotNull(message = \"To can't be null\")\n  @Min(value = 1, message = \"To must be greater than zero\")\n  private Long to;\n</code></pre>\n\n<p>I want to also validate that <strong>FROM</strong> should be less than <strong>TO</strong> and <strong>TO</strong> should be greater than <strong>FROM</strong> ? how we can do this using javax validation's annotation ?</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":2219078,"reputation":2030,"user_id":1959005,"accept_rate":55,"display_name":"Poutrathor"},"score":3,"creation_date":1413882193,"post_id":14832151,"comment_id":41600962,"body_markdown":"@anyone_reaching_this_issue : This question (http://stackoverflow.com/questions/6192781/month-name-as-a-string) mentions getDisplayName() and other intesreting tricks","body":"@anyone_reaching_this_issue : This question (<a href=\"http://stackoverflow.com/questions/6192781/month-name-as-a-string\" title=\"month name as a string\">stackoverflow.com/questions/6192781/month-name-as-a-string</a>) mentions getDisplayName() and other intesreting tricks"}],"answers":[{"comments":[{"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"score":2,"creation_date":1360671327,"post_id":14832184,"comment_id":20781871,"body_markdown":"This will work but I would like to get the string repr. of the month when I know the index of it. I think I will use the other approaches, thanks.","body":"This will work but I would like to get the string repr. of the month when I know the index of it. I think I will use the other approaches, thanks."},{"owner":{"account_id":458026,"reputation":2652,"user_id":857681,"display_name":"speedynomads"},"score":54,"creation_date":1370170815,"post_id":14832184,"comment_id":24356067,"body_markdown":"this helped me to get the current month name. although i used (&quot;MMMM&quot;) to get the full month name instead of a shortened one.","body":"this helped me to get the current month name. although i used (&quot;MMMM&quot;) to get the full month name instead of a shortened one."}],"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":2,"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1636862621,"creation_date":1360670743,"answer_id":14832184,"question_id":14832151,"body_markdown":"You can achieve it using [`SimpleDateFormat`][1], which is meant to format date and times:\r\n\r\n```lang-java\r\nCalendar cal = Calendar.getInstance();\r\nSystem.out.println(new SimpleDateFormat(&quot;MMM&quot;).format(cal.getTime()));\r\n```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"How can I get Month Name from Calendar?","body":"<p>You can achieve it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>, which is meant to format date and times:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar cal = Calendar.getInstance();\nSystem.out.println(new SimpleDateFormat(&quot;MMM&quot;).format(cal.getTime()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1786278,"reputation":552,"user_id":1627688,"display_name":"ahaaman"},"score":6,"creation_date":1397133135,"post_id":14832267,"comment_id":35106108,"body_markdown":"DateFormatSymbols implementation was changed in JDK 8, so getMonths method doesn&#39;t return correct values for all Locale&#39;s anymore: http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html","body":"DateFormatSymbols implementation was changed in JDK 8, so getMonths method doesn&#39;t return correct values for all Locale&#39;s anymore: <a href=\"http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/&hellip;</a>"},{"owner":{"account_id":1415915,"reputation":2836,"user_id":1341599,"accept_rate":94,"display_name":"Dominik"},"score":1,"creation_date":1399973464,"post_id":14832267,"comment_id":36278344,"body_markdown":"could you give a workaround/working solution for JDK8?","body":"could you give a workaround/working solution for JDK8?"},{"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"score":0,"creation_date":1509620471,"post_id":14832267,"comment_id":81095439,"body_markdown":"when would you get a month as a number?","body":"when would you get a month as a number?"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1543512974,"post_id":14832267,"comment_id":93955864,"body_markdown":"Mickey to answer your question, here is how you get month as int and use it - \tpublic static void main(String[] args) {\n\t\tint month;\n\t\tGregorianCalendar date = new GregorianCalendar();\n\t\tmonth = date.get(Calendar.MONTH);\n\n\t\tSystem.out.println(&quot;Current month is  &quot; + (month + 1) + &quot; and Month name is &quot; + getMonthForInt(month));\n\n\t}\n\n\tstatic String getMonthForInt(int num) {\n\t\tString month = &quot;wrong&quot;;\n\t\tDateFormatSymbols dfs = new DateFormatSymbols();\n\t\tString[] months = dfs.getMonths();\n\t\tif (num &gt;= 0 &amp;&amp; num &lt;= 11) {\n\t\t\tmonth = months[num];\n\t\t}\n\t\treturn month;\n\t}","body":"Mickey to answer your question, here is how you get month as int and use it - \tpublic static void main(String[] args) { \t\tint month; \t\tGregorianCalendar date = new GregorianCalendar(); \t\tmonth = date.get(Calendar.MONTH);  \t\tSystem.out.println(&quot;Current month is  &quot; + (month + 1) + &quot; and Month name is &quot; + getMonthForInt(month));  \t}  \tstatic String getMonthForInt(int num) { \t\tString month = &quot;wrong&quot;; \t\tDateFormatSymbols dfs = new DateFormatSymbols(); \t\tString[] months = dfs.getMonths(); \t\tif (num &gt;= 0 &amp;&amp; num &lt;= 11) { \t\t\tmonth = months[num]; \t\t} \t\treturn month; \t}"}],"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"comment_count":4,"down_vote_count":2,"up_vote_count":105,"is_accepted":true,"score":103,"last_activity_date":1636862164,"creation_date":1360670955,"answer_id":14832267,"question_id":14832151,"body_markdown":"```lang-java\r\nString getMonthForInt(int num) {\r\n\tString month = &quot;wrong&quot;;\r\n\tDateFormatSymbols dfs = new DateFormatSymbols();\r\n\tString[] months = dfs.getMonths();\r\n\tif (num &gt;= 0 &amp;&amp; num &lt;= 11) {\r\n\t\tmonth = months[num];\r\n\t}\r\n\treturn month;\r\n}\r\n```","title":"How can I get Month Name from Calendar?","body":"<pre class=\"lang-java prettyprint-override\"><code>String getMonthForInt(int num) {\n    String month = &quot;wrong&quot;;\n    DateFormatSymbols dfs = new DateFormatSymbols();\n    String[] months = dfs.getMonths();\n    if (num &gt;= 0 &amp;&amp; num &lt;= 11) {\n        month = months[num];\n    }\n    return month;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"score":1,"creation_date":1360671450,"post_id":14832283,"comment_id":20781927,"body_markdown":"thanks but I am happy with my old `SimpleDateFormat` and `Date`","body":"thanks but I am happy with my old <code>SimpleDateFormat</code> and <code>Date</code>"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1360671561,"post_id":14832283,"comment_id":20781984,"body_markdown":"@ogzd. Your wish. But you should sure give it a try, and I bet you&#39;ll love sing it.","body":"@ogzd. Your wish. But you should sure give it a try, and I bet you&#39;ll love sing it."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1360672260,"post_id":14832283,"comment_id":20782325,"body_markdown":"@ogzd. I posted the way to get month name from month number. BTW, why would you want to do that?","body":"@ogzd. I posted the way to get month name from month number. BTW, why would you want to do that?"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1408129592,"creation_date":1360671018,"answer_id":14832283,"question_id":14832151,"body_markdown":"# Joda-Time\r\n\r\nHow about using [Joda-Time](http://www.joda.org/joda-time/). It&#39;s a far better date-time API to work with (And `January` means january here. It&#39;s not like Calendar, which uses `0-based` index for months). \r\n\r\nYou can use [`AbstractDateTime#toString( pattern )`](http://www.joda.org/joda-time/apidocs/org/joda/time/base/AbstractDateTime.html#toString(java.lang.String)) method to format the date in specified format:\r\n\r\n    DateTime date = DateTime.now();\r\n    String month = date.toString(&quot;MMM&quot;);\r\n\r\n## Month Name From Number\r\n\r\nIf you want month name for a particular month number, you can do it like this: \r\n\r\n    int month = 3;\r\n    String monthName = DateTime.now().withMonthOfYear(month).toString(&quot;MMM&quot;);\r\n\r\n## Localize \r\n\r\nThe above approach uses your JVM’s current default Locale for the language of the month name. You want to specify a Locale object instead.\r\n\r\n    String month = date.toString( &quot;MMM&quot;, Locale.CANADA_FRENCH );\r\n\r\n\r\n    ","title":"How can I get Month Name from Calendar?","body":"<h1>Joda-Time</h1>\n\n<p>How about using <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>. It's a far better date-time API to work with (And <code>January</code> means january here. It's not like Calendar, which uses <code>0-based</code> index for months). </p>\n\n<p>You can use <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/base/AbstractDateTime.html#toString(java.lang.String)\" rel=\"noreferrer\"><code>AbstractDateTime#toString( pattern )</code></a> method to format the date in specified format:</p>\n\n<pre><code>DateTime date = DateTime.now();\nString month = date.toString(\"MMM\");\n</code></pre>\n\n<h2>Month Name From Number</h2>\n\n<p>If you want month name for a particular month number, you can do it like this: </p>\n\n<pre><code>int month = 3;\nString monthName = DateTime.now().withMonthOfYear(month).toString(\"MMM\");\n</code></pre>\n\n<h2>Localize</h2>\n\n<p>The above approach uses your JVM’s current default Locale for the language of the month name. You want to specify a Locale object instead.</p>\n\n<pre><code>String month = date.toString( \"MMM\", Locale.CANADA_FRENCH );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":2,"creation_date":1413292020,"post_id":19696776,"comment_id":41381012,"body_markdown":"This is useful for me `new SimpleDateFormat(&quot;MMMM&quot;).format(cal.getTime());`","body":"This is useful for me <code>new SimpleDateFormat(&quot;MMMM&quot;).format(cal.getTime());</code>"},{"owner":{"account_id":7369042,"reputation":320,"user_id":5609858,"accept_rate":100,"display_name":"Abeer zaroor"},"score":0,"creation_date":1460318462,"post_id":19696776,"comment_id":60673365,"body_markdown":"this is a weak solution, how about jan, feb etc. not addition to January February etc.  this will not cover all the situation","body":"this is a weak solution, how about jan, feb etc. not addition to January February etc.  this will not cover all the situation"},{"owner":{"account_id":8525908,"reputation":518,"user_id":6391398,"display_name":"RoccoDev"},"score":2,"creation_date":1471184346,"post_id":19696776,"comment_id":65241185,"body_markdown":"Well, you should add 1 to the month. Arrays start from 0.","body":"Well, you should add 1 to the month. Arrays start from 0."},{"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"score":0,"creation_date":1509620289,"post_id":19696776,"comment_id":81095320,"body_markdown":"this is bad, you are re-inventing java ?","body":"this is bad, you are re-inventing java ?"},{"owner":{"account_id":2089982,"reputation":3029,"user_id":1860042,"accept_rate":83,"display_name":"Advait Saravade"},"score":2,"creation_date":1542145342,"post_id":19696776,"comment_id":93461619,"body_markdown":"This works for english speaking users. What about the others?","body":"This works for english speaking users. What about the others?"},{"owner":{"account_id":4979946,"reputation":192,"user_id":9205647,"display_name":"Pryftan"},"score":1,"creation_date":1593187767,"post_id":19696776,"comment_id":110701708,"body_markdown":"@MickeyPerlstein No. That&#39;s not &#39;reinventing&#39; (as you put it) Java. And it&#39;s not &#39;bad&#39; either. That&#39;s simply a way to do it. Besides that this is based on not having to use the Calendar class (or at least you don&#39;t have to use it - though if you want the current month maybe so) which might be desirable in some cases. Sure it&#39;s only for English but that&#39;s besides the point.","body":"@MickeyPerlstein No. That&#39;s not &#39;reinventing&#39; (as you put it) Java. And it&#39;s not &#39;bad&#39; either. That&#39;s simply a way to do it. Besides that this is based on not having to use the Calendar class (or at least you don&#39;t have to use it - though if you want the current month maybe so) which might be desirable in some cases. Sure it&#39;s only for English but that&#39;s besides the point."},{"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"score":0,"creation_date":1604586220,"post_id":19696776,"comment_id":114396085,"body_markdown":"@Pryftan you&#39;re right I meant reinventing the operating system locales and creating a mirror based on your english language. good luck localizing that mess","body":"@Pryftan you&#39;re right I meant reinventing the operating system locales and creating a mirror based on your english language. good luck localizing that mess"}],"tags":[],"owner":{"account_id":3516321,"reputation":694,"user_id":2939648,"display_name":"Terry Chern"},"comment_count":7,"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1457237124,"creation_date":1383182095,"answer_id":19696776,"question_id":14832151,"body_markdown":"This is the solution I came up with for a class project:\r\n\r\n    public static String theMonth(int month){\r\n        String[] monthNames = {&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;};\r\n        return monthNames[month];\r\n\t}\r\n\r\nThe number you pass in comes from a `Calendar.MONTH` call.","title":"How can I get Month Name from Calendar?","body":"<p>This is the solution I came up with for a class project:</p>\n\n<pre><code>public static String theMonth(int month){\n    String[] monthNames = {\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"};\n    return monthNames[month];\n}\n</code></pre>\n\n<p>The number you pass in comes from a <code>Calendar.MONTH</code> call.</p>\n"},{"comments":[{"owner":{"account_id":1653653,"reputation":2416,"user_id":1523730,"display_name":"sebastian"},"score":4,"creation_date":1429794342,"post_id":23266601,"comment_id":47774961,"body_markdown":"The use of Calendar abstraction is the most elegant solution in my opinion. +1","body":"The use of Calendar abstraction is the most elegant solution in my opinion. +1"},{"owner":{"account_id":6845124,"reputation":113,"user_id":5264169,"display_name":"Nick Sikrier"},"score":6,"creation_date":1509820649,"post_id":23266601,"comment_id":81178186,"body_markdown":"Wrong! The problem will be in languages with cases.\nFor example, in Slavic locales it will return month in genitive case, for example, for October in ru-RU locale you will receive `октября` instead of `Октябрь`, which you probably expect.","body":"Wrong! The problem will be in languages with cases. For example, in Slavic locales it will return month in genitive case, for example, for October in ru-RU locale you will receive <code>октября</code> instead of <code>Октябрь</code>, which you probably expect."}],"tags":[],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":2,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1398336163,"creation_date":1398336163,"answer_id":23266601,"question_id":14832151,"body_markdown":"As simple as this\r\n\r\n    mCalendar = Calendar.getInstance();    \r\n    String month = mCalendar.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.getDefault());","title":"How can I get Month Name from Calendar?","body":"<p>As simple as this</p>\n\n<pre><code>mCalendar = Calendar.getInstance();    \nString month = mCalendar.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.getDefault());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":383780,"reputation":397,"user_id":739836,"display_name":"Anfet"},"score":0,"creation_date":1549276160,"post_id":25329533,"comment_id":95831379,"body_markdown":"Is a correct answer for RU locale. Very weird tho, that android SDK does not contain &#39;LLLL&#39; spec.","body":"Is a correct answer for RU locale. Very weird tho, that android SDK does not contain &#39;LLLL&#39; spec."}],"tags":[],"owner":{"account_id":125372,"reputation":7147,"user_id":321106,"accept_rate":73,"display_name":"artkoenig"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1410354414,"creation_date":1408117338,"answer_id":25329533,"question_id":14832151,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;LLLL&quot;, Locale.getDefault() );\r\n    dateFormat.format( date );\r\n\r\nFor some languages (e.g. Russian) this is the only correct way to get the stand-alone month names.\r\n\r\nThis is what you get, if you use `getDisplayName` from the `Calendar` or `DateFormatSymbols` for January:\r\n\r\n**января** (which is correct for a complete date string: &quot;**10 января, 2014**&quot;)\r\n\r\nbut in case of a stand-alone month name you would expect:\r\n\r\n**январь**","title":"How can I get Month Name from Calendar?","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"LLLL\", Locale.getDefault() );\ndateFormat.format( date );\n</code></pre>\n\n<p>For some languages (e.g. Russian) this is the only correct way to get the stand-alone month names.</p>\n\n<p>This is what you get, if you use <code>getDisplayName</code> from the <code>Calendar</code> or <code>DateFormatSymbols</code> for January:</p>\n\n<p><strong>января</strong> (which is correct for a complete date string: \"<strong>10 января, 2014</strong>\")</p>\n\n<p>but in case of a stand-alone month name you would expect:</p>\n\n<p><strong>январь</strong></p>\n"},{"comments":[{"owner":{"account_id":482571,"reputation":3920,"user_id":897041,"accept_rate":87,"display_name":"Muhammad Gelbana"},"score":0,"creation_date":1433161934,"post_id":28002293,"comment_id":49217108,"body_markdown":"Which java version is this ?","body":"Which java version is this ?"}],"tags":[],"owner":{"account_id":2172789,"reputation":6475,"user_id":1924299,"accept_rate":56,"display_name":"Eng. Samer T"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1636886147,"creation_date":1421516435,"answer_id":28002293,"question_id":14832151,"body_markdown":"If you have multi-language interface, you can use `getDisplayName` to display the name of month with control of displaying language.\r\n\r\nHere is an example of displaying the month name in English, French, Arabic and Arabic in specific country like &quot;Syria&quot;:\r\n\r\n```lang-java\r\nCalendar c = Calendar.getInstance();\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.ENGLISH ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.FRANCE ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;) ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;, &quot;SY&quot;) ) );\r\nSystem.out.println(c.getTime().toString());\r\n```\r\n\r\nThe result is:\r\n\r\n```\r\nJanuary\r\njanvier\r\nيناير\r\nكانون الثاني\r\nSat Jan 17 19:31:30 EET 2015\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>If you have multi-language interface, you can use <code>getDisplayName</code> to display the name of month with control of displaying language.</p>\n<p>Here is an example of displaying the month name in English, French, Arabic and Arabic in specific country like &quot;Syria&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar c = Calendar.getInstance();\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.ENGLISH ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.FRANCE ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;) ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;, &quot;SY&quot;) ) );\nSystem.out.println(c.getTime().toString());\n</code></pre>\n<p>The result is:</p>\n<pre><code>January\njanvier\nيناير\nكانون الثاني\nSat Jan 17 19:31:30 EET 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1688683568,"creation_date":1428530160,"answer_id":29526078,"question_id":14832151,"body_markdown":"You can get it one line like this:\r\n\r\n```lang-java\r\nString monthName = new DateFormatSymbols().getMonths()[cal.get(Calendar.MONTH)];\r\n````","title":"How can I get Month Name from Calendar?","body":"<p>You can get it one line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String monthName = new DateFormatSymbols().getMonths()[cal.get(Calendar.MONTH)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5847556,"reputation":397,"user_id":4607264,"display_name":"jhpg"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1477569863,"creation_date":1473710989,"answer_id":39458049,"question_id":14832151,"body_markdown":"This works for me:\r\n\r\n    String getMonthName(int monthNumber) {\r\n        String[] months = new DateFormatSymbols().getMonths();\r\n        int n = monthNumber-1;\r\n        return (n &gt;= 0 &amp;&amp; n &lt;= 11) ? months[n] : &quot;wrong number&quot;;\r\n    }\r\n\r\nTo returns `&quot;September&quot;` with one line:\r\n\r\n    String month = getMonthName(9);\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>This works for me:</p>\n\n<pre><code>String getMonthName(int monthNumber) {\n    String[] months = new DateFormatSymbols().getMonths();\n    int n = monthNumber-1;\n    return (n &gt;= 0 &amp;&amp; n &lt;= 11) ? months[n] : \"wrong number\";\n}\n</code></pre>\n\n<p>To returns <code>\"September\"</code> with one line:</p>\n\n<pre><code>String month = getMonthName(9);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4784258,"reputation":1139,"user_id":3865227,"accept_rate":100,"display_name":"SubliemeSiem"},"score":1,"creation_date":1476082085,"post_id":39952276,"comment_id":67185163,"body_markdown":"While your answer may be correct, it is of bad quality. Please elaborate on why this answer is correct.","body":"While your answer may be correct, it is of bad quality. Please elaborate on why this answer is correct."},{"owner":{"account_id":7774796,"reputation":50,"user_id":5883240,"display_name":"Amit Mishra"},"score":1,"creation_date":1476083834,"post_id":39952276,"comment_id":67185923,"body_markdown":"@SubliemeSiem I&#39;m just trying to change format and simplest way to get it done:\nMM- it will return month name in integer like 01, 02, 03.\nMMM-it will return month name in short like jan, feb,mar.\nMMMM-it will return full month name in string format like January.","body":"@SubliemeSiem I&#39;m just trying to change format and simplest way to get it done: MM- it will return month name in integer like 01, 02, 03. MMM-it will return month name in short like jan, feb,mar. MMMM-it will return full month name in string format like January."},{"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"score":0,"creation_date":1509620546,"post_id":39952276,"comment_id":81095487,"body_markdown":"this is the only *CORRECT* answer for formatting dates. use a Date or Calendar object and format it with a formatter. the question itself is *BAD*","body":"this is the only <i>CORRECT</i> answer for formatting dates. use a Date or Calendar object and format it with a formatter. the question itself is <i>BAD</i>"}],"tags":[],"owner":{"account_id":7774796,"reputation":50,"user_id":5883240,"display_name":"Amit Mishra"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1476131151,"creation_date":1476080204,"answer_id":39952276,"question_id":14832151,"body_markdown":"    DateFormat date =  new SimpleDateFormat(&quot;dd/MMM/yyyy&quot;);\r\n    Date date1 = new Date();\r\n    System.out.println(date.format(date1));","title":"How can I get Month Name from Calendar?","body":"<pre><code>DateFormat date =  new SimpleDateFormat(\"dd/MMM/yyyy\");\nDate date1 = new Date();\nSystem.out.println(date.format(date1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5847556,"reputation":397,"user_id":4607264,"display_name":"jhpg"},"score":0,"creation_date":1507702876,"post_id":40336410,"comment_id":80309936,"body_markdown":"I can&#39;t see how this answer the question asked.","body":"I can&#39;t see how this answer the question asked."}],"tags":[],"owner":{"account_id":178361,"reputation":1833,"user_id":410293,"accept_rate":50,"display_name":"Rafael Sanches"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1477886507,"creation_date":1477886507,"answer_id":40336410,"question_id":14832151,"body_markdown":"from the SimpleDateFormat java doc:\r\n\r\n    *         &lt;td&gt;&lt;code&gt;&quot;yyyyy.MMMMM.dd GGG hh:mm aaa&quot;&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;02001.July.04 AD 12:08 PM&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;Wed, 4 Jul 2001 12:08:56 -0700&lt;/code&gt;\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>from the SimpleDateFormat java doc:</p>\n\n<pre><code>*         &lt;td&gt;&lt;code&gt;\"yyyyy.MMMMM.dd GGG hh:mm aaa\"&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;02001.July.04 AD 12:08 PM&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;\"EEE, d MMM yyyy HH:mm:ss Z\"&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;Wed, 4 Jul 2001 12:08:56 -0700&lt;/code&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3092120,"reputation":1588,"user_id":2618036,"display_name":"georger"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485353682,"creation_date":1485353682,"answer_id":41853827,"question_id":14832151,"body_markdown":"It might be an old question, but as a one liner to get the name of the month when we know the indices, I used\r\n\r\n    String month = new DateFormatSymbols().getMonths()[monthNumber - 1];\r\n\r\nor for short names\r\n\r\n    String month = new DateFormatSymbols().getShortMonths()[monthNumber - 1];\r\nPlease be aware that your `monthNumber` starts counting from 1 while any of the methods above returns an array so you need to start counting from 0.","title":"How can I get Month Name from Calendar?","body":"<p>It might be an old question, but as a one liner to get the name of the month when we know the indices, I used</p>\n\n<pre><code>String month = new DateFormatSymbols().getMonths()[monthNumber - 1];\n</code></pre>\n\n<p>or for short names</p>\n\n<pre><code>String month = new DateFormatSymbols().getShortMonths()[monthNumber - 1];\n</code></pre>\n\n<p>Please be aware that your <code>monthNumber</code> starts counting from 1 while any of the methods above returns an array so you need to start counting from 0.</p>\n"},{"tags":[],"owner":{"account_id":8288224,"reputation":119,"user_id":6230744,"display_name":"Nikolay Fedorovskikh"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1547246237,"creation_date":1492432647,"answer_id":43451652,"question_id":14832151,"body_markdown":"# `Month::getDisplayName`\r\n\r\nSince Java 8, use the [`Month`][1] enum. The [`getDisplayName`][2] method automatically localizes the name of the month. \r\n\r\nPass:\r\n\r\n - A [`TextStyle`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/TextStyle.html) to determine how long or how abbreviated.\r\n - A [`Locale`][3] to specify the human language used in translation, and the cultural norms used for abbreviation, punctuation, etc.\r\n\r\nExample:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public static String getMonthStandaloneName(Month month) {\r\n        return month.getDisplayName(\r\n            TextStyle.FULL_STANDALONE, \r\n            Locale.getDefault()\r\n        );\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html","title":"How can I get Month Name from Calendar?","body":"<h1><code>Month::getDisplayName</code></h1>\n\n<p>Since Java 8, use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>getDisplayName</code></a> method automatically localizes the name of the month. </p>\n\n<p>Pass:</p>\n\n<ul>\n<li>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/TextStyle.html\" rel=\"nofollow noreferrer\"><code>TextStyle</code></a> to determine how long or how abbreviated.</li>\n<li>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> to specify the human language used in translation, and the cultural norms used for abbreviation, punctuation, etc.</li>\n</ul>\n\n<p>Example:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String getMonthStandaloneName(Month month) {\n    return month.getDisplayName(\n        TextStyle.FULL_STANDALONE, \n        Locale.getDefault()\n    );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1451886,"reputation":1580,"user_id":1368562,"accept_rate":85,"display_name":"Иво Недев"},"score":1,"creation_date":1532446335,"post_id":47649679,"comment_id":89973474,"body_markdown":"This works perfectly, the comments are just a tiny bit completely wrong though","body":"This works perfectly, the comments are just a tiny bit completely wrong though"}],"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538374898,"creation_date":1512464592,"answer_id":47649679,"question_id":14832151,"body_markdown":"This code has language support.\r\nI had used them in Android App.\r\n\r\n    String[] mons = new DateFormatSymbols().getShortMonths();//Jan,Feb,Mar,... \r\n\r\n    String[] months = new DateFormatSymbols().getMonths();//January,Februaty,March,...","title":"How can I get Month Name from Calendar?","body":"<p>This code has language support.\nI had used them in Android App.</p>\n\n<pre><code>String[] mons = new DateFormatSymbols().getShortMonths();//Jan,Feb,Mar,... \n\nString[] months = new DateFormatSymbols().getMonths();//January,Februaty,March,...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1530268219,"post_id":51080625,"comment_id":89186628,"body_markdown":"Simple and direct suggestion, thanks. Your code doesn’t compile. You will either have to declare the return type `Month` or apply `toString` to the result before returning it.","body":"Simple and direct suggestion, thanks. Your code doesn’t compile. You will either have to declare the return type <code>Month</code> or apply <code>toString</code> to the result before returning it."}],"tags":[],"owner":{"account_id":13858935,"reputation":29,"user_id":10005038,"display_name":"mxhc"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1530181838,"creation_date":1530181838,"answer_id":51080625,"question_id":14832151,"body_markdown":"It returns English name of the month.\r\n04 returns APRIL and so on.\r\n\r\n    String englishMonth (int month){\r\n            return Month.of(month);\r\n        }\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>It returns English name of the month.\n04 returns APRIL and so on.</p>\n\n<pre><code>String englishMonth (int month){\n        return Month.of(month);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636862443,"creation_date":1542015005,"answer_id":53259230,"question_id":14832151,"body_markdown":"**One way:**\r\n \r\nWe have `Month` API in Java (`java.time.Month`). We can get by using `Month.of(month);`\r\n\r\nHere, the `Month` are indexed as numbers so either you can provide by `Month.JANUARY` or provide an index in the above API such as 1, 2, 3, 4. \r\n\r\n**Second way:**\r\n\r\n```lang-java\r\nZonedDateTime.now().getMonth();\r\n```\r\n\r\nThis is available in `java.time.ZonedDateTime`.\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p><strong>One way:</strong></p>\n<p>We have <code>Month</code> API in Java (<code>java.time.Month</code>). We can get by using <code>Month.of(month);</code></p>\n<p>Here, the <code>Month</code> are indexed as numbers so either you can provide by <code>Month.JANUARY</code> or provide an index in the above API such as 1, 2, 3, 4.</p>\n<p><strong>Second way:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime.now().getMonth();\n</code></pre>\n<p>This is available in <code>java.time.ZonedDateTime</code>.</p>\n"},{"tags":[],"owner":{"account_id":5184894,"reputation":786,"user_id":4149548,"accept_rate":50,"display_name":"Felipe Castilhos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636862490,"creation_date":1547128584,"answer_id":54130258,"question_id":14832151,"body_markdown":"I created a Kotlin extension based on responses in this topic and using the `DateFormatSymbols` answers you get a localized response.\r\n\r\n```lang-java\r\nfun Date.toCalendar(): Calendar {\r\n    val calendar = Calendar.getInstance()\r\n    calendar.time = this\r\n    return calendar\r\n}\r\n\r\n\r\nfun Date.getMonthName(): String {\r\n    val month = toCalendar()[Calendar.MONTH]\r\n    val dfs = DateFormatSymbols()\r\n    val months = dfs.months\r\n    return months[month]\r\n}\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>I created a Kotlin extension based on responses in this topic and using the <code>DateFormatSymbols</code> answers you get a localized response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>fun Date.toCalendar(): Calendar {\n    val calendar = Calendar.getInstance()\n    calendar.time = this\n    return calendar\n}\n\n\nfun Date.getMonthName(): String {\n    val month = toCalendar()[Calendar.MONTH]\n    val dfs = DateFormatSymbols()\n    val months = dfs.months\n    return months[month]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12003072,"reputation":119,"user_id":10011802,"display_name":"mahadev gouda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636862460,"creation_date":1552999716,"answer_id":55241462,"question_id":14832151,"body_markdown":"```lang-java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\n\r\n\r\nCalendar cal = Calendar.getInstance();\r\nString currentdate=new SimpleDateFormat(&quot;dd-MMM&quot;).format(cal.getTime());\r\n```","title":"How can I get Month Name from Calendar?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\n\nCalendar cal = Calendar.getInstance();\nString currentdate=new SimpleDateFormat(&quot;dd-MMM&quot;).format(cal.getTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10377471,"reputation":1207,"user_id":7653274,"display_name":"MCO"},"score":0,"creation_date":1578565078,"post_id":56017515,"comment_id":105482811,"body_markdown":"doesn&#39;t `Month` start its index with January = 1, whereas Calendar starts with January = 0? Wouldn&#39;t `Month.of(calendar.get(Calendar.MONTH));` fail in the case of january?","body":"doesn&#39;t <code>Month</code> start its index with January = 1, whereas Calendar starts with January = 0? Wouldn&#39;t <code>Month.of(calendar.get(Calendar.MONTH));</code> fail in the case of january?"}],"tags":[],"owner":{"account_id":8090685,"reputation":794,"user_id":6096715,"accept_rate":60,"display_name":"JibinNajeeb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565185849,"creation_date":1557213860,"answer_id":56017515,"question_id":14832151,"body_markdown":"I found this much easier(https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html)\r\n\r\n\tprivate void getCalendarMonth(Date date) {\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(date);\r\n\t\tMonth month = Month.of(calendar.get(Calendar.MONTH));\t\t\r\n\t\tLocale locale = Locale.getDefault();\r\n\t\tSystem.out.println(month.getDisplayName(TextStyle.FULL, locale));\r\n        System.out.println(month.getDisplayName(TextStyle.NARROW, locale));\r\n        System.out.println(month.getDisplayName(TextStyle.SHORT, locale));\r\n\t}\r\n\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>I found this much easier(<a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html</a>)</p>\n\n<pre><code>private void getCalendarMonth(Date date) {      \n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    Month month = Month.of(calendar.get(Calendar.MONTH));       \n    Locale locale = Locale.getDefault();\n    System.out.println(month.getDisplayName(TextStyle.FULL, locale));\n    System.out.println(month.getDisplayName(TextStyle.NARROW, locale));\n    System.out.println(month.getDisplayName(TextStyle.SHORT, locale));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389330,"reputation":642,"user_id":8349963,"display_name":"Milad jalali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607527991,"creation_date":1607527991,"answer_id":65219863,"question_id":14832151,"body_markdown":"    Calender cal = Calendar.getInstance(Locale.ENGLISH)\r\n    String[] mons = new DateFormatSymbols(Locale.ENGLISH).getShortMonths();\r\n    int m = cal.get(Calendar.MONTH);\r\n    String mName = mons[m];","title":"How can I get Month Name from Calendar?","body":"<pre><code>Calender cal = Calendar.getInstance(Locale.ENGLISH)\nString[] mons = new DateFormatSymbols(Locale.ENGLISH).getShortMonths();\nint m = cal.get(Calendar.MONTH);\nString mName = mons[m];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3908557,"reputation":95,"user_id":3234532,"display_name":"Naveen Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623256657,"creation_date":1623256657,"answer_id":67908311,"question_id":14832151,"body_markdown":"Easiest Way \r\n\r\n    import java.text.DateFormatSymbols;\r\n    \r\n    int month = 3; // March\r\n    System.out.println(new DateFormatSymbols().getMonths()[month-1]);\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>Easiest Way</p>\n<pre><code>import java.text.DateFormatSymbols;\n\nint month = 3; // March\nSystem.out.println(new DateFormatSymbols().getMonths()[month-1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10600166,"reputation":162,"user_id":7807339,"display_name":"Junaid Bashir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636861768,"creation_date":1632821407,"answer_id":69359156,"question_id":14832151,"body_markdown":"For full name of month:\r\n\r\n```lang-java\r\nval calendar = Calendar.getInstance()\r\ncalendar.timeInMillis = date\r\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.Long, Locale.ENGLISH)!!.toString()\r\n```\r\n\r\nAnd for short name of month:\r\n\r\n```lang-java\r\nval calendar = Calendar.getInstance()\r\ncalendar.timeInMillis = date\r\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH)!!.toString()\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>For full name of month:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val calendar = Calendar.getInstance()\ncalendar.timeInMillis = date\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.Long, Locale.ENGLISH)!!.toString()\n</code></pre>\n<p>And for short name of month:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val calendar = Calendar.getInstance()\ncalendar.timeInMillis = date\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH)!!.toString()\n</code></pre>\n"}],"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301144,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":14832267,"answer_count":22,"score":111,"last_activity_date":1688683568,"creation_date":1360670644,"question_id":14832151,"body_markdown":"Is there a oneliner to get the name of the month when we know: \r\n\r\n```lang-java\r\nint monthNumber  = calendar.get(Calendar.MONTH)\r\n``` \r\n\r\nOr what is the easiest way?","title":"How can I get Month Name from Calendar?","body":"<p>Is there a oneliner to get the name of the month when we know:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int monthNumber  = calendar.get(Calendar.MONTH)\n</code></pre>\n<p>Or what is the easiest way?</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687976503,"post_id":76574766,"comment_id":135013412,"body_markdown":"Search among these [examples](https://stackoverflow.com/questions/tagged/javafx) for ways to study each aspect in isolation; this [example](https://stackoverflow.com/q/76487091/230513)  of profiling might help you examine the size issue.","body":"Search among these <a href=\"https://stackoverflow.com/questions/tagged/javafx\">examples</a> for ways to study each aspect in isolation; this <a href=\"https://stackoverflow.com/q/76487091/230513\">example</a>  of profiling might help you examine the size issue."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1687979726,"post_id":76574766,"comment_id":135014019,"body_markdown":"Maybe you don&#39;t want a `TableView` at all, perhaps you want a spreadsheet, either by a ControlsFX [SpreadsheetView](https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/spreadsheet/SpreadsheetView.html) or a WebView embedded Google Docs (if that works in JavaFX), or some other technology.","body":"Maybe you don&#39;t want a <code>TableView</code> at all, perhaps you want a spreadsheet, either by a ControlsFX <a href=\"https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/spreadsheet/SpreadsheetView.html\" rel=\"nofollow noreferrer\">SpreadsheetView</a> or a WebView embedded Google Docs (if that works in JavaFX), or some other technology."},{"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"score":0,"creation_date":1687990016,"post_id":76574766,"comment_id":135015599,"body_markdown":"@jewelsea thanks for the suggestion, I need to study this. I had in mind to limit dependencies and try to stay javafx only but if it really has all the needed features then the additional dependency is worth it. I need to experiment for a while before validating this solution.","body":"@jewelsea thanks for the suggestion, I need to study this. I had in mind to limit dependencies and try to stay javafx only but if it really has all the needed features then the additional dependency is worth it. I need to experiment for a while before validating this solution."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1687990234,"post_id":76574766,"comment_id":135015620,"body_markdown":"One &quot;solution&quot; you mention is using Canvas.  I do not recommend that at all.  There is no off-the-shelf component using Canvas that does what you want (or anything remotely close to it), so you would have to build such a solution from scratch, which would be a tremendous amount of work.  Plus, if using JavaFX, the scene graph is probably better suited for this component than a Canvas anyway.","body":"One &quot;solution&quot; you mention is using Canvas.  I do not recommend that at all.  There is no off-the-shelf component using Canvas that does what you want (or anything remotely close to it), so you would have to build such a solution from scratch, which would be a tremendous amount of work.  Plus, if using JavaFX, the scene graph is probably better suited for this component than a Canvas anyway."}],"answers":[{"tags":[],"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688682787,"creation_date":1688682787,"answer_id":76632899,"question_id":76574766,"body_markdown":"From the ideas given in the comments and further research, I would say that :\r\n\r\n - Tableview is definitely not adapted, if I want a simple similar solution on the view part, ControlsFX SpreadsheetView would do a better job with row and column headers that can be customized\r\n - Drawing on canvas is too much work, I may consider it if I encounter memory problems\r\n - I have not seen much examples using a webview in javafx, unless someone can tell me otherwise, this solution is considered as not adapted (maybe not possible)\r\n - the remaining solution, and the one that I will chose for now, will be to create my table in a scene using some kind of grid layout and the most appropriated components for headers and cells","title":"Creating a double entry table editor in javaFX : TableView, canvas or webview?","body":"<p>From the ideas given in the comments and further research, I would say that :</p>\n<ul>\n<li>Tableview is definitely not adapted, if I want a simple similar solution on the view part, ControlsFX SpreadsheetView would do a better job with row and column headers that can be customized</li>\n<li>Drawing on canvas is too much work, I may consider it if I encounter memory problems</li>\n<li>I have not seen much examples using a webview in javafx, unless someone can tell me otherwise, this solution is considered as not adapted (maybe not possible)</li>\n<li>the remaining solution, and the one that I will chose for now, will be to create my table in a scene using some kind of grid layout and the most appropriated components for headers and cells</li>\n</ul>\n"}],"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76632899,"answer_count":1,"score":0,"last_activity_date":1688682787,"creation_date":1687967068,"question_id":76574766,"body_markdown":"I am trying to create an editor in javafx for data modelled as a boolean double entry table : basically I have a table with named rows, named columns and a checkbox in each cell.\r\nIn terms of features I would need to be able to:\r\n- check/uncheck a cell\r\n- rename/add/remove a column/row\r\n- load big tables (&gt; 1000 rows and columns)\r\n- select rows and colums to extract a sub-table\r\n\r\n\r\nI have tried to use the TableView class, but it&#39;s focused on columns, and I don&#39;t see any way to add row names in the same way as column names. There is still the solution to add a first column with row names, but it is not ideal. \r\nSo as far as I have looked, I found 2 other solutions: \r\n- drawing my table on a Canvas. As I understand it would allow me to do anything I want, but I would need to implement everything and I am not sure how to deal with really big canvas (how to not dr&#224;w the entire table) \r\n- draw my table in html and use a webview to display it. As I understand that would help with the drawing, but would require html, javascript and the communication with rest of the app does not appear to be easy.\r\nI have not much experience with JavaFX at the moment and I am not sure which would be the most practical or if another solution would be better. What do you think would be the best?\r\n\r\n","title":"Creating a double entry table editor in javaFX : TableView, canvas or webview?","body":"<p>I am trying to create an editor in javafx for data modelled as a boolean double entry table : basically I have a table with named rows, named columns and a checkbox in each cell.\nIn terms of features I would need to be able to:</p>\n<ul>\n<li>check/uncheck a cell</li>\n<li>rename/add/remove a column/row</li>\n<li>load big tables (&gt; 1000 rows and columns)</li>\n<li>select rows and colums to extract a sub-table</li>\n</ul>\n<p>I have tried to use the TableView class, but it's focused on columns, and I don't see any way to add row names in the same way as column names. There is still the solution to add a first column with row names, but it is not ideal.\nSo as far as I have looked, I found 2 other solutions:</p>\n<ul>\n<li>drawing my table on a Canvas. As I understand it would allow me to do anything I want, but I would need to implement everything and I am not sure how to deal with really big canvas (how to not dràw the entire table)</li>\n<li>draw my table in html and use a webview to display it. As I understand that would help with the drawing, but would require html, javascript and the communication with rest of the app does not appear to be easy.\nI have not much experience with JavaFX at the moment and I am not sure which would be the most practical or if another solution would be better. What do you think would be the best?</li>\n</ul>\n"},{"tags":["java","generics","warnings"],"comments":[{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1688676019,"post_id":76632071,"comment_id":135109703,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676229,"post_id":76632071,"comment_id":135109750,"body_markdown":"To understand the reason because Raw use of parameterized class is present in my code and where is the part of the code I wrong","body":"To understand the reason because Raw use of parameterized class is present in my code and where is the part of the code I wrong"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1688676647,"post_id":76632071,"comment_id":135109827,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676793,"post_id":76632071,"comment_id":135109851,"body_markdown":"yes I already view, but sorry this answer did not helped me","body":"yes I already view, but sorry this answer did not helped me"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676824,"post_id":76632071,"comment_id":135109854,"body_markdown":"but thanks for your effort","body":"but thanks for your effort"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688681208,"post_id":76632071,"comment_id":135110480,"body_markdown":"What&#39;s the point of `E`? Shouldn&#39;t `tt` be a `T`? And what purpose does `t` serve?","body":"What&#39;s the point of <code>E</code>? Shouldn&#39;t <code>tt</code> be a <code>T</code>? And what purpose does <code>t</code> serve?"}],"answers":[{"comments":[{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688678702,"post_id":76632584,"comment_id":135110127,"body_markdown":"Sorry your answer give me an error","body":"Sorry your answer give me an error"},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1688678980,"post_id":76632584,"comment_id":135110149,"body_markdown":"What is a type of &#39;me&#39; field?","body":"What is a type of &#39;me&#39; field?"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688679131,"post_id":76632584,"comment_id":135110174,"body_markdown":"InstantiatorUnitConverter","body":"InstantiatorUnitConverter"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688679163,"post_id":76632584,"comment_id":135110183,"body_markdown":"note: update question with the error from your answer","body":"note: update question with the error from your answer"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688679766,"post_id":76632584,"comment_id":135110268,"body_markdown":"private InstantiatorUnitConverter&lt;T&gt; me -&gt;  create an objct with  \n\npublic InstantiatorUnitConverter(){\n        o = &quot;&quot;;\n        v = -1;\n        t = null;\n        ts = &quot;&quot;;\n        d = true;\n    }","body":"private InstantiatorUnitConverter&lt;T&gt; me -&gt;  create an objct with    public InstantiatorUnitConverter(){         o = &quot;&quot;;         v = -1;         t = null;         ts = &quot;&quot;;         d = true;     }"}],"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688682709,"creation_date":1688678427,"answer_id":76632584,"question_id":76632071,"body_markdown":"```\r\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n        me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\r\n\r\n        return t;\r\n    }\r\n```\r\n\r\nRaw use of parameterized class &#39;AClass&#39; means you have a `class AClass&lt;T&gt;` parameterized definition, but reference it without a &quot;diamond&quot; - `AClass a = new AClass()`\r\n\r\nSome more examples of raw use:\r\n\r\n```\r\n\t\tList list = new ArrayList&lt;&gt;(); // --&gt; List&lt;?&gt; list\r\n\t\tList&lt;String&gt; list = new ArrayList(); // --&gt; new ArrayList&lt;&gt;();\r\n\t\tFunction function = o -&gt; o.toString(); // --&gt; Function&lt;Object, String&gt;\r\n```\r\n\r\n\r\nEDIT \r\n\r\nYou have a generic class \r\n```\r\nclass BaseUnitConverter&lt;T&gt; {\r\n\r\n\tprivate InstantiatorUnitConverter&lt;T&gt; me;\r\n\r\n\tprotected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\r\n\t\tthis.me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\r\n\t\treturn t;\r\n\t}\r\n}\r\n```\r\n\r\nThe problem is that you pass the `E` type to be assigned to a `T`-typed reference.\r\n\r\nIt is the same as if you did `List&lt;String&gt; list = new ArrayList&lt;Integer&gt;()`;\r\n\r\n\r\nI now see 2 ways to fix it, but it depends on your specifics.\r\n\r\n1) Make storeValue accept `T` as a parameter (you will lose type flexibility though)\r\n```\r\nclass BaseUnitConverter&lt;T&gt; {\r\n\r\n    private InstantiatorUnitConverter&lt;T&gt; me;\r\n\r\n    protected final &lt;M&gt; M storeValue(M t, double value, T tt) {\r\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\r\n        return t;\r\n    }\r\n}\r\n```\r\n\r\n2) &quot;De-generify&quot; the BaseUnitConverter class (you will have to cast at some point, the same way it works in Java Collections)\r\n```\r\nclass BaseUnitConverter {\r\n\r\n    private InstantiatorUnitConverter&lt;?&gt; me;\r\n\r\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\r\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\r\n        return t;\r\n    }\r\n\r\n    // You will lose the type here\r\n    public InstantiatorUnitConverter&lt;?&gt; getIstantiator(){\r\n        return this.me;\r\n    }\r\n\r\n    // Or generify the getter \r\n    // May throw java.lang.ClassCastException if referencing with the wrong type\r\n    // Java-collections-like style (e.g., see ArrayList)\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; InstantiatorUnitConverter&lt;T&gt; getIstantiator() {\r\n\t\treturn (InstantiatorUnitConverter&lt;T&gt;) this.me;\r\n\t}\r\n}\r\n```","title":"Raw use of parameterized class in Java","body":"<pre><code>    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\n\n        return t;\n    }\n</code></pre>\n<p>Raw use of parameterized class 'AClass' means you have a <code>class AClass&lt;T&gt;</code> parameterized definition, but reference it without a &quot;diamond&quot; - <code>AClass a = new AClass()</code></p>\n<p>Some more examples of raw use:</p>\n<pre><code>        List list = new ArrayList&lt;&gt;(); // --&gt; List&lt;?&gt; list\n        List&lt;String&gt; list = new ArrayList(); // --&gt; new ArrayList&lt;&gt;();\n        Function function = o -&gt; o.toString(); // --&gt; Function&lt;Object, String&gt;\n</code></pre>\n<p>EDIT</p>\n<p>You have a generic class</p>\n<pre><code>class BaseUnitConverter&lt;T&gt; {\n\n    private InstantiatorUnitConverter&lt;T&gt; me;\n\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\n        this.me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\n        return t;\n    }\n}\n</code></pre>\n<p>The problem is that you pass the <code>E</code> type to be assigned to a <code>T</code>-typed reference.</p>\n<p>It is the same as if you did <code>List&lt;String&gt; list = new ArrayList&lt;Integer&gt;()</code>;</p>\n<p>I now see 2 ways to fix it, but it depends on your specifics.</p>\n<ol>\n<li>Make storeValue accept <code>T</code> as a parameter (you will lose type flexibility though)</li>\n</ol>\n<pre><code>class BaseUnitConverter&lt;T&gt; {\n\n    private InstantiatorUnitConverter&lt;T&gt; me;\n\n    protected final &lt;M&gt; M storeValue(M t, double value, T tt) {\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\n        return t;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>&quot;De-generify&quot; the BaseUnitConverter class (you will have to cast at some point, the same way it works in Java Collections)</li>\n</ol>\n<pre><code>class BaseUnitConverter {\n\n    private InstantiatorUnitConverter&lt;?&gt; me;\n\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\n        return t;\n    }\n\n    // You will lose the type here\n    public InstantiatorUnitConverter&lt;?&gt; getIstantiator(){\n        return this.me;\n    }\n\n    // Or generify the getter \n    // May throw java.lang.ClassCastException if referencing with the wrong type\n    // Java-collections-like style (e.g., see ArrayList)\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; InstantiatorUnitConverter&lt;T&gt; getIstantiator() {\n        return (InstantiatorUnitConverter&lt;T&gt;) this.me;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688682709,"creation_date":1688672322,"question_id":76632071,"body_markdown":"I have two classes that use generics in Java in order to perform conversions between units of measure. In the BaseUnitConverter class I have two warnings, from the intellij IDE, that say:\r\n\r\n\r\n    Raw use of parameterized class &#39;InstantiatorUnitConverter&#39; \r\n    Unchecked assignment: &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&#39; to &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&lt;T&gt;&#39; \r\n    Unchecked call to &#39;InstantiatorUnitConverter(Object, T, String)&#39; as a member of raw type &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&#39; \r\n\r\nfor methods:\r\n\r\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n\r\nand\r\n\r\n    protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\r\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n        return t;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe basic classes of this conversion system are as follows:\r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     * Instantiated variables from new UnitConverter instance (Only used in class BaseUnitConverter).\r\n     */\r\n    public final class InstantiatorUnitConverter&lt;T&gt; implements Serializable {\r\n        private final Object o;      //Only used in DataType and NumericBase measurements (classes), user passed &quot;from&quot; value (Object). When this is the case, variable &quot;v&quot; is not used.\r\n        private final double v;      //User passed &quot;from&quot; value (double). When this is the case, variable &quot;o&quot; is not used.\r\n        private final T t;        //Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n        private final String ts;  //String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n        private final boolean d;  //Used in class B.java &quot;getValuePassed()&quot;. True if &quot;from&quot; value was a double, false for Object (Object only used in DataType and NumericBase measurements (classes)).\r\n    \r\n        /**\r\n         * Empty constructor only called when instantiating from class B.java\r\n         */\r\n        public InstantiatorUnitConverter(){\r\n            o = &quot;&quot;;\r\n            v = -1;\r\n            t = null;\r\n            ts = &quot;&quot;;\r\n            d = true;\r\n        }\r\n    \r\n        /**\r\n         * Only used in class B.java when measurement &quot;from&quot; method only converts numbers.\r\n         * All measurements other than DataType and NumericBase use this constructor.\r\n         * @param value User passed &quot;from&quot; value (double).\r\n         * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public InstantiatorUnitConverter(double value, T enumConstant, String enumTag){\r\n            o = &quot;&quot;;     //This variable (Object value) will not be used when this constructor is called, default it to an empty string.\r\n            v = value;\r\n            t = enumConstant;\r\n            ts = enumTag;\r\n            d = true;   //Variable d set to true as &quot;from&quot; value passed is a numeric type not an Object.\r\n        }\r\n    \r\n        /**\r\n         * Only used in class B.java when measurement &quot;from&quot; method can convert more than numbers and an Object is passed as the value.\r\n         * Only measurements DataType and NumericBase use this constructor.\r\n         * @param value User passed &quot;from&quot; value (Object).\r\n         * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public InstantiatorUnitConverter(Object value, T enumConstant, String enumTag){\r\n            o = value;\r\n            v = -1;     //This variable (double value) will not be used when this constructor is called, default it to -1\r\n            t = enumConstant;\r\n            ts = enumTag;\r\n            d = false;  //Variable d set to false as &quot;from&quot; value passed is an Object not double.\r\n        }\r\n    \r\n    \r\n        public Object getO() {\r\n            return o;\r\n        }\r\n    \r\n        public double getV() {\r\n            return v;\r\n        }\r\n    \r\n        public T getT() {\r\n            return t;\r\n        }\r\n    \r\n        public String getTs() {\r\n            return ts;\r\n        }\r\n    \r\n        public boolean isD() {\r\n            return d;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     * Generic base class for most UnitConverter measurement classes.\r\n     */\r\n    public class BaseUnitConverter&lt;T&gt; implements Serializable {\r\n    \r\n        private InstantiatorUnitConverter&lt;T&gt; me; //Instantiate class A.java for variables needed to perform conversions.\r\n    \r\n        public BaseUnitConverter() {\r\n            this.me = new InstantiatorUnitConverter&lt;&gt;();\r\n        }\r\n    \r\n        public InstantiatorUnitConverter&lt;T&gt; getIstantiator(){\r\n            return this.me;\r\n        }\r\n    \r\n        /**\r\n         * Returns value initially passed into the measurement&#39;s &quot;from&quot; method.\r\n         */\r\n        public final Object getValuePassed(){\r\n            return (me.isD()) ? me.getV() : me.getO();    //true returns numeric value passed, false returns Object passed.\r\n        }\r\n    \r\n        /**\r\n         * Returns the enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public final String getTypeConstantPassed(){\r\n    \r\n            return me.getTs();\r\n        }\r\n    \r\n        /**\r\n         * Stores the needed values to do conversions of the measurement.\r\n         * This overload of the method is used in &quot;from&quot; methods in every measurement class other than Anything(), DataType(), and NumericBase().\r\n         *\r\n         * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param value User passed &quot;from&quot; value (double).\r\n         * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @return class context passed in so variable like &quot;UnitOf.Length len&quot; can be used as the variable type\r\n         */\r\n        protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Stores the needed values to do conversions of the measurement.\r\n         * This overload of the method is used only in DataType and NumericBase as Objects can be passed as &quot;from&quot; values.\r\n         *\r\n         * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param value User passed &quot;from&quot; value (Object).\r\n         * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @return class context passed in so variable like &quot;UnitOf.DataType dt&quot; can be used as the variable type\r\n         */\r\n        protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Gets and returns the string value of constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        private &lt;E&gt; String st(E tt){\r\n            String unitType = &quot;&quot;;\r\n            try{\r\n                unitType = tt.toString();\r\n            } catch(Exception ignored){ }\r\n            return unitType;\r\n        }\r\n    \r\n        /**\r\n         * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here).\r\n         * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\r\n         * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\r\n         * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\r\n         * @return Finished conversion. &quot;From&quot; converted into &quot;to&quot; value.\r\n         */\r\n        protected final double k(double a, double b){\r\n    \r\n            return k(a,b,true);\r\n        }\r\n    \r\n        /**\r\n         * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here)\r\n         * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\r\n         * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\r\n         * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\r\n         * @param q Multiply then divide conversion algorithm, false will divide then multiply when converting &quot;to&quot;\r\n         * @return Finished conversion. &quot;from&quot; converted into &quot;to&quot; value.\r\n         */\r\n        protected final double k(double a, double b, boolean q){\r\n    \r\n            return UnitConverterUtils.i(UnitConverterUtils.i(me.getV(), a, q), b, !q);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nI tried the solution proposed by Serg Vasylchak but I got an error message (note just change letter symbols):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3RULI.png\r\n  [2]: https://i.stack.imgur.com/5whCZ.png\r\n  [3]: https://i.stack.imgur.com/DCWGf.png","title":"Raw use of parameterized class in Java","body":"<p>I have two classes that use generics in Java in order to perform conversions between units of measure. In the BaseUnitConverter class I have two warnings, from the intellij IDE, that say:</p>\n<pre><code>Raw use of parameterized class 'InstantiatorUnitConverter' \nUnchecked assignment: 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter' to 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&lt;T&gt;' \nUnchecked call to 'InstantiatorUnitConverter(Object, T, String)' as a member of raw type 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter' \n</code></pre>\n<p>for methods:</p>\n<pre><code>protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n</code></pre>\n<p>and</p>\n<pre><code>protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\n    me = new InstantiatorUnitConverter(value, tt, st(tt));\n    return t;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3RULI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RULI.png\" alt=\"enter image description here\" /></a></p>\n<p>The basic classes of this conversion system are as follows:</p>\n<pre><code>import java.io.Serializable;\n\n/**\n * Instantiated variables from new UnitConverter instance (Only used in class BaseUnitConverter).\n */\npublic final class InstantiatorUnitConverter&lt;T&gt; implements Serializable {\n    private final Object o;      //Only used in DataType and NumericBase measurements (classes), user passed &quot;from&quot; value (Object). When this is the case, variable &quot;v&quot; is not used.\n    private final double v;      //User passed &quot;from&quot; value (double). When this is the case, variable &quot;o&quot; is not used.\n    private final T t;        //Enum constant value representing the &quot;from&quot; method of the measurement used.\n    private final String ts;  //String value of enum constant representing the &quot;from&quot; method of the measurement used.\n    private final boolean d;  //Used in class B.java &quot;getValuePassed()&quot;. True if &quot;from&quot; value was a double, false for Object (Object only used in DataType and NumericBase measurements (classes)).\n\n    /**\n     * Empty constructor only called when instantiating from class B.java\n     */\n    public InstantiatorUnitConverter(){\n        o = &quot;&quot;;\n        v = -1;\n        t = null;\n        ts = &quot;&quot;;\n        d = true;\n    }\n\n    /**\n     * Only used in class B.java when measurement &quot;from&quot; method only converts numbers.\n     * All measurements other than DataType and NumericBase use this constructor.\n     * @param value User passed &quot;from&quot; value (double).\n     * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\n     */\n    public InstantiatorUnitConverter(double value, T enumConstant, String enumTag){\n        o = &quot;&quot;;     //This variable (Object value) will not be used when this constructor is called, default it to an empty string.\n        v = value;\n        t = enumConstant;\n        ts = enumTag;\n        d = true;   //Variable d set to true as &quot;from&quot; value passed is a numeric type not an Object.\n    }\n\n    /**\n     * Only used in class B.java when measurement &quot;from&quot; method can convert more than numbers and an Object is passed as the value.\n     * Only measurements DataType and NumericBase use this constructor.\n     * @param value User passed &quot;from&quot; value (Object).\n     * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\n     */\n    public InstantiatorUnitConverter(Object value, T enumConstant, String enumTag){\n        o = value;\n        v = -1;     //This variable (double value) will not be used when this constructor is called, default it to -1\n        t = enumConstant;\n        ts = enumTag;\n        d = false;  //Variable d set to false as &quot;from&quot; value passed is an Object not double.\n    }\n\n\n    public Object getO() {\n        return o;\n    }\n\n    public double getV() {\n        return v;\n    }\n\n    public T getT() {\n        return t;\n    }\n\n    public String getTs() {\n        return ts;\n    }\n\n    public boolean isD() {\n        return d;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>import java.io.Serializable;\n\n/**\n * Generic base class for most UnitConverter measurement classes.\n */\npublic class BaseUnitConverter&lt;T&gt; implements Serializable {\n\n    private InstantiatorUnitConverter&lt;T&gt; me; //Instantiate class A.java for variables needed to perform conversions.\n\n    public BaseUnitConverter() {\n        this.me = new InstantiatorUnitConverter&lt;&gt;();\n    }\n\n    public InstantiatorUnitConverter&lt;T&gt; getIstantiator(){\n        return this.me;\n    }\n\n    /**\n     * Returns value initially passed into the measurement's &quot;from&quot; method.\n     */\n    public final Object getValuePassed(){\n        return (me.isD()) ? me.getV() : me.getO();    //true returns numeric value passed, false returns Object passed.\n    }\n\n    /**\n     * Returns the enum constant value representing the &quot;from&quot; method of the measurement used.\n     */\n    public final String getTypeConstantPassed(){\n\n        return me.getTs();\n    }\n\n    /**\n     * Stores the needed values to do conversions of the measurement.\n     * This overload of the method is used in &quot;from&quot; methods in every measurement class other than Anything(), DataType(), and NumericBase().\n     *\n     * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param value User passed &quot;from&quot; value (double).\n     * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @return class context passed in so variable like &quot;UnitOf.Length len&quot; can be used as the variable type\n     */\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n\n    /**\n     * Stores the needed values to do conversions of the measurement.\n     * This overload of the method is used only in DataType and NumericBase as Objects can be passed as &quot;from&quot; values.\n     *\n     * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param value User passed &quot;from&quot; value (Object).\n     * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @return class context passed in so variable like &quot;UnitOf.DataType dt&quot; can be used as the variable type\n     */\n    protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n\n    /**\n     * Gets and returns the string value of constant representing the &quot;from&quot; method of the measurement used.\n     */\n    private &lt;E&gt; String st(E tt){\n        String unitType = &quot;&quot;;\n        try{\n            unitType = tt.toString();\n        } catch(Exception ignored){ }\n        return unitType;\n    }\n\n    /**\n     * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here).\n     * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\n     * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\n     * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\n     * @return Finished conversion. &quot;From&quot; converted into &quot;to&quot; value.\n     */\n    protected final double k(double a, double b){\n\n        return k(a,b,true);\n    }\n\n    /**\n     * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here)\n     * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\n     * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\n     * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\n     * @param q Multiply then divide conversion algorithm, false will divide then multiply when converting &quot;to&quot;\n     * @return Finished conversion. &quot;from&quot; converted into &quot;to&quot; value.\n     */\n    protected final double k(double a, double b, boolean q){\n\n        return UnitConverterUtils.i(UnitConverterUtils.i(me.getV(), a, q), b, !q);\n    }\n\n\n}\n</code></pre>\n<p>I tried the solution proposed by Serg Vasylchak but I got an error message (note just change letter symbols):</p>\n<p><a href=\"https://i.stack.imgur.com/5whCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5whCZ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DCWGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCWGf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","openapi"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1683041353,"post_id":76153735,"comment_id":134304101,"body_markdown":"Here ? https://stackoverflow.com/questions/43524355/how-to-display-required-user-roles-access-control-information-in-swagger-ui-fo","body":"Here ? <a href=\"https://stackoverflow.com/questions/43524355/how-to-display-required-user-roles-access-control-information-in-swagger-ui-fo\" title=\"how to display required user roles access control information in swagger ui fo\">stackoverflow.com/questions/43524355/&hellip;</a>"},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683102359,"post_id":76153735,"comment_id":134313447,"body_markdown":"@TacheDeChoco thats for using Swagger, not OpenApi","body":"@TacheDeChoco thats for using Swagger, not OpenApi"}],"answers":[{"tags":[],"owner":{"account_id":20731826,"reputation":1,"user_id":15223603,"display_name":"mahh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688490126,"creation_date":1688490126,"answer_id":76614647,"question_id":76153735,"body_markdown":"I propose a workaround for that.\r\nAs roles in applications are strictly defined we can create a special annotation for each role that will be used for authorization and include *@PreAuthorize* annotation together with *@Operation* annotation.\r\n*@Operation* enriches endpoint documentation by custom description.\r\n\r\nSo create annotation:\r\n\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    @PreAuthorize(&quot;hasRole(&#39;bar-admin&#39;)&quot;)\r\n    @Operation(description = &quot;Required role: bar-admin&quot;)\r\n    public @interface AuthorizeBarAdmin {\r\n    }\r\n\r\nNow you can use the *@AuthorizeBarAdmin* annotation instead \r\n*@PreAuthorize(&quot;hasRole(&#39;bar-admin&#39;)&quot;)* and the custom description will be included.\r\n\r\nNote: *@Operation* can be annotated on REST endpoint next to the *@Preauthorize* anyway, but always you need to remember about the additional annotation and copy the description many times. That&#39;s why the above solution is better.\r\n  ","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I propose a workaround for that.\nAs roles in applications are strictly defined we can create a special annotation for each role that will be used for authorization and include <em>@PreAuthorize</em> annotation together with <em>@Operation</em> annotation.\n<em>@Operation</em> enriches endpoint documentation by custom description.</p>\n<p>So create annotation:</p>\n<pre><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\n@PreAuthorize(&quot;hasRole('bar-admin')&quot;)\n@Operation(description = &quot;Required role: bar-admin&quot;)\npublic @interface AuthorizeBarAdmin {\n}\n</code></pre>\n<p>Now you can use the <em>@AuthorizeBarAdmin</em> annotation instead\n<em>@PreAuthorize(&quot;hasRole('bar-admin')&quot;)</em> and the custom description will be included.</p>\n<p>Note: <em>@Operation</em> can be annotated on REST endpoint next to the <em>@Preauthorize</em> anyway, but always you need to remember about the additional annotation and copy the description many times. That's why the above solution is better.</p>\n"},{"tags":[],"owner":{"account_id":28767978,"reputation":11,"user_id":22032423,"display_name":"Grzegorz Jewusiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688682414,"creation_date":1688682276,"answer_id":76632859,"question_id":76153735,"body_markdown":"I use a custom annotation `@UserRoleDescription` with a controller&#39;s method as below:\r\n\r\n    @GetMapping(&quot;/bytin/{tin}&quot;)\r\n    @Secured(&quot;ROLE_ADMIN&quot;)\r\n    @Operation(summary = &quot;Get company by Tax ID Number&quot;)\r\n    @UserRoleDescription\r\n    public CompanyDto getCompanyByTin(@PathVariable String tin) {\r\n        ...\r\n    }\r\n\r\nIt results in a description containing an information about the required role:\r\n[Swagger UI result here][1].\r\n\r\nAnnotation:\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface UserRoleDescription {\r\n\r\n    }\r\n\r\nAnd description customizer:\r\n\r\n    @Component\r\n    public class UserRoleDescriptionCustomizer implements OperationCustomizer {\r\n        @Override\r\n        public Operation customize(Operation operation, HandlerMethod handlerMethod) {\r\n            var annotation = handlerMethod.getMethodAnnotation(UserRoleDescription.class);\r\n            if (annotation != null) {\r\n                var securedAnnotation = handlerMethod.getMethodAnnotation(Secured.class);\r\n                if(securedAnnotation != null) {\r\n                    String description = operation.getDescription()==null ? &quot;&quot; : (operation.getDescription()+&quot;\\n&quot;);\r\n                    operation.setDescription(description + &quot;Required role: **&quot;+ String.join(&quot;or&quot;, securedAnnotation.value()) + &quot;**&quot;);\r\n                }\r\n            }\r\n            return operation;\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/FLrvt.png","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I use a custom annotation <code>@UserRoleDescription</code> with a controller's method as below:</p>\n<pre><code>@GetMapping(&quot;/bytin/{tin}&quot;)\n@Secured(&quot;ROLE_ADMIN&quot;)\n@Operation(summary = &quot;Get company by Tax ID Number&quot;)\n@UserRoleDescription\npublic CompanyDto getCompanyByTin(@PathVariable String tin) {\n    ...\n}\n</code></pre>\n<p>It results in a description containing an information about the required role:\n<a href=\"https://i.stack.imgur.com/FLrvt.png\" rel=\"nofollow noreferrer\">Swagger UI result here</a>.</p>\n<p>Annotation:</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface UserRoleDescription {\n\n}\n</code></pre>\n<p>And description customizer:</p>\n<pre><code>@Component\npublic class UserRoleDescriptionCustomizer implements OperationCustomizer {\n    @Override\n    public Operation customize(Operation operation, HandlerMethod handlerMethod) {\n        var annotation = handlerMethod.getMethodAnnotation(UserRoleDescription.class);\n        if (annotation != null) {\n            var securedAnnotation = handlerMethod.getMethodAnnotation(Secured.class);\n            if(securedAnnotation != null) {\n                String description = operation.getDescription()==null ? &quot;&quot; : (operation.getDescription()+&quot;\\n&quot;);\n                operation.setDescription(description + &quot;Required role: **&quot;+ String.join(&quot;or&quot;, securedAnnotation.value()) + &quot;**&quot;);\n            }\n        }\n        return operation;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688682414,"creation_date":1683021541,"question_id":76153735,"body_markdown":"I have a Spring Boot 3 project and I want to show the required role/permission in the OpenApi UI for my endpoints. I have had this working before, in the past when I used Swagger instead OpenApi, however I am not sure what changes I need to make to get it to work for this.\r\n\r\nHere is what I have:\r\n\r\n    import java.util.Optional;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.stereotype.Component;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spi.service.OperationBuilderPlugin;\r\n    import springfox.documentation.spi.service.contexts.OperationContext;\r\n    import springfox.documentation.spring.web.DescriptionResolver;\r\n    import springfox.documentation.swagger.common.SwaggerPluginSupport;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    @Order(SwaggerPluginSupport.OAS_PLUGIN_ORDER)// this used to be: SWAGGER_PLUGIN_ORDER for Swagger\r\n    @RequiredArgsConstructor\r\n    class MyOperationBuilderPlugin implements OperationBuilderPlugin {\r\n    \r\n      private final DescriptionResolver descriptionResolver;\r\n    \r\n      @Override\r\n      public void apply(OperationContext context) {\r\n        try {\r\n          String apiRoleAccessNoteText = &quot;Required role: None&quot;;\r\n          Optional&lt;PreAuthorize&gt; preAuthorizeAnnotation = context.findAnnotation(PreAuthorize.class);\r\n          if (preAuthorizeAnnotation.isPresent()) {\r\n            apiRoleAccessNoteText =\r\n                &quot;Required role: &quot;\r\n                    + preAuthorizeAnnotation\r\n                        .get()\r\n                        .value()\r\n                        .replace(&quot;hasAuthority(&#39;&quot;, &quot;&quot;)\r\n                        .replace(&quot;&#39;)&quot;, &quot;&quot;);\r\n          }\r\n          context.operationBuilder().notes(descriptionResolver.resolve(apiRoleAccessNoteText));\r\n        } catch (Exception e) {\r\n          log.error(&quot;Error when creating swagger documentation for security roles: &quot; + e);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public boolean supports(DocumentationType delimiter) {\r\n        return SwaggerPluginSupport.pluginDoesApply(delimiter);\r\n      }\r\n    }\r\n\r\n\r\nThe UI looks like this\r\n\r\n[![No role showing][1]][1]\r\n\r\nHowever, it should show something like this (this is for a previous service using Swagger instead of OpenApi)\r\n[![Should look like this][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bkmu1.png\r\n  [2]: https://i.stack.imgur.com/gQnuK.png","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I have a Spring Boot 3 project and I want to show the required role/permission in the OpenApi UI for my endpoints. I have had this working before, in the past when I used Swagger instead OpenApi, however I am not sure what changes I need to make to get it to work for this.</p>\n<p>Here is what I have:</p>\n<pre><code>import java.util.Optional;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.stereotype.Component;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.OperationBuilderPlugin;\nimport springfox.documentation.spi.service.contexts.OperationContext;\nimport springfox.documentation.spring.web.DescriptionResolver;\nimport springfox.documentation.swagger.common.SwaggerPluginSupport;\n\n@Slf4j\n@Component\n@Order(SwaggerPluginSupport.OAS_PLUGIN_ORDER)// this used to be: SWAGGER_PLUGIN_ORDER for Swagger\n@RequiredArgsConstructor\nclass MyOperationBuilderPlugin implements OperationBuilderPlugin {\n\n  private final DescriptionResolver descriptionResolver;\n\n  @Override\n  public void apply(OperationContext context) {\n    try {\n      String apiRoleAccessNoteText = &quot;Required role: None&quot;;\n      Optional&lt;PreAuthorize&gt; preAuthorizeAnnotation = context.findAnnotation(PreAuthorize.class);\n      if (preAuthorizeAnnotation.isPresent()) {\n        apiRoleAccessNoteText =\n            &quot;Required role: &quot;\n                + preAuthorizeAnnotation\n                    .get()\n                    .value()\n                    .replace(&quot;hasAuthority('&quot;, &quot;&quot;)\n                    .replace(&quot;')&quot;, &quot;&quot;);\n      }\n      context.operationBuilder().notes(descriptionResolver.resolve(apiRoleAccessNoteText));\n    } catch (Exception e) {\n      log.error(&quot;Error when creating swagger documentation for security roles: &quot; + e);\n    }\n  }\n\n  @Override\n  public boolean supports(DocumentationType delimiter) {\n    return SwaggerPluginSupport.pluginDoesApply(delimiter);\n  }\n}\n</code></pre>\n<p>The UI looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/Bkmu1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bkmu1.png\" alt=\"No role showing\" /></a></p>\n<p>However, it should show something like this (this is for a previous service using Swagger instead of OpenApi)\n<a href=\"https://i.stack.imgur.com/gQnuK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQnuK.png\" alt=\"Should look like this\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","jwt","backend"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":1,"creation_date":1688678019,"post_id":76632497,"comment_id":135110028,"body_markdown":"Well, you explicitily configured POST to `/api/v1/auth` as secured (`hasRole(&quot;ADMIN&quot;)`), which looks wrong - at this point, you have nothing in security context yet. Generally, the sign-in/sign-up requests are `.permitAll()`, while all the others are protected - e.g., closing the customizer chain with `.anyRequest().authenticated();`","body":"Well, you explicitily configured POST to <code>&#47;api&#47;v1&#47;auth</code> as secured (<code>hasRole(&quot;ADMIN&quot;)</code>), which looks wrong - at this point, you have nothing in security context yet. Generally, the sign-in/sign-up requests are <code>.permitAll()</code>, while all the others are protected - e.g., closing the customizer chain with <code>.anyRequest().authenticated();</code>"},{"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"score":0,"creation_date":1688679071,"post_id":76632497,"comment_id":135110160,"body_markdown":"@SergVasylchak **/api/v1/auth** only for Admin. I don&#39;t have others controller and this is like test controller","body":"@SergVasylchak <b>/api/v1/auth</b> only for Admin. I don&#39;t have others controller and this is like test controller"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1688681540,"post_id":76632497,"comment_id":135110522,"body_markdown":"You need to be more specific on how this should work. Assuming it&#39;s just username/password login, then the user has no authorities yet. `PreAuthorize` does a check _before_ it allows access to the endpoint. If you need additional checks, like user type, do those checks in the endpoint. e.g. `if userIsNotAdmin then return 401`","body":"You need to be more specific on how this should work. Assuming it&#39;s just username/password login, then the user has no authorities yet. <code>PreAuthorize</code> does a check <i>before</i> it allows access to the endpoint. If you need additional checks, like user type, do those checks in the endpoint. e.g. <code>if userIsNotAdmin then return 401</code>"}],"answers":[{"comments":[{"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"score":0,"creation_date":1688806667,"post_id":76632869,"comment_id":135125618,"body_markdown":"My **admin user** has admin license in database","body":"My <b>admin user</b> has admin license in database"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":1,"creation_date":1688938817,"post_id":76632869,"comment_id":135138201,"body_markdown":"so admin user is already registered, but he cant login, so he cant prove to the system that he is an admin.","body":"so admin user is already registered, but he cant login, so he cant prove to the system that he is an admin."}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688682395,"creation_date":1688682395,"answer_id":76632869,"question_id":76632497,"body_markdown":"you are creating a loop here. for a user to login they need to be an admin, and for them to be an admin they must login first !! this does not work. usually login endpoint should not have any authorization required","title":"Back-end doesn&#39;t send me a response (JWT) while using Spring Security","body":"<p>you are creating a loop here. for a user to login they need to be an admin, and for them to be an admin they must login first !! this does not work. usually login endpoint should not have any authorization required</p>\n"}],"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688682395,"creation_date":1688677165,"question_id":76632497,"body_markdown":"I don&#39;t get a `token JWT` after send a request to the restcontroller.\r\nI tried to rewrite, but this didn&#39;t solve the problem.\r\nI&#39;m confused becuase I thought that I need to enter the default security password, but `&quot;Basic auth&quot;` is disabled.\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n    {\r\n        http\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests(\r\n                        requests -&gt; requests\r\n                                .requestMatchers(&quot;/&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .anyRequest().authenticated()\r\n\r\n                )\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n                //.addFilterAfter(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n        return http.build();\r\n    }\r\n\r\n---------------------\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class AuthController\r\n    {\r\n        private final UserDetailsServiceImpl userDetailsService;\r\n        private final JwtProvider jwtProvider;\r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n        @PostMapping(&quot;/auth&quot;)\r\n        public ResponseEntity&lt;?&gt; createAuthToken(@RequestBody AuthRequestDTO authRequestDTO)\r\n        {\r\n            try\r\n            {\r\n                authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authRequestDTO.getUsername(), authRequestDTO.getPassword()));\r\n            }\r\n            catch (BadCredentialsException e)\r\n            {\r\n                return new ResponseEntity&lt;&gt;(new ApiError(HttpStatus.UNAUTHORIZED, &quot;Invalid username or password&quot;), HttpStatus.UNAUTHORIZED);\r\n            }\r\n    \r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(authRequestDTO.getUsername());\r\n    \r\n            String token = jwtProvider.generateToken(userDetails);\r\n    \r\n            return ResponseEntity.ok(new AuthResponseDTO(token));\r\n        }\r\n    }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gUjN5.png","title":"Back-end doesn&#39;t send me a response (JWT) while using Spring Security","body":"<p>I don't get a <code>token JWT</code> after send a request to the restcontroller.\nI tried to rewrite, but this didn't solve the problem.\nI'm confused becuase I thought that I need to enter the default security password, but <code>&quot;Basic auth&quot;</code> is disabled.</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n{\n    http\n            .csrf().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeHttpRequests(\n                    requests -&gt; requests\n                            .requestMatchers(&quot;/&quot;).permitAll()\n                            .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;).hasRole(&quot;ADMIN&quot;)\n                            .anyRequest().authenticated()\n\n            )\n            .exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n            //.addFilterAfter(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n\n    return http.build();\n}\n</code></pre>\n<hr />\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/v1&quot;)\npublic class AuthController\n{\n    private final UserDetailsServiceImpl userDetailsService;\n    private final JwtProvider jwtProvider;\n    private final AuthenticationManager authenticationManager;\n\n    @PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\n    @PostMapping(&quot;/auth&quot;)\n    public ResponseEntity&lt;?&gt; createAuthToken(@RequestBody AuthRequestDTO authRequestDTO)\n    {\n        try\n        {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authRequestDTO.getUsername(), authRequestDTO.getPassword()));\n        }\n        catch (BadCredentialsException e)\n        {\n            return new ResponseEntity&lt;&gt;(new ApiError(HttpStatus.UNAUTHORIZED, &quot;Invalid username or password&quot;), HttpStatus.UNAUTHORIZED);\n        }\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(authRequestDTO.getUsername());\n\n        String token = jwtProvider.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthResponseDTO(token));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gUjN5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","javafx","jackson","nosql"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687748224,"creation_date":1687748224,"answer_id":76553271,"question_id":76552717,"body_markdown":"&gt; `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible\r\n\r\nadd setter for id property so that jackson can access it\r\n\r\n    public void setId(int id) {\r\n       this.id= id;\r\n    }","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<blockquote>\n<p><code>java.lang.reflect.InaccessibleObjectException</code>, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible</p>\n</blockquote>\n<p>add setter for id property so that jackson can access it</p>\n<pre><code>public void setId(int id) {\n   this.id= id;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"score":1,"creation_date":1688609721,"post_id":76592655,"comment_id":135097669,"body_markdown":"Thank you for the more informative answer.\n\nI was able to get the code to work with 3. and 4. of your answer.\n\nI&#39;m not sure what 1. was doing. Why would I be required to load an empty Scene? What is ```jlink```?","body":"Thank you for the more informative answer.  I was able to get the code to work with 3. and 4. of your answer.  I&#39;m not sure what 1. was doing. Why would I be required to load an empty Scene? What is <code>jlink</code>?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688682107,"post_id":76592655,"comment_id":135110582,"body_markdown":"Added FAQ section to answer to address additional questions.","body":"Added FAQ section to answer to address additional questions."},{"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"score":0,"creation_date":1689309626,"post_id":76592655,"comment_id":135198031,"body_markdown":"Thank you so much. I would love to learn more about project modularization in this way.","body":"Thank you so much. I would love to learn more about project modularization in this way."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688682081,"creation_date":1688166717,"answer_id":76592655,"question_id":76552717,"body_markdown":"**Solution: Update your Maven project and Java module-info**\r\n\r\nTo get your example to run, I needed to make the following changes.\r\n\r\n1. Replace the FXML scene with an empty scene, as there is no FXML in your question.\r\n\r\n       // FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\r\n       // Scene scene = new Scene(fxmlLoader.load(), 800, 600);\r\n       stage.setScene(new Scene(new Group()));\r\n\r\n2. Add a dependency management section to the pom.xml as recommended by [the Jackson maven guide][1] and replace the remove the version for the jackson-databind so that it could be derived from the bill of materials (bom) in the dependency management section.  (I am not sure why this was required, but, without it, my IDE complained that the dependent jackson-core jar file was empty).\r\n\r\n       &lt;dependencyManagement&gt;\r\n           &lt;dependencies&gt;\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.15.2&lt;/version&gt;\r\n                   &lt;scope&gt;import&lt;/scope&gt;\r\n                   &lt;type&gt;pom&lt;/type&gt;\r\n               &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n       &lt;/dependencyManagement&gt;\r\n       . . .\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-databind&lt;/&gt;\r\n       &lt;/dependency&gt;\r\n\r\n3. Update the module-info.java to require the jackson databind module.\r\n\r\n       requires com.fasterxml.jackson.databind;\r\n\r\n4. Update the module-info.java to open the bank package to the jackson databind module.\r\n\r\n       opens com.app.bankapplet.bank to com.fasterxml.jackson.databind;\r\n\r\nI did not need to apply the modification to add an id setter proposed by [AhmedNabil&#39;s answer][2].  This is because Jackson works on introspection by reflection, and was able to introspect your Bank class once the package opened it to the module, even without a public setter on the id field.  You might want to consider using an ID setter regardless. \r\n\r\n**Additional Comments**\r\n\r\nYou need to:\r\n\r\n1. Require the jackson modules in your module-info, (look for the names in their module-info or META-INF). \r\n2. In your module-info open the required package (you can see it in the error message) to the appropriate jackson module (it will tell you the name of the jackson module you need to open it to in the error it will generate after you fix step 1). \r\n\r\nIf you don&#39;t understand, study [Understanding Java 9 modules][3].\r\n\r\n\r\nAlthough my answer solves the issue marked in your question, future work may also be more complicated because of the use of the non-modular nitrate jar which you are using as an [automatic module][4] (so stuff like `jlink` like you have in your Maven project) won&#39;t work with it. \r\n\r\nYou might want to consider getting rid of the module info altogether and creating a non-modular project, then either having JavaFX in the runtime (e.g. [Azul Zulu JDK FX distribution][5]) or providing the JavaFX modules via command line arguments (see [openjfx.io getting started][6] for more info about that configuration). \r\n\r\n**FAQ**\r\n\r\n&gt; Why would I be required to load an empty Scene?\r\n\r\nYou don’t need to do that. \r\n\r\nIt is what I needed to do, to be able to run the app in my environment. Your application loads an fxml file which I don’t have. The required fxml file is not included your question, so unless I changed your code, it would not run.\r\n\r\n&gt; What is `jlink`?\r\n\r\n[`jlink`][7] is a Java linker. \r\n\r\nIt is a part of the JDK. It builds custom native runtimes for Java and for modular Java applications. \r\n\r\nThe Maven project file you provided in your question refers to it using an execution of the [`javafx-maven-plugin`][8], so I thought you might be trying to use it (which won&#39;t work for an app with automatic modules such as you have).\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind#maven\r\n  [2]: https://stackoverflow.com/a/76553271/1155209\r\n  [3]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [4]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [5]: https://www.azul.com/downloads/?package=jdk-fx#zulu\r\n  [6]: https://openjfx.io/openjfx-docs/\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\r\n  [8]: https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<p><strong>Solution: Update your Maven project and Java module-info</strong></p>\n<p>To get your example to run, I needed to make the following changes.</p>\n<ol>\n<li><p>Replace the FXML scene with an empty scene, as there is no FXML in your question.</p>\n<pre><code>// FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\n// Scene scene = new Scene(fxmlLoader.load(), 800, 600);\nstage.setScene(new Scene(new Group()));\n</code></pre>\n</li>\n<li><p>Add a dependency management section to the pom.xml as recommended by <a href=\"https://github.com/FasterXML/jackson-databind#maven\" rel=\"nofollow noreferrer\">the Jackson maven guide</a> and replace the remove the version for the jackson-databind so that it could be derived from the bill of materials (bom) in the dependency management section.  (I am not sure why this was required, but, without it, my IDE complained that the dependent jackson-core jar file was empty).</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n. . .\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Update the module-info.java to require the jackson databind module.</p>\n<pre><code>requires com.fasterxml.jackson.databind;\n</code></pre>\n</li>\n<li><p>Update the module-info.java to open the bank package to the jackson databind module.</p>\n<pre><code>opens com.app.bankapplet.bank to com.fasterxml.jackson.databind;\n</code></pre>\n</li>\n</ol>\n<p>I did not need to apply the modification to add an id setter proposed by <a href=\"https://stackoverflow.com/a/76553271/1155209\">AhmedNabil's answer</a>.  This is because Jackson works on introspection by reflection, and was able to introspect your Bank class once the package opened it to the module, even without a public setter on the id field.  You might want to consider using an ID setter regardless.</p>\n<p><strong>Additional Comments</strong></p>\n<p>You need to:</p>\n<ol>\n<li>Require the jackson modules in your module-info, (look for the names in their module-info or META-INF).</li>\n<li>In your module-info open the required package (you can see it in the error message) to the appropriate jackson module (it will tell you the name of the jackson module you need to open it to in the error it will generate after you fix step 1).</li>\n</ol>\n<p>If you don't understand, study <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 modules</a>.</p>\n<p>Although my answer solves the issue marked in your question, future work may also be more complicated because of the use of the non-modular nitrate jar which you are using as an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a> (so stuff like <code>jlink</code> like you have in your Maven project) won't work with it.</p>\n<p>You might want to consider getting rid of the module info altogether and creating a non-modular project, then either having JavaFX in the runtime (e.g. <a href=\"https://www.azul.com/downloads/?package=jdk-fx#zulu\" rel=\"nofollow noreferrer\">Azul Zulu JDK FX distribution</a>) or providing the JavaFX modules via command line arguments (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io getting started</a> for more info about that configuration).</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Why would I be required to load an empty Scene?</p>\n</blockquote>\n<p>You don’t need to do that.</p>\n<p>It is what I needed to do, to be able to run the app in my environment. Your application loads an fxml file which I don’t have. The required fxml file is not included your question, so unless I changed your code, it would not run.</p>\n<blockquote>\n<p>What is <code>jlink</code>?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> is a Java linker.</p>\n<p>It is a part of the JDK. It builds custom native runtimes for Java and for modular Java applications.</p>\n<p>The Maven project file you provided in your question refers to it using an execution of the <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\"><code>javafx-maven-plugin</code></a>, so I thought you might be trying to use it (which won't work for an app with automatic modules such as you have).</p>\n"}],"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76592655,"answer_count":2,"score":1,"last_activity_date":1688682081,"creation_date":1687733980,"question_id":76552717,"body_markdown":"Trying to create a Java Object and store it in a [NOsql Object (NO2 a.k.a Nitrite) database](https://www.dizitart.org/nitrite-database/).\r\n\r\nUpon trying to store the object in an object repository the com.fasterxml.jackson.databind.exc.InvalidDefinitionException exception is thrown.\r\n\r\nI have tried to export the bank.java class in the module-info.java file; I have tried to add a default constructor in the bank.java class. Neither have solved the problem.\r\n\r\nThank you for the help in solving this error.\r\n\r\nThe full error is displayed as follows:\r\n```lang-java\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.app.bankapplet.bank.Bank`: Failed to construct BeanSerializer for [simple type, class com.app.bankapplet.bank.Bank]: (java.lang.IllegalArgumentException) Failed to call `setAccess()` on Field &#39;id&#39; (of class `com.app.bankapplet.bank.Bank`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible: module com.app.bankapplet does not &quot;opens com.app.bankapplet.bank&quot; to unnamed module @6293abcc\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:72)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadTypeDefinition(SerializerProvider.java:1280)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:475)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1451)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:556)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.findTypedValueSerializer(SerializerProvider.java:834)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:307)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4522)\r\n\t... 18 more\r\nException running application com.app.bankapplet.Main\r\n```\r\n\r\nWhat I would expect to have happen is the object is stored in the object repository.\r\n\r\nPlease find below my code:\r\n\r\nMain.java\r\n```lang-java\r\npackage com.app.bankapplet;\r\n\r\nimport com.app.bankapplet.bank.Bank;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\nimport org.dizitart.no2.Nitrite;\r\nimport org.dizitart.no2.NitriteCollection;\r\nimport org.dizitart.no2.objects.ObjectRepository;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class Main extends Application {\r\n    private static Nitrite db;\r\n    private static Bank bank;\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        // Generates a bank\r\n        bank = getBank();\r\n        ObjectRepository&lt;Bank&gt; bankObjectStore = db.getRepository(Bank.class);\r\n        bankObjectStore.insert(bank);\r\n\r\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 800, 600);\r\n        stage.setTitle(&quot;Bank Manager&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        db = Nitrite.builder()\r\n                .filePath(new File(&quot;target/appdb.db&quot;))\r\n                .compressed()\r\n                .openOrCreate();\r\n        launch();\r\n    }\r\n    protected static Bank getBank() {\r\n        Dialog&lt;Bank&gt; dialog = new Dialog&lt;&gt;();\r\n        dialog.setTitle(&quot;New Bank&quot;);\r\n        dialog.setHeaderText(&quot;Enter the name of the bank:&quot;);\r\n\r\n        Label label = new Label(&quot;Bank Name: &quot;);\r\n        TextField text = new TextField();\r\n\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.add(label, 1, 1);\r\n        gridPane.add(text, 2, 1);\r\n        dialog.getDialogPane().setContent(gridPane);\r\n\r\n        ButtonType buttonTypeOK = new ButtonType(&quot;OK&quot;, ButtonBar.ButtonData.OK_DONE);\r\n        dialog.getDialogPane().getButtonTypes().add(buttonTypeOK);\r\n\r\n        dialog.setResultConverter(new Callback&lt;ButtonType, Bank&gt;() {\r\n            @Override\r\n            public Bank call(ButtonType b) {\r\n                if(b == buttonTypeOK) {\r\n                    return new Bank(text.getText());\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n\r\n        Optional&lt;Bank&gt; result = dialog.showAndWait();\r\n\r\n        if(result.isPresent()) {\r\n            return result.get();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBank.java\r\n```lang-java\r\npackage com.app.bankapplet.bank;\r\n\r\nimport org.dizitart.no2.objects.Id;\r\n\r\npublic class Bank {\r\n    @Id\r\n    private int id;\r\n    private String name;\r\n\r\n    public Bank() {\r\n\r\n    }\r\n    public Bank(String name) {\r\n        this.id = 0;\r\n        this.name = name;\r\n    }\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    private static String toTitleCase(String item) {\r\n        if (item == null || item.isEmpty()) {\r\n            return item;\r\n        }\r\n\r\n        StringBuilder convertedString = new StringBuilder();\r\n        boolean convertNext = true;\r\n\r\n        for (char ch : item.toCharArray()) {\r\n            if (Character.isSpaceChar(ch)) {\r\n                convertNext = true;\r\n            } else if (convertNext) {\r\n                ch = Character.toTitleCase(ch);\r\n                convertNext = false;\r\n            } else {\r\n                ch = Character.toLowerCase(ch);\r\n            }\r\n            convertedString.append(ch);\r\n        }\r\n\r\n        return convertedString.toString();\r\n    }\r\n}\r\n```\r\n\r\nmodule-info.java\r\n```lang-java\r\nmodule com.app.bankapplet {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires nitrite;\r\n\r\n    opens com.app.bankapplet to javafx.fxml;\r\n    exports com.app.bankapplet.bank;\r\n    exports com.app.bankapplet;\r\n}\r\n```\r\n\r\npom.xml\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BankApplet&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;BankApplet&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dizitart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nitrite&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;20&lt;/source&gt;\r\n                    &lt;target&gt;20&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.app.bankapplet/com.app.bankapplet.Main&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<p>Trying to create a Java Object and store it in a <a href=\"https://www.dizitart.org/nitrite-database/\" rel=\"nofollow noreferrer\">NOsql Object (NO2 a.k.a Nitrite) database</a>.</p>\n<p>Upon trying to store the object in an object repository the com.fasterxml.jackson.databind.exc.InvalidDefinitionException exception is thrown.</p>\n<p>I have tried to export the bank.java class in the module-info.java file; I have tried to add a default constructor in the bank.java class. Neither have solved the problem.</p>\n<p>Thank you for the help in solving this error.</p>\n<p>The full error is displayed as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.app.bankapplet.bank.Bank`: Failed to construct BeanSerializer for [simple type, class com.app.bankapplet.bank.Bank]: (java.lang.IllegalArgumentException) Failed to call `setAccess()` on Field 'id' (of class `com.app.bankapplet.bank.Bank`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible: module com.app.bankapplet does not &quot;opens com.app.bankapplet.bank&quot; to unnamed module @6293abcc\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:72)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadTypeDefinition(SerializerProvider.java:1280)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:475)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\n    at com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\n    at com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1451)\n    at com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:556)\n    at com.fasterxml.jackson.databind.SerializerProvider.findTypedValueSerializer(SerializerProvider.java:834)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:307)\n    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4522)\n    ... 18 more\nException running application com.app.bankapplet.Main\n</code></pre>\n<p>What I would expect to have happen is the object is stored in the object repository.</p>\n<p>Please find below my code:</p>\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.bankapplet;\n\nimport com.app.bankapplet.bank.Bank;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\nimport org.dizitart.no2.Nitrite;\nimport org.dizitart.no2.NitriteCollection;\nimport org.dizitart.no2.objects.ObjectRepository;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class Main extends Application {\n    private static Nitrite db;\n    private static Bank bank;\n    @Override\n    public void start(Stage stage) throws IOException {\n        // Generates a bank\n        bank = getBank();\n        ObjectRepository&lt;Bank&gt; bankObjectStore = db.getRepository(Bank.class);\n        bankObjectStore.insert(bank);\n\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 800, 600);\n        stage.setTitle(&quot;Bank Manager&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        db = Nitrite.builder()\n                .filePath(new File(&quot;target/appdb.db&quot;))\n                .compressed()\n                .openOrCreate();\n        launch();\n    }\n    protected static Bank getBank() {\n        Dialog&lt;Bank&gt; dialog = new Dialog&lt;&gt;();\n        dialog.setTitle(&quot;New Bank&quot;);\n        dialog.setHeaderText(&quot;Enter the name of the bank:&quot;);\n\n        Label label = new Label(&quot;Bank Name: &quot;);\n        TextField text = new TextField();\n\n        GridPane gridPane = new GridPane();\n        gridPane.add(label, 1, 1);\n        gridPane.add(text, 2, 1);\n        dialog.getDialogPane().setContent(gridPane);\n\n        ButtonType buttonTypeOK = new ButtonType(&quot;OK&quot;, ButtonBar.ButtonData.OK_DONE);\n        dialog.getDialogPane().getButtonTypes().add(buttonTypeOK);\n\n        dialog.setResultConverter(new Callback&lt;ButtonType, Bank&gt;() {\n            @Override\n            public Bank call(ButtonType b) {\n                if(b == buttonTypeOK) {\n                    return new Bank(text.getText());\n                }\n                return null;\n            }\n        });\n\n        Optional&lt;Bank&gt; result = dialog.showAndWait();\n\n        if(result.isPresent()) {\n            return result.get();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>Bank.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.bankapplet.bank;\n\nimport org.dizitart.no2.objects.Id;\n\npublic class Bank {\n    @Id\n    private int id;\n    private String name;\n\n    public Bank() {\n\n    }\n    public Bank(String name) {\n        this.id = 0;\n        this.name = name;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    private static String toTitleCase(String item) {\n        if (item == null || item.isEmpty()) {\n            return item;\n        }\n\n        StringBuilder convertedString = new StringBuilder();\n        boolean convertNext = true;\n\n        for (char ch : item.toCharArray()) {\n            if (Character.isSpaceChar(ch)) {\n                convertNext = true;\n            } else if (convertNext) {\n                ch = Character.toTitleCase(ch);\n                convertNext = false;\n            } else {\n                ch = Character.toLowerCase(ch);\n            }\n            convertedString.append(ch);\n        }\n\n        return convertedString.toString();\n    }\n}\n</code></pre>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.app.bankapplet {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires nitrite;\n\n    opens com.app.bankapplet to javafx.fxml;\n    exports com.app.bankapplet.bank;\n    exports com.app.bankapplet;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;BankApplet&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;BankApplet&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dizitart&lt;/groupId&gt;\n            &lt;artifactId&gt;nitrite&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.app.bankapplet/com.app.bankapplet.Main&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","bean-validation","resourcebundle"],"comments":[{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":0,"creation_date":1343160374,"post_id":11599208,"comment_id":15416590,"body_markdown":"What is it you actually want to achieve? Why do you want to add the bundle several times to your application?","body":"What is it you actually want to achieve? Why do you want to add the bundle several times to your application?"},{"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"score":0,"creation_date":1343202159,"post_id":11599208,"comment_id":15427294,"body_markdown":"Can  you clarify your configuration? Where and how do you add another _ValidationMessages_it.properties_. Maybe you can outline the full structure of your war and of course why you want to add the same property file twice. In case you want to be able to specify multiple different properties file you should have a look at AggregateResourceBundleLocator (provided you are using Hibernate Validator)","body":"Can  you clarify your configuration? Where and how do you add another <i>ValidationMessages_it.properties</i>. Maybe you can outline the full structure of your war and of course why you want to add the same property file twice. In case you want to be able to specify multiple different properties file you should have a look at AggregateResourceBundleLocator (provided you are using Hibernate Validator)"},{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343209005,"post_id":11599208,"comment_id":15430336,"body_markdown":"@Hardy: it&#39;s not the same bundle, it is another one that contains other messages. See the edit on my post","body":"@Hardy: it&#39;s not the same bundle, it is another one that contains other messages. See the edit on my post"},{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343461748,"post_id":11599208,"comment_id":15515543,"body_markdown":"@Gunnar, since you are in JSR 349 EG may you have a look at my edits? I don&#39;t know if it&#39;s an error in my configuration, a bug or an expected behavior.","body":"@Gunnar, since you are in JSR 349 EG may you have a look at my edits? I don&#39;t know if it&#39;s an error in my configuration, a bug or an expected behavior."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1607677603,"post_id":11599208,"comment_id":115352766,"body_markdown":"The FileFactory links for the uploaded webapps are now invalid: &quot;Invalid Download Link: This file may have been deleted, or it may have expired. This error can also occur if the file link is invalid.&quot;","body":"The FileFactory links for the uploaded webapps are now invalid: &quot;Invalid Download Link: This file may have been deleted, or it may have expired. This error can also occur if the file link is invalid.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343376742,"post_id":11671418,"comment_id":15490074,"body_markdown":"I&#39;m a little confused. It&#39;s BV that compel me to use the same name for the bundles. What I&#39;m trying to do is a very common task so I thought EG has provided a standard way to accomplish it. Instead here you suggest to use an hibernate class. I&#39;ve opened another question, see edit2. Thank you very much for your patience","body":"I&#39;m a little confused. It&#39;s BV that compel me to use the same name for the bundles. What I&#39;m trying to do is a very common task so I thought EG has provided a standard way to accomplish it. Instead here you suggest to use an hibernate class. I&#39;ve opened another question, see edit2. Thank you very much for your patience"},{"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"score":0,"creation_date":1343487716,"post_id":11671418,"comment_id":15519918,"body_markdown":"There is no &quot;standard&quot; way of doing what you want to do. There is an open issue for Bean Validation 1.1 (https://hibernate.onjira.com/browse/BVAL-252) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org","body":"There is no &quot;standard&quot; way of doing what you want to do. There is an open issue for Bean Validation 1.1 (<a href=\"https://hibernate.onjira.com/browse/BVAL-252\" rel=\"nofollow noreferrer\">hibernate.onjira.com/browse/BVAL-252</a>) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org"},{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343489343,"post_id":11671418,"comment_id":15520256,"body_markdown":"Thank you very much Hardy. I thought it was a bug. If you update your answer I&#39;ll glad to accept it.","body":"Thank you very much Hardy. I thought it was a bug. If you update your answer I&#39;ll glad to accept it."}],"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607677750,"creation_date":1343312571,"answer_id":11671418,"question_id":11599208,"body_markdown":"I think the solution in your case is the mentioned _AggregateResourceBundleLocator_. However, you cannot have the same name for the property files. Internally _ResourceBundle#getBundle_ is called which does return a single _ResourceBundle_. There is no concept of combining/merging properties files with the same name. \r\n\r\n**EDIT 1**\r\n\r\nRegarding a standard way of doing it - unfortunately there is none. There is an open issue for Bean Validation 1.1 ([BVAL-252](https://hibernate.atlassian.net/browse/BVAL-252)) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org","title":"Conflict between ValidationMessages.properties files","body":"<p>I think the solution in your case is the mentioned <em>AggregateResourceBundleLocator</em>. However, you cannot have the same name for the property files. Internally <em>ResourceBundle#getBundle</em> is called which does return a single <em>ResourceBundle</em>. There is no concept of combining/merging properties files with the same name.</p>\n<p><strong>EDIT 1</strong></p>\n<p>Regarding a standard way of doing it - unfortunately there is none. There is an open issue for Bean Validation 1.1 (<a href=\"https://hibernate.atlassian.net/browse/BVAL-252\" rel=\"nofollow noreferrer\">BVAL-252</a>) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org</p>\n"},{"comments":[{"owner":{"account_id":369402,"reputation":461,"user_id":716769,"display_name":"Bogdan Mart"},"score":0,"creation_date":1688468370,"post_id":33442715,"comment_id":135075355,"body_markdown":"This didn&#39;t work. I&#39;ve tried your @Bean definition, but it collected only resources from single JAR.  Hibernate Validator 6.1.5","body":"This didn&#39;t work. I&#39;ve tried your @Bean definition, but it collected only resources from single JAR.  Hibernate Validator 6.1.5"},{"owner":{"account_id":369402,"reputation":461,"user_id":716769,"display_name":"Bogdan Mart"},"score":0,"creation_date":1688469575,"post_id":33442715,"comment_id":135075627,"body_markdown":"But I am not in spring boot, but in Spring. I guess that&#39;s the problem","body":"But I am not in spring boot, but in Spring. I guess that&#39;s the problem"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1688533109,"post_id":33442715,"comment_id":135084165,"body_markdown":"@BogdanMart This should work just as well in a Spring project as a Spring Boot project.  Both JAR files are imported and both have a file named `ValidationMessages.properties` (or one of its locale-specific variants)?","body":"@BogdanMart This should work just as well in a Spring project as a Spring Boot project.  Both JAR files are imported and both have a file named <code>ValidationMessages.properties</code> (or one of its locale-specific variants)?"},{"owner":{"account_id":369402,"reputation":461,"user_id":716769,"display_name":"Bogdan Mart"},"score":1,"creation_date":1688679084,"post_id":33442715,"comment_id":135110163,"body_markdown":"Yes. But as I have noticed, `PlatformResourceBundleLocator` gets instantiated multiple times with that parameter passed in as `false`. Hibernate is instantiating it. My guess is that Spring is using different instance than one I&#39;ve created. As we are using Validation of controller parameters, not manual validation, But we resorted to use single properties file located in same jar that our models, so it&#39;s good for now.  Perhaps would come back to this issue later.","body":"Yes. But as I have noticed, <code>PlatformResourceBundleLocator</code> gets instantiated multiple times with that parameter passed in as <code>false</code>. Hibernate is instantiating it. My guess is that Spring is using different instance than one I&#39;ve created. As we are using Validation of controller parameters, not manual validation, But we resorted to use single properties file located in same jar that our models, so it&#39;s good for now.  Perhaps would come back to this issue later."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1688681312,"post_id":33442715,"comment_id":135110497,"body_markdown":"@BogdanMart I&#39;ve recently upgraded my app to Spring Boot 3.1.1.  I&#39;ve updated my answer to include my Boot config, which includes additional special configuration used by Web MVC.  Maybe this is what you need.","body":"@BogdanMart I&#39;ve recently upgraded my app to Spring Boot 3.1.1.  I&#39;ve updated my answer to include my Boot config, which includes additional special configuration used by Web MVC.  Maybe this is what you need."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688681583,"creation_date":1446229915,"answer_id":33442715,"question_id":11599208,"body_markdown":"By default, if multiple JAR/WAR/etc. files contain a resource bundle file with the exact same name, only one of them will be used for validator messages.  This is the issue here: both `commons.jar` and the application WAR contain a resource with name `ValidationMessages_it.properties`.\r\n\r\nHibernate Validator 5.2, released in July 2015, added support for aggregating all resource bundles with the same name from different JAR files.  This functionality is disabled by default, and can be configured in [org.hibernate.validator.resourceloading.PlatformResourceBundleLocator](http://docs.jboss.org/hibernate/validator/5.2/api/org/hibernate/validator/resourceloading/PlatformResourceBundleLocator.html#PlatformResourceBundleLocator-java.lang.String-java.lang.ClassLoader-boolean-).\r\n\r\nExample:\r\n\r\n```lang-java\r\nPlatformResourceBundleLocator resourceBundleLocator =\r\n        new PlatformResourceBundleLocator(\r\n                ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                null, true);\r\n\r\nValidator validator = Validation.byProvider(HibernateValidator)\r\n    .configure()\r\n    .messageInterpolator(\r\n            new ResourceBundleMessageInterpolator(resourceBundleLocator))\r\n    .buildValidatorFactory()\r\n    .getValidator();\r\n```\r\n\r\nEquivalent code for a Spring project using Java config:\r\n\r\n```lang-java\r\n@Bean\r\npublic LocalValidatorFactoryBean validator() {\r\n    PlatformResourceBundleLocator resourceBundleLocator =\r\n            new PlatformResourceBundleLocator(\r\n                    ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                    null, true);\r\n\r\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n    factoryBean.setMessageInterpolator(\r\n            new ResourceBundleMessageInterpolator(resourceBundleLocator));\r\n    return factoryBean;\r\n}\r\n```\r\n\r\nFor a Spring Boot 3.x project using Web MVC, the following configures both the default validator used by Spring, as well as the validator used by Web MVC for validating controller parameters and the like:\r\n\r\n```lang-java\r\nimport org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator;\r\nimport org.hibernate.validator.resourceloading.PlatformResourceBundleLocator;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.springframework.validation.Validator;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class ValidationConfig {\r\n    /**\r\n     * Matches the bean name from {@code ValidationAutoConfiguration.defaultValidator}.\r\n     */\r\n    @Bean\r\n    public LocalValidatorFactoryBean defaultValidator() {\r\n        PlatformResourceBundleLocator resourceBundleLocator =\r\n                new PlatformResourceBundleLocator(\r\n                        ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                        null, true);\r\n\r\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n        factoryBean.setMessageInterpolator(\r\n                new ResourceBundleMessageInterpolator(resourceBundleLocator));\r\n        return factoryBean;\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer validatorConfigurer(Validator defaultValidator) {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public Validator getValidator() {\r\n                return defaultValidator;\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Conflict between ValidationMessages.properties files","body":"<p>By default, if multiple JAR/WAR/etc. files contain a resource bundle file with the exact same name, only one of them will be used for validator messages.  This is the issue here: both <code>commons.jar</code> and the application WAR contain a resource with name <code>ValidationMessages_it.properties</code>.</p>\n<p>Hibernate Validator 5.2, released in July 2015, added support for aggregating all resource bundles with the same name from different JAR files.  This functionality is disabled by default, and can be configured in <a href=\"http://docs.jboss.org/hibernate/validator/5.2/api/org/hibernate/validator/resourceloading/PlatformResourceBundleLocator.html#PlatformResourceBundleLocator-java.lang.String-java.lang.ClassLoader-boolean-\" rel=\"nofollow noreferrer\">org.hibernate.validator.resourceloading.PlatformResourceBundleLocator</a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlatformResourceBundleLocator resourceBundleLocator =\n        new PlatformResourceBundleLocator(\n                ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                null, true);\n\nValidator validator = Validation.byProvider(HibernateValidator)\n    .configure()\n    .messageInterpolator(\n            new ResourceBundleMessageInterpolator(resourceBundleLocator))\n    .buildValidatorFactory()\n    .getValidator();\n</code></pre>\n<p>Equivalent code for a Spring project using Java config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalValidatorFactoryBean validator() {\n    PlatformResourceBundleLocator resourceBundleLocator =\n            new PlatformResourceBundleLocator(\n                    ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                    null, true);\n\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n    factoryBean.setMessageInterpolator(\n            new ResourceBundleMessageInterpolator(resourceBundleLocator));\n    return factoryBean;\n}\n</code></pre>\n<p>For a Spring Boot 3.x project using Web MVC, the following configures both the default validator used by Spring, as well as the validator used by Web MVC for validating controller parameters and the like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator;\nimport org.hibernate.validator.resourceloading.PlatformResourceBundleLocator;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.validation.Validator;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class ValidationConfig {\n    /**\n     * Matches the bean name from {@code ValidationAutoConfiguration.defaultValidator}.\n     */\n    @Bean\n    public LocalValidatorFactoryBean defaultValidator() {\n        PlatformResourceBundleLocator resourceBundleLocator =\n                new PlatformResourceBundleLocator(\n                        ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                        null, true);\n\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n        factoryBean.setMessageInterpolator(\n                new ResourceBundleMessageInterpolator(resourceBundleLocator));\n        return factoryBean;\n    }\n\n    @Bean\n    public WebMvcConfigurer validatorConfigurer(Validator defaultValidator) {\n        return new WebMvcConfigurer() {\n            @Override\n            public Validator getValidator() {\n                return defaultValidator;\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3510,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11671418,"answer_count":2,"score":5,"last_activity_date":1688681583,"creation_date":1342950130,"question_id":11599208,"body_markdown":"I use to collect all my validation constraints in a common library. In the root of the jar I put a `ValidationMessages_it.properties` file.\r\nAll works fine, if I put this library into a jsf 2 war project all validation messages are shown correctly.\r\nHowever a problem arise if I put another `ValidationMessages_it.properties` in the war artifact too. In this case a `{library.message_key}` string is shown.\r\n\r\nI think Bean Validation find the right property file in the war and does not take into account that in the library.\r\nHow can I solve?\r\n\r\n# Example\r\n\r\nI have a library, commons.jar, that contains custom constraints. In order to set messages for these constraints I&#39;ve added a `ValidationMessages_it.properties` in the root of this library\r\n\r\n```lang-none\r\ncommons.jar\r\n    |\r\n    + library\r\n    |   |\r\n    |   + CustomConstraint.class\r\n    |\r\n    + ValidationMessages_it.properties\r\n```\r\n\r\n## ValidationMessages_it.properties\r\n\r\n```lang-none\r\nlibrary.custom=Questo &#232; l&#39;errore di cui parlavo\r\n```\r\n\r\n## CustomConstraint.java\r\n\r\n```java\r\n@Pattern( regexp = &quot;[a-z]&quot;, message = &quot;{library.custom}&quot; )\r\n@Constraint( validatedBy = {} )\r\n@Documented\r\n@Target( { ElementType.METHOD, ElementType.FIELD } )\r\n@Retention( RetentionPolicy.RUNTIME )\r\npublic @interface CustomConstraint {\r\n    String message() default &quot;C&#39;&#232; un errore&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n**PS:** *note that the message key is on the @Pattern annotation instead of message(), this could seem a mistake but otherwise it never works!*\r\n\r\nAfter that I want to use this `commons.jar` in my web app project (jsf/mojarra 2.1). All works fine. The displayed error message is &quot;Questo &#232; l&#39;errore di cui parlavo&quot;.\r\n\r\nBut now suppose I define new validation constraints in my webapp, so I want to supply translations for these constraints by adding a `ValidationMessages_it.properties` in `WEB-INF/classes` folder. In this case the displayed error message is &quot;{library.custom}&quot;\r\n\r\nSo I think that BV (or jsf?) find the bundle in the war and does not take into account that in the commons.jar. It does not find the key `library.custom` in the `ValidationMessages_it.properties` that resides in the `WEB-INF/classes` folder thus return `{library.custom}` literally.\r\n\r\n# Example 2\r\n\r\nBased on [Bean Validation constraints in a shared library][1], my package structure seems correct. I uploaded a simple web app to show the problem:\r\n\r\n - [a war artifact that can be deployed in a java EE 6 compliant application server][2]\r\n - [a source zip that contains two maven projects, one for library and one for webapp][3]\r\n\r\nI tested the webapp in Glassfish 3.1.2, JBoss AS 7.1.1, Geronimo 3.0.0\r\n\r\nGlassfish and JBoss have the same behavior. In Geronimo it works a little bit better.\r\n\r\n  [1]: https://stackoverflow.com/questions/11683708/bean-validation-constraints-in-a-shared-library\r\n  [2]: http://www.filefactory.com/file/1v4e61w0ty77/n/bvtest-1_0_war\r\n  [3]: http://www.filefactory.com/file/1iteiatld9of/n/bvsource_zip","title":"Conflict between ValidationMessages.properties files","body":"<p>I use to collect all my validation constraints in a common library. In the root of the jar I put a <code>ValidationMessages_it.properties</code> file.\nAll works fine, if I put this library into a jsf 2 war project all validation messages are shown correctly.\nHowever a problem arise if I put another <code>ValidationMessages_it.properties</code> in the war artifact too. In this case a <code>{library.message_key}</code> string is shown.</p>\n<p>I think Bean Validation find the right property file in the war and does not take into account that in the library.\nHow can I solve?</p>\n<h1>Example</h1>\n<p>I have a library, commons.jar, that contains custom constraints. In order to set messages for these constraints I've added a <code>ValidationMessages_it.properties</code> in the root of this library</p>\n<pre class=\"lang-none prettyprint-override\"><code>commons.jar\n    |\n    + library\n    |   |\n    |   + CustomConstraint.class\n    |\n    + ValidationMessages_it.properties\n</code></pre>\n<h2>ValidationMessages_it.properties</h2>\n<pre class=\"lang-none prettyprint-override\"><code>library.custom=Questo è l'errore di cui parlavo\n</code></pre>\n<h2>CustomConstraint.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Pattern( regexp = &quot;[a-z]&quot;, message = &quot;{library.custom}&quot; )\n@Constraint( validatedBy = {} )\n@Documented\n@Target( { ElementType.METHOD, ElementType.FIELD } )\n@Retention( RetentionPolicy.RUNTIME )\npublic @interface CustomConstraint {\n    String message() default &quot;C'è un errore&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>PS:</strong> <em>note that the message key is on the @Pattern annotation instead of message(), this could seem a mistake but otherwise it never works!</em></p>\n<p>After that I want to use this <code>commons.jar</code> in my web app project (jsf/mojarra 2.1). All works fine. The displayed error message is &quot;Questo è l'errore di cui parlavo&quot;.</p>\n<p>But now suppose I define new validation constraints in my webapp, so I want to supply translations for these constraints by adding a <code>ValidationMessages_it.properties</code> in <code>WEB-INF/classes</code> folder. In this case the displayed error message is &quot;{library.custom}&quot;</p>\n<p>So I think that BV (or jsf?) find the bundle in the war and does not take into account that in the commons.jar. It does not find the key <code>library.custom</code> in the <code>ValidationMessages_it.properties</code> that resides in the <code>WEB-INF/classes</code> folder thus return <code>{library.custom}</code> literally.</p>\n<h1>Example 2</h1>\n<p>Based on <a href=\"https://stackoverflow.com/questions/11683708/bean-validation-constraints-in-a-shared-library\">Bean Validation constraints in a shared library</a>, my package structure seems correct. I uploaded a simple web app to show the problem:</p>\n<ul>\n<li><a href=\"http://www.filefactory.com/file/1v4e61w0ty77/n/bvtest-1_0_war\" rel=\"nofollow noreferrer\">a war artifact that can be deployed in a java EE 6 compliant application server</a></li>\n<li><a href=\"http://www.filefactory.com/file/1iteiatld9of/n/bvsource_zip\" rel=\"nofollow noreferrer\">a source zip that contains two maven projects, one for library and one for webapp</a></li>\n</ul>\n<p>I tested the webapp in Glassfish 3.1.2, JBoss AS 7.1.1, Geronimo 3.0.0</p>\n<p>Glassfish and JBoss have the same behavior. In Geronimo it works a little bit better.</p>\n"},{"tags":["java","swing","user-interface","methods","filewriter"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688681678,"post_id":76632802,"comment_id":135110537,"body_markdown":"You&#39;re asking a question about multiple steps, but you have not shown what you&#39;ve tried nor have you told us which step you&#39;re stuck on. If you state, &quot;all of them&quot;, then perhaps you&#39;re here too soon with this question and might want to try to solve this yourself first.  Then if still stuck, show your code and ask your more specific and site-appropriate question For best results on this site, please check out the [ask], [tour] and [help] links.","body":"You&#39;re asking a question about multiple steps, but you have not shown what you&#39;ve tried nor have you told us which step you&#39;re stuck on. If you state, &quot;all of them&quot;, then perhaps you&#39;re here too soon with this question and might want to try to solve this yourself first.  Then if still stuck, show your code and ask your more specific and site-appropriate question For best results on this site, please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/help\">help center</a> links."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688681923,"post_id":76632802,"comment_id":135110563,"body_markdown":"Also, have a look at the [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html), in particular, the sections on using ActionListeners with JButtons and the use of JTextFields. Also, the main Java tutorials can help you with File I&amp;O, all information needed to solve this problem.","body":"Also, have a look at the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>, in particular, the sections on using ActionListeners with JButtons and the use of JTextFields. Also, the main Java tutorials can help you with File I&amp;O, all information needed to solve this problem."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688687138,"post_id":76632802,"comment_id":135111026,"body_markdown":"*&quot;What should I do in general.&quot;* - In general ... break down complex tasks into simpler ones.  For example 1) work out how to do something in response to a button press, 2) work out how to get the text from a text box (e.g. as a string),  3) work out how to save some text (e.g. a string) to a file.","body":"<i>&quot;What should I do in general.&quot;</i> - In general ... break down complex tasks into simpler ones.  For example 1) work out how to do something in response to a button press, 2) work out how to get the text from a text box (e.g. as a string),  3) work out how to save some text (e.g. a string) to a file."}],"owner":{"account_id":23053650,"reputation":11,"user_id":17170043,"display_name":"Mert &#199;etinkaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1688681586,"answer_count":0,"score":0,"last_activity_date":1688681435,"creation_date":1688681435,"question_id":76632802,"body_markdown":"I want to write to a txt file by pressing JButton.I want to write JTextField.getText() to a txt file by pressing JButton. [enter image description here](https://i.stack.imgur.com/4d7d3.png) \r\nWhat should I do in general.\r\n\r\nI tried to write FileWriter class but didn&#39;t actually get it.","title":"Java Swing File Organization","body":"<p>I want to write to a txt file by pressing JButton.I want to write JTextField.getText() to a txt file by pressing JButton. <a href=\"https://i.stack.imgur.com/4d7d3.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nWhat should I do in general.</p>\n<p>I tried to write FileWriter class but didn't actually get it.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0","boxsdk"],"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1555814296,"post_id":55778575,"comment_id":98230316,"body_markdown":"What is your specific question? Are you having a particular problem?","body":"What is your specific question? Are you having a particular problem?"}],"answers":[{"tags":[],"owner":{"account_id":11885621,"reputation":135,"user_id":8698105,"display_name":"pat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556203332,"creation_date":1556203332,"answer_id":55851966,"question_id":55778575,"body_markdown":"So i came up with this java code to copy files from box folder to Aws S3. I have used box-sdk-java, aws-sdk-java here.\r\n```\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.auth.profile.ProfileCredentialsProvider;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\r\nimport com.amazonaws.services.s3.model.PartETag;\r\nimport com.amazonaws.services.s3.model.UploadPartRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartResult;\r\nimport com.box.sdk.BoxAPIConnection;\r\nimport com.box.sdk.BoxFile;\r\nimport com.box.sdk.BoxFolder;\r\nimport com.box.sdk.BoxItem;\r\nimport com.box.sdk.Metadata;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic static String fileObjKeyName = &quot;&quot;;\r\npublic static String bucketName = &quot;s3Bucket&quot;;\r\n// store credentials in your local machine in aws config / credentials file.\r\npublic static ProfileCredentialsProvider credentialsProvider = new ProfileCredentialsProvider();\r\npublic static AmazonS3 s3Client = AmazonS3ClientBuilder\r\n\t\t\t.standard()\r\n\t\t\t.withCredentials(credentialsProvider)\r\n\t\t\t.withRegion(regionfOfS3Bucket)\r\n\t\t\t.build();\r\nString access_token = &quot;some_access_token&quot;;\r\nString refresh_token = &quot;some_refresh_token&quot;;\r\nBoxAPIConnection api = new BoxAPIConnection(client_id,\r\n                client_secret,\r\n                access_token,\r\n                refresh_token);\r\nBoxFolder folder = new BoxFolder(api,folderId);\r\n\r\nfor (BoxItem.Info itemInfo : folder) {\r\n    if (itemInfo instanceof BoxFile.Info) {\r\n        // getting file info, metadata\r\n        // have to upload the file content here to S3 bucket\r\n        BoxFile file = new BoxFile(api, itemInfo.getID());\r\n    \t    \tBoxFile.Info info = file.getInfo();\r\n    \t    \tSystem.out.println(info.getName());\r\n    \t    \tFileOutputStream stream;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstream = new FileOutputStream(info.getName());\r\n\t\t\t\t\tfile.download(stream);\r\n\t    \t    \tstream.close();\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n    \t    \t\r\n    \t    \tFile file_new = FileUtils.getFile(info.getName());\r\n    \t    \tfileObjKeyName =  itemInfo.getID() + &quot;_&quot; + info.getName();\r\n    \t\t\tlong contentLength = file_new.length();\r\n    \t\t\tSystem.out.println(contentLength);\r\n    \t\t\tlong partSize = 5 * 1024 * 1024;\r\n    \t\t\tList&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\r\n    \t\t\tInitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, fileObjKeyName);\r\n    \t\t\tInitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\r\n    \t\t\tlong filePosition = 0;\r\n    \t\t\tfor (int i = 1; filePosition &lt; contentLength; i++) {\r\n    \t\t\t\t// Because the last part could be less than 5 MB, adjust the\r\n    \t\t\t\t// part size as needed.\r\n    \t\t\t\tpartSize = Math.min(partSize, (contentLength - filePosition));\r\n    \t\t\t\t// Create the request to upload a part.\r\n    \t\t\t\tUploadPartRequest uploadRequest = new UploadPartRequest().withBucketName(bucketName).withKey(fileObjKeyName)\r\n    \t\t\t\t\t\t.withUploadId(initResponse.getUploadId()).withPartNumber(i).withFileOffset(filePosition).withFile(file_new).withPartSize(partSize);\r\n\r\n    \t\t\t\t// Upload the part and add the response&#39;s ETag to our list.\r\n    \t\t\t\tUploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\r\n    \t\t\t\tpartETags.add(uploadResult.getPartETag());\r\n\r\n    \t\t\t\tfilePosition += partSize;\r\n    \t\t\t}\r\n    \t\t\tCompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, fileObjKeyName, initResponse.getUploadId(), partETags);\r\n    \t\t\ts3Client.completeMultipartUpload(compRequest);\r\n    \t        file_new.delete();\r\n    } else if (itemInfo instanceof BoxFolder.Info)\r\n    {\r\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\r\n       // Do something with the folder.\r\n\r\n\r\n     }\r\n        }\r\n```","title":"Copy files from box folder to AWS s3 bucket","body":"<p>So i came up with this java code to copy files from box folder to Aws S3. I have used box-sdk-java, aws-sdk-java here.</p>\n\n<pre><code>import com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.auth.profile.ProfileCredentialsProvider;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\nimport com.amazonaws.services.s3.model.PartETag;\nimport com.amazonaws.services.s3.model.UploadPartRequest;\nimport com.amazonaws.services.s3.model.UploadPartResult;\nimport com.box.sdk.BoxAPIConnection;\nimport com.box.sdk.BoxFile;\nimport com.box.sdk.BoxFolder;\nimport com.box.sdk.BoxItem;\nimport com.box.sdk.Metadata;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.apache.commons.io.FileUtils;\n\npublic static String fileObjKeyName = \"\";\npublic static String bucketName = \"s3Bucket\";\n// store credentials in your local machine in aws config / credentials file.\npublic static ProfileCredentialsProvider credentialsProvider = new ProfileCredentialsProvider();\npublic static AmazonS3 s3Client = AmazonS3ClientBuilder\n            .standard()\n            .withCredentials(credentialsProvider)\n            .withRegion(regionfOfS3Bucket)\n            .build();\nString access_token = \"some_access_token\";\nString refresh_token = \"some_refresh_token\";\nBoxAPIConnection api = new BoxAPIConnection(client_id,\n                client_secret,\n                access_token,\n                refresh_token);\nBoxFolder folder = new BoxFolder(api,folderId);\n\nfor (BoxItem.Info itemInfo : folder) {\n    if (itemInfo instanceof BoxFile.Info) {\n        // getting file info, metadata\n        // have to upload the file content here to S3 bucket\n        BoxFile file = new BoxFile(api, itemInfo.getID());\n                BoxFile.Info info = file.getInfo();\n                System.out.println(info.getName());\n                FileOutputStream stream;\n                try {\n                    stream = new FileOutputStream(info.getName());\n                    file.download(stream);\n                    stream.close();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                File file_new = FileUtils.getFile(info.getName());\n                fileObjKeyName =  itemInfo.getID() + \"_\" + info.getName();\n                long contentLength = file_new.length();\n                System.out.println(contentLength);\n                long partSize = 5 * 1024 * 1024;\n                List&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\n                InitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, fileObjKeyName);\n                InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\n                long filePosition = 0;\n                for (int i = 1; filePosition &lt; contentLength; i++) {\n                    // Because the last part could be less than 5 MB, adjust the\n                    // part size as needed.\n                    partSize = Math.min(partSize, (contentLength - filePosition));\n                    // Create the request to upload a part.\n                    UploadPartRequest uploadRequest = new UploadPartRequest().withBucketName(bucketName).withKey(fileObjKeyName)\n                            .withUploadId(initResponse.getUploadId()).withPartNumber(i).withFileOffset(filePosition).withFile(file_new).withPartSize(partSize);\n\n                    // Upload the part and add the response's ETag to our list.\n                    UploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\n                    partETags.add(uploadResult.getPartETag());\n\n                    filePosition += partSize;\n                }\n                CompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, fileObjKeyName, initResponse.getUploadId(), partETags);\n                s3Client.completeMultipartUpload(compRequest);\n                file_new.delete();\n    } else if (itemInfo instanceof BoxFolder.Info)\n    {\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\n       // Do something with the folder.\n\n\n     }\n        }\n</code></pre>\n"}],"owner":{"account_id":11885621,"reputation":135,"user_id":8698105,"display_name":"pat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3032,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55851966,"answer_count":1,"score":1,"last_activity_date":1688680969,"creation_date":1555802415,"question_id":55778575,"body_markdown":"I am working to copy box files to S3 bucket. How to get file object from box file to copy in to S3 bucket using box-java-sdk\r\n\r\nI have to tried to get file&#39;s metadata from box folder, but end up with limited documentation to get file object.\r\n\r\n```\r\nimport com.box.sdk.BoxAPIConnection;\r\nimport com.box.sdk.BoxFile;\r\nimport com.box.sdk.BoxFolder;\r\nimport com.box.sdk.BoxItem;\r\nimport com.box.sdk.Metadata;\r\n\r\nString access_token = &quot;some_access_token&quot;;\r\nString refresh_token = &quot;some_refresh_token&quot;;\r\nBoxAPIConnection api = new BoxAPIConnection(client_id,\r\n    \t\t\tclient_secret,\r\n    \t\t\taccess_token,\r\n    \t\t\trefresh_token);\r\nfor (BoxItem.Info itemInfo : folder) {\r\n    if (itemInfo instanceof BoxFile.Info) {\r\n    \t// getting file info, metadata\r\n        // have to upload the file content here to S3 bucket\r\n    } else if (itemInfo instanceof BoxFolder.Info)\r\n    {\r\n    \tBoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\r\n       // Do something with the folder.\r\n    \t     \r\n\r\n     }\r\n    \t}\r\n ```\r\n\r\nGoal is to upload box content to S3 bucket.","title":"Copy files from box folder to AWS s3 bucket","body":"<p>I am working to copy box files to S3 bucket. How to get file object from box file to copy in to S3 bucket using box-java-sdk</p>\n\n<p>I have to tried to get file's metadata from box folder, but end up with limited documentation to get file object.</p>\n\n<pre><code>import com.box.sdk.BoxAPIConnection;\nimport com.box.sdk.BoxFile;\nimport com.box.sdk.BoxFolder;\nimport com.box.sdk.BoxItem;\nimport com.box.sdk.Metadata;\n\nString access_token = \"some_access_token\";\nString refresh_token = \"some_refresh_token\";\nBoxAPIConnection api = new BoxAPIConnection(client_id,\n                client_secret,\n                access_token,\n                refresh_token);\nfor (BoxItem.Info itemInfo : folder) {\n    if (itemInfo instanceof BoxFile.Info) {\n        // getting file info, metadata\n        // have to upload the file content here to S3 bucket\n    } else if (itemInfo instanceof BoxFolder.Info)\n    {\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\n       // Do something with the folder.\n\n\n     }\n        }\n</code></pre>\n\n<p>Goal is to upload box content to S3 bucket.</p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1688442678,"post_id":76609084,"comment_id":135071201,"body_markdown":"Using `private final static Model INSTANCE = new Model();` is frowned upon in `JavaFX`. Try to learn https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"Using <code>private final static Model INSTANCE = new Model();</code> is frowned upon in <code>JavaFX</code>. Try to learn <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688499373,"post_id":76609084,"comment_id":135081230,"body_markdown":"May readers infer that `model` is meant to be a [singleton](https://stackoverflow.com/a/5724953/230513)?","body":"May readers infer that <code>model</code> is meant to be a <a href=\"https://stackoverflow.com/a/5724953/230513\">singleton</a>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1688572758,"post_id":76609084,"comment_id":135092447,"body_markdown":"Never initialize fields annotated `@FXML` (like `@FXML private TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();`).","body":"Never initialize fields annotated <code>@FXML</code> (like <code>@FXML private TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688573238,"post_id":76609084,"comment_id":135092587,"body_markdown":"Anyway, the problem seems to be that you are loading `employeeTab.fxml` twice: once in code in your (badly-named) `setControllers()` method (where it is never displayed) and once via the `&lt;fx:include&gt;` (where you never have a reference to the controller). I can&#39;t see anywhere where `populateTable()` is ever invoked, and if it was (in the controller for the view loaded by `&lt;fx:include&gt;`), surely it would throw a null pointer exception (because `model` is never initialized in that controller).","body":"Anyway, the problem seems to be that you are loading <code>employeeTab.fxml</code> twice: once in code in your (badly-named) <code>setControllers()</code> method (where it is never displayed) and once via the <code>&lt;fx:include&gt;</code> (where you never have a reference to the controller). I can&#39;t see anywhere where <code>populateTable()</code> is ever invoked, and if it was (in the controller for the view loaded by <code>&lt;fx:include&gt;</code>), surely it would throw a null pointer exception (because <code>model</code> is never initialized in that controller)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688573361,"post_id":76609084,"comment_id":135092621,"body_markdown":"See the [documentation](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers) for how to properly access controllers for elements loaded via `&lt;fx:include&gt;`.","body":"See the <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">documentation</a> for how to properly access controllers for elements loaded via <code>&lt;fx:include&gt;</code>."},{"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"score":0,"creation_date":1688606323,"post_id":76609084,"comment_id":135097350,"body_markdown":"@James_D removing the first load in `setControllers()` and adding `@FXML` fields for the tabs worked. Since you didn&#39;t post this as an answer, is there a way to mark my post as resolved?","body":"@James_D removing the first load in <code>setControllers()</code> and adding <code>@FXML</code> fields for the tabs worked. Since you didn&#39;t post this as an answer, is there a way to mark my post as resolved?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688634609,"post_id":76609084,"comment_id":135101097,"body_markdown":"You can [write and accept your own answer](https://stackoverflow.com/help/self-answer), which you might want to do if you worked out how to solve your issue from comments.  You can quote the comment for attribution.","body":"You can <a href=\"https://stackoverflow.com/help/self-answer\">write and accept your own answer</a>, which you might want to do if you worked out how to solve your issue from comments.  You can quote the comment for attribution."}],"answers":[{"tags":[],"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688678219,"creation_date":1688678219,"answer_id":76632572,"question_id":76609084,"body_markdown":"@James_D&#39;s comment helped me find this solution:\r\n\r\nnew `tabHandler.fxml` for clarity of variables\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n\r\n    &lt;TabPane&gt;\r\n        &lt;tabs&gt;\r\n            &lt;Tab text=&quot;Employees&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Events&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n\r\n    &lt;/TabPane&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nI edited `ControllerMain` to instead include the FXML `AnchorPane` and corresponding `ControllerEmployeeTab` variables :\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.layout.AnchorPane;\r\n\r\npublic class ControllerMain extends Controller {\r\n    @FXML\r\n    public AnchorPane employeeTabPage;\r\n    @FXML\r\n    private ControllerEmployeeTab employeeTabPageController;\r\n\r\n    public ControllerEmployeeTab getControllerEmployeeTab() { return employeeTabPageController;}\r\n\r\n}\r\n```\r\n\r\nAnd finally removed `setControllers()` entirely and changed that call (in `start()`) to `mainController.getControllerEmployeeTab().setModel(model)`","title":"JavaFX TableView not displaying data (complex project structure)","body":"<p>@James_D's comment helped me find this solution:</p>\n<p>new <code>tabHandler.fxml</code> for clarity of variables</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n\n    &lt;TabPane&gt;\n        &lt;tabs&gt;\n            &lt;Tab text=&quot;Employees&quot;&gt;\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n            &lt;Tab text=&quot;Events&quot;&gt;\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n        &lt;/tabs&gt;\n\n    &lt;/TabPane&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>I edited <code>ControllerMain</code> to instead include the FXML <code>AnchorPane</code> and corresponding <code>ControllerEmployeeTab</code> variables :</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.layout.AnchorPane;\n\npublic class ControllerMain extends Controller {\n    @FXML\n    public AnchorPane employeeTabPage;\n    @FXML\n    private ControllerEmployeeTab employeeTabPageController;\n\n    public ControllerEmployeeTab getControllerEmployeeTab() { return employeeTabPageController;}\n\n}\n</code></pre>\n<p>And finally removed <code>setControllers()</code> entirely and changed that call (in <code>start()</code>) to <code>mainController.getControllerEmployeeTab().setModel(model)</code></p>\n"}],"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632572,"answer_count":1,"score":1,"last_activity_date":1688678219,"creation_date":1688437954,"question_id":76609084,"body_markdown":"I have a seemingly common problem with JavaFX&#39;s TableView not displaying my data, but my project structure is complicated enough that I think I am missing something or something is not being properly passed to a different class. I am using the ```CellValueFactory``` method to identify the columns of my ```TableView&lt;Employee&gt;``` object, where ```Employee``` is a class I use to represent employees (ID, name, email, and phone, but only the first two fields are to be displayed in the table). The project uses the H2 embedded SQL database package, but that seems to be working so I didn&#39;t include my database package. The relevant parts of this project are structured like this:\r\n\r\n```\r\njava\r\n|__ myorg.scheduler\r\n    |__ gui\r\n        |__ [Abstract] Controller\r\n        |__ Model\r\n        |__ ControllerMain\r\n        |__ ControllerEmployeeTab\r\n        |__ ControllerAddEmployee\r\n        |__ MainApp\r\nresources\r\n|__ myorg.scheduler\r\n    |__ gui\r\n        |__ tabHandler.fxml\r\n        |__ employeeTab.fxml\r\n        |__ addEmployeePopup.fxml\r\n```\r\n\r\nAt this stage, the software should allow the user to add an employee to the database:\r\n[![enter image description here][1]][1]\r\n\r\nPressing the &quot;Add&quot; button brings up this menu, from addEmployeePopup.fxml\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLcCm.png\r\n  [2]: https://i.stack.imgur.com/unRPD.png\r\n\r\nThe code is as follows:\r\n\r\n\r\nGUI package:\r\n-\r\n\r\n**Model**\r\nSince I need to pass data from one controller to another, I have a ```Model``` class:\r\n\r\n```\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport myorg.scheduler.database.EmployeeDAO;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class Model {\r\n\r\n    private final static Model INSTANCE = new Model();\r\n\r\n    @FXML\r\n    ObservableList&lt;Employee&gt; employeeList =  FXCollections.observableArrayList();\r\n\r\n    public static synchronized Model getInstance() {\r\n        return INSTANCE;\r\n    }\r\n\r\n    public void addEmployee(Employee employee) {\r\n        employeeList.add(employee);\r\n    }\r\n\r\n    public ObservableList&lt;Employee&gt; getAllEmployees() {\r\n        return employeeList;\r\n    }\r\n\r\n    public void setEmployeeList() throws SQLException, ClassNotFoundException {\r\n        employeeList = EmployeeDAO.getAllEmployees();\r\n    }\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\nAll of the classes starting with &quot;Controller&quot; inherit from the abstract ```Controller``` class.\r\n\r\n\r\n```\r\npublic abstract class Controller {\r\n\r\n    private Model model;\r\n    public void setModel(Model model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public Model getModel() {\r\n        return model;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**ControllerEmployeeTab**\r\n\r\nThis is where the problem starts: ```populateTable()``` is supposed to get (from the synchronized ```Model``` class) the ```ObservableList``` of employees and populate the ```TableView``` with their IDs and Names. For some reason, it is not doing this.\r\n\r\n```\r\nimport javafx.beans.property.SimpleIntegerProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static myorg.scheduler.gui.MainApp.loadEmployeePopup;\r\n\r\n\r\npublic class ControllerEmployeeTab extends Controller {\r\n\r\n    @FXML\r\n    public Button btnAddEmployee;\r\n    @FXML\r\n    TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();\r\n    @FXML\r\n    TableColumn&lt;Employee, Integer&gt; employeeIDColumn;\r\n    @FXML\r\n    TableColumn&lt;Employee, String&gt; employeeNameColumn;\r\n\r\n\r\n\r\n    @FXML\r\n    public void populateTable() {\r\n        employeeIDColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(cellData.getValue().getID()).asObject());\r\n        employeeNameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\r\n        employeeTable.setItems(super.getModel().getAllEmployees());\r\n    }\r\n\r\n    @FXML\r\n    private void addEmployeePressed(ActionEvent ae) throws IOException {\r\n        loadEmployeePopup();\r\n    }\r\n}\r\n```\r\n\r\n**ControllerMain**\r\n\r\n\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class ControllerMain extends Controller {\r\n\r\n    @FXML\r\n    private ControllerEmployeeTab controllerEmployeeTab;\r\n    @FXML\r\n    private ControllerAddEmployee controllerAddEmployee;\r\n\r\n    public ControllerEmployeeTab getControllerEmployeeTab() { return controllerEmployeeTab;}\r\n\r\n    public void setControllerEmployeeTab(ControllerEmployeeTab controllerEmployeeTab) {\r\n        this.controllerEmployeeTab = controllerEmployeeTab;\r\n    }\r\n    public ControllerAddEmployee getControllerAddEmployee() { return controllerAddEmployee;}\r\n\r\n    public void setControllerAddEmployee(ControllerAddEmployee controllerAddEmployee) {\r\n        this.controllerAddEmployee = controllerAddEmployee;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**ControllerAddEmploye**\r\n\r\nEmployees are added by pressing the ```add``` button which calls ```addEmployeePressed()``` from the ```ControllerEmployeeTab``` class. The ```ControllerAddEmployee``` class handles this, and as far as I can tell employees are added to the database, the ```ObservableList``` of employees, and even the ```TableView``` but for some reason are not displaying. Adding employees to the database is working, but the code for that menu is here:\r\n\r\n\r\n```\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.stage.Stage;\r\nimport myorg.scheduler.database.EmployeeDAO;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class ControllerAddEmployee extends Controller {\r\n\r\n    @FXML\r\n    private TextField nameField;\r\n\r\n    @FXML\r\n    private TextField emailField;\r\n\r\n    @FXML\r\n    private TextField phoneField;\r\n\r\n    @FXML\r\n    private TextField idField;\r\n\r\n    @FXML\r\n    private void addEmployee(ActionEvent ae) throws SQLException, ClassNotFoundException {\r\n        if (idField.getText() == null || nameField.getText() == null || emailField.getText() == null || phoneField.getText() == null ||\r\n                idField.getText().equals(&quot;&quot;) || nameField.getText().equals(&quot;&quot;) || emailField.getText().equals(&quot;&quot;) || phoneField.getText().equals(&quot;&quot;)) {\r\n            System.out.println(&quot;missing a field&quot;);\r\n        } else {\r\n            Employee newEmployee = new Employee(Integer.parseInt(idField.getText()), nameField.getText(), emailField.getText(), phoneField.getText());\r\n            super.getModel().addEmployee(newEmployee);\r\n            try {\r\n                EmployeeDAO.insertEmployee(newEmployee);\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Problem occurred while inserting employee: &quot; + e);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MainApp**\r\n\r\nThis is where the model is instantiated, and where ```public void start``` is for the JavaFX package. ```populateTable()``` from the ```ControllerEmployeeTab``` class is called in ```start``\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Modality;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MainApp extends Application {\r\n\r\n    private static final Model model= Model.getInstance();\r\n\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        loader.setLocation(MainApp.class.getResource(&quot;tabHandler.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        ControllerMain mainController = loader.getController();\r\n        mainController.setModel(model);\r\n        model.setEmployeeList();\r\n\r\n        setControllers(mainController);\r\n        mainController.getControllerEmployeeTab().populateTable();\r\n\r\n        Scene mainScene = new Scene(root);\r\n        stage.setScene(mainScene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void setControllers(ControllerMain controller) throws IOException {\r\n        FXMLLoader employeeTabLoader = new FXMLLoader();\r\n        employeeTabLoader.setLocation(MainApp.class.getResource(&quot;employeeTab.fxml&quot;));\r\n        employeeTabLoader.load();\r\n        controller.setControllerEmployeeTab(employeeTabLoader.getController());\r\n        controller.getControllerEmployeeTab().setModel(model);\r\n\r\n    }\r\n\r\n    public static void loadEmployeePopup() throws IOException {\r\n        FXMLLoader addEmployeeLoader = new FXMLLoader();\r\n        addEmployeeLoader.setLocation(MainApp.class.getResource(&quot;addEmployeePopup.fxml&quot;));\r\n        Parent addEmployeeRoot = addEmployeeLoader.load();\r\n\r\n        ControllerAddEmployee employeeController = addEmployeeLoader.getController();\r\n        employeeController.setModel(model);\r\n\r\n        Scene newEmployeeScene = new Scene(addEmployeeRoot);\r\n        Stage newEmployeeMenu = new Stage();\r\n        newEmployeeMenu.initModality(Modality.APPLICATION_MODAL);\r\n        newEmployeeMenu.setScene(newEmployeeScene);\r\n        newEmployeeMenu.setResizable(false);\r\n        newEmployeeMenu.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nGUI references\r\n-\r\n\r\n\r\n**tabHandler.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n\r\n    &lt;TabPane&gt;\r\n        &lt;tabs&gt;\r\n            &lt;Tab fx:id=&quot;employeeTab&quot; text=&quot;Employees&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab fx:id=&quot;eventTab&quot; text=&quot;Events&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n\r\n    &lt;/TabPane&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\n**employeeTab.fxml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerEmployeeTab&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n     &lt;children&gt;\r\n            &lt;HBox AnchorPane.bottomAnchor=&quot;531.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;Button fx:id=&quot;btnAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeePressed&quot; text=&quot;Add&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/ToolBar&gt;\r\n                &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n            &lt;SplitPane dividerPositions=&quot;0.3&quot; layoutY=&quot;39.0&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;800.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;39.0&quot;&gt;\r\n                &lt;items&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\r\n                        &lt;children&gt;\r\n                            &lt;TableView fx:id=&quot;employeeTable&quot; layoutX=&quot;18.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;235.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                                &lt;columns&gt;\r\n                                    &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; prefWidth=&quot;73.0&quot; text=&quot;ID&quot; /&gt;\r\n                                    &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; prefWidth=&quot;161.0&quot; text=&quot;Name&quot; /&gt;\r\n                                &lt;/columns&gt;\r\n                            &lt;/TableView&gt;\r\n                        &lt;/children&gt;&lt;/AnchorPane&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;557.0&quot; /&gt;\r\n                &lt;/items&gt;\r\n            &lt;/SplitPane&gt;\r\n        &lt;/children&gt;&lt;/AnchorPane&gt;\r\n```\r\n\r\n**addEmployeePopup.fxml**\r\n\r\nI don&#39;t think the issue is here but regardless:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.scene.text.*?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;myorg.scheduler.gui.ControllerAddEmployee&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TitledPane animated=&quot;false&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Add Employee&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n        &lt;content&gt;\r\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;GridPane layoutX=&quot;87.6&quot; layoutY=&quot;41.6&quot; prefHeight=&quot;191.0&quot; prefWidth=&quot;307.0&quot; AnchorPane.bottomAnchor=&quot;251.0&quot; AnchorPane.leftAnchor=&quot;78.0&quot; AnchorPane.rightAnchor=&quot;113.0&quot; AnchorPane.topAnchor=&quot;32.0&quot;&gt;\r\n                    &lt;columnConstraints&gt;\r\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;219.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;156.0&quot; /&gt;\r\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;304.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;227.0&quot; /&gt;\r\n                    &lt;/columnConstraints&gt;\r\n                    &lt;rowConstraints&gt;\r\n                        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints maxHeight=&quot;40.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints maxHeight=&quot;39.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;38.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                    &lt;/rowConstraints&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Label text=&quot;ID:&quot; GridPane.halignment=&quot;RIGHT&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Full Name:&quot; textAlignment=&quot;RIGHT&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Email:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Phone:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;TextField fx:id=&quot;idField&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;nameField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;&lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;emailField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;phoneField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n                           &lt;opaqueInsets&gt;\r\n                              &lt;Insets /&gt;\r\n                           &lt;/opaqueInsets&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/GridPane&gt;\r\n                  &lt;ButtonBar layoutX=&quot;171.0&quot; layoutY=&quot;435.0&quot;&gt;\r\n                     &lt;buttons&gt;\r\n                        &lt;Button fx:id=&quot;btnCloseAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#closeAddEmployeeMenu&quot; text=&quot;Cancel&quot; /&gt;\r\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployee&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;137.0&quot; text=&quot;Add Employee&quot; /&gt;\r\n                     &lt;/buttons&gt;\r\n                  &lt;/ButtonBar&gt;\r\n               &lt;/children&gt;&lt;/AnchorPane&gt;\r\n        &lt;/content&gt;\r\n      &lt;/TitledPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nIn summary, employees are added to the ```TableView``` but not displayed, and I cannot figure out why. Thank you in advance for any assistance.","title":"JavaFX TableView not displaying data (complex project structure)","body":"<p>I have a seemingly common problem with JavaFX's TableView not displaying my data, but my project structure is complicated enough that I think I am missing something or something is not being properly passed to a different class. I am using the <code>CellValueFactory</code> method to identify the columns of my <code>TableView&lt;Employee&gt;</code> object, where <code>Employee</code> is a class I use to represent employees (ID, name, email, and phone, but only the first two fields are to be displayed in the table). The project uses the H2 embedded SQL database package, but that seems to be working so I didn't include my database package. The relevant parts of this project are structured like this:</p>\n<pre><code>java\n|__ myorg.scheduler\n    |__ gui\n        |__ [Abstract] Controller\n        |__ Model\n        |__ ControllerMain\n        |__ ControllerEmployeeTab\n        |__ ControllerAddEmployee\n        |__ MainApp\nresources\n|__ myorg.scheduler\n    |__ gui\n        |__ tabHandler.fxml\n        |__ employeeTab.fxml\n        |__ addEmployeePopup.fxml\n</code></pre>\n<p>At this stage, the software should allow the user to add an employee to the database:\n<a href=\"https://i.stack.imgur.com/cLcCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLcCm.png\" alt=\"enter image description here\" /></a></p>\n<p>Pressing the &quot;Add&quot; button brings up this menu, from addEmployeePopup.fxml\n<a href=\"https://i.stack.imgur.com/unRPD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/unRPD.png\" alt=\"enter image description here\" /></a></p>\n<p>The code is as follows:</p>\n<h2>GUI package:</h2>\n<p><strong>Model</strong>\nSince I need to pass data from one controller to another, I have a <code>Model</code> class:</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport myorg.scheduler.database.EmployeeDAO;\nimport myorg.scheduler.people.Employee;\n\nimport java.sql.SQLException;\n\npublic class Model {\n\n    private final static Model INSTANCE = new Model();\n\n    @FXML\n    ObservableList&lt;Employee&gt; employeeList =  FXCollections.observableArrayList();\n\n    public static synchronized Model getInstance() {\n        return INSTANCE;\n    }\n\n    public void addEmployee(Employee employee) {\n        employeeList.add(employee);\n    }\n\n    public ObservableList&lt;Employee&gt; getAllEmployees() {\n        return employeeList;\n    }\n\n    public void setEmployeeList() throws SQLException, ClassNotFoundException {\n        employeeList = EmployeeDAO.getAllEmployees();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<p>All of the classes starting with &quot;Controller&quot; inherit from the abstract <code>Controller</code> class.</p>\n<pre><code>public abstract class Controller {\n\n    private Model model;\n    public void setModel(Model model) {\n        this.model = model;\n    }\n\n    public Model getModel() {\n        return model;\n    }\n}\n</code></pre>\n<p><strong>ControllerEmployeeTab</strong></p>\n<p>This is where the problem starts: <code>populateTable()</code> is supposed to get (from the synchronized <code>Model</code> class) the <code>ObservableList</code> of employees and populate the <code>TableView</code> with their IDs and Names. For some reason, it is not doing this.</p>\n<pre><code>import javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport myorg.scheduler.people.Employee;\n\nimport java.io.IOException;\n\nimport static myorg.scheduler.gui.MainApp.loadEmployeePopup;\n\n\npublic class ControllerEmployeeTab extends Controller {\n\n    @FXML\n    public Button btnAddEmployee;\n    @FXML\n    TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();\n    @FXML\n    TableColumn&lt;Employee, Integer&gt; employeeIDColumn;\n    @FXML\n    TableColumn&lt;Employee, String&gt; employeeNameColumn;\n\n\n\n    @FXML\n    public void populateTable() {\n        employeeIDColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(cellData.getValue().getID()).asObject());\n        employeeNameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\n        employeeTable.setItems(super.getModel().getAllEmployees());\n    }\n\n    @FXML\n    private void addEmployeePressed(ActionEvent ae) throws IOException {\n        loadEmployeePopup();\n    }\n}\n</code></pre>\n<p><strong>ControllerMain</strong></p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.VBox;\n\npublic class ControllerMain extends Controller {\n\n    @FXML\n    private ControllerEmployeeTab controllerEmployeeTab;\n    @FXML\n    private ControllerAddEmployee controllerAddEmployee;\n\n    public ControllerEmployeeTab getControllerEmployeeTab() { return controllerEmployeeTab;}\n\n    public void setControllerEmployeeTab(ControllerEmployeeTab controllerEmployeeTab) {\n        this.controllerEmployeeTab = controllerEmployeeTab;\n    }\n    public ControllerAddEmployee getControllerAddEmployee() { return controllerAddEmployee;}\n\n    public void setControllerAddEmployee(ControllerAddEmployee controllerAddEmployee) {\n        this.controllerAddEmployee = controllerAddEmployee;\n    }\n}\n</code></pre>\n<p><strong>ControllerAddEmploye</strong></p>\n<p>Employees are added by pressing the <code>add</code> button which calls <code>addEmployeePressed()</code> from the <code>ControllerEmployeeTab</code> class. The <code>ControllerAddEmployee</code> class handles this, and as far as I can tell employees are added to the database, the <code>ObservableList</code> of employees, and even the <code>TableView</code> but for some reason are not displaying. Adding employees to the database is working, but the code for that menu is here:</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.stage.Stage;\nimport myorg.scheduler.database.EmployeeDAO;\nimport myorg.scheduler.people.Employee;\n\nimport java.sql.SQLException;\n\npublic class ControllerAddEmployee extends Controller {\n\n    @FXML\n    private TextField nameField;\n\n    @FXML\n    private TextField emailField;\n\n    @FXML\n    private TextField phoneField;\n\n    @FXML\n    private TextField idField;\n\n    @FXML\n    private void addEmployee(ActionEvent ae) throws SQLException, ClassNotFoundException {\n        if (idField.getText() == null || nameField.getText() == null || emailField.getText() == null || phoneField.getText() == null ||\n                idField.getText().equals(&quot;&quot;) || nameField.getText().equals(&quot;&quot;) || emailField.getText().equals(&quot;&quot;) || phoneField.getText().equals(&quot;&quot;)) {\n            System.out.println(&quot;missing a field&quot;);\n        } else {\n            Employee newEmployee = new Employee(Integer.parseInt(idField.getText()), nameField.getText(), emailField.getText(), phoneField.getText());\n            super.getModel().addEmployee(newEmployee);\n            try {\n                EmployeeDAO.insertEmployee(newEmployee);\n            } catch (SQLException e) {\n                System.out.println(&quot;Problem occurred while inserting employee: &quot; + e);\n                throw e;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>MainApp</strong></p>\n<p>This is where the model is instantiated, and where <code>public void start</code> is for the JavaFX package. <code>populateTable()</code> from the <code>ControllerEmployeeTab</code> class is called in ```start``</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class MainApp extends Application {\n\n    private static final Model model= Model.getInstance();\n\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(MainApp.class.getResource(&quot;tabHandler.fxml&quot;));\n        Parent root = loader.load();\n\n        ControllerMain mainController = loader.getController();\n        mainController.setModel(model);\n        model.setEmployeeList();\n\n        setControllers(mainController);\n        mainController.getControllerEmployeeTab().populateTable();\n\n        Scene mainScene = new Scene(root);\n        stage.setScene(mainScene);\n        stage.show();\n    }\n\n\n    public void setControllers(ControllerMain controller) throws IOException {\n        FXMLLoader employeeTabLoader = new FXMLLoader();\n        employeeTabLoader.setLocation(MainApp.class.getResource(&quot;employeeTab.fxml&quot;));\n        employeeTabLoader.load();\n        controller.setControllerEmployeeTab(employeeTabLoader.getController());\n        controller.getControllerEmployeeTab().setModel(model);\n\n    }\n\n    public static void loadEmployeePopup() throws IOException {\n        FXMLLoader addEmployeeLoader = new FXMLLoader();\n        addEmployeeLoader.setLocation(MainApp.class.getResource(&quot;addEmployeePopup.fxml&quot;));\n        Parent addEmployeeRoot = addEmployeeLoader.load();\n\n        ControllerAddEmployee employeeController = addEmployeeLoader.getController();\n        employeeController.setModel(model);\n\n        Scene newEmployeeScene = new Scene(addEmployeeRoot);\n        Stage newEmployeeMenu = new Stage();\n        newEmployeeMenu.initModality(Modality.APPLICATION_MODAL);\n        newEmployeeMenu.setScene(newEmployeeScene);\n        newEmployeeMenu.setResizable(false);\n        newEmployeeMenu.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<h2>GUI references</h2>\n<p><strong>tabHandler.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n\n    &lt;TabPane&gt;\n        &lt;tabs&gt;\n            &lt;Tab fx:id=&quot;employeeTab&quot; text=&quot;Employees&quot;&gt;\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n            &lt;Tab fx:id=&quot;eventTab&quot; text=&quot;Events&quot;&gt;\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n        &lt;/tabs&gt;\n\n    &lt;/TabPane&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p><strong>employeeTab.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerEmployeeTab&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n     &lt;children&gt;\n            &lt;HBox AnchorPane.bottomAnchor=&quot;531.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                &lt;children&gt;\n                    &lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;800.0&quot;&gt;\n                        &lt;items&gt;\n                            &lt;Button fx:id=&quot;btnAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeePressed&quot; text=&quot;Add&quot; /&gt;\n                        &lt;/items&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/children&gt;\n            &lt;/HBox&gt;\n            &lt;SplitPane dividerPositions=&quot;0.3&quot; layoutY=&quot;39.0&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;800.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;39.0&quot;&gt;\n                &lt;items&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n                        &lt;children&gt;\n                            &lt;TableView fx:id=&quot;employeeTable&quot; layoutX=&quot;18.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;235.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                                &lt;columns&gt;\n                                    &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; prefWidth=&quot;73.0&quot; text=&quot;ID&quot; /&gt;\n                                    &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; prefWidth=&quot;161.0&quot; text=&quot;Name&quot; /&gt;\n                                &lt;/columns&gt;\n                            &lt;/TableView&gt;\n                        &lt;/children&gt;&lt;/AnchorPane&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;557.0&quot; /&gt;\n                &lt;/items&gt;\n            &lt;/SplitPane&gt;\n        &lt;/children&gt;&lt;/AnchorPane&gt;\n</code></pre>\n<p><strong>addEmployeePopup.fxml</strong></p>\n<p>I don't think the issue is here but regardless:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n\n&lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;myorg.scheduler.gui.ControllerAddEmployee&quot;&gt;\n   &lt;children&gt;\n      &lt;TitledPane animated=&quot;false&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Add Employee&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;content&gt;\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;GridPane layoutX=&quot;87.6&quot; layoutY=&quot;41.6&quot; prefHeight=&quot;191.0&quot; prefWidth=&quot;307.0&quot; AnchorPane.bottomAnchor=&quot;251.0&quot; AnchorPane.leftAnchor=&quot;78.0&quot; AnchorPane.rightAnchor=&quot;113.0&quot; AnchorPane.topAnchor=&quot;32.0&quot;&gt;\n                    &lt;columnConstraints&gt;\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;219.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;156.0&quot; /&gt;\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;304.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;227.0&quot; /&gt;\n                    &lt;/columnConstraints&gt;\n                    &lt;rowConstraints&gt;\n                        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints maxHeight=&quot;40.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints maxHeight=&quot;39.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;38.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                    &lt;/rowConstraints&gt;\n                     &lt;children&gt;\n                        &lt;Label text=&quot;ID:&quot; GridPane.halignment=&quot;RIGHT&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Full Name:&quot; textAlignment=&quot;RIGHT&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Email:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Phone:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Label&gt;\n                        &lt;TextField fx:id=&quot;idField&quot; GridPane.columnIndex=&quot;1&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;nameField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;&lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;emailField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;phoneField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n                           &lt;opaqueInsets&gt;\n                              &lt;Insets /&gt;\n                           &lt;/opaqueInsets&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                     &lt;/children&gt;\n                  &lt;/GridPane&gt;\n                  &lt;ButtonBar layoutX=&quot;171.0&quot; layoutY=&quot;435.0&quot;&gt;\n                     &lt;buttons&gt;\n                        &lt;Button fx:id=&quot;btnCloseAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#closeAddEmployeeMenu&quot; text=&quot;Cancel&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployee&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;137.0&quot; text=&quot;Add Employee&quot; /&gt;\n                     &lt;/buttons&gt;\n                  &lt;/ButtonBar&gt;\n               &lt;/children&gt;&lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/TitledPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>In summary, employees are added to the <code>TableView</code> but not displayed, and I cannot figure out why. Thank you in advance for any assistance.</p>\n"},{"tags":["java","spring-boot","jwt","bearer-token","spring-boot-security"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1688676985,"post_id":76632398,"comment_id":135109886,"body_markdown":"General way to do this is to add Roles to the jwt token and then use an annotation like @PreAuthorize on the controller methods. I think you need to add the roles to the authToken in the filter so that principal has these roles.","body":"General way to do this is to add Roles to the jwt token and then use an annotation like @PreAuthorize on the controller methods. I think you need to add the roles to the authToken in the filter so that principal has these roles."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1688677801,"post_id":76632398,"comment_id":135110000,"body_markdown":"https://www.baeldung.com/spring-security-check-user-role check this out.\n/@PreAuthorize will probably do the trick as mentioned by @TomeKK","body":"<a href=\"https://www.baeldung.com/spring-security-check-user-role\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-check-user-role</a> check this out. /@PreAuthorize will probably do the trick as mentioned by @TomeKK"}],"answers":[{"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1688677609,"post_id":76632487,"comment_id":135109962,"body_markdown":"Like @TomekK suggested it does indeed make sense to add roles to the token, so you don&#39;t have to load user from DB with each request - the data in JWT token is trusted as long as signature is correct.","body":"Like @TomekK suggested it does indeed make sense to add roles to the token, so you don&#39;t have to load user from DB with each request - the data in JWT token is trusted as long as signature is correct."},{"owner":{"account_id":28965643,"reputation":11,"user_id":22187164,"display_name":"Max"},"score":0,"creation_date":1688680208,"post_id":76632487,"comment_id":135110321,"body_markdown":"int the (...) part i put in the paths right? and thats it? the http methods are assigned to the roles then? or do i need annotations in the controller class?\nand is tehre a difference between hasRole and hasAuthority?","body":"int the (...) part i put in the paths right? and thats it? the http methods are assigned to the roles then? or do i need annotations in the controller class? and is tehre a difference between hasRole and hasAuthority?"},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1688680571,"post_id":76632487,"comment_id":135110383,"body_markdown":"If you define the customizer in configuration, you don&#39;t need the annotations. Generally speaking - roles are authorities as well. The difference is how Spring checks them. `hasRole(&#39;ADMIN&#39;)` will check if there is `ROLE_ADMIN` value in authorities. `hasAuthority(&#39;ADMIN&#39;)` will check if there is `ADMIN` value in authorities.","body":"If you define the customizer in configuration, you don&#39;t need the annotations. Generally speaking - roles are authorities as well. The difference is how Spring checks them. <code>hasRole(&#39;ADMIN&#39;)</code> will check if there is <code>ROLE_ADMIN</code> value in authorities. <code>hasAuthority(&#39;ADMIN&#39;)</code> will check if there is <code>ADMIN</code> value in authorities."},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1688680613,"post_id":76632487,"comment_id":135110390,"body_markdown":"Prefix `ROLE_` is also configurable","body":"Prefix <code>ROLE_</code> is also configurable"},{"owner":{"account_id":28965643,"reputation":11,"user_id":22187164,"display_name":"Max"},"score":0,"creation_date":1688681163,"post_id":76632487,"comment_id":135110470,"body_markdown":"thank you both for your help!!","body":"thank you both for your help!!"}],"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688677049,"creation_date":1688677049,"answer_id":76632487,"question_id":76632398,"body_markdown":"You already have a fully working solution. Just extend a customizer\r\n\r\n```\r\n\t\t\t\t.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(...).hasRole(&quot;USER&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAuthority(&quot;USER&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n\t\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t)\r\n```","title":"Spring-Boot Security use Roles","body":"<p>You already have a fully working solution. Just extend a customizer</p>\n<pre><code>                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .requestMatchers(...).hasRole(&quot;USER&quot;)\n                        .requestMatchers(...).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                        .requestMatchers(...).hasAuthority(&quot;USER&quot;)\n                        .requestMatchers(...).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n                        .anyRequest().authenticated()\n                )\n</code></pre>\n"}],"owner":{"account_id":28965643,"reputation":11,"user_id":22187164,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632487,"answer_count":1,"score":1,"last_activity_date":1688677049,"creation_date":1688675777,"question_id":76632398,"body_markdown":"I have recently looked into Spring-Boot and wanted to make a registration and login form for my application.\r\nI have watched a video and build my application around, what he said in the video.\r\n\r\nThe authentication works and a jwt token is generated. When I have a valid token, i can send requests to methods without getting a 403 response.\r\n\r\nMy question: My User Class has a Role, which is an enum (USER, ADMIN)\r\n\r\nHow can I configure my application to check what role the current User has and bind this role to certain methods?\r\n\r\nHere is my Code:\r\n\r\n*User Entity*\r\n\r\n\r\n```\r\n@Builder\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity(name = &quot;users&quot;)\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(30)&quot;)\r\n    @Email\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(nullable = false)\r\n    private String lastName;\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;varchar(60)&quot;)\r\n    @Length(min = 8, max = 256)\r\n    @NotBlank\r\n    private String password;\r\n\r\n    @Column\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n\r\n    @Column(nullable = false)\r\n    private String teamName;\r\n\r\n    @Column(nullable = false)\r\n    private int overallScore;\r\n\r\n    @Column(nullable = false)\r\n    private int gameDayScore;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;users_players&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, nullable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;player_id&quot;, nullable = false)}\r\n    )\r\n    @JsonIgnoreProperties({&quot;users&quot;})\r\n    private List&lt;Player&gt; players;\r\n\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n*Role Enum Class*\r\n\r\n\r\n```\r\npublic enum Role{\r\n    USER,\r\n    ADMIN;\r\n}\r\n```\r\n\r\n*JwtService*\r\n\r\n\r\n```\r\n@Service\r\npublic class JwtService {\r\n\r\n    private static final String SECRET_KEY = &quot;b7acf8204b85ab7cec6e73b91f682677d642d328fdec7788e8cbff11ff1a5b22&quot;;\r\n\r\n    public String extractUsername(String jwtToken) {\r\n        return extractClaim(jwtToken, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String jwtToken, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllclaims(jwtToken);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateJwtToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public String generateJwtToken(UserDetails userDetails) {\r\n        return generateJwtToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public boolean isJwtTokenValid(String jwtToken, UserDetails userDetails) {\r\n        final String username = extractUsername(jwtToken);\r\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isJwtTokenExpired(jwtToken);\r\n    }\r\n\r\n    private boolean isJwtTokenExpired(String jwtToken) {\r\n        return extractExpiration(jwtToken).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String jwtToken) {\r\n        return extractClaim(jwtToken, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllclaims(String jwtToken) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSigningKey())\r\n                .build()\r\n                .parseClaimsJws(jwtToken)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n```\r\n\r\n*JwtAuthFilter*\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwtToken;\r\n        final String userEmail;\r\n\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwtToken = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwtToken);\r\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if (jwtService.isJwtTokenValid(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n*SecurityConfig*\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        httpSecurity\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n\r\n*ApplicationConfig*\r\n\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userRepository.findByEmail(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nThe *AuthenticationController*\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n    private final AuthenticationService authenticationService;\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(@RequestBody RegisterRequestDto request) {\r\n        return authenticationService.registerUser(request);\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticate&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(@RequestBody AuthRequestDto request) {\r\n        return authenticationService.authenticateUser(request);\r\n    }\r\n}\r\n```\r\n\r\nThe *DemoController* where i want the &quot;sayHelloAdmin&quot; method to be only accessed by an admin and the &quot;sayHelloUser&quot; method by user and admin:\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\r\npublic class DemoController {\r\n\r\n\r\n    @GetMapping(value = &quot;/admin&quot;)\r\n    public ResponseEntity&lt;String&gt; sayHelloAdmin() {\r\n        return ResponseEntity.ok(&quot;Hello from admin endpoint&quot;);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/user&quot;)\r\n    public ResponseEntity&lt;String&gt; sayHelloUser() {\r\n        return ResponseEntity.ok(&quot;Hello from user endpoint&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the *AuthenticationService*\r\n\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class AuthenticationServiceImpl implements AuthenticationService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JwtService jwtService;\r\n    private final AuthenticationManager authManager;\r\n    private final UserMapper userMapper;\r\n\r\n    @Override\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(RegisterRequestDto request) {\r\n\r\n        request.setPassword(passwordEncoder.encode(request.getPassword()));\r\n\r\n        User user = userMapper.registerRequestDtoToUser(request);\r\n\r\n        user.setRole(Role.USER);\r\n        user.setGameDayScore(0);\r\n        user.setOverallScore(0);\r\n        user.setPlayers(new ArrayList&lt;&gt;());\r\n\r\n        userRepository.save(user);\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\r\n                .jwtToken(jwtToken)\r\n                .build(), HttpStatus.CREATED);\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(AuthRequestDto request) {\r\n        authManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\r\n        );\r\n        var user = userRepository.findByEmail(request.getEmail())\r\n                .orElseThrow();\r\n        var jwtToken = jwtService.generateJwtToken((user));\r\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\r\n                .jwtToken(jwtToken)\r\n                .build(), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n*AuthRequestDto* and *RegisterRequestDto* are almost identical to the user entity but with fewer attributes.\r\n\r\nThanks in advance for your help!\r\n\r\nsorry for the many codeblocks^^\r\n\r\ncya!\r\n\r\n~ Max","title":"Spring-Boot Security use Roles","body":"<p>I have recently looked into Spring-Boot and wanted to make a registration and login form for my application.\nI have watched a video and build my application around, what he said in the video.</p>\n<p>The authentication works and a jwt token is generated. When I have a valid token, i can send requests to methods without getting a 403 response.</p>\n<p>My question: My User Class has a Role, which is an enum (USER, ADMIN)</p>\n<p>How can I configure my application to check what role the current User has and bind this role to certain methods?</p>\n<p>Here is my Code:</p>\n<p><em>User Entity</em></p>\n<pre><code>@Builder\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;users&quot;)\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(30)&quot;)\n    @Email\n    private String email;\n\n    @Column(nullable = false)\n    private String firstName;\n\n    @Column(nullable = false)\n    private String lastName;\n\n    @Column(nullable = false, columnDefinition = &quot;varchar(60)&quot;)\n    @Length(min = 8, max = 256)\n    @NotBlank\n    private String password;\n\n    @Column\n    @Enumerated(EnumType.STRING)\n    private Role role;\n\n    @Column(nullable = false)\n    private String teamName;\n\n    @Column(nullable = false)\n    private int overallScore;\n\n    @Column(nullable = false)\n    private int gameDayScore;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;users_players&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, nullable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;player_id&quot;, nullable = false)}\n    )\n    @JsonIgnoreProperties({&quot;users&quot;})\n    private List&lt;Player&gt; players;\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return List.of(new SimpleGrantedAuthority(role.name()));\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p><em>Role Enum Class</em></p>\n<pre><code>public enum Role{\n    USER,\n    ADMIN;\n}\n</code></pre>\n<p><em>JwtService</em></p>\n<pre><code>@Service\npublic class JwtService {\n\n    private static final String SECRET_KEY = &quot;b7acf8204b85ab7cec6e73b91f682677d642d328fdec7788e8cbff11ff1a5b22&quot;;\n\n    public String extractUsername(String jwtToken) {\n        return extractClaim(jwtToken, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String jwtToken, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllclaims(jwtToken);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateJwtToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public String generateJwtToken(UserDetails userDetails) {\n        return generateJwtToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public boolean isJwtTokenValid(String jwtToken, UserDetails userDetails) {\n        final String username = extractUsername(jwtToken);\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isJwtTokenExpired(jwtToken);\n    }\n\n    private boolean isJwtTokenExpired(String jwtToken) {\n        return extractExpiration(jwtToken).before(new Date());\n    }\n\n    private Date extractExpiration(String jwtToken) {\n        return extractClaim(jwtToken, Claims::getExpiration);\n    }\n\n    private Claims extractAllclaims(String jwtToken) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSigningKey())\n                .build()\n                .parseClaimsJws(jwtToken)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p><em>JwtAuthFilter</em></p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwtToken;\n        final String userEmail;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwtToken = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwtToken);\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if (jwtService.isJwtTokenValid(jwtToken, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p><em>SecurityConfig</em></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p><em>ApplicationConfig</em></p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepository.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>The <em>AuthenticationController</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n    private final AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(@RequestBody RegisterRequestDto request) {\n        return authenticationService.registerUser(request);\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(@RequestBody AuthRequestDto request) {\n        return authenticationService.authenticateUser(request);\n    }\n}\n</code></pre>\n<p>The <em>DemoController</em> where i want the &quot;sayHelloAdmin&quot; method to be only accessed by an admin and the &quot;sayHelloUser&quot; method by user and admin:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\npublic class DemoController {\n\n\n    @GetMapping(value = &quot;/admin&quot;)\n    public ResponseEntity&lt;String&gt; sayHelloAdmin() {\n        return ResponseEntity.ok(&quot;Hello from admin endpoint&quot;);\n    }\n\n    @GetMapping(value = &quot;/user&quot;)\n    public ResponseEntity&lt;String&gt; sayHelloUser() {\n        return ResponseEntity.ok(&quot;Hello from user endpoint&quot;);\n    }\n\n}\n</code></pre>\n<p>and the <em>AuthenticationService</em></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class AuthenticationServiceImpl implements AuthenticationService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final JwtService jwtService;\n    private final AuthenticationManager authManager;\n    private final UserMapper userMapper;\n\n    @Override\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(RegisterRequestDto request) {\n\n        request.setPassword(passwordEncoder.encode(request.getPassword()));\n\n        User user = userMapper.registerRequestDtoToUser(request);\n\n        user.setRole(Role.USER);\n        user.setGameDayScore(0);\n        user.setOverallScore(0);\n        user.setPlayers(new ArrayList&lt;&gt;());\n\n        userRepository.save(user);\n        var jwtToken = jwtService.generateJwtToken(user);\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\n                .jwtToken(jwtToken)\n                .build(), HttpStatus.CREATED);\n    }\n\n    @Override\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(AuthRequestDto request) {\n        authManager.authenticate(\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\n        );\n        var user = userRepository.findByEmail(request.getEmail())\n                .orElseThrow();\n        var jwtToken = jwtService.generateJwtToken((user));\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\n                .jwtToken(jwtToken)\n                .build(), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><em>AuthRequestDto</em> and <em>RegisterRequestDto</em> are almost identical to the user entity but with fewer attributes.</p>\n<p>Thanks in advance for your help!</p>\n<p>sorry for the many codeblocks^^</p>\n<p>cya!</p>\n<p>~ Max</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"score":0,"creation_date":1688644649,"post_id":76624754,"comment_id":135103290,"body_markdown":"Works great... Thank you very much ...","body":"Works great... Thank you very much ..."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688676607,"creation_date":1688602093,"answer_id":76624754,"question_id":76624671,"body_markdown":"Basically, the solution is already given in the error message: export the package to the module. To do so, add a line\r\n\r\n```Java\r\nexports com.democompany.app.api to com.fasterxml.jackson.databind;\r\n```\r\n\r\nto your `module-info.java` file.\r\n\r\nHave a look [here][1] for more details – but this is *really* just the starting point.\r\n\r\n\r\n  [1]: https://openjdk.org/projects/jigsaw/quick-start","title":"java.lang.reflect.InaccessibleObjectException: Unable to make public accessible","body":"<p>Basically, the solution is already given in the error message: export the package to the module. To do so, add a line</p>\n<pre><code>exports com.democompany.app.api to com.fasterxml.jackson.databind;\n</code></pre>\n<p>to your <code>module-info.java</code> file.</p>\n<p>Have a look <a href=\"https://openjdk.org/projects/jigsaw/quick-start\" rel=\"nofollow noreferrer\">here</a> for more details – but this is <em>really</em> just the starting point.</p>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76624754,"answer_count":1,"score":0,"last_activity_date":1688676607,"creation_date":1688600408,"question_id":76624671,"body_markdown":"I&#39;m having issues processing an API JSON response in a JavaFX app. I get the error:\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make public com.democompany.app.api.ResponseToken() accessible: module com.democompany.app does not &quot;exports com.democompany.app.api&quot; to module com.fasterxml.jackson.databind\r\n```\r\n\r\nThe code:\r\n\r\n```\r\nString responseString = responseBody.string();                \r\nObjectMapper objectMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\nResponseToken responseToken = objectMapper.readValue(responseString, ResponseToken.class);\r\n```          \r\n\r\nHow can I fix this?","title":"java.lang.reflect.InaccessibleObjectException: Unable to make public accessible","body":"<p>I'm having issues processing an API JSON response in a JavaFX app. I get the error:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make public com.democompany.app.api.ResponseToken() accessible: module com.democompany.app does not &quot;exports com.democompany.app.api&quot; to module com.fasterxml.jackson.databind\n</code></pre>\n<p>The code:</p>\n<pre><code>String responseString = responseBody.string();                \nObjectMapper objectMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nResponseToken responseToken = objectMapper.readValue(responseString, ResponseToken.class);\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1688671490,"post_id":76631955,"comment_id":135108874,"body_markdown":"`private` means private to the _class_, not private to _each object of that class._","body":"<code>private</code> means private to the <i>class</i>, not private to <i>each object of that class.</i>"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1688671651,"post_id":76631955,"comment_id":135108907,"body_markdown":"You can read private attribute of another object if its&quot; in the same class as you&#39;re actually in, and the return type has NO thing to do with it","body":"You can read private attribute of another object if its&quot; in the same class as you&#39;re actually in, and the return type has NO thing to do with it"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688671788,"post_id":76631955,"comment_id":135108928,"body_markdown":"Thanks but why didn&#39;t it work in the LargerThan method then? When I try it the error Message says &quot;squares has private access in Apartment&quot;","body":"Thanks but why didn&#39;t it work in the LargerThan method then? When I try it the error Message says &quot;squares has private access in Apartment&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1688671814,"post_id":76631955,"comment_id":135108933,"body_markdown":"what do you mean by &quot;*but boolean return type can&#39;t?*&quot; ?? Please post the no-working code and what is not working/error message","body":"what do you mean by &quot;<i>but boolean return type can&#39;t?</i>&quot; ?? Please post the no-working code and what is not working/error message"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688671815,"post_id":76631955,"comment_id":135108934,"body_markdown":"By the way, i really don&#39;t get what the &quot;...but boolean return type can&#39;t?&quot; part of the question is supposed to mean. What did you try and what error did you get? The access modifiers work the same for each method and field and don&#39;t act different depending on data or return types.","body":"By the way, i really don&#39;t get what the &quot;...but boolean return type can&#39;t?&quot; part of the question is supposed to mean. What did you try and what error did you get? The access modifiers work the same for each method and field and don&#39;t act different depending on data or return types."},{"owner":{"account_id":20650084,"reputation":2646,"user_id":15160601,"display_name":"zoldxk"},"score":0,"creation_date":1688671997,"post_id":76631955,"comment_id":135108961,"body_markdown":"check [this](https://stackoverflow.com/a/3728101/15160601)","body":"check <a href=\"https://stackoverflow.com/a/3728101/15160601\">this</a>"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672245,"post_id":76631955,"comment_id":135109003,"body_markdown":"Alright so I tried `if (this.squares &gt; compared.squares)` in the largerThan method. I got the error message &quot;squares has private access in Apartment&quot;.\nWhat I meant by boolean return type is, once I changed the largerThan method from `public boolean largerThan` to `public int largerThan` the red lines below .squares disappeared.","body":"Alright so I tried <code>if (this.squares &gt; compared.squares)</code> in the largerThan method. I got the error message &quot;squares has private access in Apartment&quot;. What I meant by boolean return type is, once I changed the largerThan method from <code>public boolean largerThan</code> to <code>public int largerThan</code> the red lines below .squares disappeared."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1688672339,"post_id":76631955,"comment_id":135109031,"body_markdown":"Post the code where you are running this from","body":"Post the code where you are running this from"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672605,"post_id":76631955,"comment_id":135109066,"body_markdown":"Ok I&#39;m using NetBeans with TMC (Maven) no idea where to check the version. I have screenshots of the code with boolean return and int return:","body":"Ok I&#39;m using NetBeans with TMC (Maven) no idea where to check the version. I have screenshots of the code with boolean return and int return:"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672671,"post_id":76631955,"comment_id":135109073,"body_markdown":"https://imgur.com/a/A7uiETV","body":"<a href=\"https://imgur.com/a/A7uiETV\" rel=\"nofollow noreferrer\">imgur.com/a/A7uiETV</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1688672900,"post_id":76631955,"comment_id":135109112,"body_markdown":"Have you tried restarting your IDE or computer, or running a Maven update?  I use Eclipse, but sometimes I get weird errors that aren&#39;t real, but Eclipse is messing up","body":"Have you tried restarting your IDE or computer, or running a Maven update?  I use Eclipse, but sometimes I get weird errors that aren&#39;t real, but Eclipse is messing up"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672937,"post_id":76631955,"comment_id":135109123,"body_markdown":"ALRIGHT it must be a bug with my IDE or something. Because if I change it to int, the code works, like in the image above. but then when I ALT+Z back so it&#39;s boolean again, it STILL WORKS. The error is gone. THEN when I delete the .squares and type it in again, the error is back. So weird.","body":"ALRIGHT it must be a bug with my IDE or something. Because if I change it to int, the code works, like in the image above. but then when I ALT+Z back so it&#39;s boolean again, it STILL WORKS. The error is gone. THEN when I delete the .squares and type it in again, the error is back. So weird."},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688673124,"post_id":76631955,"comment_id":135109170,"body_markdown":"@Nexevis Yeah I&#39;m betting it&#39;s not a real error since when you do change something then alt-z back to the code that was showing the error, the error is gone. But only if you alt-z. If you delete the now errorless code and write it again, the error shows up again. \nI don&#39;t want to mess something up by updating since this is the modified NetBeans to be used by the mooc.fi course. It&#39;s not a problem I just didn&#39;t understand why that error was appearing and it was bugging me.","body":"@Nexevis Yeah I&#39;m betting it&#39;s not a real error since when you do change something then alt-z back to the code that was showing the error, the error is gone. But only if you alt-z. If you delete the now errorless code and write it again, the error shows up again.  I don&#39;t want to mess something up by updating since this is the modified NetBeans to be used by the mooc.fi course. It&#39;s not a problem I just didn&#39;t understand why that error was appearing and it was bugging me."},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688673188,"post_id":76631955,"comment_id":135109183,"body_markdown":"@user16320675 is that not allowed? don&#39;t know how to upload images internally","body":"@user16320675 is that not allowed? don&#39;t know how to upload images internally"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688675893,"post_id":76631955,"comment_id":135109684,"body_markdown":"You don&#39;t need to tell a story to ask a question. We don&#39;t need the build up, the &quot;so far so good&quot;, &quot;again no errors&quot;. Just show use the code that works, and the code that doesn&#39;t work. Tell and why it doesn&#39;t work and why you think it should.","body":"You don&#39;t need to tell a story to ask a question. We don&#39;t need the build up, the &quot;so far so good&quot;, &quot;again no errors&quot;. Just show use the code that works, and the code that doesn&#39;t work. Tell and why it doesn&#39;t work and why you think it should."}],"answers":[{"tags":[],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688675438,"creation_date":1688675438,"answer_id":76632356,"question_id":76631955,"body_markdown":"i will try to explainn this refering to the method:\r\n\r\n```\r\npublic boolean largerThan(Apartment compared) {\r\n        if (this.squares &gt; compared.getSquares()) {\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    }\r\n```\r\n\r\nInside the main class of Apartment you can have methods that have as parameters variables of the same type of your class, but at runtime they will be different  objects. So you must refer to this object with the appropiate methods.","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>i will try to explainn this refering to the method:</p>\n<pre><code>public boolean largerThan(Apartment compared) {\n        if (this.squares &gt; compared.getSquares()) {\n            return true;\n        }\n        return false;\n\n    }\n</code></pre>\n<p>Inside the main class of Apartment you can have methods that have as parameters variables of the same type of your class, but at runtime they will be different  objects. So you must refer to this object with the appropiate methods.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688676278,"creation_date":1688676278,"answer_id":76632434,"question_id":76631955,"body_markdown":"Let&#39;s make this simple.\r\n\r\n```\r\npublic class Hide{\r\n    private boolean privy = false;    \r\n    public boolean test( Hide h){\r\n        return h.privy;\r\n    }\r\n    public static void main(String[] args){\r\n        Hide a = new Hide();\r\n        Hide b = new Hide();\r\n        System.out.println(a.test(b));   \r\n    }\r\n}\r\n```\r\n\r\nThat compiles and runs fine. It is a boolean method, that accesses the private member of another instance of the same class. So it seems your error is occurring somewhere else in the build process.","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>Let's make this simple.</p>\n<pre><code>public class Hide{\n    private boolean privy = false;    \n    public boolean test( Hide h){\n        return h.privy;\n    }\n    public static void main(String[] args){\n        Hide a = new Hide();\n        Hide b = new Hide();\n        System.out.println(a.test(b));   \n    }\n}\n</code></pre>\n<p>That compiles and runs fine. It is a boolean method, that accesses the private member of another instance of the same class. So it seems your error is occurring somewhere else in the build process.</p>\n"}],"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1688676278,"creation_date":1688671269,"question_id":76631955,"body_markdown":"So there&#39;s probably a really obvious answer to this but at the moment I&#39;m very confused.\r\n\r\nI started learning Java and am doing the mooc.fi Java Programming course. There&#39;s an exercise where I have an Apartment class and I have to make a couple of methods that compare a variable from one object to another (both objects are from the same class).\r\n\r\nSo I made a boolean return type method with an (Apartment compared) constructor. Then I used this.variable to get the value of the variable of the current object. I made a getter method to be able to get the value of the &quot;compared&quot; object. Then I used compared.getVariable() to get the value of the compared object. \r\n\r\nSo far so good.\r\n\r\nThe second methods objective was to return the value difference between the two objects variables. So again, I made a method with an int return type with the same (Apartment compared) constructor. I used the same this.variable for the object. But then instead of using the getter method for the second object, I typed compared.variable. It showed no errors. The program worked. \r\n\r\nSo I went back to the first method and changed the boolean return type to int return type. and I changed compared.getVariable to compared.variable\r\n\r\nAgain, no errors. \r\n\r\nSo why can a method read a private variable of a different object? Why does it work with int but not with boolean?\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class Apartment {\r\n\r\n    private int rooms;\r\n    private int squares;\r\n    private int princePerSquare;\r\n\r\n    public Apartment(int rooms, int squares, int pricePerSquare) {\r\n        this.rooms = rooms;\r\n        this.squares = squares;\r\n        this.princePerSquare = pricePerSquare;\r\n    }\r\n\r\n    public int getSquares() {\r\n        return squares;\r\n    }\r\n\r\n    public int getPrincePerSquare() {\r\n        return princePerSquare;\r\n    }\r\n\r\n    public boolean largerThan(Apartment compared) {\r\n        if (this.squares &gt; compared.getSquares()) {\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\n    public int priceDifference(Apartment compared) {\r\n        if ((this.princePerSquare * this.squares) &gt; (compared.princePerSquare * compared.squares)) {\r\n            return (this.princePerSquare * this.squares) - (compared.princePerSquare * compared.squares);\r\n        }\r\n    \r\n        return (compared.princePerSquare * compared.squares) - (this.princePerSquare * this.squares);\r\n    }\r\n}\r\n```\r\n\r\nThe two relevant methods are LargerThan and PriceDifference\r\n\r\nThanks in advance and sorry if it&#39;s a stupid question\r\n\r\nEdit: I know it should be pricePerSquare instead of PrincePerSquare but that&#39;s how it was pre-written by mooc.fi and I don&#39;t wanna change it in case the tester uses PrincePerSquare.\r\n\r\n","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>So there's probably a really obvious answer to this but at the moment I'm very confused.</p>\n<p>I started learning Java and am doing the mooc.fi Java Programming course. There's an exercise where I have an Apartment class and I have to make a couple of methods that compare a variable from one object to another (both objects are from the same class).</p>\n<p>So I made a boolean return type method with an (Apartment compared) constructor. Then I used this.variable to get the value of the variable of the current object. I made a getter method to be able to get the value of the &quot;compared&quot; object. Then I used compared.getVariable() to get the value of the compared object.</p>\n<p>So far so good.</p>\n<p>The second methods objective was to return the value difference between the two objects variables. So again, I made a method with an int return type with the same (Apartment compared) constructor. I used the same this.variable for the object. But then instead of using the getter method for the second object, I typed compared.variable. It showed no errors. The program worked.</p>\n<p>So I went back to the first method and changed the boolean return type to int return type. and I changed compared.getVariable to compared.variable</p>\n<p>Again, no errors.</p>\n<p>So why can a method read a private variable of a different object? Why does it work with int but not with boolean?</p>\n<p>Here's my code:</p>\n<pre><code>public class Apartment {\n\n    private int rooms;\n    private int squares;\n    private int princePerSquare;\n\n    public Apartment(int rooms, int squares, int pricePerSquare) {\n        this.rooms = rooms;\n        this.squares = squares;\n        this.princePerSquare = pricePerSquare;\n    }\n\n    public int getSquares() {\n        return squares;\n    }\n\n    public int getPrincePerSquare() {\n        return princePerSquare;\n    }\n\n    public boolean largerThan(Apartment compared) {\n        if (this.squares &gt; compared.getSquares()) {\n            return true;\n        }\n        return false;\n\n    }\n\n    public int priceDifference(Apartment compared) {\n        if ((this.princePerSquare * this.squares) &gt; (compared.princePerSquare * compared.squares)) {\n            return (this.princePerSquare * this.squares) - (compared.princePerSquare * compared.squares);\n        }\n    \n        return (compared.princePerSquare * compared.squares) - (this.princePerSquare * this.squares);\n    }\n}\n</code></pre>\n<p>The two relevant methods are LargerThan and PriceDifference</p>\n<p>Thanks in advance and sorry if it's a stupid question</p>\n<p>Edit: I know it should be pricePerSquare instead of PrincePerSquare but that's how it was pre-written by mooc.fi and I don't wanna change it in case the tester uses PrincePerSquare.</p>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1688642874,"post_id":76628062,"comment_id":135102899,"body_markdown":"why are you doing it this way?","body":"why are you doing it this way?"},{"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"score":0,"creation_date":1688646107,"post_id":76628062,"comment_id":135103615,"body_markdown":"I want to enable job-level metrics. So that under one cluster, I can have multiple jobs. Each of these would send metrics for a different purpose.","body":"I want to enable job-level metrics. So that under one cluster, I can have multiple jobs. Each of these would send metrics for a different purpose."}],"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688676193,"creation_date":1688640789,"question_id":76628062,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/1E02I.png)](https://i.stack.imgur.com/1E02I.png)\r\nAttached logs: (Facing this issue while stop/start the existing sparkcontext in databricks.Facing this issue while stop/start the existing sparkcontext in databricks. Need to enable spark default metrics in job level.\r\n\r\n\r\n```\r\ncom.timgroup.statsd.StatsDClientException: Failed to start StatsD client\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:95)\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:64)\r\n\tat org.zignallabs.streaming.metrics.SerializableStatsDClient.readObject(SerializableStatsDClient.java:124)\r\n\tat sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\r\n\tat sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\r\n\tat sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129)\r\n\tat org.apache.spark.scheduler.ResultTask.$anonfun$runTask$2(ResultTask.scala:65)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:65)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\r\n\tat org.apache.spark.scheduler.Task.doRunTask(Task.scala:169)\r\n\tat org.apache.spark.scheduler.Task.$anonfun$run$4(Task.scala:137)\r\n\tat com.databricks.unity.EmptyHandle$.runWithAndClose(UCSHandle.scala:125)\r\n\tat org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:137)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:96)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:902)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1697)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:905)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:760)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.net.SocketException: **maximum number of DatagramSockets reached**\r\n\tat sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:73)\r\n\tat sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:107)\r\n\tat sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\r\n\tat java.nio.channels.DatagramChannel.open(DatagramChannel.java:149)\r\n\tat com.timgroup.statsd.NonBlockingUdpSender.&lt;init&gt;(NonBlockingUdpSender.java:22)\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:93)\r\n\t... 95 more\r\n```\r\n\r\n","title":"Getting &quot; maximum number of DatagramSockets reached&quot; issue while stop/start exisiting sparkcontext in databricks","body":"<p><a href=\"https://i.stack.imgur.com/1E02I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1E02I.png\" alt=\"enter image description here\" /></a>\nAttached logs: (Facing this issue while stop/start the existing sparkcontext in databricks.Facing this issue while stop/start the existing sparkcontext in databricks. Need to enable spark default metrics in job level.</p>\n<pre><code>com.timgroup.statsd.StatsDClientException: Failed to start StatsD client\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:95)\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:64)\n    at org.zignallabs.streaming.metrics.SerializableStatsDClient.readObject(SerializableStatsDClient.java:124)\n    at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\n    at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\n    at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87)\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129)\n    at org.apache.spark.scheduler.ResultTask.$anonfun$runTask$2(ResultTask.scala:65)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:65)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\n    at org.apache.spark.scheduler.Task.doRunTask(Task.scala:169)\n    at org.apache.spark.scheduler.Task.$anonfun$run$4(Task.scala:137)\n    at com.databricks.unity.EmptyHandle$.runWithAndClose(UCSHandle.scala:125)\n    at org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:137)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.Task.run(Task.scala:96)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:902)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1697)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:905)\n    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:760)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.net.SocketException: **maximum number of DatagramSockets reached**\n    at sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:73)\n    at sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:107)\n    at sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\n    at java.nio.channels.DatagramChannel.open(DatagramChannel.java:149)\n    at com.timgroup.statsd.NonBlockingUdpSender.&lt;init&gt;(NonBlockingUdpSender.java:22)\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:93)\n    ... 95 more\n</code></pre>\n"},{"tags":["java","multithreading","thread-synchronization"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1688673195,"post_id":76632091,"comment_id":135109185,"body_markdown":"At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking.  Modifications to things like ArrayLists need to be done under a lock.","body":"At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking.  Modifications to things like ArrayLists need to be done under a lock."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688673702,"post_id":76632091,"comment_id":135109294,"body_markdown":"@LouisWasserman Thank you! It seems to have a positive effect. But why don&#39;t I get `ConcurrentModificationException` or the like? I know that `ExecutorService` &quot;swallows&quot; exceptions, but I don&#39;t use it here","body":"@LouisWasserman Thank you! It seems to have a positive effect. But why don&#39;t I get <code>ConcurrentModificationException</code> or the like? I know that <code>ExecutorService</code> &quot;swallows&quot; exceptions, but I don&#39;t use it here"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688674714,"post_id":76632091,"comment_id":135109485,"body_markdown":"Also, why is there some weird `null` element? Shouldn&#39;t the removal be atomic in the sense &quot;it either happens completely or not at all&quot;? Was there some swallowed exception between nullifying the removed element&#39;s index and `size--`?","body":"Also, why is there some weird <code>null</code> element? Shouldn&#39;t the removal be atomic in the sense &quot;it either happens completely or not at all&quot;? Was there some swallowed exception between nullifying the removed element&#39;s index and <code>size--</code>?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688677166,"post_id":76632091,"comment_id":135109909,"body_markdown":"Why are you extending Thread... with an abstract class? I&#39;m surprised the compiler lets you do that. What is the abstract method? This is horrible.","body":"Why are you extending Thread... with an abstract class? I&#39;m surprised the compiler lets you do that. What is the abstract method? This is horrible."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688677461,"post_id":76632091,"comment_id":135109943,"body_markdown":"In the code you have provided, addPassenger is only ever called on &quot;this&quot;, this can never be null. The problem you&#39;re seeing is not caused by the existing code.","body":"In the code you have provided, addPassenger is only ever called on &quot;this&quot;, this can never be null. The problem you&#39;re seeing is not caused by the existing code."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1688683521,"post_id":76632091,"comment_id":135110723,"body_markdown":"@matt it&#39;s pretty straightforward: I want to avoid code duplication since both `Passenger` and `BoatKeeper` share report functionality. As far as I know, there&#39;s nothing inherently wrong with having an abstract class as a `Thread` child. Abstract classes are classes that can&#39;t be instantiated, that&#39;s it. `StatusReporter` doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract","body":"@matt it&#39;s pretty straightforward: I want to avoid code duplication since both <code>Passenger</code> and <code>BoatKeeper</code> share report functionality. As far as I know, there&#39;s nothing inherently wrong with having an abstract class as a <code>Thread</code> child. Abstract classes are classes that can&#39;t be instantiated, that&#39;s it. <code>StatusReporter</code> doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688683597,"post_id":76632091,"comment_id":135110731,"body_markdown":"@matt as a matter of fact, it *was* caused by the existing code. See the answer below","body":"@matt as a matter of fact, it <i>was</i> caused by the existing code. See the answer below"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688697426,"post_id":76632091,"comment_id":135111841,"body_markdown":"@JoreJoh: No, who promised that changes to `ArrayList` would be atomic?  The documentation specifically _doesn&#39;t_ promise that.  Every single operation you need to do to an `ArrayList` needs to use a lock, and it needs to be the same lock.","body":"@JoreJoh: No, who promised that changes to <code>ArrayList</code> would be atomic?  The documentation specifically <i>doesn&#39;t</i> promise that.  Every single operation you need to do to an <code>ArrayList</code> needs to use a lock, and it needs to be the same lock."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688714521,"post_id":76632091,"comment_id":135113555,"body_markdown":"@JoreJoh I don&#39;t see how the answer says why your array list contains null. Maybe since your in a threaded environment with a debugger you&#39;ve captured a transient state where null is in the list.","body":"@JoreJoh I don&#39;t see how the answer says why your array list contains null. Maybe since your in a threaded environment with a debugger you&#39;ve captured a transient state where null is in the list."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688714566,"post_id":76632091,"comment_id":135113565,"body_markdown":"In general you shouldn&#39;t extend Thread. Also, when you extend something, the thing your extend is the parent. &quot;StatusReporter doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract&quot; It&#39;s not clear *why* that is the case. If doesn&#39;t make sense on it&#39;s own, then dont give it a public constructor. Use protected constructor, then it would need to be extended. Really it doesn&#39;t need to be a class at all, an interface should work.","body":"In general you shouldn&#39;t extend Thread. Also, when you extend something, the thing your extend is the parent. &quot;StatusReporter doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract&quot; It&#39;s not clear <i>why</i> that is the case. If doesn&#39;t make sense on it&#39;s own, then dont give it a public constructor. Use protected constructor, then it would need to be extended. Really it doesn&#39;t need to be a class at all, an interface should work."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688731148,"post_id":76632091,"comment_id":135116694,"body_markdown":"Re, &quot;why don&#39;t I get `ConcurrentModificationException`...?&quot; That exception is poorly named. The JRE doesn&#39;t raise it because of anything to do with threads. It is raised when your program tries to use an `Iterator` after the Iterator has been invalidated by the program mutating the `Collection` to which the Iterator belongs. The kinds of errors that are caused by threads accessing shared variables with no synchronization are practically impossible to _reliably_ detect and identify. You cannot count on threading errors to cause _meaningful_ exceptions.","body":"Re, &quot;why don&#39;t I get <code>ConcurrentModificationException</code>...?&quot; That exception is poorly named. The JRE doesn&#39;t raise it because of anything to do with threads. It is raised when your program tries to use an <code>Iterator</code> after the Iterator has been invalidated by the program mutating the <code>Collection</code> to which the Iterator belongs. The kinds of errors that are caused by threads accessing shared variables with no synchronization are practically impossible to <i>reliably</i> detect and identify. You cannot count on threading errors to cause <i>meaningful</i> exceptions."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688731483,"post_id":76632091,"comment_id":135116748,"body_markdown":"@matt no, it wouldn&#39;t work since interfaces can&#39;t have instance fields. In this case, `status` is an instance field","body":"@matt no, it wouldn&#39;t work since interfaces can&#39;t have instance fields. In this case, <code>status</code> is an instance field"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688731563,"post_id":76632091,"comment_id":135116763,"body_markdown":"@SolomonSlow but was there any exception at all? If so, was it swallowed?","body":"@SolomonSlow but was there any exception at all? If so, was it swallowed?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688733542,"post_id":76632091,"comment_id":135117188,"body_markdown":"You want your object to extend thread, and you want your object to extend status report. So you&#39;ve made StatusReport extend Thread. You want StatusReport to be abstract because you don&#39;t think it makes sense to exist on its own. I&#39;m definitely a fan of composition over inheritance. Your class could just have an instance of StatusReport and implement Runnable. But you&#39;re right, it is pretty much just practice.","body":"You want your object to extend thread, and you want your object to extend status report. So you&#39;ve made StatusReport extend Thread. You want StatusReport to be abstract because you don&#39;t think it makes sense to exist on its own. I&#39;m definitely a fan of composition over inheritance. Your class could just have an instance of StatusReport and implement Runnable. But you&#39;re right, it is pretty much just practice."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688733712,"post_id":76632091,"comment_id":135117229,"body_markdown":"Re, &quot;was there any exception at all?&quot; A &quot;race condition&quot; (result of unsynchronized access to shared variables) could cause some kind of data corruption or it could cause some kind of logic error. It could affect your own program&#39;s data/logic, it could affect the JRE, or it could affect the JVM. Literally _anything_ could happen; It could cause an immediate program crash (e.g., &quot;segfault&quot;), it could cause a &quot;glitch&quot; in the GUI, it could cause your program to write an incorrect value to a record in a database that you don&#39;t discover until months later. Literally, _anything_ could happen.","body":"Re, &quot;was there any exception at all?&quot; A &quot;race condition&quot; (result of unsynchronized access to shared variables) could cause some kind of data corruption or it could cause some kind of logic error. It could affect your own program&#39;s data/logic, it could affect the JRE, or it could affect the JVM. Literally <i>anything</i> could happen; It could cause an immediate program crash (e.g., &quot;segfault&quot;), it could cause a &quot;glitch&quot; in the GUI, it could cause your program to write an incorrect value to a record in a database that you don&#39;t discover until months later. Literally, <i>anything</i> could happen."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688733919,"post_id":76632091,"comment_id":135117279,"body_markdown":"P.S., &quot;_Could_ cause...&quot; For example, in a big, commercial, back-end system, it might _not_ cause any of the above during weeks of testing, and then months later, after being released into the field, it could cause a major problem on some client&#39;s web site. (Ask me some time how much fun it is to do a post-mortem on a client&#39;s four gigabyte core-file when the debug symbols for that release have somehow gone missing.)","body":"P.S., &quot;<i>Could</i> cause...&quot; For example, in a big, commercial, back-end system, it might <i>not</i> cause any of the above during weeks of testing, and then months later, after being released into the field, it could cause a major problem on some client&#39;s web site. (Ask me some time how much fun it is to do a post-mortem on a client&#39;s four gigabyte core-file when the debug symbols for that release have somehow gone missing.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688764105,"post_id":76632091,"comment_id":135122522,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":12514905,"reputation":2245,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688674664,"post_id":76632272,"comment_id":135109478,"body_markdown":"&quot;If you find it useful, upvote some of Louis Wasserman&#39;s other answers instead&quot; really not trying to be rude or anything, but by SO rules, you shouldn&#39;t suggest that people do that - it counts as serial upvoting iirc, and just because you found his comment/answer in this post useful doesn&#39;t mean that extends to all his others.","body":"&quot;If you find it useful, upvote some of Louis Wasserman&#39;s other answers instead&quot; really not trying to be rude or anything, but by SO rules, you shouldn&#39;t suggest that people do that - it counts as serial upvoting iirc, and just because you found his comment/answer in this post useful doesn&#39;t mean that extends to all his others."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688674902,"post_id":76632272,"comment_id":135109516,"body_markdown":"@newQOpenGLWidget is it legal to delete it repost it as a Community answer now? I now seem to possess that privilege","body":"@newQOpenGLWidget is it legal to delete it repost it as a Community answer now? I now seem to possess that privilege"},{"owner":{"account_id":12514905,"reputation":2245,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688675855,"post_id":76632272,"comment_id":135109671,"body_markdown":"I think there&#39;s a checkbox that appears when you edit called &quot;make community post&quot;","body":"I think there&#39;s a checkbox that appears when you edit called &quot;make community post&quot;"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688676174,"post_id":76632272,"comment_id":135109739,"body_markdown":"As an aside, put the `unlock()`s in a finally block, to ensure it always gets called.","body":"As an aside, put the <code>unlock()</code>s in a finally block, to ensure it always gets called."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688683922,"post_id":76632272,"comment_id":135110775,"body_markdown":"@AndyTurner I wanted to release the lock as soon as possible to avoid any freezes","body":"@AndyTurner I wanted to release the lock as soon as possible to avoid any freezes"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688697495,"post_id":76632272,"comment_id":135111848,"body_markdown":"Please don&#39;t upvote my other answers.  (In all honesty, I post in the comments when I don&#39;t feel like taking the time to write a thorough answer, and you are welcome to expand them into a more complete answer.)","body":"Please don&#39;t upvote my other answers.  (In all honesty, I post in the comments when I don&#39;t feel like taking the time to write a thorough answer, and you are welcome to expand them into a more complete answer.)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688708594,"post_id":76632272,"comment_id":135112663,"body_markdown":"@JoreJoh put the try/finally just around the portion where you want the lock to be held. So, `lock(); try { /* do stuff with lock */ } finally { unlock(); }`.","body":"@JoreJoh put the try/finally just around the portion where you want the lock to be held. So, <code>lock(); try { &#47;* do stuff with lock *&#47; } finally { unlock(); }</code>."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688760655,"post_id":76632272,"comment_id":135122066,"body_markdown":"@AndyTurner are you sure it&#39;s necessary at all? From the JLS: *&quot;If execution of the body is ever completed, either normally **or abruptly** [presumably, e.g. due to an exception], an unlock action is automatically performed on that same monitor.&quot;*","body":"@AndyTurner are you sure it&#39;s necessary at all? From the JLS: <i>&quot;If execution of the body is ever completed, either normally <b>or abruptly</b> [presumably, e.g. due to an exception], an unlock action is automatically performed on that same monitor.&quot;</i>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688806769,"post_id":76632272,"comment_id":135125630,"body_markdown":"@JoreJoh that&#39;s referring to a `synchronized` statement, unlocking the monitor object on which you are synchronizing. I don&#39;t see you using a `synchronized` statement here.","body":"@JoreJoh that&#39;s referring to a <code>synchronized</code> statement, unlocking the monitor object on which you are synchronizing. I don&#39;t see you using a <code>synchronized</code> statement here."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688807219,"post_id":76632272,"comment_id":135125673,"body_markdown":"@JoreJoh see http://www.javapractices.com/topic/TopicAction.do?Id=253","body":"@JoreJoh see <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=253\" rel=\"nofollow noreferrer\">javapractices.com/topic/TopicAction.do?Id=253</a>"}],"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688675958,"creation_date":1688674517,"answer_id":76632272,"question_id":76632091,"body_markdown":"***Note.** It&#39;s not my answer but rather the answer [Louis Wasserman][1] gave in the comments (apparently, he doesn&#39;t want to post it as an answer).*\r\n\r\n&gt; At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking. Modifications to things like ArrayLists need to be done under a lock.\r\n&gt;\r\n&gt; *–Louis Wasserman*\r\n\r\nIndeed, changing this part of `disembark()` method\r\n```java\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            lock.lock();\r\n            condition.signalAll();\r\n            lock.unlock();\r\n```\r\nto this\r\n```java\r\n            lock.lock();\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            condition.signalAll();\r\n            lock.unlock();\r\n```\r\nhelped. Thank you!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/869736/louis-wasserman","title":"A thread can&#39;t properly remove itself from a List. Why?","body":"<p><em><strong>Note.</strong> It's not my answer but rather the answer <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\">Louis Wasserman</a> gave in the comments (apparently, he doesn't want to post it as an answer).</em></p>\n<blockquote>\n<p>At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking. Modifications to things like ArrayLists need to be done under a lock.</p>\n<p><em>–Louis Wasserman</em></p>\n</blockquote>\n<p>Indeed, changing this part of <code>disembark()</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>            boatKeeper.getBoat().removePassenger(this);\n            lock.lock();\n            condition.signalAll();\n            lock.unlock();\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>            lock.lock();\n            boatKeeper.getBoat().removePassenger(this);\n            condition.signalAll();\n            lock.unlock();\n</code></pre>\n<p>helped. Thank you!</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76632272,"answer_count":1,"score":0,"last_activity_date":1688675958,"creation_date":1688672513,"question_id":76632091,"body_markdown":"When I try to get accustomed with a new library or concept, I typically do a small toy project that utilizes those libraries or concepts. `java.util.concurrent` is no different. I only start to learn that library so I made a few simple apps. Some of them work, but this one (it was supposed to teach me to get comfortable with `Semaphore`) misbehaves. Here&#39;s the complete code. It&#39;s not minimal, but since I don&#39;t know which part I can safely cut (except for `River`, `speed`, but it&#39;s not much code anyway), I decided to include it in its entirety\r\n```java\r\npublic record River(short width) {\r\n}\r\n```\r\n```java\r\npublic interface Status {\r\n    String description();\r\n}\r\n```\r\n```java\r\npublic abstract class StatusReporter extends Thread {\r\n    protected Status status;\r\n    public StatusReporter(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void setAndReportStatus(Status status) {\r\n        this.status = status;\r\n        System.out.println(getName() + &quot;: &quot; + status.description());\r\n    }\r\n}\r\n```\r\n```java\r\npublic class SharedSynchronizers {\r\n    static final Lock FAIR_LOCK = new ReentrantLock(true);\r\n    static final Condition CONDITION = FAIR_LOCK.newCondition();\r\n}\r\n```\r\n```java\r\npublic class Boat {\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final byte capacity;\r\n    @Getter\r\n    private final byte speed;\r\n    private final List&lt;Passenger&gt; passengersOnBoard;\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final Semaphore semaphore;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    private Boat(Builder builder) {\r\n        capacity = builder.capacity;\r\n        speed = builder.speed;\r\n        passengersOnBoard = builder.passengersOnBoard;\r\n        semaphore = builder.semaphore;\r\n    }\r\n\r\n    public static Builder withCapacity(byte capacity) {\r\n        return new Builder(capacity);\r\n    }\r\n\r\n    public static class Builder {\r\n        private final byte capacity;\r\n        private byte speed;\r\n        private final List&lt;Passenger&gt; passengersOnBoard;\r\n        private final Semaphore semaphore;\r\n\r\n        private Builder(byte capacity) {\r\n            this.capacity = capacity;\r\n            this.passengersOnBoard = new ArrayList&lt;&gt;(capacity);\r\n            this.semaphore = new Semaphore(capacity, true);\r\n        }\r\n\r\n        public Boat andSpeed(byte speed) {\r\n            this.speed = speed;\r\n            return new Boat(this);\r\n        }\r\n    }\r\n\r\n    void addPassenger(Passenger passenger) {\r\n        try {\r\n            while (semaphore.availablePermits() &lt; 1) {\r\n                condition.await(); // so that a thread releases a lock if it can&#39;t acquire a permit\r\n            }\r\n            semaphore.acquire();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        passengersOnBoard.add(passenger);\r\n    }\r\n\r\n    void removePassenger(Passenger passenger) {\r\n        passengersOnBoard.remove(passenger);\r\n    }\r\n\r\n    boolean hasPassengers() {\r\n        return !passengersOnBoard.isEmpty();\r\n    }\r\n\r\n    boolean isFull() {\r\n        return passengersOnBoard.size() == capacity;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Passenger extends StatusReporter {\r\n    @Setter(AccessLevel.PACKAGE)\r\n    private BoatKeeper boatKeeper;\r\n    private static final short EMBARK_DISEMBARK_TIME = 500;\r\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    public Passenger(String name) {\r\n        super(name);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        tryToGetOnBoat();\r\n        stayOnBoat();\r\n        disembark();\r\n    }\r\n\r\n    private void tryToGetOnBoat() {\r\n        setAndReportStatus(PassengerStatus.GOING_TO_EMBARK);\r\n        try {\r\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        lock.lock();\r\n        boatKeeper.getBoat().addPassenger(this);\r\n        boatKeeper.getPassengersToFerry().remove(this);\r\n        setAndReportStatus(PassengerStatus.EMBARKED_THE_BOAT);\r\n        condition.signalAll();\r\n        lock.unlock();\r\n    }\r\n\r\n    private void stayOnBoat() {\r\n        try {\r\n            lock.lock();\r\n            while (!boatKeeper.isRowing()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        setAndReportStatus(PassengerStatus.CROSSING_THE_RIVER);\r\n    }\r\n\r\n    private void disembark() {\r\n        try {\r\n            lock.lock();\r\n            while (!boatKeeper.isDisembarking()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            lock.lock();\r\n            condition.signalAll();\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        setAndReportStatus(PassengerStatus.ON_THE_OTHER_BANK);\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    enum PassengerStatus implements Status {\r\n        GOING_TO_EMBARK(&quot;going to embark the boat...&quot;),\r\n        EMBARKED_THE_BOAT(&quot;embarked the boat!&quot;),\r\n        WAITING_FOR_OTHER_PASSENGERS(&quot;waiting for other passengers to join...&quot;),\r\n        CROSSING_THE_RIVER(&quot;crossing the river...&quot;),\r\n        ON_THE_OTHER_BANK(&quot;on the other bank!&quot;);\r\n\r\n        private final String description;\r\n\r\n        @Override\r\n        public String description() {\r\n            return description;\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class BoatKeeper extends StatusReporter {\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final Boat boat;\r\n    private int timeToCrossRiver;\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final List&lt;Passenger&gt; passengersToFerry = new ArrayList&lt;&gt;();\r\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    public BoatKeeper(Boat boat) {\r\n        super(&quot;Boat keeper&quot;);\r\n        this.boat = boat;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        performFerrying();\r\n    }\r\n\r\n    public BoatKeeper ferry(Passenger... passengers) {\r\n        Collections.addAll(passengersToFerry, passengers);\r\n        return this;\r\n    }\r\n\r\n    public void acrossRiver(River river) {\r\n        timeToCrossRiver = river.width() / boat.getSpeed();\r\n        start();\r\n    }\r\n\r\n    private void performFerrying() {\r\n        invitePassengersToEmbark();\r\n        while (hasFerryingToDo()) {\r\n            waitTillBoatReadyToGo();\r\n            crossRiver();\r\n            disembarkPassengers();\r\n            rowBack();\r\n        }\r\n        setAndReportStatus(BoatKeeperStatus.DONE);\r\n    }\r\n\r\n    private void invitePassengersToEmbark() {\r\n        passengersToFerry.forEach(p -&gt; {\r\n            p.setBoatKeeper(this);\r\n            p.start();\r\n        });\r\n    }\r\n\r\n    private void waitTillBoatReadyToGo() {\r\n        if (!isBoardingComplete()) {\r\n            setAndReportStatus(BoatKeeperStatus.WAITING_FOR_PASSENGERS_TO_EMBARK);\r\n        }\r\n        try {\r\n            lock.lock();\r\n            while (!isBoardingComplete()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void crossRiver() {\r\n        setAndReportStatus(BoatKeeperStatus.FERRYING_PASSENGERS);\r\n        lock.lock();\r\n        condition.signalAll();\r\n        lock.unlock();\r\n        try {\r\n            Thread.sleep(timeToCrossRiver);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void disembarkPassengers() {\r\n        setAndReportStatus(BoatKeeperStatus.DISEMBARKING_PASSENGERS);\r\n        lock.lock();\r\n        condition.signalAll();\r\n        try {\r\n            while (boat.hasPassengers()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void rowBack() {\r\n        setAndReportStatus(BoatKeeperStatus.RETURNING);\r\n        try {\r\n            Thread.sleep(timeToCrossRiver);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        lock.lock();\r\n        /*\r\n        doesn&#39;t matter if the boat keeper releases more permits than \r\n        the number of passengers it ferried: if it&#39;s less than the boat&#39;s\r\n        max capacity, then it was the last trip anyway\r\n        */\r\n        boat.getSemaphore().release(boat.getCapacity());\r\n        condition.signalAll();\r\n        lock.unlock();\r\n    }\r\n\r\n    private boolean hasFerryingToDo() {\r\n        return !passengersToFerry.isEmpty() || boat.hasPassengers();\r\n    }\r\n\r\n    private boolean isBoardingComplete() {\r\n        return boat.isFull() ||\r\n                (boat.hasPassengers() &amp;&amp; passengersToFerry.isEmpty());\r\n    }\r\n\r\n    boolean isRowing() {\r\n        return status == BoatKeeperStatus.FERRYING_PASSENGERS;\r\n    }\r\n\r\n    boolean isDisembarking() {\r\n        return status == BoatKeeperStatus.DISEMBARKING_PASSENGERS;\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    enum BoatKeeperStatus implements Status {\r\n        WAITING_FOR_PASSENGERS_TO_EMBARK(&quot;waiting for passengers to embark...&quot;),\r\n        FERRYING_PASSENGERS(&quot;ferrying passengers across the river...&quot;),\r\n        DISEMBARKING_PASSENGERS(&quot;disembarking passengers...&quot;),\r\n        RETURNING(&quot;returning...&quot;),\r\n        DONE(&quot;all passengers are ferried!&quot;);\r\n        private final String description;\r\n\r\n        @Override\r\n        public String description() {\r\n            return description;\r\n        }\r\n    }\r\n}\r\n```\r\nClient code:\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        River river = new River((short) 2800);\r\n        Boat tinyBoat = Boat.withCapacity((byte) 2).andSpeed((byte) 10);\r\n        BoatKeeper boatKeeper = new BoatKeeper(tinyBoat);\r\n        Passenger[] passengers = {\r\n                new Passenger(&quot;Frank&quot;), new Passenger(&quot;Liz&quot;), new Passenger(&quot;Gabriel&quot;)\r\n        };\r\n        boatKeeper.ferry(passengers).acrossRiver(river);\r\n    }\r\n}\r\n```\r\nBehavior varies. Whether you run it with or without the IntelliJ IDEA debugger seems to have some effect, but it&#39;s not a fail-proof predictor either\r\n\r\n**Scenario #1: Ghost passenger** (typical without the debugger, unless it&#39;s attached after the freeze)\r\n\r\nThe passenger threads disembark and finish, but the boat still has one `null` element making the boat keeper wait indefinitely and not row back.\r\n```\r\nBoat keeper: waiting for passengers to embark...\r\nFrank: going to embark the boat...\r\nLiz: going to embark the boat...\r\nGabriel: going to embark the boat...\r\nFrank: embarked the boat!\r\nLiz: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nLiz: crossing the river...\r\nFrank: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nLiz: on the other bank!\r\nFrank: on the other bank!\r\n\r\n// freezes!\r\n```\r\n[screenshot showing that there&#39;s some null passenger on the boat](https://i.stack.imgur.com/NFb9y.png)\r\n\r\n**Scenario #2: Everything is fine** (typically with the debugger, rarely without)\r\n\r\nNo issues observed\r\n```\r\nGabriel: going to embark the boat...\r\nLiz: going to embark the boat...\r\nFrank: going to embark the boat...\r\nBoat keeper: waiting for passengers to embark...\r\nFrank: embarked the boat!\r\nLiz: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nFrank: crossing the river...\r\nLiz: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nFrank: on the other bank!\r\nLiz: on the other bank!\r\nBoat keeper: returning...\r\nGabriel: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nGabriel: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nGabriel: on the other bank!\r\nBoat keeper: returning...\r\nBoat keeper: all passengers are ferried!\r\n\r\nProcess finished with exit code 0\r\n```\r\nSince I can&#39;t reproduce the issue while debugging the program, I&#39;m completely at a loss. **Why do those freezes happen? How do I fix it so that I get the second scenario all the time?**\r\n\r\nI debugged thoroughly, spent a lot of hours trying to pinpoint the issue. I don&#39;t see any other choice but to ask for your help","title":"A thread can&#39;t properly remove itself from a List. Why?","body":"<p>When I try to get accustomed with a new library or concept, I typically do a small toy project that utilizes those libraries or concepts. <code>java.util.concurrent</code> is no different. I only start to learn that library so I made a few simple apps. Some of them work, but this one (it was supposed to teach me to get comfortable with <code>Semaphore</code>) misbehaves. Here's the complete code. It's not minimal, but since I don't know which part I can safely cut (except for <code>River</code>, <code>speed</code>, but it's not much code anyway), I decided to include it in its entirety</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record River(short width) {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Status {\n    String description();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class StatusReporter extends Thread {\n    protected Status status;\n    public StatusReporter(String name) {\n        super(name);\n    }\n\n    public void setAndReportStatus(Status status) {\n        this.status = status;\n        System.out.println(getName() + &quot;: &quot; + status.description());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SharedSynchronizers {\n    static final Lock FAIR_LOCK = new ReentrantLock(true);\n    static final Condition CONDITION = FAIR_LOCK.newCondition();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Boat {\n    @Getter(AccessLevel.PACKAGE)\n    private final byte capacity;\n    @Getter\n    private final byte speed;\n    private final List&lt;Passenger&gt; passengersOnBoard;\n    @Getter(AccessLevel.PACKAGE)\n    private final Semaphore semaphore;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    private Boat(Builder builder) {\n        capacity = builder.capacity;\n        speed = builder.speed;\n        passengersOnBoard = builder.passengersOnBoard;\n        semaphore = builder.semaphore;\n    }\n\n    public static Builder withCapacity(byte capacity) {\n        return new Builder(capacity);\n    }\n\n    public static class Builder {\n        private final byte capacity;\n        private byte speed;\n        private final List&lt;Passenger&gt; passengersOnBoard;\n        private final Semaphore semaphore;\n\n        private Builder(byte capacity) {\n            this.capacity = capacity;\n            this.passengersOnBoard = new ArrayList&lt;&gt;(capacity);\n            this.semaphore = new Semaphore(capacity, true);\n        }\n\n        public Boat andSpeed(byte speed) {\n            this.speed = speed;\n            return new Boat(this);\n        }\n    }\n\n    void addPassenger(Passenger passenger) {\n        try {\n            while (semaphore.availablePermits() &lt; 1) {\n                condition.await(); // so that a thread releases a lock if it can't acquire a permit\n            }\n            semaphore.acquire();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        passengersOnBoard.add(passenger);\n    }\n\n    void removePassenger(Passenger passenger) {\n        passengersOnBoard.remove(passenger);\n    }\n\n    boolean hasPassengers() {\n        return !passengersOnBoard.isEmpty();\n    }\n\n    boolean isFull() {\n        return passengersOnBoard.size() == capacity;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Passenger extends StatusReporter {\n    @Setter(AccessLevel.PACKAGE)\n    private BoatKeeper boatKeeper;\n    private static final short EMBARK_DISEMBARK_TIME = 500;\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    public Passenger(String name) {\n        super(name);\n    }\n\n    @Override\n    public void run() {\n        tryToGetOnBoat();\n        stayOnBoat();\n        disembark();\n    }\n\n    private void tryToGetOnBoat() {\n        setAndReportStatus(PassengerStatus.GOING_TO_EMBARK);\n        try {\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        lock.lock();\n        boatKeeper.getBoat().addPassenger(this);\n        boatKeeper.getPassengersToFerry().remove(this);\n        setAndReportStatus(PassengerStatus.EMBARKED_THE_BOAT);\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    private void stayOnBoat() {\n        try {\n            lock.lock();\n            while (!boatKeeper.isRowing()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        setAndReportStatus(PassengerStatus.CROSSING_THE_RIVER);\n    }\n\n    private void disembark() {\n        try {\n            lock.lock();\n            while (!boatKeeper.isDisembarking()) {\n                condition.await();\n            }\n            lock.unlock();\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\n            boatKeeper.getBoat().removePassenger(this);\n            lock.lock();\n            condition.signalAll();\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        setAndReportStatus(PassengerStatus.ON_THE_OTHER_BANK);\n    }\n\n    @RequiredArgsConstructor\n    enum PassengerStatus implements Status {\n        GOING_TO_EMBARK(&quot;going to embark the boat...&quot;),\n        EMBARKED_THE_BOAT(&quot;embarked the boat!&quot;),\n        WAITING_FOR_OTHER_PASSENGERS(&quot;waiting for other passengers to join...&quot;),\n        CROSSING_THE_RIVER(&quot;crossing the river...&quot;),\n        ON_THE_OTHER_BANK(&quot;on the other bank!&quot;);\n\n        private final String description;\n\n        @Override\n        public String description() {\n            return description;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BoatKeeper extends StatusReporter {\n    @Getter(AccessLevel.PACKAGE)\n    private final Boat boat;\n    private int timeToCrossRiver;\n    @Getter(AccessLevel.PACKAGE)\n    private final List&lt;Passenger&gt; passengersToFerry = new ArrayList&lt;&gt;();\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    public BoatKeeper(Boat boat) {\n        super(&quot;Boat keeper&quot;);\n        this.boat = boat;\n    }\n\n    @Override\n    public void run() {\n        performFerrying();\n    }\n\n    public BoatKeeper ferry(Passenger... passengers) {\n        Collections.addAll(passengersToFerry, passengers);\n        return this;\n    }\n\n    public void acrossRiver(River river) {\n        timeToCrossRiver = river.width() / boat.getSpeed();\n        start();\n    }\n\n    private void performFerrying() {\n        invitePassengersToEmbark();\n        while (hasFerryingToDo()) {\n            waitTillBoatReadyToGo();\n            crossRiver();\n            disembarkPassengers();\n            rowBack();\n        }\n        setAndReportStatus(BoatKeeperStatus.DONE);\n    }\n\n    private void invitePassengersToEmbark() {\n        passengersToFerry.forEach(p -&gt; {\n            p.setBoatKeeper(this);\n            p.start();\n        });\n    }\n\n    private void waitTillBoatReadyToGo() {\n        if (!isBoardingComplete()) {\n            setAndReportStatus(BoatKeeperStatus.WAITING_FOR_PASSENGERS_TO_EMBARK);\n        }\n        try {\n            lock.lock();\n            while (!isBoardingComplete()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void crossRiver() {\n        setAndReportStatus(BoatKeeperStatus.FERRYING_PASSENGERS);\n        lock.lock();\n        condition.signalAll();\n        lock.unlock();\n        try {\n            Thread.sleep(timeToCrossRiver);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void disembarkPassengers() {\n        setAndReportStatus(BoatKeeperStatus.DISEMBARKING_PASSENGERS);\n        lock.lock();\n        condition.signalAll();\n        try {\n            while (boat.hasPassengers()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void rowBack() {\n        setAndReportStatus(BoatKeeperStatus.RETURNING);\n        try {\n            Thread.sleep(timeToCrossRiver);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        lock.lock();\n        /*\n        doesn't matter if the boat keeper releases more permits than \n        the number of passengers it ferried: if it's less than the boat's\n        max capacity, then it was the last trip anyway\n        */\n        boat.getSemaphore().release(boat.getCapacity());\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    private boolean hasFerryingToDo() {\n        return !passengersToFerry.isEmpty() || boat.hasPassengers();\n    }\n\n    private boolean isBoardingComplete() {\n        return boat.isFull() ||\n                (boat.hasPassengers() &amp;&amp; passengersToFerry.isEmpty());\n    }\n\n    boolean isRowing() {\n        return status == BoatKeeperStatus.FERRYING_PASSENGERS;\n    }\n\n    boolean isDisembarking() {\n        return status == BoatKeeperStatus.DISEMBARKING_PASSENGERS;\n    }\n\n    @RequiredArgsConstructor\n    enum BoatKeeperStatus implements Status {\n        WAITING_FOR_PASSENGERS_TO_EMBARK(&quot;waiting for passengers to embark...&quot;),\n        FERRYING_PASSENGERS(&quot;ferrying passengers across the river...&quot;),\n        DISEMBARKING_PASSENGERS(&quot;disembarking passengers...&quot;),\n        RETURNING(&quot;returning...&quot;),\n        DONE(&quot;all passengers are ferried!&quot;);\n        private final String description;\n\n        @Override\n        public String description() {\n            return description;\n        }\n    }\n}\n</code></pre>\n<p>Client code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        River river = new River((short) 2800);\n        Boat tinyBoat = Boat.withCapacity((byte) 2).andSpeed((byte) 10);\n        BoatKeeper boatKeeper = new BoatKeeper(tinyBoat);\n        Passenger[] passengers = {\n                new Passenger(&quot;Frank&quot;), new Passenger(&quot;Liz&quot;), new Passenger(&quot;Gabriel&quot;)\n        };\n        boatKeeper.ferry(passengers).acrossRiver(river);\n    }\n}\n</code></pre>\n<p>Behavior varies. Whether you run it with or without the IntelliJ IDEA debugger seems to have some effect, but it's not a fail-proof predictor either</p>\n<p><strong>Scenario #1: Ghost passenger</strong> (typical without the debugger, unless it's attached after the freeze)</p>\n<p>The passenger threads disembark and finish, but the boat still has one <code>null</code> element making the boat keeper wait indefinitely and not row back.</p>\n<pre><code>Boat keeper: waiting for passengers to embark...\nFrank: going to embark the boat...\nLiz: going to embark the boat...\nGabriel: going to embark the boat...\nFrank: embarked the boat!\nLiz: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nLiz: crossing the river...\nFrank: crossing the river...\nBoat keeper: disembarking passengers...\nLiz: on the other bank!\nFrank: on the other bank!\n\n// freezes!\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NFb9y.png\" rel=\"nofollow noreferrer\">screenshot showing that there's some null passenger on the boat</a></p>\n<p><strong>Scenario #2: Everything is fine</strong> (typically with the debugger, rarely without)</p>\n<p>No issues observed</p>\n<pre><code>Gabriel: going to embark the boat...\nLiz: going to embark the boat...\nFrank: going to embark the boat...\nBoat keeper: waiting for passengers to embark...\nFrank: embarked the boat!\nLiz: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nFrank: crossing the river...\nLiz: crossing the river...\nBoat keeper: disembarking passengers...\nFrank: on the other bank!\nLiz: on the other bank!\nBoat keeper: returning...\nGabriel: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nGabriel: crossing the river...\nBoat keeper: disembarking passengers...\nGabriel: on the other bank!\nBoat keeper: returning...\nBoat keeper: all passengers are ferried!\n\nProcess finished with exit code 0\n</code></pre>\n<p>Since I can't reproduce the issue while debugging the program, I'm completely at a loss. <strong>Why do those freezes happen? How do I fix it so that I get the second scenario all the time?</strong></p>\n<p>I debugged thoroughly, spent a lot of hours trying to pinpoint the issue. I don't see any other choice but to ask for your help</p>\n"},{"tags":["java","spring-boot","apache-kafka","confluent-platform","kafka-cluster"],"answers":[{"tags":[],"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592462912,"creation_date":1592462597,"answer_id":62443889,"question_id":62443782,"body_markdown":"You don&#39;t actually create topics in one specific node in a Kakfa cluster.  When you issue a request to create a topic, the partitions will automatically be spread out across all nodes belonging to the cluster, and the replicas will also be spread out.  That is how Kafka handles high-availability.  If one of the nodes is down, some other node has all the required data, so there is no downtime or impact to users of the cluster.\r\n\r\nYou can issue a `--describe` command like this:\r\n\r\n    &gt; bin/kafka-topics.sh --describe --bootstrap-server localhost:9092 --topic my-replicated-topic\r\n\r\n        Topic:my-replicated-topic   PartitionCount:1    ReplicationFactor:3 Configs:\r\n            Topic: my-replicated-topic  Partition: 0    Leader: 1   Replicas: 1,2,0 Isr: 1,2,0\r\n\r\nThat will give you a list of the partitions for your topic, where are they located, which node is the leader for that partition (the one consumers are told to consume from when they need data from that partition), and some more info like the In-Sync Replica status, or ISR, and the replication factor.\r\n\r\nThere&#39;s more info at the official Kafka docs [here][1] and [here][2].\r\n\r\nBear in mind that when your client connects to the `bootstrap-server` it is not specifying a complete list of brokers *from which to read data*. It&#39;s just specifying one (or more) brokers from which to pull *information about the cluster*. When the client reads/writes from a given topic and partition that is done directly to the relevant broker that holds that data (_regardless_ of the particular brokers specified in the bootstrap). You can see more about this process [here][3] and [here][4].\r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/#quickstart_multibroker\r\n  [2]: http://kafka.apache.org/documentation/#replication\r\n  [3]: https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc\r\n  [4]: http://kafka.apache.org/documentation/#bootstrap.servers","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>You don't actually create topics in one specific node in a Kakfa cluster.  When you issue a request to create a topic, the partitions will automatically be spread out across all nodes belonging to the cluster, and the replicas will also be spread out.  That is how Kafka handles high-availability.  If one of the nodes is down, some other node has all the required data, so there is no downtime or impact to users of the cluster.</p>\n\n<p>You can issue a <code>--describe</code> command like this:</p>\n\n<pre><code>&gt; bin/kafka-topics.sh --describe --bootstrap-server localhost:9092 --topic my-replicated-topic\n\n    Topic:my-replicated-topic   PartitionCount:1    ReplicationFactor:3 Configs:\n        Topic: my-replicated-topic  Partition: 0    Leader: 1   Replicas: 1,2,0 Isr: 1,2,0\n</code></pre>\n\n<p>That will give you a list of the partitions for your topic, where are they located, which node is the leader for that partition (the one consumers are told to consume from when they need data from that partition), and some more info like the In-Sync Replica status, or ISR, and the replication factor.</p>\n\n<p>There's more info at the official Kafka docs <a href=\"https://kafka.apache.org/documentation/#quickstart_multibroker\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://kafka.apache.org/documentation/#replication\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Bear in mind that when your client connects to the <code>bootstrap-server</code> it is not specifying a complete list of brokers <em>from which to read data</em>. It's just specifying one (or more) brokers from which to pull <em>information about the cluster</em>. When the client reads/writes from a given topic and partition that is done directly to the relevant broker that holds that data (<em>regardless</em> of the particular brokers specified in the bootstrap). You can see more about this process <a href=\"https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://kafka.apache.org/documentation/#bootstrap.servers\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5495279,"reputation":31,"user_id":4366627,"display_name":"si889"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592494706,"creation_date":1592494706,"answer_id":62453801,"question_id":62443782,"body_markdown":"Like the other answer said, a topic is not owned by or created for a particular node, it is created for the cluster altogether. \r\nWhenever a topic is created, the partitions are divided among the cluster nodes. Each partition has a leader node and replica nodes. Producers write to the leader node and Kafka internally replicates the data on the replica nodes. Consumers consume data of a partition from its leader node.  \r\n\r\nFor a better understanding/visualisation of topic partition distribution in Kafka, you can use tools like [Kafdrop](https://github.com/obsidiandynamics/kafdrop)\r\nYou can follow the steps in readme section of the repo for setup. \r\nYou can download the latest binary from [here](https://dl.bintray.com/obsidiandynamics/kafdrop/com/obsidiandynamics/kafdrop/kafdrop/).\r\nIn the UI, you can see the leader and replica nodes for each partition of a topic.\r\n\r\nThe setup is pretty straightforward and I personally find the tool VERY useful! ","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>Like the other answer said, a topic is not owned by or created for a particular node, it is created for the cluster altogether. \nWhenever a topic is created, the partitions are divided among the cluster nodes. Each partition has a leader node and replica nodes. Producers write to the leader node and Kafka internally replicates the data on the replica nodes. Consumers consume data of a partition from its leader node.  </p>\n\n<p>For a better understanding/visualisation of topic partition distribution in Kafka, you can use tools like <a href=\"https://github.com/obsidiandynamics/kafdrop\" rel=\"nofollow noreferrer\">Kafdrop</a>\nYou can follow the steps in readme section of the repo for setup. \nYou can download the latest binary from <a href=\"https://dl.bintray.com/obsidiandynamics/kafdrop/com/obsidiandynamics/kafdrop/kafdrop/\" rel=\"nofollow noreferrer\">here</a>.\nIn the UI, you can see the leader and replica nodes for each partition of a topic.</p>\n\n<p>The setup is pretty straightforward and I personally find the tool VERY useful! </p>\n"},{"tags":[],"owner":{"account_id":3420602,"reputation":39,"user_id":2868368,"display_name":"Michael Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688675474,"creation_date":1688675474,"answer_id":76632361,"question_id":62443782,"body_markdown":"So a Kafka topic is a logic concept, not a physical unit.","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>So a Kafka topic is a logic concept, not a physical unit.</p>\n"}],"owner":{"account_id":10694195,"reputation":338,"user_id":7871999,"display_name":"Ananya Antony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62443889,"answer_count":3,"score":2,"last_activity_date":1688675474,"creation_date":1592462183,"question_id":62443782,"body_markdown":"My application has a list of kafka cluster nodes specified in the spring.kafka.bootstrap-servers property and listens to topics on all these nodes.\r\n\r\nIf I were to create a topic on one of these nodes, with lets say 5 partitions, will these partitions be spread across these multiple nodes or will they be created on a single node? Also, how can I find out which node a topic partition actually exists on?","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>My application has a list of kafka cluster nodes specified in the spring.kafka.bootstrap-servers property and listens to topics on all these nodes.</p>\n\n<p>If I were to create a topic on one of these nodes, with lets say 5 partitions, will these partitions be spread across these multiple nodes or will they be created on a single node? Also, how can I find out which node a topic partition actually exists on?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":1045541,"reputation":20122,"user_id":1050619,"accept_rate":50,"display_name":"user1050619"},"score":0,"creation_date":1424871841,"post_id":28720562,"comment_id":45727931,"body_markdown":"I tried it but get a error.. Given the error in the above post","body":"I tried it but get a error.. Given the error in the above post"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1424872279,"post_id":28720562,"comment_id":45728214,"body_markdown":"What is the database type of column `emp_dept#id`?","body":"What is the database type of column <code>emp_dept#id</code>?"},{"owner":{"account_id":1045541,"reputation":20122,"user_id":1050619,"accept_rate":50,"display_name":"user1050619"},"score":0,"creation_date":1424872324,"post_id":28720562,"comment_id":45728234,"body_markdown":"I changed the column type to  `ID` int(11) NOT NULL **AUTO_INCREMENT**, ie; added AUTO_INCREMENT and it started working...Thanks","body":"I changed the column type to  <code>ID</code> int(11) NOT NULL <b>AUTO_INCREMENT</b>, ie; added AUTO_INCREMENT and it started working...Thanks"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1424872473,"post_id":28720562,"comment_id":45728353,"body_markdown":"That&#39;s why I asked you, `AUTO_INCREMENT` should already be there if you let Hibernate generate the tables automatically. You&#39;re welcome, glad you got it working.","body":"That&#39;s why I asked you, <code>AUTO_INCREMENT</code> should already be there if you let Hibernate generate the tables automatically. You&#39;re welcome, glad you got it working."},{"owner":{"account_id":1045541,"reputation":20122,"user_id":1050619,"accept_rate":50,"display_name":"user1050619"},"score":0,"creation_date":1424872492,"post_id":28720562,"comment_id":45728361,"body_markdown":"One more question..Do I need to explicitly set the department object d1.setEmp1000(e1) even though the departments are related to that Employee- e1.setEmpDepts(deptlist);","body":"One more question..Do I need to explicitly set the department object d1.setEmp1000(e1) even though the departments are related to that Employee- e1.setEmpDepts(deptlist);"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1424872602,"post_id":28720562,"comment_id":45728437,"body_markdown":"Yes, you should maintain both sides of a bidirectional relationship.","body":"Yes, you should maintain both sides of a bidirectional relationship."},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1522965074,"post_id":28720562,"comment_id":86375973,"body_markdown":"A note: if all you want to do is cascade the persist operation down to child entities, you should use `CascadeType.PERSIST`. This answer almost leads one to believe that `CascadeType.ALL` is the same as `CascadeType.PERSIST`.","body":"A note: if all you want to do is cascade the persist operation down to child entities, you should use <code>CascadeType.PERSIST</code>. This answer almost leads one to believe that <code>CascadeType.ALL</code> is the same as <code>CascadeType.PERSIST</code>."},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1522965166,"post_id":28720562,"comment_id":86376002,"body_markdown":"That being said, `CascadeType.ALL` is better for many parent-child relationships bc it will propagate all cascading operations (perist, delete, refresh, etc) down to the child entities. More: https://stackoverflow.com/questions/13027214/jpa-manytoone-with-cascadetype-all","body":"That being said, <code>CascadeType.ALL</code> is better for many parent-child relationships bc it will propagate all cascading operations (perist, delete, refresh, etc) down to the child entities. More: <a href=\"https://stackoverflow.com/questions/13027214/jpa-manytoone-with-cascadetype-all\" title=\"jpa manytoone with cascadetype all\">stackoverflow.com/questions/13027214/&hellip;</a>"}],"tags":[],"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"comment_count":8,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1424871762,"creation_date":1424871762,"answer_id":28720562,"question_id":28720498,"body_markdown":"You need to cascade the persist operation down to child entities. Change `empDept` mapping to \r\n\r\n    @OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)","title":"Hibernate child object not saving","body":"<p>You need to cascade the persist operation down to child entities. Change <code>empDept</code> mapping to </p>\n\n<pre><code>@OneToMany(mappedBy=\"emp1000\", cascade = CascadeType.ALL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997008,"reputation":19,"user_id":7394282,"display_name":"sandhya nayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688673474,"creation_date":1488523080,"answer_id":42572242,"question_id":28720498,"body_markdown":"Use this field annotation:\r\n\r\n    @Cascade({org.hibernate.annotations.CascadeType.ALL}) \r\n\r\nInstead of using `javax.persistence.CascadeType.ALL` because there is an issue if you use both Hibernate and JPA together.","title":"Hibernate child object not saving","body":"<p>Use this field annotation:</p>\n<pre><code>@Cascade({org.hibernate.annotations.CascadeType.ALL}) \n</code></pre>\n<p>Instead of using <code>javax.persistence.CascadeType.ALL</code> because there is an issue if you use both Hibernate and JPA together.</p>\n"}],"owner":{"account_id":1045541,"reputation":20122,"user_id":1050619,"accept_rate":50,"display_name":"user1050619"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9607,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28720562,"answer_count":2,"score":4,"last_activity_date":1688673474,"creation_date":1424871575,"question_id":28720498,"body_markdown":"I have a Employee and Employee Dept table. One employee can have multiple departments.\r\n\r\nI have defined the tables in MySQL and generated the entities using JPA.\r\n\r\n    package model;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * The persistent class for the emp1000 database table.\r\n     * \r\n     */\r\n    @Entity\r\n    @NamedQuery(name=&quot;Emp1000.findAll&quot;, query=&quot;SELECT e FROM Emp1000 e&quot;)\r\n    public class Emp1000 implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \r\n    \tprivate String firstName;\r\n    \r\n    \tprivate String lastName;\r\n    \r\n    \t//bi-directional many-to-one association to EmpDept\r\n    \t@OneToMany(mappedBy=&quot;emp1000&quot;)\r\n    \tprivate List&lt;EmpDept&gt; empDepts;\r\n    \r\n    \tpublic Emp1000() {\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn this.firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn this.lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic List&lt;EmpDept&gt; getEmpDepts() {\r\n    \t\treturn this.empDepts;\r\n    \t}\r\n    \r\n    \tpublic void setEmpDepts(List&lt;EmpDept&gt; empDepts) {\r\n    \t\tthis.empDepts = empDepts;\r\n    \t}\r\n    \r\n    \tpublic EmpDept addEmpDept(EmpDept empDept) {\r\n    \t\tgetEmpDepts().add(empDept);\r\n    \t\tempDept.setEmp1000(this);\r\n    \r\n    \t\treturn empDept;\r\n    \t}\r\n    \r\n    \tpublic EmpDept removeEmpDept(EmpDept empDept) {\r\n    \t\tgetEmpDepts().remove(empDept);\r\n    \t\tempDept.setEmp1000(null);\r\n    \r\n    \t\treturn empDept;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;emp_dept&quot;)\r\n    @NamedQuery(name=&quot;EmpDept.findAll&quot;, query=&quot;SELECT e FROM EmpDept e&quot;)\r\n    public class EmpDept implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(name=&quot;emp_dept&quot;)\r\n    \tprivate String empDept;\r\n    \r\n    \t//bi-directional many-to-one association to Emp1000\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;emp_id&quot;)\r\n    \tprivate Emp1000 emp1000;\r\n    \r\n    \tpublic EmpDept() {\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmpDept() {\r\n    \t\treturn this.empDept;\r\n    \t}\r\n    \r\n    \tpublic void setEmpDept(String empDept) {\r\n    \t\tthis.empDept = empDept;\r\n    \t}\r\n    \r\n    \tpublic Emp1000 getEmp1000() {\r\n    \t\treturn this.emp1000;\r\n    \t}\r\n    \r\n    \tpublic void setEmp1000(Emp1000 emp1000) {\r\n    \t\tthis.emp1000 = emp1000;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nWhen I try to generate to create a Employee object and associated dept objects and save it to database, the child table never gets saved.\r\n\r\n\r\n\r\n    public class StoreData {\r\n    \tpublic static void main(String[] args) {\r\n    \t    Session session=new AnnotationConfiguration()  \r\n            .configure().buildSessionFactory().openSession();  \r\n    \t      \r\n    \t    //creating transaction object  \r\n    \t    Transaction t=session.beginTransaction();  \r\n    \t    \r\n    \t    \r\n    \t    Emp1000 e1 = new Emp1000();\r\n    \t    e1.setFirstName(&quot;Prem&quot;);\r\n    \t    e1.setLastName(&quot;Anand&quot;);\r\n    \t    \r\n    \t    EmpDept d1 = new EmpDept();\r\n    \t    d1.setEmpDept(&quot;Maths&quot;);\r\n    \t    d1.setEmp1000(e1);\r\n    \t    \r\n    \t    EmpDept d2 = new EmpDept();\r\n    \t    d1.setEmpDept(&quot;Science&quot;);\r\n    \t    d1.setEmp1000(e1);\r\n    \t    \r\n    \t    ArrayList&lt;EmpDept&gt; deptlist = new ArrayList();\r\n    \t    deptlist.add(d1);\r\n    \t    deptlist.add(d2);\r\n    \t    \r\n    \t    \r\n    \t    e1.setEmpDepts(deptlist);\r\n    \t    \r\n    \t    //session.saveOrUpdate(e1);\r\n    \t    \r\n    \t    session.persist(e1);//persisting the object  \r\n    \t    \r\n    \t      \r\n    \t    t.commit();//transaction is committed  \r\n    \t    \r\n    \t    session.close();  \r\n    \t      \r\n    \t    System.out.println(&quot;successfully saved&quot;);  \r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \t}\r\n\r\nThe Employee object is created in the table but not the Employee dept objects. What settings do I need to change?\r\n\r\nI get a new error after adding `@OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)`:\r\n\r\n    Feb 25, 2015 8:43:43 AM org.hibernate.util.JDBCExceptionReporter logExceptions\r\n    SEVERE: Field &#39;id&#39; doesn&#39;t have a default value\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not insert: [model.EmpDept]\r\n    \tat org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)","title":"Hibernate child object not saving","body":"<p>I have a Employee and Employee Dept table. One employee can have multiple departments.</p>\n<p>I have defined the tables in MySQL and generated the entities using JPA.</p>\n<pre><code>package model;\n\nimport java.io.Serializable;\nimport javax.persistence.*;\nimport java.util.List;\n\n/**\n * The persistent class for the emp1000 database table.\n * \n */\n@Entity\n@NamedQuery(name=&quot;Emp1000.findAll&quot;, query=&quot;SELECT e FROM Emp1000 e&quot;)\npublic class Emp1000 implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    private String firstName;\n\n    private String lastName;\n\n    //bi-directional many-to-one association to EmpDept\n    @OneToMany(mappedBy=&quot;emp1000&quot;)\n    private List&lt;EmpDept&gt; empDepts;\n\n    public Emp1000() {\n    }\n\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return this.firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return this.lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public List&lt;EmpDept&gt; getEmpDepts() {\n        return this.empDepts;\n    }\n\n    public void setEmpDepts(List&lt;EmpDept&gt; empDepts) {\n        this.empDepts = empDepts;\n    }\n\n    public EmpDept addEmpDept(EmpDept empDept) {\n        getEmpDepts().add(empDept);\n        empDept.setEmp1000(this);\n\n        return empDept;\n    }\n\n    public EmpDept removeEmpDept(EmpDept empDept) {\n        getEmpDepts().remove(empDept);\n        empDept.setEmp1000(null);\n\n        return empDept;\n    }\n\n}\n\n\n\n@Entity\n@Table(name=&quot;emp_dept&quot;)\n@NamedQuery(name=&quot;EmpDept.findAll&quot;, query=&quot;SELECT e FROM EmpDept e&quot;)\npublic class EmpDept implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name=&quot;emp_dept&quot;)\n    private String empDept;\n\n    //bi-directional many-to-one association to Emp1000\n    @ManyToOne\n    @JoinColumn(name=&quot;emp_id&quot;)\n    private Emp1000 emp1000;\n\n    public EmpDept() {\n    }\n\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmpDept() {\n        return this.empDept;\n    }\n\n    public void setEmpDept(String empDept) {\n        this.empDept = empDept;\n    }\n\n    public Emp1000 getEmp1000() {\n        return this.emp1000;\n    }\n\n    public void setEmp1000(Emp1000 emp1000) {\n        this.emp1000 = emp1000;\n    }\n\n}\n</code></pre>\n<p>When I try to generate to create a Employee object and associated dept objects and save it to database, the child table never gets saved.</p>\n<pre><code>public class StoreData {\n    public static void main(String[] args) {\n        Session session=new AnnotationConfiguration()  \n        .configure().buildSessionFactory().openSession();  \n          \n        //creating transaction object  \n        Transaction t=session.beginTransaction();  \n        \n        \n        Emp1000 e1 = new Emp1000();\n        e1.setFirstName(&quot;Prem&quot;);\n        e1.setLastName(&quot;Anand&quot;);\n        \n        EmpDept d1 = new EmpDept();\n        d1.setEmpDept(&quot;Maths&quot;);\n        d1.setEmp1000(e1);\n        \n        EmpDept d2 = new EmpDept();\n        d1.setEmpDept(&quot;Science&quot;);\n        d1.setEmp1000(e1);\n        \n        ArrayList&lt;EmpDept&gt; deptlist = new ArrayList();\n        deptlist.add(d1);\n        deptlist.add(d2);\n        \n        \n        e1.setEmpDepts(deptlist);\n        \n        //session.saveOrUpdate(e1);\n        \n        session.persist(e1);//persisting the object  \n        \n          \n        t.commit();//transaction is committed  \n        \n        session.close();  \n          \n        System.out.println(&quot;successfully saved&quot;);  \n        \n\n    }\n\n    }\n</code></pre>\n<p>The Employee object is created in the table but not the Employee dept objects. What settings do I need to change?</p>\n<p>I get a new error after adding <code>@OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)</code>:</p>\n<pre><code>Feb 25, 2015 8:43:43 AM org.hibernate.util.JDBCExceptionReporter logExceptions\nSEVERE: Field 'id' doesn't have a default value\nException in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not insert: [model.EmpDept]\n    at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\n</code></pre>\n"},{"tags":["java","jakarta-ee","jndi"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":0,"creation_date":1254835014,"post_id":1525385,"comment_id":1380623,"body_markdown":"If you are new to J2EE check the JNDI section on http://java.sun.com/docs/books/tutorial/","body":"If you are new to J2EE check the JNDI section on <a href=\"http://java.sun.com/docs/books/tutorial/\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial</a>"},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":0,"creation_date":1369862645,"post_id":1525385,"comment_id":24255323,"body_markdown":"In my has it was a stupid &lt;session-factory name=&quot;&quot;&gt; , see http://stackoverflow.com/questions/6293052/hibernate-javax-naming-noinitialcontextexception-component-mapping-via-annotat","body":"In my has it was a stupid &lt;session-factory name=&quot;&quot;&gt; , see <a href=\"http://stackoverflow.com/questions/6293052/hibernate-javax-naming-noinitialcontextexception-component-mapping-via-annotat\" title=\"hibernate javax naming noinitialcontextexception component mapping via annotat\">stackoverflow.com/questions/6293052/&hellip;</a>"},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":1,"creation_date":1448025887,"post_id":1525385,"comment_id":55420495,"body_markdown":"https://docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1","body":"<a href=\"https://docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1</a>"}],"answers":[{"comments":[{"owner":{"account_id":32896,"reputation":17696,"user_id":91607,"accept_rate":68,"display_name":"Attilah"},"score":0,"creation_date":1254834727,"post_id":1525465,"comment_id":1380591,"body_markdown":"thx for the pointer, how can I solve it ? I&#39;m new to this J2EE stuff.","body":"thx for the pointer, how can I solve it ? I&#39;m new to this J2EE stuff."},{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":0,"creation_date":1254835392,"post_id":1525465,"comment_id":1380669,"body_markdown":"Is not a question for a quick answer. Depends on your application server stuff. I suggest you check the documentation for the app server you are using and try to run a Hello World EJB app on your plataform to get deeper understanding of the topic.","body":"Is not a question for a quick answer. Depends on your application server stuff. I suggest you check the documentation for the app server you are using and try to run a Hello World EJB app on your plataform to get deeper understanding of the topic."}],"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1552399295,"creation_date":1254834408,"answer_id":1525465,"question_id":1525385,"body_markdown":"Is a JNDI problem. You will see that exception if the `InitialContext` class has neither default properties for the JNDI service provider nor explicitly configured server properties.\r\n\r\nSet the `Context.INITIAL_CONTEXT_FACTORY` environment property to the class name of the initial context implementation that you are using. This class must be available to your program in the classpath.\r\n\r\nCheck:\r\n\r\n* [http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html][1]\r\n\r\n* [http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html][2]  (runtime problems)\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\r\n  [2]: http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html","title":"The meaning of NoInitialContextException error","body":"<p>Is a JNDI problem. You will see that exception if the <code>InitialContext</code> class has neither default properties for the JNDI service provider nor explicitly configured server properties.</p>\n\n<p>Set the <code>Context.INITIAL_CONTEXT_FACTORY</code> environment property to the class name of the initial context implementation that you are using. This class must be available to your program in the classpath.</p>\n\n<p>Check:</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html</a></p></li>\n<li><p><a href=\"http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html\" rel=\"nofollow noreferrer\">http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html</a>  (runtime problems)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1552399806,"creation_date":1262276994,"answer_id":1986022,"question_id":1525385,"body_markdown":"you need to put the following name/value pairs into a hash table and call this constructor:\r\n\r\n    public InitialContext(Hashtable&lt;?,?&gt; environment)\r\n\r\nthe exact values depend on your application server, this example is for jboss\r\n\r\n    jndi.java.naming.provider.url=jnp://localhost:1099/\r\n    jndi.java.naming.factory.url=org.jboss.naming:org.jnp.interfaces\r\n    jndi.java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory","title":"The meaning of NoInitialContextException error","body":"<p>you need to put the following name/value pairs into a hash table and call this constructor:</p>\n\n<pre><code>public InitialContext(Hashtable&lt;?,?&gt; environment)\n</code></pre>\n\n<p>the exact values depend on your application server, this example is for jboss</p>\n\n<pre><code>jndi.java.naming.provider.url=jnp://localhost:1099/\njndi.java.naming.factory.url=org.jboss.naming:org.jnp.interfaces\njndi.java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1262367219,"creation_date":1262367219,"answer_id":1989115,"question_id":1525385,"body_markdown":"The `javax.naming` package comprises the JNDI API. Since it&#39;s just an API, rather than an implementation, you need to tell it which implementation of JNDI to use. The implementations are typically specific to the server you&#39;re trying to talk to.\r\n\r\nTo specify an implementation, you pass in a `Properties` object when you construct the `InitialContext`. These properties specify the implementation to use, as well as the location of the server. The default `InitialContext` constructor is only useful when there are system properties present, but the properties are the same as if you passed them in manually.\r\n\r\nAs to which properties you need to set, that depends on your server. You need to hunt those settings down and plug them in.","title":"The meaning of NoInitialContextException error","body":"<p>The <code>javax.naming</code> package comprises the JNDI API. Since it's just an API, rather than an implementation, you need to tell it which implementation of JNDI to use. The implementations are typically specific to the server you're trying to talk to.</p>\n\n<p>To specify an implementation, you pass in a <code>Properties</code> object when you construct the <code>InitialContext</code>. These properties specify the implementation to use, as well as the location of the server. The default <code>InitialContext</code> constructor is only useful when there are system properties present, but the properties are the same as if you passed them in manually.</p>\n\n<p>As to which properties you need to set, that depends on your server. You need to hunt those settings down and plug them in.</p>\n"},{"tags":[],"owner":{"account_id":181683,"reputation":442,"user_id":415848,"display_name":"Maarten van Leunen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281540492,"creation_date":1281540492,"answer_id":3460025,"question_id":1525385,"body_markdown":"Most of the time these settings are also defined in a `jndi.properties` file. Do you have that one lying around somewhere?\r\n","title":"The meaning of NoInitialContextException error","body":"<p>Most of the time these settings are also defined in a <code>jndi.properties</code> file. Do you have that one lying around somewhere?</p>\n"},{"tags":[],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319737645,"creation_date":1319737645,"answer_id":7920105,"question_id":1525385,"body_markdown":"My problem with this one was that I was creating a hibernate session, but had the JNDI settings for my database instance wrong because of a classpath problem. Just FYI...","title":"The meaning of NoInitialContextException error","body":"<p>My problem with this one was that I was creating a hibernate session, but had the JNDI settings for my database instance wrong because of a classpath problem. Just FYI...</p>\n"},{"tags":[],"owner":{"account_id":1752346,"reputation":166,"user_id":1601150,"display_name":"Neocy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375380094,"creation_date":1375380094,"answer_id":18001311,"question_id":1525385,"body_markdown":"make sure dependencies for jetty naming and jetty plus are included (not just provided scope). \r\nThis fixed it for me.","title":"The meaning of NoInitialContextException error","body":"<p>make sure dependencies for jetty naming and jetty plus are included (not just provided scope). \nThis fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":1372640,"reputation":892,"user_id":1307273,"accept_rate":47,"display_name":"nichu09"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1448025702,"creation_date":1384760296,"answer_id":20042444,"question_id":1525385,"body_markdown":"You should set jndi.properties. I&#39;ve given below some piece of code that explain how the properties are set for activemq. Like that you can set for your application. Inside a J2EE container like JBoss no need to set these properties.\r\n\r\n    Properties props = new Properties();\r\n\tprops.setProperty(Context.INITIAL_CONTEXT_FACTORY,&quot;org.apache.activemq.jndi.ActiveMQInitialContextFactory&quot;);\r\n\tprops.setProperty(Context.PROVIDER_URL,&quot;tcp://localhost:61616&quot;);\r\n\tInitialContext ctx = new InitialContext(props);\r\n\t// get the initial context\r\n\t// InitialContext ctx = new InitialContext();\r\n\tQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(&quot;ConnectionFactory&quot;);        \r\n\t// create a queue connection\r\n\tQueueConnection queueConn = connFactory.createQueueConnection();   \r\n\tqueueConn.start();\r\n\t// lookup the queue object\r\n\tQueue queue = (Queue) ctx.lookup(&quot;dynamicQueues/Payment_Check&quot;);  \r\n\r\nI know this is a late answer, but just giving for future reference.","title":"The meaning of NoInitialContextException error","body":"<p>You should set jndi.properties. I've given below some piece of code that explain how the properties are set for activemq. Like that you can set for your application. Inside a J2EE container like JBoss no need to set these properties.</p>\n\n<pre><code>Properties props = new Properties();\nprops.setProperty(Context.INITIAL_CONTEXT_FACTORY,\"org.apache.activemq.jndi.ActiveMQInitialContextFactory\");\nprops.setProperty(Context.PROVIDER_URL,\"tcp://localhost:61616\");\nInitialContext ctx = new InitialContext(props);\n// get the initial context\n// InitialContext ctx = new InitialContext();\nQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(\"ConnectionFactory\");        \n// create a queue connection\nQueueConnection queueConn = connFactory.createQueueConnection();   \nqueueConn.start();\n// lookup the queue object\nQueue queue = (Queue) ctx.lookup(\"dynamicQueues/Payment_Check\");  \n</code></pre>\n\n<p>I know this is a late answer, but just giving for future reference.</p>\n"},{"comments":[{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1556785811,"post_id":23389636,"comment_id":98549524,"body_markdown":"I know this is old but where do i get these jar files","body":"I know this is old but where do i get these jar files"},{"owner":{"account_id":4404758,"reputation":527,"user_id":3589481,"display_name":"Yannickv"},"score":0,"creation_date":1556918193,"post_id":23389636,"comment_id":98604895,"body_markdown":"They should be in the Glassfish installation folder, inside lib.","body":"They should be in the Glassfish installation folder, inside lib."}],"tags":[],"owner":{"account_id":4404758,"reputation":527,"user_id":3589481,"display_name":"Yannickv"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398866110,"creation_date":1398864977,"answer_id":23389636,"question_id":1525385,"body_markdown":"I solved the same problem by adding the following Jar libraries to my project:\r\n\r\n - appserv-rt.jar\r\n - javaee.jar\r\n\r\nfrom the folder : `C:\\Program Files\\glassfish-4.0\\glassfish\\lib`\r\n\r\nThe links to these libraries were broken and Netbeans didn&#39;t found the right classes to use.","title":"The meaning of NoInitialContextException error","body":"<p>I solved the same problem by adding the following Jar libraries to my project:</p>\n\n<ul>\n<li>appserv-rt.jar</li>\n<li>javaee.jar</li>\n</ul>\n\n<p>from the folder : <code>C:\\Program Files\\glassfish-4.0\\glassfish\\lib</code></p>\n\n<p>The links to these libraries were broken and Netbeans didn't found the right classes to use.</p>\n"},{"tags":[],"owner":{"account_id":3741904,"reputation":2009,"user_id":3128652,"display_name":"Vaibhav Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439287588,"creation_date":1439287588,"answer_id":31938848,"question_id":1525385,"body_markdown":"Easy &amp; configurable solution is create one jndi.properties file and put this file in classpath.\r\njndi.properties can be created as\r\n\r\n    java.naming.factory.initial = org.apache.activemq.jndi.ActiveMQInitialContextFactory\r\n     \r\n    # use the following property to configure the default connector\r\n    java.naming.provider.url = vm://localhost\r\n     \r\n    # use the following property to specify the JNDI name the connection factory\r\n    # should appear as. \r\n    #connectionFactoryNames = connectionFactory, queueConnectionFactory, topicConnectionFactry\r\n     \r\n    # register some queues in JNDI using the form\r\n    # queue.[jndiName] = [physicalName]\r\n    queue.MyQueue = example.MyQueue\r\n     \r\n     \r\n    # register some topics in JNDI using the form\r\n    # topic.[jndiName] = [physicalName]\r\n    topic.MyTopic = example.MyTopic\r\n\r\nJust specify your naming factory &amp; url and put this file in your classpath. JMS will fetch required info by itself and it&#39;s easily configurable in future also.","title":"The meaning of NoInitialContextException error","body":"<p>Easy &amp; configurable solution is create one jndi.properties file and put this file in classpath.\njndi.properties can be created as</p>\n\n<pre><code>java.naming.factory.initial = org.apache.activemq.jndi.ActiveMQInitialContextFactory\n\n# use the following property to configure the default connector\njava.naming.provider.url = vm://localhost\n\n# use the following property to specify the JNDI name the connection factory\n# should appear as. \n#connectionFactoryNames = connectionFactory, queueConnectionFactory, topicConnectionFactry\n\n# register some queues in JNDI using the form\n# queue.[jndiName] = [physicalName]\nqueue.MyQueue = example.MyQueue\n\n\n# register some topics in JNDI using the form\n# topic.[jndiName] = [physicalName]\ntopic.MyTopic = example.MyTopic\n</code></pre>\n\n<p>Just specify your naming factory &amp; url and put this file in your classpath. JMS will fetch required info by itself and it's easily configurable in future also.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448366600,"creation_date":1442242881,"answer_id":32568038,"question_id":1525385,"body_markdown":"Do this:\r\n\r\n    Properties props = new Properties();\r\n    props.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.enterprise.naming.SerialInitContextFactory&quot;);\r\n    Context initialContext = new InitialContext(props);\r\n\r\nAlso add this to the libraries of the project:\r\n\r\n`C:\\installs\\glassfish\\glassfish-4.1\\glassfish\\lib\\gf-client.jar`\r\nadjust path accordingly","title":"The meaning of NoInitialContextException error","body":"<p>Do this:</p>\n\n<pre><code>Properties props = new Properties();\nprops.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.enterprise.naming.SerialInitContextFactory\");\nContext initialContext = new InitialContext(props);\n</code></pre>\n\n<p>Also add this to the libraries of the project:</p>\n\n<p><code>C:\\installs\\glassfish\\glassfish-4.1\\glassfish\\lib\\gf-client.jar</code>\nadjust path accordingly</p>\n"},{"comments":[{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":1,"creation_date":1566484904,"post_id":37041131,"comment_id":101678982,"body_markdown":"In spring boot 2 the package org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedServletWebServerFactory has been replaced by org.springframework.boot.web.embedded.tomcat.ConfigurableTomcatWebServerFactory how do i implement with the new interface?","body":"In spring boot 2 the package org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedS&zwnj;&#8203;ervletWebServerFacto&zwnj;&#8203;ry has been replaced by org.springframework.boot.web.embedded.tomcat.ConfigurableTom&zwnj;&#8203;catWebServerFactory how do i implement with the new interface?"},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":0,"creation_date":1566523205,"post_id":37041131,"comment_id":101692082,"body_markdown":"@AdinduStevens - no idea. I provided this solution 3 years ago, and haven&#39;t touched Spring since. You&#39;ll have to do your own research.","body":"@AdinduStevens - no idea. I provided this solution 3 years ago, and haven&#39;t touched Spring since. You&#39;ll have to do your own research."},{"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"score":0,"creation_date":1587544301,"post_id":37041131,"comment_id":108549574,"body_markdown":"@Adindu Stevens\nI face the same problem with spring boot 2, did you find any solution for it?","body":"@Adindu Stevens I face the same problem with spring boot 2, did you find any solution for it?"},{"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"score":0,"creation_date":1609843956,"post_id":37041131,"comment_id":115942553,"body_markdown":"@itro try this https://stackoverflow.com/questions/24941829/how-to-create-jndi-context-in-spring-boot-with-embedded-tomcat-container/53457808#53457808","body":"@itro try this <a href=\"https://stackoverflow.com/questions/24941829/how-to-create-jndi-context-in-spring-boot-with-embedded-tomcat-container/53457808#53457808\" title=\"how to create jndi context in spring boot with embedded tomcat container\">stackoverflow.com/questions/24941829/&hellip;</a>"}],"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1462413861,"creation_date":1462413861,"answer_id":37041131,"question_id":1525385,"body_markdown":"Specifically, I got this issue when attempting to retrieve the default (no-args) `InitialContext` within an embedded Tomcat7 instance, in SpringBoot.\r\n\r\nThe solution for me, was to tell Tomcat to `enableNaming`.\r\n\r\ni.e.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public TomcatEmbeddedServletContainerFactory tomcatFactory() {\r\n        return new TomcatEmbeddedServletContainerFactory() {\r\n            @Override\r\n            protected TomcatEmbeddedServletContainer getTomcatEmbeddedServletContainer(\r\n                    Tomcat tomcat) {\r\n                tomcat.enableNaming();\r\n                return super.getTomcatEmbeddedServletContainer(tomcat);\r\n            }\r\n        };\r\n    }","title":"The meaning of NoInitialContextException error","body":"<p>Specifically, I got this issue when attempting to retrieve the default (no-args) <code>InitialContext</code> within an embedded Tomcat7 instance, in SpringBoot.</p>\n\n<p>The solution for me, was to tell Tomcat to <code>enableNaming</code>.</p>\n\n<p>i.e.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic TomcatEmbeddedServletContainerFactory tomcatFactory() {\n    return new TomcatEmbeddedServletContainerFactory() {\n        @Override\n        protected TomcatEmbeddedServletContainer getTomcatEmbeddedServletContainer(\n                Tomcat tomcat) {\n            tomcat.enableNaming();\n            return super.getTomcatEmbeddedServletContainer(tomcat);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8929263,"reputation":4088,"user_id":6662421,"accept_rate":85,"display_name":"Sangram Badi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473246018,"creation_date":1473246018,"answer_id":39368104,"question_id":1525385,"body_markdown":"you need to use jboss-client.jar in your client project and you need to use jnp-client jar in your ejb project","title":"The meaning of NoInitialContextException error","body":"<p>you need to use jboss-client.jar in your client project and you need to use jnp-client jar in your ejb project</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1656396210,"post_id":72781368,"comment_id":128554821,"body_markdown":"If you are unsure about the solution you propose for experiemnt then please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;","body":"If you are unsure about the solution you propose for experiemnt then please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656418289,"post_id":72781368,"comment_id":128562681,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72781368/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25667243,"reputation":1,"user_id":19431995,"display_name":"Kratika Agrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656395787,"creation_date":1656395787,"answer_id":72781368,"question_id":1525385,"body_markdown":"Try adding rmi java modules in you runtime environment :\r\n--add-modules jdk.naming.rmi,java.base","title":"The meaning of NoInitialContextException error","body":"<p>Try adding rmi java modules in you runtime environment :\n--add-modules jdk.naming.rmi,java.base</p>\n"}],"owner":{"account_id":32896,"reputation":17696,"user_id":91607,"accept_rate":68,"display_name":"Attilah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260645,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"answer_count":13,"score":83,"last_activity_date":1688673441,"creation_date":1254833423,"question_id":1525385,"body_markdown":"I am writing a client for my EJB and when trying to execute it, I get the following exception :\r\n\r\n&gt; `javax.naming.NoInitialContextException`: Need to specify class name\r\n&gt; in environment or system property, or as an applet parameter, or in an\r\n&gt; application resource file.\r\n\r\nI just can&#39;t understand what the problem is.","title":"The meaning of NoInitialContextException error","body":"<p>I am writing a client for my EJB and when trying to execute it, I get the following exception :</p>\n\n<blockquote>\n  <p><code>javax.naming.NoInitialContextException</code>: Need to specify class name\n  in environment or system property, or as an applet parameter, or in an\n  application resource file.</p>\n</blockquote>\n\n<p>I just can't understand what the problem is.</p>\n"},{"tags":["java","security","dns","enumeration"],"comments":[{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1688665809,"post_id":76628656,"comment_id":135107860,"body_markdown":"What type of errors did it give?","body":"What type of errors did it give?"}],"owner":{"account_id":19589548,"reputation":3,"user_id":14336877,"display_name":"Amadeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688673440,"creation_date":1688645197,"question_id":76628656,"body_markdown":"How can I find the subdomains of a specific domain without brute force using java.\r\n\r\nI used the WhoisClient in my code but It gave me errors.\r\n\r\n\r\n```java\r\npublic static List&lt;String&gt; enumerateSubdomains(String domain) {\r\n    List&lt;String&gt; subdomains = new ArrayList&lt;&gt;();\r\n\r\n    try {\r\n        WhoisClient whoisClient = new WhoisClient();\r\n        whoisClient.setDefaultTimeout(100000);\r\n        whoisClient.connect(WhoisClient.DEFAULT_HOST);\r\n\r\n        String whoisData = whoisClient.query(&quot;=&quot; + domain);\r\n        whoisClient.disconnect();\r\n\r\n        Pattern pattern = Pattern.compile(&quot;Domain Name: (.+?)\\\\.&quot;);\r\n        Matcher matcher = pattern.matcher(whoisData);\r\n\r\n        while (matcher.find()) {\r\n            subdomains.add(matcher.group(1));\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return subdomains;\r\n}\r\n```\r\n","title":"How Can I find the subdomains of a specific domain or ip address In Java?","body":"<p>How can I find the subdomains of a specific domain without brute force using java.</p>\n<p>I used the WhoisClient in my code but It gave me errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; enumerateSubdomains(String domain) {\n    List&lt;String&gt; subdomains = new ArrayList&lt;&gt;();\n\n    try {\n        WhoisClient whoisClient = new WhoisClient();\n        whoisClient.setDefaultTimeout(100000);\n        whoisClient.connect(WhoisClient.DEFAULT_HOST);\n\n        String whoisData = whoisClient.query(&quot;=&quot; + domain);\n        whoisClient.disconnect();\n\n        Pattern pattern = Pattern.compile(&quot;Domain Name: (.+?)\\\\.&quot;);\n        Matcher matcher = pattern.matcher(whoisData);\n\n        while (matcher.find()) {\n            subdomains.add(matcher.group(1));\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return subdomains;\n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1688633453,"post_id":76626520,"comment_id":135100833,"body_markdown":"Thank you for the useful information. I want to however fire the logic inside Mono.defer() - a web resource GET call, (a) after a fixed delay of 500 ms for every repeat (b) until it returns desirable response for (c) a maximum of 4 repeats.","body":"Thank you for the useful information. I want to however fire the logic inside Mono.defer() - a web resource GET call, (a) after a fixed delay of 500 ms for every repeat (b) until it returns desirable response for (c) a maximum of 4 repeats."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1688634996,"post_id":76626520,"comment_id":135101191,"body_markdown":"I have edited the question to make it more obvious.","body":"I have edited the question to make it more obvious."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1688639913,"post_id":76626520,"comment_id":135102271,"body_markdown":"Ok, I better understand. I think you require `retryWhen`. I&#39;ll try to edit my response when I have some time.","body":"Ok, I better understand. I think you require <code>retryWhen</code>. I&#39;ll try to edit my response when I have some time."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1688905143,"post_id":76626520,"comment_id":135134226,"body_markdown":"Hi Amanin, did you get a chance to check and help me. Once again, the intention is to hit the external api repeatedly after specific interval for max N count until favourable response is received and then just continue on the current thread with other operations.","body":"Hi Amanin, did you get a chance to check and help me. Once again, the intention is to hit the external api repeatedly after specific interval for max N count until favourable response is received and then just continue on the current thread with other operations."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1688973693,"post_id":76626520,"comment_id":135141433,"body_markdown":"@xploreraj I have already edited my respsonse a few days ago. But I haven&#39;t thought of notifying you, sorry. Can you check my answer again ?","body":"@xploreraj I have already edited my respsonse a few days ago. But I haven&#39;t thought of notifying you, sorry. Can you check my answer again ?"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1689058995,"post_id":76626520,"comment_id":135155490,"body_markdown":"Thank you @amanin. I missed seeing your edit. I new retry was working on error signal, but I thought if I could achieve it with repeat, then it will be lesser code. I will try your solution.","body":"Thank you @amanin. I missed seeing your edit. I new retry was working on error signal, but I thought if I could achieve it with repeat, then it will be lesser code. I will try your solution."}],"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688673399,"creation_date":1688629074,"answer_id":76626520,"question_id":76626438,"body_markdown":"`repeat(int n)` runs the flux n number of times. But in your case, you&#39;ve used `repeatWhen` before that, and it produces an infinite flux. That&#39;s why your flux does not ends anymore.\r\n\r\n\r\nIf you want to retry subscription until you receive the right value, you can use [retryWhen](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-) function. It takes a retry configuration as input, to limit the number of retries, specifies delays between retrys, etc. In your case, you can:\r\n\r\n1. Fail the stream if you do not receive the right value\r\n2. Append a *retryWhen* operation to retry subscription.\r\n\r\nLet&#39;s illustrate it with an example:\r\n\r\n```java\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.util.retry.Retry;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\nimport static java.lang.System.nanoTime;\r\n\r\npublic class RetryWhen {\r\n\r\n    /**\r\n     * Emit a decreased value on each subscription\r\n     * @param initial First value to emit\r\n     */\r\n    static Mono&lt;Integer&gt; countdown(int initial) {\r\n        var current = new AtomicInteger(initial);\r\n        var t0 = nanoTime();\r\n        return Mono.fromCallable(() -&gt; current.getAndDecrement())\r\n                .doOnNext(i -&gt; System.out.printf(\r\n                        &quot;Emit %d at %d ms%n&quot;,\r\n                        i, (int)((nanoTime() - t0) * 1e-6)\r\n                ));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var source = countdown(4);\r\n        // raise an error if value is different than one.\r\n        var oneOrError = source.filter(i -&gt; i == 1)\r\n                .switchIfEmpty(Mono.error(new RuntimeException(&quot;bad value&quot;)));\r\n\r\n        // Retry 4 times maximum. Each retry is spaced by ~ 500 ms\r\n        var retried = oneOrError.retryWhen(Retry.fixedDelay(4, Duration.ofMillis(500)));\r\n\r\n        var result = retried.block();\r\n        System.out.println(&quot;Result: &quot;+result);\r\n    }\r\n}\r\n```\r\n\r\nThe above program produces:\r\n\r\n```stdout\r\nEmit 4 at 173 ms\r\nEmit 3 at 696 ms\r\nEmit 2 at 1198 ms\r\nEmit 1 at 1699 ms\r\nResult: 1\r\n```\r\n\r\n*Notes* :\r\n\r\n- in your case, repeatWhen produces an infinite stream, because the function you passed to it never returns an empty publisher. It causes continuous subscription to your original mono (which returns &quot;2&quot;).\r\n- Also, as *repeatWhen* repeat values from the **source/caller**, your `.takeUntil(response -&gt; response.equals(&quot;1&quot;))` statement will never be matched (it will always receive &quot;2&quot;).","title":"Reactor based polling is not terminating","body":"<p><code>repeat(int n)</code> runs the flux n number of times. But in your case, you've used <code>repeatWhen</code> before that, and it produces an infinite flux. That's why your flux does not ends anymore.</p>\n<p>If you want to retry subscription until you receive the right value, you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-\" rel=\"nofollow noreferrer\">retryWhen</a> function. It takes a retry configuration as input, to limit the number of retries, specifies delays between retrys, etc. In your case, you can:</p>\n<ol>\n<li>Fail the stream if you do not receive the right value</li>\n<li>Append a <em>retryWhen</em> operation to retry subscription.</li>\n</ol>\n<p>Let's illustrate it with an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.core.publisher.Mono;\nimport reactor.util.retry.Retry;\n\nimport java.time.Duration;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport static java.lang.System.nanoTime;\n\npublic class RetryWhen {\n\n    /**\n     * Emit a decreased value on each subscription\n     * @param initial First value to emit\n     */\n    static Mono&lt;Integer&gt; countdown(int initial) {\n        var current = new AtomicInteger(initial);\n        var t0 = nanoTime();\n        return Mono.fromCallable(() -&gt; current.getAndDecrement())\n                .doOnNext(i -&gt; System.out.printf(\n                        &quot;Emit %d at %d ms%n&quot;,\n                        i, (int)((nanoTime() - t0) * 1e-6)\n                ));\n    }\n\n    public static void main(String[] args) {\n        var source = countdown(4);\n        // raise an error if value is different than one.\n        var oneOrError = source.filter(i -&gt; i == 1)\n                .switchIfEmpty(Mono.error(new RuntimeException(&quot;bad value&quot;)));\n\n        // Retry 4 times maximum. Each retry is spaced by ~ 500 ms\n        var retried = oneOrError.retryWhen(Retry.fixedDelay(4, Duration.ofMillis(500)));\n\n        var result = retried.block();\n        System.out.println(&quot;Result: &quot;+result);\n    }\n}\n</code></pre>\n<p>The above program produces:</p>\n<pre><code>Emit 4 at 173 ms\nEmit 3 at 696 ms\nEmit 2 at 1198 ms\nEmit 1 at 1699 ms\nResult: 1\n</code></pre>\n<p><em>Notes</em> :</p>\n<ul>\n<li>in your case, repeatWhen produces an infinite stream, because the function you passed to it never returns an empty publisher. It causes continuous subscription to your original mono (which returns &quot;2&quot;).</li>\n<li>Also, as <em>repeatWhen</em> repeat values from the <strong>source/caller</strong>, your <code>.takeUntil(response -&gt; response.equals(&quot;1&quot;))</code> statement will never be matched (it will always receive &quot;2&quot;).</li>\n</ul>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688673399,"creation_date":1688628473,"question_id":76626438,"body_markdown":"Intention is to poll a certain number of times until I receive a particular response. Here is the piece of code I have compiled:\r\n\r\n    Mono.defer(() -&gt; webClient.getResponse())\r\n            // repeat GET call after every 500 ms\r\n            .repeatWhen(repeat -&gt; repeat.delayElements(Duration.ofMillis(500)))\r\n            .repeat(4) // max repeat attempts\r\n            .takeUntil(response -&gt; response.equals(&quot;1&quot;))\r\n            //.retryWhen(Retry.max(3))\r\n            .log()\r\n            .subscribe(response -&gt; {\r\n                System.out.println(&quot;response received: &quot; + response);\r\n            });\r\n\r\nBut, there&#39;s a problem. It is not stopping at all. I was expecting it to run 4 times and exit.\r\n\r\n    12:54:54.527 [parallel-7] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:55.034 [parallel-8] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:55.540 [parallel-9] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:56.045 [parallel-10] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:56.551 [parallel-1] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:57.057 [parallel-2] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:57.563 [parallel-3] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    .......","title":"Reactor based polling is not terminating","body":"<p>Intention is to poll a certain number of times until I receive a particular response. Here is the piece of code I have compiled:</p>\n<pre><code>Mono.defer(() -&gt; webClient.getResponse())\n        // repeat GET call after every 500 ms\n        .repeatWhen(repeat -&gt; repeat.delayElements(Duration.ofMillis(500)))\n        .repeat(4) // max repeat attempts\n        .takeUntil(response -&gt; response.equals(&quot;1&quot;))\n        //.retryWhen(Retry.max(3))\n        .log()\n        .subscribe(response -&gt; {\n            System.out.println(&quot;response received: &quot; + response);\n        });\n</code></pre>\n<p>But, there's a problem. It is not stopping at all. I was expecting it to run 4 times and exit.</p>\n<pre><code>12:54:54.527 [parallel-7] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:55.034 [parallel-8] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:55.540 [parallel-9] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:56.045 [parallel-10] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:56.551 [parallel-1] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:57.057 [parallel-2] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:57.563 [parallel-3] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n.......\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688625025,"post_id":76626013,"comment_id":135099120,"body_markdown":"Remove `@EnableWebMvc` (this disables large parts of the auto-configuration of SPring Boot) and your controller needs either a `@RestController` instead of `@Controller` or `@ResponseBody` on the methods as you aren&#39;t returning a model/view.","body":"Remove <code>@EnableWebMvc</code> (this disables large parts of the auto-configuration of SPring Boot) and your controller needs either a <code>@RestController</code> instead of <code>@Controller</code> or <code>@ResponseBody</code> on the methods as you aren&#39;t returning a model/view."},{"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"score":0,"creation_date":1688631576,"post_id":76626013,"comment_id":135100405,"body_markdown":"@M.Deinum, Sir, I did as you suggested, still it is not working as I say after enabling `server.servlet.contextPath=/my-service`.","body":"@M.Deinum, Sir, I did as you suggested, still it is not working as I say after enabling <code>server.servlet.contextPath=&#47;my-service</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688633629,"post_id":76626013,"comment_id":135100870,"body_markdown":"If you put `my-service` as the context path that is the root so `/` is `/my-service/` and not `/` on your server. Everything you write here is for inside your context path.  You would need to configure tomcat to redirect always to `/my-service`.","body":"If you put <code>my-service</code> as the context path that is the root so <code>&#47;</code> is <code>&#47;my-service&#47;</code> and not <code>&#47;</code> on your server. Everything you write here is for inside your context path.  You would need to configure tomcat to redirect always to <code>&#47;my-service</code>."},{"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"score":0,"creation_date":1688634586,"post_id":76626013,"comment_id":135101094,"body_markdown":"Sir, that is exactly I want, by default it should point `localhost:8080/my-service/info`. How can do it Sir if someone simply types `localhost:8080/`","body":"Sir, that is exactly I want, by default it should point <code>localhost:8080&#47;my-service&#47;info</code>. How can do it Sir if someone simply types <code>localhost:8080&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688673165,"creation_date":1688673165,"answer_id":76632156,"question_id":76626013,"body_markdown":"This code may be useful which I got from stackoverflow. This code satisfies my requirement. The link is given below.\r\n\r\nhttps://stackoverflow.com/questions/56188883/auto-redirect-root-path-to-spring-boot-context-path\r\n\r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    \r\n    import org.apache.catalina.Host;\r\n    import org.apache.catalina.core.StandardContext;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.servlet.ServletContextInitializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import jakarta.servlet.Servlet;\r\n    import jakarta.servlet.ServletContainerInitializer;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    @Configuration\r\n    public class RootServletConfig {\r\n    \r\n        @Bean\r\n        public TomcatServletWebServerFactory servletWebServerFactory() {\r\n            return new TomcatServletWebServerFactory() {\r\n    \r\n                @Override\r\n                protected void prepareContext(Host host, ServletContextInitializer[] initializers) {\r\n                    super.prepareContext(host, initializers);\r\n                    StandardContext child = new StandardContext();\r\n                    child.addLifecycleListener(new Tomcat.FixContextListener());\r\n                    child.setPath(&quot;&quot;);\r\n                    ServletContainerInitializer initializer = getServletContextInitializer(getContextPath());\r\n                    child.addServletContainerInitializer(initializer, Collections.emptySet());\r\n                    child.setCrossContext(true);\r\n                    host.addChild(child);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private ServletContainerInitializer getServletContextInitializer(String contextPath) {\r\n            return (c, context) -&gt; {\r\n                Servlet servlet = new HttpServlet() {\r\n                    @Override\r\n                    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n                        resp.sendRedirect(contextPath);\r\n                    }\r\n                };\r\n                context.addServlet(&quot;root&quot;, servlet).addMapping(&quot;/&quot;);\r\n            };\r\n        }\r\n    }","title":"How to redirect to a controller or a web page from localhost:8080/ in spring boot 3.1.1 with server.servlet.contextPath","body":"<p>This code may be useful which I got from stackoverflow. This code satisfies my requirement. The link is given below.</p>\n<p><a href=\"https://stackoverflow.com/questions/56188883/auto-redirect-root-path-to-spring-boot-context-path\">Auto-redirect root path to Spring Boot Context Path</a></p>\n<pre><code>import java.io.IOException;\nimport java.util.Collections;\n\nimport org.apache.catalina.Host;\nimport org.apache.catalina.core.StandardContext;\nimport org.apache.catalina.startup.Tomcat;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.ServletContextInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport jakarta.servlet.Servlet;\nimport jakarta.servlet.ServletContainerInitializer;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Configuration\npublic class RootServletConfig {\n\n    @Bean\n    public TomcatServletWebServerFactory servletWebServerFactory() {\n        return new TomcatServletWebServerFactory() {\n\n            @Override\n            protected void prepareContext(Host host, ServletContextInitializer[] initializers) {\n                super.prepareContext(host, initializers);\n                StandardContext child = new StandardContext();\n                child.addLifecycleListener(new Tomcat.FixContextListener());\n                child.setPath(&quot;&quot;);\n                ServletContainerInitializer initializer = getServletContextInitializer(getContextPath());\n                child.addServletContainerInitializer(initializer, Collections.emptySet());\n                child.setCrossContext(true);\n                host.addChild(child);\n            }\n        };\n    }\n\n    private ServletContainerInitializer getServletContextInitializer(String contextPath) {\n        return (c, context) -&gt; {\n            Servlet servlet = new HttpServlet() {\n                @Override\n                protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n                    resp.sendRedirect(contextPath);\n                }\n            };\n            context.addServlet(&quot;root&quot;, servlet).addMapping(&quot;/&quot;);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632156,"answer_count":1,"score":1,"last_activity_date":1688673165,"creation_date":1688624393,"question_id":76626013,"body_markdown":"I have a requirement that in case of localhost:8080 , it should point to a default web page in spring Boot application. Currently I am using Spring Boot 3.1.1. Normally everything works, but I add `server.servlet.contextPath=my-service`, it does not work. I provide below the code.\r\n\r\nMy Controller Code\r\n\r\n    @RestController\r\n    public class DefaultController {\r\n        \r\n    \t@GetMapping(path = &quot;/&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; getValue() {\r\n    \t\treturn ResponseEntity.ok(&quot;Hello World&quot;);\r\n    \t}\r\n    \r\n        @GetMapping(path = &quot;/info&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; getInfoValue() {\r\n    \t\treturn ResponseEntity.ok(&quot;Some Information&quot;);\r\n    \t}\r\n    }\r\n\r\nI have also tried with the following `@Configuration` option.\r\n\r\n    @Configuration\r\n    public class WebMVCApplicationConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n       public void addViewControllers(ViewControllerRegistry registry) {\r\n           registry.addRedirectViewController(&quot;/&quot;, &quot;/my-service/info&quot;);\r\n       }\r\n    }\r\n\r\nIf I comment the following in application.properties, everything works fine.\r\n\r\n    # server.servlet.contextPath=/my-service\r\n\r\nIf I uncomment the contextPath, I get **HTTP Status 404 – Not Found**\r\n\r\nPlease suggest me. I want to redirect to a web page along with contextPath. If someone is accessing `localhost:8080`, it should redirect to `localhost:8080/my-service/info`. \r\n\r\nPlease help me.","title":"How to redirect to a controller or a web page from localhost:8080/ in spring boot 3.1.1 with server.servlet.contextPath","body":"<p>I have a requirement that in case of localhost:8080 , it should point to a default web page in spring Boot application. Currently I am using Spring Boot 3.1.1. Normally everything works, but I add <code>server.servlet.contextPath=my-service</code>, it does not work. I provide below the code.</p>\n<p>My Controller Code</p>\n<pre><code>@RestController\npublic class DefaultController {\n    \n    @GetMapping(path = &quot;/&quot;)\n    public ResponseEntity&lt;String&gt; getValue() {\n        return ResponseEntity.ok(&quot;Hello World&quot;);\n    }\n\n    @GetMapping(path = &quot;/info&quot;)\n    public ResponseEntity&lt;String&gt; getInfoValue() {\n        return ResponseEntity.ok(&quot;Some Information&quot;);\n    }\n}\n</code></pre>\n<p>I have also tried with the following <code>@Configuration</code> option.</p>\n<pre><code>@Configuration\npublic class WebMVCApplicationConfig implements WebMvcConfigurer {\n\n    @Override\n   public void addViewControllers(ViewControllerRegistry registry) {\n       registry.addRedirectViewController(&quot;/&quot;, &quot;/my-service/info&quot;);\n   }\n}\n</code></pre>\n<p>If I comment the following in application.properties, everything works fine.</p>\n<pre><code># server.servlet.contextPath=/my-service\n</code></pre>\n<p>If I uncomment the contextPath, I get <strong>HTTP Status 404 – Not Found</strong></p>\n<p>Please suggest me. I want to redirect to a web page along with contextPath. If someone is accessing <code>localhost:8080</code>, it should redirect to <code>localhost:8080/my-service/info</code>.</p>\n<p>Please help me.</p>\n"},{"tags":["java","apache-spark-sql","spark-streaming","spark-structured-streaming","spark-submit"],"owner":{"account_id":28964821,"reputation":1,"user_id":22186536,"display_name":"Saurabh Sable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688672292,"creation_date":1688666760,"question_id":76631481,"body_markdown":"I have a Java Spark application, which I run using Spark-submit command.\r\nMy Specific use case involves fetching offsets data from Kafka using spark consumer in a Dataframe (Dataset\\&lt;Row\\&gt;) and performing transformation(spark sql) on each row of this dataframe.\r\n\r\n\r\nIssue: when I use following command where Spark.master is &quot;yarn&quot;, line of code inside foreach does nothing. I cannot see any Log on terminal and if we try to do some transformation on this it gives NullPointerException.\r\nBut when we use Spark.master as &quot;local&quot; in this command we can see each row in Log.\r\n(In case of information on why yarn and why local : [https://spark.apache.org/docs/latest/submitting-applications.html#master-urls](https://spark.apache.org/docs/latest/submitting-applications.html#master-urls)\r\n\r\nThis is the command I am using:\r\n\r\n```\r\nspark-submit --conf spark.app.name=SparkHwcIntegration --conf spark.master=yarn --conf spark.submit.deployMode=client --conf spark.driver.memory=1g --conf spark.executor.memory=1g --conf spark.driver.cores=1 --conf spark.executor.cores=3 --conf spark.executor.instances=2 --class &quot;com.saurabh.kafkaExtractorMain&quot; --jars kafka-spark-1.0.jar\r\n```\r\n\r\nJava code snippet for which I am experiencing this issue:\r\n\r\n```\r\npackage com.saurabh;\r\n\r\nimport com.saurabh.SparkSessionSingleton;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.streaming.StreamingQuery;\r\nimport org.apache.spark.sql.streaming.StreamingQueryException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport static org.apache.spark.sql.functions.col;\r\nimport static org.apache.spark.sql.functions.get_json_object;\r\nimport static org.apache.spark.sql.types.DataTypes.StringType;\r\n\r\npublic class SparkDfSam {\r\n    public static Logger LOG = LoggerFactory.getLogger(SparkDfSam.class);\r\n\r\n    public static void extractKafkaDataframeFromSparkNew() {\r\n        LOG.info(&quot;::Creating Session::&quot;);\r\n        SparkSession spark = SparkSessionSingleton.getInstance();\r\n\r\n        LOG.info(&quot;::Spark Read() start::&quot;);\r\n\r\n        Dataset&lt;Row&gt; df = spark\r\n                .readStream()\r\n                .format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;List of kafka broker&gt;&quot;)\r\n                .option(&quot;subscribe&quot;, &quot;&lt;TopicName&gt;&quot;)\r\n                .option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\r\n                .load();\r\n        df.printSchema();\r\n        LOG.info(&quot;-------------------Spark ReadStream() end -------------------&quot;);\r\n\r\n        Dataset&lt;Row&gt; processedDF =\r\n                df.withColumn(&quot;key2&quot;, col(&quot;key&quot;).cast(StringType))\r\n                        .withColumn(&quot;value2&quot;, col(&quot;value&quot;).cast(StringType)).drop(&quot;key&quot;, &quot;value&quot;, &quot;topic&quot;, &quot;partition&quot;, &quot;offset&quot;, &quot;timestamp&quot;, &quot;timestampType&quot;);\r\n        Dataset&lt;Row&gt; colRep = processedDF.withColumn(&quot;new&quot;, get_json_object(col(&quot;value2&quot;), &quot;$.repeatedMessages&quot;));\r\n        LOG.info(&quot;-------------------Spark writeStream() start -------------------&quot;);\r\n        StreamingQuery query = colRep.writeStream()\r\n                .foreachBatch((batchDf, batchId) -&gt; {\r\n\r\n                    batchDf.foreach(row -&gt; {\r\n                        LOG.info(&quot;Row String value is: {}&quot;, row.getString(0)); // this logs nothing\r\n                        LOG.info(&quot;Row value: {}&quot;, row); // this also logs nothing\r\n                    });\r\n\r\n\r\n                }).start();\r\n\r\n        try {\r\n            query.awaitTermination(30 * 1000); // 30s\r\n        } catch (StreamingQueryException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        LOG.info(&quot;-------------------Spark writeStream() end -------------------&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSample Json data read from Kafka:\r\n\r\n```\r\n{\r\n  &quot;startTransaction&quot;: true,\r\n  &quot;transactionId&quot;: &quot;REFERENCE_TABLES&quot;,\r\n  &quot;endTransaction&quot;: true,\r\n  &quot;repeatedMessages&quot;: {\r\n    &quot;HortonWorks&quot;: [\r\n      {\r\n        &quot;productCatalogParameterRelKey&quot;: &quot;testProductKey&quot;,\r\n        &quot;queryTime&quot;: 1002839,\r\n        &quot;transactionTime&quot;: 18929,\r\n        &quot;catalogItemName&quot;: &quot;testCatalogItem&quot;,\r\n        &quot;endDate&quot;: 978,\r\n        &quot;itemRoleInd&quot;: &quot;OC&quot;\r\n      }\r\n    ],\r\n    &quot;HiveWHC&quot;: [\r\n      {\r\n        &quot;HWC&quot;: 1687238823610,\r\n        &quot;Amd&quot;: &quot;SAMSON_100009925_MEMO_947067743&quot;,\r\n        &quot;Kart&quot;: 1687264015000,\r\n        &quot;customerKey&quot;: &quot;SAMSON_100009925&quot;,\r\n        &quot;systemMessage&quot;: &quot;Message&quot;\r\n      },\r\n      {\r\n        &quot;HWC&quot;: 78244,\r\n        &quot;Amd&quot;: &quot;&quot;,\r\n        &quot;Kart&quot;: 1687264015000,\r\n        &quot;customerKey&quot;: &quot;Apple&quot;,\r\n        &quot;systemMessage&quot;: &quot;Message-Json&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n","title":"In Java Application, Dataframe.foreach() not able to fetch row when Spark.master=yarn is used","body":"<p>I have a Java Spark application, which I run using Spark-submit command.\nMy Specific use case involves fetching offsets data from Kafka using spark consumer in a Dataframe (Dataset&lt;Row&gt;) and performing transformation(spark sql) on each row of this dataframe.</p>\n<p>Issue: when I use following command where Spark.master is &quot;yarn&quot;, line of code inside foreach does nothing. I cannot see any Log on terminal and if we try to do some transformation on this it gives NullPointerException.\nBut when we use Spark.master as &quot;local&quot; in this command we can see each row in Log.\n(In case of information on why yarn and why local : <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html#master-urls\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/submitting-applications.html#master-urls</a></p>\n<p>This is the command I am using:</p>\n<pre><code>spark-submit --conf spark.app.name=SparkHwcIntegration --conf spark.master=yarn --conf spark.submit.deployMode=client --conf spark.driver.memory=1g --conf spark.executor.memory=1g --conf spark.driver.cores=1 --conf spark.executor.cores=3 --conf spark.executor.instances=2 --class &quot;com.saurabh.kafkaExtractorMain&quot; --jars kafka-spark-1.0.jar\n</code></pre>\n<p>Java code snippet for which I am experiencing this issue:</p>\n<pre><code>package com.saurabh;\n\nimport com.saurabh.SparkSessionSingleton;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.streaming.StreamingQuery;\nimport org.apache.spark.sql.streaming.StreamingQueryException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport static org.apache.spark.sql.functions.col;\nimport static org.apache.spark.sql.functions.get_json_object;\nimport static org.apache.spark.sql.types.DataTypes.StringType;\n\npublic class SparkDfSam {\n    public static Logger LOG = LoggerFactory.getLogger(SparkDfSam.class);\n\n    public static void extractKafkaDataframeFromSparkNew() {\n        LOG.info(&quot;::Creating Session::&quot;);\n        SparkSession spark = SparkSessionSingleton.getInstance();\n\n        LOG.info(&quot;::Spark Read() start::&quot;);\n\n        Dataset&lt;Row&gt; df = spark\n                .readStream()\n                .format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;List of kafka broker&gt;&quot;)\n                .option(&quot;subscribe&quot;, &quot;&lt;TopicName&gt;&quot;)\n                .option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\n                .load();\n        df.printSchema();\n        LOG.info(&quot;-------------------Spark ReadStream() end -------------------&quot;);\n\n        Dataset&lt;Row&gt; processedDF =\n                df.withColumn(&quot;key2&quot;, col(&quot;key&quot;).cast(StringType))\n                        .withColumn(&quot;value2&quot;, col(&quot;value&quot;).cast(StringType)).drop(&quot;key&quot;, &quot;value&quot;, &quot;topic&quot;, &quot;partition&quot;, &quot;offset&quot;, &quot;timestamp&quot;, &quot;timestampType&quot;);\n        Dataset&lt;Row&gt; colRep = processedDF.withColumn(&quot;new&quot;, get_json_object(col(&quot;value2&quot;), &quot;$.repeatedMessages&quot;));\n        LOG.info(&quot;-------------------Spark writeStream() start -------------------&quot;);\n        StreamingQuery query = colRep.writeStream()\n                .foreachBatch((batchDf, batchId) -&gt; {\n\n                    batchDf.foreach(row -&gt; {\n                        LOG.info(&quot;Row String value is: {}&quot;, row.getString(0)); // this logs nothing\n                        LOG.info(&quot;Row value: {}&quot;, row); // this also logs nothing\n                    });\n\n\n                }).start();\n\n        try {\n            query.awaitTermination(30 * 1000); // 30s\n        } catch (StreamingQueryException e) {\n            throw new RuntimeException(e);\n        }\n\n        LOG.info(&quot;-------------------Spark writeStream() end -------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>Sample Json data read from Kafka:</p>\n<pre><code>{\n  &quot;startTransaction&quot;: true,\n  &quot;transactionId&quot;: &quot;REFERENCE_TABLES&quot;,\n  &quot;endTransaction&quot;: true,\n  &quot;repeatedMessages&quot;: {\n    &quot;HortonWorks&quot;: [\n      {\n        &quot;productCatalogParameterRelKey&quot;: &quot;testProductKey&quot;,\n        &quot;queryTime&quot;: 1002839,\n        &quot;transactionTime&quot;: 18929,\n        &quot;catalogItemName&quot;: &quot;testCatalogItem&quot;,\n        &quot;endDate&quot;: 978,\n        &quot;itemRoleInd&quot;: &quot;OC&quot;\n      }\n    ],\n    &quot;HiveWHC&quot;: [\n      {\n        &quot;HWC&quot;: 1687238823610,\n        &quot;Amd&quot;: &quot;SAMSON_100009925_MEMO_947067743&quot;,\n        &quot;Kart&quot;: 1687264015000,\n        &quot;customerKey&quot;: &quot;SAMSON_100009925&quot;,\n        &quot;systemMessage&quot;: &quot;Message&quot;\n      },\n      {\n        &quot;HWC&quot;: 78244,\n        &quot;Amd&quot;: &quot;&quot;,\n        &quot;Kart&quot;: 1687264015000,\n        &quot;customerKey&quot;: &quot;Apple&quot;,\n        &quot;systemMessage&quot;: &quot;Message-Json&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688672030,"creation_date":1688672030,"answer_id":76632042,"question_id":76605751,"body_markdown":"In case someone has a similiar use case, here&#39;s how I did it. `Base` class is basically a placeholder for all the `static final` instances (or should I call them `constants`) - `ALL_MAPS` contains key as the name of the class which extends `Base` and as of value - a `Map` of keys - code of the instance and the instance itself as value. When the subclass of `Base` is loaded into the JVM, all the `constants` in it (as they are `static`) are placed in the `ALL_MAP`. So when deserializing, apart from loading the class into the memory, I only need a class of the `constant` and a key to it (`code`). I can get the class in the custom deserializer just like this: https://github.com/FasterXML/jackson-databind/issues/2711\r\n\r\nAfter that, all is left is to load the class into memory - I achieved it via reflection by calling `get` method on any static field with `null` value as I don&#39;t want to allow creating instances of `const` subclasses at all. And then - to read the json node which contains the `code` and get the `constant`.\r\n\r\nAs a note: on the `Base` class I used `@JsonDeserialize(using = BaseConstDeserializer.class)` where `BaseConstDeserializer` is the custom deserializer.\r\n\r\nHere is the code of the deserializer:\r\n\r\n\r\n\r\n    public class BaseConstDeserializer&lt;CONST extends BaseConst&gt; extends StdDeserializer&lt;CONST&gt; implements ContextualDeserializer {\r\n    private final Class&lt;CONST&gt; deserializedFieldClazz;\r\n\r\n    protected BaseConstDeserializer(Class&lt;CONST&gt; deserializedFieldClazz) {\r\n        super(BaseConst.class);\r\n        this.deserializedFieldClazz = deserializedFieldClazz;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public CONST deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        Integer code = JsonUtils.readSingleNode(node, &quot;code&quot;, JsonNode::asInt, ValidUtils::isInteger);\r\n        if (code != null) {\r\n            BaseConst.initConst(deserializedFieldClazz);\r\n            return (CONST) BaseConst.getConstAndClearMap(code, deserializedFieldClazz);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty property) throws JsonMappingException {\r\n        Class&lt;CONST&gt; rawClass = (Class&lt;CONST&gt;) property.getType().getRawClass();\r\n        return new BaseConstDeserializer&lt;&gt;(rawClass);\r\n    }\r\n    }\r\n\r\nThe only drawback I can guess here is that I need to manage the memory usage by myself - by clearing the map every time I deserialized json. I know that in Spring I can use `@Scope` to set the &quot;lifespan&quot; of an instance of bean to the scope of request but I don&#39;t like creating and having those instances in this case at all. This is propably an unorthodox approach, but it serves my case and I like the solution. \r\nAnyway, if someone sees any other potentials cons and pros of it, I&#39;d like to hear.  \r\n","title":"Java Static final instances hierarchy deserialization","body":"<p>In case someone has a similiar use case, here's how I did it. <code>Base</code> class is basically a placeholder for all the <code>static final</code> instances (or should I call them <code>constants</code>) - <code>ALL_MAPS</code> contains key as the name of the class which extends <code>Base</code> and as of value - a <code>Map</code> of keys - code of the instance and the instance itself as value. When the subclass of <code>Base</code> is loaded into the JVM, all the <code>constants</code> in it (as they are <code>static</code>) are placed in the <code>ALL_MAP</code>. So when deserializing, apart from loading the class into the memory, I only need a class of the <code>constant</code> and a key to it (<code>code</code>). I can get the class in the custom deserializer just like this: <a href=\"https://github.com/FasterXML/jackson-databind/issues/2711\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2711</a></p>\n<p>After that, all is left is to load the class into memory - I achieved it via reflection by calling <code>get</code> method on any static field with <code>null</code> value as I don't want to allow creating instances of <code>const</code> subclasses at all. And then - to read the json node which contains the <code>code</code> and get the <code>constant</code>.</p>\n<p>As a note: on the <code>Base</code> class I used <code>@JsonDeserialize(using = BaseConstDeserializer.class)</code> where <code>BaseConstDeserializer</code> is the custom deserializer.</p>\n<p>Here is the code of the deserializer:</p>\n<pre><code>public class BaseConstDeserializer&lt;CONST extends BaseConst&gt; extends StdDeserializer&lt;CONST&gt; implements ContextualDeserializer {\nprivate final Class&lt;CONST&gt; deserializedFieldClazz;\n\nprotected BaseConstDeserializer(Class&lt;CONST&gt; deserializedFieldClazz) {\n    super(BaseConst.class);\n    this.deserializedFieldClazz = deserializedFieldClazz;\n}\n\n@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic CONST deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\n    JsonNode node = jp.getCodec().readTree(jp);\n    Integer code = JsonUtils.readSingleNode(node, &quot;code&quot;, JsonNode::asInt, ValidUtils::isInteger);\n    if (code != null) {\n        BaseConst.initConst(deserializedFieldClazz);\n        return (CONST) BaseConst.getConstAndClearMap(code, deserializedFieldClazz);\n    }\n    return null;\n}\n\n@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty property) throws JsonMappingException {\n    Class&lt;CONST&gt; rawClass = (Class&lt;CONST&gt;) property.getType().getRawClass();\n    return new BaseConstDeserializer&lt;&gt;(rawClass);\n}\n}\n</code></pre>\n<p>The only drawback I can guess here is that I need to manage the memory usage by myself - by clearing the map every time I deserialized json. I know that in Spring I can use <code>@Scope</code> to set the &quot;lifespan&quot; of an instance of bean to the scope of request but I don't like creating and having those instances in this case at all. This is propably an unorthodox approach, but it serves my case and I like the solution.\nAnyway, if someone sees any other potentials cons and pros of it, I'd like to hear.</p>\n"}],"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632042,"answer_count":1,"score":1,"last_activity_date":1688672030,"creation_date":1688394861,"question_id":76605751,"body_markdown":"I have 3 classes:\r\n\r\n    public class Base {\r\n      private int code;\r\n      private static final Map&lt;String, Map&lt;Integer, Base&gt;&gt; ALL_MAPS = \r\n      new HashMap&lt;&gt;();\r\n\r\n     protected Base(int code) {\r\n      this.code = code;\r\n      getConstMap(this.getClass()).put(code, this);\r\n    }\r\n   \r\n    protected Map&lt;Integer, Base&gt; getConstMap(Class&lt;?&gt; clazz) {\r\n      Map&lt;Integer, Base&gt; res;\r\n      if ((res = ALL_MAPS.get(clazz.getName())) == null) {\r\n         res = new HashMap&lt;&gt;();\r\n         ALL_MAPS.put(clazz.getName(), res);\r\n      }\r\n      return res;\r\n    }\r\n    //...\r\n    }\r\n\r\n    public class AConstants extends Base {\r\n       public static final AConstants A_1 = new AConstants(1, \r\n     &quot;sample1&quot;);\r\n     public static final AConstants A_2 = new AConstants(2, &quot;sample2&quot;);\r\n       //...\r\n       private final String text;\r\n       private AConstants(int code, String text) {\r\n          super(code);\r\n          this.text = text;\r\n       }\r\n    }\r\n\r\n    public class BConstants extends Base {\r\n       public static final BConstants B_1 = new BConstants(1, \r\n    &quot;sample1&quot;, &quot;moreText&quot;);\r\n       public static final BConstants B_2 = new BConstants(2, \r\n    &quot;sample2&quot;, &quot;moreText&quot;);\r\n       //...\r\n       private final String text;\r\n       private final String moreText;\r\n       private BConstants(int code, String text, String moreText) {\r\n          super(code);\r\n          this.text = text;\r\n          this.moreText = moreText;\r\n       }\r\n    }\r\n\r\nWhat I want to achieve is having a base method for deserializing (and serealizing) static final instances in the `Base` class. Obviously, I can&#39;t do smth like this due to generic type being unable to be referenced from static context during compilation (plus I obviously can&#39;t get the class of `CONST`):\r\n\r\n    @JsonCreator\r\n    public static CONST deserialize(@JsonProperty(&quot;code&quot;) int code) {\r\n        // Should get the class of CONST and retrieve static final instance by code\r\n        return ALL_MAPS.get(CONST.class).get(code);\r\n    }\r\n    \r\n    @JsonValue\r\n    public Integer serialize() {\r\n        // Return code for static final instance of the necessary class\r\n        return getKeyByValue(ALL_MAPS.get(CONST.class), this);\r\n    }\r\n      \r\n Is there a way to achieve this with Jackson? Or if not, how do I write a custom serializer/deserializer for this?","title":"Java Static final instances hierarchy deserialization","body":"<p>I have 3 classes:</p>\n<pre><code>public class Base {\n  private int code;\n  private static final Map&lt;String, Map&lt;Integer, Base&gt;&gt; ALL_MAPS = \n  new HashMap&lt;&gt;();\n\n protected Base(int code) {\n  this.code = code;\n  getConstMap(this.getClass()).put(code, this);\n}\n\nprotected Map&lt;Integer, Base&gt; getConstMap(Class&lt;?&gt; clazz) {\n  Map&lt;Integer, Base&gt; res;\n  if ((res = ALL_MAPS.get(clazz.getName())) == null) {\n     res = new HashMap&lt;&gt;();\n     ALL_MAPS.put(clazz.getName(), res);\n  }\n  return res;\n}\n//...\n}\n\npublic class AConstants extends Base {\n   public static final AConstants A_1 = new AConstants(1, \n &quot;sample1&quot;);\n public static final AConstants A_2 = new AConstants(2, &quot;sample2&quot;);\n   //...\n   private final String text;\n   private AConstants(int code, String text) {\n      super(code);\n      this.text = text;\n   }\n}\n\npublic class BConstants extends Base {\n   public static final BConstants B_1 = new BConstants(1, \n&quot;sample1&quot;, &quot;moreText&quot;);\n   public static final BConstants B_2 = new BConstants(2, \n&quot;sample2&quot;, &quot;moreText&quot;);\n   //...\n   private final String text;\n   private final String moreText;\n   private BConstants(int code, String text, String moreText) {\n      super(code);\n      this.text = text;\n      this.moreText = moreText;\n   }\n}\n</code></pre>\n<p>What I want to achieve is having a base method for deserializing (and serealizing) static final instances in the <code>Base</code> class. Obviously, I can't do smth like this due to generic type being unable to be referenced from static context during compilation (plus I obviously can't get the class of <code>CONST</code>):</p>\n<pre><code>@JsonCreator\npublic static CONST deserialize(@JsonProperty(&quot;code&quot;) int code) {\n    // Should get the class of CONST and retrieve static final instance by code\n    return ALL_MAPS.get(CONST.class).get(code);\n}\n\n@JsonValue\npublic Integer serialize() {\n    // Return code for static final instance of the necessary class\n    return getKeyByValue(ALL_MAPS.get(CONST.class), this);\n}\n  \n</code></pre>\n<p>Is there a way to achieve this with Jackson? Or if not, how do I write a custom serializer/deserializer for this?</p>\n"},{"tags":["java","selenium-webdriver","testing","testng","selenium-grid"],"comments":[{"owner":{"account_id":6717404,"reputation":1454,"user_id":5178801,"display_name":"J. Murray"},"score":0,"creation_date":1688673628,"post_id":76629980,"comment_id":135109277,"body_markdown":"Please add the error you received to your post (because this will help to resolve the issue faster)","body":"Please add the error you received to your post (because this will help to resolve the issue faster)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688673639,"post_id":76629980,"comment_id":135109279,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28919695,"reputation":3,"user_id":22150935,"display_name":"Ezhumalai Shanmugam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688671858,"creation_date":1688654309,"question_id":76629980,"body_markdown":"Selenium code unable to run on LambdaTest platform\r\n```\r\nDesiredCapabilities capabilities = new DesiredCapabilities(); \r\n```\r\nI tried multiple time but same error showing on console.\r\n\r\n\r\nMultiple browser need to run with different platform and different version.\r\n\r\n\r\n\r\n\r\nThis is my Java package \r\n```\r\npackage lambdatest;\r\n\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.remote.*;\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.*;\r\n\r\nimport java.net.URL;\r\n\r\npublic class Lambdatest {\r\n\r\n    private WebDriver driver;\r\n\r\n    @BeforeClass\r\n    @Parameters({&quot;browserName&quot;, &quot;browserVersion&quot;, &quot;platform&quot;})\r\n    public void setUp(String browserName, String browserVersion, String platform) throws Exception {\r\n    \t\r\n    \t\r\n        MutableCapabilities capabilities = new MutableCapabilities();\r\n        capabilities.setCapability(&quot;browserName&quot;, browserName);\r\n        capabilities.setCapability(&quot;browserVersion&quot;, browserVersion);\r\n        capabilities.setCapability(&quot;platform&quot;, platform);\r\n        capabilities.setCapability(&quot;name&quot;, &quot;LambdaTest Assignment&quot;);\r\n\r\n        String username = &quot;**************&quot;;\r\n        String accessKey = &quot;*************************************&quot;;\r\n\r\n        driver = new RemoteWebDriver(new URL(&quot;https://&quot; + username + &quot;:&quot; + accessKey + &quot;@hub.lambdatest.com/wd/hub&quot;), capabilities);\r\n    }\r\n\r\n    @AfterClass\r\n    public void tearDown() {\r\n        if (driver != null) {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n    @Test(priority = 1)\r\n    public void testScenario1() {\r\n        driver.get(&quot;https://www.lambdatest.com/selenium-playground/&quot;);\r\n\r\n        // Perform explicit wait\r\n\r\n        String pageTitle = driver.getTitle();\r\n        Assert.assertEquals(pageTitle, &quot;LambdaTest&quot;); // Expecting failure\r\n    }\r\n}\r\n\r\n\r\n[RemoteTestNG] detected TestNG version 7.4.0\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n\r\n===============================================\r\nTestNGAssignmentSuite\r\nTotal tests run: 12, Passes: 0, Failures: 0, Skips: 12\r\nConfiguration Failures: 4, Skips: 4\r\n===============================================\r\n```\r\n","title":"Selenium code Unable to Run on LambdaTest platform","body":"<p>Selenium code unable to run on LambdaTest platform</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities(); \n</code></pre>\n<p>I tried multiple time but same error showing on console.</p>\n<p>Multiple browser need to run with different platform and different version.</p>\n<p>This is my Java package</p>\n<pre><code>package lambdatest;\n\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.remote.*;\nimport org.testng.Assert;\nimport org.testng.annotations.*;\n\nimport java.net.URL;\n\npublic class Lambdatest {\n\n    private WebDriver driver;\n\n    @BeforeClass\n    @Parameters({&quot;browserName&quot;, &quot;browserVersion&quot;, &quot;platform&quot;})\n    public void setUp(String browserName, String browserVersion, String platform) throws Exception {\n        \n        \n        MutableCapabilities capabilities = new MutableCapabilities();\n        capabilities.setCapability(&quot;browserName&quot;, browserName);\n        capabilities.setCapability(&quot;browserVersion&quot;, browserVersion);\n        capabilities.setCapability(&quot;platform&quot;, platform);\n        capabilities.setCapability(&quot;name&quot;, &quot;LambdaTest Assignment&quot;);\n\n        String username = &quot;**************&quot;;\n        String accessKey = &quot;*************************************&quot;;\n\n        driver = new RemoteWebDriver(new URL(&quot;https://&quot; + username + &quot;:&quot; + accessKey + &quot;@hub.lambdatest.com/wd/hub&quot;), capabilities);\n    }\n\n    @AfterClass\n    public void tearDown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n\n    @Test(priority = 1)\n    public void testScenario1() {\n        driver.get(&quot;https://www.lambdatest.com/selenium-playground/&quot;);\n\n        // Perform explicit wait\n\n        String pageTitle = driver.getTitle();\n        Assert.assertEquals(pageTitle, &quot;LambdaTest&quot;); // Expecting failure\n    }\n}\n\n\n[RemoteTestNG] detected TestNG version 7.4.0\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\n\n===============================================\nTestNGAssignmentSuite\nTotal tests run: 12, Passes: 0, Failures: 0, Skips: 12\nConfiguration Failures: 4, Skips: 4\n===============================================\n</code></pre>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1661890467,"post_id":73547954,"comment_id":129878632,"body_markdown":"1) With any large database deadlocks are not only possible, but sometimes unavoidable. In which case you either need a retry mechanism *OR* a serialisation mechanism.","body":"1) With any large database deadlocks are not only possible, but sometimes unavoidable. In which case you either need a retry mechanism <i>OR</i> a serialisation mechanism."},{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1661890506,"post_id":73547954,"comment_id":129878636,"body_markdown":"And yes there are monitoring tools and solutions out there, your favourite search engine should assist you with that.","body":"And yes there are monitoring tools and solutions out there, your favourite search engine should assist you with that."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1661891817,"post_id":73547954,"comment_id":129878998,"body_markdown":"Query/index tuning often mitigates deadlocks by touch only data needed for the task at hand. Take a look at the execution plan.","body":"Query/index tuning often mitigates deadlocks by touch only data needed for the task at hand. Take a look at the execution plan."}],"answers":[{"tags":[],"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688671856,"creation_date":1663016728,"answer_id":73695238,"question_id":73547954,"body_markdown":"To anyone who finds themselves in my same predicament, the solution that had the best results so far is `Optimistic Locking`. Following this very helpful [Baeldung guide][1], I managed to solve my issue in a elegant way. \r\n\r\nYou can find below a summary of what I did to achieve this.\r\n\r\n1. Added a `bigint` field to the tables that were modified in the commonly deadlocked transactions (database wise)\r\n2. Then, added this new field with the `@Version` annotation to the JPA entities that are being modified\r\n\r\nThis simple solution solved most of my deadlocked issues. \r\n\r\nAdditionally, you can use [Spring Retry](https://www.baeldung.com/spring-retry) to retry deadlock transactions automatically, without needing to resend the request. Also, you can tell Spring to only retry deadlock related exceptions with the following annotation.\r\n\r\n    @Retryable(value = {CannotAcquireLockException.class, OptimisticLockException.class, TransactionException.class, ObjectOptimisticLockingFailureException.class})\r\n\r\nHope it helps somebody else. \r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking","title":"Spring Data JPA Deadlock Issues with SQL Server","body":"<p>To anyone who finds themselves in my same predicament, the solution that had the best results so far is <code>Optimistic Locking</code>. Following this very helpful <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">Baeldung guide</a>, I managed to solve my issue in a elegant way.</p>\n<p>You can find below a summary of what I did to achieve this.</p>\n<ol>\n<li>Added a <code>bigint</code> field to the tables that were modified in the commonly deadlocked transactions (database wise)</li>\n<li>Then, added this new field with the <code>@Version</code> annotation to the JPA entities that are being modified</li>\n</ol>\n<p>This simple solution solved most of my deadlocked issues.</p>\n<p>Additionally, you can use <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Spring Retry</a> to retry deadlock transactions automatically, without needing to resend the request. Also, you can tell Spring to only retry deadlock related exceptions with the following annotation.</p>\n<pre><code>@Retryable(value = {CannotAcquireLockException.class, OptimisticLockException.class, TransactionException.class, ObjectOptimisticLockingFailureException.class})\n</code></pre>\n<p>Hope it helps somebody else.</p>\n"}],"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73695238,"answer_count":1,"score":1,"last_activity_date":1688671856,"creation_date":1661890186,"question_id":73547954,"body_markdown":"I have a complex business web application that receives multiple concurrent requests. One of those requests is to process a new invoice. If multiple of these requests are received at the same time, at least one of the requests will suffer a rollback because of the following error `Transaction (Process ID X) was deadlocked on lock resources`.\r\n\r\nI have been browsing through lots of StackOverflow entries about this topic, but none of them have given me a solution. I tried turning on `SNAPSHOT ISOLATION`, but nothing changed. I have try reordering my code, but to no avail. User https://stackoverflow.com/users/1560836/user1560836 commented on https://stackoverflow.com/questions/34551005/correct-way-to-handle-deadlocks-in-hibernate that there simply was no solution to this issue, and it seems likely. Still, I find it hard to believe, given how **used** these frameworks are.\r\n\r\nDoes anybody have a recommendation or maybe a solution? Also, do you have a solution to at least monitor these occurrences? Any help would be greatly appreciated.","title":"Spring Data JPA Deadlock Issues with SQL Server","body":"<p>I have a complex business web application that receives multiple concurrent requests. One of those requests is to process a new invoice. If multiple of these requests are received at the same time, at least one of the requests will suffer a rollback because of the following error <code>Transaction (Process ID X) was deadlocked on lock resources</code>.</p>\n<p>I have been browsing through lots of StackOverflow entries about this topic, but none of them have given me a solution. I tried turning on <code>SNAPSHOT ISOLATION</code>, but nothing changed. I have try reordering my code, but to no avail. User <a href=\"https://stackoverflow.com/users/1560836/user1560836\">https://stackoverflow.com/users/1560836/user1560836</a> commented on <a href=\"https://stackoverflow.com/questions/34551005/correct-way-to-handle-deadlocks-in-hibernate\">Correct way to handle deadlocks in Hibernate</a> that there simply was no solution to this issue, and it seems likely. Still, I find it hard to believe, given how <strong>used</strong> these frameworks are.</p>\n<p>Does anybody have a recommendation or maybe a solution? Also, do you have a solution to at least monitor these occurrences? Any help would be greatly appreciated.</p>\n"},{"tags":["java","oop","uuid"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688670598,"post_id":76631876,"comment_id":135108729,"body_markdown":"I mean, you could do that but it&#39;s unlikely to be as distributed as the existing UUID implementation. Of course, you could use an existing UUID implementation and then prepend and append whatever you want.","body":"I mean, you could do that but it&#39;s unlikely to be as distributed as the existing UUID implementation. Of course, you could use an existing UUID implementation and then prepend and append whatever you want."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1688671119,"post_id":76631876,"comment_id":135108810,"body_markdown":"*&quot;for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked&quot;* - And have you tried using those values to produce this ID?  What have you tried and what didn&#39;t work as expected?  It sounds like you know what you want to do, it&#39;s not clear what&#39;s stopping you from doing it.","body":"<i>&quot;for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked&quot;</i> - And have you tried using those values to produce this ID?  What have you tried and what didn&#39;t work as expected?  It sounds like you know what you want to do, it&#39;s not clear what&#39;s stopping you from doing it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688678423,"post_id":76631876,"comment_id":135110080,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1688771312,"post_id":76631876,"comment_id":135123248,"body_markdown":"Show an example of how you would like the UUID to look like.","body":"Show an example of how you would like the UUID to look like."}],"answers":[{"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1688846538,"post_id":76631997,"comment_id":135129837,"body_markdown":"A good [formatting](https://stackoverflow.com/help/formatting) would make your post look good.","body":"A good <a href=\"https://stackoverflow.com/help/formatting\">formatting</a> would make your post look good."},{"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"score":0,"creation_date":1689167646,"post_id":76631997,"comment_id":135174969,"body_markdown":"Thank you very much for the recommendation, I will improve. I&#39;m also new to stackoverflow and I don&#39;t handle English very well.","body":"Thank you very much for the recommendation, I will improve. I&#39;m also new to stackoverflow and I don&#39;t handle English very well."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689172012,"post_id":76631997,"comment_id":135176179,"body_markdown":"Take it easy, there are lots of people that are non-native English speakers (I am one of them). Just try to keep learning and improving things. Then you will see that you had developed your skills.","body":"Take it easy, there are lots of people that are non-native English speakers (I am one of them). Just try to keep learning and improving things. Then you will see that you had developed your skills."}],"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688671643,"creation_date":1688671643,"answer_id":76631997,"question_id":76631876,"body_markdown":"According to the pattern you provided:\r\n\r\n- 3 first letters of the name: you can use the username.substring(0,2) function;\r\n - The last 3 digits of the user&#39;s birthday, assuming it is 31/12/1999 you mean the year.\r\n\r\n\r\nIf it is string, the same substring function will suffice in the range that you see.\r\nIf it is date you will have to use the SimpleDateFormat class and instantiate a pattern of how to get the data Ex: &#39;SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); sdf.format(tu_date);&#39;\r\nThis code may give you an exception so lock it in a try/catch.","title":"how do I create a unique id in java with information that has been inputted by the user?","body":"<p>According to the pattern you provided:</p>\n<ul>\n<li>3 first letters of the name: you can use the username.substring(0,2) function;</li>\n<li>The last 3 digits of the user's birthday, assuming it is 31/12/1999 you mean the year.</li>\n</ul>\n<p>If it is string, the same substring function will suffice in the range that you see.\nIf it is date you will have to use the SimpleDateFormat class and instantiate a pattern of how to get the data Ex: 'SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); sdf.format(tu_date);'\nThis code may give you an exception so lock it in a try/catch.</p>\n"}],"owner":{"account_id":28964938,"reputation":1,"user_id":22186630,"display_name":"Instant_ Dweeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688671643,"creation_date":1688670490,"question_id":76631876,"body_markdown":"I need the program to create a unique ID for tasks, people, etc. I am having trouble, however with getting it to create a unique id with information provided by the user in the form of an input.\r\n\r\nI have not tried yet, but I simply can&#39;t remember how. I have seen other people create unique IDs using the GUID function/import, but I haven&#39;t seen people create an id based on information provided by the user/ for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked.","title":"how do I create a unique id in java with information that has been inputted by the user?","body":"<p>I need the program to create a unique ID for tasks, people, etc. I am having trouble, however with getting it to create a unique id with information provided by the user in the form of an input.</p>\n<p>I have not tried yet, but I simply can't remember how. I have seen other people create unique IDs using the GUID function/import, but I haven't seen people create an id based on information provided by the user/ for example the ID will need to be made of the first 3 letters of the user's name, the last 3 digits of the user's birthday as well as the number of hours they have worked.</p>\n"},{"tags":["java","rest-assured","serenity-bdd"],"owner":{"account_id":18626114,"reputation":1,"user_id":13575182,"display_name":"sridhar sekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688671637,"creation_date":1589898373,"question_id":61893510,"body_markdown":"I am running the following code in serenity.\r\n\r\n    Response authenticationResponse = SerenityRest.given().relaxedHTTPSValidation().\r\n                    header(&quot;Cookie&quot;,**Validvalue**).\r\n                    queryParam(&quot;response_type&quot;,&quot;code&quot;).\r\n                    queryParam(&quot;state&quot;,&quot;nothing&quot;).\r\n                    queryParam(&quot;client_id&quot;,**Validvalue**).\r\n                 queryParam(&quot;scope&quot;,&quot;openid&quot;).\r\n                    queryParam(&quot;redirect_uri&quot;,&quot;http%3A%2F%2Flocalhost%3A4200%2Flogin%2Fsuccess&quot;).\r\n                    get(&quot;https://account.tst.com/auth&quot;);\r\n\r\nRunning serenity throws a runtime error as shown below,\r\n\r\n*Some exception during recording fields\r\njava.lang.RuntimeException: Some exception during recording fields\r\n\tat net.serenitybdd.rest.filters.FieldsRecordingFilter.filter(FieldsRecordingFilter.java:52)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)*\r\n\r\nPlease help me get rid of this error.","title":"Some exception during recording fields java.lang.RuntimeException: Some exception during recording fields","body":"<p>I am running the following code in serenity.</p>\n\n<pre><code>Response authenticationResponse = SerenityRest.given().relaxedHTTPSValidation().\n                header(\"Cookie\",**Validvalue**).\n                queryParam(\"response_type\",\"code\").\n                queryParam(\"state\",\"nothing\").\n                queryParam(\"client_id\",**Validvalue**).\n             queryParam(\"scope\",\"openid\").\n                queryParam(\"redirect_uri\",\"http%3A%2F%2Flocalhost%3A4200%2Flogin%2Fsuccess\").\n                get(\"https://account.tst.com/auth\");\n</code></pre>\n\n<p>Running serenity throws a runtime error as shown below,</p>\n\n<p><em>Some exception during recording fields\njava.lang.RuntimeException: Some exception during recording fields\n    at net.serenitybdd.rest.filters.FieldsRecordingFilter.filter(FieldsRecordingFilter.java:52)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)</em></p>\n\n<p>Please help me get rid of this error.</p>\n"},{"tags":["java","lambda","expression"],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1688670907,"post_id":76631487,"comment_id":135108782,"body_markdown":"@Eritrean Good call.","body":"@Eritrean Good call."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688670898,"creation_date":1688666816,"answer_id":76631487,"question_id":76631448,"body_markdown":"You need braces around the lambda body when it consists of more than one expression. Also, `Integer.compare` should be preferred over subtracting (consider overflow).\r\n\r\n```java\r\nArrays.sort(input, (a, b) -&gt; {\r\n    int c1 = a[0];\r\n    int c2 = b[0];\r\n    if (c1 == c2) return Integer.compare(a[1], b[1]);\r\n    return Integer.compare(c1, c2);\r\n});\r\n```\r\n\r\nThis can be simplified with `Comparator` methods.\r\n\r\n```\r\nArrays.sort(input, Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]));\r\n```\r\n\r\n[`Arrays.compare`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#compare(int%5B%5D,int%5B%5D)) generalizes this lexicographic order for arrays of any length (as mentioned by [Eritrean](https://stackoverflow.com/users/5176992)).\r\n\r\n```java\r\nArrays.sort(input, Arrays::compare);\r\n```","title":"How to sort a 2d array using the second index for tiebreaks","body":"<p>You need braces around the lambda body when it consists of more than one expression. Also, <code>Integer.compare</code> should be preferred over subtracting (consider overflow).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(input, (a, b) -&gt; {\n    int c1 = a[0];\n    int c2 = b[0];\n    if (c1 == c2) return Integer.compare(a[1], b[1]);\n    return Integer.compare(c1, c2);\n});\n</code></pre>\n<p>This can be simplified with <code>Comparator</code> methods.</p>\n<pre><code>Arrays.sort(input, Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#compare(int%5B%5D,int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.compare</code></a> generalizes this lexicographic order for arrays of any length (as mentioned by <a href=\"https://stackoverflow.com/users/5176992\">Eritrean</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(input, Arrays::compare);\n</code></pre>\n"}],"owner":{"account_id":28964965,"reputation":1,"user_id":22186651,"display_name":"Abhay Iyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688670898,"creation_date":1688666448,"question_id":76631448,"body_markdown":"Anyone know the correct syntax for sorting an 2d array using Lambdas in java where in the need to tiebreak we move on to the second element?\r\nlike if the array is { {1,0}, {2,5}, {1,55}}\r\nit becomes {{1,0}, {1,55}, {2,5}}\r\n\r\nSo Im familair that the syntax for just sorting the array as input follows the syntax of\r\n\r\n   \r\n         ```java\r\n             Arrays.sort(input, (a, b) -&gt; (a[0] - b[0));\r\n          ```\r\n\r\n\r\nI have tried some of my own experimental ways around this, such as \r\n\r\n    ```java\r\n     Arrays.sort(input, (a,b) -&gt;\r\n      int c1 = a[0];\r\n      int c2 = b[0];\r\n    if(c1 == c2) return a[1] - b[1];\r\n       return c1 - c2;\r\n    );\r\n    \r\n\r\n\r\n\r\nbut these still have syntax errors in various places. Any help is appreciated!","title":"How to sort a 2d array using the second index for tiebreaks","body":"<p>Anyone know the correct syntax for sorting an 2d array using Lambdas in java where in the need to tiebreak we move on to the second element?\nlike if the array is { {1,0}, {2,5}, {1,55}}\nit becomes {{1,0}, {1,55}, {2,5}}</p>\n<p>So Im familair that the syntax for just sorting the array as input follows the syntax of</p>\n<pre><code>     ```java\n         Arrays.sort(input, (a, b) -&gt; (a[0] - b[0));\n      ```\n</code></pre>\n<p>I have tried some of my own experimental ways around this, such as</p>\n<pre><code>```java\n Arrays.sort(input, (a,b) -&gt;\n  int c1 = a[0];\n  int c2 = b[0];\nif(c1 == c2) return a[1] - b[1];\n   return c1 - c2;\n);\n</code></pre>\n<p>but these still have syntax errors in various places. Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","rabbitmq","amqp"],"comments":[{"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"score":0,"creation_date":1552680674,"post_id":55189827,"comment_id":97118317,"body_markdown":"somewhere `SimpleMessageConverter.createMessage` is being called. I can&#39;t remember if convertAndSend calls that for you or not.","body":"somewhere <code>SimpleMessageConverter.createMessage</code> is being called. I can&#39;t remember if convertAndSend calls that for you or not."},{"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"score":0,"creation_date":1552681409,"post_id":55189827,"comment_id":97118639,"body_markdown":"Looking at the source for spring, convertAndSend, calls `MessageConverter.toMessage` which calls `MessageConverter.createMessage` and since this is an instance of `SimpleMessage` we get `SimpleMessageConverter.createMessage`.","body":"Looking at the source for spring, convertAndSend, calls <code>MessageConverter.toMessage</code> which calls <code>MessageConverter.createMessage</code> and since this is an instance of <code>SimpleMessage</code> we get <code>SimpleMessageConverter.createMessage</code>."},{"owner":{"account_id":2252370,"reputation":457,"user_id":1984342,"display_name":"Neeraj Singh"},"score":1,"creation_date":1552683420,"post_id":55189827,"comment_id":97119484,"body_markdown":"Agree with what Dylan has mentioned below. You need to make your object as Serializable. Take a look at some samples on sending message similar to your use case here. https://thepracticaldeveloper.com/2016/10/23/produce-and-consume-json-messages-with-spring-boot-amqp/","body":"Agree with what Dylan has mentioned below. You need to make your object as Serializable. Take a look at some samples on sending message similar to your use case here. <a href=\"https://thepracticaldeveloper.com/2016/10/23/produce-and-consume-json-messages-with-spring-boot-amqp/\" rel=\"nofollow noreferrer\">thepracticaldeveloper.com/2016/10/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1552681824,"creation_date":1552681824,"answer_id":55190241,"question_id":55189827,"body_markdown":"The problem is that your class `SimpleMessage` does not implement `Serializable`.\r\n\r\n`RabbitTemplate.convertAndSend` uses `SimpleMessageConveter` to convert your message into an amqp message. However `SimpleMessageConverter` requires that message to implement the interface `Serializable`.\r\n\r\nYour `SimpleMessage` class should look like follows:\r\n\r\n    public class SimpleMessage implements Serializable {\r\n        ... your code here\r\n    }\r\n\r\nYou can learn more about Serializable objects [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>The problem is that your class <code>SimpleMessage</code> does not implement <code>Serializable</code>.</p>\n\n<p><code>RabbitTemplate.convertAndSend</code> uses <code>SimpleMessageConveter</code> to convert your message into an amqp message. However <code>SimpleMessageConverter</code> requires that message to implement the interface <code>Serializable</code>.</p>\n\n<p>Your <code>SimpleMessage</code> class should look like follows:</p>\n\n<pre><code>public class SimpleMessage implements Serializable {\n    ... your code here\n}\n</code></pre>\n\n<p>You can learn more about Serializable objects <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":21534452,"reputation":51,"user_id":15873316,"display_name":"Evgene Krylov"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646744982,"creation_date":1646744982,"answer_id":71395623,"question_id":55189827,"body_markdown":"There is another solution: use a different implementation of the MessageConverter instead of default SimpleMessageConverter.\r\n\r\nFor example, Jackson2JsonMessageConverter:\r\n\r\n    public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, ObjectMapper mapper) {\r\n        final var jsonRabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        jsonRabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter(mapper));\r\n        return jsonRabbitTemplate;\r\n    }","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>There is another solution: use a different implementation of the MessageConverter instead of default SimpleMessageConverter.</p>\n<p>For example, Jackson2JsonMessageConverter:</p>\n<pre><code>public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, ObjectMapper mapper) {\n    final var jsonRabbitTemplate = new RabbitTemplate(connectionFactory);\n    jsonRabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter(mapper));\n    return jsonRabbitTemplate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688670261,"creation_date":1688670261,"answer_id":76631845,"question_id":55189827,"body_markdown":"In my case changing rabbitTemplate helped. First I had this one:\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate() {\r\n        return new RabbitTemplate(connectionFactory());\r\n    }\r\n\r\nAnd then I&#39;ve changed it to this one:\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(messageConverter);\r\n        return rabbitTemplate;\r\n    }\r\n    \r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper jsonMapper) {\r\n        return new Jackson2JsonMessageConverter(jsonMapper);\r\n    }","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>In my case changing rabbitTemplate helped. First I had this one:</p>\n<pre><code>@Bean\npublic RabbitTemplate rabbitTemplate() {\n    return new RabbitTemplate(connectionFactory());\n}\n</code></pre>\n<p>And then I've changed it to this one:</p>\n<pre><code>@Bean\npublic RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\n    RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n    rabbitTemplate.setMessageConverter(messageConverter);\n    return rabbitTemplate;\n}\n\n@Bean\npublic MessageConverter messageConverter(ObjectMapper jsonMapper) {\n    return new Jackson2JsonMessageConverter(jsonMapper);\n}\n</code></pre>\n"}],"owner":{"account_id":2683361,"reputation":145,"user_id":2318215,"accept_rate":25,"display_name":"el-chico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10812,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55190241,"answer_count":3,"score":9,"last_activity_date":1688670261,"creation_date":1552679615,"question_id":55189827,"body_markdown":"I try to publish a message on a Queue with RabbitTemplate (using Spring Boot) and I got this message. I already tried to search for a solution.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: SimpleMessageConverter only supports String, byte[] and Serializable payloads, received: com.example.demo.SimpleMessage\r\n\r\nMaybe this part of code can help\r\n\r\n    @Override\r\n    \tpublic void run(String...strings) throws Exception {\r\n    \t\t\r\n    \t\tSimpleMessage simpleMessage = new SimpleMessage();\r\n    \t\tsimpleMessage.setName(&quot;FirstMessage&quot;);\r\n    \t\tsimpleMessage.setDescription(&quot;simpleDescription&quot;);\r\n    \t\t\r\n    \t\trabbitTemplate.convertAndSend(&quot;TestExchange&quot;, &quot;testRouting&quot;, simpleMessage);\r\n    \t}\r\n\r\nI appreciate any collaboration.","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>I try to publish a message on a Queue with RabbitTemplate (using Spring Boot) and I got this message. I already tried to search for a solution.</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: SimpleMessageConverter only supports String, byte[] and Serializable payloads, received: com.example.demo.SimpleMessage\n</code></pre>\n\n<p>Maybe this part of code can help</p>\n\n<pre><code>@Override\n    public void run(String...strings) throws Exception {\n\n        SimpleMessage simpleMessage = new SimpleMessage();\n        simpleMessage.setName(\"FirstMessage\");\n        simpleMessage.setDescription(\"simpleDescription\");\n\n        rabbitTemplate.convertAndSend(\"TestExchange\", \"testRouting\", simpleMessage);\n    }\n</code></pre>\n\n<p>I appreciate any collaboration.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1688654143,"post_id":76629651,"comment_id":135105597,"body_markdown":"How did you create the `imageView` (show your xml)? most likely the image view is scaling the image down to fit the screen, thus the coordinates are off by the scale factor.","body":"How did you create the <code>imageView</code> (show your xml)? most likely the image view is scaling the image down to fit the screen, thus the coordinates are off by the scale factor."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1688661048,"post_id":76629651,"comment_id":135107085,"body_markdown":"My apologies, I added the XML to the post. I currently have it to wrap_content, however switching it to match_parent gives the same result.","body":"My apologies, I added the XML to the post. I currently have it to wrap_content, however switching it to match_parent gives the same result."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1688664116,"post_id":76629651,"comment_id":135107603,"body_markdown":"Thanks xml was to see if you had set any of the scaling stuff, but it still might be scaling it. Try something like `Matrix imgMatrix = mapImage.getImageMatrix()` then try `dump` or `toString` on that to get values of the Matrix being applied to the image. Or try `imgMatrix.isIdentity()` to see if it returns false.","body":"Thanks xml was to see if you had set any of the scaling stuff, but it still might be scaling it. Try something like <code>Matrix imgMatrix = mapImage.getImageMatrix()</code> then try <code>dump</code> or <code>toString</code> on that to get values of the Matrix being applied to the image. Or try <code>imgMatrix.isIdentity()</code> to see if it returns false."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1688667683,"post_id":76629651,"comment_id":135108182,"body_markdown":"`mapImage.getImageMatrix().toString()` returns this: `Matrix{[0.8178694, 0.0, 0.0][0.0, 0.8178694, 69.391754][0.0, 0.0, 1.0]}`\nand `mapImage.getImageMatrix().toString` returns `false`. Can you help me decipher the first one because I would like to know what it means. Thanks!","body":"<code>mapImage.getImageMatrix().toString()</code> returns this: <code>Matrix{[0.8178694, 0.0, 0.0][0.0, 0.8178694, 69.391754][0.0, 0.0, 1.0]}</code> and <code>mapImage.getImageMatrix().toString</code> returns <code>false</code>. Can you help me decipher the first one because I would like to know what it means. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1688738771,"post_id":76631801,"comment_id":135118292,"body_markdown":"Thank you, it worked slightly better, however the points are still shifted by a considerable amount. It gets increasingly worse when you use a horizontal image.","body":"Thank you, it worked slightly better, however the points are still shifted by a considerable amount. It gets increasingly worse when you use a horizontal image."}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688669888,"creation_date":1688669888,"answer_id":76631801,"question_id":76629651,"body_markdown":"So the imageView is being scaled down and translated in the Y direction based on matrix used.\r\n\r\n[This post][1] gives some explanation of Matrix&#39;s used with view\r\n\r\n[Another article][2] to explain the matrix\r\n\r\nFrom memory of doing something similar a while ago you need to invert the matrix as you want to find the coordinates on the imageView that match the point you clicked (so they need to be scaled up)\r\n\r\nThen map your points\r\n\r\ne.g. something like this should work (not tested but I do something similar in my app to handle clicks on a scaled view)\r\n\r\n```\r\n// Create a new matrix to hold the inverted matrix\r\nMatrix mappingMatrix = new Matrix();\r\n// Create a copy of the imageView matrix but inverted\r\nimgMatrix.invert(mappingMatrix);\r\n// map your input points to where they should appear on the imageView\r\n// x and y in a float array as that how mapPoints takes input\r\nfloat[] points = new float[2];\r\npoints[0] = motionEvent.getX();\r\npoints[1] = motionEvent.getY();\r\nmappingMatrix.mapPoints(points);\r\nfloat x = points[0];\r\nfloat y = points[1];\r\n\r\n```\r\n\r\n[mapPoints][3] reference\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13246914/2373819\r\n  [2]: https://medium.com/mobile-app-development-publication/android-matrix-scaletype-explained-4501f0796be8\r\n  [3]: https://developer.android.com/reference/android/graphics/Matrix#mapPoints(float[])","title":"MotionEvent.getX() and MotionEvent.getY() returning values that are strangely shifted","body":"<p>So the imageView is being scaled down and translated in the Y direction based on matrix used.</p>\n<p><a href=\"https://stackoverflow.com/a/13246914/2373819\">This post</a> gives some explanation of Matrix's used with view</p>\n<p><a href=\"https://medium.com/mobile-app-development-publication/android-matrix-scaletype-explained-4501f0796be8\" rel=\"nofollow noreferrer\">Another article</a> to explain the matrix</p>\n<p>From memory of doing something similar a while ago you need to invert the matrix as you want to find the coordinates on the imageView that match the point you clicked (so they need to be scaled up)</p>\n<p>Then map your points</p>\n<p>e.g. something like this should work (not tested but I do something similar in my app to handle clicks on a scaled view)</p>\n<pre><code>// Create a new matrix to hold the inverted matrix\nMatrix mappingMatrix = new Matrix();\n// Create a copy of the imageView matrix but inverted\nimgMatrix.invert(mappingMatrix);\n// map your input points to where they should appear on the imageView\n// x and y in a float array as that how mapPoints takes input\nfloat[] points = new float[2];\npoints[0] = motionEvent.getX();\npoints[1] = motionEvent.getY();\nmappingMatrix.mapPoints(points);\nfloat x = points[0];\nfloat y = points[1];\n\n</code></pre>\n<p><a href=\"https://developer.android.com/reference/android/graphics/Matrix#mapPoints(float%5B%5D)\" rel=\"nofollow noreferrer\">mapPoints</a> reference</p>\n"}],"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688669888,"creation_date":1688652091,"question_id":76629651,"body_markdown":"I am trying to make an app where you can place points/markers on an image using an imageview. What I am trying to do is get the coordinates of a touch event and then drawing a marker bitmap at those coordinates, however MotionEvent.getX() and MotionEvent.getY() return values that are strangely shifted. When I click the imageView, the markers appear shifted down and left. I have tried using MotionEvent.getRawX() and MotionEvent.getRawY(), however these seem to make the shifting become worse. Here is an example:\r\n[![Image of shifted points][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9FSL.jpg\r\n\r\nHere is the current code:\r\n```java\r\n        ImageView mapImage = findViewById(R.id.mapImageView);\r\n        Bitmap imageBitmap = BitmapFactory.decodeFile(projectfile2.getPath()).copy(Bitmap.Config.ARGB_8888,true);\r\n        mapImage.setImageBitmap(imageBitmap);\r\n        Canvas canvas = new Canvas(imageBitmap);\r\n        //canvas.setBitmap(imageBitmap);\r\n        //canvas.drawBitmap(imageBitmap,0,0,null);\r\n        Bitmap pinBitmap = BitmapFactory.decodeResource(getResources(),R.drawable.red_marker);\r\n        mapImage.setOnTouchListener((view, motionEvent) -&gt; {\r\n            ImageView view2 = (ImageView) view;\r\n            //view2.bringToFront();\r\n            viewTransformation(view2, motionEvent);\r\n            if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n                float x = motionEvent.getX();\r\n                float y = motionEvent.getY();\r\n                canvas.drawBitmap(pinBitmap,x,y,null);\r\n                Log.d(&quot;app123_X_and_Y&quot;,x+&quot; | &quot;+y);\r\n            }\r\n            return true;\r\n        });\r\n```\r\nXML:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.IndoorMapView&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/mapImageView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/rectangle&quot;\r\n        tools:srcCompat=&quot;@tools:sample/avatars&quot;\r\n        android:contentDescription=&quot;Map&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nAny ideas on how to get the correct coordinates? One quick theory I have is that when I set the canvas bitmap, its not setting it to the same size, however I&#39;m not sure if that&#39;s how canvas&#39; work.\r\nThank you.","title":"MotionEvent.getX() and MotionEvent.getY() returning values that are strangely shifted","body":"<p>I am trying to make an app where you can place points/markers on an image using an imageview. What I am trying to do is get the coordinates of a touch event and then drawing a marker bitmap at those coordinates, however MotionEvent.getX() and MotionEvent.getY() return values that are strangely shifted. When I click the imageView, the markers appear shifted down and left. I have tried using MotionEvent.getRawX() and MotionEvent.getRawY(), however these seem to make the shifting become worse. Here is an example:\n<a href=\"https://i.stack.imgur.com/X9FSL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9FSL.jpg\" alt=\"Image of shifted points\" /></a></p>\n<p>Here is the current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ImageView mapImage = findViewById(R.id.mapImageView);\n        Bitmap imageBitmap = BitmapFactory.decodeFile(projectfile2.getPath()).copy(Bitmap.Config.ARGB_8888,true);\n        mapImage.setImageBitmap(imageBitmap);\n        Canvas canvas = new Canvas(imageBitmap);\n        //canvas.setBitmap(imageBitmap);\n        //canvas.drawBitmap(imageBitmap,0,0,null);\n        Bitmap pinBitmap = BitmapFactory.decodeResource(getResources(),R.drawable.red_marker);\n        mapImage.setOnTouchListener((view, motionEvent) -&gt; {\n            ImageView view2 = (ImageView) view;\n            //view2.bringToFront();\n            viewTransformation(view2, motionEvent);\n            if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n                float x = motionEvent.getX();\n                float y = motionEvent.getY();\n                canvas.drawBitmap(pinBitmap,x,y,null);\n                Log.d(&quot;app123_X_and_Y&quot;,x+&quot; | &quot;+y);\n            }\n            return true;\n        });\n</code></pre>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.IndoorMapView&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/mapImageView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/rectangle&quot;\n        tools:srcCompat=&quot;@tools:sample/avatars&quot;\n        android:contentDescription=&quot;Map&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Any ideas on how to get the correct coordinates? One quick theory I have is that when I set the canvas bitmap, its not setting it to the same size, however I'm not sure if that's how canvas' work.\nThank you.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth2resourceserver"],"answers":[{"comments":[{"owner":{"account_id":23010353,"reputation":5,"user_id":17132957,"display_name":"slt"},"score":1,"creation_date":1688689136,"post_id":76631460,"comment_id":135111182,"body_markdown":"This is great, but I wonder how it works. As far as I know, when I set the value for spring.security.oauth2.resourceserver.jwt.issuer-uri, it will auto configure a bean for JwtDecoder. But I can&#39;t use it?","body":"This is great, but I wonder how it works. As far as I know, when I set the value for spring.security.oauth2.resourceserver.jwt.issuer-uri, it will auto configure a bean for JwtDecoder. But I can&#39;t use it?"}],"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688666541,"creation_date":1688666541,"answer_id":76631460,"question_id":76630475,"body_markdown":"In a separate config class, You might have to add a bean for the jwt decoder like this:\r\n\r\n\t@Bean\r\n\tpublic JwtDecoder jwtDecoder(OAuth2ResourceServerProperties properties) {\r\n\t\treturn JwtDecoders.fromIssuerLocation(properties.getJwt().getIssuerUri());\r\n\t}\r\n\r\nThe import for the properties would be:\r\n\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>In a separate config class, You might have to add a bean for the jwt decoder like this:</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder(OAuth2ResourceServerProperties properties) {\n    return JwtDecoders.fromIssuerLocation(properties.getJwt().getIssuerUri());\n}\n</code></pre>\n<p>The import for the properties would be:</p>\n<pre><code>import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23010353,"reputation":5,"user_id":17132957,"display_name":"slt"},"score":0,"creation_date":1688689006,"post_id":76631782,"comment_id":135111177,"body_markdown":"Yes I&#39;m counting on auto-configuration. As far as I know, when I set the value for spring.security.oauth2.resourceserver.jwt.issuer-uri, it will auto configure a bean for JwtDecoder. That&#39;s why I thought that I can use it like a normal bean.","body":"Yes I&#39;m counting on auto-configuration. As far as I know, when I set the value for spring.security.oauth2.resourceserver.jwt.issuer-uri, it will auto configure a bean for JwtDecoder. That&#39;s why I thought that I can use it like a normal bean."},{"owner":{"account_id":9563876,"reputation":351,"user_id":7103768,"display_name":"Benaya Trabelsi"},"score":0,"creation_date":1688800822,"post_id":76631782,"comment_id":135125092,"body_markdown":"But that&#39;s not enough - so you have a bean, but you must inject it if you want to use the bean. And you don&#39;t do that here, at least in the code you sheared","body":"But that&#39;s not enough - so you have a bean, but you must inject it if you want to use the bean. And you don&#39;t do that here, at least in the code you sheared"}],"tags":[],"owner":{"account_id":9563876,"reputation":351,"user_id":7103768,"display_name":"Benaya Trabelsi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688669721,"creation_date":1688669721,"answer_id":76631782,"question_id":76630475,"body_markdown":"Where is the actual dependency injection? and where does it try to get the value from your application properties? or do you count on auto-configuration? please show the entire flow of your code, looks like some of it is missing. \r\nHow would Spring boot know where to take the decoder from? you should make sure you have the relevant bean available in the application context, and then use the @Autowired annotation, or use @RequiredArgsConstructor, since you use lombok. \r\n","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>Where is the actual dependency injection? and where does it try to get the value from your application properties? or do you count on auto-configuration? please show the entire flow of your code, looks like some of it is missing.\nHow would Spring boot know where to take the decoder from? you should make sure you have the relevant bean available in the application context, and then use the @Autowired annotation, or use @RequiredArgsConstructor, since you use lombok.</p>\n"}],"owner":{"account_id":23010353,"reputation":5,"user_id":17132957,"display_name":"slt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76631460,"answer_count":2,"score":0,"last_activity_date":1688669721,"creation_date":1688657744,"question_id":76630475,"body_markdown":"I made an application with *spring-boot-starter-oauth2-resource-server* in *pom.xml* and a value for *spring.security.oauth2.resourceserver.jwt.issuer-uri* in *application.properties*. It works fine when I start it for the first time.\r\nThen I added a @Service class with org.springframework.security.oauth2.jwt.JwtDecoder injected as below\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class MyService {\r\n    \r\n        private final JwtDecoder jwtDecoder;\r\n        private final WebClient webClient;\r\n    \r\n        public MyService(\r\n                JwtDecoder jwtDecoder,\r\n                WebClient webClient\r\n        ) {\r\n            this.jwtDecoder = jwtDecoder;\r\n            this.webClient = webClient;\r\n        }\r\n    \r\n        // method definitions\r\n    \r\n    }\r\n\r\nWhen I run, it throws error \r\n&gt; Parameter 0 of constructor in MyService required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.\r\n\r\nWhen I remove the injection it works fine again.\r\n\r\nWhat should I do?","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>I made an application with <em>spring-boot-starter-oauth2-resource-server</em> in <em>pom.xml</em> and a value for <em>spring.security.oauth2.resourceserver.jwt.issuer-uri</em> in <em>application.properties</em>. It works fine when I start it for the first time.\nThen I added a @Service class with org.springframework.security.oauth2.jwt.JwtDecoder injected as below</p>\n<pre><code>@Slf4j\n@Service\npublic class MyService {\n\n    private final JwtDecoder jwtDecoder;\n    private final WebClient webClient;\n\n    public MyService(\n            JwtDecoder jwtDecoder,\n            WebClient webClient\n    ) {\n        this.jwtDecoder = jwtDecoder;\n        this.webClient = webClient;\n    }\n\n    // method definitions\n\n}\n</code></pre>\n<p>When I run, it throws error</p>\n<blockquote>\n<p>Parameter 0 of constructor in MyService required a bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' that could not be found.</p>\n</blockquote>\n<p>When I remove the injection it works fine again.</p>\n<p>What should I do?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":19515913,"reputation":31,"user_id":14278790,"display_name":"satyapal saran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688669563,"creation_date":1688668963,"question_id":76631705,"body_markdown":"I want to download sample_private.key some other location and given path location in Application-test.yml.\r\nsample_private.key file is every time change . I need to reload Util configuration. Util.java is from some other repo. So we can’t modify.\r\n\r\n```\r\n\r\n\r\n@Configuration\r\npublic class Util {\r\n\r\n  private final String privateKeyLocation;\r\n\r\n  @Autowired\r\n  public Util(\r\n      @Value(“${parent.child.privateKeyLocation}&quot;) String privateKeyLocation\r\n     ) {\r\n    this.privateKeyLocation = privateKeyLocation;\r\n  }\r\n\r\n\r\nApplication-test.yml\r\nparent:\r\n  child:\r\n    privateKeyLocation: sample_private.key\r\n```\r\n\r\n\r\n\r\n\r\n\r\nIs any way to reload applicationContext/Application-test.yml.  I did some way but not working like below\r\n```\r\n1.@DirtiesContext\r\n2.((ConfigurableApplicationContext) applicationContext).refresh();\r\n ```\r\n","title":"reload application.yml in spring-boot","body":"<p>I want to download sample_private.key some other location and given path location in Application-test.yml.\nsample_private.key file is every time change . I need to reload Util configuration. Util.java is from some other repo. So we can’t modify.</p>\n<pre><code>\n\n@Configuration\npublic class Util {\n\n  private final String privateKeyLocation;\n\n  @Autowired\n  public Util(\n      @Value(“${parent.child.privateKeyLocation}&quot;) String privateKeyLocation\n     ) {\n    this.privateKeyLocation = privateKeyLocation;\n  }\n\n\nApplication-test.yml\nparent:\n  child:\n    privateKeyLocation: sample_private.key\n</code></pre>\n<p>Is any way to reload applicationContext/Application-test.yml.  I did some way but not working like below</p>\n<pre><code>1.@DirtiesContext\n2.((ConfigurableApplicationContext) applicationContext).refresh();\n</code></pre>\n"},{"tags":["java","arrays","annotations"],"comments":[{"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"score":0,"creation_date":1688666898,"post_id":76631471,"comment_id":135108040,"body_markdown":"Also, if this can be solved using Spring and `@AliasFor`, I&#39;m happy to see that as well.","body":"Also, if this can be solved using Spring and <code>@AliasFor</code>, I&#39;m happy to see that as well."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1688666951,"post_id":76631471,"comment_id":135108053,"body_markdown":"How are you processing the annotated types?","body":"How are you processing the annotated types?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688667751,"post_id":76631471,"comment_id":135108194,"body_markdown":"You could maybe do it in the code that uses MyAnnotation, but I&#39;d be shocked if there was a better alternative short of bytecode rewriting.","body":"You could maybe do it in the code that uses MyAnnotation, but I&#39;d be shocked if there was a better alternative short of bytecode rewriting."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1688668737,"post_id":76631471,"comment_id":135108405,"body_markdown":"If it&#39;s a custom annotation, with probably custom handling via Reflection, then what about separating 2 annotation fields: kind of &quot;basicValues&quot; and &quot;additionalValues&quot; and specify only the latter in user code? Concat both arrays while annotation processing.","body":"If it&#39;s a custom annotation, with probably custom handling via Reflection, then what about separating 2 annotation fields: kind of &quot;basicValues&quot; and &quot;additionalValues&quot; and specify only the latter in user code? Concat both arrays while annotation processing."},{"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"score":0,"creation_date":1688669189,"post_id":76631471,"comment_id":135108496,"body_markdown":"@Unmitigated I&#39;m not processing it - in my actual use case, `@MyAnnotation` is a composition annotation composing a number of Spring annotations - so it is Spring that is processing the annotation.","body":"@Unmitigated I&#39;m not processing it - in my actual use case, <code>@MyAnnotation</code> is a composition annotation composing a number of Spring annotations - so it is Spring that is processing the annotation."}],"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688669312,"creation_date":1688666671,"question_id":76631471,"body_markdown":"I&#39;d like to create a custom annotation that defines some default values in an array and where usages of that annotation are able to add values to that array without re-specifying them.\r\n\r\nSo, annotation definition:\r\n\r\n    public @interface MyAnnotation {\r\n        String[] value() default { &quot;A&quot;, &quot;B&quot; };\r\n    }\r\n\r\nThen the usage:\r\n\r\n    @MyAnnotation({&quot;C&quot;, &quot;D&quot;})\r\n    public class MyClass { }\r\n\r\nI&#39;d like the runtime value on the annotation to be `{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}` - is there a way to do this? Again - I&#39;d like it to be *without* re-specifying.\r\n\r\nConsider having a large number of usages of `@MyAnnotation` and wanting to add `&quot;X&quot;` to the array value for each, without having to change each usages of `@MyAnnotation` - ie, changing just the `@MyAnnotation` to look like this:\r\n\r\n    public @interface MyAnnotation {\r\n        String[] value() default { &quot;A&quot;, &quot;B&quot;, &quot;X&quot; };\r\n    }","title":"Java Annotations: how to add to default array?","body":"<p>I'd like to create a custom annotation that defines some default values in an array and where usages of that annotation are able to add values to that array without re-specifying them.</p>\n<p>So, annotation definition:</p>\n<pre><code>public @interface MyAnnotation {\n    String[] value() default { &quot;A&quot;, &quot;B&quot; };\n}\n</code></pre>\n<p>Then the usage:</p>\n<pre><code>@MyAnnotation({&quot;C&quot;, &quot;D&quot;})\npublic class MyClass { }\n</code></pre>\n<p>I'd like the runtime value on the annotation to be <code>{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}</code> - is there a way to do this? Again - I'd like it to be <em>without</em> re-specifying.</p>\n<p>Consider having a large number of usages of <code>@MyAnnotation</code> and wanting to add <code>&quot;X&quot;</code> to the array value for each, without having to change each usages of <code>@MyAnnotation</code> - ie, changing just the <code>@MyAnnotation</code> to look like this:</p>\n<pre><code>public @interface MyAnnotation {\n    String[] value() default { &quot;A&quot;, &quot;B&quot;, &quot;X&quot; };\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","knn","opensearch","scoring"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688601438,"post_id":76624659,"comment_id":135096937,"body_markdown":"If you have already made query in dev tool, why don&#39;t you make it search-template, and invoke that particular search-template in Java client.","body":"If you have already made query in dev tool, why don&#39;t you make it search-template, and invoke that particular search-template in Java client."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1688612029,"post_id":76624659,"comment_id":135097822,"body_markdown":"Because I have multiple filters in my bool query and they will change depending on the input. It&#39;d be cleaner if I do it programmatically.","body":"Because I have multiple filters in my bool query and they will change depending on the input. It&#39;d be cleaner if I do it programmatically."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688617115,"post_id":76624659,"comment_id":135098176,"body_markdown":"Multiple filters can be configured in search-template, actually it&#39;s quite easy if you do some study, and also most used approach because you can use that template also in dev tool not only in Java client. And in fact, sometimes in Java client it gets so complicated because of Strings.","body":"Multiple filters can be configured in search-template, actually it&#39;s quite easy if you do some study, and also most used approach because you can use that template also in dev tool not only in Java client. And in fact, sometimes in Java client it gets so complicated because of Strings."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1688663112,"post_id":76624659,"comment_id":135107456,"body_markdown":"Do you have a link for the search-template?","body":"Do you have a link for the search-template?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":1,"creation_date":1688683714,"post_id":76624659,"comment_id":135110746,"body_markdown":"Sure, [following shows how to make search template in dev tool](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html), and [this github repo](https://github.com/af4092/Elasticsearch-Search-Template-Invoking-Java-Client) shows how to invoke search template. Additionally [you can build](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html) search template directly in the Java client as well. But personally I would recommend to build them in dev tool, because in this way you can use them both in the elastic query and java client","body":"Sure, <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html\" rel=\"nofollow noreferrer\">following shows how to make search template in dev tool</a>, and <a href=\"https://github.com/af4092/Elasticsearch-Search-Template-Invoking-Java-Client\" rel=\"nofollow noreferrer\">this github repo</a> shows how to invoke search template. Additionally <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html\" rel=\"nofollow noreferrer\">you can build</a> search template directly in the Java client as well. But personally I would recommend to build them in dev tool, because in this way you can use them both in the elastic query and java client"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688668346,"creation_date":1688600217,"question_id":76624659,"body_markdown":"I have the following example from Opensearch documentation\r\n\r\n```\r\nInlineScript inlineScript = new InlineScript.Builder()\r\n        .source(&quot;knn_score&quot;)\r\n        .lang(&quot;knn&quot;)\r\n        .params(Map.of(\r\n                &quot;field&quot;, JsonData.of(&quot;my_vector&quot;),\r\n                &quot;query_value&quot;, JsonData.of(List.of(1.5, 5.5, 4.5, 6.4)),\r\n                &quot;space_type&quot;, JsonData.of(&quot;cosinesimil&quot;)\r\n                ))\r\n        .build();\r\nQuery query = new Query.Builder()\r\n        .scriptScore(new ScriptScoreQuery.Builder()\r\n            .query(new Query.Builder()\r\n                .matchAll(new MatchAllQuery.Builder().build())\r\n                .build())\r\n            .script(new Script.Builder()\r\n                .inline(inlineScript)\r\n                .build())\r\n            .build())\r\n        .build();\r\nSearchRequest searchRequest = new SearchRequest.Builder()\r\n        .index(index)\r\n        .query(query)\r\n        .build();\r\nSearchResponse&lt;JsonNode&gt; searchResponse = client.search(searchRequest, JsonNode.class);\r\n```\r\n\r\nI would like to do something similar, but instead of a matchAll query, I would like to use a BoolQuery. This is a sample BoolQuery:\r\n\r\n```\r\n      BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\r\n\r\n      BoolQueryBuilder innerBoolQuery = QueryBuilders.boolQuery();\r\n\r\n      innerBoolQuery.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(200).lte(350));\r\n\r\n      boolQuery.filter(innerBoolQuery);\r\n\r\n```\r\n\r\nI want to do something like this, but have been unsuccessful:\r\n```\r\nQuery query = new Query.Builder()\r\n        .scriptScore(new ScriptScoreQuery.Builder()\r\n            .query(boolQuery) ---&gt; Compilation error.\r\n            .script(new Script.Builder()\r\n                .inline(inlineScript)\r\n                .build())\r\n            .build())\r\n        .build();\r\n```\r\n\r\nAn example of how I want my actual query to look like:\r\n```\r\nGET /my_index/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;script_score&quot;: {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;filter&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                {\r\n                  &quot;range&quot;: {\r\n                    &quot;price&quot;: {\r\n                      &quot;gte&quot;: 200,\r\n                      &quot;lte&quot;: 350\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;script&quot;: {\r\n        &quot;source&quot;: &quot;knn_score&quot;,\r\n        &quot;lang&quot;: &quot;knn&quot;,\r\n        &quot;params&quot;: {\r\n          &quot;field&quot;: &quot;my_vector&quot;,\r\n          &quot;query_value&quot;: [1.5, 5.5, 4.5, 6.4],\r\n          &quot;space_type&quot;: &quot;cosinesimil&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI am using the opensearch-java client. Kindly help.","title":"Opensearch scoring script with bool filter java","body":"<p>I have the following example from Opensearch documentation</p>\n<pre><code>InlineScript inlineScript = new InlineScript.Builder()\n        .source(&quot;knn_score&quot;)\n        .lang(&quot;knn&quot;)\n        .params(Map.of(\n                &quot;field&quot;, JsonData.of(&quot;my_vector&quot;),\n                &quot;query_value&quot;, JsonData.of(List.of(1.5, 5.5, 4.5, 6.4)),\n                &quot;space_type&quot;, JsonData.of(&quot;cosinesimil&quot;)\n                ))\n        .build();\nQuery query = new Query.Builder()\n        .scriptScore(new ScriptScoreQuery.Builder()\n            .query(new Query.Builder()\n                .matchAll(new MatchAllQuery.Builder().build())\n                .build())\n            .script(new Script.Builder()\n                .inline(inlineScript)\n                .build())\n            .build())\n        .build();\nSearchRequest searchRequest = new SearchRequest.Builder()\n        .index(index)\n        .query(query)\n        .build();\nSearchResponse&lt;JsonNode&gt; searchResponse = client.search(searchRequest, JsonNode.class);\n</code></pre>\n<p>I would like to do something similar, but instead of a matchAll query, I would like to use a BoolQuery. This is a sample BoolQuery:</p>\n<pre><code>      BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\n\n      BoolQueryBuilder innerBoolQuery = QueryBuilders.boolQuery();\n\n      innerBoolQuery.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(200).lte(350));\n\n      boolQuery.filter(innerBoolQuery);\n\n</code></pre>\n<p>I want to do something like this, but have been unsuccessful:</p>\n<pre><code>Query query = new Query.Builder()\n        .scriptScore(new ScriptScoreQuery.Builder()\n            .query(boolQuery) ---&gt; Compilation error.\n            .script(new Script.Builder()\n                .inline(inlineScript)\n                .build())\n            .build())\n        .build();\n</code></pre>\n<p>An example of how I want my actual query to look like:</p>\n<pre><code>GET /my_index/_search\n{\n  &quot;query&quot;: {\n    &quot;script_score&quot;: {\n      &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;filter&quot;: {\n            &quot;bool&quot;: {\n              &quot;must&quot;: [\n                {\n                  &quot;range&quot;: {\n                    &quot;price&quot;: {\n                      &quot;gte&quot;: 200,\n                      &quot;lte&quot;: 350\n                    }\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      &quot;script&quot;: {\n        &quot;source&quot;: &quot;knn_score&quot;,\n        &quot;lang&quot;: &quot;knn&quot;,\n        &quot;params&quot;: {\n          &quot;field&quot;: &quot;my_vector&quot;,\n          &quot;query_value&quot;: [1.5, 5.5, 4.5, 6.4],\n          &quot;space_type&quot;: &quot;cosinesimil&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am using the opensearch-java client. Kindly help.</p>\n"},{"tags":["java","odata","olingo"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688673155,"post_id":76630293,"comment_id":135109174,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28963951,"reputation":1,"user_id":22185860,"display_name":"jdev_17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688667391,"creation_date":1688656425,"question_id":76630293,"body_markdown":"`Looking to filter result using datetime with odata v2 (implemented odata v2 using olingo )\r\n\r\n\r\n\r\ntried below datetime filter but getting error\r\n\r\nhttps://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime gt datetime&#39;2023-06-16T15:01:25&#39;\r\n\r\n**error:**\r\nclass java.util.GregorianCalendar cannot be cast to class java.util.Date (java.util.GregorianCalendar and java.util.Date are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\nlooks like need to write some custom filter in my java application using olingo any input on using existing filter or writing custom filter will be helpful\r\n\r\nNote: Using odatav2 and Olingo-odata2 jars`","title":"Datetime filter with olingo (odata v2)","body":"<p>`Looking to filter result using datetime with odata v2 (implemented odata v2 using olingo )</p>\n<p>tried below datetime filter but getting error</p>\n<p><a href=\"https://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime\" rel=\"nofollow noreferrer\">https://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime</a> gt datetime'2023-06-16T15:01:25'</p>\n<p><strong>error:</strong>\nclass java.util.GregorianCalendar cannot be cast to class java.util.Date (java.util.GregorianCalendar and java.util.Date are in module java.base of loader 'bootstrap')</p>\n<p>looks like need to write some custom filter in my java application using olingo any input on using existing filter or writing custom filter will be helpful</p>\n<p>Note: Using odatav2 and Olingo-odata2 jars`</p>\n"},{"tags":["java","javascript","eclipse","spring","swing"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1580297814,"post_id":27425472,"comment_id":106049319,"body_markdown":"this jar needs to be present in the dependencies.","body":"this jar needs to be present in the dependencies."}],"answers":[{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1580297805,"post_id":27425860,"comment_id":106049314,"body_markdown":"exactly! this jar needs to be present in the dependencies.","body":"exactly! this jar needs to be present in the dependencies."}],"tags":[],"owner":{"account_id":5427641,"reputation":101,"user_id":4319442,"display_name":"kyzh101"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418310103,"creation_date":1418310103,"answer_id":27425860,"question_id":27425472,"body_markdown":"May be you are missing org.springframework.beans-3.0.4.RELEASE   jar","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>May be you are missing org.springframework.beans-3.0.4.RELEASE   jar</p>\n"},{"comments":[{"owner":{"account_id":3903951,"reputation":301,"user_id":3231075,"accept_rate":60,"display_name":"Elavarasan"},"score":1,"creation_date":1418311123,"post_id":27425869,"comment_id":43294095,"body_markdown":"Thank you :) as you said I have download (spring-beans-3.1.xsd download) jar and its worked for me......","body":"Thank you :) as you said I have download (spring-beans-3.1.xsd download) jar and its worked for me......"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1418312106,"post_id":27425869,"comment_id":43294796,"body_markdown":"Your welocome. for better dependency management, i recommend to use  maven","body":"Your welocome. for better dependency management, i recommend to use  maven"},{"owner":{"account_id":8098558,"reputation":2782,"user_id":6102259,"accept_rate":33,"display_name":"ketan"},"score":0,"creation_date":1499873436,"post_id":27425869,"comment_id":77097239,"body_markdown":"If you are maven user then upgrade your version &gt;= 4.0.0","body":"If you are maven user then upgrade your version &gt;= 4.0.0"},{"owner":{"account_id":7813124,"reputation":715,"user_id":5908729,"accept_rate":48,"display_name":"sql_dummy"},"score":0,"creation_date":1519406498,"post_id":27425869,"comment_id":84912990,"body_markdown":"Okay now I saw when this exception is raised, can you give the reason like what exactly calls `BeansException`","body":"Okay now I saw when this exception is raised, can you give the reason like what exactly calls <code>BeansException</code>"}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1418310541,"creation_date":1418310139,"answer_id":27425869,"question_id":27425472,"body_markdown":"If you aren&#39;t using maven (or any other dependency management tool, for that matter), you should add `spring-context` dependencies manually, which are `spring-beans`, `spring-core`, `spring-aop` and `spring-expression`, of course each of them have their own dependencies either (Transitive Dependency). By the way, `BeansException` is part of `spring-beans` module","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>If you aren't using maven (or any other dependency management tool, for that matter), you should add <code>spring-context</code> dependencies manually, which are <code>spring-beans</code>, <code>spring-core</code>, <code>spring-aop</code> and <code>spring-expression</code>, of course each of them have their own dependencies either (Transitive Dependency). By the way, <code>BeansException</code> is part of <code>spring-beans</code> module</p>\n"},{"comments":[{"owner":{"account_id":2306806,"reputation":86250,"user_id":2025923,"accept_rate":100,"display_name":"Tushar"},"score":0,"creation_date":1481512962,"post_id":41093721,"comment_id":69392262,"body_markdown":"Welcome to StackOverflow! Look around, it&#39;s English site. For now, I&#39;ve translated the post in English. Please post your questions, answers and comments in English.","body":"Welcome to StackOverflow! Look around, it&#39;s English site. For now, I&#39;ve translated the post in English. Please post your questions, answers and comments in English."}],"tags":[],"owner":{"account_id":3780797,"reputation":21,"user_id":3140328,"display_name":"adiarray"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481512876,"creation_date":1481512618,"answer_id":41093721,"question_id":27425472,"body_markdown":"Yes I&#39;ve managed to resolve the issue.... I use the following pattern: the program and the results without error\r\n\r\nVersion:\r\n3.0.4.RELEASE\r\n\r\nThen select -&gt; Maven-&gt; Update Project\r\n\r\n","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Yes I've managed to resolve the issue.... I use the following pattern: the program and the results without error</p>\n\n<p>Version:\n3.0.4.RELEASE</p>\n\n<p>Then select -> Maven-> Update Project</p>\n"},{"tags":[],"owner":{"account_id":2191415,"reputation":159,"user_id":1938347,"display_name":"Pichitron"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517468201,"creation_date":1517468201,"answer_id":48556969,"question_id":27425472,"body_markdown":"    I have problems with *org.springframework.context.EnvironmentAware*\r\n    Adding this dependency in pom from maven repository solve my problem.\r\n    \r\n    *&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;*","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<pre><code>I have problems with *org.springframework.context.EnvironmentAware*\nAdding this dependency in pom from maven repository solve my problem.\n\n*&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3732901,"reputation":491,"user_id":3913894,"display_name":"khwilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618294569,"creation_date":1618294569,"answer_id":67069612,"question_id":27425472,"body_markdown":"The error occurs because you are missing the Spring Beans dependency. If you are using Maven, add the Spring Beans dependency to your **pom.xml** file.\r\n\r\nAn example would be as follows:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can search for the latest version of Spring Beans from the Maven Repository website: [https://mvnrepository.com/][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>The error occurs because you are missing the Spring Beans dependency. If you are using Maven, add the Spring Beans dependency to your <strong>pom.xml</strong> file.</p>\n<p>An example would be as follows:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n  &lt;version&gt;5.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can search for the latest version of Spring Beans from the Maven Repository website: <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n"},{"tags":[],"owner":{"account_id":17999776,"reputation":1,"user_id":13081967,"display_name":"Priyal Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688666811,"creation_date":1688666811,"answer_id":76631485,"question_id":27425472,"body_markdown":"Right-click on your project&gt;Select Maven&gt;Update Project&gt;Select your project name&gt;Ok\r\n\r\nThis resolved my error.\r\n\r\n","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Right-click on your project&gt;Select Maven&gt;Update Project&gt;Select your project name&gt;Ok</p>\n<p>This resolved my error.</p>\n"}],"owner":{"account_id":3903951,"reputation":301,"user_id":3231075,"accept_rate":60,"display_name":"Elavarasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37918,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27425869,"answer_count":6,"score":8,"last_activity_date":1688666811,"creation_date":1418309016,"question_id":27425472,"body_markdown":"Hi am facing issue with below error in eclipse please help to resolve this issue.\r\n\r\n **Error message**\r\n\r\n***The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files***\r\n\r\nI imported the jar file (org.springframework.context-3.0.4.RELEASE) even then am facing this issue.\r\n\r\n**see below code**( where am getting issue at line ApplicationContext appCtx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);)\r\n\r\n\r\n\t\tpackage com.csp.test.document;\r\n\t\t\r\n\t\timport static org.junit.Assert.*;\r\n\t\timport org.junit.Test;\r\n\t\timport org.springframework.context.ApplicationContext;\r\n\t\timport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\t\t\r\n\t\timport com.csp.model.Document;\r\n\t\timport com.csp.service.DocumentService;\r\n\t\t\r\n\t\tpublic class DocumentTest {\r\n\t\t\r\n\t\t\t@Test\r\n\t\t\tpublic void testGetDocument() {\r\n\t\t\t\tApplicationContext appCtx = new ClassPathXmlApplicationContext(\r\n\t\t\t\t\t\t&quot;applicationContext.xml&quot;);\r\n\t\t\r\n\t\t\t\tDocumentService documentService = (DocumentService) appCtx\r\n\t\t\t\t\t\t.getBean(&quot;documentService&quot;);\r\n\t\t\r\n\t\t\t\tDocument doc = documentService.getDocument(1);\r\n\t\t\r\n\t\t\t\tString status = null;\r\n\t\t\r\n\t\t\t\tif (doc != null) {\r\n\t\t\t\t\tstatus = documentService.saveDocument(doc);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;error in retreiving document&quot;);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tassertEquals(&quot;Success Status&quot;, &quot;SUCCESS&quot;, status);\r\n\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Hi am facing issue with below error in eclipse please help to resolve this issue.</p>\n\n<p><strong>Error message</strong></p>\n\n<p><strong><em>The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files</em></strong></p>\n\n<p>I imported the jar file (org.springframework.context-3.0.4.RELEASE) even then am facing this issue.</p>\n\n<p><strong>see below code</strong>( where am getting issue at line ApplicationContext appCtx = new ClassPathXmlApplicationContext(\"applicationContext.xml\");)</p>\n\n<pre><code>    package com.csp.test.document;\n\n    import static org.junit.Assert.*;\n    import org.junit.Test;\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\n\n    import com.csp.model.Document;\n    import com.csp.service.DocumentService;\n\n    public class DocumentTest {\n\n        @Test\n        public void testGetDocument() {\n            ApplicationContext appCtx = new ClassPathXmlApplicationContext(\n                    \"applicationContext.xml\");\n\n            DocumentService documentService = (DocumentService) appCtx\n                    .getBean(\"documentService\");\n\n            Document doc = documentService.getDocument(1);\n\n            String status = null;\n\n            if (doc != null) {\n                status = documentService.saveDocument(doc);\n            } else {\n                System.out.println(\"error in retreiving document\");\n            }\n\n            assertEquals(\"Success Status\", \"SUCCESS\", status);\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","string","replaceall"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1587309938,"post_id":61306644,"comment_id":108455240,"body_markdown":"Consider using `String.replace` instead of `String.replaceAll`","body":"Consider using <code>String.replace</code> instead of <code>String.replaceAll</code>"}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587309345,"creation_date":1587309345,"answer_id":61306720,"question_id":61306644,"body_markdown":"You need to escape the initial { with \\\\. I.e;\r\n\r\n```java\r\n        String card = &quot;{Player1}&quot;;\r\n\r\n        if (card.contains(&quot;{Player1}&quot;)) {\r\n            String replacedCard = card.replaceAll(&quot;\\\\{Player1}&quot;, &quot;Poep&quot;);\r\n\r\n            System.out.println(&quot;replace: &quot; + replacedCard);\r\n        }\r\n```","title":"Java String replaceAll() method using {} curly brackets","body":"<p>You need to escape the initial { with \\. I.e;</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        String card = \"{Player1}\";\n\n        if (card.contains(\"{Player1}\")) {\n            String replacedCard = card.replaceAll(\"\\\\{Player1}\", \"Poep\");\n\n            System.out.println(\"replace: \" + replacedCard);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688666618,"creation_date":1587309381,"answer_id":61306729,"question_id":61306644,"body_markdown":"the first Argument of `replaceAll` is a String that is parsed to a [regular Expression][1] (regEx). The braces `{ }` are special reserved meta characters to express something within the regular expression. To match them as normal characters, you need to escape them with a leading backslash `\\` and because the backslash is also a special character you need to escape itself with an additional backslash:\r\n\r\n    String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Java String replaceAll() method using {} curly brackets","body":"<p>the first Argument of <code>replaceAll</code> is a String that is parsed to a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular Expression</a> (regEx). The braces <code>{ }</code> are special reserved meta characters to express something within the regular expression. To match them as normal characters, you need to escape them with a leading backslash <code>\\</code> and because the backslash is also a special character you need to escape itself with an additional backslash:</p>\n<pre><code>String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15919003,"reputation":2828,"user_id":11486670,"display_name":"apt-get_install_skill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587310090,"creation_date":1587309384,"answer_id":61306730,"question_id":61306644,"body_markdown":"Since the input value of the replaceAll method expects a regex, you need to escape the curly brackets with a backslash. The curly brackets are special characters in the context of regular expressions.\r\n\r\nIn Java a backslash in a regex is accomplished by a double backslash `\\\\` (see https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html for reference).\r\n\r\nSo you would need to adjust the line like so:\r\n\r\n    String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);","title":"Java String replaceAll() method using {} curly brackets","body":"<p>Since the input value of the replaceAll method expects a regex, you need to escape the curly brackets with a backslash. The curly brackets are special characters in the context of regular expressions.</p>\n\n<p>In Java a backslash in a regex is accomplished by a double backslash <code>\\\\</code> (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a> for reference).</p>\n\n<p>So you would need to adjust the line like so:</p>\n\n<pre><code>String replacedCard = card.replaceAll(\"\\\\{Player1\\\\}\", \"Poep\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4213779,"reputation":816,"user_id":3450684,"display_name":"Lungu Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587309397,"creation_date":1587309397,"answer_id":61306736,"question_id":61306644,"body_markdown":"{} are special characters for Regular Expressions. replaceAll method takes as first parameter a Regular Expressions, so if you want also to replace the curly brackets you have to skip them with \\\\\\ , as follow:\r\n\r\n        String card = cards.get(count).getCard();\r\n        if (card.contains(&quot;{Player1}&quot;)) {\r\n            String replacedCard = card.replaceAll(&quot;\\\\{Player1}&quot;, &quot;Poep&quot;);\r\n        } ","title":"Java String replaceAll() method using {} curly brackets","body":"<p>{} are special characters for Regular Expressions. replaceAll method takes as first parameter a Regular Expressions, so if you want also to replace the curly brackets you have to skip them with \\\\ , as follow:</p>\n\n<pre><code>    String card = cards.get(count).getCard();\n    if (card.contains(\"{Player1}\")) {\n        String replacedCard = card.replaceAll(\"\\\\{Player1}\", \"Poep\");\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587309839,"creation_date":1587309839,"answer_id":61306850,"question_id":61306644,"body_markdown":"Both `{ }` are reserved regex characters. Since the `replaceAll()` function takes in a regex parameter, you have to explicitly state that **`{`** and **`}`** are part of your actual string. You can do this by prefixing them with the escape character: `\\`. But because the escape character is also a reserved character, you need to escape it too.\r\n\r\nHere&#39;s the correct way to write your code:\r\n\r\n    String card = cards.get(count).getCard();\r\n    if (card.contains(&quot;{Player1}&quot;)) {\r\n        String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\r\n    }","title":"Java String replaceAll() method using {} curly brackets","body":"<p>Both <code>{ }</code> are reserved regex characters. Since the <code>replaceAll()</code> function takes in a regex parameter, you have to explicitly state that <strong><code>{</code></strong> and <strong><code>}</code></strong> are part of your actual string. You can do this by prefixing them with the escape character: <code>\\</code>. But because the escape character is also a reserved character, you need to escape it too.</p>\n\n<p>Here's the correct way to write your code:</p>\n\n<pre><code>String card = cards.get(count).getCard();\nif (card.contains(\"{Player1}\")) {\n    String replacedCard = card.replaceAll(\"\\\\{Player1\\\\}\", \"Poep\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587310057,"creation_date":1587310057,"answer_id":61306902,"question_id":61306644,"body_markdown":"The method `String.replaceAll` expects a regular expression. The other answers already give a solution for this. However, if you don&#39;t need regular expressions, then you can also use [`String.replace`][1]:\r\n\r\n```\r\nString replacedCard = card.replace(&quot;{Player1}&quot;, &quot;Poep&quot;);\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)","title":"Java String replaceAll() method using {} curly brackets","body":"<p>The method <code>String.replaceAll</code> expects a regular expression. The other answers already give a solution for this. However, if you don't need regular expressions, then you can also use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String.replace</code></a>:</p>\n\n<pre><code>String replacedCard = card.replace(\"{Player1}\", \"Poep\");\n</code></pre>\n"}],"owner":{"account_id":17967214,"reputation":95,"user_id":13056855,"display_name":"Dani&#235;lle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":61306729,"answer_count":6,"score":3,"last_activity_date":1688666618,"creation_date":1587309018,"question_id":61306644,"body_markdown":"So for my app in Android Studio I want to replace the following:\r\n\r\n    String card = cards.get(count).getCard();\r\n    if (card.contains(&quot;{Player1}&quot;)) {\r\n                String replacedCard = card.replaceAll(&quot;{Player1}&quot;, &quot;Poep&quot;);\r\n    }\r\n\r\n*An example of String card can be: {Player1} switch drinks with the person next to you.*\r\n\r\nSomehow I can&#39;t use {} for the replacing. With the { it says: &quot;Dangling metacharacter&quot;. Screenshot: https://prnt.sc/s2bbl8\r\n\r\nIs there a solution for this?\r\n","title":"Java String replaceAll() method using {} curly brackets","body":"<p>So for my app in Android Studio I want to replace the following:</p>\n\n<pre><code>String card = cards.get(count).getCard();\nif (card.contains(\"{Player1}\")) {\n            String replacedCard = card.replaceAll(\"{Player1}\", \"Poep\");\n}\n</code></pre>\n\n<p><em>An example of String card can be: {Player1} switch drinks with the person next to you.</em></p>\n\n<p>Somehow I can't use {} for the replacing. With the { it says: \"Dangling metacharacter\". Screenshot: <a href=\"https://prnt.sc/s2bbl8\" rel=\"nofollow noreferrer\">https://prnt.sc/s2bbl8</a></p>\n\n<p>Is there a solution for this?</p>\n"},{"tags":["java","xml","string","log4j"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":1,"creation_date":1279293739,"post_id":3266324,"comment_id":3378139,"body_markdown":"Is performance in any way critical? Removing some characters out of a String can be done quite fast; parsing XML and then serializing it again can be quite expensive.","body":"Is performance in any way critical? Removing some characters out of a String can be done quite fast; parsing XML and then serializing it again can be quite expensive."},{"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"score":0,"creation_date":1279293863,"post_id":3266324,"comment_id":3378162,"body_markdown":"@extraneon: I don&#39;t think about that when I answer...","body":"@extraneon: I don&#39;t think about that when I answer..."},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":1,"creation_date":1279294009,"post_id":3266324,"comment_id":3378194,"body_markdown":"@Sylvain M You shouldn&#39;t :) But for James it may be something to consider. It also needn&#39;t be a problem if the log is produced like `if (logger.isDebugEnabled()) { /* log */}`","body":"@Sylvain M You shouldn&#39;t :) But for James it may be something to consider. It also needn&#39;t be a problem if the log is produced like <code>if (logger.isDebugEnabled()) { &#47;* log *&#47;}</code>"}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1279293802,"post_id":3266356,"comment_id":3378149,"body_markdown":"`getCompactFormat()`, more likely","body":"<code>getCompactFormat()</code>, more likely"},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":2,"creation_date":1279293865,"post_id":3266356,"comment_id":3378164,"body_markdown":"Isn&#39;t that fairly expensive for just producing a log message? And it would also require the XML to be valid for it to be logged. Not that the solution isn&#39;t elegant, but it does have some drawbacks which may or may not be important.","body":"Isn&#39;t that fairly expensive for just producing a log message? And it would also require the XML to be valid for it to be logged. Not that the solution isn&#39;t elegant, but it does have some drawbacks which may or may not be important."},{"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"score":0,"creation_date":1279294197,"post_id":3266356,"comment_id":3378240,"body_markdown":"I&#39;m interred in knowing what is &quot;not elegant&quot; ?","body":"I&#39;m interred in knowing what is &quot;not elegant&quot; ?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1279294314,"post_id":3266356,"comment_id":3378266,"body_markdown":"He didn&#39;t say/mean it that way :) Note the *&quot;Not&quot;* in front of the sentence.","body":"He didn&#39;t say/mean it that way :) Note the <i>&quot;Not&quot;</i> in front of the sentence."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1279294488,"post_id":3266356,"comment_id":3378305,"body_markdown":"extraneon brings up a good point about logging invalid XML, which you could make the case that invalid xml needs more logging than valid!","body":"extraneon brings up a good point about logging invalid XML, which you could make the case that invalid xml needs more logging than valid!"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1279296430,"post_id":3266356,"comment_id":3378613,"body_markdown":"Who needs nail clippers? I got me this here chainsaw... ;)","body":"Who needs nail clippers? I got me this here chainsaw... ;)"}],"tags":[],"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279293552,"creation_date":1279293552,"answer_id":3266356,"question_id":3266324,"body_markdown":"Perhaps with JDom http://www.jdom.org/\r\n\r\n    public static Document createFromString(final String xml) {\r\n        try {\r\n            return new SAXBuilder().build(new ByteArrayInputStream(xml.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (JDOMException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static String renderRaw(final Document description) {\r\n        return renderDocument(description, getRawFormat());\r\n    }\r\n\r\n    public static String renderDocument(final Document description, final Format format) {\r\n        return new XMLOutputter(format).outputString(description);\r\n    }","title":"How to format a String onto one line, StringUtils?","body":"<p>Perhaps with JDom <a href=\"http://www.jdom.org/\" rel=\"nofollow noreferrer\">http://www.jdom.org/</a></p>\n\n<pre><code>public static Document createFromString(final String xml) {\n    try {\n        return new SAXBuilder().build(new ByteArrayInputStream(xml.getBytes(\"UTF-8\")));\n    } catch (JDOMException e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static String renderRaw(final Document description) {\n    return renderDocument(description, getRawFormat());\n}\n\npublic static String renderDocument(final Document description, final Format format) {\n    return new XMLOutputter(format).outputString(description);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403527282,"creation_date":1279294105,"answer_id":3266436,"question_id":3266324,"body_markdown":"    String oneline(String multiline) {\r\n        String[] lines = multiline.split(System.getProperty(&quot;line.separator&quot;));\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.ensureCapacity(multiline.length()); // prevent resizing\r\n        for(String line : lines) builder.append(line);\r\n        return builder.toString();\r\n    }","title":"How to format a String onto one line, StringUtils?","body":"<pre><code>String oneline(String multiline) {\n    String[] lines = multiline.split(System.getProperty(\"line.separator\"));\n    StringBuilder builder = new StringBuilder();\n    builder.ensureCapacity(multiline.length()); // prevent resizing\n    for(String line : lines) builder.append(line);\n    return builder.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":2,"creation_date":1279294237,"post_id":3266440,"comment_id":3378247,"body_markdown":"You can just use `[\\r\\n]`, no need to doubleslash there.","body":"You can just use <code>[\\r\\n]</code>, no need to doubleslash there."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1279294342,"post_id":3266440,"comment_id":3378270,"body_markdown":"@polyg wouldn&#39;t you need the double because you want the resulting regex to be `\\r`, and you need to escape the `\\\\` in the Java string?","body":"@polyg wouldn&#39;t you need the double because you want the resulting regex to be <code>\\r</code>, and you need to escape the `\\` in the Java string?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1279294465,"post_id":3266440,"comment_id":3378298,"body_markdown":"@glowcoder: the resulting regex doesn&#39;t _HAVE_ to be `\\r`; it can just be the actual unescaped character.","body":"@glowcoder: the resulting regex doesn&#39;t <i>HAVE</i> to be <code>\\r</code>; it can just be the actual unescaped character."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":1,"creation_date":1279294469,"post_id":3266440,"comment_id":3378299,"body_markdown":"As I understand it, you could double the \\ to have the regexp scanner evaluate it, or leave it single so the `\\r` is treated as a CR by the Java language and inserted verbatim in the brackets.","body":"As I understand it, you could double the \\ to have the regexp scanner evaluate it, or leave it single so the <code>\\r</code> is treated as a CR by the Java language and inserted verbatim in the brackets."},{"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"score":0,"creation_date":1279294957,"post_id":3266440,"comment_id":3378382,"body_markdown":"More concise, no need of 3rd party lib... very better than mine. And thx for the regex training :)","body":"More concise, no need of 3rd party lib... very better than mine. And thx for the regex training :)"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":1,"creation_date":1279295853,"post_id":3266440,"comment_id":3378519,"body_markdown":"I *did* goof! The 2nd `\\s` was followed by `+`, meaning that a line terminator *without* leading whitespace on the next line would not be eliminated. I&#39;ve changed that to a `*`.","body":"I <i>did</i> goof! The 2nd <code>\\s</code> was followed by <code>+</code>, meaning that a line terminator <i>without</i> leading whitespace on the next line would not be eliminated. I&#39;ve changed that to a <code>*</code>."},{"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"score":0,"creation_date":1279296312,"post_id":3266440,"comment_id":3378588,"body_markdown":"Thanks for the answers, Carls is the simplest solution so I&#39;ve gone for that :)","body":"Thanks for the answers, Carls is the simplest solution so I&#39;ve gone for that :)"},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1279354356,"post_id":3266440,"comment_id":3383561,"body_markdown":"Just make sure your formatted XML doesn&#39;t have any attributes on new lines, which many formatters output, or it won&#39;t be XML after this. - `&lt;a\\r\\n  foo=&quot;bar&quot;` becomes `&lt;afoo=&quot;bar&quot;`","body":"Just make sure your formatted XML doesn&#39;t have any attributes on new lines, which many formatters output, or it won&#39;t be XML after this. - <code>&lt;a\\r\\n  foo=&quot;bar&quot;</code> becomes <code>&lt;afoo=&quot;bar&quot;</code>"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1279356508,"post_id":3266440,"comment_id":3383671,"body_markdown":"@Pete: Argh! You&#39;re correct of course. Something to watch out for. I suppose it wouldn&#39;t hurt to consistently re-insert one blank for every newline removed?","body":"@Pete: Argh! You&#39;re correct of course. Something to watch out for. I suppose it wouldn&#39;t hurt to consistently re-insert one blank for every newline removed?"},{"owner":{"account_id":3220072,"reputation":737,"user_id":2717751,"accept_rate":75,"display_name":"Chadi"},"score":1,"creation_date":1581523444,"post_id":3266440,"comment_id":106465062,"body_markdown":"`String cleaned = original.replaceAll(&quot;\\\\s*\\\\R+\\\\s*&quot;, &quot;&quot;).trim();`","body":"<code>String cleaned = original.replaceAll(&quot;\\\\s*\\\\R+\\\\s*&quot;, &quot;&quot;).trim();</code>"}],"tags":[],"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"comment_count":10,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1279295775,"creation_date":1279294123,"answer_id":3266440,"question_id":3266324,"body_markdown":"I&#39;d throw a regexp replace on it. That&#39;s not highly efficient but sure to be faster than XML parsing!\r\n\r\nThis is untested:\r\n\r\n     String cleaned = original.replaceAll(&quot;\\\\s*[\\\\r\\\\n]+\\\\s*&quot;, &quot;&quot;).trim();\r\n\r\nIf I haven&#39;t goofed, that will eliminate all line terminators as well as any whitespace immediately following those line terminators. The whitespace at the beginning of the pattern should kill any trailing whitespace on individual lines. `trim()` is thrown in for good measure to eliminate whitespace at the start of the first line and the end of the last.","title":"How to format a String onto one line, StringUtils?","body":"<p>I'd throw a regexp replace on it. That's not highly efficient but sure to be faster than XML parsing!</p>\n\n<p>This is untested:</p>\n\n<pre><code> String cleaned = original.replaceAll(\"\\\\s*[\\\\r\\\\n]+\\\\s*\", \"\").trim();\n</code></pre>\n\n<p>If I haven't goofed, that will eliminate all line terminators as well as any whitespace immediately following those line terminators. The whitespace at the beginning of the pattern should kill any trailing whitespace on individual lines. <code>trim()</code> is thrown in for good measure to eliminate whitespace at the start of the first line and the end of the last.</p>\n"},{"tags":[],"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688666102,"creation_date":1688666102,"answer_id":76631411,"question_id":3266324,"body_markdown":"@corsiKa&#39;s answer, but using Java 8+ Optional. Also, I found that using the line separator system property didn&#39;t work as a regex to `String.split`.\r\n\r\n    Optional.ofNullable(multilineString)\r\n        .map(s -&gt; s.split(&quot;[\\\\r\\\\n]+&quot;))\r\n        .stream()\r\n        .flatMap(Arrays::stream)\r\n        .map(String::trim)\r\n        .reduce(&quot;&quot;, (accumulator, current) -&gt; accumulator + current);\r\n","title":"How to format a String onto one line, StringUtils?","body":"<p>@corsiKa's answer, but using Java 8+ Optional. Also, I found that using the line separator system property didn't work as a regex to <code>String.split</code>.</p>\n<pre><code>Optional.ofNullable(multilineString)\n    .map(s -&gt; s.split(&quot;[\\\\r\\\\n]+&quot;))\n    .stream()\n    .flatMap(Arrays::stream)\n    .map(String::trim)\n    .reduce(&quot;&quot;, (accumulator, current) -&gt; accumulator + current);\n</code></pre>\n"}],"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7181,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3266440,"answer_count":4,"score":4,"last_activity_date":1688666102,"creation_date":1279293328,"question_id":3266324,"body_markdown":"I have a String that I&#39;m passing to log4j to have it logged to a file, the contents of that string is XML, and it is formatted to be on multiple lines with indentations and so forth, to make it easy to read.\r\n\r\nHowever, I would like that XML to be all on one line, how can I do this? I&#39;ve had a look at StringUtils, I guess I could strip the tabs and carriage returns, but there must be a cleaner way?\r\n\r\nThanks","title":"How to format a String onto one line, StringUtils?","body":"<p>I have a String that I'm passing to log4j to have it logged to a file, the contents of that string is XML, and it is formatted to be on multiple lines with indentations and so forth, to make it easy to read.</p>\n\n<p>However, I would like that XML to be all on one line, how can I do this? I've had a look at StringUtils, I guess I could strip the tabs and carriage returns, but there must be a cleaner way?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf","field"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688708561,"post_id":76631397,"comment_id":135112661,"body_markdown":"No. There is no way an HTML form can retain an object, the parameters are just that `String`. So you need to have some type of conversion in place. Spring is perfectly capable of converting the id to the object directly, there is no need for you to do it manually.","body":"No. There is no way an HTML form can retain an object, the parameters are just that <code>String</code>. So you need to have some type of conversion in place. Spring is perfectly capable of converting the id to the object directly, there is no need for you to do it manually."}],"owner":{"account_id":26831031,"reputation":101,"user_id":20418991,"display_name":"Byb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688665952,"creation_date":1688665952,"question_id":76631397,"body_markdown":"Suppose I have a `Department` class and an `Employee` class. They enter into a *&quot;one-to-many&quot;* relationship. The `Employee` class has a `Department` type field. There is a `@ManyToOne` annotation and so on.\r\n\r\nI have a form for entering an employee. Among other input data, there is an option to select a department for it. This part of the form looks like this:\r\n```\r\n&lt;select th:field=&quot;*{department}&quot;&gt;\r\n    &lt;option th:each=&quot;each : ${departments}&quot; th:text=&quot;${each.name}&quot; th:value=&quot;${each}&quot;&gt;\r\n\r\n    &lt;/option&gt;\r\n&lt;/select&gt;\r\n```\r\nOf course, I first pass the `departments` attribute to the form, which is a list of departments taken from the database.\r\n\r\nI read the following in the Thymeleaf documentation:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xmoxo.png)](https://i.stack.imgur.com/xmoxo.png)\r\n\r\nTherefore, when I then try to get a ready `Employee` object in the controller method after *submit*, I get an error, since Spring is trying to assign a string to a field of type `Department`.\r\n\r\nIs there a way to avoid this? Is there a way to use an object in such cases, and not a string?\r\n\r\nI understand that I can, for example, use the ID of the received object, and then set the object in the controller, but this is much less convenient than working with objects directly.","title":"Is there a way to avoid automatic string conversion when using th:field in Thymeleaf?","body":"<p>Suppose I have a <code>Department</code> class and an <code>Employee</code> class. They enter into a <em>&quot;one-to-many&quot;</em> relationship. The <code>Employee</code> class has a <code>Department</code> type field. There is a <code>@ManyToOne</code> annotation and so on.</p>\n<p>I have a form for entering an employee. Among other input data, there is an option to select a department for it. This part of the form looks like this:</p>\n<pre><code>&lt;select th:field=&quot;*{department}&quot;&gt;\n    &lt;option th:each=&quot;each : ${departments}&quot; th:text=&quot;${each.name}&quot; th:value=&quot;${each}&quot;&gt;\n\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Of course, I first pass the <code>departments</code> attribute to the form, which is a list of departments taken from the database.</p>\n<p>I read the following in the Thymeleaf documentation:</p>\n<p><a href=\"https://i.stack.imgur.com/xmoxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xmoxo.png\" alt=\"enter image description here\" /></a></p>\n<p>Therefore, when I then try to get a ready <code>Employee</code> object in the controller method after <em>submit</em>, I get an error, since Spring is trying to assign a string to a field of type <code>Department</code>.</p>\n<p>Is there a way to avoid this? Is there a way to use an object in such cases, and not a string?</p>\n<p>I understand that I can, for example, use the ID of the received object, and then set the object in the controller, but this is much less convenient than working with objects directly.</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688563704,"post_id":74350974,"comment_id":135090104,"body_markdown":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)","body":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688632343,"post_id":74350974,"comment_id":135100592,"body_markdown":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put `@Transactional` with propagation=MANDATORY. So that your code fails if your services forgot to start a tx.","body":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put <code>@Transactional</code> with propagation=MANDATORY. So that your code fails if your services forgot to start a tx."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688648427,"post_id":74350974,"comment_id":135104196,"body_markdown":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho...\nIt&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): https://vladmihalcea.com/spring-transaction-best-practices/","body":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho... It&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): <a href=\"https://vladmihalcea.com/spring-transaction-best-practices/\" rel=\"nofollow noreferrer\">vladmihalcea.com/spring-transaction-best-practices</a>"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688651111,"post_id":74350974,"comment_id":135104852,"body_markdown":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put `propagation=MANDATORY` to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit.","body":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put <code>propagation=MANDATORY</code> to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688653978,"post_id":74350974,"comment_id":135105565,"body_markdown":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase","body":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase"}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688633925,"post_id":74351134,"comment_id":135100951,"body_markdown":"@akuma8 isn&#39;t wrong. You generally don&#39;t want or need to test library code, just your own code. So you may want to test how your code *uses* `@Transactional`, but not specifically the annotation behavior itself.","body":"@akuma8 isn&#39;t wrong. You generally don&#39;t want or need to test library code, just your own code. So you may want to test how your code <i>uses</i> <code>@Transactional</code>, but not specifically the annotation behavior itself."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688647672,"post_id":74351134,"comment_id":135104005,"body_markdown":"@Jorn that would be atleast one more piece of information that wasn&#39;t given: &quot;verify that class/method annotations include the &#39;Transaction&#39; annotation&quot;","body":"@Jorn that would be atleast one more piece of information that wasn&#39;t given: &quot;verify that class/method annotations include the &#39;Transaction&#39; annotation&quot;"},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688647897,"post_id":74351134,"comment_id":135104046,"body_markdown":"also i think you misrepresent the complexity of this topic as a whole:\nhttps://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth","body":"also i think you misrepresent the complexity of this topic as a whole: <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">marcobehler.com/guides/&hellip;</a>"}],"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667845154,"creation_date":1667845154,"answer_id":74351134,"question_id":74350974,"body_markdown":"You do not need a specific test, just read the doc: \r\n\r\n&gt; When you use transactional proxies with Spring’s standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).\r\n\r\nSee the [doc][1] for more details\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You do not need a specific test, just read the doc:</p>\n<blockquote>\n<p>When you use transactional proxies with Spring’s standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).</p>\n</blockquote>\n<p>See the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations\" rel=\"nofollow noreferrer\">doc</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688631715,"creation_date":1688631715,"answer_id":76626860,"question_id":74350974,"body_markdown":"You need an integration tests for this feature because you want to check how your implementation integrates with Spring&#39;s transaction management. So you&#39;ll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it&#39;s used by the code you&#39;re testing.\r\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you&#39;ll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.\r\n\r\nAn additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need an integration tests for this feature because you want to check how your implementation integrates with Spring's transaction management. So you'll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it's used by the code you're testing.\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you'll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.</p>\n<p>An additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.</p>\n"},{"comments":[{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":1,"creation_date":1688654122,"post_id":76628852,"comment_id":135105587,"body_markdown":"Thanks, the transaction interceptor would do the trick nicely!","body":"Thanks, the transaction interceptor would do the trick nicely!"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":1,"creation_date":1688654165,"post_id":76628852,"comment_id":135105602,"body_markdown":"This will work for transaction annotations that have the default propagation strategy - to be fair, the OP didn&#39;t specify a propagation strategy to test for. I think that apart from the `REQUIRED` propagation, none of the other strategies will be handled with this approach","body":"This will work for transaction annotations that have the default propagation strategy - to be fair, the OP didn&#39;t specify a propagation strategy to test for. I think that apart from the <code>REQUIRED</code> propagation, none of the other strategies will be handled with this approach"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688665817,"creation_date":1688646575,"answer_id":76628852,"question_id":74350974,"body_markdown":"You need a custom implementation of `TransactionInterceptor` intercepting all invocations of `@Transactional`-annotated methods and incrementing invocation count:\r\n```java\r\n@Configuration\r\npublic class AppConfiguration {\r\n\r\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\r\n    //implement counter with e.g. LongAdder\r\n  }\r\n    \r\n  @Bean\r\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\r\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\r\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\r\n    return interceptor;\r\n  }  \r\n}\r\n```\r\n\r\nAs soon as your method is package-private it&#39;s available from the test class residing in the same package under `/test` directory. In other words if your code looks like\r\n```java\r\npackage com.my.app;\r\n\r\n@Service\r\npublic class SomeService {\r\n\r\n  @Transactional\r\n  void foo() {\r\n   //...\r\n  }\r\n}\r\n```\r\nand the path to this class is `/project-root/src/main/java/com/my/app/SomeService.java`\r\nyou create a test class located in `/project-root/src/test/java/com/my/app/SomeServiceTest.java`\r\n(here we assume that you use standard Maven-based project structure):\r\n```java\r\npackage com.my.app;\r\n\r\n@SpringBootTest\r\nclass SomeServiceTest {\r\n  @Autowired\r\n  private SomeService service;\r\n  @Autowired\r\n  private ApplicationContext context;\r\n\r\n  @Test\r\n  void foo() {\r\n    //make sure there&#39;s no ongoing transaction  \r\n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\r\n    long beforeCount = countTransactions();\r\n    service.foo(); //no compilation error as we are in the same package\r\n    long afterCount = countTransactions();\r\n    //this is going to fail as afterCount is the same as beforeCount\r\n    assertEquals(afterCount, beforeCount + 1);\r\n  }\r\n\r\n  private long countTransactions() {\r\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\r\n  }\r\n}\r\n```\r\n","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need a custom implementation of <code>TransactionInterceptor</code> intercepting all invocations of <code>@Transactional</code>-annotated methods and incrementing invocation count:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfiguration {\n\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\n    //implement counter with e.g. LongAdder\n  }\n    \n  @Bean\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\n    return interceptor;\n  }  \n}\n</code></pre>\n<p>As soon as your method is package-private it's available from the test class residing in the same package under <code>/test</code> directory. In other words if your code looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@Service\npublic class SomeService {\n\n  @Transactional\n  void foo() {\n   //...\n  }\n}\n</code></pre>\n<p>and the path to this class is <code>/project-root/src/main/java/com/my/app/SomeService.java</code>\nyou create a test class located in <code>/project-root/src/test/java/com/my/app/SomeServiceTest.java</code>\n(here we assume that you use standard Maven-based project structure):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@SpringBootTest\nclass SomeServiceTest {\n  @Autowired\n  private SomeService service;\n  @Autowired\n  private ApplicationContext context;\n\n  @Test\n  void foo() {\n    //make sure there's no ongoing transaction  \n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\n    long beforeCount = countTransactions();\n    service.foo(); //no compilation error as we are in the same package\n    long afterCount = countTransactions();\n    //this is going to fail as afterCount is the same as beforeCount\n    assertEquals(afterCount, beforeCount + 1);\n  }\n\n  private long countTransactions() {\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1688665817,"creation_date":1667844157,"question_id":74350974,"body_markdown":"I do have a case where the `@Transactional` annotation was used on a method with `package-private` scope. It turned out that the transaction does not work in this method. \r\n\r\nIs there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>I do have a case where the <code>@Transactional</code> annotation was used on a method with <code>package-private</code> scope. It turned out that the transaction does not work in this method.</p>\n<p>Is there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.</p>\n"},{"tags":["java","jboss7.x","fedora"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1688671874,"post_id":76631340,"comment_id":135108945,"body_markdown":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access _only_ ports in the same container not the host. See https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach https://stackoverflow.com/questions/31324981/ https://stackoverflow.com/questions/70006997/ https://stackoverflow.com/questions/46973456/ and many more.","body":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access <i>only</i> ports in the same container not the host. See <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\" title=\"from inside of a docker container how do i connect to the localhost of the mach\">stackoverflow.com/questions/24319662/&hellip;</a> <a href=\"https://stackoverflow.com/questions/31324981/\">stackoverflow.com/questions/31324981</a> <a href=\"https://stackoverflow.com/questions/70006997/\">stackoverflow.com/questions/70006997</a> <a href=\"https://stackoverflow.com/questions/46973456/\">stackoverflow.com/questions/46973456</a> and many more."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1688692826,"post_id":76631340,"comment_id":135111452,"body_markdown":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks.\nPlease turn your comment into an answer and I&#39;ll be happy to accept it.","body":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks. Please turn your comment into an answer and I&#39;ll be happy to accept it."}],"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688665424,"creation_date":1688665424,"question_id":76631340,"body_markdown":"I&#39;ve got a Fedora 38 running:\r\n- ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080\r\n- ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085\r\n\r\nThe two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a `java.net.ConnectException: Connection refused (Connection refused)`.\r\n\r\nI can successfully call ServiceB through Postman.\r\n\r\nI&#39;ve enabled the broader possible `public` interface in the standalone.xml of ServiceB, this is the relevant:\r\n```\r\n    &lt;interfaces&gt;\r\n        &lt;interface name=&quot;management&quot;&gt;\r\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n        &lt;interface name=&quot;public&quot;&gt;\r\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n    &lt;/interfaces&gt;\r\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\r\n        &lt;/outbound-socket-binding&gt;\r\n    &lt;/socket-binding-group&gt;\r\n```\r\n\r\nStill ServiceA is failing to call ServiceB.\r\n\r\nAs a test also stopped `firewalld`, but to no avail.\r\n\r\nI&#39;m clearly missing something, but I have run out of ideas.\r\nSuggestions?","title":"Connection refused between JBoss EAP 7.3 services in the same machine","body":"<p>I've got a Fedora 38 running:</p>\n<ul>\n<li>ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080</li>\n<li>ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085</li>\n</ul>\n<p>The two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a <code>java.net.ConnectException: Connection refused (Connection refused)</code>.</p>\n<p>I can successfully call ServiceB through Postman.</p>\n<p>I've enabled the broader possible <code>public</code> interface in the standalone.xml of ServiceB, this is the relevant:</p>\n<pre><code>    &lt;interfaces&gt;\n        &lt;interface name=&quot;management&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n        &lt;interface name=&quot;public&quot;&gt;\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\n        &lt;/interface&gt;\n    &lt;/interfaces&gt;\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\n        &lt;/outbound-socket-binding&gt;\n    &lt;/socket-binding-group&gt;\n</code></pre>\n<p>Still ServiceA is failing to call ServiceB.</p>\n<p>As a test also stopped <code>firewalld</code>, but to no avail.</p>\n<p>I'm clearly missing something, but I have run out of ideas.\nSuggestions?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688981419,"post_id":76631184,"comment_id":135143118,"body_markdown":"Possibly related:  https://github.com/redhat-developer/vscode-java/issues/3191","body":"Possibly related:  <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"}],"owner":{"account_id":19103895,"reputation":19,"user_id":13951505,"display_name":"Brahvim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689239624,"answer_count":0,"score":0,"last_activity_date":1688665293,"creation_date":1688664033,"question_id":76631184,"body_markdown":"I have already tried doing what [this post](https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code) says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in `settings.json`, re-installed all Java extensions *after* deleting them from `~/.vscode/extensions`, but I still can&#39;t figure out what went wrong.\r\n\r\nSettings I tried adding:\r\n```json\r\n&quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;\r\n    ],\r\n&quot;java.completion.enabled&quot;: true,\r\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n    ],\r\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\r\n// ^^^ Still have this from the older days for some reason - didn&#39;t *add* it in explicitly.\r\n```\r\n\r\nThe issue? VSCode does not automatically type out the body of a method that&#39;s overriden, when given method signatures. *For example,*\r\n\r\n```java\r\nclass A {\r\n  protected void draw() {\r\n  }\r\n}\r\n\r\n// ...In some other file:\r\n\r\nclass B extends A {\r\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\r\n\r\n  /*\r\n   * @Override\r\n   * protected void draw() {\r\n   * }\r\n   */\r\n\r\n  // ...But I see nothing of value in the autocompletions list.\r\n  // The only suggestion says &quot;double&quot; - must&#39;ve gotten fuzzy matched with &quot;draw&quot;.\r\n\r\n}\r\n```\r\n\r\nPS The class I extended **is** from the source code in my workspace.\r\n\r\nI&#39;ve also started a [GitHub issue](https://github.com/redhat-developer/vscode-java/issues/3186).\r\n\r\n*Thank you very much for any comments or help you may offer!*","title":"VSCode Java Automcomplete Issues","body":"<p>I have already tried doing what <a href=\"https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code\">this post</a> says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in <code>settings.json</code>, re-installed all Java extensions <em>after</em> deleting them from <code>~/.vscode/extensions</code>, but I still can't figure out what went wrong.</p>\n<p>Settings I tried adding:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.sourcePaths&quot;: [\n        &quot;src&quot;\n    ],\n&quot;java.completion.enabled&quot;: true,\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\n            &quot;default&quot;: true\n        }\n    ],\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\n// ^^^ Still have this from the older days for some reason - didn't *add* it in explicitly.\n</code></pre>\n<p>The issue? VSCode does not automatically type out the body of a method that's overriden, when given method signatures. <em>For example,</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n  protected void draw() {\n  }\n}\n\n// ...In some other file:\n\nclass B extends A {\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\n\n  /*\n   * @Override\n   * protected void draw() {\n   * }\n   */\n\n  // ...But I see nothing of value in the autocompletions list.\n  // The only suggestion says &quot;double&quot; - must've gotten fuzzy matched with &quot;draw&quot;.\n\n}\n</code></pre>\n<p>PS The class I extended <strong>is</strong> from the source code in my workspace.</p>\n<p>I've also started a <a href=\"https://github.com/redhat-developer/vscode-java/issues/3186\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n<p><em>Thank you very much for any comments or help you may offer!</em></p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688665175,"creation_date":1688665175,"answer_id":76631312,"question_id":76502584,"body_markdown":"I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private YourNestedObjectType data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tYourNestedObjectType somethingNested = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                YourNestedObjectType.class);\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(somethingNested)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nwith the understanding that YourNestedObjectType can be a wrapper class that holds other classes like\r\n\r\n    public class YourNestedObjectType {\r\n       private String field1;\r\n\t   private List&lt;OtherObject&gt; otherObjects;\r\n    }","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private YourNestedObjectType data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        YourNestedObjectType somethingNested = objectMapper.readValue(\n            myObj.getData().asString(), \n            YourNestedObjectType.class);\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(somethingNested)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>with the understanding that YourNestedObjectType can be a wrapper class that holds other classes like</p>\n<pre><code>public class YourNestedObjectType {\n   private String field1;\n   private List&lt;OtherObject&gt; otherObjects;\n}\n</code></pre>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688665175,"creation_date":1687123639,"question_id":76502584,"body_markdown":"In my Spring Boot Webflux project, I&#39;m using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects. \r\n\r\nMy current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.\r\n\r\nHere&#39;s a simplified example of what I&#39;ve been doing:\r\n\r\n```java\r\n@UtilityClass\r\npublic class ConverterHelper {\r\n    // ObjectMapper initialization\r\n\r\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\r\n        // implementation\r\n    }\r\n}\r\n\r\n@ReadingConverter\r\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\r\n    // implementation\r\n}\r\n\r\n@Configuration\r\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\r\n    // implementation\r\n}\r\n```\r\n\r\nThe question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I&#39;d prefer not to write custom converters every time I encounter this situation.\r\n\r\nI understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren&#39;t suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?\r\n\r\nAny suggestions or insights would be greatly appreciated.","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>In my Spring Boot Webflux project, I'm using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects.</p>\n<p>My current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.</p>\n<p>Here's a simplified example of what I've been doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic class ConverterHelper {\n    // ObjectMapper initialization\n\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\n        // implementation\n    }\n}\n\n@ReadingConverter\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\n    // implementation\n}\n\n@Configuration\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\n    // implementation\n}\n</code></pre>\n<p>The question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I'd prefer not to write custom converters every time I encounter this situation.</p>\n<p>I understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren't suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?</p>\n<p>Any suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":0,"creation_date":1427998546,"post_id":5419039,"comment_id":47011248,"body_markdown":"`java.library.path` refers to *directory* not a *file*","body":"<code>java.library.path</code> refers to <i>directory</i> not a <i>file</i>"},{"owner":{"account_id":11695031,"reputation":3614,"user_id":8561957,"display_name":"fountainhead"},"score":1,"creation_date":1572955973,"post_id":5419039,"comment_id":103715854,"body_markdown":"As of Java 13, the [API doc](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()) says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;.","body":"As of Java 13, the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">API doc</a> says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1300969868,"creation_date":1300969868,"answer_id":5419120,"question_id":5419039,"body_markdown":"Generally speaking, both approaches have the same net effect in that the system property `java.library.path` is set to the value `./lib`.\r\n\r\n*However*, some system properties are only evaluated at specific points in time, such as the startup of the JVM. *If* `java.library.path` is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of `getProperty()`.\r\n\r\nAs a rule of thumb, using the `-D` command line property works on all system properties, while `System.setProperty()` only works on properties that are not only checked during startup.","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Generally speaking, both approaches have the same net effect in that the system property <code>java.library.path</code> is set to the value <code>./lib</code>.</p>\n\n<p><em>However</em>, some system properties are only evaluated at specific points in time, such as the startup of the JVM. <em>If</em> <code>java.library.path</code> is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of <code>getProperty()</code>.</p>\n\n<p>As a rule of thumb, using the <code>-D</code> command line property works on all system properties, while <code>System.setProperty()</code> only works on properties that are not only checked during startup.</p>\n"},{"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":7,"creation_date":1440434082,"post_id":6408467,"comment_id":52259918,"body_markdown":"Check out [this newer answer](http://stackoverflow.com/a/24988095/346561) by @luyifan which appears to accomplish the same thing as this answer, with less code.","body":"Check out <a href=\"http://stackoverflow.com/a/24988095/346561\">this newer answer</a> by @luyifan which appears to accomplish the same thing as this answer, with less code."},{"owner":{"account_id":11771638,"reputation":212,"user_id":8614522,"display_name":"MinseongPark"},"score":0,"creation_date":1611131001,"post_id":6408467,"comment_id":116348340,"body_markdown":"The newer answer by @luyifan is not working on Java 11 due to below error.\n`java.lang.NoClassDefFoundError: Could not initialize class java.util.zip.CRC32`\nBut your code works without any error.","body":"The newer answer by @luyifan is not working on Java 11 due to below error. <code>java.lang.NoClassDefFoundError: Could not initialize class java.util.zip.CRC32</code> But your code works without any error."},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1637937435,"post_id":6408467,"comment_id":123963140,"body_markdown":"This answer really saved me.  I have posted an addendum below for Java 17: https://stackoverflow.com/a/70126075/257299","body":"This answer really saved me.  I have posted an addendum below for Java 17: <a href=\"https://stackoverflow.com/a/70126075/257299\">stackoverflow.com/a/70126075/257299</a>"}],"tags":[],"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"comment_count":3,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1308557805,"creation_date":1308557805,"answer_id":6408467,"question_id":5419039,"body_markdown":"Although it is not well documented, the `java.library.path` system property is a &quot;read-only&quot; property as far as the `System.loadLibrary()` method is concerned. This is a [reported bug][1] but it was closed by Sun as opposed to getting fixed. The problem is that the JVM&#39;s ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line `System.setProperty(&quot;java.library.path&quot;, anyVal);` will have no effect except for `System.getProperty()` method calls.\r\n\r\nLuckily, someone [posted a workaround on the Sun forums][2]. Unfortunately, that link no longer works but I did find [the code on another source][3]. Here is the code you can use to work around not being able to set the `java.library.path` system property:\r\n\r\n    public static void addDir(String s) throws IOException {\r\n        try {\r\n            // This enables the java.library.path to be modified at runtime\r\n            // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\r\n            //\r\n            Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\r\n            field.setAccessible(true);\r\n            String[] paths = (String[])field.get(null);\r\n            for (int i = 0; i &lt; paths.length; i++) {\r\n                if (s.equals(paths[i])) {\r\n                    return;\r\n                }\r\n            }\r\n            String[] tmp = new String[paths.length+1];\r\n            System.arraycopy(paths,0,tmp,0,paths.length);\r\n            tmp[paths.length] = s;\r\n            field.set(null,tmp);\r\n            System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\r\n        } catch (IllegalAccessException e) {\r\n            throw new IOException(&quot;Failed to get permissions to set library path&quot;);\r\n        } catch (NoSuchFieldException e) {\r\n            throw new IOException(&quot;Failed to get field handle to set library path&quot;);\r\n        }\r\n    }\r\n\r\n**WARNING:** This may not work on all platforms and/or JVMs.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=707176\r\n  [3]: http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Although it is not well documented, the <code>java.library.path</code> system property is a &quot;read-only&quot; property as far as the <code>System.loadLibrary()</code> method is concerned. This is a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\" rel=\"nofollow noreferrer\">reported bug</a> but it was closed by Sun as opposed to getting fixed. The problem is that the JVM's ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line <code>System.setProperty(&quot;java.library.path&quot;, anyVal);</code> will have no effect except for <code>System.getProperty()</code> method calls.</p>\n<p>Luckily, someone <a href=\"http://forums.sun.com/thread.jspa?threadID=707176\" rel=\"nofollow noreferrer\">posted a workaround on the Sun forums</a>. Unfortunately, that link no longer works but I did find <a href=\"http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/\" rel=\"nofollow noreferrer\">the code on another source</a>. Here is the code you can use to work around not being able to set the <code>java.library.path</code> system property:</p>\n<pre><code>public static void addDir(String s) throws IOException {\n    try {\n        // This enables the java.library.path to be modified at runtime\n        // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\n        //\n        Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\n        field.setAccessible(true);\n        String[] paths = (String[])field.get(null);\n        for (int i = 0; i &lt; paths.length; i++) {\n            if (s.equals(paths[i])) {\n                return;\n            }\n        }\n        String[] tmp = new String[paths.length+1];\n        System.arraycopy(paths,0,tmp,0,paths.length);\n        tmp[paths.length] = s;\n        field.set(null,tmp);\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\n    } catch (IllegalAccessException e) {\n        throw new IOException(&quot;Failed to get permissions to set library path&quot;);\n    } catch (NoSuchFieldException e) {\n        throw new IOException(&quot;Failed to get field handle to set library path&quot;);\n    }\n}\n</code></pre>\n<p><strong>WARNING:</strong> This may not work on all platforms and/or JVMs.</p>\n"},{"comments":[{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":3,"creation_date":1407936662,"post_id":24988095,"comment_id":39408060,"body_markdown":"this works well (and is simpler than building the temp path ourselves as described by Jesse Webb&#39;s solution)","body":"this works well (and is simpler than building the temp path ourselves as described by Jesse Webb&#39;s solution)"},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":2,"creation_date":1493973880,"post_id":24988095,"comment_id":74640441,"body_markdown":"This one is a lifesaver. Seems sloppy by Sun/Oracle to not provide a more direct way of loading libraries from a specific, runtime-defined directory.","body":"This one is a lifesaver. Seems sloppy by Sun/Oracle to not provide a more direct way of loading libraries from a specific, runtime-defined directory."},{"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"score":4,"creation_date":1532103146,"post_id":24988095,"comment_id":89863318,"body_markdown":"Sad is that it&#39;s forbidden in Java 10 and will be removed (&quot;illegal reflective access operation has occurred&quot;).","body":"Sad is that it&#39;s forbidden in Java 10 and will be removed (&quot;illegal reflective access operation has occurred&quot;)."},{"owner":{"account_id":1252202,"reputation":177,"user_id":1212394,"display_name":"Addison"},"score":1,"creation_date":1580314278,"post_id":24988095,"comment_id":106058819,"body_markdown":"It should be noted that this is not portable across JVMs. Specifically it doesn&#39;t work for the IBM J9 JVM. I have had success in Oracle and Adopt OpenJDK though.","body":"It should be noted that this is not portable across JVMs. Specifically it doesn&#39;t work for the IBM J9 JVM. I have had success in Oracle and Adopt OpenJDK though."},{"owner":{"account_id":5555530,"reputation":499,"user_id":4407033,"accept_rate":76,"display_name":"frank jorsn"},"score":0,"creation_date":1634645877,"post_id":24988095,"comment_id":123076114,"body_markdown":"@luyifan How to deal with multiple libs path? Like &quot;/path/to/lib1&quot;, &quot;/path/to/lib2&quot;.","body":"@luyifan How to deal with multiple libs path? Like &quot;/path/to/lib1&quot;, &quot;/path/to/lib2&quot;."}],"tags":[],"owner":{"account_id":4808882,"reputation":459,"user_id":3882948,"display_name":"luyifan"},"comment_count":5,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1406518582,"creation_date":1406518582,"answer_id":24988095,"question_id":5419039,"body_markdown":"you can add three lines \r\n\r\n     System.setProperty(&quot;java.library.path&quot;, &quot;/path/to/libs&quot; );\r\n     Field fieldSysPath = ClassLoader.class.getDeclaredField( &quot;sys_paths&quot; );\r\n     fieldSysPath.setAccessible( true );\r\n     fieldSysPath.set( null, null );\r\n\r\nand also import java.lang.reflect.Field \r\nIt&#39;s ok to solve the problem \r\n\r\n\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>you can add three lines </p>\n\n<pre><code> System.setProperty(\"java.library.path\", \"/path/to/libs\" );\n Field fieldSysPath = ClassLoader.class.getDeclaredField( \"sys_paths\" );\n fieldSysPath.setAccessible( true );\n fieldSysPath.set( null, null );\n</code></pre>\n\n<p>and also import java.lang.reflect.Field \nIt's ok to solve the problem </p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637938409,"creation_date":1637937406,"answer_id":70126075,"question_id":5419039,"body_markdown":"This is an addendum to this answer to Jesse Webb&#39;s amazing answer above: https://stackoverflow.com/a/6408467/257299\r\n\r\nFor Java 17:\r\n\r\n    import jdk.internal.loader.NativeLibraries;\r\n    final Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\r\n    final Class&lt;?&gt; libraryPaths =\r\n        Arrays.stream(declClassArr)\r\n            .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\r\n            .findFirst()\r\n            .get();\r\n    final Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\r\n    final MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\r\n    final VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\r\n    varHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\nSince package `jdk.internal.loader` from module `java.base` is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to **both** the compiler and JVM runtime args.\r\n\r\n    --add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n\r\nRead more here:\r\n* `--add-exports`: https://stackoverflow.com/a/53647605/257299\r\n* `--add-opens`: https://stackoverflow.com/a/61663667/257299\r\n* Remove `final` modifier on Java12+: https://stackoverflow.com/a/56043252/257299","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>This is an addendum to this answer to Jesse Webb's amazing answer above: <a href=\"https://stackoverflow.com/a/6408467/257299\">https://stackoverflow.com/a/6408467/257299</a></p>\n<p>For Java 17:</p>\n<pre><code>import jdk.internal.loader.NativeLibraries;\nfinal Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\nfinal Class&lt;?&gt; libraryPaths =\n    Arrays.stream(declClassArr)\n        .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\n        .findFirst()\n        .get();\nfinal Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\nfinal MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\nfinal VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\nvarHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\n</code></pre>\n<p>Since package <code>jdk.internal.loader</code> from module <code>java.base</code> is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to <strong>both</strong> the compiler and JVM runtime args.</p>\n<pre><code>--add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n</code></pre>\n<p>Read more here:</p>\n<ul>\n<li><code>--add-exports</code>: <a href=\"https://stackoverflow.com/a/53647605/257299\">https://stackoverflow.com/a/53647605/257299</a></li>\n<li><code>--add-opens</code>: <a href=\"https://stackoverflow.com/a/61663667/257299\">https://stackoverflow.com/a/61663667/257299</a></li>\n<li>Remove <code>final</code> modifier on Java12+: <a href=\"https://stackoverflow.com/a/56043252/257299\">https://stackoverflow.com/a/56043252/257299</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":20066084,"reputation":59,"user_id":14711753,"display_name":"Heedo Lee"},"score":1,"creation_date":1688626589,"post_id":75724448,"comment_id":135099378,"body_markdown":"The reason isn&#39;t because of the version, it&#39;s because the JVM implementation is different.\nThe way you introduced seems to be the implementation of Temurin JDK.","body":"The reason isn&#39;t because of the version, it&#39;s because the JVM implementation is different. The way you introduced seems to be the implementation of Temurin JDK."},{"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"score":1,"creation_date":1688664861,"post_id":75724448,"comment_id":135107729,"body_markdown":"@HeedoLee You are correct. Thank you for pointing that out. I fixed my answer.","body":"@HeedoLee You are correct. Thank you for pointing that out. I fixed my answer."}],"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688664819,"creation_date":1678724466,"answer_id":75724448,"question_id":5419039,"body_markdown":"In the Temurin JDK setting `sys_paths` to `null` doesn&#39;t work. It leads to a `NullPointerException`.\r\n\r\nThe following works in Temurin:\r\n\r\n```\r\nMethod initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\r\ninitLibraryPaths.setAccessible(true);\r\ninitLibraryPaths.invoke(null);\r\n```\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>In the Temurin JDK setting <code>sys_paths</code> to <code>null</code> doesn't work. It leads to a <code>NullPointerException</code>.</p>\n<p>The following works in Temurin:</p>\n<pre><code>Method initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\ninitLibraryPaths.setAccessible(true);\ninitLibraryPaths.invoke(null);\n</code></pre>\n"}],"owner":{"account_id":47175,"reputation":6248,"user_id":139594,"accept_rate":96,"display_name":"czuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80072,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":5419120,"answer_count":5,"score":55,"last_activity_date":1688664819,"creation_date":1300969523,"question_id":5419039,"body_markdown":"I load an external library that is placed in `./lib`. Are these two solutions to set the java.library.path equivalent?\r\n\r\n1. Set path in console when executing jar:\r\n\r\n        java -Djava.library.path=./lib -jar myApplication.jar\r\n\r\n2. Set path in the code before loading library:\r\n\r\n        System.setProperty(&quot;java.library.path&quot;, &quot;./lib&quot;);\r\n\r\nIf they _are equivalent_, why in the second solution can Java not find the library while the first one is ok?\r\n\r\nIf _not_, is there a way the set the path in the code?","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>I load an external library that is placed in <code>./lib</code>. Are these two solutions to set the java.library.path equivalent?</p>\n\n<ol>\n<li><p>Set path in console when executing jar:</p>\n\n<pre><code>java -Djava.library.path=./lib -jar myApplication.jar\n</code></pre></li>\n<li><p>Set path in the code before loading library:</p>\n\n<pre><code>System.setProperty(\"java.library.path\", \"./lib\");\n</code></pre></li>\n</ol>\n\n<p>If they <em>are equivalent</em>, why in the second solution can Java not find the library while the first one is ok?</p>\n\n<p>If <em>not</em>, is there a way the set the path in the code?</p>\n"},{"tags":["java","function","for-loop"],"comments":[{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":1,"creation_date":1368634508,"post_id":16570091,"comment_id":23808738,"body_markdown":"Have you tried to write it yourself? It&#39;s not that hard","body":"Have you tried to write it yourself? It&#39;s not that hard"},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1441116937,"post_id":16570091,"comment_id":52542110,"body_markdown":"Some nice solutions are also in this question: http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java","body":"Some nice solutions are also in this question: <a href=\"http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java\" title=\"shortest way to get an iterator over a range of integers in java\">stackoverflow.com/questions/371026/&hellip;</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1525841773,"post_id":16570091,"comment_id":87508930,"body_markdown":"For a range of any `Comparable` s see [this](https://stackoverflow.com/a/50245738/3992939) answer","body":"For a range of any <code>Comparable</code> s see <a href=\"https://stackoverflow.com/a/50245738/3992939\">this</a> answer"}],"answers":[{"comments":[{"owner":{"account_id":2644820,"reputation":780,"user_id":2287751,"accept_rate":100,"display_name":"Kacper Lubisz"},"score":0,"creation_date":1368634625,"post_id":16570113,"comment_id":23808804,"body_markdown":"Well this is the normal way to do it, but it would be a lot simpler if you could make an array for the loop to use.","body":"Well this is the normal way to do it, but it would be a lot simpler if you could make an array for the loop to use."},{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":1,"creation_date":1368634758,"post_id":16570113,"comment_id":23808874,"body_markdown":"This isn&#39;t what he&#39;s asking, though; he wants to know if there&#39;s an &quot;easier&quot; way.","body":"This isn&#39;t what he&#39;s asking, though; he wants to know if there&#39;s an &quot;easier&quot; way."},{"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"score":1,"creation_date":1368634832,"post_id":16570113,"comment_id":23808920,"body_markdown":"@HenryKeiter:that&#39;s true, just trying to counter OP&#39;s argument: &quot;It would be great to do this in java because it would makes for loops a lot easier&quot;.","body":"@HenryKeiter:that&#39;s true, just trying to counter OP&#39;s argument: &quot;It would be great to do this in java because it would makes for loops a lot easier&quot;."},{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":1,"creation_date":1368635325,"post_id":16570113,"comment_id":23809147,"body_markdown":"Well, I certainly can&#39;t disagree with you there. Seems like a lot of effort just to save a couple of characters (and ignore all conventions on the way), but I&#39;m not here to judge what (anti-)idioms people might want to use :)","body":"Well, I certainly can&#39;t disagree with you there. Seems like a lot of effort just to save a couple of characters (and ignore all conventions on the way), but I&#39;m not here to judge what (anti-)idioms people might want to use :)"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368636309,"post_id":16570113,"comment_id":23809692,"body_markdown":"@ExotickBoyPl you can make somethink _like_ an array, just much more efficient, if you look at my answer ;)","body":"@ExotickBoyPl you can make somethink <i>like</i> an array, just much more efficient, if you look at my answer ;)"},{"owner":{"account_id":3920836,"reputation":400,"user_id":3322074,"accept_rate":70,"display_name":"user124384"},"score":0,"creation_date":1443062611,"post_id":16570113,"comment_id":53345430,"body_markdown":"Just to be clear, range() is not a Java function, in case any idiots like me want to try it. :P","body":"Just to be clear, range() is not a Java function, in case any idiots like me want to try it. :P"}],"tags":[],"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"comment_count":6,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1368634517,"creation_date":1368634517,"answer_id":16570113,"question_id":16570091,"body_markdown":"Um... `for (int i = 0; i &lt; k; i++)`? You don&#39;t have to write enhanced for loops all day, you know, although they are cool...\r\n\r\nAnd just for the sake of argument:\r\n\r\n`for (int i : range(k))`  char count: 22\r\n\r\n`for (int i = 0; i &lt; k; i++)` char count: 27\r\n\r\nDiscounting the implementation of `range`, it is pseudo even.","title":"For loop - like Python range function","body":"<p>Um... <code>for (int i = 0; i &lt; k; i++)</code>? You don't have to write enhanced for loops all day, you know, although they are cool...</p>\n\n<p>And just for the sake of argument:</p>\n\n<p><code>for (int i : range(k))</code>  char count: 22</p>\n\n<p><code>for (int i = 0; i &lt; k; i++)</code> char count: 27</p>\n\n<p>Discounting the implementation of <code>range</code>, it is pseudo even.</p>\n"},{"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368636514,"post_id":16570122,"comment_id":23809798,"body_markdown":"That will create a **huge** array, if you want a range to `Integer.MAX_VALUE` ;)","body":"That will create a <b>huge</b> array, if you want a range to <code>Integer.MAX_VALUE</code> ;)"},{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":0,"creation_date":1368637476,"post_id":16570122,"comment_id":23810306,"body_markdown":"@jlordo Well that&#39;s certainly true ;-) But the same is true of the `range` function in Python (2), and I felt like writing up an Iterator was overkill for just trying to avoid writing a basic loop (+1 to your answer for actually doing it though, lol).","body":"@jlordo Well that&#39;s certainly true ;-) But the same is true of the <code>range</code> function in Python (2), and I felt like writing up an Iterator was overkill for just trying to avoid writing a basic loop (+1 to your answer for actually doing it though, lol)."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368637611,"post_id":16570122,"comment_id":23810385,"body_markdown":"certainly overkill for a simple loop. Although you could modify the iterator to use all of the other options the Python `range()` method has and use much less memory ;) Thanks for +1","body":"certainly overkill for a simple loop. Although you could modify the iterator to use all of the other options the Python <code>range()</code> method has and use much less memory ;) Thanks for +1"}],"tags":[],"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1368634981,"creation_date":1368634540,"answer_id":16570122,"question_id":16570091,"body_markdown":"There&#39;s no Java equivalent to the `range` function, but there is an [enhanced for-loop][1]:\r\n\r\n    for (String s : strings) {\r\n        // Do stuff\r\n    }\r\n\r\nYou could also roll your own `range` function, if you&#39;re really attached to the syntax, but it seems a little silly.\r\n\r\n    public static int[] range(int length) {\r\n        int[] r = new int[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            r[i] = i;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    // ...\r\n\r\n    String s;\r\n    for (int i : range(arrayOfStrings.length)) {\r\n        s = arrayOfStrings[i];\r\n        // Do stuff\r\n    }\r\n\r\n\r\n  [1]: https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with","title":"For loop - like Python range function","body":"<p>There's no Java equivalent to the <code>range</code> function, but there is an <a href=\"https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with\" rel=\"nofollow\">enhanced for-loop</a>:</p>\n\n<pre><code>for (String s : strings) {\n    // Do stuff\n}\n</code></pre>\n\n<p>You could also roll your own <code>range</code> function, if you're really attached to the syntax, but it seems a little silly.</p>\n\n<pre><code>public static int[] range(int length) {\n    int[] r = new int[length];\n    for (int i = 0; i &lt; length; i++) {\n        r[i] = i;\n    }\n    return r;\n}\n\n// ...\n\nString s;\nfor (int i : range(arrayOfStrings.length)) {\n    s = arrayOfStrings[i];\n    // Do stuff\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368636462,"post_id":16570145,"comment_id":23809777,"body_markdown":"The implementation has some flaws. Run `int[] range = range(5, 33, 5); System.out.println(Arrays.toString(range));`","body":"The implementation has some flaws. Run <code>int[] range = range(5, 33, 5); System.out.println(Arrays.toString(range));</code>"}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368637854,"creation_date":1368634622,"answer_id":16570145,"question_id":16570091,"body_markdown":"If you really, really want to obtain an equivalent result in Java, you&#39;ll have to do some more work:\r\n\r\n    public int[] range(int start, int end, int step) {\r\n        int n = (int) Math.ceil((end-start)/(double)step);\r\n        int[] arange = new int[n];\r\n        for (int i = 0; i &lt; n; i++)\r\n            arange[i] = i*step+start;\r\n        return arange;\r\n    }\r\n\r\nNow `range(0, 4, 1)` will return the expected value, just like Python: `[0, 1, 2, 3]`. Sadly there isn&#39;t a simpler way in Java, it&#39;s _not_ a very expressive language, like Python.","title":"For loop - like Python range function","body":"<p>If you really, really want to obtain an equivalent result in Java, you'll have to do some more work:</p>\n\n<pre><code>public int[] range(int start, int end, int step) {\n    int n = (int) Math.ceil((end-start)/(double)step);\n    int[] arange = new int[n];\n    for (int i = 0; i &lt; n; i++)\n        arange[i] = i*step+start;\n    return arange;\n}\n</code></pre>\n\n<p>Now <code>range(0, 4, 1)</code> will return the expected value, just like Python: <code>[0, 1, 2, 3]</code>. Sadly there isn't a simpler way in Java, it's <em>not</em> a very expressive language, like Python.</p>\n"},{"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368636236,"post_id":16570169,"comment_id":23809649,"body_markdown":"That will create a **huge** array, if you want a range to `Integer.MAX_VALUE` ;)","body":"That will create a <b>huge</b> array, if you want a range to <code>Integer.MAX_VALUE</code> ;)"},{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":0,"creation_date":1368636465,"post_id":16570169,"comment_id":23809779,"body_markdown":"You could just check you available primary memory, even you may add some more heheh :P","body":"You could just check you available primary memory, even you may add some more heheh :P"}],"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368634682,"creation_date":1368634682,"answer_id":16570169,"question_id":16570091,"body_markdown":"Its not available that true. But you make a static method and use it -\r\n\r\n\r\n    public static int[] range(int index){\r\n        int[] arr = new int[index];\r\n        for(int i=0;i&lt;index;i++){\r\n            arr[i]=i;\r\n        }\r\n        return arr;\r\n    }","title":"For loop - like Python range function","body":"<p>Its not available that true. But you make a static method and use it -</p>\n\n<pre><code>public static int[] range(int index){\n    int[] arr = new int[index];\n    for(int i=0;i&lt;index;i++){\n        arr[i]=i;\n    }\n    return arr;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2644820,"reputation":780,"user_id":2287751,"accept_rate":100,"display_name":"Kacper Lubisz"},"score":0,"creation_date":1368635067,"post_id":16570171,"comment_id":23809033,"body_markdown":"Well its not ,but I was expecting it to be, its still go to know","body":"Well its not ,but I was expecting it to be, its still go to know"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1368635183,"post_id":16570171,"comment_id":23809081,"body_markdown":"This will also be much slower than the traditional for loop.","body":"This will also be much slower than the traditional for loop."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1441116771,"post_id":16570171,"comment_id":52541993,"body_markdown":"This solution is pretty inefficient - you need a big array for big ranges. [Extending AbstractList](http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java#answer-6828887) is the simplest efficient solution I can think of.","body":"This solution is pretty inefficient - you need a big array for big ranges. <a href=\"http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java#answer-6828887\">Extending AbstractList</a> is the simplest efficient solution I can think of."}],"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"comment_count":3,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1478158471,"creation_date":1368634686,"answer_id":16570171,"question_id":16570091,"body_markdown":"Use [Apache Commons Lang][1]:\r\n\r\n    new IntRange(0, 3).toArray();\r\n\r\nI wouldn&#39;t normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!\r\n\r\nEdit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.\r\n\r\nEdit: See @zengr&#39;s [answer](https://stackoverflow.com/a/31867991/231917) using `IntStream` in Java 8 .\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()","title":"For loop - like Python range function","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>:</p>\n\n<pre><code>new IntRange(0, 3).toArray();\n</code></pre>\n\n<p>I wouldn't normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!</p>\n\n<p>Edit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.</p>\n\n<p>Edit: See @zengr's <a href=\"https://stackoverflow.com/a/31867991/231917\">answer</a> using <code>IntStream</code> in Java 8 .</p>\n"},{"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368636537,"post_id":16570192,"comment_id":23809811,"body_markdown":"That will create a **huge** array, if you want a range to `Integer.MAX_VALUE` ;)","body":"That will create a <b>huge</b> array, if you want a range to <code>Integer.MAX_VALUE</code> ;)"},{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":0,"creation_date":1368636622,"post_id":16570192,"comment_id":23809853,"body_markdown":"@jlordo If you push it to that, yes, it will... and so would python&#39;s `range()` function","body":"@jlordo If you push it to that, yes, it will... and so would python&#39;s <code>range()</code> function"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1368636717,"post_id":16570192,"comment_id":23809903,"body_markdown":"that&#39;s why I like Java, because it is easy to have the functionality without using that much memory :)","body":"that&#39;s why I like Java, because it is easy to have the functionality without using that much memory :)"}],"tags":[],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368634756,"creation_date":1368634756,"answer_id":16570192,"question_id":16570091,"body_markdown":"As far as I know, there&#39;s not an equivalent function in java. But you can write it yourself:\r\n\r\n    public static int[] range(int n) {\r\n        int[] ans = new int[n];\r\n        int i;\r\n        for(i = 0; i &lt; n; i++) {\r\n            ans[i] = i;\r\n        }\r\n        return ans;\r\n    }\r\n","title":"For loop - like Python range function","body":"<p>As far as I know, there's not an equivalent function in java. But you can write it yourself:</p>\n\n<pre><code>public static int[] range(int n) {\n    int[] ans = new int[n];\n    int i;\n    for(i = 0; i &lt; n; i++) {\n        ans[i] = i;\n    }\n    return ans;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":3,"creation_date":1368637725,"post_id":16570509,"comment_id":23810447,"body_markdown":"+1 for actually writing out an Iterator for this! For fun: you could further wrap this in Python-like syntax with a simple getter method: `public static Range range(int max) { return new Range(max); }`, so your loop becomes `for (int i : range(5)) {}`","body":"+1 for actually writing out an Iterator for this! For fun: you could further wrap this in Python-like syntax with a simple getter method: <code>public static Range range(int max) { return new Range(max); }</code>, so your loop becomes <code>for (int i : range(5)) {}</code>"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1368637934,"post_id":16570509,"comment_id":23810565,"body_markdown":"@HenryKeiter That&#39;s a nice suggestion, I like it so much I&#39;ll update my answer (and give you the credit).","body":"@HenryKeiter That&#39;s a nice suggestion, I like it so much I&#39;ll update my answer (and give you the credit)."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1441116386,"post_id":16570509,"comment_id":52541712,"body_markdown":"It is a nice answer, but not to the question. It simply implies that &#39;No, there is not a function like range, you must implement your own iterator&#39;. Sorry, -1 for that.","body":"It is a nice answer, but not to the question. It simply implies that &#39;No, there is not a function like range, you must implement your own iterator&#39;. Sorry, -1 for that."}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":3,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1368638105,"creation_date":1368635778,"answer_id":16570509,"question_id":16570091,"body_markdown":"Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.\r\n\r\nHave a class like this:\r\n\r\n\tclass Range implements Iterable&lt;Integer&gt; {\r\n\r\n\t\tprivate int limit;\r\n\t\t\r\n\t\tpublic Range(int limit) {\r\n\t\t\tthis.limit = limit;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\tfinal int max = limit;\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\r\n\t\t\t\tprivate int current = 0;\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn current &lt; max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tif (hasNext()) {\r\n\t\t\t\t\t\treturn current++;\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new NoSuchElementException(&quot;Range reached the end&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException(&quot;Can&#39;t remove values from a Range&quot;);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nand you can simply use it like this:\r\n\r\n\t\tfor (int i : new Range(5)) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\nyou can even reuse it:\r\n\r\n\t\tRange range5 = new Range(5);\r\n\t\t\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\n---\r\nAs [Henry Keiter][1] pointed out in the comment below, we could add following method to the `Range` class (or anywhere else):\r\n\r\n    public static Range range(int max) {\r\n        return new Range(max);\r\n    }\r\n\r\nand then, in the other classes we can \r\n\r\n    import static package.name.Range.range;\r\n\r\nand simply call\r\n\r\n    for (int i : range(5)) {\r\n        System.out.println(i);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2069350/henry-keiter","title":"For loop - like Python range function","body":"<p>Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.</p>\n\n<p>Have a class like this:</p>\n\n<pre><code>class Range implements Iterable&lt;Integer&gt; {\n\n    private int limit;\n\n    public Range(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        final int max = limit;\n        return new Iterator&lt;Integer&gt;() {\n\n            private int current = 0;\n\n            @Override\n            public boolean hasNext() {\n                return current &lt; max;\n            }\n\n            @Override\n            public Integer next() {\n                if (hasNext()) {\n                    return current++;   \n                } else {\n                    throw new NoSuchElementException(\"Range reached the end\");\n                }\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException(\"Can't remove values from a Range\");\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>and you can simply use it like this:</p>\n\n<pre><code>    for (int i : new Range(5)) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>you can even reuse it:</p>\n\n<pre><code>    Range range5 = new Range(5);\n\n    for (int i : range5) {\n        System.out.println(i);\n    }\n    for (int i : range5) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/users/2069350/henry-keiter\">Henry Keiter</a> pointed out in the comment below, we could add following method to the <code>Range</code> class (or anywhere else):</p>\n\n<pre><code>public static Range range(int max) {\n    return new Range(max);\n}\n</code></pre>\n\n<p>and then, in the other classes we can </p>\n\n<pre><code>import static package.name.Range.range;\n</code></pre>\n\n<p>and simply call</p>\n\n<pre><code>for (int i : range(5)) {\n    System.out.println(i);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":1,"creation_date":1653489604,"post_id":31867991,"comment_id":127865820,"body_markdown":"Nice, but puts limitations on variables used in the lambda expression so might not be handy.","body":"Nice, but puts limitations on variables used in the lambda expression so might not be handy."}],"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":1,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1577660793,"creation_date":1438908493,"answer_id":31867991,"question_id":16570091,"body_markdown":"Java 8 (2014) has added [IntStream][1] (similar to apache commons IntRange), so you don&#39;t need external lib now.\r\n\r\n```java\r\nimport java.util.stream.IntStream; \r\n\r\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\r\n    System.out.println(n);\r\n});\r\n```\r\n\r\n`forEach` can be used in place of `forEachOrdered` too if order is not important.\r\n\r\n`IntStream.range(0, 3).parallel()` can be used for loops to run in parallel\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"For loop - like Python range function","body":"<p>Java 8 (2014) has added <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a> (similar to apache commons IntRange), so you don't need external lib now.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream; \n\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\n    System.out.println(n);\n});\n</code></pre>\n\n<p><code>forEach</code> can be used in place of <code>forEachOrdered</code> too if order is not important.</p>\n\n<p><code>IntStream.range(0, 3).parallel()</code> can be used for loops to run in parallel</p>\n"},{"comments":[{"owner":{"account_id":19863603,"reputation":8119,"user_id":14551426,"display_name":"piterbarg"},"score":0,"creation_date":1606609926,"post_id":65055712,"comment_id":115013060,"body_markdown":"Welcome to Stackoverflow and congratulations on your first answer. Here we try to keep answers focused on the specific question asked -- it is not immediately clear how what you wrote relates to the specific question of whether there was an equivalent of `range(,,)` in Java. You may want to enhance your answer by linking it more directly to the specific question","body":"Welcome to Stackoverflow and congratulations on your first answer. Here we try to keep answers focused on the specific question asked -- it is not immediately clear how what you wrote relates to the specific question of whether there was an equivalent of <code>range(,,)</code> in Java. You may want to enhance your answer by linking it more directly to the specific question"}],"tags":[],"owner":{"account_id":19699664,"reputation":1,"user_id":14422751,"display_name":"Anvith "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606608523,"creation_date":1606608523,"answer_id":65055712,"question_id":16570091,"body_markdown":"What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.\r\n\r\nin python you would do.. . . \r\n\r\n    if -2 &lt;= x &lt;= 10:\r\n         print(x) \r\n\r\nin java you would substitute this range and do. . .. \r\n\r\n    if(x &gt;= -2 &amp;&amp; x &lt;= 10){\r\n    System.out.println(&quot;x&quot;)\r\n    }\r\n\r\nBy doing the above code in java, you don&#39;t need a range, but you have the\r\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former&#39;s code format, and if you are using java, use the latter&#39;s code format. \r\n","title":"For loop - like Python range function","body":"<p>What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.</p>\n<p>in python you would do.. . .</p>\n<pre><code>if -2 &lt;= x &lt;= 10:\n     print(x) \n</code></pre>\n<p>in java you would substitute this range and do. . ..</p>\n<pre><code>if(x &gt;= -2 &amp;&amp; x &lt;= 10){\nSystem.out.println(&quot;x&quot;)\n}\n</code></pre>\n<p>By doing the above code in java, you don't need a range, but you have the\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former's code format, and if you are using java, use the latter's code format.</p>\n"}],"owner":{"account_id":2644820,"reputation":780,"user_id":2287751,"accept_rate":100,"display_name":"Kacper Lubisz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88979,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":31867991,"answer_count":9,"score":38,"last_activity_date":1688664673,"creation_date":1368634430,"question_id":16570091,"body_markdown":"I was wondering if in Java there is a function like the python range function.\r\n\r\n    range(4)\r\n and it would return\r\n\r\n    [0,1,2,3]\r\n\r\nThis was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?","title":"For loop - like Python range function","body":"<p>I was wondering if in Java there is a function like the python range function.</p>\n\n<pre><code>range(4)\n</code></pre>\n\n<p>and it would return</p>\n\n<pre><code>[0,1,2,3]\n</code></pre>\n\n<p>This was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641329484,"post_id":70584887,"comment_id":124776282,"body_markdown":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify","body":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1641385940,"post_id":70584887,"comment_id":124790184,"body_markdown":"`The issue is existing json values becomes null, whenever trying to update the record`i have no idea what you mean by this. Also `The new value is inserted as json along with null object as well.` i have no idea what you mean by this either.","body":"<code>The issue is existing json values becomes null, whenever trying to update the record</code>i have no idea what you mean by this. Also <code>The new value is inserted as json along with null object as well.</code> i have no idea what you mean by this either."},{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1641419755,"post_id":70584887,"comment_id":124803410,"body_markdown":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java","body":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java\" rel=\"nofollow noreferrer\">github.com/hantsy/spring-r2dbc-sample/blob/master/&hellip;</a>"},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579154,"post_id":70584887,"comment_id":124849584,"body_markdown":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579176,"post_id":70584887,"comment_id":124849591,"body_markdown":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":2427398,"reputation":4736,"user_id":2119041,"accept_rate":100,"display_name":"NikolaB"},"score":0,"creation_date":1641803871,"post_id":70584887,"comment_id":124892775,"body_markdown":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto","body":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto"}],"answers":[{"tags":[],"owner":{"account_id":11390194,"reputation":119,"user_id":8350542,"display_name":"mys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687881466,"creation_date":1687881466,"answer_id":76566695,"question_id":70584887,"body_markdown":"I think the answer here might be a hint.\r\n\r\nhttps://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\r\n\r\nHow about wrapping a List&lt;?&gt; in a outer class?\r\nI think it&#39;s because of Java&#39;s Generic Type Erasure, so that can not find the exact converter.","title":"Spring r2dbc custom Json converter not working","body":"<p>I think the answer here might be a hint.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017</a></p>\n<p>How about wrapping a List&lt;?&gt; in a outer class?\nI think it's because of Java's Generic Type Erasure, so that can not find the exact converter.</p>\n"},{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688664337,"creation_date":1688664337,"answer_id":76631221,"question_id":70584887,"body_markdown":"I know this answer is late, but I feel like I should add another perspective on how to do this. I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private List&lt;YourObjectType&gt; data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tList&lt;YourObjectType&gt; yourList = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(yourList)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Spring r2dbc custom Json converter not working","body":"<p>I know this answer is late, but I feel like I should add another perspective on how to do this. I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private List&lt;YourObjectType&gt; data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        List&lt;YourObjectType&gt; yourList = objectMapper.readValue(\n            myObj.getData().asString(), \n            new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(yourList)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1694,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688664337,"creation_date":1641329409,"question_id":70584887,"body_markdown":"I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\r\nPlease let me know where i am doing it wrong\r\n\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\r\n    public class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\r\n    private final ObjectMapper objectMapper;\r\n    \r\n    @Bean\r\n    @Override\r\n    public R2dbcCustomConversions r2dbcCustomConversions() {\r\n    \tSystem.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\r\n        List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n        converters.add(new JsonToMapConverter(objectMapper));\r\n        converters.add(new MapToJsonConverter(objectMapper));\r\n        return new R2dbcCustomConversions(getStoreConversions(), converters);\r\n    }\r\n\r\n\t@Override\r\n\tpublic ConnectionFactory connectionFactory() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null; // configured via properties file\r\n\t}\r\n \r\n\r\n    @Slf4j\r\n    @ReadingConverter\r\n    @AllArgsConstructor\r\n    public class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\r\n\t\r\n\tprivate final ObjectMapper objectMapper;\r\n\t@Override\r\n\tpublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;json +++++++++++++ &quot;+json);\r\n\t\t\t//return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\r\n\t\t\treturn Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\r\n\t\t}\r\n\t\treturn new ArrayList&lt;SeasonsJsonDto&gt;();\r\n\t}\r\n\r\n}\r\n\r\n    @Slf4j\r\n    @WritingConverter\r\n    @AllArgsConstructor\r\n    public class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n    public Json convert(List&lt;SeasonsJsonDto&gt; source) {\r\n        try {\r\n           return Json.of(objectMapper.writeValueAsString(source));\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\r\n        }\r\n        return Json.of(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n    @Table(&quot;aaaa&quot;)\r\n    @Data\r\n    public class HuntsDetail extends BaseEntity implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@Column(&quot;id&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(&quot;hunter_id&quot;)\r\n    \tprivate Long hunterId;\r\n    \r\n    \t@Column(&quot;hunts_collection_id&quot;)\r\n    \tprivate String huntCollectionId;\r\n    \r\n    \t@Column(&quot;folder_id&quot;)\r\n    \tprivate Long folderId;\r\n    \r\n    \t@Column(&quot;hunts_coverimgUrl&quot;)\r\n    \tprivate String huntsCoverImgUrl;\r\n    \r\n    \t@Column(&quot;seasons_dtl&quot;)\r\n    \tprivate List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\r\n    \r\n    }","title":"Spring r2dbc custom Json converter not working","body":"<p>I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\nPlease let me know where i am doing it wrong</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\npublic class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\nprivate final ObjectMapper objectMapper;\n\n@Bean\n@Override\npublic R2dbcCustomConversions r2dbcCustomConversions() {\n    System.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\n    converters.add(new JsonToMapConverter(objectMapper));\n    converters.add(new MapToJsonConverter(objectMapper));\n    return new R2dbcCustomConversions(getStoreConversions(), converters);\n}\n\n@Override\npublic ConnectionFactory connectionFactory() {\n    // TODO Auto-generated method stub\n    return null; // configured via properties file\n}\n\n\n@Slf4j\n@ReadingConverter\n@AllArgsConstructor\npublic class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\n\nprivate final ObjectMapper objectMapper;\n@Override\npublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\n    try {\n        System.out.println(&quot;json +++++++++++++ &quot;+json);\n        //return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\n        return Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\n        \n    } catch (Exception e) {\n        log.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\n    }\n    return new ArrayList&lt;SeasonsJsonDto&gt;();\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Slf4j\n@WritingConverter\n@AllArgsConstructor\npublic class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\nprivate final ObjectMapper objectMapper;\n\n@Override\npublic Json convert(List&lt;SeasonsJsonDto&gt; source) {\n    try {\n       return Json.of(objectMapper.writeValueAsString(source));\n    } catch (JsonProcessingException e) {\n        log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\n    }\n    return Json.of(&quot;&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Table(&quot;aaaa&quot;)\n@Data\npublic class HuntsDetail extends BaseEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(&quot;id&quot;)\n    private Long id;\n\n    @Column(&quot;hunter_id&quot;)\n    private Long hunterId;\n\n    @Column(&quot;hunts_collection_id&quot;)\n    private String huntCollectionId;\n\n    @Column(&quot;folder_id&quot;)\n    private Long folderId;\n\n    @Column(&quot;hunts_coverimgUrl&quot;)\n    private String huntsCoverImgUrl;\n\n    @Column(&quot;seasons_dtl&quot;)\n    private List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\n\n}\n</code></pre>\n"},{"tags":["java","c++","user-interface"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688556761,"post_id":76619375,"comment_id":135088357,"body_markdown":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component – but most of these frameworks refuse to be integrated into another.","body":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component – but most of these frameworks refuse to be integrated into another."},{"owner":{"account_id":12514905,"reputation":2245,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688560306,"post_id":76619375,"comment_id":135089181,"body_markdown":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?","body":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688654133,"post_id":76619375,"comment_id":135105592,"body_markdown":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned","body":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned"},{"owner":{"account_id":12514905,"reputation":2245,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688668712,"post_id":76619375,"comment_id":135108399,"body_markdown":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?","body":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688708413,"post_id":76619375,"comment_id":135112645,"body_markdown":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code.","body":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code."}],"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688664167,"creation_date":1688552436,"question_id":76619375,"body_markdown":"How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.\r\n\r\nApparently I couldn&#39;t find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don&#39;t know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.","title":"Displaying GLFW Windows in JAVA GUI","body":"<p>How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.</p>\n<p>Apparently I couldn't find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don't know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.</p>\n"},{"tags":["java","itext7","licensing"],"answers":[{"comments":[{"owner":{"account_id":16037219,"reputation":25,"user_id":11574594,"display_name":"Cemail Sn"},"score":0,"creation_date":1688673795,"post_id":76631201,"comment_id":135109314,"body_markdown":"Hello Matthias, I appreciate your kind response.\n\nI have followed the recommendations that you have made me, put version 4.0.3 in both licensing-base and licensing-remote libraries in the order that I mention here, however the error continues to appear, I use those versions because according to the compatibility table that you kindly share with me is compatible with the itext 7.2.2 core, is there any other element that I am missing? First of all I insert the version of the itext7-core 7.2.2 library, maybe the order can affect the behavior.","body":"Hello Matthias, I appreciate your kind response.  I have followed the recommendations that you have made me, put version 4.0.3 in both licensing-base and licensing-remote libraries in the order that I mention here, however the error continues to appear, I use those versions because according to the compatibility table that you kindly share with me is compatible with the itext 7.2.2 core, is there any other element that I am missing? First of all I insert the version of the itext7-core 7.2.2 library, maybe the order can affect the behavior."},{"owner":{"account_id":1957172,"reputation":88,"user_id":1759923,"display_name":"Matthias Keisse"},"score":0,"creation_date":1688685629,"post_id":76631201,"comment_id":135110916,"body_markdown":"Hey @CemailSn, thanks for the update. It seems that you&#39;re adding the correct libraries to work with the iText SDK to your project, so I suspect there might be some configuration issue. Since you&#39;re a paying iText customer, my best recommendation would be to create a ticket on https://itext.freshdesk.com/ so the support team can investigate this further. It would be beneficial if you could create a MCVE test project so the team can reproduce and further investigate this. Would that be possible?","body":"Hey @CemailSn, thanks for the update. It seems that you&#39;re adding the correct libraries to work with the iText SDK to your project, so I suspect there might be some configuration issue. Since you&#39;re a paying iText customer, my best recommendation would be to create a ticket on <a href=\"https://itext.freshdesk.com/\" rel=\"nofollow noreferrer\">itext.freshdesk.com</a> so the support team can investigate this further. It would be beneficial if you could create a MCVE test project so the team can reproduce and further investigate this. Would that be possible?"},{"owner":{"account_id":16037219,"reputation":25,"user_id":11574594,"display_name":"Cemail Sn"},"score":0,"creation_date":1688686531,"post_id":76631201,"comment_id":135110978,"body_markdown":"Hello @Matthias Keisse, I don&#39;t know how to create the project that you mention, however a couple of hours ago I raised a ticket in the itext support now I have to wait 3 business days to see the answer they give me, I basically put the same question complementing it with the use of your kind response, in the same way I appreciate your support now it&#39;s time to wait and keep checking in case I find something new.\n\nGreetings.","body":"Hello @Matthias Keisse, I don&#39;t know how to create the project that you mention, however a couple of hours ago I raised a ticket in the itext support now I have to wait 3 business days to see the answer they give me, I basically put the same question complementing it with the use of your kind response, in the same way I appreciate your support now it&#39;s time to wait and keep checking in case I find something new.  Greetings."}],"tags":[],"owner":{"account_id":1957172,"reputation":88,"user_id":1759923,"display_name":"Matthias Keisse"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688664137,"creation_date":1688664137,"answer_id":76631201,"question_id":76630925,"body_markdown":"It looks like your license requires the usage of the remote reporting module iText provides. \r\n\r\nYou can add it to your project using Maven, or download the jar and manually include it. It can be found here: https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\r\n\r\nMore information on volume and remote reporting licenses can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\r\n\r\nPlease make sure you&#39;re using the correct licensing-base and licensing-remote versions for your version of iText. \r\n\r\nA compatibility matrix can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/compatibility-matrix","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>It looks like your license requires the usage of the remote reporting module iText provides.</p>\n<p>You can add it to your project using Maven, or download the jar and manually include it. It can be found here: <a href=\"https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote</a></p>\n<p>More information on volume and remote reporting licenses can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs</a></p>\n<p>Please make sure you're using the correct licensing-base and licensing-remote versions for your version of iText.</p>\n<p>A compatibility matrix can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/compatibility-matrix\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/compatibility-matrix</a></p>\n"}],"owner":{"account_id":16037219,"reputation":25,"user_id":11574594,"display_name":"Cemail Sn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76631201,"answer_count":1,"score":0,"last_activity_date":1688664137,"creation_date":1688661655,"question_id":76630925,"body_markdown":"I am trying to consume an **itext 7.2 license** from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE\r\n\r\nI have a .json file in C and I use **licensing-base** in **version 4.1.0**, please if someone could tell me what I might be doing wrong or if I&#39;m missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn&#39;t let me continue.\r\n\r\nIn advance thanks for the help.","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>I am trying to consume an <strong>itext 7.2 license</strong> from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE</p>\n<p>I have a .json file in C and I use <strong>licensing-base</strong> in <strong>version 4.1.0</strong>, please if someone could tell me what I might be doing wrong or if I'm missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn't let me continue.</p>\n<p>In advance thanks for the help.</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":1884216,"reputation":5801,"user_id":1703772,"accept_rate":89,"display_name":"NuclearPeon"},"score":4,"creation_date":1381354222,"post_id":4439612,"comment_id":28552779,"body_markdown":"I was having some issues with not having Object[]s in my Arrays.copyOfRange. Check your imports to ensure you are using java.util.Arrays. Somehow a different Arrays version got imported and I wasted 15 minutes checking JREs and JDKs for the issue.","body":"I was having some issues with not having Object[]s in my Arrays.copyOfRange. Check your imports to ensure you are using java.util.Arrays. Somehow a different Arrays version got imported and I wasted 15 minutes checking JREs and JDKs for the issue."},{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1500467421,"post_id":4439612,"comment_id":77348302,"body_markdown":"@NuclearPeon Thank you!!! Would have taken me a long while before I figured it out myself. Eclipse automatically imported `org.bouncycastle.util.Arrays`.","body":"@NuclearPeon Thank you!!! Would have taken me a long while before I figured it out myself. Eclipse automatically imported <code>org.bouncycastle.util.Arrays</code>."},{"owner":{"account_id":2082956,"reputation":6094,"user_id":1854563,"accept_rate":33,"display_name":"Gunnar Bernstein"},"score":0,"creation_date":1676615919,"post_id":4439612,"comment_id":133176605,"body_markdown":"This is actually a copy of a part of an array. A sub-array would be pointing to the original array like a sub-list. Changing an array element will not affect the original array whereas in a sub-array it would. Also it has performance implications as not only the pointers are copied, but all elements (for objects shallow copy).","body":"This is actually a copy of a part of an array. A sub-array would be pointing to the original array like a sub-list. Changing an array element will not affect the original array whereas in a sub-array it would. Also it has performance implications as not only the pointers are copied, but all elements (for objects shallow copy)."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":3,"down_vote_count":1,"up_vote_count":402,"is_accepted":false,"score":401,"last_activity_date":1483785825,"creation_date":1292332932,"answer_id":4439612,"question_id":4439595,"body_markdown":"You can use   \r\n\r\nJDK &gt; 1.5\r\n---------   \r\n\r\n    Arrays.copyOfRange(Object[] src, int from, int to)\r\n\r\n[Javadoc][1]  \r\n\r\n\r\nJDK &lt;= 1.5\r\n-----------\r\n\r\n    System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \r\n\r\n[Javadoc][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html","title":"How to create a sub array from another array in Java?","body":"<p>You can use   </p>\n\n<h2>JDK > 1.5</h2>\n\n<pre><code>Arrays.copyOfRange(Object[] src, int from, int to)\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\">Javadoc</a>  </p>\n\n<h2>JDK &lt;= 1.5</h2>\n\n<pre><code>System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html\">Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1411205431,"creation_date":1292332951,"answer_id":4439615,"question_id":4439595,"body_markdown":"Yes, it&#39;s called [System.arraycopy(Object, int, Object, int, int)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)) .\r\n\r\nIt&#39;s still going to perform a loop somewhere though, unless this can get optimized into something like `REP STOSW` by the JIT (in which case the loop is inside the CPU).\r\n\r\n    int[] src = new int[] {1, 2, 3, 4, 5};\r\n    int[] dst = new int[3];\r\n\r\n    System.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst","title":"How to create a sub array from another array in Java?","body":"<p>Yes, it's called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"noreferrer\">System.arraycopy(Object, int, Object, int, int)</a> .</p>\n\n<p>It's still going to perform a loop somewhere though, unless this can get optimized into something like <code>REP STOSW</code> by the JIT (in which case the loop is inside the CPU).</p>\n\n<pre><code>int[] src = new int[] {1, 2, 3, 4, 5};\nint[] dst = new int[3];\n\nSystem.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst\n</code></pre>\n"},{"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1292334862,"post_id":4439809,"comment_id":4847315,"body_markdown":"@Sami either upgrade to 1.6 or see this doc for reference http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html","body":"@Sami either upgrade to 1.6 or see this doc for reference <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.4.2/docs/api/java/lang/System.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1292336172,"post_id":4439809,"comment_id":4847558,"body_markdown":"Which vendor is your JDK from. Sun/Oracle never released a version 4.00.28 and google couldn&#39;t find it either.","body":"Which vendor is your JDK from. Sun/Oracle never released a version 4.00.28 and google couldn&#39;t find it either."},{"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"score":0,"creation_date":1435330781,"post_id":4439809,"comment_id":50171276,"body_markdown":"copyOfRange nulls trailing elements if they are out of source array range instead of allocating a smaller array :(","body":"copyOfRange nulls trailing elements if they are out of source array range instead of allocating a smaller array :("},{"owner":{"account_id":236479,"reputation":1206,"user_id":503991,"accept_rate":24,"display_name":"Yan King Yin"},"score":23,"creation_date":1444392842,"post_id":4439809,"comment_id":53896648,"body_markdown":"someone should add in the answer that while &quot;start-index&quot; is inclusive, &quot;end-index&quot; is *exclusive*","body":"someone should add in the answer that while &quot;start-index&quot; is inclusive, &quot;end-index&quot; is <i>exclusive</i>"},{"owner":{"account_id":2359837,"reputation":285,"user_id":2896730,"accept_rate":62,"display_name":"Ben Kushigian"},"score":0,"creation_date":1535627217,"post_id":4439809,"comment_id":91140965,"body_markdown":"@YanKingYin you are correct--this is precisely what I was reading the comments for :)","body":"@YanKingYin you are correct--this is precisely what I was reading the comments for :)"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":5,"down_vote_count":0,"up_vote_count":146,"is_accepted":false,"score":146,"last_activity_date":1292334485,"creation_date":1292334485,"answer_id":4439809,"question_id":4439595,"body_markdown":"`Arrays.copyOfRange(..)` was added in Java 1.6. So perhaps you don&#39;t have the latest version. If it&#39;s not possible to upgrade, look at `System.arraycopy(..)`","title":"How to create a sub array from another array in Java?","body":"<p><code>Arrays.copyOfRange(..)</code> was added in Java 1.6. So perhaps you don't have the latest version. If it's not possible to upgrade, look at <code>System.arraycopy(..)</code></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292334650,"creation_date":1292334650,"answer_id":4439833,"question_id":4439595,"body_markdown":"I you are using java prior to version 1.6 use `System.arraycopy()` instead. Or upgrade your environment.","title":"How to create a sub array from another array in Java?","body":"<p>I you are using java prior to version 1.6 use <code>System.arraycopy()</code> instead. Or upgrade your environment.</p>\n"},{"tags":[],"owner":{"account_id":55005,"reputation":1117,"user_id":164680,"display_name":"Milan Jaros"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292335233,"creation_date":1292334698,"answer_id":4439841,"question_id":4439595,"body_markdown":"    int newArrayLength = 30; \r\n\r\n    int[] newArray = new int[newArrayLength];\r\n\r\n    System.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<pre><code>int newArrayLength = 30; \n\nint[] newArray = new int[newArrayLength];\n\nSystem.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236375,"reputation":494,"user_id":503825,"display_name":"Merky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292334746,"creation_date":1292334746,"answer_id":4439851,"question_id":4439595,"body_markdown":"The code is correct so I&#39;m guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:\r\n\r\n    java -version\r\n\r\nI&#39;m guessing that you are not running 1.6","title":"How to create a sub array from another array in Java?","body":"<p>The code is correct so I'm guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I'm guessing that you are not running 1.6</p>\n"},{"tags":[],"owner":{"account_id":4140184,"reputation":816,"user_id":3395760,"display_name":"Alessandro Muzzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433178844,"creation_date":1433178844,"answer_id":30579320,"question_id":4439595,"body_markdown":"Using Apache [ArrayUtils][1] downloadable at [this link][2] you can easy use the method \r\n\r\n    subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \r\n&quot;boolean&quot; is only an example, there are methods for all primitives java types\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"How to create a sub array from another array in Java?","body":"<p>Using Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"noreferrer\">ArrayUtils</a> downloadable at <a href=\"https://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"noreferrer\">this link</a> you can easy use the method </p>\n\n<pre><code>subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \n</code></pre>\n\n<p>\"boolean\" is only an example, there are methods for all primitives java types</p>\n"},{"comments":[{"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"score":6,"creation_date":1641332490,"post_id":53381282,"comment_id":124777201,"body_markdown":"Good idea to use streams. One could also use `Stream.of(source).skip(start).limit(count).toArray(Foo[]::new)`.","body":"Good idea to use streams. One could also use <code>Stream.of(source).skip(start).limit(count).toArray(Foo[]::ne&zwnj;&#8203;w)</code>."}],"tags":[],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1581232153,"creation_date":1542655302,"answer_id":53381282,"question_id":4439595,"body_markdown":"**JDK &gt;= 1.8**\r\n\r\nI agree with all the answers above. There is also a nice way with Java 8 Streams:\r\n\r\n    int[] subArr = IntStream.range(startInclusive, endExclusive)\r\n                            .map(i -&gt; src[i])\r\n                            .toArray();\r\n\r\nThe benefit about this is, it can be useful for many different types of &quot;src&quot; array and helps to improve writing pipeline operations on the stream.\r\n\r\nNot particular about this question, but for example, if the source array was `double[]` and we wanted to take `average()` of the sub-array:\r\n\r\n    double avg = IntStream.range(startInclusive, endExclusive)\r\n                        .mapToDouble(index -&gt; src[index])\r\n                        .average()\r\n                        .getAsDouble();","title":"How to create a sub array from another array in Java?","body":"<p><strong>JDK >= 1.8</strong></p>\n\n<p>I agree with all the answers above. There is also a nice way with Java 8 Streams:</p>\n\n<pre><code>int[] subArr = IntStream.range(startInclusive, endExclusive)\n                        .map(i -&gt; src[i])\n                        .toArray();\n</code></pre>\n\n<p>The benefit about this is, it can be useful for many different types of \"src\" array and helps to improve writing pipeline operations on the stream.</p>\n\n<p>Not particular about this question, but for example, if the source array was <code>double[]</code> and we wanted to take <code>average()</code> of the sub-array:</p>\n\n<pre><code>double avg = IntStream.range(startInclusive, endExclusive)\n                    .mapToDouble(index -&gt; src[index])\n                    .average()\n                    .getAsDouble();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677599136,"creation_date":1677599136,"answer_id":75594283,"question_id":4439595,"body_markdown":"For Java &gt;= 1.8\r\n\r\n    Arrays.stream(array, incIndex, exclusiveIndex)","title":"How to create a sub array from another array in Java?","body":"<p>For Java &gt;= 1.8</p>\n<pre><code>Arrays.stream(array, incIndex, exclusiveIndex)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24585581,"reputation":21,"user_id":18490137,"display_name":"Hsabes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688663931,"creation_date":1688663931,"answer_id":76631177,"question_id":4439595,"body_markdown":"OP said they didn&#39;t want a for loop but in case anyone does:\r\n\r\n```\r\nint[] subArr = new int[end - start];\r\n\r\nfor (int i = 0; i &lt; end - start; i++){\r\n    subArr[i] = sourceArr[i + start];\r\n}\r\n```\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<p>OP said they didn't want a for loop but in case anyone does:</p>\n<pre><code>int[] subArr = new int[end - start];\n\nfor (int i = 0; i &lt; end - start; i++){\n    subArr[i] = sourceArr[i + start];\n}\n</code></pre>\n"}],"owner":{"account_id":690697,"reputation":3773,"user_id":539411,"accept_rate":0,"display_name":"Gain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524767,"favorite_count":0,"down_vote_count":3,"up_vote_count":372,"answer_count":10,"score":369,"last_activity_date":1688663931,"creation_date":1292332850,"question_id":4439595,"body_markdown":"How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:\r\n\r\n    methodName(object array, int start, int end)\r\n\r\nI don&#39;t want to go over making loops and making my program suffer.\r\n\r\nI keep getting error:\r\n\r\n&gt; cannot find symbol method copyOfRange(int[],int,int)\r\n\r\nThis is my code:\r\n\r\n    import java.util.*;\r\n\r\n    public class testing \r\n    {\r\n        public static void main(String [] arg) \r\n        {\t\r\n            int[] src = new int[] {1, 2, 3, 4, 5}; \r\n            int b1[] = Arrays.copyOfRange(src, 0, 2);\r\n        }\r\n    }\r\n","title":"How to create a sub array from another array in Java?","body":"<p>How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:</p>\n\n<pre><code>methodName(object array, int start, int end)\n</code></pre>\n\n<p>I don't want to go over making loops and making my program suffer.</p>\n\n<p>I keep getting error:</p>\n\n<blockquote>\n  <p>cannot find symbol method copyOfRange(int[],int,int)</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>import java.util.*;\n\npublic class testing \n{\n    public static void main(String [] arg) \n    {   \n        int[] src = new int[] {1, 2, 3, 4, 5}; \n        int b1[] = Arrays.copyOfRange(src, 0, 2);\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","testng","appium"],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663689,"creation_date":1684162373,"question_id":76255312,"body_markdown":"I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level. \r\n\r\nI have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.\r\n\r\nIs that a possibility?\r\n\r\nNote: Appium 2.0 and Java 11","title":"Can I set noReset Appium Capability at the test level","body":"<p>I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level.</p>\n<p>I have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.</p>\n<p>Is that a possibility?</p>\n<p>Note: Appium 2.0 and Java 11</p>\n"},{"tags":["java","javafx","line","rsyntaxtextarea"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1688666927,"post_id":76631154,"comment_id":135108044,"body_markdown":"Why is this marked JavaFX?  [RSyntaxTextArea](https://bobbylight.github.io/RSyntaxTextArea/) is a Swing control.","body":"Why is this marked JavaFX?  <a href=\"https://bobbylight.github.io/RSyntaxTextArea/\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a> is a Swing control."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663669,"creation_date":1688663669,"question_id":76631154,"body_markdown":"In my code I&#39;m using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.\r\n\r\nHere is my code :\r\n```\r\nRSyntaxTextArea tabTextArea = new RSyntaxTextArea();\r\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\r\ntabTextArea.setCodeFoldingEnabled(true);\r\ntabTextArea.setAntiAliasingEnabled(true);\r\n\r\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\r\ntabScrollPane.setLineNumbersEnabled(true);\r\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\r\n```\r\n\r\nI&#39;ve also changed the font in another part of the code, here are the parts where I made these :\r\n\r\nFor the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :\r\n```\r\n((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\r\n```\r\n\r\nFor the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :\r\n```\r\nrSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\r\n```\r\n\r\nIt&#39;s the same font and same size but it&#39;s not aligned. Can someone help me ?\r\nAnd an important important information is that if I do not set theses font it&#39;s perfectly aligned.\r\n\r\nThanks !","title":"Line alignment RSyntaxTextArea and RTextScrollPane","body":"<p>In my code I'm using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.</p>\n<p>Here is my code :</p>\n<pre><code>RSyntaxTextArea tabTextArea = new RSyntaxTextArea();\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\ntabTextArea.setCodeFoldingEnabled(true);\ntabTextArea.setAntiAliasingEnabled(true);\n\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\ntabScrollPane.setLineNumbersEnabled(true);\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\n</code></pre>\n<p>I've also changed the font in another part of the code, here are the parts where I made these :</p>\n<p>For the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :</p>\n<pre><code>((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\n</code></pre>\n<p>For the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :</p>\n<pre><code>rSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\n</code></pre>\n<p>It's the same font and same size but it's not aligned. Can someone help me ?\nAnd an important important information is that if I do not set theses font it's perfectly aligned.</p>\n<p>Thanks !</p>\n"},{"tags":["java","file","swing","linked-list","file-handling"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671239,"post_id":76631104,"comment_id":135108832,"body_markdown":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: https://stackoverflow.com/a/43197145/131872 for the most basic example.","body":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: <a href=\"https://stackoverflow.com/a/43197145/131872\">stackoverflow.com/a/43197145/131872</a> for the most basic example."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671249,"post_id":76631104,"comment_id":135108836,"body_markdown":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) to get you started.","body":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> to get you started."}],"owner":{"account_id":25834219,"reputation":1,"user_id":19570844,"display_name":"Franco Luis Rosel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663211,"creation_date":1688663211,"question_id":76631104,"body_markdown":"I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).\r\n\r\nIn the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it&#39;s ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\nimport java.util.LinkedList;\r\n\r\npublic class FileContentApp {\r\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\r\n    private static DefaultTableModel tableModel;\r\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.getContentPane().setLayout(new BorderLayout());\r\n        frame.getContentPane().setBackground(Color.WHITE);\r\n\r\n        JPanel topPanel = new JPanel(new BorderLayout());\r\n        topPanel.setBackground(Color.WHITE);\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n        buttonPanel.setBackground(Color.WHITE);\r\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\r\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        topPanel.add(titleLabel, BorderLayout.NORTH);\r\n        JButton addButton = new JButton(&quot;+&quot;);\r\n        addButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                showDialog(frame);\r\n            }\r\n        });\r\n        JButton settingButton = new JButton(&quot;...&quot;);\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(settingButton);\r\n        topPanel.add(buttonPanel, BorderLayout.EAST);\r\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\r\n\r\n        JPanel contentPanel = new JPanel(new BorderLayout());\r\n        contentPanel.setBackground(Color.WHITE);\r\n        JTable table = createTable();\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\r\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\r\n\r\n        loadFileContents();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static JTable createTable() {\r\n        tableModel = new DefaultTableModel();\r\n        tableModel.addColumn(&quot;Name&quot;);\r\n        tableModel.addColumn(&quot;Phone&quot;);\r\n        tableModel.addColumn(&quot;Email&quot;);\r\n        JTable table = new JTable(tableModel);\r\n        table.setGridColor(Color.LIGHT_GRAY);\r\n        table.setShowGrid(true);\r\n        return table;\r\n    }\r\n\r\n    private static void showDialog(JFrame parentFrame) {\r\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\r\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\r\n    dialog.setSize(300, 200);\r\n    dialog.setLayout(new BorderLayout());\r\n    dialog.setLocationRelativeTo(parentFrame);\r\n\r\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\r\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\r\n    JTextField nameField = new JTextField();\r\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\r\n    JTextField phoneField = new JTextField();\r\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\r\n    JTextField emailField = new JTextField();\r\n\r\n    inputPanel.add(nameLabel);\r\n    inputPanel.add(nameField);\r\n    inputPanel.add(phoneLabel);\r\n    inputPanel.add(phoneField);\r\n    inputPanel.add(emailLabel);\r\n    inputPanel.add(emailField);\r\n\r\n    JPanel buttonPanel = new JPanel();\r\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n    JButton addButton = new JButton(&quot;Add&quot;);\r\n    addButton.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n            String name = nameField.getText();\r\n            String phone = phoneField.getText();\r\n            String email = emailField.getText();\r\n            listContact.add(name);\r\n            listContact.add(phone);\r\n            listContact.add(email);\r\n            fileContacts.add(listContact);\r\n            addContactToFile(fileContacts);\r\n            loadFileContents();\r\n            dialog.dispose();\r\n        }\r\n    });\r\n    buttonPanel.add(addButton);\r\n\r\n    dialog.add(inputPanel, BorderLayout.CENTER);\r\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\r\n    dialog.setVisible(true);\r\n}\r\n\r\n\r\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\r\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\r\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\r\n            writer.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void loadFileContents() {\r\n    tableModel.setRowCount(0); // Clear existing table data\r\n\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\r\n        String line;\r\n        int lineCount = 0;\r\n        while ((line = reader.readLine()) != null) {\r\n            if (lineCount % 3 == 0) {\r\n                fileContacts.add(new LinkedList&lt;&gt;());\r\n            }\r\n            fileContacts.get(lineCount / 3).add(line);\r\n            lineCount++;\r\n        }\r\n\r\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\r\n            tableModel.addRow(contact.toArray());\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n}\r\n```\r\nHere is the whole code I used, I&#39;m still inexperienced in regards of using this part of Java so it&#39;s kind of clunky, and used some ChatGPT.","title":"Storing LinkedList values from a file and showing it to JFrame","body":"<p>I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).</p>\n<p>In the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it's ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.LinkedList;\n\npublic class FileContentApp {\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\n    private static DefaultTableModel tableModel;\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.getContentPane().setLayout(new BorderLayout());\n        frame.getContentPane().setBackground(Color.WHITE);\n\n        JPanel topPanel = new JPanel(new BorderLayout());\n        topPanel.setBackground(Color.WHITE);\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        buttonPanel.setBackground(Color.WHITE);\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        topPanel.add(titleLabel, BorderLayout.NORTH);\n        JButton addButton = new JButton(&quot;+&quot;);\n        addButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                showDialog(frame);\n            }\n        });\n        JButton settingButton = new JButton(&quot;...&quot;);\n        buttonPanel.add(addButton);\n        buttonPanel.add(settingButton);\n        topPanel.add(buttonPanel, BorderLayout.EAST);\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\n\n        JPanel contentPanel = new JPanel(new BorderLayout());\n        contentPanel.setBackground(Color.WHITE);\n        JTable table = createTable();\n        JScrollPane scrollPane = new JScrollPane(table);\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\n\n        loadFileContents();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static JTable createTable() {\n        tableModel = new DefaultTableModel();\n        tableModel.addColumn(&quot;Name&quot;);\n        tableModel.addColumn(&quot;Phone&quot;);\n        tableModel.addColumn(&quot;Email&quot;);\n        JTable table = new JTable(tableModel);\n        table.setGridColor(Color.LIGHT_GRAY);\n        table.setShowGrid(true);\n        return table;\n    }\n\n    private static void showDialog(JFrame parentFrame) {\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\n    dialog.setSize(300, 200);\n    dialog.setLayout(new BorderLayout());\n    dialog.setLocationRelativeTo(parentFrame);\n\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\n    JTextField nameField = new JTextField();\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\n    JTextField phoneField = new JTextField();\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\n    JTextField emailField = new JTextField();\n\n    inputPanel.add(nameLabel);\n    inputPanel.add(nameField);\n    inputPanel.add(phoneLabel);\n    inputPanel.add(phoneField);\n    inputPanel.add(emailLabel);\n    inputPanel.add(emailField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\n    JButton addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String name = nameField.getText();\n            String phone = phoneField.getText();\n            String email = emailField.getText();\n            listContact.add(name);\n            listContact.add(phone);\n            listContact.add(email);\n            fileContacts.add(listContact);\n            addContactToFile(fileContacts);\n            loadFileContents();\n            dialog.dispose();\n        }\n    });\n    buttonPanel.add(addButton);\n\n    dialog.add(inputPanel, BorderLayout.CENTER);\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\n    dialog.setVisible(true);\n}\n\n\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\n            writer.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void loadFileContents() {\n    tableModel.setRowCount(0); // Clear existing table data\n\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\n        String line;\n        int lineCount = 0;\n        while ((line = reader.readLine()) != null) {\n            if (lineCount % 3 == 0) {\n                fileContacts.add(new LinkedList&lt;&gt;());\n            }\n            fileContacts.get(lineCount / 3).add(line);\n            lineCount++;\n        }\n\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\n            tableModel.addRow(contact.toArray());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Here is the whole code I used, I'm still inexperienced in regards of using this part of Java so it's kind of clunky, and used some ChatGPT.</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-data-jpa"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550919749,"post_id":54840769,"comment_id":96455243,"body_markdown":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say","body":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550920542,"post_id":54840769,"comment_id":96455433,"body_markdown":"@BillyFrost I edited my question. I print `myObject` in `JSON`. The format is not the format specified in my formatter...","body":"@BillyFrost I edited my question. I print <code>myObject</code> in <code>JSON</code>. The format is not the format specified in my formatter..."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550921977,"post_id":54840769,"comment_id":96455797,"body_markdown":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist","body":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550922515,"post_id":54840769,"comment_id":96455936,"body_markdown":"So, what I don&#39;t understand is why the format into the `sysout()` is not `yyyy-MM-dd`. Because if I do `sysout(myObject.getStartdate())` the result is a date with `yyyy-MM-dd` format ...","body":"So, what I don&#39;t understand is why the format into the <code>sysout()</code> is not <code>yyyy-MM-dd</code>. Because if I do <code>sysout(myObject.getStartdate())</code> the result is a date with <code>yyyy-MM-dd</code> format ..."},{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1550927382,"post_id":54840769,"comment_id":96457221,"body_markdown":"Ok, so nothing to do with JPA then. A `LocalDate`.toString() method has its own output format defined by JAVADOCS, as per https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--  Which has what to do with the &quot;problem&quot;?","body":"Ok, so nothing to do with JPA then. A <code>LocalDate</code>.toString() method has its own output format defined by JAVADOCS, as per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>  Which has what to do with the &quot;problem&quot;?"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550927552,"post_id":54840769,"comment_id":96457260,"body_markdown":"@BillyFrost thanks. I will look that.","body":"@BillyFrost thanks. I will look that."}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550919208,"creation_date":1550919208,"answer_id":54840805,"question_id":54840769,"body_markdown":"Hibernate 5 supports java 8, so you can add this to your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis gives you mapping for `LocalDate` and `LocalDateTime` out of box.","title":"How to persist LocalDate with JPA?","body":"<p>Hibernate 5 supports java 8, so you can add this to your pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This gives you mapping for <code>LocalDate</code> and <code>LocalDateTime</code> out of box.</p>\n"},{"comments":[{"owner":{"account_id":25912,"reputation":3739,"user_id":67015,"accept_rate":80,"display_name":"lostiniceland"},"score":0,"creation_date":1632491889,"post_id":54841227,"comment_id":122514618,"body_markdown":"What is Hibernate using when mapping LocalDate? I need to adjust the datein case of LocalDate.MAX to, for instance 31.12.9999. I am using an AttributeConverter&lt;LocalDate, Date&gt; and it works, but java.sql.Date is horrible when mapping LocalDate.MIN because I need to allow 01.01.0001 but I cannot set java.sql.Date to anything lower than that.","body":"What is Hibernate using when mapping LocalDate? I need to adjust the datein case of LocalDate.MAX to, for instance 31.12.9999. I am using an AttributeConverter&lt;LocalDate, Date&gt; and it works, but java.sql.Date is horrible when mapping LocalDate.MIN because I need to allow 01.01.0001 but I cannot set java.sql.Date to anything lower than that."}],"tags":[],"owner":{"account_id":2331687,"reputation":2858,"user_id":2044957,"display_name":"Peter Š&#225;ly"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1688662524,"creation_date":1550922320,"answer_id":54841227,"question_id":54840769,"body_markdown":"JPA 2.2 supports `LocalDate`, so no converter is needed. \r\n\r\nHibernate also supports it as of 5.3 version.\r\n\r\nCheck out this article: [What’s new in JPA **2.2** – Java 8 Date and Time Types](https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/) for more details.","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 supports <code>LocalDate</code>, so no converter is needed.</p>\n<p>Hibernate also supports it as of 5.3 version.</p>\n<p>Check out this article: <a href=\"https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\" rel=\"nofollow noreferrer\">What’s new in JPA <strong>2.2</strong> – Java 8 Date and Time Types</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":11596870,"reputation":403,"user_id":8495354,"display_name":"Romas Augustinavičius"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551015756,"creation_date":1551015756,"answer_id":54852503,"question_id":54840769,"body_markdown":"I think you could write your own Converter, please check an answer: https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac","title":"How to persist LocalDate with JPA?","body":"<p>I think you could write your own Converter, please check an answer: <a href=\"https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac\">Spring Data JPA - Conversion failed when converting date and/or time from character string</a></p>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1618576105,"post_id":59330245,"comment_id":118649768,"body_markdown":"if i have LocalDate optional and i send it as null, oracle returns: expected date got binary, this does not happen if i am using java.util.Date. How can I solve it with jpa?","body":"if i have LocalDate optional and i send it as null, oracle returns: expected date got binary, this does not happen if i am using java.util.Date. How can I solve it with jpa?"},{"owner":{"account_id":10043347,"reputation":546,"user_id":7425560,"display_name":"Michael Mesfin"},"score":0,"creation_date":1676221992,"post_id":59330245,"comment_id":133089671,"body_markdown":"Optional class is a wrapper for potentially null values you shouldn&#39;t use it to wrap Entity fields but if you have to you can implement AttributeConverter&lt;Optional&lt;LocalDate&gt;, LocalDate&gt; interface which maps optional fields to the actual value.","body":"Optional class is a wrapper for potentially null values you shouldn&#39;t use it to wrap Entity fields but if you have to you can implement AttributeConverter&lt;Optional&lt;LocalDate&gt;, LocalDate&gt; interface which maps optional fields to the actual value."},{"owner":{"account_id":262256,"reputation":242,"user_id":546996,"accept_rate":62,"display_name":"Kash."},"score":1,"creation_date":1683418053,"post_id":59330245,"comment_id":134363977,"body_markdown":"@user666 did you find out how to get around that error? (expected Date...) ?","body":"@user666 did you find out how to get around that error? (expected Date...) ?"}],"tags":[],"owner":{"account_id":10043347,"reputation":546,"user_id":7425560,"display_name":"Michael Mesfin"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1576273865,"creation_date":1576273865,"answer_id":59330245,"question_id":54840769,"body_markdown":"With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:\r\n\r\n```\r\njava.time.LocalDate\r\njava.time.LocalTime\r\njava.time.LocalDateTime\r\njava.time.OffsetTime\r\njava.time.OffsetDateTime\r\n```\r\n```\r\n@Column(columnDefinition = &quot;DATE&quot;)\r\nprivate LocalDate date;\r\n@Column(columnDefinition = &quot;TIMESTAMP&quot;)\r\nprivate LocalDateTime dateTime;\r\n@Column(columnDefinition = &quot;TIME&quot;)\r\nprivate LocalTime localTime;\r\n```","title":"How to persist LocalDate with JPA?","body":"<p>With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:</p>\n\n<pre><code>java.time.LocalDate\njava.time.LocalTime\njava.time.LocalDateTime\njava.time.OffsetTime\njava.time.OffsetDateTime\n</code></pre>\n\n<pre><code>@Column(columnDefinition = \"DATE\")\nprivate LocalDate date;\n@Column(columnDefinition = \"TIMESTAMP\")\nprivate LocalDateTime dateTime;\n@Column(columnDefinition = \"TIME\")\nprivate LocalTime localTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610144107,"creation_date":1588253735,"answer_id":61524652,"question_id":54840769,"body_markdown":"JPA 2.2 added support for mapping Java 8 Date/Time API, like `LocalDate`, `LocalTime`, `LocalDateTime`, `OffsetDateTime` or `OffsetTime`.\r\n\r\nSo, let&#39;s assume we have the following entity:\r\n\r\n    @Entity(name = &quot;UserAccount&quot;)\r\n    @Table(name = &quot;user_account&quot;)\r\n    public class UserAccount {\r\n    \r\n    \t@Id\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;first_name&quot;, length = 50)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Column(name = &quot;last_name&quot;, length = 50)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Column(name = &quot;subscribed_on&quot;)\r\n    \tprivate LocalDate subscribedOn;\r\n    \r\n    \t//Getters and setters omitted for brevity\r\n    }\r\n\r\nNotice that the `subscribedOn` attribute is a `LocalDate` Java object.\r\n\r\nWhen persisting the `UserAccount`:\r\n\r\n    UserAccount user = new UserAccount()\r\n        .setId(1L)\r\n        .setFirstName(&quot;Vlad&quot;)\r\n        .setLastName(&quot;Mihalcea&quot;)\r\n        .setSubscribedOn(\r\n            LocalDate.of(\r\n                2013, 9, 29\r\n            )\r\n        );\r\n    \r\n    entityManager.persist(user);\r\n\r\nHibernate generates the proper SQL INSERT statement:\r\n\r\n    INSERT INTO user_account (\r\n        first_name, \r\n        last_name, \r\n        subscribed_on, \r\n        id\r\n    ) \r\n    VALUES (\r\n        &#39;Vlad&#39;, \r\n        &#39;Mihalcea&#39;, \r\n        &#39;2013-09-29&#39;, \r\n        1\r\n    )\r\n\r\nWhen fetching the `UserAccount` entity, we can see that the `LocalDate` is properly fetched from the database:\r\n\r\n    UserAccount userAccount = entityManager.find(\r\n        UserAccount.class, 1L\r\n    );\r\n    \r\n    assertEquals(\r\n        LocalDate.of(\r\n            2013, 9, 29\r\n        ),\r\n        userAccount.getSubscribedOn()\r\n    );\r\n\r\n","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 added support for mapping Java 8 Date/Time API, like <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, <code>OffsetDateTime</code> or <code>OffsetTime</code>.</p>\n<p>So, let's assume we have the following entity:</p>\n<pre><code>@Entity(name = &quot;UserAccount&quot;)\n@Table(name = &quot;user_account&quot;)\npublic class UserAccount {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;, length = 50)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, length = 50)\n    private String lastName;\n\n    @Column(name = &quot;subscribed_on&quot;)\n    private LocalDate subscribedOn;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice that the <code>subscribedOn</code> attribute is a <code>LocalDate</code> Java object.</p>\n<p>When persisting the <code>UserAccount</code>:</p>\n<pre><code>UserAccount user = new UserAccount()\n    .setId(1L)\n    .setFirstName(&quot;Vlad&quot;)\n    .setLastName(&quot;Mihalcea&quot;)\n    .setSubscribedOn(\n        LocalDate.of(\n            2013, 9, 29\n        )\n    );\n\nentityManager.persist(user);\n</code></pre>\n<p>Hibernate generates the proper SQL INSERT statement:</p>\n<pre><code>INSERT INTO user_account (\n    first_name, \n    last_name, \n    subscribed_on, \n    id\n) \nVALUES (\n    'Vlad', \n    'Mihalcea', \n    '2013-09-29', \n    1\n)\n</code></pre>\n<p>When fetching the <code>UserAccount</code> entity, we can see that the <code>LocalDate</code> is properly fetched from the database:</p>\n<pre><code>UserAccount userAccount = entityManager.find(\n    UserAccount.class, 1L\n);\n\nassertEquals(\n    LocalDate.of(\n        2013, 9, 29\n    ),\n    userAccount.getSubscribedOn()\n);\n</code></pre>\n"}],"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53027,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":54841227,"answer_count":5,"score":30,"last_activity_date":1688662524,"creation_date":1550918908,"question_id":54840769,"body_markdown":"I want to store Date without time into my database. So, I choose to use `LocalDate` type. \r\n\r\nAs mentioned in this article: [How to persist LocalDate and LocalDateTime with JPA **2.1**][1], I use a JPA converter to convert `LocalDate` to `Date`.\r\n\r\nHowever, I have some troubles when I want to persist my entity (with POST and PUT requests).\r\n\r\n**Error**\r\n\r\n    2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\r\n     at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\r\n    \r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]\r\n\r\n**Code**\r\n\r\n*Converter*\r\n\r\n    package ...entity;\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.time.LocalDate;\r\n    import java.sql.Date;\r\n\r\n    @Converter(autoApply = true)\r\n    public class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n    \r\n        @Override\r\n        public Date convertToDatabaseColumn(LocalDate locDate) {\r\n            return (locDate == null ? null : Date.valueOf(locDate));\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate convertToEntityAttribute(Date sqlDate) {\r\n            return (sqlDate == null ? null : sqlDate.toLocalDate());\r\n        }\r\n    }\r\n\r\n*Entity*\r\n\r\n    package ...entity;\r\n    \r\n    import org.hibernate.annotations.ColumnDefault;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    public class MyObject {\r\n    \r\n        @Id\r\n        private String id;\r\n        private LocalDate startdate;\r\n        private LocalDate enddate;\r\n    \r\n        public MyObject() {}\r\n    \r\n        public MyObject(LocalDate enddate) {\r\n            this.startdate = LocalDate.now();\r\n            this.enddate = enddate;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\n*&quot;Main&quot;*\r\n\r\n    private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    MyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\r\n\r\nThanks for help.\r\n\r\n**EDIT 1 : Print of MyObject**\r\n\r\n     HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.APPLICATION_JSON);\r\n     HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\r\n     System.out.println(entity.toString());\r\n\r\n     // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\r\n \r\n\r\n\r\n  [1]: https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/","title":"How to persist LocalDate with JPA?","body":"<p>I want to store Date without time into my database. So, I choose to use <code>LocalDate</code> type.</p>\n<p>As mentioned in this article: <a href=\"https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">How to persist LocalDate and LocalDateTime with JPA <strong>2.1</strong></a>, I use a JPA converter to convert <code>LocalDate</code> to <code>Date</code>.</p>\n<p>However, I have some troubles when I want to persist my entity (with POST and PUT requests).</p>\n<p><strong>Error</strong></p>\n<pre><code>2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\n at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\n\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (PushbackInputStream); line: 1, column: 2]\n</code></pre>\n<p><strong>Code</strong></p>\n<p><em>Converter</em></p>\n<pre><code>package ...entity;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.time.LocalDate;\nimport java.sql.Date;\n\n@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate locDate) {\n        return (locDate == null ? null : Date.valueOf(locDate));\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date sqlDate) {\n        return (sqlDate == null ? null : sqlDate.toLocalDate());\n    }\n}\n</code></pre>\n<p><em>Entity</em></p>\n<pre><code>package ...entity;\n\nimport org.hibernate.annotations.ColumnDefault;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\npublic class MyObject {\n\n    @Id\n    private String id;\n    private LocalDate startdate;\n    private LocalDate enddate;\n\n    public MyObject() {}\n\n    public MyObject(LocalDate enddate) {\n        this.startdate = LocalDate.now();\n        this.enddate = enddate;\n    }\n\n    ...\n}\n</code></pre>\n<p><em>&quot;Main&quot;</em></p>\n<pre><code>private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nMyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\n</code></pre>\n<p>Thanks for help.</p>\n<p><strong>EDIT 1 : Print of MyObject</strong></p>\n<pre><code> HttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.APPLICATION_JSON);\n HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\n System.out.println(entity.toString());\n\n // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":6018528,"reputation":3054,"user_id":4726477,"accept_rate":83,"display_name":"Master Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431482277,"creation_date":1431482277,"answer_id":30204353,"question_id":30202490,"body_markdown":"It&#39;s related to the correction of [HHH-8740][1] :\r\n\r\n&gt; In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.\r\n\r\nSo, the warning warn you from calling a method that queries metadata on named parameters.\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-8740","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>It's related to the correction of <a href=\"https://hibernate.atlassian.net/browse/HHH-8740\" rel=\"nofollow\">HHH-8740</a> :</p>\n\n<blockquote>\n  <p>In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.</p>\n</blockquote>\n\n<p>So, the warning warn you from calling a method that queries metadata on named parameters.</p>\n"},{"comments":[{"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"score":1,"creation_date":1688661818,"post_id":76630937,"comment_id":135107233,"body_markdown":"org.hibernate.procedure.internal.ProcedureCallImpl prepareForNamedParameters\nWARN: HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\nthis error shows me","body":"org.hibernate.procedure.internal.ProcedureCallImpl prepareForNamedParameters WARN: HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported. this error shows me"},{"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"score":0,"creation_date":1688661836,"post_id":76630937,"comment_id":135107237,"body_markdown":"DROP PROCEDURE IF EXISTS `namednative_crud`.`Delete` $$\nCREATE PROCEDURE `namednative_crud`.`Delete` (IN eid int)\nBEGIN\n          delete from Employee where id=eid;\nEnd","body":"DROP PROCEDURE IF EXISTS <code>namednative_crud</code>.<code>Delete</code> $$ CREATE PROCEDURE <code>namednative_crud</code>.<code>Delete</code> (IN eid int) BEGIN           delete from Employee where id=eid; End"},{"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"score":0,"creation_date":1688661876,"post_id":76630937,"comment_id":135107243,"body_markdown":"this is the query i written and then shows above error","body":"this is the query i written and then shows above error"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688845930,"post_id":76630937,"comment_id":135129787,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76630937/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688661732,"creation_date":1688661732,"answer_id":76630937,"question_id":30202490,"body_markdown":"\r\n\t\tSession session=HibernateUtil.getSessionFactory().openSession();\r\n\t\tTransaction tx=session.beginTransaction();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter Id:&quot;);\r\n\t\tint id=sc.nextInt();\r\n\t\t\r\n\t\tStoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\r\n\t\tquery.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\r\n\t\t\r\n\t\tquery.setParameter(&quot;id&quot;,sc.nextInt());\r\n\t\tquery.executeUpdate();\r\n\t\ttx.commit();\r\n\t\t","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<pre><code>    Session session=HibernateUtil.getSessionFactory().openSession();\n    Transaction tx=session.beginTransaction();\n    \n    System.out.println(&quot;Enter Id:&quot;);\n    int id=sc.nextInt();\n    \n    StoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\n    query.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\n    \n    query.setParameter(&quot;id&quot;,sc.nextInt());\n    query.executeUpdate();\n    tx.commit();\n    \n</code></pre>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30204353,"answer_count":2,"score":2,"last_activity_date":1688661732,"creation_date":1431469552,"question_id":30202490,"body_markdown":"I have a Java project where I call a stored procedure using hibernate.\r\n\r\nHere is sample code I am using\r\n\r\n      public String findCloudName(Long cloudId) {\r\n            LOG.info(&quot;Entered findCloudName Method - cloudId:{}&quot;, cloudId);\r\n    \r\n            String cloudName  = null;\r\n            ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(&quot;p_getCloudDetails&quot;);\r\n            procedureCall.registerParameter( &quot;cloudId&quot;, Long.class, ParameterMode.IN ).bindValue( cloudId );\r\n            procedureCall.registerParameter( &quot;cloudName&quot;, String.class, ParameterMode.OUT );\r\n            \r\n            ProcedureOutputs  outputs = procedureCall.getOutputs();\r\n    \r\n            cloudName = (String) outputs.getOutputParameterValue( &quot;cloudName&quot; );\r\n            \r\n            LOG.info(&quot;Exiting findCloudName Method - cloudName:{}&quot;, cloudName);\r\n            return cloudName; \r\n        }\r\n\r\nThis works fine and results the expected results.\r\nHowever It leaves the following message in my logs\r\n\r\n    [WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\r\n\r\nI was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning\r\n\r\nAny help is greatly appreciated\r\n\r\nCheers\r\nDamien","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>I have a Java project where I call a stored procedure using hibernate.</p>\n\n<p>Here is sample code I am using</p>\n\n<pre><code>  public String findCloudName(Long cloudId) {\n        LOG.info(\"Entered findCloudName Method - cloudId:{}\", cloudId);\n\n        String cloudName  = null;\n        ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(\"p_getCloudDetails\");\n        procedureCall.registerParameter( \"cloudId\", Long.class, ParameterMode.IN ).bindValue( cloudId );\n        procedureCall.registerParameter( \"cloudName\", String.class, ParameterMode.OUT );\n\n        ProcedureOutputs  outputs = procedureCall.getOutputs();\n\n        cloudName = (String) outputs.getOutputParameterValue( \"cloudName\" );\n\n        LOG.info(\"Exiting findCloudName Method - cloudName:{}\", cloudName);\n        return cloudName; \n    }\n</code></pre>\n\n<p>This works fine and results the expected results.\nHowever It leaves the following message in my logs</p>\n\n<pre><code>[WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\n</code></pre>\n\n<p>I was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning</p>\n\n<p>Any help is greatly appreciated</p>\n\n<p>Cheers\nDamien</p>\n"},{"tags":["java","android","batterymanager"],"answers":[{"comments":[{"owner":{"account_id":28964392,"reputation":1,"user_id":22186208,"display_name":"Ayan Roy"},"score":0,"creation_date":1688662400,"post_id":76630923,"comment_id":135107335,"body_markdown":"Ok, Got it. Is there any way that I can get the exact number provided by the manufacturer?","body":"Ok, Got it. Is there any way that I can get the exact number provided by the manufacturer?"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688661641,"creation_date":1688661641,"answer_id":76630923,"question_id":76630868,"body_markdown":"That&#39;s not going to work.  First off, you&#39;re going to have rounding errors.  None of this stuff is exact.  Secondly, you&#39;re assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don&#39;t have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.","title":"How to Calculate Android Device Battery Capacity?","body":"<p>That's not going to work.  First off, you're going to have rounding errors.  None of this stuff is exact.  Secondly, you're assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don't have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.</p>\n"}],"owner":{"account_id":28964392,"reputation":1,"user_id":22186208,"display_name":"Ayan Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688661641,"creation_date":1688661031,"question_id":76630868,"body_markdown":"Currently, I am working on an Android project for which I need to get the device&#39;s Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.\r\n\r\nExample: \r\n\r\n&gt; My device&#39;s battery capacity is 4900 mAh (As per the manufacturer),\r\n&gt; but this function returns 4600 mAh. I need to get that 4900 mAh.\r\n\r\n\r\n\r\n    public long getBatteryCapacity(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \r\n            BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\r\n            \r\n            Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\r\n            Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n    \r\n            if (chargeCounter != null &amp;&amp; capacity != null) {\r\n                long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\r\n                return value;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"How to Calculate Android Device Battery Capacity?","body":"<p>Currently, I am working on an Android project for which I need to get the device's Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.</p>\n<p>Example:</p>\n<blockquote>\n<p>My device's battery capacity is 4900 mAh (As per the manufacturer),\nbut this function returns 4600 mAh. I need to get that 4900 mAh.</p>\n</blockquote>\n<pre><code>public long getBatteryCapacity(Context context) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \n        BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\n        \n        Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\n        Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\n\n        if (chargeCounter != null &amp;&amp; capacity != null) {\n            long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\n            return value;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1688661201,"post_id":76630823,"comment_id":135107112,"body_markdown":"PLease take care of java naming conventions. Class names should start with upper case character","body":"PLease take care of java naming conventions. Class names should start with upper case character"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660848,"creation_date":1688660848,"answer_id":76630842,"question_id":76630823,"body_markdown":"Your class `reversellusingiteration` has two problems. The `static Node head;` should not be `static`. And it is **not** named `LinkedList`. So you need to change\r\n\r\n    LinkedList list=new LinkedList();\r\n\r\nto\r\n\r\n    reversellusingiteration list = new reversellusingiteration();","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>Your class <code>reversellusingiteration</code> has two problems. The <code>static Node head;</code> should not be <code>static</code>. And it is <strong>not</strong> named <code>LinkedList</code>. So you need to change</p>\n<pre><code>LinkedList list=new LinkedList();\n</code></pre>\n<p>to</p>\n<pre><code>reversellusingiteration list = new reversellusingiteration();\n</code></pre>\n"}],"owner":{"account_id":27575151,"reputation":11,"user_id":21045538,"display_name":"stranger1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688661170,"answer_count":1,"score":-1,"last_activity_date":1688661221,"creation_date":1688660660,"question_id":76630823,"body_markdown":"It&#39;s showing some kind to error at head &quot;Cannot resolve symbol &#39;head&#39; &quot;.\r\n\r\n    import java.util.LinkedList;\r\n    \r\n    public class reversellusingiteration {\r\n        static Node head;\r\n    \r\n        static class Node{\r\n            int data;\r\n            Node next;\r\n            Node(int d) {\r\n                this.data = d;\r\n                this.next = null;\r\n            }\r\n        }\r\n    \r\n        Node reverse(Node node){\r\n            Node curr=node;\r\n            Node prev=null;\r\n            while(curr!=null){\r\n                Node temp=curr.next;\r\n                curr.next=prev;\r\n                prev=curr;\r\n                curr=temp;\r\n            }\r\n            return prev;\r\n        }\r\n        public static void main(String[] args) {\r\n            LinkedList list=new LinkedList();\r\n            list.head =new Node(90); //here is the problem\r\n            list.head.next=new Node(78);\r\n        }\r\n    }\r\n\r\nPlease someone help me with this ","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>It's showing some kind to error at head &quot;Cannot resolve symbol 'head' &quot;.</p>\n<pre><code>import java.util.LinkedList;\n\npublic class reversellusingiteration {\n    static Node head;\n\n    static class Node{\n        int data;\n        Node next;\n        Node(int d) {\n            this.data = d;\n            this.next = null;\n        }\n    }\n\n    Node reverse(Node node){\n        Node curr=node;\n        Node prev=null;\n        while(curr!=null){\n            Node temp=curr.next;\n            curr.next=prev;\n            prev=curr;\n            curr=temp;\n        }\n        return prev;\n    }\n    public static void main(String[] args) {\n        LinkedList list=new LinkedList();\n        list.head =new Node(90); //here is the problem\n        list.head.next=new Node(78);\n    }\n}\n</code></pre>\n<p>Please someone help me with this</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","zoneddatetime"],"answers":[{"tags":[],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660396,"creation_date":1688659430,"answer_id":76630668,"question_id":76623614,"body_markdown":"After further debugging I did confirm that spring does load the new module into the ObjectMapper.\r\n\r\nThis lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.\r\n\r\nI also found an interesting conclusion.\r\n\r\nThe module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation [here][1].\r\n\r\n&gt; Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>After further debugging I did confirm that spring does load the new module into the ObjectMapper.</p>\n<p>This lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.</p>\n<p>I also found an interesting conclusion.</p>\n<p>The module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.</p>\n</blockquote>\n"}],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688660396,"creation_date":1688586526,"question_id":76623614,"body_markdown":"I am working on upgrading an existing microservice and extending the database with some new features. \r\n\r\nI upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I&#39;m using is postgresl testcontainers 1.18.1.\r\n\r\nWhen I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\r\n```\r\n\r\nWhen I looked into the issue I did verify that \r\n- Postgresql supports Zoned Timestmaps\r\n- Hibernate 6 supports `ZonedDateTime`\r\n\r\nHere are some snips from the project.\r\n\r\npom.xml\r\n\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\tJava 8 Date/time\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class BillableMetric {\r\n\r\n    @Id\r\n    UUID guid;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerInvoice invoice;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerRecord billingAccount;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    CatalogueItem skuItem;\r\n\r\n    @Column(name=&quot;dataSourceIdentifier&quot;)\r\n    BillableMetricDataSource dataSource;\r\n\r\n    Double quantity;\r\n\r\n    String unitType;\r\n\r\n    ZonedDateTime startTimeInclusive;\r\n\r\n    ZonedDateTime endTimeExclusive;\r\n}\r\n```\r\n\r\nTable Schema\r\n\r\n```sql\r\nCREATE TABLE mySchema.billable_Data (\r\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\r\n    invoice bigserial,\r\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\r\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\r\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\r\n    quantity numeric,\r\n    unitType varchar(100),\r\n    startTimeInclusive timestamp ,\r\n    endTimeExclusive timestamp ,\r\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\r\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\r\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\r\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\r\n);\r\n```\r\n\r\nWhat I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.\r\n\r\nI looked up some possible solutions and tried them. The things I tried were\r\n1. Adding the `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` dependency\r\n2. Adding the `@TimeZoneStorage` to the `@Entity` class on the attribute that uses `ZonedDateTime`\r\n3. Adding `spring.jackson.serialization.write_dates_as_timestamps=true` to `application.properties`\r\n\r\nNone of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6&#39;s behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>I am working on upgrading an existing microservice and extending the database with some new features.</p>\n<p>I upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I'm using is postgresl testcontainers 1.18.1.</p>\n<p>When I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\n</code></pre>\n<p>When I looked into the issue I did verify that</p>\n<ul>\n<li>Postgresql supports Zoned Timestmaps</li>\n<li>Hibernate 6 supports <code>ZonedDateTime</code></li>\n</ul>\n<p>Here are some snips from the project.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;/parent&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--    Java 8 Date/time    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BillableMetric {\n\n    @Id\n    UUID guid;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerInvoice invoice;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerRecord billingAccount;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    CatalogueItem skuItem;\n\n    @Column(name=&quot;dataSourceIdentifier&quot;)\n    BillableMetricDataSource dataSource;\n\n    Double quantity;\n\n    String unitType;\n\n    ZonedDateTime startTimeInclusive;\n\n    ZonedDateTime endTimeExclusive;\n}\n</code></pre>\n<p>Table Schema</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE mySchema.billable_Data (\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\n    invoice bigserial,\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\n    quantity numeric,\n    unitType varchar(100),\n    startTimeInclusive timestamp ,\n    endTimeExclusive timestamp ,\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\n);\n</code></pre>\n<p>What I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.</p>\n<p>I looked up some possible solutions and tried them. The things I tried were</p>\n<ol>\n<li>Adding the <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> dependency</li>\n<li>Adding the <code>@TimeZoneStorage</code> to the <code>@Entity</code> class on the attribute that uses <code>ZonedDateTime</code></li>\n<li>Adding <code>spring.jackson.serialization.write_dates_as_timestamps=true</code> to <code>application.properties</code></li>\n</ol>\n<p>None of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6's behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.</p>\n"},{"tags":["java","multithreading","concurrency","mapreduce","reactor"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1421354605,"post_id":27971274,"comment_id":44337891,"body_markdown":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?","body":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?"},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":0,"creation_date":1421358153,"post_id":27971274,"comment_id":44339727,"body_markdown":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable.","body":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable."}],"answers":[{"tags":[],"owner":{"account_id":180078,"reputation":1299,"user_id":413159,"accept_rate":33,"display_name":"Jon Brisbin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688660259,"creation_date":1421354839,"answer_id":27972689,"question_id":27971274,"body_markdown":"It&#39;s actually pretty easy now with Reactor 2.0. You could do something like this:\r\n\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\r\n\r\nStreams.from(data)\r\n    .flatMap(m -&gt; Streams.just(m)\r\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\r\n                            .map(ignored -&gt; Thread.currentThread().getName()))\r\n       .buffer() // &lt;3&gt;\r\n\t   .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\r\n```\r\n\r\n1. Create a `Stream` based on the input data.\r\n2. Create a new `Stream` for each `Map` and dispatch map operations on the given `Dispatcher`.\r\n3. Buffer all values until complete, which will be sent downstream when collection is emptied.\r\n4. Consume List&lt;String&gt; which is the result of load-balanced transforms from the substream.\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>It's actually pretty easy now with Reactor 2.0. You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\n\nStreams.from(data)\n    .flatMap(m -&gt; Streams.just(m)\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\n                            .map(ignored -&gt; Thread.currentThread().getName()))\n       .buffer() // &lt;3&gt;\n       .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\n</code></pre>\n<ol>\n<li>Create a <code>Stream</code> based on the input data.</li>\n<li>Create a new <code>Stream</code> for each <code>Map</code> and dispatch map operations on the given <code>Dispatcher</code>.</li>\n<li>Buffer all values until complete, which will be sent downstream when collection is emptied.</li>\n<li>Consume List which is the result of load-balanced transforms from the substream.</li>\n</ol>\n"}],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27972689,"answer_count":1,"score":3,"last_activity_date":1688660259,"creation_date":1421349485,"question_id":27971274,"body_markdown":"I previously asked [this question](https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework) for Reactor 1.x:\r\n\r\n&gt; Let&#39;s say I have a `Collection&lt;Map&gt;`. I want to:\r\n&gt; \r\n&gt; Transform each `Map` instance to an object of type `Foo` concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).\r\n&gt; \r\n&gt; When all of them are converted, I want a a method, `onReduce(Collection&lt;Foo&gt; foos)`, to be called - the argument contains all of the resulting `Foo` instances.\r\n\r\nBut we can&#39;t seem to find an equivalent solution for Reactor 2.x - just single threaded.\r\n\r\nHow do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>I previously asked <a href=\"https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework\">this question</a> for Reactor 1.x:</p>\n\n<blockquote>\n  <p>Let's say I have a <code>Collection&lt;Map&gt;</code>. I want to:</p>\n  \n  <p>Transform each <code>Map</code> instance to an object of type <code>Foo</code> concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).</p>\n  \n  <p>When all of them are converted, I want a a method, <code>onReduce(Collection&lt;Foo&gt; foos)</code>, to be called - the argument contains all of the resulting <code>Foo</code> instances.</p>\n</blockquote>\n\n<p>But we can't seem to find an equivalent solution for Reactor 2.x - just single threaded.</p>\n\n<p>How do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688660932,"post_id":76630727,"comment_id":135107069,"body_markdown":"Are the colums orderded? if yes you can use the position binding","body":"Are the colums orderded? if yes you can use the position binding"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1688661934,"post_id":76630727,"comment_id":135107253,"body_markdown":"@Jens I use CsvBindByName because I need binding by name","body":"@Jens I use CsvBindByName because I need binding by name"},{"owner":{"account_id":14878684,"reputation":775,"user_id":10744028,"display_name":"Fizik26"},"score":0,"creation_date":1696851648,"post_id":76630727,"comment_id":136201659,"body_markdown":"@PavelPetrashov did you found a solution ? I have the same issue as you","body":"@PavelPetrashov did you found a solution ? I have the same issue as you"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688659933,"creation_date":1688659933,"question_id":76630727,"body_markdown":"I use opencsv\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I have this class for mapping:\r\n\r\n    public class LineDto {\r\n    \r\n        @CsvBindByName(column = &quot;First name&quot;, required = true)\r\n        private String firstName;\r\n    \r\n        //getters setters\r\n    \r\n    }\r\n\r\nI need to prevent some user mistakes and if user uplods CSV file where header is `&quot; First name &quot;` it should be OK. For now, I get this error:\r\n\r\n    Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\r\n\r\nHow can I trim headers or improve mapping to support those spaces?\r\n\r\n","title":"Trim spaces in headers when use @CsvBindByName annotation","body":"<p>I use opencsv</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I have this class for mapping:</p>\n<pre><code>public class LineDto {\n\n    @CsvBindByName(column = &quot;First name&quot;, required = true)\n    private String firstName;\n\n    //getters setters\n\n}\n</code></pre>\n<p>I need to prevent some user mistakes and if user uplods CSV file where header is <code>&quot; First name &quot;</code> it should be OK. For now, I get this error:</p>\n<pre><code>Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\n</code></pre>\n<p>How can I trim headers or improve mapping to support those spaces?</p>\n"},{"tags":["java","sql-server","ssl","jdbc","jtds"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474742286,"post_id":39677960,"comment_id":66659706,"body_markdown":"For jTDS, the default is `ssl=off`. Try adding `ssl=request` or `ssl=require` to the end of your jTDS connection URL. (jTDS has a [long-standing issue with SSL connections](https://sourceforge.net/p/jtds/bugs/725/) and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed [here](https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774)).","body":"For jTDS, the default is <code>ssl=off</code>. Try adding <code>ssl=request</code> or <code>ssl=require</code> to the end of your jTDS connection URL. (jTDS has a <a href=\"https://sourceforge.net/p/jtds/bugs/725/\" rel=\"nofollow noreferrer\">long-standing issue with SSL connections</a> and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed <a href=\"https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474742804,"post_id":39677960,"comment_id":66659853,"body_markdown":"I will try this tomorrow . Thanks.","body":"I will try this tomorrow . Thanks."},{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474753541,"post_id":39677960,"comment_id":66662717,"body_markdown":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least *used to*) work on Macs, e.g., [here](http://razorsql.com/articles/sql_server_mac.html).","body":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least <i>used to</i>) work on Macs, e.g., <a href=\"http://razorsql.com/articles/sql_server_mac.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474753966,"post_id":39677960,"comment_id":66662828,"body_markdown":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply","body":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474961379,"post_id":39677960,"comment_id":66734709,"body_markdown":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions.","body":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474961866,"post_id":39677960,"comment_id":66735054,"body_markdown":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8","body":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474962256,"post_id":39677960,"comment_id":66735297,"body_markdown":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates.","body":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474985481,"post_id":39677960,"comment_id":66751250,"body_markdown":"But how does it even matter what network I am working on? I have no clue where to begin looking :/","body":"But how does it even matter what network I am working on? I have no clue where to begin looking :/"}],"answers":[{"comments":[{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1475569035,"post_id":39836553,"comment_id":66983184,"body_markdown":"I will try this later today and let you know if it worked, thanks!","body":"I will try this later today and let you know if it worked, thanks!"},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1484260619,"post_id":39836553,"comment_id":70449910,"body_markdown":"Not actually what fixed my problem, it magicly went away after some time. Though, must be useful for anyone else having this issue.","body":"Not actually what fixed my problem, it magicly went away after some time. Though, must be useful for anyone else having this issue."},{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":5,"creation_date":1484316879,"post_id":39836553,"comment_id":70472750,"body_markdown":"Beware, problems that magically disappear without explanation can often reoccur.","body":"Beware, problems that magically disappear without explanation can often reoccur."}],"tags":[],"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475513366,"creation_date":1475513366,"answer_id":39836553,"question_id":39677960,"body_markdown":"I suspect that when your laptop is on a &quot;different network&quot; that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.\r\n\r\nYour &quot;network at home&quot; I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.\r\n\r\nIf these assumptions are correct, you will need to contact the network administrator of the &quot;different network&quot; to gain access through the firewall from your home network.\r\n\r\nI hope this helps.","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I suspect that when your laptop is on a \"different network\" that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.</p>\n\n<p>Your \"network at home\" I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.</p>\n\n<p>If these assumptions are correct, you will need to contact the network administrator of the \"different network\" to gain access through the firewall from your home network.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":252159,"reputation":503,"user_id":529998,"display_name":"wonsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485252866,"creation_date":1485252866,"answer_id":41825457,"question_id":39677960,"body_markdown":"Your problem is similar to https://youtrack.jetbrains.com/issue/IDEA-163324\r\n\r\nThe solution is:\r\n\r\n - open terminal\r\n - run `scutil --getHostName`\r\n - if hostname is not set or contains .local, run `sudo scutil --set HostName &quot;&lt;YOUR HOSTNAME HERE&gt;&quot;`\r\n\r\n\r\n\r\n","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Your problem is similar to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-163324\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-163324</a></p>\n\n<p>The solution is:</p>\n\n<ul>\n<li>open terminal</li>\n<li>run <code>scutil --getHostName</code></li>\n<li>if hostname is not set or contains .local, run <code>sudo scutil --set HostName \"&lt;YOUR HOSTNAME HERE&gt;\"</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14782139,"reputation":2029,"user_id":10675401,"display_name":"Sunil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542713059,"creation_date":1542708319,"answer_id":53390562,"question_id":39677960,"body_markdown":"Please make your string `url` like below and add `sqljdbc42.jar` in your project\r\n\r\n    url = &quot;jdbc:sqlserver://&quot; +serverName + &quot;:1433;DatabaseName=&quot; + dbName +&quot;;\r\n\r\n    encrypt = true;\r\n\r\n    trustServerCertificate=true;","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Please make your string <code>url</code> like below and add <code>sqljdbc42.jar</code> in your project</p>\n\n<pre><code>url = \"jdbc:sqlserver://\" +serverName + \":1433;DatabaseName=\" + dbName +\";\n\nencrypt = true;\n\ntrustServerCertificate=true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3174520,"reputation":529,"user_id":2682721,"accept_rate":67,"display_name":"ChiranjeeviIT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622033970,"creation_date":1622033970,"answer_id":67705420,"question_id":39677960,"body_markdown":"This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception\r\n\r\n**Solution for this would be** take latest jar file to support 2018 or 2020 version .. i have used below jar file **mssql-jdbc-7.2.2.jre8.jar** to solve the issue. so look into this way as well","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception</p>\n<p><strong>Solution for this would be</strong> take latest jar file to support 2018 or 2020 version .. i have used below jar file <strong>mssql-jdbc-7.2.2.jre8.jar</strong> to solve the issue. so look into this way as well</p>\n"},{"tags":[],"owner":{"account_id":4028793,"reputation":27,"user_id":3315830,"display_name":"Hassan Ali Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633510535,"creation_date":1633443573,"answer_id":69452156,"question_id":39677960,"body_markdown":"Use:\r\n\r\n\tjava.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Use:</p>\n<pre><code>java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2575000,"reputation":2740,"user_id":2232902,"accept_rate":62,"display_name":"rahulroy9202"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688659449,"creation_date":1688659449,"answer_id":76630671,"question_id":39677960,"body_markdown":"for DataGrip\r\n\r\ngo to advanced and set `trustServerCertificate` to `true`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zRmGm.png","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>for DataGrip</p>\n<p>go to advanced and set <code>trustServerCertificate</code> to <code>true</code></p>\n<p><a href=\"https://i.stack.imgur.com/zRmGm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRmGm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25404,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39836553,"answer_count":6,"score":14,"last_activity_date":1688659449,"creation_date":1474730530,"question_id":39677960,"body_markdown":"I&#39;m having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....&quot;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\r\n    \t... 165 more\r\n\r\nThis is using `com.microsoft.sqlserver.jdbc.SQLServerDriver`\r\n\r\nWhenever I use the JtDS driver (suggested by eg. [this post][1]), I&#39;m still not able to connect to the SQL server and I get the following error.\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: java.sql.SQLException: I/O Error: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\r\n    \tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\r\n    \t... 164 more\r\n\r\nThe connection string I use: (using jtds)\r\n\r\n`jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\nOR when not using jtds..\r\n\r\n`jdbc:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\n\r\nI also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.\r\n\r\n\r\nI am running macOS Sierra version 10.21\r\n\r\njtds version:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nsqlserver version:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n       &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**EDIT:**\r\n\r\n**I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I'm having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\".\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\n    ... 165 more\n</code></pre>\n\n<p>This is using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code></p>\n\n<p>Whenever I use the JtDS driver (suggested by eg. <a href=\"https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure\">this post</a>), I'm still not able to connect to the SQL server and I get the following error.</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: java.sql.SQLException: I/O Error: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\n    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\n    at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\n    at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\n    at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\n    ... 164 more\n</code></pre>\n\n<p>The connection string I use: (using jtds)</p>\n\n<p><code>jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>OR when not using jtds..</p>\n\n<p><code>jdbc:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>I also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.</p>\n\n<p>I am running macOS Sierra version 10.21</p>\n\n<p>jtds version:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n    &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>sqlserver version:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n   &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n   &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error</strong></p>\n"},{"tags":["java","dependency-injection","cdi"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1688658347,"post_id":76623787,"comment_id":135106518,"body_markdown":"You might be interested in https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/, or an approach like it.","body":"You might be interested in <a href=\"https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/\" rel=\"nofollow noreferrer\">lairdnelson.wordpress.com/2017/02/11/&hellip;</a>, or an approach like it."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1688589220,"creation_date":1688589220,"answer_id":76623875,"question_id":76623787,"body_markdown":"Why don&#39;t you start with plain old Java interface design?\r\n\r\nWhat is methods signature that is in use?\r\n\r\nDo you know how to do without CDI with `new` ?\r\n\r\nIf you don&#39;t that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc\r\n\r\nThe best design does not depend on any framework.\r\n\r\nP.S. And please share real code.","title":"CDI producer that handles any qualifier","body":"<p>Why don't you start with plain old Java interface design?</p>\n<p>What is methods signature that is in use?</p>\n<p>Do you know how to do without CDI with <code>new</code> ?</p>\n<p>If you don't that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc</p>\n<p>The best design does not depend on any framework.</p>\n<p>P.S. And please share real code.</p>\n"},{"tags":[],"owner":{"account_id":6693816,"reputation":763,"user_id":5162472,"display_name":"dfogni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688597662,"creation_date":1688597662,"answer_id":76624524,"question_id":76623787,"body_markdown":"The question is too generic to provide a direct answer.\r\n\r\nIt looks like what you are trying to do should be implemented as a *CDI portable extension*.\r\n\r\nThe extension SPI provides hooks that can dynamically modify both qualifiers and producers.\r\n\r\nThe *InjectionTarget* is the abstraction of the concept you are trying to apply, see this documentation https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget","title":"CDI producer that handles any qualifier","body":"<p>The question is too generic to provide a direct answer.</p>\n<p>It looks like what you are trying to do should be implemented as a <em>CDI portable extension</em>.</p>\n<p>The extension SPI provides hooks that can dynamically modify both qualifiers and producers.</p>\n<p>The <em>InjectionTarget</em> is the abstraction of the concept you are trying to apply, see this documentation <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget\" rel=\"nofollow noreferrer\">https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget</a></p>\n"},{"comments":[{"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"score":1,"creation_date":1688664967,"post_id":76630656,"comment_id":135107747,"body_markdown":"Good answer!  I&#39;ve unfortunately come to find my platform doesn&#39;t support CDI Portable Extensions (Quarkus: although they offer a hokey proprietary reimagining of this capability, it&#39;s not something I want to pursue).  Regardless, this is the right answer.","body":"Good answer!  I&#39;ve unfortunately come to find my platform doesn&#39;t support CDI Portable Extensions (Quarkus: although they offer a hokey proprietary reimagining of this capability, it&#39;s not something I want to pursue).  Regardless, this is the right answer."}],"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688659333,"creation_date":1688659333,"answer_id":76630656,"question_id":76623787,"body_markdown":"You&#39;ll need to write a portable extension that:\r\n\r\n1. is notified upon the appearance of any `Set` of qualifiers that qualify non-vetoed injection scenarios (observing `ProcessInjectionPoint` will get you most of the way there, if not all the way)\r\n2. at `AfterBeanDiscovery` time, for each `Set` of harvested qualifiers, adds beans that produce the qualified things\r\n\r\n…or something of this nature.\r\n\r\nTo do (2), you may just want to use the `BeanConfigurator` stuff, i.e.:\r\n```\r\nprivate void addMyBeans(@Observes AfterBeanDiscovery event) {\r\n  event.addBean()\r\n    .types(...)\r\n    .qualifiers(harvestedQualifiers)\r\n    .scope(...)\r\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you&#39;re making\r\n    .disposeWith(...)\r\n```\r\n","title":"CDI producer that handles any qualifier","body":"<p>You'll need to write a portable extension that:</p>\n<ol>\n<li>is notified upon the appearance of any <code>Set</code> of qualifiers that qualify non-vetoed injection scenarios (observing <code>ProcessInjectionPoint</code> will get you most of the way there, if not all the way)</li>\n<li>at <code>AfterBeanDiscovery</code> time, for each <code>Set</code> of harvested qualifiers, adds beans that produce the qualified things</li>\n</ol>\n<p>…or something of this nature.</p>\n<p>To do (2), you may just want to use the <code>BeanConfigurator</code> stuff, i.e.:</p>\n<pre><code>private void addMyBeans(@Observes AfterBeanDiscovery event) {\n  event.addBean()\n    .types(...)\n    .qualifiers(harvestedQualifiers)\n    .scope(...)\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you're making\n    .disposeWith(...)\n</code></pre>\n"}],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630656,"answer_count":3,"score":1,"last_activity_date":1688659333,"creation_date":1688588456,"question_id":76623787,"body_markdown":"Can I create a producer method that handles *any* arbitrary qualifier?  i.e.: even qualifiers I&#39;m not &quot;aware-of&quot; at design time?\r\n\r\nThe challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.\r\n\r\nMy plan was to have my producer dynamically create the original component using qualifiers passed to my producer method&#39;s `InjectionPoint`, but CDI isn&#39;t matching my producer with the original component&#39;s qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don&#39;t think `@Decorator` is an option, since I want to wrap the original component without exposing its interface.","title":"CDI producer that handles any qualifier","body":"<p>Can I create a producer method that handles <em>any</em> arbitrary qualifier?  i.e.: even qualifiers I'm not &quot;aware-of&quot; at design time?</p>\n<p>The challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.</p>\n<p>My plan was to have my producer dynamically create the original component using qualifiers passed to my producer method's <code>InjectionPoint</code>, but CDI isn't matching my producer with the original component's qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don't think <code>@Decorator</code> is an option, since I want to wrap the original component without exposing its interface.</p>\n"},{"tags":["java","endpoint","datadog","datadog-dashboard"],"owner":{"account_id":7496453,"reputation":33,"user_id":5696544,"display_name":"Alexandre Mateus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688659199,"creation_date":1688653146,"question_id":76629800,"body_markdown":"How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\r\nI&#39;ve tried to search on Logs, but I&#39;m not sure if it&#39;s reliable.\r\nWhat&#39;s the better way?\r\n","title":"Datadog - Find API calls","body":"<p>How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\nI've tried to search on Logs, but I'm not sure if it's reliable.\nWhat's the better way?</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":1,"creation_date":1653641705,"post_id":72401149,"comment_id":127904971,"body_markdown":"Welcome to StackOverflow! Does it help if you [set the feature](https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)) `XMLConstants.FEATURE_SECURE_PROCESSING` to false?","body":"Welcome to StackOverflow! Does it help if you <a href=\"https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\">set the feature</a> <code>XMLConstants.FEATURE_SECURE_PROCESSING</code> to false?"}],"answers":[{"tags":[],"owner":{"account_id":25703034,"reputation":96,"user_id":19462805,"display_name":"Ingo Wilkening"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1656700490,"creation_date":1656700490,"answer_id":72833393,"question_id":72401149,"body_markdown":"That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: [https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html][1]\r\n\r\nIt is 3 parameters they introduced:\r\n\r\n 1. jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\r\n    an XPath expression can contain. Default 10.\r\n 2. jdk.xml.xpathExprOpLimit Description: Limits the number of operators\r\n    an XPath expression can contain. Default 100.\r\n 3. jdk.xml.xpathTotalOpLimit Description: Limits the total number of\r\n    XPath operators in an XSL Stylesheet. Default 10000.\r\n\r\nYour problem is on #2 (JAXP0801002, default 100).\r\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):\r\n\r\n```\r\nERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\nFATAL ERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\n```\r\n\r\nWe wasted 2 days in getting away of that sh*t.\r\n\r\nWe added some parameters to the java call:\r\n```\r\n    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\r\n\r\n```\r\n\r\nParameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).\r\n\r\nI hope it will help you too. Have fun!\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: <a href=\"https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html</a></p>\n<p>It is 3 parameters they introduced:</p>\n<ol>\n<li>jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\nan XPath expression can contain. Default 10.</li>\n<li>jdk.xml.xpathExprOpLimit Description: Limits the number of operators\nan XPath expression can contain. Default 100.</li>\n<li>jdk.xml.xpathTotalOpLimit Description: Limits the total number of\nXPath operators in an XSL Stylesheet. Default 10000.</li>\n</ol>\n<p>Your problem is on #2 (JAXP0801002, default 100).\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):</p>\n<pre><code>ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\nFATAL ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\n</code></pre>\n<p>We wasted 2 days in getting away of that sh*t.</p>\n<p>We added some parameters to the java call:</p>\n<pre><code>    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\n\n</code></pre>\n<p>Parameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).</p>\n<p>I hope it will help you too. Have fun!</p>\n"},{"tags":[],"owner":{"account_id":26347521,"reputation":1,"user_id":20005652,"display_name":"Sam B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663260449,"creation_date":1663260293,"answer_id":73734773,"question_id":72401149,"body_markdown":"If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275. \r\nhttps://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\r\n\r\nHope this helps!","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275.\n<a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true</a></p>\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1663752651,"post_id":73740690,"comment_id":130311405,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73740690/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26352361,"reputation":1,"user_id":20009784,"display_name":"Rahul Meena"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663309509,"creation_date":1663309388,"answer_id":73740690,"question_id":72401149,"body_markdown":"Rahul Meena\r\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0\r\n\r\nPut 3 steps in your restart files.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Rahul Meena\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0</p>\n<p>Put 3 steps in your restart files.</p>\n"},{"tags":[],"owner":{"account_id":12256558,"reputation":1,"user_id":8945448,"display_name":"Leon Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676558801,"creation_date":1676558801,"answer_id":75473918,"question_id":72401149,"body_markdown":"I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.\r\n\r\nThis [answer](https://stackoverflow.com/a/72833393/8945448) surely helps me. But I can not modify all JVM configurations in our product cluster.\r\n\r\nSo I just set these three parameters using Java code: \r\n\r\n\r\n    System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\r\n\r\nNotice: Set these parameters before TransformerFactory initialization.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.</p>\n<p>This <a href=\"https://stackoverflow.com/a/72833393/8945448\">answer</a> surely helps me. But I can not modify all JVM configurations in our product cluster.</p>\n<p>So I just set these three parameters using Java code:</p>\n<pre><code>System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\n</code></pre>\n<p>Notice: Set these parameters before TransformerFactory initialization.</p>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658804,"creation_date":1688658804,"answer_id":76630597,"question_id":72401149,"body_markdown":"Thanks to @`Ingo Wilkening` for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,    \r\n\r\nLocate the `catalina.sh` script in your Tomcat installation directory. You can use the find command as follows:\r\n \r\n\r\n    find /path/to/tomcat -name catalina.sh\r\n\r\nOnce you have found the catalina.sh file, open it in a text editor. You can use the vi editor,  \r\n \r\n\r\n    vi /path/to/tomcat/bin/catalina.sh\r\n\r\nWithin the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set. \r\nAdd the following lines to set the desired Java system properties:\r\n \r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\r\n\r\nSave the changes and restart tomcat. \r\n \r\n ","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Thanks to @<code>Ingo Wilkening</code> for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,</p>\n<p>Locate the <code>catalina.sh</code> script in your Tomcat installation directory. You can use the find command as follows:</p>\n<pre><code>find /path/to/tomcat -name catalina.sh\n</code></pre>\n<p>Once you have found the catalina.sh file, open it in a text editor. You can use the vi editor,</p>\n<pre><code>vi /path/to/tomcat/bin/catalina.sh\n</code></pre>\n<p>Within the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set.\nAdd the following lines to set the desired Java system properties:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\n</code></pre>\n<p>Save the changes and restart tomcat.</p>\n"}],"owner":{"account_id":22606522,"reputation":93,"user_id":16787371,"display_name":"Vladimir Hambalek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8853,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":72833393,"answer_count":5,"score":9,"last_activity_date":1688658804,"creation_date":1653631843,"question_id":72401149,"body_markdown":"I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:\r\n \r\n\r\n    Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing &#39;107&#39; operators that exceeds the &#39;100&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.\r\n                    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\r\n                    at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\r\n                    at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\r\n\r\nCan you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150\r\n\r\nthank you","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:</p>\n<pre><code>Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing '107' operators that exceeds the '100' limit set by 'FEATURE_SECURE_PROCESSING'.\n                at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\n                at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\n                at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\n</code></pre>\n<p>Can you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150</p>\n<p>thank you</p>\n"},{"tags":["java","cross-compiling"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688641314,"post_id":76628100,"comment_id":135102549,"body_markdown":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? **Because** it is in the new house.","body":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? <b>Because</b> it is in the new house."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688641416,"post_id":76628100,"comment_id":135102571,"body_markdown":"But as I said, the methods are already available. Why can&#39;t it just use them?","body":"But as I said, the methods are already available. Why can&#39;t it just use them?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688641870,"post_id":76628100,"comment_id":135102679,"body_markdown":"You explicitly asked for a class which was compatible with Java 1.8, so `javac` refuses to compile code with `Map.of()` in it. Because that `.class` file wouldn&#39;t work with a 1.8 JRE.","body":"You explicitly asked for a class which was compatible with Java 1.8, so <code>javac</code> refuses to compile code with <code>Map.of()</code> in it. Because that <code>.class</code> file wouldn&#39;t work with a 1.8 JRE."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1688641894,"post_id":76628100,"comment_id":135102687,"body_markdown":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too.","body":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1688642014,"post_id":76628100,"comment_id":135102713,"body_markdown":"Actually, I&#39;m wrong above. You can use `javac -source 1.8 -target 1.8` to compile code which uses `Map.of()`.","body":"Actually, I&#39;m wrong above. You can use <code>javac -source 1.8 -target 1.8</code> to compile code which uses <code>Map.of()</code>."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688642028,"post_id":76628100,"comment_id":135102720,"body_markdown":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools.","body":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688642061,"post_id":76628100,"comment_id":135102729,"body_markdown":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?","body":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688642195,"post_id":76628100,"comment_id":135102760,"body_markdown":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have `Map.of`.\nFor me it just says &quot;cannot find symbol&quot;","body":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have <code>Map.of</code>. For me it just says &quot;cannot find symbol&quot;"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688642635,"post_id":76628100,"comment_id":135102836,"body_markdown":"@tgdavies – When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the `@since` JavaDoc tag, and I doubt that this will be translated somehow to something like `if( version &gt; 1.8 )` or alike. So that pure extensions of classes like `map.of()` will work does not surprises me. But `var` should not work, also pattern matching should not work, when compiling with `-source 1.8`. The `-target 1.8` only controls the binary output.","body":"@tgdavies – When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the <code>@since</code> JavaDoc tag, and I doubt that this will be translated somehow to something like <code>if( version &gt; 1.8 )</code> or alike. So that pure extensions of classes like <code>map.of()</code> will work does not surprises me. But <code>var</code> should not work, also pattern matching should not work, when compiling with <code>-source 1.8</code>. The <code>-target 1.8</code> only controls the binary output."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688643962,"post_id":76628100,"comment_id":135103112,"body_markdown":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?","body":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688644262,"post_id":76628100,"comment_id":135103186,"body_markdown":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can.","body":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688645118,"post_id":76628100,"comment_id":135103394,"body_markdown":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?","body":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688646350,"post_id":76628100,"comment_id":135103680,"body_markdown":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not `Map.of` from it?","body":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not <code>Map.of</code> from it?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688646510,"post_id":76628100,"comment_id":135103712,"body_markdown":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is *it*?","body":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is <i>it</i>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688646546,"post_id":76628100,"comment_id":135103718,"body_markdown":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)","body":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688647087,"post_id":76628100,"comment_id":135103869,"body_markdown":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of.","body":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688647175,"post_id":76628100,"comment_id":135103897,"body_markdown":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you ***can*** do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you **can&#39;t**. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners.","body":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you <b><i>can</i></b> do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you <b>can&#39;t</b>. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649787,"post_id":76628100,"comment_id":135104487,"body_markdown":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was `&lt;maven.compiler.release&gt;` [which does just that](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release)! Based on everything so far, the answer by @matt below seems correct.","body":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was <code>&lt;maven.compiler.release&gt;</code> <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release\" rel=\"nofollow noreferrer\">which does just that</a>! Based on everything so far, the answer by @matt below seems correct."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649934,"post_id":76628100,"comment_id":135104543,"body_markdown":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17.","body":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688652206,"post_id":76628100,"comment_id":135105131,"body_markdown":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO.","body":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688647783,"creation_date":1688647783,"answer_id":76629022,"question_id":76628100,"body_markdown":"As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you&#39;re using deprecated classes your code should compile and run with a new jdk.\r\n\r\nThe bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version. \r\n\r\nOn top of that the source code changes. For example, lambda expressions. They didn&#39;t exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you&#39;ll get an error about lambda expressions. \r\n\r\nOnce you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. *You still need the library*. \r\n\r\n`Map.of` is an addition to the standard jdk, so it doesn&#39;t exist in 1.8 jdk&#39;s. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you're using deprecated classes your code should compile and run with a new jdk.</p>\n<p>The bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version.</p>\n<p>On top of that the source code changes. For example, lambda expressions. They didn't exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you'll get an error about lambda expressions.</p>\n<p>Once you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. <em>You still need the library</em>.</p>\n<p><code>Map.of</code> is an addition to the standard jdk, so it doesn't exist in 1.8 jdk's. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76629022,"answer_count":1,"score":-3,"last_activity_date":1688658210,"creation_date":1688641098,"question_id":76628100,"body_markdown":"I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So `source` and `target` are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.\r\n\r\nThen I noticed I can&#39;t use `Map.of()` function since the api is marked `@since 9` and it confused me. I&#39;m not using any newer Java syntax. **Why is it that I can use GC algorithms that come with Java 17 but I can&#39;t use standard libraries that come with it?**\r\n\r\nHere&#39;s how I think It should work:  \r\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters `Map.of()` (or any other methods marked with `@since 9+`) it should just run the standard library as usual.\r\n\r\nAlso, what is the problem with running `Map.of()` specifically?","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So <code>source</code> and <code>target</code> are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.</p>\n<p>Then I noticed I can't use <code>Map.of()</code> function since the api is marked <code>@since 9</code> and it confused me. I'm not using any newer Java syntax. <strong>Why is it that I can use GC algorithms that come with Java 17 but I can't use standard libraries that come with it?</strong></p>\n<p>Here's how I think It should work:<br />\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters <code>Map.of()</code> (or any other methods marked with <code>@since 9+</code>) it should just run the standard library as usual.</p>\n<p>Also, what is the problem with running <code>Map.of()</code> specifically?</p>\n"},{"tags":["java","amazon-dynamodb","amazon-dynamodb-local"],"answers":[{"comments":[{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688659495,"post_id":76630511,"comment_id":135106787,"body_markdown":"Sure, this is true, but since scans are often not performant, it&#39;d be good to add other recommendations here. I can think of two: 1. restructure the table so that you don&#39;t need to scan (e.g. can rejection date be the sort key?), or 2. introduce an index containing rejection date.","body":"Sure, this is true, but since scans are often not performant, it&#39;d be good to add other recommendations here. I can think of two: 1. restructure the table so that you don&#39;t need to scan (e.g. can rejection date be the sort key?), or 2. introduce an index containing rejection date."}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658115,"creation_date":1688658115,"answer_id":76630511,"question_id":76627811,"body_markdown":"You cannot do a `Query` using `between` on a partition key: \r\n```\r\n.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n```\r\n\r\nIf `REJECTION_DATE` is a non-key attribute then you must do a `Scan` and `FilterExpression` to obtain all of the items which have dates between your provided values. \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html","title":"Query condition missed key schema element(Service: DynamoDb","body":"<p>You cannot do a <code>Query</code> using <code>between</code> on a partition key:</p>\n<pre><code>.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n</code></pre>\n<p>If <code>REJECTION_DATE</code> is a non-key attribute then you must do a <code>Scan</code> and <code>FilterExpression</code> to obtain all of the items which have dates between your provided values.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html</a></p>\n"}],"owner":{"account_id":27296994,"reputation":1,"user_id":20814486,"display_name":"Ashok S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688658115,"creation_date":1688638819,"question_id":76627811,"body_markdown":"```\r\npublic class DynamoDBExample {\r\n    public static void main(String[] args) {\r\n\r\n        cred Cred = new cred();\r\n        var akey = Cred.getkey();\r\n        var aid = Cred.getid();\r\n        var region = Region.AP_SOUTH_1;\r\n\r\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\r\n        var dynamoDBClient = DynamoDbClient.builder()\r\n                .region(region)\r\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\r\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\r\n                .build();\r\n\r\n        String startDate = &quot;2023-01-01&quot;;\r\n        String endDate = &quot;2023-06-30&quot;;\r\n\r\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\r\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\r\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\r\n\r\n        var queryRequest = QueryRequest.builder()\r\n                .tableName(&quot;IA_REJECTION&quot;)\r\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n                .expressionAttributeValues(expressionAttributeValues)\r\n                .build();\r\n\r\n        var starttime = System.currentTimeMillis();\r\n        QueryResponse response = dynamoDBClient.query(queryRequest);\r\n        var endtime = System.currentTimeMillis();\r\n\r\n        response.items().forEach(item -&gt; {\r\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\r\n            System.out.println();\r\n        });\r\n\r\n        var timetaken = endtime - starttime;\r\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.","title":"Query condition missed key schema element(Service: DynamoDb","body":"<pre><code>public class DynamoDBExample {\n    public static void main(String[] args) {\n\n        cred Cred = new cred();\n        var akey = Cred.getkey();\n        var aid = Cred.getid();\n        var region = Region.AP_SOUTH_1;\n\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\n        var dynamoDBClient = DynamoDbClient.builder()\n                .region(region)\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\n                .build();\n\n        String startDate = &quot;2023-01-01&quot;;\n        String endDate = &quot;2023-06-30&quot;;\n\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\n\n        var queryRequest = QueryRequest.builder()\n                .tableName(&quot;IA_REJECTION&quot;)\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n                .expressionAttributeValues(expressionAttributeValues)\n                .build();\n\n        var starttime = System.currentTimeMillis();\n        QueryResponse response = dynamoDBClient.query(queryRequest);\n        var endtime = System.currentTimeMillis();\n\n        response.items().forEach(item -&gt; {\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\n            System.out.println();\n        });\n\n        var timetaken = endtime - starttime;\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\n    }\n}\n</code></pre>\n<p>i want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1688658211,"post_id":76630499,"comment_id":135106483,"body_markdown":"In your class declaration `public class FamilyGraph&lt;Person, E&gt;` the `Person` part is just a generic placeholder just like `E` and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: `public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;`. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable.","body":"In your class declaration <code>public class FamilyGraph&lt;Person, E&gt;</code> the <code>Person</code> part is just a generic placeholder just like <code>E</code> and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: <code>public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;</code>. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable."}],"owner":{"account_id":19615409,"reputation":3,"user_id":14357015,"display_name":"brian8267"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657950,"creation_date":1688657950,"question_id":76630499,"body_markdown":"I want to extend JGraphT&#39;s DirectedAcyclicGraph class with signature `public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;` to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:\r\n\r\n```\r\npublic List&lt;Person&gt; getMothers(final Person person) {\r\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\nI tried `public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;`, but that seemed like it didn&#39;t leverage the Person class I had.","title":"How do you extend a class with type parameters while enforcing a specific type?","body":"<p>I want to extend JGraphT's DirectedAcyclicGraph class with signature <code>public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;</code> to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:</p>\n<pre><code>public List&lt;Person&gt; getMothers(final Person person) {\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\n    }\n</code></pre>\n<p>I tried <code>public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;</code>, but that seemed like it didn't leverage the Person class I had.</p>\n"},{"tags":["java","performance","jenkins","groovy"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1644245535,"post_id":71020343,"comment_id":125546935,"body_markdown":"Why do you assume groovy is slower than Java? Groovy runs on the JVM, just as Java. There&#39;s just an additional initial compile step, which would probably add less than 0.001 % to your Jenkins Pipeline duration.","body":"Why do you assume groovy is slower than Java? Groovy runs on the JVM, just as Java. There&#39;s just an additional initial compile step, which would probably add less than 0.001 % to your Jenkins Pipeline duration."},{"owner":{"account_id":3720015,"reputation":31,"user_id":3095295,"display_name":"MichalT"},"score":0,"creation_date":1644258463,"post_id":71020343,"comment_id":125552731,"body_markdown":"I am basing on this article: https://dzone.com/articles/groovy-20-performance-compared. I am trying to replicate similar test on Jenkins using similar functions written in Java and in Groovy.","body":"I am basing on this article: <a href=\"https://dzone.com/articles/groovy-20-performance-compared\" rel=\"nofollow noreferrer\">dzone.com/articles/groovy-20-performance-compared</a>. I am trying to replicate similar test on Jenkins using similar functions written in Java and in Groovy."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1644261874,"post_id":71020343,"comment_id":125554005,"body_markdown":"`1/` take any plugin source as example - almost all are written in java. https://plugins.jenkins.io/ `2/` pipeline itself is not a real groovy code - accept it as a configuration - your article is not really applicable here...","body":"<code>1&#47;</code> take any plugin source as example - almost all are written in java. <a href=\"https://plugins.jenkins.io/\" rel=\"nofollow noreferrer\">plugins.jenkins.io</a> <code>2&#47;</code> pipeline itself is not a real groovy code - accept it as a configuration - your article is not really applicable here..."}],"answers":[{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688657869,"creation_date":1685392954,"answer_id":76360237,"question_id":71020343,"body_markdown":"### First option\r\n\r\nYou have to provide a Groovy interface, but you can call Java in your implementation.\r\n\r\nThat is, you need to write a Groovy shared library using groovy code and the folder hierarchy as shown in https://www.jenkins.io/doc/book/pipeline/shared-libraries/, but from within Groovy functions you can call into Java libraries you imported using `@Grab`, explained later in the same doc page.\r\n\r\nThis way, the majority of the logic can be in Java.\r\n\r\nThe code you import through @Grab can be written in any JVM language. The main caveat is that it has to be already compiled, uploaded somewhere, and available to be fetched.\r\n\r\nSee https://stackoverflow.com/questions/67890110/jenkins-shared-libraries-with-kotlin for another answer along these lines.\r\n\r\n### Second option\r\n\r\nBuild an executable in Java and have your pipeline download this prebuilt executable and run it. This is suggested in Jenkins documentation in\r\n\r\n* https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue\r\n* https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines\r\n\r\n### Third option\r\n\r\nBuild something akin to a GitHub Action. That is, create a prebuilt Docker container which contains the tool you want to run. Then, in your pipeline, you can use a different container for every pipeline stage, depending on what you need to do. This might end up being simpler than the previous option, in some cases.\r\n\r\nThis is documented in https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization\r\n\r\n```groovy\r\npipeline {\r\n    agent any\r\n    stages {\r\n        stage(&#39;Build&#39;) {\r\n            agent {\r\n                docker {\r\n                    image &#39;docker.io/my-corp/my-tool:v2&#39;\r\n                    reuseNode true\r\n                }\r\n            }\r\n            steps {\r\n                sh &#39;my-tool --version&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Jenkins pipeline library build using Java instead of Groovy","body":"<h3>First option</h3>\n<p>You have to provide a Groovy interface, but you can call Java in your implementation.</p>\n<p>That is, you need to write a Groovy shared library using groovy code and the folder hierarchy as shown in <a href=\"https://www.jenkins.io/doc/book/pipeline/shared-libraries/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/shared-libraries/</a>, but from within Groovy functions you can call into Java libraries you imported using <code>@Grab</code>, explained later in the same doc page.</p>\n<p>This way, the majority of the logic can be in Java.</p>\n<p>The code you import through @Grab can be written in any JVM language. The main caveat is that it has to be already compiled, uploaded somewhere, and available to be fetched.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/67890110/jenkins-shared-libraries-with-kotlin\">Jenkins shared libraries with kotlin</a> for another answer along these lines.</p>\n<h3>Second option</h3>\n<p>Build an executable in Java and have your pipeline download this prebuilt executable and run it. This is suggested in Jenkins documentation in</p>\n<ul>\n<li><a href=\"https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue</a></li>\n<li><a href=\"https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines</a></li>\n</ul>\n<h3>Third option</h3>\n<p>Build something akin to a GitHub Action. That is, create a prebuilt Docker container which contains the tool you want to run. Then, in your pipeline, you can use a different container for every pipeline stage, depending on what you need to do. This might end up being simpler than the previous option, in some cases.</p>\n<p>This is documented in <a href=\"https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization</a></p>\n<pre><code>pipeline {\n    agent any\n    stages {\n        stage('Build') {\n            agent {\n                docker {\n                    image 'docker.io/my-corp/my-tool:v2'\n                    reuseNode true\n                }\n            }\n            steps {\n                sh 'my-tool --version'\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3720015,"reputation":31,"user_id":3095295,"display_name":"MichalT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685445753,"answer_count":1,"score":1,"last_activity_date":1688657869,"creation_date":1644244688,"question_id":71020343,"body_markdown":"I would like to write my company Jenkins Pipeline Library using Java not Groovy, as groovy is slower than Java.\r\nI tried to find examples of such Java Jenkins library source code, but I found only Groovy. \r\nAny help with this model (Java libraries + Jenkins).\r\nDo you have experience in such composition?\r\nThanks in advance.","title":"Jenkins pipeline library build using Java instead of Groovy","body":"<p>I would like to write my company Jenkins Pipeline Library using Java not Groovy, as groovy is slower than Java.\nI tried to find examples of such Java Jenkins library source code, but I found only Groovy.\nAny help with this model (Java libraries + Jenkins).\nDo you have experience in such composition?\nThanks in advance.</p>\n"},{"tags":["java","recursion","methods","backtracking"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1688653324,"post_id":76629806,"comment_id":135105401,"body_markdown":"Why did you decide to declare the same method `int howManySort(int length,int max)` twice, once as private and once public? And what is `howManySorted(n,max,1)` supposed to call? I don&#39;t see any method with that name.","body":"Why did you decide to declare the same method <code>int howManySort(int length,int max)</code> twice, once as private and once public? And what is <code>howManySorted(n,max,1)</code> supposed to call? I don&#39;t see any method with that name."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1688653552,"post_id":76629806,"comment_id":135105459,"body_markdown":"First work on fixing your compilation errors. Then you can focus on problems with the algorithm itself.","body":"First work on fixing your compilation errors. Then you can focus on problems with the algorithm itself."}],"answers":[{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688657844,"creation_date":1688657844,"answer_id":76630488,"question_id":76629806,"body_markdown":"I think you intended the private method with 3 parameters where the 3rd one (=i) indicates the minimum.  \r\nI understood your intention but you don&#39;t need it (see below).\r\n\r\nYou were almost there:\r\n- If either the maximum or the length is less then 1, then the result is 0\r\n- If the maximum equals 1 then there&#39;s a single way, independently of the length\r\n- If the length equals 1 then the number of ways equals the maximum\r\n\r\nIn all other cases the number of ways is determined as follows:  \r\nJust to explain, consider length=max=3.  \r\nThe possible 10 ways are\r\n\r\n    1 1 1\r\n    1 1 2\r\n    1 1 3\r\n    1 2 2\r\n    1 2 3\r\n    1 3 3\r\n    2 2 2\r\n    2 2 3\r\n    2 3 3\r\n    3 3 3\r\n\r\nThe first 6 report the number of ways for an array with length minus 1 and the same maximum. Just forget the first column being always 1.  \r\nThe remaining 4 report the number of ways for an array with the same length and maximum minus 1.  \r\nThe latter because\r\n\r\n    2 2 2\r\n    2 2 3\r\n    2 3 3\r\n    3 3 3\r\n\r\nin fact equals\r\n\r\n    1 1 1\r\n    1 1 2\r\n    1 2 2\r\n    2 2 2\r\n\r\nI would therefore implement the method as follows:\r\n\r\n    public int howManySort(int length,\r\n                           int max)\r\n    {\r\n      if ((length &lt; 1) || (max &lt; 1))\r\n        return (0);\r\n      else if (max == 1)\r\n        return (1);\r\n      else if (length == 1)\r\n        return (max);\r\n      else\r\n        return (howManySort(length - 1, max) + howManySort(length, max - 1));\r\n    }\r\n\r\n","title":"i need to write a method using recursion without any use of loops from 1 to max with non descending way","body":"<p>I think you intended the private method with 3 parameters where the 3rd one (=i) indicates the minimum.<br />\nI understood your intention but you don't need it (see below).</p>\n<p>You were almost there:</p>\n<ul>\n<li>If either the maximum or the length is less then 1, then the result is 0</li>\n<li>If the maximum equals 1 then there's a single way, independently of the length</li>\n<li>If the length equals 1 then the number of ways equals the maximum</li>\n</ul>\n<p>In all other cases the number of ways is determined as follows:<br />\nJust to explain, consider length=max=3.<br />\nThe possible 10 ways are</p>\n<pre><code>1 1 1\n1 1 2\n1 1 3\n1 2 2\n1 2 3\n1 3 3\n2 2 2\n2 2 3\n2 3 3\n3 3 3\n</code></pre>\n<p>The first 6 report the number of ways for an array with length minus 1 and the same maximum. Just forget the first column being always 1.<br />\nThe remaining 4 report the number of ways for an array with the same length and maximum minus 1.<br />\nThe latter because</p>\n<pre><code>2 2 2\n2 2 3\n2 3 3\n3 3 3\n</code></pre>\n<p>in fact equals</p>\n<pre><code>1 1 1\n1 1 2\n1 2 2\n2 2 2\n</code></pre>\n<p>I would therefore implement the method as follows:</p>\n<pre><code>public int howManySort(int length,\n                       int max)\n{\n  if ((length &lt; 1) || (max &lt; 1))\n    return (0);\n  else if (max == 1)\n    return (1);\n  else if (length == 1)\n    return (max);\n  else\n    return (howManySort(length - 1, max) + howManySort(length, max - 1));\n}\n</code></pre>\n"}],"owner":{"account_id":13811590,"reputation":1,"user_id":9969213,"display_name":"Mohamad Masaada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688657844,"creation_date":1688653178,"question_id":76629806,"body_markdown":"method howManySort(int length,int max) , length declares the length of the array and max declares the maximum number.\r\n\r\n- for example if length=3 and max=2 there are 4 ways to sort the numbers from 1 to 2(include) in a non descending way\r\n\r\n1. (1,1,1)\r\n2. (1,1,2)\r\n3. (1,2,2)\r\n4. (2,2,2) \r\n\r\n- another example is if length=2 and max=3 there are 6 ways to sort the number from 1 to 3(include) in a non descending way\r\n\r\n1. (1,1)\r\n2. (1,2)\r\n3. (1,3)\r\n4. (2,2)\r\n5. (2,3)\r\n6. (3,3)\r\n\r\nthe method must not return or print the array it must return the number of ways that we can sort the array, we can&#39;t use any mathematical formula or loops just recursion. please explain the solution\r\n\r\ni tried this:\r\n\r\n    public int howManySort(int length,int max){\r\n     return howManySort(length,max,1);\r\n    }\r\n\r\n    private int howManySort(int length,int max){\r\n    if(i&gt;max){\r\n     return 0;\r\n    }\r\n    if(length==0){\r\n     return 1+howManySort(length,max,i+1);\r\n    }\r\n    return howManySort(length-1,max,i);\r\n    }\r\n\r\n\r\n\r\n","title":"i need to write a method using recursion without any use of loops from 1 to max with non descending way","body":"<p>method howManySort(int length,int max) , length declares the length of the array and max declares the maximum number.</p>\n<ul>\n<li>for example if length=3 and max=2 there are 4 ways to sort the numbers from 1 to 2(include) in a non descending way</li>\n</ul>\n<ol>\n<li>(1,1,1)</li>\n<li>(1,1,2)</li>\n<li>(1,2,2)</li>\n<li>(2,2,2)</li>\n</ol>\n<ul>\n<li>another example is if length=2 and max=3 there are 6 ways to sort the number from 1 to 3(include) in a non descending way</li>\n</ul>\n<ol>\n<li>(1,1)</li>\n<li>(1,2)</li>\n<li>(1,3)</li>\n<li>(2,2)</li>\n<li>(2,3)</li>\n<li>(3,3)</li>\n</ol>\n<p>the method must not return or print the array it must return the number of ways that we can sort the array, we can't use any mathematical formula or loops just recursion. please explain the solution</p>\n<p>i tried this:</p>\n<pre><code>public int howManySort(int length,int max){\n return howManySort(length,max,1);\n}\n\nprivate int howManySort(int length,int max){\nif(i&gt;max){\n return 0;\n}\nif(length==0){\n return 1+howManySort(length,max,i+1);\n}\nreturn howManySort(length-1,max,i);\n}\n</code></pre>\n"},{"tags":["java","swing","java-11","look-and-feel","jide"],"comments":[{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":2,"creation_date":1688661487,"post_id":76630481,"comment_id":135107166,"body_markdown":"Maybe a silly comment, but it looks like you&#39;re trying to load a Windows L&amp;F while not running within a Windows environment. In that case it&#39;s highly unlikely that the JVM contains that L&amp;F.","body":"Maybe a silly comment, but it looks like you&#39;re trying to load a Windows L&amp;F while not running within a Windows environment. In that case it&#39;s highly unlikely that the JVM contains that L&amp;F."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688720862,"post_id":76630481,"comment_id":135114665,"body_markdown":"This Windows L&amp;F was never part of the official API so a custom look and feel directly accessing those classes always was a hack.","body":"This Windows L&amp;F was never part of the official API so a custom look and feel directly accessing those classes always was a hack."}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657795,"creation_date":1688657795,"question_id":76630481,"body_markdown":"I am trying to use \r\n\r\nLookAndFeelFactory.installJideExtension();\r\n\r\nand get the error \r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n```\r\n \r\nI am importing this library import com.jidesoft.plaf.LookAndFeelFactory and ./gradlew -q clean build working properly but I get the error when I try to run my project. \r\n\r\nThanks,\r\n\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel","body":"<p>I am trying to use</p>\n<p>LookAndFeelFactory.installJideExtension();</p>\n<p>and get the error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n</code></pre>\n<p>I am importing this library import com.jidesoft.plaf.LookAndFeelFactory and ./gradlew -q clean build working properly but I get the error when I try to run my project.</p>\n<p>Thanks,</p>\n"},{"tags":["java","windows","visual-studio-code","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1688659521,"post_id":76630432,"comment_id":135106796,"body_markdown":"Please see https://www.jetbrains.com/code-with-me/buy/#personal.","body":"Please see <a href=\"https://www.jetbrains.com/code-with-me/buy/#personal\" rel=\"nofollow noreferrer\">jetbrains.com/code-with-me/buy/#personal</a>."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690768880,"post_id":76630432,"comment_id":135394488,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"owner":{"account_id":28964104,"reputation":1,"user_id":22185976,"display_name":"Kumari Shreya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657416,"creation_date":1688657416,"question_id":76630432,"body_markdown":"I want to  enable the option &quot;code with me&quot; for which I need to paste or drop an activation code. But I don&#39;t know what is that exactly and from where can I get that ??\r\n\r\nI tried to start my coding journey and I found that to start that I need to enable the code withe option for which I needed an activation code . I expected to get that code via an email or something but it didn&#39;t happen.","title":"How to get activation code to enable &quot; code with me&quot; option?","body":"<p>I want to  enable the option &quot;code with me&quot; for which I need to paste or drop an activation code. But I don't know what is that exactly and from where can I get that ??</p>\n<p>I tried to start my coding journey and I found that to start that I need to enable the code withe option for which I needed an activation code . I expected to get that code via an email or something but it didn't happen.</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688653235,"post_id":76629706,"comment_id":135105377,"body_markdown":"let me clear things out, are you trying to get the latest 2 entries in  analytics_cron_refresh_time table as a whole, or trying to get the last 2 entries for each study_id","body":"let me clear things out, are you trying to get the latest 2 entries in  analytics_cron_refresh_time table as a whole, or trying to get the last 2 entries for each study_id"},{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688653883,"post_id":76629706,"comment_id":135105537,"body_markdown":"for each study 2 latest records","body":"for each study 2 latest records"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1688655941,"post_id":76629706,"comment_id":135106021,"body_markdown":"Can you enter some sample data and desired output?\nOr even better would be, if you could provide a [SQL Fiddle](https://www.db-fiddle.com/)","body":"Can you enter some sample data and desired output? Or even better would be, if you could provide a <a href=\"https://www.db-fiddle.com/\" rel=\"nofollow noreferrer\">SQL Fiddle</a>"},{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688656827,"post_id":76629706,"comment_id":135106195,"body_markdown":"I have added a sample insert script for a better understanding, please go through that\nif we have that same data 5 times for same study id and other columns value will different then we should get once 2 recorded out off 5 that too based on created at DESC order","body":"I have added a sample insert script for a better understanding, please go through that if we have that same data 5 times for same study id and other columns value will different then we should get once 2 recorded out off 5 that too based on created at DESC order"}],"answers":[{"comments":[{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688656658,"post_id":76630277,"comment_id":135106165,"body_markdown":"Not working as i don&#39;t see any condition for Status = Complete","body":"Not working as i don&#39;t see any condition for Status = Complete"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688657077,"post_id":76630277,"comment_id":135106259,"body_markdown":"edited my answer, see if this helps so I can help you edit your question to be more understandable","body":"edited my answer, see if this helps so I can help you edit your question to be more understandable"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657114,"creation_date":1688656310,"answer_id":76630277,"question_id":76629706,"body_markdown":"try this\r\n```\r\nSELECT *\r\n   FROM\r\n     (SELECT *,\r\n             @study_rank := IF(@current_study = study_id, @study_rank + 1, 1) AS study_rank,\r\n             @current_study := study_id\r\n       FROM analytics_cron_refresh_time\r\n       WHERE status = &#39;Complete&#39;\r\n       ORDER BY study_id, created_at DESC\r\n     ) ranked\r\n   WHERE study_rank &lt;= 2;\r\n```\r\nyou can find more about how session variables work [here][1] also notice that select would have 2 more columns if you wanna get rid of them try selecting specific columns in outer select instead of *\r\n\r\n\r\n  [1]: http://www.sqlines.com/mysql/how-to/get_top_n_each_group","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>try this</p>\n<pre><code>SELECT *\n   FROM\n     (SELECT *,\n             @study_rank := IF(@current_study = study_id, @study_rank + 1, 1) AS study_rank,\n             @current_study := study_id\n       FROM analytics_cron_refresh_time\n       WHERE status = 'Complete'\n       ORDER BY study_id, created_at DESC\n     ) ranked\n   WHERE study_rank &lt;= 2;\n</code></pre>\n<p>you can find more about how session variables work <a href=\"http://www.sqlines.com/mysql/how-to/get_top_n_each_group\" rel=\"nofollow noreferrer\">here</a> also notice that select would have 2 more columns if you wanna get rid of them try selecting specific columns in outer select instead of *</p>\n"},{"comments":[{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688662540,"post_id":76630352,"comment_id":135107365,"body_markdown":"https://meta.stackoverflow.com/questions/421831/temporary-policy-generative-ai-e-g-chatgpt-is-banned?cb=1\n\n Brother MySql doesn&#39;t support this","body":"<a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-generative-ai-e-g-chatgpt-is-banned?cb=1\" title=\"temporary policy generative ai e g chatgpt is banned\">meta.stackoverflow.com/questions/421831/&hellip;</a>   Brother MySql doesn&#39;t support this"}],"tags":[],"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688656822,"creation_date":1688656822,"answer_id":76630352,"question_id":76629706,"body_markdown":"This should help you in finding the latest two records of each group by study_id\r\n\r\n   \r\n\r\n     SELECT study_id, last_completion_date\r\n        FROM (\r\n        \tSELECT study_id,last_completion_date,\r\n    ROW_NUMBER() OVER (PARTITION BY study_id ORDER BY last_completion_date DESC) AS row_number\r\n        \tFROM analytics_cron_refresh_time WHERE status = &#39;Complete&#39;) t\r\n        WHERE t.row_number = 1 OR t.row_number = 2","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>This should help you in finding the latest two records of each group by study_id</p>\n<pre><code> SELECT study_id, last_completion_date\n    FROM (\n        SELECT study_id,last_completion_date,\nROW_NUMBER() OVER (PARTITION BY study_id ORDER BY last_completion_date DESC) AS row_number\n        FROM analytics_cron_refresh_time WHERE status = 'Complete') t\n    WHERE t.row_number = 1 OR t.row_number = 2\n</code></pre>\n"}],"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688657114,"creation_date":1688652489,"question_id":76629706,"body_markdown":"Below is my table script.\r\nI have multiple entries for the same study id with different api_cron_job_id, created_at and status can be Complete OR In Progress.\r\n\r\nbasically, we are inserting records based on study id with different values for all columns and timestamps in created at the column for e.g. here is the insert script\r\n\r\n```\r\nINSERT INTO `analytics_cron_refresh_time` (`id`, `study_id`, `client_id`, `last_completion_date`, `status`, `created_at`, `modifed_at`, `api_cron_job_id`)\r\nVALUES (&#39;2798d9b0-ef59-496e-ba21-f2d7bdc9518d&#39;, &#39;c5d52f86-c0e3-46e3-a164-ac321329d78e&#39;, &#39;654111&#39;, &#39;2023-07-06 13:12:55.598&#39;, &#39;Complete&#39;, &#39;2023-07-06 13:12:50.000&#39;, &#39;2023-07-06 13:12:55.598&#39;, 147);\r\n```\r\n\r\nNow I want to select recent 2 entries for each study_id \r\n\r\nCan you please help me, and please someone format this question, its my first question so all folks understand it.\r\n\r\n\r\n```\r\nCREATE TABLE `analytics_cron_refresh_time` (\r\n   `id` varchar(100) NOT NULL,\r\n   `study_id` varchar(100) DEFAULT NULL,\r\n   `client_id` varchar(45) DEFAULT NULL,\r\n   `last_completion_date` datetime(3) DEFAULT NULL,\r\n   `status` varchar(45) DEFAULT NULL,\r\n   `created_at` datetime(3) DEFAULT NULL,\r\n   `modifed_at` datetime(3) DEFAULT NULL,\r\n   `api_cron_job_id` int(11) NOT NULL AUTO_INCREMENT,\r\n   PRIMARY KEY (`id`),\r\n   UNIQUE KEY `api_cron_job_id_UNIQUE` (`api_cron_job_id`),\r\n   KEY `idx_study_id` (`study_id`,`api_cron_job_id`),\r\n   KEY `idx_study_id_status` (`status`,`study_id`,`api_cron_job_id`)\r\n ) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1\r\n```\r\n\r\n*I tried below script *\r\n\r\n```\r\nSELECT t1.*\r\nFROM analytics_cron_refresh_time t1\r\nLEFT JOIN analytics_cron_refresh_time t2 \r\n    ON t1.study_id = t2.study_id AND t1.created_at &lt; t2.created_at AND t1.status\r\nWHERE t1.status = &#39;Complete&#39;\r\nGROUP BY t1.study_id\r\nHAVING COUNT(*) &gt; 2\r\nORDER BY t1.created_at DESC;\r\n```\r\n\r\nbut getting incorrect data.","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>Below is my table script.\nI have multiple entries for the same study id with different api_cron_job_id, created_at and status can be Complete OR In Progress.</p>\n<p>basically, we are inserting records based on study id with different values for all columns and timestamps in created at the column for e.g. here is the insert script</p>\n<pre><code>INSERT INTO `analytics_cron_refresh_time` (`id`, `study_id`, `client_id`, `last_completion_date`, `status`, `created_at`, `modifed_at`, `api_cron_job_id`)\nVALUES ('2798d9b0-ef59-496e-ba21-f2d7bdc9518d', 'c5d52f86-c0e3-46e3-a164-ac321329d78e', '654111', '2023-07-06 13:12:55.598', 'Complete', '2023-07-06 13:12:50.000', '2023-07-06 13:12:55.598', 147);\n</code></pre>\n<p>Now I want to select recent 2 entries for each study_id</p>\n<p>Can you please help me, and please someone format this question, its my first question so all folks understand it.</p>\n<pre><code>CREATE TABLE `analytics_cron_refresh_time` (\n   `id` varchar(100) NOT NULL,\n   `study_id` varchar(100) DEFAULT NULL,\n   `client_id` varchar(45) DEFAULT NULL,\n   `last_completion_date` datetime(3) DEFAULT NULL,\n   `status` varchar(45) DEFAULT NULL,\n   `created_at` datetime(3) DEFAULT NULL,\n   `modifed_at` datetime(3) DEFAULT NULL,\n   `api_cron_job_id` int(11) NOT NULL AUTO_INCREMENT,\n   PRIMARY KEY (`id`),\n   UNIQUE KEY `api_cron_job_id_UNIQUE` (`api_cron_job_id`),\n   KEY `idx_study_id` (`study_id`,`api_cron_job_id`),\n   KEY `idx_study_id_status` (`status`,`study_id`,`api_cron_job_id`)\n ) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1\n</code></pre>\n<p>*I tried below script *</p>\n<pre><code>SELECT t1.*\nFROM analytics_cron_refresh_time t1\nLEFT JOIN analytics_cron_refresh_time t2 \n    ON t1.study_id = t2.study_id AND t1.created_at &lt; t2.created_at AND t1.status\nWHERE t1.status = 'Complete'\nGROUP BY t1.study_id\nHAVING COUNT(*) &gt; 2\nORDER BY t1.created_at DESC;\n</code></pre>\n<p>but getting incorrect data.</p>\n"},{"tags":["java","spring","spring-boot","upgrade"],"comments":[{"owner":{"account_id":4429392,"reputation":1360,"user_id":3606872,"accept_rate":76,"display_name":"Viraj"},"score":0,"creation_date":1696907142,"post_id":76594575,"comment_id":136209478,"body_markdown":"I am also getting for spring boot version 2.7.16, earlier wasn&#39;t, strange.","body":"I am also getting for spring boot version 2.7.16, earlier wasn&#39;t, strange."}],"answers":[{"tags":[],"owner":{"account_id":25440494,"reputation":16,"user_id":19243522,"display_name":"MZielinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657044,"creation_date":1688657044,"answer_id":76630383,"question_id":76594575,"body_markdown":"Please, make sure that you do not have any old spring-boot (2.x) and spring (5.x) on class-path. I had the same issue, but after defining explicit version of spring-boot and spring in build.gradle\r\n\r\n```\r\n&quot;org.springframework.boot:spring-boot:$springBootVersion&quot;,\r\n&quot;org.springframework.boot:spring-boot-autoconfigure:$springBootVersion&quot;,\r\n&quot;org.springframework:spring-context:$springVersion&quot;,\r\n&quot;org.springframework:spring-tx:$springVersion&quot;,\r\n```\r\n\r\nProblem disappeared. \r\n\r\nSpring 5.x has field SearchStrategy.TYPE_HIERARCHY_AND_ENCLOSING_CLASSES, where Spring 6.x don&#39;t.\r\n\r\nThat&#39;s why I guess, you have still Spring 5.x on the classpath","title":"java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES","body":"<p>Please, make sure that you do not have any old spring-boot (2.x) and spring (5.x) on class-path. I had the same issue, but after defining explicit version of spring-boot and spring in build.gradle</p>\n<pre><code>&quot;org.springframework.boot:spring-boot:$springBootVersion&quot;,\n&quot;org.springframework.boot:spring-boot-autoconfigure:$springBootVersion&quot;,\n&quot;org.springframework:spring-context:$springVersion&quot;,\n&quot;org.springframework:spring-tx:$springVersion&quot;,\n</code></pre>\n<p>Problem disappeared.</p>\n<p>Spring 5.x has field SearchStrategy.TYPE_HIERARCHY_AND_ENCLOSING_CLASSES, where Spring 6.x don't.</p>\n<p>That's why I guess, you have still Spring 5.x on the classpath</p>\n"}],"owner":{"account_id":11249823,"reputation":1,"user_id":8251272,"display_name":"Vinit Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688657044,"creation_date":1688212325,"question_id":76594575,"body_markdown":"When I tried upgrading the Spring boot version to 2.7.5 and spring framework dependencies version to 6.0.10 , as I have upgraded the java version to JDK 17, I am getting the following error while running the application.\r\n\r\n    java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.isConstructorBindingAnnotatedType(ConfigurationPropertiesBindConstructorProvider.java:89) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\r\nPlease, let me know what can I try to resolve this issue.\r\n\r\nI tried using the lower version of spring framework dependencies. Still no luck.","title":"java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES","body":"<p>When I tried upgrading the Spring boot version to 2.7.5 and spring framework dependencies version to 6.0.10 , as I have upgraded the java version to JDK 17, I am getting the following error while running the application.</p>\n<pre><code>java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.isConstructorBindingAnnotatedType(ConfigurationPropertiesBindConstructorProvider.java:89) ~[spring-boot-2.7.5.jar:2.7.5]\n</code></pre>\n<p>Please, let me know what can I try to resolve this issue.</p>\n<p>I tried using the lower version of spring framework dependencies. Still no luck.</p>\n"},{"tags":["javascript","java","graalvm","graaljs"],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688656756,"creation_date":1688655214,"question_id":76630111,"body_markdown":"Is it possible to pause execution of a js script at a specific line and resume it later?\r\n\r\nOr even better, ask the engine to run only one line of JS and wait for instructions to proceed?\r\n\r\nI want to allow a limited debugger-like functionality when running JS via GraalVM.","title":"GraalJS: How to pause a script or run it line by line?","body":"<p>Is it possible to pause execution of a js script at a specific line and resume it later?</p>\n<p>Or even better, ask the engine to run only one line of JS and wait for instructions to proceed?</p>\n<p>I want to allow a limited debugger-like functionality when running JS via GraalVM.</p>\n"},{"tags":["java","clojure","bytecode"],"answers":[{"tags":[],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688655794,"creation_date":1688655794,"answer_id":76630208,"question_id":76630040,"body_markdown":"OK,\r\n\r\nlooks like it is simple like:\r\n\r\n  \r\n\r\n      (def test-data\r\n      {:name &#39;pkg.Main\r\n       ;; :version 16 \r\n       :methods [{:flags [:public :static], :name &quot;main&quot;, :desc [[String] :void]\r\n                  :emit [[:getstatic System &quot;out&quot;]\r\n                         [:ldc &quot;Hello, World!&quot;]\r\n                         [:invokevirtual java.io.PrintStream &quot;println&quot; [String :void]]\r\n                         [:return]]}]})\r\n    \r\n    (require &#39;[insn.core :as insn])\r\n    \r\n    (insn/write (insn/visit test-data) &quot;/tmp/test&quot;)\r\n    \r\nFrom: https://github.com/jgpc42/insn/issues/6","title":"Write btytecode to file using Clojure asm library","body":"<p>OK,</p>\n<p>looks like it is simple like:</p>\n<pre><code>  (def test-data\n  {:name 'pkg.Main\n   ;; :version 16 \n   :methods [{:flags [:public :static], :name &quot;main&quot;, :desc [[String] :void]\n              :emit [[:getstatic System &quot;out&quot;]\n                     [:ldc &quot;Hello, World!&quot;]\n                     [:invokevirtual java.io.PrintStream &quot;println&quot; [String :void]]\n                     [:return]]}]})\n\n(require '[insn.core :as insn])\n\n(insn/write (insn/visit test-data) &quot;/tmp/test&quot;)\n</code></pre>\n<p>From: <a href=\"https://github.com/jgpc42/insn/issues/6\" rel=\"nofollow noreferrer\">https://github.com/jgpc42/insn/issues/6</a></p>\n"}],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688655794,"creation_date":1688654729,"question_id":76630040,"body_markdown":"I&#39;m playing with Java byte-code generation using Clojure with the [https://github.com/jgpc42/asm][1]. So far so good, but now I am trying to export the generated bytecode to a .class file. With Java ([code from][2]), I see is possible with something like the code bellow, but not sure exactly no to translate it to Clojure using the asm library.\r\n    \r\n    import org.objectweb.asm.*;\r\n    \r\n    public class TestingDump implements Opcodes {\r\n    \r\n        public static byte[] dump() throws Exception {\r\n    \r\n            ClassWriter cw = new ClassWriter(0);\r\n            FieldVisitor fv;\r\n            MethodVisitor mv;\r\n            AnnotationVisitor av0;\r\n    \r\n            cw.visit(V1_6, ACC_PUBLIC + ACC_SUPER, &quot;Testing&quot;, null, &quot;java/lang/Object&quot;, null);\r\n    \r\n            cw.visitSource(&quot;Testing.java&quot;, null);\r\n    \r\n            {\r\n                mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\r\n                mv.visitCode();\r\n                Label l0 = new Label();\r\n                mv.visitLabel(l0);\r\n                mv.visitLineNumber(1, l0);\r\n                mv.visitVarInsn(ALOAD, 0);\r\n                mv.visitMethodInsn(INVOKESPECIAL, &quot;java/lang/Object&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n                mv.visitInsn(RETURN);\r\n                Label l1 = new Label();\r\n                mv.visitLabel(l1);\r\n                mv.visitLocalVariable(&quot;this&quot;, &quot;LTesting;&quot;, null, l0, l1, 0);\r\n                mv.visitMaxs(1, 1);\r\n                mv.visitEnd();\r\n            }\r\n            {\r\n                mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, null, null);\r\n                mv.visitCode();\r\n                Label l0 = new Label();\r\n                mv.visitLabel(l0);\r\n                mv.visitLineNumber(3, l0);\r\n                mv.visitFieldInsn(GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n                mv.visitLdcInsn(&quot;Works!&quot;);\r\n                mv.visitMethodInsn(INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\n                Label l1 = new Label();\r\n                mv.visitLabel(l1);\r\n                mv.visitLineNumber(4, l1);\r\n                mv.visitInsn(RETURN);\r\n                Label l2 = new Label();\r\n                mv.visitLabel(l2);\r\n                mv.visitLocalVariable(&quot;args&quot;, &quot;[Ljava/lang/String;&quot;, null, l0, l2, 0);\r\n                mv.visitMaxs(2, 1);\r\n                mv.visitEnd();\r\n            }\r\n            cw.visitEnd();\r\n    \r\n            return cw.toByteArray();\r\n        }\r\n    }\r\n\r\nCan some one provide some tips and guideline on it? Thanks in advance\r\n\r\n  [1]: https://github.com/jgpc42/asm\r\n  [2]: https://stackoverflow.com/questions/10158898/how-to-generate-class-file-with-java-asm","title":"Write btytecode to file using Clojure asm library","body":"<p>I'm playing with Java byte-code generation using Clojure with the <a href=\"https://github.com/jgpc42/asm\" rel=\"nofollow noreferrer\">https://github.com/jgpc42/asm</a>. So far so good, but now I am trying to export the generated bytecode to a .class file. With Java (<a href=\"https://stackoverflow.com/questions/10158898/how-to-generate-class-file-with-java-asm\">code from</a>), I see is possible with something like the code bellow, but not sure exactly no to translate it to Clojure using the asm library.</p>\n<pre><code>import org.objectweb.asm.*;\n\npublic class TestingDump implements Opcodes {\n\n    public static byte[] dump() throws Exception {\n\n        ClassWriter cw = new ClassWriter(0);\n        FieldVisitor fv;\n        MethodVisitor mv;\n        AnnotationVisitor av0;\n\n        cw.visit(V1_6, ACC_PUBLIC + ACC_SUPER, &quot;Testing&quot;, null, &quot;java/lang/Object&quot;, null);\n\n        cw.visitSource(&quot;Testing.java&quot;, null);\n\n        {\n            mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\n            mv.visitCode();\n            Label l0 = new Label();\n            mv.visitLabel(l0);\n            mv.visitLineNumber(1, l0);\n            mv.visitVarInsn(ALOAD, 0);\n            mv.visitMethodInsn(INVOKESPECIAL, &quot;java/lang/Object&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n            mv.visitInsn(RETURN);\n            Label l1 = new Label();\n            mv.visitLabel(l1);\n            mv.visitLocalVariable(&quot;this&quot;, &quot;LTesting;&quot;, null, l0, l1, 0);\n            mv.visitMaxs(1, 1);\n            mv.visitEnd();\n        }\n        {\n            mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, null, null);\n            mv.visitCode();\n            Label l0 = new Label();\n            mv.visitLabel(l0);\n            mv.visitLineNumber(3, l0);\n            mv.visitFieldInsn(GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n            mv.visitLdcInsn(&quot;Works!&quot;);\n            mv.visitMethodInsn(INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\n            Label l1 = new Label();\n            mv.visitLabel(l1);\n            mv.visitLineNumber(4, l1);\n            mv.visitInsn(RETURN);\n            Label l2 = new Label();\n            mv.visitLabel(l2);\n            mv.visitLocalVariable(&quot;args&quot;, &quot;[Ljava/lang/String;&quot;, null, l0, l2, 0);\n            mv.visitMaxs(2, 1);\n            mv.visitEnd();\n        }\n        cw.visitEnd();\n\n        return cw.toByteArray();\n    }\n}\n</code></pre>\n<p>Can some one provide some tips and guideline on it? Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-security","spring-oauth2","spring-authorization-server"],"answers":[{"comments":[{"owner":{"account_id":3686624,"reputation":633,"user_id":3070278,"accept_rate":47,"display_name":"bsgrd"},"score":0,"creation_date":1688668783,"post_id":76630201,"comment_id":135108412,"body_markdown":"Thanks. The issue was that I didn&#39;t have the default securityFilterChain defined. Didn&#39;t know that it would be overridden.","body":"Thanks. The issue was that I didn&#39;t have the default securityFilterChain defined. Didn&#39;t know that it would be overridden."}],"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688655763,"creation_date":1688655763,"answer_id":76630201,"question_id":76626938,"body_markdown":"Once you&#39;ve gone beyond the [Getting Started][1] experience, the same docs page covers how to [define the same components][2] that Spring Boot provides so you can begin customizing the configuration. Because of Spring Boot each component is optional. In particular, notice that it defines two `SecurityFilterChain` `@Bean`s with the `@Order` annotation, and also note that the first one includes:\r\n\r\n```java\r\nOAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n```\r\n\r\nWithout that line (or copying the code contained within into your own code), the authorization server&#39;s protocol endpoints won&#39;t be set up, which is why you observed\r\n\r\n&gt; but it breaks the authorization server\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#developing-your-first-application\r\n  [2]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#defining-required-components","title":"Spring Authorization Server expose rest endpoints","body":"<p>Once you've gone beyond the <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#developing-your-first-application\" rel=\"nofollow noreferrer\">Getting Started</a> experience, the same docs page covers how to <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#defining-required-components\" rel=\"nofollow noreferrer\">define the same components</a> that Spring Boot provides so you can begin customizing the configuration. Because of Spring Boot each component is optional. In particular, notice that it defines two <code>SecurityFilterChain</code> <code>@Bean</code>s with the <code>@Order</code> annotation, and also note that the first one includes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n</code></pre>\n<p>Without that line (or copying the code contained within into your own code), the authorization server's protocol endpoints won't be set up, which is why you observed</p>\n<blockquote>\n<p>but it breaks the authorization server</p>\n</blockquote>\n"}],"owner":{"account_id":3686624,"reputation":633,"user_id":3070278,"accept_rate":47,"display_name":"bsgrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630201,"answer_count":1,"score":1,"last_activity_date":1688655763,"creation_date":1688632272,"question_id":76626938,"body_markdown":"I have implemented an authorization server using spring-boot-starter-oauth2-authorization-server.\r\nEverything seems to work perfectly. However, I need to expose some endpoints for creating users, getting user permissions etc., so I need to configure the auth server to also act as a resource server.\r\n\r\nI need &quot;POST /users&quot; to be public with no authorization, and &quot;GET /users/{userId}/permissions&quot; to require a valid JWT token to be present in the header.\r\n\r\nI have tried creating a SecurityFilterChain bean like this, which allows access to the /users endpoint, but it breaks the authorization server:\r\n```\r\n@Bean\r\n  public SecurityFilterChain configureSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\r\n        .requestMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll()\r\n        .anyRequest().authenticated());\r\n    http.csrf(AbstractHttpConfigurer::disable);\r\n    return http.build();\r\n  }\r\n```\r\n\r\nI&#39;m sure it&#39;s possible to create authorization customizations for specific endpoints, but how?","title":"Spring Authorization Server expose rest endpoints","body":"<p>I have implemented an authorization server using spring-boot-starter-oauth2-authorization-server.\nEverything seems to work perfectly. However, I need to expose some endpoints for creating users, getting user permissions etc., so I need to configure the auth server to also act as a resource server.</p>\n<p>I need &quot;POST /users&quot; to be public with no authorization, and &quot;GET /users/{userId}/permissions&quot; to require a valid JWT token to be present in the header.</p>\n<p>I have tried creating a SecurityFilterChain bean like this, which allows access to the /users endpoint, but it breaks the authorization server:</p>\n<pre><code>@Bean\n  public SecurityFilterChain configureSecurityFilterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\n        .requestMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll()\n        .anyRequest().authenticated());\n    http.csrf(AbstractHttpConfigurer::disable);\n    return http.build();\n  }\n</code></pre>\n<p>I'm sure it's possible to create authorization customizations for specific endpoints, but how?</p>\n"},{"tags":["java","ubuntu","jmx"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1688659379,"post_id":76630126,"comment_id":135106760,"body_markdown":"what happens when you give incorrect password in the clear? error or login dialog?","body":"what happens when you give incorrect password in the clear? error or login dialog?"},{"owner":{"account_id":23353706,"reputation":1,"user_id":17426965,"display_name":"Artem Yagodin"},"score":0,"creation_date":1688719247,"post_id":76630126,"comment_id":135114382,"body_markdown":"nothing changes, getting same @sad picture of VisualVm@","body":"nothing changes, getting same @sad picture of VisualVm@"},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1688740249,"post_id":76630126,"comment_id":135118589,"body_markdown":"ok that means errors get swallowed without feedback...you should look at the error logs and see what the actual error says, otherwise it&#39;s like trying to hit mosquitoes in the dark","body":"ok that means errors get swallowed without feedback...you should look at the error logs and see what the actual error says, otherwise it&#39;s like trying to hit mosquitoes in the dark"}],"owner":{"account_id":23353706,"reputation":1,"user_id":17426965,"display_name":"Artem Yagodin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688655554,"creation_date":1688655300,"question_id":76630126,"body_markdown":"my problem is that I can&#39;t establish a remote connection using basic authentication like username\\password when working with JMX using VisualVM 2.1.6\r\n\r\nso here is configuration:\r\n\r\n1. Java\\Catalina opts\r\n\r\n```\r\nEnvironment=&#39;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&#39;\r\nEnvironment=&#39;MAVEN_OPTS=-Xmx512m&#39;\r\nEnvironment=&#39;JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djava.rmi.server.hostname=10.10.101.28 -Dcom.sun.management.jmxremote.port=9596 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=true -Dcom.sun.management.jmxremote.password.file=/usr/lib/jvm/java-17-oracle/conf/management/jmxremote.password&#39;\r\n\r\n```\r\n\r\n2. jmxremote.password file\r\n\r\n[jmxremote.password file](https://i.stack.imgur.com/uzT5a.png)\r\n\r\n3. jmxremote.access file\r\n\r\n[jmxremote.access file](https://i.stack.imgur.com/Yf28V.png)\r\n\r\n\r\nSo, if -Dcom.sun.management.jmxremote.authenticate set to false, connection from my local maschine to remote host (in local network) establishes with no any troubles, as soon auth is enabled, getting always \r\n\r\n[sad picture of VisualVm](https://i.stack.imgur.com/k3RAn.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\np.s. i`am already have tried jConsole, it also has same behavior\r\n\r\ni almost sure, that file is ok, because when i set up clear password, after connection attempt it rewrites to hashed password automatically.\r\n","title":"JMX connection, using basic auth, failure","body":"<p>my problem is that I can't establish a remote connection using basic authentication like username\\password when working with JMX using VisualVM 2.1.6</p>\n<p>so here is configuration:</p>\n<ol>\n<li>Java\\Catalina opts</li>\n</ol>\n<pre><code>Environment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'\nEnvironment='MAVEN_OPTS=-Xmx512m'\nEnvironment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djava.rmi.server.hostname=10.10.101.28 -Dcom.sun.management.jmxremote.port=9596 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=true -Dcom.sun.management.jmxremote.password.file=/usr/lib/jvm/java-17-oracle/conf/management/jmxremote.password'\n\n</code></pre>\n<ol start=\"2\">\n<li>jmxremote.password file</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/uzT5a.png\" rel=\"nofollow noreferrer\">jmxremote.password file</a></p>\n<ol start=\"3\">\n<li>jmxremote.access file</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Yf28V.png\" rel=\"nofollow noreferrer\">jmxremote.access file</a></p>\n<p>So, if -Dcom.sun.management.jmxremote.authenticate set to false, connection from my local maschine to remote host (in local network) establishes with no any troubles, as soon auth is enabled, getting always</p>\n<p><a href=\"https://i.stack.imgur.com/k3RAn.png\" rel=\"nofollow noreferrer\">sad picture of VisualVm</a></p>\n<p>p.s. i`am already have tried jConsole, it also has same behavior</p>\n<p>i almost sure, that file is ok, because when i set up clear password, after connection attempt it rewrites to hashed password automatically.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687795444,"post_id":76558256,"comment_id":134983370,"body_markdown":"The new column will have a fixed value? Like you mentioned `1 as newCol` or will it be a data based on some query?","body":"The new column will have a fixed value? Like you mentioned <code>1 as newCol</code> or will it be a data based on some query?"},{"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"score":0,"creation_date":1687795741,"post_id":76558256,"comment_id":134983426,"body_markdown":"It will of course be a calculated data based on some other query, I put a fixed value just for simplification :)","body":"It will of course be a calculated data based on some other query, I put a fixed value just for simplification :)"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1687796147,"post_id":76558256,"comment_id":134983520,"body_markdown":"Something like that? https://stackoverflow.com/questions/73540715/spring-data-jpa-query-class-projection-containing-another-custom-object","body":"Something like that? <a href=\"https://stackoverflow.com/questions/73540715/spring-data-jpa-query-class-projection-containing-another-custom-object\" title=\"spring data jpa query class projection containing another custom object\">stackoverflow.com/questions/73540715/&hellip;</a>"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687796500,"post_id":76558256,"comment_id":134983609,"body_markdown":"@TomStroemer, will that work with mapping an Entity and an extra field?","body":"@TomStroemer, will that work with mapping an Entity and an extra field?"},{"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"score":0,"creation_date":1687796983,"post_id":76558256,"comment_id":134983718,"body_markdown":"@TomStroemer exactly like that, I couldn&#39;t find that question with my searches before asking, I&#39;m sorry. However that does not completely solve it, as the solution in that thread suggests we create an interface FooView (which would be MyTableView in my case). But MyTableView is not the same class as MyTable, so I&#39;d still have to do a field to field thorough mapping to transform the view to the class, which I&#39;m trying to avoid","body":"@TomStroemer exactly like that, I couldn&#39;t find that question with my searches before asking, I&#39;m sorry. However that does not completely solve it, as the solution in that thread suggests we create an interface FooView (which would be MyTableView in my case). But MyTableView is not the same class as MyTable, so I&#39;d still have to do a field to field thorough mapping to transform the view to the class, which I&#39;m trying to avoid"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688655357,"creation_date":1688654824,"answer_id":76630060,"question_id":76558256,"body_markdown":"You can try the following, although you will have to fire one extra query.\r\n\r\nI am assuming you to put a \r\n\r\n```JAVA\r\n@Transient\r\nprivate int newCol;\r\n```\r\ninto your MyTable Entity.\r\n\r\n```JAVA\r\npublic void fetchAllData() {\r\n        //fetch all your MyTable here\r\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\r\n                .getResultList();\r\n\r\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\r\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\r\n        \r\n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\r\n                .getResultList();\r\n        \r\n        //Collecting the result into a dto\r\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\r\n                .stream()\r\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\r\n                .collect(Collectors.toList());\r\n\r\n        //Collecting the TempDataHoler into a map\r\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\r\n                .stream()\r\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\r\n\r\n        //using a loop, fetch the value from Map and set into the extra column\r\n        myTableList.forEach((mt) -&gt; {\r\n            mt.setNewCol(mapOfTableIdAndNewCol.get(mt.getId()));\r\n        });\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TempDataHolder {\r\n\r\n        private int tableId;\r\n        private int newCol;\r\n\r\n        public TempDataHolder(Number tableId, Number newCol) {\r\n            this.tableId = tableId.intValue();\r\n            this.newCol = newCol == null ? 0 : newCol.intValue();\r\n        }\r\n\r\n    }\r\n```\r\n    \r\nI am using the `TempDataHolder` just to make it easier. You can achieve your result without using any new DTO, just cast your `secondQueryResult` directly into `Map`.\r\n\r\n\r\nIf you exclusively want it to be casted on new class that you have mentioned.\r\n\r\n```JAVA\r\npublic void fetchAllData() {\r\n        //fetch all your MyTable here\r\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\r\n                .getResultList();\r\n\r\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\r\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\r\n        \r\n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\r\n                .getResultList();\r\n        \r\n        //Collecting the result into a dto\r\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\r\n                .stream()\r\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\r\n                .collect(Collectors.toList());\r\n\r\n        //Collecting the TempDataHoler into a map\r\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\r\n                .stream()\r\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\r\n\r\n       List&lt;newObj&gt; newObjList=new ArrayList&lt;&gt;(myTableList.size());\r\n        \r\n        for(MyTable mt : myTableList){\r\n            newObjList.add(new newObj(mt, mapOfTableIdAndNewCol.get(mt.getId())));\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TempDataHolder {\r\n\r\n        private int tableId;\r\n        private int newCol;\r\n\r\n        public TempDataHolder(Number tableId, Number newCol) {\r\n            this.tableId = tableId.intValue();\r\n            this.newCol = newCol == null ? 0 : newCol.intValue();\r\n        }\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    class newObj {\r\n\r\n        MyTable myTable;\r\n        int newCol;\r\n\r\n        public newObj(MyTable myTable, int newCol) {\r\n            this.myTable = myTable;\r\n            this.newCol = newCol;\r\n        }\r\n        \r\n        \r\n    }\r\n```\r\n\r\nLet me know if it worked. Good luck!\r\n","title":"JPA - add a field to existing entity","body":"<p>You can try the following, although you will have to fire one extra query.</p>\n<p>I am assuming you to put a</p>\n<pre><code>@Transient\nprivate int newCol;\n</code></pre>\n<p>into your MyTable Entity.</p>\n<pre><code>public void fetchAllData() {\n        //fetch all your MyTable here\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\n                .getResultList();\n\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\n        \n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\n                .getResultList();\n        \n        //Collecting the result into a dto\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\n                .stream()\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\n                .collect(Collectors.toList());\n\n        //Collecting the TempDataHoler into a map\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\n                .stream()\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\n\n        //using a loop, fetch the value from Map and set into the extra column\n        myTableList.forEach((mt) -&gt; {\n            mt.setNewCol(mapOfTableIdAndNewCol.get(mt.getId()));\n        });\n    }\n\n    @Getter\n    @Setter\n    public class TempDataHolder {\n\n        private int tableId;\n        private int newCol;\n\n        public TempDataHolder(Number tableId, Number newCol) {\n            this.tableId = tableId.intValue();\n            this.newCol = newCol == null ? 0 : newCol.intValue();\n        }\n\n    }\n</code></pre>\n<p>I am using the <code>TempDataHolder</code> just to make it easier. You can achieve your result without using any new DTO, just cast your <code>secondQueryResult</code> directly into <code>Map</code>.</p>\n<p>If you exclusively want it to be casted on new class that you have mentioned.</p>\n<pre><code>public void fetchAllData() {\n        //fetch all your MyTable here\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\n                .getResultList();\n\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\n        \n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\n                .getResultList();\n        \n        //Collecting the result into a dto\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\n                .stream()\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\n                .collect(Collectors.toList());\n\n        //Collecting the TempDataHoler into a map\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\n                .stream()\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\n\n       List&lt;newObj&gt; newObjList=new ArrayList&lt;&gt;(myTableList.size());\n        \n        for(MyTable mt : myTableList){\n            newObjList.add(new newObj(mt, mapOfTableIdAndNewCol.get(mt.getId())));\n        }\n    }\n\n    @Getter\n    @Setter\n    public class TempDataHolder {\n\n        private int tableId;\n        private int newCol;\n\n        public TempDataHolder(Number tableId, Number newCol) {\n            this.tableId = tableId.intValue();\n            this.newCol = newCol == null ? 0 : newCol.intValue();\n        }\n\n    }\n\n    @Getter\n    @Setter\n    class newObj {\n\n        MyTable myTable;\n        int newCol;\n\n        public newObj(MyTable myTable, int newCol) {\n            this.myTable = myTable;\n            this.newCol = newCol;\n        }\n        \n        \n    }\n</code></pre>\n<p>Let me know if it worked. Good luck!</p>\n"}],"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688655357,"creation_date":1687794344,"question_id":76558256,"body_markdown":"Say I have an entity class MyTable\r\n```\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\npublic class MyTable {\r\n\r\n@Id\r\nString a1\r\n\r\nString a2\r\n\r\nDouble a3\r\n...\r\n```\r\nand in only one query I need a new field on my entity class, that I get with a native query (it has to be a native query)\r\n\r\n```\r\n@Query(value = &quot;select my_table.*, 1 as newCol from my_table&quot;, nativeQuery=true)\r\nList&lt;???&gt; findExtraField();\r\n```\r\nmy_table has a lot of columns, making it cumbersome to map each and every one.\r\n\r\nHow can I get the query to return an objet of type \r\n```\r\nclass newObj {\r\n  MyTable myTable;\r\n  int newCol;\r\n}\r\n```\r\nwithout having to map each and every field of MyTable ?\r\n","title":"JPA - add a field to existing entity","body":"<p>Say I have an entity class MyTable</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyTable {\n\n@Id\nString a1\n\nString a2\n\nDouble a3\n...\n</code></pre>\n<p>and in only one query I need a new field on my entity class, that I get with a native query (it has to be a native query)</p>\n<pre><code>@Query(value = &quot;select my_table.*, 1 as newCol from my_table&quot;, nativeQuery=true)\nList&lt;???&gt; findExtraField();\n</code></pre>\n<p>my_table has a lot of columns, making it cumbersome to map each and every one.</p>\n<p>How can I get the query to return an objet of type</p>\n<pre><code>class newObj {\n  MyTable myTable;\n  int newCol;\n}\n</code></pre>\n<p>without having to map each and every field of MyTable ?</p>\n"},{"tags":["java","async-await"],"comments":[{"owner":{"account_id":173581,"reputation":14312,"user_id":402366,"accept_rate":60,"display_name":"Paulo Morgado"},"score":0,"creation_date":1655671609,"post_id":72664378,"comment_id":128381618,"body_markdown":"What&#39;s the stack trace of that exception?","body":"What&#39;s the stack trace of that exception?"},{"owner":{"account_id":15717556,"reputation":53,"user_id":11341376,"display_name":"jmdess"},"score":0,"creation_date":1655680667,"post_id":72664378,"comment_id":128382840,"body_markdown":"I edited my first post above with the stack trace (comment is limited in size)","body":"I edited my first post above with the stack trace (comment is limited in size)"}],"answers":[{"tags":[],"owner":{"account_id":19158878,"reputation":45,"user_id":13995125,"display_name":"Faraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688655134,"creation_date":1688655134,"answer_id":76630104,"question_id":72664378,"body_markdown":"Using PopAsync fixed the problem for me but it was still throwing the same exception at times. Somehow removing async &amp; await fixed it\r\n\r\n    Current.Navigation.PopAsync().ConfigureAwait(false);\r\n\r\n","title":"Exception : Specified cast is not valid","body":"<p>Using PopAsync fixed the problem for me but it was still throwing the same exception at times. Somehow removing async &amp; await fixed it</p>\n<pre><code>Current.Navigation.PopAsync().ConfigureAwait(false);\n</code></pre>\n"}],"owner":{"account_id":15717556,"reputation":53,"user_id":11341376,"display_name":"jmdess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688655134,"creation_date":1655496916,"question_id":72664378,"body_markdown":"**.net Maui Shell navigation :**  \r\nIn a Content page I have the following code\r\n\r\n    private async void Button_Clicked(object sender, EventArgs e)\r\n    \t{\r\n           await Shell.Current.GoToAsync(&quot;..&quot;);\r\n    \t}\r\nwhen I click the Button I receive -&gt; &quot;System.InvalidCastException: &#39;Specified cast is not valid.&#39;&quot;  \r\nBut if I delete **async** and **await**, I get to the MainPage without problem !!!  \r\nWhat am I doing wrong here ?\r\n\r\n \t0xFFFFFFFFFFFFFFFF in Android.Runtime.JNIEnv.monodroid_debugger_unhandled_exception\tC#\r\n \t0x14 in Android.Runtime.JNINativeWrapper._unhandled_exception at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:12,5\tC#\r\n \t0x1D in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:23,26\tC#\r\n \t0x17 in System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\tC#\r\n \t0x6 in System.Threading.Tasks.Task.&lt;&gt;c.&lt;ThrowAsync&gt;b__128_0\tC#\r\n \t0xC in Android.App.SyncContext. at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.App/SyncContext.cs:36,19\tC#\r\n \t0xE in Java.Lang.Thread.RunnableImplementor.Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Java.Lang/Thread.cs:36,6\tC#\r\n \t0x8 in Java.Lang.IRunnableInvoker.n_Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/obj/Release/net6.0/android-32/mcw/Java.Lang.IRunnable.cs:84,4\tC#\r\n \t0x8 in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:22,5\tC#\r\n\r\n","title":"Exception : Specified cast is not valid","body":"<p><strong>.net Maui Shell navigation :</strong><br />\nIn a Content page I have the following code</p>\n<pre><code>private async void Button_Clicked(object sender, EventArgs e)\n    {\n       await Shell.Current.GoToAsync(&quot;..&quot;);\n    }\n</code></pre>\n<p>when I click the Button I receive -&gt; &quot;System.InvalidCastException: 'Specified cast is not valid.'&quot;<br />\nBut if I delete <strong>async</strong> and <strong>await</strong>, I get to the MainPage without problem !!!<br />\nWhat am I doing wrong here ?</p>\n<pre><code>0xFFFFFFFFFFFFFFFF in Android.Runtime.JNIEnv.monodroid_debugger_unhandled_exception C#\n0x14 in Android.Runtime.JNINativeWrapper._unhandled_exception at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:12,5 C#\n0x1D in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:23,26    C#\n0x17 in System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw    C#\n0x6 in System.Threading.Tasks.Task.&lt;&gt;c.&lt;ThrowAsync&gt;b__128_0 C#\n0xC in Android.App.SyncContext. at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.App/SyncContext.cs:36,19 C#\n0xE in Java.Lang.Thread.RunnableImplementor.Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Java.Lang/Thread.cs:36,6 C#\n0x8 in Java.Lang.IRunnableInvoker.n_Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/obj/Release/net6.0/android-32/mcw/Java.Lang.IRunnable.cs:84,4    C#\n0x8 in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:22,5  C#\n</code></pre>\n"},{"tags":["java","stack"],"answers":[{"tags":[],"owner":{"account_id":25860471,"reputation":731,"user_id":19593035,"display_name":"rochard4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688628324,"creation_date":1688628324,"answer_id":76626420,"question_id":76626260,"body_markdown":"**False positive**:\r\n\r\nConsider the string `&quot;cabcc&quot;`, which cannot be rearranged to form a palindrome. Your code will first push `c` then push `a` then push `b` then remove `b` (since it is a stack and it found `c` in `cab`) then remove `a` (since it found `c` in `ca`).\r\n\r\nSince the stack has a length of 1, your program will output that `cabcc` can be rearranged into a palindrome when it cannot.\r\n\r\n**False negative**\r\n\r\nConsider the string `&quot;acac&quot;`, which can be rearranged to form a palindrome (`acca` for instance). Your code will first push `a` then push `c` then remove `c` (since it is a stack and it found `a` in `ac`) then push `c`. Resulting in a stack containing `ac`.\r\n\r\nSince the stack has a length of 2, your program will output that `acac` cannot be rearranged into a palindrome when it can.\r\n\r\n**How to fix**\r\n\r\nDo not use a stack. I suggest you use a map (check out hashmaps).","title":"Not passing hidden tests: checking if a string can be rearranged to form a palindrome","body":"<p><strong>False positive</strong>:</p>\n<p>Consider the string <code>&quot;cabcc&quot;</code>, which cannot be rearranged to form a palindrome. Your code will first push <code>c</code> then push <code>a</code> then push <code>b</code> then remove <code>b</code> (since it is a stack and it found <code>c</code> in <code>cab</code>) then remove <code>a</code> (since it found <code>c</code> in <code>ca</code>).</p>\n<p>Since the stack has a length of 1, your program will output that <code>cabcc</code> can be rearranged into a palindrome when it cannot.</p>\n<p><strong>False negative</strong></p>\n<p>Consider the string <code>&quot;acac&quot;</code>, which can be rearranged to form a palindrome (<code>acca</code> for instance). Your code will first push <code>a</code> then push <code>c</code> then remove <code>c</code> (since it is a stack and it found <code>a</code> in <code>ac</code>) then push <code>c</code>. Resulting in a stack containing <code>ac</code>.</p>\n<p>Since the stack has a length of 2, your program will output that <code>acac</code> cannot be rearranged into a palindrome when it can.</p>\n<p><strong>How to fix</strong></p>\n<p>Do not use a stack. I suggest you use a map (check out hashmaps).</p>\n"}],"owner":{"account_id":19146529,"reputation":87,"user_id":13985387,"display_name":"Ash Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76626420,"answer_count":1,"score":0,"last_activity_date":1688655035,"creation_date":1688627051,"question_id":76626260,"body_markdown":"I am trying to complete this question using a Stack:\r\nGiven a string, find out if its characters can be rearranged to form a palindrome.\r\n\r\nExample\r\n\r\nFor inputString = &quot;aabb&quot;, the output should be\r\nsolution(inputString) = true.\r\n\r\nWe can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.\r\n\r\n\r\nHowever, my code isn&#39;t passing 2 of the hidden tests and I am unsure as to why.\r\nHere is my code:\r\n\r\n```\r\nboolean solution(String inputString) {\r\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    for (int i = 0; i &lt; inputString.length(); i++) {\r\n        Character curr = inputString.charAt(i);\r\n        if (stack.contains(curr) == false) {\r\n            stack.push(curr);\r\n        }\r\n        else {\r\n            stack.pop();\r\n        }\r\n    }\r\n    if ((stack.size() == 0) || (stack.size() == 1)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nWhat is the error in my code?","title":"Not passing hidden tests: checking if a string can be rearranged to form a palindrome","body":"<p>I am trying to complete this question using a Stack:\nGiven a string, find out if its characters can be rearranged to form a palindrome.</p>\n<p>Example</p>\n<p>For inputString = &quot;aabb&quot;, the output should be\nsolution(inputString) = true.</p>\n<p>We can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.</p>\n<p>However, my code isn't passing 2 of the hidden tests and I am unsure as to why.\nHere is my code:</p>\n<pre><code>boolean solution(String inputString) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for (int i = 0; i &lt; inputString.length(); i++) {\n        Character curr = inputString.charAt(i);\n        if (stack.contains(curr) == false) {\n            stack.push(curr);\n        }\n        else {\n            stack.pop();\n        }\n    }\n    if ((stack.size() == 0) || (stack.size() == 1)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>What is the error in my code?</p>\n"},{"tags":["java","selenium-webdriver","junit","cucumber"],"answers":[{"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":2,"creation_date":1450774569,"post_id":34410148,"comment_id":56564739,"body_markdown":"Thanks for help , Now It says _ **No features found at [classpath:Cucumber_Sample/Feature]**","body":"Thanks for help , Now It says _ <b>No features found at [classpath:Cucumber_Sample/Feature]</b>"}],"tags":[],"owner":{"account_id":4743949,"reputation":63,"user_id":3835751,"display_name":"Peer Overbeck"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450767624,"creation_date":1450767624,"answer_id":34410148,"question_id":34408753,"body_markdown":"It seems like the runner is unable to find your feature file. Is it located in the resources? If it is, try referencing the whole classpath like\r\n\r\n    import org.junit.runner.RunWith;\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n\r\n        features = &quot;classpath:com/yourgroup/yourartifact/cucumber/features&quot;\r\n\r\n        )\r\n\r\n    public class TestRunner {\r\n\r\n    }\r\n\r\nAbove is just an example, of course you have to alter that classpath depending on where your features are located.","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>It seems like the runner is unable to find your feature file. Is it located in the resources? If it is, try referencing the whole classpath like</p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n\n    features = \"classpath:com/yourgroup/yourartifact/cucumber/features\"\n\n    )\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>Above is just an example, of course you have to alter that classpath depending on where your features are located.</p>\n"},{"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1450804111,"post_id":34418585,"comment_id":56583364,"body_markdown":"Should I need to create any other file for stepsDefinitions?","body":"Should I need to create any other file for stepsDefinitions?"},{"owner":{"account_id":5965700,"reputation":692,"user_id":4689542,"display_name":"Dude"},"score":0,"creation_date":1450910603,"post_id":34418585,"comment_id":56631557,"body_markdown":"Can you provide your project structure? I thinknthis isba path Problem. One step Definition file is enough for now.","body":"Can you provide your project structure? I thinknthis isba path Problem. One step Definition file is enough for now."}],"tags":[],"owner":{"account_id":5965700,"reputation":692,"user_id":4689542,"display_name":"Dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450796147,"creation_date":1450796147,"answer_id":34418585,"question_id":34408753,"body_markdown":"You need to reference the location of your features and your step definitions. the runner should look something like this: \r\n\r\n    import org.junit.runner.RunWith;\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n        features = {&quot;path/to/features/&quot;},\r\n        glue = {&quot;classpath:package.name.of.stepsDefinitions&quot;},\r\n    )\r\n\r\n    public class TestRunner {\r\n\r\n    }\r\n\r\nNote the **path notation** for the **feature files** \r\nand the **package notation** for the **glue code** (step definitions)","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>You need to reference the location of your features and your step definitions. the runner should look something like this: </p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n    features = {\"path/to/features/\"},\n    glue = {\"classpath:package.name.of.stepsDefinitions\"},\n)\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>Note the <strong>path notation</strong> for the <strong>feature files</strong> \nand the <strong>package notation</strong> for the <strong>glue code</strong> (step definitions)</p>\n"},{"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1450930286,"post_id":34441815,"comment_id":56636263,"body_markdown":"Thanks , I am getting result better than before but still there is some issue , please check my updated question.","body":"Thanks , I am getting result better than before but still there is some issue , please check my updated question."},{"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"score":1,"creation_date":1450966560,"post_id":34441815,"comment_id":56649663,"body_markdown":"Oh You didn&#39;t created step definition that&#39;s the problem. When you run runner file, It will create step definition, You copy all that step definition and put in cucumber_test and write code in each step.  Run your runner file and You should able to see step definition function console out put and copy that put in cucumber_test. It will have pending exception. Remove that pending exception and put your code according to each step.","body":"Oh You didn&#39;t created step definition that&#39;s the problem. When you run runner file, It will create step definition, You copy all that step definition and put in cucumber_test and write code in each step.  Run your runner file and You should able to see step definition function console out put and copy that put in cucumber_test. It will have pending exception. Remove that pending exception and put your code according to each step."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1451140314,"post_id":34441815,"comment_id":56685663,"body_markdown":"Sure I will try. Thanks.","body":"Sure I will try. Thanks."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1451295202,"post_id":34441815,"comment_id":56723504,"body_markdown":"Where it generate step definition file? can you please help me to find that?","body":"Where it generate step definition file? can you please help me to find that?"},{"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"score":0,"creation_date":1451316484,"post_id":34441815,"comment_id":56733805,"body_markdown":"When you run runner file, It will generate in console output. If you have right configuration, It should generate step definition.","body":"When you run runner file, It will generate in console output. If you have right configuration, It should generate step definition."}],"tags":[],"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450896132,"creation_date":1450896132,"answer_id":34441815,"question_id":34408753,"body_markdown":"I believe you still facing same problem. You could try this.\r\n\r\n \r\n\r\n   \r\n\r\n \r\n\r\n     import org.junit.runner.RunWith;\r\n    \r\n       import cucumber.api.CucumberOptions;\r\n       import cucumber.api.junit.Cucumber;\r\n    \r\n    \r\n       @RunWith(Cucumber.class)@CucumberOptions(plugin = {\r\n       \t&quot;pretty&quot;, &quot;json:target/Open-Google-WebSite.json&quot;},\r\n       features = {&quot;src/test/FeatureFilePackage&quot;},\r\n       glue = {&quot;com.java.cucumber_test&quot;})\r\n    \r\n        public class TestRunner {\r\n    \r\n       }\r\n          \r\n        \r\n           ","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>I believe you still facing same problem. You could try this.</p>\n\n<pre><code> import org.junit.runner.RunWith;\n\n   import cucumber.api.CucumberOptions;\n   import cucumber.api.junit.Cucumber;\n\n\n   @RunWith(Cucumber.class)@CucumberOptions(plugin = {\n    \"pretty\", \"json:target/Open-Google-WebSite.json\"},\n   features = {\"src/test/FeatureFilePackage\"},\n   glue = {\"com.java.cucumber_test\"})\n\n    public class TestRunner {\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480356489,"creation_date":1480356489,"answer_id":40850776,"question_id":34408753,"body_markdown":"it seems your test is running through testng which is not showing any specific error i would recommend you remove testNg dependency from your pom file run your test (through Junit) and you will be able to see specific error and after resolving it you will able to run your class easily \r\n\r\nexpected error might be &quot;duplicate step defination&quot;  ","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>it seems your test is running through testng which is not showing any specific error i would recommend you remove testNg dependency from your pom file run your test (through Junit) and you will be able to see specific error and after resolving it you will able to run your class easily </p>\n\n<p>expected error might be \"duplicate step defination\"  </p>\n"}],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688654943,"creation_date":1450760612,"question_id":34408753,"body_markdown":"Already tried almost all solutions which are on SO but still missing something here.\r\n\r\nI have created simple JAVA program, Added Feature file and Class for cucumber. When I run I am getting output :\r\n\r\n\r\n&gt;   @Search   Scenario Outline: Successful Open Google.com [90m#\r\n&gt; Open_Google.feature:4[0m\r\n&gt;     [36mGiven [0m[36mUser is with blank page[0m\r\n&gt;     [36mWhen [0m[36mUser enter URL[0m\r\n&gt;     [36mThen [0m[36mGoogle WebSite should open[0m\r\n&gt; \r\n&gt;0 Scenarios \r\n&gt;  \r\n&gt;  0 Steps\r\n&gt; \r\n&gt; 0m0.000s\r\n\r\n**Feature File :**\r\n\r\n    Feature: Open Google WebSite\r\n\r\n    @Search\r\n    Scenario Outline: Successful Open Google.com\r\n    Given User is with blank page\r\n    When User enter URL\r\n    Then Google WebSite should open \r\n\r\n**Test Runner Class :**\r\n\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\t\r\n    \t\tfeatures = &quot;Feature&quot;\r\n    \t\t\r\n    \t\t)\r\n    \r\n    public class TestRunner {\r\n    \r\n    }\r\n\r\n**Test Case Class :**\r\n\r\n    public class cucumber_test {\r\n    \t\r\n    \tpublic static WebDriver driver;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\t\r\n    \t\tdriver.get(&quot;http://www.google.com&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Google open successfully&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nUsing Selenium Webdriver, JAVA, Junit and cucumber.\r\n\r\nAlso Am I doing right? Is it correct method to use cucumber?","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>Already tried almost all solutions which are on SO but still missing something here.</p>\n\n<p>I have created simple JAVA program, Added Feature file and Class for cucumber. When I run I am getting output :</p>\n\n<blockquote>\n  <p>@Search   Scenario Outline: Successful Open Google.com [90m#\n  Open_Google.feature:4[0m\n      [36mGiven [0m[36mUser is with blank page[0m\n      [36mWhen [0m[36mUser enter URL[0m\n      [36mThen [0m[36mGoogle WebSite should open[0m</p>\n  \n  <p>0 Scenarios </p>\n  \n  <p>0 Steps</p>\n  \n  <p>0m0.000s</p>\n</blockquote>\n\n<p><strong>Feature File :</strong></p>\n\n<pre><code>Feature: Open Google WebSite\n\n@Search\nScenario Outline: Successful Open Google.com\nGiven User is with blank page\nWhen User enter URL\nThen Google WebSite should open \n</code></pre>\n\n<p><strong>Test Runner Class :</strong></p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n\n        features = \"Feature\"\n\n        )\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p><strong>Test Case Class :</strong></p>\n\n<pre><code>public class cucumber_test {\n\n    public static WebDriver driver;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n\n\n        System.setProperty(\"webdriver.chrome.driver\", \"D:\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n\n        driver.get(\"http://www.google.com\");\n        driver.manage().window().maximize();\n\n        System.out.println(\"Google open successfully\");\n    }\n\n}\n</code></pre>\n\n<p>Using Selenium Webdriver, JAVA, Junit and cucumber.</p>\n\n<p>Also Am I doing right? Is it correct method to use cucumber?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1688056108,"post_id":76582928,"comment_id":135025753,"body_markdown":"Does this answer your question? [how to check screen on/off status in onStop()?](https://stackoverflow.com/questions/19350258/how-to-check-screen-on-off-status-in-onstop)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19350258/how-to-check-screen-on-off-status-in-onstop\">how to check screen on/off status in onStop()?</a>"},{"owner":{"account_id":9833548,"reputation":404,"user_id":7284577,"accept_rate":91,"display_name":"Vit"},"score":0,"creation_date":1688641190,"post_id":76582928,"comment_id":135102520,"body_markdown":"@C.F.G - seems it is working. Thanks! Will accept if you will post answer.","body":"@C.F.G - seems it is working. Thanks! Will accept if you will post answer."}],"answers":[{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688654915,"creation_date":1688654915,"answer_id":76630077,"question_id":76582928,"body_markdown":"**In Activity:**\r\n\r\n    PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n\r\n    boolean isScreenOn = pm.isInteractive();\r\n\r\n**In Fragment:**\r\n\r\n    PowerManager pm = (PowerManager) requireContext().getSystemService(Context.POWER_SERVICE);\r\n    boolean isScreenOn = pm.isInteractive();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rGwH1.png","title":"Android Java Service to detect screen state","body":"<p><strong>In Activity:</strong></p>\n<pre><code>PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n\nboolean isScreenOn = pm.isInteractive();\n</code></pre>\n<p><strong>In Fragment:</strong></p>\n<pre><code>PowerManager pm = (PowerManager) requireContext().getSystemService(Context.POWER_SERVICE);\nboolean isScreenOn = pm.isInteractive();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rGwH1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rGwH1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9833548,"reputation":404,"user_id":7284577,"accept_rate":91,"display_name":"Vit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630077,"answer_count":1,"score":1,"last_activity_date":1688654915,"creation_date":1688055850,"question_id":76582928,"body_markdown":"I am PHP, in oher words newby in JAVA.\r\nI wrote service which every second checks if the screen is on or off, but need help, cuz at last step my Log.d shows &quot;on off on off..&quot; instead of showing &quot;on on on...&quot; when screen is on (and &quot;off off off...&quot; when screen is OFF.\r\n\r\nSimple main activity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final String TAG = &quot;TAGG&quot;;\r\n        private Button startServiceButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            startServiceButton = findViewById(R.id.startService);\r\n            startServiceButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startService(new Intent(getApplication(), MyService.class));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n..and receiver:\r\n\r\n    public class ScreenReceiver extends BroadcastReceiver {\r\n        private boolean screenOff;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n                screenOff = true;\r\n            } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n                screenOff = false;\r\n            }\r\n            Intent i = new Intent(context, MyService.class);\r\n            i.putExtra(&quot;screen_state&quot;, screenOff);\r\n            context.startService(i);\r\n        }\r\n    }\r\n\r\n.. and here is the problem:\r\n\r\n    public class MyService extends Service {\r\n    \r\n        private  static final String TAG = &quot;TAGG&quot;;\r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n        public int xMin = 1*60*24*30;//work a month\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n    \r\n            CountDownTimer countDownTimer =  new CountDownTimer(\r\n                    60000*xMin,1000){\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    Log.e(TAG, &quot;onTick: &quot;+millisUntilFinished/1000 );\r\n    \r\n                    boolean screenOn = intent.getBooleanExtra(&quot;screen_state&quot;, false);\r\n    \r\n                    if (!screenOn) {\r\n                        Log.d(TAG, &quot;onTick: OFF&quot;);\r\n                    } else {\r\n                        Log.d(TAG, &quot;onTick: ON&quot;);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    Log.e(TAG, &quot;onFinish: &quot; );\r\n                }\r\n            }.start();\r\n    \r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // REGISTER RECEIVER THAT HANDLES SCREEN ON AND SCREEN OFF LOGIC\r\n            IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n            filter.addAction(Intent.ACTION_SCREEN_OFF);\r\n            BroadcastReceiver mReceiver = new ScreenReceiver();\r\n            registerReceiver(mReceiver, filter);\r\n        }\r\n    }\r\n\r\nFirst main ask:\r\nPlease tell me how to correctly output state of screen each second.\r\n\r\nSecond ask:\r\nps General idea - is to create a service which starts after button press and then checks/modifies every second system parameter only when the screen is on (the app can be minimised). When screen is off it would be good to pause service, but did not found out how. How to check system parameter I know. Maybe there is simple way to do this then my way?","title":"Android Java Service to detect screen state","body":"<p>I am PHP, in oher words newby in JAVA.\nI wrote service which every second checks if the screen is on or off, but need help, cuz at last step my Log.d shows &quot;on off on off..&quot; instead of showing &quot;on on on...&quot; when screen is on (and &quot;off off off...&quot; when screen is OFF.</p>\n<p>Simple main activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;TAGG&quot;;\n    private Button startServiceButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        startServiceButton = findViewById(R.id.startService);\n        startServiceButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startService(new Intent(getApplication(), MyService.class));\n            }\n        });\n    }\n}\n</code></pre>\n<p>..and receiver:</p>\n<pre><code>public class ScreenReceiver extends BroadcastReceiver {\n    private boolean screenOff;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n            screenOff = true;\n        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n            screenOff = false;\n        }\n        Intent i = new Intent(context, MyService.class);\n        i.putExtra(&quot;screen_state&quot;, screenOff);\n        context.startService(i);\n    }\n}\n</code></pre>\n<p>.. and here is the problem:</p>\n<pre><code>public class MyService extends Service {\n\n    private  static final String TAG = &quot;TAGG&quot;;\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n    public int xMin = 1*60*24*30;//work a month\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        CountDownTimer countDownTimer =  new CountDownTimer(\n                60000*xMin,1000){\n            @Override\n            public void onTick(long millisUntilFinished) {\n                Log.e(TAG, &quot;onTick: &quot;+millisUntilFinished/1000 );\n\n                boolean screenOn = intent.getBooleanExtra(&quot;screen_state&quot;, false);\n\n                if (!screenOn) {\n                    Log.d(TAG, &quot;onTick: OFF&quot;);\n                } else {\n                    Log.d(TAG, &quot;onTick: ON&quot;);\n                }\n            }\n\n            @Override\n            public void onFinish() {\n                Log.e(TAG, &quot;onFinish: &quot; );\n            }\n        }.start();\n\n        return START_STICKY;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // REGISTER RECEIVER THAT HANDLES SCREEN ON AND SCREEN OFF LOGIC\n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\n        BroadcastReceiver mReceiver = new ScreenReceiver();\n        registerReceiver(mReceiver, filter);\n    }\n}\n</code></pre>\n<p>First main ask:\nPlease tell me how to correctly output state of screen each second.</p>\n<p>Second ask:\nps General idea - is to create a service which starts after button press and then checks/modifies every second system parameter only when the screen is on (the app can be minimised). When screen is off it would be good to pause service, but did not found out how. How to check system parameter I know. Maybe there is simple way to do this then my way?</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":5377941,"reputation":3099,"user_id":4284170,"accept_rate":100,"display_name":"Abslen Char"},"score":2,"creation_date":1519078770,"post_id":48875046,"comment_id":84753988,"body_markdown":"can you provide us witht the code that you already tried and didnt work ?","body":"can you provide us witht the code that you already tried and didnt work ?"},{"owner":{"account_id":12282009,"reputation":309,"user_id":8963218,"accept_rate":23,"display_name":"Chadillac"},"score":0,"creation_date":1519079296,"post_id":48875046,"comment_id":84754167,"body_markdown":"It has been posted above","body":"It has been posted above"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1519079409,"post_id":48875046,"comment_id":84754214,"body_markdown":"can you change `image png content type` to `image/png` and try the code again?","body":"can you change <code>image png content type</code> to <code>image&#47;png</code> and try the code again?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1519079506,"post_id":48875046,"comment_id":84754247,"body_markdown":"`image/*` is not a useful content type. `image/jpeg` is.","body":"<code>image&#47;*</code> is not a useful content type. <code>image&#47;jpeg</code> is."}],"answers":[{"tags":[],"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688654722,"creation_date":1519080485,"answer_id":48875341,"question_id":48875046,"body_markdown":"Change your `Content-Type` to `image/png`, considering that your image in S3 is in `.png` format. You need to set the appropriate content type as set in your S3 bucket. For example, if it is a text, set it as `text/plain`. Similarly for image, set it to `image/png`. Also, your file content type should not be `binary/octet-stream`, otherwise, it won&#39;t open up, rather it will download then.","title":"Images in my s3 bucket will not open in the browser, they will only download","body":"<p>Change your <code>Content-Type</code> to <code>image/png</code>, considering that your image in S3 is in <code>.png</code> format. You need to set the appropriate content type as set in your S3 bucket. For example, if it is a text, set it as <code>text/plain</code>. Similarly for image, set it to <code>image/png</code>. Also, your file content type should not be <code>binary/octet-stream</code>, otherwise, it won't open up, rather it will download then.</p>\n"}],"owner":{"account_id":12282009,"reputation":309,"user_id":8963218,"accept_rate":23,"display_name":"Chadillac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9024,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48875341,"answer_count":1,"score":2,"last_activity_date":1688654722,"creation_date":1519078697,"question_id":48875046,"body_markdown":"How do I open an image on my s3 bucket in the browser?\r\n\r\nI have setup an Amazon s3 bucket to host my webapp&#39;s images, the issue I am having is that when I click on the image&#39;s link, it will download the image instead of displaying it in the browser. \r\n\r\n 1. I have set the metadata to be &#39;Content-Type: image/*&#39;\r\n 2. I have set the permissions to be public \r\n\r\nThis is the code I am using:\r\n\r\n    private void uploadFileTos3bucket(String fileName, MultipartFile file) \r\n    { \r\n        try\r\n            (InputStream is = file.getInputStream()) \r\n                { ObjectMetadata metadata = new ObjectMetadata(); \r\n                  metadata.setContentLength(file.getBytes().length); \r\n                  metadata.setLastModified(new Date()); \r\n                  metadata.setContentType(&quot;image/*&quot;); s3client.putObject(new \r\n                  PutObjectRequest(bucketName, fileName, is, metadata).withCannedAcl(CannedAccessControlList.PublicRead)); }        \r\n                  catch(IOException e) { e.printStackTrace(); \r\n                } \r\n        }\r\n\r\nDoes anyone have any other ideas or solutions? \r\n\r\n","title":"Images in my s3 bucket will not open in the browser, they will only download","body":"<p>How do I open an image on my s3 bucket in the browser?</p>\n\n<p>I have setup an Amazon s3 bucket to host my webapp's images, the issue I am having is that when I click on the image's link, it will download the image instead of displaying it in the browser. </p>\n\n<ol>\n<li>I have set the metadata to be 'Content-Type: image/*'</li>\n<li>I have set the permissions to be public </li>\n</ol>\n\n<p>This is the code I am using:</p>\n\n<pre><code>private void uploadFileTos3bucket(String fileName, MultipartFile file) \n{ \n    try\n        (InputStream is = file.getInputStream()) \n            { ObjectMetadata metadata = new ObjectMetadata(); \n              metadata.setContentLength(file.getBytes().length); \n              metadata.setLastModified(new Date()); \n              metadata.setContentType(\"image/*\"); s3client.putObject(new \n              PutObjectRequest(bucketName, fileName, is, metadata).withCannedAcl(CannedAccessControlList.PublicRead)); }        \n              catch(IOException e) { e.printStackTrace(); \n            } \n    }\n</code></pre>\n\n<p>Does anyone have any other ideas or solutions? </p>\n"},{"tags":["java","spring","spring-boot","spring-ws","jakarta-migration"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688709178,"post_id":76629966,"comment_id":135112728,"body_markdown":"Instead of renaming the property did you actually have a try with the old property and a new class.","body":"Instead of renaming the property did you actually have a try with the old property and a new class."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1688737661,"post_id":76629966,"comment_id":135118059,"body_markdown":"Yes. Same error.","body":"Yes. Same error."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688885426,"post_id":76629966,"comment_id":135132250,"body_markdown":"Try `org.glassfish.jaxb.namespacePrefixMapper` instead.","body":"Try <code>org.glassfish.jaxb.namespacePrefixMapper</code> instead."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1689033196,"post_id":76629966,"comment_id":135153052,"body_markdown":"Not supported too.","body":"Not supported too."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689052714,"post_id":76629966,"comment_id":135154590,"body_markdown":"Then which JAXB implementation are you using? Spring Boot uses the Glassfish one.","body":"Then which JAXB implementation are you using? Spring Boot uses the Glassfish one."}],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688654216,"creation_date":1688654216,"question_id":76629966,"body_markdown":"I&#39;m using `org.springframework.oxm.jaxb.Jaxb2Marshaller` with Spring boot 3 to generated the soap envelope.\r\n\r\nAt the config, the marshaller is set this way:\r\n\r\n    @Bean\r\n    Jaxb2Marshaller marshalle() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;providers.nos.ws.client&quot;); \r\n        return marshaller;\r\n    }\r\n\r\nAccording to many posts, the way to customize the namespaces alias is by providing a NamespacePrefixMapper like this:\r\n\r\n    marshaller.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\r\n       @Override\r\n       public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\r\n                return &quot;ns1&quot;;\r\n       }\r\n    });\r\nBut this only work for old JAXB that is no longer supported since Java 11, if i&#39;m not mistaken.\r\n\r\nThe `setProperty` is no longer available. My best guess is adding the following code:\r\n\r\n    var prefixMapper = new NamespacePrefixMapper(){\r\n            @Override\r\n            public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\r\n                return &quot;ns1&quot;;\r\n            }\r\n    };\r\n    Map&lt;String, ?&gt; map =   new HashMap&lt;&gt;(){\r\n  \t    {\r\n    \t   put(&quot;jakarta.xml.bind.namespacePrefixMapper&quot;,prefixMapper);\r\n    \t}\r\n    };\r\n          \r\n    marshaller.setJaxbContextProperties(map);\r\nBut it fails with:\r\n\r\n    jakarta.xml.bind.JAXBException: property &quot;jakarta.xml.bind.namespacePrefixMapper&quot; is not supported.\r\n\r\nI can&#39;t find the right bind constant and i&#39;m not even sure if this is the right path.\r\n\r\nHow can i customize the namespaces alias?","title":"How to set namespace alias with Jaxb2Marshaller?","body":"<p>I'm using <code>org.springframework.oxm.jaxb.Jaxb2Marshaller</code> with Spring boot 3 to generated the soap envelope.</p>\n<p>At the config, the marshaller is set this way:</p>\n<pre><code>@Bean\nJaxb2Marshaller marshalle() {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(&quot;providers.nos.ws.client&quot;); \n    return marshaller;\n}\n</code></pre>\n<p>According to many posts, the way to customize the namespaces alias is by providing a NamespacePrefixMapper like this:</p>\n<pre><code>marshaller.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\n   @Override\n   public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\n            return &quot;ns1&quot;;\n   }\n});\n</code></pre>\n<p>But this only work for old JAXB that is no longer supported since Java 11, if i'm not mistaken.</p>\n<p>The <code>setProperty</code> is no longer available. My best guess is adding the following code:</p>\n<pre><code>var prefixMapper = new NamespacePrefixMapper(){\n        @Override\n        public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\n            return &quot;ns1&quot;;\n        }\n};\nMap&lt;String, ?&gt; map =   new HashMap&lt;&gt;(){\n    {\n       put(&quot;jakarta.xml.bind.namespacePrefixMapper&quot;,prefixMapper);\n    }\n};\n      \nmarshaller.setJaxbContextProperties(map);\n</code></pre>\n<p>But it fails with:</p>\n<pre><code>jakarta.xml.bind.JAXBException: property &quot;jakarta.xml.bind.namespacePrefixMapper&quot; is not supported.\n</code></pre>\n<p>I can't find the right bind constant and i'm not even sure if this is the right path.</p>\n<p>How can i customize the namespaces alias?</p>\n"},{"tags":["java","jena","tdb"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1688679540,"post_id":76629883,"comment_id":135110232,"body_markdown":"Was there also an exception? Add `catch (Throwable) { th.printStackTrace(); }` before the finally to find out why the commit was missed which may be an OOME. Try `org.apache.jena.tdb.transaction.TransactionManager.QueueBatchSize = 0`. This is one of the design issues that is fixed by TDB2.","body":"Was there also an exception? Add <code>catch (Throwable) { th.printStackTrace(); }</code> before the finally to find out why the commit was missed which may be an OOME. Try <code>org.apache.jena.tdb.transaction.TransactionManager.QueueBatc&zwnj;&#8203;hSize = 0</code>. This is one of the design issues that is fixed by TDB2."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1688679591,"post_id":76629883,"comment_id":135110239,"body_markdown":"`dataset.getGraph(....).remove(s, p, o);` slice-delete should do the paging for you.","body":"<code>dataset.getGraph(....).remove(s, p, o);</code> slice-delete should do the paging for you."}],"owner":{"account_id":10501945,"reputation":21,"user_id":7740417,"display_name":"vivss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653690,"creation_date":1688653690,"question_id":76629883,"body_markdown":"I&#39;m trying to clear a moderately large TDB graph, around 13 million triples, so I&#39;m paginating the triples retrieval to avoid OutOfMemory issues. Here&#39;s my code:\r\n\r\n```\r\nprivate void clearDataset() {\r\n\t\t\r\n\tint offset = 0;\r\n\tint page = 1;\r\n\tlong totalTriples = getModelSize();\r\n\t\t\r\n\twhile (offset &lt; totalTriples) {\r\n\t\tStmtIterator modelPage = getModelPage();\t\t\r\n\t\tdataset.begin(ReadWrite.WRITE);\r\n\t\t\t\r\n\t\ttry {\t\t\t\r\n\t\t\tm = dataset.getNamedModel(graph);\r\n\t\t\tm.remove(modelPage);\r\n\t\t\tdataset.commit();\r\n\t\t\toffset = PAGE_SIZE * page++;\t\t\r\n\t\t}\t\r\n\t\tfinally { \r\n\t\t\tdataset.end(); \t\t\r\n\t\t}\t\r\n\t\tSystem.out.println(&quot;Remaining triples: &quot; + getModelSize());\r\n\t}\r\n}\r\n\r\nprivate StmtIterator getModelPage() {\r\n\t\t\r\n\tModel submodel = ModelFactory.createDefaultModel();\r\n\tString query = &quot;SELECT ?s ?p ?o WHERE {?s ?p ?o .} LIMIT &quot; + PAGE_SIZE;\t\r\n\tdataset.begin(ReadWrite.READ);\r\n\t\r\n\ttry {\t\r\n\t\tm = dataset.getNamedModel(graph);\r\n\t\tQueryExecution qe = QueryExecutionFactory.create(query, m);\r\n\t\tResultSet resultSet = qe.execSelect();\r\n\r\n\t\twhile (resultSet.hasNext()) {\r\n\t\t\tQuerySolution next = resultSet.next();\r\n\t\t\tResource subject = next.getResource(&quot;?s&quot;);\r\n\t\t\tProperty predicate = submodel.createProperty(next.get(&quot;?p&quot;).toString());\r\n\t\t\tRDFNode object = next.get(&quot;?o&quot;);\r\n\t\t\tsubmodel.add(subject, predicate, object);\r\n\t\t}\r\n\t}\r\n\tfinally { \r\n\t\tdataset.end(); \r\n\t}\r\n\t\t\r\n\treturn submodel.listStatements();\r\n}\r\n\r\nprivate long getModelSize() {\r\n\t\t\r\n\tlong modelSize = 0;\r\n\tdataset.begin(ReadWrite.READ);\r\n\t\t\r\n\ttry {\t\r\n\t\tm = dataset.getNamedModel(graph);\r\n\t\tmodelSize = m.size();\r\n\t}\r\n\tfinally { \r\n\t\tdataset.end(); \r\n\t}\t\r\n\treturn modelSize;\r\n}\r\n```\r\n\r\nIt works fine for a small graph, less than 1 million triples, only I use an also small `PAGE_SIZE` so it&#39;s not done in a single pass and I can check the pagination:\r\n\r\n```\r\nRemaining triples: 613244\r\nRemaining triples: 513244\r\nRemaining triples: 413244\r\nRemaining triples: 313244\r\nRemaining triples: 213244\r\nRemaining triples: 113244\r\nRemaining triples: 13244\r\nRemaining triples: 0\r\n```\r\n\r\nFor the larger graph, I&#39;m using `PAGE_SIZE = 1000000`. It goes fine for a couple of pages, then crashes:\r\n\r\n```\r\nRemaining triples: 12338413\r\nRemaining triples: 11338413\r\nRemaining triples: 10338413\r\nRemaining triples: 9338413\r\nRemaining triples: 8338413\r\norg.apache.jena.sparql.JenaTransactionException: end() called for WRITE transaction without commit or abort having been called. This causes a forced abort.\r\n        at org.apache.jena.tdb.transaction.Transaction.close(Transaction.java:363)\r\n        at org.apache.jena.tdb.transaction.DatasetGraphTxn.end(DatasetGraphTxn.java:77)\r\n        at org.apache.jena.tdb.transaction.DatasetGraphTransaction.end(DatasetGraphTransaction.java:223)\r\n        at org.apache.jena.sparql.core.DatasetImpl.end(DatasetImpl.java:164)\r\n\t\t...\r\n```\r\n\r\nSomething is making it skip the `commit()` halfway. I wonder if there is still some memory issue in disguise. Would the `PAGE_SIZE` have something to do with it? Or have I missed something else?","title":"Can&#39;t finish clearing TDB graph - JenaTransactionException: end() called for WRITE transaction without commit or abort having been called","body":"<p>I'm trying to clear a moderately large TDB graph, around 13 million triples, so I'm paginating the triples retrieval to avoid OutOfMemory issues. Here's my code:</p>\n<pre><code>private void clearDataset() {\n        \n    int offset = 0;\n    int page = 1;\n    long totalTriples = getModelSize();\n        \n    while (offset &lt; totalTriples) {\n        StmtIterator modelPage = getModelPage();        \n        dataset.begin(ReadWrite.WRITE);\n            \n        try {           \n            m = dataset.getNamedModel(graph);\n            m.remove(modelPage);\n            dataset.commit();\n            offset = PAGE_SIZE * page++;        \n        }   \n        finally { \n            dataset.end();      \n        }   \n        System.out.println(&quot;Remaining triples: &quot; + getModelSize());\n    }\n}\n\nprivate StmtIterator getModelPage() {\n        \n    Model submodel = ModelFactory.createDefaultModel();\n    String query = &quot;SELECT ?s ?p ?o WHERE {?s ?p ?o .} LIMIT &quot; + PAGE_SIZE; \n    dataset.begin(ReadWrite.READ);\n    \n    try {   \n        m = dataset.getNamedModel(graph);\n        QueryExecution qe = QueryExecutionFactory.create(query, m);\n        ResultSet resultSet = qe.execSelect();\n\n        while (resultSet.hasNext()) {\n            QuerySolution next = resultSet.next();\n            Resource subject = next.getResource(&quot;?s&quot;);\n            Property predicate = submodel.createProperty(next.get(&quot;?p&quot;).toString());\n            RDFNode object = next.get(&quot;?o&quot;);\n            submodel.add(subject, predicate, object);\n        }\n    }\n    finally { \n        dataset.end(); \n    }\n        \n    return submodel.listStatements();\n}\n\nprivate long getModelSize() {\n        \n    long modelSize = 0;\n    dataset.begin(ReadWrite.READ);\n        \n    try {   \n        m = dataset.getNamedModel(graph);\n        modelSize = m.size();\n    }\n    finally { \n        dataset.end(); \n    }   \n    return modelSize;\n}\n</code></pre>\n<p>It works fine for a small graph, less than 1 million triples, only I use an also small <code>PAGE_SIZE</code> so it's not done in a single pass and I can check the pagination:</p>\n<pre><code>Remaining triples: 613244\nRemaining triples: 513244\nRemaining triples: 413244\nRemaining triples: 313244\nRemaining triples: 213244\nRemaining triples: 113244\nRemaining triples: 13244\nRemaining triples: 0\n</code></pre>\n<p>For the larger graph, I'm using <code>PAGE_SIZE = 1000000</code>. It goes fine for a couple of pages, then crashes:</p>\n<pre><code>Remaining triples: 12338413\nRemaining triples: 11338413\nRemaining triples: 10338413\nRemaining triples: 9338413\nRemaining triples: 8338413\norg.apache.jena.sparql.JenaTransactionException: end() called for WRITE transaction without commit or abort having been called. This causes a forced abort.\n        at org.apache.jena.tdb.transaction.Transaction.close(Transaction.java:363)\n        at org.apache.jena.tdb.transaction.DatasetGraphTxn.end(DatasetGraphTxn.java:77)\n        at org.apache.jena.tdb.transaction.DatasetGraphTransaction.end(DatasetGraphTransaction.java:223)\n        at org.apache.jena.sparql.core.DatasetImpl.end(DatasetImpl.java:164)\n        ...\n</code></pre>\n<p>Something is making it skip the <code>commit()</code> halfway. I wonder if there is still some memory issue in disguise. Would the <code>PAGE_SIZE</code> have something to do with it? Or have I missed something else?</p>\n"},{"tags":["java","oracle-adf","jdeveloper"],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653608,"creation_date":1688637721,"question_id":76627670,"body_markdown":"There are two buttons on the page: a RESET button and a SEARCH button - if I press the SEARCH button it finds a record (by a certain field), then if I immediately press the RESET button it resets the record from the grid everything is fine! But if I sat down after the Search Command, I will sort by any field in the grid and press reset, then it displays all the records in the grid? How to fix it? According to the code, there is no request for it to take and display all records. Here is my code .jsff\r\n\r\n```\r\n`&lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Search&quot; disclosed=&quot;true&quot;\r\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\r\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\r\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\r\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\r\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\r\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;`\r\n```\r\n\r\nHere is my Java code:\r\n\r\n```\r\n`    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\r\n        log.info(&quot;STEP 1: &quot;+queryOperationEvent);\r\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\r\n                       ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\r\n                       object.executeEmptyRowSet();\r\n                       oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\r\n                       object.applyViewCriteria(criteria);\r\n                       result = false;\r\n                   }\r\n    }`\r\n```\r\n\r\nWhat could be the problem? please help.\r\n\r\nI put down the logs and looked at what I get at each step, but this did not help me understand the reason","title":"How to reset search in Oracle JDeveloper","body":"<p>There are two buttons on the page: a RESET button and a SEARCH button - if I press the SEARCH button it finds a record (by a certain field), then if I immediately press the RESET button it resets the record from the grid everything is fine! But if I sat down after the Search Command, I will sort by any field in the grid and press reset, then it displays all the records in the grid? How to fix it? According to the code, there is no request for it to take and display all records. Here is my code .jsff</p>\n<pre><code>`&lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Search&quot; disclosed=&quot;true&quot;\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;`\n</code></pre>\n<p>Here is my Java code:</p>\n<pre><code>`    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\n        log.info(&quot;STEP 1: &quot;+queryOperationEvent);\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\n                       ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\n                       object.executeEmptyRowSet();\n                       oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\n                       object.applyViewCriteria(criteria);\n                       result = false;\n                   }\n    }`\n</code></pre>\n<p>What could be the problem? please help.</p>\n<p>I put down the logs and looked at what I get at each step, but this did not help me understand the reason</p>\n"},{"tags":["java","hadoop","apache-flink","classpath","iceberg"],"owner":{"account_id":2938290,"reputation":1364,"user_id":3106795,"accept_rate":62,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653382,"creation_date":1688653382,"question_id":76629840,"body_markdown":"I have a basic application that tries to write some data into an Iceberg table using Flink:\r\n\r\n```java\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nStreamTableEnvironment tenv = StreamTableEnvironment.create(env);\r\nConfiguration hadoopConf = new Configuration();\r\ntenv.executeSql(&quot;CREATE CATALOG hive WITH (&#39;type&#39;=&#39;iceberg&#39;, &#39;catalog-type&#39;=&#39;hive&#39;)&quot;);\r\n```\r\n\r\n```\r\nflink run --detached --class org.example.App Test-1.0-SNAPSHOT.jar\r\njava.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration\r\n        at org.apache.iceberg.flink.FlinkCatalogFactory.clusterHadoopConf(FlinkCatalogFactory.java:211)\r\n        at org.apache.iceberg.flink.FlinkCatalogFactory.createCatalog(FlinkCatalogFactory.java:139)\r\n        at org.apache.flink.table.factories.FactoryUtil.createCatalog(FactoryUtil.java:406)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.createCatalog(TableEnvironmentImpl.java:1356)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeInternal(TableEnvironmentImpl.java:1111)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:701)\r\n        at org.example.App.main(App.java:36)\r\n\r\n```\r\n\r\nWhy can&#39;t it find `org/apache/hadoop/conf/Configuration`?\r\n\r\n1. My Hadoop classpath is set: `HADOOP_CLASSPATH=&#39;/etc/hadoop/conf:/usr/lib/hadoop/lib/*:/usr/lib/hadoop/.//*:/usr/lib/hadoop-hdfs/./:/usr/lib/hadoop-hdfs/lib/*:/usr/lib/hadoop-hdfs/.//*:/usr/lib/hadoop-mapreduce/.//*:/usr/lib/hadoop-yarn/./:/usr/lib/hadoop-yarn/lib/*:/usr/lib/hadoop-yarn/.//*&#39;` and the JAR is there: `/usr/lib/hadoop/hadoop-common-3.1.2.jar`\r\n\r\nIt&#39;s also on my dependency list:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nand shaded into my JAR and I see the .class file in the archive.\r\n\r\nFinally, I successfully instantiate it in literally the previous line!","title":"Iceberg Flink catalog factory cannot find org/apache/hadoop/conf/Configuration","body":"<p>I have a basic application that tries to write some data into an Iceberg table using Flink:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nStreamTableEnvironment tenv = StreamTableEnvironment.create(env);\nConfiguration hadoopConf = new Configuration();\ntenv.executeSql(&quot;CREATE CATALOG hive WITH ('type'='iceberg', 'catalog-type'='hive')&quot;);\n</code></pre>\n<pre><code>flink run --detached --class org.example.App Test-1.0-SNAPSHOT.jar\njava.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration\n        at org.apache.iceberg.flink.FlinkCatalogFactory.clusterHadoopConf(FlinkCatalogFactory.java:211)\n        at org.apache.iceberg.flink.FlinkCatalogFactory.createCatalog(FlinkCatalogFactory.java:139)\n        at org.apache.flink.table.factories.FactoryUtil.createCatalog(FactoryUtil.java:406)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.createCatalog(TableEnvironmentImpl.java:1356)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeInternal(TableEnvironmentImpl.java:1111)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:701)\n        at org.example.App.main(App.java:36)\n\n</code></pre>\n<p>Why can't it find <code>org/apache/hadoop/conf/Configuration</code>?</p>\n<ol>\n<li>My Hadoop classpath is set: <code>HADOOP_CLASSPATH='/etc/hadoop/conf:/usr/lib/hadoop/lib/*:/usr/lib/hadoop/.//*:/usr/lib/hadoop-hdfs/./:/usr/lib/hadoop-hdfs/lib/*:/usr/lib/hadoop-hdfs/.//*:/usr/lib/hadoop-mapreduce/.//*:/usr/lib/hadoop-yarn/./:/usr/lib/hadoop-yarn/lib/*:/usr/lib/hadoop-yarn/.//*'</code> and the JAR is there: <code>/usr/lib/hadoop/hadoop-common-3.1.2.jar</code></li>\n</ol>\n<p>It's also on my dependency list:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and shaded into my JAR and I see the .class file in the archive.</p>\n<p>Finally, I successfully instantiate it in literally the previous line!</p>\n"},{"tags":["java","kotlin","classpath"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1688628913,"post_id":76625892,"comment_id":135099826,"body_markdown":"Can you show us your `.gradle` files? Also: Please don&#39;t share any images here, copy it and use three \\` tags before and after your code/error message (without the backslash.)","body":"Can you show us your <code>.gradle</code> files? Also: Please don&#39;t share any images here, copy it and use three ` tags before and after your code/error message (without the backslash.)"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632536,"post_id":76625892,"comment_id":135100630,"body_markdown":"hello, you there?","body":"hello, you there?"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632581,"post_id":76625892,"comment_id":135100644,"body_markdown":"sir, I don&#39;r understand. How would share my gradle file unless i took any screenshot. please sir","body":"sir, I don&#39;r understand. How would share my gradle file unless i took any screenshot. please sir"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632656,"post_id":76625892,"comment_id":135100660,"body_markdown":"till three I am trying but didnt found any result. I am learning from free videos o you tbe but still didn&#39;t found solution","body":"till three I am trying but didnt found any result. I am learning from free videos o you tbe but still didn&#39;t found solution"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632797,"post_id":76625892,"comment_id":135100695,"body_markdown":"here is the gradle file","body":"here is the gradle file"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632802,"post_id":76625892,"comment_id":135100697,"body_markdown":"https://ibb.co/3p1wxLr","body":"<a href=\"https://ibb.co/3p1wxLr\" rel=\"nofollow noreferrer\">ibb.co/3p1wxLr</a>"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1688634130,"post_id":76625892,"comment_id":135100988,"body_markdown":"Can you provide your entire build.gradle files ? There should be two: one App and one Module, can you add the code from them in your question ?","body":"Can you provide your entire build.gradle files ? There should be two: one App and one Module, can you add the code from them in your question ?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1688634956,"post_id":76625892,"comment_id":135101184,"body_markdown":"Step by step tutorial on how to share a file in StackOverflow: 1. Navigate to `build.gradle`. 2. Copy the dependency part &amp; the repositories part. 3. Edit this post and paste both parts of the file content in your question surrounded by ````","body":"Step by step tutorial on how to share a file in StackOverflow: 1. Navigate to <code>build.gradle</code>. 2. Copy the dependency part &amp; the repositories part. 3. Edit this post and paste both parts of the file content in your question surrounded by ````"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688636316,"post_id":76625892,"comment_id":135101482,"body_markdown":"thank you so much sir. i think m problem solved but still not sure. But i hope. sir, can you suggest  e any good you tube channel tht would be helpful for me to learn.","body":"thank you so much sir. i think m problem solved but still not sure. But i hope. sir, can you suggest  e any good you tube channel tht would be helpful for me to learn."}],"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653239,"creation_date":1688622975,"question_id":76625892,"body_markdown":"I have installed the android studio but it is not working welly. it shows a classpath not identified issue and I cannot work on it. I have install and uninstall it several times but still it is not working. My laptop is old but 8gb ram. I have to work on this laptop.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XuGGn.png","title":"classpath issue happening on my android studio","body":"<p>I have installed the android studio but it is not working welly. it shows a classpath not identified issue and I cannot work on it. I have install and uninstall it several times but still it is not working. My laptop is old but 8gb ram. I have to work on this laptop.</p>\n<p><a href=\"https://i.stack.imgur.com/XuGGn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuGGn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688653173,"creation_date":1688653173,"answer_id":76629805,"question_id":76629690,"body_markdown":"As far as i see you can use string split to split the string and get the last &quot;column&quot; of the sourceKey contents:\r\n\r\n    var allIds = person.getPrsndtl()\r\n        .getItems()\r\n        .stream()\r\n        .map(item -&gt; item.getKey())\r\n        .map(key -&gt; key.getSourceKey())\r\n        .map(sourceKey -&gt; sourceKey.split(&quot;:&quot;)[2])\r\n        .toList();\r\n\r\nBut this only works if the format is really always the same. If not, then you need to write in safeguards","title":"How to iterate inner class item using stream","body":"<p>As far as i see you can use string split to split the string and get the last &quot;column&quot; of the sourceKey contents:</p>\n<pre><code>var allIds = person.getPrsndtl()\n    .getItems()\n    .stream()\n    .map(item -&gt; item.getKey())\n    .map(key -&gt; key.getSourceKey())\n    .map(sourceKey -&gt; sourceKey.split(&quot;:&quot;)[2])\n    .toList();\n</code></pre>\n<p>But this only works if the format is really always the same. If not, then you need to write in safeguards</p>\n"}],"owner":{"account_id":4859726,"reputation":283,"user_id":3919727,"display_name":"user3919727"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629805,"answer_count":1,"score":0,"last_activity_date":1688653173,"creation_date":1688652388,"question_id":76629690,"body_markdown":"I have below classes hierarchy. I am trying to print all the sourceKey.\r\n\r\nI was trying something like below (incomplete though)\r\n\r\n    System.out.println(person.prsndtl.items.stream().map(PrsnDtl.Item::toString));\r\n\r\nsourceKey values are something like below. \r\n\r\n    AAA:C:22\r\n    BBB:C:44\r\n\r\nI want to print only 22, 44 by iterating all items.\r\n\r\n\r\nHow do I iterate and print them, thanks in advance\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Person {\r\n    \r\n        @JsonProperty(&quot;MyPrsnDtl&quot;)\r\n        public PrsnDtl prsndtl;\r\n    \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class PrsnDtl {\r\n    \r\n        @JsonProperty(&quot;item&quot;)\r\n        @Getter\r\n        @Setter\r\n        public List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        public static final class Item {\r\n    \r\n            @JsonProperty(&quot;key&quot;)\r\n            public Key key;\r\n        }\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Key {\r\n        @JsonProperty(&quot;sourceKey&quot;)\r\n        public String sourceKey;\r\n    }\r\n\r\n","title":"How to iterate inner class item using stream","body":"<p>I have below classes hierarchy. I am trying to print all the sourceKey.</p>\n<p>I was trying something like below (incomplete though)</p>\n<pre><code>System.out.println(person.prsndtl.items.stream().map(PrsnDtl.Item::toString));\n</code></pre>\n<p>sourceKey values are something like below.</p>\n<pre><code>AAA:C:22\nBBB:C:44\n</code></pre>\n<p>I want to print only 22, 44 by iterating all items.</p>\n<p>How do I iterate and print them, thanks in advance</p>\n<pre><code>@Getter\n@Setter\n@ToString\npublic class Person {\n\n    @JsonProperty(&quot;MyPrsnDtl&quot;)\n    public PrsnDtl prsndtl;\n\n}\n\n@Getter\n@Setter\n@ToString\npublic class PrsnDtl {\n\n    @JsonProperty(&quot;item&quot;)\n    @Getter\n    @Setter\n    public List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n\n    @Getter\n    @Setter\n    @ToString\n    public static final class Item {\n\n        @JsonProperty(&quot;key&quot;)\n        public Key key;\n    }\n}\n\n@Getter\n@Setter\n@ToString\npublic class Key {\n    @JsonProperty(&quot;sourceKey&quot;)\n    public String sourceKey;\n}\n</code></pre>\n"},{"tags":["java","slack","slack-block-kit","bolt"],"comments":[{"owner":{"account_id":1374702,"reputation":131,"user_id":1308939,"display_name":"Vadym Nekhai"},"score":0,"creation_date":1688826961,"post_id":76629797,"comment_id":135127743,"body_markdown":"Looks like that was a bug on their side and they fixed it https://github.com/slackapi/java-slack-sdk/issues/1179","body":"Looks like that was a bug on their side and they fixed it <a href=\"https://github.com/slackapi/java-slack-sdk/issues/1179\" rel=\"nofollow noreferrer\">github.com/slackapi/java-slack-sdk/issues/1179</a>"}],"owner":{"account_id":28963642,"reputation":1,"user_id":22185613,"display_name":"Dario Niero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653119,"creation_date":1688653119,"question_id":76629797,"body_markdown":"I am trying to use bolt java library to integrate forward information in my app. I have some problems to access the right field in the object. \r\n\r\n\r\n\r\nFirst of all I fetch the message using Conversations.history (https://api.slack.com/methods/conversations.history)\r\nThen if the message has a forward in the json response there is a &quot;attachments&quot; field that contains a list of attachment. Now in the tester the json response has a &quot;message_blocks&quot; field, that is basically what I need because I need to parse one by one the blocks in the message object contained in the message_blocks field. The problem is that the &quot;message_blocks field is not present in the bolt Attachment class\r\nhttps://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html\r\nhttps://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java\r\n\r\nIt seems like that this field is not mapped\r\n\r\nI would really like to access that field or find another way to get the blocks information about the forwarded message.\r\n\r\nThank you in advance\r\n","title":"How to access forward information with bolt java library for slack","body":"<p>I am trying to use bolt java library to integrate forward information in my app. I have some problems to access the right field in the object.</p>\n<p>First of all I fetch the message using Conversations.history (<a href=\"https://api.slack.com/methods/conversations.history\" rel=\"nofollow noreferrer\">https://api.slack.com/methods/conversations.history</a>)\nThen if the message has a forward in the json response there is a &quot;attachments&quot; field that contains a list of attachment. Now in the tester the json response has a &quot;message_blocks&quot; field, that is basically what I need because I need to parse one by one the blocks in the message object contained in the message_blocks field. The problem is that the &quot;message_blocks field is not present in the bolt Attachment class\n<a href=\"https://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html</a>\n<a href=\"https://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java\" rel=\"nofollow noreferrer\">https://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java</a></p>\n<p>It seems like that this field is not mapped</p>\n<p>I would really like to access that field or find another way to get the blocks information about the forwarded message.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","exception","final","throwable","checked-exceptions"],"comments":[{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":1,"creation_date":1688652923,"post_id":76629675,"comment_id":135105293,"body_markdown":"That explanation is just bad. The `final` keyword has no direct impact on exceptions or throwing them. It simply means that you will get a compile error if you try to assign anything to `ex`, so the code before `throw ex` cannot do something like `ex = new WhateverException()`. Thus it guarantees that whatever is in `ex` is still the same at the end of the `catch` block, but that&#39;s it - if you omit the `final` and simply write code that doesn&#39;t assign `ex`, you will get identical behaviour. Also, `final` has nothing to do with the `finally` keyword if that&#39;s a reason for your confusion.","body":"That explanation is just bad. The <code>final</code> keyword has no direct impact on exceptions or throwing them. It simply means that you will get a compile error if you try to assign anything to <code>ex</code>, so the code before <code>throw ex</code> cannot do something like <code>ex = new WhateverException()</code>. Thus it guarantees that whatever is in <code>ex</code> is still the same at the end of the <code>catch</code> block, but that&#39;s it - if you omit the <code>final</code> and simply write code that doesn&#39;t assign <code>ex</code>, you will get identical behaviour. Also, <code>final</code> has nothing to do with the <code>finally</code> keyword if that&#39;s a reason for your confusion."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688653091,"creation_date":1688653091,"answer_id":76629791,"question_id":76629675,"body_markdown":"Imagine this code:\r\n\r\n    void m() throws IOException {\r\n      try {\r\n        throw new IOException();\r\n      } catch (Exception e) {\r\n        //do something when an exception is thrown...\r\n        throw e;\r\n      }\r\n    }\r\n\r\nIn Java 6, it did not compile and you had to add `Exception` to the method signature:\r\n\r\n    void m() throws IOException, Exception { ... }\r\n\r\nwhich can be replaced by \r\n\r\n    void m() throws Exception { ... }\r\n\r\nIn other words, if you wanted to catch all exceptions, the compiler forced you to change the method signature, although in this code it is clear that only `IOException` can be thrown.\r\n\r\nThe article you link to explains that, in Java 7, you can do a catch-all without changing the method signature.\r\n\r\nMore information in the &quot;Rethrowing Exceptions&quot; section of this article: https://www.oracle.com/technical-resources/articles/java/java7exceptions.html.\r\n\r\nps: the explanation around the `final` keyword is wrong, it makes no real difference in this example.","title":"Final rethrow in Java: Exception Handling","body":"<p>Imagine this code:</p>\n<pre><code>void m() throws IOException {\n  try {\n    throw new IOException();\n  } catch (Exception e) {\n    //do something when an exception is thrown...\n    throw e;\n  }\n}\n</code></pre>\n<p>In Java 6, it did not compile and you had to add <code>Exception</code> to the method signature:</p>\n<pre><code>void m() throws IOException, Exception { ... }\n</code></pre>\n<p>which can be replaced by</p>\n<pre><code>void m() throws Exception { ... }\n</code></pre>\n<p>In other words, if you wanted to catch all exceptions, the compiler forced you to change the method signature, although in this code it is clear that only <code>IOException</code> can be thrown.</p>\n<p>The article you link to explains that, in Java 7, you can do a catch-all without changing the method signature.</p>\n<p>More information in the &quot;Rethrowing Exceptions&quot; section of this article: <a href=\"https://www.oracle.com/technical-resources/articles/java/java7exceptions.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/java7exceptions.html</a>.</p>\n<p>ps: the explanation around the <code>final</code> keyword is wrong, it makes no real difference in this example.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76629791,"answer_count":1,"score":-1,"last_activity_date":1688653091,"creation_date":1688652278,"question_id":76629675,"body_markdown":"I was going through some Exception Handling concepts in Java and came across the concept of **final rethrow**. I read the following article-   \r\nhttps://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html  \r\nHere, its written-\r\n&gt;And the second improvement is a little more complicated. Imagine that you want to catch all exceptions, make several operations and then rethrow it. The code isn&#39;t hard to make, but the big problem is that you must add a throws clause to your method signature to manage the new exception launched by your code and this is not the objective. Now, you can do that without adding an exception throws clause :\r\n\r\n```try {\r\n     // some code\r\n} catch (final Throwable ex) {\r\n     // some more code\r\n    throw ex;\r\n}\r\n```\r\n&gt;Using the final keyword it allows you to throw an exception of the exact dynamic type that will be throwed. So if an IOException occurs, an IOException will be throwed. Of course, you have to declare the exceptions not caught. You throws clauses will exactly the same if you use the code (in //some code) without catching anything but now you can do something if that happens.  \r\n\r\nCan somebody please explain what exactly does this mean and what purpose does it solve?","title":"Final rethrow in Java: Exception Handling","body":"<p>I was going through some Exception Handling concepts in Java and came across the concept of <strong>final rethrow</strong>. I read the following article-<br />\n<a href=\"https://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html\" rel=\"nofollow noreferrer\">https://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html</a><br />\nHere, its written-</p>\n<blockquote>\n<p>And the second improvement is a little more complicated. Imagine that you want to catch all exceptions, make several operations and then rethrow it. The code isn't hard to make, but the big problem is that you must add a throws clause to your method signature to manage the new exception launched by your code and this is not the objective. Now, you can do that without adding an exception throws clause :</p>\n</blockquote>\n<pre><code>     // some code\n} catch (final Throwable ex) {\n     // some more code\n    throw ex;\n}\n</code></pre>\n<blockquote>\n<p>Using the final keyword it allows you to throw an exception of the exact dynamic type that will be throwed. So if an IOException occurs, an IOException will be throwed. Of course, you have to declare the exceptions not caught. You throws clauses will exactly the same if you use the code (in //some code) without catching anything but now you can do something if that happens.</p>\n</blockquote>\n<p>Can somebody please explain what exactly does this mean and what purpose does it solve?</p>\n"},{"tags":["java","performance","loops","recursion"],"comments":[{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":1,"creation_date":1688649230,"post_id":76629219,"comment_id":135104359,"body_markdown":"Every stack call brings some overhead, which is in the long run slower","body":"Every stack call brings some overhead, which is in the long run slower"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1688650185,"post_id":76629219,"comment_id":135104610,"body_markdown":"Nice to read: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"Nice to read: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1688650725,"post_id":76629219,"comment_id":135104741,"body_markdown":"Many, many issues here: [1] CPUs are incredibly complicated, &#39;why this faster than that&#39; requires about 500 pages of detail. This is not an appropriate question for SO, other than: CPUs aren&#39;t understandable at the level you think they are understandable at. They don&#39;t &#39;run one instruction per cycle&#39;, for example. [2] This isn&#39;t how you build a benchmark. CPUs are complicated. So are JVMs. You can&#39;t just time them like this. Use JMH - see jhamon&#39;s link. [3] For java _specifically_, recursion is slower than in other languages because java doesn&#39;t do tail call optimization (for good reasons).","body":"Many, many issues here: [1] CPUs are incredibly complicated, &#39;why this faster than that&#39; requires about 500 pages of detail. This is not an appropriate question for SO, other than: CPUs aren&#39;t understandable at the level you think they are understandable at. They don&#39;t &#39;run one instruction per cycle&#39;, for example. [2] This isn&#39;t how you build a benchmark. CPUs are complicated. So are JVMs. You can&#39;t just time them like this. Use JMH - see jhamon&#39;s link. [3] For java <i>specifically</i>, recursion is slower than in other languages because java doesn&#39;t do tail call optimization (for good reasons)."},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1688650925,"post_id":76629219,"comment_id":135104799,"body_markdown":"I tried with number=20 (the largest result that matches within a long). Placing the endtime before the println for a more accurate duration, I got few microseconds for both solutions. The iterative one usually slightly slower than the recursive solution but not 35 times as in your case.","body":"I tried with number=20 (the largest result that matches within a long). Placing the endtime before the println for a more accurate duration, I got few microseconds for both solutions. The iterative one usually slightly slower than the recursive solution but not 35 times as in your case."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1688651576,"post_id":76629219,"comment_id":135104968,"body_markdown":"@rzwitserloot In this case TCO wouldn&#39;t be possible anyway, since the call isn&#39;t in tail position. The multiplication is the last operation.","body":"@rzwitserloot In this case TCO wouldn&#39;t be possible anyway, since the call isn&#39;t in tail position. The multiplication is the last operation."}],"answers":[{"tags":[],"owner":{"account_id":18178272,"reputation":55,"user_id":13226583,"display_name":"Rishabh Kabra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688653087,"creation_date":1688653087,"answer_id":76629790,"question_id":76629219,"body_markdown":"**Short Answer:** An iteration does not use the stack so it&#39;s faster than recursion.\r\n\r\n**Description:** In recursion method get in memory every-time it is called. If an logic calls a method 90 times recursively then same method will get load into memory stack 90 times with repeated variables. Where loop/iteration get load into memory stack only once (when its method will get load) and most of variables will be reused.\r\n\r\nPlease refer: [is-recursion-ever-faster-than-looping][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2651112/is-recursion-ever-faster-than-looping","title":"Why is iteration faster than recursion in this java code","body":"<p><strong>Short Answer:</strong> An iteration does not use the stack so it's faster than recursion.</p>\n<p><strong>Description:</strong> In recursion method get in memory every-time it is called. If an logic calls a method 90 times recursively then same method will get load into memory stack 90 times with repeated variables. Where loop/iteration get load into memory stack only once (when its method will get load) and most of variables will be reused.</p>\n<p>Please refer: <a href=\"https://stackoverflow.com/questions/2651112/is-recursion-ever-faster-than-looping\">is-recursion-ever-faster-than-looping</a></p>\n"}],"owner":{"account_id":20650084,"reputation":2646,"user_id":15160601,"display_name":"zoldxk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688653087,"creation_date":1688649109,"question_id":76629219,"body_markdown":"I&#39;ve implemented two Java codes for calculating the factorial of a number, one using recursion and the other using iteration. The iterative code seems to be faster than the recursive code in terms of execution time. However, I&#39;m curious to understand why this performance difference occurs.\r\n\r\nRecursive Factorial Code:\r\n```\r\npublic class RecursiveFactorial {\r\n\r\n    public static long factorial(int n) {\r\n        if (n == 0) {\r\n            return 1;\r\n        } else {\r\n            return n * factorial(n - 1);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number = 5;\r\n\r\n        long startTime = System.nanoTime();\r\n\r\n        long result = factorial(number);\r\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\r\n\r\n        long endTime = System.nanoTime();\r\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\r\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\r\n    }\r\n}\r\n```\r\ntime: `0.0138802 seconds`\r\nIterative Factorial Code:\r\n```\r\npublic class IterativeFactorial {\r\n\r\n    public static long factorial(int n) {\r\n        long result = 1;\r\n\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            result *= i;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number = 5;\r\n\r\n        long startTime = System.nanoTime();\r\n\r\n        long result = factorial(number);\r\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\r\n\r\n        long endTime = System.nanoTime();\r\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\r\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\r\n    }\r\n}\r\n```\r\ntime: `0.0003859 seconds`\r\nI would appreciate if someone could shed light on the reasons behind the observed performance difference between the recursive and iterative implementations. Additionally, it would be interesting to see some random execution times for both codes to further illustrate the disparity.","title":"Why is iteration faster than recursion in this java code","body":"<p>I've implemented two Java codes for calculating the factorial of a number, one using recursion and the other using iteration. The iterative code seems to be faster than the recursive code in terms of execution time. However, I'm curious to understand why this performance difference occurs.</p>\n<p>Recursive Factorial Code:</p>\n<pre><code>public class RecursiveFactorial {\n\n    public static long factorial(int n) {\n        if (n == 0) {\n            return 1;\n        } else {\n            return n * factorial(n - 1);\n        }\n    }\n\n    public static void main(String[] args) {\n        int number = 5;\n\n        long startTime = System.nanoTime();\n\n        long result = factorial(number);\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\n\n        long endTime = System.nanoTime();\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\n    }\n}\n</code></pre>\n<p>time: <code>0.0138802 seconds</code>\nIterative Factorial Code:</p>\n<pre><code>public class IterativeFactorial {\n\n    public static long factorial(int n) {\n        long result = 1;\n\n        for (int i = 1; i &lt;= n; i++) {\n            result *= i;\n        }\n\n        return result;\n    }\n\n    public static void main(String[] args) {\n        int number = 5;\n\n        long startTime = System.nanoTime();\n\n        long result = factorial(number);\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\n\n        long endTime = System.nanoTime();\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\n    }\n}\n</code></pre>\n<p>time: <code>0.0003859 seconds</code>\nI would appreciate if someone could shed light on the reasons behind the observed performance difference between the recursive and iterative implementations. Additionally, it would be interesting to see some random execution times for both codes to further illustrate the disparity.</p>\n"},{"tags":["java","spring-boot","docker-compose","code-coverage","jacoco"],"comments":[{"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"score":0,"creation_date":1694027573,"post_id":76629786,"comment_id":135838881,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":7032035,"reputation":1,"user_id":5387367,"display_name":"Vipin"},"score":0,"creation_date":1695300975,"post_id":76629786,"comment_id":136008090,"body_markdown":"haven&#39;t found a better solution yet @max","body":"haven&#39;t found a better solution yet @max"}],"owner":{"account_id":7032035,"reputation":1,"user_id":5387367,"display_name":"Vipin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653066,"creation_date":1688653066,"question_id":76629786,"body_markdown":"I have a Spring boot application deployed using Docker compose, I need to generate and publish code coverage for my integration test (Running in Jenkins) using Jacoco and Sonarcube.\r\n\r\nBelow steps are working in my local\r\n\r\n- Added jacoco dependency and plugin in pom.xml &amp; started service using jacoco java agent \r\n- Run integration tests\r\n- Generate jacoco. exec file\r\n- Publish to sonarcube\r\n\r\n\r\n```\r\njava -javaagent:org.jacoco.agent-0.8.10-runtime.jar=output=tcpserver,address=* -jar target/service.jar\r\n\r\nmvn jacoco:dump -Djacoco.address=localhost\r\n\r\nmvn sonar:sonar -Dsonar.host.url=http://localhost:9000\r\n\r\n```\r\n\r\nThis solution wont work in the container without ssh into it. Is there a better way to achieve this ?\r\n\r\nI have also tried using https://hub.docker.com/r/ictu/jacoco-agent-docker, but above mentioned problem still exists in this case as well. ","title":"How to generate and publish code coverage for integration tests without ssh into docker container","body":"<p>I have a Spring boot application deployed using Docker compose, I need to generate and publish code coverage for my integration test (Running in Jenkins) using Jacoco and Sonarcube.</p>\n<p>Below steps are working in my local</p>\n<ul>\n<li>Added jacoco dependency and plugin in pom.xml &amp; started service using jacoco java agent</li>\n<li>Run integration tests</li>\n<li>Generate jacoco. exec file</li>\n<li>Publish to sonarcube</li>\n</ul>\n<pre><code>java -javaagent:org.jacoco.agent-0.8.10-runtime.jar=output=tcpserver,address=* -jar target/service.jar\n\nmvn jacoco:dump -Djacoco.address=localhost\n\nmvn sonar:sonar -Dsonar.host.url=http://localhost:9000\n\n</code></pre>\n<p>This solution wont work in the container without ssh into it. Is there a better way to achieve this ?</p>\n<p>I have also tried using <a href=\"https://hub.docker.com/r/ictu/jacoco-agent-docker\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/ictu/jacoco-agent-docker</a>, but above mentioned problem still exists in this case as well.</p>\n"},{"tags":["java","contentful","contentful-api"],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652993,"creation_date":1688652993,"question_id":76629776,"body_markdown":"I have some content types defined in a contentful space and I am trying to fetch some content I&#39;ve created.\r\n\r\nThese are the `contentTypes` I&#39;ve created:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Configuration&quot;,\r\n      &quot;description&quot;: &quot;configuration&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;pages&quot;,\r\n          &quot;name&quot;: &quot;Pages&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Link&quot;,\r\n            &quot;validations&quot;: [\r\n              {\r\n                &quot;linkContentType&quot;: [\r\n                  &quot;Page&quot;\r\n                ]\r\n              }\r\n            ],\r\n            &quot;linkType&quot;: &quot;Entry&quot;\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Page&quot;,\r\n      &quot;description&quot;: &quot;Page&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;title&quot;,\r\n          &quot;name&quot;: &quot;Title&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;shortTitle&quot;,\r\n          &quot;name&quot;: &quot;Short title&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;description&quot;,\r\n          &quot;name&quot;: &quot;Description&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;sections&quot;,\r\n          &quot;name&quot;: &quot;Sections&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Link&quot;,\r\n            &quot;validations&quot;: [\r\n              {\r\n                &quot;linkContentType&quot;: [\r\n                  &quot;Section&quot;\r\n                ]\r\n              }\r\n            ],\r\n            &quot;linkType&quot;: &quot;Entry&quot;\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Section&quot;,\r\n      &quot;description&quot;: &quot;section&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;provider&quot;,\r\n          &quot;name&quot;: &quot;Provider&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;in&quot;: [\r\n                &quot;1&quot;,\r\n                &quot;2&quot;,\r\n                &quot;3&quot;\r\n              ]\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;maxDisplayLimit&quot;,\r\n          &quot;name&quot;: &quot;Max display limit&quot;,\r\n          &quot;type&quot;: &quot;Integer&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;productList&quot;,\r\n          &quot;name&quot;: &quot;Product IDs&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: false,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;size&quot;: {\r\n                &quot;min&quot;: 1,\r\n                &quot;max&quot;: 50\r\n              }\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Symbol&quot;,\r\n            &quot;validations&quot;: []\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd my Java code to fetch them:\r\n\r\n    client = CDAClient.builder()\r\n                        .setSpace(space)\r\n                        .setEnvironment(environment)\r\n                        .setToken(accessToken)\r\n                        .build();\r\n    \r\n    client.observeAndTransform(Configuration.class)\r\n                    .withLocale(locale)\r\n                    .include(MAX_DEPTH)\r\n                    .all()\r\n                    .blockingFirst();\r\n\r\n\r\nand I&#39;ve modeled such `contentTypes` like:\r\n\r\n    @TransformQuery.ContentfulEntryModel(&quot;Configuration&quot;)\r\n    public record Configuration(@TransformQuery.ContentfulField String name,\r\n                                                      @TransformQuery.ContentfulField List&lt;Page&gt; pages) {\r\n    }\r\n    \r\n    @TransformQuery.ContentfulEntryModel(&quot;Page&quot;)\r\n    public record Page(@TransformQuery.ContentfulField String name,\r\n                                             @TransformQuery.ContentfulField String title,\r\n                                             @TransformQuery.ContentfulField String shortTitle,\r\n                                             @TransformQuery.ContentfulField String description,\r\n                                             @TransformQuery.ContentfulField List&lt;Section&gt; sections) {\r\n    }\r\n    \r\n    @TransformQuery.ContentfulEntryModel(&quot;Section&quot;)\r\n    public record Section(@TransformQuery.ContentfulField String name,\r\n                                                @TransformQuery.ContentfulField String provider,\r\n                                                @TransformQuery.ContentfulField Integer maxDisplayLimit,\r\n    @TransformQuery.ContentfulField List&lt;String&gt; productList) {\r\n\r\n}\r\n\r\nWhen the code reaches the `.observeAndTransform` method I always get:\r\n\r\n    Cannot create new instance of custom model\r\n\r\n\r\nI&#39;ve also tried to remove everything a part the name of the Configuration contentType. I&#39;ve also double-checked all the contentTypes ids and contentField ids to ensure the mapping was correct. Anyone has an idea?\r\n","title":"Contentful Delivery API - Cannot create new instance of custom model","body":"<p>I have some content types defined in a contentful space and I am trying to fetch some content I've created.</p>\n<p>These are the <code>contentTypes</code> I've created:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Configuration\",\n  \"description\": \"configuration\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"pages\",\n      \"name\": \"Pages\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Link\",\n        \"validations\": [\n          {\n            \"linkContentType\": [\n              \"Page\"\n            ]\n          }\n        ],\n        \"linkType\": \"Entry\"\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Page\",\n  \"description\": \"Page\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"title\",\n      \"name\": \"Title\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"shortTitle\",\n      \"name\": \"Short title\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"description\",\n      \"name\": \"Description\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"sections\",\n      \"name\": \"Sections\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Link\",\n        \"validations\": [\n          {\n            \"linkContentType\": [\n              \"Section\"\n            ]\n          }\n        ],\n        \"linkType\": \"Entry\"\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Section\",\n  \"description\": \"section\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"provider\",\n      \"name\": \"Provider\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"in\": [\n            \"1\",\n            \"2\",\n            \"3\"\n          ]\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"maxDisplayLimit\",\n      \"name\": \"Max display limit\",\n      \"type\": \"Integer\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"productList\",\n      \"name\": \"Product IDs\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": false,\n      \"validations\": [\n        {\n          \"size\": {\n            \"min\": 1,\n            \"max\": 50\n          }\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Symbol\",\n        \"validations\": []\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And my Java code to fetch them:</p>\n<pre><code>client = CDAClient.builder()\n                    .setSpace(space)\n                    .setEnvironment(environment)\n                    .setToken(accessToken)\n                    .build();\n\nclient.observeAndTransform(Configuration.class)\n                .withLocale(locale)\n                .include(MAX_DEPTH)\n                .all()\n                .blockingFirst();\n</code></pre>\n<p>and I've modeled such <code>contentTypes</code> like:</p>\n<pre><code>@TransformQuery.ContentfulEntryModel(&quot;Configuration&quot;)\npublic record Configuration(@TransformQuery.ContentfulField String name,\n                                                  @TransformQuery.ContentfulField List&lt;Page&gt; pages) {\n}\n\n@TransformQuery.ContentfulEntryModel(&quot;Page&quot;)\npublic record Page(@TransformQuery.ContentfulField String name,\n                                         @TransformQuery.ContentfulField String title,\n                                         @TransformQuery.ContentfulField String shortTitle,\n                                         @TransformQuery.ContentfulField String description,\n                                         @TransformQuery.ContentfulField List&lt;Section&gt; sections) {\n}\n\n@TransformQuery.ContentfulEntryModel(&quot;Section&quot;)\npublic record Section(@TransformQuery.ContentfulField String name,\n                                            @TransformQuery.ContentfulField String provider,\n                                            @TransformQuery.ContentfulField Integer maxDisplayLimit,\n@TransformQuery.ContentfulField List&lt;String&gt; productList) {\n</code></pre>\n<p>}</p>\n<p>When the code reaches the <code>.observeAndTransform</code> method I always get:</p>\n<pre><code>Cannot create new instance of custom model\n</code></pre>\n<p>I've also tried to remove everything a part the name of the Configuration contentType. I've also double-checked all the contentTypes ids and contentField ids to ensure the mapping was correct. Anyone has an idea?</p>\n"},{"tags":["java","spring","dependency-injection","autowired","in-class-initialization"],"answers":[{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1688652885,"creation_date":1447843101,"answer_id":33777789,"question_id":33776891,"body_markdown":"Assuming the value is a constant, the **first option** is the simplest to understand and works without Spring, simplifying unit testing. \r\n\r\nThe **second and fourth options** are more complex and introduce an unnecessary dependency on the Spring container without any benefit. \r\n\r\nThe **third option** is outright bizarre, since you&#39;re using `@Autowired` and not performing dependency injection.\r\n\r\n","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>Assuming the value is a constant, the <strong>first option</strong> is the simplest to understand and works without Spring, simplifying unit testing.</p>\n<p>The <strong>second and fourth options</strong> are more complex and introduce an unnecessary dependency on the Spring container without any benefit.</p>\n<p>The <strong>third option</strong> is outright bizarre, since you're using <code>@Autowired</code> and not performing dependency injection.</p>\n"},{"tags":[],"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572770400,"creation_date":1447845855,"answer_id":33778790,"question_id":33776891,"body_markdown":"I believe spring offers all those options because you might run into different requirements...  \r\n\r\n1. If you want `MAX_INT` and there&#39;s no way on earth anyone needs to initialize it differently, then it&#39;s enough to declare `int field = Integer.MAX_INT` regardless of Spring.  \r\n\r\n2. If you do want to allow other initial configurations, then you can initialize it using `@Autowired`, or through a constructor arg, or setter/getter... it&#39;s a matter of taste. \r\n\r\n3. `@PostConstruct` is more suitable for complex situations, e.g. if your field needs to be calculated based on other injected fields.","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>I believe spring offers all those options because you might run into different requirements...  </p>\n\n<ol>\n<li><p>If you want <code>MAX_INT</code> and there's no way on earth anyone needs to initialize it differently, then it's enough to declare <code>int field = Integer.MAX_INT</code> regardless of Spring.  </p></li>\n<li><p>If you do want to allow other initial configurations, then you can initialize it using <code>@Autowired</code>, or through a constructor arg, or setter/getter... it's a matter of taste. </p></li>\n<li><p><code>@PostConstruct</code> is more suitable for complex situations, e.g. if your field needs to be calculated based on other injected fields.</p></li>\n</ol>\n"}],"owner":{"account_id":5774113,"reputation":3086,"user_id":4556720,"accept_rate":96,"display_name":"ytterrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9781,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33777789,"answer_count":2,"score":8,"last_activity_date":1688652885,"creation_date":1447840769,"question_id":33776891,"body_markdown":"I&#39;m wondering how should I initialize fields in Spring Beans? Here is several possible solutions:\r\n\r\n**1. Initialize fields directly on declaration**\r\n\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class DeclarationInit {\r\n    \r\n        private final int field = Integer.MAX_VALUE;\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n**2. Initialize fields using `@Value` annotation**\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ValueInit {\r\n    \r\n        @Value(&quot;#{T(Integer).MAX_VALUE}&quot;)\r\n        private int field;\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n**3. Initialize fields using `@Autowired` annotation**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class AutowiredInit {\r\n    \r\n        private int field;\r\n    \r\n        @Autowired\r\n        private void initField() {\r\n            field = Integer.MAX_VALUE;\r\n        }\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n\r\n**4. Initialize fields using `@PostConstruct` annotation**\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class PostConstructInit {\r\n    \r\n        private int field;\r\n    \r\n        @PostConstruct\r\n        private void initField() {\r\n            field = Integer.MAX_VALUE;\r\n        }\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\nAll tests succeeds and do not show any difference:\r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.equalTo;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.SpringApplicationConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = SomeTestContextConfiguration.class)\r\n    public class FieldInitTest {\r\n\r\n        @Autowired\r\n        private DeclarationInit declarationInit;\r\n    \r\n        @Autowired\r\n        private ValueInit valueInit;\r\n    \r\n        @Autowired\r\n        private AutowiredInit autowiredInit;\r\n    \r\n        @Autowired\r\n        private PostConstructInit postConstructInit;\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldOnDeclaration() {\r\n            assertThat(declarationInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithValueAnnotation() {\r\n            assertThat(valueInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithAutowiredSetter() {\r\n            assertThat(autowiredInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithPostConstruct() {\r\n            assertThat(postConstructInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    }\r\n\r\nAre this declarations equal to each other or should I use only one of them or neither of them?","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>I'm wondering how should I initialize fields in Spring Beans? Here is several possible solutions:</p>\n\n<p><strong>1. Initialize fields directly on declaration</strong></p>\n\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class DeclarationInit {\n\n    private final int field = Integer.MAX_VALUE;\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>2. Initialize fields using <code>@Value</code> annotation</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ValueInit {\n\n    @Value(\"#{T(Integer).MAX_VALUE}\")\n    private int field;\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>3. Initialize fields using <code>@Autowired</code> annotation</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class AutowiredInit {\n\n    private int field;\n\n    @Autowired\n    private void initField() {\n        field = Integer.MAX_VALUE;\n    }\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>4. Initialize fields using <code>@PostConstruct</code> annotation</strong></p>\n\n<pre><code>import javax.annotation.PostConstruct;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PostConstructInit {\n\n    private int field;\n\n    @PostConstruct\n    private void initField() {\n        field = Integer.MAX_VALUE;\n    }\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p>All tests succeeds and do not show any difference:</p>\n\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.equalTo;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = SomeTestContextConfiguration.class)\npublic class FieldInitTest {\n\n    @Autowired\n    private DeclarationInit declarationInit;\n\n    @Autowired\n    private ValueInit valueInit;\n\n    @Autowired\n    private AutowiredInit autowiredInit;\n\n    @Autowired\n    private PostConstructInit postConstructInit;\n\n    @Test\n    public void shouldInitializeFieldOnDeclaration() {\n        assertThat(declarationInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithValueAnnotation() {\n        assertThat(valueInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithAutowiredSetter() {\n        assertThat(autowiredInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithPostConstruct() {\n        assertThat(postConstructInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n}\n</code></pre>\n\n<p>Are this declarations equal to each other or should I use only one of them or neither of them?</p>\n"},{"tags":["java","pdf","itext","digital-signature"],"comments":[{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":6,"creation_date":1540204944,"post_id":52927324,"comment_id":92764172,"body_markdown":"The whole idea of the digital signature is to verify that the PDF file has not been modified. Of course, if you append a different PDF to the signed one, this is a modification.","body":"The whole idea of the digital signature is to verify that the PDF file has not been modified. Of course, if you append a different PDF to the signed one, this is a modification."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540205200,"creation_date":1540205200,"answer_id":52927501,"question_id":52927324,"body_markdown":"It is not possible, this digital signing is especially designed to protect the original document from being modified in any way.\r\n\r\nTo have this two documents merged and signed, you&#39;d need to know the keys used for the signing and generate the signature once again for the new merged document.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>It is not possible, this digital signing is especially designed to protect the original document from being modified in any way.</p>\n\n<p>To have this two documents merged and signed, you'd need to know the keys used for the signing and generate the signature once again for the new merged document.</p>\n"},{"comments":[{"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"score":0,"creation_date":1540296652,"post_id":52928738,"comment_id":92805408,"body_markdown":"Its working but i am not able to order the attachments as per my requirement.@mkl","body":"Its working but i am not able to order the attachments as per my requirement.@mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1540298089,"post_id":52928738,"comment_id":92806266,"body_markdown":"[This answer](https://stackoverflow.com/a/50395576/1729265) shows how to create a sorted portable collection but it is for iText 7.","body":"<a href=\"https://stackoverflow.com/a/50395576/1729265\">This answer</a> shows how to create a sorted portable collection but it is for iText 7."},{"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"score":0,"creation_date":1540360137,"post_id":52928738,"comment_id":92830271,"body_markdown":"Hey is it posible to remove cover page or is it possible to get the pdf without cover page ?  If i remove the following code it gives error.   document.add(new Paragraph(&quot;Portable collection&quot;)); @mkl","body":"Hey is it posible to remove cover page or is it possible to get the pdf without cover page ?  If i remove the following code it gives error.   document.add(new Paragraph(&quot;Portable collection&quot;)); @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1540386695,"post_id":52928738,"comment_id":92846042,"body_markdown":"*&quot;is it posible to remove cover page or is it possible to get the pdf without cover page ?&quot;* - You need some content in the PDF like that cover page but it doesn&#39;t need to show: You can set the initial document to show using `PdfCollection.setInitialDocument(String)`.","body":"<i>&quot;is it posible to remove cover page or is it possible to get the pdf without cover page ?&quot;</i> - You need some content in the PDF like that cover page but it doesn&#39;t need to show: You can set the initial document to show using <code>PdfCollection.setInitialDocument(String)</code>."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1540386748,"post_id":52928738,"comment_id":92846069,"body_markdown":"*&quot;How to store the file in ByteArrayOutputStream instead of storing in Destination path&quot;* - By replacing `new FileOutputStream(dest)` by your `ByteArrayOutputStream` instance.","body":"<i>&quot;How to store the file in ByteArrayOutputStream instead of storing in Destination path&quot;</i> - By replacing <code>new FileOutputStream(dest)</code> by your <code>ByteArrayOutputStream</code> instance."},{"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"score":0,"creation_date":1590661403,"post_id":52928738,"comment_id":109766437,"body_markdown":"Is there any way to add unmodifiable metadatas to pdf ? I just want to protect the metadatas of pdf is it possible @mkl","body":"Is there any way to add unmodifiable metadatas to pdf ? I just want to protect the metadatas of pdf is it possible @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1590686305,"post_id":52928738,"comment_id":109781217,"body_markdown":"How should anything in a file be *unmodifiable*? The best you can achieve is having a way to check whether the metadata is original using digital signatures.","body":"How should anything in a file be <i>unmodifiable</i>? The best you can achieve is having a way to check whether the metadata is original using digital signatures."},{"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"score":0,"creation_date":1590736945,"post_id":52928738,"comment_id":109798485,"body_markdown":"I am sorry to ask here I am not able to ask questions in Stakeoverflow says out of limit. Will you please help me with this ? I want to add some info in pdf, want to use it in future, how can i make that info unmodifiable ? I can consider any approach @mkl","body":"I am sorry to ask here I am not able to ask questions in Stakeoverflow says out of limit. Will you please help me with this ? I want to add some info in pdf, want to use it in future, how can i make that info unmodifiable ? I can consider any approach @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1590750669,"post_id":52928738,"comment_id":109805496,"body_markdown":"As indicated above, I don&#39;t see how to make any file unmodifiable as such, so I can hardly help.","body":"As indicated above, I don&#39;t see how to make any file unmodifiable as such, so I can hardly help."},{"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"score":0,"creation_date":1597231230,"post_id":52928738,"comment_id":112063967,"body_markdown":"I have digital signature uploaded by users. Is it possible to get the properties of digital signature ? like expiry date, encryption type and other metadata&#39;s @mkl","body":"I have digital signature uploaded by users. Is it possible to get the properties of digital signature ? like expiry date, encryption type and other metadata&#39;s @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1597261828,"post_id":52928738,"comment_id":112078819,"body_markdown":"It should be possible to determine such properties. What have you tried so far? Please make this a question in its own right, not a mere series of contents. And in that question please explain in more detail which properties you mean.","body":"It should be possible to determine such properties. What have you tried so far? Please make this a question in its own right, not a mere series of contents. And in that question please explain in more detail which properties you mean."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1540289275,"creation_date":1540209258,"answer_id":52928738,"question_id":52927324,"body_markdown":"As others already have stated, the idea (at least a major part of the idea) behind signing is to make sure the document has not changed. Merging, on the other hand, does change the document. Thus, merging will break signatures.\n\nA different approach would be, though, to make the other, &quot;normal&quot; PDF a portable collection (a special kind of PDF with attachments) and attach the signed PDF to that collection.\n\nWhen opening the signed PDF from the collection, the signature will be as unharmed as in the original signed PDF.\n\n### Example code for creating a portable collection\n\nYou can find an example of portable collection creation on the iText site:\n\n    public static final String DEST = &quot;results/collections/portable_collection.pdf&quot;;\n    public static final String DATA = &quot;resources/data/united_states.csv&quot;;\n    public static final String HELLO = &quot;resources/pdfs/hello.pdf&quot;;\n    public static final String IMG = &quot;resources/images/berlin2013.jpg&quot;;\n\n    public void createPdf(String dest) throws IOException, DocumentException {\n        Document document = new Document();\n        PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(dest));\n        document.open();\n        document.add(new Paragraph(&quot;Portable collection&quot;));\n        PdfCollection collection = new PdfCollection(PdfCollection.TILE);\n        writer.setCollection(collection);\n        PdfFileSpecification fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, DATA, &quot;united_states.csv&quot;, null);\n        writer.addFileAttachment(&quot;united_states.csv&quot;, fileSpec);\n        fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, HELLO, &quot;hello.pdf&quot;, null);\n        writer.addFileAttachment(&quot;hello.pdf&quot;, fileSpec);\n        fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, IMG, &quot;berlin2013.jpg&quot;, null);\n        writer.addFileAttachment(&quot;berlin2013.jpg&quot;, fileSpec);\n        document.close();\n    }\n\n*([here][1] on the web site, [here][2] in their github)*\n\nA result of a run of that example is [here][3].\n\n(As you used the itext tag and not the itext7 tag, I assume you use an iText version 5.5.x.)\n\n  [1]: https://developers.itextpdf.com/examples/miscellaneous-itext5/portable-collections\n  [2]: https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/collections/PortableCollection.java\n  [3]: https://github.com/itext/i5js-sandbox/raw/master/cmpfiles/collections/cmp_portable_collection.pdf","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>As others already have stated, the idea (at least a major part of the idea) behind signing is to make sure the document has not changed. Merging, on the other hand, does change the document. Thus, merging will break signatures.</p>\n<p>A different approach would be, though, to make the other, &quot;normal&quot; PDF a portable collection (a special kind of PDF with attachments) and attach the signed PDF to that collection.</p>\n<p>When opening the signed PDF from the collection, the signature will be as unharmed as in the original signed PDF.</p>\n<h3>Example code for creating a portable collection</h3>\n<p>You can find an example of portable collection creation on the iText site:</p>\n<pre><code>public static final String DEST = &quot;results/collections/portable_collection.pdf&quot;;\npublic static final String DATA = &quot;resources/data/united_states.csv&quot;;\npublic static final String HELLO = &quot;resources/pdfs/hello.pdf&quot;;\npublic static final String IMG = &quot;resources/images/berlin2013.jpg&quot;;\n\npublic void createPdf(String dest) throws IOException, DocumentException {\n    Document document = new Document();\n    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(dest));\n    document.open();\n    document.add(new Paragraph(&quot;Portable collection&quot;));\n    PdfCollection collection = new PdfCollection(PdfCollection.TILE);\n    writer.setCollection(collection);\n    PdfFileSpecification fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, DATA, &quot;united_states.csv&quot;, null);\n    writer.addFileAttachment(&quot;united_states.csv&quot;, fileSpec);\n    fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, HELLO, &quot;hello.pdf&quot;, null);\n    writer.addFileAttachment(&quot;hello.pdf&quot;, fileSpec);\n    fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, IMG, &quot;berlin2013.jpg&quot;, null);\n    writer.addFileAttachment(&quot;berlin2013.jpg&quot;, fileSpec);\n    document.close();\n}\n</code></pre>\n<p><em>(<a href=\"https://developers.itextpdf.com/examples/miscellaneous-itext5/portable-collections\" rel=\"nofollow noreferrer\">here</a> on the web site, <a href=\"https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/collections/PortableCollection.java\" rel=\"nofollow noreferrer\">here</a> in their github)</em></p>\n<p>A result of a run of that example is <a href=\"https://github.com/itext/i5js-sandbox/raw/master/cmpfiles/collections/cmp_portable_collection.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>(As you used the itext tag and not the itext7 tag, I assume you use an iText version 5.5.x.)</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1610815091,"post_id":65744280,"comment_id":116253115,"body_markdown":"Obviously the printed pdf cannot have the original signature as valid signature (unless that &quot;printer&quot;merely copies).","body":"Obviously the printed pdf cannot have the original signature as valid signature (unless that &quot;printer&quot;merely copies)."}],"tags":[],"owner":{"account_id":792863,"reputation":53,"user_id":897184,"display_name":"FriskyKitty"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615855488,"creation_date":1610749178,"answer_id":65744280,"question_id":52927324,"body_markdown":"1. Open the signed pdf in Adobe. \r\n2. Open print dialogue (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;) \r\n3. Change the printer to &quot;Microsoft Print to PDF&quot; then print.\r\n4. The newly created PDF will have the signatures and will behave as a normal pdf for combine/merge activities.\r\n\r\n    [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dKPUh.png\r\n\r\n**Note**: This approach converts a  signed document to a standard pdf.  The result displays the signature information but the underlying digital signature is lost.  In my case the original signers understand the distinction. \r\n \r\nCreating a summary file is my goal.  I combine a variety of digitally signed, along with other related, documentation into a single summary pdf.  The original, digitally signed documents, are stored for future reference.  I am increasingly convinced that it is not possible to combine digitally signed documents into a single, summary pdf, while maintaining the underlying digital signatures.  \r\n\r\nUsers needing summary packets will benefit from my suggested approach.  Keep in mind that my my approach remains &quot;legally valid&quot; to the extent that the original digitally signed documents are available on demand.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<ol>\n<li><p>Open the signed pdf in Adobe.</p>\n</li>\n<li><p>Open print dialogue (<kbd>Ctrl</kbd>+<kbd>P</kbd>)</p>\n</li>\n<li><p>Change the printer to &quot;Microsoft Print to PDF&quot; then print.</p>\n</li>\n<li><p>The newly created PDF will have the signatures and will behave as a normal pdf for combine/merge activities.</p>\n<p><a href=\"https://i.stack.imgur.com/dKPUh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKPUh.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><strong>Note</strong>: This approach converts a  signed document to a standard pdf.  The result displays the signature information but the underlying digital signature is lost.  In my case the original signers understand the distinction.</p>\n<p>Creating a summary file is my goal.  I combine a variety of digitally signed, along with other related, documentation into a single summary pdf.  The original, digitally signed documents, are stored for future reference.  I am increasingly convinced that it is not possible to combine digitally signed documents into a single, summary pdf, while maintaining the underlying digital signatures.</p>\n<p>Users needing summary packets will benefit from my suggested approach.  Keep in mind that my my approach remains &quot;legally valid&quot; to the extent that the original digitally signed documents are available on demand.</p>\n"}],"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22956,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52928738,"answer_count":3,"score":0,"last_activity_date":1688652867,"creation_date":1540204620,"question_id":52927324,"body_markdown":"Is it possible to attach a digitally signed PDF document to another normal PDF using the Java iText API? I have attempted to merge the PDFs, but the resulting output PDF does not retain the digital signature. I would like to know if it is indeed possible to preserve the digital signature in the final PDF file.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>Is it possible to attach a digitally signed PDF document to another normal PDF using the Java iText API? I have attempted to merge the PDFs, but the resulting output PDF does not retain the digital signature. I would like to know if it is indeed possible to preserve the digital signature in the final PDF file.</p>\n"},{"tags":["java","jsqlparser"],"owner":{"account_id":3402694,"reputation":11,"user_id":2854511,"display_name":"user2854511"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652195,"creation_date":1688550388,"question_id":76619118,"body_markdown":"I talk about method `net.sf.jsqlparser.parser.CCJSqlParserUtil#parseStatement`.  \r\nBody of it method in library version 4.1 :\r\n\r\n```\r\ntry {\r\n    return parser.Statements();\r\n} catch (Exception var2) {\r\n    throw new JSQLParserException(var2);\r\n}\r\n```\r\nBody of it method in library version 4.5 :\r\n\r\n```\r\nStatements statements = null;\r\ntry {\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    Future&lt;Statements&gt; future = executorService.submit(new Callable&lt;Statements&gt;() {\r\n        @Override\r\n        public Statements call() throws Exception {\r\n            return parser.Statements();\r\n        }\r\n    });\r\n    executorService.shutdown();\r\n\r\n    statements = future.get( parser.getConfiguration().getAsInteger(Feature.timeOut) , TimeUnit.MILLISECONDS);\r\n} catch (TimeoutException ex) {\r\n    parser.interrupted = true;\r\n    throw new JSQLParserException(&quot;Time out occurred.&quot;, ex);\r\n} catch (Exception ex) {\r\n    throw new JSQLParserException(ex);\r\n}\r\nreturn statements;\r\n```\r\nAs we can see parseStatement method creates temporary thread every time when parse statement. Therefore our highloaded application perfomance goes down then application is restarted.\r\n\r\nCan sqlparser 4.5 library be configured to parse statement in the invokation thread (i.e. not create extra thread) ? ","title":"jsqlparser 4.5 library creates new temporary thread every time when parse statement","body":"<p>I talk about method <code>net.sf.jsqlparser.parser.CCJSqlParserUtil#parseStatement</code>.<br />\nBody of it method in library version 4.1 :</p>\n<pre><code>try {\n    return parser.Statements();\n} catch (Exception var2) {\n    throw new JSQLParserException(var2);\n}\n</code></pre>\n<p>Body of it method in library version 4.5 :</p>\n<pre><code>Statements statements = null;\ntry {\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    Future&lt;Statements&gt; future = executorService.submit(new Callable&lt;Statements&gt;() {\n        @Override\n        public Statements call() throws Exception {\n            return parser.Statements();\n        }\n    });\n    executorService.shutdown();\n\n    statements = future.get( parser.getConfiguration().getAsInteger(Feature.timeOut) , TimeUnit.MILLISECONDS);\n} catch (TimeoutException ex) {\n    parser.interrupted = true;\n    throw new JSQLParserException(&quot;Time out occurred.&quot;, ex);\n} catch (Exception ex) {\n    throw new JSQLParserException(ex);\n}\nreturn statements;\n</code></pre>\n<p>As we can see parseStatement method creates temporary thread every time when parse statement. Therefore our highloaded application perfomance goes down then application is restarted.</p>\n<p>Can sqlparser 4.5 library be configured to parse statement in the invokation thread (i.e. not create extra thread) ?</p>\n"},{"tags":["java","rest","maven","spring-jersey"],"owner":{"account_id":21599859,"reputation":1,"user_id":15928202,"display_name":"pooja inamdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652189,"creation_date":1688652141,"question_id":76629658,"body_markdown":"Below is my pom.xml file\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.telusko&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demorest&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demorest&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;demorest&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n`your text`\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt; --&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.1.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmaven build is seen success, but when I start my tomcat server I face this issue\r\n\r\n**java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\r\n**\r\n\r\nPlease anyone can guide which jar file is missing?\r\nThanks in advance\r\n\r\n\r\n\r\n\r\nI tried adding the jar files but it shows error java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\r\n\r\nPlease anyone can guide me which jar file I am missing \r\nI referrred https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar for adding my missing jar but no luck!!!!","title":"Error faced in creating REST API project using Jersey implementation","body":"<p>Below is my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.telusko&lt;/groupId&gt;\n    &lt;artifactId&gt;demorest&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demorest&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;demorest&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n`your text`\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n  &lt;version&gt;3.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; --&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.1.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>maven build is seen success, but when I start my tomcat server I face this issue</p>\n<p>**java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\n**</p>\n<p>Please anyone can guide which jar file is missing?\nThanks in advance</p>\n<p>I tried adding the jar files but it shows error java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)</p>\n<p>Please anyone can guide me which jar file I am missing\nI referrred <a href=\"https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar</a> for adding my missing jar but no luck!!!!</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1681544427,"post_id":76020696,"comment_id":134076376,"body_markdown":"What version of Gradle do you use? Note that Spring Boot requires Java 17 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes) and to run Gradle with Java 17 you need at least Gradle version 7.3 (https://docs.gradle.org/current/userguide/compatibility.html)","body":"What version of Gradle do you use? Note that Spring Boot requires Java 17 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>) and to run Gradle with Java 17 you need at least Gradle version 7.3 (<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>)"},{"owner":{"account_id":4028629,"reputation":13,"user_id":3315728,"display_name":"sritej_kr"},"score":0,"creation_date":1681549455,"post_id":76020696,"comment_id":134076921,"body_markdown":"I am using gradle 7.5.1.","body":"I am using gradle 7.5.1."}],"answers":[{"tags":[],"owner":{"account_id":18928145,"reputation":41,"user_id":13810798,"display_name":"Vu Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688651579,"creation_date":1688651579,"answer_id":76629584,"question_id":76020696,"body_markdown":"I updated the gradle wrapper version to 7.6. It fix my problem\r\n\r\nThere is a post from Noah Hsu:\r\nhttps://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00","title":"On resolving build.gradle file with org.springframework.boot plugin, PermittedSubclasses requires ASM9 error shown","body":"<p>I updated the gradle wrapper version to 7.6. It fix my problem</p>\n<p>There is a post from Noah Hsu:\n<a href=\"https://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00\" rel=\"nofollow noreferrer\">https://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00</a></p>\n"}],"owner":{"account_id":4028629,"reputation":13,"user_id":3315728,"display_name":"sritej_kr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688651579,"creation_date":1681539900,"question_id":76020696,"body_markdown":"build.gradle file.\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n```\r\n\r\nOn attempting to build the gradle build in IntelliJ Idea, below error message displayed.\r\n\r\n&gt; PermittedSubclasses requires ASM9\r\n\r\n&gt; A problem occurred configuring root project &#39;cucumber-spring-boot-example&#39;.\r\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file /Users/sritejkurapati/.gradle/caches/jars-9/50be9eebfc8073d47d23166e55741b83/spring-core-6.0.7.jar.\r\n&gt; * Try:\r\n&gt; Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nTried deleting .gradle cache files and jar files but still error shown.","title":"On resolving build.gradle file with org.springframework.boot plugin, PermittedSubclasses requires ASM9 error shown","body":"<p>build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n</code></pre>\n<p>On attempting to build the gradle build in IntelliJ Idea, below error message displayed.</p>\n<blockquote>\n<p>PermittedSubclasses requires ASM9</p>\n</blockquote>\n<blockquote>\n<p>A problem occurred configuring root project 'cucumber-spring-boot-example'.\njava.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file /Users/sritejkurapati/.gradle/caches/jars-9/50be9eebfc8073d47d23166e55741b83/spring-core-6.0.7.jar.</p>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n</blockquote>\n<p>Tried deleting .gradle cache files and jar files but still error shown.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688544783,"post_id":76618280,"comment_id":135085929,"body_markdown":"Are you sure that you can use values from datatype String?","body":"Are you sure that you can use values from datatype String?"}],"answers":[{"comments":[{"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"score":0,"creation_date":1688629661,"post_id":76623532,"comment_id":135100007,"body_markdown":"This would work, but if the expression is longer it will be complicated. Actual expression to evaluate is calc(if(sp==&quot;PN16 RF&quot;,250*2,if(sp==&quot;PN40 RF&quot;,250*2,if(sp==&quot;ANSI B16.5 CLASS150 RF&quot;,260*3,265*4))),sp:$.tbl05FlangeMasterSuction.specification)","body":"This would work, but if the expression is longer it will be complicated. Actual expression to evaluate is calc(if(sp==&quot;PN16 RF&quot;,250*2,if(sp==&quot;PN40 RF&quot;,250*2,if(sp==&quot;ANSI B16.5 CLASS150 RF&quot;,260*3,265*4))),sp:$.tbl05FlangeMasterSuction.specificati&zwnj;&#8203;on)"},{"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"score":0,"creation_date":1688629794,"post_id":76623532,"comment_id":135100040,"body_markdown":"Another way to evaluate is to remove calc function in the start. Like if($.tbl05FlangeMasterSuction.specification==&quot;PN16 RF&quot;,calc(250*2),if($.tbl05FlangeMasterSuction.specification==&quot;PN40 RF&quot;,calc(250*2),if($.tbl05FlangeMasterSuction.specification==&quot;ANSI B16.5 CLASS150 RF&quot;,calc(260*3),calc(265*4)))). But here I have to define $.tbl05FlangeMasterSuction.specification every time in expression. In the calc function We abbreviated sp: $.tbl05FlangeMasterSuction.specification and used &quot;sp&quot; short everywhere. This would shorten the expression string. @Raymond Choi your comments please","body":"Another way to evaluate is to remove calc function in the start. Like if($.tbl05FlangeMasterSuction.specification==&quot;PN16 RF&quot;,calc(250*2),if($.tbl05FlangeMasterSuction.specification=&zwnj;&#8203;=&quot;PN40 RF&quot;,calc(250*2),if($.tbl05FlangeMasterSuction.specification=&zwnj;&#8203;=&quot;ANSI B16.5 CLASS150 RF&quot;,calc(260*3),calc(265*4)))). But here I have to define $.tbl05FlangeMasterSuction.specification every time in expression. In the calc function We abbreviated sp: $.tbl05FlangeMasterSuction.specification and used &quot;sp&quot; short everywhere. This would shorten the expression string. @Raymond Choi your comments please"}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688651409,"creation_date":1688585641,"answer_id":76623532,"question_id":76618280,"body_markdown":"Inside function `calc()`, the first argument uses _MathParser.org-mXparser_ library expression syntax. Maybe that is the reason of not supporting __String__.\r\n\r\nPlease try the following expression instead. It selects the desired value before pass into the _MathParser.org-mXparser_ expression. \r\n\r\n    calc(sp*2, sp:$.data.flange.if([specification=&#39;PN16&#39;],350,400))\r\n\r\nFor multiple conditions, you can use function `caseValue()`.\r\n\r\n    data.flange.specification.caseValue(\r\n        &#39;PN16 RF&#39;, calc(250*2),\r\n        &#39;PN40 RF&#39;, calc(250*2),\r\n        &#39;ANSI B16.5 CLASS150 RF&#39;, calc(260*3),\r\n        calc(265*4)\r\n    )","title":"Not able to Calculate JSON expression with String datatype","body":"<p>Inside function <code>calc()</code>, the first argument uses <em>MathParser.org-mXparser</em> library expression syntax. Maybe that is the reason of not supporting <strong>String</strong>.</p>\n<p>Please try the following expression instead. It selects the desired value before pass into the <em>MathParser.org-mXparser</em> expression.</p>\n<pre><code>calc(sp*2, sp:$.data.flange.if([specification='PN16'],350,400))\n</code></pre>\n<p>For multiple conditions, you can use function <code>caseValue()</code>.</p>\n<pre><code>data.flange.specification.caseValue(\n    'PN16 RF', calc(250*2),\n    'PN40 RF', calc(250*2),\n    'ANSI B16.5 CLASS150 RF', calc(260*3),\n    calc(265*4)\n)\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623532,"answer_count":1,"score":0,"last_activity_date":1688651409,"creation_date":1688544448,"question_id":76618280,"body_markdown":"We are using https://github.com/octomix/josson library\r\n\r\nJSON\r\n```\r\n{\r\n  &quot;pressureStage&quot;:1,\r\n  &quot;data&quot;:{\r\n    &quot;flange&quot;:{\r\n      &quot;specification&quot;:&quot;PN 16&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nJAVA Code\r\n```\r\nString a = &quot;{\\&quot;pressureStage\\&quot;:1,\\&quot;data\\&quot;:{\\&quot;flange\\&quot;:{\\&quot;specification\\&quot;:\\&quot;PN16\\&quot;}}}&quot;;\r\nJosson josson = Josson.fromJsonString(a);\r\nString expression3 = &quot;calc(if(sp==\\&quot;PN16\\&quot;,350*2,400*2),sp:$.data.flange.specification)&quot;;\r\nSystem.out.println(josson.getNode(expression3));\r\n```\r\n\r\nGives Exception\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call calc() : Calc syntax error.\r\n\tat com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\r\n\tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\r\n\tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\r\n\tat com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\r\n\tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\r\n\tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\r\n\tat com.octomix.josson.Josson.getNode(Josson.java:279)\r\n\tat com.octomix.josson.Josson.getString(Josson.java:535)\r\n\tat com.velotech.pumpselection.velotech.expressionCheck.main(expressionCheck.java:25)\r\n```\r\n\r\nThis code work when the datatype of specification is **numeric**, but gives error when datatype is **String**\r\n\r\nRegards,\r\nPranav","title":"Not able to Calculate JSON expression with String datatype","body":"<p>We are using <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a> library</p>\n<p>JSON</p>\n<pre><code>{\n  &quot;pressureStage&quot;:1,\n  &quot;data&quot;:{\n    &quot;flange&quot;:{\n      &quot;specification&quot;:&quot;PN 16&quot;\n    }\n  }\n}\n</code></pre>\n<p>JAVA Code</p>\n<pre><code>String a = &quot;{\\&quot;pressureStage\\&quot;:1,\\&quot;data\\&quot;:{\\&quot;flange\\&quot;:{\\&quot;specification\\&quot;:\\&quot;PN16\\&quot;}}}&quot;;\nJosson josson = Josson.fromJsonString(a);\nString expression3 = &quot;calc(if(sp==\\&quot;PN16\\&quot;,350*2,400*2),sp:$.data.flange.specification)&quot;;\nSystem.out.println(josson.getNode(expression3));\n</code></pre>\n<p>Gives Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call calc() : Calc syntax error.\n    at com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\n    at com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\n    at com.octomix.josson.Josson.getNode(Josson.java:279)\n    at com.octomix.josson.Josson.getString(Josson.java:535)\n    at com.velotech.pumpselection.velotech.expressionCheck.main(expressionCheck.java:25)\n</code></pre>\n<p>This code work when the datatype of specification is <strong>numeric</strong>, but gives error when datatype is <strong>String</strong></p>\n<p>Regards,\nPranav</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7842,"page":326,"page_size":100}
